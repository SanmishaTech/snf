const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SNFLandingPage-DOw8YXZH.js","assets/Footer-CKsnM9Kq.js","assets/ProductGrid-L0LjbXx5.js","assets/ProductCard-lzh9voFS.js","assets/SNFProductDetailWrapper-B0cQLJZ3.js","assets/useProducts-OZxi_1KD.js","assets/SNFWrapper-ChTqldrA.js","assets/SNFCheckoutWrapper-f1WSSlgV.js","assets/AddressSelector-DpA_FE9F.js","assets/SNFBuyNowWrapper-Bf3z1UPK.js","assets/SNFCartDebugWrapper-jtYtCTNs.js","assets/SNFAddressWrapper-CHbE8JTR.js","assets/SNFCategoryPageWrapper-0HlCTbpS.js"])))=>i.map(i=>d[i]);
var fK=Object.defineProperty;var MO=e=>{throw TypeError(e)};var hK=(e,t,r)=>t in e?fK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ut=(e,t,r)=>hK(e,typeof t!="symbol"?t+"":t,r),q2=(e,t,r)=>t.has(e)||MO("Cannot "+r);var _e=(e,t,r)=>(q2(e,t,"read from private field"),r?r.call(e):t.get(e)),dr=(e,t,r)=>t.has(e)?MO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ht=(e,t,r,n)=>(q2(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Or=(e,t,r)=>(q2(e,t,"access private method"),r);var hb=(e,t,r,n)=>({set _(a){Ht(e,t,a,r)},get _(){return _e(e,t,n)}});function mK(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Aw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z2={exports:{}},Ax={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO;function pK(){if(IO)return Ax;IO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:o,ref:a!==void 0?a:null,props:i}}return Ax.Fragment=t,Ax.jsx=r,Ax.jsxs=r,Ax}var FO;function xK(){return FO||(FO=1,z2.exports=pK()),z2.exports}var s=xK(),H2={exports:{}},Tr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO;function gK(){if(LO)return Tr;LO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=p&&W[p]||W["@@iterator"],typeof W=="function"?W:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function N(W,Y,F){this.props=W,this.context=Y,this.refs=v,this.updater=F||y}N.prototype.isReactComponent={},N.prototype.setState=function(W,Y){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Y,"setState")},N.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function j(){}j.prototype=N.prototype;function A(W,Y,F){this.props=W,this.context=Y,this.refs=v,this.updater=F||y}var E=A.prototype=new j;E.constructor=A,w(E,N.prototype),E.isPureReactComponent=!0;var S=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function T(W,Y,F,z,K,V){return F=V.ref,{$$typeof:e,type:W,key:Y,ref:F!==void 0?F:null,props:V}}function O(W,Y){return T(W.type,Y,void 0,void 0,void 0,W.props)}function P(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function I(W){var Y={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(F){return Y[F]})}var M=/\/+/g;function q(W,Y){return typeof W=="object"&&W!==null&&W.key!=null?I(""+W.key):Y.toString(36)}function U(){}function re(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(U,U):(W.status="pending",W.then(function(Y){W.status==="pending"&&(W.status="fulfilled",W.value=Y)},function(Y){W.status==="pending"&&(W.status="rejected",W.reason=Y)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function te(W,Y,F,z,K){var V=typeof W;(V==="undefined"||V==="boolean")&&(W=null);var ae=!1;if(W===null)ae=!0;else switch(V){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(W.$$typeof){case e:case t:ae=!0;break;case h:return ae=W._init,te(ae(W._payload),Y,F,z,K)}}if(ae)return K=K(W),ae=z===""?"."+q(W,0):z,S(K)?(F="",ae!=null&&(F=ae.replace(M,"$&/")+"/"),te(K,Y,F,"",function(Z){return Z})):K!=null&&(P(K)&&(K=O(K,F+(K.key==null||W&&W.key===K.key?"":(""+K.key).replace(M,"$&/")+"/")+ae)),Y.push(K)),1;ae=0;var Q=z===""?".":z+":";if(S(W))for(var se=0;se<W.length;se++)z=W[se],V=Q+q(z,se),ae+=te(z,Y,F,V,K);else if(se=g(W),typeof se=="function")for(W=se.call(W),se=0;!(z=W.next()).done;)z=z.value,V=Q+q(z,se++),ae+=te(z,Y,F,V,K);else if(V==="object"){if(typeof W.then=="function")return te(re(W),Y,F,z,K);throw Y=String(W),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ae}function B(W,Y,F){if(W==null)return W;var z=[],K=0;return te(W,z,"","",function(V){return Y.call(F,V,K++)}),z}function H(W){if(W._status===-1){var Y=W._result;Y=Y(),Y.then(function(F){(W._status===0||W._status===-1)&&(W._status=1,W._result=F)},function(F){(W._status===0||W._status===-1)&&(W._status=2,W._result=F)}),W._status===-1&&(W._status=0,W._result=Y)}if(W._status===1)return W._result.default;throw W._result}var R=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function X(){}return Tr.Children={map:B,forEach:function(W,Y,F){B(W,function(){Y.apply(this,arguments)},F)},count:function(W){var Y=0;return B(W,function(){Y++}),Y},toArray:function(W){return B(W,function(Y){return Y})||[]},only:function(W){if(!P(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Tr.Component=N,Tr.Fragment=r,Tr.Profiler=a,Tr.PureComponent=A,Tr.StrictMode=n,Tr.Suspense=d,Tr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,Tr.__COMPILER_RUNTIME={__proto__:null,c:function(W){return _.H.useMemoCache(W)}},Tr.cache=function(W){return function(){return W.apply(null,arguments)}},Tr.cloneElement=function(W,Y,F){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var z=w({},W.props),K=W.key,V=void 0;if(Y!=null)for(ae in Y.ref!==void 0&&(V=void 0),Y.key!==void 0&&(K=""+Y.key),Y)!k.call(Y,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Y.ref===void 0||(z[ae]=Y[ae]);var ae=arguments.length-2;if(ae===1)z.children=F;else if(1<ae){for(var Q=Array(ae),se=0;se<ae;se++)Q[se]=arguments[se+2];z.children=Q}return T(W.type,K,void 0,void 0,V,z)},Tr.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:i,_context:W},W},Tr.createElement=function(W,Y,F){var z,K={},V=null;if(Y!=null)for(z in Y.key!==void 0&&(V=""+Y.key),Y)k.call(Y,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(K[z]=Y[z]);var ae=arguments.length-2;if(ae===1)K.children=F;else if(1<ae){for(var Q=Array(ae),se=0;se<ae;se++)Q[se]=arguments[se+2];K.children=Q}if(W&&W.defaultProps)for(z in ae=W.defaultProps,ae)K[z]===void 0&&(K[z]=ae[z]);return T(W,V,void 0,void 0,null,K)},Tr.createRef=function(){return{current:null}},Tr.forwardRef=function(W){return{$$typeof:l,render:W}},Tr.isValidElement=P,Tr.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:H}},Tr.memo=function(W,Y){return{$$typeof:u,type:W,compare:Y===void 0?null:Y}},Tr.startTransition=function(W){var Y=_.T,F={};_.T=F;try{var z=W(),K=_.S;K!==null&&K(F,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(X,R)}catch(V){R(V)}finally{_.T=Y}},Tr.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},Tr.use=function(W){return _.H.use(W)},Tr.useActionState=function(W,Y,F){return _.H.useActionState(W,Y,F)},Tr.useCallback=function(W,Y){return _.H.useCallback(W,Y)},Tr.useContext=function(W){return _.H.useContext(W)},Tr.useDebugValue=function(){},Tr.useDeferredValue=function(W,Y){return _.H.useDeferredValue(W,Y)},Tr.useEffect=function(W,Y,F){var z=_.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(W,Y)},Tr.useId=function(){return _.H.useId()},Tr.useImperativeHandle=function(W,Y,F){return _.H.useImperativeHandle(W,Y,F)},Tr.useInsertionEffect=function(W,Y){return _.H.useInsertionEffect(W,Y)},Tr.useLayoutEffect=function(W,Y){return _.H.useLayoutEffect(W,Y)},Tr.useMemo=function(W,Y){return _.H.useMemo(W,Y)},Tr.useOptimistic=function(W,Y){return _.H.useOptimistic(W,Y)},Tr.useReducer=function(W,Y,F){return _.H.useReducer(W,Y,F)},Tr.useRef=function(W){return _.H.useRef(W)},Tr.useState=function(W){return _.H.useState(W)},Tr.useSyncExternalStore=function(W,Y,F){return _.H.useSyncExternalStore(W,Y,F)},Tr.useTransition=function(){return _.H.useTransition()},Tr.version="19.1.0",Tr}var BO;function Cw(){return BO||(BO=1,H2.exports=gK()),H2.exports}var m=Cw();const je=Aw(m),Tw=mK({__proto__:null,default:je},[m]);var W2={exports:{}},Cx={},G2={exports:{}},Y2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $O;function yK(){return $O||($O=1,function(e){function t(B,H){var R=B.length;B.push(H);e:for(;0<R;){var X=R-1>>>1,W=B[X];if(0<a(W,H))B[X]=H,B[R]=W,R=X;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var H=B[0],R=B.pop();if(R!==H){B[0]=R;e:for(var X=0,W=B.length,Y=W>>>1;X<Y;){var F=2*(X+1)-1,z=B[F],K=F+1,V=B[K];if(0>a(z,R))K<W&&0>a(V,z)?(B[X]=V,B[K]=R,X=K):(B[X]=z,B[F]=R,X=F);else if(K<W&&0>a(V,R))B[X]=V,B[K]=R,X=K;else break e}}return H}function a(B,H){var R=B.sortIndex-H.sortIndex;return R!==0?R:B.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],u=[],h=1,p=null,g=3,y=!1,w=!1,v=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function S(B){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=B)n(u),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(u)}}function _(B){if(v=!1,S(B),!w)if(r(d)!==null)w=!0,k||(k=!0,q());else{var H=r(u);H!==null&&te(_,H.startTime-B)}}var k=!1,T=-1,O=5,P=-1;function I(){return N?!0:!(e.unstable_now()-P<O)}function M(){if(N=!1,k){var B=e.unstable_now();P=B;var H=!0;try{e:{w=!1,v&&(v=!1,A(T),T=-1),y=!0;var R=g;try{t:{for(S(B),p=r(d);p!==null&&!(p.expirationTime>B&&I());){var X=p.callback;if(typeof X=="function"){p.callback=null,g=p.priorityLevel;var W=X(p.expirationTime<=B);if(B=e.unstable_now(),typeof W=="function"){p.callback=W,S(B),H=!0;break t}p===r(d)&&n(d),S(B)}else n(d);p=r(d)}if(p!==null)H=!0;else{var Y=r(u);Y!==null&&te(_,Y.startTime-B),H=!1}}break e}finally{p=null,g=R,y=!1}H=void 0}}finally{H?q():k=!1}}}var q;if(typeof E=="function")q=function(){E(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,re=U.port2;U.port1.onmessage=M,q=function(){re.postMessage(null)}}else q=function(){j(M,0)};function te(B,H){T=j(function(){B(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(B){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var R=g;g=H;try{return B()}finally{g=R}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var R=g;g=B;try{return H()}finally{g=R}},e.unstable_scheduleCallback=function(B,H,R){var X=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?X+R:X):R=X,B){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=R+W,B={id:h++,callback:H,priorityLevel:B,startTime:R,expirationTime:W,sortIndex:-1},R>X?(B.sortIndex=R,t(u,B),r(d)===null&&B===r(u)&&(v?(A(T),T=-1):v=!0,te(_,R-X))):(B.sortIndex=W,t(d,B),w||y||(w=!0,k||(k=!0,q()))),B},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(B){var H=g;return function(){var R=g;g=H;try{return B.apply(this,arguments)}finally{g=R}}}}(Y2)),Y2}var UO;function vK(){return UO||(UO=1,G2.exports=yK()),G2.exports}var K2={exports:{}},Ma={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO;function bK(){if(VO)return Ma;VO=1;var e=Cw();function t(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:d,containerInfo:u,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Ma.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ma.createPortal=function(d,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return i(d,u,null,h)},Ma.flushSync=function(d){var u=o.T,h=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=u,n.p=h,n.d.f()}},Ma.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(d,u))},Ma.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Ma.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var h=u.as,p=l(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?n.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):h==="script"&&n.d.X(d,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Ma.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=l(u.as,u.crossOrigin);n.d.M(d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(d)},Ma.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=l(h,u.crossOrigin);n.d.L(d,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Ma.preloadModule=function(d,u){if(typeof d=="string")if(u){var h=l(u.as,u.crossOrigin);n.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(d)},Ma.requestFormReset=function(d){n.d.r(d)},Ma.unstable_batchedUpdates=function(d,u){return d(u)},Ma.useFormState=function(d,u,h){return o.H.useFormState(d,u,h)},Ma.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ma.version="19.1.0",Ma}var qO;function bF(){if(qO)return K2.exports;qO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),K2.exports=bK(),K2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO;function wK(){if(zO)return Cx;zO=1;var e=vK(),t=Cw(),r=bF();function n(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var f=c,x=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(x=f.return),c=f.return;while(c)}return f.tag===3?x:null}function o(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function l(c){if(i(c)!==c)throw Error(n(188))}function d(c){var f=c.alternate;if(!f){if(f=i(c),f===null)throw Error(n(188));return f!==c?null:c}for(var x=c,b=f;;){var C=x.return;if(C===null)break;var D=C.alternate;if(D===null){if(b=C.return,b!==null){x=b;continue}break}if(C.child===D.child){for(D=C.child;D;){if(D===x)return l(C),c;if(D===b)return l(C),f;D=D.sibling}throw Error(n(188))}if(x.return!==b.return)x=C,b=D;else{for(var G=!1,ne=C.child;ne;){if(ne===x){G=!0,x=C,b=D;break}if(ne===b){G=!0,b=C,x=D;break}ne=ne.sibling}if(!G){for(ne=D.child;ne;){if(ne===x){G=!0,x=D,b=C;break}if(ne===b){G=!0,b=D,x=C;break}ne=ne.sibling}if(!G)throw Error(n(189))}}if(x.alternate!==b)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?c:f}function u(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=u(c),f!==null)return f;c=c.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function q(c){return c===null||typeof c!="object"?null:(c=M&&c[M]||c["@@iterator"],typeof c=="function"?c:null)}var U=Symbol.for("react.client.reference");function re(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===U?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case w:return"Fragment";case N:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case k:return"SuspenseList";case P:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case E:return(c.displayName||"Context")+".Provider";case A:return(c._context.displayName||"Context")+".Consumer";case S:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case T:return f=c.displayName||null,f!==null?f:re(c.type)||"Memo";case O:f=c._payload,c=c._init;try{return re(c(f))}catch{}}return null}var te=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},X=[],W=-1;function Y(c){return{current:c}}function F(c){0>W||(c.current=X[W],X[W]=null,W--)}function z(c,f){W++,X[W]=c.current,c.current=f}var K=Y(null),V=Y(null),ae=Y(null),Q=Y(null);function se(c,f){switch(z(ae,f),z(V,c),z(K,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?cO(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=cO(f),c=dO(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}F(K),z(K,c)}function Z(){F(K),F(V),F(ae)}function le(c){c.memoizedState!==null&&z(Q,c);var f=K.current,x=dO(f,c.type);f!==x&&(z(V,c),z(K,x))}function Te(c){V.current===c&&(F(K),F(V)),Q.current===c&&(F(Q),wx._currentValue=R)}var Ee=Object.prototype.hasOwnProperty,Ze=e.unstable_scheduleCallback,Be=e.unstable_cancelCallback,Ie=e.unstable_shouldYield,Ne=e.unstable_requestPaint,fe=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,ke=e.unstable_ImmediatePriority,Pe=e.unstable_UserBlockingPriority,Re=e.unstable_NormalPriority,ie=e.unstable_LowPriority,be=e.unstable_IdlePriority,De=e.log,lt=e.unstable_setDisableYieldValue,at=null,ze=null;function rt(c){if(typeof De=="function"&&lt(c),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(at,c)}catch{}}var Mt=Math.clz32?Math.clz32:ls,Jt=Math.log,Br=Math.LN2;function ls(c){return c>>>=0,c===0?32:31-(Jt(c)/Br|0)|0}var xs=256,vt=4194304;function kr(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function $t(c,f,x){var b=c.pendingLanes;if(b===0)return 0;var C=0,D=c.suspendedLanes,G=c.pingedLanes;c=c.warmLanes;var ne=b&134217727;return ne!==0?(b=ne&~D,b!==0?C=kr(b):(G&=ne,G!==0?C=kr(G):x||(x=ne&~c,x!==0&&(C=kr(x))))):(ne=b&~D,ne!==0?C=kr(ne):G!==0?C=kr(G):x||(x=b&~c,x!==0&&(C=kr(x)))),C===0?0:f!==0&&f!==C&&(f&D)===0&&(D=C&-C,x=f&-f,D>=x||D===32&&(x&4194048)!==0)?f:C}function Dr(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function qr(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tt(){var c=xs;return xs<<=1,(xs&4194048)===0&&(xs=256),c}function ur(){var c=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),c}function fr(c){for(var f=[],x=0;31>x;x++)f.push(c);return f}function ar(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function hr(c,f,x,b,C,D){var G=c.pendingLanes;c.pendingLanes=x,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=x,c.entangledLanes&=x,c.errorRecoveryDisabledLanes&=x,c.shellSuspendCounter=0;var ne=c.entanglements,Se=c.expirationTimes,Ve=c.hiddenUpdates;for(x=G&~x;0<x;){var ot=31-Mt(x),ht=1<<ot;ne[ot]=0,Se[ot]=-1;var Ge=Ve[ot];if(Ge!==null)for(Ve[ot]=null,ot=0;ot<Ge.length;ot++){var Ke=Ge[ot];Ke!==null&&(Ke.lane&=-536870913)}x&=~ht}b!==0&&we(c,b,0),D!==0&&C===0&&c.tag!==0&&(c.suspendedLanes|=D&~(G&~f))}function we(c,f,x){c.pendingLanes|=f,c.suspendedLanes&=~f;var b=31-Mt(f);c.entangledLanes|=f,c.entanglements[b]=c.entanglements[b]|1073741824|x&4194090}function ct(c,f){var x=c.entangledLanes|=f;for(c=c.entanglements;x;){var b=31-Mt(x),C=1<<b;C&f|c[b]&f&&(c[b]|=f),x&=~C}}function ft(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Et(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function er(){var c=H.p;return c!==0?c:(c=window.event,c===void 0?32:_O(c.type))}function lr(c,f){var x=H.p;try{return H.p=c,f()}finally{H.p=x}}var cr=Math.random().toString(36).slice(2),Hr="__reactFiber$"+cr,jr="__reactProps$"+cr,Bs="__reactContainer$"+cr,Ka="__reactEvents$"+cr,Wn="__reactListeners$"+cr,ee="__reactHandles$"+cr,xe="__reactResources$"+cr,ue="__reactMarker$"+cr;function he(c){delete c[Hr],delete c[jr],delete c[Ka],delete c[Wn],delete c[ee]}function ge(c){var f=c[Hr];if(f)return f;for(var x=c.parentNode;x;){if(f=x[Bs]||x[Hr]){if(x=f.alternate,f.child!==null||x!==null&&x.child!==null)for(c=mO(c);c!==null;){if(x=c[Hr])return x;c=mO(c)}return f}c=x,x=c.parentNode}return null}function me(c){if(c=c[Hr]||c[Bs]){var f=c.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return c}return null}function Me(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(n(33))}function Qe(c){var f=c[xe];return f||(f=c[xe]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Fe(c){c[ue]=!0}var qe=new Set,We={};function mt(c,f){bt(c,f),bt(c+"Capture",f)}function bt(c,f){for(We[c]=f,c=0;c<f.length;c++)qe.add(f[c])}var J=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ve={},Ae={};function tt(c){return Ee.call(Ae,c)?!0:Ee.call(ve,c)?!1:J.test(c)?Ae[c]=!0:(ve[c]=!0,!1)}function pt(c,f,x){if(tt(f))if(x===null)c.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var b=f.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+x)}}function At(c,f,x){if(x===null)c.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+x)}}function zt(c,f,x,b){if(b===null)c.removeAttribute(x);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(x);return}c.setAttributeNS(f,x,""+b)}}var Sr,rs;function bs(c){if(Sr===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);Sr=f&&f[1]||"",rs=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+c+rs}var Xr=!1;function tn(c,f){if(!c||Xr)return"";Xr=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(Ke){var Ge=Ke}Reflect.construct(c,[],ht)}else{try{ht.call()}catch(Ke){Ge=Ke}c.call(ht.prototype)}}else{try{throw Error()}catch(Ke){Ge=Ke}(ht=c())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(Ke){if(Ke&&Ge&&typeof Ke.stack=="string")return[Ke.stack,Ge.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=b.DetermineComponentFrameRoot(),G=D[0],ne=D[1];if(G&&ne){var Se=G.split(`
`),Ve=ne.split(`
`);for(C=b=0;b<Se.length&&!Se[b].includes("DetermineComponentFrameRoot");)b++;for(;C<Ve.length&&!Ve[C].includes("DetermineComponentFrameRoot");)C++;if(b===Se.length||C===Ve.length)for(b=Se.length-1,C=Ve.length-1;1<=b&&0<=C&&Se[b]!==Ve[C];)C--;for(;1<=b&&0<=C;b--,C--)if(Se[b]!==Ve[C]){if(b!==1||C!==1)do if(b--,C--,0>C||Se[b]!==Ve[C]){var ot=`
`+Se[b].replace(" at new "," at ");return c.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",c.displayName)),ot}while(1<=b&&0<=C);break}}}finally{Xr=!1,Error.prepareStackTrace=x}return(x=c?c.displayName||c.name:"")?bs(x):""}function _n(c){switch(c.tag){case 26:case 27:case 5:return bs(c.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return tn(c.type,!1);case 11:return tn(c.type.render,!1);case 1:return tn(c.type,!0);case 31:return bs("Activity");default:return""}}function jd(c){try{var f="";do f+=_n(c),c=c.return;while(c);return f}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function Da(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function mc(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ff(c){var f=mc(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),b=""+c[f];if(!c.hasOwnProperty(f)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var C=x.get,D=x.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return C.call(this)},set:function(G){b=""+G,D.call(this,G)}}),Object.defineProperty(c,f,{enumerable:x.enumerable}),{getValue:function(){return b},setValue:function(G){b=""+G},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function to(c){c._valueTracker||(c._valueTracker=ff(c))}function hf(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var x=f.getValue(),b="";return c&&(b=mc(c)?c.checked?"true":"false":c.value),c=b,c!==x?(f.setValue(c),!0):!1}function pc(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var M0=/[\n"\\]/g;function Oa(c){return c.replace(M0,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function mf(c,f,x,b,C,D,G,ne){c.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?c.type=G:c.removeAttribute("type"),f!=null?G==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+Da(f)):c.value!==""+Da(f)&&(c.value=""+Da(f)):G!=="submit"&&G!=="reset"||c.removeAttribute("value"),f!=null?xc(c,G,Da(f)):x!=null?xc(c,G,Da(x)):b!=null&&c.removeAttribute("value"),C==null&&D!=null&&(c.defaultChecked=!!D),C!=null&&(c.checked=C&&typeof C!="function"&&typeof C!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?c.name=""+Da(ne):c.removeAttribute("name")}function Jh(c,f,x,b,C,D,G,ne){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(c.type=D),f!=null||x!=null){if(!(D!=="submit"&&D!=="reset"||f!=null))return;x=x!=null?""+Da(x):"",f=f!=null?""+Da(f):x,ne||f===c.value||(c.value=f),c.defaultValue=f}b=b??C,b=typeof b!="function"&&typeof b!="symbol"&&!!b,c.checked=ne?c.checked:!!b,c.defaultChecked=!!b,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(c.name=G)}function xc(c,f,x){f==="number"&&pc(c.ownerDocument)===c||c.defaultValue===""+x||(c.defaultValue=""+x)}function Sl(c,f,x,b){if(c=c.options,f){f={};for(var C=0;C<x.length;C++)f["$"+x[C]]=!0;for(x=0;x<c.length;x++)C=f.hasOwnProperty("$"+c[x].value),c[x].selected!==C&&(c[x].selected=C),C&&b&&(c[x].defaultSelected=!0)}else{for(x=""+Da(x),f=null,C=0;C<c.length;C++){if(c[C].value===x){c[C].selected=!0,b&&(c[C].defaultSelected=!0);return}f!==null||c[C].disabled||(f=c[C])}f!==null&&(f.selected=!0)}}function em(c,f,x){if(f!=null&&(f=""+Da(f),f!==c.value&&(c.value=f),x==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=x!=null?""+Da(x):""}function El(c,f,x,b){if(f==null){if(b!=null){if(x!=null)throw Error(n(92));if(te(b)){if(1<b.length)throw Error(n(93));b=b[0]}x=b}x==null&&(x=""),f=x}x=Da(f),c.defaultValue=x,b=c.textContent,b===x&&b!==""&&b!==null&&(c.value=b)}function ia(c,f){if(f){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=f;return}}c.textContent=f}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ro(c,f,x){var b=f.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?b?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":b?c.setProperty(f,x):typeof x!="number"||x===0||Mo.has(f)?f==="float"?c.cssFloat=x:c[f]=(""+x).trim():c[f]=x+"px"}function tm(c,f,x){if(f!=null&&typeof f!="object")throw Error(n(62));if(c=c.style,x!=null){for(var b in x)!x.hasOwnProperty(b)||f!=null&&f.hasOwnProperty(b)||(b.indexOf("--")===0?c.setProperty(b,""):b==="float"?c.cssFloat="":c[b]="");for(var C in f)b=f[C],f.hasOwnProperty(C)&&x[C]!==b&&ro(c,C,b)}else for(var D in f)f.hasOwnProperty(D)&&ro(c,D,f[D])}function hi(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sd(c){return F0.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var pf=null;function Ed(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var cn=null,Io=null;function xf(c){var f=me(c);if(f&&(c=f.stateNode)){var x=c[jr]||null;e:switch(c=f.stateNode,f.type){case"input":if(mf(c,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),f=x.name,x.type==="radio"&&f!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Oa(""+f)+'"][type="radio"]'),f=0;f<x.length;f++){var b=x[f];if(b!==c&&b.form===c.form){var C=b[jr]||null;if(!C)throw Error(n(90));mf(b,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(f=0;f<x.length;f++)b=x[f],b.form===c.form&&hf(b)}break e;case"textarea":em(c,x.value,x.defaultValue);break e;case"select":f=x.value,f!=null&&Sl(c,!!x.multiple,f,!1)}}}var Al=!1;function Ad(c,f,x){if(Al)return c(f,x);Al=!0;try{var b=c(f);return b}finally{if(Al=!1,(cn!==null||Io!==null)&&(Wv(),cn&&(f=cn,c=Io,Io=cn=null,xf(f),c)))for(f=0;f<c.length;f++)xf(c[f])}}function so(c,f){var x=c.stateNode;if(x===null)return null;var b=x[jr]||null;if(b===null)return null;x=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(n(231,f,typeof x));return x}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cd=!1;if(Pi)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){Cd=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{Cd=!1}var Ri=null,mi=null,gc=null;function Td(){if(gc)return gc;var c,f=mi,x=f.length,b,C="value"in Ri?Ri.value:Ri.textContent,D=C.length;for(c=0;c<x&&f[c]===C[c];c++);var G=x-c;for(b=1;b<=G&&f[x-b]===C[D-b];b++);return gc=C.slice(c,1<b?1-b:void 0)}function _d(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function kd(){return!0}function L(){return!1}function oe(c){function f(x,b,C,D,G){this._reactName=x,this._targetInst=C,this.type=b,this.nativeEvent=D,this.target=G,this.currentTarget=null;for(var ne in c)c.hasOwnProperty(ne)&&(x=c[ne],this[ne]=x?x(D):D[ne]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?kd:L,this.isPropagationStopped=L,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),f}var Ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},st=oe(Ce),xr=h({},Ce,{view:0,detail:0}),ir=oe(xr),Qr,Wr,$s,Jr=h({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QN,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==$s&&($s&&c.type==="mousemove"?(Qr=c.screenX-$s.screenX,Wr=c.screenY-$s.screenY):Wr=Qr=0,$s=c),Qr)},movementY:function(c){return"movementY"in c?c.movementY:Wr}}),Gn=oe(Jr),Pa=h({},Jr,{dataTransfer:0}),vn=oe(Pa),oa=h({},xr,{relatedTarget:0}),bn=oe(oa),Cl=h({},Ce,{animationName:0,elapsedTime:0,pseudoElement:0}),Lo=oe(Cl),yc=h({},Ce,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),fv=oe(yc),rm=h({},Ce,{data:0}),gf=oe(rm),wG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SG(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=jG[c])?!!f[c]:!1}function QN(){return SG}var EG=h({},xr,{key:function(c){if(c.key){var f=wG[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=_d(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?NG[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QN,charCode:function(c){return c.type==="keypress"?_d(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?_d(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),AG=oe(EG),CG=h({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gk=oe(CG),TG=h({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QN}),_G=oe(TG),kG=h({},Ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),DG=oe(kG),OG=h({},Jr,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),PG=oe(OG),RG=h({},Ce,{newState:0,oldState:0}),MG=oe(RG),IG=[9,13,27,32],ZN=Pi&&"CompositionEvent"in window,L0=null;Pi&&"documentMode"in document&&(L0=document.documentMode);var FG=Pi&&"TextEvent"in window&&!L0,yk=Pi&&(!ZN||L0&&8<L0&&11>=L0),vk=" ",bk=!1;function wk(c,f){switch(c){case"keyup":return IG.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nk(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var sm=!1;function LG(c,f){switch(c){case"compositionend":return Nk(f);case"keypress":return f.which!==32?null:(bk=!0,vk);case"textInput":return c=f.data,c===vk&&bk?null:c;default:return null}}function BG(c,f){if(sm)return c==="compositionend"||!ZN&&wk(c,f)?(c=Td(),gc=mi=Ri=null,sm=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return yk&&f.locale!=="ko"?null:f.data;default:return null}}var $G={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jk(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!$G[c.type]:f==="textarea"}function Sk(c,f,x,b){cn?Io?Io.push(b):Io=[b]:cn=b,f=Zv(f,"onChange"),0<f.length&&(x=new st("onChange","change",null,x,b),c.push({event:x,listeners:f}))}var B0=null,$0=null;function UG(c){nO(c,0)}function hv(c){var f=Me(c);if(hf(f))return c}function Ek(c,f){if(c==="change")return f}var Ak=!1;if(Pi){var JN;if(Pi){var ej="oninput"in document;if(!ej){var Ck=document.createElement("div");Ck.setAttribute("oninput","return;"),ej=typeof Ck.oninput=="function"}JN=ej}else JN=!1;Ak=JN&&(!document.documentMode||9<document.documentMode)}function Tk(){B0&&(B0.detachEvent("onpropertychange",_k),$0=B0=null)}function _k(c){if(c.propertyName==="value"&&hv($0)){var f=[];Sk(f,$0,c,Ed(c)),Ad(UG,f)}}function VG(c,f,x){c==="focusin"?(Tk(),B0=f,$0=x,B0.attachEvent("onpropertychange",_k)):c==="focusout"&&Tk()}function qG(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return hv($0)}function zG(c,f){if(c==="click")return hv(f)}function HG(c,f){if(c==="input"||c==="change")return hv(f)}function WG(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Mi=typeof Object.is=="function"?Object.is:WG;function U0(c,f){if(Mi(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var x=Object.keys(c),b=Object.keys(f);if(x.length!==b.length)return!1;for(b=0;b<x.length;b++){var C=x[b];if(!Ee.call(f,C)||!Mi(c[C],f[C]))return!1}return!0}function kk(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Dk(c,f){var x=kk(c);c=0;for(var b;x;){if(x.nodeType===3){if(b=c+x.textContent.length,c<=f&&b>=f)return{node:x,offset:f-c};c=b}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=kk(x)}}function Ok(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?Ok(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function Pk(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=pc(c.document);f instanceof c.HTMLIFrameElement;){try{var x=typeof f.contentWindow.location.href=="string"}catch{x=!1}if(x)c=f.contentWindow;else break;f=pc(c.document)}return f}function tj(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var GG=Pi&&"documentMode"in document&&11>=document.documentMode,nm=null,rj=null,V0=null,sj=!1;function Rk(c,f,x){var b=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;sj||nm==null||nm!==pc(b)||(b=nm,"selectionStart"in b&&tj(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),V0&&U0(V0,b)||(V0=b,b=Zv(rj,"onSelect"),0<b.length&&(f=new st("onSelect","select",null,f,x),c.push({event:f,listeners:b}),f.target=nm)))}function yf(c,f){var x={};return x[c.toLowerCase()]=f.toLowerCase(),x["Webkit"+c]="webkit"+f,x["Moz"+c]="moz"+f,x}var am={animationend:yf("Animation","AnimationEnd"),animationiteration:yf("Animation","AnimationIteration"),animationstart:yf("Animation","AnimationStart"),transitionrun:yf("Transition","TransitionRun"),transitionstart:yf("Transition","TransitionStart"),transitioncancel:yf("Transition","TransitionCancel"),transitionend:yf("Transition","TransitionEnd")},nj={},Mk={};Pi&&(Mk=document.createElement("div").style,"AnimationEvent"in window||(delete am.animationend.animation,delete am.animationiteration.animation,delete am.animationstart.animation),"TransitionEvent"in window||delete am.transitionend.transition);function vf(c){if(nj[c])return nj[c];if(!am[c])return c;var f=am[c],x;for(x in f)if(f.hasOwnProperty(x)&&x in Mk)return nj[c]=f[x];return c}var Ik=vf("animationend"),Fk=vf("animationiteration"),Lk=vf("animationstart"),YG=vf("transitionrun"),KG=vf("transitionstart"),XG=vf("transitioncancel"),Bk=vf("transitionend"),$k=new Map,aj="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");aj.push("scrollEnd");function Bo(c,f){$k.set(c,f),mt(f,[c])}var Uk=new WeakMap;function no(c,f){if(typeof c=="object"&&c!==null){var x=Uk.get(c);return x!==void 0?x:(f={value:c,source:f,stack:jd(f)},Uk.set(c,f),f)}return{value:c,source:f,stack:jd(f)}}var ao=[],im=0,ij=0;function mv(){for(var c=im,f=ij=im=0;f<c;){var x=ao[f];ao[f++]=null;var b=ao[f];ao[f++]=null;var C=ao[f];ao[f++]=null;var D=ao[f];if(ao[f++]=null,b!==null&&C!==null){var G=b.pending;G===null?C.next=C:(C.next=G.next,G.next=C),b.pending=C}D!==0&&Vk(x,C,D)}}function pv(c,f,x,b){ao[im++]=c,ao[im++]=f,ao[im++]=x,ao[im++]=b,ij|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function oj(c,f,x,b){return pv(c,f,x,b),xv(c)}function om(c,f){return pv(c,null,null,f),xv(c)}function Vk(c,f,x){c.lanes|=x;var b=c.alternate;b!==null&&(b.lanes|=x);for(var C=!1,D=c.return;D!==null;)D.childLanes|=x,b=D.alternate,b!==null&&(b.childLanes|=x),D.tag===22&&(c=D.stateNode,c===null||c._visibility&1||(C=!0)),c=D,D=D.return;return c.tag===3?(D=c.stateNode,C&&f!==null&&(C=31-Mt(x),c=D.hiddenUpdates,b=c[C],b===null?c[C]=[f]:b.push(f),f.lane=x|536870912),D):null}function xv(c){if(50<hx)throw hx=0,h2=null,Error(n(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var lm={};function QG(c,f,x,b){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(c,f,x,b){return new QG(c,f,x,b)}function lj(c){return c=c.prototype,!(!c||!c.isReactComponent)}function vc(c,f){var x=c.alternate;return x===null?(x=Ii(c.tag,f,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=f,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&65011712,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,f=c.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x.refCleanup=c.refCleanup,x}function qk(c,f){c.flags&=65011714;var x=c.alternate;return x===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=x.childLanes,c.lanes=x.lanes,c.child=x.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=x.memoizedProps,c.memoizedState=x.memoizedState,c.updateQueue=x.updateQueue,c.type=x.type,f=x.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function gv(c,f,x,b,C,D){var G=0;if(b=c,typeof c=="function")lj(c)&&(G=1);else if(typeof c=="string")G=JY(c,x,K.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case P:return c=Ii(31,x,f,C),c.elementType=P,c.lanes=D,c;case w:return bf(x.children,C,D,f);case v:G=8,C|=24;break;case N:return c=Ii(12,x,f,C|2),c.elementType=N,c.lanes=D,c;case _:return c=Ii(13,x,f,C),c.elementType=_,c.lanes=D,c;case k:return c=Ii(19,x,f,C),c.elementType=k,c.lanes=D,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:case E:G=10;break e;case A:G=9;break e;case S:G=11;break e;case T:G=14;break e;case O:G=16,b=null;break e}G=29,x=Error(n(130,c===null?"null":typeof c,"")),b=null}return f=Ii(G,x,f,C),f.elementType=c,f.type=b,f.lanes=D,f}function bf(c,f,x,b){return c=Ii(7,c,b,f),c.lanes=x,c}function cj(c,f,x){return c=Ii(6,c,null,f),c.lanes=x,c}function dj(c,f,x){return f=Ii(4,c.children!==null?c.children:[],c.key,f),f.lanes=x,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var cm=[],dm=0,yv=null,vv=0,io=[],oo=0,wf=null,bc=1,wc="";function Nf(c,f){cm[dm++]=vv,cm[dm++]=yv,yv=c,vv=f}function zk(c,f,x){io[oo++]=bc,io[oo++]=wc,io[oo++]=wf,wf=c;var b=bc;c=wc;var C=32-Mt(b)-1;b&=~(1<<C),x+=1;var D=32-Mt(f)+C;if(30<D){var G=C-C%5;D=(b&(1<<G)-1).toString(32),b>>=G,C-=G,bc=1<<32-Mt(f)+C|x<<C|b,wc=D+c}else bc=1<<D|x<<C|b,wc=c}function uj(c){c.return!==null&&(Nf(c,1),zk(c,1,0))}function fj(c){for(;c===yv;)yv=cm[--dm],cm[dm]=null,vv=cm[--dm],cm[dm]=null;for(;c===wf;)wf=io[--oo],io[oo]=null,wc=io[--oo],io[oo]=null,bc=io[--oo],io[oo]=null}var Xa=null,dn=null,ms=!1,jf=null,Tl=!1,hj=Error(n(519));function Sf(c){var f=Error(n(418,""));throw H0(no(f,c)),hj}function Hk(c){var f=c.stateNode,x=c.type,b=c.memoizedProps;switch(f[Hr]=c,f[jr]=b,x){case"dialog":Yr("cancel",f),Yr("close",f);break;case"iframe":case"object":case"embed":Yr("load",f);break;case"video":case"audio":for(x=0;x<px.length;x++)Yr(px[x],f);break;case"source":Yr("error",f);break;case"img":case"image":case"link":Yr("error",f),Yr("load",f);break;case"details":Yr("toggle",f);break;case"input":Yr("invalid",f),Jh(f,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),to(f);break;case"select":Yr("invalid",f);break;case"textarea":Yr("invalid",f),El(f,b.value,b.defaultValue,b.children),to(f)}x=b.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||f.textContent===""+x||b.suppressHydrationWarning===!0||lO(f.textContent,x)?(b.popover!=null&&(Yr("beforetoggle",f),Yr("toggle",f)),b.onScroll!=null&&Yr("scroll",f),b.onScrollEnd!=null&&Yr("scrollend",f),b.onClick!=null&&(f.onclick=Jv),f=!0):f=!1,f||Sf(c)}function Wk(c){for(Xa=c.return;Xa;)switch(Xa.tag){case 5:case 13:Tl=!1;return;case 27:case 3:Tl=!0;return;default:Xa=Xa.return}}function q0(c){if(c!==Xa)return!1;if(!ms)return Wk(c),ms=!0,!1;var f=c.tag,x;if((x=f!==3&&f!==27)&&((x=f===5)&&(x=c.type,x=!(x!=="form"&&x!=="button")||_2(c.type,c.memoizedProps)),x=!x),x&&dn&&Sf(c),Wk(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8)if(x=c.data,x==="/$"){if(f===0){dn=Uo(c.nextSibling);break e}f--}else x!=="$"&&x!=="$!"&&x!=="$?"||f++;c=c.nextSibling}dn=null}}else f===27?(f=dn,Wd(c.type)?(c=P2,P2=null,dn=c):dn=f):dn=Xa?Uo(c.stateNode.nextSibling):null;return!0}function z0(){dn=Xa=null,ms=!1}function Gk(){var c=jf;return c!==null&&(gi===null?gi=c:gi.push.apply(gi,c),jf=null),c}function H0(c){jf===null?jf=[c]:jf.push(c)}var mj=Y(null),Ef=null,Nc=null;function Dd(c,f,x){z(mj,f._currentValue),f._currentValue=x}function jc(c){c._currentValue=mj.current,F(mj)}function pj(c,f,x){for(;c!==null;){var b=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),c===x)break;c=c.return}}function xj(c,f,x,b){var C=c.child;for(C!==null&&(C.return=c);C!==null;){var D=C.dependencies;if(D!==null){var G=C.child;D=D.firstContext;e:for(;D!==null;){var ne=D;D=C;for(var Se=0;Se<f.length;Se++)if(ne.context===f[Se]){D.lanes|=x,ne=D.alternate,ne!==null&&(ne.lanes|=x),pj(D.return,x,c),b||(G=null);break e}D=ne.next}}else if(C.tag===18){if(G=C.return,G===null)throw Error(n(341));G.lanes|=x,D=G.alternate,D!==null&&(D.lanes|=x),pj(G,x,c),G=null}else G=C.child;if(G!==null)G.return=C;else for(G=C;G!==null;){if(G===c){G=null;break}if(C=G.sibling,C!==null){C.return=G.return,G=C;break}G=G.return}C=G}}function W0(c,f,x,b){c=null;for(var C=f,D=!1;C!==null;){if(!D){if((C.flags&524288)!==0)D=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var G=C.alternate;if(G===null)throw Error(n(387));if(G=G.memoizedProps,G!==null){var ne=C.type;Mi(C.pendingProps.value,G.value)||(c!==null?c.push(ne):c=[ne])}}else if(C===Q.current){if(G=C.alternate,G===null)throw Error(n(387));G.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(c!==null?c.push(wx):c=[wx])}C=C.return}c!==null&&xj(f,c,x,b),f.flags|=262144}function bv(c){for(c=c.firstContext;c!==null;){if(!Mi(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Af(c){Ef=c,Nc=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ra(c){return Yk(Ef,c)}function wv(c,f){return Ef===null&&Af(c),Yk(c,f)}function Yk(c,f){var x=f._currentValue;if(f={context:f,memoizedValue:x,next:null},Nc===null){if(c===null)throw Error(n(308));Nc=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else Nc=Nc.next=f;return x}var ZG=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(x,b){c.push(b)}};this.abort=function(){f.aborted=!0,c.forEach(function(x){return x()})}},JG=e.unstable_scheduleCallback,eY=e.unstable_NormalPriority,Yn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gj(){return{controller:new ZG,data:new Map,refCount:0}}function G0(c){c.refCount--,c.refCount===0&&JG(eY,function(){c.controller.abort()})}var Y0=null,yj=0,um=0,fm=null;function tY(c,f){if(Y0===null){var x=Y0=[];yj=0,um=b2(),fm={status:"pending",value:void 0,then:function(b){x.push(b)}}}return yj++,f.then(Kk,Kk),f}function Kk(){if(--yj===0&&Y0!==null){fm!==null&&(fm.status="fulfilled");var c=Y0;Y0=null,um=0,fm=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function rY(c,f){var x=[],b={status:"pending",value:null,reason:null,then:function(C){x.push(C)}};return c.then(function(){b.status="fulfilled",b.value=f;for(var C=0;C<x.length;C++)(0,x[C])(f)},function(C){for(b.status="rejected",b.reason=C,C=0;C<x.length;C++)(0,x[C])(void 0)}),b}var Xk=B.S;B.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&tY(c,f),Xk!==null&&Xk(c,f)};var Cf=Y(null);function vj(){var c=Cf.current;return c!==null?c:Us.pooledCache}function Nv(c,f){f===null?z(Cf,Cf.current):z(Cf,f.pool)}function Qk(){var c=vj();return c===null?null:{parent:Yn._currentValue,pool:c}}var K0=Error(n(460)),Zk=Error(n(474)),jv=Error(n(542)),bj={then:function(){}};function Jk(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Sv(){}function eD(c,f,x){switch(x=c[x],x===void 0?c.push(f):x!==f&&(f.then(Sv,Sv),f=x),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,rD(c),c;default:if(typeof f.status=="string")f.then(Sv,Sv);else{if(c=Us,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=f,c.status="pending",c.then(function(b){if(f.status==="pending"){var C=f;C.status="fulfilled",C.value=b}},function(b){if(f.status==="pending"){var C=f;C.status="rejected",C.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,rD(c),c}throw X0=f,K0}}var X0=null;function tD(){if(X0===null)throw Error(n(459));var c=X0;return X0=null,c}function rD(c){if(c===K0||c===jv)throw Error(n(483))}var Od=!1;function wj(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nj(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Pd(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Rd(c,f,x){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(ws&2)!==0){var C=b.pending;return C===null?f.next=f:(f.next=C.next,C.next=f),b.pending=f,f=xv(c),Vk(c,null,x),f}return pv(c,b,f,x),xv(c)}function Q0(c,f,x){if(f=f.updateQueue,f!==null&&(f=f.shared,(x&4194048)!==0)){var b=f.lanes;b&=c.pendingLanes,x|=b,f.lanes=x,ct(c,x)}}function jj(c,f){var x=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,x===b)){var C=null,D=null;if(x=x.firstBaseUpdate,x!==null){do{var G={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};D===null?C=D=G:D=D.next=G,x=x.next}while(x!==null);D===null?C=D=f:D=D.next=f}else C=D=f;x={baseState:b.baseState,firstBaseUpdate:C,lastBaseUpdate:D,shared:b.shared,callbacks:b.callbacks},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=f:c.next=f,x.lastBaseUpdate=f}var Sj=!1;function Z0(){if(Sj){var c=fm;if(c!==null)throw c}}function J0(c,f,x,b){Sj=!1;var C=c.updateQueue;Od=!1;var D=C.firstBaseUpdate,G=C.lastBaseUpdate,ne=C.shared.pending;if(ne!==null){C.shared.pending=null;var Se=ne,Ve=Se.next;Se.next=null,G===null?D=Ve:G.next=Ve,G=Se;var ot=c.alternate;ot!==null&&(ot=ot.updateQueue,ne=ot.lastBaseUpdate,ne!==G&&(ne===null?ot.firstBaseUpdate=Ve:ne.next=Ve,ot.lastBaseUpdate=Se))}if(D!==null){var ht=C.baseState;G=0,ot=Ve=Se=null,ne=D;do{var Ge=ne.lane&-536870913,Ke=Ge!==ne.lane;if(Ke?(ss&Ge)===Ge:(b&Ge)===Ge){Ge!==0&&Ge===um&&(Sj=!0),ot!==null&&(ot=ot.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var yr=c,mr=ne;Ge=f;var ks=x;switch(mr.tag){case 1:if(yr=mr.payload,typeof yr=="function"){ht=yr.call(ks,ht,Ge);break e}ht=yr;break e;case 3:yr.flags=yr.flags&-65537|128;case 0:if(yr=mr.payload,Ge=typeof yr=="function"?yr.call(ks,ht,Ge):yr,Ge==null)break e;ht=h({},ht,Ge);break e;case 2:Od=!0}}Ge=ne.callback,Ge!==null&&(c.flags|=64,Ke&&(c.flags|=8192),Ke=C.callbacks,Ke===null?C.callbacks=[Ge]:Ke.push(Ge))}else Ke={lane:Ge,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},ot===null?(Ve=ot=Ke,Se=ht):ot=ot.next=Ke,G|=Ge;if(ne=ne.next,ne===null){if(ne=C.shared.pending,ne===null)break;Ke=ne,ne=Ke.next,Ke.next=null,C.lastBaseUpdate=Ke,C.shared.pending=null}}while(!0);ot===null&&(Se=ht),C.baseState=Se,C.firstBaseUpdate=Ve,C.lastBaseUpdate=ot,D===null&&(C.shared.lanes=0),Vd|=G,c.lanes=G,c.memoizedState=ht}}function sD(c,f){if(typeof c!="function")throw Error(n(191,c));c.call(f)}function nD(c,f){var x=c.callbacks;if(x!==null)for(c.callbacks=null,c=0;c<x.length;c++)sD(x[c],f)}var hm=Y(null),Ev=Y(0);function aD(c,f){c=kc,z(Ev,c),z(hm,f),kc=c|f.baseLanes}function Ej(){z(Ev,kc),z(hm,hm.current)}function Aj(){kc=Ev.current,F(hm),F(Ev)}var Md=0,$r=null,Ts=null,kn=null,Av=!1,mm=!1,Tf=!1,Cv=0,ex=0,pm=null,sY=0;function wn(){throw Error(n(321))}function Cj(c,f){if(f===null)return!1;for(var x=0;x<f.length&&x<c.length;x++)if(!Mi(c[x],f[x]))return!1;return!0}function Tj(c,f,x,b,C,D){return Md=D,$r=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,B.H=c===null||c.memoizedState===null?VD:qD,Tf=!1,D=x(b,C),Tf=!1,mm&&(D=oD(f,x,b,C)),iD(c),D}function iD(c){B.H=Pv;var f=Ts!==null&&Ts.next!==null;if(Md=0,kn=Ts=$r=null,Av=!1,ex=0,pm=null,f)throw Error(n(300));c===null||la||(c=c.dependencies,c!==null&&bv(c)&&(la=!0))}function oD(c,f,x,b){$r=c;var C=0;do{if(mm&&(pm=null),ex=0,mm=!1,25<=C)throw Error(n(301));if(C+=1,kn=Ts=null,c.updateQueue!=null){var D=c.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}B.H=dY,D=f(x,b)}while(mm);return D}function nY(){var c=B.H,f=c.useState()[0];return f=typeof f.then=="function"?tx(f):f,c=c.useState()[0],(Ts!==null?Ts.memoizedState:null)!==c&&($r.flags|=1024),f}function _j(){var c=Cv!==0;return Cv=0,c}function kj(c,f,x){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~x}function Dj(c){if(Av){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Av=!1}Md=0,kn=Ts=$r=null,mm=!1,ex=Cv=0,pm=null}function pi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?$r.memoizedState=kn=c:kn=kn.next=c,kn}function Dn(){if(Ts===null){var c=$r.alternate;c=c!==null?c.memoizedState:null}else c=Ts.next;var f=kn===null?$r.memoizedState:kn.next;if(f!==null)kn=f,Ts=c;else{if(c===null)throw $r.alternate===null?Error(n(467)):Error(n(310));Ts=c,c={memoizedState:Ts.memoizedState,baseState:Ts.baseState,baseQueue:Ts.baseQueue,queue:Ts.queue,next:null},kn===null?$r.memoizedState=kn=c:kn=kn.next=c}return kn}function Oj(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tx(c){var f=ex;return ex+=1,pm===null&&(pm=[]),c=eD(pm,c,f),f=$r,(kn===null?f.memoizedState:kn.next)===null&&(f=f.alternate,B.H=f===null||f.memoizedState===null?VD:qD),c}function Tv(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return tx(c);if(c.$$typeof===E)return Ra(c)}throw Error(n(438,String(c)))}function Pj(c){var f=null,x=$r.updateQueue;if(x!==null&&(f=x.memoCache),f==null){var b=$r.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(C){return C.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),x===null&&(x=Oj(),$r.updateQueue=x),x.memoCache=f,x=f.data[f.index],x===void 0)for(x=f.data[f.index]=Array(c),b=0;b<c;b++)x[b]=I;return f.index++,x}function Sc(c,f){return typeof f=="function"?f(c):f}function _v(c){var f=Dn();return Rj(f,Ts,c)}function Rj(c,f,x){var b=c.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=x;var C=c.baseQueue,D=b.pending;if(D!==null){if(C!==null){var G=C.next;C.next=D.next,D.next=G}f.baseQueue=C=D,b.pending=null}if(D=c.baseState,C===null)c.memoizedState=D;else{f=C.next;var ne=G=null,Se=null,Ve=f,ot=!1;do{var ht=Ve.lane&-536870913;if(ht!==Ve.lane?(ss&ht)===ht:(Md&ht)===ht){var Ge=Ve.revertLane;if(Ge===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),ht===um&&(ot=!0);else if((Md&Ge)===Ge){Ve=Ve.next,Ge===um&&(ot=!0);continue}else ht={lane:0,revertLane:Ve.revertLane,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Se===null?(ne=Se=ht,G=D):Se=Se.next=ht,$r.lanes|=Ge,Vd|=Ge;ht=Ve.action,Tf&&x(D,ht),D=Ve.hasEagerState?Ve.eagerState:x(D,ht)}else Ge={lane:ht,revertLane:Ve.revertLane,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Se===null?(ne=Se=Ge,G=D):Se=Se.next=Ge,$r.lanes|=ht,Vd|=ht;Ve=Ve.next}while(Ve!==null&&Ve!==f);if(Se===null?G=D:Se.next=ne,!Mi(D,c.memoizedState)&&(la=!0,ot&&(x=fm,x!==null)))throw x;c.memoizedState=D,c.baseState=G,c.baseQueue=Se,b.lastRenderedState=D}return C===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function Mj(c){var f=Dn(),x=f.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=c;var b=x.dispatch,C=x.pending,D=f.memoizedState;if(C!==null){x.pending=null;var G=C=C.next;do D=c(D,G.action),G=G.next;while(G!==C);Mi(D,f.memoizedState)||(la=!0),f.memoizedState=D,f.baseQueue===null&&(f.baseState=D),x.lastRenderedState=D}return[D,b]}function lD(c,f,x){var b=$r,C=Dn(),D=ms;if(D){if(x===void 0)throw Error(n(407));x=x()}else x=f();var G=!Mi((Ts||C).memoizedState,x);G&&(C.memoizedState=x,la=!0),C=C.queue;var ne=uD.bind(null,b,C,c);if(rx(2048,8,ne,[c]),C.getSnapshot!==f||G||kn!==null&&kn.memoizedState.tag&1){if(b.flags|=2048,xm(9,kv(),dD.bind(null,b,C,x,f),null),Us===null)throw Error(n(349));D||(Md&124)!==0||cD(b,f,x)}return x}function cD(c,f,x){c.flags|=16384,c={getSnapshot:f,value:x},f=$r.updateQueue,f===null?(f=Oj(),$r.updateQueue=f,f.stores=[c]):(x=f.stores,x===null?f.stores=[c]:x.push(c))}function dD(c,f,x,b){f.value=x,f.getSnapshot=b,fD(f)&&hD(c)}function uD(c,f,x){return x(function(){fD(f)&&hD(c)})}function fD(c){var f=c.getSnapshot;c=c.value;try{var x=f();return!Mi(c,x)}catch{return!0}}function hD(c){var f=om(c,2);f!==null&&Ui(f,c,2)}function Ij(c){var f=pi();if(typeof c=="function"){var x=c;if(c=x(),Tf){rt(!0);try{x()}finally{rt(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:c},f}function mD(c,f,x,b){return c.baseState=x,Rj(c,Ts,typeof b=="function"?b:Sc)}function aY(c,f,x,b,C){if(Ov(c))throw Error(n(485));if(c=f.action,c!==null){var D={payload:C,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){D.listeners.push(G)}};B.T!==null?x(!0):D.isTransition=!1,b(D),x=f.pending,x===null?(D.next=f.pending=D,pD(f,D)):(D.next=x.next,f.pending=x.next=D)}}function pD(c,f){var x=f.action,b=f.payload,C=c.state;if(f.isTransition){var D=B.T,G={};B.T=G;try{var ne=x(C,b),Se=B.S;Se!==null&&Se(G,ne),xD(c,f,ne)}catch(Ve){Fj(c,f,Ve)}finally{B.T=D}}else try{D=x(C,b),xD(c,f,D)}catch(Ve){Fj(c,f,Ve)}}function xD(c,f,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(b){gD(c,f,b)},function(b){return Fj(c,f,b)}):gD(c,f,x)}function gD(c,f,x){f.status="fulfilled",f.value=x,yD(f),c.state=x,f=c.pending,f!==null&&(x=f.next,x===f?c.pending=null:(x=x.next,f.next=x,pD(c,x)))}function Fj(c,f,x){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=x,yD(f),f=f.next;while(f!==b)}c.action=null}function yD(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function vD(c,f){return f}function bD(c,f){if(ms){var x=Us.formState;if(x!==null){e:{var b=$r;if(ms){if(dn){t:{for(var C=dn,D=Tl;C.nodeType!==8;){if(!D){C=null;break t}if(C=Uo(C.nextSibling),C===null){C=null;break t}}D=C.data,C=D==="F!"||D==="F"?C:null}if(C){dn=Uo(C.nextSibling),b=C.data==="F!";break e}}Sf(b)}b=!1}b&&(f=x[0])}}return x=pi(),x.memoizedState=x.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vD,lastRenderedState:f},x.queue=b,x=BD.bind(null,$r,b),b.dispatch=x,b=Ij(!1),D=Vj.bind(null,$r,!1,b.queue),b=pi(),C={state:f,dispatch:null,action:c,pending:null},b.queue=C,x=aY.bind(null,$r,C,D,x),C.dispatch=x,b.memoizedState=c,[f,x,!1]}function wD(c){var f=Dn();return ND(f,Ts,c)}function ND(c,f,x){if(f=Rj(c,f,vD)[0],c=_v(Sc)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var b=tx(f)}catch(G){throw G===K0?jv:G}else b=f;f=Dn();var C=f.queue,D=C.dispatch;return x!==f.memoizedState&&($r.flags|=2048,xm(9,kv(),iY.bind(null,C,x),null)),[b,D,c]}function iY(c,f){c.action=f}function jD(c){var f=Dn(),x=Ts;if(x!==null)return ND(f,x,c);Dn(),f=f.memoizedState,x=Dn();var b=x.queue.dispatch;return x.memoizedState=c,[f,b,!1]}function xm(c,f,x,b){return c={tag:c,create:x,deps:b,inst:f,next:null},f=$r.updateQueue,f===null&&(f=Oj(),$r.updateQueue=f),x=f.lastEffect,x===null?f.lastEffect=c.next=c:(b=x.next,x.next=c,c.next=b,f.lastEffect=c),c}function kv(){return{destroy:void 0,resource:void 0}}function SD(){return Dn().memoizedState}function Dv(c,f,x,b){var C=pi();b=b===void 0?null:b,$r.flags|=c,C.memoizedState=xm(1|f,kv(),x,b)}function rx(c,f,x,b){var C=Dn();b=b===void 0?null:b;var D=C.memoizedState.inst;Ts!==null&&b!==null&&Cj(b,Ts.memoizedState.deps)?C.memoizedState=xm(f,D,x,b):($r.flags|=c,C.memoizedState=xm(1|f,D,x,b))}function ED(c,f){Dv(8390656,8,c,f)}function AD(c,f){rx(2048,8,c,f)}function CD(c,f){return rx(4,2,c,f)}function TD(c,f){return rx(4,4,c,f)}function _D(c,f){if(typeof f=="function"){c=c();var x=f(c);return function(){typeof x=="function"?x():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function kD(c,f,x){x=x!=null?x.concat([c]):null,rx(4,4,_D.bind(null,f,c),x)}function Lj(){}function DD(c,f){var x=Dn();f=f===void 0?null:f;var b=x.memoizedState;return f!==null&&Cj(f,b[1])?b[0]:(x.memoizedState=[c,f],c)}function OD(c,f){var x=Dn();f=f===void 0?null:f;var b=x.memoizedState;if(f!==null&&Cj(f,b[1]))return b[0];if(b=c(),Tf){rt(!0);try{c()}finally{rt(!1)}}return x.memoizedState=[b,f],b}function Bj(c,f,x){return x===void 0||(Md&1073741824)!==0?c.memoizedState=f:(c.memoizedState=x,c=M3(),$r.lanes|=c,Vd|=c,x)}function PD(c,f,x,b){return Mi(x,f)?x:hm.current!==null?(c=Bj(c,x,b),Mi(c,f)||(la=!0),c):(Md&42)===0?(la=!0,c.memoizedState=x):(c=M3(),$r.lanes|=c,Vd|=c,f)}function RD(c,f,x,b,C){var D=H.p;H.p=D!==0&&8>D?D:8;var G=B.T,ne={};B.T=ne,Vj(c,!1,f,x);try{var Se=C(),Ve=B.S;if(Ve!==null&&Ve(ne,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var ot=rY(Se,b);sx(c,f,ot,$i(c))}else sx(c,f,b,$i(c))}catch(ht){sx(c,f,{then:function(){},status:"rejected",reason:ht},$i())}finally{H.p=D,B.T=G}}function oY(){}function $j(c,f,x,b){if(c.tag!==5)throw Error(n(476));var C=MD(c).queue;RD(c,C,f,R,x===null?oY:function(){return ID(c),x(b)})}function MD(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:R},next:null};var x={};return f.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:x},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function ID(c){var f=MD(c).next.queue;sx(c,f,{},$i())}function Uj(){return Ra(wx)}function FD(){return Dn().memoizedState}function LD(){return Dn().memoizedState}function lY(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var x=$i();c=Pd(x);var b=Rd(f,c,x);b!==null&&(Ui(b,f,x),Q0(b,f,x)),f={cache:gj()},c.payload=f;return}f=f.return}}function cY(c,f,x){var b=$i();x={lane:b,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Ov(c)?$D(f,x):(x=oj(c,f,x,b),x!==null&&(Ui(x,c,b),UD(x,f,b)))}function BD(c,f,x){var b=$i();sx(c,f,x,b)}function sx(c,f,x,b){var C={lane:b,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Ov(c))$D(f,C);else{var D=c.alternate;if(c.lanes===0&&(D===null||D.lanes===0)&&(D=f.lastRenderedReducer,D!==null))try{var G=f.lastRenderedState,ne=D(G,x);if(C.hasEagerState=!0,C.eagerState=ne,Mi(ne,G))return pv(c,f,C,0),Us===null&&mv(),!1}catch{}finally{}if(x=oj(c,f,C,b),x!==null)return Ui(x,c,b),UD(x,f,b),!0}return!1}function Vj(c,f,x,b){if(b={lane:2,revertLane:b2(),action:b,hasEagerState:!1,eagerState:null,next:null},Ov(c)){if(f)throw Error(n(479))}else f=oj(c,x,b,2),f!==null&&Ui(f,c,2)}function Ov(c){var f=c.alternate;return c===$r||f!==null&&f===$r}function $D(c,f){mm=Av=!0;var x=c.pending;x===null?f.next=f:(f.next=x.next,x.next=f),c.pending=f}function UD(c,f,x){if((x&4194048)!==0){var b=f.lanes;b&=c.pendingLanes,x|=b,f.lanes=x,ct(c,x)}}var Pv={readContext:Ra,use:Tv,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn},VD={readContext:Ra,use:Tv,useCallback:function(c,f){return pi().memoizedState=[c,f===void 0?null:f],c},useContext:Ra,useEffect:ED,useImperativeHandle:function(c,f,x){x=x!=null?x.concat([c]):null,Dv(4194308,4,_D.bind(null,f,c),x)},useLayoutEffect:function(c,f){return Dv(4194308,4,c,f)},useInsertionEffect:function(c,f){Dv(4,2,c,f)},useMemo:function(c,f){var x=pi();f=f===void 0?null:f;var b=c();if(Tf){rt(!0);try{c()}finally{rt(!1)}}return x.memoizedState=[b,f],b},useReducer:function(c,f,x){var b=pi();if(x!==void 0){var C=x(f);if(Tf){rt(!0);try{x(f)}finally{rt(!1)}}}else C=f;return b.memoizedState=b.baseState=C,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:C},b.queue=c,c=c.dispatch=cY.bind(null,$r,c),[b.memoizedState,c]},useRef:function(c){var f=pi();return c={current:c},f.memoizedState=c},useState:function(c){c=Ij(c);var f=c.queue,x=BD.bind(null,$r,f);return f.dispatch=x,[c.memoizedState,x]},useDebugValue:Lj,useDeferredValue:function(c,f){var x=pi();return Bj(x,c,f)},useTransition:function(){var c=Ij(!1);return c=RD.bind(null,$r,c.queue,!0,!1),pi().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,x){var b=$r,C=pi();if(ms){if(x===void 0)throw Error(n(407));x=x()}else{if(x=f(),Us===null)throw Error(n(349));(ss&124)!==0||cD(b,f,x)}C.memoizedState=x;var D={value:x,getSnapshot:f};return C.queue=D,ED(uD.bind(null,b,D,c),[c]),b.flags|=2048,xm(9,kv(),dD.bind(null,b,D,x,f),null),x},useId:function(){var c=pi(),f=Us.identifierPrefix;if(ms){var x=wc,b=bc;x=(b&~(1<<32-Mt(b)-1)).toString(32)+x,f="«"+f+"R"+x,x=Cv++,0<x&&(f+="H"+x.toString(32)),f+="»"}else x=sY++,f="«"+f+"r"+x.toString(32)+"»";return c.memoizedState=f},useHostTransitionStatus:Uj,useFormState:bD,useActionState:bD,useOptimistic:function(c){var f=pi();f.memoizedState=f.baseState=c;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=x,f=Vj.bind(null,$r,!0,x),x.dispatch=f,[c,f]},useMemoCache:Pj,useCacheRefresh:function(){return pi().memoizedState=lY.bind(null,$r)}},qD={readContext:Ra,use:Tv,useCallback:DD,useContext:Ra,useEffect:AD,useImperativeHandle:kD,useInsertionEffect:CD,useLayoutEffect:TD,useMemo:OD,useReducer:_v,useRef:SD,useState:function(){return _v(Sc)},useDebugValue:Lj,useDeferredValue:function(c,f){var x=Dn();return PD(x,Ts.memoizedState,c,f)},useTransition:function(){var c=_v(Sc)[0],f=Dn().memoizedState;return[typeof c=="boolean"?c:tx(c),f]},useSyncExternalStore:lD,useId:FD,useHostTransitionStatus:Uj,useFormState:wD,useActionState:wD,useOptimistic:function(c,f){var x=Dn();return mD(x,Ts,c,f)},useMemoCache:Pj,useCacheRefresh:LD},dY={readContext:Ra,use:Tv,useCallback:DD,useContext:Ra,useEffect:AD,useImperativeHandle:kD,useInsertionEffect:CD,useLayoutEffect:TD,useMemo:OD,useReducer:Mj,useRef:SD,useState:function(){return Mj(Sc)},useDebugValue:Lj,useDeferredValue:function(c,f){var x=Dn();return Ts===null?Bj(x,c,f):PD(x,Ts.memoizedState,c,f)},useTransition:function(){var c=Mj(Sc)[0],f=Dn().memoizedState;return[typeof c=="boolean"?c:tx(c),f]},useSyncExternalStore:lD,useId:FD,useHostTransitionStatus:Uj,useFormState:jD,useActionState:jD,useOptimistic:function(c,f){var x=Dn();return Ts!==null?mD(x,Ts,c,f):(x.baseState=c,[c,x.queue.dispatch])},useMemoCache:Pj,useCacheRefresh:LD},gm=null,nx=0;function Rv(c){var f=nx;return nx+=1,gm===null&&(gm=[]),eD(gm,c,f)}function ax(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Mv(c,f){throw f.$$typeof===p?Error(n(525)):(c=Object.prototype.toString.call(f),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function zD(c){var f=c._init;return f(c._payload)}function HD(c){function f(Le,Oe){if(c){var Ue=Le.deletions;Ue===null?(Le.deletions=[Oe],Le.flags|=16):Ue.push(Oe)}}function x(Le,Oe){if(!c)return null;for(;Oe!==null;)f(Le,Oe),Oe=Oe.sibling;return null}function b(Le){for(var Oe=new Map;Le!==null;)Le.key!==null?Oe.set(Le.key,Le):Oe.set(Le.index,Le),Le=Le.sibling;return Oe}function C(Le,Oe){return Le=vc(Le,Oe),Le.index=0,Le.sibling=null,Le}function D(Le,Oe,Ue){return Le.index=Ue,c?(Ue=Le.alternate,Ue!==null?(Ue=Ue.index,Ue<Oe?(Le.flags|=67108866,Oe):Ue):(Le.flags|=67108866,Oe)):(Le.flags|=1048576,Oe)}function G(Le){return c&&Le.alternate===null&&(Le.flags|=67108866),Le}function ne(Le,Oe,Ue,dt){return Oe===null||Oe.tag!==6?(Oe=cj(Ue,Le.mode,dt),Oe.return=Le,Oe):(Oe=C(Oe,Ue),Oe.return=Le,Oe)}function Se(Le,Oe,Ue,dt){var Xt=Ue.type;return Xt===w?ot(Le,Oe,Ue.props.children,dt,Ue.key):Oe!==null&&(Oe.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===O&&zD(Xt)===Oe.type)?(Oe=C(Oe,Ue.props),ax(Oe,Ue),Oe.return=Le,Oe):(Oe=gv(Ue.type,Ue.key,Ue.props,null,Le.mode,dt),ax(Oe,Ue),Oe.return=Le,Oe)}function Ve(Le,Oe,Ue,dt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ue.containerInfo||Oe.stateNode.implementation!==Ue.implementation?(Oe=dj(Ue,Le.mode,dt),Oe.return=Le,Oe):(Oe=C(Oe,Ue.children||[]),Oe.return=Le,Oe)}function ot(Le,Oe,Ue,dt,Xt){return Oe===null||Oe.tag!==7?(Oe=bf(Ue,Le.mode,dt,Xt),Oe.return=Le,Oe):(Oe=C(Oe,Ue),Oe.return=Le,Oe)}function ht(Le,Oe,Ue){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=cj(""+Oe,Le.mode,Ue),Oe.return=Le,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case g:return Ue=gv(Oe.type,Oe.key,Oe.props,null,Le.mode,Ue),ax(Ue,Oe),Ue.return=Le,Ue;case y:return Oe=dj(Oe,Le.mode,Ue),Oe.return=Le,Oe;case O:var dt=Oe._init;return Oe=dt(Oe._payload),ht(Le,Oe,Ue)}if(te(Oe)||q(Oe))return Oe=bf(Oe,Le.mode,Ue,null),Oe.return=Le,Oe;if(typeof Oe.then=="function")return ht(Le,Rv(Oe),Ue);if(Oe.$$typeof===E)return ht(Le,wv(Le,Oe),Ue);Mv(Le,Oe)}return null}function Ge(Le,Oe,Ue,dt){var Xt=Oe!==null?Oe.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Xt!==null?null:ne(Le,Oe,""+Ue,dt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case g:return Ue.key===Xt?Se(Le,Oe,Ue,dt):null;case y:return Ue.key===Xt?Ve(Le,Oe,Ue,dt):null;case O:return Xt=Ue._init,Ue=Xt(Ue._payload),Ge(Le,Oe,Ue,dt)}if(te(Ue)||q(Ue))return Xt!==null?null:ot(Le,Oe,Ue,dt,null);if(typeof Ue.then=="function")return Ge(Le,Oe,Rv(Ue),dt);if(Ue.$$typeof===E)return Ge(Le,Oe,wv(Le,Ue),dt);Mv(Le,Ue)}return null}function Ke(Le,Oe,Ue,dt,Xt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Le=Le.get(Ue)||null,ne(Oe,Le,""+dt,Xt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case g:return Le=Le.get(dt.key===null?Ue:dt.key)||null,Se(Oe,Le,dt,Xt);case y:return Le=Le.get(dt.key===null?Ue:dt.key)||null,Ve(Oe,Le,dt,Xt);case O:var zr=dt._init;return dt=zr(dt._payload),Ke(Le,Oe,Ue,dt,Xt)}if(te(dt)||q(dt))return Le=Le.get(Ue)||null,ot(Oe,Le,dt,Xt,null);if(typeof dt.then=="function")return Ke(Le,Oe,Ue,Rv(dt),Xt);if(dt.$$typeof===E)return Ke(Le,Oe,Ue,wv(Oe,dt),Xt);Mv(Oe,dt)}return null}function yr(Le,Oe,Ue,dt){for(var Xt=null,zr=null,or=Oe,pr=Oe=0,da=null;or!==null&&pr<Ue.length;pr++){or.index>pr?(da=or,or=null):da=or.sibling;var cs=Ge(Le,or,Ue[pr],dt);if(cs===null){or===null&&(or=da);break}c&&or&&cs.alternate===null&&f(Le,or),Oe=D(cs,Oe,pr),zr===null?Xt=cs:zr.sibling=cs,zr=cs,or=da}if(pr===Ue.length)return x(Le,or),ms&&Nf(Le,pr),Xt;if(or===null){for(;pr<Ue.length;pr++)or=ht(Le,Ue[pr],dt),or!==null&&(Oe=D(or,Oe,pr),zr===null?Xt=or:zr.sibling=or,zr=or);return ms&&Nf(Le,pr),Xt}for(or=b(or);pr<Ue.length;pr++)da=Ke(or,Le,pr,Ue[pr],dt),da!==null&&(c&&da.alternate!==null&&or.delete(da.key===null?pr:da.key),Oe=D(da,Oe,pr),zr===null?Xt=da:zr.sibling=da,zr=da);return c&&or.forEach(function(Qd){return f(Le,Qd)}),ms&&Nf(Le,pr),Xt}function mr(Le,Oe,Ue,dt){if(Ue==null)throw Error(n(151));for(var Xt=null,zr=null,or=Oe,pr=Oe=0,da=null,cs=Ue.next();or!==null&&!cs.done;pr++,cs=Ue.next()){or.index>pr?(da=or,or=null):da=or.sibling;var Qd=Ge(Le,or,cs.value,dt);if(Qd===null){or===null&&(or=da);break}c&&or&&Qd.alternate===null&&f(Le,or),Oe=D(Qd,Oe,pr),zr===null?Xt=Qd:zr.sibling=Qd,zr=Qd,or=da}if(cs.done)return x(Le,or),ms&&Nf(Le,pr),Xt;if(or===null){for(;!cs.done;pr++,cs=Ue.next())cs=ht(Le,cs.value,dt),cs!==null&&(Oe=D(cs,Oe,pr),zr===null?Xt=cs:zr.sibling=cs,zr=cs);return ms&&Nf(Le,pr),Xt}for(or=b(or);!cs.done;pr++,cs=Ue.next())cs=Ke(or,Le,pr,cs.value,dt),cs!==null&&(c&&cs.alternate!==null&&or.delete(cs.key===null?pr:cs.key),Oe=D(cs,Oe,pr),zr===null?Xt=cs:zr.sibling=cs,zr=cs);return c&&or.forEach(function(uK){return f(Le,uK)}),ms&&Nf(Le,pr),Xt}function ks(Le,Oe,Ue,dt){if(typeof Ue=="object"&&Ue!==null&&Ue.type===w&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case g:e:{for(var Xt=Ue.key;Oe!==null;){if(Oe.key===Xt){if(Xt=Ue.type,Xt===w){if(Oe.tag===7){x(Le,Oe.sibling),dt=C(Oe,Ue.props.children),dt.return=Le,Le=dt;break e}}else if(Oe.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===O&&zD(Xt)===Oe.type){x(Le,Oe.sibling),dt=C(Oe,Ue.props),ax(dt,Ue),dt.return=Le,Le=dt;break e}x(Le,Oe);break}else f(Le,Oe);Oe=Oe.sibling}Ue.type===w?(dt=bf(Ue.props.children,Le.mode,dt,Ue.key),dt.return=Le,Le=dt):(dt=gv(Ue.type,Ue.key,Ue.props,null,Le.mode,dt),ax(dt,Ue),dt.return=Le,Le=dt)}return G(Le);case y:e:{for(Xt=Ue.key;Oe!==null;){if(Oe.key===Xt)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ue.containerInfo&&Oe.stateNode.implementation===Ue.implementation){x(Le,Oe.sibling),dt=C(Oe,Ue.children||[]),dt.return=Le,Le=dt;break e}else{x(Le,Oe);break}else f(Le,Oe);Oe=Oe.sibling}dt=dj(Ue,Le.mode,dt),dt.return=Le,Le=dt}return G(Le);case O:return Xt=Ue._init,Ue=Xt(Ue._payload),ks(Le,Oe,Ue,dt)}if(te(Ue))return yr(Le,Oe,Ue,dt);if(q(Ue)){if(Xt=q(Ue),typeof Xt!="function")throw Error(n(150));return Ue=Xt.call(Ue),mr(Le,Oe,Ue,dt)}if(typeof Ue.then=="function")return ks(Le,Oe,Rv(Ue),dt);if(Ue.$$typeof===E)return ks(Le,Oe,wv(Le,Ue),dt);Mv(Le,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint"?(Ue=""+Ue,Oe!==null&&Oe.tag===6?(x(Le,Oe.sibling),dt=C(Oe,Ue),dt.return=Le,Le=dt):(x(Le,Oe),dt=cj(Ue,Le.mode,dt),dt.return=Le,Le=dt),G(Le)):x(Le,Oe)}return function(Le,Oe,Ue,dt){try{nx=0;var Xt=ks(Le,Oe,Ue,dt);return gm=null,Xt}catch(or){if(or===K0||or===jv)throw or;var zr=Ii(29,or,null,Le.mode);return zr.lanes=dt,zr.return=Le,zr}finally{}}}var ym=HD(!0),WD=HD(!1),lo=Y(null),_l=null;function Id(c){var f=c.alternate;z(Kn,Kn.current&1),z(lo,c),_l===null&&(f===null||hm.current!==null||f.memoizedState!==null)&&(_l=c)}function GD(c){if(c.tag===22){if(z(Kn,Kn.current),z(lo,c),_l===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(_l=c)}}else Fd()}function Fd(){z(Kn,Kn.current),z(lo,lo.current)}function Ec(c){F(lo),_l===c&&(_l=null),F(Kn)}var Kn=Y(0);function Iv(c){for(var f=c;f!==null;){if(f.tag===13){var x=f.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||O2(x)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function qj(c,f,x,b){f=c.memoizedState,x=x(b,f),x=x==null?f:h({},f,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var zj={enqueueSetState:function(c,f,x){c=c._reactInternals;var b=$i(),C=Pd(b);C.payload=f,x!=null&&(C.callback=x),f=Rd(c,C,b),f!==null&&(Ui(f,c,b),Q0(f,c,b))},enqueueReplaceState:function(c,f,x){c=c._reactInternals;var b=$i(),C=Pd(b);C.tag=1,C.payload=f,x!=null&&(C.callback=x),f=Rd(c,C,b),f!==null&&(Ui(f,c,b),Q0(f,c,b))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var x=$i(),b=Pd(x);b.tag=2,f!=null&&(b.callback=f),f=Rd(c,b,x),f!==null&&(Ui(f,c,x),Q0(f,c,x))}};function YD(c,f,x,b,C,D,G){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,D,G):f.prototype&&f.prototype.isPureReactComponent?!U0(x,b)||!U0(C,D):!0}function KD(c,f,x,b){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(x,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(x,b),f.state!==c&&zj.enqueueReplaceState(f,f.state,null)}function _f(c,f){var x=f;if("ref"in f){x={};for(var b in f)b!=="ref"&&(x[b]=f[b])}if(c=c.defaultProps){x===f&&(x=h({},x));for(var C in c)x[C]===void 0&&(x[C]=c[C])}return x}var Fv=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function XD(c){Fv(c)}function QD(c){console.error(c)}function ZD(c){Fv(c)}function Lv(c,f){try{var x=c.onUncaughtError;x(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function JD(c,f,x){try{var b=c.onCaughtError;b(x.value,{componentStack:x.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Hj(c,f,x){return x=Pd(x),x.tag=3,x.payload={element:null},x.callback=function(){Lv(c,f)},x}function e3(c){return c=Pd(c),c.tag=3,c}function t3(c,f,x,b){var C=x.type.getDerivedStateFromError;if(typeof C=="function"){var D=b.value;c.payload=function(){return C(D)},c.callback=function(){JD(f,x,b)}}var G=x.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(c.callback=function(){JD(f,x,b),typeof C!="function"&&(qd===null?qd=new Set([this]):qd.add(this));var ne=b.stack;this.componentDidCatch(b.value,{componentStack:ne!==null?ne:""})})}function uY(c,f,x,b,C){if(x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=x.alternate,f!==null&&W0(f,x,C,!0),x=lo.current,x!==null){switch(x.tag){case 13:return _l===null?p2():x.alternate===null&&un===0&&(un=3),x.flags&=-257,x.flags|=65536,x.lanes=C,b===bj?x.flags|=16384:(f=x.updateQueue,f===null?x.updateQueue=new Set([b]):f.add(b),g2(c,b,C)),!1;case 22:return x.flags|=65536,b===bj?x.flags|=16384:(f=x.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},x.updateQueue=f):(x=f.retryQueue,x===null?f.retryQueue=new Set([b]):x.add(b)),g2(c,b,C)),!1}throw Error(n(435,x.tag))}return g2(c,b,C),p2(),!1}if(ms)return f=lo.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=C,b!==hj&&(c=Error(n(422),{cause:b}),H0(no(c,x)))):(b!==hj&&(f=Error(n(423),{cause:b}),H0(no(f,x))),c=c.current.alternate,c.flags|=65536,C&=-C,c.lanes|=C,b=no(b,x),C=Hj(c.stateNode,b,C),jj(c,C),un!==4&&(un=2)),!1;var D=Error(n(520),{cause:b});if(D=no(D,x),fx===null?fx=[D]:fx.push(D),un!==4&&(un=2),f===null)return!0;b=no(b,x),x=f;do{switch(x.tag){case 3:return x.flags|=65536,c=C&-C,x.lanes|=c,c=Hj(x.stateNode,b,c),jj(x,c),!1;case 1:if(f=x.type,D=x.stateNode,(x.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(qd===null||!qd.has(D))))return x.flags|=65536,C&=-C,x.lanes|=C,C=e3(C),t3(C,c,x,b),jj(x,C),!1}x=x.return}while(x!==null);return!1}var r3=Error(n(461)),la=!1;function xa(c,f,x,b){f.child=c===null?WD(f,null,x,b):ym(f,c.child,x,b)}function s3(c,f,x,b,C){x=x.render;var D=f.ref;if("ref"in b){var G={};for(var ne in b)ne!=="ref"&&(G[ne]=b[ne])}else G=b;return Af(f),b=Tj(c,f,x,G,D,C),ne=_j(),c!==null&&!la?(kj(c,f,C),Ac(c,f,C)):(ms&&ne&&uj(f),f.flags|=1,xa(c,f,b,C),f.child)}function n3(c,f,x,b,C){if(c===null){var D=x.type;return typeof D=="function"&&!lj(D)&&D.defaultProps===void 0&&x.compare===null?(f.tag=15,f.type=D,a3(c,f,D,b,C)):(c=gv(x.type,null,b,f,f.mode,C),c.ref=f.ref,c.return=f,f.child=c)}if(D=c.child,!Jj(c,C)){var G=D.memoizedProps;if(x=x.compare,x=x!==null?x:U0,x(G,b)&&c.ref===f.ref)return Ac(c,f,C)}return f.flags|=1,c=vc(D,b),c.ref=f.ref,c.return=f,f.child=c}function a3(c,f,x,b,C){if(c!==null){var D=c.memoizedProps;if(U0(D,b)&&c.ref===f.ref)if(la=!1,f.pendingProps=b=D,Jj(c,C))(c.flags&131072)!==0&&(la=!0);else return f.lanes=c.lanes,Ac(c,f,C)}return Wj(c,f,x,b,C)}function i3(c,f,x){var b=f.pendingProps,C=b.children,D=c!==null?c.memoizedState:null;if(b.mode==="hidden"){if((f.flags&128)!==0){if(b=D!==null?D.baseLanes|x:x,c!==null){for(C=f.child=c.child,D=0;C!==null;)D=D|C.lanes|C.childLanes,C=C.sibling;f.childLanes=D&~b}else f.childLanes=0,f.child=null;return o3(c,f,b,x)}if((x&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Nv(f,D!==null?D.cachePool:null),D!==null?aD(f,D):Ej(),GD(f);else return f.lanes=f.childLanes=536870912,o3(c,f,D!==null?D.baseLanes|x:x,x)}else D!==null?(Nv(f,D.cachePool),aD(f,D),Fd(),f.memoizedState=null):(c!==null&&Nv(f,null),Ej(),Fd());return xa(c,f,C,x),f.child}function o3(c,f,x,b){var C=vj();return C=C===null?null:{parent:Yn._currentValue,pool:C},f.memoizedState={baseLanes:x,cachePool:C},c!==null&&Nv(f,null),Ej(),GD(f),c!==null&&W0(c,f,b,!0),null}function Bv(c,f){var x=f.ref;if(x===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(c===null||c.ref!==x)&&(f.flags|=4194816)}}function Wj(c,f,x,b,C){return Af(f),x=Tj(c,f,x,b,void 0,C),b=_j(),c!==null&&!la?(kj(c,f,C),Ac(c,f,C)):(ms&&b&&uj(f),f.flags|=1,xa(c,f,x,C),f.child)}function l3(c,f,x,b,C,D){return Af(f),f.updateQueue=null,x=oD(f,b,x,C),iD(c),b=_j(),c!==null&&!la?(kj(c,f,D),Ac(c,f,D)):(ms&&b&&uj(f),f.flags|=1,xa(c,f,x,D),f.child)}function c3(c,f,x,b,C){if(Af(f),f.stateNode===null){var D=lm,G=x.contextType;typeof G=="object"&&G!==null&&(D=Ra(G)),D=new x(b,D),f.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=zj,f.stateNode=D,D._reactInternals=f,D=f.stateNode,D.props=b,D.state=f.memoizedState,D.refs={},wj(f),G=x.contextType,D.context=typeof G=="object"&&G!==null?Ra(G):lm,D.state=f.memoizedState,G=x.getDerivedStateFromProps,typeof G=="function"&&(qj(f,x,G,b),D.state=f.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(G=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),G!==D.state&&zj.enqueueReplaceState(D,D.state,null),J0(f,b,D,C),Z0(),D.state=f.memoizedState),typeof D.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(c===null){D=f.stateNode;var ne=f.memoizedProps,Se=_f(x,ne);D.props=Se;var Ve=D.context,ot=x.contextType;G=lm,typeof ot=="object"&&ot!==null&&(G=Ra(ot));var ht=x.getDerivedStateFromProps;ot=typeof ht=="function"||typeof D.getSnapshotBeforeUpdate=="function",ne=f.pendingProps!==ne,ot||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ne||Ve!==G)&&KD(f,D,b,G),Od=!1;var Ge=f.memoizedState;D.state=Ge,J0(f,b,D,C),Z0(),Ve=f.memoizedState,ne||Ge!==Ve||Od?(typeof ht=="function"&&(qj(f,x,ht,b),Ve=f.memoizedState),(Se=Od||YD(f,x,Se,b,Ge,Ve,G))?(ot||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(f.flags|=4194308)):(typeof D.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=Ve),D.props=b,D.state=Ve,D.context=G,b=Se):(typeof D.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{D=f.stateNode,Nj(c,f),G=f.memoizedProps,ot=_f(x,G),D.props=ot,ht=f.pendingProps,Ge=D.context,Ve=x.contextType,Se=lm,typeof Ve=="object"&&Ve!==null&&(Se=Ra(Ve)),ne=x.getDerivedStateFromProps,(Ve=typeof ne=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G!==ht||Ge!==Se)&&KD(f,D,b,Se),Od=!1,Ge=f.memoizedState,D.state=Ge,J0(f,b,D,C),Z0();var Ke=f.memoizedState;G!==ht||Ge!==Ke||Od||c!==null&&c.dependencies!==null&&bv(c.dependencies)?(typeof ne=="function"&&(qj(f,x,ne,b),Ke=f.memoizedState),(ot=Od||YD(f,x,ot,b,Ge,Ke,Se)||c!==null&&c.dependencies!==null&&bv(c.dependencies))?(Ve||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(b,Ke,Se),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(b,Ke,Se)),typeof D.componentDidUpdate=="function"&&(f.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof D.componentDidUpdate!="function"||G===c.memoizedProps&&Ge===c.memoizedState||(f.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&Ge===c.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=Ke),D.props=b,D.state=Ke,D.context=Se,b=ot):(typeof D.componentDidUpdate!="function"||G===c.memoizedProps&&Ge===c.memoizedState||(f.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&Ge===c.memoizedState||(f.flags|=1024),b=!1)}return D=b,Bv(c,f),b=(f.flags&128)!==0,D||b?(D=f.stateNode,x=b&&typeof x.getDerivedStateFromError!="function"?null:D.render(),f.flags|=1,c!==null&&b?(f.child=ym(f,c.child,null,C),f.child=ym(f,null,x,C)):xa(c,f,x,C),f.memoizedState=D.state,c=f.child):c=Ac(c,f,C),c}function d3(c,f,x,b){return z0(),f.flags|=256,xa(c,f,x,b),f.child}var Gj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yj(c){return{baseLanes:c,cachePool:Qk()}}function Kj(c,f,x){return c=c!==null?c.childLanes&~x:0,f&&(c|=co),c}function u3(c,f,x){var b=f.pendingProps,C=!1,D=(f.flags&128)!==0,G;if((G=D)||(G=c!==null&&c.memoizedState===null?!1:(Kn.current&2)!==0),G&&(C=!0,f.flags&=-129),G=(f.flags&32)!==0,f.flags&=-33,c===null){if(ms){if(C?Id(f):Fd(),ms){var ne=dn,Se;if(Se=ne){e:{for(Se=ne,ne=Tl;Se.nodeType!==8;){if(!ne){ne=null;break e}if(Se=Uo(Se.nextSibling),Se===null){ne=null;break e}}ne=Se}ne!==null?(f.memoizedState={dehydrated:ne,treeContext:wf!==null?{id:bc,overflow:wc}:null,retryLane:536870912,hydrationErrors:null},Se=Ii(18,null,null,0),Se.stateNode=ne,Se.return=f,f.child=Se,Xa=f,dn=null,Se=!0):Se=!1}Se||Sf(f)}if(ne=f.memoizedState,ne!==null&&(ne=ne.dehydrated,ne!==null))return O2(ne)?f.lanes=32:f.lanes=536870912,null;Ec(f)}return ne=b.children,b=b.fallback,C?(Fd(),C=f.mode,ne=$v({mode:"hidden",children:ne},C),b=bf(b,C,x,null),ne.return=f,b.return=f,ne.sibling=b,f.child=ne,C=f.child,C.memoizedState=Yj(x),C.childLanes=Kj(c,G,x),f.memoizedState=Gj,b):(Id(f),Xj(f,ne))}if(Se=c.memoizedState,Se!==null&&(ne=Se.dehydrated,ne!==null)){if(D)f.flags&256?(Id(f),f.flags&=-257,f=Qj(c,f,x)):f.memoizedState!==null?(Fd(),f.child=c.child,f.flags|=128,f=null):(Fd(),C=b.fallback,ne=f.mode,b=$v({mode:"visible",children:b.children},ne),C=bf(C,ne,x,null),C.flags|=2,b.return=f,C.return=f,b.sibling=C,f.child=b,ym(f,c.child,null,x),b=f.child,b.memoizedState=Yj(x),b.childLanes=Kj(c,G,x),f.memoizedState=Gj,f=C);else if(Id(f),O2(ne)){if(G=ne.nextSibling&&ne.nextSibling.dataset,G)var Ve=G.dgst;G=Ve,b=Error(n(419)),b.stack="",b.digest=G,H0({value:b,source:null,stack:null}),f=Qj(c,f,x)}else if(la||W0(c,f,x,!1),G=(x&c.childLanes)!==0,la||G){if(G=Us,G!==null&&(b=x&-x,b=(b&42)!==0?1:ft(b),b=(b&(G.suspendedLanes|x))!==0?0:b,b!==0&&b!==Se.retryLane))throw Se.retryLane=b,om(c,b),Ui(G,c,b),r3;ne.data==="$?"||p2(),f=Qj(c,f,x)}else ne.data==="$?"?(f.flags|=192,f.child=c.child,f=null):(c=Se.treeContext,dn=Uo(ne.nextSibling),Xa=f,ms=!0,jf=null,Tl=!1,c!==null&&(io[oo++]=bc,io[oo++]=wc,io[oo++]=wf,bc=c.id,wc=c.overflow,wf=f),f=Xj(f,b.children),f.flags|=4096);return f}return C?(Fd(),C=b.fallback,ne=f.mode,Se=c.child,Ve=Se.sibling,b=vc(Se,{mode:"hidden",children:b.children}),b.subtreeFlags=Se.subtreeFlags&65011712,Ve!==null?C=vc(Ve,C):(C=bf(C,ne,x,null),C.flags|=2),C.return=f,b.return=f,b.sibling=C,f.child=b,b=C,C=f.child,ne=c.child.memoizedState,ne===null?ne=Yj(x):(Se=ne.cachePool,Se!==null?(Ve=Yn._currentValue,Se=Se.parent!==Ve?{parent:Ve,pool:Ve}:Se):Se=Qk(),ne={baseLanes:ne.baseLanes|x,cachePool:Se}),C.memoizedState=ne,C.childLanes=Kj(c,G,x),f.memoizedState=Gj,b):(Id(f),x=c.child,c=x.sibling,x=vc(x,{mode:"visible",children:b.children}),x.return=f,x.sibling=null,c!==null&&(G=f.deletions,G===null?(f.deletions=[c],f.flags|=16):G.push(c)),f.child=x,f.memoizedState=null,x)}function Xj(c,f){return f=$v({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function $v(c,f){return c=Ii(22,c,null,f),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function Qj(c,f,x){return ym(f,c.child,null,x),c=Xj(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function f3(c,f,x){c.lanes|=f;var b=c.alternate;b!==null&&(b.lanes|=f),pj(c.return,f,x)}function Zj(c,f,x,b,C){var D=c.memoizedState;D===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:x,tailMode:C}:(D.isBackwards=f,D.rendering=null,D.renderingStartTime=0,D.last=b,D.tail=x,D.tailMode=C)}function h3(c,f,x){var b=f.pendingProps,C=b.revealOrder,D=b.tail;if(xa(c,f,b.children,x),b=Kn.current,(b&2)!==0)b=b&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&f3(c,x,f);else if(c.tag===19)f3(c,x,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}switch(z(Kn,b),C){case"forwards":for(x=f.child,C=null;x!==null;)c=x.alternate,c!==null&&Iv(c)===null&&(C=x),x=x.sibling;x=C,x===null?(C=f.child,f.child=null):(C=x.sibling,x.sibling=null),Zj(f,!1,C,x,D);break;case"backwards":for(x=null,C=f.child,f.child=null;C!==null;){if(c=C.alternate,c!==null&&Iv(c)===null){f.child=C;break}c=C.sibling,C.sibling=x,x=C,C=c}Zj(f,!0,x,null,D);break;case"together":Zj(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ac(c,f,x){if(c!==null&&(f.dependencies=c.dependencies),Vd|=f.lanes,(x&f.childLanes)===0)if(c!==null){if(W0(c,f,x,!1),(x&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(n(153));if(f.child!==null){for(c=f.child,x=vc(c,c.pendingProps),f.child=x,x.return=f;c.sibling!==null;)c=c.sibling,x=x.sibling=vc(c,c.pendingProps),x.return=f;x.sibling=null}return f.child}function Jj(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&bv(c)))}function fY(c,f,x){switch(f.tag){case 3:se(f,f.stateNode.containerInfo),Dd(f,Yn,c.memoizedState.cache),z0();break;case 27:case 5:le(f);break;case 4:se(f,f.stateNode.containerInfo);break;case 10:Dd(f,f.type,f.memoizedProps.value);break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(Id(f),f.flags|=128,null):(x&f.child.childLanes)!==0?u3(c,f,x):(Id(f),c=Ac(c,f,x),c!==null?c.sibling:null);Id(f);break;case 19:var C=(c.flags&128)!==0;if(b=(x&f.childLanes)!==0,b||(W0(c,f,x,!1),b=(x&f.childLanes)!==0),C){if(b)return h3(c,f,x);f.flags|=128}if(C=f.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),z(Kn,Kn.current),b)break;return null;case 22:case 23:return f.lanes=0,i3(c,f,x);case 24:Dd(f,Yn,c.memoizedState.cache)}return Ac(c,f,x)}function m3(c,f,x){if(c!==null)if(c.memoizedProps!==f.pendingProps)la=!0;else{if(!Jj(c,x)&&(f.flags&128)===0)return la=!1,fY(c,f,x);la=(c.flags&131072)!==0}else la=!1,ms&&(f.flags&1048576)!==0&&zk(f,vv,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var b=f.elementType,C=b._init;if(b=C(b._payload),f.type=b,typeof b=="function")lj(b)?(c=_f(b,c),f.tag=1,f=c3(null,f,b,c,x)):(f.tag=0,f=Wj(null,f,b,c,x));else{if(b!=null){if(C=b.$$typeof,C===S){f.tag=11,f=s3(null,f,b,c,x);break e}else if(C===T){f.tag=14,f=n3(null,f,b,c,x);break e}}throw f=re(b)||b,Error(n(306,f,""))}}return f;case 0:return Wj(c,f,f.type,f.pendingProps,x);case 1:return b=f.type,C=_f(b,f.pendingProps),c3(c,f,b,C,x);case 3:e:{if(se(f,f.stateNode.containerInfo),c===null)throw Error(n(387));b=f.pendingProps;var D=f.memoizedState;C=D.element,Nj(c,f),J0(f,b,null,x);var G=f.memoizedState;if(b=G.cache,Dd(f,Yn,b),b!==D.cache&&xj(f,[Yn],x,!0),Z0(),b=G.element,D.isDehydrated)if(D={element:b,isDehydrated:!1,cache:G.cache},f.updateQueue.baseState=D,f.memoizedState=D,f.flags&256){f=d3(c,f,b,x);break e}else if(b!==C){C=no(Error(n(424)),f),H0(C),f=d3(c,f,b,x);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(dn=Uo(c.firstChild),Xa=f,ms=!0,jf=null,Tl=!0,x=WD(f,null,b,x),f.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(z0(),b===C){f=Ac(c,f,x);break e}xa(c,f,b,x)}f=f.child}return f;case 26:return Bv(c,f),c===null?(x=yO(f.type,null,f.pendingProps,null))?f.memoizedState=x:ms||(x=f.type,c=f.pendingProps,b=eb(ae.current).createElement(x),b[Hr]=f,b[jr]=c,ya(b,x,c),Fe(b),f.stateNode=b):f.memoizedState=yO(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return le(f),c===null&&ms&&(b=f.stateNode=pO(f.type,f.pendingProps,ae.current),Xa=f,Tl=!0,C=dn,Wd(f.type)?(P2=C,dn=Uo(b.firstChild)):dn=C),xa(c,f,f.pendingProps.children,x),Bv(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&ms&&((C=b=dn)&&(b=$Y(b,f.type,f.pendingProps,Tl),b!==null?(f.stateNode=b,Xa=f,dn=Uo(b.firstChild),Tl=!1,C=!0):C=!1),C||Sf(f)),le(f),C=f.type,D=f.pendingProps,G=c!==null?c.memoizedProps:null,b=D.children,_2(C,D)?b=null:G!==null&&_2(C,G)&&(f.flags|=32),f.memoizedState!==null&&(C=Tj(c,f,nY,null,null,x),wx._currentValue=C),Bv(c,f),xa(c,f,b,x),f.child;case 6:return c===null&&ms&&((c=x=dn)&&(x=UY(x,f.pendingProps,Tl),x!==null?(f.stateNode=x,Xa=f,dn=null,c=!0):c=!1),c||Sf(f)),null;case 13:return u3(c,f,x);case 4:return se(f,f.stateNode.containerInfo),b=f.pendingProps,c===null?f.child=ym(f,null,b,x):xa(c,f,b,x),f.child;case 11:return s3(c,f,f.type,f.pendingProps,x);case 7:return xa(c,f,f.pendingProps,x),f.child;case 8:return xa(c,f,f.pendingProps.children,x),f.child;case 12:return xa(c,f,f.pendingProps.children,x),f.child;case 10:return b=f.pendingProps,Dd(f,f.type,b.value),xa(c,f,b.children,x),f.child;case 9:return C=f.type._context,b=f.pendingProps.children,Af(f),C=Ra(C),b=b(C),f.flags|=1,xa(c,f,b,x),f.child;case 14:return n3(c,f,f.type,f.pendingProps,x);case 15:return a3(c,f,f.type,f.pendingProps,x);case 19:return h3(c,f,x);case 31:return b=f.pendingProps,x=f.mode,b={mode:b.mode,children:b.children},c===null?(x=$v(b,x),x.ref=f.ref,f.child=x,x.return=f,f=x):(x=vc(c.child,b),x.ref=f.ref,f.child=x,x.return=f,f=x),f;case 22:return i3(c,f,x);case 24:return Af(f),b=Ra(Yn),c===null?(C=vj(),C===null&&(C=Us,D=gj(),C.pooledCache=D,D.refCount++,D!==null&&(C.pooledCacheLanes|=x),C=D),f.memoizedState={parent:b,cache:C},wj(f),Dd(f,Yn,C)):((c.lanes&x)!==0&&(Nj(c,f),J0(f,null,null,x),Z0()),C=c.memoizedState,D=f.memoizedState,C.parent!==b?(C={parent:b,cache:b},f.memoizedState=C,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=C),Dd(f,Yn,b)):(b=D.cache,Dd(f,Yn,b),b!==C.cache&&xj(f,[Yn],x,!0))),xa(c,f,f.pendingProps.children,x),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function Cc(c){c.flags|=4}function p3(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!jO(f)){if(f=lo.current,f!==null&&((ss&4194048)===ss?_l!==null:(ss&62914560)!==ss&&(ss&536870912)===0||f!==_l))throw X0=bj,Zk;c.flags|=8192}}function Uv(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?ur():536870912,c.lanes|=f,Nm|=f)}function ix(c,f){if(!ms)switch(c.tailMode){case"hidden":f=c.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var b=null;x!==null;)x.alternate!==null&&(b=x),x=x.sibling;b===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function rn(c){var f=c.alternate!==null&&c.alternate.child===c.child,x=0,b=0;if(f)for(var C=c.child;C!==null;)x|=C.lanes|C.childLanes,b|=C.subtreeFlags&65011712,b|=C.flags&65011712,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)x|=C.lanes|C.childLanes,b|=C.subtreeFlags,b|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=b,c.childLanes=x,f}function hY(c,f,x){var b=f.pendingProps;switch(fj(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(f),null;case 1:return rn(f),null;case 3:return x=f.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),jc(Yn),Z(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&(q0(f)?Cc(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Gk())),rn(f),null;case 26:return x=f.memoizedState,c===null?(Cc(f),x!==null?(rn(f),p3(f,x)):(rn(f),f.flags&=-16777217)):x?x!==c.memoizedState?(Cc(f),rn(f),p3(f,x)):(rn(f),f.flags&=-16777217):(c.memoizedProps!==b&&Cc(f),rn(f),f.flags&=-16777217),null;case 27:Te(f),x=ae.current;var C=f.type;if(c!==null&&f.stateNode!=null)c.memoizedProps!==b&&Cc(f);else{if(!b){if(f.stateNode===null)throw Error(n(166));return rn(f),null}c=K.current,q0(f)?Hk(f):(c=pO(C,b,x),f.stateNode=c,Cc(f))}return rn(f),null;case 5:if(Te(f),x=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==b&&Cc(f);else{if(!b){if(f.stateNode===null)throw Error(n(166));return rn(f),null}if(c=K.current,q0(f))Hk(f);else{switch(C=eb(ae.current),c){case 1:c=C.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:c=C.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":c=C.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":c=C.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":c=C.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof b.is=="string"?C.createElement("select",{is:b.is}):C.createElement("select"),b.multiple?c.multiple=!0:b.size&&(c.size=b.size);break;default:c=typeof b.is=="string"?C.createElement(x,{is:b.is}):C.createElement(x)}}c[Hr]=f,c[jr]=b;e:for(C=f.child;C!==null;){if(C.tag===5||C.tag===6)c.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===f)break e;for(;C.sibling===null;){if(C.return===null||C.return===f)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}f.stateNode=c;e:switch(ya(c,x,b),x){case"button":case"input":case"select":case"textarea":c=!!b.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Cc(f)}}return rn(f),f.flags&=-16777217,null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==b&&Cc(f);else{if(typeof b!="string"&&f.stateNode===null)throw Error(n(166));if(c=ae.current,q0(f)){if(c=f.stateNode,x=f.memoizedProps,b=null,C=Xa,C!==null)switch(C.tag){case 27:case 5:b=C.memoizedProps}c[Hr]=f,c=!!(c.nodeValue===x||b!==null&&b.suppressHydrationWarning===!0||lO(c.nodeValue,x)),c||Sf(f)}else c=eb(c).createTextNode(b),c[Hr]=f,f.stateNode=c}return rn(f),null;case 13:if(b=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(C=q0(f),b!==null&&b.dehydrated!==null){if(c===null){if(!C)throw Error(n(318));if(C=f.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[Hr]=f}else z0(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;rn(f),C=!1}else C=Gk(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=C),C=!0;if(!C)return f.flags&256?(Ec(f),f):(Ec(f),null)}if(Ec(f),(f.flags&128)!==0)return f.lanes=x,f;if(x=b!==null,c=c!==null&&c.memoizedState!==null,x){b=f.child,C=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(C=b.alternate.memoizedState.cachePool.pool);var D=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(D=b.memoizedState.cachePool.pool),D!==C&&(b.flags|=2048)}return x!==c&&x&&(f.child.flags|=8192),Uv(f,f.updateQueue),rn(f),null;case 4:return Z(),c===null&&S2(f.stateNode.containerInfo),rn(f),null;case 10:return jc(f.type),rn(f),null;case 19:if(F(Kn),C=f.memoizedState,C===null)return rn(f),null;if(b=(f.flags&128)!==0,D=C.rendering,D===null)if(b)ix(C,!1);else{if(un!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(D=Iv(c),D!==null){for(f.flags|=128,ix(C,!1),c=D.updateQueue,f.updateQueue=c,Uv(f,c),f.subtreeFlags=0,c=x,x=f.child;x!==null;)qk(x,c),x=x.sibling;return z(Kn,Kn.current&1|2),f.child}c=c.sibling}C.tail!==null&&fe()>zv&&(f.flags|=128,b=!0,ix(C,!1),f.lanes=4194304)}else{if(!b)if(c=Iv(D),c!==null){if(f.flags|=128,b=!0,c=c.updateQueue,f.updateQueue=c,Uv(f,c),ix(C,!0),C.tail===null&&C.tailMode==="hidden"&&!D.alternate&&!ms)return rn(f),null}else 2*fe()-C.renderingStartTime>zv&&x!==536870912&&(f.flags|=128,b=!0,ix(C,!1),f.lanes=4194304);C.isBackwards?(D.sibling=f.child,f.child=D):(c=C.last,c!==null?c.sibling=D:f.child=D,C.last=D)}return C.tail!==null?(f=C.tail,C.rendering=f,C.tail=f.sibling,C.renderingStartTime=fe(),f.sibling=null,c=Kn.current,z(Kn,b?c&1|2:c&1),f):(rn(f),null);case 22:case 23:return Ec(f),Aj(),b=f.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(x&536870912)!==0&&(f.flags&128)===0&&(rn(f),f.subtreeFlags&6&&(f.flags|=8192)):rn(f),x=f.updateQueue,x!==null&&Uv(f,x.retryQueue),x=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==x&&(f.flags|=2048),c!==null&&F(Cf),null;case 24:return x=null,c!==null&&(x=c.memoizedState.cache),f.memoizedState.cache!==x&&(f.flags|=2048),jc(Yn),rn(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function mY(c,f){switch(fj(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return jc(Yn),Z(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Te(f),null;case 13:if(Ec(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(n(340));z0()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return F(Kn),null;case 4:return Z(),null;case 10:return jc(f.type),null;case 22:case 23:return Ec(f),Aj(),c!==null&&F(Cf),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return jc(Yn),null;case 25:return null;default:return null}}function x3(c,f){switch(fj(f),f.tag){case 3:jc(Yn),Z();break;case 26:case 27:case 5:Te(f);break;case 4:Z();break;case 13:Ec(f);break;case 19:F(Kn);break;case 10:jc(f.type);break;case 22:case 23:Ec(f),Aj(),c!==null&&F(Cf);break;case 24:jc(Yn)}}function ox(c,f){try{var x=f.updateQueue,b=x!==null?x.lastEffect:null;if(b!==null){var C=b.next;x=C;do{if((x.tag&c)===c){b=void 0;var D=x.create,G=x.inst;b=D(),G.destroy=b}x=x.next}while(x!==C)}}catch(ne){Ps(f,f.return,ne)}}function Ld(c,f,x){try{var b=f.updateQueue,C=b!==null?b.lastEffect:null;if(C!==null){var D=C.next;b=D;do{if((b.tag&c)===c){var G=b.inst,ne=G.destroy;if(ne!==void 0){G.destroy=void 0,C=f;var Se=x,Ve=ne;try{Ve()}catch(ot){Ps(C,Se,ot)}}}b=b.next}while(b!==D)}}catch(ot){Ps(f,f.return,ot)}}function g3(c){var f=c.updateQueue;if(f!==null){var x=c.stateNode;try{nD(f,x)}catch(b){Ps(c,c.return,b)}}}function y3(c,f,x){x.props=_f(c.type,c.memoizedProps),x.state=c.memoizedState;try{x.componentWillUnmount()}catch(b){Ps(c,f,b)}}function lx(c,f){try{var x=c.ref;if(x!==null){switch(c.tag){case 26:case 27:case 5:var b=c.stateNode;break;case 30:b=c.stateNode;break;default:b=c.stateNode}typeof x=="function"?c.refCleanup=x(b):x.current=b}}catch(C){Ps(c,f,C)}}function kl(c,f){var x=c.ref,b=c.refCleanup;if(x!==null)if(typeof b=="function")try{b()}catch(C){Ps(c,f,C)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(C){Ps(c,f,C)}else x.current=null}function v3(c){var f=c.type,x=c.memoizedProps,b=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":x.autoFocus&&b.focus();break e;case"img":x.src?b.src=x.src:x.srcSet&&(b.srcset=x.srcSet)}}catch(C){Ps(c,c.return,C)}}function e2(c,f,x){try{var b=c.stateNode;MY(b,c.type,x,f),b[jr]=f}catch(C){Ps(c,c.return,C)}}function b3(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Wd(c.type)||c.tag===4}function t2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||b3(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Wd(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function r2(c,f,x){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(c,f):(f=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,f.appendChild(c),x=x._reactRootContainer,x!=null||f.onclick!==null||(f.onclick=Jv));else if(b!==4&&(b===27&&Wd(c.type)&&(x=c.stateNode,f=null),c=c.child,c!==null))for(r2(c,f,x),c=c.sibling;c!==null;)r2(c,f,x),c=c.sibling}function Vv(c,f,x){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?x.insertBefore(c,f):x.appendChild(c);else if(b!==4&&(b===27&&Wd(c.type)&&(x=c.stateNode),c=c.child,c!==null))for(Vv(c,f,x),c=c.sibling;c!==null;)Vv(c,f,x),c=c.sibling}function w3(c){var f=c.stateNode,x=c.memoizedProps;try{for(var b=c.type,C=f.attributes;C.length;)f.removeAttributeNode(C[0]);ya(f,b,x),f[Hr]=c,f[jr]=x}catch(D){Ps(c,c.return,D)}}var Tc=!1,Nn=!1,s2=!1,N3=typeof WeakSet=="function"?WeakSet:Set,ca=null;function pY(c,f){if(c=c.containerInfo,C2=ib,c=Pk(c),tj(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var b=x.getSelection&&x.getSelection();if(b&&b.rangeCount!==0){x=b.anchorNode;var C=b.anchorOffset,D=b.focusNode;b=b.focusOffset;try{x.nodeType,D.nodeType}catch{x=null;break e}var G=0,ne=-1,Se=-1,Ve=0,ot=0,ht=c,Ge=null;t:for(;;){for(var Ke;ht!==x||C!==0&&ht.nodeType!==3||(ne=G+C),ht!==D||b!==0&&ht.nodeType!==3||(Se=G+b),ht.nodeType===3&&(G+=ht.nodeValue.length),(Ke=ht.firstChild)!==null;)Ge=ht,ht=Ke;for(;;){if(ht===c)break t;if(Ge===x&&++Ve===C&&(ne=G),Ge===D&&++ot===b&&(Se=G),(Ke=ht.nextSibling)!==null)break;ht=Ge,Ge=ht.parentNode}ht=Ke}x=ne===-1||Se===-1?null:{start:ne,end:Se}}else x=null}x=x||{start:0,end:0}}else x=null;for(T2={focusedElem:c,selectionRange:x},ib=!1,ca=f;ca!==null;)if(f=ca,c=f.child,(f.subtreeFlags&1024)!==0&&c!==null)c.return=f,ca=c;else for(;ca!==null;){switch(f=ca,D=f.alternate,c=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&D!==null){c=void 0,x=f,C=D.memoizedProps,D=D.memoizedState,b=x.stateNode;try{var yr=_f(x.type,C,x.elementType===x.type);c=b.getSnapshotBeforeUpdate(yr,D),b.__reactInternalSnapshotBeforeUpdate=c}catch(mr){Ps(x,x.return,mr)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,x=c.nodeType,x===9)D2(c);else if(x===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":D2(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=f.sibling,c!==null){c.return=f.return,ca=c;break}ca=f.return}}function j3(c,f,x){var b=x.flags;switch(x.tag){case 0:case 11:case 15:Bd(c,x),b&4&&ox(5,x);break;case 1:if(Bd(c,x),b&4)if(c=x.stateNode,f===null)try{c.componentDidMount()}catch(G){Ps(x,x.return,G)}else{var C=_f(x.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(C,f,c.__reactInternalSnapshotBeforeUpdate)}catch(G){Ps(x,x.return,G)}}b&64&&g3(x),b&512&&lx(x,x.return);break;case 3:if(Bd(c,x),b&64&&(c=x.updateQueue,c!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=x.child.stateNode;break;case 1:f=x.child.stateNode}try{nD(c,f)}catch(G){Ps(x,x.return,G)}}break;case 27:f===null&&b&4&&w3(x);case 26:case 5:Bd(c,x),f===null&&b&4&&v3(x),b&512&&lx(x,x.return);break;case 12:Bd(c,x);break;case 13:Bd(c,x),b&4&&A3(c,x),b&64&&(c=x.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(x=SY.bind(null,x),VY(c,x))));break;case 22:if(b=x.memoizedState!==null||Tc,!b){f=f!==null&&f.memoizedState!==null||Nn,C=Tc;var D=Nn;Tc=b,(Nn=f)&&!D?$d(c,x,(x.subtreeFlags&8772)!==0):Bd(c,x),Tc=C,Nn=D}break;case 30:break;default:Bd(c,x)}}function S3(c){var f=c.alternate;f!==null&&(c.alternate=null,S3(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&he(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Ys=null,xi=!1;function _c(c,f,x){for(x=x.child;x!==null;)E3(c,f,x),x=x.sibling}function E3(c,f,x){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(at,x)}catch{}switch(x.tag){case 26:Nn||kl(x,f),_c(c,f,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Nn||kl(x,f);var b=Ys,C=xi;Wd(x.type)&&(Ys=x.stateNode,xi=!1),_c(c,f,x),gx(x.stateNode),Ys=b,xi=C;break;case 5:Nn||kl(x,f);case 6:if(b=Ys,C=xi,Ys=null,_c(c,f,x),Ys=b,xi=C,Ys!==null)if(xi)try{(Ys.nodeType===9?Ys.body:Ys.nodeName==="HTML"?Ys.ownerDocument.body:Ys).removeChild(x.stateNode)}catch(D){Ps(x,f,D)}else try{Ys.removeChild(x.stateNode)}catch(D){Ps(x,f,D)}break;case 18:Ys!==null&&(xi?(c=Ys,hO(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,x.stateNode),Ex(c)):hO(Ys,x.stateNode));break;case 4:b=Ys,C=xi,Ys=x.stateNode.containerInfo,xi=!0,_c(c,f,x),Ys=b,xi=C;break;case 0:case 11:case 14:case 15:Nn||Ld(2,x,f),Nn||Ld(4,x,f),_c(c,f,x);break;case 1:Nn||(kl(x,f),b=x.stateNode,typeof b.componentWillUnmount=="function"&&y3(x,f,b)),_c(c,f,x);break;case 21:_c(c,f,x);break;case 22:Nn=(b=Nn)||x.memoizedState!==null,_c(c,f,x),Nn=b;break;default:_c(c,f,x)}}function A3(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Ex(c)}catch(x){Ps(f,f.return,x)}}function xY(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new N3),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new N3),f;default:throw Error(n(435,c.tag))}}function n2(c,f){var x=xY(c);f.forEach(function(b){var C=EY.bind(null,c,b);x.has(b)||(x.add(b),b.then(C,C))})}function Fi(c,f){var x=f.deletions;if(x!==null)for(var b=0;b<x.length;b++){var C=x[b],D=c,G=f,ne=G;e:for(;ne!==null;){switch(ne.tag){case 27:if(Wd(ne.type)){Ys=ne.stateNode,xi=!1;break e}break;case 5:Ys=ne.stateNode,xi=!1;break e;case 3:case 4:Ys=ne.stateNode.containerInfo,xi=!0;break e}ne=ne.return}if(Ys===null)throw Error(n(160));E3(D,G,C),Ys=null,xi=!1,D=C.alternate,D!==null&&(D.return=null),C.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)C3(f,c),f=f.sibling}var $o=null;function C3(c,f){var x=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Fi(f,c),Li(c),b&4&&(Ld(3,c,c.return),ox(3,c),Ld(5,c,c.return));break;case 1:Fi(f,c),Li(c),b&512&&(Nn||x===null||kl(x,x.return)),b&64&&Tc&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(x=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=x===null?b:x.concat(b))));break;case 26:var C=$o;if(Fi(f,c),Li(c),b&512&&(Nn||x===null||kl(x,x.return)),b&4){var D=x!==null?x.memoizedState:null;if(b=c.memoizedState,x===null)if(b===null)if(c.stateNode===null){e:{b=c.type,x=c.memoizedProps,C=C.ownerDocument||C;t:switch(b){case"title":D=C.getElementsByTagName("title")[0],(!D||D[ue]||D[Hr]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=C.createElement(b),C.head.insertBefore(D,C.querySelector("head > title"))),ya(D,b,x),D[Hr]=c,Fe(D),b=D;break e;case"link":var G=wO("link","href",C).get(b+(x.href||""));if(G){for(var ne=0;ne<G.length;ne++)if(D=G[ne],D.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&D.getAttribute("rel")===(x.rel==null?null:x.rel)&&D.getAttribute("title")===(x.title==null?null:x.title)&&D.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){G.splice(ne,1);break t}}D=C.createElement(b),ya(D,b,x),C.head.appendChild(D);break;case"meta":if(G=wO("meta","content",C).get(b+(x.content||""))){for(ne=0;ne<G.length;ne++)if(D=G[ne],D.getAttribute("content")===(x.content==null?null:""+x.content)&&D.getAttribute("name")===(x.name==null?null:x.name)&&D.getAttribute("property")===(x.property==null?null:x.property)&&D.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&D.getAttribute("charset")===(x.charSet==null?null:x.charSet)){G.splice(ne,1);break t}}D=C.createElement(b),ya(D,b,x),C.head.appendChild(D);break;default:throw Error(n(468,b))}D[Hr]=c,Fe(D),b=D}c.stateNode=b}else NO(C,c.type,c.stateNode);else c.stateNode=bO(C,b,c.memoizedProps);else D!==b?(D===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):D.count--,b===null?NO(C,c.type,c.stateNode):bO(C,b,c.memoizedProps)):b===null&&c.stateNode!==null&&e2(c,c.memoizedProps,x.memoizedProps)}break;case 27:Fi(f,c),Li(c),b&512&&(Nn||x===null||kl(x,x.return)),x!==null&&b&4&&e2(c,c.memoizedProps,x.memoizedProps);break;case 5:if(Fi(f,c),Li(c),b&512&&(Nn||x===null||kl(x,x.return)),c.flags&32){C=c.stateNode;try{ia(C,"")}catch(Ke){Ps(c,c.return,Ke)}}b&4&&c.stateNode!=null&&(C=c.memoizedProps,e2(c,C,x!==null?x.memoizedProps:C)),b&1024&&(s2=!0);break;case 6:if(Fi(f,c),Li(c),b&4){if(c.stateNode===null)throw Error(n(162));b=c.memoizedProps,x=c.stateNode;try{x.nodeValue=b}catch(Ke){Ps(c,c.return,Ke)}}break;case 3:if(sb=null,C=$o,$o=tb(f.containerInfo),Fi(f,c),$o=C,Li(c),b&4&&x!==null&&x.memoizedState.isDehydrated)try{Ex(f.containerInfo)}catch(Ke){Ps(c,c.return,Ke)}s2&&(s2=!1,T3(c));break;case 4:b=$o,$o=tb(c.stateNode.containerInfo),Fi(f,c),Li(c),$o=b;break;case 12:Fi(f,c),Li(c);break;case 13:Fi(f,c),Li(c),c.child.flags&8192&&c.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(d2=fe()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,n2(c,b)));break;case 22:C=c.memoizedState!==null;var Se=x!==null&&x.memoizedState!==null,Ve=Tc,ot=Nn;if(Tc=Ve||C,Nn=ot||Se,Fi(f,c),Nn=ot,Tc=Ve,Li(c),b&8192)e:for(f=c.stateNode,f._visibility=C?f._visibility&-2:f._visibility|1,C&&(x===null||Se||Tc||Nn||kf(c)),x=null,f=c;;){if(f.tag===5||f.tag===26){if(x===null){Se=x=f;try{if(D=Se.stateNode,C)G=D.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ne=Se.stateNode;var ht=Se.memoizedProps.style,Ge=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;ne.style.display=Ge==null||typeof Ge=="boolean"?"":(""+Ge).trim()}}catch(Ke){Ps(Se,Se.return,Ke)}}}else if(f.tag===6){if(x===null){Se=f;try{Se.stateNode.nodeValue=C?"":Se.memoizedProps}catch(Ke){Ps(Se,Se.return,Ke)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;x===f&&(x=null),f=f.return}x===f&&(x=null),f.sibling.return=f.return,f=f.sibling}b&4&&(b=c.updateQueue,b!==null&&(x=b.retryQueue,x!==null&&(b.retryQueue=null,n2(c,x))));break;case 19:Fi(f,c),Li(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,n2(c,b)));break;case 30:break;case 21:break;default:Fi(f,c),Li(c)}}function Li(c){var f=c.flags;if(f&2){try{for(var x,b=c.return;b!==null;){if(b3(b)){x=b;break}b=b.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var C=x.stateNode,D=t2(c);Vv(c,D,C);break;case 5:var G=x.stateNode;x.flags&32&&(ia(G,""),x.flags&=-33);var ne=t2(c);Vv(c,ne,G);break;case 3:case 4:var Se=x.stateNode.containerInfo,Ve=t2(c);r2(c,Ve,Se);break;default:throw Error(n(161))}}catch(ot){Ps(c,c.return,ot)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function T3(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;T3(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function Bd(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)j3(c,f.alternate,f),f=f.sibling}function kf(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Ld(4,f,f.return),kf(f);break;case 1:kl(f,f.return);var x=f.stateNode;typeof x.componentWillUnmount=="function"&&y3(f,f.return,x),kf(f);break;case 27:gx(f.stateNode);case 26:case 5:kl(f,f.return),kf(f);break;case 22:f.memoizedState===null&&kf(f);break;case 30:kf(f);break;default:kf(f)}c=c.sibling}}function $d(c,f,x){for(x=x&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,C=c,D=f,G=D.flags;switch(D.tag){case 0:case 11:case 15:$d(C,D,x),ox(4,D);break;case 1:if($d(C,D,x),b=D,C=b.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Ve){Ps(b,b.return,Ve)}if(b=D,C=b.updateQueue,C!==null){var ne=b.stateNode;try{var Se=C.shared.hiddenCallbacks;if(Se!==null)for(C.shared.hiddenCallbacks=null,C=0;C<Se.length;C++)sD(Se[C],ne)}catch(Ve){Ps(b,b.return,Ve)}}x&&G&64&&g3(D),lx(D,D.return);break;case 27:w3(D);case 26:case 5:$d(C,D,x),x&&b===null&&G&4&&v3(D),lx(D,D.return);break;case 12:$d(C,D,x);break;case 13:$d(C,D,x),x&&G&4&&A3(C,D);break;case 22:D.memoizedState===null&&$d(C,D,x),lx(D,D.return);break;case 30:break;default:$d(C,D,x)}f=f.sibling}}function a2(c,f){var x=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==x&&(c!=null&&c.refCount++,x!=null&&G0(x))}function i2(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&G0(c))}function Dl(c,f,x,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)_3(c,f,x,b),f=f.sibling}function _3(c,f,x,b){var C=f.flags;switch(f.tag){case 0:case 11:case 15:Dl(c,f,x,b),C&2048&&ox(9,f);break;case 1:Dl(c,f,x,b);break;case 3:Dl(c,f,x,b),C&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&G0(c)));break;case 12:if(C&2048){Dl(c,f,x,b),c=f.stateNode;try{var D=f.memoizedProps,G=D.id,ne=D.onPostCommit;typeof ne=="function"&&ne(G,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Se){Ps(f,f.return,Se)}}else Dl(c,f,x,b);break;case 13:Dl(c,f,x,b);break;case 23:break;case 22:D=f.stateNode,G=f.alternate,f.memoizedState!==null?D._visibility&2?Dl(c,f,x,b):cx(c,f):D._visibility&2?Dl(c,f,x,b):(D._visibility|=2,vm(c,f,x,b,(f.subtreeFlags&10256)!==0)),C&2048&&a2(G,f);break;case 24:Dl(c,f,x,b),C&2048&&i2(f.alternate,f);break;default:Dl(c,f,x,b)}}function vm(c,f,x,b,C){for(C=C&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var D=c,G=f,ne=x,Se=b,Ve=G.flags;switch(G.tag){case 0:case 11:case 15:vm(D,G,ne,Se,C),ox(8,G);break;case 23:break;case 22:var ot=G.stateNode;G.memoizedState!==null?ot._visibility&2?vm(D,G,ne,Se,C):cx(D,G):(ot._visibility|=2,vm(D,G,ne,Se,C)),C&&Ve&2048&&a2(G.alternate,G);break;case 24:vm(D,G,ne,Se,C),C&&Ve&2048&&i2(G.alternate,G);break;default:vm(D,G,ne,Se,C)}f=f.sibling}}function cx(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var x=c,b=f,C=b.flags;switch(b.tag){case 22:cx(x,b),C&2048&&a2(b.alternate,b);break;case 24:cx(x,b),C&2048&&i2(b.alternate,b);break;default:cx(x,b)}f=f.sibling}}var dx=8192;function bm(c){if(c.subtreeFlags&dx)for(c=c.child;c!==null;)k3(c),c=c.sibling}function k3(c){switch(c.tag){case 26:bm(c),c.flags&dx&&c.memoizedState!==null&&tK($o,c.memoizedState,c.memoizedProps);break;case 5:bm(c);break;case 3:case 4:var f=$o;$o=tb(c.stateNode.containerInfo),bm(c),$o=f;break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=dx,dx=16777216,bm(c),dx=f):bm(c));break;default:bm(c)}}function D3(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function ux(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var b=f[x];ca=b,P3(b,c)}D3(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)O3(c),c=c.sibling}function O3(c){switch(c.tag){case 0:case 11:case 15:ux(c),c.flags&2048&&Ld(9,c,c.return);break;case 3:ux(c);break;case 12:ux(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,qv(c)):ux(c);break;default:ux(c)}}function qv(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var b=f[x];ca=b,P3(b,c)}D3(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Ld(8,f,f.return),qv(f);break;case 22:x=f.stateNode,x._visibility&2&&(x._visibility&=-3,qv(f));break;default:qv(f)}c=c.sibling}}function P3(c,f){for(;ca!==null;){var x=ca;switch(x.tag){case 0:case 11:case 15:Ld(8,x,f);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var b=x.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:G0(x.memoizedState.cache)}if(b=x.child,b!==null)b.return=x,ca=b;else e:for(x=c;ca!==null;){b=ca;var C=b.sibling,D=b.return;if(S3(b),b===x){ca=null;break e}if(C!==null){C.return=D,ca=C;break e}ca=D}}}var gY={getCacheForType:function(c){var f=Ra(Yn),x=f.data.get(c);return x===void 0&&(x=c(),f.data.set(c,x)),x}},yY=typeof WeakMap=="function"?WeakMap:Map,ws=0,Us=null,Gr=null,ss=0,Ns=0,Bi=null,Ud=!1,wm=!1,o2=!1,kc=0,un=0,Vd=0,Df=0,l2=0,co=0,Nm=0,fx=null,gi=null,c2=!1,d2=0,zv=1/0,Hv=null,qd=null,ga=0,zd=null,jm=null,Sm=0,u2=0,f2=null,R3=null,hx=0,h2=null;function $i(){if((ws&2)!==0&&ss!==0)return ss&-ss;if(B.T!==null){var c=um;return c!==0?c:b2()}return er()}function M3(){co===0&&(co=(ss&536870912)===0||ms?Tt():536870912);var c=lo.current;return c!==null&&(c.flags|=32),co}function Ui(c,f,x){(c===Us&&(Ns===2||Ns===9)||c.cancelPendingCommit!==null)&&(Em(c,0),Hd(c,ss,co,!1)),ar(c,x),((ws&2)===0||c!==Us)&&(c===Us&&((ws&2)===0&&(Df|=x),un===4&&Hd(c,ss,co,!1)),Ol(c))}function I3(c,f,x){if((ws&6)!==0)throw Error(n(327));var b=!x&&(f&124)===0&&(f&c.expiredLanes)===0||Dr(c,f),C=b?wY(c,f):x2(c,f,!0),D=b;do{if(C===0){wm&&!b&&Hd(c,f,0,!1);break}else{if(x=c.current.alternate,D&&!vY(x)){C=x2(c,f,!1),D=!1;continue}if(C===2){if(D=f,c.errorRecoveryDisabledLanes&D)var G=0;else G=c.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){f=G;e:{var ne=c;C=fx;var Se=ne.current.memoizedState.isDehydrated;if(Se&&(Em(ne,G).flags|=256),G=x2(ne,G,!1),G!==2){if(o2&&!Se){ne.errorRecoveryDisabledLanes|=D,Df|=D,C=4;break e}D=gi,gi=C,D!==null&&(gi===null?gi=D:gi.push.apply(gi,D))}C=G}if(D=!1,C!==2)continue}}if(C===1){Em(c,0),Hd(c,f,0,!0);break}e:{switch(b=c,D=C,D){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:Hd(b,f,co,!Ud);break e;case 2:gi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(C=d2+300-fe(),10<C)){if(Hd(b,f,co,!Ud),$t(b,0,!0)!==0)break e;b.timeoutHandle=uO(F3.bind(null,b,x,gi,Hv,c2,f,co,Df,Nm,Ud,D,2,-0,0),C);break e}F3(b,x,gi,Hv,c2,f,co,Df,Nm,Ud,D,0,-0,0)}}break}while(!0);Ol(c)}function F3(c,f,x,b,C,D,G,ne,Se,Ve,ot,ht,Ge,Ke){if(c.timeoutHandle=-1,ht=f.subtreeFlags,(ht&8192||(ht&16785408)===16785408)&&(bx={stylesheets:null,count:0,unsuspend:eK},k3(f),ht=rK(),ht!==null)){c.cancelPendingCommit=ht(z3.bind(null,c,f,D,x,b,C,G,ne,Se,ot,1,Ge,Ke)),Hd(c,D,G,!Ve);return}z3(c,f,D,x,b,C,G,ne,Se)}function vY(c){for(var f=c;;){var x=f.tag;if((x===0||x===11||x===15)&&f.flags&16384&&(x=f.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var b=0;b<x.length;b++){var C=x[b],D=C.getSnapshot;C=C.value;try{if(!Mi(D(),C))return!1}catch{return!1}}if(x=f.child,f.subtreeFlags&16384&&x!==null)x.return=f,f=x;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Hd(c,f,x,b){f&=~l2,f&=~Df,c.suspendedLanes|=f,c.pingedLanes&=~f,b&&(c.warmLanes|=f),b=c.expirationTimes;for(var C=f;0<C;){var D=31-Mt(C),G=1<<D;b[D]=-1,C&=~G}x!==0&&we(c,x,f)}function Wv(){return(ws&6)===0?(mx(0),!1):!0}function m2(){if(Gr!==null){if(Ns===0)var c=Gr.return;else c=Gr,Nc=Ef=null,Dj(c),gm=null,nx=0,c=Gr;for(;c!==null;)x3(c.alternate,c),c=c.return;Gr=null}}function Em(c,f){var x=c.timeoutHandle;x!==-1&&(c.timeoutHandle=-1,FY(x)),x=c.cancelPendingCommit,x!==null&&(c.cancelPendingCommit=null,x()),m2(),Us=c,Gr=x=vc(c.current,null),ss=f,Ns=0,Bi=null,Ud=!1,wm=Dr(c,f),o2=!1,Nm=co=l2=Df=Vd=un=0,gi=fx=null,c2=!1,(f&8)!==0&&(f|=f&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=f;0<b;){var C=31-Mt(b),D=1<<C;f|=c[C],b&=~D}return kc=f,mv(),x}function L3(c,f){$r=null,B.H=Pv,f===K0||f===jv?(f=tD(),Ns=3):f===Zk?(f=tD(),Ns=4):Ns=f===r3?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Bi=f,Gr===null&&(un=1,Lv(c,no(f,c.current)))}function B3(){var c=B.H;return B.H=Pv,c===null?Pv:c}function $3(){var c=B.A;return B.A=gY,c}function p2(){un=4,Ud||(ss&4194048)!==ss&&lo.current!==null||(wm=!0),(Vd&134217727)===0&&(Df&134217727)===0||Us===null||Hd(Us,ss,co,!1)}function x2(c,f,x){var b=ws;ws|=2;var C=B3(),D=$3();(Us!==c||ss!==f)&&(Hv=null,Em(c,f)),f=!1;var G=un;e:do try{if(Ns!==0&&Gr!==null){var ne=Gr,Se=Bi;switch(Ns){case 8:m2(),G=6;break e;case 3:case 2:case 9:case 6:lo.current===null&&(f=!0);var Ve=Ns;if(Ns=0,Bi=null,Am(c,ne,Se,Ve),x&&wm){G=0;break e}break;default:Ve=Ns,Ns=0,Bi=null,Am(c,ne,Se,Ve)}}bY(),G=un;break}catch(ot){L3(c,ot)}while(!0);return f&&c.shellSuspendCounter++,Nc=Ef=null,ws=b,B.H=C,B.A=D,Gr===null&&(Us=null,ss=0,mv()),G}function bY(){for(;Gr!==null;)U3(Gr)}function wY(c,f){var x=ws;ws|=2;var b=B3(),C=$3();Us!==c||ss!==f?(Hv=null,zv=fe()+500,Em(c,f)):wm=Dr(c,f);e:do try{if(Ns!==0&&Gr!==null){f=Gr;var D=Bi;t:switch(Ns){case 1:Ns=0,Bi=null,Am(c,f,D,1);break;case 2:case 9:if(Jk(D)){Ns=0,Bi=null,V3(f);break}f=function(){Ns!==2&&Ns!==9||Us!==c||(Ns=7),Ol(c)},D.then(f,f);break e;case 3:Ns=7;break e;case 4:Ns=5;break e;case 7:Jk(D)?(Ns=0,Bi=null,V3(f)):(Ns=0,Bi=null,Am(c,f,D,7));break;case 5:var G=null;switch(Gr.tag){case 26:G=Gr.memoizedState;case 5:case 27:var ne=Gr;if(!G||jO(G)){Ns=0,Bi=null;var Se=ne.sibling;if(Se!==null)Gr=Se;else{var Ve=ne.return;Ve!==null?(Gr=Ve,Gv(Ve)):Gr=null}break t}}Ns=0,Bi=null,Am(c,f,D,5);break;case 6:Ns=0,Bi=null,Am(c,f,D,6);break;case 8:m2(),un=6;break e;default:throw Error(n(462))}}NY();break}catch(ot){L3(c,ot)}while(!0);return Nc=Ef=null,B.H=b,B.A=C,ws=x,Gr!==null?0:(Us=null,ss=0,mv(),un)}function NY(){for(;Gr!==null&&!Ie();)U3(Gr)}function U3(c){var f=m3(c.alternate,c,kc);c.memoizedProps=c.pendingProps,f===null?Gv(c):Gr=f}function V3(c){var f=c,x=f.alternate;switch(f.tag){case 15:case 0:f=l3(x,f,f.pendingProps,f.type,void 0,ss);break;case 11:f=l3(x,f,f.pendingProps,f.type.render,f.ref,ss);break;case 5:Dj(f);default:x3(x,f),f=Gr=qk(f,kc),f=m3(x,f,kc)}c.memoizedProps=c.pendingProps,f===null?Gv(c):Gr=f}function Am(c,f,x,b){Nc=Ef=null,Dj(f),gm=null,nx=0;var C=f.return;try{if(uY(c,C,f,x,ss)){un=1,Lv(c,no(x,c.current)),Gr=null;return}}catch(D){if(C!==null)throw Gr=C,D;un=1,Lv(c,no(x,c.current)),Gr=null;return}f.flags&32768?(ms||b===1?c=!0:wm||(ss&536870912)!==0?c=!1:(Ud=c=!0,(b===2||b===9||b===3||b===6)&&(b=lo.current,b!==null&&b.tag===13&&(b.flags|=16384))),q3(f,c)):Gv(f)}function Gv(c){var f=c;do{if((f.flags&32768)!==0){q3(f,Ud);return}c=f.return;var x=hY(f.alternate,f,kc);if(x!==null){Gr=x;return}if(f=f.sibling,f!==null){Gr=f;return}Gr=f=c}while(f!==null);un===0&&(un=5)}function q3(c,f){do{var x=mY(c.alternate,c);if(x!==null){x.flags&=32767,Gr=x;return}if(x=c.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!f&&(c=c.sibling,c!==null)){Gr=c;return}Gr=c=x}while(c!==null);un=6,Gr=null}function z3(c,f,x,b,C,D,G,ne,Se){c.cancelPendingCommit=null;do Yv();while(ga!==0);if((ws&6)!==0)throw Error(n(327));if(f!==null){if(f===c.current)throw Error(n(177));if(D=f.lanes|f.childLanes,D|=ij,hr(c,x,D,G,ne,Se),c===Us&&(Gr=Us=null,ss=0),jm=f,zd=c,Sm=x,u2=D,f2=C,R3=b,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,AY(Re,function(){return K3(),null})):(c.callbackNode=null,c.callbackPriority=0),b=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||b){b=B.T,B.T=null,C=H.p,H.p=2,G=ws,ws|=4;try{pY(c,f,x)}finally{ws=G,H.p=C,B.T=b}}ga=1,H3(),W3(),G3()}}function H3(){if(ga===1){ga=0;var c=zd,f=jm,x=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||x){x=B.T,B.T=null;var b=H.p;H.p=2;var C=ws;ws|=4;try{C3(f,c);var D=T2,G=Pk(c.containerInfo),ne=D.focusedElem,Se=D.selectionRange;if(G!==ne&&ne&&ne.ownerDocument&&Ok(ne.ownerDocument.documentElement,ne)){if(Se!==null&&tj(ne)){var Ve=Se.start,ot=Se.end;if(ot===void 0&&(ot=Ve),"selectionStart"in ne)ne.selectionStart=Ve,ne.selectionEnd=Math.min(ot,ne.value.length);else{var ht=ne.ownerDocument||document,Ge=ht&&ht.defaultView||window;if(Ge.getSelection){var Ke=Ge.getSelection(),yr=ne.textContent.length,mr=Math.min(Se.start,yr),ks=Se.end===void 0?mr:Math.min(Se.end,yr);!Ke.extend&&mr>ks&&(G=ks,ks=mr,mr=G);var Le=Dk(ne,mr),Oe=Dk(ne,ks);if(Le&&Oe&&(Ke.rangeCount!==1||Ke.anchorNode!==Le.node||Ke.anchorOffset!==Le.offset||Ke.focusNode!==Oe.node||Ke.focusOffset!==Oe.offset)){var Ue=ht.createRange();Ue.setStart(Le.node,Le.offset),Ke.removeAllRanges(),mr>ks?(Ke.addRange(Ue),Ke.extend(Oe.node,Oe.offset)):(Ue.setEnd(Oe.node,Oe.offset),Ke.addRange(Ue))}}}}for(ht=[],Ke=ne;Ke=Ke.parentNode;)Ke.nodeType===1&&ht.push({element:Ke,left:Ke.scrollLeft,top:Ke.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<ht.length;ne++){var dt=ht[ne];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}ib=!!C2,T2=C2=null}finally{ws=C,H.p=b,B.T=x}}c.current=f,ga=2}}function W3(){if(ga===2){ga=0;var c=zd,f=jm,x=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||x){x=B.T,B.T=null;var b=H.p;H.p=2;var C=ws;ws|=4;try{j3(c,f.alternate,f)}finally{ws=C,H.p=b,B.T=x}}ga=3}}function G3(){if(ga===4||ga===3){ga=0,Ne();var c=zd,f=jm,x=Sm,b=R3;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ga=5:(ga=0,jm=zd=null,Y3(c,c.pendingLanes));var C=c.pendingLanes;if(C===0&&(qd=null),Et(x),f=f.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(at,f,void 0,(f.current.flags&128)===128)}catch{}if(b!==null){f=B.T,C=H.p,H.p=2,B.T=null;try{for(var D=c.onRecoverableError,G=0;G<b.length;G++){var ne=b[G];D(ne.value,{componentStack:ne.stack})}}finally{B.T=f,H.p=C}}(Sm&3)!==0&&Yv(),Ol(c),C=c.pendingLanes,(x&4194090)!==0&&(C&42)!==0?c===h2?hx++:(hx=0,h2=c):hx=0,mx(0)}}function Y3(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,G0(f)))}function Yv(c){return H3(),W3(),G3(),K3()}function K3(){if(ga!==5)return!1;var c=zd,f=u2;u2=0;var x=Et(Sm),b=B.T,C=H.p;try{H.p=32>x?32:x,B.T=null,x=f2,f2=null;var D=zd,G=Sm;if(ga=0,jm=zd=null,Sm=0,(ws&6)!==0)throw Error(n(331));var ne=ws;if(ws|=4,O3(D.current),_3(D,D.current,G,x),ws=ne,mx(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(at,D)}catch{}return!0}finally{H.p=C,B.T=b,Y3(c,f)}}function X3(c,f,x){f=no(x,f),f=Hj(c.stateNode,f,2),c=Rd(c,f,2),c!==null&&(ar(c,2),Ol(c))}function Ps(c,f,x){if(c.tag===3)X3(c,c,x);else for(;f!==null;){if(f.tag===3){X3(f,c,x);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(qd===null||!qd.has(b))){c=no(x,c),x=e3(2),b=Rd(f,x,2),b!==null&&(t3(x,b,f,c),ar(b,2),Ol(b));break}}f=f.return}}function g2(c,f,x){var b=c.pingCache;if(b===null){b=c.pingCache=new yY;var C=new Set;b.set(f,C)}else C=b.get(f),C===void 0&&(C=new Set,b.set(f,C));C.has(x)||(o2=!0,C.add(x),c=jY.bind(null,c,f,x),f.then(c,c))}function jY(c,f,x){var b=c.pingCache;b!==null&&b.delete(f),c.pingedLanes|=c.suspendedLanes&x,c.warmLanes&=~x,Us===c&&(ss&x)===x&&(un===4||un===3&&(ss&62914560)===ss&&300>fe()-d2?(ws&2)===0&&Em(c,0):l2|=x,Nm===ss&&(Nm=0)),Ol(c)}function Q3(c,f){f===0&&(f=ur()),c=om(c,f),c!==null&&(ar(c,f),Ol(c))}function SY(c){var f=c.memoizedState,x=0;f!==null&&(x=f.retryLane),Q3(c,x)}function EY(c,f){var x=0;switch(c.tag){case 13:var b=c.stateNode,C=c.memoizedState;C!==null&&(x=C.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(n(314))}b!==null&&b.delete(f),Q3(c,x)}function AY(c,f){return Ze(c,f)}var Kv=null,Cm=null,y2=!1,Xv=!1,v2=!1,Of=0;function Ol(c){c!==Cm&&c.next===null&&(Cm===null?Kv=Cm=c:Cm=Cm.next=c),Xv=!0,y2||(y2=!0,TY())}function mx(c,f){if(!v2&&Xv){v2=!0;do for(var x=!1,b=Kv;b!==null;){if(c!==0){var C=b.pendingLanes;if(C===0)var D=0;else{var G=b.suspendedLanes,ne=b.pingedLanes;D=(1<<31-Mt(42|c)+1)-1,D&=C&~(G&~ne),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(x=!0,tO(b,D))}else D=ss,D=$t(b,b===Us?D:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(D&3)===0||Dr(b,D)||(x=!0,tO(b,D));b=b.next}while(x);v2=!1}}function CY(){Z3()}function Z3(){Xv=y2=!1;var c=0;Of!==0&&(IY()&&(c=Of),Of=0);for(var f=fe(),x=null,b=Kv;b!==null;){var C=b.next,D=J3(b,f);D===0?(b.next=null,x===null?Kv=C:x.next=C,C===null&&(Cm=x)):(x=b,(c!==0||(D&3)!==0)&&(Xv=!0)),b=C}mx(c)}function J3(c,f){for(var x=c.suspendedLanes,b=c.pingedLanes,C=c.expirationTimes,D=c.pendingLanes&-62914561;0<D;){var G=31-Mt(D),ne=1<<G,Se=C[G];Se===-1?((ne&x)===0||(ne&b)!==0)&&(C[G]=qr(ne,f)):Se<=f&&(c.expiredLanes|=ne),D&=~ne}if(f=Us,x=ss,x=$t(c,c===f?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b=c.callbackNode,x===0||c===f&&(Ns===2||Ns===9)||c.cancelPendingCommit!==null)return b!==null&&b!==null&&Be(b),c.callbackNode=null,c.callbackPriority=0;if((x&3)===0||Dr(c,x)){if(f=x&-x,f===c.callbackPriority)return f;switch(b!==null&&Be(b),Et(x)){case 2:case 8:x=Pe;break;case 32:x=Re;break;case 268435456:x=be;break;default:x=Re}return b=eO.bind(null,c),x=Ze(x,b),c.callbackPriority=f,c.callbackNode=x,f}return b!==null&&b!==null&&Be(b),c.callbackPriority=2,c.callbackNode=null,2}function eO(c,f){if(ga!==0&&ga!==5)return c.callbackNode=null,c.callbackPriority=0,null;var x=c.callbackNode;if(Yv()&&c.callbackNode!==x)return null;var b=ss;return b=$t(c,c===Us?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b===0?null:(I3(c,b,f),J3(c,fe()),c.callbackNode!=null&&c.callbackNode===x?eO.bind(null,c):null)}function tO(c,f){if(Yv())return null;I3(c,f,!0)}function TY(){LY(function(){(ws&6)!==0?Ze(ke,CY):Z3()})}function b2(){return Of===0&&(Of=Tt()),Of}function rO(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Sd(""+c)}function sO(c,f){var x=f.ownerDocument.createElement("input");return x.name=f.name,x.value=f.value,c.id&&x.setAttribute("form",c.id),f.parentNode.insertBefore(x,f),c=new FormData(c),x.parentNode.removeChild(x),c}function _Y(c,f,x,b,C){if(f==="submit"&&x&&x.stateNode===C){var D=rO((C[jr]||null).action),G=b.submitter;G&&(f=(f=G[jr]||null)?rO(f.formAction):G.getAttribute("formAction"),f!==null&&(D=f,G=null));var ne=new st("action","action",null,b,C);c.push({event:ne,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Of!==0){var Se=G?sO(C,G):new FormData(C);$j(x,{pending:!0,data:Se,method:C.method,action:D},null,Se)}}else typeof D=="function"&&(ne.preventDefault(),Se=G?sO(C,G):new FormData(C),$j(x,{pending:!0,data:Se,method:C.method,action:D},D,Se))},currentTarget:C}]})}}for(var w2=0;w2<aj.length;w2++){var N2=aj[w2],kY=N2.toLowerCase(),DY=N2[0].toUpperCase()+N2.slice(1);Bo(kY,"on"+DY)}Bo(Ik,"onAnimationEnd"),Bo(Fk,"onAnimationIteration"),Bo(Lk,"onAnimationStart"),Bo("dblclick","onDoubleClick"),Bo("focusin","onFocus"),Bo("focusout","onBlur"),Bo(YG,"onTransitionRun"),Bo(KG,"onTransitionStart"),Bo(XG,"onTransitionCancel"),Bo(Bk,"onTransitionEnd"),bt("onMouseEnter",["mouseout","mouseover"]),bt("onMouseLeave",["mouseout","mouseover"]),bt("onPointerEnter",["pointerout","pointerover"]),bt("onPointerLeave",["pointerout","pointerover"]),mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var px="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(px));function nO(c,f){f=(f&4)!==0;for(var x=0;x<c.length;x++){var b=c[x],C=b.event;b=b.listeners;e:{var D=void 0;if(f)for(var G=b.length-1;0<=G;G--){var ne=b[G],Se=ne.instance,Ve=ne.currentTarget;if(ne=ne.listener,Se!==D&&C.isPropagationStopped())break e;D=ne,C.currentTarget=Ve;try{D(C)}catch(ot){Fv(ot)}C.currentTarget=null,D=Se}else for(G=0;G<b.length;G++){if(ne=b[G],Se=ne.instance,Ve=ne.currentTarget,ne=ne.listener,Se!==D&&C.isPropagationStopped())break e;D=ne,C.currentTarget=Ve;try{D(C)}catch(ot){Fv(ot)}C.currentTarget=null,D=Se}}}}function Yr(c,f){var x=f[Ka];x===void 0&&(x=f[Ka]=new Set);var b=c+"__bubble";x.has(b)||(aO(f,c,2,!1),x.add(b))}function j2(c,f,x){var b=0;f&&(b|=4),aO(x,c,b,f)}var Qv="_reactListening"+Math.random().toString(36).slice(2);function S2(c){if(!c[Qv]){c[Qv]=!0,qe.forEach(function(x){x!=="selectionchange"&&(OY.has(x)||j2(x,!1,c),j2(x,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[Qv]||(f[Qv]=!0,j2("selectionchange",!1,f))}}function aO(c,f,x,b){switch(_O(f)){case 2:var C=aK;break;case 8:C=iK;break;default:C=L2}x=C.bind(null,f,x,c),C=void 0,!Cd||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(C=!0),b?C!==void 0?c.addEventListener(f,x,{capture:!0,passive:C}):c.addEventListener(f,x,!0):C!==void 0?c.addEventListener(f,x,{passive:C}):c.addEventListener(f,x,!1)}function E2(c,f,x,b,C){var D=b;if((f&1)===0&&(f&2)===0&&b!==null)e:for(;;){if(b===null)return;var G=b.tag;if(G===3||G===4){var ne=b.stateNode.containerInfo;if(ne===C)break;if(G===4)for(G=b.return;G!==null;){var Se=G.tag;if((Se===3||Se===4)&&G.stateNode.containerInfo===C)return;G=G.return}for(;ne!==null;){if(G=ge(ne),G===null)return;if(Se=G.tag,Se===5||Se===6||Se===26||Se===27){b=D=G;continue e}ne=ne.parentNode}}b=b.return}Ad(function(){var Ve=D,ot=Ed(x),ht=[];e:{var Ge=$k.get(c);if(Ge!==void 0){var Ke=st,yr=c;switch(c){case"keypress":if(_d(x)===0)break e;case"keydown":case"keyup":Ke=AG;break;case"focusin":yr="focus",Ke=bn;break;case"focusout":yr="blur",Ke=bn;break;case"beforeblur":case"afterblur":Ke=bn;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=_G;break;case Ik:case Fk:case Lk:Ke=Lo;break;case Bk:Ke=DG;break;case"scroll":case"scrollend":Ke=ir;break;case"wheel":Ke=PG;break;case"copy":case"cut":case"paste":Ke=fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=gk;break;case"toggle":case"beforetoggle":Ke=MG}var mr=(f&4)!==0,ks=!mr&&(c==="scroll"||c==="scrollend"),Le=mr?Ge!==null?Ge+"Capture":null:Ge;mr=[];for(var Oe=Ve,Ue;Oe!==null;){var dt=Oe;if(Ue=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||Ue===null||Le===null||(dt=so(Oe,Le),dt!=null&&mr.push(xx(Oe,dt,Ue))),ks)break;Oe=Oe.return}0<mr.length&&(Ge=new Ke(Ge,yr,null,x,ot),ht.push({event:Ge,listeners:mr}))}}if((f&7)===0){e:{if(Ge=c==="mouseover"||c==="pointerover",Ke=c==="mouseout"||c==="pointerout",Ge&&x!==pf&&(yr=x.relatedTarget||x.fromElement)&&(ge(yr)||yr[Bs]))break e;if((Ke||Ge)&&(Ge=ot.window===ot?ot:(Ge=ot.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,Ke?(yr=x.relatedTarget||x.toElement,Ke=Ve,yr=yr?ge(yr):null,yr!==null&&(ks=i(yr),mr=yr.tag,yr!==ks||mr!==5&&mr!==27&&mr!==6)&&(yr=null)):(Ke=null,yr=Ve),Ke!==yr)){if(mr=Gn,dt="onMouseLeave",Le="onMouseEnter",Oe="mouse",(c==="pointerout"||c==="pointerover")&&(mr=gk,dt="onPointerLeave",Le="onPointerEnter",Oe="pointer"),ks=Ke==null?Ge:Me(Ke),Ue=yr==null?Ge:Me(yr),Ge=new mr(dt,Oe+"leave",Ke,x,ot),Ge.target=ks,Ge.relatedTarget=Ue,dt=null,ge(ot)===Ve&&(mr=new mr(Le,Oe+"enter",yr,x,ot),mr.target=Ue,mr.relatedTarget=ks,dt=mr),ks=dt,Ke&&yr)t:{for(mr=Ke,Le=yr,Oe=0,Ue=mr;Ue;Ue=Tm(Ue))Oe++;for(Ue=0,dt=Le;dt;dt=Tm(dt))Ue++;for(;0<Oe-Ue;)mr=Tm(mr),Oe--;for(;0<Ue-Oe;)Le=Tm(Le),Ue--;for(;Oe--;){if(mr===Le||Le!==null&&mr===Le.alternate)break t;mr=Tm(mr),Le=Tm(Le)}mr=null}else mr=null;Ke!==null&&iO(ht,Ge,Ke,mr,!1),yr!==null&&ks!==null&&iO(ht,ks,yr,mr,!0)}}e:{if(Ge=Ve?Me(Ve):window,Ke=Ge.nodeName&&Ge.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&Ge.type==="file")var Xt=Ek;else if(jk(Ge))if(Ak)Xt=HG;else{Xt=qG;var zr=VG}else Ke=Ge.nodeName,!Ke||Ke.toLowerCase()!=="input"||Ge.type!=="checkbox"&&Ge.type!=="radio"?Ve&&hi(Ve.elementType)&&(Xt=Ek):Xt=zG;if(Xt&&(Xt=Xt(c,Ve))){Sk(ht,Xt,x,ot);break e}zr&&zr(c,Ge,Ve),c==="focusout"&&Ve&&Ge.type==="number"&&Ve.memoizedProps.value!=null&&xc(Ge,"number",Ge.value)}switch(zr=Ve?Me(Ve):window,c){case"focusin":(jk(zr)||zr.contentEditable==="true")&&(nm=zr,rj=Ve,V0=null);break;case"focusout":V0=rj=nm=null;break;case"mousedown":sj=!0;break;case"contextmenu":case"mouseup":case"dragend":sj=!1,Rk(ht,x,ot);break;case"selectionchange":if(GG)break;case"keydown":case"keyup":Rk(ht,x,ot)}var or;if(ZN)e:{switch(c){case"compositionstart":var pr="onCompositionStart";break e;case"compositionend":pr="onCompositionEnd";break e;case"compositionupdate":pr="onCompositionUpdate";break e}pr=void 0}else sm?wk(c,x)&&(pr="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(pr="onCompositionStart");pr&&(yk&&x.locale!=="ko"&&(sm||pr!=="onCompositionStart"?pr==="onCompositionEnd"&&sm&&(or=Td()):(Ri=ot,mi="value"in Ri?Ri.value:Ri.textContent,sm=!0)),zr=Zv(Ve,pr),0<zr.length&&(pr=new gf(pr,c,null,x,ot),ht.push({event:pr,listeners:zr}),or?pr.data=or:(or=Nk(x),or!==null&&(pr.data=or)))),(or=FG?LG(c,x):BG(c,x))&&(pr=Zv(Ve,"onBeforeInput"),0<pr.length&&(zr=new gf("onBeforeInput","beforeinput",null,x,ot),ht.push({event:zr,listeners:pr}),zr.data=or)),_Y(ht,c,Ve,x,ot)}nO(ht,f)})}function xx(c,f,x){return{instance:c,listener:f,currentTarget:x}}function Zv(c,f){for(var x=f+"Capture",b=[];c!==null;){var C=c,D=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||D===null||(C=so(c,x),C!=null&&b.unshift(xx(c,C,D)),C=so(c,f),C!=null&&b.push(xx(c,C,D))),c.tag===3)return b;c=c.return}return[]}function Tm(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function iO(c,f,x,b,C){for(var D=f._reactName,G=[];x!==null&&x!==b;){var ne=x,Se=ne.alternate,Ve=ne.stateNode;if(ne=ne.tag,Se!==null&&Se===b)break;ne!==5&&ne!==26&&ne!==27||Ve===null||(Se=Ve,C?(Ve=so(x,D),Ve!=null&&G.unshift(xx(x,Ve,Se))):C||(Ve=so(x,D),Ve!=null&&G.push(xx(x,Ve,Se)))),x=x.return}G.length!==0&&c.push({event:f,listeners:G})}var PY=/\r\n?/g,RY=/\u0000|\uFFFD/g;function oO(c){return(typeof c=="string"?c:""+c).replace(PY,`
`).replace(RY,"")}function lO(c,f){return f=oO(f),oO(c)===f}function Jv(){}function _s(c,f,x,b,C,D){switch(x){case"children":typeof b=="string"?f==="body"||f==="textarea"&&b===""||ia(c,b):(typeof b=="number"||typeof b=="bigint")&&f!=="body"&&ia(c,""+b);break;case"className":At(c,"class",b);break;case"tabIndex":At(c,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":At(c,x,b);break;case"style":tm(c,b,D);break;case"data":if(f!=="object"){At(c,"data",b);break}case"src":case"href":if(b===""&&(f!=="a"||x!=="href")){c.removeAttribute(x);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(x);break}b=Sd(""+b),c.setAttribute(x,b);break;case"action":case"formAction":if(typeof b=="function"){c.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(x==="formAction"?(f!=="input"&&_s(c,f,"name",C.name,C,null),_s(c,f,"formEncType",C.formEncType,C,null),_s(c,f,"formMethod",C.formMethod,C,null),_s(c,f,"formTarget",C.formTarget,C,null)):(_s(c,f,"encType",C.encType,C,null),_s(c,f,"method",C.method,C,null),_s(c,f,"target",C.target,C,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(x);break}b=Sd(""+b),c.setAttribute(x,b);break;case"onClick":b!=null&&(c.onclick=Jv);break;case"onScroll":b!=null&&Yr("scroll",c);break;case"onScrollEnd":b!=null&&Yr("scrollend",c);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(x=b.__html,x!=null){if(C.children!=null)throw Error(n(60));c.innerHTML=x}}break;case"multiple":c.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":c.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){c.removeAttribute("xlink:href");break}x=Sd(""+b),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(x,""+b):c.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(x,""):c.removeAttribute(x);break;case"capture":case"download":b===!0?c.setAttribute(x,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(x,b):c.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?c.setAttribute(x,b):c.removeAttribute(x);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?c.removeAttribute(x):c.setAttribute(x,b);break;case"popover":Yr("beforetoggle",c),Yr("toggle",c),pt(c,"popover",b);break;case"xlinkActuate":zt(c,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":zt(c,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":zt(c,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":zt(c,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":zt(c,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":zt(c,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":zt(c,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":zt(c,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":zt(c,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":pt(c,"is",b);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=I0.get(x)||x,pt(c,x,b))}}function A2(c,f,x,b,C,D){switch(x){case"style":tm(c,b,D);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(x=b.__html,x!=null){if(C.children!=null)throw Error(n(60));c.innerHTML=x}}break;case"children":typeof b=="string"?ia(c,b):(typeof b=="number"||typeof b=="bigint")&&ia(c,""+b);break;case"onScroll":b!=null&&Yr("scroll",c);break;case"onScrollEnd":b!=null&&Yr("scrollend",c);break;case"onClick":b!=null&&(c.onclick=Jv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!We.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(C=x.endsWith("Capture"),f=x.slice(2,C?x.length-7:void 0),D=c[jr]||null,D=D!=null?D[x]:null,typeof D=="function"&&c.removeEventListener(f,D,C),typeof b=="function")){typeof D!="function"&&D!==null&&(x in c?c[x]=null:c.hasAttribute(x)&&c.removeAttribute(x)),c.addEventListener(f,b,C);break e}x in c?c[x]=b:b===!0?c.setAttribute(x,""):pt(c,x,b)}}}function ya(c,f,x){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yr("error",c),Yr("load",c);var b=!1,C=!1,D;for(D in x)if(x.hasOwnProperty(D)){var G=x[D];if(G!=null)switch(D){case"src":b=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:_s(c,f,D,G,x,null)}}C&&_s(c,f,"srcSet",x.srcSet,x,null),b&&_s(c,f,"src",x.src,x,null);return;case"input":Yr("invalid",c);var ne=D=G=C=null,Se=null,Ve=null;for(b in x)if(x.hasOwnProperty(b)){var ot=x[b];if(ot!=null)switch(b){case"name":C=ot;break;case"type":G=ot;break;case"checked":Se=ot;break;case"defaultChecked":Ve=ot;break;case"value":D=ot;break;case"defaultValue":ne=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(n(137,f));break;default:_s(c,f,b,ot,x,null)}}Jh(c,D,ne,Se,Ve,G,C,!1),to(c);return;case"select":Yr("invalid",c),b=G=D=null;for(C in x)if(x.hasOwnProperty(C)&&(ne=x[C],ne!=null))switch(C){case"value":D=ne;break;case"defaultValue":G=ne;break;case"multiple":b=ne;default:_s(c,f,C,ne,x,null)}f=D,x=G,c.multiple=!!b,f!=null?Sl(c,!!b,f,!1):x!=null&&Sl(c,!!b,x,!0);return;case"textarea":Yr("invalid",c),D=C=b=null;for(G in x)if(x.hasOwnProperty(G)&&(ne=x[G],ne!=null))switch(G){case"value":b=ne;break;case"defaultValue":C=ne;break;case"children":D=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(91));break;default:_s(c,f,G,ne,x,null)}El(c,b,C,D),to(c);return;case"option":for(Se in x)if(x.hasOwnProperty(Se)&&(b=x[Se],b!=null))switch(Se){case"selected":c.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:_s(c,f,Se,b,x,null)}return;case"dialog":Yr("beforetoggle",c),Yr("toggle",c),Yr("cancel",c),Yr("close",c);break;case"iframe":case"object":Yr("load",c);break;case"video":case"audio":for(b=0;b<px.length;b++)Yr(px[b],c);break;case"image":Yr("error",c),Yr("load",c);break;case"details":Yr("toggle",c);break;case"embed":case"source":case"link":Yr("error",c),Yr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ve in x)if(x.hasOwnProperty(Ve)&&(b=x[Ve],b!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:_s(c,f,Ve,b,x,null)}return;default:if(hi(f)){for(ot in x)x.hasOwnProperty(ot)&&(b=x[ot],b!==void 0&&A2(c,f,ot,b,x,void 0));return}}for(ne in x)x.hasOwnProperty(ne)&&(b=x[ne],b!=null&&_s(c,f,ne,b,x,null))}function MY(c,f,x,b){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,D=null,G=null,ne=null,Se=null,Ve=null,ot=null;for(Ke in x){var ht=x[Ke];if(x.hasOwnProperty(Ke)&&ht!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":Se=ht;default:b.hasOwnProperty(Ke)||_s(c,f,Ke,null,b,ht)}}for(var Ge in b){var Ke=b[Ge];if(ht=x[Ge],b.hasOwnProperty(Ge)&&(Ke!=null||ht!=null))switch(Ge){case"type":D=Ke;break;case"name":C=Ke;break;case"checked":Ve=Ke;break;case"defaultChecked":ot=Ke;break;case"value":G=Ke;break;case"defaultValue":ne=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,f));break;default:Ke!==ht&&_s(c,f,Ge,Ke,b,ht)}}mf(c,G,ne,Se,Ve,ot,D,C);return;case"select":Ke=G=ne=Ge=null;for(D in x)if(Se=x[D],x.hasOwnProperty(D)&&Se!=null)switch(D){case"value":break;case"multiple":Ke=Se;default:b.hasOwnProperty(D)||_s(c,f,D,null,b,Se)}for(C in b)if(D=b[C],Se=x[C],b.hasOwnProperty(C)&&(D!=null||Se!=null))switch(C){case"value":Ge=D;break;case"defaultValue":ne=D;break;case"multiple":G=D;default:D!==Se&&_s(c,f,C,D,b,Se)}f=ne,x=G,b=Ke,Ge!=null?Sl(c,!!x,Ge,!1):!!b!=!!x&&(f!=null?Sl(c,!!x,f,!0):Sl(c,!!x,x?[]:"",!1));return;case"textarea":Ke=Ge=null;for(ne in x)if(C=x[ne],x.hasOwnProperty(ne)&&C!=null&&!b.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:_s(c,f,ne,null,b,C)}for(G in b)if(C=b[G],D=x[G],b.hasOwnProperty(G)&&(C!=null||D!=null))switch(G){case"value":Ge=C;break;case"defaultValue":Ke=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:C!==D&&_s(c,f,G,C,b,D)}em(c,Ge,Ke);return;case"option":for(var yr in x)if(Ge=x[yr],x.hasOwnProperty(yr)&&Ge!=null&&!b.hasOwnProperty(yr))switch(yr){case"selected":c.selected=!1;break;default:_s(c,f,yr,null,b,Ge)}for(Se in b)if(Ge=b[Se],Ke=x[Se],b.hasOwnProperty(Se)&&Ge!==Ke&&(Ge!=null||Ke!=null))switch(Se){case"selected":c.selected=Ge&&typeof Ge!="function"&&typeof Ge!="symbol";break;default:_s(c,f,Se,Ge,b,Ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mr in x)Ge=x[mr],x.hasOwnProperty(mr)&&Ge!=null&&!b.hasOwnProperty(mr)&&_s(c,f,mr,null,b,Ge);for(Ve in b)if(Ge=b[Ve],Ke=x[Ve],b.hasOwnProperty(Ve)&&Ge!==Ke&&(Ge!=null||Ke!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(n(137,f));break;default:_s(c,f,Ve,Ge,b,Ke)}return;default:if(hi(f)){for(var ks in x)Ge=x[ks],x.hasOwnProperty(ks)&&Ge!==void 0&&!b.hasOwnProperty(ks)&&A2(c,f,ks,void 0,b,Ge);for(ot in b)Ge=b[ot],Ke=x[ot],!b.hasOwnProperty(ot)||Ge===Ke||Ge===void 0&&Ke===void 0||A2(c,f,ot,Ge,b,Ke);return}}for(var Le in x)Ge=x[Le],x.hasOwnProperty(Le)&&Ge!=null&&!b.hasOwnProperty(Le)&&_s(c,f,Le,null,b,Ge);for(ht in b)Ge=b[ht],Ke=x[ht],!b.hasOwnProperty(ht)||Ge===Ke||Ge==null&&Ke==null||_s(c,f,ht,Ge,b,Ke)}var C2=null,T2=null;function eb(c){return c.nodeType===9?c:c.ownerDocument}function cO(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dO(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function _2(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var k2=null;function IY(){var c=window.event;return c&&c.type==="popstate"?c===k2?!1:(k2=c,!0):(k2=null,!1)}var uO=typeof setTimeout=="function"?setTimeout:void 0,FY=typeof clearTimeout=="function"?clearTimeout:void 0,fO=typeof Promise=="function"?Promise:void 0,LY=typeof queueMicrotask=="function"?queueMicrotask:typeof fO<"u"?function(c){return fO.resolve(null).then(c).catch(BY)}:uO;function BY(c){setTimeout(function(){throw c})}function Wd(c){return c==="head"}function hO(c,f){var x=f,b=0,C=0;do{var D=x.nextSibling;if(c.removeChild(x),D&&D.nodeType===8)if(x=D.data,x==="/$"){if(0<b&&8>b){x=b;var G=c.ownerDocument;if(x&1&&gx(G.documentElement),x&2&&gx(G.body),x&4)for(x=G.head,gx(x),G=x.firstChild;G;){var ne=G.nextSibling,Se=G.nodeName;G[ue]||Se==="SCRIPT"||Se==="STYLE"||Se==="LINK"&&G.rel.toLowerCase()==="stylesheet"||x.removeChild(G),G=ne}}if(C===0){c.removeChild(D),Ex(f);return}C--}else x==="$"||x==="$?"||x==="$!"?C++:b=x.charCodeAt(0)-48;else b=0;x=D}while(x);Ex(f)}function D2(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var x=f;switch(f=f.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":D2(x),he(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}c.removeChild(x)}}function $Y(c,f,x,b){for(;c.nodeType===1;){var C=x;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!b&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(b){if(!c[ue])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(D=c.getAttribute("rel"),D==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(D!==C.rel||c.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||c.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||c.getAttribute("title")!==(C.title==null?null:C.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(D=c.getAttribute("src"),(D!==(C.src==null?null:C.src)||c.getAttribute("type")!==(C.type==null?null:C.type)||c.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&D&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var D=C.name==null?null:""+C.name;if(C.type==="hidden"&&c.getAttribute("name")===D)return c}else return c;if(c=Uo(c.nextSibling),c===null)break}return null}function UY(c,f,x){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!x||(c=Uo(c.nextSibling),c===null))return null;return c}function O2(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function VY(c,f){var x=c.ownerDocument;if(c.data!=="$?"||x.readyState==="complete")f();else{var b=function(){f(),x.removeEventListener("DOMContentLoaded",b)};x.addEventListener("DOMContentLoaded",b),c._reactRetry=b}}function Uo(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return c}var P2=null;function mO(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(f===0)return c;f--}else x==="/$"&&f++}c=c.previousSibling}return null}function pO(c,f,x){switch(f=eb(x),c){case"html":if(c=f.documentElement,!c)throw Error(n(452));return c;case"head":if(c=f.head,!c)throw Error(n(453));return c;case"body":if(c=f.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function gx(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);he(c)}var uo=new Map,xO=new Set;function tb(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Dc=H.d;H.d={f:qY,r:zY,D:HY,C:WY,L:GY,m:YY,X:XY,S:KY,M:QY};function qY(){var c=Dc.f(),f=Wv();return c||f}function zY(c){var f=me(c);f!==null&&f.tag===5&&f.type==="form"?ID(f):Dc.r(c)}var _m=typeof document>"u"?null:document;function gO(c,f,x){var b=_m;if(b&&typeof f=="string"&&f){var C=Oa(f);C='link[rel="'+c+'"][href="'+C+'"]',typeof x=="string"&&(C+='[crossorigin="'+x+'"]'),xO.has(C)||(xO.add(C),c={rel:c,crossOrigin:x,href:f},b.querySelector(C)===null&&(f=b.createElement("link"),ya(f,"link",c),Fe(f),b.head.appendChild(f)))}}function HY(c){Dc.D(c),gO("dns-prefetch",c,null)}function WY(c,f){Dc.C(c,f),gO("preconnect",c,f)}function GY(c,f,x){Dc.L(c,f,x);var b=_m;if(b&&c&&f){var C='link[rel="preload"][as="'+Oa(f)+'"]';f==="image"&&x&&x.imageSrcSet?(C+='[imagesrcset="'+Oa(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(C+='[imagesizes="'+Oa(x.imageSizes)+'"]')):C+='[href="'+Oa(c)+'"]';var D=C;switch(f){case"style":D=km(c);break;case"script":D=Dm(c)}uo.has(D)||(c=h({rel:"preload",href:f==="image"&&x&&x.imageSrcSet?void 0:c,as:f},x),uo.set(D,c),b.querySelector(C)!==null||f==="style"&&b.querySelector(yx(D))||f==="script"&&b.querySelector(vx(D))||(f=b.createElement("link"),ya(f,"link",c),Fe(f),b.head.appendChild(f)))}}function YY(c,f){Dc.m(c,f);var x=_m;if(x&&c){var b=f&&typeof f.as=="string"?f.as:"script",C='link[rel="modulepreload"][as="'+Oa(b)+'"][href="'+Oa(c)+'"]',D=C;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=Dm(c)}if(!uo.has(D)&&(c=h({rel:"modulepreload",href:c},f),uo.set(D,c),x.querySelector(C)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(vx(D)))return}b=x.createElement("link"),ya(b,"link",c),Fe(b),x.head.appendChild(b)}}}function KY(c,f,x){Dc.S(c,f,x);var b=_m;if(b&&c){var C=Qe(b).hoistableStyles,D=km(c);f=f||"default";var G=C.get(D);if(!G){var ne={loading:0,preload:null};if(G=b.querySelector(yx(D)))ne.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":f},x),(x=uo.get(D))&&R2(c,x);var Se=G=b.createElement("link");Fe(Se),ya(Se,"link",c),Se._p=new Promise(function(Ve,ot){Se.onload=Ve,Se.onerror=ot}),Se.addEventListener("load",function(){ne.loading|=1}),Se.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,rb(G,f,b)}G={type:"stylesheet",instance:G,count:1,state:ne},C.set(D,G)}}}function XY(c,f){Dc.X(c,f);var x=_m;if(x&&c){var b=Qe(x).hoistableScripts,C=Dm(c),D=b.get(C);D||(D=x.querySelector(vx(C)),D||(c=h({src:c,async:!0},f),(f=uo.get(C))&&M2(c,f),D=x.createElement("script"),Fe(D),ya(D,"link",c),x.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},b.set(C,D))}}function QY(c,f){Dc.M(c,f);var x=_m;if(x&&c){var b=Qe(x).hoistableScripts,C=Dm(c),D=b.get(C);D||(D=x.querySelector(vx(C)),D||(c=h({src:c,async:!0,type:"module"},f),(f=uo.get(C))&&M2(c,f),D=x.createElement("script"),Fe(D),ya(D,"link",c),x.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},b.set(C,D))}}function yO(c,f,x,b){var C=(C=ae.current)?tb(C):null;if(!C)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(f=km(x.href),x=Qe(C).hoistableStyles,b=x.get(f),b||(b={type:"style",instance:null,count:0,state:null},x.set(f,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){c=km(x.href);var D=Qe(C).hoistableStyles,G=D.get(c);if(G||(C=C.ownerDocument||C,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(c,G),(D=C.querySelector(yx(c)))&&!D._p&&(G.instance=D,G.state.loading=5),uo.has(c)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},uo.set(c,x),D||ZY(C,c,x,G.state))),f&&b===null)throw Error(n(528,""));return G}if(f&&b!==null)throw Error(n(529,""));return null;case"script":return f=x.async,x=x.src,typeof x=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Dm(x),x=Qe(C).hoistableScripts,b=x.get(f),b||(b={type:"script",instance:null,count:0,state:null},x.set(f,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function km(c){return'href="'+Oa(c)+'"'}function yx(c){return'link[rel="stylesheet"]['+c+"]"}function vO(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function ZY(c,f,x,b){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?b.loading=1:(f=c.createElement("link"),b.preload=f,f.addEventListener("load",function(){return b.loading|=1}),f.addEventListener("error",function(){return b.loading|=2}),ya(f,"link",x),Fe(f),c.head.appendChild(f))}function Dm(c){return'[src="'+Oa(c)+'"]'}function vx(c){return"script[async]"+c}function bO(c,f,x){if(f.count++,f.instance===null)switch(f.type){case"style":var b=c.querySelector('style[data-href~="'+Oa(x.href)+'"]');if(b)return f.instance=b,Fe(b),b;var C=h({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return b=(c.ownerDocument||c).createElement("style"),Fe(b),ya(b,"style",C),rb(b,x.precedence,c),f.instance=b;case"stylesheet":C=km(x.href);var D=c.querySelector(yx(C));if(D)return f.state.loading|=4,f.instance=D,Fe(D),D;b=vO(x),(C=uo.get(C))&&R2(b,C),D=(c.ownerDocument||c).createElement("link"),Fe(D);var G=D;return G._p=new Promise(function(ne,Se){G.onload=ne,G.onerror=Se}),ya(D,"link",b),f.state.loading|=4,rb(D,x.precedence,c),f.instance=D;case"script":return D=Dm(x.src),(C=c.querySelector(vx(D)))?(f.instance=C,Fe(C),C):(b=x,(C=uo.get(D))&&(b=h({},x),M2(b,C)),c=c.ownerDocument||c,C=c.createElement("script"),Fe(C),ya(C,"link",b),c.head.appendChild(C),f.instance=C);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(b=f.instance,f.state.loading|=4,rb(b,x.precedence,c));return f.instance}function rb(c,f,x){for(var b=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=b.length?b[b.length-1]:null,D=C,G=0;G<b.length;G++){var ne=b[G];if(ne.dataset.precedence===f)D=ne;else if(D!==C)break}D?D.parentNode.insertBefore(c,D.nextSibling):(f=x.nodeType===9?x.head:x,f.insertBefore(c,f.firstChild))}function R2(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function M2(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var sb=null;function wO(c,f,x){if(sb===null){var b=new Map,C=sb=new Map;C.set(x,b)}else C=sb,b=C.get(x),b||(b=new Map,C.set(x,b));if(b.has(c))return b;for(b.set(c,null),x=x.getElementsByTagName(c),C=0;C<x.length;C++){var D=x[C];if(!(D[ue]||D[Hr]||c==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var G=D.getAttribute(f)||"";G=c+G;var ne=b.get(G);ne?ne.push(D):b.set(G,[D])}}return b}function NO(c,f,x){c=c.ownerDocument||c,c.head.insertBefore(x,f==="title"?c.querySelector("head > title"):null)}function JY(c,f,x){if(x===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function jO(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var bx=null;function eK(){}function tK(c,f,x){if(bx===null)throw Error(n(475));var b=bx;if(f.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var C=km(x.href),D=c.querySelector(yx(C));if(D){c=D._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(b.count++,b=nb.bind(b),c.then(b,b)),f.state.loading|=4,f.instance=D,Fe(D);return}D=c.ownerDocument||c,x=vO(x),(C=uo.get(C))&&R2(x,C),D=D.createElement("link"),Fe(D);var G=D;G._p=new Promise(function(ne,Se){G.onload=ne,G.onerror=Se}),ya(D,"link",x),f.instance=D}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(b.count++,f=nb.bind(b),c.addEventListener("load",f),c.addEventListener("error",f))}}function rK(){if(bx===null)throw Error(n(475));var c=bx;return c.stylesheets&&c.count===0&&I2(c,c.stylesheets),0<c.count?function(f){var x=setTimeout(function(){if(c.stylesheets&&I2(c,c.stylesheets),c.unsuspend){var b=c.unsuspend;c.unsuspend=null,b()}},6e4);return c.unsuspend=f,function(){c.unsuspend=null,clearTimeout(x)}}:null}function nb(){if(this.count--,this.count===0){if(this.stylesheets)I2(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var ab=null;function I2(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,ab=new Map,f.forEach(sK,c),ab=null,nb.call(c))}function sK(c,f){if(!(f.state.loading&4)){var x=ab.get(c);if(x)var b=x.get(null);else{x=new Map,ab.set(c,x);for(var C=c.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<C.length;D++){var G=C[D];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(x.set(G.dataset.precedence,G),b=G)}b&&x.set(null,b)}C=f.instance,G=C.getAttribute("data-precedence"),D=x.get(G)||b,D===b&&x.set(null,C),x.set(G,C),this.count++,b=nb.bind(this),C.addEventListener("load",b),C.addEventListener("error",b),D?D.parentNode.insertBefore(C,D.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(C,c.firstChild)),f.state.loading|=4}}var wx={$$typeof:E,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function nK(c,f,x,b,C,D,G,ne){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=b,this.onUncaughtError=C,this.onCaughtError=D,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function SO(c,f,x,b,C,D,G,ne,Se,Ve,ot,ht){return c=new nK(c,f,x,G,ne,Se,Ve,ht),f=1,D===!0&&(f|=24),D=Ii(3,null,null,f),c.current=D,D.stateNode=c,f=gj(),f.refCount++,c.pooledCache=f,f.refCount++,D.memoizedState={element:b,isDehydrated:x,cache:f},wj(D),c}function EO(c){return c?(c=lm,c):lm}function AO(c,f,x,b,C,D){C=EO(C),b.context===null?b.context=C:b.pendingContext=C,b=Pd(f),b.payload={element:x},D=D===void 0?null:D,D!==null&&(b.callback=D),x=Rd(c,b,f),x!==null&&(Ui(x,c,f),Q0(x,c,f))}function CO(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<f?x:f}}function F2(c,f){CO(c,f),(c=c.alternate)&&CO(c,f)}function TO(c){if(c.tag===13){var f=om(c,67108864);f!==null&&Ui(f,c,67108864),F2(c,67108864)}}var ib=!0;function aK(c,f,x,b){var C=B.T;B.T=null;var D=H.p;try{H.p=2,L2(c,f,x,b)}finally{H.p=D,B.T=C}}function iK(c,f,x,b){var C=B.T;B.T=null;var D=H.p;try{H.p=8,L2(c,f,x,b)}finally{H.p=D,B.T=C}}function L2(c,f,x,b){if(ib){var C=B2(b);if(C===null)E2(c,f,b,ob,x),kO(c,b);else if(lK(C,c,f,x,b))b.stopPropagation();else if(kO(c,b),f&4&&-1<oK.indexOf(c)){for(;C!==null;){var D=me(C);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var G=kr(D.pendingLanes);if(G!==0){var ne=D;for(ne.pendingLanes|=2,ne.entangledLanes|=2;G;){var Se=1<<31-Mt(G);ne.entanglements[1]|=Se,G&=~Se}Ol(D),(ws&6)===0&&(zv=fe()+500,mx(0))}}break;case 13:ne=om(D,2),ne!==null&&Ui(ne,D,2),Wv(),F2(D,2)}if(D=B2(b),D===null&&E2(c,f,b,ob,x),D===C)break;C=D}C!==null&&b.stopPropagation()}else E2(c,f,b,null,x)}}function B2(c){return c=Ed(c),$2(c)}var ob=null;function $2(c){if(ob=null,c=ge(c),c!==null){var f=i(c);if(f===null)c=null;else{var x=f.tag;if(x===13){if(c=o(f),c!==null)return c;c=null}else if(x===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return ob=c,null}function _O(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case ke:return 2;case Pe:return 8;case Re:case ie:return 32;case be:return 268435456;default:return 32}default:return 32}}var U2=!1,Gd=null,Yd=null,Kd=null,Nx=new Map,jx=new Map,Xd=[],oK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kO(c,f){switch(c){case"focusin":case"focusout":Gd=null;break;case"dragenter":case"dragleave":Yd=null;break;case"mouseover":case"mouseout":Kd=null;break;case"pointerover":case"pointerout":Nx.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":jx.delete(f.pointerId)}}function Sx(c,f,x,b,C,D){return c===null||c.nativeEvent!==D?(c={blockedOn:f,domEventName:x,eventSystemFlags:b,nativeEvent:D,targetContainers:[C]},f!==null&&(f=me(f),f!==null&&TO(f)),c):(c.eventSystemFlags|=b,f=c.targetContainers,C!==null&&f.indexOf(C)===-1&&f.push(C),c)}function lK(c,f,x,b,C){switch(f){case"focusin":return Gd=Sx(Gd,c,f,x,b,C),!0;case"dragenter":return Yd=Sx(Yd,c,f,x,b,C),!0;case"mouseover":return Kd=Sx(Kd,c,f,x,b,C),!0;case"pointerover":var D=C.pointerId;return Nx.set(D,Sx(Nx.get(D)||null,c,f,x,b,C)),!0;case"gotpointercapture":return D=C.pointerId,jx.set(D,Sx(jx.get(D)||null,c,f,x,b,C)),!0}return!1}function DO(c){var f=ge(c.target);if(f!==null){var x=i(f);if(x!==null){if(f=x.tag,f===13){if(f=o(x),f!==null){c.blockedOn=f,lr(c.priority,function(){if(x.tag===13){var b=$i();b=ft(b);var C=om(x,b);C!==null&&Ui(C,x,b),F2(x,b)}});return}}else if(f===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function lb(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var x=B2(c.nativeEvent);if(x===null){x=c.nativeEvent;var b=new x.constructor(x.type,x);pf=b,x.target.dispatchEvent(b),pf=null}else return f=me(x),f!==null&&TO(f),c.blockedOn=x,!1;f.shift()}return!0}function OO(c,f,x){lb(c)&&x.delete(f)}function cK(){U2=!1,Gd!==null&&lb(Gd)&&(Gd=null),Yd!==null&&lb(Yd)&&(Yd=null),Kd!==null&&lb(Kd)&&(Kd=null),Nx.forEach(OO),jx.forEach(OO)}function cb(c,f){c.blockedOn===f&&(c.blockedOn=null,U2||(U2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cK)))}var db=null;function PO(c){db!==c&&(db=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){db===c&&(db=null);for(var f=0;f<c.length;f+=3){var x=c[f],b=c[f+1],C=c[f+2];if(typeof b!="function"){if($2(b||x)===null)continue;break}var D=me(x);D!==null&&(c.splice(f,3),f-=3,$j(D,{pending:!0,data:C,method:x.method,action:b},b,C))}}))}function Ex(c){function f(Se){return cb(Se,c)}Gd!==null&&cb(Gd,c),Yd!==null&&cb(Yd,c),Kd!==null&&cb(Kd,c),Nx.forEach(f),jx.forEach(f);for(var x=0;x<Xd.length;x++){var b=Xd[x];b.blockedOn===c&&(b.blockedOn=null)}for(;0<Xd.length&&(x=Xd[0],x.blockedOn===null);)DO(x),x.blockedOn===null&&Xd.shift();if(x=(c.ownerDocument||c).$$reactFormReplay,x!=null)for(b=0;b<x.length;b+=3){var C=x[b],D=x[b+1],G=C[jr]||null;if(typeof D=="function")G||PO(x);else if(G){var ne=null;if(D&&D.hasAttribute("formAction")){if(C=D,G=D[jr]||null)ne=G.formAction;else if($2(C)!==null)continue}else ne=G.action;typeof ne=="function"?x[b+1]=ne:(x.splice(b,3),b-=3),PO(x)}}}function V2(c){this._internalRoot=c}ub.prototype.render=V2.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(n(409));var x=f.current,b=$i();AO(x,b,c,f,null,null)},ub.prototype.unmount=V2.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;AO(c.current,2,null,c,null,null),Wv(),f[Bs]=null}};function ub(c){this._internalRoot=c}ub.prototype.unstable_scheduleHydration=function(c){if(c){var f=er();c={blockedOn:null,target:c,priority:f};for(var x=0;x<Xd.length&&f!==0&&f<Xd[x].priority;x++);Xd.splice(x,0,c),x===0&&DO(c)}};var RO=t.version;if(RO!=="19.1.0")throw Error(n(527,RO,"19.1.0"));H.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=d(f),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var dK={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fb.isDisabled&&fb.supportsFiber)try{at=fb.inject(dK),ze=fb}catch{}}return Cx.createRoot=function(c,f){if(!a(c))throw Error(n(299));var x=!1,b="",C=XD,D=QD,G=ZD,ne=null;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(D=f.onCaughtError),f.onRecoverableError!==void 0&&(G=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ne=f.unstable_transitionCallbacks)),f=SO(c,1,!1,null,null,x,b,C,D,G,ne,null),c[Bs]=f.current,S2(c),new V2(f)},Cx.hydrateRoot=function(c,f,x){if(!a(c))throw Error(n(299));var b=!1,C="",D=XD,G=QD,ne=ZD,Se=null,Ve=null;return x!=null&&(x.unstable_strictMode===!0&&(b=!0),x.identifierPrefix!==void 0&&(C=x.identifierPrefix),x.onUncaughtError!==void 0&&(D=x.onUncaughtError),x.onCaughtError!==void 0&&(G=x.onCaughtError),x.onRecoverableError!==void 0&&(ne=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(Se=x.unstable_transitionCallbacks),x.formState!==void 0&&(Ve=x.formState)),f=SO(c,1,!0,f,x??null,b,C,D,G,ne,Se,Ve),f.context=EO(null),x=f.current,b=$i(),b=ft(b),C=Pd(b),C.callback=null,Rd(x,C,b),x=b,f.current.lanes=x,ar(f,x),Ol(f),c[Bs]=f.current,S2(c),new ub(f)},Cx.version="19.1.0",Cx}var HO;function NK(){if(HO)return W2.exports;HO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),W2.exports=wK(),W2.exports}var jK=NK(),a0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ah=typeof window>"u"||"Deno"in globalThis;function vo(){}function SK(e,t){return typeof e=="function"?e(t):e}function GE(e){return typeof e=="number"&&e>=0&&e!==1/0}function wF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function up(e,t){return typeof e=="function"?e(t):e}function Zo(e,t){return typeof e=="function"?e(t):e}function WO(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==tT(o,t.options))return!1}else if(!yg(t.queryKey,o))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function GO(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ih(t.options.mutationKey)!==ih(i))return!1}else if(!yg(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function tT(e,t){return((t==null?void 0:t.queryKeyHashFn)||ih)(e)}function ih(e){return JSON.stringify(e,(t,r)=>YE(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function yg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>yg(e[r],t[r])):!1}function NF(e,t){if(e===t)return e;const r=YO(e)&&YO(t);if(r||YE(e)&&YE(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let d=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=NF(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function j1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function YO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function YE(e){if(!KO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!KO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function KO(e){return Object.prototype.toString.call(e)==="[object Object]"}function EK(e){return new Promise(t=>{setTimeout(t,e)})}function KE(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?NF(e,t):t}function AK(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function CK(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var rT=Symbol();function jF(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var zf,yu,Ap,dF,TK=(dF=class extends a0{constructor(){super();dr(this,zf);dr(this,yu);dr(this,Ap);Ht(this,Ap,t=>{if(!ah&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_e(this,yu)||this.setEventListener(_e(this,Ap))}onUnsubscribe(){var t;this.hasListeners()||((t=_e(this,yu))==null||t.call(this),Ht(this,yu,void 0))}setEventListener(t){var r;Ht(this,Ap,t),(r=_e(this,yu))==null||r.call(this),Ht(this,yu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){_e(this,zf)!==t&&(Ht(this,zf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof _e(this,zf)=="boolean"?_e(this,zf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zf=new WeakMap,yu=new WeakMap,Ap=new WeakMap,dF),sT=new TK,Cp,vu,Tp,uF,_K=(uF=class extends a0{constructor(){super();dr(this,Cp,!0);dr(this,vu);dr(this,Tp);Ht(this,Tp,t=>{if(!ah&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){_e(this,vu)||this.setEventListener(_e(this,Tp))}onUnsubscribe(){var t;this.hasListeners()||((t=_e(this,vu))==null||t.call(this),Ht(this,vu,void 0))}setEventListener(t){var r;Ht(this,Tp,t),(r=_e(this,vu))==null||r.call(this),Ht(this,vu,t(this.setOnline.bind(this)))}setOnline(t){_e(this,Cp)!==t&&(Ht(this,Cp,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return _e(this,Cp)}},Cp=new WeakMap,vu=new WeakMap,Tp=new WeakMap,uF),S1=new _K;function XE(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function kK(e){return Math.min(1e3*2**e,3e4)}function SF(e){return(e??"online")==="online"?S1.isOnline():!0}var EF=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function X2(e){return e instanceof EF}function AF(e){let t=!1,r=0,n=!1,a;const i=XE(),o=v=>{var N;n||(g(new EF(v)),(N=e.abort)==null||N.call(e))},l=()=>{t=!0},d=()=>{t=!1},u=()=>sT.isFocused()&&(e.networkMode==="always"||S1.isOnline())&&e.canRun(),h=()=>SF(e.networkMode)&&e.canRun(),p=v=>{var N;n||(n=!0,(N=e.onSuccess)==null||N.call(e,v),a==null||a(),i.resolve(v))},g=v=>{var N;n||(n=!0,(N=e.onError)==null||N.call(e,v),a==null||a(),i.reject(v))},y=()=>new Promise(v=>{var N;a=j=>{(n||u())&&v(j)},(N=e.onPause)==null||N.call(e)}).then(()=>{var v;a=void 0,n||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(n)return;let v;const N=r===0?e.initialPromise:void 0;try{v=N??e.fn()}catch(j){v=Promise.reject(j)}Promise.resolve(v).then(p).catch(j=>{var k;if(n)return;const A=e.retry??(ah?0:3),E=e.retryDelay??kK,S=typeof E=="function"?E(r,j):E,_=A===!0||typeof A=="number"&&r<A||typeof A=="function"&&A(r,j);if(t||!_){g(j);return}r++,(k=e.onFail)==null||k.call(e,r,j),EK(S).then(()=>u()?void 0:y()).then(()=>{t?g(j):w()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:d,canStart:h,start:()=>(h()?w():y().then(w),i)}}var DK=e=>setTimeout(e,0);function OK(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=DK;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(d=>{r(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||o()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Jn=OK(),Hf,fF,CF=(fF=class{constructor(){dr(this,Hf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GE(this.gcTime)&&Ht(this,Hf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ah?1/0:5*60*1e3))}clearGcTimeout(){_e(this,Hf)&&(clearTimeout(_e(this,Hf)),Ht(this,Hf,void 0))}},Hf=new WeakMap,fF),_p,kp,yo,Wf,Ia,hy,Gf,Xo,Fc,hF,PK=(hF=class extends CF{constructor(t){super();dr(this,Xo);dr(this,_p);dr(this,kp);dr(this,yo);dr(this,Wf);dr(this,Ia);dr(this,hy);dr(this,Gf);Ht(this,Gf,!1),Ht(this,hy,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ht(this,Wf,t.client),Ht(this,yo,_e(this,Wf).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ht(this,_p,RK(this.options)),this.state=t.state??_e(this,_p),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_e(this,Ia))==null?void 0:t.promise}setOptions(t){this.options={..._e(this,hy),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_e(this,yo).remove(this)}setData(t,r){const n=KE(this.state.data,t,this.options);return Or(this,Xo,Fc).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Or(this,Xo,Fc).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=_e(this,Ia))==null?void 0:n.promise;return(a=_e(this,Ia))==null||a.cancel(t),r?r.then(vo).catch(vo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_e(this,_p))}isActive(){return this.observers.some(t=>Zo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!wF(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=_e(this,Ia))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=_e(this,Ia))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_e(this,yo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(_e(this,Ia)&&(_e(this,Gf)?_e(this,Ia).cancel({revert:!0}):_e(this,Ia).cancelRetry()),this.scheduleGc()),_e(this,yo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Or(this,Xo,Fc).call(this,{type:"invalidate"})}fetch(t,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_e(this,Ia))return _e(this,Ia).continueRetry(),_e(this,Ia).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,a=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ht(this,Gf,!0),n.signal)})},i=()=>{const p=jF(this.options,r),g={client:_e(this,Wf),queryKey:this.queryKey,meta:this.meta};return a(g),Ht(this,Gf,!1),this.options.persister?this.options.persister(p,g,this):p(g)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:_e(this,Wf),state:this.state,fetchFn:i};a(o),(d=this.options.behavior)==null||d.onFetch(o,this),Ht(this,kp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Or(this,Xo,Fc).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=p=>{var g,y,w,v;X2(p)&&p.silent||Or(this,Xo,Fc).call(this,{type:"error",error:p}),X2(p)||((y=(g=_e(this,yo).config).onError)==null||y.call(g,p,this),(v=(w=_e(this,yo).config).onSettled)==null||v.call(w,this.state.data,p,this)),this.scheduleGc()};return Ht(this,Ia,AF({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var g,y,w,v;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(N){l(N);return}(y=(g=_e(this,yo).config).onSuccess)==null||y.call(g,p,this),(v=(w=_e(this,yo).config).onSettled)==null||v.call(w,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{Or(this,Xo,Fc).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{Or(this,Xo,Fc).call(this,{type:"pause"})},onContinue:()=>{Or(this,Xo,Fc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),_e(this,Ia).start()}},_p=new WeakMap,kp=new WeakMap,yo=new WeakMap,Wf=new WeakMap,Ia=new WeakMap,hy=new WeakMap,Gf=new WeakMap,Xo=new WeakSet,Fc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...TF(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return X2(a)&&a.revert&&_e(this,kp)?{..._e(this,kp),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Jn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),_e(this,yo).notify({query:this,type:"updated",action:t})})},hF);function TF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function RK(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ll,mF,MK=(mF=class extends a0{constructor(t={}){super();dr(this,Ll);this.config=t,Ht(this,Ll,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??tT(a,r);let o=this.get(i);return o||(o=new PK({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){_e(this,Ll).has(t.queryHash)||(_e(this,Ll).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=_e(this,Ll).get(t.queryHash);r&&(t.destroy(),r===t&&_e(this,Ll).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Jn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _e(this,Ll).get(t)}getAll(){return[..._e(this,Ll).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>WO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>WO(t,n)):r}notify(t){Jn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Jn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Jn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ll=new WeakMap,mF),Bl,Qa,Yf,$l,iu,pF,IK=(pF=class extends CF{constructor(t){super();dr(this,$l);dr(this,Bl);dr(this,Qa);dr(this,Yf);this.mutationId=t.mutationId,Ht(this,Qa,t.mutationCache),Ht(this,Bl,[]),this.state=t.state||_F(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_e(this,Bl).includes(t)||(_e(this,Bl).push(t),this.clearGcTimeout(),_e(this,Qa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ht(this,Bl,_e(this,Bl).filter(r=>r!==t)),this.scheduleGc(),_e(this,Qa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_e(this,Bl).length||(this.state.status==="pending"?this.scheduleGc():_e(this,Qa).remove(this))}continue(){var t;return((t=_e(this,Yf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,d,u,h,p,g,y,w,v,N,j,A,E,S,_,k,T,O;const r=()=>{Or(this,$l,iu).call(this,{type:"continue"})};Ht(this,Yf,AF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{Or(this,$l,iu).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{Or(this,$l,iu).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_e(this,Qa).canRun(this)}));const n=this.state.status==="pending",a=!_e(this,Yf).canStart();try{if(n)r();else{Or(this,$l,iu).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=_e(this,Qa).config).onMutate)==null?void 0:o.call(i,t,this));const I=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t));I!==this.state.context&&Or(this,$l,iu).call(this,{type:"pending",context:I,variables:t,isPaused:a})}const P=await _e(this,Yf).start();return await((h=(u=_e(this,Qa).config).onSuccess)==null?void 0:h.call(u,P,t,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,P,t,this.state.context)),await((w=(y=_e(this,Qa).config).onSettled)==null?void 0:w.call(y,P,null,this.state.variables,this.state.context,this)),await((N=(v=this.options).onSettled)==null?void 0:N.call(v,P,null,t,this.state.context)),Or(this,$l,iu).call(this,{type:"success",data:P}),P}catch(P){try{throw await((A=(j=_e(this,Qa).config).onError)==null?void 0:A.call(j,P,t,this.state.context,this)),await((S=(E=this.options).onError)==null?void 0:S.call(E,P,t,this.state.context)),await((k=(_=_e(this,Qa).config).onSettled)==null?void 0:k.call(_,void 0,P,this.state.variables,this.state.context,this)),await((O=(T=this.options).onSettled)==null?void 0:O.call(T,void 0,P,t,this.state.context)),P}finally{Or(this,$l,iu).call(this,{type:"error",error:P})}}finally{_e(this,Qa).runNext(this)}}},Bl=new WeakMap,Qa=new WeakMap,Yf=new WeakMap,$l=new WeakSet,iu=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Jn.batch(()=>{_e(this,Bl).forEach(n=>{n.onMutationUpdate(t)}),_e(this,Qa).notify({mutation:this,type:"updated",action:t})})},pF);function _F(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $c,Qo,my,xF,FK=(xF=class extends a0{constructor(t={}){super();dr(this,$c);dr(this,Qo);dr(this,my);this.config=t,Ht(this,$c,new Set),Ht(this,Qo,new Map),Ht(this,my,0)}build(t,r,n){const a=new IK({mutationCache:this,mutationId:++hb(this,my)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){_e(this,$c).add(t);const r=mb(t);if(typeof r=="string"){const n=_e(this,Qo).get(r);n?n.push(t):_e(this,Qo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_e(this,$c).delete(t)){const r=mb(t);if(typeof r=="string"){const n=_e(this,Qo).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&_e(this,Qo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=mb(t);if(typeof r=="string"){const n=_e(this,Qo).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=mb(t);if(typeof r=="string"){const a=(n=_e(this,Qo).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Jn.batch(()=>{_e(this,$c).forEach(t=>{this.notify({type:"removed",mutation:t})}),_e(this,$c).clear(),_e(this,Qo).clear()})}getAll(){return Array.from(_e(this,$c))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>GO(r,n))}findAll(t={}){return this.getAll().filter(r=>GO(t,r))}notify(t){Jn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Jn.batch(()=>Promise.all(t.map(r=>r.continue().catch(vo))))}},$c=new WeakMap,Qo=new WeakMap,my=new WeakMap,xF);function mb(e){var t;return(t=e.options.scope)==null?void 0:t.id}function XO(e){return{onFetch:(t,r)=>{var h,p,g,y,w;const n=t.options,a=(g=(p=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const u=async()=>{let v=!1;const N=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},j=jF(t.options,t.fetchOptions),A=async(E,S,_)=>{if(v)return Promise.reject();if(S==null&&E.pages.length)return Promise.resolve(E);const k={client:t.client,queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};N(k);const T=await j(k),{maxPages:O}=t.options,P=_?CK:AK;return{pages:P(E.pages,T,O),pageParams:P(E.pageParams,S,O)}};if(a&&i.length){const E=a==="backward",S=E?LK:QO,_={pages:i,pageParams:o},k=S(n,_);l=await A(_,k,E)}else{const E=e??i.length;do{const S=d===0?o[0]??n.initialPageParam:QO(n,l);if(d>0&&S==null)break;l=await A(l,S),d++}while(d<E)}return l};t.options.persister?t.fetchFn=()=>{var v,N;return(N=(v=t.options).persister)==null?void 0:N.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function QO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function LK(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var hn,bu,wu,Dp,Op,Nu,Pp,Rp,gF,nT=(gF=class{constructor(e={}){dr(this,hn);dr(this,bu);dr(this,wu);dr(this,Dp);dr(this,Op);dr(this,Nu);dr(this,Pp);dr(this,Rp);Ht(this,hn,e.queryCache||new MK),Ht(this,bu,e.mutationCache||new FK),Ht(this,wu,e.defaultOptions||{}),Ht(this,Dp,new Map),Ht(this,Op,new Map),Ht(this,Nu,0)}mount(){hb(this,Nu)._++,_e(this,Nu)===1&&(Ht(this,Pp,sT.subscribe(async e=>{e&&(await this.resumePausedMutations(),_e(this,hn).onFocus())})),Ht(this,Rp,S1.subscribe(async e=>{e&&(await this.resumePausedMutations(),_e(this,hn).onOnline())})))}unmount(){var e,t;hb(this,Nu)._--,_e(this,Nu)===0&&((e=_e(this,Pp))==null||e.call(this),Ht(this,Pp,void 0),(t=_e(this,Rp))==null||t.call(this),Ht(this,Rp,void 0))}isFetching(e){return _e(this,hn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _e(this,bu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_e(this,hn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=_e(this,hn).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(up(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return _e(this,hn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=_e(this,hn).get(n.queryHash),i=a==null?void 0:a.state.data,o=SK(t,i);if(o!==void 0)return _e(this,hn).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Jn.batch(()=>_e(this,hn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_e(this,hn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=_e(this,hn);Jn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=_e(this,hn);return Jn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Jn.batch(()=>_e(this,hn).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(vo).catch(vo)}invalidateQueries(e,t={}){return Jn.batch(()=>(_e(this,hn).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Jn.batch(()=>_e(this,hn).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(vo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(vo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=_e(this,hn).build(this,t);return r.isStaleByTime(up(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vo).catch(vo)}fetchInfiniteQuery(e){return e.behavior=XO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vo).catch(vo)}ensureInfiniteQueryData(e){return e.behavior=XO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return S1.isOnline()?_e(this,bu).resumePausedMutations():Promise.resolve()}getQueryCache(){return _e(this,hn)}getMutationCache(){return _e(this,bu)}getDefaultOptions(){return _e(this,wu)}setDefaultOptions(e){Ht(this,wu,e)}setQueryDefaults(e,t){_e(this,Dp).set(ih(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._e(this,Dp).values()],r={};return t.forEach(n=>{yg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){_e(this,Op).set(ih(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._e(this,Op).values()],r={};return t.forEach(n=>{yg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._e(this,wu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===rT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._e(this,wu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_e(this,hn).clear(),_e(this,bu).clear()}},hn=new WeakMap,bu=new WeakMap,wu=new WeakMap,Dp=new WeakMap,Op=new WeakMap,Nu=new WeakMap,Pp=new WeakMap,Rp=new WeakMap,gF),bi,es,py,Za,Kf,Mp,ju,Su,xy,Ip,Fp,Xf,Qf,Eu,Lp,gs,zx,QE,ZE,JE,eA,tA,rA,sA,kF,yF,BK=(yF=class extends a0{constructor(t,r){super();dr(this,gs);dr(this,bi);dr(this,es);dr(this,py);dr(this,Za);dr(this,Kf);dr(this,Mp);dr(this,ju);dr(this,Su);dr(this,xy);dr(this,Ip);dr(this,Fp);dr(this,Xf);dr(this,Qf);dr(this,Eu);dr(this,Lp,new Set);this.options=r,Ht(this,bi,t),Ht(this,Su,null),Ht(this,ju,XE()),this.options.experimental_prefetchInRender||_e(this,ju).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_e(this,es).addObserver(this),ZO(_e(this,es),this.options)?Or(this,gs,zx).call(this):this.updateResult(),Or(this,gs,eA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nA(_e(this,es),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nA(_e(this,es),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Or(this,gs,tA).call(this),Or(this,gs,rA).call(this),_e(this,es).removeObserver(this)}setOptions(t){const r=this.options,n=_e(this,es);if(this.options=_e(this,bi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zo(this.options.enabled,_e(this,es))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Or(this,gs,sA).call(this),_e(this,es).setOptions(this.options),r._defaulted&&!j1(this.options,r)&&_e(this,bi).getQueryCache().notify({type:"observerOptionsUpdated",query:_e(this,es),observer:this});const a=this.hasListeners();a&&JO(_e(this,es),n,this.options,r)&&Or(this,gs,zx).call(this),this.updateResult(),a&&(_e(this,es)!==n||Zo(this.options.enabled,_e(this,es))!==Zo(r.enabled,_e(this,es))||up(this.options.staleTime,_e(this,es))!==up(r.staleTime,_e(this,es)))&&Or(this,gs,QE).call(this);const i=Or(this,gs,ZE).call(this);a&&(_e(this,es)!==n||Zo(this.options.enabled,_e(this,es))!==Zo(r.enabled,_e(this,es))||i!==_e(this,Eu))&&Or(this,gs,JE).call(this,i)}getOptimisticResult(t){const r=_e(this,bi).getQueryCache().build(_e(this,bi),t),n=this.createResult(r,t);return UK(this,n)&&(Ht(this,Za,n),Ht(this,Mp,this.options),Ht(this,Kf,_e(this,es).state)),n}getCurrentResult(){return _e(this,Za)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){_e(this,Lp).add(t)}getCurrentQuery(){return _e(this,es)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=_e(this,bi).defaultQueryOptions(t),n=_e(this,bi).getQueryCache().build(_e(this,bi),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Or(this,gs,zx).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_e(this,Za)))}createResult(t,r){var P;const n=_e(this,es),a=this.options,i=_e(this,Za),o=_e(this,Kf),l=_e(this,Mp),u=t!==n?t.state:_e(this,py),{state:h}=t;let p={...h},g=!1,y;if(r._optimisticResults){const I=this.hasListeners(),M=!I&&ZO(t,r),q=I&&JO(t,n,r,a);(M||q)&&(p={...p,...TF(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:N}=p;y=p.data;let j=!1;if(r.placeholderData!==void 0&&y===void 0&&N==="pending"){let I;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(I=i.data,j=!0):I=typeof r.placeholderData=="function"?r.placeholderData((P=_e(this,Fp))==null?void 0:P.state.data,_e(this,Fp)):r.placeholderData,I!==void 0&&(N="success",y=KE(i==null?void 0:i.data,I,r),g=!0)}if(r.select&&y!==void 0&&!j)if(i&&y===(o==null?void 0:o.data)&&r.select===_e(this,xy))y=_e(this,Ip);else try{Ht(this,xy,r.select),y=r.select(y),y=KE(i==null?void 0:i.data,y,r),Ht(this,Ip,y),Ht(this,Su,null)}catch(I){Ht(this,Su,I)}_e(this,Su)&&(w=_e(this,Su),y=_e(this,Ip),v=Date.now(),N="error");const A=p.fetchStatus==="fetching",E=N==="pending",S=N==="error",_=E&&A,k=y!==void 0,O={status:N,fetchStatus:p.fetchStatus,isPending:E,isSuccess:N==="success",isError:S,isInitialLoading:_,isLoading:_,data:y,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:A,isRefetching:A&&!E,isLoadingError:S&&!k,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:S&&k,isStale:aT(t,r),refetch:this.refetch,promise:_e(this,ju)};if(this.options.experimental_prefetchInRender){const I=U=>{O.status==="error"?U.reject(O.error):O.data!==void 0&&U.resolve(O.data)},M=()=>{const U=Ht(this,ju,O.promise=XE());I(U)},q=_e(this,ju);switch(q.status){case"pending":t.queryHash===n.queryHash&&I(q);break;case"fulfilled":(O.status==="error"||O.data!==q.value)&&M();break;case"rejected":(O.status!=="error"||O.error!==q.reason)&&M();break}}return O}updateResult(){const t=_e(this,Za),r=this.createResult(_e(this,es),this.options);if(Ht(this,Kf,_e(this,es).state),Ht(this,Mp,this.options),_e(this,Kf).data!==void 0&&Ht(this,Fp,_e(this,es)),j1(r,t))return;Ht(this,Za,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!_e(this,Lp).size)return!0;const o=new Set(i??_e(this,Lp));return this.options.throwOnError&&o.add("error"),Object.keys(_e(this,Za)).some(l=>{const d=l;return _e(this,Za)[d]!==t[d]&&o.has(d)})};Or(this,gs,kF).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Or(this,gs,eA).call(this)}},bi=new WeakMap,es=new WeakMap,py=new WeakMap,Za=new WeakMap,Kf=new WeakMap,Mp=new WeakMap,ju=new WeakMap,Su=new WeakMap,xy=new WeakMap,Ip=new WeakMap,Fp=new WeakMap,Xf=new WeakMap,Qf=new WeakMap,Eu=new WeakMap,Lp=new WeakMap,gs=new WeakSet,zx=function(t){Or(this,gs,sA).call(this);let r=_e(this,es).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(vo)),r},QE=function(){Or(this,gs,tA).call(this);const t=up(this.options.staleTime,_e(this,es));if(ah||_e(this,Za).isStale||!GE(t))return;const n=wF(_e(this,Za).dataUpdatedAt,t)+1;Ht(this,Xf,setTimeout(()=>{_e(this,Za).isStale||this.updateResult()},n))},ZE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_e(this,es)):this.options.refetchInterval)??!1},JE=function(t){Or(this,gs,rA).call(this),Ht(this,Eu,t),!(ah||Zo(this.options.enabled,_e(this,es))===!1||!GE(_e(this,Eu))||_e(this,Eu)===0)&&Ht(this,Qf,setInterval(()=>{(this.options.refetchIntervalInBackground||sT.isFocused())&&Or(this,gs,zx).call(this)},_e(this,Eu)))},eA=function(){Or(this,gs,QE).call(this),Or(this,gs,JE).call(this,Or(this,gs,ZE).call(this))},tA=function(){_e(this,Xf)&&(clearTimeout(_e(this,Xf)),Ht(this,Xf,void 0))},rA=function(){_e(this,Qf)&&(clearInterval(_e(this,Qf)),Ht(this,Qf,void 0))},sA=function(){const t=_e(this,bi).getQueryCache().build(_e(this,bi),this.options);if(t===_e(this,es))return;const r=_e(this,es);Ht(this,es,t),Ht(this,py,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},kF=function(t){Jn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(_e(this,Za))}),_e(this,bi).getQueryCache().notify({query:_e(this,es),type:"observerResultsUpdated"})})},yF);function $K(e,t){return Zo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ZO(e,t){return $K(e,t)||e.state.data!==void 0&&nA(e,t,t.refetchOnMount)}function nA(e,t,r){if(Zo(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&aT(e,t)}return!1}function JO(e,t,r,n){return(e!==t||Zo(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&aT(e,r)}function aT(e,t){return Zo(t.enabled,e)!==!1&&e.isStaleByTime(up(t.staleTime,e))}function UK(e,t){return!j1(e.getCurrentResult(),t)}var Au,Cu,wi,Uc,Jc,n1,aA,vF,VK=(vF=class extends a0{constructor(r,n){super();dr(this,Jc);dr(this,Au);dr(this,Cu);dr(this,wi);dr(this,Uc);Ht(this,Au,r),this.setOptions(n),this.bindMethods(),Or(this,Jc,n1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=_e(this,Au).defaultMutationOptions(r),j1(this.options,n)||_e(this,Au).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_e(this,wi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ih(n.mutationKey)!==ih(this.options.mutationKey)?this.reset():((a=_e(this,wi))==null?void 0:a.state.status)==="pending"&&_e(this,wi).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=_e(this,wi))==null||r.removeObserver(this)}onMutationUpdate(r){Or(this,Jc,n1).call(this),Or(this,Jc,aA).call(this,r)}getCurrentResult(){return _e(this,Cu)}reset(){var r;(r=_e(this,wi))==null||r.removeObserver(this),Ht(this,wi,void 0),Or(this,Jc,n1).call(this),Or(this,Jc,aA).call(this)}mutate(r,n){var a;return Ht(this,Uc,n),(a=_e(this,wi))==null||a.removeObserver(this),Ht(this,wi,_e(this,Au).getMutationCache().build(_e(this,Au),this.options)),_e(this,wi).addObserver(this),_e(this,wi).execute(r)}},Au=new WeakMap,Cu=new WeakMap,wi=new WeakMap,Uc=new WeakMap,Jc=new WeakSet,n1=function(){var n;const r=((n=_e(this,wi))==null?void 0:n.state)??_F();Ht(this,Cu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},aA=function(r){Jn.batch(()=>{var n,a,i,o,l,d,u,h;if(_e(this,Uc)&&this.hasListeners()){const p=_e(this,Cu).variables,g=_e(this,Cu).context;(r==null?void 0:r.type)==="success"?((a=(n=_e(this,Uc)).onSuccess)==null||a.call(n,r.data,p,g),(o=(i=_e(this,Uc)).onSettled)==null||o.call(i,r.data,null,p,g)):(r==null?void 0:r.type)==="error"&&((d=(l=_e(this,Uc)).onError)==null||d.call(l,r.error,p,g),(h=(u=_e(this,Uc)).onSettled)==null||h.call(u,void 0,r.error,p,g))}this.listeners.forEach(p=>{p(_e(this,Cu))})})},vF),DF=m.createContext(void 0),yn=e=>{const t=m.useContext(DF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qK=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(DF.Provider,{value:e,children:t})),OF=m.createContext(!1),zK=()=>m.useContext(OF);OF.Provider;function HK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var WK=m.createContext(HK()),GK=()=>m.useContext(WK);function PF(e,t){return typeof e=="function"?e(...t):!!e}function iA(){}var YK=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},KK=e=>{m.useEffect(()=>{e.clearReset()},[e])},XK=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||PF(r,[e.error,n])),QK=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},ZK=(e,t)=>e.isLoading&&e.isFetching&&!t,JK=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,eP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function eX(e,t,r){var p,g,y,w,v;const n=yn(),a=zK(),i=GK(),o=n.defaultQueryOptions(e);(g=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||g.call(p,o),o._optimisticResults=a?"isRestoring":"optimistic",QK(o),YK(o,i),KK(i);const l=!n.getQueryCache().get(o.queryHash),[d]=m.useState(()=>new t(n,o)),u=d.getOptimisticResult(o),h=!a&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(N=>{const j=h?d.subscribe(Jn.batchCalls(N)):iA;return d.updateResult(),j},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),m.useEffect(()=>{d.setOptions(o)},[o,d]),JK(o,u))throw eP(o,d,i);if(XK({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(y=n.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||w.call(y,o,u),o.experimental_prefetchInRender&&!ah&&ZK(u,a)){const N=l?eP(o,d,i):(v=n.getQueryCache().get(o.queryHash))==null?void 0:v.promise;N==null||N.catch(iA).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}function Nr(e,t){return eX(e,BK)}function Vr(e,t){const r=yn(),[n]=m.useState(()=>new VK(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const a=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(Jn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((o,l)=>{n.mutate(o,l).catch(iA)},[n]);if(a.error&&PF(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const tX="modulepreload",rX=function(e){return"/"+e},tP={},Zd=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(u=>{if(u=rX(u),u in tP)return;tP[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":tX,h||(g.as="script"),g.crossOrigin="",g.href=u,d&&g.setAttribute("nonce",d),document.head.appendChild(g),h)return new Promise((y,w)=>{g.addEventListener("load",y),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},vg="Indraai",sX=()=>"http://localhost:3000",md=sX();var Tx={},rP;function nX(){if(rP)return Tx;rP=1,Object.defineProperty(Tx,"__esModule",{value:!0}),Tx.parse=o,Tx.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,y){const w=new i,v=g.length;if(v<2)return w;const N=(y==null?void 0:y.decode)||h;let j=0;do{const A=g.indexOf("=",j);if(A===-1)break;const E=g.indexOf(";",j),S=E===-1?v:E;if(A>S){j=g.lastIndexOf(";",A-1)+1;continue}const _=l(g,j,A),k=d(g,A,_),T=g.slice(_,k);if(w[T]===void 0){let O=l(g,A+1,S),P=d(g,S,O);const I=N(g.slice(O,P));w[T]=I}j=S+1}while(j<v);return w}function l(g,y,w){do{const v=g.charCodeAt(y);if(v!==32&&v!==9)return y}while(++y<w);return w}function d(g,y,w){for(;y>w;){const v=g.charCodeAt(--y);if(v!==32&&v!==9)return y+1}return w}function u(g,y,w){const v=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const N=v(y);if(!t.test(N))throw new TypeError(`argument val is invalid: ${y}`);let j=g+"="+N;if(!w)return j;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);j+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);j+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);j+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);j+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(j+="; HttpOnly"),w.secure&&(j+="; Secure"),w.partitioned&&(j+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return j}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return a.call(g)==="[object Date]"}return Tx}nX();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sP="popstate";function aX(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return oA("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:bg(a)}return oX(t,r,null,e)}function Ks(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _o(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iX(){return Math.random().toString(36).substring(2,10)}function nP(e,t){return{usr:e.state,key:e.key,idx:t}}function oA(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?i0(t):t,state:r,key:t&&t.key||n||iX()}}function bg({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function i0(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function oX(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",d=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let N=h(),j=N==null?null:N-u;u=N,d&&d({action:l,location:v.location,delta:j})}function g(N,j){l="PUSH";let A=oA(v.location,N,j);u=h()+1;let E=nP(A,u),S=v.createHref(A);try{o.pushState(E,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(S)}i&&d&&d({action:l,location:v.location,delta:1})}function y(N,j){l="REPLACE";let A=oA(v.location,N,j);u=h();let E=nP(A,u),S=v.createHref(A);o.replaceState(E,"",S),i&&d&&d({action:l,location:v.location,delta:0})}function w(N){let j=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof N=="string"?N:bg(N);return A=A.replace(/ $/,"%20"),Ks(j,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,j)}let v={get action(){return l},get location(){return e(a,o)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(sP,p),d=N,()=>{a.removeEventListener(sP,p),d=null}},createHref(N){return t(a,N)},createURL:w,encodeLocation(N){let j=w(N);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:g,replace:y,go(N){return o.go(N)}};return v}function RF(e,t,r="/"){return lX(e,t,r,!1)}function lX(e,t,r,n){let a=typeof t=="string"?i0(t):t,i=ed(a.pathname||"/",r);if(i==null)return null;let o=MF(e);cX(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=bX(i);l=yX(o[d],u,n)}return l}function MF(e,t=[],r=[],n=""){let a=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(Ks(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let u=zc([n,d.relativePath]),h=r.concat(d);i.children&&i.children.length>0&&(Ks(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),MF(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:xX(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let d of IF(i.path))a(i,o,d)}),t}function IF(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=IF(n.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function cX(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gX(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var dX=/^:[\w-]+$/,uX=3,fX=2,hX=1,mX=10,pX=-2,aP=e=>e==="*";function xX(e,t){let r=e.split("/"),n=r.length;return r.some(aP)&&(n+=pX),t&&(n+=fX),r.filter(a=>!aP(a)).reduce((a,i)=>a+(dX.test(i)?uX:i===""?hX:mX),n)}function gX(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function yX(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],u=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=E1({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),g=d.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=E1({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:zc([i,p.pathname]),pathnameBase:SX(zc([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=zc([i,p.pathnameBase]))}return o}function E1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=vX(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:p},g)=>{if(h==="*"){let w=l[g]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[g];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function vX(e,t=!1,r=!0){_o(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function bX(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _o(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ed(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function wX(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?i0(e):e;return{pathname:r?r.startsWith("/")?r:NX(r,t):t,search:EX(n),hash:AX(a)}}function NX(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Q2(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jX(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function iT(e){let t=jX(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function oT(e,t,r,n=!1){let a;typeof e=="string"?a=i0(e):(a={...e},Ks(!a.pathname||!a.pathname.includes("?"),Q2("?","pathname","search",a)),Ks(!a.pathname||!a.pathname.includes("#"),Q2("#","pathname","hash",a)),Ks(!a.search||!a.search.includes("#"),Q2("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;a.pathname=g.join("/")}l=p>=0?t[p]:"/"}let d=wX(a,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}var zc=e=>e.join("/").replace(/\/\/+/g,"/"),SX=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EX=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AX=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function CX(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var FF=["POST","PUT","PATCH","DELETE"];new Set(FF);var TX=["GET",...FF];new Set(TX);var o0=m.createContext(null);o0.displayName="DataRouter";var _w=m.createContext(null);_w.displayName="DataRouterState";var LF=m.createContext({isTransitioning:!1});LF.displayName="ViewTransition";var _X=m.createContext(new Map);_X.displayName="Fetchers";var kX=m.createContext(null);kX.displayName="Await";var pl=m.createContext(null);pl.displayName="Navigation";var gy=m.createContext(null);gy.displayName="Location";var Oo=m.createContext({outlet:null,matches:[],isDataRoute:!1});Oo.displayName="Route";var lT=m.createContext(null);lT.displayName="RouteError";function DX(e,{relative:t}={}){Ks(l0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=m.useContext(pl),{hash:a,pathname:i,search:o}=yy(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:zc([r,i])),n.createHref({pathname:l,search:o,hash:a})}function l0(){return m.useContext(gy)!=null}function Ga(){return Ks(l0(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(gy).location}var BF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $F(e){m.useContext(pl).static||m.useLayoutEffect(e)}function Cr(){let{isDataRoute:e}=m.useContext(Oo);return e?WX():OX()}function OX(){Ks(l0(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(o0),{basename:t,navigator:r}=m.useContext(pl),{matches:n}=m.useContext(Oo),{pathname:a}=Ga(),i=JSON.stringify(iT(n)),o=m.useRef(!1);return $F(()=>{o.current=!0}),m.useCallback((d,u={})=>{if(_o(o.current,BF),!o.current)return;if(typeof d=="number"){r.go(d);return}let h=oT(d,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:zc([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,i,a,e])}var PX=m.createContext(null);function RX(e){let t=m.useContext(Oo).outlet;return t&&m.createElement(PX.Provider,{value:e},t)}function sa(){let{matches:e}=m.useContext(Oo),t=e[e.length-1];return t?t.params:{}}function yy(e,{relative:t}={}){let{matches:r}=m.useContext(Oo),{pathname:n}=Ga(),a=JSON.stringify(iT(r));return m.useMemo(()=>oT(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function MX(e,t){return UF(e,t)}function UF(e,t,r,n){var A;Ks(l0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=m.useContext(pl),{matches:o}=m.useContext(Oo),l=o[o.length-1],d=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let E=p&&p.path||"";VF(u,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Ga(),y;if(t){let E=typeof t=="string"?i0(t):t;Ks(h==="/"||((A=E.pathname)==null?void 0:A.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=g;let w=y.pathname||"/",v=w;if(h!=="/"){let E=h.replace(/^\//,"").split("/");v="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let N=!i&&r&&r.matches&&r.matches.length>0?r.matches:RF(e,{pathname:v});_o(p||N!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),_o(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=$X(N&&N.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:zc([h,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:zc([h,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,r,n);return t&&j?m.createElement(gy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},j):j}function IX(){let e=HX(),t=CX(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=m.createElement(m.Fragment,null,m.createElement("p",null,"💿 Hey developer 👋"),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:i},"ErrorBoundary")," or"," ",m.createElement("code",{style:i},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:a},r):null,o)}var FX=m.createElement(IX,null),LX=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?m.createElement(Oo.Provider,{value:this.props.routeContext},m.createElement(lT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BX({routeContext:e,match:t,children:r}){let n=m.useContext(o0);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(Oo.Provider,{value:e},r)}function $X(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let d=a.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);Ks(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,l=-1;if(r)for(let d=0;d<a.length;d++){let u=a[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=d),u.route.id){let{loaderData:h,errors:p}=r,g=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((d,u,h)=>{let p,g=!1,y=null,w=null;r&&(p=i&&u.route.id?i[u.route.id]:void 0,y=u.route.errorElement||FX,o&&(l<0&&h===0?(VF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):l===h&&(g=!0,w=u.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),N=()=>{let j;return p?j=y:g?j=w:u.route.Component?j=m.createElement(u.route.Component,null):u.route.element?j=u.route.element:j=d,m.createElement(BX,{match:u,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:j})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?m.createElement(LX,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:N(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):N()},null)}function cT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UX(e){let t=m.useContext(o0);return Ks(t,cT(e)),t}function VX(e){let t=m.useContext(_w);return Ks(t,cT(e)),t}function qX(e){let t=m.useContext(Oo);return Ks(t,cT(e)),t}function dT(e){let t=qX(e),r=t.matches[t.matches.length-1];return Ks(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function zX(){return dT("useRouteId")}function HX(){var n;let e=m.useContext(lT),t=VX("useRouteError"),r=dT("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function WX(){let{router:e}=UX("useNavigate"),t=dT("useNavigate"),r=m.useRef(!1);return $F(()=>{r.current=!0}),m.useCallback(async(a,i={})=>{_o(r.current,BF),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var iP={};function VF(e,t,r){!t&&!iP[e]&&(iP[e]=!0,_o(!1,r))}m.memo(GX);function GX({routes:e,future:t,state:r}){return UF(e,void 0,r,t)}function YX({to:e,replace:t,state:r,relative:n}){Ks(l0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=m.useContext(pl);_o(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=m.useContext(Oo),{pathname:o}=Ga(),l=Cr(),d=oT(e,iT(i),o,n==="path"),u=JSON.stringify(d);return m.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function uT(e){return RX(e.context)}function jt(e){Ks(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KX({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){Ks(!l0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=i0(r));let{pathname:d="/",search:u="",hash:h="",state:p=null,key:g="default"}=r,y=m.useMemo(()=>{let w=ed(d,o);return w==null?null:{location:{pathname:w,search:u,hash:h,state:p,key:g},navigationType:n}},[o,d,u,h,p,g,n]);return _o(y!=null,`<Router basename="${o}"> is not able to match the URL "${d}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:m.createElement(pl.Provider,{value:l},m.createElement(gy.Provider,{children:t,value:y}))}function XX({children:e,location:t}){return MX(lA(e),t)}function lA(e,t=[]){let r=[];return m.Children.forEach(e,(n,a)=>{if(!m.isValidElement(n))return;let i=[...t,a];if(n.type===m.Fragment){r.push.apply(r,lA(n.props.children,i));return}Ks(n.type===jt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ks(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=lA(n.props.children,i)),r.push(o)}),r}var a1="get",i1="application/x-www-form-urlencoded";function kw(e){return e!=null&&typeof e.tagName=="string"}function QX(e){return kw(e)&&e.tagName.toLowerCase()==="button"}function ZX(e){return kw(e)&&e.tagName.toLowerCase()==="form"}function JX(e){return kw(e)&&e.tagName.toLowerCase()==="input"}function eQ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tQ(e,t){return e.button===0&&(!t||t==="_self")&&!eQ(e)}function cA(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function rQ(e,t){let r=cA(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var pb=null;function sQ(){if(pb===null)try{new FormData(document.createElement("form"),0),pb=!1}catch{pb=!0}return pb}var nQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Z2(e){return e!=null&&!nQ.has(e)?(_o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${i1}"`),null):e}function aQ(e,t){let r,n,a,i,o;if(ZX(e)){let l=e.getAttribute("action");n=l?ed(l,t):null,r=e.getAttribute("method")||a1,a=Z2(e.getAttribute("enctype"))||i1,i=new FormData(e)}else if(QX(e)||JX(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||l.getAttribute("action");if(n=d?ed(d,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||a1,a=Z2(e.getAttribute("formenctype"))||Z2(l.getAttribute("enctype"))||i1,i=new FormData(l,e),!sQ()){let{name:u,type:h,value:p}=e;if(h==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,p)}}else{if(kw(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=a1,n=null,a=i1,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}function fT(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function iQ(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oQ(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function lQ(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await iQ(i,r);return o.links?o.links():[]}return[]}));return fQ(n.flat(1).filter(oQ).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function oP(e,t,r,n,a,i){let o=(d,u)=>r[u]?d.route.id!==r[u].route.id:!0,l=(d,u)=>{var h;return r[u].pathname!==d.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==d.params["*"]};return i==="assets"?t.filter((d,u)=>o(d,u)||l(d,u)):i==="data"?t.filter((d,u)=>{var p;let h=n.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(o(d,u)||l(d,u))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function cQ(e,t,{includeHydrateFallback:r}={}){return dQ(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function dQ(e){return[...new Set(e)]}function uQ(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function fQ(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(uQ(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}var hQ=new Set([100,101,204,205]);function mQ(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&ed(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function qF(){let e=m.useContext(o0);return fT(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pQ(){let e=m.useContext(_w);return fT(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hT=m.createContext(void 0);hT.displayName="FrameworkContext";function zF(){let e=m.useContext(hT);return fT(e,"You must render this element inside a <HydratedRouter> element"),e}function xQ(e,t){let r=m.useContext(hT),[n,a]=m.useState(!1),[i,o]=m.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=t,g=m.useRef(null);m.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=j=>{j.forEach(A=>{o(A.isIntersecting)})},N=new IntersectionObserver(v,{threshold:.5});return g.current&&N.observe(g.current),()=>{N.disconnect()}}},[e]),m.useEffect(()=>{if(n){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[n]);let y=()=>{a(!0)},w=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:_x(l,y),onBlur:_x(d,w),onMouseEnter:_x(u,y),onMouseLeave:_x(h,w),onTouchStart:_x(p,y)}]:[!1,g,{}]}function _x(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function gQ({page:e,...t}){let{router:r}=qF(),n=m.useMemo(()=>RF(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?m.createElement(vQ,{page:e,matches:n,...t}):null}function yQ(e){let{manifest:t,routeModules:r}=zF(),[n,a]=m.useState([]);return m.useEffect(()=>{let i=!1;return lQ(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function vQ({page:e,matches:t,...r}){let n=Ga(),{manifest:a,routeModules:i}=zF(),{basename:o}=qF(),{loaderData:l,matches:d}=pQ(),u=m.useMemo(()=>oP(e,t,d,a,n,"data"),[e,t,d,a,n]),h=m.useMemo(()=>oP(e,t,d,a,n,"assets"),[e,t,d,a,n]),p=m.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,v=!1;if(t.forEach(j=>{var E;let A=a.routes[j.route.id];!A||!A.hasLoader||(!u.some(S=>S.route.id===j.route.id)&&j.route.id in l&&((E=i[j.route.id])!=null&&E.shouldRevalidate)||A.hasClientLoader?v=!0:w.add(j.route.id))}),w.size===0)return[];let N=mQ(e,o);return v&&w.size>0&&N.searchParams.set("_routes",t.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[N.pathname+N.search]},[o,l,n,a,u,t,e,i]),g=m.useMemo(()=>cQ(h,a),[h,a]),y=yQ(h);return m.createElement(m.Fragment,null,p.map(w=>m.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),g.map(w=>m.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),y.map(({key:w,link:v})=>m.createElement("link",{key:w,...v})))}function bQ(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var HF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HF&&(window.__reactRouterVersion="7.5.1")}catch{}function wQ({basename:e,children:t,window:r}){let n=m.useRef();n.current==null&&(n.current=aX({window:r,v5Compat:!0}));let a=n.current,[i,o]=m.useState({action:a.action,location:a.location}),l=m.useCallback(d=>{m.startTransition(()=>o(d))},[o]);return m.useLayoutEffect(()=>a.listen(l),[a,l]),m.createElement(KX,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var WF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mr=m.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:p,...g},y){let{basename:w}=m.useContext(pl),v=typeof u=="string"&&WF.test(u),N,j=!1;if(typeof u=="string"&&v&&(N=u,HF))try{let P=new URL(window.location.href),I=u.startsWith("//")?new URL(P.protocol+u):new URL(u),M=ed(I.pathname,w);I.origin===P.origin&&M!=null?u=M+I.search+I.hash:j=!0}catch{_o(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=DX(u,{relative:a}),[E,S,_]=xQ(n,g),k=SQ(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:a,viewTransition:p});function T(P){t&&t(P),P.defaultPrevented||k(P)}let O=m.createElement("a",{...g,..._,href:N||A,onClick:j||i?t:T,ref:bQ(y,S),target:d,"data-discover":!v&&r==="render"?"true":void 0});return E&&!v?m.createElement(m.Fragment,null,O,m.createElement(gQ,{page:A})):O});Mr.displayName="Link";var Hx=m.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:d,...u},h){let p=yy(o,{relative:u.relative}),g=Ga(),y=m.useContext(_w),{navigator:w,basename:v}=m.useContext(pl),N=y!=null&&kQ(p)&&l===!0,j=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,A=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(A=A.toLowerCase(),E=E?E.toLowerCase():null,j=j.toLowerCase()),E&&v&&(E=ed(E,v)||E);const S=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let _=A===j||!a&&A.startsWith(j)&&A.charAt(S)==="/",k=E!=null&&(E===j||!a&&E.startsWith(j)&&E.charAt(j.length)==="/"),T={isActive:_,isPending:k,isTransitioning:N},O=_?t:void 0,P;typeof n=="function"?P=n(T):P=[n,_?"active":null,k?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(T):i;return m.createElement(Mr,{...u,"aria-current":O,className:P,ref:h,style:I,to:o,viewTransition:l},typeof d=="function"?d(T):d)});Hx.displayName="NavLink";var NQ=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=a1,action:l,onSubmit:d,relative:u,preventScrollReset:h,viewTransition:p,...g},y)=>{let w=TQ(),v=_Q(l,{relative:u}),N=o.toLowerCase()==="get"?"get":"post",j=typeof l=="string"&&WF.test(l),A=E=>{if(d&&d(E),E.defaultPrevented)return;E.preventDefault();let S=E.nativeEvent.submitter,_=(S==null?void 0:S.getAttribute("formmethod"))||o;w(S||E.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:a,state:i,relative:u,preventScrollReset:h,viewTransition:p})};return m.createElement("form",{ref:y,method:N,action:v,onSubmit:n?d:A,...g,"data-discover":!j&&e==="render"?"true":void 0})});NQ.displayName="Form";function jQ(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GF(e){let t=m.useContext(o0);return Ks(t,jQ(e)),t}function SQ(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=Cr(),d=Ga(),u=yy(e,{relative:i});return m.useCallback(h=>{if(tQ(h,t)){h.preventDefault();let p=r!==void 0?r:bg(d)===bg(u);l(e,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[d,l,u,r,n,t,e,a,i,o])}function EQ(e){_o(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=m.useRef(cA(e)),r=m.useRef(!1),n=Ga(),a=m.useMemo(()=>rQ(n.search,r.current?null:t.current),[n.search]),i=Cr(),o=m.useCallback((l,d)=>{const u=cA(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,d)},[i,a]);return[a,o]}var AQ=0,CQ=()=>`__${String(++AQ)}__`;function TQ(){let{router:e}=GF("useSubmit"),{basename:t}=m.useContext(pl),r=zX();return m.useCallback(async(n,a={})=>{let{action:i,method:o,encType:l,formData:d,body:u}=aQ(n,t);if(a.navigate===!1){let h=a.fetcherKey||CQ();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function _Q(e,{relative:t}={}){let{basename:r}=m.useContext(pl),n=m.useContext(Oo);Ks(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...yy(e||".",{relative:t})},o=Ga();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),d=l.getAll("index");if(d.some(h=>h==="")){l.delete("index"),d.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:zc([r,i.pathname])),bg(i)}function kQ(e,t={}){let r=m.useContext(LF);Ks(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=GF("useViewTransitionState"),a=yy(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=ed(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ed(r.nextLocation.pathname,n)||r.nextLocation.pathname;return E1(a.pathname,o)!=null||E1(a.pathname,i)!=null}new TextEncoder;[...hQ];var Ju=bF();const pd=Aw(Ju);var DQ=(e,t,r,n,a,i,o,l)=>{let d=document.documentElement,u=["light","dark"];function h(y){(Array.isArray(e)?e:[e]).forEach(w=>{let v=w==="class",N=v&&i?a.map(j=>i[j]||j):a;v?(d.classList.remove(...N),d.classList.add(i&&i[y]?i[y]:y)):d.setAttribute(w,y)}),p(y)}function p(y){l&&u.includes(y)&&(d.style.colorScheme=y)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)h(n);else try{let y=localStorage.getItem(t)||r,w=o&&y==="system"?g():y;h(w)}catch{}},lP=["light","dark"],YF="(prefers-color-scheme: dark)",OQ=typeof window>"u",mT=m.createContext(void 0),PQ={setTheme:e=>{},themes:[]},RQ=()=>{var e;return(e=m.useContext(mT))!=null?e:PQ},MQ=e=>m.useContext(mT)?m.createElement(m.Fragment,null,e.children):m.createElement(FQ,{...e}),IQ=["light","dark"],FQ=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=IQ,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:d,children:u,nonce:h,scriptProps:p})=>{let[g,y]=m.useState(()=>BQ(a,o)),[w,v]=m.useState(()=>g==="system"?J2():g),N=d?Object.values(d):i,j=m.useCallback(_=>{let k=_;if(!k)return;_==="system"&&r&&(k=J2());let T=d?d[k]:k,O=t?$Q(h):null,P=document.documentElement,I=M=>{M==="class"?(P.classList.remove(...N),T&&P.classList.add(T)):M.startsWith("data-")&&(T?P.setAttribute(M,T):P.removeAttribute(M))};if(Array.isArray(l)?l.forEach(I):I(l),n){let M=lP.includes(o)?o:null,q=lP.includes(k)?k:M;P.style.colorScheme=q}O==null||O()},[h]),A=m.useCallback(_=>{let k=typeof _=="function"?_(g):_;y(k);try{localStorage.setItem(a,k)}catch{}},[g]),E=m.useCallback(_=>{let k=J2(_);v(k),g==="system"&&r&&!e&&j("system")},[g,e]);m.useEffect(()=>{let _=window.matchMedia(YF);return _.addListener(E),E(_),()=>_.removeListener(E)},[E]),m.useEffect(()=>{let _=k=>{k.key===a&&(k.newValue?y(k.newValue):A(o))};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[A]),m.useEffect(()=>{j(e??g)},[e,g]);let S=m.useMemo(()=>({theme:g,setTheme:A,forcedTheme:e,resolvedTheme:g==="system"?w:g,themes:r?[...i,"system"]:i,systemTheme:r?w:void 0}),[g,A,e,w,r,i]);return m.createElement(mT.Provider,{value:S},m.createElement(LQ,{forcedTheme:e,storageKey:a,attribute:l,enableSystem:r,enableColorScheme:n,defaultTheme:o,value:d,themes:i,nonce:h,scriptProps:p}),u)},LQ=m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:d,scriptProps:u})=>{let h=JSON.stringify([r,t,i,e,l,o,n,a]).slice(1,-1);return m.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${DQ.toString()})(${h})`}})}),BQ=(e,t)=>{if(OQ)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},$Q=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},J2=e=>(e||(e=window.matchMedia(YF)),e.matches?"dark":"light");const UQ={theme:"system",setTheme:()=>null};m.createContext(UQ);function VQ({children:e,...t}){const[r,n]=m.useState(!1),[a,i]=m.useState(void 0);return m.useEffect(()=>{n(!0);const o=()=>{const d=navigator.userAgent||navigator.vendor||window.opera,u=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(d.toLowerCase()),h="ontouchstart"in window||navigator.maxTouchPoints>0,p=window.innerWidth<=768;return u||h&&p};o()&&(i("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"));const l=()=>{o()?(i("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")):i(void 0)};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[]),r?s.jsx(MQ,{...t,forcedTheme:a,defaultTheme:"light",enableSystem:!a,disableTransitionOnChange:!0,children:e}):null}const qQ=()=>{const{setTheme:e,theme:t,resolvedTheme:r}=RQ();return m.useEffect(()=>{const n=()=>{const i=navigator.userAgent||navigator.vendor||window.opera,o=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(i.toLowerCase()),l="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,d=window.innerWidth<=768,u=window.matchMedia("(pointer: coarse)").matches||window.matchMedia("(hover: none)").matches;if(o||l&&d||u){e("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),document.documentElement.style.colorScheme="light";const p=document.querySelector('meta[name="theme-color"]');if(p)p.setAttribute("content","#ffffff");else{const g=document.createElement("meta");g.name="theme-color",g.content="#ffffff",document.head.appendChild(g)}}};n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n);const a=new MutationObserver(i=>{i.forEach(o=>{if(o.type==="attributes"&&o.attributeName==="class"){const l=o.target;l===document.documentElement&&l.classList.contains("dark")&&n()}})});return a.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n),a.disconnect()}},[e]),{theme:t,resolvedTheme:r}},zQ=()=>(qQ(),null),HQ=()=>s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-muted/40 p-4",children:s.jsx(uT,{})});/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GQ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),cP=e=>{const t=GQ(e);return t.charAt(0).toUpperCase()+t.slice(1)},KF=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),YQ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},d)=>m.createElement("svg",{ref:d,...KQ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:KF("lucide",a),...!i&&!YQ(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,h])=>m.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(e,t)=>{const r=m.forwardRef(({className:n,...a},i)=>m.createElement(XQ,{ref:i,iconNode:t,className:KF(`lucide-${WQ(cP(e))}`,`lucide-${e}`,n),...a}));return r.displayName=cP(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Dw=Ct("arrow-down",QQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hl=Ct("arrow-left",ZQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Ow=Ct("arrow-up",JQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]],tZ=Ct("audio-waveform",eZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],eS=Ct("book-open",rZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ou=Ct("briefcase",sZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],aZ=Ct("calendar-check",nZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],dA=Ct("calendar-days",iZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ra=Ct("calendar",oZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Um=Ct("chart-column",lZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vy=Ct("check",cZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ri=Ct("chevron-down",dZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],c0=Ct("chevron-left",uZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fu=Ct("chevron-right",fZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ul=Ct("chevron-up",hZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],pZ=Ct("chevrons-left",mZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],gZ=Ct("chevrons-right",xZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],by=Ct("chevrons-up-down",yZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hc=Ct("circle-alert",vZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],wZ=Ct("circle-arrow-up",bZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],li=Ct("circle-check-big",NZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rg=Ct("circle-check",jZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Xs=Ct("circle-plus",SZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],tS=Ct("circle-user",EZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Yi=Ct("circle-x",AZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],TZ=Ct("circle",CZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Zf=Ct("clipboard-check",_Z);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Bp=Ct("clock",kZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],OZ=Ct("command",DZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],XF=Ct("credit-card",PZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],oc=Ct("download",RZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],Oc=Ct("droplet",MZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],FZ=Ct("droplets",IZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],wy=Ct("ellipsis",LZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$Z=Ct("eye-off",BZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qc=Ct("eye",UZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],qZ=Ct("facebook",VZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fn=Ct("file-text",zZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Th=Ct("funnel",HZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]],dP=Ct("gallery-vertical-end",WZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],uA=Ct("heart",GZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],pT=Ct("house",YZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],XZ=Ct("image",KZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],wg=Ct("indian-rupee",QZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],QF=Ct("info",ZZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],eJ=Ct("instagram",JZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],rJ=Ct("key-round",tJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z",key:"165ttr"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814",key:"1ubxi2"}]],nJ=Ct("key-square",sJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],iJ=Ct("landmark",aJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],oh=Ct("leaf",oJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],cJ=Ct("list-ordered",lJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fr=Ct("loader-circle",dJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],$p=Ct("loader",uJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fA=Ct("log-out",fJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xT=Ct("mail",hJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],al=Ct("map-pin",mJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],ZF=Ct("menu",pJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],gJ=Ct("message-square",xJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"M5 12h14",key:"1ays0h"}]],If=Ct("minus",yJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],bJ=Ct("moon",vJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],NJ=Ct("package-check",wJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],hA=Ct("package-search",jJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Va=Ct("package",SJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],AJ=Ct("panel-left",EJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],gT=Ct("pencil",CJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],JF=Ct("phone",TJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],En=Ct("plus",_J);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],d0=Ct("save",kJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qs=Ct("search",DJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],PJ=Ct("send",OJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]],yT=Ct("shield-ellipsis",RJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],IJ=Ct("shield",MJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],uP=Ct("shopping-bag",FJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],lh=Ct("shopping-cart",LJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],$J=Ct("skip-forward",BJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],eL=Ct("sparkles",UJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ya=Ct("square-pen",VJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],zJ=Ct("square-terminal",qJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],WJ=Ct("star",HJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],YJ=Ct("sun",GJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Qs=Ct("trash-2",KJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ng=Ct("trending-down",XJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],A1=Ct("trending-up",QJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ji=Ct("triangle-alert",ZJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Tu=Ct("truck",JJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tee=Ct("user-check",eee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fP=Ct("user-plus",ree);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pw=Ct("user",see);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],hP=Ct("users-round",nee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tL=Ct("users",aee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Wc=Ct("wallet",iee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ai=Ct("x",oee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rw=Ct("zap",lee);var ns;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ns||(ns={}));var mA;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(mA||(mA={}));const Wt=ns.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bc=e=>{switch(typeof e){case"undefined":return Wt.undefined;case"string":return Wt.string;case"number":return isNaN(e)?Wt.nan:Wt.number;case"boolean":return Wt.boolean;case"function":return Wt.function;case"bigint":return Wt.bigint;case"symbol":return Wt.symbol;case"object":return Array.isArray(e)?Wt.array:e===null?Wt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Wt.promise:typeof Map<"u"&&e instanceof Map?Wt.map:typeof Set<"u"&&e instanceof Set?Wt.set:typeof Date<"u"&&e instanceof Date?Wt.date:Wt.object;default:return Wt.unknown}},St=ns.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cee=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ki extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,d=0;for(;d<o.path.length;){const u=o.path[d];d===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],d++}}};return a(this),n}static assert(t){if(!(t instanceof Ki))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ns.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ki.create=e=>new Ki(e);const Up=(e,t)=>{let r;switch(e.code){case St.invalid_type:e.received===Wt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case St.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ns.jsonStringifyReplacer)}`;break;case St.unrecognized_keys:r=`Unrecognized key(s) in object: ${ns.joinValues(e.keys,", ")}`;break;case St.invalid_union:r="Invalid input";break;case St.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ns.joinValues(e.options)}`;break;case St.invalid_enum_value:r=`Invalid enum value. Expected ${ns.joinValues(e.options)}, received '${e.received}'`;break;case St.invalid_arguments:r="Invalid function arguments";break;case St.invalid_return_type:r="Invalid function return type";break;case St.invalid_date:r="Invalid date";break;case St.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ns.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case St.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case St.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case St.custom:r="Invalid input";break;case St.invalid_intersection_types:r="Intersection results could not be merged";break;case St.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case St.not_finite:r="Number must be finite";break;default:r=t.defaultError,ns.assertNever(e)}return{message:r}};let rL=Up;function dee(e){rL=e}function C1(){return rL}const T1=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const d=n.filter(u=>!!u).slice().reverse();for(const u of d)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},uee=[];function Vt(e,t){const r=C1(),n=T1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Up?void 0:Up].filter(a=>!!a)});e.common.issues.push(n)}class Wa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return wr;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Wa.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return wr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const wr=Object.freeze({status:"aborted"}),Zm=e=>({status:"dirty",value:e}),ci=e=>({status:"valid",value:e}),pA=e=>e.status==="aborted",xA=e=>e.status==="dirty",ch=e=>e.status==="valid",jg=e=>typeof Promise<"u"&&e instanceof Promise;function _1(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function sL(e,t,r,n,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var sr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(sr||(sr={}));var Wx,Gx;class Jl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mP=(e,t)=>{if(ch(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ki(e.common.issues);return this._error=r,this._error}}};function Ar(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var d,u;const{message:h}=e;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(d=h??n)!==null&&d!==void 0?d:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=h??r)!==null&&u!==void 0?u:l.defaultError}},description:a}}class Lr{get description(){return this._def.description}_getType(t){return Bc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Bc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Wa,ctx:{common:t.parent.common,data:t.data,parsedType:Bc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(jg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)},i=this._parseSync({data:t,path:a.path,parent:a});return mP(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return ch(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>ch(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(jg(a)?a:Promise.resolve(a));return mP(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:St.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new cl({schema:this,typeName:gr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Wl.create(this,this._def)}nullable(){return Uu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return il.create(this)}promise(){return qp.create(this,this._def)}or(t){return Cg.create([this,t],this._def)}and(t){return Tg.create(this,t,this._def)}transform(t){return new cl({...Ar(this._def),schema:this,typeName:gr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Pg({...Ar(this._def),innerType:this,defaultValue:r,typeName:gr.ZodDefault})}brand(){return new vT({typeName:gr.ZodBranded,type:this,...Ar(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Rg({...Ar(this._def),innerType:this,catchValue:r,typeName:gr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Ny.create(this,t)}readonly(){return Mg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fee=/^c[^\s-]{8,}$/i,hee=/^[0-9a-z]+$/,mee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xee=/^[a-z0-9_-]{21}$/i,gee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rS;const wee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,jee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,See=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Eee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Aee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Cee=new RegExp(`^${nL}$`);function aL(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Tee(e){return new RegExp(`^${aL(e)}$`)}function iL(e){let t=`${nL}T${aL(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function _ee(e,t){return!!((t==="v4"||!t)&&wee.test(e)||(t==="v6"||!t)&&jee.test(e))}function kee(e,t){if(!gee.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function Dee(e,t){return!!((t==="v4"||!t)&&Nee.test(e)||(t==="v6"||!t)&&See.test(e))}class sl extends Lr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Wt.string){const i=this._getOrReturnCtx(t);return Vt(i,{code:St.invalid_type,expected:Wt.string,received:i.parsedType}),wr}const n=new Wa;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Vt(a,{code:St.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Vt(a,{code:St.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Vt(a,{code:St.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Vt(a,{code:St.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")vee.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"email",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")rS||(rS=new RegExp(bee,"u")),rS.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"emoji",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")pee.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"uuid",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")xee.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"nanoid",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")fee.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"cuid",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")hee.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"cuid2",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")mee.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"ulid",code:St.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Vt(a,{validation:"url",code:St.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"regex",code:St.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Vt(a,{code:St.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Vt(a,{code:St.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Vt(a,{code:St.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?iL(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{code:St.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Cee.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{code:St.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Tee(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{code:St.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?yee.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"duration",code:St.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?_ee(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"ip",code:St.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?kee(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"jwt",code:St.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Dee(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"cidr",code:St.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Eee.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"base64",code:St.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Aee.test(t.data)||(a=this._getOrReturnCtx(t,a),Vt(a,{validation:"base64url",code:St.invalid_string,message:i.message}),n.dirty()):ns.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:St.invalid_string,...sr.errToObj(n)})}_addCheck(t){return new sl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...sr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...sr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...sr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...sr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...sr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...sr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...sr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...sr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...sr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...sr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...sr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...sr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...sr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...sr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...sr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...sr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...sr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...sr.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...sr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...sr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...sr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...sr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...sr.errToObj(r)})}nonempty(t){return this.min(1,sr.errToObj(t))}trim(){return new sl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sl.create=e=>{var t;return new sl({checks:[],typeName:gr.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ar(e)})};function Oee(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Lu extends Lr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Wt.number){const i=this._getOrReturnCtx(t);return Vt(i,{code:St.invalid_type,expected:Wt.number,received:i.parsedType}),wr}let n;const a=new Wa;for(const i of this._def.checks)i.kind==="int"?ns.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Vt(n,{code:St.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Vt(n,{code:St.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Vt(n,{code:St.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Oee(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Vt(n,{code:St.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Vt(n,{code:St.not_finite,message:i.message}),a.dirty()):ns.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,sr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,sr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,sr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,sr.toString(r))}setLimit(t,r,n,a){return new Lu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:sr.toString(a)}]})}_addCheck(t){return new Lu({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:sr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:sr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:sr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:sr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:sr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:sr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:sr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:sr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:sr.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ns.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Lu.create=e=>new Lu({checks:[],typeName:gr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ar(e)});class Bu extends Lr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Wt.bigint)return this._getInvalidInput(t);let n;const a=new Wa;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Vt(n,{code:St.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Vt(n,{code:St.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Vt(n,{code:St.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ns.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Vt(r,{code:St.invalid_type,expected:Wt.bigint,received:r.parsedType}),wr}gte(t,r){return this.setLimit("min",t,!0,sr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,sr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,sr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,sr.toString(r))}setLimit(t,r,n,a){return new Bu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:sr.toString(a)}]})}_addCheck(t){return new Bu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:sr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:sr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:sr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:sr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:sr.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Bu.create=e=>{var t;return new Bu({checks:[],typeName:gr.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ar(e)})};class Sg extends Lr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Wt.boolean){const n=this._getOrReturnCtx(t);return Vt(n,{code:St.invalid_type,expected:Wt.boolean,received:n.parsedType}),wr}return ci(t.data)}}Sg.create=e=>new Sg({typeName:gr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ar(e)});class dh extends Lr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Wt.date){const i=this._getOrReturnCtx(t);return Vt(i,{code:St.invalid_type,expected:Wt.date,received:i.parsedType}),wr}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Vt(i,{code:St.invalid_date}),wr}const n=new Wa;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Vt(a,{code:St.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Vt(a,{code:St.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ns.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dh({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:sr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:sr.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}dh.create=e=>new dh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:gr.ZodDate,...Ar(e)});class k1 extends Lr{_parse(t){if(this._getType(t)!==Wt.symbol){const n=this._getOrReturnCtx(t);return Vt(n,{code:St.invalid_type,expected:Wt.symbol,received:n.parsedType}),wr}return ci(t.data)}}k1.create=e=>new k1({typeName:gr.ZodSymbol,...Ar(e)});class Eg extends Lr{_parse(t){if(this._getType(t)!==Wt.undefined){const n=this._getOrReturnCtx(t);return Vt(n,{code:St.invalid_type,expected:Wt.undefined,received:n.parsedType}),wr}return ci(t.data)}}Eg.create=e=>new Eg({typeName:gr.ZodUndefined,...Ar(e)});class Ag extends Lr{_parse(t){if(this._getType(t)!==Wt.null){const n=this._getOrReturnCtx(t);return Vt(n,{code:St.invalid_type,expected:Wt.null,received:n.parsedType}),wr}return ci(t.data)}}Ag.create=e=>new Ag({typeName:gr.ZodNull,...Ar(e)});class Vp extends Lr{constructor(){super(...arguments),this._any=!0}_parse(t){return ci(t.data)}}Vp.create=e=>new Vp({typeName:gr.ZodAny,...Ar(e)});class Jf extends Lr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ci(t.data)}}Jf.create=e=>new Jf({typeName:gr.ZodUnknown,...Ar(e)});class td extends Lr{_parse(t){const r=this._getOrReturnCtx(t);return Vt(r,{code:St.invalid_type,expected:Wt.never,received:r.parsedType}),wr}}td.create=e=>new td({typeName:gr.ZodNever,...Ar(e)});class D1 extends Lr{_parse(t){if(this._getType(t)!==Wt.undefined){const n=this._getOrReturnCtx(t);return Vt(n,{code:St.invalid_type,expected:Wt.void,received:n.parsedType}),wr}return ci(t.data)}}D1.create=e=>new D1({typeName:gr.ZodVoid,...Ar(e)});class il extends Lr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Wt.array)return Vt(r,{code:St.invalid_type,expected:Wt.array,received:r.parsedType}),wr;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Vt(r,{code:o?St.too_big:St.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Vt(r,{code:St.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Vt(r,{code:St.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Jl(r,o,r.path,l)))).then(o=>Wa.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Jl(r,o,r.path,l)));return Wa.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new il({...this._def,minLength:{value:t,message:sr.toString(r)}})}max(t,r){return new il({...this._def,maxLength:{value:t,message:sr.toString(r)}})}length(t,r){return new il({...this._def,exactLength:{value:t,message:sr.toString(r)}})}nonempty(t){return this.min(1,t)}}il.create=(e,t)=>new il({type:e,minLength:null,maxLength:null,exactLength:null,typeName:gr.ZodArray,...Ar(t)});function Vm(e){if(e instanceof an){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Wl.create(Vm(n))}return new an({...e._def,shape:()=>t})}else return e instanceof il?new il({...e._def,type:Vm(e.element)}):e instanceof Wl?Wl.create(Vm(e.unwrap())):e instanceof Uu?Uu.create(Vm(e.unwrap())):e instanceof ec?ec.create(e.items.map(t=>Vm(t))):e}class an extends Lr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ns.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Wt.object){const u=this._getOrReturnCtx(t);return Vt(u,{code:St.invalid_type,expected:Wt.object,received:u.parsedType}),wr}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof td&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const d=[];for(const u of o){const h=i[u],p=a.data[u];d.push({key:{status:"valid",value:u},value:h._parse(new Jl(a,p,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof td){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)d.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(u==="strict")l.length>0&&(Vt(a,{code:St.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const p=a.data[h];d.push({key:{status:"valid",value:h},value:u._parse(new Jl(a,p,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of d){const p=await h.key,g=await h.value;u.push({key:p,value:g,alwaysSet:h.alwaysSet})}return u}).then(u=>Wa.mergeObjectSync(n,u)):Wa.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(t){return sr.errToObj,new an({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,l;const d=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=sr.errToObj(t).message)!==null&&l!==void 0?l:d}:{message:d}}}:{}})}strip(){return new an({...this._def,unknownKeys:"strip"})}passthrough(){return new an({...this._def,unknownKeys:"passthrough"})}extend(t){return new an({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new an({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:gr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new an({...this._def,catchall:t})}pick(t){const r={};return ns.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new an({...this._def,shape:()=>r})}omit(t){const r={};return ns.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new an({...this._def,shape:()=>r})}deepPartial(){return Vm(this)}partial(t){const r={};return ns.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new an({...this._def,shape:()=>r})}required(t){const r={};return ns.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Wl;)i=i._def.innerType;r[n]=i}}),new an({...this._def,shape:()=>r})}keyof(){return oL(ns.objectKeys(this.shape))}}an.create=(e,t)=>new an({shape:()=>e,unknownKeys:"strip",catchall:td.create(),typeName:gr.ZodObject,...Ar(t)});an.strictCreate=(e,t)=>new an({shape:()=>e,unknownKeys:"strict",catchall:td.create(),typeName:gr.ZodObject,...Ar(t)});an.lazycreate=(e,t)=>new an({shape:e,unknownKeys:"strip",catchall:td.create(),typeName:gr.ZodObject,...Ar(t)});class Cg extends Lr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ki(l.ctx.common.issues));return Vt(r,{code:St.invalid_union,unionErrors:o}),wr}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const d of n){const u={...r,common:{...r.common,issues:[]},parent:null},h=d._parseSync({data:r.data,path:r.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(d=>new Ki(d));return Vt(r,{code:St.invalid_union,unionErrors:l}),wr}}get options(){return this._def.options}}Cg.create=(e,t)=>new Cg({options:e,typeName:gr.ZodUnion,...Ar(t)});const Lc=e=>e instanceof kg?Lc(e.schema):e instanceof cl?Lc(e.innerType()):e instanceof Dg?[e.value]:e instanceof $u?e.options:e instanceof Og?ns.objectValues(e.enum):e instanceof Pg?Lc(e._def.innerType):e instanceof Eg?[void 0]:e instanceof Ag?[null]:e instanceof Wl?[void 0,...Lc(e.unwrap())]:e instanceof Uu?[null,...Lc(e.unwrap())]:e instanceof vT||e instanceof Mg?Lc(e.unwrap()):e instanceof Rg?Lc(e._def.innerType):[];class Mw extends Lr{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Wt.object)return Vt(r,{code:St.invalid_type,expected:Wt.object,received:r.parsedType}),wr;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Vt(r,{code:St.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),wr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=Lc(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Mw({typeName:gr.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Ar(n)})}}function gA(e,t){const r=Bc(e),n=Bc(t);if(e===t)return{valid:!0,data:e};if(r===Wt.object&&n===Wt.object){const a=ns.objectKeys(t),i=ns.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const d=gA(e[l],t[l]);if(!d.valid)return{valid:!1};o[l]=d.data}return{valid:!0,data:o}}else if(r===Wt.array&&n===Wt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],d=gA(o,l);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return r===Wt.date&&n===Wt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Tg extends Lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(pA(i)||pA(o))return wr;const l=gA(i.value,o.value);return l.valid?((xA(i)||xA(o))&&r.dirty(),{status:r.value,value:l.data}):(Vt(n,{code:St.invalid_intersection_types}),wr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Tg.create=(e,t,r)=>new Tg({left:e,right:t,typeName:gr.ZodIntersection,...Ar(r)});class ec extends Lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Wt.array)return Vt(n,{code:St.invalid_type,expected:Wt.array,received:n.parsedType}),wr;if(n.data.length<this._def.items.length)return Vt(n,{code:St.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),wr;!this._def.rest&&n.data.length>this._def.items.length&&(Vt(n,{code:St.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new Jl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Wa.mergeArray(r,o)):Wa.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ec({...this._def,rest:t})}}ec.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ec({items:e,typeName:gr.ZodTuple,rest:null,...Ar(t)})};class _g extends Lr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Wt.object)return Vt(n,{code:St.invalid_type,expected:Wt.object,received:n.parsedType}),wr;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new Jl(n,l,n.path,l)),value:o._parse(new Jl(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Wa.mergeObjectAsync(r,a):Wa.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Lr?new _g({keyType:t,valueType:r,typeName:gr.ZodRecord,...Ar(n)}):new _g({keyType:sl.create(),valueType:t,typeName:gr.ZodRecord,...Ar(r)})}}class O1 extends Lr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Wt.map)return Vt(n,{code:St.invalid_type,expected:Wt.map,received:n.parsedType}),wr;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,d],u)=>({key:a._parse(new Jl(n,l,n.path,[u,"key"])),value:i._parse(new Jl(n,d,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of o){const u=await d.key,h=await d.value;if(u.status==="aborted"||h.status==="aborted")return wr;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const d of o){const u=d.key,h=d.value;if(u.status==="aborted"||h.status==="aborted")return wr;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}}}}O1.create=(e,t,r)=>new O1({valueType:t,keyType:e,typeName:gr.ZodMap,...Ar(r)});class uh extends Lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Wt.set)return Vt(n,{code:St.invalid_type,expected:Wt.set,received:n.parsedType}),wr;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Vt(n,{code:St.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Vt(n,{code:St.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(d){const u=new Set;for(const h of d){if(h.status==="aborted")return wr;h.status==="dirty"&&r.dirty(),u.add(h.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((d,u)=>i._parse(new Jl(n,d,n.path,u)));return n.common.async?Promise.all(l).then(d=>o(d)):o(l)}min(t,r){return new uh({...this._def,minSize:{value:t,message:sr.toString(r)}})}max(t,r){return new uh({...this._def,maxSize:{value:t,message:sr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}uh.create=(e,t)=>new uh({valueType:e,minSize:null,maxSize:null,typeName:gr.ZodSet,...Ar(t)});class fp extends Lr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Wt.function)return Vt(r,{code:St.invalid_type,expected:Wt.function,received:r.parsedType}),wr;function n(l,d){return T1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,C1(),Up].filter(u=>!!u),issueData:{code:St.invalid_arguments,argumentsError:d}})}function a(l,d){return T1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,C1(),Up].filter(u=>!!u),issueData:{code:St.invalid_return_type,returnTypeError:d}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof qp){const l=this;return ci(async function(...d){const u=new Ki([]),h=await l._def.args.parseAsync(d,i).catch(y=>{throw u.addIssue(n(d,y)),u}),p=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(p,i).catch(y=>{throw u.addIssue(a(p,y)),u})})}else{const l=this;return ci(function(...d){const u=l._def.args.safeParse(d,i);if(!u.success)throw new Ki([n(d,u.error)]);const h=Reflect.apply(o,this,u.data),p=l._def.returns.safeParse(h,i);if(!p.success)throw new Ki([a(h,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new fp({...this._def,args:ec.create(t).rest(Jf.create())})}returns(t){return new fp({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new fp({args:t||ec.create([]).rest(Jf.create()),returns:r||Jf.create(),typeName:gr.ZodFunction,...Ar(n)})}}class kg extends Lr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}kg.create=(e,t)=>new kg({getter:e,typeName:gr.ZodLazy,...Ar(t)});class Dg extends Lr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Vt(r,{received:r.data,code:St.invalid_literal,expected:this._def.value}),wr}return{status:"valid",value:t.data}}get value(){return this._def.value}}Dg.create=(e,t)=>new Dg({value:e,typeName:gr.ZodLiteral,...Ar(t)});function oL(e,t){return new $u({values:e,typeName:gr.ZodEnum,...Ar(t)})}class $u extends Lr{constructor(){super(...arguments),Wx.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Vt(r,{expected:ns.joinValues(n),received:r.parsedType,code:St.invalid_type}),wr}if(_1(this,Wx)||sL(this,Wx,new Set(this._def.values)),!_1(this,Wx).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Vt(r,{received:r.data,code:St.invalid_enum_value,options:n}),wr}return ci(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return $u.create(t,{...this._def,...r})}exclude(t,r=this._def){return $u.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Wx=new WeakMap;$u.create=oL;class Og extends Lr{constructor(){super(...arguments),Gx.set(this,void 0)}_parse(t){const r=ns.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Wt.string&&n.parsedType!==Wt.number){const a=ns.objectValues(r);return Vt(n,{expected:ns.joinValues(a),received:n.parsedType,code:St.invalid_type}),wr}if(_1(this,Gx)||sL(this,Gx,new Set(ns.getValidEnumValues(this._def.values))),!_1(this,Gx).has(t.data)){const a=ns.objectValues(r);return Vt(n,{received:n.data,code:St.invalid_enum_value,options:a}),wr}return ci(t.data)}get enum(){return this._def.values}}Gx=new WeakMap;Og.create=(e,t)=>new Og({values:e,typeName:gr.ZodNativeEnum,...Ar(t)});class qp extends Lr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Wt.promise&&r.common.async===!1)return Vt(r,{code:St.invalid_type,expected:Wt.promise,received:r.parsedType}),wr;const n=r.parsedType===Wt.promise?r.data:Promise.resolve(r.data);return ci(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}qp.create=(e,t)=>new qp({type:e,typeName:gr.ZodPromise,...Ar(t)});class cl extends Lr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===gr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Vt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return wr;const d=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return d.status==="aborted"?wr:d.status==="dirty"||r.value==="dirty"?Zm(d.value):d});{if(r.value==="aborted")return wr;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?wr:l.status==="dirty"||r.value==="dirty"?Zm(l.value):l}}if(a.type==="refinement"){const o=l=>{const d=a.refinement(l,i);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?wr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?wr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ch(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ch(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);ns.assertNever(a)}}cl.create=(e,t,r)=>new cl({schema:e,typeName:gr.ZodEffects,effect:t,...Ar(r)});cl.createWithPreprocess=(e,t,r)=>new cl({schema:t,effect:{type:"preprocess",transform:e},typeName:gr.ZodEffects,...Ar(r)});class Wl extends Lr{_parse(t){return this._getType(t)===Wt.undefined?ci(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Wl.create=(e,t)=>new Wl({innerType:e,typeName:gr.ZodOptional,...Ar(t)});class Uu extends Lr{_parse(t){return this._getType(t)===Wt.null?ci(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Uu.create=(e,t)=>new Uu({innerType:e,typeName:gr.ZodNullable,...Ar(t)});class Pg extends Lr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Wt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Pg.create=(e,t)=>new Pg({innerType:e,typeName:gr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ar(t)});class Rg extends Lr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return jg(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ki(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ki(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Rg.create=(e,t)=>new Rg({innerType:e,typeName:gr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ar(t)});class P1 extends Lr{_parse(t){if(this._getType(t)!==Wt.nan){const n=this._getOrReturnCtx(t);return Vt(n,{code:St.invalid_type,expected:Wt.nan,received:n.parsedType}),wr}return{status:"valid",value:t.data}}}P1.create=e=>new P1({typeName:gr.ZodNaN,...Ar(e)});const Pee=Symbol("zod_brand");class vT extends Lr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ny extends Lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?wr:i.status==="dirty"?(r.dirty(),Zm(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?wr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Ny({in:t,out:r,typeName:gr.ZodPipeline})}}class Mg extends Lr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(ch(a)&&(a.value=Object.freeze(a.value)),a);return jg(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Mg.create=(e,t)=>new Mg({innerType:e,typeName:gr.ZodReadonly,...Ar(t)});function pP(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function bT(e,t={},r){return e?Vp.create().superRefine((n,a)=>{var i,o;const l=e(n);if(l instanceof Promise)return l.then(d=>{var u,h;if(!d){const p=pP(t,n),g=(h=(u=p.fatal)!==null&&u!==void 0?u:r)!==null&&h!==void 0?h:!0;a.addIssue({code:"custom",...p,fatal:g})}});if(!l){const d=pP(t,n),u=(o=(i=d.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...d,fatal:u})}}):Vp.create()}const Ree={object:an.lazycreate};var gr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(gr||(gr={}));const wT=(e,t={message:`Input not instance of ${e.name}`})=>bT(r=>r instanceof e,t),it=sl.create,ki=Lu.create,Mee=P1.create,Iee=Bu.create,ko=Sg.create,rd=dh.create,Fee=k1.create,lL=Eg.create,cL=Ag.create,Ig=Vp.create,Lee=Jf.create,Bee=td.create,$ee=D1.create,_h=il.create,ys=an.create,Uee=an.strictCreate,NT=Cg.create,Vee=Mw.create,qee=Tg.create,zee=ec.create,Hee=_g.create,Wee=O1.create,Gee=uh.create,Yee=fp.create,Kee=kg.create,hp=Dg.create,jy=$u.create,Xee=Og.create,Qee=qp.create,xP=cl.create,Zee=Wl.create,Jee=Uu.create,dL=cl.createWithPreprocess,ete=Ny.create,tte=()=>it().optional(),rte=()=>ki().optional(),ste=()=>ko().optional(),Mn={string:e=>sl.create({...e,coerce:!0}),number:e=>Lu.create({...e,coerce:!0}),boolean:e=>Sg.create({...e,coerce:!0}),bigint:e=>Bu.create({...e,coerce:!0}),date:e=>dh.create({...e,coerce:!0})},nte=wr;var Rr=Object.freeze({__proto__:null,defaultErrorMap:Up,setErrorMap:dee,getErrorMap:C1,makeIssue:T1,EMPTY_PATH:uee,addIssueToContext:Vt,ParseStatus:Wa,INVALID:wr,DIRTY:Zm,OK:ci,isAborted:pA,isDirty:xA,isValid:ch,isAsync:jg,get util(){return ns},get objectUtil(){return mA},ZodParsedType:Wt,getParsedType:Bc,ZodType:Lr,datetimeRegex:iL,ZodString:sl,ZodNumber:Lu,ZodBigInt:Bu,ZodBoolean:Sg,ZodDate:dh,ZodSymbol:k1,ZodUndefined:Eg,ZodNull:Ag,ZodAny:Vp,ZodUnknown:Jf,ZodNever:td,ZodVoid:D1,ZodArray:il,ZodObject:an,ZodUnion:Cg,ZodDiscriminatedUnion:Mw,ZodIntersection:Tg,ZodTuple:ec,ZodRecord:_g,ZodMap:O1,ZodSet:uh,ZodFunction:fp,ZodLazy:kg,ZodLiteral:Dg,ZodEnum:$u,ZodNativeEnum:Og,ZodPromise:qp,ZodEffects:cl,ZodTransformer:cl,ZodOptional:Wl,ZodNullable:Uu,ZodDefault:Pg,ZodCatch:Rg,ZodNaN:P1,BRAND:Pee,ZodBranded:vT,ZodPipeline:Ny,ZodReadonly:Mg,custom:bT,Schema:Lr,ZodSchema:Lr,late:Ree,get ZodFirstPartyTypeKind(){return gr},coerce:Mn,any:Ig,array:_h,bigint:Iee,boolean:ko,date:rd,discriminatedUnion:Vee,effect:xP,enum:jy,function:Yee,instanceof:wT,intersection:qee,lazy:Kee,literal:hp,map:Wee,nan:Mee,nativeEnum:Xee,never:Bee,null:cL,nullable:Jee,number:ki,object:ys,oboolean:ste,onumber:rte,optional:Zee,ostring:tte,pipeline:ete,preprocess:dL,promise:Qee,record:Hee,set:Gee,strictObject:Uee,string:it,symbol:Fee,transformer:xP,tuple:zee,undefined:lL,union:NT,unknown:Lee,void:$ee,NEVER:nte,ZodIssueCode:St,quotelessJson:cee,ZodError:Ki});function wt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function gP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xd(...e){return t=>{let r=!1;const n=e.map(a=>{const i=gP(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():gP(e[a],null)}}}}function Yt(...e){return m.useCallback(xd(...e),e)}function uL(e,t){const r=m.createContext(t),n=i=>{const{children:o,...l}=i,d=m.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:d,children:o})};n.displayName=e+"Provider";function a(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function pa(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),d=r.length;r=[...r,o];const u=p=>{var j;const{scope:g,children:y,...w}=p,v=((j=g==null?void 0:g[e])==null?void 0:j[d])||l,N=m.useMemo(()=>w,Object.values(w));return s.jsx(v.Provider,{value:N,children:y})};u.displayName=i+"Provider";function h(p,g){var v;const y=((v=g==null?void 0:g[e])==null?void 0:v[d])||l,w=m.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[n,ate(a,...t)]}function ate(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:d,scopeName:u})=>{const p=d(i)[`__scope${u}`];return{...l,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Os=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},ite=Tw[" useId ".trim().toString()]||(()=>{}),ote=0;function ii(e){const[t,r]=m.useState(ite());return Os(()=>{r(n=>n??String(ote++))},[e]),e||(t?`radix-${t}`:"")}var lte=Tw[" useInsertionEffect ".trim().toString()]||Os;function Do({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=cte({defaultProp:t,onChange:r}),l=e!==void 0,d=l?e:a;{const h=m.useRef(e!==void 0);m.useEffect(()=>{const p=h.current;p!==l&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const u=m.useCallback(h=>{var p;if(l){const g=dte(h)?h(e):h;g!==e&&((p=o.current)==null||p.call(o,g))}else i(h)},[l,e,i,o]);return[d,u]}function cte({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),a=m.useRef(r),i=m.useRef(t);return lte(()=>{i.current=t},[t]),m.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function dte(e){return typeof e=="function"}function u0(e){const t=ute(e),r=m.forwardRef((n,a)=>{const{children:i,...o}=n,l=m.Children.toArray(i),d=l.find(hte);if(d){const u=d.props.children,h=l.map(p=>p===d?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return s.jsx(t,{...o,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Iw=u0("Slot");function ute(e){const t=m.forwardRef((r,n)=>{const{children:a,...i}=r,o=m.isValidElement(a)?pte(a):void 0,l=Yt(o,n);if(m.isValidElement(a)){const d=mte(i,a.props);return a.type!==m.Fragment&&(d.ref=l),m.cloneElement(a,d)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fte=Symbol("radix.slottable");function hte(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fte}function mte(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const d=i(...l);return a(...l),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function pte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var xte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fL=xte.reduce((e,t)=>{const r=u0(`Primitive.${t}`),n=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gte(e,t){e&&Ju.flushSync(()=>e.dispatchEvent(t))}function Zr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function f0(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var yte="DismissableLayer",yA="dismissableLayer.update",vte="dismissableLayer.pointerDownOutside",bte="dismissableLayer.focusOutside",yP,hL=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mL=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=m.useContext(hL),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),w=Yt(t,T=>p(T)),v=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=v.indexOf(N),A=h?v.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,S=A>=j,_=jte(T=>{const O=T.target,P=[...u.branches].some(I=>I.contains(O));!S||P||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),k=Ste(T=>{const O=T.target;[...u.branches].some(I=>I.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return f0(T=>{A===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(yP=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),vP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=yP)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),vP())},[h,u]),m.useEffect(()=>{const T=()=>y({});return document.addEventListener(yA,T),()=>document.removeEventListener(yA,T)},[]),s.jsx(fL.div,{...d,ref:w,style:{pointerEvents:E?S?"auto":"none":void 0,...e.style},onFocusCapture:wt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:wt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:wt(e.onPointerDownCapture,_.onPointerDownCapture)})});mL.displayName=yte;var wte="DismissableLayerBranch",Nte=m.forwardRef((e,t)=>{const r=m.useContext(hL),n=m.useRef(null),a=Yt(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(fL.div,{...e,ref:a})});Nte.displayName=wte;function jte(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let d=function(){pL(vte,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Ste(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&pL(bte,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function vP(){const e=new CustomEvent(yA);document.dispatchEvent(e)}function pL(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?gte(a,i):a.dispatchEvent(i)}var Ete=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ate=Ete.reduce((e,t)=>{const r=u0(`Primitive.${t}`),n=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),sS="focusScope.autoFocusOnMount",nS="focusScope.autoFocusOnUnmount",bP={bubbles:!1,cancelable:!0},Cte="FocusScope",xL=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,d]=m.useState(null),u=Zr(a),h=Zr(i),p=m.useRef(null),g=Yt(t,v=>d(v)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(E){if(y.paused||!l)return;const S=E.target;l.contains(S)?p.current=S:lu(p.current,{select:!0})},N=function(E){if(y.paused||!l)return;const S=E.relatedTarget;S!==null&&(l.contains(S)||lu(p.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const _ of E)_.removedNodes.length>0&&lu(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",N);const A=new MutationObserver(j);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",N),A.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){NP.add(y);const v=document.activeElement;if(!l.contains(v)){const j=new CustomEvent(sS,bP);l.addEventListener(sS,u),l.dispatchEvent(j),j.defaultPrevented||(Tte(Pte(gL(l)),{select:!0}),document.activeElement===v&&lu(l))}return()=>{l.removeEventListener(sS,u),setTimeout(()=>{const j=new CustomEvent(nS,bP);l.addEventListener(nS,h),l.dispatchEvent(j),j.defaultPrevented||lu(v??document.body,{select:!0}),l.removeEventListener(nS,h),NP.remove(y)},0)}}},[l,u,h,y]);const w=m.useCallback(v=>{if(!r&&!n||y.paused)return;const N=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,j=document.activeElement;if(N&&j){const A=v.currentTarget,[E,S]=_te(A);E&&S?!v.shiftKey&&j===S?(v.preventDefault(),r&&lu(E,{select:!0})):v.shiftKey&&j===E&&(v.preventDefault(),r&&lu(S,{select:!0})):j===A&&v.preventDefault()}},[r,n,y.paused]);return s.jsx(Ate.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});xL.displayName=Cte;function Tte(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(lu(n,{select:t}),document.activeElement!==r)return}function _te(e){const t=gL(e),r=wP(t,e),n=wP(t.reverse(),e);return[r,n]}function gL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wP(e,t){for(const r of e)if(!kte(r,{upTo:t}))return r}function kte(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Dte(e){return e instanceof HTMLInputElement&&"select"in e}function lu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Dte(e)&&t&&e.select()}}var NP=Ote();function Ote(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=jP(e,t),e.unshift(t)},remove(t){var r;e=jP(e,t),(r=e[0])==null||r.resume()}}}function jP(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Pte(e){return e.filter(t=>t.tagName!=="A")}var Rte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mte=Rte.reduce((e,t)=>{const r=u0(`Primitive.${t}`),n=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Ite="Portal",yL=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=m.useState(!1);Os(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?pd.createPortal(s.jsx(Mte.div,{...n,ref:t}),o):null});yL.displayName=Ite;function Fte(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Fw=e=>{const{present:t,children:r}=e,n=Lte(t),a=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Yt(n.ref,Bte(a));return typeof r=="function"||n.isPresent?m.cloneElement(a,{ref:i}):null};Fw.displayName="Presence";function Lte(e){const[t,r]=m.useState(),n=m.useRef(null),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,d]=Fte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=xb(n.current);i.current=l==="mounted"?u:"none"},[l]),Os(()=>{const u=n.current,h=a.current;if(h!==e){const g=i.current,y=xb(u);e?d("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Os(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,p=y=>{const v=xb(n.current).includes(y.animationName);if(y.target===t&&v&&(d("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},g=y=>{y.target===t&&(i.current=xb(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function xb(e){return(e==null?void 0:e.animationName)||"none"}function Bte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $te=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sy=$te.reduce((e,t)=>{const r=u0(`Primitive.${t}`),n=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),aS=0;function Ey(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??SP()),document.body.insertAdjacentElement("beforeend",e[1]??SP()),aS++,()=>{aS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),aS--}},[])}function SP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vl=function(){return Vl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Vl.apply(this,arguments)};function vL(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Ute(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var o1="right-scroll-bar-position",l1="width-before-scroll-bar",Vte="with-scroll-bars-hidden",qte="--removed-body-scroll-bar-size";function iS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zte(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Hte=typeof window<"u"?m.useLayoutEffect:m.useEffect,EP=new WeakMap;function Wte(e,t){var r=zte(null,function(n){return e.forEach(function(a){return iS(a,n)})});return Hte(function(){var n=EP.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||iS(l,null)}),i.forEach(function(l){a.has(l)||iS(l,o)})}EP.set(r,e)},[e]),r}function Gte(e){return e}function Yte(e,t){t===void 0&&(t=Gte);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var d=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),r}}}};return a}function Kte(e){e===void 0&&(e={});var t=Yte(null);return t.options=Vl({async:!0,ssr:!1},e),t}var bL=function(e){var t=e.sideCar,r=vL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Vl({},r))};bL.isSideCarExport=!0;function Xte(e,t){return e.useMedium(t),bL}var wL=Kte(),oS=function(){},Lw=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:oS,onWheelCapture:oS,onTouchMoveCapture:oS}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,d=e.className,u=e.removeScrollBar,h=e.enabled,p=e.shards,g=e.sideCar,y=e.noIsolation,w=e.inert,v=e.allowPinchZoom,N=e.as,j=N===void 0?"div":N,A=e.gapMode,E=vL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,_=Wte([r,t]),k=Vl(Vl({},E),a);return m.createElement(m.Fragment,null,h&&m.createElement(S,{sideCar:wL,removeScrollBar:u,shards:p,noIsolation:y,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:A}),o?m.cloneElement(m.Children.only(l),Vl(Vl({},k),{ref:_})):m.createElement(j,Vl({},k,{className:d,ref:_}),l))});Lw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lw.classNames={fullWidth:l1,zeroRight:o1};var Qte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zte(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qte();return t&&e.setAttribute("nonce",t),e}function Jte(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ere(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tre=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Zte())&&(Jte(t,r),ere(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rre=function(){var e=tre();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},NL=function(){var e=rre(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},sre={left:0,top:0,right:0,gap:0},lS=function(e){return parseInt(e||"",10)||0},nre=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[lS(r),lS(n),lS(a)]},are=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sre;var t=nre(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ire=NL(),mp="data-scroll-locked",ore=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Vte,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(mp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(o1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(l1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(o1," .").concat(o1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(l1," .").concat(l1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(mp,`] {
    `).concat(qte,": ").concat(l,`px;
  }
`)},AP=function(){var e=parseInt(document.body.getAttribute(mp)||"0",10);return isFinite(e)?e:0},lre=function(){m.useEffect(function(){return document.body.setAttribute(mp,(AP()+1).toString()),function(){var e=AP()-1;e<=0?document.body.removeAttribute(mp):document.body.setAttribute(mp,e.toString())}},[])},cre=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;lre();var i=m.useMemo(function(){return are(a)},[a]);return m.createElement(ire,{styles:ore(i,!t,a,r?"":"!important")})},vA=!1;if(typeof window<"u")try{var gb=Object.defineProperty({},"passive",{get:function(){return vA=!0,!0}});window.addEventListener("test",gb,gb),window.removeEventListener("test",gb,gb)}catch{vA=!1}var Om=vA?{passive:!1}:!1,dre=function(e){return e.tagName==="TEXTAREA"},jL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!dre(e)&&r[t]==="visible")},ure=function(e){return jL(e,"overflowY")},fre=function(e){return jL(e,"overflowX")},CP=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=SL(e,n);if(a){var i=EL(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hre=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},mre=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},SL=function(e,t){return e==="v"?ure(t):fre(t)},EL=function(e,t){return e==="v"?hre(t):mre(t)},pre=function(e,t){return e==="h"&&t==="rtl"?-1:1},xre=function(e,t,r,n,a){var i=pre(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,d=t.contains(l),u=!1,h=o>0,p=0,g=0;do{var y=EL(e,l),w=y[0],v=y[1],N=y[2],j=v-N-i*w;(w||j)&&SL(e,l)&&(p+=j,g+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(h&&Math.abs(p)<1||!h&&Math.abs(g)<1)&&(u=!0),u},yb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},TP=function(e){return[e.deltaX,e.deltaY]},_P=function(e){return e&&"current"in e?e.current:e},gre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vre=0,Pm=[];function bre(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),a=m.useState(vre++)[0],i=m.useState(NL)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=Ute([e.lockRef.current],(e.shards||[]).map(_P),!0).filter(Boolean);return v.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,N){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var j=yb(v),A=r.current,E="deltaX"in v?v.deltaX:A[0]-j[0],S="deltaY"in v?v.deltaY:A[1]-j[1],_,k=v.target,T=Math.abs(E)>Math.abs(S)?"h":"v";if("touches"in v&&T==="h"&&k.type==="range")return!1;var O=CP(T,k);if(!O)return!0;if(O?_=T:(_=T==="v"?"h":"v",O=CP(T,k)),!O)return!1;if(!n.current&&"changedTouches"in v&&(E||S)&&(n.current=_),!_)return!0;var P=n.current||_;return xre(P,N,v,P==="h"?E:S)},[]),d=m.useCallback(function(v){var N=v;if(!(!Pm.length||Pm[Pm.length-1]!==i)){var j="deltaY"in N?TP(N):yb(N),A=t.current.filter(function(_){return _.name===N.type&&(_.target===N.target||N.target===_.shadowParent)&&gre(_.delta,j)})[0];if(A&&A.should){N.cancelable&&N.preventDefault();return}if(!A){var E=(o.current.shards||[]).map(_P).filter(Boolean).filter(function(_){return _.contains(N.target)}),S=E.length>0?l(N,E[0]):!o.current.noIsolation;S&&N.cancelable&&N.preventDefault()}}},[]),u=m.useCallback(function(v,N,j,A){var E={name:v,delta:N,target:j,should:A,shadowParent:wre(j)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(S){return S!==E})},1)},[]),h=m.useCallback(function(v){r.current=yb(v),n.current=void 0},[]),p=m.useCallback(function(v){u(v.type,TP(v),v.target,l(v,e.lockRef.current))},[]),g=m.useCallback(function(v){u(v.type,yb(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return Pm.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Om),document.addEventListener("touchmove",d,Om),document.addEventListener("touchstart",h,Om),function(){Pm=Pm.filter(function(v){return v!==i}),document.removeEventListener("wheel",d,Om),document.removeEventListener("touchmove",d,Om),document.removeEventListener("touchstart",h,Om)}},[]);var y=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:yre(a)}):null,y?m.createElement(cre,{gapMode:e.gapMode}):null)}function wre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Nre=Xte(wL,bre);var ef=m.forwardRef(function(e,t){return m.createElement(Lw,Vl({},e,{ref:t,sideCar:Nre}))});ef.classNames=Lw.classNames;var jre=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Rm=new WeakMap,vb=new WeakMap,bb={},cS=0,AL=function(e){return e&&(e.host||AL(e.parentNode))},Sre=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=AL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Ere=function(e,t,r,n){var a=Sre(t,Array.isArray(e)?e:[e]);bb[r]||(bb[r]=new WeakMap);var i=bb[r],o=[],l=new Set,d=new Set(a),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};a.forEach(u);var h=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))h(g);else try{var y=g.getAttribute(n),w=y!==null&&y!=="false",v=(Rm.get(g)||0)+1,N=(i.get(g)||0)+1;Rm.set(g,v),i.set(g,N),o.push(g),v===1&&w&&vb.set(g,!0),N===1&&g.setAttribute(r,"true"),w||g.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",g,j)}})};return h(t),l.clear(),cS++,function(){o.forEach(function(p){var g=Rm.get(p)-1,y=i.get(p)-1;Rm.set(p,g),i.set(p,y),g||(vb.has(p)||p.removeAttribute(n),vb.delete(p)),y||p.removeAttribute(r)}),cS--,cS||(Rm=new WeakMap,Rm=new WeakMap,vb=new WeakMap,bb={})}},kh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=jre(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Ere(n,a,r,"aria-hidden")):function(){return null}},Bw="Dialog",[CL,z6e]=pa(Bw),[Are,xl]=CL(Bw),TL=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),d=m.useRef(null),[u,h]=Do({prop:n,defaultProp:a??!1,onChange:i,caller:Bw});return s.jsx(Are,{scope:t,triggerRef:l,contentRef:d,contentId:ii(),titleId:ii(),descriptionId:ii(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:o,children:r})};TL.displayName=Bw;var _L="DialogTrigger",kL=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xl(_L,r),i=Yt(t,a.triggerRef);return s.jsx(Sy.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ET(a.open),...n,ref:i,onClick:wt(e.onClick,a.onOpenToggle)})});kL.displayName=_L;var jT="DialogPortal",[Cre,DL]=CL(jT,{forceMount:void 0}),OL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=xl(jT,t);return s.jsx(Cre,{scope:t,forceMount:r,children:m.Children.map(n,o=>s.jsx(Fw,{present:r||i.open,children:s.jsx(yL,{asChild:!0,container:a,children:o})}))})};OL.displayName=jT;var R1="DialogOverlay",PL=m.forwardRef((e,t)=>{const r=DL(R1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=xl(R1,e.__scopeDialog);return i.modal?s.jsx(Fw,{present:n||i.open,children:s.jsx(_re,{...a,ref:t})}):null});PL.displayName=R1;var Tre=u0("DialogOverlay.RemoveScroll"),_re=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xl(R1,r);return s.jsx(ef,{as:Tre,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Sy.div,{"data-state":ET(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),fh="DialogContent",RL=m.forwardRef((e,t)=>{const r=DL(fh,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=xl(fh,e.__scopeDialog);return s.jsx(Fw,{present:n||i.open,children:i.modal?s.jsx(kre,{...a,ref:t}):s.jsx(Dre,{...a,ref:t})})});RL.displayName=fh;var kre=m.forwardRef((e,t)=>{const r=xl(fh,e.__scopeDialog),n=m.useRef(null),a=Yt(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return kh(i)},[]),s.jsx(ML,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:wt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:wt(e.onFocusOutside,i=>i.preventDefault())})}),Dre=m.forwardRef((e,t)=>{const r=xl(fh,e.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return s.jsx(ML,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),ML=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=xl(fh,r),d=m.useRef(null),u=Yt(t,d);return Ey(),s.jsxs(s.Fragment,{children:[s.jsx(xL,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(mL,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ET(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Ore,{titleId:l.titleId}),s.jsx(Rre,{contentRef:d,descriptionId:l.descriptionId})]})]})}),ST="DialogTitle",IL=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xl(ST,r);return s.jsx(Sy.h2,{id:a.titleId,...n,ref:t})});IL.displayName=ST;var FL="DialogDescription",LL=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xl(FL,r);return s.jsx(Sy.p,{id:a.descriptionId,...n,ref:t})});LL.displayName=FL;var BL="DialogClose",$L=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xl(BL,r);return s.jsx(Sy.button,{type:"button",...n,ref:t,onClick:wt(e.onClick,()=>a.onOpenChange(!1))})});$L.displayName=BL;function ET(e){return e?"open":"closed"}var UL="DialogTitleWarning",[H6e,VL]=uL(UL,{contentName:fh,titleName:ST,docsSlug:"dialog"}),Ore=({titleId:e})=>{const t=VL(UL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Pre="DialogDescriptionWarning",Rre=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VL(Pre).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},qL=TL,Mre=kL,zL=OL,AT=PL,CT=RL,TT=IL,_T=LL,kT=$L;function HL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=HL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function go(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=HL(e))&&(n&&(n+=" "),n+=t);return n}const DT="-",Ire=e=>{const t=Lre(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(DT);return l[0]===""&&l.length!==1&&l.shift(),WL(l,t)||Fre(o)},getConflictingClassGroupIds:(o,l)=>{const d=r[o]||[];return l&&n[o]?[...d,...n[o]]:d}}},WL=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?WL(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(DT);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},kP=/^\[(.+)\]$/,Fre=e=>{if(kP.test(e)){const t=kP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Lre=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)bA(r[a],n,a,t);return n},bA=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:DP(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Bre(a)){bA(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{bA(o,DP(t,i),r,n)})})},DP=(e,t)=>{let r=e;return t.split(DT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Bre=e=>e.isThemeGetter,$re=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},wA="!",NA=":",Ure=NA.length,Vre=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,d=0,u;for(let w=0;w<a.length;w++){let v=a[w];if(o===0&&l===0){if(v===NA){i.push(a.slice(d,w)),d=w+Ure;continue}if(v==="/"){u=w;continue}}v==="["?o++:v==="]"?o--:v==="("?l++:v===")"&&l--}const h=i.length===0?a:a.substring(d),p=qre(h),g=p!==h,y=u&&u>d?u-d:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:y}};if(t){const a=t+NA,i=n;n=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},qre=e=>e.endsWith(wA)?e.substring(0,e.length-1):e.startsWith(wA)?e.substring(1):e,zre=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},Hre=e=>({cache:$re(e.cacheSize),parseClassName:Vre(e),sortModifiers:zre(e),...Ire(e)}),Wre=/\s+/,Gre=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(Wre);let d="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{isExternal:p,modifiers:g,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:v}=r(h);if(p){d=h+(d.length>0?" "+d:d);continue}let N=!!v,j=n(N?w.substring(0,v):w);if(!j){if(!N){d=h+(d.length>0?" "+d:d);continue}if(j=n(w),!j){d=h+(d.length>0?" "+d:d);continue}N=!1}const A=i(g).join(":"),E=y?A+wA:A,S=E+j;if(o.includes(S))continue;o.push(S);const _=a(j,N);for(let k=0;k<_.length;++k){const T=_[k];o.push(E+T)}d=h+(d.length>0?" "+d:d)}return d};function Yre(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=GL(t))&&(n&&(n+=" "),n+=r);return n}const GL=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=GL(e[n]))&&(r&&(r+=" "),r+=t);return r};function Kre(e,...t){let r,n,a,i=o;function o(d){const u=t.reduce((h,p)=>p(h),e());return r=Hre(u),n=r.cache.get,a=r.cache.set,i=l,l(d)}function l(d){const u=n(d);if(u)return u;const h=Gre(d,r);return a(d,h),h}return function(){return i(Yre.apply(null,arguments))}}const Xn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},YL=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,KL=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Xre=/^\d+\/\d+$/,Qre=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zre=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jre=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ese=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mm=e=>Xre.test(e),Ur=e=>!!e&&!Number.isNaN(Number(e)),Jd=e=>!!e&&Number.isInteger(Number(e)),dS=e=>e.endsWith("%")&&Ur(e.slice(0,-1)),Pc=e=>Qre.test(e),rse=()=>!0,sse=e=>Zre.test(e)&&!Jre.test(e),XL=()=>!1,nse=e=>ese.test(e),ase=e=>tse.test(e),ise=e=>!Qt(e)&&!Zt(e),ose=e=>h0(e,JL,XL),Qt=e=>YL.test(e),Pf=e=>h0(e,e8,sse),uS=e=>h0(e,fse,Ur),OP=e=>h0(e,QL,XL),lse=e=>h0(e,ZL,ase),wb=e=>h0(e,t8,nse),Zt=e=>KL.test(e),kx=e=>m0(e,e8),cse=e=>m0(e,hse),PP=e=>m0(e,QL),dse=e=>m0(e,JL),use=e=>m0(e,ZL),Nb=e=>m0(e,t8,!0),h0=(e,t,r)=>{const n=YL.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},m0=(e,t,r=!1)=>{const n=KL.exec(e);return n?n[1]?t(n[1]):r:!1},QL=e=>e==="position"||e==="percentage",ZL=e=>e==="image"||e==="url",JL=e=>e==="length"||e==="size"||e==="bg-size",e8=e=>e==="length",fse=e=>e==="number",hse=e=>e==="family-name",t8=e=>e==="shadow",mse=()=>{const e=Xn("color"),t=Xn("font"),r=Xn("text"),n=Xn("font-weight"),a=Xn("tracking"),i=Xn("leading"),o=Xn("breakpoint"),l=Xn("container"),d=Xn("spacing"),u=Xn("radius"),h=Xn("shadow"),p=Xn("inset-shadow"),g=Xn("text-shadow"),y=Xn("drop-shadow"),w=Xn("blur"),v=Xn("perspective"),N=Xn("aspect"),j=Xn("ease"),A=Xn("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...S(),Zt,Qt],k=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],O=()=>[Zt,Qt,d],P=()=>[Mm,"full","auto",...O()],I=()=>[Jd,"none","subgrid",Zt,Qt],M=()=>["auto",{span:["full",Jd,Zt,Qt]},Jd,Zt,Qt],q=()=>[Jd,"auto",Zt,Qt],U=()=>["auto","min","max","fr",Zt,Qt],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...O()],H=()=>[Mm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],R=()=>[e,Zt,Qt],X=()=>[...S(),PP,OP,{position:[Zt,Qt]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",dse,ose,{size:[Zt,Qt]}],F=()=>[dS,kx,Pf],z=()=>["","none","full",u,Zt,Qt],K=()=>["",Ur,kx,Pf],V=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[Ur,dS,PP,OP],se=()=>["","none",w,Zt,Qt],Z=()=>["none",Ur,Zt,Qt],le=()=>["none",Ur,Zt,Qt],Te=()=>[Ur,Zt,Qt],Ee=()=>[Mm,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pc],breakpoint:[Pc],color:[rse],container:[Pc],"drop-shadow":[Pc],ease:["in","out","in-out"],font:[ise],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pc],shadow:[Pc],spacing:["px",Ur],text:[Pc],"text-shadow":[Pc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mm,Qt,Zt,N]}],container:["container"],columns:[{columns:[Ur,Qt,Zt,l]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Jd,"auto",Zt,Qt]}],basis:[{basis:[Mm,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ur,Mm,"auto","initial","none",Qt]}],grow:[{grow:["",Ur,Zt,Qt]}],shrink:[{shrink:["",Ur,Zt,Qt]}],order:[{order:[Jd,"first","last","none",Zt,Qt]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[l,"screen",...H()]}],"min-w":[{"min-w":[l,"screen","none",...H()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...H()]}],h:[{h:["screen",...H()]}],"min-h":[{"min-h":["screen","none",...H()]}],"max-h":[{"max-h":["screen",...H()]}],"font-size":[{text:["base",r,kx,Pf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Zt,uS]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dS,Qt]}],"font-family":[{font:[cse,Qt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Zt,Qt]}],"line-clamp":[{"line-clamp":[Ur,"none",Zt,uS]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",Zt,Qt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Zt,Qt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ur,"from-font","auto",Zt,Pf]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Ur,"auto",Zt,Qt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Zt,Qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Zt,Qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jd,Zt,Qt],radial:["",Zt,Qt],conic:[Jd,Zt,Qt]},use,lse]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ur,Zt,Qt]}],"outline-w":[{outline:["",Ur,kx,Pf]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",h,Nb,wb]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",p,Nb,wb]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Ur,Pf]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",g,Nb,wb]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Ur,Zt,Qt]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ur]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[Zt,Qt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Ur]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Zt,Qt]}],filter:[{filter:["","none",Zt,Qt]}],blur:[{blur:se()}],brightness:[{brightness:[Ur,Zt,Qt]}],contrast:[{contrast:[Ur,Zt,Qt]}],"drop-shadow":[{"drop-shadow":["","none",y,Nb,wb]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Ur,Zt,Qt]}],"hue-rotate":[{"hue-rotate":[Ur,Zt,Qt]}],invert:[{invert:["",Ur,Zt,Qt]}],saturate:[{saturate:[Ur,Zt,Qt]}],sepia:[{sepia:["",Ur,Zt,Qt]}],"backdrop-filter":[{"backdrop-filter":["","none",Zt,Qt]}],"backdrop-blur":[{"backdrop-blur":se()}],"backdrop-brightness":[{"backdrop-brightness":[Ur,Zt,Qt]}],"backdrop-contrast":[{"backdrop-contrast":[Ur,Zt,Qt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ur,Zt,Qt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ur,Zt,Qt]}],"backdrop-invert":[{"backdrop-invert":["",Ur,Zt,Qt]}],"backdrop-opacity":[{"backdrop-opacity":[Ur,Zt,Qt]}],"backdrop-saturate":[{"backdrop-saturate":[Ur,Zt,Qt]}],"backdrop-sepia":[{"backdrop-sepia":["",Ur,Zt,Qt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Zt,Qt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ur,"initial",Zt,Qt]}],ease:[{ease:["linear","initial",j,Zt,Qt]}],delay:[{delay:[Ur,Zt,Qt]}],animate:[{animate:["none",A,Zt,Qt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Zt,Qt]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:Te()}],"skew-x":[{"skew-x":Te()}],"skew-y":[{"skew-y":Te()}],transform:[{transform:[Zt,Qt,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Zt,Qt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Zt,Qt]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Ur,kx,Pf,uS]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},pse=Kre(mse);function Xe(...e){return pse(go(e))}const as=qL,p0=Mre,xse=zL,Gc=kT,r8=m.forwardRef(({className:e,...t},r)=>s.jsx(AT,{ref:r,className:Xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));r8.displayName=AT.displayName;const is=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(xse,{children:[s.jsx(r8,{}),s.jsxs(CT,{ref:n,className:Xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(kT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(ai,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));is.displayName=CT.displayName;const fs=({className:e,...t})=>s.jsx("div",{className:Xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});fs.displayName="DialogHeader";const di=({className:e,...t})=>s.jsx("div",{className:Xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});di.displayName="DialogFooter";const hs=m.forwardRef(({className:e,...t},r)=>s.jsx(TT,{ref:r,className:Xe("text-lg font-semibold leading-none tracking-tight",e),...t}));hs.displayName=TT.displayName;const Ta=m.forwardRef(({className:e,...t},r)=>s.jsx(_T,{ref:r,className:Xe("text-sm text-muted-foreground",e),...t}));Ta.displayName=_T.displayName;const RP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,MP=go,$w=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return MP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const h=r==null?void 0:r[u],p=i==null?void 0:i[u];if(h===null)return null;const g=RP(h)||RP(p);return a[u][g]}),l=r&&Object.entries(r).reduce((u,h)=>{let[p,g]=h;return g===void 0||(u[p]=g),u},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:p,className:g,...y}=h;return Object.entries(y).every(w=>{let[v,N]=w;return Array.isArray(N)?N.includes({...i,...l}[v]):{...i,...l}[v]===N})?[...u,p,g]:u},[]);return MP(e,o,d,r==null?void 0:r.class,r==null?void 0:r.className)},zp=$w("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 ",outline:"border bg-background shadow-xs hover:bg-accent hover:text-gray-700-foreground ",secondary:"bg-secondary text-white  shadow-xs hover:bg-white/80",ghost:"hover:bg-accent hover:text-gray-700-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function pe({className:e,variant:t,size:r,asChild:n=!1,...a}){const i=n?Iw:"button";return s.jsx(i,{"data-slot":"button",className:Xe(zp({variant:t,size:r,className:e})),...a})}function He({className:e,type:t,...r}){return s.jsx("input",{type:t,"data-slot":"input",className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}const An=m.forwardRef(({className:e,onChange:t,onBlur:r,...n},a)=>{const[i,o]=m.useState(!1);return s.jsxs("div",{className:"relative",children:[s.jsx(He,{type:i?"text":"password",className:Xe("hide-password-toggle pr-10",e),ref:a,onChange:t,onBlur:r,autoComplete:"new-password",...n}),s.jsxs(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>{o(l=>!l)},children:[i?s.jsx($Z,{className:"h-4 w-4","aria-hidden":"true"}):s.jsx(qc,{className:"h-4 w-4","aria-hidden":"true"}),s.jsx("span",{className:"sr-only",children:i?"Hide password":"Show password"})]}),s.jsx("style",{children:`
          .hide-password-toggle::-ms-reveal,
          .hide-password-toggle::-ms-clear {
            visibility: hidden;
            pointer-events: none;
            display: none;
          }
        `})]})});An.displayName="PasswordInput";function gse(e){const t=yse(e),r=m.forwardRef((n,a)=>{const{children:i,...o}=n,l=m.Children.toArray(i),d=l.find(bse);if(d){const u=d.props.children,h=l.map(p=>p===d?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return s.jsx(t,{...o,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function yse(e){const t=m.forwardRef((r,n)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const o=Nse(a),l=wse(i,a.props);return a.type!==m.Fragment&&(l.ref=n?xd(n,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vse=Symbol("radix.slottable");function bse(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vse}function wse(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Nse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qt=jse.reduce((e,t)=>{const r=gse(`Primitive.${t}`),n=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function x0(e,t){e&&Ju.flushSync(()=>e.dispatchEvent(t))}var Sse="Label",s8=m.forwardRef((e,t)=>s.jsx(qt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));s8.displayName=Sse;var Ese=s8;function ye({className:e,...t}){return s.jsx(Ese,{"data-slot":"label",className:Xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function n8(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ase}=Object.prototype,{getPrototypeOf:OT}=Object,Uw=(e=>t=>{const r=Ase.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gl=e=>(e=e.toLowerCase(),t=>Uw(t)===e),Vw=e=>t=>typeof t===e,{isArray:g0}=Array,Fg=Vw("undefined");function Cse(e){return e!==null&&!Fg(e)&&e.constructor!==null&&!Fg(e.constructor)&&Xi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const a8=gl("ArrayBuffer");function Tse(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&a8(e.buffer),t}const _se=Vw("string"),Xi=Vw("function"),i8=Vw("number"),qw=e=>e!==null&&typeof e=="object",kse=e=>e===!0||e===!1,c1=e=>{if(Uw(e)!=="object")return!1;const t=OT(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dse=gl("Date"),Ose=gl("File"),Pse=gl("Blob"),Rse=gl("FileList"),Mse=e=>qw(e)&&Xi(e.pipe),Ise=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xi(e.append)&&((t=Uw(e))==="formdata"||t==="object"&&Xi(e.toString)&&e.toString()==="[object FormData]"))},Fse=gl("URLSearchParams"),[Lse,Bse,$se,Use]=["ReadableStream","Request","Response","Headers"].map(gl),Vse=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ay(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),g0(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function o8(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const $f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,l8=e=>!Fg(e)&&e!==$f;function jA(){const{caseless:e}=l8(this)&&this||{},t={},r=(n,a)=>{const i=e&&o8(t,a)||a;c1(t[i])&&c1(n)?t[i]=jA(t[i],n):c1(n)?t[i]=jA({},n):g0(n)?t[i]=n.slice():t[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Ay(arguments[n],r);return t}const qse=(e,t,r,{allOwnKeys:n}={})=>(Ay(t,(a,i)=>{r&&Xi(a)?e[i]=n8(a,r):e[i]=a},{allOwnKeys:n}),e),zse=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hse=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Wse=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&OT(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Gse=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Yse=e=>{if(!e)return null;if(g0(e))return e;let t=e.length;if(!i8(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Kse=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&OT(Uint8Array)),Xse=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Qse=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Zse=gl("HTMLFormElement"),Jse=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),IP=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ene=gl("RegExp"),c8=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ay(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},tne=e=>{c8(e,(t,r)=>{if(Xi(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Xi(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},rne=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return g0(e)?n(e):n(String(e).split(t)),r},sne=()=>{},nne=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ane(e){return!!(e&&Xi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ine=e=>{const t=new Array(10),r=(n,a)=>{if(qw(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const i=g0(n)?[]:{};return Ay(n,(o,l)=>{const d=r(o,a+1);!Fg(d)&&(i[l]=d)}),t[a]=void 0,i}}return n};return r(e,0)},one=gl("AsyncFunction"),lne=e=>e&&(qw(e)||Xi(e))&&Xi(e.then)&&Xi(e.catch),d8=((e,t)=>e?setImmediate:t?((r,n)=>($f.addEventListener("message",({source:a,data:i})=>{a===$f&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),$f.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xi($f.postMessage)),cne=typeof queueMicrotask<"u"?queueMicrotask.bind($f):typeof process<"u"&&process.nextTick||d8,et={isArray:g0,isArrayBuffer:a8,isBuffer:Cse,isFormData:Ise,isArrayBufferView:Tse,isString:_se,isNumber:i8,isBoolean:kse,isObject:qw,isPlainObject:c1,isReadableStream:Lse,isRequest:Bse,isResponse:$se,isHeaders:Use,isUndefined:Fg,isDate:Dse,isFile:Ose,isBlob:Pse,isRegExp:ene,isFunction:Xi,isStream:Mse,isURLSearchParams:Fse,isTypedArray:Kse,isFileList:Rse,forEach:Ay,merge:jA,extend:qse,trim:Vse,stripBOM:zse,inherits:Hse,toFlatObject:Wse,kindOf:Uw,kindOfTest:gl,endsWith:Gse,toArray:Yse,forEachEntry:Xse,matchAll:Qse,isHTMLForm:Zse,hasOwnProperty:IP,hasOwnProp:IP,reduceDescriptors:c8,freezeMethods:tne,toObjectSet:rne,toCamelCase:Jse,noop:sne,toFiniteNumber:nne,findKey:o8,global:$f,isContextDefined:l8,isSpecCompliantForm:ane,toJSONObject:ine,isAsyncFn:one,isThenable:lne,setImmediate:d8,asap:cne};function Er(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}et.inherits(Er,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:et.toJSONObject(this.config),code:this.code,status:this.status}}});const u8=Er.prototype,f8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{f8[e]={value:e}});Object.defineProperties(Er,f8);Object.defineProperty(u8,"isAxiosError",{value:!0});Er.from=(e,t,r,n,a,i)=>{const o=Object.create(u8);return et.toFlatObject(e,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),Er.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const dne=null;function SA(e){return et.isPlainObject(e)||et.isArray(e)}function h8(e){return et.endsWith(e,"[]")?e.slice(0,-2):e}function FP(e,t,r){return e?e.concat(t).map(function(a,i){return a=h8(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function une(e){return et.isArray(e)&&!e.some(SA)}const fne=et.toFlatObject(et,{},null,function(t){return/^is[A-Z]/.test(t)});function zw(e,t,r){if(!et.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=et.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,N){return!et.isUndefined(N[v])});const n=r.metaTokens,a=r.visitor||h,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&et.isSpecCompliantForm(t);if(!et.isFunction(a))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(et.isDate(w))return w.toISOString();if(!d&&et.isBlob(w))throw new Er("Blob is not supported. Use a Buffer instead.");return et.isArrayBuffer(w)||et.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,v,N){let j=w;if(w&&!N&&typeof w=="object"){if(et.endsWith(v,"{}"))v=n?v:v.slice(0,-2),w=JSON.stringify(w);else if(et.isArray(w)&&une(w)||(et.isFileList(w)||et.endsWith(v,"[]"))&&(j=et.toArray(w)))return v=h8(v),j.forEach(function(E,S){!(et.isUndefined(E)||E===null)&&t.append(o===!0?FP([v],S,i):o===null?v:v+"[]",u(E))}),!1}return SA(w)?!0:(t.append(FP(N,v,i),u(w)),!1)}const p=[],g=Object.assign(fne,{defaultVisitor:h,convertValue:u,isVisitable:SA});function y(w,v){if(!et.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(w),et.forEach(w,function(j,A){(!(et.isUndefined(j)||j===null)&&a.call(t,j,et.isString(A)?A.trim():A,v,g))===!0&&y(j,v?v.concat(A):[A])}),p.pop()}}if(!et.isObject(e))throw new TypeError("data must be an object");return y(e),t}function LP(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function PT(e,t){this._pairs=[],e&&zw(e,this,t)}const m8=PT.prototype;m8.append=function(t,r){this._pairs.push([t,r])};m8.toString=function(t){const r=t?function(n){return t.call(this,n,LP)}:LP;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function hne(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function p8(e,t,r){if(!t)return e;const n=r&&r.encode||hne;et.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=et.isURLSearchParams(t)?t.toString():new PT(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class BP{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){et.forEach(this.handlers,function(n){n!==null&&t(n)})}}const x8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mne=typeof URLSearchParams<"u"?URLSearchParams:PT,pne=typeof FormData<"u"?FormData:null,xne=typeof Blob<"u"?Blob:null,gne={isBrowser:!0,classes:{URLSearchParams:mne,FormData:pne,Blob:xne},protocols:["http","https","file","blob","url","data"]},RT=typeof window<"u"&&typeof document<"u",EA=typeof navigator=="object"&&navigator||void 0,yne=RT&&(!EA||["ReactNative","NativeScript","NS"].indexOf(EA.product)<0),vne=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bne=RT&&window.location.href||"http://localhost",wne=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:RT,hasStandardBrowserEnv:yne,hasStandardBrowserWebWorkerEnv:vne,navigator:EA,origin:bne},Symbol.toStringTag,{value:"Module"})),Ba={...wne,...gne};function Nne(e,t){return zw(e,new Ba.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return Ba.isNode&&et.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function jne(e){return et.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Sne(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function g8(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=r.length;return o=!o&&et.isArray(a)?a.length:o,d?(et.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!et.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&et.isArray(a[o])&&(a[o]=Sne(a[o])),!l)}if(et.isFormData(e)&&et.isFunction(e.entries)){const r={};return et.forEachEntry(e,(n,a)=>{t(jne(n),a,r,0)}),r}return null}function Ene(e,t,r){if(et.isString(e))try{return(t||JSON.parse)(e),et.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Cy={transitional:x8,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=et.isObject(t);if(i&&et.isHTMLForm(t)&&(t=new FormData(t)),et.isFormData(t))return a?JSON.stringify(g8(t)):t;if(et.isArrayBuffer(t)||et.isBuffer(t)||et.isStream(t)||et.isFile(t)||et.isBlob(t)||et.isReadableStream(t))return t;if(et.isArrayBufferView(t))return t.buffer;if(et.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Nne(t,this.formSerializer).toString();if((l=et.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return zw(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Ene(t)):t}],transformResponse:[function(t){const r=this.transitional||Cy.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(et.isResponse(t)||et.isReadableStream(t))return t;if(t&&et.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?Er.from(l,Er.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ba.classes.FormData,Blob:Ba.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};et.forEach(["delete","get","head","post","put","patch"],e=>{Cy.headers[e]={}});const Ane=et.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cne=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&Ane[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},$P=Symbol("internals");function Dx(e){return e&&String(e).trim().toLowerCase()}function d1(e){return e===!1||e==null?e:et.isArray(e)?e.map(d1):String(e)}function Tne(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const _ne=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function fS(e,t,r,n,a){if(et.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!et.isString(t)){if(et.isString(n))return t.indexOf(n)!==-1;if(et.isRegExp(n))return n.test(t)}}function kne(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Dne(e,t){const r=et.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let Ci=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,d,u){const h=Dx(d);if(!h)throw new Error("header name must be a non-empty string");const p=et.findKey(a,h);(!p||a[p]===void 0||u===!0||u===void 0&&a[p]!==!1)&&(a[p||d]=d1(l))}const o=(l,d)=>et.forEach(l,(u,h)=>i(u,h,d));if(et.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(et.isString(t)&&(t=t.trim())&&!_ne(t))o(Cne(t),r);else if(et.isHeaders(t))for(const[l,d]of t.entries())i(d,l,n);else t!=null&&i(r,t,n);return this}get(t,r){if(t=Dx(t),t){const n=et.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Tne(a);if(et.isFunction(r))return r.call(this,a,n);if(et.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Dx(t),t){const n=et.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||fS(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=Dx(o),o){const l=et.findKey(n,o);l&&(!r||fS(n,n[l],l,r))&&(delete n[l],a=!0)}}return et.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||fS(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return et.forEach(this,(a,i)=>{const o=et.findKey(n,i);if(o){r[o]=d1(a),delete r[i];return}const l=t?kne(i):String(i).trim();l!==i&&delete r[i],r[l]=d1(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return et.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&et.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[$P]=this[$P]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Dx(o);n[l]||(Dne(a,o),n[l]=!0)}return et.isArray(t)?t.forEach(i):i(t),this}};Ci.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);et.reduceDescriptors(Ci.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});et.freezeMethods(Ci);function hS(e,t){const r=this||Cy,n=t||r,a=Ci.from(n.headers);let i=n.data;return et.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function y8(e){return!!(e&&e.__CANCEL__)}function y0(e,t,r){Er.call(this,e??"canceled",Er.ERR_CANCELED,t,r),this.name="CanceledError"}et.inherits(y0,Er,{__CANCEL__:!0});function v8(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Er("Request failed with status code "+r.status,[Er.ERR_BAD_REQUEST,Er.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function One(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Pne(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),h=n[i];o||(o=u),r[a]=d,n[a]=u;let p=i,g=0;for(;p!==a;)g+=r[p++],p=p%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const y=h&&u-h;return y?Math.round(g*1e3/y):void 0}}function Rne(e,t){let r=0,n=1e3/t,a,i;const o=(u,h=Date.now())=>{r=h,a=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const h=Date.now(),p=h-r;p>=n?o(u,h):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},n-p)))},()=>a&&o(a)]}const M1=(e,t,r=3)=>{let n=0;const a=Pne(50,250);return Rne(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-n,u=a(d),h=o<=l;n=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},r)},UP=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},VP=e=>(...t)=>et.asap(()=>e(...t)),Mne=Ba.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ba.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ba.origin),Ba.navigator&&/(msie|trident)/i.test(Ba.navigator.userAgent)):()=>!0,Ine=Ba.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const o=[e+"="+encodeURIComponent(t)];et.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),et.isString(n)&&o.push("path="+n),et.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fne(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Lne(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function b8(e,t,r){let n=!Fne(t);return e&&(n||r==!1)?Lne(e,t):t}const qP=e=>e instanceof Ci?{...e}:e;function hh(e,t){t=t||{};const r={};function n(u,h,p,g){return et.isPlainObject(u)&&et.isPlainObject(h)?et.merge.call({caseless:g},u,h):et.isPlainObject(h)?et.merge({},h):et.isArray(h)?h.slice():h}function a(u,h,p,g){if(et.isUndefined(h)){if(!et.isUndefined(u))return n(void 0,u,p,g)}else return n(u,h,p,g)}function i(u,h){if(!et.isUndefined(h))return n(void 0,h)}function o(u,h){if(et.isUndefined(h)){if(!et.isUndefined(u))return n(void 0,u)}else return n(void 0,h)}function l(u,h,p){if(p in t)return n(u,h);if(p in e)return n(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,p)=>a(qP(u),qP(h),p,!0)};return et.forEach(Object.keys(Object.assign({},e,t)),function(h){const p=d[h]||a,g=p(e[h],t[h],h);et.isUndefined(g)&&p!==l||(r[h]=g)}),r}const w8=e=>{const t=hh({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=Ci.from(o),t.url=p8(b8(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(et.isFormData(r)){if(Ba.hasStandardBrowserEnv||Ba.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[u,...h]=d?d.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Ba.hasStandardBrowserEnv&&(n&&et.isFunction(n)&&(n=n(t)),n||n!==!1&&Mne(t.url))){const u=a&&i&&Ine.read(i);u&&o.set(a,u)}return t},Bne=typeof XMLHttpRequest<"u",$ne=Bne&&function(e){return new Promise(function(r,n){const a=w8(e);let i=a.data;const o=Ci.from(a.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:u}=a,h,p,g,y,w;function v(){y&&y(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function j(){if(!N)return;const E=Ci.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:E,config:e,request:N};v8(function(T){r(T),v()},function(T){n(T),v()},_),N=null}"onloadend"in N?N.onloadend=j:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(j)},N.onabort=function(){N&&(n(new Er("Request aborted",Er.ECONNABORTED,e,N)),N=null)},N.onerror=function(){n(new Er("Network Error",Er.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||x8;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),n(new Er(S,_.clarifyTimeoutError?Er.ETIMEDOUT:Er.ECONNABORTED,e,N)),N=null},i===void 0&&o.setContentType(null),"setRequestHeader"in N&&et.forEach(o.toJSON(),function(S,_){N.setRequestHeader(_,S)}),et.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),l&&l!=="json"&&(N.responseType=a.responseType),u&&([g,w]=M1(u,!0),N.addEventListener("progress",g)),d&&N.upload&&([p,y]=M1(d),N.upload.addEventListener("progress",p),N.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(h=E=>{N&&(n(!E||E.type?new y0(null,e,N):E),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const A=One(a.url);if(A&&Ba.protocols.indexOf(A)===-1){n(new Er("Unsupported protocol "+A+":",Er.ERR_BAD_REQUEST,e));return}N.send(i||null)})},Une=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,l();const h=u instanceof Error?u:this.reason;n.abort(h instanceof Er?h:new y0(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new Er(`timeout ${t} of ms exceeded`,Er.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>et.asap(l),d}},Vne=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},qne=async function*(e,t){for await(const r of zne(e))yield*Vne(r,t)},zne=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},zP=(e,t,r,n)=>{const a=qne(e,t);let i=0,o,l=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:u,value:h}=await a.next();if(u){l(),d.close();return}let p=h.byteLength;if(r){let g=i+=p;r(g)}d.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(d){return l(d),a.return()}},{highWaterMark:2})},Hw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",N8=Hw&&typeof ReadableStream=="function",Hne=Hw&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),j8=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Wne=N8&&j8(()=>{let e=!1;const t=new Request(Ba.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),HP=64*1024,AA=N8&&j8(()=>et.isReadableStream(new Response("").body)),I1={stream:AA&&(e=>e.body)};Hw&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!I1[t]&&(I1[t]=et.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Er(`Response type '${t}' is not supported`,Er.ERR_NOT_SUPPORT,n)})})})(new Response);const Gne=async e=>{if(e==null)return 0;if(et.isBlob(e))return e.size;if(et.isSpecCompliantForm(e))return(await new Request(Ba.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(et.isArrayBufferView(e)||et.isArrayBuffer(e))return e.byteLength;if(et.isURLSearchParams(e)&&(e=e+""),et.isString(e))return(await Hne(e)).byteLength},Yne=async(e,t)=>{const r=et.toFiniteNumber(e.getContentLength());return r??Gne(t)},Kne=Hw&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:u,headers:h,withCredentials:p="same-origin",fetchOptions:g}=w8(e);u=u?(u+"").toLowerCase():"text";let y=Une([a,i&&i.toAbortSignal()],o),w;const v=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let N;try{if(d&&Wne&&r!=="get"&&r!=="head"&&(N=await Yne(h,n))!==0){let _=new Request(t,{method:"POST",body:n,duplex:"half"}),k;if(et.isFormData(n)&&(k=_.headers.get("content-type"))&&h.setContentType(k),_.body){const[T,O]=UP(N,M1(VP(d)));n=zP(_.body,HP,T,O)}}et.isString(p)||(p=p?"include":"omit");const j="credentials"in Request.prototype;w=new Request(t,{...g,signal:y,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:j?p:void 0});let A=await fetch(w);const E=AA&&(u==="stream"||u==="response");if(AA&&(l||E&&v)){const _={};["status","statusText","headers"].forEach(P=>{_[P]=A[P]});const k=et.toFiniteNumber(A.headers.get("content-length")),[T,O]=l&&UP(k,M1(VP(l),!0))||[];A=new Response(zP(A.body,HP,T,()=>{O&&O(),v&&v()}),_)}u=u||"text";let S=await I1[et.findKey(I1,u)||"text"](A,e);return!E&&v&&v(),await new Promise((_,k)=>{v8(_,k,{data:S,headers:Ci.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:w})})}catch(j){throw v&&v(),j&&j.name==="TypeError"&&/fetch/i.test(j.message)?Object.assign(new Er("Network Error",Er.ERR_NETWORK,e,w),{cause:j.cause||j}):Er.from(j,j&&j.code,e,w)}}),CA={http:dne,xhr:$ne,fetch:Kne};et.forEach(CA,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const WP=e=>`- ${e}`,Xne=e=>et.isFunction(e)||e===null||e===!1,S8={getAdapter:e=>{e=et.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!Xne(r)&&(n=CA[(o=String(r)).toLowerCase()],n===void 0))throw new Er(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+i]=n}if(!n){const i=Object.entries(a).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(WP).join(`
`):" "+WP(i[0]):"as no adapter specified";throw new Er("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:CA};function mS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new y0(null,e)}function GP(e){return mS(e),e.headers=Ci.from(e.headers),e.data=hS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),S8.getAdapter(e.adapter||Cy.adapter)(e).then(function(n){return mS(e),n.data=hS.call(e,e.transformResponse,n),n.headers=Ci.from(n.headers),n},function(n){return y8(n)||(mS(e),n&&n.response&&(n.response.data=hS.call(e,e.transformResponse,n.response),n.response.headers=Ci.from(n.response.headers))),Promise.reject(n)})}const E8="1.8.4",Ww={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ww[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const YP={};Ww.transitional=function(t,r,n){function a(i,o){return"[Axios v"+E8+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Er(a(o," has been removed"+(r?" in "+r:"")),Er.ERR_DEPRECATED);return r&&!YP[o]&&(YP[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Ww.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Qne(e,t,r){if(typeof e!="object")throw new Er("options must be an object",Er.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new Er("option "+i+" must be "+d,Er.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Er("Unknown option "+i,Er.ERR_BAD_OPTION)}}const u1={assertOptions:Qne,validators:Ww},Pl=u1.validators;let eh=class{constructor(t){this.defaults=t,this.interceptors={request:new BP,response:new BP}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=hh(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&u1.assertOptions(n,{silentJSONParsing:Pl.transitional(Pl.boolean),forcedJSONParsing:Pl.transitional(Pl.boolean),clarifyTimeoutError:Pl.transitional(Pl.boolean)},!1),a!=null&&(et.isFunction(a)?r.paramsSerializer={serialize:a}:u1.assertOptions(a,{encode:Pl.function,serialize:Pl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),u1.assertOptions(r,{baseUrl:Pl.spelling("baseURL"),withXsrfToken:Pl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&et.merge(i.common,i[r.method]);i&&et.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),r.headers=Ci.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(d=d&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let h,p=0,g;if(!d){const w=[GP.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,u),g=w.length,h=Promise.resolve(r);p<g;)h=h.then(w[p++],w[p++]);return h}g=l.length;let y=r;for(p=0;p<g;){const w=l[p++],v=l[p++];try{y=w(y)}catch(N){v.call(this,N);break}}try{h=GP.call(this,y)}catch(w){return Promise.reject(w)}for(p=0,g=u.length;p<g;)h=h.then(u[p++],u[p++]);return h}getUri(t){t=hh(this.defaults,t);const r=b8(t.baseURL,t.url,t.allowAbsoluteUrls);return p8(r,t.params,t.paramsSerializer)}};et.forEach(["delete","get","head","options"],function(t){eh.prototype[t]=function(r,n){return this.request(hh(n||{},{method:t,url:r,data:(n||{}).data}))}});et.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(hh(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}eh.prototype[t]=r(),eh.prototype[t+"Form"]=r(!0)});let Zne=class A8{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new y0(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new A8(function(a){t=a}),cancel:t}}};function Jne(e){return function(r){return e.apply(null,r)}}function eae(e){return et.isObject(e)&&e.isAxiosError===!0}const TA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(TA).forEach(([e,t])=>{TA[t]=e});function C8(e){const t=new eh(e),r=n8(eh.prototype.request,t);return et.extend(r,eh.prototype,t,{allOwnKeys:!0}),et.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return C8(hh(e,a))},r}const vs=C8(Cy);vs.Axios=eh;vs.CanceledError=y0;vs.CancelToken=Zne;vs.isCancel=y8;vs.VERSION=E8;vs.toFormData=zw;vs.AxiosError=Er;vs.Cancel=vs.CanceledError;vs.all=function(t){return Promise.all(t)};vs.spread=Jne;vs.isAxiosError=eae;vs.mergeConfig=hh;vs.AxiosHeaders=Ci;vs.formToJSON=e=>g8(et.isHTMLForm(e)?new FormData(e):e);vs.getAdapter=S8.getAdapter;vs.HttpStatusCode=TA;vs.default=vs;const{Axios:Y6e,AxiosError:K6e,CanceledError:X6e,isCancel:Q6e,CancelToken:Z6e,VERSION:J6e,all:eFe,Cancel:tFe,isAxiosError:rFe,spread:sFe,toFormData:nFe,AxiosHeaders:aFe,HttpStatusCode:iFe,formToJSON:oFe,getAdapter:lFe,mergeConfig:cFe}=vs,T8=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken"),localStorage.removeItem("memberId"),localStorage.removeItem("roles"),localStorage.removeItem("agencyId")},tae=e=>{T8(),e!=null&&e.startsWith("/admin")?window.location.href="/admin":window.location.href="/login"},Dh=vs.create({baseURL:md});Dh.interceptors.response.use(e=>e,e=>{var r,n,a,i,o,l,d,u;const t=(r=e.response)==null?void 0:r.status;if((i=(a=(n=e.response)==null?void 0:n.data)==null?void 0:a.error)!=null&&i.message||((l=(o=e.response)==null?void 0:o.data)==null||l.message),t===401||t===403){const h=window.location.pathname,p=h==="/login"||h==="/admin"||h==="/admin/login"||h.includes("/forgot-password")||h.includes("/reset-password")||h.includes("/register"),g=h==="/"&&((u=(d=e.config)==null?void 0:d.url)==null?void 0:u.includes("/users/me"));return!p&&!g&&tae(h),Promise.reject(e)}return Promise.reject(e)});const Oh=e=>e.startsWith("/api")?e:`/api${e.startsWith("/")?"":"/"}${e}`,Ph=e=>{var r,n,a,i,o,l,d,u,h,p,g,y,w;const t=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||((o=(i=(a=e.response)==null?void 0:a.data)==null?void 0:i.error)==null?void 0:o.message)||((u=(d=(l=e.response)==null?void 0:l.data)==null?void 0:d.errors)==null?void 0:u.message)||((y=(g=(p=(h=e.response)==null?void 0:h.data)==null?void 0:p.errors)==null?void 0:g[0])==null?void 0:y.message)||e.message||"Request failed";return(w=e.response)!=null&&w.status?`${{400:"Bad Request: ",401:"Unauthorized: ",403:"Forbidden: ",404:"Not Found: ",409:"Conflict: ",422:"Validation Error: ",500:"Server Error: "}[e.response.status]||`Error ${e.response.status}: `}${t}`:t};Dh.interceptors.request.use(e=>{var r;const t=localStorage.getItem("authToken");return(r=e.url)!=null&&r.includes("/users/me")&&!t?(console.warn("Blocking /users/me request for non-authenticated user"),Promise.reject(new Error("Authentication required for /users/me endpoint"))):(t&&(e.headers.Authorization=`Bearer ${t}`),e)});const xt=async(e,t,r)=>{var n,a,i,o,l;try{const d={params:t,...r},u=await Dh.get(Oh(e),d);return(r==null?void 0:r.responseType)==="blob"?u:u.data}catch(d){throw console.error("GET request error details:",(n=d.response)==null?void 0:n.data),{status:(a=d.response)==null?void 0:a.status,errors:((o=(i=d.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:Ph(d),data:(l=d.response)==null?void 0:l.data,originalError:d}}},Kr=async(e,t,r)=>{var n,a,i,o,l;try{const d=await Dh.post(Oh(e),t,r);return(r==null?void 0:r.responseType)==="blob"?d:d.data}catch(d){throw console.error("POST request error details:",(n=d.response)==null?void 0:n.data),{status:(a=d.response)==null?void 0:a.status,errors:((o=(i=d.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:Ph(d),data:(l=d.response)==null?void 0:l.data,originalError:d}}},Zs=async(e,t)=>{var r,n,a,i,o;try{return(await Dh.put(Oh(e),t)).data}catch(l){throw console.error("PUT request error details:",(r=l.response)==null?void 0:r.data),{status:(n=l.response)==null?void 0:n.status,errors:((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.errors)||[],message:Ph(l),data:(o=l.response)==null?void 0:o.data,originalError:l}}},Fn=async(e,t)=>{var r,n,a,i,o;try{return(await Dh.patch(Oh(e),t)).data}catch(l){throw console.error("PATCH request error details:",(r=l.response)==null?void 0:r.data),{status:(n=l.response)==null?void 0:n.status,errors:((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.errors)||[],message:Ph(l),data:(o=l.response)==null?void 0:o.data,originalError:l}}},Tn=async e=>{var t,r,n,a,i;try{return(await Dh.delete(Oh(e))).data}catch(o){throw console.error("DELETE request error details:",(t=o.response)==null?void 0:t.data),{status:(r=o.response)==null?void 0:r.status,errors:((a=(n=o.response)==null?void 0:n.data)==null?void 0:a.errors)||[],message:Ph(o),data:(i=o.response)==null?void 0:i.data,originalError:o}}},rae=async(e,t,r)=>{var n,a,i,o,l;try{const d=vs.create({baseURL:md});return d.interceptors.request.use(h=>{const p=localStorage.getItem("authToken");return p&&(h.headers.Authorization=`Bearer ${p}`),h}),(await d.post(Oh(e),t,r)).data}catch(d){throw console.error("POST UPLOAD request error details:",(n=d.response)==null?void 0:n.data),{status:(a=d.response)==null?void 0:a.status,errors:((o=(i=d.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:Ph(d),data:(l=d.response)==null?void 0:l.data,originalError:d}}},sae=async(e,t,r)=>{var n,a,i,o,l;try{const d=vs.create({baseURL:md});return d.interceptors.request.use(h=>{const p=localStorage.getItem("authToken");return p&&(h.headers.Authorization=`Bearer ${p}`),h}),(await d.put(Oh(e),t,r)).data}catch(d){throw console.error("PUT UPLOAD request error details:",(n=d.response)==null?void 0:n.data),{status:(a=d.response)==null?void 0:a.status,errors:((o=(i=d.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:Ph(d),data:(l=d.response)==null?void 0:l.data,originalError:d}}};var ts=(e=>(e.PENDING="PENDING",e.DELIVERED="DELIVERED",e.NOT_DELIVERED="NOT_DELIVERED",e.CANCELLED="CANCELLED",e.SKIPPED="SKIPPED",e.SKIP_BY_CUSTOMER="SKIP_BY_CUSTOMER",e.INDRAAI_DELIVERY="INDRAAI_DELIVERY",e.TRANSFER_TO_AGENT="TRANSFER_TO_AGENT",e))(ts||{});function nae(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const aae=e=>{switch(e){case"success":return lae;case"info":return dae;case"warning":return cae;case"error":return uae;default:return null}},iae=Array(12).fill(0),oae=({visible:e,className:t})=>je.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},je.createElement("div",{className:"sonner-spinner"},iae.map((r,n)=>je.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),lae=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cae=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dae=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uae=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fae=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},je.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),je.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hae=()=>{const[e,t]=je.useState(document.hidden);return je.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let _A=1;class mae{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:_A++,o=this.toasts.find(d=>d.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:l,title:n}):d):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=a.then(async u=>{if(o=["resolve",u],je.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(xae(u)&&!u.ok){i=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,w=typeof p=="object"&&!je.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...w})}else if(u instanceof Error){i=!1;const p=typeof r.error=="function"?await r.error(u):r.error,g=typeof r.description=="function"?await r.description(u):r.description,w=typeof p=="object"&&!je.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...w})}else if(r.success!==void 0){i=!1;const p=typeof r.success=="function"?await r.success(u):r.success,g=typeof r.description=="function"?await r.description(u):r.description,w=typeof p=="object"&&!je.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:g,...w})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;const h=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,y=typeof h=="object"&&!je.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:p,...y})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||_A++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ni=new mae,pae=(e,t)=>{const r=(t==null?void 0:t.id)||_A++;return Ni.addToast({title:e,...t,id:r}),r},xae=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",gae=pae,yae=()=>Ni.toasts,vae=()=>Ni.getActiveToasts(),ce=Object.assign(gae,{success:Ni.success,info:Ni.info,warning:Ni.warning,error:Ni.error,custom:Ni.custom,message:Ni.message,promise:Ni.promise,dismiss:Ni.dismiss,loading:Ni.loading},{getHistory:yae,getToasts:vae});nae("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function jb(e){return e.label!==void 0}const bae=3,wae="24px",Nae="16px",KP=4e3,jae=356,Sae=14,Eae=45,Aae=200;function Rl(...e){return e.filter(Boolean).join(" ")}function Cae(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const Tae=e=>{var t,r,n,a,i,o,l,d,u;const{invert:h,toast:p,unstyled:g,interacting:y,setHeights:w,visibleToasts:v,heights:N,index:j,toasts:A,expanded:E,removeToast:S,defaultRichColors:_,closeButton:k,style:T,cancelButtonStyle:O,actionButtonStyle:P,className:I="",descriptionClassName:M="",duration:q,position:U,gap:re,expandByDefault:te,classNames:B,icons:H,closeButtonAriaLabel:R="Close toast"}=e,[X,W]=je.useState(null),[Y,F]=je.useState(null),[z,K]=je.useState(!1),[V,ae]=je.useState(!1),[Q,se]=je.useState(!1),[Z,le]=je.useState(!1),[Te,Ee]=je.useState(!1),[Ze,Be]=je.useState(0),[Ie,Ne]=je.useState(0),fe=je.useRef(p.duration||q||KP),de=je.useRef(null),ke=je.useRef(null),Pe=j===0,Re=j+1<=v,ie=p.type,be=p.dismissible!==!1,De=p.className||"",lt=p.descriptionClassName||"",at=je.useMemo(()=>N.findIndex(we=>we.toastId===p.id)||0,[N,p.id]),ze=je.useMemo(()=>{var we;return(we=p.closeButton)!=null?we:k},[p.closeButton,k]),rt=je.useMemo(()=>p.duration||q||KP,[p.duration,q]),Mt=je.useRef(0),Jt=je.useRef(0),Br=je.useRef(0),ls=je.useRef(null),[xs,vt]=U.split("-"),kr=je.useMemo(()=>N.reduce((we,ct,ft)=>ft>=at?we:we+ct.height,0),[N,at]),$t=hae(),Dr=p.invert||h,qr=ie==="loading";Jt.current=je.useMemo(()=>at*re+kr,[at,kr]),je.useEffect(()=>{fe.current=rt},[rt]),je.useEffect(()=>{K(!0)},[]),je.useEffect(()=>{const we=ke.current;if(we){const ct=we.getBoundingClientRect().height;return Ne(ct),w(ft=>[{toastId:p.id,height:ct,position:p.position},...ft]),()=>w(ft=>ft.filter(Et=>Et.toastId!==p.id))}},[w,p.id]),je.useLayoutEffect(()=>{if(!z)return;const we=ke.current,ct=we.style.height;we.style.height="auto";const ft=we.getBoundingClientRect().height;we.style.height=ct,Ne(ft),w(Et=>Et.find(lr=>lr.toastId===p.id)?Et.map(lr=>lr.toastId===p.id?{...lr,height:ft}:lr):[{toastId:p.id,height:ft,position:p.position},...Et])},[z,p.title,p.description,w,p.id]);const Tt=je.useCallback(()=>{ae(!0),Be(Jt.current),w(we=>we.filter(ct=>ct.toastId!==p.id)),setTimeout(()=>{S(p)},Aae)},[p,S,w,Jt]);je.useEffect(()=>{if(p.promise&&ie==="loading"||p.duration===1/0||p.type==="loading")return;let we;return E||y||$t?(()=>{if(Br.current<Mt.current){const Et=new Date().getTime()-Mt.current;fe.current=fe.current-Et}Br.current=new Date().getTime()})():(()=>{fe.current!==1/0&&(Mt.current=new Date().getTime(),we=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Tt()},fe.current))})(),()=>clearTimeout(we)},[E,y,p,ie,$t,Tt]),je.useEffect(()=>{p.delete&&Tt()},[Tt,p.delete]);function ur(){var we;if(H!=null&&H.loading){var ct;return je.createElement("div",{className:Rl(B==null?void 0:B.loader,p==null||(ct=p.classNames)==null?void 0:ct.loader,"sonner-loader"),"data-visible":ie==="loading"},H.loading)}return je.createElement(oae,{className:Rl(B==null?void 0:B.loader,p==null||(we=p.classNames)==null?void 0:we.loader),visible:ie==="loading"})}const fr=p.icon||(H==null?void 0:H[ie])||aae(ie);var ar,hr;return je.createElement("li",{tabIndex:0,ref:ke,className:Rl(I,De,B==null?void 0:B.toast,p==null||(t=p.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[ie],p==null||(r=p.classNames)==null?void 0:r[ie]),"data-sonner-toast":"","data-rich-colors":(ar=p.richColors)!=null?ar:_,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":z,"data-promise":!!p.promise,"data-swiped":Te,"data-removed":V,"data-visible":Re,"data-y-position":xs,"data-x-position":vt,"data-index":j,"data-front":Pe,"data-swiping":Q,"data-dismissible":be,"data-type":ie,"data-invert":Dr,"data-swipe-out":Z,"data-swipe-direction":Y,"data-expanded":!!(E||te&&z),style:{"--index":j,"--toasts-before":j,"--z-index":A.length-j,"--offset":`${V?Ze:Jt.current}px`,"--initial-height":te?"auto":`${Ie}px`,...T,...p.style},onDragEnd:()=>{se(!1),W(null),ls.current=null},onPointerDown:we=>{qr||!be||(de.current=new Date,Be(Jt.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(se(!0),ls.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,ct,ft;if(Z||!be)return;ls.current=null;const Et=Number(((we=ke.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),er=Number(((ct=ke.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lr=new Date().getTime()-((ft=de.current)==null?void 0:ft.getTime()),cr=X==="x"?Et:er,Hr=Math.abs(cr)/lr;if(Math.abs(cr)>=Eae||Hr>.11){Be(Jt.current),p.onDismiss==null||p.onDismiss.call(p,p),F(X==="x"?Et>0?"right":"left":er>0?"down":"up"),Tt(),le(!0);return}else{var jr,Bs;(jr=ke.current)==null||jr.style.setProperty("--swipe-amount-x","0px"),(Bs=ke.current)==null||Bs.style.setProperty("--swipe-amount-y","0px")}Ee(!1),se(!1),W(null)},onPointerMove:we=>{var ct,ft,Et;if(!ls.current||!be||((ct=window.getSelection())==null?void 0:ct.toString().length)>0)return;const lr=we.clientY-ls.current.y,cr=we.clientX-ls.current.x;var Hr;const jr=(Hr=e.swipeDirections)!=null?Hr:Cae(U);!X&&(Math.abs(cr)>1||Math.abs(lr)>1)&&W(Math.abs(cr)>Math.abs(lr)?"x":"y");let Bs={x:0,y:0};const Ka=Wn=>1/(1.5+Math.abs(Wn)/20);if(X==="y"){if(jr.includes("top")||jr.includes("bottom"))if(jr.includes("top")&&lr<0||jr.includes("bottom")&&lr>0)Bs.y=lr;else{const Wn=lr*Ka(lr);Bs.y=Math.abs(Wn)<Math.abs(lr)?Wn:lr}}else if(X==="x"&&(jr.includes("left")||jr.includes("right")))if(jr.includes("left")&&cr<0||jr.includes("right")&&cr>0)Bs.x=cr;else{const Wn=cr*Ka(cr);Bs.x=Math.abs(Wn)<Math.abs(cr)?Wn:cr}(Math.abs(Bs.x)>0||Math.abs(Bs.y)>0)&&Ee(!0),(ft=ke.current)==null||ft.style.setProperty("--swipe-amount-x",`${Bs.x}px`),(Et=ke.current)==null||Et.style.setProperty("--swipe-amount-y",`${Bs.y}px`)}},ze&&!p.jsx&&ie!=="loading"?je.createElement("button",{"aria-label":R,"data-disabled":qr,"data-close-button":!0,onClick:qr||!be?()=>{}:()=>{Tt(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Rl(B==null?void 0:B.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(hr=H==null?void 0:H.close)!=null?hr:fae):null,(ie||p.icon||p.promise)&&p.icon!==null&&((H==null?void 0:H[ie])!==null||p.icon)?je.createElement("div",{"data-icon":"",className:Rl(B==null?void 0:B.icon,p==null||(a=p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ur():null,p.type!=="loading"?fr:null):null,je.createElement("div",{"data-content":"",className:Rl(B==null?void 0:B.content,p==null||(i=p.classNames)==null?void 0:i.content)},je.createElement("div",{"data-title":"",className:Rl(B==null?void 0:B.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?je.createElement("div",{"data-description":"",className:Rl(M,lt,B==null?void 0:B.description,p==null||(l=p.classNames)==null?void 0:l.description)},typeof p.description=="function"?p.description():p.description):null),je.isValidElement(p.cancel)?p.cancel:p.cancel&&jb(p.cancel)?je.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:we=>{jb(p.cancel)&&be&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,we),Tt())},className:Rl(B==null?void 0:B.cancelButton,p==null||(d=p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,je.isValidElement(p.action)?p.action:p.action&&jb(p.action)?je.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:we=>{jb(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,we),!we.defaultPrevented&&Tt())},className:Rl(B==null?void 0:B.actionButton,p==null||(u=p.classNames)==null?void 0:u.actionButton)},p.action.label):null)};function XP(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function _ae(e,t){const r={};return[e,t].forEach((n,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",l=i?Nae:wae;function d(u){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):d(l)}),r}const kae=je.forwardRef(function(t,r){const{invert:n,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:l,className:d,offset:u,mobileOffset:h,theme:p="light",richColors:g,duration:y,style:w,visibleToasts:v=bae,toastOptions:N,dir:j=XP(),gap:A=Sae,icons:E,containerAriaLabel:S="Notifications"}=t,[_,k]=je.useState([]),T=je.useMemo(()=>Array.from(new Set([a].concat(_.filter(Y=>Y.position).map(Y=>Y.position)))),[_,a]),[O,P]=je.useState([]),[I,M]=je.useState(!1),[q,U]=je.useState(!1),[re,te]=je.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=je.useRef(null),H=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=je.useRef(null),X=je.useRef(!1),W=je.useCallback(Y=>{k(F=>{var z;return(z=F.find(K=>K.id===Y.id))!=null&&z.delete||Ni.dismiss(Y.id),F.filter(({id:K})=>K!==Y.id)})},[]);return je.useEffect(()=>Ni.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{k(F=>F.map(z=>z.id===Y.id?{...z,delete:!0}:z))});return}setTimeout(()=>{pd.flushSync(()=>{k(F=>{const z=F.findIndex(K=>K.id===Y.id);return z!==-1?[...F.slice(0,z),{...F[z],...Y},...F.slice(z+1)]:[Y,...F]})})})}),[_]),je.useEffect(()=>{if(p!=="system"){te(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:F})=>{te(F?"dark":"light")})}catch{Y.addListener(({matches:z})=>{try{te(z?"dark":"light")}catch(K){console.error(K)}})}},[p]),je.useEffect(()=>{_.length<=1&&M(!1)},[_]),je.useEffect(()=>{const Y=F=>{var z;if(i.every(ae=>F[ae]||F.code===ae)){var V;M(!0),(V=B.current)==null||V.focus()}F.code==="Escape"&&(document.activeElement===B.current||(z=B.current)!=null&&z.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[i]),je.useEffect(()=>{if(B.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,X.current=!1)}},[B.current]),je.createElement("section",{ref:r,"aria-label":`${S} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((Y,F)=>{var z;const[K,V]=Y.split("-");return _.length?je.createElement("ol",{key:Y,dir:j==="auto"?XP():j,tabIndex:-1,ref:B,className:d,"data-sonner-toaster":!0,"data-sonner-theme":re,"data-y-position":K,"data-lifted":I&&_.length>1&&!o,"data-x-position":V,style:{"--front-toast-height":`${((z=O[0])==null?void 0:z.height)||0}px`,"--width":`${jae}px`,"--gap":`${A}px`,...w,..._ae(u,h)},onBlur:ae=>{X.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(X.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||X.current||(X.current=!0,R.current=ae.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{q||M(!1)},onDragEnd:()=>M(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},_.filter(ae=>!ae.position&&F===0||ae.position===Y).map((ae,Q)=>{var se,Z;return je.createElement(Tae,{key:ae.id,icons:E,index:Q,toast:ae,defaultRichColors:g,duration:(se=N==null?void 0:N.duration)!=null?se:y,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:n,visibleToasts:v,closeButton:(Z=N==null?void 0:N.closeButton)!=null?Z:l,interacting:q,position:Y,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,closeButtonAriaLabel:N==null?void 0:N.closeButtonAriaLabel,removeToast:W,toasts:_.filter(le=>le.position==ae.position),heights:O.filter(le=>le.position==ae.position),setHeights:P,expandByDefault:o,gap:A,expanded:I,swipeDirections:t.swipeDirections})})):null}))}),Dae=Rr.object({currentPassword:Rr.string().min(1,"Current Password is required"),newPassword:Rr.string().min(6,"New password must be at least 6 characters long"),confirmPassword:Rr.string().min(1,"Confirm New Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"New passwords must match",path:["confirmPassword"]}),_8=({isOpen:e,onClose:t})=>{const[r,n]=m.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,i]=m.useState({});m.useEffect(()=>{e||(n({currentPassword:"",newPassword:"",confirmPassword:""}),i({}))},[e]);const o=Vr({mutationFn:u=>Fn("/auth/change-password",u),onSuccess:()=>{ce.success("Password changed successfully!"),t()},onError:u=>{var p,g,y,w;const h=((g=(p=u.response)==null?void 0:p.data)==null?void 0:g.message)||u.message;if(ce.error(h||"Failed to change password. Please try again."),(w=(y=u.response)==null?void 0:y.data)!=null&&w.errors){const v={};u.response.data.errors.forEach(N=>{N.path&&N.path.length>0&&(v[N.path[N.path.length-1]]=N.message)}),i(v)}else h&&h.toLowerCase().includes("current password")&&i({currentPassword:h})}}),l=u=>{const{name:h,value:p}=u.target;n(g=>({...g,[h]:p})),a[h]&&i(g=>({...g,[h]:""}))},d=u=>{u.preventDefault(),i({});const h=Dae.safeParse(r);if(!h.success){const p={};h.error.errors.forEach(g=>{g.path.length>0&&(p[g.path[0]]=g.message)}),i(p);return}o.mutate({currentPassword:h.data.currentPassword,newPassword:h.data.newPassword})};return s.jsx(as,{open:e,onOpenChange:t,children:s.jsxs(is,{className:"sm:max-w-[450px]",children:[s.jsxs(fs,{children:[s.jsx(hs,{children:"Change Your Password"}),s.jsx(Ta,{children:"Enter your current password and a new password below."})]}),s.jsxs("form",{onSubmit:d,className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ye,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(An,{id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:l,autoComplete:"current-password",disabled:o.isPending}),a.currentPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.currentPassword})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ye,{htmlFor:"newPassword",children:"New Password"}),s.jsx(An,{id:"newPassword",name:"newPassword",value:r.newPassword,onChange:l,autoComplete:"new-password",disabled:o.isPending}),a.newPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.newPassword})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ye,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(An,{id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:l,autoComplete:"new-password",disabled:o.isPending}),a.confirmPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.confirmPassword})]}),s.jsxs(di,{className:"pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:o.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:o.isPending,children:o.isPending?"Changing...":"Change Password"})]})]})]})})},v0=({isOpen:e,title:t,description:r,confirmLabel:n="Confirm",cancelLabel:a="Cancel",onConfirm:i,onCancel:o,children:l})=>{console.log("[confirm-dialog.tsx] ConfirmDialog rendered. isOpen:",e);const d=s.jsxs(is,{className:"sm:max-w-[425px]",children:[s.jsxs(fs,{children:[s.jsx(hs,{children:t}),s.jsx(Ta,{children:r})]}),s.jsxs(di,{children:[s.jsx(pe,{variant:"secondary",onClick:o,children:a}),s.jsx(pe,{variant:"destructive",onClick:i,children:n})]})]});return l?s.jsxs(as,{open:e,onOpenChange:o,modal:!1,children:[s.jsx(p0,{asChild:!0,children:l}),d]}):s.jsx(as,{open:e,onOpenChange:o,modal:!0,children:e&&d})};function QP(e){const t=Oae(e),r=m.forwardRef((n,a)=>{const{children:i,...o}=n,l=m.Children.toArray(i),d=l.find(Rae);if(d){const u=d.props.children,h=l.map(p=>p===d?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return s.jsx(t,{...o,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Oae(e){const t=m.forwardRef((r,n)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const o=Iae(a),l=Mae(i,a.props);return a.type!==m.Fragment&&(l.ref=n?xd(n,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Pae=Symbol("radix.slottable");function Rae(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Pae}function Mae(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Iae(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function MT(e){const t=e+"CollectionProvider",[r,n]=pa(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:N,children:j}=v,A=je.useRef(null),E=je.useRef(new Map).current;return s.jsx(a,{scope:N,itemMap:E,collectionRef:A,children:j})};o.displayName=t;const l=e+"CollectionSlot",d=QP(l),u=je.forwardRef((v,N)=>{const{scope:j,children:A}=v,E=i(l,j),S=Yt(N,E.collectionRef);return s.jsx(d,{ref:S,children:A})});u.displayName=l;const h=e+"CollectionItemSlot",p="data-radix-collection-item",g=QP(h),y=je.forwardRef((v,N)=>{const{scope:j,children:A,...E}=v,S=je.useRef(null),_=Yt(N,S),k=i(h,j);return je.useEffect(()=>(k.itemMap.set(S,{ref:S,...E}),()=>void k.itemMap.delete(S))),s.jsx(g,{[p]:"",ref:_,children:A})});y.displayName=h;function w(v){const N=i(e+"CollectionConsumer",v);return je.useCallback(()=>{const A=N.collectionRef.current;if(!A)return[];const E=Array.from(A.querySelectorAll(`[${p}]`));return Array.from(N.itemMap.values()).sort((k,T)=>E.indexOf(k.ref.current)-E.indexOf(T.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:o,Slot:u,ItemSlot:y},w,n]}var Fae=m.createContext(void 0);function Ty(e){const t=m.useContext(Fae);return e||t||"ltr"}var Lae="DismissableLayer",kA="dismissableLayer.update",Bae="dismissableLayer.pointerDownOutside",$ae="dismissableLayer.focusOutside",ZP,k8=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),D8=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=m.useContext(k8),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),w=Yt(t,T=>p(T)),v=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=v.indexOf(N),A=h?v.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,S=A>=j,_=qae(T=>{const O=T.target,P=[...u.branches].some(I=>I.contains(O));!S||P||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),k=zae(T=>{const O=T.target;[...u.branches].some(I=>I.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return f0(T=>{A===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ZP=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),JP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=ZP)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),JP())},[h,u]),m.useEffect(()=>{const T=()=>y({});return document.addEventListener(kA,T),()=>document.removeEventListener(kA,T)},[]),s.jsx(qt.div,{...d,ref:w,style:{pointerEvents:E?S?"auto":"none":void 0,...e.style},onFocusCapture:wt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:wt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:wt(e.onPointerDownCapture,_.onPointerDownCapture)})});D8.displayName=Lae;var Uae="DismissableLayerBranch",Vae=m.forwardRef((e,t)=>{const r=m.useContext(k8),n=m.useRef(null),a=Yt(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(qt.div,{...e,ref:a})});Vae.displayName=Uae;function qae(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let d=function(){O8(Bae,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function zae(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&O8($ae,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function JP(){const e=new CustomEvent(kA);document.dispatchEvent(e)}function O8(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?x0(a,i):a.dispatchEvent(i)}var pS="focusScope.autoFocusOnMount",xS="focusScope.autoFocusOnUnmount",eR={bubbles:!1,cancelable:!0},Hae="FocusScope",P8=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,d]=m.useState(null),u=Zr(a),h=Zr(i),p=m.useRef(null),g=Yt(t,v=>d(v)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(E){if(y.paused||!l)return;const S=E.target;l.contains(S)?p.current=S:cu(p.current,{select:!0})},N=function(E){if(y.paused||!l)return;const S=E.relatedTarget;S!==null&&(l.contains(S)||cu(p.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const _ of E)_.removedNodes.length>0&&cu(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",N);const A=new MutationObserver(j);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",N),A.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){rR.add(y);const v=document.activeElement;if(!l.contains(v)){const j=new CustomEvent(pS,eR);l.addEventListener(pS,u),l.dispatchEvent(j),j.defaultPrevented||(Wae(Qae(R8(l)),{select:!0}),document.activeElement===v&&cu(l))}return()=>{l.removeEventListener(pS,u),setTimeout(()=>{const j=new CustomEvent(xS,eR);l.addEventListener(xS,h),l.dispatchEvent(j),j.defaultPrevented||cu(v??document.body,{select:!0}),l.removeEventListener(xS,h),rR.remove(y)},0)}}},[l,u,h,y]);const w=m.useCallback(v=>{if(!r&&!n||y.paused)return;const N=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,j=document.activeElement;if(N&&j){const A=v.currentTarget,[E,S]=Gae(A);E&&S?!v.shiftKey&&j===S?(v.preventDefault(),r&&cu(E,{select:!0})):v.shiftKey&&j===E&&(v.preventDefault(),r&&cu(S,{select:!0})):j===A&&v.preventDefault()}},[r,n,y.paused]);return s.jsx(qt.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});P8.displayName=Hae;function Wae(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(cu(n,{select:t}),document.activeElement!==r)return}function Gae(e){const t=R8(e),r=tR(t,e),n=tR(t.reverse(),e);return[r,n]}function R8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tR(e,t){for(const r of e)if(!Yae(r,{upTo:t}))return r}function Yae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Kae(e){return e instanceof HTMLInputElement&&"select"in e}function cu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Kae(e)&&t&&e.select()}}var rR=Xae();function Xae(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=sR(e,t),e.unshift(t)},remove(t){var r;e=sR(e,t),(r=e[0])==null||r.resume()}}}function sR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Qae(e){return e.filter(t=>t.tagName!=="A")}const Zae=["top","right","bottom","left"],Vu=Math.min,Hi=Math.max,F1=Math.round,Sb=Math.floor,Gl=e=>({x:e,y:e}),Jae={left:"right",right:"left",bottom:"top",top:"bottom"},eie={start:"end",end:"start"};function DA(e,t,r){return Hi(e,Vu(t,r))}function sd(e,t){return typeof e=="function"?e(t):e}function nd(e){return e.split("-")[0]}function b0(e){return e.split("-")[1]}function IT(e){return e==="x"?"y":"x"}function FT(e){return e==="y"?"height":"width"}function qu(e){return["top","bottom"].includes(nd(e))?"y":"x"}function LT(e){return IT(qu(e))}function tie(e,t,r){r===void 0&&(r=!1);const n=b0(e),a=LT(e),i=FT(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=L1(o)),[o,L1(o)]}function rie(e){const t=L1(e);return[OA(e),t,OA(t)]}function OA(e){return e.replace(/start|end/g,t=>eie[t])}function sie(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function nie(e,t,r,n){const a=b0(e);let i=sie(nd(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(OA)))),i}function L1(e){return e.replace(/left|right|bottom|top/g,t=>Jae[t])}function aie(e){return{top:0,right:0,bottom:0,left:0,...e}}function M8(e){return typeof e!="number"?aie(e):{top:e,right:e,bottom:e,left:e}}function B1(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function nR(e,t,r){let{reference:n,floating:a}=e;const i=qu(t),o=LT(t),l=FT(o),d=nd(t),u=i==="y",h=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2,g=n[l]/2-a[l]/2;let y;switch(d){case"top":y={x:h,y:n.y-a.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-a.width,y:p};break;default:y={x:n.x,y:n.y}}switch(b0(t)){case"start":y[o]-=g*(r&&u?-1:1);break;case"end":y[o]+=g*(r&&u?-1:1);break}return y}const iie=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:p}=nR(u,n,d),g=n,y={},w=0;for(let v=0;v<l.length;v++){const{name:N,fn:j}=l[v],{x:A,y:E,data:S,reset:_}=await j({x:h,y:p,initialPlacement:n,placement:g,strategy:a,middlewareData:y,rects:u,platform:o,elements:{reference:e,floating:t}});h=A??h,p=E??p,y={...y,[N]:{...y[N],...S}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:h,y:p}=nR(u,g,d)),v=-1)}return{x:h,y:p,placement:g,strategy:a,middlewareData:y}};async function Lg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:y=0}=sd(t,e),w=M8(y),N=l[g?p==="floating"?"reference":"floating":p],j=B1(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(N)))==null||r?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:d})),A=p==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},_=B1(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:E,strategy:d}):A);return{top:(j.top-_.top+w.top)/S.y,bottom:(_.bottom-j.bottom+w.bottom)/S.y,left:(j.left-_.left+w.left)/S.x,right:(_.right-j.right+w.right)/S.x}}const oie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:d}=t,{element:u,padding:h=0}=sd(e,t)||{};if(u==null)return{};const p=M8(h),g={x:r,y:n},y=LT(a),w=FT(y),v=await o.getDimensions(u),N=y==="y",j=N?"top":"left",A=N?"bottom":"right",E=N?"clientHeight":"clientWidth",S=i.reference[w]+i.reference[y]-g[y]-i.floating[w],_=g[y]-i.reference[y],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=k?k[E]:0;(!T||!await(o.isElement==null?void 0:o.isElement(k)))&&(T=l.floating[E]||i.floating[w]);const O=S/2-_/2,P=T/2-v[w]/2-1,I=Vu(p[j],P),M=Vu(p[A],P),q=I,U=T-v[w]-M,re=T/2-v[w]/2+O,te=DA(q,re,U),B=!d.arrow&&b0(a)!=null&&re!==te&&i.reference[w]/2-(re<q?I:M)-v[w]/2<0,H=B?re<q?re-q:re-U:0;return{[y]:g[y]+H,data:{[y]:te,centerOffset:re-te-H,...B&&{alignmentOffset:H}},reset:B}}}),lie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:u}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...N}=sd(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=nd(a),A=qu(l),E=nd(l)===l,S=await(d.isRTL==null?void 0:d.isRTL(u.floating)),_=g||(E||!v?[L1(l)]:rie(l)),k=w!=="none";!g&&k&&_.push(...nie(l,v,w,S));const T=[l,..._],O=await Lg(t,N),P=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&P.push(O[j]),p){const re=tie(a,o,S);P.push(O[re[0]],O[re[1]])}if(I=[...I,{placement:a,overflows:P}],!P.every(re=>re<=0)){var M,q;const re=(((M=i.flip)==null?void 0:M.index)||0)+1,te=T[re];if(te)return{data:{index:re,overflows:I},reset:{placement:te}};let B=(q=I.filter(H=>H.overflows[0]<=0).sort((H,R)=>H.overflows[1]-R.overflows[1])[0])==null?void 0:q.placement;if(!B)switch(y){case"bestFit":{var U;const H=(U=I.filter(R=>{if(k){const X=qu(R.placement);return X===A||X==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(X=>X>0).reduce((X,W)=>X+W,0)]).sort((R,X)=>R[1]-X[1])[0])==null?void 0:U[0];H&&(B=H);break}case"initialPlacement":B=l;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function aR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iR(e){return Zae.some(t=>e[t]>=0)}const cie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=sd(e,t);switch(n){case"referenceHidden":{const i=await Lg(t,{...a,elementContext:"reference"}),o=aR(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:iR(o)}}}case"escaped":{const i=await Lg(t,{...a,altBoundary:!0}),o=aR(i,r.floating);return{data:{escapedOffsets:o,escaped:iR(o)}}}default:return{}}}}};async function die(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=nd(r),l=b0(r),d=qu(r)==="y",u=["left","top"].includes(o)?-1:1,h=i&&d?-1:1,p=sd(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),d?{x:y*h,y:g*u}:{x:g*u,y:y*h}}const uie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,d=await die(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},fie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:j,y:A}=N;return{x:j,y:A}}},...d}=sd(e,t),u={x:r,y:n},h=await Lg(t,d),p=qu(nd(a)),g=IT(p);let y=u[g],w=u[p];if(i){const N=g==="y"?"top":"left",j=g==="y"?"bottom":"right",A=y+h[N],E=y-h[j];y=DA(A,y,E)}if(o){const N=p==="y"?"top":"left",j=p==="y"?"bottom":"right",A=w+h[N],E=w-h[j];w=DA(A,w,E)}const v=l.fn({...t,[g]:y,[p]:w});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[g]:i,[p]:o}}}}}},hie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=sd(e,t),h={x:r,y:n},p=qu(a),g=IT(p);let y=h[g],w=h[p];const v=sd(l,t),N=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const E=g==="y"?"height":"width",S=i.reference[g]-i.floating[E]+N.mainAxis,_=i.reference[g]+i.reference[E]-N.mainAxis;y<S?y=S:y>_&&(y=_)}if(u){var j,A;const E=g==="y"?"width":"height",S=["top","left"].includes(nd(a)),_=i.reference[p]-i.floating[E]+(S&&((j=o.offset)==null?void 0:j[p])||0)+(S?0:N.crossAxis),k=i.reference[p]+i.reference[E]+(S?0:((A=o.offset)==null?void 0:A[p])||0)-(S?N.crossAxis:0);w<_?w=_:w>k&&(w=k)}return{[g]:y,[p]:w}}}},mie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:d=()=>{},...u}=sd(e,t),h=await Lg(t,u),p=nd(a),g=b0(a),y=qu(a)==="y",{width:w,height:v}=i.floating;let N,j;p==="top"||p==="bottom"?(N=p,j=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=p,N=g==="end"?"top":"bottom");const A=v-h.top-h.bottom,E=w-h.left-h.right,S=Vu(v-h[N],A),_=Vu(w-h[j],E),k=!t.middlewareData.shift;let T=S,O=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=A),k&&!g){const I=Hi(h.left,0),M=Hi(h.right,0),q=Hi(h.top,0),U=Hi(h.bottom,0);y?O=w-2*(I!==0||M!==0?I+M:Hi(h.left,h.right)):T=v-2*(q!==0||U!==0?q+U:Hi(h.top,h.bottom))}await d({...t,availableWidth:O,availableHeight:T});const P=await o.getDimensions(l.floating);return w!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Gw(){return typeof window<"u"}function w0(e){return I8(e)?(e.nodeName||"").toLowerCase():"#document"}function Qi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function lc(e){var t;return(t=(I8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function I8(e){return Gw()?e instanceof Node||e instanceof Qi(e).Node:!1}function dl(e){return Gw()?e instanceof Element||e instanceof Qi(e).Element:!1}function tc(e){return Gw()?e instanceof HTMLElement||e instanceof Qi(e).HTMLElement:!1}function oR(e){return!Gw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qi(e).ShadowRoot}function _y(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ul(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function pie(e){return["table","td","th"].includes(w0(e))}function Yw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function BT(e){const t=$T(),r=dl(e)?ul(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function xie(e){let t=zu(e);for(;tc(t)&&!Hp(t);){if(BT(t))return t;if(Yw(t))return null;t=zu(t)}return null}function $T(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hp(e){return["html","body","#document"].includes(w0(e))}function ul(e){return Qi(e).getComputedStyle(e)}function Kw(e){return dl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zu(e){if(w0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oR(e)&&e.host||lc(e);return oR(t)?t.host:t}function F8(e){const t=zu(e);return Hp(t)?e.ownerDocument?e.ownerDocument.body:e.body:tc(t)&&_y(t)?t:F8(t)}function Bg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=F8(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Qi(a);if(i){const l=PA(o);return t.concat(o,o.visualViewport||[],_y(a)?a:[],l&&r?Bg(l):[])}return t.concat(a,Bg(a,[],r))}function PA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function L8(e){const t=ul(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=tc(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=F1(r)!==i||F1(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function UT(e){return dl(e)?e:e.contextElement}function pp(e){const t=UT(e);if(!tc(t))return Gl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=L8(t);let o=(i?F1(r.width):r.width)/n,l=(i?F1(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const gie=Gl(0);function B8(e){const t=Qi(e);return!$T()||!t.visualViewport?gie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qi(e)?!1:t}function mh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=UT(e);let o=Gl(1);t&&(n?dl(n)&&(o=pp(n)):o=pp(e));const l=yie(i,r,n)?B8(i):Gl(0);let d=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,h=a.width/o.x,p=a.height/o.y;if(i){const g=Qi(i),y=n&&dl(n)?Qi(n):n;let w=g,v=PA(w);for(;v&&n&&y!==w;){const N=pp(v),j=v.getBoundingClientRect(),A=ul(v),E=j.left+(v.clientLeft+parseFloat(A.paddingLeft))*N.x,S=j.top+(v.clientTop+parseFloat(A.paddingTop))*N.y;d*=N.x,u*=N.y,h*=N.x,p*=N.y,d+=E,u+=S,w=Qi(v),v=PA(w)}}return B1({width:h,height:p,x:d,y:u})}function VT(e,t){const r=Kw(e).scrollLeft;return t?t.left+r:mh(lc(e)).left+r}function $8(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:VT(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function vie(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=lc(n),l=t?Yw(t.floating):!1;if(n===o||l&&i)return r;let d={scrollLeft:0,scrollTop:0},u=Gl(1);const h=Gl(0),p=tc(n);if((p||!p&&!i)&&((w0(n)!=="body"||_y(o))&&(d=Kw(n)),tc(n))){const y=mh(n);u=pp(n),h.x=y.x+n.clientLeft,h.y=y.y+n.clientTop}const g=o&&!p&&!i?$8(o,d,!0):Gl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+h.x+g.x,y:r.y*u.y-d.scrollTop*u.y+h.y+g.y}}function bie(e){return Array.from(e.getClientRects())}function wie(e){const t=lc(e),r=Kw(e),n=e.ownerDocument.body,a=Hi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Hi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+VT(e);const l=-r.scrollTop;return ul(n).direction==="rtl"&&(o+=Hi(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Nie(e,t){const r=Qi(e),n=lc(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,d=0;if(a){i=a.width,o=a.height;const u=$T();(!u||u&&t==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}return{width:i,height:o,x:l,y:d}}function jie(e,t){const r=mh(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=tc(e)?pp(e):Gl(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,d=a*i.x,u=n*i.y;return{width:o,height:l,x:d,y:u}}function lR(e,t,r){let n;if(t==="viewport")n=Nie(e,r);else if(t==="document")n=wie(lc(e));else if(dl(t))n=jie(t,r);else{const a=B8(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return B1(n)}function U8(e,t){const r=zu(e);return r===t||!dl(r)||Hp(r)?!1:ul(r).position==="fixed"||U8(r,t)}function Sie(e,t){const r=t.get(e);if(r)return r;let n=Bg(e,[],!1).filter(l=>dl(l)&&w0(l)!=="body"),a=null;const i=ul(e).position==="fixed";let o=i?zu(e):e;for(;dl(o)&&!Hp(o);){const l=ul(o),d=BT(o);!d&&l.position==="fixed"&&(a=null),(i?!d&&!a:!d&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||_y(o)&&!d&&U8(e,o))?n=n.filter(h=>h!==o):a=l,o=zu(o)}return t.set(e,n),n}function Eie(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Yw(t)?[]:Sie(t,this._c):[].concat(r),n],l=o[0],d=o.reduce((u,h)=>{const p=lR(t,h,a);return u.top=Hi(p.top,u.top),u.right=Vu(p.right,u.right),u.bottom=Vu(p.bottom,u.bottom),u.left=Hi(p.left,u.left),u},lR(t,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Aie(e){const{width:t,height:r}=L8(e);return{width:t,height:r}}function Cie(e,t,r){const n=tc(t),a=lc(t),i=r==="fixed",o=mh(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const d=Gl(0);if(n||!n&&!i)if((w0(t)!=="body"||_y(a))&&(l=Kw(t)),n){const g=mh(t,!0,i,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else a&&(d.x=VT(a));const u=a&&!n&&!i?$8(a,l):Gl(0),h=o.left+l.scrollLeft-d.x-u.x,p=o.top+l.scrollTop-d.y-u.y;return{x:h,y:p,width:o.width,height:o.height}}function gS(e){return ul(e).position==="static"}function cR(e,t){if(!tc(e)||ul(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return lc(e)===r&&(r=r.ownerDocument.body),r}function V8(e,t){const r=Qi(e);if(Yw(e))return r;if(!tc(e)){let a=zu(e);for(;a&&!Hp(a);){if(dl(a)&&!gS(a))return a;a=zu(a)}return r}let n=cR(e,t);for(;n&&pie(n)&&gS(n);)n=cR(n,t);return n&&Hp(n)&&gS(n)&&!BT(n)?r:n||xie(e)||r}const Tie=async function(e){const t=this.getOffsetParent||V8,r=this.getDimensions,n=await r(e.floating);return{reference:Cie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _ie(e){return ul(e).direction==="rtl"}const kie={convertOffsetParentRelativeRectToViewportRelativeRect:vie,getDocumentElement:lc,getClippingRect:Eie,getOffsetParent:V8,getElementRects:Tie,getClientRects:bie,getDimensions:Aie,getScale:pp,isElement:dl,isRTL:_ie};function q8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Die(e,t){let r=null,n;const a=lc(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const u=e.getBoundingClientRect(),{left:h,top:p,width:g,height:y}=u;if(l||t(),!g||!y)return;const w=Sb(p),v=Sb(a.clientWidth-(h+g)),N=Sb(a.clientHeight-(p+y)),j=Sb(h),E={rootMargin:-w+"px "+-v+"px "+-N+"px "+-j+"px",threshold:Hi(0,Vu(1,d))||1};let S=!0;function _(k){const T=k[0].intersectionRatio;if(T!==d){if(!S)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!q8(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(_,{...E,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,E)}r.observe(e)}return o(!0),i}function Oie(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,u=UT(e),h=a||i?[...u?Bg(u):[],...Bg(t)]:[];h.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const p=u&&l?Die(u,r):null;let g=-1,y=null;o&&(y=new ResizeObserver(j=>{let[A]=j;A&&A.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=y)==null||E.observe(t)})),r()}),u&&!d&&y.observe(u),y.observe(t));let w,v=d?mh(e):null;d&&N();function N(){const j=mh(e);v&&!q8(v,j)&&r(),v=j,w=requestAnimationFrame(N)}return r(),()=>{var j;h.forEach(A=>{a&&A.removeEventListener("scroll",r),i&&A.removeEventListener("resize",r)}),p==null||p(),(j=y)==null||j.disconnect(),y=null,d&&cancelAnimationFrame(w)}}const Pie=uie,Rie=fie,Mie=lie,Iie=mie,Fie=cie,dR=oie,Lie=hie,Bie=(e,t,r)=>{const n=new Map,a={platform:kie,...r},i={...a.platform,_c:n};return iie(e,t,{...a,platform:i})};var f1=typeof document<"u"?m.useLayoutEffect:m.useEffect;function $1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$1(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!$1(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function z8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uR(e,t){const r=z8(e);return Math.round(t*r)/r}function yS(e){const t=m.useRef(e);return f1(()=>{t.current=e}),t}function $ie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=e,[h,p]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=m.useState(n);$1(g,n)||y(n);const[w,v]=m.useState(null),[N,j]=m.useState(null),A=m.useCallback(R=>{R!==k.current&&(k.current=R,v(R))},[]),E=m.useCallback(R=>{R!==T.current&&(T.current=R,j(R))},[]),S=i||w,_=o||N,k=m.useRef(null),T=m.useRef(null),O=m.useRef(h),P=d!=null,I=yS(d),M=yS(a),q=yS(u),U=m.useCallback(()=>{if(!k.current||!T.current)return;const R={placement:t,strategy:r,middleware:g};M.current&&(R.platform=M.current),Bie(k.current,T.current,R).then(X=>{const W={...X,isPositioned:q.current!==!1};re.current&&!$1(O.current,W)&&(O.current=W,Ju.flushSync(()=>{p(W)}))})},[g,t,r,M,q]);f1(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,p(R=>({...R,isPositioned:!1})))},[u]);const re=m.useRef(!1);f1(()=>(re.current=!0,()=>{re.current=!1}),[]),f1(()=>{if(S&&(k.current=S),_&&(T.current=_),S&&_){if(I.current)return I.current(S,_,U);U()}},[S,_,U,I,P]);const te=m.useMemo(()=>({reference:k,floating:T,setReference:A,setFloating:E}),[A,E]),B=m.useMemo(()=>({reference:S,floating:_}),[S,_]),H=m.useMemo(()=>{const R={position:r,left:0,top:0};if(!B.floating)return R;const X=uR(B.floating,h.x),W=uR(B.floating,h.y);return l?{...R,transform:"translate("+X+"px, "+W+"px)",...z8(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:W}},[r,l,B.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:U,refs:te,elements:B,floatingStyles:H}),[h,U,te,B,H])}const Uie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?dR({element:n.current,padding:a}).fn(r):{}:n?dR({element:n,padding:a}).fn(r):{}}}},Vie=(e,t)=>({...Pie(e),options:[e,t]}),qie=(e,t)=>({...Rie(e),options:[e,t]}),zie=(e,t)=>({...Lie(e),options:[e,t]}),Hie=(e,t)=>({...Mie(e),options:[e,t]}),Wie=(e,t)=>({...Iie(e),options:[e,t]}),Gie=(e,t)=>({...Fie(e),options:[e,t]}),Yie=(e,t)=>({...Uie(e),options:[e,t]});var Kie="Arrow",H8=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(qt.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});H8.displayName=Kie;var Xie=H8;function Xw(e){const[t,r]=m.useState(void 0);return Os(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var qT="Popper",[W8,tf]=pa(qT),[Qie,G8]=W8(qT),Y8=e=>{const{__scopePopper:t,children:r}=e,[n,a]=m.useState(null);return s.jsx(Qie,{scope:t,anchor:n,onAnchorChange:a,children:r})};Y8.displayName=qT;var K8="PopperAnchor",X8=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=G8(K8,r),o=m.useRef(null),l=Yt(t,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(qt.div,{...a,ref:l})});X8.displayName=K8;var zT="PopperContent",[Zie,Jie]=W8(zT),Q8=m.forwardRef((e,t)=>{var Q,se,Z,le,Te,Ee;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:w,...v}=e,N=G8(zT,r),[j,A]=m.useState(null),E=Yt(t,Ze=>A(Ze)),[S,_]=m.useState(null),k=Xw(S),T=(k==null?void 0:k.width)??0,O=(k==null?void 0:k.height)??0,P=n+(i!=="center"?"-"+i:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(u)?u:[u],q=M.length>0,U={padding:I,boundary:M.filter(toe),altBoundary:q},{refs:re,floatingStyles:te,placement:B,isPositioned:H,middlewareData:R}=$ie({strategy:"fixed",placement:P,whileElementsMounted:(...Ze)=>Oie(...Ze,{animationFrame:y==="always"}),elements:{reference:N.anchor},middleware:[Vie({mainAxis:a+O,alignmentAxis:o}),d&&qie({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?zie():void 0,...U}),d&&Hie({...U}),Wie({...U,apply:({elements:Ze,rects:Be,availableWidth:Ie,availableHeight:Ne})=>{const{width:fe,height:de}=Be.reference,ke=Ze.floating.style;ke.setProperty("--radix-popper-available-width",`${Ie}px`),ke.setProperty("--radix-popper-available-height",`${Ne}px`),ke.setProperty("--radix-popper-anchor-width",`${fe}px`),ke.setProperty("--radix-popper-anchor-height",`${de}px`)}}),S&&Yie({element:S,padding:l}),roe({arrowWidth:T,arrowHeight:O}),g&&Gie({strategy:"referenceHidden",...U})]}),[X,W]=e7(B),Y=Zr(w);Os(()=>{H&&(Y==null||Y())},[H,Y]);const F=(Q=R.arrow)==null?void 0:Q.x,z=(se=R.arrow)==null?void 0:se.y,K=((Z=R.arrow)==null?void 0:Z.centerOffset)!==0,[V,ae]=m.useState();return Os(()=>{j&&ae(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:H?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(le=R.transformOrigin)==null?void 0:le.x,(Te=R.transformOrigin)==null?void 0:Te.y].join(" "),...((Ee=R.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Zie,{scope:r,placedSide:X,onArrowChange:_,arrowX:F,arrowY:z,shouldHideArrow:K,children:s.jsx(qt.div,{"data-side":X,"data-align":W,...v,ref:E,style:{...v.style,animation:H?void 0:"none"}})})})});Q8.displayName=zT;var Z8="PopperArrow",eoe={top:"bottom",right:"left",bottom:"top",left:"right"},J8=m.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Jie(Z8,n),o=eoe[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Xie,{...a,ref:r,style:{...a.style,display:"block"}})})});J8.displayName=Z8;function toe(e){return e!==null}var roe=e=>({name:"transformOrigin",options:e,fn(t){var N,j,A;const{placement:r,rects:n,middlewareData:a}=t,o=((N=a.arrow)==null?void 0:N.centerOffset)!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[u,h]=e7(r),p={start:"0%",center:"50%",end:"100%"}[h],g=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,y=(((A=a.arrow)==null?void 0:A.y)??0)+d/2;let w="",v="";return u==="bottom"?(w=o?p:`${g}px`,v=`${-d}px`):u==="top"?(w=o?p:`${g}px`,v=`${n.floating.height+d}px`):u==="right"?(w=`${-d}px`,v=o?p:`${y}px`):u==="left"&&(w=`${n.floating.width+d}px`,v=o?p:`${y}px`),{data:{x:w,y:v}}}});function e7(e){const[t,r="center"]=e.split("-");return[t,r]}var Qw=Y8,ky=X8,Zw=Q8,Jw=J8,soe="Portal",t7=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=m.useState(!1);Os(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?pd.createPortal(s.jsx(qt.div,{...n,ref:t}),o):null});t7.displayName=soe;function noe(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var na=e=>{const{present:t,children:r}=e,n=aoe(t),a=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Yt(n.ref,ioe(a));return typeof r=="function"||n.isPresent?m.cloneElement(a,{ref:i}):null};na.displayName="Presence";function aoe(e){const[t,r]=m.useState(),n=m.useRef({}),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,d]=noe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Eb(n.current);i.current=l==="mounted"?u:"none"},[l]),Os(()=>{const u=n.current,h=a.current;if(h!==e){const g=i.current,y=Eb(u);e?d("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Os(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,p=y=>{const v=Eb(n.current).includes(y.animationName);if(y.target===t&&v&&(d("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},g=y=>{y.target===t&&(i.current=Eb(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Eb(e){return(e==null?void 0:e.animationName)||"none"}function ioe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vS="rovingFocusGroup.onEntryFocus",ooe={bubbles:!1,cancelable:!0},Dy="RovingFocusGroup",[RA,r7,loe]=MT(Dy),[coe,eN]=pa(Dy,[loe]),[doe,uoe]=coe(Dy),s7=m.forwardRef((e,t)=>s.jsx(RA.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(RA.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(foe,{...e,ref:t})})}));s7.displayName=Dy;var foe=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=e,g=m.useRef(null),y=Yt(t,g),w=Ty(i),[v,N]=Do({prop:o,defaultProp:l??null,onChange:d,caller:Dy}),[j,A]=m.useState(!1),E=Zr(u),S=r7(r),_=m.useRef(!1),[k,T]=m.useState(0);return m.useEffect(()=>{const O=g.current;if(O)return O.addEventListener(vS,E),()=>O.removeEventListener(vS,E)},[E]),s.jsx(doe,{scope:r,orientation:n,dir:w,loop:a,currentTabStopId:v,onItemFocus:m.useCallback(O=>N(O),[N]),onItemShiftTab:m.useCallback(()=>A(!0),[]),onFocusableItemAdd:m.useCallback(()=>T(O=>O+1),[]),onFocusableItemRemove:m.useCallback(()=>T(O=>O-1),[]),children:s.jsx(qt.div,{tabIndex:j||k===0?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:wt(e.onMouseDown,()=>{_.current=!0}),onFocus:wt(e.onFocus,O=>{const P=!_.current;if(O.target===O.currentTarget&&P&&!j){const I=new CustomEvent(vS,ooe);if(O.currentTarget.dispatchEvent(I),!I.defaultPrevented){const M=S().filter(B=>B.focusable),q=M.find(B=>B.active),U=M.find(B=>B.id===v),te=[q,U,...M].filter(Boolean).map(B=>B.ref.current);i7(te,h)}}_.current=!1}),onBlur:wt(e.onBlur,()=>A(!1))})})}),n7="RovingFocusGroupItem",a7=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,d=ii(),u=i||d,h=uoe(n7,r),p=h.currentTabStopId===u,g=r7(r),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:v}=h;return m.useEffect(()=>{if(n)return y(),()=>w()},[n,y,w]),s.jsx(RA.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(qt.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:wt(e.onMouseDown,N=>{n?h.onItemFocus(u):N.preventDefault()}),onFocus:wt(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:wt(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const j=poe(N,h.orientation,h.dir);if(j!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let E=g().filter(S=>S.focusable).map(S=>S.ref.current);if(j==="last")E.reverse();else if(j==="prev"||j==="next"){j==="prev"&&E.reverse();const S=E.indexOf(N.currentTarget);E=h.loop?xoe(E,S+1):E.slice(S+1)}setTimeout(()=>i7(E))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:v!=null}):o})})});a7.displayName=n7;var hoe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function moe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function poe(e,t,r){const n=moe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return hoe[n]}function i7(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function xoe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var o7=s7,l7=a7;function goe(e){const t=yoe(e),r=m.forwardRef((n,a)=>{const{children:i,...o}=n,l=m.Children.toArray(i),d=l.find(boe);if(d){const u=d.props.children,h=l.map(p=>p===d?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return s.jsx(t,{...o,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function yoe(e){const t=m.forwardRef((r,n)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const o=Noe(a),l=woe(i,a.props);return a.type!==m.Fragment&&(l.ref=n?xd(n,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var voe=Symbol("radix.slottable");function boe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===voe}function woe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Noe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var MA=["Enter"," "],joe=["ArrowDown","PageUp","Home"],c7=["ArrowUp","PageDown","End"],Soe=[...joe,...c7],Eoe={ltr:[...MA,"ArrowRight"],rtl:[...MA,"ArrowLeft"]},Aoe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Oy="Menu",[$g,Coe,Toe]=MT(Oy),[Rh,d7]=pa(Oy,[Toe,tf,eN]),tN=tf(),u7=eN(),[_oe,Mh]=Rh(Oy),[koe,Py]=Rh(Oy),f7=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=tN(t),[d,u]=m.useState(null),h=m.useRef(!1),p=Zr(i),g=Ty(a);return m.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(Qw,{...l,children:s.jsx(_oe,{scope:t,open:r,onOpenChange:p,content:d,onContentChange:u,children:s.jsx(koe,{scope:t,onClose:m.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:g,modal:o,children:n})})})};f7.displayName=Oy;var Doe="MenuAnchor",HT=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=tN(r);return s.jsx(ky,{...a,...n,ref:t})});HT.displayName=Doe;var WT="MenuPortal",[Ooe,h7]=Rh(WT,{forceMount:void 0}),m7=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Mh(WT,t);return s.jsx(Ooe,{scope:t,forceMount:r,children:s.jsx(na,{present:r||i.open,children:s.jsx(t7,{asChild:!0,container:a,children:n})})})};m7.displayName=WT;var Co="MenuContent",[Poe,GT]=Rh(Co),p7=m.forwardRef((e,t)=>{const r=h7(Co,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Mh(Co,e.__scopeMenu),o=Py(Co,e.__scopeMenu);return s.jsx($g.Provider,{scope:e.__scopeMenu,children:s.jsx(na,{present:n||i.open,children:s.jsx($g.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Roe,{...a,ref:t}):s.jsx(Moe,{...a,ref:t})})})})}),Roe=m.forwardRef((e,t)=>{const r=Mh(Co,e.__scopeMenu),n=m.useRef(null),a=Yt(t,n);return m.useEffect(()=>{const i=n.current;if(i)return kh(i)},[]),s.jsx(YT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:wt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Moe=m.forwardRef((e,t)=>{const r=Mh(Co,e.__scopeMenu);return s.jsx(YT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Ioe=goe("MenuContent.ScrollLock"),YT=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,onDismiss:y,disableOutsideScroll:w,...v}=e,N=Mh(Co,r),j=Py(Co,r),A=tN(r),E=u7(r),S=Coe(r),[_,k]=m.useState(null),T=m.useRef(null),O=Yt(t,T,N.onContentChange),P=m.useRef(0),I=m.useRef(""),M=m.useRef(0),q=m.useRef(null),U=m.useRef("right"),re=m.useRef(0),te=w?ef:m.Fragment,B=w?{as:Ioe,allowPinchZoom:!0}:void 0,H=X=>{var Q,se;const W=I.current+X,Y=S().filter(Z=>!Z.disabled),F=document.activeElement,z=(Q=Y.find(Z=>Z.ref.current===F))==null?void 0:Q.textValue,K=Y.map(Z=>Z.textValue),V=Yoe(K,W,z),ae=(se=Y.find(Z=>Z.textValue===V))==null?void 0:se.ref.current;(function Z(le){I.current=le,window.clearTimeout(P.current),le!==""&&(P.current=window.setTimeout(()=>Z(""),1e3))})(W),ae&&setTimeout(()=>ae.focus())};m.useEffect(()=>()=>window.clearTimeout(P.current),[]),Ey();const R=m.useCallback(X=>{var Y,F;return U.current===((Y=q.current)==null?void 0:Y.side)&&Xoe(X,(F=q.current)==null?void 0:F.area)},[]);return s.jsx(Poe,{scope:r,searchRef:I,onItemEnter:m.useCallback(X=>{R(X)&&X.preventDefault()},[R]),onItemLeave:m.useCallback(X=>{var W;R(X)||((W=T.current)==null||W.focus(),k(null))},[R]),onTriggerLeave:m.useCallback(X=>{R(X)&&X.preventDefault()},[R]),pointerGraceTimerRef:M,onPointerGraceIntentChange:m.useCallback(X=>{q.current=X},[]),children:s.jsx(te,{...B,children:s.jsx(P8,{asChild:!0,trapped:a,onMountAutoFocus:wt(i,X=>{var W;X.preventDefault(),(W=T.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(D8,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,onDismiss:y,children:s.jsx(o7,{asChild:!0,...E,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:k,onEntryFocus:wt(d,X=>{j.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Zw,{role:"menu","aria-orientation":"vertical","data-state":D7(N.open),"data-radix-menu-content":"",dir:j.dir,...A,...v,ref:O,style:{outline:"none",...v.style},onKeyDown:wt(v.onKeyDown,X=>{const Y=X.target.closest("[data-radix-menu-content]")===X.currentTarget,F=X.ctrlKey||X.altKey||X.metaKey,z=X.key.length===1;Y&&(X.key==="Tab"&&X.preventDefault(),!F&&z&&H(X.key));const K=T.current;if(X.target!==K||!Soe.includes(X.key))return;X.preventDefault();const ae=S().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);c7.includes(X.key)&&ae.reverse(),Woe(ae)}),onBlur:wt(e.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(P.current),I.current="")}),onPointerMove:wt(e.onPointerMove,Ug(X=>{const W=X.target,Y=re.current!==X.clientX;if(X.currentTarget.contains(W)&&Y){const F=X.clientX>re.current?"right":"left";U.current=F,re.current=X.clientX}}))})})})})})})});p7.displayName=Co;var Foe="MenuGroup",KT=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(qt.div,{role:"group",...n,ref:t})});KT.displayName=Foe;var Loe="MenuLabel",x7=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(qt.div,{...n,ref:t})});x7.displayName=Loe;var U1="MenuItem",fR="menu.itemSelect",rN=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=m.useRef(null),o=Py(U1,e.__scopeMenu),l=GT(U1,e.__scopeMenu),d=Yt(t,i),u=m.useRef(!1),h=()=>{const p=i.current;if(!r&&p){const g=new CustomEvent(fR,{bubbles:!0,cancelable:!0});p.addEventListener(fR,y=>n==null?void 0:n(y),{once:!0}),x0(p,g),g.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(g7,{...a,ref:d,disabled:r,onClick:wt(e.onClick,h),onPointerDown:p=>{var g;(g=e.onPointerDown)==null||g.call(e,p),u.current=!0},onPointerUp:wt(e.onPointerUp,p=>{var g;u.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:wt(e.onKeyDown,p=>{const g=l.searchRef.current!=="";r||g&&p.key===" "||MA.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});rN.displayName=U1;var g7=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=GT(U1,r),l=u7(r),d=m.useRef(null),u=Yt(t,d),[h,p]=m.useState(!1),[g,y]=m.useState("");return m.useEffect(()=>{const w=d.current;w&&y((w.textContent??"").trim())},[i.children]),s.jsx($g.ItemSlot,{scope:r,disabled:n,textValue:a??g,children:s.jsx(l7,{asChild:!0,...l,focusable:!n,children:s.jsx(qt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:wt(e.onPointerMove,Ug(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:wt(e.onPointerLeave,Ug(w=>o.onItemLeave(w))),onFocus:wt(e.onFocus,()=>p(!0)),onBlur:wt(e.onBlur,()=>p(!1))})})})}),Boe="MenuCheckboxItem",y7=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(j7,{scope:e.__scopeMenu,checked:r,children:s.jsx(rN,{role:"menuitemcheckbox","aria-checked":V1(r)?"mixed":r,...a,ref:t,"data-state":QT(r),onSelect:wt(a.onSelect,()=>n==null?void 0:n(V1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});y7.displayName=Boe;var v7="MenuRadioGroup",[$oe,Uoe]=Rh(v7,{value:void 0,onValueChange:()=>{}}),b7=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Zr(n);return s.jsx($oe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(KT,{...a,ref:t})})});b7.displayName=v7;var w7="MenuRadioItem",N7=m.forwardRef((e,t)=>{const{value:r,...n}=e,a=Uoe(w7,e.__scopeMenu),i=r===a.value;return s.jsx(j7,{scope:e.__scopeMenu,checked:i,children:s.jsx(rN,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":QT(i),onSelect:wt(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});N7.displayName=w7;var XT="MenuItemIndicator",[j7,Voe]=Rh(XT,{checked:!1}),S7=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Voe(XT,r);return s.jsx(na,{present:n||V1(i.checked)||i.checked===!0,children:s.jsx(qt.span,{...a,ref:t,"data-state":QT(i.checked)})})});S7.displayName=XT;var qoe="MenuSeparator",E7=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(qt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});E7.displayName=qoe;var zoe="MenuArrow",A7=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=tN(r);return s.jsx(Jw,{...a,...n,ref:t})});A7.displayName=zoe;var Hoe="MenuSub",[dFe,C7]=Rh(Hoe),Yx="MenuSubTrigger",T7=m.forwardRef((e,t)=>{const r=Mh(Yx,e.__scopeMenu),n=Py(Yx,e.__scopeMenu),a=C7(Yx,e.__scopeMenu),i=GT(Yx,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,u={__scopeMenu:e.__scopeMenu},h=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>h,[h]),m.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),d(null)}},[l,d]),s.jsx(HT,{asChild:!0,...u,children:s.jsx(g7,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":D7(r.open),...e,ref:xd(t,a.onTriggerChange),onClick:p=>{var g;(g=e.onClick)==null||g.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:wt(e.onPointerMove,Ug(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:wt(e.onPointerLeave,Ug(p=>{var y,w;h();const g=(y=r.content)==null?void 0:y.getBoundingClientRect();if(g){const v=(w=r.content)==null?void 0:w.dataset.side,N=v==="right",j=N?-5:5,A=g[N?"left":"right"],E=g[N?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+j,y:p.clientY},{x:A,y:g.top},{x:E,y:g.top},{x:E,y:g.bottom},{x:A,y:g.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:wt(e.onKeyDown,p=>{var y;const g=i.searchRef.current!=="";e.disabled||g&&p.key===" "||Eoe[n.dir].includes(p.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),p.preventDefault())})})})});T7.displayName=Yx;var _7="MenuSubContent",k7=m.forwardRef((e,t)=>{const r=h7(Co,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Mh(Co,e.__scopeMenu),o=Py(Co,e.__scopeMenu),l=C7(_7,e.__scopeMenu),d=m.useRef(null),u=Yt(t,d);return s.jsx($g.Provider,{scope:e.__scopeMenu,children:s.jsx(na,{present:n||i.open,children:s.jsx($g.Slot,{scope:e.__scopeMenu,children:s.jsx(YT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=d.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:wt(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:wt(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:wt(e.onKeyDown,h=>{var y;const p=h.currentTarget.contains(h.target),g=Aoe[o.dir].includes(h.key);p&&g&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});k7.displayName=_7;function D7(e){return e?"open":"closed"}function V1(e){return e==="indeterminate"}function QT(e){return V1(e)?"indeterminate":e?"checked":"unchecked"}function Woe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Goe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Yoe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Goe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function Koe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],d=t[o],u=l.x,h=l.y,p=d.x,g=d.y;h>n!=g>n&&r<(p-u)*(n-h)/(g-h)+u&&(a=!a)}return a}function Xoe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Koe(r,t)}function Ug(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Qoe=f7,Zoe=HT,Joe=m7,ele=p7,tle=KT,rle=x7,sle=rN,nle=y7,ale=b7,ile=N7,ole=S7,lle=E7,cle=A7,dle=T7,ule=k7,sN="DropdownMenu",[fle,uFe]=pa(sN,[d7]),ui=d7(),[hle,O7]=fle(sN),P7=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=ui(t),u=m.useRef(null),[h,p]=Do({prop:a,defaultProp:i??!1,onChange:o,caller:sN});return s.jsx(hle,{scope:t,triggerId:ii(),triggerRef:u,contentId:ii(),open:h,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(g=>!g),[p]),modal:l,children:s.jsx(Qoe,{...d,open:h,onOpenChange:p,dir:n,modal:l,children:r})})};P7.displayName=sN;var R7="DropdownMenuTrigger",M7=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=O7(R7,r),o=ui(r);return s.jsx(Zoe,{asChild:!0,...o,children:s.jsx(qt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:xd(t,i.triggerRef),onPointerDown:wt(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:wt(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});M7.displayName=R7;var mle="DropdownMenuPortal",I7=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ui(t);return s.jsx(Joe,{...n,...r})};I7.displayName=mle;var F7="DropdownMenuContent",L7=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=O7(F7,r),i=ui(r),o=m.useRef(!1);return s.jsx(ele,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:wt(e.onCloseAutoFocus,l=>{var d;o.current||(d=a.triggerRef.current)==null||d.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:wt(e.onInteractOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,h=d.button===2||u;(!a.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L7.displayName=F7;var ple="DropdownMenuGroup",B7=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ui(r);return s.jsx(tle,{...a,...n,ref:t})});B7.displayName=ple;var xle="DropdownMenuLabel",$7=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ui(r);return s.jsx(rle,{...a,...n,ref:t})});$7.displayName=xle;var gle="DropdownMenuItem",U7=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ui(r);return s.jsx(sle,{...a,...n,ref:t})});U7.displayName=gle;var yle="DropdownMenuCheckboxItem",vle=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ui(r);return s.jsx(nle,{...a,...n,ref:t})});vle.displayName=yle;var ble="DropdownMenuRadioGroup",wle=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ui(r);return s.jsx(ale,{...a,...n,ref:t})});wle.displayName=ble;var Nle="DropdownMenuRadioItem",jle=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ui(r);return s.jsx(ile,{...a,...n,ref:t})});jle.displayName=Nle;var Sle="DropdownMenuItemIndicator",Ele=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ui(r);return s.jsx(ole,{...a,...n,ref:t})});Ele.displayName=Sle;var Ale="DropdownMenuSeparator",V7=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ui(r);return s.jsx(lle,{...a,...n,ref:t})});V7.displayName=Ale;var Cle="DropdownMenuArrow",Tle=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ui(r);return s.jsx(cle,{...a,...n,ref:t})});Tle.displayName=Cle;var _le="DropdownMenuSubTrigger",kle=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ui(r);return s.jsx(dle,{...a,...n,ref:t})});kle.displayName=_le;var Dle="DropdownMenuSubContent",Ole=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ui(r);return s.jsx(ule,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ole.displayName=Dle;var Ple=P7,Rle=M7,Mle=I7,Ile=L7,Fle=B7,Lle=$7,Ble=U7,$le=V7;function Ih({...e}){return s.jsx(Ple,{"data-slot":"dropdown-menu",...e})}function Fh({...e}){return s.jsx(Rle,{"data-slot":"dropdown-menu-trigger",...e})}function Lh({className:e,sideOffset:t=4,...r}){return s.jsx(Mle,{children:s.jsx(Ile,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function nN({...e}){return s.jsx(Fle,{"data-slot":"dropdown-menu-group",...e})}function mn({className:e,inset:t,variant:r="default",...n}){return s.jsx(Ble,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Xe("focus:bg-accent focus:text-gray-700-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function q7({className:e,inset:t,...r}){return s.jsx(Lle,{"data-slot":"dropdown-menu-label","data-inset":t,className:Xe("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function IA({className:e,...t}){return s.jsx($le,{"data-slot":"dropdown-menu-separator",className:Xe("bg-border -mx-1 my-1 h-px",e),...t})}var bS={exports:{}},wS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR;function Ule(){if(hR)return wS;hR=1;var e=Cw();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(p,g){var y=g(),w=n({inst:{value:y,getSnapshot:g}}),v=w[0].inst,N=w[1];return i(function(){v.value=y,v.getSnapshot=g,d(v)&&N({inst:v})},[p,y,g]),a(function(){return d(v)&&N({inst:v}),p(function(){d(v)&&N({inst:v})})},[p]),o(y),y}function d(p){var g=p.getSnapshot;p=p.value;try{var y=g();return!r(p,y)}catch{return!0}}function u(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return wS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,wS}var mR;function Vle(){return mR||(mR=1,bS.exports=Ule()),bS.exports}var qle=Vle();function zle(){return qle.useSyncExternalStore(Hle,()=>!0,()=>!1)}function Hle(){return()=>{}}var ZT="Avatar",[Wle,fFe]=pa(ZT),[Gle,z7]=Wle(ZT),H7=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=m.useState("idle");return s.jsx(Gle,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(qt.span,{...n,ref:t})})});H7.displayName=ZT;var W7="AvatarImage",G7=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=z7(W7,r),l=Yle(n,i),d=Zr(u=>{a(u),o.onImageLoadingStatusChange(u)});return Os(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?s.jsx(qt.img,{...i,ref:t,src:n}):null});G7.displayName=W7;var Y7="AvatarFallback",K7=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=z7(Y7,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(d)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(qt.span,{...a,ref:t}):null});K7.displayName=Y7;function pR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Yle(e,{referrerPolicy:t,crossOrigin:r}){const n=zle(),a=m.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=m.useState(()=>pR(i,e));return Os(()=>{l(pR(i,e))},[i,e]),Os(()=>{const d=p=>()=>{l(p)};if(!i)return;const u=d("loaded"),h=d("error");return i.addEventListener("load",u),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,r,t]),o}var Kle=H7,Xle=G7,Qle=K7;function xR({className:e,...t}){return s.jsx(Kle,{"data-slot":"avatar",className:Xe("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function gR({className:e,...t}){return s.jsx(Xle,{"data-slot":"avatar-image",className:Xe("aspect-square size-full",e),...t})}function yR({className:e,...t}){return s.jsx(Qle,{"data-slot":"avatar-fallback",className:Xe("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const NS=768;function Zle(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${NS-1}px)`),n=()=>{t(window.innerWidth<NS)};return r.addEventListener("change",n),t(window.innerWidth<NS),()=>r.removeEventListener("change",n)},[]),!!e}var Jle="Separator",vR="horizontal",ece=["horizontal","vertical"],X7=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=vR,...a}=e,i=tce(n)?n:vR,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(qt.div,{"data-orientation":i,...l,...a,ref:t})});X7.displayName=Jle;function tce(e){return ece.includes(e)}var rce=X7;function Q7({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return s.jsx(rce,{"data-slot":"separator-root",decorative:r,orientation:t,className:Xe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function Z7({...e}){return s.jsx(qL,{"data-slot":"sheet",...e})}function sce({...e}){return s.jsx(zL,{"data-slot":"sheet-portal",...e})}function nce({className:e,...t}){return s.jsx(AT,{"data-slot":"sheet-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function J7({className:e,children:t,side:r="right",...n}){return s.jsxs(sce,{children:[s.jsx(nce,{}),s.jsxs(CT,{"data-slot":"sheet-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,s.jsxs(kT,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(ai,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function e9({className:e,...t}){return s.jsx("div",{"data-slot":"sheet-header",className:Xe("flex flex-col gap-1.5 p-4",e),...t})}function t9({className:e,...t}){return s.jsx(TT,{"data-slot":"sheet-title",className:Xe("text-foreground font-semibold",e),...t})}function r9({className:e,...t}){return s.jsx(_T,{"data-slot":"sheet-description",className:Xe("text-muted-foreground text-sm",e),...t})}function Ot({className:e,...t}){return s.jsx("div",{"data-slot":"skeleton",className:Xe("bg-accent animate-pulse rounded-md",e),...t})}var ace="DismissableLayer",FA="dismissableLayer.update",ice="dismissableLayer.pointerDownOutside",oce="dismissableLayer.focusOutside",bR,s9=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),n9=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=m.useContext(s9),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),w=Yt(t,T=>p(T)),v=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=v.indexOf(N),A=h?v.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,S=A>=j,_=dce(T=>{const O=T.target,P=[...u.branches].some(I=>I.contains(O));!S||P||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),k=uce(T=>{const O=T.target;[...u.branches].some(I=>I.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return f0(T=>{A===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(bR=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),wR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=bR)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),wR())},[h,u]),m.useEffect(()=>{const T=()=>y({});return document.addEventListener(FA,T),()=>document.removeEventListener(FA,T)},[]),s.jsx(qt.div,{...d,ref:w,style:{pointerEvents:E?S?"auto":"none":void 0,...e.style},onFocusCapture:wt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:wt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:wt(e.onPointerDownCapture,_.onPointerDownCapture)})});n9.displayName=ace;var lce="DismissableLayerBranch",cce=m.forwardRef((e,t)=>{const r=m.useContext(s9),n=m.useRef(null),a=Yt(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(qt.div,{...e,ref:a})});cce.displayName=lce;function dce(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let d=function(){a9(ice,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function uce(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&a9(oce,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wR(){const e=new CustomEvent(FA);document.dispatchEvent(e)}function a9(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?x0(a,i):a.dispatchEvent(i)}var fce="Portal",i9=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=m.useState(!1);Os(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?pd.createPortal(s.jsx(qt.div,{...n,ref:t}),o):null});i9.displayName=fce;var hce=Symbol("radix.slottable");function mce(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=hce,t}var o9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pce="VisuallyHidden",l9=m.forwardRef((e,t)=>s.jsx(qt.span,{...e,ref:t,style:{...o9,...e.style}}));l9.displayName=pce;var xce=l9,[aN,hFe]=pa("Tooltip",[tf]),iN=tf(),c9="TooltipProvider",gce=700,LA="tooltip.open",[yce,JT]=aN(c9),d9=e=>{const{__scopeTooltip:t,delayDuration:r=gce,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=m.useRef(!0),l=m.useRef(!1),d=m.useRef(0);return m.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),s.jsx(yce,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};d9.displayName=c9;var Vg="Tooltip",[vce,Ry]=aN(Vg),u9=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,d=JT(Vg,e.__scopeTooltip),u=iN(t),[h,p]=m.useState(null),g=ii(),y=m.useRef(0),w=o??d.disableHoverableContent,v=l??d.delayDuration,N=m.useRef(!1),[j,A]=Do({prop:n,defaultProp:a??!1,onChange:T=>{T?(d.onOpen(),document.dispatchEvent(new CustomEvent(LA))):d.onClose(),i==null||i(T)},caller:Vg}),E=m.useMemo(()=>j?N.current?"delayed-open":"instant-open":"closed",[j]),S=m.useCallback(()=>{window.clearTimeout(y.current),y.current=0,N.current=!1,A(!0)},[A]),_=m.useCallback(()=>{window.clearTimeout(y.current),y.current=0,A(!1)},[A]),k=m.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{N.current=!0,A(!0),y.current=0},v)},[v,A]);return m.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),s.jsx(Qw,{...u,children:s.jsx(vce,{scope:t,contentId:g,open:j,stateAttribute:E,trigger:h,onTriggerChange:p,onTriggerEnter:m.useCallback(()=>{d.isOpenDelayedRef.current?k():S()},[d.isOpenDelayedRef,k,S]),onTriggerLeave:m.useCallback(()=>{w?_():(window.clearTimeout(y.current),y.current=0)},[_,w]),onOpen:S,onClose:_,disableHoverableContent:w,children:r})})};u9.displayName=Vg;var BA="TooltipTrigger",f9=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Ry(BA,r),i=JT(BA,r),o=iN(r),l=m.useRef(null),d=Yt(t,l,a.onTriggerChange),u=m.useRef(!1),h=m.useRef(!1),p=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),s.jsx(ky,{asChild:!0,...o,children:s.jsx(qt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:d,onPointerMove:wt(e.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:wt(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:wt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:wt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:wt(e.onBlur,a.onClose),onClick:wt(e.onClick,a.onClose)})})});f9.displayName=BA;var e4="TooltipPortal",[bce,wce]=aN(e4,{forceMount:void 0}),h9=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:a}=e,i=Ry(e4,t);return s.jsx(bce,{scope:t,forceMount:r,children:s.jsx(na,{present:r||i.open,children:s.jsx(i9,{asChild:!0,container:a,children:n})})})};h9.displayName=e4;var Wp="TooltipContent",m9=m.forwardRef((e,t)=>{const r=wce(Wp,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Ry(Wp,e.__scopeTooltip);return s.jsx(na,{present:n||o.open,children:o.disableHoverableContent?s.jsx(p9,{side:a,...i,ref:t}):s.jsx(Nce,{side:a,...i,ref:t})})}),Nce=m.forwardRef((e,t)=>{const r=Ry(Wp,e.__scopeTooltip),n=JT(Wp,e.__scopeTooltip),a=m.useRef(null),i=Yt(t,a),[o,l]=m.useState(null),{trigger:d,onClose:u}=r,h=a.current,{onPointerInTransitChange:p}=n,g=m.useCallback(()=>{l(null),p(!1)},[p]),y=m.useCallback((w,v)=>{const N=w.currentTarget,j={x:w.clientX,y:w.clientY},A=Ace(j,N.getBoundingClientRect()),E=Cce(j,A),S=Tce(v.getBoundingClientRect()),_=kce([...E,...S]);l(_),p(!0)},[p]);return m.useEffect(()=>()=>g(),[g]),m.useEffect(()=>{if(d&&h){const w=N=>y(N,h),v=N=>y(N,d);return d.addEventListener("pointerleave",w),h.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",v)}}},[d,h,y,g]),m.useEffect(()=>{if(o){const w=v=>{const N=v.target,j={x:v.clientX,y:v.clientY},A=(d==null?void 0:d.contains(N))||(h==null?void 0:h.contains(N)),E=!_ce(j,o);A?g():E&&(g(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,h,o,u,g]),s.jsx(p9,{...e,ref:i})}),[jce,Sce]=aN(Vg,{isInside:!1}),Ece=mce("TooltipContent"),p9=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,d=Ry(Wp,r),u=iN(r),{onClose:h}=d;return m.useEffect(()=>(document.addEventListener(LA,h),()=>document.removeEventListener(LA,h)),[h]),m.useEffect(()=>{if(d.trigger){const p=g=>{const y=g.target;y!=null&&y.contains(d.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,h]),s.jsx(n9,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:s.jsxs(Zw,{"data-state":d.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Ece,{children:n}),s.jsx(jce,{scope:r,isInside:!0,children:s.jsx(xce,{id:d.contentId,role:"tooltip",children:a||n})})]})})});m9.displayName=Wp;var x9="TooltipArrow",g9=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=iN(r);return Sce(x9,r).isInside?null:s.jsx(Jw,{...a,...n,ref:t})});g9.displayName=x9;function Ace(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Cce(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Tce(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function _ce(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],d=t[o],u=l.x,h=l.y,p=d.x,g=d.y;h>n!=g>n&&r<(p-u)*(n-h)/(g-h)+u&&(a=!a)}return a}function kce(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Dce(t)}function Dce(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Oce=d9,Pce=u9,Rce=f9,Mce=h9,Ice=m9,Fce=g9;function qg({delayDuration:e=0,...t}){return s.jsx(Oce,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Jm({...e}){return s.jsx(qg,{children:s.jsx(Pce,{"data-slot":"tooltip",...e})})}function ep({...e}){return s.jsx(Rce,{"data-slot":"tooltip-trigger",...e})}function tp({className:e,sideOffset:t=0,children:r,...n}){return s.jsx(Mce,{children:s.jsxs(Ice,{"data-slot":"tooltip-content",sideOffset:t,className:Xe("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...n,children:[r,s.jsx(Fce,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const Lce="sidebar_state",Bce=60*60*24*7,$ce="16rem",Uce="18rem",Vce="3rem",qce="b",y9=m.createContext(null);function My(){const e=m.useContext(y9);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function zce({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o}){const l=Zle(),[d,u]=m.useState(!1),[h,p]=m.useState(e),g=t??h,y=m.useCallback(j=>{const A=typeof j=="function"?j(g):j;r?r(A):p(A),document.cookie=`${Lce}=${A}; path=/; max-age=${Bce}`},[r,g]),w=m.useCallback(()=>l?u(j=>!j):y(j=>!j),[l,y,u]);m.useEffect(()=>{const j=A=>{A.key===qce&&(A.metaKey||A.ctrlKey)&&(A.preventDefault(),w())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[w]);const v=g?"expanded":"collapsed",N=m.useMemo(()=>({state:v,open:g,setOpen:y,isMobile:l,openMobile:d,setOpenMobile:u,toggleSidebar:w}),[v,g,y,l,d,u,w]);return s.jsx(y9.Provider,{value:N,children:s.jsx(qg,{delayDuration:0,children:s.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":$ce,"--sidebar-width-icon":Vce,...a},className:Xe("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...o,children:i})})})}function Hce({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i}){const{isMobile:o,state:l,openMobile:d,setOpenMobile:u}=My();return r==="none"?s.jsx("div",{"data-slot":"sidebar",className:Xe("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...i,children:a}):o?s.jsx(Z7,{open:d,onOpenChange:u,...i,children:s.jsxs(J7,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Uce},side:e,children:[s.jsxs(e9,{className:"sr-only",children:[s.jsx(t9,{children:"Sidebar"}),s.jsx(r9,{children:"Displays the mobile sidebar."})]}),s.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):s.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[s.jsx("div",{"data-slot":"sidebar-gap",className:Xe("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),s.jsx("div",{"data-slot":"sidebar-container",className:Xe("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function Wce({className:e,onClick:t,...r}){const{toggleSidebar:n}=My();return s.jsxs(pe,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Xe("size-7",e),onClick:a=>{t==null||t(a),n()},...r,children:[s.jsx(AJ,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function Gce({className:e,...t}){const{toggleSidebar:r}=My();return s.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:Xe("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})}function Yce({className:e,...t}){return s.jsx("main",{"data-slot":"sidebar-inset",className:Xe("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function Kce({className:e,...t}){return s.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Xe("flex flex-col gap-2 p-2",e),...t})}function Xce({className:e,...t}){return s.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Xe("flex flex-col gap-2 p-2",e),...t})}function Qce({className:e,...t}){return s.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Xe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function v9({className:e,...t}){return s.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Xe("flex w-full min-w-0 flex-col gap-1",e),...t})}function b9({className:e,...t}){return s.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Xe("group/menu-item relative",e),...t})}const Zce=$w("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function w9({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o}){const l=e?Iw:"button",{isMobile:d,state:u}=My(),h=s.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":t,className:Xe(Zce({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(Jm,{children:[s.jsx(ep,{asChild:!0,children:h}),s.jsx(tp,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):h}function Jce({user:e}){const{isMobile:t}=My(),r=Cr(),n=yn(),[a,i]=m.useState(!1),[o,l]=m.useState(!1),d=()=>{n.clear(),T8(),i(!1),r("/")};return s.jsxs(s.Fragment,{children:[s.jsx(v9,{children:s.jsx(b9,{children:s.jsxs(Ih,{modal:!1,children:[s.jsx(Fh,{asChild:!0,children:s.jsxs(w9,{size:"lg",className:"hover:bg-white/10 data-[state=open]:bg-white data-[state=open]:hover:bg-white cursor-pointer transition-colors group",children:[s.jsxs(xR,{className:"h-8 w-8 rounded-lg",children:[s.jsx(gR,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),s.jsx(yR,{className:"rounded-lg",children:e==null?void 0:e.avatarName})]}),s.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[s.jsx("span",{className:"truncate font-semibold text-white group-data-[state=open]:text-[#1d398d]",children:e==null?void 0:e.name}),s.jsx("span",{className:"truncate text-xs text-white group-data-[state=open]:text-[#1d398d]/70",children:e==null?void 0:e.email})]}),s.jsx(by,{className:"ml-auto size-4 text-blue-200 group-data-[state=open]:text-[#1d398d]"})]})}),s.jsxs(Lh,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[s.jsx(q7,{className:"p-0 font-normal",children:s.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[s.jsxs(xR,{className:"h-8 w-8 rounded-lg",children:[s.jsx(gR,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),s.jsx(yR,{className:"rounded-lg",children:e==null?void 0:e.avatarName})]}),s.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[s.jsx("span",{className:"truncate font-semibold",children:e==null?void 0:e.name}),s.jsx("span",{className:"truncate text-xs",children:e==null?void 0:e.email})]})]})}),s.jsx(IA,{}),s.jsxs(mn,{onSelect:u=>{u.preventDefault(),l(!0)},className:"cursor-pointer",children:[s.jsx(nJ,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Change Password"})]}),s.jsx(IA,{}),s.jsxs(mn,{onSelect:u=>{u.preventDefault(),console.log("[nav-user.tsx] Logout DropdownMenuItem clicked. Setting showConfirmation to true."),i(!0)},className:"cursor-pointer text-destructive",children:[s.jsx(fA,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Log out"})]})]})]})})}),s.jsx(_8,{isOpen:o,onClose:()=>l(!1)}),s.jsx(v0,{isOpen:a,title:"Confirm Logout",description:"Are you sure you want to log out? You will need to login again to access your account.",cancelLabel:"Cancel",confirmLabel:"Log out",onCancel:()=>i(!1),onConfirm:d})]})}var oN="Collapsible",[ede,mFe]=pa(oN),[tde,t4]=ede(oN),N9=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[d,u]=Do({prop:n,defaultProp:a??!1,onChange:o,caller:oN});return s.jsx(tde,{scope:r,disabled:i,contentId:ii(),open:d,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),children:s.jsx(qt.div,{"data-state":s4(d),"data-disabled":i?"":void 0,...l,ref:t})})});N9.displayName=oN;var j9="CollapsibleTrigger",S9=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=t4(j9,r);return s.jsx(qt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":s4(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:wt(e.onClick,a.onOpenToggle)})});S9.displayName=j9;var r4="CollapsibleContent",E9=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=t4(r4,e.__scopeCollapsible);return s.jsx(na,{present:r||a.open,children:({present:i})=>s.jsx(rde,{...n,ref:t,present:i})})});E9.displayName=r4;var rde=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=t4(r4,r),[l,d]=m.useState(n),u=m.useRef(null),h=Yt(t,u),p=m.useRef(0),g=p.current,y=m.useRef(0),w=y.current,v=o.open||l,N=m.useRef(v),j=m.useRef(void 0);return m.useEffect(()=>{const A=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(A)},[]),Os(()=>{const A=u.current;if(A){j.current=j.current||{transitionDuration:A.style.transitionDuration,animationName:A.style.animationName},A.style.transitionDuration="0s",A.style.animationName="none";const E=A.getBoundingClientRect();p.current=E.height,y.current=E.width,N.current||(A.style.transitionDuration=j.current.transitionDuration,A.style.animationName=j.current.animationName),d(n)}},[o.open,n]),s.jsx(qt.div,{"data-state":s4(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:h,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:v&&a})});function s4(e){return e?"open":"closed"}var sde=N9;function nde({...e}){return s.jsx(sde,{"data-slot":"collapsible",...e})}function ade({...e}){return s.jsx(S9,{"data-slot":"collapsible-trigger",...e})}function ide({...e}){return s.jsx(E9,{"data-slot":"collapsible-content",...e})}const eu={obNavigation:[{title:"Office Bearers",url:"#",icon:hP,isActive:!1,items:[{title:"Chapter Performance",url:"/chapter-performance"},{title:"Customer",url:"/members"},{title:"Visitors",url:"/chapter-visitors"},{title:"Meetings",url:"/chaptermeetings"}]}],roles:{super_admin:{projects:[{title:"Transfers",url:"/admin/transfers",icon:fn,groupLabel:"Master"},{title:"Purchases",url:"/admin/purchases",icon:fn,groupLabel:"Master"},{title:"Depot Varients",url:"/admin/depot-variants",icon:fn,groupLabel:"Master"},{title:"Variant Stock",url:"/admin/variantstock",icon:fn,groupLabel:"Master"},{title:"Wastage",url:"/admin/wastages",icon:fn,groupLabel:"Master"},{title:"Areas",url:"/admin/areamasters",icon:fn,groupLabel:"Master"},{title:"Depots",url:"/admin/depots",icon:fn,groupLabel:"Master"},{title:"Farmers",url:"/admin/vendors",icon:ou,groupLabel:"Master"},{title:"Banners",url:"/admin/banners",icon:dP,groupLabel:"Master"},{title:"Purchase Payments",url:"/admin/purchase-payments",icon:fn,groupLabel:"Master"},{title:"Categories",url:"/admin/categories",icon:fn,groupLabel:"Products"},{title:"Cities",url:"/admin/cities",icon:fn,groupLabel:"Master"},{title:"Locations",url:"/admin/locations",icon:fn,groupLabel:"Master"},{title:"Products",url:"/admin/products",icon:ou,groupLabel:"Products"},{title:"Delivery Agencies",url:"/admin/agencies",icon:ou,groupLabel:"Indraai"},{title:"Supervisors",url:"/admin/supervisors",icon:hP,groupLabel:"Indraai"},{title:"Orders",url:"/admin/orders",icon:ou,groupLabel:"Indraai"},{title:"Subscriptions",url:"/admin/subscriptions",icon:ou,groupLabel:"Indraai"},{title:"Delivery",url:"/admin/delivery",icon:fn,groupLabel:"Indraai"},{title:"Customer",url:"/admin/members",icon:ou,groupLabel:"Member"},{title:"Purchase Order Report",url:"/admin/reports/purchase-orders",icon:Um,groupLabel:"Reports"},{title:"Delivery Agency Report",url:"/admin/reports/delivery-agencies",icon:Um,groupLabel:"Reports"},{title:"Delivery Summaries",url:"/admin/reports/delivery-summaries",icon:Um,groupLabel:"Reports"},{title:"Subscription Reports",url:"/admin/reports/subscriptions",icon:Um,groupLabel:"Reports"}],navMain:[]},admin:{projects:[{title:"Master",url:"#",icon:zJ,groupLabel:"Master",isActive:!1,items:[{title:"Farmer",url:"/admin/vendors",icon:ou}]},{title:"Reports",url:"#",icon:Um,groupLabel:"Reports",isActive:!1,items:[{title:"Purchase Order Report",url:"/admin/reports/purchase-orders"},{title:"Delivery Summaries",url:"/admin/reports/delivery-summaries"}]}],navMain:[]},member:{projects:[{title:"References",url:"/references",icon:eS,groupLabel:"References",isActive:!1,items:[]},{title:"Done Deals",url:"/member/done-deal",icon:fn,groupLabel:"Done Deals",isActive:!1,items:[]},{title:"One To Ones",url:"/member/one-to-ones",groupLabel:"One To Ones",icon:eS,isActive:!1,items:[]},{title:"Requirements",url:"/member/requirements",icon:eS,groupLabel:"Requirements",isActive:!1,items:[{title:"Requirements",url:"/member/requirements"},{title:"View Requirements",url:"/member/viewrequirements"}]}],navMain:[]},VENDOR:{projects:[{title:"Orders",url:"/admin/orders",icon:fn,groupLabel:"Farmer Portal"}],navMain:[]},DepotAdmin:{projects:[{title:"Purchases",url:"/admin/purchases",icon:fn,groupLabel:"Depot"},{title:"Wastage",url:"/admin/wastages",icon:fn,groupLabel:"Depot"},{title:"Depot Variants",url:"/admin/depot-variants",icon:fn,groupLabel:"Depot"},{title:"Transfers",url:"/admin/transfers",icon:fn,groupLabel:"Depot"}],navMain:[]},AGENCY:{projects:[{title:"Orders",url:"/admin/orders",icon:fn,groupLabel:"Agency Portal"},{title:"Delivery",url:"/admin/delivery",icon:fn,groupLabel:"Agency Portal"}],navMain:[]},SUPERVISOR:{projects:[{title:"Orders",url:"/admin/orders",icon:fn,groupLabel:"Supervisor Portal"}],navMain:[]}},user:{name:"",email:"",avatar:"",avatarName:""},teams:[{name:"Acme Inc",logo:dP,plan:"Enterprise"},{name:"Acme Corp.",logo:tZ,plan:"Startup"},{name:"Evil Corp.",logo:OZ,plan:"Free"}]};function ode(e){const{pathname:t}=Ga(),[r,n]=m.useState({...eu,projects:[],navMain:[],obNav:[],isOB:!1}),[a,i]=m.useState({});m.useEffect(()=>{var p;const d=localStorage.getItem("user"),u=localStorage.getItem("roles");let h=!1;if(u&&u!=="undefined"&&u.trim()!=="")try{const g=JSON.parse(u);Array.isArray(g)&&(h=g.some(y=>y.role==="OB"&&y.chapters&&y.chapters.length>0))}catch(g){console.error("Failed to parse roles from localStorage",g),localStorage.removeItem("roles")}if(d)try{const g=JSON.parse(d);g.avatarName=((p=g.name)==null?void 0:p.charAt(0).toUpperCase())||"U";let y=g.role||"admin";eu.roles[y]||(y="super_admin");const w=eu.roles[y];n(j=>({...j,projects:(w==null?void 0:w.projects)||[],navMain:(w==null?void 0:w.navMain)||[],user:g,obNav:h?eu.obNavigation:[],isOB:h}));const N=[...new Set(w==null?void 0:w.projects.map(j=>j.groupLabel))].reduce((j,A)=>(j[A]=!0,j),{});i(N)}catch(g){console.error("Failed to parse user from localStorage",g),n(y=>({...y,projects:eu.roles.super_admin.projects,navMain:eu.roles.super_admin.navMain,obNav:[],isOB:!1}))}else n(g=>({...g,projects:eu.roles.super_admin.projects,navMain:eu.roles.super_admin.navMain,obNav:[],isOB:!1}))},[]);const o=d=>{i(u=>({...u,[d]:!u[d]}))},l=r.projects.reduce((d,u)=>{const h=u.groupLabel||"Other";return d[h]||(d[h]=[]),d[h].push(u),d},{});return s.jsxs(Hce,{collapsible:"icon",...e,className:"bg-[#1d398d] border-r border-[#1d398d]/80",children:[s.jsx(Kce,{className:"border-b border-[#1d398d]/30 bg-[#1d398d]",children:s.jsx(v9,{className:"flex",children:s.jsx(b9,{children:s.jsx(w9,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-2 hover:bg-white/10 transition-colors rounded-lg",children:s.jsx("div",{className:"flex items-center gap-2 justify-between",children:s.jsxs(Mr,{to:"/",className:"flex items-center gap-2",children:[s.jsx(wZ,{className:"h-5 w-5 text-white"}),s.jsx("span",{className:"text-sm font-medium text-white",children:vg})]})})})})})}),s.jsxs(Qce,{className:"space-y-1 overflow-y-auto [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden bg-[#1d398d]",children:[r.isOB&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"px-3 py-2 text-xs font-medium text-blue-200 border-b border-[#1d398d]/30 mb-2",children:"Office Bearer Menu"}),r.obNav.map(d=>{var u;return s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"px-3 py-2 text-sm font-medium text-blue-200 flex items-center gap-2",children:[s.jsx(d.icon,{className:"h-4 w-4 text-blue-300"}),d.title]}),s.jsx("div",{className:"ml-6",children:(u=d.items)==null?void 0:u.map(h=>s.jsx(Mr,{to:h.url,className:Xe("block w-full px-3 py-2 text-sm transition-colors",t===h.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:h.title},h.url))})]},d.title)})]}),s.jsx("div",{className:"space-y-2",children:Object.entries(l).map(([d,u])=>s.jsx("div",{className:"mb-2",children:s.jsxs(nde,{open:a[d],onOpenChange:()=>o(d),children:[s.jsx(ade,{className:"w-full",children:s.jsxs("div",{className:"px-3 py-2 flex items-center justify-between text-sm font-medium text-blue-200 hover:bg-white/10 cursor-pointer transition-colors rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ri,{className:`h-4 w-4 transition-transform text-blue-300 ${a[d]?"rotate-0":"-rotate-90"}`}),s.jsx("span",{children:d})]}),s.jsx("span",{className:"text-xs text-blue-100 bg-white/20 px-2 py-1 rounded-full font-medium",children:u.length})]})}),s.jsx(ide,{children:s.jsx("div",{className:"ml-6 mt-1",children:u.map(h=>s.jsxs(Mr,{to:h.url,className:Xe("flex items-center gap-2 px-3 py-2 text-sm transition-colors",t===h.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:[h.icon&&s.jsx(h.icon,{className:Xe("h-4 w-4 flex-shrink-0",t===h.url?"text-[#1d398d]":"text-blue-200")}),s.jsx("span",{children:h.title})]},h.url))})})]})},d))}),r.navMain.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-3 py-2 text-xs font-medium text-blue-200 border-b border-[#1d398d]/30 mt-4 mb-2",children:"Management"}),r.navMain.map(d=>s.jsxs(Mr,{to:d.url,className:Xe("flex items-center gap-2 w-full px-3 py-2 text-sm transition-colors",t===d.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:[d.icon&&s.jsx(d.icon,{className:Xe("h-4 w-4",t===d.url?"text-[#1d398d]":"text-blue-200")}),s.jsx("span",{children:d.title})]},d.url))]})]}),s.jsx(Xce,{className:"border-t border-[#1d398d]/30 bg-[#1d398d]",children:s.jsx(Jce,{user:r.user})}),s.jsx(Gce,{})]})}const A9=()=>{const[e,t]=m.useState(!1),r=Ga();return m.useEffect(()=>{const n=localStorage.getItem("user");t(!!n)},[r.pathname]),s.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white  border-t  shadow-lg z-50",children:s.jsxs("div",{className:"flex justify-around py-2",children:[s.jsxs(Hx,{to:"/",end:!0,className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(pT,{size:24}),s.jsx("span",{className:"text-xs",children:"Home"})]}),e&&s.jsxs(Hx,{to:"/member/products",className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(lh,{size:24}),s.jsx("span",{className:"text-xs",children:"Products"})]}),s.jsxs(Hx,{to:e?"/member/subscriptions":"/login",className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(Pw,{size:24}),s.jsx("span",{className:"text-xs",children:e?"My Subscription":"Login"})]}),s.jsxs(Hx,{to:"/about",className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(ZF,{size:24}),s.jsx("span",{className:"text-xs",children:"Menu"})]})]})})};function NR(){const e=Cr(),[t,r]=m.useState(()=>{const u=localStorage.getItem("theme");return u?u==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});m.useEffect(()=>{document.documentElement.classList.toggle("dark",t)},[t]);const n=localStorage.getItem("user"),a=n?JSON.parse(n):null;m.useEffect(()=>{const u=window.matchMedia("(prefers-color-scheme: dark)"),h=p=>{localStorage.getItem("theme")||r(p.matches)};return u.addEventListener("change",h),()=>u.removeEventListener("change",h)},[]);const i=Ga(),o=()=>{const u=!t;r(u),localStorage.setItem("theme",u?"dark":"light")},[l,d]=m.useState(void 0);return m.useEffect(()=>{var p;const u=localStorage.getItem("user"),h=u?JSON.parse(u):null;d(((p=h==null?void 0:h.role)==null?void 0:p.toString().toUpperCase())||void 0)},[i.pathname]),s.jsxs(zce,{children:[s.jsx(ode,{}),s.jsxs(Yce,{children:[s.jsx("header",{className:"bg-blue-900 sticky top-0 z-20 flex h-16 shrink-0 items-center border-b bg-background shadow-sm transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-13 -ml-[1px] -mt-0",children:s.jsxs("div",{className:"flex items-center justify-between w-full px-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Wce,{className:"text-white -ml-1"}),s.jsx(pe,{onClick:()=>e(-1),children:"Back"}),s.jsxs("h1",{className:"text-white",children:["Welcome, ",a==null?void 0:a.name," ",s.jsxs("span",{className:"text-blue-200 text-sm",children:["(",a==null?void 0:a.role,")"]})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(pe,{onClick:o,className:"text-white size-7 cursor-pointer",variant:"ghost",size:"icon","aria-label":"Toggle Dark Mode",children:t?s.jsx(bJ,{}):s.jsx(YJ,{})})})]})}),s.jsx("main",{className:"pt-2",children:s.jsx(uT,{})})]}),l==="MEMBER"&&s.jsx(A9,{})]})}const lde=()=>{console.log("[AuthDebug] useAuth called");const e=localStorage.getItem("authToken"),t=localStorage.getItem("user");if(console.log("[AuthDebug] Token from localStorage:",e),console.log("[AuthDebug] User string from localStorage:",t),e&&t)try{const r=JSON.parse(t);if(console.log("[AuthDebug] Parsed user object:",r),console.log("[AuthDebug] Parsed user role:",r==null?void 0:r.role),r&&typeof r.role=="string"){const n={isAuthenticated:!0,user:r};return console.log("[AuthDebug] useAuth returning (authenticated):",n),n}else{console.error("[AuthDebug] AuthCheck: Parsed user is invalid or role is missing/not a string.",r);const n={isAuthenticated:!1,user:null};return console.log("[AuthDebug] useAuth returning (unauthenticated - bad user data):",n),n}}catch(r){console.error("[AuthDebug] AuthCheck: Failed to parse user from localStorage. Error:",r),console.log("[AuthDebug] Raw userString that failed parsing:",t);const n={isAuthenticated:!1,user:null};return console.log("[AuthDebug] useAuth returning (unauthenticated - parse error):",n),n}else return console.log("[AuthDebug] useAuth returning (unauthenticated - token or userString missing)"),{isAuthenticated:!1,user:null}},cde=({children:e})=>{const{isAuthenticated:t,user:r}=lde();return!t||(r==null?void 0:r.role)==="MEMBER"?s.jsx(YX,{to:"/",replace:!0}):s.jsx(s.Fragment,{children:e})},dde=15e3;function ude({isLoggedIn:e}){const t=Cr(),[r,n]=m.useState(null),[a,i]=m.useState(!0),[o,l]=m.useState(null);return m.useEffect(()=>{if(!e)return;let d=!0;const u=async()=>{var p,g;i(!0),l(null);try{const y=await xt("/wallet");let w;y&&y.data&&typeof y.data.balance=="number"?w=y.data.balance:typeof y.balance=="number"&&(w=y.balance),d&&(typeof w=="number"?n(w):(console.warn("Unexpected response structure for wallet balance:",y),l("Failed to fetch balance: unexpected data format."),n(0)))}catch(y){if(d){console.error("Failed to fetch wallet balance:",y);const w=((g=(p=y.response)==null?void 0:p.data)==null?void 0:g.message)||y.message||"Failed to fetch wallet balance";l(w),ce.error(w),n(0)}}finally{d&&i(!1)}};u();const h=setInterval(u,dde);return()=>{d=!1,clearInterval(h)}},[e]),e?a?s.jsxs(pe,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg",disabled:!0,children:[s.jsx(Fr,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{className:"font-medium",children:"Loading..."})]}):o&&r===0?s.jsxs(pe,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-destructive text-destructive rounded-lg hover:bg-destructive/10",title:o,onClick:()=>{},children:[s.jsx(Wc,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Error"})]}):s.jsxs(Ih,{children:[s.jsx(Fh,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[s.jsx(Wc,{className:"w-5 h-5 text-orange-500"}),s.jsxs("span",{className:"font-medium",children:["₹",r!==null?r.toFixed(2):"N/A"]}),s.jsx(ri,{className:"w-4 h-4 text-gray-500"})]})}),s.jsxs(Lh,{className:"w-56",align:"end",children:[s.jsxs(q7,{className:"flex items-center gap-2",children:[s.jsx(Wc,{className:"w-4 h-4"}),"Wallet Balance: ₹",r!==null?r.toFixed(2):"N/A"]}),s.jsx(IA,{}),s.jsxs(mn,{onClick:()=>t("/member/wallet"),className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(En,{className:"w-4 h-4"}),"Add Money"]})]})]}):null}const fde="/assets/Sarkhot-Natural-Farms-Png-DTJXlgmL.webp",hde="/assets/WhatsApp%20Image%202025-06-24%20at%2018.32.39%20(1)%20(1)-M5cSOnyy.png",C9=({isLoggedIn:e,userName:t,onLogout:r,showWallet:n})=>{const a=m.useRef(null),[i,o]=m.useState(!1),[l,d]=m.useState(!1),[u,h]=m.useState(!0),[p,g]=m.useState(!1),[y,w]=m.useState(!1),[v,N]=m.useState(()=>{try{const S=localStorage.getItem("user");return S?JSON.parse(S).role:null}catch(S){return console.error("Failed to parse user data from localStorage on init",S),null}}),j=m.useRef(0),A=m.useRef(null);m.useEffect(()=>{try{const S=localStorage.getItem("user"),_=S?JSON.parse(S).role:null;N(_)}catch(S){console.error("Failed to parse user data from localStorage in effect",S),N(null)}},[e]);const E=[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Bharwad Cow",path:"/bharwadcow"},{name:"Products",path:"/member/products/1"},{name:"Contact Us",path:"/contact"}];return m.useEffect(()=>{const S=()=>{const _=window.scrollY;h(!0),g(_>10),j.current=_};return window.addEventListener("scroll",S,{passive:!0}),()=>window.removeEventListener("scroll",S)},[]),m.useEffect(()=>{const S=()=>{if(a.current){const _=a.current.offsetHeight;document.documentElement.style.setProperty("--header-height",`${_}px`)}};return S(),window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S),document.documentElement.style.removeProperty("--header-height")}},[e,t,i,p]),s.jsxs("header",{ref:a,className:`fixed top-0 w-full z-50 transition-all duration-500 ease-out ${u?"translate-y-0":"-translate-y-full"} ${p?"shadow-lg":"shadow-sm"} pt-[env(safe-area-inset-top)]`,children:[s.jsx("div",{className:"bg-white transition-colors duration-300",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-2.5",children:[s.jsx(Mr,{to:"/",className:"flex items-center",children:s.jsx("img",{src:hde,alt:"Logo",className:"h-8 sm:h-10 w-auto object-contain mr-2"})}),s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx("a",{href:"/","aria-label":"Sarkhot Logo",className:"hidden sm:inline-flex",children:s.jsx("img",{src:fde,alt:"Sarkhot Logo",className:"h-8 w-auto object-contain"})}),s.jsx("a",{target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",href:"https://www.facebook.com/sarkhotnaturalfarms",className:"hidden sm:inline-flex text-gray-500 hover:text-green-600 transition-colors",children:s.jsx(qZ,{size:18})}),s.jsx("a",{target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",href:"https://www.instagram.com/sarkhotnaturalfarms/",className:"hidden sm:inline-flex text-gray-500 hover:text-amber-600 transition-colors",children:s.jsx(eJ,{size:18})}),s.jsx("span",{className:"hidden sm:block border-l border-gray-300 h-6 mx-2"}),e?s.jsxs("div",{className:"relative",onMouseEnter:()=>{A.current&&clearTimeout(A.current),d(!0)},onMouseLeave:()=>{A.current=setTimeout(()=>{d(!1)},200)},children:[s.jsxs("button",{className:"flex items-center text-sm text-gray-700 hover:text-green-600 transition-colors",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-amber-500 rounded-full p-0.5 mr-1",children:s.jsx(tS,{size:18,className:"text-white bg-gray-100 rounded-full"})}),s.jsx("span",{className:"hidden sm:inline",children:"Account"})]}),l&&r&&s.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-100",onMouseEnter:()=>{A.current&&clearTimeout(A.current)},onMouseLeave:()=>{A.current=setTimeout(()=>{d(!1)},200)},children:[t&&s.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Signed in as"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:t})]}),v!=="ADMIN"&&s.jsxs(Mr,{to:"/member/subscriptions",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",onClick:()=>d(!1),children:[s.jsx(uP,{size:16,className:"mr-2 text-green-600"}),"My Subscriptions"]}),v==="MEMBER"&&s.jsxs(Mr,{to:"/member/addresses",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",onClick:()=>d(!1),children:[s.jsx(uP,{size:16,className:"mr-2 text-green-600"}),"Manage Address"]}),v==="MEMBER"&&s.jsxs("button",{onClick:()=>{w(!0),d(!1)},className:"w-full flex items-center text-left px-4 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",children:[s.jsx(rJ,{size:16,className:"mr-2 text-green-600"}),"Change Password"]}),s.jsxs("button",{onClick:()=>{r(),d(!1)},className:"w-full flex items-center text-left px-4 py-2 text-sm text-gray-700 hover:bg-red-50 transition-colors",children:[s.jsx(fA,{size:16,className:"mr-2 text-red-500"}),"Sign out"]})]})]}):s.jsxs(Mr,{to:"/login",className:"text-sm text-gray-700 hover:text-green-600 transition-colors flex items-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-amber-500 rounded-full p-0.5 mr-1",children:s.jsx(tS,{size:18,className:"text-white bg-gray-100 rounded-full"})}),s.jsx("span",{className:"hidden sm:inline",children:"Account"})]})]})]})})}),s.jsx("div",{className:"bg-primary transition-colors duration-300",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-2.5 sm:py-3",children:[s.jsx("div",{className:"hidden md:flex space-x-6 items-center",children:E.map(S=>s.jsxs(Mr,{to:S.path,className:"text-white font-semibold hover:text-white/90 transition-colors relative group",children:[S.name,s.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"})]},S.name))}),s.jsx("div",{className:"flex items-center space-x-3 sm:space-x-4",children:n&&s.jsx(ude,{isLoggedIn:e})}),s.jsx("div",{className:"md:hidden flex items-center",children:s.jsx("button",{onClick:()=>o(!i),className:`p-2 rounded-full transition-colors text-white hover:bg-white/20 ${i?"bg-white/20":""}`,"aria-label":i?"Close menu":"Open menu",children:i?s.jsx(ai,{size:24}):s.jsx(ZF,{size:24})})})]})})}),i&&s.jsx("div",{className:"md:hidden bg-white border-t border-gray-200 shadow-inner max-h-[calc(100vh-var(--header-height))] overflow-y-auto overscroll-contain",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 space-y-2",children:[s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"search",placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full text-sm focus:ring-2 focus:ring-green-300 focus:border-green-500"}),s.jsx(qs,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),E.map(S=>s.jsxs(Mr,{to:S.path,className:"block py-3 px-4 text-gray-700 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex items-center group",onClick:()=>o(!1),children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),S.name]},S.name)),e&&r?s.jsxs("button",{onClick:()=>{r(),o(!1)},className:"w-full text-left block py-3 px-4 text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors flex items-center group",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(fA,{size:16,className:"mr-2"})," Sign out"]}):s.jsxs(Mr,{to:"/login",className:"block py-3 px-4 text-gray-700 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex items-center group",onClick:()=>o(!1),children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(tS,{size:16,className:"mr-2"})," Account"]})]})}),s.jsx(_8,{isOpen:y,onClose:()=>w(!1)})]})};function $A({children:e}){var v;const t=Ga(),r=Cr(),[n,a]=m.useState(()=>{const N=localStorage.getItem("theme");return N?N==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),i=localStorage.getItem("user"),o=i?JSON.parse(i):null,l=((v=o==null?void 0:o.role)==null?void 0:v.toString().toUpperCase())||void 0,[d,u]=m.useState(!!o),h=(o==null?void 0:o.name)||(o==null?void 0:o.username)||(o==null?void 0:o.email),[p,g]=m.useState(h),y=d&&l==="MEMBER";m.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]),m.useEffect(()=>{const N=()=>{const j=localStorage.getItem("user"),A=j?JSON.parse(j):null;u(!!A),g((A==null?void 0:A.name)||(A==null?void 0:A.username)||(A==null?void 0:A.email)||null)};return window.addEventListener("storage",N),N(),()=>{window.removeEventListener("storage",N)}},[t.pathname]),m.useEffect(()=>{if(!o||t.pathname.startsWith("/member/products"))return;const N=async()=>{try{const j=await xt("/products");let A=[];if(Array.isArray(j)?A=j:j&&j.data&&Array.isArray(j.data)&&(A=j.data),A.length>0){const E=A[0].id;r(`/member/products/${E}`)}else r("/member/products")}catch(j){console.error("Failed to fetch products for redirect:",j),r("/member/products")}};t.pathname==="/dashboard"&&N()},[o,r,t.pathname]),m.useEffect(()=>{const N=window.matchMedia("(prefers-color-scheme: dark)"),j=A=>{localStorage.getItem("theme")||a(A.matches)};return N.addEventListener("change",j),()=>N.removeEventListener("change",j)},[]);const w=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("roles"),localStorage.removeItem("memberId"),ce.success("You have been logged out"),r("/")};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx(C9,{isLoggedIn:d,userName:p,onLogout:w,showWallet:y}),s.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 pb-8",style:{paddingTop:"var(--header-height)"},children:e||s.jsx(uT,{})}),s.jsx(mde,{}),l==="MEMBER"&&s.jsx(A9,{})]})}const mde=()=>s.jsxs("footer",{className:"bg-slate-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-8 gap-y-10",children:[s.jsxs("div",{className:"md:col-span-12 lg:col-span-4",children:[s.jsxs("div",{className:"mb-6 flex items-center",children:[s.jsx(oh,{className:"h-10 w-10 text-green-600 mr-3"}),s.jsx("span",{className:"text-2xl font-bold text-green-700 dark:text-green-500",children:"Sarkhot Natural Farms"})]}),s.jsxs("p",{className:"text-sm mb-6 leading-relaxed",children:["Sarkhot Natural farms denote the community of natural farmers. Natural means"," ",s.jsx("span",{className:"font-semibold text-red-500",children:"💯%"})," chemical free, preservative free and poison free."]}),s.jsx("h3",{className:"text-[0.9rem] font-semibold mb-3 text-gray-600 dark:text-gray-400",children:"Payment Accepted"}),s.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:["Mastercard","Discover","BitPay","Visa","Stripe"].map(e=>s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-md shadow-sm",children:e},e))})]}),s.jsx("div",{className:"hidden lg:block lg:col-span-1"}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Policies"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/privacy-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/refund-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Refund and Returns Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/shipping-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Shipping and delivery policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/terms-and-conditions",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Terms and Conditions"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Useful Links"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx("a",{href:"/member/products/1",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Products"})}),s.jsx("li",{children:s.jsx("a",{href:"/about",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx("a",{href:"/contact",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Contact Us"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-3",children:[s.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Contact"}),s.jsxs("address",{className:"text-sm not-italic space-y-2 leading-relaxed",children:[s.jsx("p",{children:"Sarkhot Natural Farms, Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East - 421201"}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:"Landmark"})," ","- Near Brahman Sabha hall."]}),s.jsx("p",{children:s.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors break-all",children:"sarkhotnaturalfarms@gmail.com"})}),s.jsx("p",{children:s.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"+91 9920999100"})})]})]})]})}),s.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 py-4 border-t border-gray-300 dark:border-gray-700",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("p",{className:"mb-2 md:mb-0 text-center md:text-left",children:["© ",new Date().getFullYear()," Sarkhot Natural Farms. All Rights Reserved."]}),s.jsxs("p",{className:"text-center md:text-right",children:["Powered by"," ",s.jsx("a",{href:"https://sanmisha.com/",className:"font-semibold text-green-700 dark:text-green-500 hover:underline",children:"Sanmisha Technologies"})]})]})})]});var pde="DismissableLayer",UA="dismissableLayer.update",xde="dismissableLayer.pointerDownOutside",gde="dismissableLayer.focusOutside",jR,T9=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_9=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=m.useContext(T9),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),w=Yt(t,T=>p(T)),v=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=v.indexOf(N),A=h?v.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,S=A>=j,_=bde(T=>{const O=T.target,P=[...u.branches].some(I=>I.contains(O));!S||P||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),k=wde(T=>{const O=T.target;[...u.branches].some(I=>I.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return f0(T=>{A===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jR=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),SR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=jR)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),SR())},[h,u]),m.useEffect(()=>{const T=()=>y({});return document.addEventListener(UA,T),()=>document.removeEventListener(UA,T)},[]),s.jsx(qt.div,{...d,ref:w,style:{pointerEvents:E?S?"auto":"none":void 0,...e.style},onFocusCapture:wt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:wt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:wt(e.onPointerDownCapture,_.onPointerDownCapture)})});_9.displayName=pde;var yde="DismissableLayerBranch",vde=m.forwardRef((e,t)=>{const r=m.useContext(T9),n=m.useRef(null),a=Yt(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(qt.div,{...e,ref:a})});vde.displayName=yde;function bde(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let d=function(){k9(xde,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function wde(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&k9(gde,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function SR(){const e=new CustomEvent(UA);document.dispatchEvent(e)}function k9(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?x0(a,i):a.dispatchEvent(i)}var jS="focusScope.autoFocusOnMount",SS="focusScope.autoFocusOnUnmount",ER={bubbles:!1,cancelable:!0},Nde="FocusScope",D9=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,d]=m.useState(null),u=Zr(a),h=Zr(i),p=m.useRef(null),g=Yt(t,v=>d(v)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(E){if(y.paused||!l)return;const S=E.target;l.contains(S)?p.current=S:du(p.current,{select:!0})},N=function(E){if(y.paused||!l)return;const S=E.relatedTarget;S!==null&&(l.contains(S)||du(p.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const _ of E)_.removedNodes.length>0&&du(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",N);const A=new MutationObserver(j);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",N),A.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){CR.add(y);const v=document.activeElement;if(!l.contains(v)){const j=new CustomEvent(jS,ER);l.addEventListener(jS,u),l.dispatchEvent(j),j.defaultPrevented||(jde(Tde(O9(l)),{select:!0}),document.activeElement===v&&du(l))}return()=>{l.removeEventListener(jS,u),setTimeout(()=>{const j=new CustomEvent(SS,ER);l.addEventListener(SS,h),l.dispatchEvent(j),j.defaultPrevented||du(v??document.body,{select:!0}),l.removeEventListener(SS,h),CR.remove(y)},0)}}},[l,u,h,y]);const w=m.useCallback(v=>{if(!r&&!n||y.paused)return;const N=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,j=document.activeElement;if(N&&j){const A=v.currentTarget,[E,S]=Sde(A);E&&S?!v.shiftKey&&j===S?(v.preventDefault(),r&&du(E,{select:!0})):v.shiftKey&&j===E&&(v.preventDefault(),r&&du(S,{select:!0})):j===A&&v.preventDefault()}},[r,n,y.paused]);return s.jsx(qt.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});D9.displayName=Nde;function jde(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(du(n,{select:t}),document.activeElement!==r)return}function Sde(e){const t=O9(e),r=AR(t,e),n=AR(t.reverse(),e);return[r,n]}function O9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function AR(e,t){for(const r of e)if(!Ede(r,{upTo:t}))return r}function Ede(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ade(e){return e instanceof HTMLInputElement&&"select"in e}function du(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ade(e)&&t&&e.select()}}var CR=Cde();function Cde(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=TR(e,t),e.unshift(t)},remove(t){var r;e=TR(e,t),(r=e[0])==null||r.resume()}}}function TR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Tde(e){return e.filter(t=>t.tagName!=="A")}var _de="Portal",P9=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=m.useState(!1);Os(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?pd.createPortal(s.jsx(qt.div,{...n,ref:t}),o):null});P9.displayName=_de;function kde(e){const t=Dde(e),r=m.forwardRef((n,a)=>{const{children:i,...o}=n,l=m.Children.toArray(i),d=l.find(Pde);if(d){const u=d.props.children,h=l.map(p=>p===d?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return s.jsx(t,{...o,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Dde(e){const t=m.forwardRef((r,n)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const o=Mde(a),l=Rde(i,a.props);return a.type!==m.Fragment&&(l.ref=n?xd(n,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var R9=Symbol("radix.slottable");function Ode(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=R9,t}function Pde(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===R9}function Rde(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Mde(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lN="Dialog",[M9,I9]=pa(lN),[Ide,yl]=M9(lN),F9=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),d=m.useRef(null),[u,h]=Do({prop:n,defaultProp:a??!1,onChange:i,caller:lN});return s.jsx(Ide,{scope:t,triggerRef:l,contentRef:d,contentId:ii(),titleId:ii(),descriptionId:ii(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:o,children:r})};F9.displayName=lN;var L9="DialogTrigger",B9=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=yl(L9,r),i=Yt(t,a.triggerRef);return s.jsx(qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":i4(a.open),...n,ref:i,onClick:wt(e.onClick,a.onOpenToggle)})});B9.displayName=L9;var n4="DialogPortal",[Fde,$9]=M9(n4,{forceMount:void 0}),U9=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=yl(n4,t);return s.jsx(Fde,{scope:t,forceMount:r,children:m.Children.map(n,o=>s.jsx(na,{present:r||i.open,children:s.jsx(P9,{asChild:!0,container:a,children:o})}))})};U9.displayName=n4;var q1="DialogOverlay",V9=m.forwardRef((e,t)=>{const r=$9(q1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=yl(q1,e.__scopeDialog);return i.modal?s.jsx(na,{present:n||i.open,children:s.jsx(Bde,{...a,ref:t})}):null});V9.displayName=q1;var Lde=kde("DialogOverlay.RemoveScroll"),Bde=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=yl(q1,r);return s.jsx(ef,{as:Lde,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(qt.div,{"data-state":i4(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ph="DialogContent",q9=m.forwardRef((e,t)=>{const r=$9(ph,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=yl(ph,e.__scopeDialog);return s.jsx(na,{present:n||i.open,children:i.modal?s.jsx($de,{...a,ref:t}):s.jsx(Ude,{...a,ref:t})})});q9.displayName=ph;var $de=m.forwardRef((e,t)=>{const r=yl(ph,e.__scopeDialog),n=m.useRef(null),a=Yt(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return kh(i)},[]),s.jsx(z9,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:wt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:wt(e.onFocusOutside,i=>i.preventDefault())})}),Ude=m.forwardRef((e,t)=>{const r=yl(ph,e.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return s.jsx(z9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),z9=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=yl(ph,r),d=m.useRef(null),u=Yt(t,d);return Ey(),s.jsxs(s.Fragment,{children:[s.jsx(D9,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(_9,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":i4(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(qde,{titleId:l.titleId}),s.jsx(Hde,{contentRef:d,descriptionId:l.descriptionId})]})]})}),a4="DialogTitle",H9=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=yl(a4,r);return s.jsx(qt.h2,{id:a.titleId,...n,ref:t})});H9.displayName=a4;var W9="DialogDescription",G9=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=yl(W9,r);return s.jsx(qt.p,{id:a.descriptionId,...n,ref:t})});G9.displayName=W9;var Y9="DialogClose",K9=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=yl(Y9,r);return s.jsx(qt.button,{type:"button",...n,ref:t,onClick:wt(e.onClick,()=>a.onOpenChange(!1))})});K9.displayName=Y9;function i4(e){return e?"open":"closed"}var X9="DialogTitleWarning",[Vde,Q9]=uL(X9,{contentName:ph,titleName:a4,docsSlug:"dialog"}),qde=({titleId:e})=>{const t=Q9(X9),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},zde="DialogDescriptionWarning",Hde=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Q9(zde).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Wde=F9,Gde=B9,Yde=U9,Kde=V9,Xde=q9,Qde=H9,Zde=G9,Z9=K9,J9="AlertDialog",[Jde,pFe]=pa(J9,[I9]),gd=I9(),eB=e=>{const{__scopeAlertDialog:t,...r}=e,n=gd(t);return s.jsx(Wde,{...n,...r,modal:!0})};eB.displayName=J9;var eue="AlertDialogTrigger",tB=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=gd(r);return s.jsx(Gde,{...a,...n,ref:t})});tB.displayName=eue;var tue="AlertDialogPortal",rB=e=>{const{__scopeAlertDialog:t,...r}=e,n=gd(t);return s.jsx(Yde,{...n,...r})};rB.displayName=tue;var rue="AlertDialogOverlay",sB=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=gd(r);return s.jsx(Kde,{...a,...n,ref:t})});sB.displayName=rue;var xp="AlertDialogContent",[sue,nue]=Jde(xp),aue=Ode("AlertDialogContent"),nB=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=gd(r),o=m.useRef(null),l=Yt(t,o),d=m.useRef(null);return s.jsx(Vde,{contentName:xp,titleName:aB,docsSlug:"alert-dialog",children:s.jsx(sue,{scope:r,cancelRef:d,children:s.jsxs(Xde,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:wt(a.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=d.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(aue,{children:n}),s.jsx(oue,{contentRef:o})]})})})});nB.displayName=xp;var aB="AlertDialogTitle",iB=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=gd(r);return s.jsx(Qde,{...a,...n,ref:t})});iB.displayName=aB;var oB="AlertDialogDescription",lB=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=gd(r);return s.jsx(Zde,{...a,...n,ref:t})});lB.displayName=oB;var iue="AlertDialogAction",cB=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=gd(r);return s.jsx(Z9,{...a,...n,ref:t})});cB.displayName=iue;var dB="AlertDialogCancel",uB=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=nue(dB,r),i=gd(r),o=Yt(t,a);return s.jsx(Z9,{...i,...n,ref:o})});uB.displayName=dB;var oue=({contentRef:e})=>{const t=`\`${xp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${xp}\` by passing a \`${oB}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${xp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},lue=eB,cue=tB,due=rB,uue=sB,fue=nB,hue=cB,mue=uB,pue=iB,xue=lB;function Ln({...e}){return s.jsx(lue,{"data-slot":"alert-dialog",...e})}function Bh({...e}){return s.jsx(cue,{"data-slot":"alert-dialog-trigger",...e})}function gue({...e}){return s.jsx(due,{"data-slot":"alert-dialog-portal",...e})}function yue({className:e,...t}){return s.jsx(uue,{"data-slot":"alert-dialog-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Bn({className:e,...t}){return s.jsxs(gue,{children:[s.jsx(yue,{}),s.jsx(fue,{"data-slot":"alert-dialog-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function $n({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:Xe("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Un({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:Xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Vn({className:e,...t}){return s.jsx(pue,{"data-slot":"alert-dialog-title",className:Xe("text-lg font-semibold",e),...t})}function qn({className:e,...t}){return s.jsx(xue,{"data-slot":"alert-dialog-description",className:Xe("text-muted-foreground text-sm",e),...t})}function aa({className:e,...t}){return s.jsx(hue,{className:Xe(zp(),e),...t})}function zn({className:e,...t}){return s.jsx(mue,{className:Xe(zp({variant:"outline"}),e),...t})}function os(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Zi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ua(e,t){const r=os(e);return isNaN(t)?Zi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function fl(e,t){const r=os(e);if(isNaN(t))return Zi(e,NaN);if(!t)return r;const n=r.getDate(),a=Zi(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const o4=6048e5,vue=864e5,fB=6e4,hB=36e5;let bue={};function Iy(){return bue}function rc(e,t){var l,d,u,h;const r=Iy(),n=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,a=os(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function xh(e){return rc(e,{weekStartsOn:1})}function mB(e){const t=os(e),r=t.getFullYear(),n=Zi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=xh(n),i=Zi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=xh(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Yc(e){const t=os(e);return t.setHours(0,0,0,0),t}function z1(e){const t=os(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ql(e,t){const r=Yc(e),n=Yc(t),a=+r-z1(r),i=+n-z1(n);return Math.round((a-i)/vue)}function wue(e){const t=mB(e),r=Zi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),xh(r)}function VA(e,t){const r=t*7;return ua(e,r)}function Nue(e,t){return fl(e,t*12)}function jue(e){let t;return e.forEach(function(r){const n=os(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Sue(e){let t;return e.forEach(r=>{const n=os(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Si(e,t){const r=Yc(e),n=Yc(t);return+r==+n}function l4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Eue(e){if(!l4(e)&&typeof e!="number")return!1;const t=os(e);return!isNaN(Number(t))}function zg(e,t){const r=os(e),n=os(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Aue(e,t,r){const n=rc(e,r),a=rc(t,r),i=+n-z1(n),o=+a-z1(a);return Math.round((i-o)/o4)}function c4(e){const t=os(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ti(e){const t=os(e);return t.setDate(1),t.setHours(0,0,0,0),t}function pB(e){const t=os(e),r=Zi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function d4(e,t){var l,d,u,h;const r=Iy(),n=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,a=os(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function xB(e){return d4(e,{weekStartsOn:1})}const Cue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tue=(e,t,r)=>{let n;const a=Cue[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ES(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const _ue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Due={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Oue={date:ES({formats:_ue,defaultWidth:"full"}),time:ES({formats:kue,defaultWidth:"full"}),dateTime:ES({formats:Due,defaultWidth:"full"})},Pue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rue=(e,t,r,n)=>Pue[e];function Ox(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Mue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Iue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Bue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$ue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uue=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Vue={ordinalNumber:Uue,era:Ox({values:Mue,defaultWidth:"wide"}),quarter:Ox({values:Iue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ox({values:Fue,defaultWidth:"wide"}),day:Ox({values:Lue,defaultWidth:"wide"}),dayPeriod:Ox({values:Bue,defaultWidth:"wide",formattingValues:$ue,defaultFormattingWidth:"wide"})};function Px(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?zue(l,p=>p.test(o)):que(l,p=>p.test(o));let u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function que(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function zue(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Hue(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Wue=/^(\d+)(th|st|nd|rd)?/i,Gue=/\d+/i,Yue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kue={any:[/^b/i,/^(a|c)/i]},Xue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Que={any:[/1/i,/2/i,/3/i,/4/i]},Zue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},efe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nfe={ordinalNumber:Hue({matchPattern:Wue,parsePattern:Gue,valueCallback:e=>parseInt(e,10)}),era:Px({matchPatterns:Yue,defaultMatchWidth:"wide",parsePatterns:Kue,defaultParseWidth:"any"}),quarter:Px({matchPatterns:Xue,defaultMatchWidth:"wide",parsePatterns:Que,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Px({matchPatterns:Zue,defaultMatchWidth:"wide",parsePatterns:Jue,defaultParseWidth:"any"}),day:Px({matchPatterns:efe,defaultMatchWidth:"wide",parsePatterns:tfe,defaultParseWidth:"any"}),dayPeriod:Px({matchPatterns:rfe,defaultMatchWidth:"any",parsePatterns:sfe,defaultParseWidth:"any"})},gB={code:"en-US",formatDistance:Tue,formatLong:Oue,formatRelative:Rue,localize:Vue,match:nfe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function afe(e){const t=os(e);return ql(t,pB(t))+1}function yB(e){const t=os(e),r=+xh(t)-+wue(t);return Math.round(r/o4)+1}function vB(e,t){var h,p,g,y;const r=os(e),n=r.getFullYear(),a=Iy(),i=(t==null?void 0:t.firstWeekContainsDate)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=Zi(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=rc(o,t),d=Zi(e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const u=rc(d,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function ife(e,t){var l,d,u,h;const r=Iy(),n=(t==null?void 0:t.firstWeekContainsDate)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,a=vB(e,t),i=Zi(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),rc(i,t)}function bB(e,t){const r=os(e),n=+rc(r,t)-+ife(r,t);return Math.round(n/o4)+1}function Ss(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const tu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ss(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ss(r+1,2)},d(e,t){return Ss(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ss(e.getHours()%12||12,t.length)},H(e,t){return Ss(e.getHours(),t.length)},m(e,t){return Ss(e.getMinutes(),t.length)},s(e,t){return Ss(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ss(a,t.length)}},Im={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_R={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return tu.y(e,t)},Y:function(e,t,r,n){const a=vB(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Ss(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ss(i,t.length)},R:function(e,t){const r=mB(e);return Ss(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ss(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ss(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ss(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return tu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ss(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=bB(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ss(a,t.length)},I:function(e,t,r){const n=yB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ss(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):tu.d(e,t)},D:function(e,t,r){const n=afe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ss(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ss(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ss(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Ss(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Im.noon:n===0?a=Im.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Im.evening:n>=12?a=Im.afternoon:n>=4?a=Im.morning:a=Im.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return tu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):tu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ss(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ss(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):tu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):tu.s(e,t)},S:function(e,t){return tu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return DR(n);case"XXXX":case"XX":return Ff(n);case"XXXXX":case"XXX":default:return Ff(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return DR(n);case"xxxx":case"xx":return Ff(n);case"xxxxx":case"xxx":default:return Ff(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kR(n,":");case"OOOO":default:return"GMT"+Ff(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kR(n,":");case"zzzz":default:return"GMT"+Ff(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ss(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ss(n,t.length)}};function kR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Ss(i,2)}function DR(e,t){return e%60===0?(e>0?"-":"+")+Ss(Math.abs(e)/60,2):Ff(e,t)}function Ff(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Ss(Math.trunc(n/60),2),i=Ss(n%60,2);return r+a+t+i}const OR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},wB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ofe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return OR(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",OR(n,t)).replace("{{time}}",wB(a,t))},lfe={p:wB,P:ofe},cfe=/^D+$/,dfe=/^Y+$/,ufe=["D","DD","YY","YYYY"];function ffe(e){return cfe.test(e)}function hfe(e){return dfe.test(e)}function mfe(e,t,r){const n=pfe(e,t,r);if(console.warn(n),ufe.includes(e))throw new RangeError(n)}function pfe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yfe=/^'([^]*?)'?$/,vfe=/''/g,bfe=/[a-zA-Z]/;function Rt(e,t,r){var h,p,g,y,w,v,N,j;const n=Iy(),a=(r==null?void 0:r.locale)??n.locale??gB,i=(r==null?void 0:r.firstWeekContainsDate)??((p=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((j=(N=n.locale)==null?void 0:N.options)==null?void 0:j.weekStartsOn)??0,l=os(e);if(!Eue(l))throw new RangeError("Invalid time value");let d=t.match(gfe).map(A=>{const E=A[0];if(E==="p"||E==="P"){const S=lfe[E];return S(A,a.formatLong)}return A}).join("").match(xfe).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const E=A[0];if(E==="'")return{isToken:!1,value:wfe(A)};if(_R[E])return{isToken:!0,value:A};if(E.match(bfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:A}});a.localize.preprocessor&&(d=a.localize.preprocessor(l,d));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return d.map(A=>{if(!A.isToken)return A.value;const E=A.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&hfe(E)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&ffe(E))&&mfe(E,t,String(e));const S=_R[E[0]];return S(l,E,a.localize,u)}).join("")}function wfe(e){const t=e.match(yfe);return t?t[1].replace(vfe,"'"):e}function Nfe(e){const t=os(e),r=t.getFullYear(),n=t.getMonth(),a=Zi(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function jfe(e){return Math.trunc(+os(e)/1e3)}function Sfe(e){const t=os(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Efe(e,t){return Aue(Sfe(e),Ti(e),t)+1}function gp(e,t){const r=os(e),n=os(t);return r.getTime()>n.getTime()}function NB(e,t){const r=os(e),n=os(t);return+r<+n}function u4(e,t){const r=os(e),n=os(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Afe(e,t){const r=os(e),n=os(t);return r.getFullYear()===n.getFullYear()}function AS(e,t){return ua(e,-t)}function Cfe(e,t){const n=Dfe(e);let a;if(n.date){const d=Ofe(n.date,2);a=Pfe(d.restDateString,d.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=Rfe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Mfe(n.timezone),isNaN(l))return new Date(NaN)}else{const d=new Date(i+o),u=new Date(0);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return new Date(i+o+l)}const Ab={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Tfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,_fe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Dfe(e){const t={},r=e.split(Ab.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Ab.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ab.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Ab.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Ofe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Pfe(e,t){if(t===null)return new Date(NaN);const r=e.match(Tfe);if(!r)return new Date(NaN);const n=!!r[4],a=Rx(r[1]),i=Rx(r[2])-1,o=Rx(r[3]),l=Rx(r[4]),d=Rx(r[5])-1;if(n)return $fe(t,l,d)?Ife(t,l,d):new Date(NaN);{const u=new Date(0);return!Lfe(t,i,o)||!Bfe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Rx(e){return e?parseInt(e):1}function Rfe(e){const t=e.match(_fe);if(!t)return NaN;const r=CS(t[1]),n=CS(t[2]),a=CS(t[3]);return Ufe(r,n,a)?r*hB+n*fB+a*1e3:NaN}function CS(e){return e&&parseFloat(e.replace(",","."))||0}function Mfe(e){if(e==="Z")return 0;const t=e.match(kfe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Vfe(n,a)?r*(n*hB+a*fB):NaN}function Ife(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Ffe=[31,null,31,30,31,30,31,31,30,31,30,31];function jB(e){return e%400===0||e%4===0&&e%100!==0}function Lfe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Ffe[t]||(jB(e)?29:28))}function Bfe(e,t){return t>=1&&t<=(jB(e)?366:365)}function $fe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Ufe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Vfe(e,t){return t>=0&&t<=59}function TS(e,t){const r=os(e),n=r.getFullYear(),a=r.getDate(),i=Zi(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Nfe(i);return r.setMonth(t,Math.min(a,o)),r}function PR(e,t){const r=os(e);return isNaN(+r)?Zi(e,NaN):(r.setFullYear(t),r)}function yt({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:Xe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl py-6 shadow",e),...t})}function _t({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:Xe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Gt({className:e,...t}){return s.jsx("div",{"data-slot":"card-title",className:Xe("leading-none font-semibold",e),...t})}function Ea({className:e,...t}){return s.jsx("div",{"data-slot":"card-description",className:Xe("text-muted-foreground text-sm",e),...t})}function Nt({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:Xe("px-6",e),...t})}function rf({className:e,...t}){return s.jsx("div",{"data-slot":"card-footer",className:Xe("flex items-center px-6 [.border-t]:pt-6",e),...t})}function Is({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:Xe("w-full caption-bottom text-sm",e),...t})})}function Fs({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:Xe("[&_tr]:border-b",e),...t})}function Ls({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:Xe("[&_tr:last-child]:border-0",e),...t})}function rr({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:Xe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ye({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:Xe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function $e({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:Xe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function qfe({className:e,...t}){return s.jsx("caption",{"data-slot":"table-caption",className:Xe("text-muted-foreground mt-4 text-sm",e),...t})}function N0({className:e,...t}){return s.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:Xe("mx-auto flex w-full justify-center",e),...t})}function j0({className:e,...t}){return s.jsx("ul",{"data-slot":"pagination-content",className:Xe("flex flex-row items-center gap-1",e),...t})}function ru({...e}){return s.jsx("li",{"data-slot":"pagination-item",...e})}function rp({className:e,isActive:t,size:r="icon",...n}){return s.jsx("a",{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:Xe(zp({variant:t?"outline":"ghost",size:r}),e),...n})}function S0({className:e,...t}){return s.jsxs(rp,{"aria-label":"Go to previous page",size:"default",className:Xe("gap-1 px-2.5 sm:pl-2.5",e),...t,children:[s.jsx(c0,{}),s.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function E0({className:e,...t}){return s.jsxs(rp,{"aria-label":"Go to next page",size:"default",className:Xe("gap-1 px-2.5 sm:pr-2.5",e),...t,children:[s.jsx("span",{className:"hidden sm:block",children:"Next"}),s.jsx(Fu,{})]})}var zfe="DismissableLayer",qA="dismissableLayer.update",Hfe="dismissableLayer.pointerDownOutside",Wfe="dismissableLayer.focusOutside",RR,SB=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),EB=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=m.useContext(SB),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),w=Yt(t,T=>p(T)),v=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=v.indexOf(N),A=h?v.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,S=A>=j,_=Kfe(T=>{const O=T.target,P=[...u.branches].some(I=>I.contains(O));!S||P||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),k=Xfe(T=>{const O=T.target;[...u.branches].some(I=>I.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return f0(T=>{A===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(RR=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),MR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=RR)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),MR())},[h,u]),m.useEffect(()=>{const T=()=>y({});return document.addEventListener(qA,T),()=>document.removeEventListener(qA,T)},[]),s.jsx(qt.div,{...d,ref:w,style:{pointerEvents:E?S?"auto":"none":void 0,...e.style},onFocusCapture:wt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:wt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:wt(e.onPointerDownCapture,_.onPointerDownCapture)})});EB.displayName=zfe;var Gfe="DismissableLayerBranch",Yfe=m.forwardRef((e,t)=>{const r=m.useContext(SB),n=m.useRef(null),a=Yt(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(qt.div,{...e,ref:a})});Yfe.displayName=Gfe;function Kfe(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let d=function(){AB(Hfe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Xfe(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&AB(Wfe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function MR(){const e=new CustomEvent(qA);document.dispatchEvent(e)}function AB(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?x0(a,i):a.dispatchEvent(i)}var _S="focusScope.autoFocusOnMount",kS="focusScope.autoFocusOnUnmount",IR={bubbles:!1,cancelable:!0},Qfe="FocusScope",CB=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,d]=m.useState(null),u=Zr(a),h=Zr(i),p=m.useRef(null),g=Yt(t,v=>d(v)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(E){if(y.paused||!l)return;const S=E.target;l.contains(S)?p.current=S:uu(p.current,{select:!0})},N=function(E){if(y.paused||!l)return;const S=E.relatedTarget;S!==null&&(l.contains(S)||uu(p.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const _ of E)_.removedNodes.length>0&&uu(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",N);const A=new MutationObserver(j);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",N),A.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){LR.add(y);const v=document.activeElement;if(!l.contains(v)){const j=new CustomEvent(_S,IR);l.addEventListener(_S,u),l.dispatchEvent(j),j.defaultPrevented||(Zfe(she(TB(l)),{select:!0}),document.activeElement===v&&uu(l))}return()=>{l.removeEventListener(_S,u),setTimeout(()=>{const j=new CustomEvent(kS,IR);l.addEventListener(kS,h),l.dispatchEvent(j),j.defaultPrevented||uu(v??document.body,{select:!0}),l.removeEventListener(kS,h),LR.remove(y)},0)}}},[l,u,h,y]);const w=m.useCallback(v=>{if(!r&&!n||y.paused)return;const N=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,j=document.activeElement;if(N&&j){const A=v.currentTarget,[E,S]=Jfe(A);E&&S?!v.shiftKey&&j===S?(v.preventDefault(),r&&uu(E,{select:!0})):v.shiftKey&&j===E&&(v.preventDefault(),r&&uu(S,{select:!0})):j===A&&v.preventDefault()}},[r,n,y.paused]);return s.jsx(qt.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});CB.displayName=Qfe;function Zfe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(uu(n,{select:t}),document.activeElement!==r)return}function Jfe(e){const t=TB(e),r=FR(t,e),n=FR(t.reverse(),e);return[r,n]}function TB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function FR(e,t){for(const r of e)if(!ehe(r,{upTo:t}))return r}function ehe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function the(e){return e instanceof HTMLInputElement&&"select"in e}function uu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&the(e)&&t&&e.select()}}var LR=rhe();function rhe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=BR(e,t),e.unshift(t)},remove(t){var r;e=BR(e,t),(r=e[0])==null||r.resume()}}}function BR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function she(e){return e.filter(t=>t.tagName!=="A")}var nhe="Portal",_B=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=m.useState(!1);Os(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?pd.createPortal(s.jsx(qt.div,{...n,ref:t}),o):null});_B.displayName=nhe;function ahe(e){const t=ihe(e),r=m.forwardRef((n,a)=>{const{children:i,...o}=n,l=m.Children.toArray(i),d=l.find(lhe);if(d){const u=d.props.children,h=l.map(p=>p===d?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return s.jsx(t,{...o,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function ihe(e){const t=m.forwardRef((r,n)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const o=dhe(a),l=che(i,a.props);return a.type!==m.Fragment&&(l.ref=n?xd(n,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ohe=Symbol("radix.slottable");function lhe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ohe}function che(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function dhe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var cN="Popover",[kB,xFe]=pa(cN,[tf]),Fy=tf(),[uhe,sf]=kB(cN),DB=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Fy(t),d=m.useRef(null),[u,h]=m.useState(!1),[p,g]=Do({prop:n,defaultProp:a??!1,onChange:i,caller:cN});return s.jsx(Qw,{...l,children:s.jsx(uhe,{scope:t,contentId:ii(),triggerRef:d,open:p,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>h(!0),[]),onCustomAnchorRemove:m.useCallback(()=>h(!1),[]),modal:o,children:r})})};DB.displayName=cN;var OB="PopoverAnchor",fhe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=sf(OB,r),i=Fy(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(ky,{...i,...n,ref:t})});fhe.displayName=OB;var PB="PopoverTrigger",RB=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=sf(PB,r),i=Fy(r),o=Yt(t,a.triggerRef),l=s.jsx(qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":BB(a.open),...n,ref:o,onClick:wt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(ky,{asChild:!0,...i,children:l})});RB.displayName=PB;var f4="PopoverPortal",[hhe,mhe]=kB(f4,{forceMount:void 0}),MB=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=sf(f4,t);return s.jsx(hhe,{scope:t,forceMount:r,children:s.jsx(na,{present:r||i.open,children:s.jsx(_B,{asChild:!0,container:a,children:n})})})};MB.displayName=f4;var Gp="PopoverContent",IB=m.forwardRef((e,t)=>{const r=mhe(Gp,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=sf(Gp,e.__scopePopover);return s.jsx(na,{present:n||i.open,children:i.modal?s.jsx(xhe,{...a,ref:t}):s.jsx(ghe,{...a,ref:t})})});IB.displayName=Gp;var phe=ahe("PopoverContent.RemoveScroll"),xhe=m.forwardRef((e,t)=>{const r=sf(Gp,e.__scopePopover),n=m.useRef(null),a=Yt(t,n),i=m.useRef(!1);return m.useEffect(()=>{const o=n.current;if(o)return kh(o)},[]),s.jsx(ef,{as:phe,allowPinchZoom:!0,children:s.jsx(FB,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:wt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:wt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ghe=m.forwardRef((e,t)=>{const r=sf(Gp,e.__scopePopover),n=m.useRef(!1),a=m.useRef(!1);return s.jsx(FB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),FB=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,...p}=e,g=sf(Gp,r),y=Fy(r);return Ey(),s.jsx(CB,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(EB,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(Zw,{"data-state":BB(g.open),role:"dialog",id:g.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),LB="PopoverClose",yhe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=sf(LB,r);return s.jsx(qt.button,{type:"button",...n,ref:t,onClick:wt(e.onClick,()=>a.onOpenChange(!1))})});yhe.displayName=LB;var vhe="PopoverArrow",bhe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Fy(r);return s.jsx(Jw,{...a,...n,ref:t})});bhe.displayName=vhe;function BB(e){return e?"open":"closed"}var whe=DB,Nhe=RB,jhe=MB,She=IB;function cc({...e}){return s.jsx(whe,{"data-slot":"popover",...e})}function dc({...e}){return s.jsx(Nhe,{"data-slot":"popover-trigger",...e})}function uc({className:e,align:t="center",sideOffset:r=4,...n}){return s.jsx(jhe,{children:s.jsx(She,{"data-slot":"popover-content",align:t,sideOffset:r,className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}var br=function(){return br=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},br.apply(this,arguments)};function Ehe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function $B(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ly(e){return e.mode==="multiple"}function By(e){return e.mode==="range"}function dN(e){return e.mode==="single"}var Ahe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Che(e,t){return Rt(e,"LLLL y",t)}function The(e,t){return Rt(e,"d",t)}function _he(e,t){return Rt(e,"LLLL",t)}function khe(e){return"".concat(e)}function Dhe(e,t){return Rt(e,"cccccc",t)}function Ohe(e,t){return Rt(e,"yyyy",t)}var Phe=Object.freeze({__proto__:null,formatCaption:Che,formatDay:The,formatMonthCaption:_he,formatWeekNumber:khe,formatWeekdayName:Dhe,formatYearCaption:Ohe}),Rhe=function(e,t,r){return Rt(e,"do MMMM (EEEE)",r)},Mhe=function(){return"Month: "},Ihe=function(){return"Go to next month"},Fhe=function(){return"Go to previous month"},Lhe=function(e,t){return Rt(e,"cccc",t)},Bhe=function(e){return"Week n. ".concat(e)},$he=function(){return"Year: "},Uhe=Object.freeze({__proto__:null,labelDay:Rhe,labelMonthDropdown:Mhe,labelNext:Ihe,labelPrevious:Fhe,labelWeekNumber:Bhe,labelWeekday:Lhe,labelYearDropdown:$he});function Vhe(){var e="buttons",t=Ahe,r=gB,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Phe,labels:Uhe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function qhe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Ti(n):t&&(i=new Date(t,0,1)),a?o=c4(a):r&&(o=new Date(r,11,31)),{fromDate:i?Yc(i):void 0,toDate:o?Yc(o):void 0}}var UB=m.createContext(void 0);function zhe(e){var t,r=e.initialProps,n=Vhe(),a=qhe(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var d;(dN(r)||Ly(r)||By(r))&&(d=r.onSelect);var u=br(br(br({},n),r),{captionLayout:l,classNames:br(br({},n.classNames),r.classNames),components:br({},r.components),formatters:br(br({},n.formatters),r.formatters),fromDate:i,labels:br(br({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:br(br({},n.modifiers),r.modifiers),modifiersClassNames:br(br({},n.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:br(br({},n.styles),r.styles),toDate:o});return s.jsx(UB.Provider,{value:u,children:e.children})}function zs(){var e=m.useContext(UB);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function VB(e){var t=zs(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Hhe(e){return s.jsx("svg",br({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function qB(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,d=e.style,u=zs(),h=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Hhe;return s.jsxs("div",{className:l,style:d,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(h,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Whe(e){var t,r=zs(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,d=r.classNames,u=r.components,h=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var p=[];if(Afe(n,a))for(var g=Ti(n),y=n.getMonth();y<=a.getMonth();y++)p.push(TS(g,y));else for(var g=Ti(new Date),y=0;y<=11;y++)p.push(TS(g,y));var w=function(N){var j=Number(N.target.value),A=TS(Ti(e.displayMonth),j);e.onChange(A)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:qB;return s.jsx(v,{name:"months","aria-label":h(),className:d.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:p.map(function(N){return s.jsx("option",{value:N.getMonth(),children:l(N,{locale:o})},N.getMonth())})})}function Ghe(e){var t,r=e.displayMonth,n=zs(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,d=n.classNames,u=n.components,h=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,g=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var y=a.getFullYear(),w=i.getFullYear(),v=y;v<=w;v++)g.push(PR(pB(new Date),v));var N=function(A){var E=PR(Ti(r),Number(A.target.value));e.onChange(E)},j=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:qB;return s.jsx(j,{name:"years","aria-label":p(),className:d.dropdown_year,style:l.dropdown_year,onChange:N,value:r.getFullYear(),caption:h(r,{locale:o}),children:g.map(function(A){return s.jsx("option",{value:A.getFullYear(),children:h(A,{locale:o})},A.getFullYear())})})}function Yhe(e,t){var r=m.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function Khe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(i&&zg(i,a)<0){var u=-1*(d-1);a=fl(i,u)}return o&&zg(a,o)<0&&(a=o),Ti(a)}function Xhe(){var e=zs(),t=Khe(e),r=Yhe(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var d=Ti(o);a(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[n,i]}function Qhe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ti(e),i=Ti(fl(a,n)),o=zg(i,a),l=[],d=0;d<o;d++){var u=fl(a,d);l.push(u)}return r&&(l=l.reverse()),l}function Zhe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ti(e);if(!r)return fl(l,o);var d=zg(r,e);if(!(d<i))return fl(l,o)}}function Jhe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ti(e);if(!r)return fl(l,-o);var d=zg(l,r);if(!(d<=0))return fl(l,-o)}}var zB=m.createContext(void 0);function eme(e){var t=zs(),r=Xhe(),n=r[0],a=r[1],i=Qhe(n,t),o=Zhe(n,t),l=Jhe(n,t),d=function(p){return i.some(function(g){return u4(p,g)})},u=function(p,g){d(p)||(g&&NB(p,g)?a(fl(p,1+t.numberOfMonths*-1)):a(p))},h={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:d};return s.jsx(zB.Provider,{value:h,children:e.children})}function $y(){var e=m.useContext(zB);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function $R(e){var t,r=zs(),n=r.classNames,a=r.styles,i=r.components,o=$y().goToMonth,l=function(h){o(fl(h,e.displayIndex?-e.displayIndex:0))},d=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:VB,u=s.jsx(d,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(Whe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(Ghe,{onChange:l,displayMonth:e.displayMonth})]})}function tme(e){return s.jsx("svg",br({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function rme(e){return s.jsx("svg",br({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var H1=m.forwardRef(function(e,t){var r=zs(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=br(br({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",br({},e,{ref:t,type:"button",className:o,style:l}))});function sme(e){var t,r,n=zs(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,d=n.labels,u=d.labelPrevious,h=d.labelNext,p=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var g=u(e.previousMonth,{locale:i}),y=[o.nav_button,o.nav_button_previous].join(" "),w=h(e.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),N=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:rme,j=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:tme;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(H1,{name:"previous-month","aria-label":g,className:y,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(N,{className:o.nav_icon,style:l.nav_icon}):s.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(H1,{name:"next-month","aria-label":w,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(j,{className:o.nav_icon,style:l.nav_icon}):s.jsx(N,{className:o.nav_icon,style:l.nav_icon})})]})}function UR(e){var t=zs().numberOfMonths,r=$y(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(w){return u4(e.displayMonth,w)}),d=l===0,u=l===o.length-1,h=t>1&&(d||!u),p=t>1&&(u||!d),g=function(){n&&i(n)},y=function(){a&&i(a)};return s.jsx(sme,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:p,nextMonth:a,previousMonth:n,onPreviousClick:g,onNextClick:y})}function nme(e){var t,r=zs(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,d=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:VB,u;return a?u=s.jsx(d,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx($R,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx($R,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(UR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(UR,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function ame(e){var t=zs(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function ime(e,t,r){for(var n=r?xh(new Date):rc(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=ua(n,i);a.push(o)}return a}function ome(){var e=zs(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,u=ime(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(h,p){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(h,{locale:a}),children:l(h,{locale:a})},p)})]})}function lme(){var e,t=zs(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:ome;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function cme(e){var t=zs(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var h4=m.createContext(void 0);function dme(e){if(!Ly(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(h4.Provider,{value:t,children:e.children})}return s.jsx(ume,{initialProps:e.initialProps,children:e.children})}function ume(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,h,p){var g,y;(g=t.onDayClick)===null||g===void 0||g.call(t,u,h,p);var w=!!(h.selected&&a&&(n==null?void 0:n.length)===a);if(!w){var v=!!(!h.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var N=n?$B([],n):[];if(h.selected){var j=N.findIndex(function(A){return Si(u,A)});N.splice(j,1)}else N.push(u);(y=t.onSelect)===null||y===void 0||y.call(t,N,u,h,p)}}},l={disabled:[]};n&&l.disabled.push(function(u){var h=i&&n.length>i-1,p=n.some(function(g){return Si(g,u)});return!!(h&&!p)});var d={selected:n,onDayClick:o,modifiers:l};return s.jsx(h4.Provider,{value:d,children:r})}function m4(){var e=m.useContext(h4);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function fme(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Si(a,e)&&Si(n,e)?void 0:Si(a,e)?{from:a,to:void 0}:Si(n,e)?void 0:gp(n,e)?{from:e,to:a}:{from:n,to:e}:a?gp(e,a)?{from:a,to:e}:{from:e,to:a}:n?NB(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var p4=m.createContext(void 0);function hme(e){if(!By(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(p4.Provider,{value:t,children:e.children})}return s.jsx(mme,{initialProps:e.initialProps,children:e.children})}function mme(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,d=t.max,u=function(y,w,v){var N,j;(N=t.onDayClick)===null||N===void 0||N.call(t,y,w,v);var A=fme(y,n);(j=t.onSelect)===null||j===void 0||j.call(t,A,y,w,v)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(h.range_start=[i],o?(h.range_end=[o],Si(i,o)||(h.range_middle=[{after:i,before:o}])):h.range_end=[i]):o&&(h.range_start=[o],h.range_end=[o]),l&&(i&&!o&&h.disabled.push({after:AS(i,l-1),before:ua(i,l-1)}),i&&o&&h.disabled.push({after:i,before:ua(i,l-1)}),!i&&o&&h.disabled.push({after:AS(o,l-1),before:ua(o,l-1)})),d){if(i&&!o&&(h.disabled.push({before:ua(i,-d+1)}),h.disabled.push({after:ua(i,d-1)})),i&&o){var p=ql(o,i)+1,g=d-p;h.disabled.push({before:AS(i,g)}),h.disabled.push({after:ua(o,g)})}!i&&o&&(h.disabled.push({before:ua(o,-d+1)}),h.disabled.push({after:ua(o,d-1)}))}return s.jsx(p4.Provider,{value:{selected:n,onDayClick:u,modifiers:h},children:r})}function x4(){var e=m.useContext(p4);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function h1(e){return Array.isArray(e)?$B([],e):e!==void 0?[e]:[]}function pme(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=h1(a)}),t}var hl;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(hl||(hl={}));var xme=hl.Selected,Rc=hl.Disabled,gme=hl.Hidden,yme=hl.Today,DS=hl.RangeEnd,OS=hl.RangeMiddle,PS=hl.RangeStart,vme=hl.Outside;function bme(e,t,r){var n,a=(n={},n[xme]=h1(e.selected),n[Rc]=h1(e.disabled),n[gme]=h1(e.hidden),n[yme]=[e.today],n[DS]=[],n[OS]=[],n[PS]=[],n[vme]=[],n);return e.fromDate&&a[Rc].push({before:e.fromDate}),e.toDate&&a[Rc].push({after:e.toDate}),Ly(e)?a[Rc]=a[Rc].concat(t.modifiers[Rc]):By(e)&&(a[Rc]=a[Rc].concat(r.modifiers[Rc]),a[PS]=r.modifiers[PS],a[OS]=r.modifiers[OS],a[DS]=r.modifiers[DS]),a}var HB=m.createContext(void 0);function wme(e){var t=zs(),r=m4(),n=x4(),a=bme(t,r,n),i=pme(t.modifiers),o=br(br({},a),i);return s.jsx(HB.Provider,{value:o,children:e.children})}function WB(){var e=m.useContext(HB);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Nme(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function jme(e){return!!(e&&typeof e=="object"&&"from"in e)}function Sme(e){return!!(e&&typeof e=="object"&&"after"in e)}function Eme(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ame(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Cme(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=ql(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=ql(e,n)>=0&&ql(a,e)>=0;return o}return a?Si(a,e):n?Si(n,e):!1}function Tme(e){return l4(e)}function _me(e){return Array.isArray(e)&&e.every(l4)}function kme(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Tme(r))return Si(e,r);if(_me(r))return r.includes(e);if(jme(r))return Cme(e,r);if(Ame(r))return r.dayOfWeek.includes(e.getDay());if(Nme(r)){var n=ql(r.before,e),a=ql(r.after,e),i=n>0,o=a<0,l=gp(r.before,r.after);return l?o&&i:i||o}return Sme(r)?ql(e,r.after)>0:Eme(r)?ql(r.before,e)>0:typeof r=="function"?r(e):!1})}function g4(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return kme(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!u4(e,r)&&(a.outside=!0),a}function Dme(e,t){for(var r=Ti(e[0]),n=c4(e[e.length-1]),a,i,o=r;o<=n;){var l=g4(o,t),d=!l.disabled&&!l.hidden;if(!d){o=ua(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=ua(o,1)}return i||a}var Ome=365;function GB(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,d=a.weekStartsOn,u=a.fromDate,h=a.toDate,p=a.locale,g={day:ua,week:VA,month:fl,year:Nue,startOfWeek:function(N){return a.ISOWeek?xh(N):rc(N,{locale:p,weekStartsOn:d})},endOfWeek:function(N){return a.ISOWeek?xB(N):d4(N,{locale:p,weekStartsOn:d})}},y=g[r](e,n==="after"?1:-1);n==="before"&&u?y=jue([u,y]):n==="after"&&h&&(y=Sue([h,y]));var w=!0;if(i){var v=g4(y,i);w=!v.disabled&&!v.hidden}return w?y:l.count>Ome?l.lastFocused:GB(y,{moveBy:r,direction:n,context:a,modifiers:i,retry:br(br({},l),{count:l.count+1})})}var YB=m.createContext(void 0);function Pme(e){var t=$y(),r=WB(),n=m.useState(),a=n[0],i=n[1],o=m.useState(),l=o[0],d=o[1],u=Dme(t.displayMonths,r),h=a??(l&&t.isDateDisplayed(l))?l:u,p=function(){d(a),i(void 0)},g=function(N){i(N)},y=zs(),w=function(N,j){if(a){var A=GB(a,{moveBy:N,direction:j,context:y,modifiers:r});Si(a,A)||(t.goToDate(A,a),g(A))}},v={focusedDay:a,focusTarget:h,blur:p,focus:g,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return s.jsx(YB.Provider,{value:v,children:e.children})}function y4(){var e=m.useContext(YB);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Rme(e,t){var r=WB(),n=g4(e,r,t);return n}var v4=m.createContext(void 0);function Mme(e){if(!dN(e.initialProps)){var t={selected:void 0};return s.jsx(v4.Provider,{value:t,children:e.children})}return s.jsx(Ime,{initialProps:e.initialProps,children:e.children})}function Ime(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var d,u,h;if((d=t.onDayClick)===null||d===void 0||d.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(v4.Provider,{value:a,children:r})}function KB(){var e=m.useContext(v4);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Fme(e,t){var r=zs(),n=KB(),a=m4(),i=x4(),o=y4(),l=o.focusDayAfter,d=o.focusDayBefore,u=o.focusWeekAfter,h=o.focusWeekBefore,p=o.blur,g=o.focus,y=o.focusMonthBefore,w=o.focusMonthAfter,v=o.focusYearBefore,N=o.focusYearAfter,j=o.focusStartOfWeek,A=o.focusEndOfWeek,E=function(H){var R,X,W,Y;dN(r)?(R=n.onDayClick)===null||R===void 0||R.call(n,e,t,H):Ly(r)?(X=a.onDayClick)===null||X===void 0||X.call(a,e,t,H):By(r)?(W=i.onDayClick)===null||W===void 0||W.call(i,e,t,H):(Y=r.onDayClick)===null||Y===void 0||Y.call(r,e,t,H)},S=function(H){var R;g(e),(R=r.onDayFocus)===null||R===void 0||R.call(r,e,t,H)},_=function(H){var R;p(),(R=r.onDayBlur)===null||R===void 0||R.call(r,e,t,H)},k=function(H){var R;(R=r.onDayMouseEnter)===null||R===void 0||R.call(r,e,t,H)},T=function(H){var R;(R=r.onDayMouseLeave)===null||R===void 0||R.call(r,e,t,H)},O=function(H){var R;(R=r.onDayPointerEnter)===null||R===void 0||R.call(r,e,t,H)},P=function(H){var R;(R=r.onDayPointerLeave)===null||R===void 0||R.call(r,e,t,H)},I=function(H){var R;(R=r.onDayTouchCancel)===null||R===void 0||R.call(r,e,t,H)},M=function(H){var R;(R=r.onDayTouchEnd)===null||R===void 0||R.call(r,e,t,H)},q=function(H){var R;(R=r.onDayTouchMove)===null||R===void 0||R.call(r,e,t,H)},U=function(H){var R;(R=r.onDayTouchStart)===null||R===void 0||R.call(r,e,t,H)},re=function(H){var R;(R=r.onDayKeyUp)===null||R===void 0||R.call(r,e,t,H)},te=function(H){var R;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),r.dir==="rtl"?l():d();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),r.dir==="rtl"?d():l();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),u();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),h();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?v():y();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?N():w();break;case"Home":H.preventDefault(),H.stopPropagation(),j();break;case"End":H.preventDefault(),H.stopPropagation(),A();break}(R=r.onDayKeyDown)===null||R===void 0||R.call(r,e,t,H)},B={onClick:E,onFocus:S,onBlur:_,onKeyDown:te,onKeyUp:re,onMouseEnter:k,onMouseLeave:T,onPointerEnter:O,onPointerLeave:P,onTouchCancel:I,onTouchEnd:M,onTouchMove:q,onTouchStart:U};return B}function Lme(){var e=zs(),t=KB(),r=m4(),n=x4(),a=dN(e)?t.selected:Ly(e)?r.selected:By(e)?n.selected:void 0;return a}function Bme(e){return Object.values(hl).includes(e)}function $me(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(Bme(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Ume(e,t){var r=br({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=br(br({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Vme(e,t,r){var n,a,i,o=zs(),l=y4(),d=Rme(e,t),u=Fme(e,d),h=Lme(),p=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var k;d.outside||l.focusedDay&&p&&Si(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,p,d.outside]);var g=$me(o,d).join(" "),y=Ume(o,d),w=!!(d.outside&&!o.showOutsideDays||d.hidden),v=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:cme,N=s.jsx(v,{date:e,displayMonth:t,activeModifiers:d}),j={style:y,className:g,children:N,role:"gridcell"},A=l.focusTarget&&Si(l.focusTarget,e)&&!d.outside,E=l.focusedDay&&Si(l.focusedDay,e),S=br(br(br({},j),(n={disabled:d.disabled,role:"gridcell"},n["aria-selected"]=d.selected,n.tabIndex=E||A?0:-1,n)),u),_={isButton:p,isHidden:w,activeModifiers:d,selectedDays:h,buttonProps:S,divProps:j};return _}function qme(e){var t=m.useRef(null),r=Vme(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(H1,br({name:"day",ref:t},r.buttonProps)):s.jsx("div",br({},r.divProps))}function zme(e){var t=e.number,r=e.dates,n=zs(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,d=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,h=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:h});var p=d(Number(t),{locale:l}),g=function(y){a(t,r,y)};return s.jsx(H1,{name:"week-number","aria-label":p,className:o.weeknumber,style:i.weeknumber,onClick:g,children:h})}function Hme(e){var t,r,n=zs(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,d=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:qme,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:zme,h;return o&&(h=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[h,e.dates.map(function(p){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(d,{displayMonth:e.displayMonth,date:p})},jfe(p))})]})}function VR(e,t,r){for(var n=r!=null&&r.ISOWeek?xB(t):d4(t,r),a=r!=null&&r.ISOWeek?xh(e):rc(e,r),i=ql(n,a),o=[],l=0;l<=i;l++)o.push(ua(a,l));var d=o.reduce(function(u,h){var p=r!=null&&r.ISOWeek?yB(h):bB(h,r),g=u.find(function(y){return y.weekNumber===p});return g?(g.dates.push(h),u):(u.push({weekNumber:p,dates:[h]}),u)},[]);return d}function Wme(e,t){var r=VR(Ti(e),c4(e),t);if(t!=null&&t.useFixedWeeks){var n=Efe(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=VA(i,6-n),l=VR(VA(i,1),o,t);r.push.apply(r,l)}}return r}function Gme(e){var t,r,n,a=zs(),i=a.locale,o=a.classNames,l=a.styles,d=a.hideHead,u=a.fixedWeeks,h=a.components,p=a.weekStartsOn,g=a.firstWeekContainsDate,y=a.ISOWeek,w=Wme(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:y,locale:i,weekStartsOn:p,firstWeekContainsDate:g}),v=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:lme,N=(r=h==null?void 0:h.Row)!==null&&r!==void 0?r:Hme,j=(n=h==null?void 0:h.Footer)!==null&&n!==void 0?n:ame;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&s.jsx(v,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:w.map(function(A){return s.jsx(N,{displayMonth:e.displayMonth,dates:A.dates,weekNumber:A.weekNumber},A.weekNumber)})}),s.jsx(j,{displayMonth:e.displayMonth})]})}function Yme(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Kme=Yme()?m.useLayoutEffect:m.useEffect,RS=!1,Xme=0;function qR(){return"react-day-picker-".concat(++Xme)}function Qme(e){var t,r=e??(RS?qR():null),n=m.useState(r),a=n[0],i=n[1];return Kme(function(){a===null&&i(qR())},[]),m.useEffect(function(){RS===!1&&(RS=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Zme(e){var t,r,n=zs(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,d=$y().displayMonths,u=Qme(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),h=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,p=[i.month],g=o.month,y=e.displayIndex===0,w=e.displayIndex===d.length-1,v=!y&&!w;a==="rtl"&&(t=[y,w],w=t[0],y=t[1]),y&&(p.push(i.caption_start),g=br(br({},g),o.caption_start)),w&&(p.push(i.caption_end),g=br(br({},g),o.caption_end)),v&&(p.push(i.caption_between),g=br(br({},g),o.caption_between));var N=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:nme;return s.jsxs("div",{className:p.join(" "),style:g,children:[s.jsx(N,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Gme,{id:h,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Jme(e){var t=zs(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function epe(e){var t,r,n=e.initialProps,a=zs(),i=y4(),o=$y(),l=m.useState(!1),d=l[0],u=l[1];m.useEffect(function(){a.initialFocus&&i.focusTarget&&(d||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,d,i.focus,i.focusTarget,i]);var h=[a.classNames.root,a.className];a.numberOfMonths>1&&h.push(a.classNames.multiple_months),a.showWeekNumber&&h.push(a.classNames.with_weeknumber);var p=br(br({},a.styles.root),a.style),g=Object.keys(n).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var N;return br(br({},w),(N={},N[v]=n[v],N))},{}),y=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Jme;return s.jsx("div",br({className:h.join(" "),style:p,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},g,{children:s.jsx(y,{children:o.displayMonths.map(function(w,v){return s.jsx(Zme,{displayIndex:v,displayMonth:w},v)})})}))}function tpe(e){var t=e.children,r=Ehe(e,["children"]);return s.jsx(zhe,{initialProps:r,children:s.jsx(eme,{children:s.jsx(Mme,{initialProps:r,children:s.jsx(dme,{initialProps:r,children:s.jsx(hme,{initialProps:r,children:s.jsx(wme,{children:s.jsx(Pme,{children:t})})})})})})})}function rpe(e){return s.jsx(tpe,br({},e,{children:s.jsx(epe,{initialProps:e})}))}function yd({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(rpe,{showOutsideDays:r,className:Xe("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Xe(zp({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Xe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Xe(zp({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-gray-700-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-gray-700-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>s.jsx(c0,{className:Xe("size-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(Fu,{className:Xe("size-4",a),...i})},...n})}const spe=()=>{const[e,t]=m.useState(1),r=10,[n,a]=m.useState(""),[i,o]=m.useState(""),[l,d]=m.useState(),u=m.useRef(null),[h,p]=m.useState(null),g=m.useCallback(k=>{a(k.target.value)},[]);m.useEffect(()=>(u.current&&window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(n),400),()=>{u.current&&window.clearTimeout(u.current)}),[n]);const{data:y,isLoading:w,isError:v,refetch:N}=Nr({queryKey:["wastages",e,i,l],queryFn:async()=>{let k=`/wastages?page=${e}&limit=${r}`;return i&&(k+=`&search=${i}`),l&&(k+=`&date=${Rt(l,"yyyy-MM-dd")}`),xt(k)}}),j=(y==null?void 0:y.data)||[],A=(y==null?void 0:y.totalPages)||1,E=()=>{a(""),o(""),d(void 0),t(1)},S=k=>k.reduce((T,O)=>T+(O.quantity||0),0),_=async()=>{if(h)try{await Tn(`/wastages/${h}`),ce.success("Wastage deleted"),N(),p(null)}catch(k){ce.error(k.message||"Failed to delete wastage")}};return w?s.jsx("div",{className:"p-10 text-center",children:"Loading wastages..."}):v?s.jsx("div",{className:"p-10 text-center",children:"Error loading wastages"}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(yt,{className:"mb-6",children:[s.jsxs(_t,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(Gt,{className:"text-2xl",children:"Wastage Management"}),s.jsx(Mr,{to:"/admin/wastages/create",children:s.jsxs(pe,{children:[s.jsx(En,{className:"mr-2 size-4"})," New Wastage"]})})]}),s.jsxs(Nt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(He,{placeholder:"Search by wastage no",value:n,onChange:g}),s.jsxs(cc,{children:[s.jsx(dc,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:Xe("w-full justify-start",!l&&"text-muted-foreground"),children:[s.jsx(ra,{className:"mr-2 h-4 w-4"}),l?Rt(l,"dd/MM/yyyy"):"Pick a date"]})}),s.jsx(uc,{className:"w-auto p-0",align:"start",children:s.jsx(yd,{mode:"single",selected:l,onSelect:d})})]}),s.jsx(pe,{variant:"outline",onClick:E,children:"Clear Filters"})]}),j.length===0?s.jsx("div",{className:"py-10 text-center",children:"No wastages found."}):s.jsxs(Is,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(Fs,{className:"bg-gray-100",children:s.jsxs(rr,{children:[s.jsx(Ye,{className:"px-6 py-3",children:"Wastage No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Wastage Date"}),s.jsx(Ye,{className:"px-6 py-3",children:"Invoice No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Invoice Date"}),s.jsx(Ye,{className:"px-6 py-3 text-right",children:"Total Qty"}),s.jsx(Ye,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx(Ls,{className:"divide-y",children:j.map(k=>s.jsxs(rr,{className:"hover:bg-gray-50",children:[s.jsx($e,{className:"px-6 py-4 font-medium",children:k.wastageNo}),s.jsx($e,{className:"px-6 py-4",children:Rt(new Date(k.wastageDate),"dd/MM/yyyy")}),s.jsx($e,{className:"px-6 py-4",children:k.invoiceNo}),s.jsx($e,{className:"px-6 py-4",children:Rt(new Date(k.invoiceDate),"dd/MM/yyyy")}),s.jsx($e,{className:"px-6 py-4 text-right",children:S(k.details)}),s.jsxs($e,{className:"px-6 py-4 space-x-2",children:[s.jsx(Mr,{to:`/admin/wastages/edit/${k.id}`,children:s.jsx(pe,{size:"icon",variant:"ghost",children:s.jsx(gT,{className:"size-4"})})}),s.jsxs(Ln,{children:[s.jsx(Bh,{asChild:!0,children:s.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>p(k.id),children:s.jsx(Qs,{className:"size-4"})})}),s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Are you sure?"}),s.jsx(qn,{children:"This action cannot be undone. This will permanently delete the wastage and remove its data from our servers."})]}),s.jsxs(Un,{children:[s.jsx(zn,{onClick:()=>p(null),children:"Cancel"}),s.jsx(aa,{onClick:_,children:"Continue"})]})]})]})]})]},k.id))})]}),A>1&&s.jsx(N0,{className:"mt-6",children:s.jsxs(j0,{children:[s.jsx(S0,{onClick:()=>t(k=>Math.max(1,k-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",A]}),s.jsx(E0,{onClick:()=>t(k=>Math.min(A,k+1))})]})})]})]})})};var Uy=e=>e.type==="checkbox",Uf=e=>e instanceof Date,Ja=e=>e==null;const XB=e=>typeof e=="object";var Cn=e=>!Ja(e)&&!Array.isArray(e)&&XB(e)&&!Uf(e),QB=e=>Cn(e)&&e.target?Uy(e.target)?e.target.checked:e.target.value:e,npe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ZB=(e,t)=>e.has(npe(t)),ape=e=>{const t=e.constructor&&e.constructor.prototype;return Cn(t)&&t.hasOwnProperty("isPrototypeOf")},b4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(b4&&(e instanceof Blob||n))&&(r||Cn(e)))if(t=r?[]:{},!r&&!ape(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=sn(e[a]));else return e;return t}var Vy=e=>Array.isArray(e)?e.filter(Boolean):[],Ws=e=>e===void 0,Pt=(e,t,r)=>{if(!t||!Cn(e))return r;const n=Vy(t.split(/[,[\].]+?/)).reduce((a,i)=>Ja(a)?a:a[i],e);return Ws(n)||n===e?Ws(e[t])?r:e[t]:n},qi=e=>typeof e=="boolean",w4=e=>/^\w*$/.test(e),JB=e=>Vy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ds=(e,t,r)=>{let n=-1;const a=w4(t)?[t]:JB(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let d=r;if(n!==o){const u=e[l];d=Cn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=d,e=e[l]}};const W1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},jo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Mc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},e$=je.createContext(null),qy=()=>je.useContext(e$),ipe=e=>{const{children:t,...r}=e;return je.createElement(e$.Provider,{value:r},t)};var t$=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==jo.all&&(t._proxyFormState[o]=!n||jo.all),r&&(r[o]=!0),e[o]}});return a},zA=e=>Ja(e)||!XB(e);function Vc(e,t){if(zA(e)||zA(t))return e===t;if(Uf(e)&&Uf(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Uf(i)&&Uf(o)||Cn(i)&&Cn(o)||Array.isArray(i)&&Array.isArray(o)?!Vc(i,o):i!==o)return!1}}return!0}const r$=(e,t)=>{const r=m.useRef(t);Vc(t,r.current)||(r.current=t),m.useEffect(e,r.current)};function s$(e){const t=qy(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=je.useState(r._formState),d=je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return r$(()=>r._subscribe({name:a,formState:d.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),je.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),je.useMemo(()=>t$(o,r,d.current,!1),[o,r])}var zl=e=>typeof e=="string",n$=(e,t,r,n,a)=>zl(e)?(n&&t.watch.add(e),Pt(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Pt(r,i))):(n&&(t.watchAll=!0),r);function ope(e){const t=qy(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},[l,d]=je.useState(r._getWatch(n,a));return r$(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:u=>!i&&d(n$(n,r._names,u.values||r._formValues,!1,a))}),[n,a,i,o]),je.useEffect(()=>r._removeUnmounted()),l}function lpe(e){const t=qy(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,o=ZB(a._names.array,r),l=ope({control:a,name:r,defaultValue:Pt(a._formValues,r,Pt(a._defaultValues,r,e.defaultValue)),exact:!0}),d=s$({control:a,name:r,exact:!0}),u=je.useRef(e),h=je.useRef(a.register(r,{...e.rules,value:l,...qi(e.disabled)?{disabled:e.disabled}:{}})),p=je.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Pt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Pt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Pt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Pt(d.validatingFields,r)},error:{enumerable:!0,get:()=>Pt(d.errors,r)}}),[d,r]),g=je.useCallback(N=>h.current.onChange({target:{value:QB(N),name:r},type:W1.CHANGE}),[r]),y=je.useCallback(()=>h.current.onBlur({target:{value:Pt(a._formValues,r),name:r},type:W1.BLUR}),[r,a._formValues]),w=je.useCallback(N=>{const j=Pt(a._fields,r);j&&N&&(j._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:A=>N.setCustomValidity(A),reportValidity:()=>N.reportValidity()})},[a._fields,r]),v=je.useMemo(()=>({name:r,value:l,...qi(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:y,ref:w}),[r,n,d.disabled,g,y,w,l]);return je.useEffect(()=>{const N=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...qi(u.current.disabled)?{disabled:u.current.disabled}:{}});const j=(A,E)=>{const S=Pt(a._fields,A);S&&S._f&&(S._f.mount=E)};if(j(r,!0),N){const A=sn(Pt(a._options.defaultValues,r));ds(a._defaultValues,r,A),Ws(Pt(a._formValues,r))&&ds(a._formValues,r,A)}return!o&&a.register(r),()=>{(o?N&&!a._state.action:N)?a.unregister(r):j(r,!1)}},[r,a,o,i]),je.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),je.useMemo(()=>({field:v,formState:d,fieldState:p}),[v,d,p])}const _r=e=>e.render(lpe(e));var a$=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Ei=e=>Array.isArray(e)?e:[e],zR=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Fa=e=>Cn(e)&&!Object.keys(e).length,N4=e=>e.type==="file",el=e=>typeof e=="function",G1=e=>{if(!b4)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},i$=e=>e.type==="select-multiple",j4=e=>e.type==="radio",cpe=e=>j4(e)||Uy(e),MS=e=>G1(e)&&e.isConnected;function dpe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ws(e)?n++:e[t[n++]];return e}function upe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ws(e[t]))return!1;return!0}function Pn(e,t){const r=Array.isArray(t)?t:w4(t)?[t]:JB(t),n=r.length===1?e:dpe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Cn(n)&&Fa(n)||Array.isArray(n)&&upe(n))&&Pn(e,r.slice(0,-1)),e}var o$=e=>{for(const t in e)if(el(e[t]))return!0;return!1};function Y1(e,t={}){const r=Array.isArray(e);if(Cn(e)||r)for(const n in e)Array.isArray(e[n])||Cn(e[n])&&!o$(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Y1(e[n],t[n])):Ja(e[n])||(t[n]=!0);return t}function l$(e,t,r){const n=Array.isArray(e);if(Cn(e)||n)for(const a in e)Array.isArray(e[a])||Cn(e[a])&&!o$(e[a])?Ws(t)||zA(r[a])?r[a]=Array.isArray(e[a])?Y1(e[a],[]):{...Y1(e[a])}:l$(e[a],Ja(t)?{}:t[a],r[a]):r[a]=!Vc(e[a],t[a]);return r}var Mx=(e,t)=>l$(e,t,Y1(t));const HR={value:!1,isValid:!1},WR={value:!0,isValid:!0};var c$=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ws(e[0].attributes.value)?Ws(e[0].value)||e[0].value===""?WR:{value:e[0].value,isValid:!0}:WR:HR}return HR},d$=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ws(e)?e:t?e===""?NaN:e&&+e:r&&zl(e)?new Date(e):n?n(e):e;const GR={isValid:!1,value:null};var u$=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,GR):GR;function YR(e){const t=e.ref;return N4(t)?t.files:j4(t)?u$(e.refs).value:i$(t)?[...t.selectedOptions].map(({value:r})=>r):Uy(t)?c$(e.refs).value:d$(Ws(t.value)?e.ref.value:t.value,e)}var fpe=(e,t,r,n)=>{const a={};for(const i of e){const o=Pt(t,i);o&&ds(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},K1=e=>e instanceof RegExp,Ix=e=>Ws(e)?e:K1(e)?e.source:Cn(e)?K1(e.value)?e.value.source:e.value:e,sp=e=>({isOnSubmit:!e||e===jo.onSubmit,isOnBlur:e===jo.onBlur,isOnChange:e===jo.onChange,isOnAll:e===jo.all,isOnTouch:e===jo.onTouched});const KR="AsyncFunction";var hpe=e=>!!e&&!!e.validate&&!!(el(e.validate)&&e.validate.constructor.name===KR||Cn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===KR)),mpe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),HA=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const yp=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Pt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(yp(l,t))break}else if(Cn(l)&&yp(l,t))break}}};function XR(e,t,r){const n=Pt(e,r);if(n||w4(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Pt(t,i),l=Pt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var ppe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Fa(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||jo.all))},xpe=(e,t,r)=>!e||!t||e===t||Ei(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),gpe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,ype=(e,t)=>!Vy(Pt(e,t)).length&&Pn(e,t),f$=(e,t,r)=>{const n=Ei(Pt(e,r));return ds(n,"root",t[r]),ds(e,r,n),e},m1=e=>zl(e);function QR(e,t,r="validate"){if(m1(e)||Array.isArray(e)&&e.every(m1)||qi(e)&&!e)return{type:r,message:m1(e)?e:"",ref:t}}var Fm=e=>Cn(e)&&!K1(e)?e:{value:e,message:""},WA=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:d,maxLength:u,minLength:h,min:p,max:g,pattern:y,validate:w,name:v,valueAsNumber:N,mount:j}=e._f,A=Pt(r,v);if(!j||t.has(v))return{};const E=l?l[0]:o,S=q=>{a&&E.reportValidity&&(E.setCustomValidity(qi(q)?"":q||""),E.reportValidity())},_={},k=j4(o),T=Uy(o),O=k||T,P=(N||N4(o))&&Ws(o.value)&&Ws(A)||G1(o)&&o.value===""||A===""||Array.isArray(A)&&!A.length,I=a$.bind(null,v,n,_),M=(q,U,re,te=Mc.maxLength,B=Mc.minLength)=>{const H=q?U:re;_[v]={type:q?te:B,message:H,ref:o,...I(q?te:B,H)}};if(i?!Array.isArray(A)||!A.length:d&&(!O&&(P||Ja(A))||qi(A)&&!A||T&&!c$(l).isValid||k&&!u$(l).isValid)){const{value:q,message:U}=m1(d)?{value:!!d,message:d}:Fm(d);if(q&&(_[v]={type:Mc.required,message:U,ref:E,...I(Mc.required,U)},!n))return S(U),_}if(!P&&(!Ja(p)||!Ja(g))){let q,U;const re=Fm(g),te=Fm(p);if(!Ja(A)&&!isNaN(A)){const B=o.valueAsNumber||A&&+A;Ja(re.value)||(q=B>re.value),Ja(te.value)||(U=B<te.value)}else{const B=o.valueAsDate||new Date(A),H=W=>new Date(new Date().toDateString()+" "+W),R=o.type=="time",X=o.type=="week";zl(re.value)&&A&&(q=R?H(A)>H(re.value):X?A>re.value:B>new Date(re.value)),zl(te.value)&&A&&(U=R?H(A)<H(te.value):X?A<te.value:B<new Date(te.value))}if((q||U)&&(M(!!q,re.message,te.message,Mc.max,Mc.min),!n))return S(_[v].message),_}if((u||h)&&!P&&(zl(A)||i&&Array.isArray(A))){const q=Fm(u),U=Fm(h),re=!Ja(q.value)&&A.length>+q.value,te=!Ja(U.value)&&A.length<+U.value;if((re||te)&&(M(re,q.message,U.message),!n))return S(_[v].message),_}if(y&&!P&&zl(A)){const{value:q,message:U}=Fm(y);if(K1(q)&&!A.match(q)&&(_[v]={type:Mc.pattern,message:U,ref:o,...I(Mc.pattern,U)},!n))return S(U),_}if(w){if(el(w)){const q=await w(A,r),U=QR(q,E);if(U&&(_[v]={...U,...I(Mc.validate,U.message)},!n))return S(U.message),_}else if(Cn(w)){let q={};for(const U in w){if(!Fa(q)&&!n)break;const re=QR(await w[U](A,r),E,U);re&&(q={...re,...I(U,re.message)},S(re.message),n&&(_[v]=q))}if(!Fa(q)&&(_[v]={ref:E,...q},!n))return _}}return S(!0),_};const vpe={mode:jo.onSubmit,reValidateMode:jo.onChange,shouldFocusError:!0};function bpe(e={}){let t={...vpe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:el(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Cn(t.defaultValues)||Cn(t.values)?sn(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:sn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const g={array:zR(),state:zR()},y=sp(t.mode),w=sp(t.reValidateMode),v=t.criteriaMode===jo.all,N=ie=>be=>{clearTimeout(u),u=setTimeout(ie,be)},j=async ie=>{if(!t.disabled&&(h.isValid||p.isValid||ie)){const be=t.resolver?Fa((await P()).errors):await M(n,!0);be!==r.isValid&&g.state.next({isValid:be})}},A=(ie,be)=>{!t.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((ie||Array.from(l.mount)).forEach(De=>{De&&(be?ds(r.validatingFields,De,be):Pn(r.validatingFields,De))}),g.state.next({validatingFields:r.validatingFields,isValidating:!Fa(r.validatingFields)}))},E=(ie,be=[],De,lt,at=!0,ze=!0)=>{if(lt&&De&&!t.disabled){if(o.action=!0,ze&&Array.isArray(Pt(n,ie))){const rt=De(Pt(n,ie),lt.argA,lt.argB);at&&ds(n,ie,rt)}if(ze&&Array.isArray(Pt(r.errors,ie))){const rt=De(Pt(r.errors,ie),lt.argA,lt.argB);at&&ds(r.errors,ie,rt),ype(r.errors,ie)}if((h.touchedFields||p.touchedFields)&&ze&&Array.isArray(Pt(r.touchedFields,ie))){const rt=De(Pt(r.touchedFields,ie),lt.argA,lt.argB);at&&ds(r.touchedFields,ie,rt)}(h.dirtyFields||p.dirtyFields)&&(r.dirtyFields=Mx(a,i)),g.state.next({name:ie,isDirty:U(ie,be),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ds(i,ie,be)},S=(ie,be)=>{ds(r.errors,ie,be),g.state.next({errors:r.errors})},_=ie=>{r.errors=ie,g.state.next({errors:r.errors,isValid:!1})},k=(ie,be,De,lt)=>{const at=Pt(n,ie);if(at){const ze=Pt(i,ie,Ws(De)?Pt(a,ie):De);Ws(ze)||lt&&lt.defaultChecked||be?ds(i,ie,be?ze:YR(at._f)):B(ie,ze),o.mount&&j()}},T=(ie,be,De,lt,at)=>{let ze=!1,rt=!1;const Mt={name:ie};if(!t.disabled){if(!De||lt){(h.isDirty||p.isDirty)&&(rt=r.isDirty,r.isDirty=Mt.isDirty=U(),ze=rt!==Mt.isDirty);const Jt=Vc(Pt(a,ie),be);rt=!!Pt(r.dirtyFields,ie),Jt?Pn(r.dirtyFields,ie):ds(r.dirtyFields,ie,!0),Mt.dirtyFields=r.dirtyFields,ze=ze||(h.dirtyFields||p.dirtyFields)&&rt!==!Jt}if(De){const Jt=Pt(r.touchedFields,ie);Jt||(ds(r.touchedFields,ie,De),Mt.touchedFields=r.touchedFields,ze=ze||(h.touchedFields||p.touchedFields)&&Jt!==De)}ze&&at&&g.state.next(Mt)}return ze?Mt:{}},O=(ie,be,De,lt)=>{const at=Pt(r.errors,ie),ze=(h.isValid||p.isValid)&&qi(be)&&r.isValid!==be;if(t.delayError&&De?(d=N(()=>S(ie,De)),d(t.delayError)):(clearTimeout(u),d=null,De?ds(r.errors,ie,De):Pn(r.errors,ie)),(De?!Vc(at,De):at)||!Fa(lt)||ze){const rt={...lt,...ze&&qi(be)?{isValid:be}:{},errors:r.errors,name:ie};r={...r,...rt},g.state.next(rt)}},P=async ie=>{A(ie,!0);const be=await t.resolver(i,t.context,fpe(ie||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return A(ie),be},I=async ie=>{const{errors:be}=await P(ie);if(ie)for(const De of ie){const lt=Pt(be,De);lt?ds(r.errors,De,lt):Pn(r.errors,De)}else r.errors=be;return be},M=async(ie,be,De={valid:!0})=>{for(const lt in ie){const at=ie[lt];if(at){const{_f:ze,...rt}=at;if(ze){const Mt=l.array.has(ze.name),Jt=at._f&&hpe(at._f);Jt&&h.validatingFields&&A([lt],!0);const Br=await WA(at,l.disabled,i,v,t.shouldUseNativeValidation&&!be,Mt);if(Jt&&h.validatingFields&&A([lt]),Br[ze.name]&&(De.valid=!1,be))break;!be&&(Pt(Br,ze.name)?Mt?f$(r.errors,Br,ze.name):ds(r.errors,ze.name,Br[ze.name]):Pn(r.errors,ze.name))}!Fa(rt)&&await M(rt,be,De)}}return De.valid},q=()=>{for(const ie of l.unMount){const be=Pt(n,ie);be&&(be._f.refs?be._f.refs.every(De=>!MS(De)):!MS(be._f.ref))&&Z(ie)}l.unMount=new Set},U=(ie,be)=>!t.disabled&&(ie&&be&&ds(i,ie,be),!Vc(F(),a)),re=(ie,be,De)=>n$(ie,l,{...o.mount?i:Ws(be)?a:zl(ie)?{[ie]:be}:be},De,be),te=ie=>Vy(Pt(o.mount?i:a,ie,t.shouldUnregister?Pt(a,ie,[]):[])),B=(ie,be,De={})=>{const lt=Pt(n,ie);let at=be;if(lt){const ze=lt._f;ze&&(!ze.disabled&&ds(i,ie,d$(be,ze)),at=G1(ze.ref)&&Ja(be)?"":be,i$(ze.ref)?[...ze.ref.options].forEach(rt=>rt.selected=at.includes(rt.value)):ze.refs?Uy(ze.ref)?ze.refs.length>1?ze.refs.forEach(rt=>(!rt.defaultChecked||!rt.disabled)&&(rt.checked=Array.isArray(at)?!!at.find(Mt=>Mt===rt.value):at===rt.value)):ze.refs[0]&&(ze.refs[0].checked=!!at):ze.refs.forEach(rt=>rt.checked=rt.value===at):N4(ze.ref)?ze.ref.value="":(ze.ref.value=at,ze.ref.type||g.state.next({name:ie,values:sn(i)})))}(De.shouldDirty||De.shouldTouch)&&T(ie,at,De.shouldTouch,De.shouldDirty,!0),De.shouldValidate&&Y(ie)},H=(ie,be,De)=>{for(const lt in be){const at=be[lt],ze=`${ie}.${lt}`,rt=Pt(n,ze);(l.array.has(ie)||Cn(at)||rt&&!rt._f)&&!Uf(at)?H(ze,at,De):B(ze,at,De)}},R=(ie,be,De={})=>{const lt=Pt(n,ie),at=l.array.has(ie),ze=sn(be);ds(i,ie,ze),at?(g.array.next({name:ie,values:sn(i)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&De.shouldDirty&&g.state.next({name:ie,dirtyFields:Mx(a,i),isDirty:U(ie,ze)})):lt&&!lt._f&&!Ja(ze)?H(ie,ze,De):B(ie,ze,De),HA(ie,l)&&g.state.next({...r}),g.state.next({name:o.mount?ie:void 0,values:sn(i)})},X=async ie=>{o.mount=!0;const be=ie.target;let De=be.name,lt=!0;const at=Pt(n,De),ze=rt=>{lt=Number.isNaN(rt)||Uf(rt)&&isNaN(rt.getTime())||Vc(rt,Pt(i,De,rt))};if(at){let rt,Mt;const Jt=be.type?YR(at._f):QB(ie),Br=ie.type===W1.BLUR||ie.type===W1.FOCUS_OUT,ls=!mpe(at._f)&&!t.resolver&&!Pt(r.errors,De)&&!at._f.deps||gpe(Br,Pt(r.touchedFields,De),r.isSubmitted,w,y),xs=HA(De,l,Br);ds(i,De,Jt),Br?(at._f.onBlur&&at._f.onBlur(ie),d&&d(0)):at._f.onChange&&at._f.onChange(ie);const vt=T(De,Jt,Br),kr=!Fa(vt)||xs;if(!Br&&g.state.next({name:De,type:ie.type,values:sn(i)}),ls)return(h.isValid||p.isValid)&&(t.mode==="onBlur"?Br&&j():Br||j()),kr&&g.state.next({name:De,...xs?{}:vt});if(!Br&&xs&&g.state.next({...r}),t.resolver){const{errors:$t}=await P([De]);if(ze(Jt),lt){const Dr=XR(r.errors,n,De),qr=XR($t,n,Dr.name||De);rt=qr.error,De=qr.name,Mt=Fa($t)}}else A([De],!0),rt=(await WA(at,l.disabled,i,v,t.shouldUseNativeValidation))[De],A([De]),ze(Jt),lt&&(rt?Mt=!1:(h.isValid||p.isValid)&&(Mt=await M(n,!0)));lt&&(at._f.deps&&Y(at._f.deps),O(De,Mt,rt,vt))}},W=(ie,be)=>{if(Pt(r.errors,be)&&ie.focus)return ie.focus(),1},Y=async(ie,be={})=>{let De,lt;const at=Ei(ie);if(t.resolver){const ze=await I(Ws(ie)?ie:at);De=Fa(ze),lt=ie?!at.some(rt=>Pt(ze,rt)):De}else ie?(lt=(await Promise.all(at.map(async ze=>{const rt=Pt(n,ze);return await M(rt&&rt._f?{[ze]:rt}:rt)}))).every(Boolean),!(!lt&&!r.isValid)&&j()):lt=De=await M(n);return g.state.next({...!zl(ie)||(h.isValid||p.isValid)&&De!==r.isValid?{}:{name:ie},...t.resolver||!ie?{isValid:De}:{},errors:r.errors}),be.shouldFocus&&!lt&&yp(n,W,ie?at:l.mount),lt},F=ie=>{const be={...o.mount?i:a};return Ws(ie)?be:zl(ie)?Pt(be,ie):ie.map(De=>Pt(be,De))},z=(ie,be)=>({invalid:!!Pt((be||r).errors,ie),isDirty:!!Pt((be||r).dirtyFields,ie),error:Pt((be||r).errors,ie),isValidating:!!Pt(r.validatingFields,ie),isTouched:!!Pt((be||r).touchedFields,ie)}),K=ie=>{ie&&Ei(ie).forEach(be=>Pn(r.errors,be)),g.state.next({errors:ie?r.errors:{}})},V=(ie,be,De)=>{const lt=(Pt(n,ie,{_f:{}})._f||{}).ref,at=Pt(r.errors,ie)||{},{ref:ze,message:rt,type:Mt,...Jt}=at;ds(r.errors,ie,{...Jt,...be,ref:lt}),g.state.next({name:ie,errors:r.errors,isValid:!1}),De&&De.shouldFocus&&lt&&lt.focus&&lt.focus()},ae=(ie,be)=>el(ie)?g.state.subscribe({next:De=>ie(re(void 0,be),De)}):re(ie,be,!0),Q=ie=>g.state.subscribe({next:be=>{xpe(ie.name,be.name,ie.exact)&&ppe(be,ie.formState||h,ke,ie.reRenderRoot)&&ie.callback({values:{...i},...r,...be})}}).unsubscribe,se=ie=>(o.mount=!0,p={...p,...ie.formState},Q({...ie,formState:p})),Z=(ie,be={})=>{for(const De of ie?Ei(ie):l.mount)l.mount.delete(De),l.array.delete(De),be.keepValue||(Pn(n,De),Pn(i,De)),!be.keepError&&Pn(r.errors,De),!be.keepDirty&&Pn(r.dirtyFields,De),!be.keepTouched&&Pn(r.touchedFields,De),!be.keepIsValidating&&Pn(r.validatingFields,De),!t.shouldUnregister&&!be.keepDefaultValue&&Pn(a,De);g.state.next({values:sn(i)}),g.state.next({...r,...be.keepDirty?{isDirty:U()}:{}}),!be.keepIsValid&&j()},le=({disabled:ie,name:be})=>{(qi(ie)&&o.mount||ie||l.disabled.has(be))&&(ie?l.disabled.add(be):l.disabled.delete(be))},Te=(ie,be={})=>{let De=Pt(n,ie);const lt=qi(be.disabled)||qi(t.disabled);return ds(n,ie,{...De||{},_f:{...De&&De._f?De._f:{ref:{name:ie}},name:ie,mount:!0,...be}}),l.mount.add(ie),De?le({disabled:qi(be.disabled)?be.disabled:t.disabled,name:ie}):k(ie,!0,be.value),{...lt?{disabled:be.disabled||t.disabled}:{},...t.progressive?{required:!!be.required,min:Ix(be.min),max:Ix(be.max),minLength:Ix(be.minLength),maxLength:Ix(be.maxLength),pattern:Ix(be.pattern)}:{},name:ie,onChange:X,onBlur:X,ref:at=>{if(at){Te(ie,be),De=Pt(n,ie);const ze=Ws(at.value)&&at.querySelectorAll&&at.querySelectorAll("input,select,textarea")[0]||at,rt=cpe(ze),Mt=De._f.refs||[];if(rt?Mt.find(Jt=>Jt===ze):ze===De._f.ref)return;ds(n,ie,{_f:{...De._f,...rt?{refs:[...Mt.filter(MS),ze,...Array.isArray(Pt(a,ie))?[{}]:[]],ref:{type:ze.type,name:ie}}:{ref:ze}}}),k(ie,!1,void 0,ze)}else De=Pt(n,ie,{}),De._f&&(De._f.mount=!1),(t.shouldUnregister||be.shouldUnregister)&&!(ZB(l.array,ie)&&o.action)&&l.unMount.add(ie)}}},Ee=()=>t.shouldFocusError&&yp(n,W,l.mount),Ze=ie=>{qi(ie)&&(g.state.next({disabled:ie}),yp(n,(be,De)=>{const lt=Pt(n,De);lt&&(be.disabled=lt._f.disabled||ie,Array.isArray(lt._f.refs)&&lt._f.refs.forEach(at=>{at.disabled=lt._f.disabled||ie}))},0,!1))},Be=(ie,be)=>async De=>{let lt;De&&(De.preventDefault&&De.preventDefault(),De.persist&&De.persist());let at=sn(i);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:ze,values:rt}=await P();r.errors=ze,at=rt}else await M(n);if(l.disabled.size)for(const ze of l.disabled)ds(at,ze,void 0);if(Pn(r.errors,"root"),Fa(r.errors)){g.state.next({errors:{}});try{await ie(at,De)}catch(ze){lt=ze}}else be&&await be({...r.errors},De),Ee(),setTimeout(Ee);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fa(r.errors)&&!lt,submitCount:r.submitCount+1,errors:r.errors}),lt)throw lt},Ie=(ie,be={})=>{Pt(n,ie)&&(Ws(be.defaultValue)?R(ie,sn(Pt(a,ie))):(R(ie,be.defaultValue),ds(a,ie,sn(be.defaultValue))),be.keepTouched||Pn(r.touchedFields,ie),be.keepDirty||(Pn(r.dirtyFields,ie),r.isDirty=be.defaultValue?U(ie,sn(Pt(a,ie))):U()),be.keepError||(Pn(r.errors,ie),h.isValid&&j()),g.state.next({...r}))},Ne=(ie,be={})=>{const De=ie?sn(ie):a,lt=sn(De),at=Fa(ie),ze=at?a:lt;if(be.keepDefaultValues||(a=De),!be.keepValues){if(be.keepDirtyValues){const rt=new Set([...l.mount,...Object.keys(Mx(a,i))]);for(const Mt of Array.from(rt))Pt(r.dirtyFields,Mt)?ds(ze,Mt,Pt(i,Mt)):R(Mt,Pt(ze,Mt))}else{if(b4&&Ws(ie))for(const rt of l.mount){const Mt=Pt(n,rt);if(Mt&&Mt._f){const Jt=Array.isArray(Mt._f.refs)?Mt._f.refs[0]:Mt._f.ref;if(G1(Jt)){const Br=Jt.closest("form");if(Br){Br.reset();break}}}}for(const rt of l.mount)R(rt,Pt(ze,rt))}i=sn(ze),g.array.next({values:{...ze}}),g.state.next({values:{...ze}})}l={mount:be.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!be.keepIsValid||!!be.keepDirtyValues,o.watch=!!t.shouldUnregister,g.state.next({submitCount:be.keepSubmitCount?r.submitCount:0,isDirty:at?!1:be.keepDirty?r.isDirty:!!(be.keepDefaultValues&&!Vc(ie,a)),isSubmitted:be.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:at?{}:be.keepDirtyValues?be.keepDefaultValues&&i?Mx(a,i):r.dirtyFields:be.keepDefaultValues&&ie?Mx(a,ie):be.keepDirty?r.dirtyFields:{},touchedFields:be.keepTouched?r.touchedFields:{},errors:be.keepErrors?r.errors:{},isSubmitSuccessful:be.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},fe=(ie,be)=>Ne(el(ie)?ie(i):ie,be),de=(ie,be={})=>{const De=Pt(n,ie),lt=De&&De._f;if(lt){const at=lt.refs?lt.refs[0]:lt.ref;at.focus&&(at.focus(),be.shouldSelect&&el(at.select)&&at.select())}},ke=ie=>{r={...r,...ie}},Re={control:{register:Te,unregister:Z,getFieldState:z,handleSubmit:Be,setError:V,_subscribe:Q,_runSchema:P,_getWatch:re,_getDirty:U,_setValid:j,_setFieldArray:E,_setDisabledField:le,_setErrors:_,_getFieldArray:te,_reset:Ne,_resetDefaultValues:()=>el(t.defaultValues)&&t.defaultValues().then(ie=>{fe(ie,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:Ze,_subjects:g,_proxyFormState:h,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(ie){o=ie},get _defaultValues(){return a},get _names(){return l},set _names(ie){l=ie},get _formState(){return r},get _options(){return t},set _options(ie){t={...t,...ie}}},subscribe:se,trigger:Y,register:Te,handleSubmit:Be,watch:ae,setValue:R,getValues:F,reset:fe,resetField:Ie,clearErrors:K,unregister:Z,setError:V,setFocus:de,getFieldState:z};return{...Re,formControl:Re}}var su=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},IS=(e,t,r={})=>r.shouldFocus||Ws(r.shouldFocus)?r.focusName||`${e}.${Ws(r.focusIndex)?t:r.focusIndex}.`:"",FS=(e,t)=>[...e,...Ei(t)],LS=e=>Array.isArray(e)?e.map(()=>{}):void 0;function BS(e,t,r){return[...e.slice(0,t),...Ei(r),...e.slice(t)]}var $S=(e,t,r)=>Array.isArray(e)?(Ws(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],US=(e,t)=>[...Ei(t),...Ei(e)];function wpe(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return Vy(n).length?n:[]}var VS=(e,t)=>Ws(t)?[]:wpe(e,Ei(t).sort((r,n)=>r-n)),qS=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},ZR=(e,t,r)=>(e[t]=r,e);function zy(e){const t=qy(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i,rules:o}=e,[l,d]=je.useState(r._getFieldArray(n)),u=je.useRef(r._getFieldArray(n).map(su)),h=je.useRef(l),p=je.useRef(n),g=je.useRef(!1);p.current=n,h.current=l,r._names.array.add(n),o&&r.register(n,o),je.useEffect(()=>r._subjects.array.subscribe({next:({values:k,name:T})=>{if(T===p.current||!T){const O=Pt(k,p.current);Array.isArray(O)&&(d(O),u.current=O.map(su))}}}).unsubscribe,[r]);const y=je.useCallback(k=>{g.current=!0,r._setFieldArray(n,k)},[r,n]),w=(k,T)=>{const O=Ei(sn(k)),P=FS(r._getFieldArray(n),O);r._names.focus=IS(n,P.length-1,T),u.current=FS(u.current,O.map(su)),y(P),d(P),r._setFieldArray(n,P,FS,{argA:LS(k)})},v=(k,T)=>{const O=Ei(sn(k)),P=US(r._getFieldArray(n),O);r._names.focus=IS(n,0,T),u.current=US(u.current,O.map(su)),y(P),d(P),r._setFieldArray(n,P,US,{argA:LS(k)})},N=k=>{const T=VS(r._getFieldArray(n),k);u.current=VS(u.current,k),y(T),d(T),!Array.isArray(Pt(r._fields,n))&&ds(r._fields,n,void 0),r._setFieldArray(n,T,VS,{argA:k})},j=(k,T,O)=>{const P=Ei(sn(T)),I=BS(r._getFieldArray(n),k,P);r._names.focus=IS(n,k,O),u.current=BS(u.current,k,P.map(su)),y(I),d(I),r._setFieldArray(n,I,BS,{argA:k,argB:LS(T)})},A=(k,T)=>{const O=r._getFieldArray(n);qS(O,k,T),qS(u.current,k,T),y(O),d(O),r._setFieldArray(n,O,qS,{argA:k,argB:T},!1)},E=(k,T)=>{const O=r._getFieldArray(n);$S(O,k,T),$S(u.current,k,T),y(O),d(O),r._setFieldArray(n,O,$S,{argA:k,argB:T},!1)},S=(k,T)=>{const O=sn(T),P=ZR(r._getFieldArray(n),k,O);u.current=[...P].map((I,M)=>!I||M===k?su():u.current[M]),y(P),d([...P]),r._setFieldArray(n,P,ZR,{argA:k,argB:O},!0,!1)},_=k=>{const T=Ei(sn(k));u.current=T.map(su),y([...T]),d([...T]),r._setFieldArray(n,[...T],O=>O,{},!0,!1)};return je.useEffect(()=>{if(r._state.action=!1,HA(n,r._names)&&r._subjects.state.next({...r._formState}),g.current&&(!sp(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!sp(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(k=>{const T=Pt(k.errors,n),O=Pt(r._formState.errors,n);(O?!T&&O.type||T&&(O.type!==T.type||O.message!==T.message):T&&T.type)&&(T?ds(r._formState.errors,n,T):Pn(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const k=Pt(r._fields,n);k&&k._f&&!(sp(r._options.reValidateMode).isOnSubmit&&sp(r._options.mode).isOnSubmit)&&WA(k,r._names.disabled,r._formValues,r._options.criteriaMode===jo.all,r._options.shouldUseNativeValidation,!0).then(T=>!Fa(T)&&r._subjects.state.next({errors:f$(r._formState.errors,T,n)}))}r._subjects.state.next({name:n,values:sn(r._formValues)}),r._names.focus&&yp(r._fields,(k,T)=>{if(r._names.focus&&T.startsWith(r._names.focus)&&k.focus)return k.focus(),1}),r._names.focus="",r._setValid(),g.current=!1},[l,n,r]),je.useEffect(()=>(!Pt(r._formValues,n)&&r._setFieldArray(n),()=>{const k=(T,O)=>{const P=Pt(r._fields,T);P&&P._f&&(P._f.mount=O)};r._options.shouldUnregister||i?r.unregister(n):k(n,!1)}),[n,r,a,i]),{swap:je.useCallback(A,[y,n,r]),move:je.useCallback(E,[y,n,r]),prepend:je.useCallback(v,[y,n,r]),append:je.useCallback(w,[y,n,r]),remove:je.useCallback(N,[y,n,r]),insert:je.useCallback(j,[y,n,r]),update:je.useCallback(S,[y,n,r]),replace:je.useCallback(_,[y,n,r]),fields:je.useMemo(()=>l.map((k,T)=>({...k,[a]:u.current[T]||su()})),[l,a])}}const Npe=typeof window<"u"?je.useLayoutEffect:je.useEffect;function Js(e={}){const t=je.useRef(void 0),r=je.useRef(void 0),[n,a]=je.useState({isDirty:!1,isValidating:!1,isLoading:el(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:el(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:bpe(e),formState:n},e.formControl&&e.defaultValues&&!el(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,Npe(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),o},[i]),je.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),je.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode),e.errors&&!Fa(e.errors)&&i._setErrors(e.errors)},[i,e.errors,e.mode,e.reValidateMode]),je.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),je.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),je.useEffect(()=>{e.values&&!Vc(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),je.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=t$(n,i),t.current}const JR=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Pt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},h$=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?JR(n.ref,r,e):n&&n.refs&&n.refs.forEach(a=>JR(a,r,e))}},jpe=(e,t)=>{t.shouldUseNativeValidation&&h$(e,t);const r={};for(const n in e){const a=Pt(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(Spe(t.names||Object.keys(e),n)){const o=Object.assign({},Pt(r,n));ds(o,"root",i),ds(r,n,o)}else ds(r,n,i)}return r},Spe=(e,t)=>{const r=e5(t);return e.some(n=>e5(n).match(`^${r}\\.\\d+`))};function e5(e){return e.replace(/\]|\[/g,"")}function Epe(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(p){return e.push(p)})}),t){var d=r[o].types,u=d&&d[n.code];r[o]=a$(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r}function en(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var d=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&h$({},i),{errors:{},values:r.raw?Object.assign({},n):u}})}catch(u){return l(u)}return d&&d.then?d.then(void 0,l):d}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:jpe(Epe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}}function GA(e,[t,r]){return Math.min(r,Math.max(t,e))}var Ape="DismissableLayer",YA="dismissableLayer.update",Cpe="dismissableLayer.pointerDownOutside",Tpe="dismissableLayer.focusOutside",t5,m$=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),p$=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=m.useContext(m$),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),w=Yt(t,T=>p(T)),v=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=v.indexOf(N),A=h?v.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,S=A>=j,_=Dpe(T=>{const O=T.target,P=[...u.branches].some(I=>I.contains(O));!S||P||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),k=Ope(T=>{const O=T.target;[...u.branches].some(I=>I.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return f0(T=>{A===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(t5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),r5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=t5)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),r5())},[h,u]),m.useEffect(()=>{const T=()=>y({});return document.addEventListener(YA,T),()=>document.removeEventListener(YA,T)},[]),s.jsx(qt.div,{...d,ref:w,style:{pointerEvents:E?S?"auto":"none":void 0,...e.style},onFocusCapture:wt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:wt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:wt(e.onPointerDownCapture,_.onPointerDownCapture)})});p$.displayName=Ape;var _pe="DismissableLayerBranch",kpe=m.forwardRef((e,t)=>{const r=m.useContext(m$),n=m.useRef(null),a=Yt(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(qt.div,{...e,ref:a})});kpe.displayName=_pe;function Dpe(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let d=function(){x$(Cpe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Ope(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&x$(Tpe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function r5(){const e=new CustomEvent(YA);document.dispatchEvent(e)}function x$(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?x0(a,i):a.dispatchEvent(i)}var zS="focusScope.autoFocusOnMount",HS="focusScope.autoFocusOnUnmount",s5={bubbles:!1,cancelable:!0},Ppe="FocusScope",g$=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,d]=m.useState(null),u=Zr(a),h=Zr(i),p=m.useRef(null),g=Yt(t,v=>d(v)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(E){if(y.paused||!l)return;const S=E.target;l.contains(S)?p.current=S:fu(p.current,{select:!0})},N=function(E){if(y.paused||!l)return;const S=E.relatedTarget;S!==null&&(l.contains(S)||fu(p.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const _ of E)_.removedNodes.length>0&&fu(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",N);const A=new MutationObserver(j);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",N),A.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){a5.add(y);const v=document.activeElement;if(!l.contains(v)){const j=new CustomEvent(zS,s5);l.addEventListener(zS,u),l.dispatchEvent(j),j.defaultPrevented||(Rpe(Bpe(y$(l)),{select:!0}),document.activeElement===v&&fu(l))}return()=>{l.removeEventListener(zS,u),setTimeout(()=>{const j=new CustomEvent(HS,s5);l.addEventListener(HS,h),l.dispatchEvent(j),j.defaultPrevented||fu(v??document.body,{select:!0}),l.removeEventListener(HS,h),a5.remove(y)},0)}}},[l,u,h,y]);const w=m.useCallback(v=>{if(!r&&!n||y.paused)return;const N=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,j=document.activeElement;if(N&&j){const A=v.currentTarget,[E,S]=Mpe(A);E&&S?!v.shiftKey&&j===S?(v.preventDefault(),r&&fu(E,{select:!0})):v.shiftKey&&j===E&&(v.preventDefault(),r&&fu(S,{select:!0})):j===A&&v.preventDefault()}},[r,n,y.paused]);return s.jsx(qt.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});g$.displayName=Ppe;function Rpe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(fu(n,{select:t}),document.activeElement!==r)return}function Mpe(e){const t=y$(e),r=n5(t,e),n=n5(t.reverse(),e);return[r,n]}function y$(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function n5(e,t){for(const r of e)if(!Ipe(r,{upTo:t}))return r}function Ipe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Fpe(e){return e instanceof HTMLInputElement&&"select"in e}function fu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Fpe(e)&&t&&e.select()}}var a5=Lpe();function Lpe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=i5(e,t),e.unshift(t)},remove(t){var r;e=i5(e,t),(r=e[0])==null||r.resume()}}}function i5(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Bpe(e){return e.filter(t=>t.tagName!=="A")}var $pe="Portal",v$=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=m.useState(!1);Os(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?pd.createPortal(s.jsx(qt.div,{...n,ref:t}),o):null});v$.displayName=$pe;function Upe(e){const t=Vpe(e),r=m.forwardRef((n,a)=>{const{children:i,...o}=n,l=m.Children.toArray(i),d=l.find(zpe);if(d){const u=d.props.children,h=l.map(p=>p===d?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return s.jsx(t,{...o,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Vpe(e){const t=m.forwardRef((r,n)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const o=Wpe(a),l=Hpe(i,a.props);return a.type!==m.Fragment&&(l.ref=n?xd(n,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qpe=Symbol("radix.slottable");function zpe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qpe}function Hpe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Wpe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function uN(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gpe=[" ","Enter","ArrowUp","ArrowDown"],Ype=[" ","Enter"],gh="Select",[fN,hN,Kpe]=MT(gh),[A0,gFe]=pa(gh,[Kpe,tf]),mN=tf(),[Xpe,nf]=A0(gh),[Qpe,Zpe]=A0(gh),b$=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:u,name:h,autoComplete:p,disabled:g,required:y,form:w}=e,v=mN(t),[N,j]=m.useState(null),[A,E]=m.useState(null),[S,_]=m.useState(!1),k=Ty(u),[T,O]=Do({prop:n,defaultProp:a??!1,onChange:i,caller:gh}),[P,I]=Do({prop:o,defaultProp:l,onChange:d,caller:gh}),M=m.useRef(null),q=N?w||!!N.closest("form"):!0,[U,re]=m.useState(new Set),te=Array.from(U).map(B=>B.props.value).join(";");return s.jsx(Qw,{...v,children:s.jsxs(Xpe,{required:y,scope:t,trigger:N,onTriggerChange:j,valueNode:A,onValueNodeChange:E,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:ii(),value:P,onValueChange:I,open:T,onOpenChange:O,dir:k,triggerPointerDownPosRef:M,disabled:g,children:[s.jsx(fN.Provider,{scope:t,children:s.jsx(Qpe,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(B=>{re(H=>new Set(H).add(B))},[]),onNativeOptionRemove:m.useCallback(B=>{re(H=>{const R=new Set(H);return R.delete(B),R})},[]),children:r})}),q?s.jsxs(V$,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:p,value:P,onChange:B=>I(B.target.value),disabled:g,form:w,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},te):null]})})};b$.displayName=gh;var w$="SelectTrigger",N$=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=mN(r),o=nf(w$,r),l=o.disabled||n,d=Yt(t,o.onTriggerChange),u=hN(r),h=m.useRef("touch"),[p,g,y]=z$(v=>{const N=u().filter(E=>!E.disabled),j=N.find(E=>E.value===o.value),A=H$(N,v,j);A!==void 0&&o.onValueChange(A.value)}),w=v=>{l||(o.onOpenChange(!0),y()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(ky,{asChild:!0,...i,children:s.jsx(qt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":q$(o.value)?"":void 0,...a,ref:d,onClick:wt(a.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&w(v)}),onPointerDown:wt(a.onPointerDown,v=>{h.current=v.pointerType;const N=v.target;N.hasPointerCapture(v.pointerId)&&N.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:wt(a.onKeyDown,v=>{const N=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(N&&v.key===" ")&&Gpe.includes(v.key)&&(w(),v.preventDefault())})})})});N$.displayName=w$;var j$="SelectValue",S$=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,d=nf(j$,r),{onValueNodeHasChildrenChange:u}=d,h=i!==void 0,p=Yt(t,d.onValueNodeChange);return Os(()=>{u(h)},[u,h]),s.jsx(qt.span,{...l,ref:p,style:{pointerEvents:"none"},children:q$(d.value)?s.jsx(s.Fragment,{children:o}):i})});S$.displayName=j$;var Jpe="SelectIcon",E$=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(qt.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});E$.displayName=Jpe;var e0e="SelectPortal",A$=e=>s.jsx(v$,{asChild:!0,...e});A$.displayName=e0e;var yh="SelectContent",C$=m.forwardRef((e,t)=>{const r=nf(yh,e.__scopeSelect),[n,a]=m.useState();if(Os(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Ju.createPortal(s.jsx(T$,{scope:e.__scopeSelect,children:s.jsx(fN.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(_$,{...e,ref:t})});C$.displayName=yh;var Wo=10,[T$,af]=A0(yh),t0e="SelectContentImpl",r0e=Upe("SelectContent.RemoveScroll"),_$=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:N,...j}=e,A=nf(yh,r),[E,S]=m.useState(null),[_,k]=m.useState(null),T=Yt(t,Q=>S(Q)),[O,P]=m.useState(null),[I,M]=m.useState(null),q=hN(r),[U,re]=m.useState(!1),te=m.useRef(!1);m.useEffect(()=>{if(E)return kh(E)},[E]),Ey();const B=m.useCallback(Q=>{const[se,...Z]=q().map(Ee=>Ee.ref.current),[le]=Z.slice(-1),Te=document.activeElement;for(const Ee of Q)if(Ee===Te||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===se&&_&&(_.scrollTop=0),Ee===le&&_&&(_.scrollTop=_.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==Te))return},[q,_]),H=m.useCallback(()=>B([O,E]),[B,O,E]);m.useEffect(()=>{U&&H()},[U,H]);const{onOpenChange:R,triggerPointerDownPosRef:X}=A;m.useEffect(()=>{if(E){let Q={x:0,y:0};const se=le=>{var Te,Ee;Q={x:Math.abs(Math.round(le.pageX)-(((Te=X.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(le.pageY)-(((Ee=X.current)==null?void 0:Ee.y)??0))}},Z=le=>{Q.x<=10&&Q.y<=10?le.preventDefault():E.contains(le.target)||R(!1),document.removeEventListener("pointermove",se),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",Z,{capture:!0})}}},[E,R,X]),m.useEffect(()=>{const Q=()=>R(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[R]);const[W,Y]=z$(Q=>{const se=q().filter(Te=>!Te.disabled),Z=se.find(Te=>Te.ref.current===document.activeElement),le=H$(se,Q,Z);le&&setTimeout(()=>le.ref.current.focus())}),F=m.useCallback((Q,se,Z)=>{const le=!te.current&&!Z;(A.value!==void 0&&A.value===se||le)&&(P(Q),le&&(te.current=!0))},[A.value]),z=m.useCallback(()=>E==null?void 0:E.focus(),[E]),K=m.useCallback((Q,se,Z)=>{const le=!te.current&&!Z;(A.value!==void 0&&A.value===se||le)&&M(Q)},[A.value]),V=n==="popper"?KA:k$,ae=V===KA?{side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:N}:{};return s.jsx(T$,{scope:r,content:E,viewport:_,onViewportChange:k,itemRefCallback:F,selectedItem:O,onItemLeave:z,itemTextRefCallback:K,focusSelectedItem:H,selectedItemText:I,position:n,isPositioned:U,searchRef:W,children:s.jsx(ef,{as:r0e,allowPinchZoom:!0,children:s.jsx(g$,{asChild:!0,trapped:A.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:wt(a,Q=>{var se;(se=A.trigger)==null||se.focus({preventScroll:!0}),Q.preventDefault()}),children:s.jsx(p$,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:s.jsx(V,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:Q=>Q.preventDefault(),...j,...ae,onPlaced:()=>re(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:wt(j.onKeyDown,Q=>{const se=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!se&&Q.key.length===1&&Y(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let le=q().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const Te=Q.target,Ee=le.indexOf(Te);le=le.slice(Ee+1)}setTimeout(()=>B(le)),Q.preventDefault()}})})})})})})});_$.displayName=t0e;var s0e="SelectItemAlignedPosition",k$=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=nf(yh,r),o=af(yh,r),[l,d]=m.useState(null),[u,h]=m.useState(null),p=Yt(t,T=>h(T)),g=hN(r),y=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:N,selectedItemText:j,focusSelectedItem:A}=o,E=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&N&&j){const T=i.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),I=j.getBoundingClientRect();if(i.dir!=="rtl"){const Te=I.left-O.left,Ee=P.left-Te,Ze=T.left-Ee,Be=T.width+Ze,Ie=Math.max(Be,O.width),Ne=window.innerWidth-Wo,fe=GA(Ee,[Wo,Math.max(Wo,Ne-Ie)]);l.style.minWidth=Be+"px",l.style.left=fe+"px"}else{const Te=O.right-I.right,Ee=window.innerWidth-P.right-Te,Ze=window.innerWidth-T.right-Ee,Be=T.width+Ze,Ie=Math.max(Be,O.width),Ne=window.innerWidth-Wo,fe=GA(Ee,[Wo,Math.max(Wo,Ne-Ie)]);l.style.minWidth=Be+"px",l.style.right=fe+"px"}const M=g(),q=window.innerHeight-Wo*2,U=v.scrollHeight,re=window.getComputedStyle(u),te=parseInt(re.borderTopWidth,10),B=parseInt(re.paddingTop,10),H=parseInt(re.borderBottomWidth,10),R=parseInt(re.paddingBottom,10),X=te+B+U+R+H,W=Math.min(N.offsetHeight*5,X),Y=window.getComputedStyle(v),F=parseInt(Y.paddingTop,10),z=parseInt(Y.paddingBottom,10),K=T.top+T.height/2-Wo,V=q-K,ae=N.offsetHeight/2,Q=N.offsetTop+ae,se=te+B+Q,Z=X-se;if(se<=K){const Te=M.length>0&&N===M[M.length-1].ref.current;l.style.bottom="0px";const Ee=u.clientHeight-v.offsetTop-v.offsetHeight,Ze=Math.max(V,ae+(Te?z:0)+Ee+H),Be=se+Ze;l.style.height=Be+"px"}else{const Te=M.length>0&&N===M[0].ref.current;l.style.top="0px";const Ze=Math.max(K,te+v.offsetTop+(Te?F:0)+ae)+Z;l.style.height=Ze+"px",v.scrollTop=se-K+v.offsetTop}l.style.margin=`${Wo}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=q+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[g,i.trigger,i.valueNode,l,u,v,N,j,i.dir,n]);Os(()=>E(),[E]);const[S,_]=m.useState();Os(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const k=m.useCallback(T=>{T&&w.current===!0&&(E(),A==null||A(),w.current=!1)},[E,A]);return s.jsx(a0e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:k,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(qt.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});k$.displayName=s0e;var n0e="SelectPopperPosition",KA=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Wo,...i}=e,o=mN(r);return s.jsx(Zw,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});KA.displayName=n0e;var[a0e,S4]=A0(yh,{}),XA="SelectViewport",D$=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=af(XA,r),o=S4(XA,r),l=Yt(t,i.onViewportChange),d=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(fN.Slot,{scope:r,children:s.jsx(qt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:wt(a.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const y=Math.abs(d.current-h.scrollTop);if(y>0){const w=window.innerHeight-Wo*2,v=parseFloat(p.style.minHeight),N=parseFloat(p.style.height),j=Math.max(v,N);if(j<w){const A=j+y,E=Math.min(w,A),S=A-E;p.style.height=E+"px",p.style.bottom==="0px"&&(h.scrollTop=S>0?S:0,p.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});D$.displayName=XA;var O$="SelectGroup",[i0e,o0e]=A0(O$),l0e=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ii();return s.jsx(i0e,{scope:r,id:a,children:s.jsx(qt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});l0e.displayName=O$;var P$="SelectLabel",c0e=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=o0e(P$,r);return s.jsx(qt.div,{id:a.id,...n,ref:t})});c0e.displayName=P$;var X1="SelectItem",[d0e,R$]=A0(X1),M$=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=nf(X1,r),d=af(X1,r),u=l.value===n,[h,p]=m.useState(i??""),[g,y]=m.useState(!1),w=Yt(t,A=>{var E;return(E=d.itemRefCallback)==null?void 0:E.call(d,A,n,a)}),v=ii(),N=m.useRef("touch"),j=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(d0e,{scope:r,value:n,disabled:a,textId:v,isSelected:u,onItemTextChange:m.useCallback(A=>{p(E=>E||((A==null?void 0:A.textContent)??"").trim())},[]),children:s.jsx(fN.ItemSlot,{scope:r,value:n,disabled:a,textValue:h,children:s.jsx(qt.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:w,onFocus:wt(o.onFocus,()=>y(!0)),onBlur:wt(o.onBlur,()=>y(!1)),onClick:wt(o.onClick,()=>{N.current!=="mouse"&&j()}),onPointerUp:wt(o.onPointerUp,()=>{N.current==="mouse"&&j()}),onPointerDown:wt(o.onPointerDown,A=>{N.current=A.pointerType}),onPointerMove:wt(o.onPointerMove,A=>{var E;N.current=A.pointerType,a?(E=d.onItemLeave)==null||E.call(d):N.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:wt(o.onPointerLeave,A=>{var E;A.currentTarget===document.activeElement&&((E=d.onItemLeave)==null||E.call(d))}),onKeyDown:wt(o.onKeyDown,A=>{var S;((S=d.searchRef)==null?void 0:S.current)!==""&&A.key===" "||(Ype.includes(A.key)&&j(),A.key===" "&&A.preventDefault())})})})})});M$.displayName=X1;var Kx="SelectItemText",I$=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=nf(Kx,r),l=af(Kx,r),d=R$(Kx,r),u=Zpe(Kx,r),[h,p]=m.useState(null),g=Yt(t,j=>p(j),d.onItemTextChange,j=>{var A;return(A=l.itemTextRefCallback)==null?void 0:A.call(l,j,d.value,d.disabled)}),y=h==null?void 0:h.textContent,w=m.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:N}=u;return Os(()=>(v(w),()=>N(w)),[v,N,w]),s.jsxs(s.Fragment,{children:[s.jsx(qt.span,{id:d.textId,...i,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ju.createPortal(i.children,o.valueNode):null]})});I$.displayName=Kx;var F$="SelectItemIndicator",L$=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return R$(F$,r).isSelected?s.jsx(qt.span,{"aria-hidden":!0,...n,ref:t}):null});L$.displayName=F$;var QA="SelectScrollUpButton",B$=m.forwardRef((e,t)=>{const r=af(QA,e.__scopeSelect),n=S4(QA,e.__scopeSelect),[a,i]=m.useState(!1),o=Yt(t,n.onScrollButtonChange);return Os(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(U$,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});B$.displayName=QA;var ZA="SelectScrollDownButton",$$=m.forwardRef((e,t)=>{const r=af(ZA,e.__scopeSelect),n=S4(ZA,e.__scopeSelect),[a,i]=m.useState(!1),o=Yt(t,n.onScrollButtonChange);return Os(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<u;i(h)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(U$,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});$$.displayName=ZA;var U$=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=af("SelectScrollButton",r),o=m.useRef(null),l=hN(r),d=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>d(),[d]),Os(()=>{var h;const u=l().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(qt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:wt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:wt(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:wt(a.onPointerLeave,()=>{d()})})}),u0e="SelectSeparator",f0e=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(qt.div,{"aria-hidden":!0,...n,ref:t})});f0e.displayName=u0e;var JA="SelectArrow",h0e=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=mN(r),i=nf(JA,r),o=af(JA,r);return i.open&&o.position==="popper"?s.jsx(Jw,{...a,...n,ref:t}):null});h0e.displayName=JA;var m0e="SelectBubbleInput",V$=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=m.useRef(null),i=Yt(n,a),o=uN(t);return m.useEffect(()=>{const l=a.current;if(!l)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&h){const p=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(p)}},[o,t]),s.jsx(qt.select,{...r,style:{...o9,...r.style},ref:i,defaultValue:t})});V$.displayName=m0e;function q$(e){return e===""||e===void 0}function z$(e){const t=Zr(e),r=m.useRef(""),n=m.useRef(0),a=m.useCallback(o=>{const l=r.current+o;t(l),function d(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function H$(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=p0e(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function p0e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var x0e=b$,g0e=N$,y0e=S$,v0e=E$,b0e=A$,w0e=C$,N0e=D$,j0e=M$,S0e=I$,E0e=L$,A0e=B$,C0e=$$;function It({...e}){return s.jsx(x0e,{"data-slot":"select",...e})}function Ft({...e}){return s.jsx(y0e,{"data-slot":"select-value",...e})}function Lt({className:e,size:t="default",children:r,...n}){return s.jsxs(g0e,{"data-slot":"select-trigger","data-size":t,className:Xe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full min-w-0 items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 *:data-[slot=select-value]:overflow-hidden *:data-[slot=select-value]:text-ellipsis [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,s.jsx(v0e,{asChild:!0,children:s.jsx(ri,{className:"size-4 opacity-50"})})]})}function Bt({className:e,children:t,position:r="popper",...n}){return s.jsx(b0e,{children:s.jsxs(w0e,{"data-slot":"select-content",className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(T0e,{}),s.jsx(N0e,{className:Xe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(_0e,{})]})})}function Je({className:e,children:t,...r}){return s.jsxs(j0e,{"data-slot":"select-item",className:Xe("focus:bg-accent focus:text-gray-700-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(E0e,{children:s.jsx(vy,{className:"size-4"})})}),s.jsx(S0e,{children:t})]})}function T0e({className:e,...t}){return s.jsx(A0e,{"data-slot":"select-scroll-up-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ul,{className:"size-4"})})}function _0e({className:e,...t}){return s.jsx(C0e,{"data-slot":"select-scroll-down-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ri,{className:"size-4"})})}function Hu({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:Xe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const k0e=ys({wastageNo:it().optional(),wastageDate:rd(),invoiceNo:it().min(1,"Invoice number is required"),invoiceDate:rd(),depotId:it().min(1,"Depot is required"),notes:it().optional(),details:_h(ys({productId:it().min(1,"Product is required"),variantId:it().min(1,"Variant is required"),quantity:ki().min(1,"Quantity must be at least 1")})).min(1,"Add at least one line item")});function WS(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function o5(e){return!!e&&!isNaN(e.getTime())}function l5({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=m.useState(!1),[l,d]=m.useState(e),[u,h]=m.useState(WS(e));return m.useEffect(()=>{h(WS(e)),o5(e)&&d(e)},[e]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ye,{htmlFor:n,children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(He,{id:n,value:u,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:p=>{const g=p.target.value;h(g);const y=new Date(g);o5(y)?(t(y),d(y)):t(void 0)}}),s.jsxs(cc,{open:i,onOpenChange:o,children:[s.jsx(dc,{asChild:!0,children:s.jsx(pe,{variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 size-6",type:"button",children:s.jsx(ra,{className:"size-3.5"})})}),s.jsx(uc,{className:"p-0",children:s.jsx(yd,{mode:"single",selected:e,month:l,captionLayout:"dropdown",onMonthChange:d,fromDate:a,onSelect:p=>{t(p),h(WS(p)),o(!1)}})})]})]})]})}const W$=({mode:e,wastageId:t,initialData:r,onSuccess:n})=>{var U;const a=Cr(),i=yn(),o=typeof window<"u"?localStorage.getItem("user"):null,l=o?JSON.parse(o):null,{register:d,control:u,handleSubmit:h,setValue:p,watch:g,formState:{errors:y}}=Js({resolver:en(k0e),defaultValues:{wastageNo:e==="edit"?r==null?void 0:r.wastageNo:"",wastageDate:e==="edit"&&(r!=null&&r.wastageDate)?new Date(r.wastageDate):new Date,invoiceNo:(r==null?void 0:r.invoiceNo)||"",invoiceDate:e==="edit"&&(r!=null&&r.invoiceDate)?new Date(r.invoiceDate):new Date,depotId:e==="edit"&&(r!=null&&r.depotId)?String(r.depotId):l!=null&&l.depotId?String(l.depotId):"",notes:(r==null?void 0:r.notes)||"",details:e==="edit"&&((U=r==null?void 0:r.details)!=null&&U.length)?r.details.map(re=>({productId:String(re.productId),variantId:String(re.variantId),quantity:re.quantity})):[{productId:"",variantId:"",quantity:1}]}}),[w,v]=m.useState([]),[N,j]=m.useState([]),[A,E]=m.useState([]);m.useEffect(()=>{g("depotId")||(l!=null&&l.depotId?p("depotId",String(l.depotId)):A.length&&p("depotId",String(A[0].id)))},[A,l==null?void 0:l.depotId]);const[S,_]=m.useState(null);m.useEffect(()=>{(async()=>{try{const re=await xt("/products");v((re==null?void 0:re.data)||re||[]);const te=await xt("/depots");E((te==null?void 0:te.data)||te||[])}catch{ce.error("Failed to fetch reference data")}})()},[]);const k=g("depotId"),T=(l==null?void 0:l.depotId)??k;m.useEffect(()=>{if(!T){j([]);return}(async()=>{try{const re=await xt(`/depot-product-variants?depotId=${T}&limit=1000`);j((re==null?void 0:re.data)||re||[])}catch{ce.error("Failed to fetch depot variants")}})()},[T,l==null?void 0:l.depotId]);const{fields:O,append:P,remove:I}=zy({control:u,name:"details"}),M=Vr({mutationFn:async re=>{const te={...re,details:re.details};return e==="edit"&&t?Zs(`/wastages/${t}`,te):Kr("/wastages",te)},onSuccess:()=>{ce.success("Wastage saved"),i.invalidateQueries({queryKey:["wastages"]}),a("/admin/wastages"),n==null||n()},onError:re=>ce.error(re.message||"Error saving wastage")}),q=re=>M.mutate(re);return s.jsxs("form",{onSubmit:h(q),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{children:"Wastage Details"})}),s.jsxs(Nt,{className:"space-y-4",children:[e==="edit"&&s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2",children:"Wastage No"}),s.jsx(He,{disabled:!0,...d("wastageNo")})]}),s.jsx(_r,{control:u,name:"wastageDate",render:({field:re})=>s.jsx(l5,{id:"wastageDate",label:"Wastage Date",value:re.value,onChange:re.onChange})}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2",children:"Invoice No"}),s.jsx(He,{...d("invoiceNo")}),y.invoiceNo&&s.jsx("p",{className:"text-xs text-red-600",children:y.invoiceNo.message})]}),s.jsx(_r,{control:u,name:"invoiceDate",render:({field:re})=>s.jsx(l5,{id:"invoiceDate",label:"Invoice Date",value:re.value,onChange:re.onChange})}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2",children:"Notes"}),s.jsx(Hu,{rows:3,...d("notes")})]})]})]}),s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{children:"Depot"})}),s.jsx(Nt,{className:"space-y-4",children:s.jsx(_r,{control:u,name:"depotId",render:({field:re})=>s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2 block w-full",htmlFor:"depotId",children:"Depot"}),s.jsxs(It,{value:re.value,onValueChange:re.onChange,disabled:!!(l!=null&&l.depotId),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select depot"})}),s.jsx(Bt,{children:A.map(te=>s.jsx(Je,{value:String(te.id),children:te.name},te.id))})]}),y.depotId&&s.jsx("p",{className:"text-xs text-red-600",children:y.depotId.message})]})})})]})]}),s.jsxs(yt,{children:[s.jsxs(_t,{className:"flex-row items-center justify-between",children:[s.jsx(Gt,{children:"Items"}),s.jsxs(pe,{type:"button",size:"sm",onClick:()=>P({productId:"",variantId:"",quantity:1}),children:[s.jsx(En,{className:"mr-2 size-4"})," Add Item"]})]}),s.jsxs(Nt,{children:[s.jsx("div",{className:"space-y-4",children:O.map((re,te)=>{const B=g(`details.${te}.productId`),H=N.filter(R=>String(R.productId)===B);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 border rounded-md items-end",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(ye,{children:"Product"}),s.jsx(_r,{control:u,name:`details.${te}.productId`,render:({field:R})=>s.jsxs(It,{value:R.value,onValueChange:R.onChange,children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select Product"})}),s.jsx(Bt,{children:w.map(X=>s.jsx(Je,{value:String(X.id),children:X.name},X.id))})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(ye,{children:"Variant"}),s.jsx(_r,{control:u,name:`details.${te}.variantId`,render:({field:R})=>s.jsxs(It,{value:R.value,onValueChange:X=>{R.onChange(X)},children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select Variant"})}),s.jsx(Bt,{children:H.map(X=>s.jsx(Je,{value:String(X.id),children:X.name},X.id))})]})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(ye,{children:"Quantity"}),s.jsx(He,{type:"number",...d(`details.${te}.quantity`,{valueAsNumber:!0})})]}),s.jsx("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:s.jsxs(Ln,{children:[s.jsx(Bh,{asChild:!0,children:s.jsx(pe,{type:"button",size:"icon",variant:"ghost",children:s.jsx(Qs,{className:"size-4 text-red-500"})})}),s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Remove item?"}),s.jsx(qn,{children:"This will remove the selected line item from the wastage."})]}),s.jsxs(Un,{children:[s.jsx(zn,{children:"Cancel"}),s.jsx(aa,{onClick:()=>I(te),children:"Continue"})]})]})]})})]},re.id)})}),y.details&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in y.details?y.details.message:null})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(pe,{type:"submit",disabled:M.isPending,children:"Save Wastage"})})]})};function D0e(){return s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{}),s.jsx(Nt,{children:s.jsx(W$,{mode:"create"})})]})})}function O0e(){const{id:e}=sa(),{data:t,isLoading:r,isError:n}=Nr({queryKey:["wastage",e],queryFn:()=>xt(`/wastages/${e}`),enabled:!!e});return r?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx(Fr,{className:"animate-spin"})}):n||!t?(ce.error("Failed to load wastage"),null):s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{}),s.jsx(Nt,{children:s.jsx(W$,{mode:"edit",wastageId:e,initialData:t})})]})})}const P0e=Rr.object({identifier:Rr.string().min(1,"Email or mobile is required"),password:Rr.string().min(1,"Password is required")}),c5=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(""),[a,i]=m.useState(!1),o=Ga(),l=Cr(),d=o.pathname.startsWith("/admin"),u=yn(),h=_=>_&&_.role==="MEMBER"?"/member/products/1":_&&_.role==="DepotAdmin"?"/admin/purchases":_&&_.role==="ADMIN"||_&&_.role==="VENDOR"||_&&_.role==="AGENCY"||_&&_.role==="SUPERVISOR"?"/admin/dashboard":"/",{register:p,handleSubmit:g,setError:y,formState:{errors:w}}=Js({resolver:en(P0e)});m.useEffect(()=>{var _;(_=o.state)!=null&&_.unauthorized&&l(o.pathname,{replace:!0,state:{}})},[o,l]);const v=Vr({mutationFn:async _=>await Kr("/auth/login",_),onSuccess:_=>{if(console.log("Login successful:",_),console.log("[Login.tsx] Login API Response Data:",_),console.log("[Login.tsx] Access Token from data:",_.accesstoken,"Type:",typeof _.accesstoken),u.clear(),localStorage.setItem("authToken",_.token||_.accesstoken),localStorage.setItem("refreshToken",_.token),localStorage.setItem("user",JSON.stringify(_.user)),localStorage.setItem("roles",JSON.stringify(_.user.accessibleChapters||[])),_.user.member&&_.user.member.id&&localStorage.setItem("memberId",_.user.member.id.toString()),_.requiresPolicyAcceptance)console.log("Login successful, policy acceptance required. Fetching policy..."),N.mutate();else{ce.success("Login successful!"),u.invalidateQueries({queryKey:["user"]});const k=h(_.user);l(k)}},onError:_=>{var P;const T=_.errors&&Array.isArray(_.errors)?(_.errors.forEach(I=>{if(I.path&&I.message&&Array.isArray(I.path)){const M=I.path[I.path.length-1]||I.path[0];typeof M=="string"&&(M==="identifier"||M==="password")&&y(M,{type:"server",message:I.message})}}),!0):!1,O=((P=_.data)==null?void 0:P.message)||_.message;_.status===403&&O&&O.toLowerCase().includes("account is inactive")?ce.error(O):(!T||_.status===401)&&ce.error(O||"An error occurred during login."),console.error("Login error details:",_)}}),N=Vr({mutationFn:async()=>(i(!0),await xt("/auth/policy-text")),onSuccess:_=>{n(_.policyText),t(!0)},onError:_=>{ce.error(_.message||"Failed to load policy."),console.error("Policy fetch error:",_)},onSettled:()=>{i(!1)}}),j=Vr({mutationFn:async()=>await Fn("/auth/accept-policy",{}),onSuccess:_=>{const k=_.user||JSON.parse(localStorage.getItem("user")||"null");localStorage.setItem("user",JSON.stringify(k)),ce.success("Policy accepted. Login complete!"),u.invalidateQueries({queryKey:["user"]});const T=h(k);l(T),t(!1)},onError:_=>{ce.error(_.message||"Failed to accept policy. Please try again."),console.error("Accept policy error:",_)}}),A=_=>{v.mutate(_)},E=()=>{t(!1)},S=()=>{j.mutate()};return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-border",children:[s.jsx("h2",{className:"text-2xl font-bold text-center",children:"Accept Terms & Conditions"}),s.jsxs("p",{className:"text-center text-muted-foreground mt-2",children:["To continue using ",vg,", please review and accept our policy"]})]}),s.jsx("div",{className:"p-6 overflow-y-auto flex-grow bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"prose prose-sm max-w-none bg-white dark:bg-gray-800 p-6 rounded-lg border",children:a?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx(Fr,{className:"animate-spin text-primary",size:24})}):s.jsx("div",{dangerouslySetInnerHTML:{__html:r}})})}),s.jsxs("div",{className:"p-6 border-t border-border flex flex-col sm:flex-row justify-end gap-3",children:[s.jsx(pe,{variant:"outline",onClick:E,disabled:a||v.isPending||j.isPending,className:"w-full sm:w-auto",children:"Cancel"}),s.jsxs(pe,{onClick:S,disabled:a||v.isPending||!r||j.isPending,className:"w-full sm:w-auto",children:[j.isPending?s.jsx(Fr,{className:"animate-spin mr-2",size:16}):null,"Agree & Continue"]})]})]})}),s.jsxs("div",{className:"w-full max-w-md mx-auto mt-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[o.pathname!=="/"&&s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome back"}),o.pathname!=="/"&&s.jsxs("p",{className:"text-muted-foreground",children:["Sign in to continue to ",vg]})]}),s.jsx("form",{onSubmit:g(A),children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"identifier",children:"Email or Mobile"}),s.jsx(He,{id:"identifier",type:"text",placeholder:"name@example.com or 9876543210 (use your registered mobile)",...p("identifier"),disabled:v.isPending||j.isPending,className:"py-5 px-4"}),w.identifier&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),w.identifier.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ye,{htmlFor:"password",children:"Password"}),s.jsx(Mr,{to:d?"/admin/forgot-password":"/forgot-password",className:"text-sm font-medium text-primary hover:underline",children:"Forgot password?"})]}),s.jsx(An,{id:"password",placeholder:"••••••••",...p("password"),disabled:v.isPending||j.isPending,className:"py-5 px-4"}),w.password&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),w.password.message]})]}),s.jsx(pe,{type:"submit",className:"w-full py-5 font-semibold",disabled:v.isPending||j.isPending,children:v.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"animate-spin mr-2",size:20}),"Signing in..."]}):"Sign In"}),o.pathname!=="/"&&s.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6 pt-4 border-t border-border",children:["Don't have an account?"," ",s.jsx(Mr,{to:d?"/admin/register":"/register",className:"font-semibold text-primary hover:underline p-0 h-auto",children:"Create account"})]})]})})]})]})},R0e=async e=>xt("/variant-stocks",e),E4=async()=>xt("/admin/depots/all-list"),M0e=()=>{const[e,t]=m.useState(null),[r,n]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(1),[d,u]=m.useState(1),[h,p]=m.useState(0),[g,y]=m.useState(""),[w,v]=m.useState(!1),[N,j]=m.useState(!0),A=m.useRef(null),E=m.useCallback(async()=>{j(!0);try{const T=await E4();n(T),T.length&&t(T[0].id)}catch(T){ce.error(T.message||"Failed to fetch depots")}finally{j(!1)}},[]),S=m.useCallback(async()=>{if(e){v(!0);try{const T=await R0e({depotId:e,page:o,limit:10,search:g});i(T.data),u(T.totalPages||1),p(T.totalRecords||T.data.length)}catch(T){ce.error(T.message||"Failed to fetch stocks")}finally{v(!1)}}},[e,o,g]),_=T=>{y(T),l(1)};m.useEffect(()=>{E()},[E]),m.useEffect(()=>(A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{S()},500),()=>{A.current&&clearTimeout(A.current)}),[S]);const k=()=>{y(""),l(1)};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 md:p-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Variant Stock"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[h," variants across ",r.length," depots"]})]}),s.jsxs("div",{className:"w-full md:w-auto flex flex-col-reverse md:flex-row gap-3",children:[s.jsxs("div",{className:"relative w-full md:w-64",children:[s.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx(He,{className:"pl-10 pr-10",placeholder:"Search products or variants...",value:g,onChange:T=>_(T.target.value)}),g&&s.jsx(pe,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:bg-transparent",onClick:k,children:s.jsx(ai,{size:18})})]}),s.jsx("div",{className:"w-full md:w-48",children:s.jsxs(It,{value:e?e.toString():void 0,onValueChange:T=>{t(parseInt(T,10)),l(1)},disabled:N,children:[s.jsx(Lt,{children:N?s.jsx(Ot,{className:"h-5 w-full"}):s.jsx(Ft,{placeholder:"Select depot"})}),s.jsx(Bt,{children:r.map(T=>s.jsx(Je,{value:T.id.toString(),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),T.name]})},T.id))})]})})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Is,{children:[s.jsx(Fs,{className:"bg-gray-50",children:s.jsxs(rr,{children:[s.jsx(Ye,{className:"w-[45%]",children:"Product"}),s.jsx(Ye,{className:"w-[30%]",children:"Variant"}),s.jsx(Ye,{className:"text-right w-[25%]",children:"Closing Quantity"})]})}),s.jsx(Ls,{children:w?Array.from({length:5}).map((T,O)=>s.jsxs(rr,{children:[s.jsx($e,{children:s.jsx(Ot,{className:"h-4 w-3/4"})}),s.jsx($e,{children:s.jsx(Ot,{className:"h-4 w-2/3"})}),s.jsx($e,{className:"text-right",children:s.jsx(Ot,{className:"h-4 w-1/4 ml-auto"})})]},O)):a.length>0?a.map(T=>s.jsxs(rr,{className:"hover:bg-gray-50",children:[s.jsx($e,{className:"font-medium",children:T.product.name}),s.jsx($e,{className:"text-gray-600",children:T.variant.name}),s.jsx($e,{className:"text-right font-medium",children:s.jsx("span",{className:"bg-blue-50 text-blue-700 py-1 px-3 rounded-full text-sm",children:T.closingQty})})]},T.id)):s.jsx(rr,{children:s.jsx($e,{colSpan:3,className:"text-center py-10",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(qs,{size:36,className:"text-gray-400"}),s.jsx("h3",{className:"font-medium text-gray-700",children:"No stock records found"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Try changing your search or depot selection"})]})})})})]})}),d>1&&s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",a.length," of ",h," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>l(T=>Math.max(T-1,1)),disabled:o===1||w,children:[s.jsx(c0,{size:16,className:"mr-1"})," Previous"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,d)},(T,O)=>{let P;return d<=5||o<=3?P=O+1:o>=d-2?P=d-4+O:P=o-2+O,s.jsx(pe,{variant:o===P?"solid":"ghost",size:"sm",onClick:()=>l(P),disabled:w,children:P},P)}),d>5&&o<d-2&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"px-2",children:"..."}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>l(d),disabled:w,children:d})]})]}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>l(T=>Math.min(T+1,d)),disabled:o===d||w,children:["Next ",s.jsx(Fu,{size:16,className:"ml-1"})]})]})]})]})})};function ad(e,t){console.log("Error from server:",e.errors);const r=e.errors;r&&Object.entries(r).forEach(([n,a])=>{t(n,a)})}const I0e=Rr.object({name:Rr.string().nonempty("Name is required"),email:Rr.string().email("Invalid email address").optional(),mobile:Rr.string().regex(/^\d{10}$/,"Mobile must be a 10 digit number").optional(),password:Rr.string().nonempty("Password is required").min(5,"Password must be at least 5 characters long"),confirmPassword:Rr.string().nonempty("Confirm Password is required")}).refine(e=>!!(e.email||e.mobile),{message:"Either email or mobile is required",path:["email"]}).refine(e=>e.password===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),d5=()=>{var u;const e=Ga(),t=Cr(),r=e.pathname==="/admin/register",{register:n,handleSubmit:a,setError:i,formState:{errors:o}}=Js({resolver:en(I0e)}),l=Vr({mutationFn:h=>Kr("/auth/register",h),onSuccess:()=>{ce.success("Registration successful! Please log in."),e.pathname==="/admin/register"&&t("/admin"),e.pathname==="/register"?t("/login"):window.location.reload()},onError:h=>{if(h.status===409){h.message.toLowerCase().includes("mobile")?i("mobile",{type:"manual",message:h.message}):h.message.toLowerCase().includes("email")?i("email",{type:"manual",message:h.message}):ce.error(h.message);return}ad(h,i),h.message?ce.error(h.message):ce.error("An unexpected error occurred")}}),d=h=>{l.mutate(h)};return s.jsxs("div",{className:"w-full max-w-md mx-auto mt-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[e.pathname!=="/"&&s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create your account"}),e.pathname!=="/"&&s.jsxs("p",{className:"text-muted-foreground",children:["Join ",vg," today to get started."]})]}),s.jsx("form",{onSubmit:a(d),children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"name",children:"Full Name"}),s.jsx(He,{id:"name",type:"text",placeholder:"Your full name",...n("name"),disabled:l.isPending,className:"py-5 px-4"}),o.name&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.name.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"email",children:"Email Address"}),s.jsx(He,{id:"email",type:"email",placeholder:"name@example.com",...n("email"),disabled:l.isPending,className:"py-5 px-4"}),o.email&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),(u=o.email)==null?void 0:u.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(He,{id:"mobile",max:10,maxLength:10,type:"tel",placeholder:"9876543210",...n("mobile"),disabled:l.isPending,className:"py-5 px-4"}),o.mobile&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.mobile.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"password",children:"Password"}),s.jsx(An,{id:"password",placeholder:"••••••••",...n("password"),disabled:l.isPending,className:"py-5 px-4"}),o.password&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.password.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(An,{id:"confirmPassword",placeholder:"••••••••",...n("confirmPassword"),disabled:l.isPending,className:"py-5 px-4"}),o.confirmPassword&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.confirmPassword.message]})]}),s.jsx(pe,{type:"submit",className:"w-full py-5 font-semibold",disabled:l.isPending,children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"animate-spin mr-2",size:20}),"Creating account..."]}):"Create Account"}),e.pathname!=="/"&&s.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6 pt-4 border-t border-border",children:["Already have an account?"," ",s.jsx(Mr,{to:r?"/admin":"/login",className:"font-semibold text-primary hover:underline p-0 h-auto",children:"Sign In"})]})]})})]})},F0e=Rr.object({email:Rr.string().email("Invalid email address").min(1,"Email is required")}),L0e=()=>{const e=Cr(),{register:t,handleSubmit:r,setError:n,formState:{errors:a}}=Js({resolver:en(F0e)}),i=Vr({mutationFn:l=>Kr("/auth/forgot-password",l),onSuccess:()=>{ce.success("Password reset instructions have been sent to your email."),e("/")},onError:l=>{ad(l,n),l.message?ce.error(l.message):ce.error("An unexpected error occurred")}}),o=l=>{const d=`${window.location.origin}/reset-password`;i.mutate({...l,resetUrl:d})};return s.jsx("form",{className:"p-6 md:p-8",onSubmit:r(o),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Forgot Password"}),s.jsx("p",{className:"text-balance text-muted-foreground",children:"Enter your email address to reset your password"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"email",children:"Email"}),s.jsx(He,{id:"email",type:"email",...t("email"),required:!0,disabled:i.isPending}),a.email&&s.jsx("span",{className:"text-red-500",children:a.email.message})]}),s.jsx(pe,{type:"submit",className:"w-full",disabled:i.isPending,children:i.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"}),s.jsxs("div",{className:"text-center text-sm",children:["Remember your password?"," ",s.jsx("a",{href:"/",className:"underline underline-offset-4",children:"Login"})]})]})})},B0e=Rr.object({password:Rr.string().min(6,"Password must be at least 6 characters long").min(1,"Password is required"),confirmPassword:Rr.string().min(1,"Confirm Password is required")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),$0e=()=>{const{register:e,setError:t,handleSubmit:r,formState:{errors:n}}=Js({resolver:en(B0e)}),a=Cr(),{token:i}=sa(),o=Vr({mutationFn:d=>Kr(`/auth/reset-password/${i}`,{password:d.password}),onSuccess:()=>{ce.success("Password reset successful!"),a("/")},onError:d=>{ad(d,t),d.message?ce.error(d.message):ce.error("An unexpected error occurred")}}),l=d=>{if(!i){ce.error("Invalid or missing reset token");return}o.mutate({password:d.password})};return s.jsx("form",{className:"p-6 md:p-8",onSubmit:r(l),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Reset Password"}),s.jsx("p",{className:"text-balance text-muted-foreground",children:"Enter your new password to reset your account"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"password",children:"New Password"}),s.jsx(An,{id:"password",type:"password",...e("password"),required:!0,disabled:o.isPending}),n.password&&s.jsx("span",{className:"text-red-500",children:n.password.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(An,{id:"confirmPassword",type:"password",...e("confirmPassword"),required:!0,disabled:o.isPending}),n.confirmPassword&&s.jsx("span",{className:"text-red-500",children:n.confirmPassword.message})]}),s.jsx(pe,{type:"submit",className:"w-full",disabled:o.isPending,children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})};function Ms(e){const t="en-US",r="INR";return new Intl.NumberFormat(t,{style:"currency",currency:r}).format(e)}function U0e(e){const t="en-US",r=typeof e=="string"?new Date(e):e;return new Intl.DateTimeFormat(t,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}var u5=1,V0e=.9,q0e=.8,z0e=.17,GS=.1,YS=.999,H0e=.9999,W0e=.99,G0e=/[\\\/_+.#"@\[\(\{&]/,Y0e=/[\\\/_+.#"@\[\(\{&]/g,K0e=/[\s-]/,G$=/[\s-]/g;function eC(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?u5:W0e;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var d=n.charAt(i),u=r.indexOf(d,a),h=0,p,g,y,w;u>=0;)p=eC(e,t,r,n,u+1,i+1,o),p>h&&(u===a?p*=u5:G0e.test(e.charAt(u-1))?(p*=q0e,y=e.slice(a,u-1).match(Y0e),y&&a>0&&(p*=Math.pow(YS,y.length))):K0e.test(e.charAt(u-1))?(p*=V0e,w=e.slice(a,u-1).match(G$),w&&a>0&&(p*=Math.pow(YS,w.length))):(p*=z0e,a>0&&(p*=Math.pow(YS,u-a))),e.charAt(u)!==t.charAt(i)&&(p*=H0e)),(p<GS&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(g=eC(e,t,r,n,u+1,i+2,o),g*GS>p&&(p=g*GS)),p>h&&(h=p),u=r.indexOf(d,u+1);return o[l]=h,h}function f5(e){return e.toLowerCase().replace(G$," ")}function X0e(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,eC(e,t,f5(e),f5(t),0,0,{})}function Pu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function h5(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Wu(...e){return t=>{let r=!1;const n=e.map(a=>{const i=h5(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():h5(e[a],null)}}}}function $h(...e){return m.useCallback(Wu(...e),e)}function Q0e(e,t){const r=m.createContext(t),n=i=>{const{children:o,...l}=i,d=m.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:d,children:o})};n.displayName=e+"Provider";function a(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Z0e(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),d=r.length;r=[...r,o];const u=p=>{var j;const{scope:g,children:y,...w}=p,v=((j=g==null?void 0:g[e])==null?void 0:j[d])||l,N=m.useMemo(()=>w,Object.values(w));return s.jsx(v.Provider,{value:N,children:y})};u.displayName=i+"Provider";function h(p,g){var v;const y=((v=g==null?void 0:g[e])==null?void 0:v[d])||l,w=m.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[n,J0e(a,...t)]}function J0e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:d,scopeName:u})=>{const p=d(i)[`__scope${u}`];return{...l,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var exe=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},txe=Tw.useId||(()=>{}),rxe=0;function Kc(e){const[t,r]=m.useState(txe());return exe(()=>{r(n=>n??String(rxe++))},[e]),t?`radix-${t}`:""}function Y$(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function sxe({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=nxe({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Y$(r),d=m.useCallback(u=>{if(i){const p=typeof u=="function"?u(e):u;p!==e&&l(p)}else a(u)},[i,e,a,l]);return[o,d]}function nxe({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,a=m.useRef(n),i=Y$(t);return m.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var K$=m.forwardRef((e,t)=>{const{children:r,...n}=e,a=m.Children.toArray(r),i=a.find(ixe);if(i){const o=i.props.children,l=a.map(d=>d===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:d);return s.jsx(tC,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return s.jsx(tC,{...n,ref:t,children:r})});K$.displayName="Slot";var tC=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const a=lxe(r),i=oxe(n,r.props);return r.type!==m.Fragment&&(i.ref=t?Wu(t,a):a),m.cloneElement(r,i)}return m.Children.count(r)>1?m.Children.only(null):null});tC.displayName="SlotClone";var axe=({children:e})=>s.jsx(s.Fragment,{children:e});function ixe(e){return m.isValidElement(e)&&e.type===axe}function oxe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function lxe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var cxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ka=cxe.reduce((e,t)=>{const r=m.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?K$:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function dxe(e,t){e&&Ju.flushSync(()=>e.dispatchEvent(t))}function A4(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function uxe(e,t=globalThis==null?void 0:globalThis.document){const r=A4(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var fxe="DismissableLayer",rC="dismissableLayer.update",hxe="dismissableLayer.pointerDownOutside",mxe="dismissableLayer.focusOutside",m5,X$=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Q$=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=m.useContext(X$),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),w=$h(t,T=>p(T)),v=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=v.indexOf(N),A=h?v.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,S=A>=j,_=gxe(T=>{const O=T.target,P=[...u.branches].some(I=>I.contains(O));!S||P||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),k=yxe(T=>{const O=T.target;[...u.branches].some(I=>I.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return uxe(T=>{A===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(m5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),p5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=m5)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),p5())},[h,u]),m.useEffect(()=>{const T=()=>y({});return document.addEventListener(rC,T),()=>document.removeEventListener(rC,T)},[]),s.jsx(ka.div,{...d,ref:w,style:{pointerEvents:E?S?"auto":"none":void 0,...e.style},onFocusCapture:Pu(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Pu(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Pu(e.onPointerDownCapture,_.onPointerDownCapture)})});Q$.displayName=fxe;var pxe="DismissableLayerBranch",xxe=m.forwardRef((e,t)=>{const r=m.useContext(X$),n=m.useRef(null),a=$h(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(ka.div,{...e,ref:a})});xxe.displayName=pxe;function gxe(e,t=globalThis==null?void 0:globalThis.document){const r=A4(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let d=function(){Z$(hxe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function yxe(e,t=globalThis==null?void 0:globalThis.document){const r=A4(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&Z$(mxe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function p5(){const e=new CustomEvent(rC);document.dispatchEvent(e)}function Z$(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?dxe(a,i):a.dispatchEvent(i)}function x5(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var KS="focusScope.autoFocusOnMount",XS="focusScope.autoFocusOnUnmount",g5={bubbles:!1,cancelable:!0},vxe="FocusScope",J$=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,d]=m.useState(null),u=x5(a),h=x5(i),p=m.useRef(null),g=$h(t,v=>d(v)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(E){if(y.paused||!l)return;const S=E.target;l.contains(S)?p.current=S:hu(p.current,{select:!0})},N=function(E){if(y.paused||!l)return;const S=E.relatedTarget;S!==null&&(l.contains(S)||hu(p.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const _ of E)_.removedNodes.length>0&&hu(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",N);const A=new MutationObserver(j);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",N),A.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){v5.add(y);const v=document.activeElement;if(!l.contains(v)){const j=new CustomEvent(KS,g5);l.addEventListener(KS,u),l.dispatchEvent(j),j.defaultPrevented||(bxe(Exe(eU(l)),{select:!0}),document.activeElement===v&&hu(l))}return()=>{l.removeEventListener(KS,u),setTimeout(()=>{const j=new CustomEvent(XS,g5);l.addEventListener(XS,h),l.dispatchEvent(j),j.defaultPrevented||hu(v??document.body,{select:!0}),l.removeEventListener(XS,h),v5.remove(y)},0)}}},[l,u,h,y]);const w=m.useCallback(v=>{if(!r&&!n||y.paused)return;const N=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,j=document.activeElement;if(N&&j){const A=v.currentTarget,[E,S]=wxe(A);E&&S?!v.shiftKey&&j===S?(v.preventDefault(),r&&hu(E,{select:!0})):v.shiftKey&&j===E&&(v.preventDefault(),r&&hu(S,{select:!0})):j===A&&v.preventDefault()}},[r,n,y.paused]);return s.jsx(ka.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});J$.displayName=vxe;function bxe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(hu(n,{select:t}),document.activeElement!==r)return}function wxe(e){const t=eU(e),r=y5(t,e),n=y5(t.reverse(),e);return[r,n]}function eU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function y5(e,t){for(const r of e)if(!Nxe(r,{upTo:t}))return r}function Nxe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jxe(e){return e instanceof HTMLInputElement&&"select"in e}function hu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&jxe(e)&&t&&e.select()}}var v5=Sxe();function Sxe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=b5(e,t),e.unshift(t)},remove(t){var r;e=b5(e,t),(r=e[0])==null||r.resume()}}}function b5(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Exe(e){return e.filter(t=>t.tagName!=="A")}var Axe=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Cxe="Portal",tU=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=m.useState(!1);Axe(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?pd.createPortal(s.jsx(ka.div,{...n,ref:t}),o):null});tU.displayName=Cxe;var w5=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{};function Txe(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var pN=e=>{const{present:t,children:r}=e,n=_xe(t),a=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=$h(n.ref,kxe(a));return typeof r=="function"||n.isPresent?m.cloneElement(a,{ref:i}):null};pN.displayName="Presence";function _xe(e){const[t,r]=m.useState(),n=m.useRef({}),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,d]=Txe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Cb(n.current);i.current=l==="mounted"?u:"none"},[l]),w5(()=>{const u=n.current,h=a.current;if(h!==e){const g=i.current,y=Cb(u);e?d("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),w5(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,p=y=>{const v=Cb(n.current).includes(y.animationName);if(y.target===t&&v&&(d("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},g=y=>{y.target===t&&(i.current=Cb(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Cb(e){return(e==null?void 0:e.animationName)||"none"}function kxe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var QS=0;function Dxe(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??N5()),document.body.insertAdjacentElement("beforeend",e[1]??N5()),QS++,()=>{QS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),QS--}},[])}function N5(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rU=m.forwardRef((e,t)=>{const{children:r,...n}=e,a=m.Children.toArray(r),i=a.find(Pxe);if(i){const o=i.props.children,l=a.map(d=>d===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:d);return s.jsx(sC,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return s.jsx(sC,{...n,ref:t,children:r})});rU.displayName="Slot";var sC=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const a=Mxe(r),i=Rxe(n,r.props);return r.type!==m.Fragment&&(i.ref=t?Wu(t,a):a),m.cloneElement(r,i)}return m.Children.count(r)>1?m.Children.only(null):null});sC.displayName="SlotClone";var Oxe=({children:e})=>s.jsx(s.Fragment,{children:e});function Pxe(e){return m.isValidElement(e)&&e.type===Oxe}function Rxe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Mxe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var C4="Dialog",[sU,yFe]=Z0e(C4),[Ixe,vl]=sU(C4),nU=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),d=m.useRef(null),[u=!1,h]=sxe({prop:n,defaultProp:a,onChange:i});return s.jsx(Ixe,{scope:t,triggerRef:l,contentRef:d,contentId:Kc(),titleId:Kc(),descriptionId:Kc(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:o,children:r})};nU.displayName=C4;var aU="DialogTrigger",Fxe=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=vl(aU,r),i=$h(t,a.triggerRef);return s.jsx(ka.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":k4(a.open),...n,ref:i,onClick:Pu(e.onClick,a.onOpenToggle)})});Fxe.displayName=aU;var T4="DialogPortal",[Lxe,iU]=sU(T4,{forceMount:void 0}),oU=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=vl(T4,t);return s.jsx(Lxe,{scope:t,forceMount:r,children:m.Children.map(n,o=>s.jsx(pN,{present:r||i.open,children:s.jsx(tU,{asChild:!0,container:a,children:o})}))})};oU.displayName=T4;var Q1="DialogOverlay",lU=m.forwardRef((e,t)=>{const r=iU(Q1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=vl(Q1,e.__scopeDialog);return i.modal?s.jsx(pN,{present:n||i.open,children:s.jsx(Bxe,{...a,ref:t})}):null});lU.displayName=Q1;var Bxe=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=vl(Q1,r);return s.jsx(ef,{as:rU,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(ka.div,{"data-state":k4(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),vh="DialogContent",cU=m.forwardRef((e,t)=>{const r=iU(vh,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=vl(vh,e.__scopeDialog);return s.jsx(pN,{present:n||i.open,children:i.modal?s.jsx($xe,{...a,ref:t}):s.jsx(Uxe,{...a,ref:t})})});cU.displayName=vh;var $xe=m.forwardRef((e,t)=>{const r=vl(vh,e.__scopeDialog),n=m.useRef(null),a=$h(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return kh(i)},[]),s.jsx(dU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pu(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Pu(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Pu(e.onFocusOutside,i=>i.preventDefault())})}),Uxe=m.forwardRef((e,t)=>{const r=vl(vh,e.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return s.jsx(dU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),dU=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=vl(vh,r),d=m.useRef(null),u=$h(t,d);return Dxe(),s.jsxs(s.Fragment,{children:[s.jsx(J$,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Q$,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":k4(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Hxe,{titleId:l.titleId}),s.jsx(Gxe,{contentRef:d,descriptionId:l.descriptionId})]})]})}),_4="DialogTitle",Vxe=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=vl(_4,r);return s.jsx(ka.h2,{id:a.titleId,...n,ref:t})});Vxe.displayName=_4;var uU="DialogDescription",qxe=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=vl(uU,r);return s.jsx(ka.p,{id:a.descriptionId,...n,ref:t})});qxe.displayName=uU;var fU="DialogClose",zxe=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=vl(fU,r);return s.jsx(ka.button,{type:"button",...n,ref:t,onClick:Pu(e.onClick,()=>a.onOpenChange(!1))})});zxe.displayName=fU;function k4(e){return e?"open":"closed"}var hU="DialogTitleWarning",[vFe,mU]=Q0e(hU,{contentName:vh,titleName:_4,docsSlug:"dialog"}),Hxe=({titleId:e})=>{const t=mU(hU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Wxe="DialogDescriptionWarning",Gxe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mU(Wxe).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Yxe=nU,Kxe=oU,Xxe=lU,Qxe=cU,Fx='[cmdk-group=""]',ZS='[cmdk-group-items=""]',Zxe='[cmdk-group-heading=""]',pU='[cmdk-item=""]',j5=`${pU}:not([aria-disabled="true"])`,nC="cmdk-item-select",qm="data-value",Jxe=(e,t,r)=>X0e(e,t,r),xU=m.createContext(void 0),Hy=()=>m.useContext(xU),gU=m.createContext(void 0),D4=()=>m.useContext(gU),yU=m.createContext(void 0),vU=m.forwardRef((e,t)=>{let r=zm(()=>{var F,z;return{search:"",value:(z=(F=e.value)!=null?F:e.defaultValue)!=null?z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=zm(()=>new Set),a=zm(()=>new Map),i=zm(()=>new Map),o=zm(()=>new Set),l=bU(e),{label:d,children:u,value:h,onValueChange:p,filter:g,shouldFilter:y,loop:w,disablePointerSelection:v=!1,vimBindings:N=!0,...j}=e,A=Kc(),E=Kc(),S=Kc(),_=m.useRef(null),k=dge();bh(()=>{if(h!==void 0){let F=h.trim();r.current.value=F,T.emit()}},[h]),bh(()=>{k(6,U)},[]);let T=m.useMemo(()=>({subscribe:F=>(o.current.add(F),()=>o.current.delete(F)),snapshot:()=>r.current,setState:(F,z,K)=>{var V,ae,Q,se;if(!Object.is(r.current[F],z)){if(r.current[F]=z,F==="search")q(),I(),k(1,M);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Z=document.getElementById(S);Z?Z.focus():(V=document.getElementById(A))==null||V.focus()}if(k(7,()=>{var Z;r.current.selectedItemId=(Z=re())==null?void 0:Z.id,T.emit()}),K||k(5,U),((ae=l.current)==null?void 0:ae.value)!==void 0){let Z=z??"";(se=(Q=l.current).onValueChange)==null||se.call(Q,Z);return}}T.emit()}},emit:()=>{o.current.forEach(F=>F())}}),[]),O=m.useMemo(()=>({value:(F,z,K)=>{var V;z!==((V=i.current.get(F))==null?void 0:V.value)&&(i.current.set(F,{value:z,keywords:K}),r.current.filtered.items.set(F,P(z,K)),k(2,()=>{I(),T.emit()}))},item:(F,z)=>(n.current.add(F),z&&(a.current.has(z)?a.current.get(z).add(F):a.current.set(z,new Set([F]))),k(3,()=>{q(),I(),r.current.value||M(),T.emit()}),()=>{i.current.delete(F),n.current.delete(F),r.current.filtered.items.delete(F);let K=re();k(4,()=>{q(),(K==null?void 0:K.getAttribute("id"))===F&&M(),T.emit()})}),group:F=>(a.current.has(F)||a.current.set(F,new Set),()=>{i.current.delete(F),a.current.delete(F)}),filter:()=>l.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:A,inputId:S,labelId:E,listInnerRef:_}),[]);function P(F,z){var K,V;let ae=(V=(K=l.current)==null?void 0:K.filter)!=null?V:Jxe;return F?ae(F,r.current.search,z):0}function I(){if(!r.current.search||l.current.shouldFilter===!1)return;let F=r.current.filtered.items,z=[];r.current.filtered.groups.forEach(V=>{let ae=a.current.get(V),Q=0;ae.forEach(se=>{let Z=F.get(se);Q=Math.max(Z,Q)}),z.push([V,Q])});let K=_.current;te().sort((V,ae)=>{var Q,se;let Z=V.getAttribute("id"),le=ae.getAttribute("id");return((Q=F.get(le))!=null?Q:0)-((se=F.get(Z))!=null?se:0)}).forEach(V=>{let ae=V.closest(ZS);ae?ae.appendChild(V.parentElement===ae?V:V.closest(`${ZS} > *`)):K.appendChild(V.parentElement===K?V:V.closest(`${ZS} > *`))}),z.sort((V,ae)=>ae[1]-V[1]).forEach(V=>{var ae;let Q=(ae=_.current)==null?void 0:ae.querySelector(`${Fx}[${qm}="${encodeURIComponent(V[0])}"]`);Q==null||Q.parentElement.appendChild(Q)})}function M(){let F=te().find(K=>K.getAttribute("aria-disabled")!=="true"),z=F==null?void 0:F.getAttribute(qm);T.setState("value",z||void 0)}function q(){var F,z,K,V;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ae=0;for(let Q of n.current){let se=(z=(F=i.current.get(Q))==null?void 0:F.value)!=null?z:"",Z=(V=(K=i.current.get(Q))==null?void 0:K.keywords)!=null?V:[],le=P(se,Z);r.current.filtered.items.set(Q,le),le>0&&ae++}for(let[Q,se]of a.current)for(let Z of se)if(r.current.filtered.items.get(Z)>0){r.current.filtered.groups.add(Q);break}r.current.filtered.count=ae}function U(){var F,z,K;let V=re();V&&(((F=V.parentElement)==null?void 0:F.firstChild)===V&&((K=(z=V.closest(Fx))==null?void 0:z.querySelector(Zxe))==null||K.scrollIntoView({block:"nearest"})),V.scrollIntoView({block:"nearest"}))}function re(){var F;return(F=_.current)==null?void 0:F.querySelector(`${pU}[aria-selected="true"]`)}function te(){var F;return Array.from(((F=_.current)==null?void 0:F.querySelectorAll(j5))||[])}function B(F){let z=te()[F];z&&T.setState("value",z.getAttribute(qm))}function H(F){var z;let K=re(),V=te(),ae=V.findIndex(se=>se===K),Q=V[ae+F];(z=l.current)!=null&&z.loop&&(Q=ae+F<0?V[V.length-1]:ae+F===V.length?V[0]:V[ae+F]),Q&&T.setState("value",Q.getAttribute(qm))}function R(F){let z=re(),K=z==null?void 0:z.closest(Fx),V;for(;K&&!V;)K=F>0?lge(K,Fx):cge(K,Fx),V=K==null?void 0:K.querySelector(j5);V?T.setState("value",V.getAttribute(qm)):H(F)}let X=()=>B(te().length-1),W=F=>{F.preventDefault(),F.metaKey?X():F.altKey?R(1):H(1)},Y=F=>{F.preventDefault(),F.metaKey?B(0):F.altKey?R(-1):H(-1)};return m.createElement(ka.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:F=>{var z;(z=j.onKeyDown)==null||z.call(j,F);let K=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||K))switch(F.key){case"n":case"j":{N&&F.ctrlKey&&W(F);break}case"ArrowDown":{W(F);break}case"p":case"k":{N&&F.ctrlKey&&Y(F);break}case"ArrowUp":{Y(F);break}case"Home":{F.preventDefault(),B(0);break}case"End":{F.preventDefault(),X();break}case"Enter":{F.preventDefault();let V=re();if(V){let ae=new Event(nC);V.dispatchEvent(ae)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:fge},d),xN(e,F=>m.createElement(gU.Provider,{value:T},m.createElement(xU.Provider,{value:O},F))))}),ege=m.forwardRef((e,t)=>{var r,n;let a=Kc(),i=m.useRef(null),o=m.useContext(yU),l=Hy(),d=bU(e),u=(n=(r=d.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;bh(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let h=wU(a,i,[e.value,e.children,i],e.keywords),p=D4(),g=id(k=>k.value&&k.value===h.current),y=id(k=>u||l.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);m.useEffect(()=>{let k=i.current;if(!(!k||e.disabled))return k.addEventListener(nC,w),()=>k.removeEventListener(nC,w)},[y,e.onSelect,e.disabled]);function w(){var k,T;v(),(T=(k=d.current).onSelect)==null||T.call(k,h.current)}function v(){p.setState("value",h.current,!0)}if(!y)return null;let{disabled:N,value:j,onSelect:A,forceMount:E,keywords:S,..._}=e;return m.createElement(ka.div,{ref:Wu(i,t),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!g,"data-disabled":!!N,"data-selected":!!g,onPointerMove:N||l.getDisablePointerSelection()?void 0:v,onClick:N?void 0:w},e.children)}),tge=m.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Kc(),l=m.useRef(null),d=m.useRef(null),u=Kc(),h=Hy(),p=id(y=>a||h.filter()===!1?!0:y.search?y.filtered.groups.has(o):!0);bh(()=>h.group(o),[]),wU(o,l,[e.value,e.heading,d]);let g=m.useMemo(()=>({id:o,forceMount:a}),[a]);return m.createElement(ka.div,{ref:Wu(l,t),...i,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&m.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),xN(e,y=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},m.createElement(yU.Provider,{value:g},y))))}),rge=m.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=m.useRef(null),i=id(o=>!o.search);return!r&&!i?null:m.createElement(ka.div,{ref:Wu(a,t),...n,"cmdk-separator":"",role:"separator"})}),sge=m.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=D4(),o=id(u=>u.search),l=id(u=>u.selectedItemId),d=Hy();return m.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),m.createElement(ka.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":l,id:d.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),nge=m.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=m.useRef(null),o=m.useRef(null),l=id(u=>u.selectedItemId),d=Hy();return m.useEffect(()=>{if(o.current&&i.current){let u=o.current,h=i.current,p,g=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let y=u.offsetHeight;h.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return g.observe(u),()=>{cancelAnimationFrame(p),g.unobserve(u)}}},[]),m.createElement(ka.div,{ref:Wu(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:d.listId},xN(e,u=>m.createElement("div",{ref:Wu(o,d.listInnerRef),"cmdk-list-sizer":""},u)))}),age=m.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return m.createElement(Yxe,{open:r,onOpenChange:n},m.createElement(Kxe,{container:o},m.createElement(Xxe,{"cmdk-overlay":"",className:a}),m.createElement(Qxe,{"aria-label":e.label,"cmdk-dialog":"",className:i},m.createElement(vU,{ref:t,...l}))))}),ige=m.forwardRef((e,t)=>id(r=>r.filtered.count===0)?m.createElement(ka.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),oge=m.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return m.createElement(ka.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},xN(e,o=>m.createElement("div",{"aria-hidden":!0},o)))}),fi=Object.assign(vU,{List:nge,Item:ege,Input:sge,Group:tge,Separator:rge,Dialog:age,Empty:ige,Loading:oge});function lge(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function cge(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function bU(e){let t=m.useRef(e);return bh(()=>{t.current=e}),t}var bh=typeof window>"u"?m.useEffect:m.useLayoutEffect;function zm(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function id(e){let t=D4(),r=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,r,r)}function wU(e,t,r,n=[]){let a=m.useRef(),i=Hy();return bh(()=>{var o;let l=(()=>{var u;for(let h of r){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(u=h.current.textContent)==null?void 0:u.trim():a.current}})(),d=n.map(u=>u.trim());i.value(e,l,d),(o=t.current)==null||o.setAttribute(qm,l),a.current=l}),a}var dge=()=>{let[e,t]=m.useState(),r=zm(()=>new Map);return bh(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function uge(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function xN({asChild:e,children:t},r){return e&&m.isValidElement(t)?m.cloneElement(uge(t),{ref:t.ref},r(t.props.children)):r(t)}var fge={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const hge=$w("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-white [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 ",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-gray-700"}},defaultVariants:{variant:"default"}});function Ir({className:e,variant:t,asChild:r=!1,...n}){const a=r?Iw:"span";return s.jsx(a,{"data-slot":"badge",className:Xe(hge({variant:t}),e),...n})}const NU=m.forwardRef(({className:e,...t},r)=>s.jsx(fi,{ref:r,className:Xe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));NU.displayName=fi.displayName;const mge=m.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(qs,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(fi.Input,{ref:r,className:Xe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));mge.displayName=fi.Input.displayName;const jU=m.forwardRef(({className:e,...t},r)=>s.jsx(fi.List,{ref:r,className:Xe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));jU.displayName=fi.List.displayName;const pge=m.forwardRef((e,t)=>s.jsx(fi.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));pge.displayName=fi.Empty.displayName;const SU=m.forwardRef(({className:e,...t},r)=>s.jsx(fi.Group,{ref:r,className:Xe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));SU.displayName=fi.Group.displayName;const xge=m.forwardRef(({className:e,...t},r)=>s.jsx(fi.Separator,{ref:r,className:Xe("-mx-1 h-px bg-border",e),...t}));xge.displayName=fi.Separator.displayName;const Xx=m.forwardRef(({className:e,...t},r)=>s.jsx(fi.Item,{ref:r,className:Xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-gray-700-foreground data-[disabled=true]:opacity-50",e),...t}));Xx.displayName=fi.Item.displayName;function gge(e,t){const[r,n]=m.useState(e);return m.useEffect(()=>{const a=setTimeout(()=>n(e),t);return()=>{clearTimeout(a)}},[e,t]),r}function Tb(e,t){if(e.length===0)return{};if(!t)return{"":e};const r={};return e.forEach(n=>{const a=n[t]||"";r[a]||(r[a]=[]),r[a].push(n)}),r}function yge(e,t){const r=JSON.parse(JSON.stringify(e));for(const[n,a]of Object.entries(r))r[n]=a.filter(i=>!t.find(o=>o.value===i.value));return r}function vge(e,t){for(const[,r]of Object.entries(e))if(r.some(n=>t.find(a=>a.value===n.value)))return!0;return!1}const EU=m.forwardRef(({className:e,...t},r)=>id(a=>a.filtered.count===0)?s.jsx("div",{ref:r,className:Xe("py-6 text-center text-sm",e),"cmdk-empty":"",role:"presentation",...t}):null);EU.displayName="CommandEmpty";const AU=m.forwardRef(({value:e,onChange:t,placeholder:r,defaultOptions:n=[],options:a,delay:i,onSearch:o,onSearchSync:l,loadingIndicator:d,emptyIndicator:u,maxSelected:h=Number.MAX_SAFE_INTEGER,onMaxSelected:p,hidePlaceholderWhenSelected:g,disabled:y,groupBy:w,className:v,badgeClassName:N,selectFirstItem:j=!0,creatable:A=!1,triggerSearchOnFocus:E=!1,commandProps:S,inputProps:_,hideClearAllButton:k=!1},T)=>{const O=m.useRef(null),[P,I]=m.useState(!1),[M,q]=m.useState(!1),[U,re]=m.useState(!1),te=m.useRef(null),[B,H]=m.useState(e||[]),[R,X]=m.useState(Tb(n,w)),[W,Y]=m.useState(""),F=gge(W,i||500);m.useImperativeHandle(T,()=>({selectedValue:[...B],input:O.current,focus:()=>{var le;return(le=O==null?void 0:O.current)==null?void 0:le.focus()},reset:()=>H([])}),[B]);const z=le=>{te.current&&!te.current.contains(le.target)&&O.current&&!O.current.contains(le.target)&&(I(!1),O.current.blur())},K=m.useCallback(le=>{const Te=B.filter(Ee=>Ee.value!==le.value);H(Te),t==null||t(Te)},[t,B]),V=m.useCallback(le=>{const Te=O.current;Te&&((le.key==="Delete"||le.key==="Backspace")&&Te.value===""&&B.length>0&&(B[B.length-1].fixed||K(B[B.length-1])),le.key==="Escape"&&Te.blur())},[K,B]);m.useEffect(()=>(P?(document.addEventListener("mousedown",z),document.addEventListener("touchend",z)):(document.removeEventListener("mousedown",z),document.removeEventListener("touchend",z)),()=>{document.removeEventListener("mousedown",z),document.removeEventListener("touchend",z)}),[P]),m.useEffect(()=>{e&&H(e)},[e]),m.useEffect(()=>{if(!a||o)return;const le=Tb(a||[],w);JSON.stringify(le)!==JSON.stringify(R)&&X(le)},[n,a,w,o,R]),m.useEffect(()=>{const le=()=>{const Ee=l==null?void 0:l(F);X(Tb(Ee||[],w))};(async()=>{!l||!P||(E&&le(),F&&le())})()},[F,w,P,E]),m.useEffect(()=>{const le=async()=>{re(!0);const Ee=await(o==null?void 0:o(F));X(Tb(Ee||[],w)),re(!1)};(async()=>{!o||!P||(E&&await le(),F&&await le())})()},[F,w,P,E]);const ae=()=>{if(!A||vge(R,[{value:W,label:W}])||B.find(Te=>Te.value===W))return;const le=s.jsx(Xx,{value:W,className:"cursor-pointer",onMouseDown:Te=>{Te.preventDefault(),Te.stopPropagation()},onSelect:Te=>{if(B.length>=h){p==null||p(B.length);return}Y("");const Ee=[...B,{value:Te,label:Te}];H(Ee),t==null||t(Ee)},children:`Create "${W}"`});if(!o&&W.length>0||o&&F.length>0&&!U)return le},Q=m.useCallback(()=>{if(u)return o&&!A&&Object.keys(R).length===0?s.jsx(Xx,{value:"-",disabled:!0,children:u}):s.jsx(EU,{children:u})},[A,u,o,R]),se=m.useMemo(()=>yge(R,B),[R,B]),Z=m.useCallback(()=>{if(S!=null&&S.filter)return S.filter;if(A)return(le,Te)=>le.toLowerCase().includes(Te.toLowerCase())?1:-1},[A,S==null?void 0:S.filter]);return s.jsxs(NU,{ref:te,...S,onKeyDown:le=>{var Te;V(le),(Te=S==null?void 0:S.onKeyDown)==null||Te.call(S,le)},className:Xe("h-auto overflow-visible bg-transparent",S==null?void 0:S.className),shouldFilter:(S==null?void 0:S.shouldFilter)!==void 0?S.shouldFilter:!o,filter:Z(),children:[s.jsx("div",{className:Xe("min-h-10 rounded-md border border-input text-base ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2 md:text-sm",{"px-3 py-2":B.length!==0,"cursor-text":!y&&B.length!==0},v),onClick:()=>{var le;y||(le=O==null?void 0:O.current)==null||le.focus()},children:s.jsxs("div",{className:"relative flex flex-wrap gap-1",children:[B.map(le=>s.jsxs(Ir,{className:Xe("data-[disabled]:bg-muted-foreground data-[disabled]:text-muted data-[disabled]:hover:bg-muted-foreground","data-[fixed]:bg-muted-foreground data-[fixed]:text-muted data-[fixed]:hover:bg-muted-foreground",N),"data-fixed":le.fixed,"data-disabled":y||void 0,children:[le.label,s.jsx("button",{type:"button",className:Xe("ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",(y||le.fixed)&&"hidden"),onKeyDown:Te=>{Te.key==="Enter"&&K(le)},onMouseDown:Te=>{Te.preventDefault(),Te.stopPropagation()},onClick:()=>K(le),children:s.jsx(ai,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},le.value)),s.jsx(fi.Input,{..._,ref:O,value:W,disabled:y,onValueChange:le=>{var Te;Y(le),(Te=_==null?void 0:_.onValueChange)==null||Te.call(_,le)},onBlur:le=>{var Te;M||I(!1),(Te=_==null?void 0:_.onBlur)==null||Te.call(_,le)},onFocus:le=>{var Te;I(!0),(Te=_==null?void 0:_.onFocus)==null||Te.call(_,le)},placeholder:g&&B.length!==0?"":r,className:Xe("flex-1 bg-transparent outline-none placeholder:text-muted-foreground",{"w-full":g,"px-3 py-2":B.length===0,"ml-1":B.length!==0},_==null?void 0:_.className)}),s.jsx("button",{type:"button",onClick:()=>{H(B.filter(le=>le.fixed)),t==null||t(B.filter(le=>le.fixed))},className:Xe("absolute right-0 h-6 w-6 p-0",(k||y||B.length<1||B.filter(le=>le.fixed).length===B.length)&&"hidden"),children:s.jsx(ai,{})})]})}),s.jsx("div",{className:"relative",children:P&&s.jsx(jU,{className:"absolute top-1 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",onMouseLeave:()=>{q(!1)},onMouseEnter:()=>{q(!0)},onMouseUp:()=>{var le;(le=O==null?void 0:O.current)==null||le.focus()},children:U?s.jsx(s.Fragment,{children:d}):s.jsxs(s.Fragment,{children:[Q(),ae(),!j&&s.jsx(Xx,{value:"-",className:"hidden"}),Object.entries(se).map(([le,Te])=>s.jsx(SU,{heading:le,className:"h-full overflow-auto",children:s.jsx(s.Fragment,{children:Te.map(Ee=>s.jsx(Xx,{value:Ee.label,disabled:Ee.disable,onMouseDown:Ze=>{Ze.preventDefault(),Ze.stopPropagation()},onSelect:()=>{if(B.length>=h){p==null||p(B.length);return}Y("");const Ze=[...B,Ee];H(Ze),t==null||t(Ze)},className:Xe("cursor-pointer",Ee.disable&&"cursor-default text-muted-foreground"),children:Ee.label},Ee.value))})},le))]})})})]})});AU.displayName="MultipleSelector";const Wy=({currentPage:e,totalPages:t,totalRecords:r,recordsPerPage:n,onPageChange:a,onRecordsPerPageChange:i})=>{const o=r===0?0:(e-1)*n+1,l=Math.min(e*n,r);return m.useEffect(()=>{e>t&&t>0&&a(t)},[e,t,a]),s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3 gap-3",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.jsx("span",{className:"font-medium",children:o})," to"," ",s.jsx("span",{className:"font-medium",children:l})," of"," ",s.jsx("span",{className:"font-medium",children:r})," records"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Records per page:"}),s.jsxs(It,{value:(n==null?void 0:n.toString())||"10",onValueChange:d=>i(Number(d)),children:[s.jsx(Lt,{className:"w-[70px] h-8",children:s.jsx(Ft,{placeholder:`${n||10}`})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"5",children:"5"}),s.jsx(Je,{value:"10",children:"10"}),s.jsx(Je,{value:"20",children:"20"}),s.jsx(Je,{value:"50",children:"50"}),s.jsx(Je,{value:"100",children:"100"})]})]})]})]}),t>0&&s.jsx("div",{className:"flex justify-center md:justify-end w-full overflow-x-auto py-1",children:s.jsx(N0,{children:s.jsxs(j0,{children:[s.jsx(ru,{children:s.jsx(S0,{onClick:()=>e>1&&a(e-1),className:e===1?"pointer-events-none opacity-50":"cursor-pointer"})}),t<=7?Array.from({length:t},(d,u)=>u+1).map(d=>s.jsx(ru,{children:s.jsx(rp,{isActive:e===d,onClick:()=>a(d),children:d})},d)):s.jsxs(s.Fragment,{children:[s.jsx(ru,{children:s.jsx(rp,{isActive:e===1,onClick:()=>a(1),children:"1"})}),e>3&&s.jsx(ru,{children:s.jsx("span",{className:"px-4",children:"..."})}),Array.from({length:t},(d,u)=>u+1).filter(d=>d!==1&&d!==t&&(Math.abs(d-e)<2||e<=3&&d<=5||e>=t-2&&d>=t-4)).map(d=>s.jsx(ru,{children:s.jsx(rp,{isActive:e===d,onClick:()=>a(d),children:d})},d)),e<t-2&&s.jsx(ru,{children:s.jsx("span",{className:"px-4",children:"..."})}),s.jsx(ru,{children:s.jsx(rp,{isActive:e===t,onClick:()=>a(t),children:t})})]}),s.jsx(ru,{children:s.jsx(E0,{onClick:()=>e<t&&a(e+1),className:e>=t?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})};var p1={exports:{}},bge=p1.exports,S5;function wge(){return S5||(S5=1,function(e,t){(function(r,n){n()})(bge,function(){function r(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,h,p){var g=new XMLHttpRequest;g.open("GET",u),g.responseType="blob",g.onload=function(){d(g.response,h,p)},g.onerror=function(){console.error("could not download file")},g.send()}function a(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Eo=="object"&&Eo.global===Eo?Eo:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,h,p){var g=o.URL||o.webkitURL,y=document.createElement("a");h=h||u.name||"download",y.download=h,y.rel="noopener",typeof u=="string"?(y.href=u,y.origin===location.origin?i(y):a(y.href)?n(u,h,p):i(y,y.target="_blank")):(y.href=g.createObjectURL(u),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){i(y)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,p){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,p),h);else if(a(u))n(u,h,p);else{var g=document.createElement("a");g.href=u,g.target="_blank",setTimeout(function(){i(g)})}}:function(u,h,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof u=="string")return n(u,h,p);var y=u.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||y&&w||l)&&typeof FileReader<"u"){var N=new FileReader;N.onloadend=function(){var E=N.result;E=v?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=E:location=E,g=null},N.readAsDataURL(u)}else{var j=o.URL||o.webkitURL,A=j.createObjectURL(u);g?g.location=A:location.href=A,g=null,setTimeout(function(){j.revokeObjectURL(A)},4e4)}});o.saveAs=d.saveAs=d,e.exports=d})}(p1)),p1.exports}var Nge=wge();const jge=Rr.object({newPassword:Rr.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Rr.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),Sge=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=m.useState(""),[i,o]=m.useState(""),l=Vr({mutationFn:u=>Fn(`/users/${e}/password`,{password:u}),onSuccess:()=>{ce.success("Password changed successfully!"),r()},onError:u=>{ce.error(u.message||"Failed to change password. Please try again.")}}),d=u=>{var p;u.preventDefault();const h=jge.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const g=(p=h.error.errors[0])==null?void 0:p.message;ce.error(g||"Validation failed");return}l.mutate(n)};return s.jsx(as,{open:t,onOpenChange:r,children:s.jsxs(is,{className:"sm:max-w-[425px]",children:[s.jsx(fs,{children:s.jsx(hs,{children:"Change Password"})}),s.jsxs("form",{onSubmit:d,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(An,{value:n,onChange:u=>a(u.target.value),required:!0,className:"w-full"}),s.jsx(An,{value:i,onChange:u=>o(u.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(pe,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})};var gN="Switch",[Ege,bFe]=pa(gN),[Age,Cge]=Ege(gN),CU=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:h,...p}=e,[g,y]=m.useState(null),w=Yt(t,E=>y(E)),v=m.useRef(!1),N=g?h||!!g.closest("form"):!0,[j,A]=Do({prop:a,defaultProp:i??!1,onChange:u,caller:gN});return s.jsxs(Age,{scope:r,checked:j,disabled:l,children:[s.jsx(qt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":DU(j),"data-disabled":l?"":void 0,disabled:l,value:d,...p,ref:w,onClick:wt(e.onClick,E=>{A(S=>!S),N&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})}),N&&s.jsx(kU,{control:g,bubbles:!v.current,name:n,value:d,checked:j,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});CU.displayName=gN;var TU="SwitchThumb",_U=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Cge(TU,r);return s.jsx(qt.span,{"data-state":DU(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});_U.displayName=TU;var Tge="SwitchBubbleInput",kU=m.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=m.useRef(null),l=Yt(o,i),d=uN(r),u=Xw(t);return m.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==r&&y){const w=new Event("click",{bubbles:n});y.call(h,r),h.dispatchEvent(w)}},[d,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kU.displayName=Tge;function DU(e){return e?"checked":"unchecked"}var _ge=CU,kge=_U;function Z1({className:e,...t}){return s.jsx(_ge,{"data-slot":"switch",className:Xe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(kge,{"data-slot":"switch-thumb",className:Xe("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Dge=e=>e?e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):"",Oge=ys({name:it().min(1,"Name is required"),email:it().email("Invalid email address"),password:it().min(6,"Password must be at least 6 characters long").optional(),role:it().min(1,"Role is required"),active:ko().optional()}),Pge=["VENDOR","AGENCY","ADMIN","MEMBER"],J1=({mode:e,userId:t,onSuccess:r,className:n})=>{const a=Pge,i=yn(),{id:o}=sa(),l=t??o,{register:d,handleSubmit:u,setValue:h,watch:p,control:g,setError:y,formState:{errors:w}}=Js({resolver:en(Oge)}),v=p("active");m.useEffect(()=>{e==="edit"&&l&&(async()=>{try{const k=await xt(`/users/${l}`);h("name",k.name),h("email",k.email),h("role",k.role),h("active",k.active)}catch{ce.error("Failed to fetch user details")}})()},[l,e,h]);const N=Vr({mutationFn:_=>Kr("/users",_),onSuccess:()=>{ce.success("User created successfully"),i.invalidateQueries({queryKey:["users"]}),r==null||r()},onError:_=>{ad(_,y),_.message?ce.error(_.message):ce.error("Failed to create user")}}),j=Vr({mutationFn:_=>Zs(`/users/${l}`,_),onSuccess:()=>{ce.success("User updated successfully"),i.invalidateQueries({queryKey:["users"]}),r==null||r()},onError:_=>{ad(_,y),_.message?ce.error(_.message):ce.error("Failed to update user")}}),A=_=>{e==="create"?N.mutate(_):j.mutate(_)},E=()=>{r&&r()};return s.jsx("div",{className:n,children:s.jsx(S,{})});function S(){return s.jsxs("form",{onSubmit:u(A),className:"space-y-7",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"name",children:"Full Name"}),s.jsx(He,{id:"name",type:"text",...d("name")}),w.name&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"email",children:"Email Address"}),s.jsx(He,{id:"email",type:"email",...d("email")}),w.email&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.email.message})]}),e==="create"&&s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"password",children:"Password"}),s.jsx(An,{id:"password",...d("password")}),w.password&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.password.message})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"role",children:"Role"}),s.jsx(_r,{name:"role",control:g,render:({field:_})=>s.jsxs(It,{value:_.value,onValueChange:_.onChange,children:[s.jsx(Lt,{children:s.jsx(Ft,{})}),s.jsx(Bt,{children:a.map(k=>s.jsxs(Je,{value:k,children:[Dge(k)," "]},k))})]})}),w.role&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.role.message})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{htmlFor:"active",children:"Active"}),s.jsx(Z1,{id:"active",checked:v,onCheckedChange:_=>h("active",_)})]})]}),s.jsxs("div",{className:"justify-end flex gap-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:N.isPending||j.isPending,className:"flex items-center justify-center gap-2",children:N.isPending||j.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"animate-spin h-4 w-4"}),"Saving..."]}):e==="create"?"Create":"Update"})]})]})}},Rge=({isOpen:e,onClose:t})=>s.jsx(as,{open:e,onOpenChange:t,children:s.jsxs(is,{className:"sm:max-w-[600px]",children:[s.jsx(fs,{children:s.jsx(hs,{children:"Create New User"})}),s.jsx(J1,{mode:"create",onSuccess:t,className:"mt-4"})]})}),Mge=({isOpen:e,onClose:t,userId:r})=>s.jsx(as,{open:e,onOpenChange:t,children:s.jsxs(is,{className:"sm:max-w-[600px]",children:[s.jsx(fs,{children:s.jsx(hs,{children:"Edit User"})}),s.jsx(J1,{mode:"edit",userId:r,onSuccess:t,className:"mt-4"})]})}),Ige=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "),Fge=async(e,t,r,n,a,i,o)=>{const l=i.length>0?`&roles=${i.join(",")}`:"";return await xt(`/users?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}${l}&limit=${o}`)},Lge=()=>{const e=yn(),[t,r]=m.useState(1),[n,a]=m.useState(10),[i,o]=m.useState("name"),[l,d]=m.useState("asc"),[u,h]=m.useState(""),[p,g]=m.useState("all"),[y,w]=m.useState([]),[v,N]=m.useState([]),[j,A]=m.useState(!1),[E,S]=m.useState(!1),[_,k]=m.useState(null),[T,O]=m.useState(!1),[P,I]=m.useState(null),[M,q]=m.useState(!1),[U,re]=m.useState(!1),[te,B]=m.useState(null);Cr(),m.useEffect(()=>{(async()=>{})()},[]);const{data:H,isLoading:R,isError:X,refetch:W}=Nr({queryKey:["users",t,i,l,u,p,y,n],queryFn:()=>Fge(t,i,l,u,p,y,n)}),Y=(H==null?void 0:H.users)||[],F=(H==null?void 0:H.totalPages)||1,z=(H==null?void 0:H.totalUsers)||0,K=Vr({mutationFn:de=>Tn(`/users/${de}`),onSuccess:()=>{ce.success("User deleted successfully"),e.invalidateQueries(["users"])},onError:()=>{ce.error("Failed to delete user")}}),V=de=>{I(de),O(!0)},ae=()=>{P&&(K.mutate(P),O(!1),I(null))},Q=Vr({mutationFn:({userId:de,active:ke})=>Fn(`/users/${de}/status`,{active:ke}),onSuccess:()=>{ce.success("User status updated successfully"),e.invalidateQueries(["users"])},onError:()=>{ce.error("Failed to update user status")}}),se=(de,ke)=>{Q.mutate({userId:de,active:!ke})},Z=de=>{i===de?d(l==="asc"?"desc":"asc"):(o(de),d("asc"))},le=de=>{h(de.target.value),r(1)},Te=de=>{g(de),r(1)},Ee=de=>{w(de.map(ke=>ke.value)),r(1)},Ze=async()=>{try{const de=y.length>0?`roles=${encodeURIComponent(y.join(","))}`:"",Pe=`/users?${[`sortBy=${encodeURIComponent(i)}`,`sortOrder=${encodeURIComponent(l)}`,`search=${encodeURIComponent(u)}`,`active=${encodeURIComponent(p)}`,de,"export=true"].filter(Boolean).join("&")}`,Re=await xt(Pe,null,{responseType:"blob"}),ie=new Blob([Re.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Nge.saveAs(ie,"users.xlsx"),ce.success("User data exported successfully")}catch(de){console.error("Export Error:",de),ce.error("Failed to export user data")}},Be=de=>{k(de),S(!0)},Ie=()=>{k(null),S(!1)},Ne=de=>{B(de),re(!0)},fe=()=>{re(!1),B(null)};return s.jsxs("div",{className:"mt-2 p-4 sm:p-6",children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"User Management"}),s.jsx(yt,{className:"mx-auto mt-6 sm:mt-10",children:s.jsxs(Nt,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsx("div",{className:"flex-grow",children:s.jsx(He,{value:u,onChange:le,className:"w-full",icon:s.jsx(qs,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(pe,{variant:j||y.length>0||p!=="all"?"default":"outline",className:`
                  ${j||y.length>0||p!=="all"?"bg-primary hover:bg-primary/90 text-white shadow-sm":"hover:bg-accent"}
                  transition-all duration-200
                `,onClick:()=>A(!j),children:[s.jsx(Th,{className:`mr-2 h-4 w-4 ${j?"text-white":""}`}),"Filters",(y.length>0||p!=="all")&&s.jsx("span",{className:"ml-2 bg-white text-primary font-medium rounded-full px-2 py-0.5 text-xs",children:y.length+(p!=="all"?1:0)})]}),s.jsxs(pe,{variant:"outline",onClick:Ze,disabled:R||Y.length===0,children:[s.jsx(oc,{className:"mr-2 h-4 w-4"}),"Export"]}),s.jsxs(pe,{onClick:()=>q(!0),className:"bg-primary hover:bg-primary/90 text-white shadow-sm transition-all duration-200 hover:shadow-md",children:[s.jsx(Xs,{className:"mr-2 h-5 w-5"}),"Add"]})]})]}),j&&s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),s.jsxs(It,{value:p,onValueChange:Te,children:[s.jsx(Lt,{children:s.jsx(Ft,{})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"all",children:"All Users"}),s.jsx(Je,{value:"true",children:"Active Users"}),s.jsx(Je,{value:"false",children:"Inactive Users"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Roles"}),v.length>0?s.jsx(AU,{defaultOptions:v,selectedOptions:y.map(de=>({label:Ige(de),value:de})),onChange:Ee}):s.jsxs("div",{className:"h-10 flex items-center text-gray-500",children:[s.jsx($p,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading roles..."]})]}),s.jsx("div",{className:"flex justify-end mt-7",children:s.jsx(pe,{size:"sm",onClick:()=>{h(""),g("all"),w([]),r(1),A(!1)},children:"Clear Filters"})})]})}),s.jsx(Q7,{className:"mb-4"}),R?s.jsx("div",{className:"flex justify-center items-center h-32",children:s.jsx($p,{className:"mr-2 h-8 w-8 animate-spin"})}):X?s.jsx("div",{className:"text-center text-red-500",children:"Failed to load users."}):Y.length>0?s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsx(Ye,{onClick:()=>Z("name"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Name"}),i==="name"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Ul,{size:16}):s.jsx(ri,{size:16})})]})}),s.jsx(Ye,{onClick:()=>Z("email"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Email"}),i==="email"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Ul,{size:16}):s.jsx(ri,{size:16})})]})}),s.jsx(Ye,{onClick:()=>Z("role"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Role"}),i==="role"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Ul,{size:16}):s.jsx(ri,{size:16})})]})}),s.jsx(Ye,{onClick:()=>Z("lastLogin"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Last Login"}),i==="lastLogin"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Ul,{size:16}):s.jsx(ri,{size:16})})]})}),s.jsx(Ye,{onClick:()=>Z("active"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Active"}),i==="active"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Ul,{size:16}):s.jsx(ri,{size:16})})]})}),s.jsx(Ye,{children:"Actions"})]})}),s.jsx(Ls,{children:Y.map(de=>s.jsxs(rr,{children:[s.jsx($e,{children:de.name}),s.jsx($e,{children:de.email}),s.jsx($e,{children:s.jsx(Ir,{variant:"outline",children:de.role.split(" ").map(ke=>ke.charAt(0).toUpperCase()+ke.slice(1)).join(" ")})}),s.jsx($e,{children:de.lastLogin?U0e(de.lastLogin):"Never"}),s.jsx($e,{children:de.active?s.jsx(Ir,{variant:"outline",children:"Active"}):s.jsx(Ir,{variant:"secondary",children:"Inactive"})}),s.jsx($e,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>Ne(de.id.toString()),children:s.jsx(Ya,{size:16})}),s.jsx(pe,{variant:"destructive",size:"sm",onClick:()=>V(de.id),children:s.jsx(Qs,{size:16})}),s.jsxs(Ih,{modal:!1,children:[s.jsx(Fh,{asChild:!0,children:s.jsxs(pe,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(wy,{className:"h-4 w-4"})]})}),s.jsx(Lh,{className:"w-56",children:s.jsxs(nN,{children:[s.jsx(mn,{onClick:()=>se(de.id,de.active),children:s.jsxs("div",{className:"flex items-center gap-2",children:[de.active?s.jsx(Yi,{className:"h-4 w-4"}):s.jsx(li,{className:"h-4 w-4"}),s.jsxs("span",{children:["Set ",de.active?"Inactive":"Active"]})]})}),s.jsx(mn,{onClick:()=>Be(de.id),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yT,{className:"h-4 w-4"}),s.jsx("span",{children:"Change Password"})]})})]})})]})]})})]},de.id))})]}),s.jsx(Wy,{currentPage:t,totalPages:F,totalRecords:z,recordsPerPage:n,onPageChange:r,onRecordsPerPageChange:de=>{a(de),r(1)}})]}):s.jsx("div",{className:"text-center",children:"No users found."})]})}),_&&s.jsx(Sge,{userId:_,isOpen:E,onClose:Ie}),s.jsx(v0,{isOpen:T,title:"Confirm Deletion",description:"Are you sure you want to delete this user? This action cannot be undone.",onCancel:()=>{O(!1),I(null)},onConfirm:ae}),s.jsx(Rge,{isOpen:M,onClose:()=>q(!1)}),te&&s.jsx(Mge,{isOpen:U,onClose:fe,userId:te})]})};var O4="Radio",[Bge,OU]=pa(O4),[$ge,Uge]=Bge(O4),PU=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:d,form:u,...h}=e,[p,g]=m.useState(null),y=Yt(t,N=>g(N)),w=m.useRef(!1),v=p?u||!!p.closest("form"):!0;return s.jsxs($ge,{scope:r,checked:a,disabled:o,children:[s.jsx(qt.button,{type:"button",role:"radio","aria-checked":a,"data-state":FU(a),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:y,onClick:wt(e.onClick,N=>{a||d==null||d(),v&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})}),v&&s.jsx(IU,{control:p,bubbles:!w.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});PU.displayName=O4;var RU="RadioIndicator",MU=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=Uge(RU,r);return s.jsx(na,{present:n||i.checked,children:s.jsx(qt.span,{"data-state":FU(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});MU.displayName=RU;var Vge="RadioBubbleInput",IU=m.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=m.useRef(null),l=Yt(o,i),d=uN(r),u=Xw(t);return m.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==r&&y){const w=new Event("click",{bubbles:n});y.call(h,r),h.dispatchEvent(w)}},[d,r,n]),s.jsx(qt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});IU.displayName=Vge;function FU(e){return e?"checked":"unchecked"}var qge=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yN="RadioGroup",[zge,wFe]=pa(yN,[eN,OU]),LU=eN(),BU=OU(),[Hge,Wge]=zge(yN),$U=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:u,loop:h=!0,onValueChange:p,...g}=e,y=LU(r),w=Ty(u),[v,N]=Do({prop:i,defaultProp:a??"",onChange:p,caller:yN});return s.jsx(Hge,{scope:r,name:n,required:o,disabled:l,value:v,onValueChange:N,children:s.jsx(o7,{asChild:!0,...y,orientation:d,dir:w,loop:h,children:s.jsx(qt.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:w,...g,ref:t})})})});$U.displayName=yN;var UU="RadioGroupItem",VU=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=Wge(UU,r),o=i.disabled||n,l=LU(r),d=BU(r),u=m.useRef(null),h=Yt(t,u),p=i.value===a.value,g=m.useRef(!1);return m.useEffect(()=>{const y=v=>{qge.includes(v.key)&&(g.current=!0)},w=()=>g.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),s.jsx(l7,{asChild:!0,...l,focusable:!o,active:p,children:s.jsx(PU,{disabled:o,required:i.required,checked:p,...d,...a,name:i.name,ref:h,onCheck:()=>i.onValueChange(a.value),onKeyDown:wt(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:wt(a.onFocus,()=>{var y;g.current&&((y=u.current)==null||y.click())})})})});VU.displayName=UU;var Gge="RadioGroupIndicator",qU=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=BU(r);return s.jsx(MU,{...a,...n,ref:t})});qU.displayName=Gge;var Yge=$U,Kge=VU,Xge=qU;function th({className:e,...t}){return s.jsx(Yge,{"data-slot":"radio-group",className:Xe("grid gap-3",e),...t})}function si({className:e,...t}){return s.jsx(Kge,{"data-slot":"radio-group-item",className:Xe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Xge,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:s.jsx(TZ,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var vN="Checkbox",[Qge,NFe]=pa(vN),[Zge,Jge]=Qge(vN),zU=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:h,...p}=e,[g,y]=m.useState(null),w=Yt(t,S=>y(S)),v=m.useRef(!1),N=g?h||!!g.closest("form"):!0,[j,A]=Do({prop:a,defaultProp:i??!1,onChange:u,caller:vN}),E=m.useRef(j);return m.useEffect(()=>{const S=g==null?void 0:g.form;if(S){const _=()=>A(E.current);return S.addEventListener("reset",_),()=>S.removeEventListener("reset",_)}},[g,A]),s.jsxs(Zge,{scope:r,state:j,disabled:l,children:[s.jsx(qt.button,{type:"button",role:"checkbox","aria-checked":Ru(j)?"mixed":j,"aria-required":o,"data-state":YU(j),"data-disabled":l?"":void 0,disabled:l,value:d,...p,ref:w,onKeyDown:wt(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:wt(e.onClick,S=>{A(_=>Ru(_)?!0:!_),N&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),N&&s.jsx(GU,{control:g,bubbles:!v.current,name:n,value:d,checked:j,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Ru(i)?!1:i})]})});zU.displayName=vN;var HU="CheckboxIndicator",WU=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=Jge(HU,r);return s.jsx(na,{present:n||Ru(i.state)||i.state===!0,children:s.jsx(qt.span,{"data-state":YU(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});WU.displayName=HU;var eye="CheckboxBubbleInput",GU=m.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i},o)=>{const l=m.useRef(null),d=Yt(l,o),u=uN(r),h=Xw(t);m.useEffect(()=>{const g=l.current;if(!g)return;const y=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(y,"checked").set;if(u!==r&&v){const N=new Event("click",{bubbles:n});g.indeterminate=Ru(r),v.call(g,Ru(r)?!1:r),g.dispatchEvent(N)}},[u,r,n]);const p=m.useRef(Ru(r)?!1:r);return s.jsx(qt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??p.current,...i,tabIndex:-1,ref:d,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});GU.displayName=eye;function Ru(e){return e==="indeterminate"}function YU(e){return Ru(e)?"indeterminate":e?"checked":"unchecked"}var tye=zU,rye=WU;function sc({className:e,...t}){return s.jsx(tye,{"data-slot":"checkbox",className:Xe("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(rye,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(vy,{className:"size-3.5"})})})}const Gy=[{value:"andhra-pradesh",label:"Andhra Pradesh"},{value:"arunachal-pradesh",label:"Arunachal Pradesh"},{value:"assam",label:"Assam"},{value:"bihar",label:"Bihar"},{value:"chhattisgarh",label:"Chhattisgarh"},{value:"goa",label:"Goa"},{value:"gujarat",label:"Gujarat"},{value:"haryana",label:"Haryana"},{value:"himachal-pradesh",label:"Himachal Pradesh"},{value:"jharkhand",label:"Jharkhand"},{value:"karnataka",label:"Karnataka"},{value:"kerala",label:"Kerala"},{value:"madhya-pradesh",label:"Madhya Pradesh"},{value:"maharashtra",label:"Maharashtra"},{value:"manipur",label:"Manipur"},{value:"meghalaya",label:"Meghalaya"},{value:"mizoram",label:"Mizoram"},{value:"nagaland",label:"Nagaland"},{value:"odisha",label:"Odisha"},{value:"punjab",label:"Punjab"},{value:"rajasthan",label:"Rajasthan"},{value:"sikkim",label:"Sikkim"},{value:"tamil-nadu",label:"Tamil Nadu"},{value:"telangana",label:"Telangana"},{value:"tripura",label:"Tripura"},{value:"uttar-pradesh",label:"Uttar Pradesh"},{value:"uttarakhand",label:"Uttarakhand"},{value:"west-bengal",label:"West Bengal"},{value:"andaman-nicobar",label:"Andaman and Nicobar Islands"},{value:"chandigarh",label:"Chandigarh"},{value:"dadra-nagar-haveli-daman-diu",label:"Dadra and Nagar Haveli and Daman and Diu"},{value:"delhi",label:"Delhi"},{value:"jammu-kashmir",label:"Jammu and Kashmir"},{value:"ladakh",label:"Ladakh"},{value:"lakshadweep",label:"Lakshadweep"},{value:"puducherry",label:"Puducherry"}],sye=ys({recipientName:it().min(1,"Recipient name is required"),mobile:it().min(1,"Mobile number is required").regex(/^\d{10,}$/,"Mobile number must be at least 10 digits"),plotBuilding:it().min(1,"Flat/House/Plot number is required"),streetArea:it().min(1,"Street/Area name is required"),landmark:it().optional(),pincode:it().min(1,"Pincode is required").regex(/^\d{6}$/,"Pincode must be exactly 6 digits"),city:it().min(1,"City is required"),state:it().min(1,"State is required"),isDefault:ko().default(!1),label:jy(["Home","Work","Other"]).default("Home")}),nye=({mode:e,memberId:t,addressId:r,initialData:n,onSuccess:a,onCancel:i})=>{const o=e==="edit",l=Js({resolver:en(sye),defaultValues:n?{recipientName:n.recipientName,mobile:n.mobile,plotBuilding:n.plotBuilding,streetArea:n.streetArea,landmark:n.landmark||"",pincode:n.pincode,city:n.city,state:n.state,isDefault:n.isDefault,label:n.label==="Home"||n.label==="Work"||n.label==="Other"?n.label:"Home"}:{recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"",state:"Maharashtra",isDefault:!1,label:"Home"}}),d=async u=>{var h,p;try{let g;o&&r?(g=await Zs(`/admin/delivery-addresses/${r}`,u),ce.success("Address updated successfully")):(g=await Kr("/admin/delivery-addresses",{...u,memberId:parseInt(t)}),ce.success("Address created successfully")),a(g)}catch(g){ce.error(((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.message)||"Failed to save address")}};return s.jsx("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto px-1",children:s.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium mb-2 block",children:"Label As"}),s.jsxs(th,{value:l.watch("label"),onValueChange:u=>l.setValue("label",u),className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(si,{value:"Home",id:"home"}),s.jsx(ye,{htmlFor:"home",children:"Home"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(si,{value:"Work",id:"work"}),s.jsx(ye,{htmlFor:"work",children:"Work"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(si,{value:"Other",id:"other"}),s.jsx(ye,{htmlFor:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"recipientName",children:"Recipient Name *"}),s.jsx(He,{id:"recipientName",...l.register("recipientName"),placeholder:"Enter recipient name"}),l.formState.errors.recipientName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.recipientName.message})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"mobile",children:"Mobile Number *"}),s.jsx(He,{id:"mobile",...l.register("mobile"),placeholder:"Enter mobile number",maxLength:10}),l.formState.errors.mobile&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.mobile.message})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"plotBuilding",children:"Flat, House, Plot Number *"}),s.jsx(He,{id:"plotBuilding",...l.register("plotBuilding"),placeholder:"Enter flat, house, or plot number"}),l.formState.errors.plotBuilding&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.plotBuilding.message})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"streetArea",children:"Street/Area Name *"}),s.jsx(He,{id:"streetArea",...l.register("streetArea"),placeholder:"Enter street or area name"}),l.formState.errors.streetArea&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.streetArea.message})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"landmark",children:"Landmark"}),s.jsx(He,{id:"landmark",...l.register("landmark"),placeholder:"Enter landmark (optional)"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"pincode",children:"Pincode *"}),s.jsx(He,{id:"pincode",...l.register("pincode"),placeholder:"Enter pincode",maxLength:6}),l.formState.errors.pincode&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.pincode.message})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"state",children:"State *"}),s.jsxs(It,{value:l.watch("state"),onValueChange:u=>l.setValue("state",u),children:[s.jsx(Lt,{children:s.jsx(Ft,{placeholder:"Select a state"})}),s.jsx(Bt,{className:"max-h-60 overflow-y-auto",children:Gy.map(u=>s.jsx(Je,{value:u.label,children:u.label},u.value))})]}),l.formState.errors.state&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.state.message})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"city",children:"City *"}),s.jsx(He,{id:"city",...l.register("city"),placeholder:"Enter city"}),l.formState.errors.city&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.city.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sc,{id:"isDefault",checked:l.watch("isDefault"),onCheckedChange:u=>l.setValue("isDefault",!!u)}),s.jsx(ye,{htmlFor:"isDefault",className:"text-sm",children:"Set as default address"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:l.formState.isSubmitting,children:l.formState.isSubmitting?o?"Updating...":"Creating...":o?"Update Address":"Create Address"})]})]})})},aye=ys({name:it().min(1,"Name is required"),email:it().email("Invalid email address"),mobile:it().optional().refine(e=>!e||/^\d{10,15}$/.test(e),{message:"Mobile number must be 10-15 digits if provided."})}),iye=()=>{const{memberId:e}=sa(),t=Cr(),r=yn(),[n,a]=m.useState([]),[i,o]=m.useState(!1),[l,d]=m.useState(!1),[u,h]=m.useState(null),[p,g]=m.useState(!1),[y,w]=m.useState(null),[v,N]=m.useState(!1),{register:j,handleSubmit:A,setValue:E,setError:S,formState:{errors:_,isSubmitting:k}}=Js({resolver:en(aye)});m.useEffect(()=>{e&&(async()=>{var H,R;try{const X=await xt(`/admin/users/${e}`);E("name",X.name),E("email",X.email),X.mobile&&E("mobile",X.mobile.toString()),await T()}catch(X){ce.error(((R=(H=X.response)==null?void 0:H.data)==null?void 0:R.message)||"Failed to fetch member details"),t("/admin/members")}})()},[e,E,t]);const T=async()=>{if(e){o(!0);try{const B=await xt(`/admin/delivery-addresses?memberId=${e}`);a(B||[])}catch(B){console.error("Failed to fetch member addresses:",B),B.status===404?ce.info("Address management endpoint not yet available"):ce.error("Failed to load member addresses"),a([])}finally{o(!1)}}},O=Vr({mutationFn:B=>Zs(`/admin/users/${e}`,B),onSuccess:()=>{ce.success("Member details updated successfully"),r.invalidateQueries({queryKey:["admin-members-list"]}),r.invalidateQueries({queryKey:["user",e]}),t("/admin/members")},onError:B=>{var H,R;ad(B,S),ce.error(((R=(H=B.response)==null?void 0:H.data)==null?void 0:R.message)||"Failed to update member details")}}),P=B=>{O.mutate(B)},I=()=>{h(null),d(!0)},M=B=>{h(B),d(!0)},q=B=>{w(B),g(!0)},U=async()=>{var B,H,R,X;if(y){N(!0);try{await Tn(`/admin/delivery-addresses/${y.id}`),ce.success("Address deleted successfully"),await T(),g(!1),w(null)}catch(W){if(W.status===404)try{await Tn(`/delivery-addresses/${y.id}`),ce.success("Address deleted successfully"),await T(),g(!1),w(null)}catch(Y){ce.error(((H=(B=Y.response)==null?void 0:B.data)==null?void 0:H.message)||"Failed to delete address")}else ce.error(((X=(R=W.response)==null?void 0:R.data)==null?void 0:X.message)||"Failed to delete address")}finally{N(!1)}}},re=async B=>{d(!1),h(null),await T()},te=B=>{switch(B){case"Home":return s.jsx(pT,{className:"h-4 w-4 text-blue-600"});case"Work":return s.jsx(ou,{className:"h-4 w-4 text-green-600"});default:return s.jsx(al,{className:"h-4 w-4 text-gray-600"})}};return s.jsxs("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8 space-y-6",children:[s.jsxs(yt,{className:"w-full",children:[s.jsx(_t,{children:s.jsx(Gt,{children:"Edit Member Details"})}),s.jsxs("form",{onSubmit:A(P),children:[s.jsxs(Nt,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"name",children:"Full Name"}),s.jsx(He,{id:"name",type:"text",...j("name")}),_.name&&s.jsx("span",{className:"text-red-500 text-sm mt-1",children:_.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"email",children:"Email Address"}),s.jsx(He,{id:"email",type:"email",...j("email")}),_.email&&s.jsx("span",{className:"text-red-500 text-sm mt-1",children:_.email.message})]})]}),s.jsxs(rf,{className:"flex justify-end gap-4 pt-6",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>t("/admin/members"),disabled:k||O.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:k||O.isPending,className:"flex items-center justify-center gap-2",children:k||O.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"animate-spin h-4 w-4"}),"Saving..."]}):"Update Customer"})]})]})]}),s.jsxs(yt,{className:"w-full",children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Gt,{className:"flex items-center gap-2",children:[s.jsx(al,{className:"h-5 w-5"}),"Delivery Addresses"]}),s.jsxs(pe,{onClick:I,size:"sm",className:"flex items-center gap-2",children:[s.jsx(En,{className:"h-4 w-4"}),"Add Address"]})]})}),s.jsx(Nt,{children:i?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Fr,{className:"animate-spin h-6 w-6 mr-2"}),s.jsx("span",{children:"Loading addresses..."})]}):n.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(al,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No addresses found"}),s.jsx("p",{className:"text-sm",children:"This member hasn't added any delivery addresses yet."})]}):s.jsx("div",{className:"space-y-4",children:n.map(B=>s.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[te(B.label),s.jsx("span",{className:"font-medium text-sm",children:B.label||"Other"}),B.isDefault&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:B.recipientName}),s.jsxs("p",{children:[B.plotBuilding,", ",B.streetArea]}),B.landmark&&s.jsxs("p",{children:["Near ",B.landmark]}),s.jsxs("p",{children:[B.city,", ",B.state," - ",B.pincode]}),s.jsxs("p",{className:"text-blue-600",children:["📱 ",B.mobile]})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>M(B),className:"flex items-center gap-1",children:[s.jsx(Ya,{className:"h-3 w-3"}),"Edit"]}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>q(B),className:"flex items-center gap-1 text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(Qs,{className:"h-3 w-3"}),"Delete"]})]})]})},B.id))})})]}),s.jsx(as,{open:l,onOpenChange:d,children:s.jsxs(is,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(fs,{children:s.jsx(hs,{children:u?"Edit Address":"Add New Address"})}),s.jsx(nye,{mode:u?"edit":"create",memberId:e,addressId:u==null?void 0:u.id,initialData:u||void 0,onSuccess:re,onCancel:()=>d(!1)})]})}),s.jsx(Ln,{open:p,onOpenChange:g,children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Delete Address"}),s.jsxs(qn,{children:["Are you sure you want to delete this address? This action cannot be undone.",y&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:[s.jsx("p",{className:"font-medium",children:y.recipientName}),s.jsxs("p",{className:"text-sm text-gray-600",children:[y.plotBuilding,", ",y.streetArea,", ",y.city]})]})]})]}),s.jsxs(Un,{children:[s.jsx(zn,{disabled:v,children:"Cancel"}),s.jsx(aa,{onClick:U,disabled:v,className:"bg-red-600 hover:bg-red-700",children:v?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"animate-spin h-4 w-4 mr-2"}),"Deleting..."]}):"Delete Address"})]})]})})]})},oye=Rr.object({newPassword:Rr.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Rr.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),lye=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=m.useState(""),[i,o]=m.useState(""),l=Vr({mutationFn:u=>Fn(`/users/${e}/password`,{password:u}),onSuccess:()=>{ce.success("Password changed successfully!"),r()},onError:u=>{ce.error(u.message||"Failed to change password. Please try again.")}}),d=u=>{var p;u.preventDefault();const h=oye.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const g=(p=h.error.errors[0])==null?void 0:p.message;ce.error(g||"Validation failed");return}l.mutate(n)};return s.jsx(as,{open:t,onOpenChange:r,children:s.jsxs(is,{className:"sm:max-w-[425px]",children:[s.jsx(fs,{children:s.jsx(hs,{children:"Change Password"})}),s.jsxs("form",{onSubmit:d,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(An,{value:n,onChange:u=>a(u.target.value),required:!0,className:"w-full"}),s.jsx(An,{value:i,onChange:u=>o(u.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(pe,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})},cye=async(e,t,r,n,a,i)=>{const o=await xt(`/vendors?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}&limit=${i}`);return Array.isArray(o),o},dye=()=>{const e=yn(),t=Cr(),[r,n]=m.useState(1),[a,i]=m.useState(10),[o,l]=m.useState("name"),[d,u]=m.useState("asc"),[h,p]=m.useState(""),[g,y]=m.useState("all"),[w,v]=m.useState(!1),[N,j]=m.useState(!1),[A,E]=m.useState(null),[S,_]=m.useState(!1),[k,T]=m.useState(null),{data:O,isLoading:P,isError:I,error:M}=Nr({queryKey:["vendors",r,o,d,h,g,a],queryFn:()=>cye(r,o,d,h,g,a),placeholderData:V=>V}),q=Array.isArray(O)?O:(O==null?void 0:O.data)||[],U=Array.isArray(O)?Math.ceil(O.length/a):(O==null?void 0:O.totalPages)||1,re=Array.isArray(O)?O.length:(O==null?void 0:O.totalRecords)||0,te=Vr({mutationFn:V=>Tn(`/vendors/${V}`),onSuccess:()=>{ce.success("Farmer deleted successfully."),e.invalidateQueries({queryKey:["vendors"]}),_(!1),T(null)},onError:V=>{ce.error(`Failed to delete vendor: ${V.message}`),_(!1)}}),B=Vr({mutationFn:({vendorUserId:V,active:ae})=>Fn(`/users/${V}/status`,{active:ae}),onSuccess:(V,ae)=>{ce.success(`Farmer user status updated to ${ae.active?"Active":"Inactive"}.`),e.invalidateQueries({queryKey:["vendors"]})},onError:V=>{ce.error(`Failed to update status: ${V.message}`)}}),H=V=>{o===V?u(d==="asc"?"desc":"asc"):(l(V),u("asc")),n(1)},R=V=>{p(V.target.value),n(1)},X=V=>{y(V),n(1)},W=()=>{E(null),j(!1),e.invalidateQueries({queryKey:["vendors"]})},Y=V=>{T(V),_(!0)},F=()=>{k&&te.mutate(k)},z=V=>{V.user&&V.user.id?B.mutate({vendorUserId:V.user.id,active:!V.user.active}):ce.error("User information not available for this vendor.")};if(P)return s.jsxs("div",{className:"flex justify-center items-center h-64",children:[s.jsx($p,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2 text-lg",children:"Loading farmers..."})]});if(I)return s.jsx("div",{className:"text-center py-10",children:s.jsxs("p",{className:"text-red-500 text-lg",children:["Error loading farmers: ",M==null?void 0:M.message]})});const K=V=>o===V?d==="asc"?s.jsx(Ul,{size:16}):s.jsx(ri,{size:16}):null;return s.jsxs("div",{className:"container mx-auto py-4 px-2 sm:px-4 md:px-6 lg:px-8",children:[s.jsxs(yt,{className:"shadow-lg",children:[s.jsx(_t,{className:"bg-muted/50 p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[s.jsxs("div",{children:[s.jsx(Gt,{className:"text-2xl font-semibold",children:"Farmers"}),s.jsx(Ea,{className:"mt-1 text-sm text-muted-foreground",children:"Manage your farmers and their details."})]}),s.jsxs("div",{className:"mt-3 sm:mt-0 flex flex-col sm:flex-row gap-2",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>v(!w),className:"w-full sm:w-auto",children:[s.jsx(Th,{size:16,className:"mr-2"}),w?"Hide":"Show"," Filters"]}),s.jsxs(pe,{size:"sm",onClick:()=>t("/admin/vendors/create"),className:"w-full sm:w-auto bg-green-600 hover:bg-primary text-white",children:[s.jsx(Xs,{size:16,className:"mr-2"}),"Add Farmer"]})]})]})}),s.jsxs(Nt,{className:"p-0",children:[w&&s.jsx("div",{className:"p-4 sm:p-6 border-b bg-slate-50",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Farmers"}),s.jsxs("div",{className:"relative",children:[s.jsx(He,{id:"search",type:"text",value:h,onChange:R,className:"pl-10"}),s.jsx(qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"activeFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"User Status"}),s.jsxs(It,{value:g,onValueChange:X,children:[s.jsx(Lt,{id:"activeFilter",children:s.jsx(Ft,{})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"all",children:"All Users"}),s.jsx(Je,{value:"true",children:"Active Users"}),s.jsx(Je,{value:"false",children:"Inactive Users"})]})]})]})]})}),q.length>0?s.jsx("div",{className:"overflow-x-auto px-4",children:s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsx(Ye,{className:"pl-6 cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>H("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Farmer Name ",K("name")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>H("contactPersonName"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Contact Person ",K("contactPersonName")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>H("email"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Email ",K("email")]})}),s.jsx(Ye,{className:"w-[130px]",children:"Mobile"}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px]",onClick:()=>H("city"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["City ",K("city")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px] text-center",onClick:()=>H("user.active"),children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:["User Active ",K("user.active")]})}),s.jsx(Ye,{className:"w-[150px] text-center pr-6",children:"Actions"})]})}),s.jsx(Ls,{children:q.map(V=>s.jsxs(rr,{className:"hover:bg-muted/50 transition-colors",children:[s.jsx($e,{className:"font-medium",children:V.name}),s.jsx($e,{children:V.contactPersonName||"N/A"}),s.jsx($e,{children:V.email}),s.jsx($e,{children:V.mobile}),s.jsx($e,{children:V.city}),s.jsx($e,{className:"text-center",children:V.user?s.jsx(Ir,{variant:V.user.active?"default":"destructive",children:V.user.active?"Active":"Inactive"}):s.jsx(Ir,{variant:"outline",children:"No User"})}),s.jsx($e,{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>t(`/admin/vendors/edit/${V.id}`),title:"Edit Farmer",children:s.jsx(Ya,{size:16})}),s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>Y(V.id),title:"Delete Farmer",children:s.jsx(Qs,{size:16})}),V.user&&s.jsx(pe,{variant:"outline",size:"icon",className:"h-8 w-8 ml-2",onClick:()=>z(V),disabled:B.isPending,title:V.user.active?"Deactivate Farmer User":"Activate Farmer User",children:V.user.active?s.jsx(Yi,{size:16,className:"text-red-500"}):s.jsx(li,{size:16,className:"text-green-500"})})]})})]},V.id))})]})}):s.jsxs("div",{className:"text-center py-10 px-4",children:[s.jsx(qs,{size:48,className:"mx-auto text-gray-400 mb-3"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"No Farmer found."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search or filter criteria, or add a new farmer."})]})]}),q.length>0&&s.jsx(rf,{className:"px-4 py-3 border-t",children:s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsx(Wy,{currentPage:r,totalPages:U,totalRecords:re,recordsPerPage:a,onPageChange:n,onRecordsPerPageChange:V=>{i(V),n(1)}})})})]}),A&&s.jsx(lye,{userId:A,isOpen:N,onClose:W}),s.jsx(v0,{isOpen:S,title:"Confirm Deletion",description:"Are you sure you want to delete this farmer? This action cannot be undone and might affect related records.",onCancel:()=>{_(!1),T(null)},onConfirm:F,confirmLabel:"Delete Farmer"})]})},uye=Rr.object({newPassword:Rr.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Rr.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),fye=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=m.useState(""),[i,o]=m.useState(""),l=Vr({mutationFn:u=>Fn(`/users/${e}/password`,{password:u}),onSuccess:()=>{ce.success("Password changed successfully!"),r()},onError:u=>{ce.error(u.message||"Failed to change password. Please try again.")}}),d=u=>{var p;u.preventDefault();const h=uye.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const g=(p=h.error.errors[0])==null?void 0:p.message;ce.error(g||"Validation failed");return}l.mutate(n)};return s.jsx(as,{open:t,onOpenChange:r,children:s.jsxs(is,{className:"sm:max-w-[425px]",children:[s.jsx(fs,{children:s.jsx(hs,{children:"Change Password"})}),s.jsxs("form",{onSubmit:d,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(An,{value:n,onChange:u=>a(u.target.value),required:!0,className:"w-full"}),s.jsx(An,{value:i,onChange:u=>o(u.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(pe,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})},hye=async(e,t,r,n,a,i)=>{const o=await xt(`/agencies?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}&limit=${i}`);return Array.isArray(o),o},mye=()=>{const e=yn(),t=Cr(),[r,n]=m.useState(1),[a,i]=m.useState(10),[o,l]=m.useState("name"),[d,u]=m.useState("asc"),[h,p]=m.useState(""),[g,y]=m.useState("all"),[w,v]=m.useState(!1),[N,j]=m.useState(!1),[A,E]=m.useState(null),[S,_]=m.useState(!1),[k,T]=m.useState(null),{data:O,isLoading:P,isError:I,error:M}=Nr({queryKey:["agencies",r,o,d,h,g,a],queryFn:()=>hye(r,o,d,h,g,a),placeholderData:Z=>Z}),q=Array.isArray(O)?O:(O==null?void 0:O.data)||[],U=Array.isArray(O)?Math.ceil(O.length/a):(O==null?void 0:O.totalPages)||1,re=Array.isArray(O)?O.length:(O==null?void 0:O.totalRecords)||0,te=Vr({mutationFn:Z=>Tn(`/agencies/${Z}`),onSuccess:()=>{ce.success("Agency deleted successfully."),e.invalidateQueries({queryKey:["agencies"]}),_(!1),T(null)},onError:Z=>{ce.error(`Failed to delete agency: ${Z.message}`),_(!1)}}),B=Vr({mutationFn:({agencyUserId:Z,active:le})=>Fn(`/users/${Z}/status`,{active:le}),onSuccess:(Z,le)=>{ce.success(`Partner user status updated to ${le.active?"Active":"Inactive"}.`),e.invalidateQueries({queryKey:["agencies"]})},onError:Z=>{ce.error(`Failed to update status: ${Z.message}`)}}),H=Z=>{o===Z?u(d==="asc"?"desc":"asc"):(l(Z),u("asc")),n(1)},R=Z=>{p(Z.target.value),n(1)},X=Z=>{y(Z),n(1)},W=Z=>{E(Z),j(!0)},Y=()=>{E(null),j(!1),e.invalidateQueries({queryKey:["agencies"]})},F=Z=>{T(Z),_(!0)},z=()=>{k&&te.mutate(k)},K=Z=>{Z.user&&B.mutate({agencyUserId:Z.user.id,active:!Z.user.active})},V=Z=>o===Z?d==="asc"?s.jsx(Ul,{size:16}):s.jsx(ri,{size:16}):null,[ae,Q]=m.useState({isOpen:!1,title:"",description:"",confirmButtonText:"",onConfirm:null}),se=Z=>{n(Z)};return I&&M instanceof Error?s.jsx("div",{className:"p-4 text-red-600",children:s.jsxs("p",{children:["Error loading agencies: ",M.message]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(yt,{className:"shadow-md",children:[s.jsx(_t,{className:"pb-2",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(Gt,{className:"text-2xl",children:"Delivery Partner"}),s.jsx(Ea,{children:"Manage your delivery partner and their details."})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>v(!w),className:"w-full sm:w-auto",children:[s.jsx(Th,{size:16,className:"mr-2"}),w?"Hide Filters":"Show Filters"]}),s.jsxs(pe,{size:"sm",onClick:()=>t("/admin/agencies/create"),className:"w-full sm:w-auto bg-green-600 hover:bg-primary text-white",children:[s.jsx(Xs,{size:16,className:"mr-2"}),"Add Delivery Partner"]})]})]})}),s.jsxs(Nt,{children:[w&&s.jsx("div",{className:"bg-muted/30 p-4 rounded-md mb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(qs,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(He,{value:h,onChange:R,className:"pl-8"})]})]}),s.jsxs("div",{className:"w-full sm:w-48",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),s.jsxs(It,{value:g,onValueChange:X,children:[s.jsx(Lt,{children:s.jsx(Ft,{})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"all",children:"All Users"}),s.jsx(Je,{value:"true",children:"Active Users"}),s.jsx(Je,{value:"false",children:"Inactive Users"})]})]})]})]})}),q.length>0?s.jsx("div",{className:"overflow-x-auto px-4",children:s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsx(Ye,{className:"pl-6 cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>H("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Delivery Partner Name ",V("name")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>H("mobile"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Mobile ",V("mobile")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>H("email"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Email ",V("email")]})}),s.jsx(Ye,{className:"w-[130px]",children:"Mobile"}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px]",onClick:()=>H("city"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["City ",V("city")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px] text-center",onClick:()=>H("user.active"),children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:["User Active ",V("user.active")]})}),s.jsx(Ye,{className:"w-[150px] text-center pr-6",children:"Actions"})]})}),s.jsx(Ls,{children:q.map(Z=>{var le;return s.jsxs(rr,{children:[s.jsx($e,{className:"font-medium",children:Z.name}),s.jsx($e,{children:Z.mobile}),s.jsx($e,{children:Z.email}),s.jsx($e,{children:Z.mobile}),s.jsx($e,{children:Z.city}),s.jsx($e,{className:"text-center",children:Z.user&&s.jsx(Ir,{variant:Z.user.active?"default":"destructive",className:"inline-flex items-center justify-center",children:Z.user.active?s.jsxs(s.Fragment,{children:[s.jsx(li,{size:14,className:"mr-1"})," Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(Yi,{size:14,className:"mr-1"})," Inactive"]})})}),s.jsx($e,{children:s.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>t(`/admin/agencies/edit/${Z.id}`),title:"Edit Partner",children:s.jsx(Ya,{size:16})}),s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>F(Z.id),title:"Delete Partner",children:s.jsx(Qs,{size:16})}),s.jsxs(Ih,{modal:!1,children:[s.jsx(Fh,{asChild:!0,children:s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(wy,{size:16})})}),s.jsx(Lh,{align:"end",children:s.jsxs(nN,{children:[s.jsx(mn,{onClick:()=>K(Z),disabled:!Z.user||B.isPending,children:(le=Z.user)!=null&&le.active?s.jsxs(s.Fragment,{children:[s.jsx(Yi,{size:16,className:"mr-2 text-red-500"})," Set Inactive"]}):s.jsxs(s.Fragment,{children:[s.jsx(li,{size:16,className:"mr-2 text-green-500"})," Set Active"]})}),Z.user&&s.jsxs(mn,{onClick:()=>W(Z.user.id),children:[s.jsx(yT,{size:16,className:"mr-2 text-amber-500"})," Change Password"]})]})})]})]})})]},Z.id)})})]})}):P?s.jsx("div",{className:"flex justify-center items-center py-24",children:s.jsx($p,{size:30,className:"animate-spin"})}):s.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-center",children:[s.jsxs("div",{className:"mb-3 text-muted-foreground",children:[s.jsx(qs,{size:40,className:"mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No Delivery Agencies found"})]}),s.jsx("p",{className:"mb-6 text-muted-foreground max-w-sm",children:h?"Try a different search term or clear filters":"Get started by adding your first Delivery Partner"}),s.jsxs(pe,{onClick:()=>t("/admin/agencies/create"),className:"bg-green-600 hover:bg-primary text-white",children:[s.jsx(Xs,{size:16,className:"mr-2"}),"Add Delivery Partner"]})]}),q.length>0&&s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between items-center",children:[s.jsxs("div",{className:"mb-4 sm:mb-0 text-sm text-muted-foreground",children:["Showing ",q.length>0?(r-1)*a+1:0," to"," ",Math.min(r*a,re)," of ",re," records"]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Records per page:"}),s.jsxs(It,{value:a.toString(),onValueChange:Z=>{i(Number(Z)),n(1)},children:[s.jsx(Lt,{className:"h-8 w-[70px]",children:s.jsx(Ft,{placeholder:a.toString()})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"5",children:"5"}),s.jsx(Je,{value:"10",children:"10"}),s.jsx(Je,{value:"20",children:"20"}),s.jsx(Je,{value:"50",children:"50"})]})]})]}),U>1&&s.jsx(Wy,{currentPage:r,totalPages:U,onPageChange:se})]})]})]})]}),A&&s.jsx(fye,{isOpen:N,userId:A,onClose:Y}),s.jsx(v0,{isOpen:S,title:"Delete Delivery Partner",description:"Are you sure you want to delete this delivery agency? This action cannot be undone.",onCancel:()=>{_(!1),T(null)},onConfirm:z,confirmLabel:"Delete Delivery Partner"})]})},pye=Rr.object({newPassword:Rr.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Rr.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),xye=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=m.useState(""),[i,o]=m.useState(""),l=Vr({mutationFn:u=>Fn(`/users/${e}/password`,{password:u}),onSuccess:()=>{ce.success("Password changed successfully!"),r()},onError:u=>{ce.error(u.message||"Failed to change password. Please try again.")}}),d=u=>{var p;u.preventDefault();const h=pye.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const g=(p=h.error.errors[0])==null?void 0:p.message;ce.error(g||"Validation failed");return}l.mutate(n)};return s.jsx(as,{open:t,onOpenChange:r,children:s.jsxs(is,{className:"sm:max-w-[425px]",children:[s.jsx(fs,{children:s.jsx(hs,{children:"Change Password"})}),s.jsxs("form",{onSubmit:d,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(An,{value:n,onChange:u=>a(u.target.value),required:!0,className:"w-full"}),s.jsx(An,{value:i,onChange:u=>o(u.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(pe,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})},gye=async(e,t,r,n,a,i)=>{const o=await xt(`/supervisors?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}&limit=${i}`);return Array.isArray(o),o},yye=()=>{const e=yn(),t=Cr(),[r,n]=m.useState(1),[a,i]=m.useState(10),[o,l]=m.useState("name"),[d,u]=m.useState("asc"),[h,p]=m.useState(""),[g,y]=m.useState("all"),[w,v]=m.useState(!1),[N,j]=m.useState(!1),[A,E]=m.useState(null),[S,_]=m.useState(!1),[k,T]=m.useState(null),{data:O,isLoading:P,isError:I,error:M}=Nr({queryKey:["supervisors",r,o,d,h,g,a],queryFn:()=>gye(r,o,d,h,g,a),placeholderData:Z=>Z}),q=Array.isArray(O)?O:(O==null?void 0:O.data)||[],U=Array.isArray(O)?Math.ceil(O.length/a):(O==null?void 0:O.totalPages)||1,re=Array.isArray(O)?O.length:(O==null?void 0:O.totalRecords)||0,te=Vr({mutationFn:Z=>Tn(`/supervisors/${Z}`),onSuccess:()=>{ce.success("Supervisor deleted successfully."),e.invalidateQueries({queryKey:["supervisors"]}),_(!1),T(null)},onError:Z=>{ce.error(`Failed to delete supervisor: ${Z.message}`),_(!1)}}),B=Vr({mutationFn:({supervisorUserId:Z,active:le})=>Fn(`/users/${Z}/status`,{active:le}),onSuccess:(Z,le)=>{ce.success(`Supervisor user status updated to ${le.active?"Active":"Inactive"}.`),e.invalidateQueries({queryKey:["supervisors"]})},onError:Z=>{ce.error(`Failed to update status: ${Z.message}`)}}),H=Z=>{o===Z?u(d==="asc"?"desc":"asc"):(l(Z),u("asc")),n(1)},R=Z=>{p(Z.target.value),n(1)},X=Z=>{y(Z),n(1)},W=Z=>{E(Z),j(!0)},Y=()=>{E(null),j(!1),e.invalidateQueries({queryKey:["supervisors"]})},F=Z=>{T(Z),_(!0)},z=()=>{k&&te.mutate(k)},K=Z=>{Z.user&&B.mutate({supervisorUserId:Z.user.id,active:!Z.user.active})},V=Z=>o===Z?d==="asc"?s.jsx(Ul,{size:16}):s.jsx(ri,{size:16}):null,[ae,Q]=m.useState({isOpen:!1,title:"",description:"",confirmButtonText:"",onConfirm:null}),se=Z=>{n(Z)};return I&&M instanceof Error?s.jsx("div",{className:"p-4 text-red-600",children:s.jsxs("p",{children:["Error loading supervisors: ",M.message]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(yt,{className:"shadow-md",children:[s.jsx(_t,{className:"pb-2",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(Gt,{className:"text-2xl",children:"Supervisors"}),s.jsx(Ea,{children:"Manage your supervisors and their details."})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>v(!w),className:"w-full sm:w-auto",children:[s.jsx(Th,{size:16,className:"mr-2"}),w?"Hide Filters":"Show Filters"]}),s.jsxs(pe,{size:"sm",onClick:()=>t("/admin/supervisors/create"),className:"w-full sm:w-auto bg-green-600 hover:bg-primary text-white",children:[s.jsx(Xs,{size:16,className:"mr-2"}),"Add Supervisor"]})]})]})}),s.jsxs(Nt,{children:[w&&s.jsx("div",{className:"bg-muted/30 p-4 rounded-md mb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(qs,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(He,{value:h,onChange:R,className:"pl-8"})]})]}),s.jsxs("div",{className:"w-full sm:w-48",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),s.jsxs(It,{value:g,onValueChange:X,children:[s.jsx(Lt,{children:s.jsx(Ft,{})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"all",children:"All Users"}),s.jsx(Je,{value:"true",children:"Active Users"}),s.jsx(Je,{value:"false",children:"Inactive Users"})]})]})]})]})}),q.length>0?s.jsx("div",{className:"overflow-x-auto px-4",children:s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsx(Ye,{className:"pl-6 cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>H("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Supervisor Name ",V("name")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>H("email"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Email ",V("email")]})}),s.jsx(Ye,{className:"w-[130px]",children:"Mobile"}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px]",onClick:()=>H("city"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["City ",V("city")]})}),s.jsx(Ye,{className:"w-[150px]",children:"Assigned Depot"}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px] text-center",onClick:()=>H("user.active"),children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:["User Active ",V("user.active")]})}),s.jsx(Ye,{className:"w-[150px] text-center pr-6",children:"Actions"})]})}),s.jsx(Ls,{children:q.map(Z=>{var le;return s.jsxs(rr,{children:[s.jsx($e,{className:"font-medium",children:Z.name}),s.jsx($e,{children:Z.email}),s.jsx($e,{children:Z.mobile}),s.jsx($e,{children:Z.city}),s.jsx($e,{children:Z.depot?s.jsx(Ir,{variant:"outline",className:"text-xs",children:Z.depot.name}):s.jsx("span",{className:"text-gray-400 text-sm",children:"None"})}),s.jsx($e,{className:"text-center",children:Z.user&&s.jsx(Ir,{variant:Z.user.active?"default":"destructive",className:"inline-flex items-center justify-center",children:Z.user.active?s.jsxs(s.Fragment,{children:[s.jsx(li,{size:14,className:"mr-1"})," Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(Yi,{size:14,className:"mr-1"})," Inactive"]})})}),s.jsx($e,{children:s.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>t(`/admin/supervisors/edit/${Z.id}`),title:"Edit Supervisor",children:s.jsx(Ya,{size:16})}),s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>F(Z.id),title:"Delete Supervisor",children:s.jsx(Qs,{size:16})}),s.jsxs(Ih,{modal:!1,children:[s.jsx(Fh,{asChild:!0,children:s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(wy,{size:16})})}),s.jsx(Lh,{align:"end",children:s.jsxs(nN,{children:[s.jsx(mn,{onClick:()=>K(Z),disabled:!Z.user||B.isPending,children:(le=Z.user)!=null&&le.active?s.jsxs(s.Fragment,{children:[s.jsx(Yi,{size:16,className:"mr-2 text-red-500"})," Set Inactive"]}):s.jsxs(s.Fragment,{children:[s.jsx(li,{size:16,className:"mr-2 text-green-500"})," Set Active"]})}),Z.user&&s.jsxs(mn,{onClick:()=>W(Z.user.id),children:[s.jsx(yT,{size:16,className:"mr-2 text-amber-500"})," Change Password"]})]})})]})]})})]},Z.id)})})]})}):P?s.jsx("div",{className:"flex justify-center items-center py-24",children:s.jsx($p,{size:30,className:"animate-spin"})}):s.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-center",children:[s.jsxs("div",{className:"mb-3 text-muted-foreground",children:[s.jsx(qs,{size:40,className:"mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No Supervisors found"})]}),s.jsx("p",{className:"mb-6 text-muted-foreground max-w-sm",children:h?"Try a different search term or clear filters":"Get started by adding your first Supervisor"}),s.jsxs(pe,{onClick:()=>t("/admin/supervisors/create"),className:"bg-green-600 hover:bg-primary text-white",children:[s.jsx(Xs,{size:16,className:"mr-2"}),"Add Supervisor"]})]}),q.length>0&&s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between items-center",children:[s.jsxs("div",{className:"mb-4 sm:mb-0 text-sm text-muted-foreground",children:["Showing ",q.length>0?(r-1)*a+1:0," to"," ",Math.min(r*a,re)," of ",re," records"]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Records per page:"}),s.jsxs(It,{value:a.toString(),onValueChange:Z=>{i(Number(Z)),n(1)},children:[s.jsx(Lt,{className:"h-8 w-[70px]",children:s.jsx(Ft,{placeholder:a.toString()})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"5",children:"5"}),s.jsx(Je,{value:"10",children:"10"}),s.jsx(Je,{value:"20",children:"20"}),s.jsx(Je,{value:"50",children:"50"})]})]})]}),U>1&&s.jsx(Wy,{currentPage:r,totalPages:U,onPageChange:se})]})]})]})]}),A&&s.jsx(xye,{isOpen:N,userId:A,onClose:Y}),s.jsx(v0,{isOpen:S,title:"Delete Supervisor",description:"Are you sure you want to delete this supervisor? This action cannot be undone.",onCancel:()=>{_(!1),T(null)},onConfirm:z,confirmLabel:"Delete Supervisor"})]})},P4=ys({name:it().min(1,"Farmer name is required"),contactPersonName:it().min(1,"Contact person's name is required").optional(),email:it().optional().nullable(),mobile:it().regex(/^\d{10}$/,"Mobile number must be 10 digits"),alternateMobile:NT([hp(""),it().regex(/^\d{10}$/,"Alternate mobile must be 10 digits")]).nullable().optional(),address1:it().min(1,"Address Line 1 is required"),address2:it().nullable().optional(),city:it().optional().nullable(),pincode:Mn.number().int("Pincode must be an integer").positive("Pincode must be positive").refine(e=>String(e).length===6,"Pincode must be 6 digits"),isDairySupplier:ko().optional()}),vye=ys({userLoginEmail:it().email("Invalid login email for user"),userPassword:it().min(6,"Password must be at least 6 characters")});P4.extend({userFullName:it().optional(),userLoginEmail:it().email().optional(),userPassword:it().optional()});const bye=P4.merge(vye),wye=P4,KU=({mode:e,vendorId:t,onSuccess:r,initialData:n,className:a})=>{const i=yn(),{register:o,handleSubmit:l,setValue:d,setError:u,formState:{errors:h,isSubmitting:p},control:g}=Js({mode:"onChange",resolver:en(e==="create"?bye:wye),defaultValues:n||{name:"",contactPersonName:"",email:"",mobile:"",alternateMobile:null,address1:"",address2:null,city:"",pincode:void 0,isDairySupplier:!1,...e==="create"?{userFullName:"",userLoginEmail:"",userPassword:""}:{}}});m.useEffect(()=>{e==="edit"&&t&&!n?(async()=>{try{const N=await xt(`/vendors/${t}`);d("name",N.name),d("contactPersonName",N.contactPersonName||""),d("mobile",N.mobile),d("alternateMobile",N.alternateMobile||null),d("address1",N.address1),d("address2",N.address2||null),d("city",N.city),d("pincode",N.pincode),d("email",N.email),d("isDairySupplier",N.isDairySupplier||!1)}catch{ce.error("Failed to fetch farmer details")}})():n&&Object.keys(n).forEach(v=>{const N=n[v];d(v,N)})},[t,e,d,n]);const y=Vr({mutationFn:v=>{if(e==="create"){const N={vendorName:v.name,contactPersonName:v.contactPersonName,vendorContactEmail:v.email,mobile:v.mobile,alternateMobile:v.alternateMobile,address1:v.address1,address2:v.address2,city:v.city,pincode:v.pincode,isDairySupplier:v.isDairySupplier,userFullName:v.name,userLoginEmail:v.userLoginEmail,userPassword:v.userPassword,role:"VENDOR"};return Kr("/vendors",N)}else{const{userFullName:N,userLoginEmail:j,userPassword:A,...E}=v,S={name:E.name,contactPersonName:E.contactPersonName,email:E.email,mobile:E.mobile,alternateMobile:E.alternateMobile,address1:E.address1,address2:E.address2,city:E.city,pincode:E.pincode,isDairySupplier:E.isDairySupplier};return Zs(`/vendors/${t}`,S)}},onSuccess:()=>{ce.success(`Farmer ${e==="create"?"created (with user)":"updated"} successfully`),i.invalidateQueries({queryKey:["vendors"]}),i.invalidateQueries({queryKey:["users"]}),t&&e==="edit"&&i.invalidateQueries({queryKey:["vendor",t]}),r==null||r()},onError:v=>{var j,A;ad(v,u);const N=`Failed to ${e} farmer.`;ce.error(((A=(j=v==null?void 0:v.response)==null?void 0:j.data)==null?void 0:A.message)||v.message||N)}}),w=v=>{y.mutate(v)};return s.jsxs("form",{onSubmit:l(w),className:`space-y-6 ${a}`,children:[s.jsx("div",{className:"border-b pb-4 mb-4 mt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Farmer Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"name",children:"Farmer Company Name"}),s.jsx(He,{id:"name",type:"text",...o("name"),disabled:p}),h.name&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"contactPersonName",children:"Contact Person Name"}),s.jsx(He,{id:"contactPersonName",type:"text",...o("contactPersonName"),disabled:p}),h.contactPersonName&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.contactPersonName.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"email",children:"Contact Person Email"}),s.jsx(He,{id:"email",type:"email",...o("email"),disabled:p}),h.email&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.email.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(He,{max:10,maxLength:10,id:"mobile",type:"tel",...o("mobile"),disabled:p}),h.mobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.mobile.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"alternateMobile",children:"Alternate Mobile (Optional)"}),s.jsx(He,{max:10,maxLength:10,id:"alternateMobile",type:"tel",...o("alternateMobile"),disabled:p}),h.alternateMobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.alternateMobile.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"address1",children:"Address Line 1"}),s.jsx(He,{id:"address1",type:"text",...o("address1"),disabled:p}),h.address1&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.address1.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"address2",children:"Address Line 2 (Optional)"}),s.jsx(He,{id:"address2",type:"text",...o("address2"),disabled:p}),h.address2&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.address2.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"city",children:"City"}),s.jsx(He,{id:"city",type:"text",...o("city"),disabled:p}),h.city&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.city.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"pincode",children:"Pincode"}),s.jsx(He,{id:"pincode",type:"number",...o("pincode"),disabled:p}),h.pincode&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.pincode.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 my-4",children:[s.jsx(_r,{name:"isDairySupplier",control:g,render:({field:v})=>s.jsx(sc,{id:"isDairySupplier",checked:v.value,onCheckedChange:v.onChange,disabled:p})}),s.jsx(ye,{htmlFor:"isDairySupplier",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Is Dairy Supplier?"}),h.isDairySupplier&&s.jsx("span",{className:"text-red-500 text-xs",children:h.isDairySupplier.message})]}),e==="create"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b pb-4 mb-4",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"userLoginEmail",children:"Login Email"}),s.jsx(He,{id:"userLoginEmail",type:"email",...o("userLoginEmail"),disabled:p}),h.userLoginEmail&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"userPassword",children:"Password"}),s.jsx(An,{id:"userPassword",...o("userPassword"),disabled:p}),h.userPassword&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.userPassword.message})]})]}),s.jsx("div",{className:"w-full  flex items-end justify-end",children:s.jsxs(pe,{type:"submit",disabled:p||y.isPending,className:"w-full sm:w-auto right-0",children:[p||y.isPending?s.jsx(Fr,{className:"mr-2 h-4 w-4 animate-spin"}):null,e==="create"?"Create Farmer":"Save Changes"]})})]})},Nye=()=>{const e=Cr(),t=()=>{e("/admin/vendors")};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(yt,{className:"w-full mx-auto",children:[s.jsx(_t,{children:s.jsx(Gt,{className:"text-2xl font-semibold",children:"Create New Farmer"})}),s.jsxs(Nt,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Fill in the details below to create a new farmer profile and an associated user account."}),s.jsx(KU,{mode:"create",onSuccess:t})]})]})})},jye=$w("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ea({className:e,variant:t,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:Xe(jye({variant:t}),e),...r})}function Sa({className:e,...t}){return s.jsx("div",{"data-slot":"alert-title",className:Xe("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function ta({className:e,...t}){return s.jsx("div",{"data-slot":"alert-description",className:Xe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const Sye=()=>{var u,h;const e=Cr(),{id:t}=sa(),r=async p=>await xt(`/vendors/${p}`),{data:n,isLoading:a,isError:i,error:o}=Nr({queryKey:["vendor",t],queryFn:()=>r(t),enabled:!!t,staleTime:1e3*60*5}),l=()=>{e("/admin/vendors")};if(!t)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(ea,{variant:"destructive",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Error"}),s.jsx(ta,{children:"No Vendor ID provided. Please go back and select a vendor to edit."})]})});if(a)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(yt,{className:" mx-auto",children:[s.jsx(_t,{children:s.jsx(Ot,{className:"h-8 w-1/2"})}),s.jsxs(Nt,{className:"space-y-6",children:[s.jsx(Ot,{className:"h-10 w-full"}),s.jsx(Ot,{className:"h-10 w-full"}),s.jsx(Ot,{className:"h-10 w-full"}),s.jsx(Ot,{className:"h-10 w-1/3 ml-auto"})]})]})});if(i)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(ea,{variant:"destructive",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Error Fetching Farmer"}),s.jsxs(ta,{children:["There was a problem retrieving the farmer details. Error: ",(o==null?void 0:o.message)||"Unknown error"]})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(ea,{variant:"destructive",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Error"}),s.jsx(ta,{children:"Farmer data not found or unavailable."})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(ea,{variant:"destructive",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Error"}),s.jsx(ta,{children:"Farmer data not found or unavailable after loading."})]})});const d={name:n.name,email:n.email,mobile:n.mobile,address1:n.address1,address2:n.address2||null,city:n.city,pincode:n.pincode,contactPersonName:n.contactPersonName||"",alternateMobile:n.alternateMobile||null,userFullName:((u=n.user)==null?void 0:u.name)||"",userLoginEmail:((h=n.user)==null?void 0:h.email)||"",isDairySupplier:n.isDairySupplier||!1};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(yt,{className:"mx-auto",children:[s.jsx(_t,{children:s.jsxs(Gt,{children:["Edit Farmer: ",n.name]})}),s.jsx(Nt,{children:s.jsx(KU,{mode:"edit",vendorId:t,initialData:d,onSuccess:l})})]})})},R4=ys({name:it().min(1,"Partner name is required"),contactPersonName:it().optional(),email:it().optional().nullable(),mobile:it().regex(/^\d{10}$/,"Mobile number must be 10 digits"),alternateMobile:Ig().nullable().optional(),address1:it().min(1,"Address Line 1 is required"),address2:Ig().nullable().optional(),city:it().optional().nullable(),pincode:Mn.number().int("Pincode must be an integer").positive("Pincode must be positive").refine(e=>String(e).length===6,"Pincode must be 6 digits"),depotId:NT([ki().int().positive(),cL(),lL()]).optional(),status:jy(["ACTIVE","INACTIVE"]).default("ACTIVE")}),Eye=ys({userFullName:it().min(1,"User's full name is required"),userLoginEmail:it().email("Invalid login email for user"),userPassword:it().min(6,"User password must be at least 6 characters")});R4.extend({userFullName:it().optional(),userLoginEmail:it().email().optional(),userPassword:it().optional()});const Aye=R4.merge(Eye),Cye=R4,XU=({mode:e,agencyId:t,onSuccess:r,initialData:n,className:a})=>{const i=yn(),[o,l]=m.useState(null),{data:d=[],isLoading:u}=Nr({queryKey:["depots","list"],queryFn:E4}),{register:h,handleSubmit:p,setValue:g,setError:y,control:w,watch:v,formState:{errors:N,isSubmitting:j}}=Js({mode:"onChange",resolver:en(e==="create"?Aye:Cye),defaultValues:n||{name:"",contactPersonName:"",email:"",mobile:"",alternateMobile:null,address1:"",address2:null,city:"",pincode:void 0,depotId:null,status:"ACTIVE",userFullName:"",userLoginEmail:"",userPassword:""}}),A=v("name"),E=v("depotId");m.useEffect(()=>{console.log("Debug - Current depotId:",E,"Type:",typeof E),console.log("Debug - Available depots:",d.map(k=>({id:k.id,name:k.name})))},[E,d]),m.useEffect(()=>{e==="create"&&A&&g("userFullName",A)},[A,e,g]),m.useEffect(()=>{e==="edit"&&t&&!n?(async()=>{var T;try{const O=await xt(`/agencies/${t}`);console.log("Partner Data:",O),console.log("Setting depot ID to:",O.depotId),g("name",O.name),g("contactPersonName",O.contactPersonName||""),g("mobile",O.mobile),g("alternateMobile",O.alternateMobile||null),g("address1",O.address1),g("address2",O.address2||null),g("city",O.city),g("pincode",O.pincode),g("email",O.email),g("status",(T=O.user)!=null&&T.active?"ACTIVE":"INACTIVE");const P=O.depotId?Number(O.depotId):null;console.log("Setting depotId to:",P,"(type:",typeof P,")"),P&&l(P),g("depotId",P)}catch{ce.error("Failed to fetch agency details")}})():n&&Object.keys(n).forEach(k=>{const T=n[k];g(k,T),k==="depotId"&&T&&d.length===0&&l(T)})},[t,e,g,n]),m.useEffect(()=>{o&&d.length>0&&(console.log("Setting pending depot ID:",o),g("depotId",o),setTimeout(()=>l(null),100))},[o,d,g]);const S=Vr({mutationFn:async k=>{if(k.contactPersonName=k.name,e==="create"){const T={name:k.name,contactPersonName:k.contactPersonName,email:k.email,mobile:k.mobile,alternateMobile:k.alternateMobile,address1:k.address1,address2:k.address2,city:k.city,pincode:k.pincode,depotId:k.depotId,userFullName:k.userFullName,userLoginEmail:k.userLoginEmail,userPassword:k.userPassword,role:"AGENCY",status:k.status};return Kr("/agencies",T)}else{const{userFullName:T,userLoginEmail:O,userPassword:P,...I}=k,M={name:I.name,contactPersonName:I.contactPersonName,email:I.email,mobile:I.mobile,alternateMobile:I.alternateMobile,address1:I.address1,address2:I.address2,city:I.city,pincode:I.pincode,depotId:I.depotId,status:I.status};return Zs(`/agencies/${t}`,M)}},onSuccess:()=>{ce.success(`Partner ${e==="create"?"created (with user)":"updated"} successfully`),i.invalidateQueries({queryKey:["agencies"]}),i.invalidateQueries({queryKey:["users"]}),t&&e==="edit"&&i.invalidateQueries({queryKey:["agency",t]}),r==null||r()},onError:k=>{var O,P;ad(k,y);const T=`Failed to ${e} agency.`;ce.error(((P=(O=k==null?void 0:k.response)==null?void 0:O.data)==null?void 0:P.message)||k.message||T)}}),_=k=>{S.mutate(k)};return s.jsxs("form",{onSubmit:p(_),className:`space-y-6 ${a}`,children:[s.jsx("div",{className:"border-b pb-4 mb-4 mt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Delivery Partner Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"name",children:"Delivery Partner Name"}),s.jsx(He,{id:"name",type:"text",...h("name"),disabled:j}),N.name&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:N.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"email",children:"Email"}),s.jsx(He,{id:"email",type:"email",...h("email"),disabled:j}),N.email&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:N.email.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(He,{max:10,maxLength:10,id:"mobile",type:"text",...h("mobile"),disabled:j}),N.mobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:N.mobile.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"alternateMobile",children:"Alternate Mobile (Optional)"}),s.jsx(He,{id:"alternateMobile",type:"text",...h("alternateMobile"),disabled:j}),N.alternateMobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:N.alternateMobile.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"address1",children:"Address Line 1"}),s.jsx(He,{id:"address1",type:"text",...h("address1"),disabled:j}),N.address1&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:N.address1.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"address2",children:"Address Line 2 (Optional)"}),s.jsx(He,{id:"address2",type:"text",...h("address2"),disabled:j}),N.address2&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:N.address2.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"city",children:"City"}),s.jsx(He,{id:"city",type:"text",...h("city"),disabled:j}),N.city&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:N.city.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"pincode",children:"Pin Code"}),s.jsx(He,{id:"pincode",type:"number",...h("pincode"),disabled:j}),N.pincode&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:N.pincode.message})]})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"depotId",children:"Assigned Depot (Optional)"}),s.jsx(_r,{name:"depotId",control:w,render:({field:k})=>{let T="none";return k.value!==null&&k.value!==void 0&&(T=String(k.value)),console.log("Select Debug - field.value:",k.value,"selectValue:",T),console.log("Select Debug - isDepotsLoading:",u,"depots.length:",d.length),console.log("Select Debug - matching depot:",d.find(O=>String(O.id)===T)),u||k.value&&d.length===0?s.jsx("div",{className:"w-full h-9 px-3 py-2 border rounded-md bg-muted animate-pulse",children:"Loading depots..."}):s.jsxs(It,{onValueChange:O=>{console.log("Select onChange - value:",O);const P=O==="none"?null:Number(O);console.log("Select onChange - newValue:",P),k.onChange(P)},value:T,defaultValue:T,disabled:j,children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select a depot (optional)"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"none",children:s.jsx("em",{children:"No Depot"})}),d.map(O=>s.jsx(Je,{value:String(O.id),children:O.name},O.id))]})]})}}),N.depotId&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:N.depotId.message})]}),e==="create"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b pb-4 mb-4 pt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"userLoginEmail",children:"Login Email"}),s.jsx(He,{id:"userLoginEmail",type:"email",...h("userLoginEmail"),disabled:j}),N.userLoginEmail&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:N.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"userPassword",children:"Password"}),s.jsx(An,{id:"userPassword",...h("userPassword"),disabled:j}),N.userPassword&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:N.userPassword.message})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(pe,{type:"submit",disabled:j,className:"w-full sm:w-auto",children:j?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"mr-2 h-4 w-4 animate-spin"}),e==="create"?"Creating...":"Updating..."]}):s.jsx(s.Fragment,{children:e==="create"?"Create Delivery Partner":"Update Delivery Partner"})})})]})},Tye=()=>{const e=Cr(),t=()=>{e("/admin/agencies")};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(yt,{className:" mx-auto",children:[s.jsx(_t,{children:s.jsx(Gt,{className:"text-2xl font-semibold",children:"Create New Delivery Agency"})}),s.jsxs(Nt,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Fill in the details below to create a new delivery agency and an associated user account."}),s.jsx(XU,{mode:"create",onSuccess:t})]})]})})},_ye=()=>{var u;const{id:e}=sa(),t=Cr(),r=async h=>await xt(`/agencies/${h}`),{data:n,isLoading:a,isError:i,error:o}=Nr({queryKey:["agency",e],queryFn:()=>r(e),enabled:!!e,staleTime:1e3*60*5}),l=()=>{t("/admin/agencies")};if(!e)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(ea,{variant:"destructive",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Error"}),s.jsx(ta,{children:"No Delivery Agency ID provided. Please go back and select a delivery agency to edit."})]})});if(a)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(yt,{className:" mx-auto",children:[s.jsx(_t,{children:s.jsx(Ot,{className:"h-8 w-1/2"})}),s.jsxs(Nt,{className:"space-y-6",children:[s.jsx(Ot,{className:"h-10 w-full"}),s.jsx(Ot,{className:"h-10 w-full"}),s.jsx(Ot,{className:"h-10 w-full"}),s.jsx(Ot,{className:"h-10 w-1/3 ml-auto"})]})]})});if(i)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(ea,{variant:"destructive",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Error Fetching Delivery Agency"}),s.jsxs(ta,{children:["There was a problem retrieving the delivery agency details. Error: ",(o==null?void 0:o.message)||"Unknown error"]})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(ea,{variant:"default",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Not Found"}),s.jsx(ta,{children:"Delivery Agency data could not be loaded or found."})]})});const d={name:n.name,contactPersonName:n.contactPersonName||"",email:n.email||"",mobile:n.mobile,alternateMobile:n.alternateMobile||null,address1:n.address1,address2:n.address2||null,city:n.city,pincode:n.pincode,depotId:n.depotId||null,status:(u=n.user)!=null&&u.active?"ACTIVE":"INACTIVE"};return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(yt,{className:"max-w-4xl mx-auto",children:[s.jsx(_t,{children:s.jsx(Gt,{className:"text-2xl font-semibold",children:"Edit Delivery Agency"})}),s.jsx(Nt,{children:s.jsx(XU,{mode:"edit",agencyId:e,initialData:d,onSuccess:l})})]})})},M4=ys({name:it().min(1,"Supervisor name is required"),contactPersonName:it().optional(),email:it().optional().nullable(),mobile:it().regex(/^\d{10}$/,"Mobile number must be 10 digits"),alternateMobile:Ig().nullable().optional(),address1:it().min(1,"Address Line 1 is required"),address2:Ig().nullable().optional(),city:it().optional().nullable(),pincode:Mn.number().int("Pincode must be an integer").positive("Pincode must be positive").refine(e=>String(e).length===6,"Pincode must be 6 digits"),depotId:Mn.number().optional().nullable(),agencyId:Mn.number().optional().nullable(),status:jy(["ACTIVE","INACTIVE"]).default("ACTIVE")}),kye=ys({userFullName:it().min(1,"User's full name is required"),userLoginEmail:it().email("Invalid login email for user"),userPassword:it().min(6,"User password must be at least 6 characters")});M4.extend({userFullName:it().optional(),userLoginEmail:it().email().optional(),userPassword:it().optional()});const Dye=M4.merge(kye),Oye=M4,QU=({mode:e,supervisorId:t,onSuccess:r,initialData:n,className:a})=>{var O,P,I,M;const i=yn(),[o,l]=m.useState(e==="edit"&&t&&!n),[d,u]=m.useState(null),{data:h=[]}=Nr({queryKey:["depots"],queryFn:async()=>{const q=await xt("/depots");return q.data||q}}),{data:p=[],isLoading:g}=Nr({queryKey:["agencies"],queryFn:async()=>{const q=await xt("/agencies");return q.data||q}}),{register:y,handleSubmit:w,setValue:v,setError:N,control:j,watch:A,formState:{errors:E,isSubmitting:S}}=Js({mode:"onChange",resolver:en(e==="create"?Dye:Oye),defaultValues:n||{name:"",contactPersonName:"",email:"",mobile:"",alternateMobile:null,address1:"",address2:null,city:"",pincode:void 0,depotId:void 0,agencyId:void 0,status:"ACTIVE",userFullName:"",userLoginEmail:"",userPassword:""}}),_=A("name");m.useEffect(()=>{e==="create"&&_&&v("userFullName",_)},[_,e,v]),m.useEffect(()=>{e==="edit"&&t&&!n?(l(!0),(async()=>{var U,re;try{const te=await xt(`/supervisors/${t}`);console.log("Fetched supervisor data:",te),v("name",te.name),v("contactPersonName",te.contactPersonName||""),v("mobile",te.mobile),v("alternateMobile",te.alternateMobile||null),v("address1",te.address1),v("address2",te.address2||null),v("city",te.city),v("pincode",te.pincode),v("email",te.email),v("depotId",te.depotId||null);const B=te.agencyId||((U=te.agency)==null?void 0:U.id)||null;console.log("Setting agencyId to:",B),console.log("Agencies loaded?",p.length>0,"Agencies:",p,"isLoadingAgencies:",g),B!==null&&(p.length>0?(console.log("Agencies already loaded, setting agencyId directly"),v("agencyId",B)):(console.log("Agencies not loaded yet, storing agencyId for later"),u(B))),v("status",(re=te.user)!=null&&re.active?"ACTIVE":"INACTIVE")}catch(te){console.error("Error fetching supervisor:",te),ce.error("Failed to fetch supervisor details")}finally{l(!1)}})()):(n&&Object.keys(n).forEach(q=>{v(q,n[q])}),l(!1))},[t,e,v,n]),m.useEffect(()=>{!g&&p.length>0&&d!==null&&(console.log("Agencies loaded, setting pending agencyId:",d),v("agencyId",d),u(null))},[g,p,d,v]);const k=Vr({mutationFn:async q=>{if(q.contactPersonName=q.name,e==="create"){const U={name:q.name,contactPersonName:q.contactPersonName,email:q.email,mobile:q.mobile,alternateMobile:q.alternateMobile,address1:q.address1,address2:q.address2,city:q.city,pincode:q.pincode,depotId:q.depotId||null,agencyId:q.agencyId||null,userFullName:q.userFullName,userLoginEmail:q.userLoginEmail,userPassword:q.userPassword,role:"SUPERVISOR",status:q.status};return Kr("/supervisors",U)}else{const{userFullName:U,userLoginEmail:re,userPassword:te,...B}=q,H={name:B.name,contactPersonName:B.contactPersonName,email:B.email,mobile:B.mobile,alternateMobile:B.alternateMobile,address1:B.address1,address2:B.address2,city:B.city,pincode:B.pincode,depotId:B.depotId||null,agencyId:B.agencyId||null,status:B.status};return Zs(`/supervisors/${t}`,H)}},onSuccess:()=>{ce.success(`Supervisor ${e==="create"?"created (with user)":"updated"} successfully`),i.invalidateQueries({queryKey:["supervisors"]}),i.invalidateQueries({queryKey:["users"]}),t&&e==="edit"&&i.invalidateQueries({queryKey:["supervisor",t]}),r==null||r()},onError:q=>{var re,te;ad(q,N);const U=`Failed to ${e} supervisor.`;ce.error(((te=(re=q==null?void 0:q.response)==null?void 0:re.data)==null?void 0:te.message)||q.message||U)}}),T=q=>{k.mutate(q)};return o?s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(Fr,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading supervisor details..."})]}):s.jsxs("form",{onSubmit:w(T),className:`space-y-6 ${a}`,children:[s.jsx("div",{className:"border-b pb-4 mb-4 mt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Supervisor Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"name",children:"Supervisor Name"}),s.jsx(He,{id:"name",type:"text",...y("name"),disabled:S}),E.name&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:E.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"email",children:"Email"}),s.jsx(He,{id:"email",type:"email",...y("email"),disabled:S}),E.email&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:E.email.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(He,{max:10,maxLength:10,id:"mobile",type:"text",...y("mobile"),disabled:S}),E.mobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:E.mobile.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"alternateMobile",children:"Alternate Mobile (Optional)"}),s.jsx(He,{max:10,maxLength:10,id:"alternateMobile",type:"text",...y("alternateMobile"),disabled:S}),E.alternateMobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:String((O=E.alternateMobile)==null?void 0:O.message)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"address1",children:"Address Line 1"}),s.jsx(He,{id:"address1",type:"text",...y("address1"),disabled:S}),E.address1&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:E.address1.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"address2",children:"Address Line 2 (Optional)"}),s.jsx(He,{id:"address2",type:"text",...y("address2"),disabled:S}),E.address2&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:String((P=E.address2)==null?void 0:P.message)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"city",children:"City"}),s.jsx(He,{id:"city",type:"text",...y("city"),disabled:S}),E.city&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:E.city.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"pincode",children:"Pin Code"}),s.jsx(He,{id:"pincode",type:"text",inputMode:"numeric",pattern:"[0-9]{6}",maxLength:6,...y("pincode",{required:"Pin code is required",pattern:{value:/^[0-9]{6}$/,message:"Pin code must be exactly 6 digits"}}),disabled:S}),E.pincode&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:E.pincode.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"depotId",children:"Assigned Depot (Optional)"}),s.jsx(_r,{name:"depotId",control:j,render:({field:q})=>{const U=q.value?String(q.value):"none";return console.log("Depot field render - current value:",U,"field.value:",q.value),s.jsxs(It,{onValueChange:re=>{const te=re==="none"?null:Number(re);console.log("Depot value changing to:",te),q.onChange(te)},value:U,disabled:S,children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select depot..."})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"none",children:"No depot assigned"}),h.map(re=>s.jsx(Je,{value:String(re.id),children:re.name},re.id))]})]},`depot-${U}`)}}),E.depotId&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:String((I=E.depotId)==null?void 0:I.message)})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"agencyId",children:"Assigned Agency (Optional)"}),s.jsx(_r,{name:"agencyId",control:j,render:({field:q})=>{const U=q.value?String(q.value):"none";return console.log("Agency field render - current value:",U,"field.value:",q.value),s.jsxs(It,{onValueChange:re=>{const te=re==="none"?null:Number(re);console.log("Agency value changing to:",te),q.onChange(te)},value:U,disabled:S,children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select agency..."})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"none",children:"No agency assigned"}),p.map(re=>s.jsx(Je,{value:String(re.id),children:re.name},re.id))]})]},`agency-${U}`)}}),E.agencyId&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:String((M=E.agencyId)==null?void 0:M.message)})]})]}),e==="create"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b pb-4 mb-4 pt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"userLoginEmail",children:"Login Email"}),s.jsx(He,{id:"userLoginEmail",type:"email",...y("userLoginEmail"),disabled:S}),E.userLoginEmail&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:E.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(ye,{htmlFor:"userPassword",children:"Password"}),s.jsx(An,{id:"userPassword",...y("userPassword"),disabled:S}),E.userPassword&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:E.userPassword.message})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(pe,{type:"submit",disabled:S,className:"w-full sm:w-auto",children:S?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"mr-2 h-4 w-4 animate-spin"}),e==="create"?"Creating...":"Updating..."]}):s.jsx(s.Fragment,{children:e==="create"?"Create Supervisor":"Update Supervisor"})})})]})},Pye=()=>{const e=Cr(),t=()=>{e("/admin/supervisors")};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(yt,{className:" mx-auto",children:[s.jsx(_t,{children:s.jsx(Gt,{className:"text-2xl font-semibold",children:"Create New Supervisor"})}),s.jsxs(Nt,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Fill in the details below to create a new supervisor and an associated user account."}),s.jsx(QU,{mode:"create",onSuccess:t})]})]})})},Rye=()=>{var u;const{id:e}=sa(),t=Cr(),r=async h=>await xt(`/supervisors/${h}`),{data:n,isLoading:a,isError:i,error:o}=Nr({queryKey:["supervisor",e],queryFn:()=>r(e),enabled:!!e,staleTime:1e3*60*5}),l=()=>{t("/admin/supervisors")};if(!e)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(ea,{variant:"destructive",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Error"}),s.jsx(ta,{children:"No Supervisor ID provided. Please go back and select a supervisor to edit."})]})});if(a)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(yt,{className:" mx-auto",children:[s.jsx(_t,{children:s.jsx(Ot,{className:"h-8 w-1/2"})}),s.jsxs(Nt,{className:"space-y-6",children:[s.jsx(Ot,{className:"h-10 w-full"}),s.jsx(Ot,{className:"h-10 w-full"}),s.jsx(Ot,{className:"h-10 w-full"}),s.jsx(Ot,{className:"h-10 w-1/3 ml-auto"})]})]})});if(i)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(ea,{variant:"destructive",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Error Fetching Supervisor"}),s.jsxs(ta,{children:["There was a problem retrieving the supervisor details. Error: ",(o==null?void 0:o.message)||"Unknown error"]})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(ea,{variant:"default",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Not Found"}),s.jsx(ta,{children:"Supervisor data could not be loaded or found."})]})});const d={name:n.name,contactPersonName:n.contactPersonName||"",email:n.email||"",mobile:n.mobile,alternateMobile:n.alternateMobile||null,address1:n.address1,address2:n.address2||null,city:n.city,pincode:n.pincode,depotId:n.depotId||null,agencyId:n.agencyId||null,status:(u=n.user)!=null&&u.active?"ACTIVE":"INACTIVE"};return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(yt,{className:"max-w-4xl mx-auto",children:[s.jsx(_t,{children:s.jsx(Gt,{className:"text-2xl font-semibold",children:"Edit Supervisor"})}),s.jsx(Nt,{children:s.jsx(QU,{mode:"edit",supervisorId:e,initialData:d,onSuccess:l})})]})})};function Mu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function E5(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ZU(...e){return t=>{let r=!1;const n=e.map(a=>{const i=E5(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():E5(e[a],null)}}}}function Uh(...e){return m.useCallback(ZU(...e),e)}function Mye(e,t){const r=m.createContext(t),n=i=>{const{children:o,...l}=i,d=m.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:d,children:o})};n.displayName=e+"Provider";function a(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Iye(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),d=r.length;r=[...r,o];const u=p=>{var j;const{scope:g,children:y,...w}=p,v=((j=g==null?void 0:g[e])==null?void 0:j[d])||l,N=m.useMemo(()=>w,Object.values(w));return s.jsx(v.Provider,{value:N,children:y})};u.displayName=i+"Provider";function h(p,g){var v;const y=((v=g==null?void 0:g[e])==null?void 0:v[d])||l,w=m.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[n,Fye(a,...t)]}function Fye(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:d,scopeName:u})=>{const p=d(i)[`__scope${u}`];return{...l,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Lye=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Bye=Tw.useId||(()=>{}),$ye=0;function JS(e){const[t,r]=m.useState(Bye());return Lye(()=>{r(n=>n??String($ye++))},[e]),e||(t?`radix-${t}`:"")}function JU(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Uye({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Vye({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=JU(r),d=m.useCallback(u=>{if(i){const p=typeof u=="function"?u(e):u;p!==e&&l(p)}else a(u)},[i,e,a,l]);return[o,d]}function Vye({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,a=m.useRef(n),i=JU(t);return m.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var I4=m.forwardRef((e,t)=>{const{children:r,...n}=e,a=m.Children.toArray(r),i=a.find(zye);if(i){const o=i.props.children,l=a.map(d=>d===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:d);return s.jsx(aC,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return s.jsx(aC,{...n,ref:t,children:r})});I4.displayName="Slot";var aC=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const a=Wye(r),i=Hye(n,r.props);return r.type!==m.Fragment&&(i.ref=t?ZU(t,a):a),m.cloneElement(r,i)}return m.Children.count(r)>1?m.Children.only(null):null});aC.displayName="SlotClone";var qye=({children:e})=>s.jsx(s.Fragment,{children:e});function zye(e){return m.isValidElement(e)&&e.type===qye}function Hye(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Wye(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Gye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],vd=Gye.reduce((e,t)=>{const r=m.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?I4:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Yye(e,t){e&&Ju.flushSync(()=>e.dispatchEvent(t))}function F4(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Kye(e,t=globalThis==null?void 0:globalThis.document){const r=F4(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Xye="DismissableLayer",iC="dismissableLayer.update",Qye="dismissableLayer.pointerDownOutside",Zye="dismissableLayer.focusOutside",A5,eV=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tV=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=m.useContext(eV),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),w=Uh(t,T=>p(T)),v=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=v.indexOf(N),A=h?v.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,S=A>=j,_=tve(T=>{const O=T.target,P=[...u.branches].some(I=>I.contains(O));!S||P||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),k=rve(T=>{const O=T.target;[...u.branches].some(I=>I.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return Kye(T=>{A===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(A5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),C5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=A5)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),C5())},[h,u]),m.useEffect(()=>{const T=()=>y({});return document.addEventListener(iC,T),()=>document.removeEventListener(iC,T)},[]),s.jsx(vd.div,{...d,ref:w,style:{pointerEvents:E?S?"auto":"none":void 0,...e.style},onFocusCapture:Mu(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Mu(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Mu(e.onPointerDownCapture,_.onPointerDownCapture)})});tV.displayName=Xye;var Jye="DismissableLayerBranch",eve=m.forwardRef((e,t)=>{const r=m.useContext(eV),n=m.useRef(null),a=Uh(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(vd.div,{...e,ref:a})});eve.displayName=Jye;function tve(e,t=globalThis==null?void 0:globalThis.document){const r=F4(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let d=function(){rV(Qye,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function rve(e,t=globalThis==null?void 0:globalThis.document){const r=F4(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&rV(Zye,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function C5(){const e=new CustomEvent(iC);document.dispatchEvent(e)}function rV(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Yye(a,i):a.dispatchEvent(i)}function T5(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var eE="focusScope.autoFocusOnMount",tE="focusScope.autoFocusOnUnmount",_5={bubbles:!1,cancelable:!0},sve="FocusScope",sV=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,d]=m.useState(null),u=T5(a),h=T5(i),p=m.useRef(null),g=Uh(t,v=>d(v)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(E){if(y.paused||!l)return;const S=E.target;l.contains(S)?p.current=S:mu(p.current,{select:!0})},N=function(E){if(y.paused||!l)return;const S=E.relatedTarget;S!==null&&(l.contains(S)||mu(p.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const _ of E)_.removedNodes.length>0&&mu(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",N);const A=new MutationObserver(j);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",N),A.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){D5.add(y);const v=document.activeElement;if(!l.contains(v)){const j=new CustomEvent(eE,_5);l.addEventListener(eE,u),l.dispatchEvent(j),j.defaultPrevented||(nve(cve(nV(l)),{select:!0}),document.activeElement===v&&mu(l))}return()=>{l.removeEventListener(eE,u),setTimeout(()=>{const j=new CustomEvent(tE,_5);l.addEventListener(tE,h),l.dispatchEvent(j),j.defaultPrevented||mu(v??document.body,{select:!0}),l.removeEventListener(tE,h),D5.remove(y)},0)}}},[l,u,h,y]);const w=m.useCallback(v=>{if(!r&&!n||y.paused)return;const N=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,j=document.activeElement;if(N&&j){const A=v.currentTarget,[E,S]=ave(A);E&&S?!v.shiftKey&&j===S?(v.preventDefault(),r&&mu(E,{select:!0})):v.shiftKey&&j===E&&(v.preventDefault(),r&&mu(S,{select:!0})):j===A&&v.preventDefault()}},[r,n,y.paused]);return s.jsx(vd.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});sV.displayName=sve;function nve(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(mu(n,{select:t}),document.activeElement!==r)return}function ave(e){const t=nV(e),r=k5(t,e),n=k5(t.reverse(),e);return[r,n]}function nV(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function k5(e,t){for(const r of e)if(!ive(r,{upTo:t}))return r}function ive(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ove(e){return e instanceof HTMLInputElement&&"select"in e}function mu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ove(e)&&t&&e.select()}}var D5=lve();function lve(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=O5(e,t),e.unshift(t)},remove(t){var r;e=O5(e,t),(r=e[0])==null||r.resume()}}}function O5(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function cve(e){return e.filter(t=>t.tagName!=="A")}var dve=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},uve="Portal",aV=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=m.useState(!1);dve(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?pd.createPortal(s.jsx(vd.div,{...n,ref:t}),o):null});aV.displayName=uve;var P5=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{};function fve(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var bN=e=>{const{present:t,children:r}=e,n=hve(t),a=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Uh(n.ref,mve(a));return typeof r=="function"||n.isPresent?m.cloneElement(a,{ref:i}):null};bN.displayName="Presence";function hve(e){const[t,r]=m.useState(),n=m.useRef({}),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,d]=fve(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=_b(n.current);i.current=l==="mounted"?u:"none"},[l]),P5(()=>{const u=n.current,h=a.current;if(h!==e){const g=i.current,y=_b(u);e?d("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),P5(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,p=y=>{const v=_b(n.current).includes(y.animationName);if(y.target===t&&v&&(d("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},g=y=>{y.target===t&&(i.current=_b(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function _b(e){return(e==null?void 0:e.animationName)||"none"}function mve(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rE=0;function pve(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??R5()),document.body.insertAdjacentElement("beforeend",e[1]??R5()),rE++,()=>{rE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rE--}},[])}function R5(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var L4="Dialog",[iV,jFe]=Iye(L4),[xve,bl]=iV(L4),oV=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),d=m.useRef(null),[u=!1,h]=Uye({prop:n,defaultProp:a,onChange:i});return s.jsx(xve,{scope:t,triggerRef:l,contentRef:d,contentId:JS(),titleId:JS(),descriptionId:JS(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:o,children:r})};oV.displayName=L4;var lV="DialogTrigger",cV=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bl(lV,r),i=Uh(t,a.triggerRef);return s.jsx(vd.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":U4(a.open),...n,ref:i,onClick:Mu(e.onClick,a.onOpenToggle)})});cV.displayName=lV;var B4="DialogPortal",[gve,dV]=iV(B4,{forceMount:void 0}),uV=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=bl(B4,t);return s.jsx(gve,{scope:t,forceMount:r,children:m.Children.map(n,o=>s.jsx(bN,{present:r||i.open,children:s.jsx(aV,{asChild:!0,container:a,children:o})}))})};uV.displayName=B4;var ew="DialogOverlay",fV=m.forwardRef((e,t)=>{const r=dV(ew,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=bl(ew,e.__scopeDialog);return i.modal?s.jsx(bN,{present:n||i.open,children:s.jsx(yve,{...a,ref:t})}):null});fV.displayName=ew;var yve=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bl(ew,r);return s.jsx(ef,{as:I4,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(vd.div,{"data-state":U4(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),wh="DialogContent",hV=m.forwardRef((e,t)=>{const r=dV(wh,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=bl(wh,e.__scopeDialog);return s.jsx(bN,{present:n||i.open,children:i.modal?s.jsx(vve,{...a,ref:t}):s.jsx(bve,{...a,ref:t})})});hV.displayName=wh;var vve=m.forwardRef((e,t)=>{const r=bl(wh,e.__scopeDialog),n=m.useRef(null),a=Uh(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return kh(i)},[]),s.jsx(mV,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mu(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Mu(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Mu(e.onFocusOutside,i=>i.preventDefault())})}),bve=m.forwardRef((e,t)=>{const r=bl(wh,e.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return s.jsx(mV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),mV=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=bl(wh,r),d=m.useRef(null),u=Uh(t,d);return pve(),s.jsxs(s.Fragment,{children:[s.jsx(sV,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(tV,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":U4(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(wve,{titleId:l.titleId}),s.jsx(jve,{contentRef:d,descriptionId:l.descriptionId})]})]})}),$4="DialogTitle",pV=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bl($4,r);return s.jsx(vd.h2,{id:a.titleId,...n,ref:t})});pV.displayName=$4;var xV="DialogDescription",gV=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bl(xV,r);return s.jsx(vd.p,{id:a.descriptionId,...n,ref:t})});gV.displayName=xV;var yV="DialogClose",vV=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bl(yV,r);return s.jsx(vd.button,{type:"button",...n,ref:t,onClick:Mu(e.onClick,()=>a.onOpenChange(!1))})});vV.displayName=yV;function U4(e){return e?"open":"closed"}var bV="DialogTitleWarning",[SFe,wV]=Mye(bV,{contentName:wh,titleName:$4,docsSlug:"dialog"}),wve=({titleId:e})=>{const t=wV(bV),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Nve="DialogDescriptionWarning",jve=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wV(Nve).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Sve=oV,Eve=cV,Ave=uV,Cve=fV,Tve=hV,_ve=pV,kve=gV,Dve=vV;function Ove(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const NV=je.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Yy=()=>{const e=je.useContext(NV);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Ove(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Pve(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function Rve(){return V4(/^Mac/)}function Mve(){return V4(/^iPhone/)}function M5(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Ive(){return V4(/^iPad/)||Rve()&&navigator.maxTouchPoints>1}function jV(){return Mve()||Ive()}function V4(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Fve=24,Lve=typeof window<"u"?m.useLayoutEffect:m.useEffect;function I5(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const sE=typeof document<"u"&&window.visualViewport;function F5(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function SV(e){for(F5(e)&&(e=e.parentElement);e&&!F5(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Bve=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let kb=0,nE;function $ve(e={}){let{isDisabled:t}=e;Lve(()=>{if(!t)return kb++,kb===1&&jV()&&(nE=Uve()),()=>{kb--,kb===0&&(nE==null||nE())}},[t])}function Uve(){let e,t=0,r=p=>{e=SV(p.target),!(e===document.documentElement&&e===document.body)&&(t=p.changedTouches[0].pageY)},n=p=>{if(!e||e===document.documentElement||e===document.body){p.preventDefault();return}let g=p.changedTouches[0].pageY,y=e.scrollTop,w=e.scrollHeight-e.clientHeight;w!==0&&((y<=0&&g>t||y>=w&&g<t)&&p.preventDefault(),t=g)},a=p=>{let g=p.target;oC(g)&&g!==document.activeElement&&(p.preventDefault(),g.style.transform="translateY(-2000px)",g.focus(),requestAnimationFrame(()=>{g.style.transform=""}))},i=p=>{let g=p.target;oC(g)&&(g.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{g.style.transform="",sE&&(sE.height<window.innerHeight?requestAnimationFrame(()=>{L5(g)}):sE.addEventListener("resize",()=>L5(g),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,d=window.pageYOffset,u=I5(Vve(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let h=I5(Lx(document,"touchstart",r,{passive:!1,capture:!0}),Lx(document,"touchmove",n,{passive:!1,capture:!0}),Lx(document,"touchend",a,{passive:!1,capture:!0}),Lx(document,"focus",i,!0),Lx(window,"scroll",o));return()=>{u(),h(),window.scrollTo(l,d)}}function Vve(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function Lx(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function L5(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=SV(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,a=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const o=r.getBoundingClientRect().bottom+Fve;i>o&&(r.scrollTop+=a-n)}e=r.parentElement}}function oC(e){return e instanceof HTMLInputElement&&!Bve.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function qve(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function zve(...e){return t=>e.forEach(r=>qve(r,t))}function EV(...e){return m.useCallback(zve(...e),e)}const AV=new WeakMap;function Zn(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([a,i])=>{if(a.startsWith("--")){e.style.setProperty(a,i);return}n[a]=e.style[a],e.style[a]=i}),!r&&AV.set(e,n)}function Hve(e,t){if(!e||!(e instanceof HTMLElement))return;let r=AV.get(e);r&&(e.style[t]=r[t])}const Rn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Db(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let a=n.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Rn(t)?13:12]):(a=n.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Rn(t)?5:4]):null)}function Wve(e){return 8*(Math.log(e+1)-2)}function aE(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function Gve(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const nn={DURATION:.5,EASE:[.32,.72,0,1]},CV=.4,Yve=.25,Kve=100,TV=8,Ob=16,lC=26,iE="vaul-dragging";function _V(e){const t=je.useRef(e);return je.useEffect(()=>{t.current=e}),je.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function Xve({defaultProp:e,onChange:t}){const r=je.useState(e),[n]=r,a=je.useRef(n),i=_V(t);return je.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}function kV({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Xve({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=_V(r),d=je.useCallback(u=>{if(i){const p=typeof u=="function"?u(e):u;p!==e&&l(p)}else a(u)},[i,e,a,l]);return[o,d]}function Qve({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:a,fadeFromIndex:i,onSnapPointChange:o,direction:l="bottom",container:d,snapToSequentialPoint:u}){const[h,p]=kV({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[g,y]=je.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);je.useEffect(()=>{function T(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const w=je.useMemo(()=>h===(r==null?void 0:r[r.length-1])||null,[r,h]),v=je.useMemo(()=>{var T;return(T=r==null?void 0:r.findIndex(O=>O===h))!=null?T:null},[r,h]),N=r&&r.length>0&&(i||i===0)&&!Number.isNaN(i)&&r[i]===h||!r,j=je.useMemo(()=>{const T=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var O;return(O=r==null?void 0:r.map(P=>{const I=typeof P=="string";let M=0;if(I&&(M=parseInt(P,10)),Rn(l)){const U=I?M:g?P*T.height:0;return g?l==="bottom"?T.height-U:-T.height+U:U}const q=I?M:g?P*T.width:0;return g?l==="right"?T.width-q:-T.width+q:q}))!=null?O:[]},[r,g,d]),A=je.useMemo(()=>v!==null?j==null?void 0:j[v]:null,[j,v]),E=je.useCallback(T=>{var O;const P=(O=j==null?void 0:j.findIndex(I=>I===T))!=null?O:null;o(P),Zn(n.current,{transition:`transform ${nn.DURATION}s cubic-bezier(${nn.EASE.join(",")})`,transform:Rn(l)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`}),j&&P!==j.length-1&&i!==void 0&&P!==i&&P<i?Zn(a.current,{transition:`opacity ${nn.DURATION}s cubic-bezier(${nn.EASE.join(",")})`,opacity:"0"}):Zn(a.current,{transition:`opacity ${nn.DURATION}s cubic-bezier(${nn.EASE.join(",")})`,opacity:"1"}),p(r==null?void 0:r[Math.max(P,0)])},[n.current,r,j,i,a,p]);je.useEffect(()=>{if(h||e){var T;const O=(T=r==null?void 0:r.findIndex(P=>P===e||P===h))!=null?T:-1;j&&O!==-1&&typeof j[O]=="number"&&E(j[O])}},[h,e,r,j,E]);function S({draggedDistance:T,closeDrawer:O,velocity:P,dismissible:I}){if(i===void 0)return;const M=l==="bottom"||l==="right"?(A??0)-T:(A??0)+T,q=v===i-1,U=v===0,re=T>0;if(q&&Zn(a.current,{transition:`opacity ${nn.DURATION}s cubic-bezier(${nn.EASE.join(",")})`}),!u&&P>2&&!re){I?O():E(j[0]);return}if(!u&&P>2&&re&&j&&r){E(j[r.length-1]);return}const te=j==null?void 0:j.reduce((H,R)=>typeof H!="number"||typeof R!="number"?H:Math.abs(R-M)<Math.abs(H-M)?R:H),B=Rn(l)?window.innerHeight:window.innerWidth;if(P>CV&&Math.abs(T)<B*.4){const H=re?1:-1;if(H>0&&w&&r){E(j[r.length-1]);return}if(U&&H<0&&I&&O(),v===null)return;E(j[v+H]);return}E(te)}function _({draggedDistance:T}){if(A===null)return;const O=l==="bottom"||l==="right"?A-T:A+T;(l==="bottom"||l==="right")&&O<j[j.length-1]||(l==="top"||l==="left")&&O>j[j.length-1]||Zn(n.current,{transform:Rn(l)?`translate3d(0, ${O}px, 0)`:`translate3d(${O}px, 0, 0)`})}function k(T,O){if(!r||typeof v!="number"||!j||i===void 0)return null;const P=v===i-1;if(v>=i&&O)return 0;if(P&&!O)return 1;if(!N&&!P)return null;const M=P?v+1:v-1,q=P?j[M]-j[M-1]:j[M+1]-j[M],U=T/Math.abs(q);return P?1-U:U}return{isLastSnapPoint:w,activeSnapPoint:h,shouldFade:N,getPercentageDragged:k,setActiveSnapPoint:p,activeSnapPointIndex:v,onRelease:S,onDrag:_,snapPointsOffset:j}}const Zve=()=>()=>{};function Jve(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:a}=Yy(),i=je.useRef(null),o=m.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-lC)/window.innerWidth}je.useEffect(()=>{if(t&&r){i.current&&clearTimeout(i.current);const d=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!d)return;Gve(n&&!a?aE(document.body,{background:"black"}):Zve,aE(d,{transformOrigin:Rn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${nn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${nn.EASE.join(",")})`}));const u=aE(d,{borderRadius:`${TV}px`,overflow:"hidden",...Rn(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),i.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},nn.DURATION*1e3)}}},[t,r,o])}let Bx=null;function ebe({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:a,noBodyStyles:i}){const[o,l]=je.useState(()=>typeof window<"u"?window.location.href:""),d=je.useRef(0),u=je.useCallback(()=>{if(M5()&&Bx===null&&e&&!i){Bx={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:p,innerHeight:g}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-p}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=g-window.innerHeight;y&&d.current>=g&&(document.body.style.top=`${-(d.current+y)}px`)}),300)}},[e]),h=je.useCallback(()=>{if(M5()&&Bx!==null&&!i){const p=-parseInt(document.body.style.top,10),g=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Bx),window.requestAnimationFrame(()=>{if(a&&o!==window.location.href){l(window.location.href);return}window.scrollTo(g,p)}),Bx=null}},[o]);return je.useEffect(()=>{function p(){d.current=window.scrollY}return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),je.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||h()}},[t,h]),je.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{h()},500)):h())},[e,n,o,t,r,u,h]),{restorePositionSetting:h}}function tbe({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:a,snapPoints:i,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:d=Yve,scrollLockTimeout:u=Kve,dismissible:h=!0,handleOnly:p=!1,fadeFromIndex:g=i&&i.length-1,activeSnapPoint:y,setActiveSnapPoint:w,fixed:v,modal:N=!0,onClose:j,nested:A,noBodyStyles:E=!1,direction:S="bottom",defaultOpen:_=!1,disablePreventScroll:k=!0,snapToSequentialPoint:T=!1,preventScrollRestoration:O=!1,repositionInputs:P=!0,onAnimationEnd:I,container:M,autoFocus:q=!1}){var U,re;const[te=!1,B]=kV({defaultProp:_,prop:e,onChange:Tt=>{t==null||t(Tt),!Tt&&!A&&ze(),setTimeout(()=>{I==null||I(Tt)},nn.DURATION*1e3),Tt&&!N&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Tt||(document.body.style.pointerEvents="auto")}}),[H,R]=je.useState(!1),[X,W]=je.useState(!1),[Y,F]=je.useState(!1),z=je.useRef(null),K=je.useRef(null),V=je.useRef(null),ae=je.useRef(null),Q=je.useRef(null),se=je.useRef(!1),Z=je.useRef(null),le=je.useRef(0),Te=je.useRef(!1),Ee=je.useRef(!_),Ze=je.useRef(0),Be=je.useRef(null),Ie=je.useRef(((U=Be.current)==null?void 0:U.getBoundingClientRect().height)||0),Ne=je.useRef(((re=Be.current)==null?void 0:re.getBoundingClientRect().width)||0),fe=je.useRef(0),de=je.useCallback(Tt=>{i&&Tt===be.length-1&&(K.current=new Date)},[]),{activeSnapPoint:ke,activeSnapPointIndex:Pe,setActiveSnapPoint:Re,onRelease:ie,snapPointsOffset:be,onDrag:De,shouldFade:lt,getPercentageDragged:at}=Qve({snapPoints:i,activeSnapPointProp:y,setActiveSnapPointProp:w,drawerRef:Be,fadeFromIndex:g,overlayRef:z,onSnapPointChange:de,direction:S,container:M,snapToSequentialPoint:T});$ve({isDisabled:!te||X||!N||Y||!H||!P||!k});const{restorePositionSetting:ze}=ebe({isOpen:te,modal:N,nested:A??!1,hasBeenOpened:H,preventScrollRestoration:O,noBodyStyles:E});function rt(){return(window.innerWidth-lC)/window.innerWidth}function Mt(Tt){var ur,fr;!h&&!i||Be.current&&!Be.current.contains(Tt.target)||(Ie.current=((ur=Be.current)==null?void 0:ur.getBoundingClientRect().height)||0,Ne.current=((fr=Be.current)==null?void 0:fr.getBoundingClientRect().width)||0,W(!0),V.current=new Date,jV()&&window.addEventListener("touchend",()=>se.current=!1,{once:!0}),Tt.target.setPointerCapture(Tt.pointerId),le.current=Rn(S)?Tt.pageY:Tt.pageX)}function Jt(Tt,ur){var fr;let ar=Tt;const hr=(fr=window.getSelection())==null?void 0:fr.toString(),we=Be.current?Db(Be.current,S):null,ct=new Date;if(ar.tagName==="SELECT"||ar.hasAttribute("data-vaul-no-drag")||ar.closest("[data-vaul-no-drag]"))return!1;if(S==="right"||S==="left")return!0;if(K.current&&ct.getTime()-K.current.getTime()<500)return!1;if(we!==null&&(S==="bottom"?we>0:we<0))return!0;if(hr&&hr.length>0)return!1;if(Q.current&&ct.getTime()-Q.current.getTime()<u&&we===0||ur)return Q.current=ct,!1;for(;ar;){if(ar.scrollHeight>ar.clientHeight){if(ar.scrollTop!==0)return Q.current=new Date,!1;if(ar.getAttribute("role")==="dialog")return!0}ar=ar.parentNode}return!0}function Br(Tt){if(Be.current&&X){const ur=S==="bottom"||S==="right"?1:-1,fr=(le.current-(Rn(S)?Tt.pageY:Tt.pageX))*ur,ar=fr>0,hr=i&&!h&&!ar;if(hr&&Pe===0)return;const we=Math.abs(fr),ct=document.querySelector("[data-vaul-drawer-wrapper]"),ft=S==="bottom"||S==="top"?Ie.current:Ne.current;let Et=we/ft;const er=at(we,ar);if(er!==null&&(Et=er),hr&&Et>=1||!se.current&&!Jt(Tt.target,ar))return;if(Be.current.classList.add(iE),se.current=!0,Zn(Be.current,{transition:"none"}),Zn(z.current,{transition:"none"}),i&&De({draggedDistance:fr}),ar&&!i){const cr=Wve(fr),Hr=Math.min(cr*-1,0)*ur;Zn(Be.current,{transform:Rn(S)?`translate3d(0, ${Hr}px, 0)`:`translate3d(${Hr}px, 0, 0)`});return}const lr=1-Et;if((lt||g&&Pe===g-1)&&(n==null||n(Tt,Et),Zn(z.current,{opacity:`${lr}`,transition:"none"},!0)),ct&&z.current&&o){const cr=Math.min(rt()+Et*(1-rt()),1),Hr=8-Et*8,jr=Math.max(0,14-Et*14);Zn(ct,{borderRadius:`${Hr}px`,transform:Rn(S)?`scale(${cr}) translate3d(0, ${jr}px, 0)`:`scale(${cr}) translate3d(${jr}px, 0, 0)`,transition:"none"},!0)}if(!i){const cr=we*ur;Zn(Be.current,{transform:Rn(S)?`translate3d(0, ${cr}px, 0)`:`translate3d(${cr}px, 0, 0)`})}}}je.useEffect(()=>{window.requestAnimationFrame(()=>{Ee.current=!0})},[]),je.useEffect(()=>{var Tt;function ur(){if(!Be.current||!P)return;const fr=document.activeElement;if(oC(fr)||Te.current){var ar;const hr=((ar=window.visualViewport)==null?void 0:ar.height)||0,we=window.innerHeight;let ct=we-hr;const ft=Be.current.getBoundingClientRect().height||0,Et=ft>we*.8;fe.current||(fe.current=ft);const er=Be.current.getBoundingClientRect().top;if(Math.abs(Ze.current-ct)>60&&(Te.current=!Te.current),i&&i.length>0&&be&&Pe){const lr=be[Pe]||0;ct+=lr}if(Ze.current=ct,ft>hr||Te.current){const lr=Be.current.getBoundingClientRect().height;let cr=lr;lr>hr&&(cr=hr-(Et?er:lC)),v?Be.current.style.height=`${lr-Math.max(ct,0)}px`:Be.current.style.height=`${Math.max(cr,hr-er)}px`}else Pve()||(Be.current.style.height=`${fe.current}px`);i&&i.length>0&&!Te.current?Be.current.style.bottom="0px":Be.current.style.bottom=`${Math.max(ct,0)}px`}}return(Tt=window.visualViewport)==null||Tt.addEventListener("resize",ur),()=>{var fr;return(fr=window.visualViewport)==null?void 0:fr.removeEventListener("resize",ur)}},[Pe,i,be]);function ls(Tt){vt(),j==null||j(),Tt||B(!1),setTimeout(()=>{i&&Re(i[0])},nn.DURATION*1e3)}function xs(){if(!Be.current)return;const Tt=document.querySelector("[data-vaul-drawer-wrapper]"),ur=Db(Be.current,S);Zn(Be.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${nn.DURATION}s cubic-bezier(${nn.EASE.join(",")})`}),Zn(z.current,{transition:`opacity ${nn.DURATION}s cubic-bezier(${nn.EASE.join(",")})`,opacity:"1"}),o&&ur&&ur>0&&te&&Zn(Tt,{borderRadius:`${TV}px`,overflow:"hidden",...Rn(S)?{transform:`scale(${rt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${rt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${nn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${nn.EASE.join(",")})`},!0)}function vt(){!X||!Be.current||(Be.current.classList.remove(iE),se.current=!1,W(!1),ae.current=new Date)}function kr(Tt){if(!X||!Be.current)return;Be.current.classList.remove(iE),se.current=!1,W(!1),ae.current=new Date;const ur=Db(Be.current,S);if(!Tt||!Jt(Tt.target,!1)||!ur||Number.isNaN(ur)||V.current===null)return;const fr=ae.current.getTime()-V.current.getTime(),ar=le.current-(Rn(S)?Tt.pageY:Tt.pageX),hr=Math.abs(ar)/fr;if(hr>.05&&(F(!0),setTimeout(()=>{F(!1)},200)),i){ie({draggedDistance:ar*(S==="bottom"||S==="right"?1:-1),closeDrawer:ls,velocity:hr,dismissible:h}),a==null||a(Tt,!0);return}if(S==="bottom"||S==="right"?ar>0:ar<0){xs(),a==null||a(Tt,!0);return}if(hr>CV){ls(),a==null||a(Tt,!1);return}var we;const ct=Math.min((we=Be.current.getBoundingClientRect().height)!=null?we:0,window.innerHeight);var ft;const Et=Math.min((ft=Be.current.getBoundingClientRect().width)!=null?ft:0,window.innerWidth),er=S==="left"||S==="right";if(Math.abs(ur)>=(er?Et:ct)*d){ls(),a==null||a(Tt,!1);return}a==null||a(Tt,!0),xs()}je.useEffect(()=>(te&&(Zn(document.documentElement,{scrollBehavior:"auto"}),K.current=new Date),()=>{Hve(document.documentElement,"scrollBehavior")}),[te]);function $t(Tt){const ur=Tt?(window.innerWidth-Ob)/window.innerWidth:1,fr=Tt?-16:0;Z.current&&window.clearTimeout(Z.current),Zn(Be.current,{transition:`transform ${nn.DURATION}s cubic-bezier(${nn.EASE.join(",")})`,transform:Rn(S)?`scale(${ur}) translate3d(0, ${fr}px, 0)`:`scale(${ur}) translate3d(${fr}px, 0, 0)`}),!Tt&&Be.current&&(Z.current=setTimeout(()=>{const ar=Db(Be.current,S);Zn(Be.current,{transition:"none",transform:Rn(S)?`translate3d(0, ${ar}px, 0)`:`translate3d(${ar}px, 0, 0)`})},500))}function Dr(Tt,ur){if(ur<0)return;const fr=(window.innerWidth-Ob)/window.innerWidth,ar=fr+ur*(1-fr),hr=-16+ur*Ob;Zn(Be.current,{transform:Rn(S)?`scale(${ar}) translate3d(0, ${hr}px, 0)`:`scale(${ar}) translate3d(${hr}px, 0, 0)`,transition:"none"})}function qr(Tt,ur){const fr=Rn(S)?window.innerHeight:window.innerWidth,ar=ur?(fr-Ob)/fr:1,hr=ur?-16:0;ur&&Zn(Be.current,{transition:`transform ${nn.DURATION}s cubic-bezier(${nn.EASE.join(",")})`,transform:Rn(S)?`scale(${ar}) translate3d(0, ${hr}px, 0)`:`scale(${ar}) translate3d(${hr}px, 0, 0)`})}return je.useEffect(()=>{N||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[N]),je.createElement(Sve,{defaultOpen:_,onOpenChange:Tt=>{!h&&!Tt||(Tt?R(!0):ls(!0),B(Tt))},open:te},je.createElement(NV.Provider,{value:{activeSnapPoint:ke,snapPoints:i,setActiveSnapPoint:Re,drawerRef:Be,overlayRef:z,onOpenChange:t,onPress:Mt,onRelease:kr,onDrag:Br,dismissible:h,shouldAnimate:Ee,handleOnly:p,isOpen:te,isDragging:X,shouldFade:lt,closeDrawer:ls,onNestedDrag:Dr,onNestedOpenChange:$t,onNestedRelease:qr,keyboardIsOpen:Te,modal:N,snapPointsOffset:be,activeSnapPointIndex:Pe,direction:S,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:E,container:M,autoFocus:q}},r))}const DV=je.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:a,shouldFade:i,isOpen:o,modal:l,shouldAnimate:d}=Yy(),u=EV(t,r),h=n&&n.length>0;if(!l)return null;const p=je.useCallback(g=>a(g),[a]);return je.createElement(Cve,{onMouseUp:p,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":o&&h?"true":"false","data-vaul-snap-points-overlay":o&&i?"true":"false","data-vaul-animate":d!=null&&d.current?"true":"false",...e})});DV.displayName="Drawer.Overlay";const OV=je.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},a){const{drawerRef:i,onPress:o,onRelease:l,onDrag:d,keyboardIsOpen:u,snapPointsOffset:h,activeSnapPointIndex:p,modal:g,isOpen:y,direction:w,snapPoints:v,container:N,handleOnly:j,shouldAnimate:A,autoFocus:E}=Yy(),[S,_]=je.useState(!1),k=EV(a,i),T=je.useRef(null),O=je.useRef(null),P=je.useRef(!1),I=v&&v.length>0;Jve();const M=(U,re,te=0)=>{if(P.current)return!0;const B=Math.abs(U.y),H=Math.abs(U.x),R=H>B,X=["bottom","right"].includes(re)?1:-1;if(re==="left"||re==="right"){if(!(U.x*X<0)&&H>=0&&H<=te)return R}else if(!(U.y*X<0)&&B>=0&&B<=te)return!R;return P.current=!0,!0};je.useEffect(()=>{I&&window.requestAnimationFrame(()=>{_(!0)})},[]);function q(U){T.current=null,P.current=!1,l(U)}return je.createElement(Tve,{"data-vaul-drawer-direction":w,"data-vaul-drawer":"","data-vaul-delayed-snap-points":S?"true":"false","data-vaul-snap-points":y&&I?"true":"false","data-vaul-custom-container":N?"true":"false","data-vaul-animate":A!=null&&A.current?"true":"false",...n,ref:k,style:h&&h.length>0?{"--snap-point-height":`${h[p??0]}px`,...t}:t,onPointerDown:U=>{j||(n.onPointerDown==null||n.onPointerDown.call(n,U),T.current={x:U.pageX,y:U.pageY},o(U))},onOpenAutoFocus:U=>{r==null||r(U),E||U.preventDefault()},onPointerDownOutside:U=>{if(e==null||e(U),!g||U.defaultPrevented){U.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:U=>{if(!g){U.preventDefault();return}},onPointerMove:U=>{if(O.current=U,j||(n.onPointerMove==null||n.onPointerMove.call(n,U),!T.current))return;const re=U.pageY-T.current.y,te=U.pageX-T.current.x,B=U.pointerType==="touch"?10:2;M({x:te,y:re},w,B)?d(U):(Math.abs(te)>B||Math.abs(re)>B)&&(T.current=null)},onPointerUp:U=>{n.onPointerUp==null||n.onPointerUp.call(n,U),T.current=null,P.current=!1,l(U)},onPointerOut:U=>{n.onPointerOut==null||n.onPointerOut.call(n,U),q(O.current)},onContextMenu:U=>{n.onContextMenu==null||n.onContextMenu.call(n,U),O.current&&q(O.current)}})});OV.displayName="Drawer.Content";const rbe=250,sbe=120,nbe=je.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:a,isDragging:i,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:d,dismissible:u,handleOnly:h,isOpen:p,onPress:g,onDrag:y}=Yy(),w=je.useRef(null),v=je.useRef(!1);function N(){if(v.current){E();return}window.setTimeout(()=>{j()},sbe)}function j(){if(i||e||v.current){E();return}if(E(),!o||o.length===0){u||a();return}if(l===o[o.length-1]&&u){a();return}const _=o.findIndex(T=>T===l);if(_===-1)return;const k=o[_+1];d(k)}function A(){w.current=window.setTimeout(()=>{v.current=!0},rbe)}function E(){w.current&&window.clearTimeout(w.current),v.current=!1}return je.createElement("div",{onClick:N,onPointerCancel:E,onPointerDown:S=>{h&&g(S),A()},onPointerMove:S=>{h&&y(S)},ref:n,"data-vaul-drawer-visible":p?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},je.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});nbe.displayName="Drawer.Handle";function abe(e){const t=Yy(),{container:r=t.container,...n}=e;return je.createElement(Ave,{container:r,...n})}const of={Root:tbe,Content:OV,Overlay:DV,Trigger:Eve,Portal:abe,Close:Dve,Title:_ve,Description:kve};function ibe({...e}){return s.jsx(of.Root,{"data-slot":"drawer",...e})}function EFe({...e}){return s.jsx(of.Trigger,{"data-slot":"drawer-trigger",...e})}function obe({...e}){return s.jsx(of.Portal,{"data-slot":"drawer-portal",...e})}function AFe({...e}){return s.jsx(of.Close,{"data-slot":"drawer-close",...e})}function lbe({className:e,...t}){return s.jsx(of.Overlay,{"data-slot":"drawer-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function cbe({className:e,children:t,...r}){return s.jsxs(obe,{"data-slot":"drawer-portal",children:[s.jsx(lbe,{}),s.jsxs(of.Content,{"data-slot":"drawer-content",className:Xe("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...r,children:[s.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]})]})}function dbe({className:e,...t}){return s.jsx("div",{"data-slot":"drawer-header",className:Xe("flex flex-col gap-1.5 p-4",e),...t})}function CFe({className:e,...t}){return s.jsx("div",{"data-slot":"drawer-footer",className:Xe("mt-auto flex flex-col gap-2 p-4",e),...t})}function ube({className:e,...t}){return s.jsx(of.Title,{"data-slot":"drawer-title",className:Xe("text-foreground font-semibold",e),...t})}function fbe({className:e,...t}){return s.jsx(of.Description,{"data-slot":"drawer-description",className:Xe("text-muted-foreground text-sm",e),...t})}function hbe(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var q4="ScrollArea",[PV,TFe]=pa(q4),[mbe,Po]=PV(q4),RV=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,d]=m.useState(null),[u,h]=m.useState(null),[p,g]=m.useState(null),[y,w]=m.useState(null),[v,N]=m.useState(null),[j,A]=m.useState(0),[E,S]=m.useState(0),[_,k]=m.useState(!1),[T,O]=m.useState(!1),P=Yt(t,M=>d(M)),I=Ty(a);return s.jsx(mbe,{scope:r,type:n,dir:I,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:p,onContentChange:g,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:k,scrollbarY:v,onScrollbarYChange:N,scrollbarYEnabled:T,onScrollbarYEnabledChange:O,onCornerWidthChange:A,onCornerHeightChange:S,children:s.jsx(qt.div,{dir:I,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});RV.displayName=q4;var MV="ScrollAreaViewport",IV=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Po(MV,r),l=m.useRef(null),d=Yt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(qt.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});IV.displayName=MV;var fc="ScrollAreaScrollbar",FV=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Po(fc,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(pbe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(xbe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(LV,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(z4,{...n,ref:t}):null});FV.displayName=fc;var pbe=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Po(fc,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=a.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),o(!0)},h=()=>{d=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(na,{present:r||i,children:s.jsx(LV,{"data-state":i?"visible":"hidden",...n,ref:t})})}),xbe=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Po(fc,e.__scopeScrollArea),i=e.orientation==="horizontal",o=NN(()=>d("SCROLL_END"),100),[l,d]=hbe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,d]),m.useEffect(()=>{const u=a.viewport,h=i?"scrollLeft":"scrollTop";if(u){let p=u[h];const g=()=>{const y=u[h];p!==y&&(d("SCROLL"),o()),p=y};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[a.viewport,i,d,o]),s.jsx(na,{present:r||l!=="hidden",children:s.jsx(z4,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:wt(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:wt(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),LV=m.forwardRef((e,t)=>{const r=Po(fc,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=m.useState(!1),l=e.orientation==="horizontal",d=NN(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:h)}},10);return Yp(r.viewport,d),Yp(r.content,d),s.jsx(na,{present:n||i,children:s.jsx(z4,{"data-state":i?"visible":"hidden",...a,ref:t})})}),z4=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Po(fc,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,d]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=qV(l.viewport,l.content),h={...n,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function p(g,y){return Nbe(g,o.current,l,y)}return r==="horizontal"?s.jsx(gbe,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollLeft,y=B5(g,l,a.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollLeft=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollLeft=p(g,a.dir))}}):r==="vertical"?s.jsx(ybe,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollTop,y=B5(g,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollTop=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollTop=p(g))}}):null}),gbe=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Po(fc,e.__scopeScrollArea),[o,l]=m.useState(),d=m.useRef(null),u=Yt(t,d,i.onScrollbarXChange);return m.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),s.jsx($V,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":wN(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(i.viewport){const g=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),HV(g,p)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:rw(o.paddingLeft),paddingEnd:rw(o.paddingRight)}})}})}),ybe=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Po(fc,e.__scopeScrollArea),[o,l]=m.useState(),d=m.useRef(null),u=Yt(t,d,i.onScrollbarYChange);return m.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),s.jsx($V,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":wN(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(i.viewport){const g=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),HV(g,p)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:rw(o.paddingTop),paddingEnd:rw(o.paddingBottom)}})}})}),[vbe,BV]=PV(fc),$V=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:h,onResize:p,...g}=e,y=Po(fc,r),[w,v]=m.useState(null),N=Yt(t,P=>v(P)),j=m.useRef(null),A=m.useRef(""),E=y.viewport,S=n.content-n.viewport,_=Zr(h),k=Zr(d),T=NN(p,10);function O(P){if(j.current){const I=P.clientX-j.current.left,M=P.clientY-j.current.top;u({x:I,y:M})}}return m.useEffect(()=>{const P=I=>{const M=I.target;(w==null?void 0:w.contains(M))&&_(I,S)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[E,w,S,_]),m.useEffect(k,[n,k]),Yp(w,T),Yp(y.content,T),s.jsx(vbe,{scope:r,scrollbar:w,hasThumb:a,onThumbChange:Zr(i),onThumbPointerUp:Zr(o),onThumbPositionChange:k,onThumbPointerDown:Zr(l),children:s.jsx(qt.div,{...g,ref:N,style:{position:"absolute",...g.style},onPointerDown:wt(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),j.current=w.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),O(P))}),onPointerMove:wt(e.onPointerMove,O),onPointerUp:wt(e.onPointerUp,P=>{const I=P.target;I.hasPointerCapture(P.pointerId)&&I.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=A.current,y.viewport&&(y.viewport.style.scrollBehavior=""),j.current=null})})})}),tw="ScrollAreaThumb",UV=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=BV(tw,e.__scopeScrollArea);return s.jsx(na,{present:r||a.hasThumb,children:s.jsx(bbe,{ref:t,...n})})}),bbe=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Po(tw,r),o=BV(tw,r),{onThumbPositionChange:l}=o,d=Yt(t,p=>o.onThumbChange(p)),u=m.useRef(void 0),h=NN(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const p=i.viewport;if(p){const g=()=>{if(h(),!u.current){const y=jbe(p,l);u.current=y,l()}};return l(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[i.viewport,h,l]),s.jsx(qt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:wt(e.onPointerDownCapture,p=>{const y=p.target.getBoundingClientRect(),w=p.clientX-y.left,v=p.clientY-y.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:wt(e.onPointerUp,o.onThumbPointerUp)})});UV.displayName=tw;var H4="ScrollAreaCorner",VV=m.forwardRef((e,t)=>{const r=Po(H4,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(wbe,{...e,ref:t}):null});VV.displayName=H4;var wbe=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Po(H4,r),[i,o]=m.useState(0),[l,d]=m.useState(0),u=!!(i&&l);return Yp(a.scrollbarX,()=>{var p;const h=((p=a.scrollbarX)==null?void 0:p.offsetHeight)||0;a.onCornerHeightChange(h),d(h)}),Yp(a.scrollbarY,()=>{var p;const h=((p=a.scrollbarY)==null?void 0:p.offsetWidth)||0;a.onCornerWidthChange(h),o(h)}),u?s.jsx(qt.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function rw(e){return e?parseInt(e,10):0}function qV(e,t){const r=e/t;return isNaN(r)?0:r}function wN(e){const t=qV(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Nbe(e,t,r,n="ltr"){const a=wN(r),i=a/2,o=t||i,l=a-o,d=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,p=n==="ltr"?[0,h]:[h*-1,0];return zV([d,u],p)(e)}function B5(e,t,r="ltr"){const n=wN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,d=r==="ltr"?[0,o]:[o*-1,0],u=GA(e,d);return zV([0,o],[0,l])(u)}function zV(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function HV(e,t){return e>0&&e<t}var jbe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function NN(e,t){const r=Zr(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Yp(e,t){const r=Zr(t);Os(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var Sbe=RV,Ebe=IV,Abe=VV;function Cbe({className:e,children:t,...r}){return s.jsxs(Sbe,{"data-slot":"scroll-area",className:Xe("relative",e),...r,children:[s.jsx(Ebe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),s.jsx(Tbe,{}),s.jsx(Abe,{})]})}function Tbe({className:e,orientation:t="vertical",...r}){return s.jsx(FV,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Xe("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:s.jsx(UV,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function _be(e){const t=a=>typeof window<"u"?window.matchMedia(a).matches:!1,[r,n]=je.useState(t(e));return je.useEffect(()=>{const a=window.matchMedia(e),i=o=>n(o.matches);try{a.addEventListener("change",i)}catch{a.addListener(i)}return n(a.matches),()=>{try{a.removeEventListener("change",i)}catch{a.removeListener(i)}}},[e]),r}function kbe(e){switch(e){case"PENDING":return"bg-yellow-500";case"DELIVERED":return"bg-secondary";case"RECEIVED":return"bg-primary";default:return"bg-gray-500"}}function $5({order:e}){var a;console.log("[DEBUG] Full order object:",JSON.stringify(e,null,2)),console.log("[DEBUG] First item:",JSON.stringify(e.items[0],null,2));const t=m.useMemo(()=>{var o;const i=new Map;for(const l of e.items){const d=l.depotVariantName||((o=l.depotVariant)==null?void 0:o.name)||l.variantName||l.variant||"Unknown",u=typeof l.priceAtPurchase=="number"?l.priceAtPurchase:l.price??0,h=d,p=i.get(h)||{name:h,qty:0,amount:0};p.qty+=l.quantity??0,p.amount+=(l.quantity??0)*u,i.set(h,p)}return Array.from(i.values())},[e.items]),r=m.useMemo(()=>{var o,l;const i=new Map;for(const d of e.items){const u=d.depotName||((o=d.depot)==null?void 0:o.name)||d.agencyName||((l=d.agency)==null?void 0:l.name)||d.depotCityName||"-",h=typeof d.priceAtPurchase=="number"?d.priceAtPurchase:d.price??0,p=i.get(u)||{label:u,qty:0,amount:0};p.qty+=d.quantity??0,p.amount+=(d.quantity??0)*h,i.set(u,p)}return Array.from(i.values())},[e.items]),n=e.items.reduce((i,o)=>i+(o.quantity??0),0);return s.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"PO Number"}),s.jsx("div",{className:"text-lg font-semibold",children:e.poNumber})]}),s.jsx(Ir,{className:Xe("text-white",kbe(e.status)),children:e.status})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs(yt,{children:[s.jsx(_t,{className:"pb-2",children:s.jsxs(Gt,{className:"text-sm flex items-center gap-2",children:[s.jsx(lh,{className:"h-4 w-4 text-secondary"})," Order"]})}),s.jsxs(Nt,{className:"text-sm space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Vendor:"})," ",(a=e.vendor)==null?void 0:a.name]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Date:"})," ",Rt(new Date(e.orderDate),"dd/MM/yyyy")]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery Date:"})," ",Rt(new Date(e.deliveryDate),"dd/MM/yyyy")]}),e.contactPersonName&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Contact:"})," ",e.contactPersonName]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Items:"})," ",n]}),s.jsxs("div",{className:"font-medium",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"})," ",Ms(e.totalAmount)]})]})]}),s.jsxs(yt,{children:[s.jsx(_t,{className:"pb-2",children:s.jsx(Gt,{className:"text-sm",children:"Variant-wise Amount"})}),s.jsx(Nt,{children:s.jsxs("div",{className:"space-y-2",children:[t.map(i=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("div",{className:"truncate max-w-[60%]",children:i.name}),s.jsxs("div",{className:"text-muted-foreground",children:["x",i.qty]}),s.jsx("div",{className:"font-medium",children:Ms(i.amount)})]},i.name)),t.length===0&&s.jsx("div",{className:"text-sm text-muted-foreground",children:"No items"})]})})]})]}),s.jsxs(yt,{children:[s.jsx(_t,{className:"pb-2",children:s.jsx(Gt,{className:"text-sm",children:"Vendor/Depot Breakdown"})}),s.jsx(Nt,{children:s.jsxs("div",{className:"space-y-2",children:[r.map(i=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("div",{className:"truncate max-w-[60%]",children:i.label}),s.jsxs("div",{className:"text-muted-foreground",children:["x",i.qty]}),s.jsx("div",{className:"font-medium",children:Ms(i.amount)})]},i.label)),r.length===0&&s.jsx("div",{className:"text-sm text-muted-foreground",children:"No items"})]})})]}),s.jsxs(yt,{children:[s.jsx(_t,{className:"pb-2",children:s.jsxs(Gt,{className:"text-sm flex items-center gap-2",children:[s.jsx(Va,{className:"h-4 w-4"})," Items"]})}),s.jsx(Nt,{children:s.jsxs("div",{className:"space-y-3",children:[e.items.map(i=>{var o,l,d,u;return s.jsxs("div",{className:"flex items-start justify-between gap-3 text-sm",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[i.productName," ",(i.depotVariantName||((o=i.depotVariant)==null?void 0:o.name))&&`(${i.depotVariantName||((l=i.depotVariant)==null?void 0:l.name)})`]}),s.jsx("div",{className:"text-muted-foreground truncate",children:i.depotName||((d=i.depot)==null?void 0:d.name)||i.agencyName||((u=i.agency)==null?void 0:u.name)||i.depotCityName||"-"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{children:["x",i.quantity]}),s.jsx("div",{className:"font-medium",children:Ms((i.quantity??0)*(typeof i.priceAtPurchase=="number"?i.priceAtPurchase:i.price??0))})]})]},i.id)}),e.items.length===0&&s.jsx("div",{className:"text-sm text-muted-foreground",children:"No items"})]})})]})]})}function Dbe({order:e,open:t,onOpenChange:r,onClose:n}){return _be("(min-width: 768px)")?s.jsx(Z7,{open:t,onOpenChange:r,children:s.jsxs(J7,{side:"right",className:"w-full sm:max-w-xl p-0",children:[s.jsxs(e9,{className:"px-4 pt-4",children:[s.jsx(t9,{children:"Order Details"}),s.jsx(r9,{children:"Comprehensive view of this vendor order."})]}),s.jsx(Cbe,{className:"h-[calc(100vh-80px)]",children:s.jsx($5,{order:e})})]})}):s.jsx(ibe,{open:t,onOpenChange:r,children:s.jsxs(cbe,{className:"p-0 h-[90vh] flex flex-col",children:[s.jsxs(dbe,{className:"px-4 pt-4",children:[s.jsx(ube,{children:"Order Details"}),s.jsx(fbe,{children:"Everything about this order."})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx($5,{order:e})}),s.jsx("div",{className:"p-4 border-t flex justify-end",children:s.jsx(pe,{onClick:n,variant:"outline",children:"Close"})})]})})}const Obe=()=>{const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);return{role:(t==null?void 0:t.role)||null,id:(t==null?void 0:t.id)||null}}catch(t){return console.error("Failed to parse user from localStorage",t),{role:null,id:null}}return{role:null,id:null}},U5=()=>{const[e,t]=m.useState(1),[r,n]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(void 0),[d,u]=m.useState(""),h=m.useRef(null),p=10,[g,y]=m.useState(Obe()),[w,v]=m.useState(null),[N,j]=m.useState(!1),[A,E]=m.useState(null),[S,_]=m.useState(!1),[k,T]=m.useState(null),[O,P]=m.useState(!1),I=g==null?void 0:g.role,M=m.useCallback(z=>{n(z.target.value)},[]);m.useEffect(()=>{(async()=>{var V;if(!localStorage.getItem("authToken")){console.error("No auth token found for user");return}if(I==="AGENCY"){j(!0);try{const ae=await xt("/users/me");console.log("agencyinfo",ae),v(ae!=null&&ae.agencyId?String(ae.agencyId):null)}catch(ae){console.error("Failed to fetch agency info:",ae),ce.error("Could not load agency details."),v(null)}j(!1)}else if(I==="SUPERVISOR"){_(!0);try{const ae=await xt("/users/me");console.log("supervisorinfo",ae),E((V=ae==null?void 0:ae.supervisor)!=null&&V.agencyId?String(ae.supervisor.agencyId):null)}catch(ae){console.error("Failed to fetch supervisor info:",ae),ce.error("Could not load supervisor details."),E(null)}_(!1)}})()},[I]),m.useEffect(()=>{I==="AGENCY"&&d==="PENDING"&&u("")},[I,d]),m.useEffect(()=>(h.current&&window.clearTimeout(h.current),h.current=window.setTimeout(()=>{i(r)},500),()=>{h.current&&window.clearTimeout(h.current)}),[r]);const q=!!I&&(I!=="AGENCY"||I==="AGENCY"&&!N&&w!==void 0)&&(I!=="SUPERVISOR"||I==="SUPERVISOR"&&!S),{data:U,isLoading:re,isError:te,refetch:B}=Nr({queryKey:["orders",e,a,o,d,I,w,A],queryFn:async()=>{if(!I)return{data:[],totalPages:0};if(I==="AGENCY"&&!w)return{data:[],totalPages:0};if(I==="SUPERVISOR"&&!A)return{data:[],totalPages:0};let z="/vendor-orders";I==="VENDOR"?z="/vendor-orders/my":I==="AGENCY"?z="/vendor-orders/my-agency-orders":I==="SUPERVISOR"&&(z="/vendor-orders/my-supervisor-orders");let K=`${z}?page=${e}&limit=${p}`;return a&&(K+=`&search=${a}`),o&&(K+=`&date=${Rt(o,"yyyy-MM-dd")}`),d&&(K+=`&status=${d}`),I==="AGENCY"&&(K+="&excludeStatus=PENDING",w&&(K+=`&agencyId=${w}`)),await xt(K)},enabled:q}),H=(U==null?void 0:U.data)||[],R=(U==null?void 0:U.totalPages)||1,X=async z=>{try{await Tn(`/vendor-orders/${z}`),ce.success("Order deleted successfully"),B()}catch{ce.error("Failed to delete order")}},W=z=>{switch(z){case"PENDING":return"bg-yellow-500";case"DELIVERED":return"bg-secondary";case"RECEIVED":return"bg-primary";default:return"bg-gray-500"}},Y=z=>{if(!z||z.length===0)return{ordered:0,delivered:0,received:0,supervisor:0};const K=z.reduce((se,Z)=>se+(Z.quantity||0),0),V=z.reduce((se,Z)=>se+(Z.deliveredQuantity||0),0),ae=z.reduce((se,Z)=>se+(Z.receivedQuantity||0),0),Q=z.reduce((se,Z)=>se+(Z.supervisorQuantity||0),0);return{ordered:K,delivered:V,received:ae,supervisor:Q}},F=()=>{n(""),i(""),l(void 0),u(""),t(1)};return I==="AGENCY"&&N?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Loading agency details..."})}):I==="SUPERVISOR"&&S?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Loading supervisor details..."})}):re&&q?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Loading orders..."})}):te&&q?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Error loading orders. Please try again later."})}):s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[s.jsxs(yt,{className:"mb-6 shadow-lg dark:bg-gray-800",children:[s.jsxs(_t,{className:"flex flex-row items-center justify-between pb-4 max-sm:flex-col",children:[s.jsx(Gt,{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Order Management"}),I==="ADMIN"&&s.jsx(Mr,{to:"/admin/orders/create",children:s.jsxs(pe,{className:"bg-blue-600 hover:bg-blue-700 text-white dark:bg-secondary dark:hover:bg-blue-600",children:[s.jsx(lh,{className:"mr-2 h-5 w-5"})," Create New Order"]})})]}),s.jsxs(Nt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 min-w-full ",children:[s.jsx(He,{placeholder:"Search by PO, Vendor...",value:r,onChange:M,className:"dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 w-full"}),s.jsxs("select",{value:d,onChange:z=>u(z.target.value),className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",children:[s.jsx("option",{value:"",children:"All Status"}),I!=="AGENCY"&&s.jsx("option",{value:"PENDING",children:"Pending"}),s.jsx("option",{value:"DELIVERED",children:"Delivered"}),s.jsx("option",{value:"RECEIVED",children:"Received"})]}),s.jsxs(pe,{onClick:F,variant:"outline",className:"dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600",children:[s.jsx(Th,{className:"mr-2 h-4 w-4"})," Clear Filters"]})]}),H.length===0?s.jsxs("div",{className:"text-center py-10",children:[s.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"No orders found."}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Try adjusting your filters or creating a new order."})]}):s.jsxs(Is,{className:"min-w-full bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:[s.jsx(Fs,{className:"bg-gray-100 dark:bg-gray-700",children:s.jsxs(rr,{children:[s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"PO Number"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Farmer"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Agency/Depot"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Order Date"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Delivery Date"}),I!=="AGENCY"&&I!=="SUPERVISOR"&&s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Total Amount"}),I==="ADMIN"&&s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Quantities (O/D/R/S)"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Status"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Actions"})]})}),s.jsx(Ls,{className:"divide-y divide-gray-200 dark:divide-gray-700",children:H.map(z=>{var Q;const K=I==="AGENCY"&&!!w&&z.status==="RECEIVED"&&!((Q=z.recordedByAgencies)!=null&&Q.includes(w)),V=I==="AGENCY"&&!!w&&(z.status==="DELIVERED"||K),ae=Y(z.items);return s.jsxs(rr,{className:"hover:bg-gray-50 dark:hover:bg-gray-750 cursor-pointer",onClick:()=>{T(z),P(!0)},children:[s.jsx($e,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:z.poNumber}),s.jsx($e,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:z.vendor.name}),s.jsx($e,{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:(()=>{var Ee,Ze;const se=((Ee=z.items)==null?void 0:Ee.map(Be=>Be.agency).filter(Boolean))||[],Z=((Ze=z.items)==null?void 0:Ze.map(Be=>Be.depot).filter(Boolean))||[],le=se.filter((Be,Ie,Ne)=>Be&&Ne.findIndex(fe=>(fe==null?void 0:fe.id)===Be.id)===Ie),Te=Z.filter((Be,Ie,Ne)=>Be&&Ne.findIndex(fe=>(fe==null?void 0:fe.id)===Be.id)===Ie);return s.jsxs("div",{className:"space-y-1",children:[le.map(Be=>Be&&s.jsxs("div",{className:"text-xs",children:[s.jsx("div",{className:"font-medium text-blue-600",children:Be.name}),Be.user&&s.jsxs("div",{className:"text-gray-400",children:[Be.user.name," • ",Be.user.mobile]})]},`agency-${Be.id}`)),Te.map(Be=>Be&&s.jsxs("div",{className:"text-xs",children:[s.jsx("div",{className:"font-medium text-green-600",children:Be.name}),Be.address&&s.jsx("div",{className:"text-gray-400 truncate max-w-xs",children:Be.address})]},`depot-${Be.id}`)),le.length===0&&Te.length===0&&s.jsx("span",{className:"text-gray-400",children:"N/A"})]})})()}),s.jsx($e,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Rt(new Date(z.orderDate),"dd/MM/yyyy")}),s.jsx($e,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Rt(new Date(z.deliveryDate),"dd/MM/yyyy")}),I!=="AGENCY"&&I!=="SUPERVISOR"&&s.jsx($e,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Ms(z.totalAmount)}),I==="ADMIN"&&s.jsx($e,{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("div",{className:"flex flex-col space-y-1",children:(()=>{const se=z.items.map(le=>le.depotVariantName).filter((le,Te,Ee)=>le&&Ee.indexOf(le)===Te),Z=se.length>0?` (${se.join(", ")})`:"";return console.log(z.items),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ordered:"})," ",ae.ordered,Z]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Delivered:"})," ",s.jsx("span",{className:ae.delivered<ae.ordered?"text-red-500 font-medium":"text-gray-500 dark:text-gray-300",children:ae.delivered})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Received:"})," ",s.jsx("span",{className:ae.received<ae.delivered?"text-red-500 font-medium":"text-gray-500 dark:text-gray-300",children:ae.received})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Supervisor:"})," ",s.jsx("span",{className:ae.supervisor<ae.received?"text-red-500 font-medium":"text-gray-500 dark:text-gray-300",children:ae.supervisor})]})]})})()})}),s.jsxs($e,{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx(Ir,{className:`${W(z.status)} text-white px-2 py-1 rounded-full text-xs`,children:z.status}),K&&s.jsx(qg,{children:s.jsxs(Jm,{children:[s.jsx(ep,{asChild:!0,children:s.jsx(Hc,{className:"ml-2 h-4 w-4 text-red-500 inline-block"})}),s.jsx(tp,{className:"bg-black text-white p-2 rounded",children:s.jsx("p",{children:"You need to record your quantities for this order."})})]})})]}),s.jsx($e,{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:se=>se.stopPropagation(),children:s.jsxs(Ih,{modal:!1,children:[s.jsx(Fh,{asChild:!0,children:s.jsx(pe,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(wy,{className:"h-4 w-4"})})}),s.jsxs(Lh,{align:"end",className:"dark:bg-gray-800 dark:text-gray-200",children:[I==="ADMIN"&&s.jsxs(s.Fragment,{children:[s.jsx(mn,{asChild:!0,children:s.jsxs(Mr,{to:`/admin/orders/${z.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(qc,{className:"mr-2 h-4 w-4"})," View Details"]})}),z.status==="PENDING"&&s.jsxs(mn,{onClick:()=>X(z.id),className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/50 cursor-pointer",children:[s.jsx(Qs,{className:"mr-2 h-4 w-4"})," Delete"]})]}),I==="VENDOR"&&s.jsxs(s.Fragment,{children:[(z.status==="PENDING"||z.status==="DELIVERED")&&!z.recordedDelivery&&s.jsx(mn,{asChild:!0,children:s.jsxs(Mr,{to:`/vendor/orders/${z.id}/record-delivery`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(Zf,{className:"mr-2 h-4 w-4"})," Record Delivery"]})}),s.jsx(mn,{asChild:!0,children:s.jsxs(Mr,{to:`/vendor/orders/${z.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(qc,{className:"mr-2 h-4 w-4"})," View Details"]})})]}),I==="AGENCY"&&s.jsxs(s.Fragment,{children:[s.jsx(mn,{asChild:!0,children:s.jsxs(Mr,{to:`/admin/orders/${z.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(qc,{className:"mr-2 h-4 w-4"})," View Details"]})}),V&&!z.recordedReceipt&&s.jsx(mn,{asChild:!0,children:s.jsxs(Mr,{to:`/admin/orders/${z.id}/record-receipt`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(Zf,{className:"mr-2 h-4 w-4"}),K?"Record Your Quantities":"Record Receipt"]})})]}),I==="SUPERVISOR"&&s.jsxs(s.Fragment,{children:[s.jsx(mn,{asChild:!0,children:s.jsxs(Mr,{to:`/admin/orders/${z.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(qc,{className:"mr-2 h-4 w-4"})," View Details"]})}),(z.status==="DELIVERED"||z.status==="RECEIVED")&&!z.recordedSupervisor&&s.jsx(mn,{asChild:!0,children:s.jsxs(Mr,{to:`/admin/orders/${z.id}/supervisor-quantity`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(Zf,{className:"mr-2 h-4 w-4"})," Record Supervisor Quantity"]})}),z.recordedSupervisor&&s.jsxs(mn,{disabled:!0,className:"flex items-center w-full px-3 py-2 text-sm text-gray-500",children:[s.jsx(vy,{className:"mr-2 h-4 w-4"})," Supervisor Quantity Recorded"]})]}),I!=="ADMIN"&&I!=="VENDOR"&&I!=="AGENCY"&&I!=="SUPERVISOR"&&s.jsx(mn,{disabled:!0,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-200",children:"No actions available for your role."})]})]})})]},z.id)})})]}),k&&s.jsx(Dbe,{order:k,open:O,onOpenChange:z=>P(z),onClose:()=>{P(!1),T(null)}})]})]}),!re&&!te&&H.length>0&&s.jsx("div",{className:"flex justify-center mt-6",children:s.jsxs(N0,{children:[s.jsx(S0,{onClick:()=>e>1&&t(e-1),className:Xe("cursor-pointer",e<=1&&"pointer-events-none opacity-50")}),s.jsx(j0,{children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",e," of ",R]})})}),s.jsx(E0,{onClick:()=>e<R&&t(e+1),className:Xe("cursor-pointer",e>=R&&"pointer-events-none opacity-50")})]})})]})},Pbe=ys({poNumber:it().optional(),orderDate:rd(),deliveryDate:rd(),contactPersonName:it().min(1,"Contact person name is required"),vendorId:it().min(1,"Farmer is required"),notes:it().optional(),orderItems:_h(ys({depotId:it().min(1,"Depot is required"),agencyId:it().min(1,"Agency is required"),productId:it().min(1,"Product is required"),depotVariantId:it().min(1,"Depot variant is required"),quantity:ki().min(1,"Quantity must be at least 1"),variantUnit:it().optional()})).min(1,"At least one product item is required")});function oE(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function V5(e){return e?!isNaN(e.getTime()):!1}function q5({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=m.useState(!1),[l,d]=m.useState(e),[u,h]=m.useState(oE(e));return m.useEffect(()=>{h(oE(e)),V5(e)&&d(e)},[e]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ye,{htmlFor:n,className:"px-1",children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(He,{id:n,value:u,placeholder:"01/06/2025",className:"bg-background pr-10",onChange:p=>{const g=p.target.value;h(g);const y=new Date(g);V5(y)?(t(y),d(y)):t(void 0)},onKeyDown:p=>{p.key==="ArrowDown"&&(p.preventDefault(),o(!0))}}),s.jsxs(cc,{open:i,onOpenChange:o,children:[s.jsx(dc,{asChild:!0,children:s.jsxs(pe,{variant:"ghost",className:"absolute top-1/2 right-2 size-6 -translate-y-1/2",children:[s.jsx(ra,{className:"size-3.5"}),s.jsx("span",{className:"sr-only",children:"Select date"})]})}),s.jsx(uc,{className:"w-auto overflow-hidden p-0",align:"end",alignOffset:-8,sideOffset:10,children:s.jsx(yd,{mode:"single",selected:e,captionLayout:"dropdown",month:l,onMonthChange:d,onSelect:p=>{t(p),h(oE(p)),o(!1)},fromDate:a,initialFocus:!0})})]})]})]})}const WV=({mode:e,orderId:t,initialData:r,onSuccess:n})=>{const a=yn(),[i,o]=m.useState([]),[l,d]=m.useState([]),[u,h]=m.useState([]),[p,g]=m.useState([]),[y,w]=m.useState([]),[v,N]=m.useState(null),[j,A]=m.useState(0),[E,S]=m.useState(!1),[_,k]=m.useState(!0),[T,O]=m.useState({}),P=Cr(),I=()=>{k(!_)},M=Ie=>{O(Ne=>({...Ne,[Ie]:!Ne[Ie]}))},{register:q,control:U,handleSubmit:re,setValue:te,watch:B,formState:{errors:H,isSubmitting:R}}=Js({resolver:en(Pbe),defaultValues:{poNumber:e==="create"?"":(r==null?void 0:r.poNumber)||"",orderDate:e==="edit"&&(r!=null&&r.orderDate)?new Date(r.orderDate):new Date,deliveryDate:e==="edit"&&(r!=null&&r.deliveryDate)?new Date(r.deliveryDate):ua(new Date,1),receivedById:e==="edit"&&(r!=null&&r.receivedById)?r.receivedById:"",contactPersonName:e==="edit"&&(r!=null&&r.contactPersonName)?r.contactPersonName:"",vendorId:e==="edit"&&(r!=null&&r.vendorId)?r.vendorId:"",notes:e==="edit"&&(r!=null&&r.notes)?r.notes:"",orderItems:e==="edit"&&(r!=null&&r.orderItems)&&r.orderItems.length>0?r.orderItems.map(Ie=>({productId:String((Ie==null?void 0:Ie.productId)||""),quantity:Number((Ie==null?void 0:Ie.quantity)||1),agencyId:String((Ie==null?void 0:Ie.agencyId)||""),depotId:String((Ie==null?void 0:Ie.depotId)||""),depotVariantId:String((Ie==null?void 0:Ie.depotVariantId)||"")})):[{productId:"",quantity:1,agencyId:"",depotId:"",depotVariantId:""}]},mode:"onChange"}),X=B("orderItems"),W=JSON.stringify(X),Y=B("deliveryDate"),F=je.useMemo(()=>{console.log("[OrderForm] Recalculating groupedProductSummary. Watched items (stringified for dep):",W,"Product count:",l.length);const Ie={};return!X||X.length===0||!l||l.length===0||(X.forEach(Ne=>{if(!Ne||!Ne.productId||Ne.quantity===void 0||Ne.quantity===null||Number(Ne.quantity)<=0)return;const fe=l.find(Re=>String(Re.id)===Ne.productId),de=y.find(Re=>String(Re.id)===Ne.depotVariantId),ke=u.find(Re=>String(Re.id)===Ne.agencyId),Pe=p.find(Re=>String(Re.id)===Ne.depotId);if(fe&&de){const Re=Number(de.purchasePrice)||Number(de.mrp)||Number(de.buyOncePrice)||0,ie=Number(Ne.quantity);Ie[Ne.productId]||(Ie[Ne.productId]={name:fe.name,totalQuantity:0,totalPrice:0,variants:{}}),Ie[Ne.productId].totalQuantity+=ie,Ie[Ne.productId].totalPrice=(Ie[Ne.productId].totalPrice||0)+Re*ie,de&&Ne.depotVariantId&&(Ie[Ne.productId].variants[Ne.depotVariantId]||(Ie[Ne.productId].variants[Ne.depotVariantId]={name:de.name,quantity:0,agencies:[],depots:[],unit:de.unit,price:Re}),Ie[Ne.productId].variants[Ne.depotVariantId].quantity+=ie,ke&&!Ie[Ne.productId].variants[Ne.depotVariantId].agencies.includes(ke.name)&&Ie[Ne.productId].variants[Ne.depotVariantId].agencies.push(ke.name),Pe&&!Ie[Ne.productId].variants[Ne.depotVariantId].depots.includes(Pe.name)&&Ie[Ne.productId].variants[Ne.depotVariantId].depots.push(Pe.name))}}),console.log("[OrderForm] Enhanced groupedProductSummary result:",JSON.parse(JSON.stringify(Ie)))),Ie},[W,l,y,u,p]),z=()=>{const Ie={};Object.keys(F).forEach(Ne=>{Ie[Ne]=!0}),O(Ie)},K=()=>{const Ie={};Object.keys(F).forEach(Ne=>{Ie[Ne]=!1}),O(Ie)},V=Object.keys(F).length>0&&Object.keys(F).every(Ie=>T[Ie]!==!1),ae=Object.keys(F).length>0&&Object.keys(F).every(Ie=>T[Ie]===!1),{fields:Q,append:se,remove:Z}=zy({control:U,name:"orderItems"});m.useEffect(()=>{console.log("[OrderForm] Fields updated:",Q),console.log("[OrderForm] Fields length:",Q.length)},[Q]),m.useEffect(()=>{(async()=>{try{const Ne=await xt("/vendors?limit=1000&dairyOnly=true");Ne&&Array.isArray(Ne)?o(Ne.map(fe=>({...fe,id:String(fe.id)}))):Ne&&Ne.data&&Array.isArray(Ne.data)?o(Ne.data.map(fe=>({...fe,id:String(fe.id)}))):(o([]),ce.error("Failed to fetch farmer or data is not in expected format."))}catch{ce.error("Failed to fetch farmer"),o([])}})()},[]),m.useEffect(()=>{(async()=>{try{const Ne=await xt("/products");let fe=[];if(Ne&&Array.isArray(Ne)?fe=Ne:Ne&&Ne.data&&Array.isArray(Ne.data)?fe=Ne.data:(console.error("Unexpected product API response structure:",Ne),ce.error("Products data is not in the expected array format.")),d(fe),e==="edit"&&(r!=null&&r.orderItems)&&Array.isArray(r.orderItems)&&r.orderItems.length>0&&fe.length>0&&u.length>0){console.log("Attempting to set order items. initialData.orderItems:",r.orderItems);const de=r.orderItems.map(Pe=>({...Pe,productId:String((Pe==null?void 0:Pe.productId)||""),quantity:Number((Pe==null?void 0:Pe.quantity)||1),agencyId:String((Pe==null?void 0:Pe.agencyId)||""),depotId:String((Pe==null?void 0:Pe.depotId)||""),depotVariantId:String((Pe==null?void 0:Pe.depotVariantId)||"")}));de.every(Pe=>fe.some(Re=>String(Re.id)===Pe.productId))||console.warn("Some products in initialData.orderItems do not exist in the fetched products list. Items might not display correctly or be selectable."),te("orderItems",de),console.log("Order items set in form with:",de)}}catch(Ne){console.error("Error fetching products or setting items:",Ne),d([]),ce.error("Failed to fetch products")}})()},[e,r,te,u]),m.useEffect(()=>{(async()=>{try{const Ne=await xt("/agencies");let fe=[];Ne&&Array.isArray(Ne.data)?fe=Ne.data.map(de=>({...de,id:String(de.id)})):Ne&&Array.isArray(Ne)&&(fe=Ne.map(de=>({...de,id:String(de.id)}))),h(fe),fe.length>0||(h([]),console.warn("Fetched agencies data is not an array or is missing:",Ne),ce.error("Could not load agencies."))}catch(Ne){console.error("Error fetching agencies:",Ne),ce.error("Failed to fetch agencies."),h([])}})()},[]),m.useEffect(()=>{(async()=>{try{const Ne=await xt("/depots");let fe=[];Ne&&Array.isArray(Ne.data)?fe=Ne.data.map(de=>({...de,id:String(de.id)})):Ne&&Array.isArray(Ne)&&(fe=Ne.map(de=>({...de,id:String(de.id)}))),g(fe),fe.length>0||(g([]),console.warn("Fetched depots data is not an array or is missing:",Ne),ce.error("Could not load depots."))}catch(Ne){console.error("Error fetching depots:",Ne),ce.error("Failed to fetch depots."),g([])}})()},[]),m.useEffect(()=>{(async()=>{try{const Ne=await xt("/depot-product-variants");let fe=[];Ne&&Array.isArray(Ne.data)?fe=Ne.data.map(de=>({...de,id:String(de.id)})):Ne&&Array.isArray(Ne)&&(fe=Ne.map(de=>({...de,id:String(de.id)}))),w(fe),fe.length>0||(w([]),console.warn("Fetched depot variants data is not an array or is missing:",Ne),ce.error("Could not load depot variants."))}catch(Ne){console.error("Error fetching depot variants:",Ne),ce.error("Failed to fetch depot variants."),w([])}})()},[]),m.useEffect(()=>{e==="create"&&Y&&(async()=>{S(!0);try{const Ne=Rt(Y,"yyyy-MM-dd");console.log("[OrderForm] Fetching prefill data for date:",Ne);const fe=await xt(`/vendor-orders/get-order-details?date=${Ne}`);console.log("[OrderForm] Raw API response:",fe);const de=fe;if(console.log("[OrderForm] Response data:",de),console.log("[OrderForm] Type of responseData:",typeof de),console.log("[OrderForm] responseData.data exists:",!!de.data),console.log("[OrderForm] responseData.data is Array:",Array.isArray(de.data)),console.log("[OrderForm] responseData.data length:",de.data?de.data.length:"N/A"),de&&de.data&&Array.isArray(de.data)&&de.data.length>0){console.log("[OrderForm] Number of depot-variant groups from API:",de.data.length),console.log("[OrderForm] Summary:",de.summary);const ke=[];de.data.forEach(Pe=>{if(console.log("[OrderForm] Processing group:",Pe),Pe.depot&&Pe.variant&&Pe.product)if(Pe.agencies&&Pe.agencies.ids.length>1){const Re={};Pe.members&&Array.isArray(Pe.members)&&Pe.members.forEach(be=>{if(be.agencyId){const De=String(be.agencyId);Re[De]=(Re[De]||0)+(be.quantity||1)}});const ie=Object.keys(Re).length>0;Pe.agencies.ids.forEach((be,De)=>{const lt=String(be);let at=0;ie&&Re[lt]?at=Re[lt]:at=Math.ceil(Pe.statistics.totalQuantity/Pe.agencies.ids.length);const ze={depotId:String(Pe.depot.id||""),agencyId:lt,productId:String(Pe.product.id||""),depotVariantId:String(Pe.variant.id||""),quantity:at};console.log(`[OrderForm] Mapped item for agency ${Pe.agencies.names[De]} (${lt}):`,ze),console.log(ie?`[OrderForm] Using member-based quantity: ${at} for agency ${lt}`:`[OrderForm] Using evenly distributed quantity: ${at} for agency ${lt}`),ze.depotId&&ze.agencyId&&ze.productId&&ze.depotVariantId&&ze.quantity>0&&ke.push(ze)})}else{const Re=Pe.agencies&&Pe.agencies.ids.length>0?String(Pe.agencies.ids[0]):"",ie={depotId:String(Pe.depot.id||""),agencyId:Re,productId:String(Pe.product.id||""),depotVariantId:String(Pe.variant.id||""),quantity:Number(Pe.statistics.totalQuantity||0)};console.log("[OrderForm] Mapped item:",ie),ie.depotId||console.warn("[OrderForm] Item missing depotId"),ie.agencyId||console.warn("[OrderForm] Item missing agencyId - user will need to select"),ie.productId||console.warn("[OrderForm] Item missing productId"),ie.depotVariantId||console.warn("[OrderForm] Item missing depotVariantId"),ie.quantity<=0&&console.warn("[OrderForm] Item has invalid quantity:",ie.quantity),ie.depotId&&ie.productId&&ie.depotVariantId&&ie.quantity>0&&ke.push(ie)}}),console.log("[OrderForm] Final mapped order items:",ke),console.log("[OrderForm] Setting form with",ke.length,"items"),ke.length>0?(te("orderItems",ke,{shouldValidate:!0}),ce.success(`${ke.length} order items prefilled for ${Rt(Y,"dd/MM/yyyy")}. Total quantity: ${de.summary.totalQuantity} units across ${de.summary.totalDepots} depots.`)):(console.warn("[OrderForm] No valid items could be mapped from the response"),te("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0}),ce.warning(`Data found but could not map items for ${Rt(Y,"dd/MM/yyyy")}.`))}else console.log("[OrderForm] No data found or data format incorrect"),console.log("[OrderForm] responseData:",de),console.log("[OrderForm] Condition failed:",{hasResponseData:!!de,hasDataProperty:!!(de&&de.data),isDataArray:Array.isArray(de&&de.data),dataLength:de&&de.data?de.data.length:0}),te("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0}),ce.info(`No scheduled order items found for ${Rt(Y,"dd/MM/yyyy")}.`)}catch(Ne){console.error("[OrderForm] Error fetching prefill data:",Ne),ce.error(Ne.message||"Failed to fetch prefill order items."),te("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0})}finally{S(!1)}})()},[Y,e,te,l,u]),m.useEffect(()=>{e==="edit"&&r&&(console.log("Populating basic form fields with initialData:",r),r.poNumber&&te("poNumber",r.poNumber),r.orderDate&&te("orderDate",new Date(r.orderDate)),r.deliveryDate&&te("deliveryDate",new Date(r.deliveryDate)),r.contactPersonName&&te("contactPersonName",r.contactPersonName),r.notes&&te("notes",r.notes))},[e,r,te]),m.useEffect(()=>{if(e==="edit"&&(r!=null&&r.vendorId)&&i.length>0){const Ie=String(r.vendorId);te("vendorId",Ie);const Ne=i.find(fe=>fe.id===Ie);Ne?(N(Ne),console.log("Farmer set in form:",r.vendorId,Ne)):(console.warn(`Farmer with ID ${r.vendorId} not found in fetched farmer list. Cannot preselect.`),N(null))}},[e,r==null?void 0:r.vendorId,i,te]);const le=B("vendorId");m.useEffect(()=>{if(le){const Ie=i.find(Ne=>Ne.id===le);N(Ie||null),Ie!=null&&Ie.contactPersonName&&te("contactPersonName",Ie.contactPersonName)}else N(null)},[le,i,te]);const Te=Vr({mutationFn:async Ie=>e==="edit"&&t?Zs(`/vendor-orders/${t}`,Ie):Kr("/vendor-orders",Ie),onSuccess:()=>{ce.success("Order created successfully"),a.invalidateQueries({queryKey:["orders"]}),P("/admin/orders"),n&&n()},onError:Ie=>{ce.error(Ie.message||"Failed to create order")}}),Ee=Ie=>{console.log("[OrderForm] Form submitted with data:",Ie),console.log("[OrderForm] Form validation errors:",H);const Ne={...Ie,orderItems:Ie.orderItems.map((fe,de)=>{const ke=X[de];return{productId:fe.productId,quantity:fe.quantity,agencyId:fe.agencyId,depotId:(ke==null?void 0:ke.depotId)||fe.depotId||"",depotVariantId:(ke==null?void 0:ke.depotVariantId)||fe.depotVariantId||""}}),totalAmount:j||0};console.log("[OrderForm] Submitting complete order data:",Ne),Te.mutate(Ne)},Ze=Ie=>{console.log("[OrderForm] Form validation failed:",Ie);const Ne=[];if(Ie.vendorId&&Ne.push(`Farmer: ${Ie.vendorId.message}`),Ie.contactPersonName&&Ne.push(`Contact Person: ${Ie.contactPersonName.message}`),Ie.orderDate&&Ne.push(`Order Date: ${Ie.orderDate.message}`),Ie.deliveryDate&&Ne.push(`Delivery Date: ${Ie.deliveryDate.message}`),Ie.orderItems&&(Ie.orderItems.message?Ne.push(`Order Items: ${Ie.orderItems.message}`):Array.isArray(Ie.orderItems)&&Ie.orderItems.forEach((fe,de)=>{fe&&(fe.depotId&&Ne.push(`Item ${de+1} - Depot: ${fe.depotId.message}`),fe.agencyId&&Ne.push(`Item ${de+1} - Agency: ${fe.agencyId.message}`),fe.productId&&Ne.push(`Item ${de+1} - Product: ${fe.productId.message}`),fe.depotVariantId&&Ne.push(`Item ${de+1} - Depot Variant: ${fe.depotVariantId.message}`),fe.quantity&&Ne.push(`Item ${de+1} - Quantity: ${fe.quantity.message}`))})),Ne.length>0){const fe=Ne.slice(0,3).join("; "),de=Ne.length>3?` and ${Ne.length-3} more`:"";ce.error(`Validation errors: ${fe}${de}`)}else ce.error("Please fix the form errors before submitting")};m.useEffect(()=>{console.log("[OrderForm] Recalculating orderTotal. groupedProductSummary:",JSON.parse(JSON.stringify(F)),"Product count:",l.length,"Watched items (stringified for dep):",W);const Ie=Object.values(F).reduce((Ne,fe)=>Ne+(fe.totalPrice||0),0);console.log("[OrderForm] calculatedTotalPrice:",Ie),A(Ie)},[F,l,W]);const Be=()=>s.jsxs(je.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx(lh,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),s.jsxs("div",{className:"grid gap-4",children:[e!=="create"&&s.jsxs("div",{className:"relative",children:[s.jsx(ye,{htmlFor:"poNumber",className:"text-gray-700 dark:text-gray-300 font-medium",children:"PO Number"}),s.jsx(He,{id:"poNumber",className:"bg-white/80 dark:bg-gray-900/80 border-gray-300 dark:border-gray-700",...q("poNumber"),disabled:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4  max-md:grid-cols-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx(_r,{control:U,name:"orderDate",render:({field:Ie})=>s.jsx(q5,{id:"orderDate",label:"Order Date",value:Ie.value,onChange:Ie.onChange,fromDate:new Date})}),H.orderDate&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:H.orderDate.message})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_r,{control:U,name:"deliveryDate",render:({field:Ie})=>s.jsx(q5,{id:"deliveryDate",label:"Delivery Date",value:Ie.value,onChange:Ie.onChange,fromDate:B("orderDate")||new Date})}),H.deliveryDate&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:H.deliveryDate.message}),e==="create"&&s.jsx(s.Fragment,{children:E&&s.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",children:[s.jsx(Fr,{className:"animate-spin h-4 w-4 mr-2"}),"Checking for scheduled items..."]})})]})]}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(ye,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Notes / Special Instructions"}),s.jsx(Hu,{id:"notes",...q("notes"),rows:3,className:"bg-white/80 dark:bg-gray-900/80 border-gray-300 dark:border-gray-700"}),H.notes&&s.jsx("span",{className:"text-red-500 text-xs mt-1",children:H.notes.message})]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Tu,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Farmer Information"})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ye,{htmlFor:"vendorId",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Select Farmer"}),s.jsx(_r,{control:U,name:"vendorId",render:({field:Ie})=>s.jsxs(It,{onValueChange:Ie.onChange,value:Ie.value||"",defaultValue:Ie.value||"",children:[s.jsx(Lt,{className:"bg-white dark:bg-gray-700 w-full",children:s.jsx(Ft,{placeholder:"Select a Farmer"})}),s.jsx(Bt,{children:i.map(Ne=>s.jsx(Je,{value:Ne.id,children:Ne.name},Ne.id))})]})}),H.vendorId&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:H.vendorId.message})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ye,{htmlFor:"contactPersonName",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Contact Person"}),s.jsx(He,{id:"contactPersonName",disabled:!0,className:"bg-white/80 dark:bg-gray-900/80 border-emerald-200 dark:border-emerald-800",...q("contactPersonName")}),H.contactPersonName&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:H.contactPersonName.message})]})]}),v&&s.jsxs("div",{className:"mt-4 p-3 bg-white/90 dark:bg-gray-900/90 rounded-md border border-emerald-200 dark:border-emerald-800",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Farmer Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm max-md:grid-cols-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Email:"}),s.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300 max-sm:text-xs",children:v.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Phone:"}),s.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:v.mobile})]})]})]})]})]}),s.jsxs(yt,{className:"shadow-lg mt-6",children:[s.jsxs(_t,{className:"bg-gray-50 dark:bg-gray-900",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Va,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),s.jsx(Gt,{className:"text-gray-700 dark:text-gray-300 ",children:"Products & Agencies"})]}),s.jsxs(pe,{type:"button",size:"sm",variant:"outline",onClick:()=>se({productId:"",quantity:1,agencyId:"",depotId:"",depotVariantId:""}),className:"border-gray-300 mt-4 mb-4 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:[s.jsx(En,{className:"h-4 w-4 mr-1"}),"Add Product Item"]})]}),s.jsx(Ea,{className:"text-gray-600 dark:text-gray-400",children:"Add products to your order, specify quantities, and assign an agency to each item."})]}),s.jsxs(Nt,{className:"p-6 space-y-6",children:[Q.length===0&&s.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[s.jsx(hA,{className:"h-12 w-12 mx-auto mb-2 text-gray-400 dark:text-gray-500"}),'No products added yet. Click "Add Product Item" to begin.']}),Q.length>0&&s.jsxs("div",{className:"overflow-x-auto",children:[s.jsx("div",{className:"hidden md:block",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Depot"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Agency"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Product"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Depot Variant"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"QTY"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:Q.map((Ie,Ne)=>{var ke;console.log(`[OrderForm] Rendering field ${Ne}:`,Ie,"Watched item:",X[Ne]);const fe=y.find(Pe=>{var Re;return String(Pe.id)===((Re=X[Ne])==null?void 0:Re.depotVariantId)});return(fe&&(Number(fe.purchasePrice)||Number(fe.mrp)||Number(fe.buyOncePrice))||0)*(((ke=X[Ne])==null?void 0:ke.quantity)||0),s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx(_r,{control:U,name:`orderItems.${Ne}.depotId`,render:({field:Pe})=>{var Re,ie;return s.jsxs(It,{onValueChange:Pe.onChange,value:Pe.value||"",children:[s.jsx(Lt,{className:Xe("h-9 text-sm bg-white dark:bg-gray-700 min-w-full",((ie=(Re=H.orderItems)==null?void 0:Re[Ne])==null?void 0:ie.depotId)&&"border-red-500"),children:s.jsx(Ft,{placeholder:"Select Depot"})}),s.jsx(Bt,{children:p.map(be=>s.jsx(Je,{value:be.id,children:be.name},be.id))})]})}})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx(_r,{control:U,name:`orderItems.${Ne}.agencyId`,render:({field:Pe})=>{var lt,at;const Re=X[Ne],ie=Re!=null&&Re.depotId?u.filter(ze=>{var rt;return String(ze.depotId)===String(Re.depotId)||String((rt=ze.depot)==null?void 0:rt.id)===String(Re.depotId)}):u,De=!Pe.value||ie.some(ze=>ze.id===Pe.value)?Pe.value:"";return s.jsxs(It,{onValueChange:Pe.onChange,value:De||"",children:[s.jsx(Lt,{className:Xe("h-9 text-sm bg-white dark:bg-gray-700 min-w-full",((at=(lt=H.orderItems)==null?void 0:lt[Ne])==null?void 0:at.agencyId)&&"border-red-500"),children:s.jsx(Ft,{placeholder:ie.length===0?"No agencies for this depot":"Select Agency"})}),s.jsx(Bt,{children:ie.length===0?s.jsx("div",{className:"px-2 py-1.5 text-sm text-gray-500 dark:text-gray-400",children:"No agencies available for selected depot"}):ie.map(ze=>s.jsx(Je,{value:ze.id,children:ze.name},ze.id))})]})}})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx(_r,{control:U,name:`orderItems.${Ne}.productId`,render:({field:Pe})=>s.jsxs(It,{onValueChange:Pe.onChange,value:Pe.value||"",children:[s.jsx(Lt,{className:"h-9 text-sm bg-white dark:bg-gray-700/50 border-gray-300 dark:border-gray-600 w-full",children:s.jsx(Ft,{placeholder:"Select Product"})}),s.jsx(Bt,{children:l.map(Re=>s.jsx(Je,{value:String(Re.id),children:Re.name},Re.id))})]})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx(_r,{control:U,name:`orderItems.${Ne}.depotVariantId`,render:({field:Pe})=>{const Re=X[Ne],ie=y.filter(be=>{const De=!(Re!=null&&Re.depotId)||String(be.depotId)===Re.depotId,lt=!(Re!=null&&Re.productId)||String(be.productId)===Re.productId;return De&&lt});return s.jsxs(It,{onValueChange:Pe.onChange,value:Pe.value||"",children:[s.jsx(Lt,{className:"h-9 text-sm bg-white dark:bg-gray-700 min-w-full",children:s.jsx(Ft,{placeholder:"Select Depot Variant"})}),s.jsx(Bt,{children:ie.map(be=>s.jsxs(Je,{value:be.id,children:[be.name," ",be.purchasePrice?`(₹${be.purchasePrice})`:be.mrp?`(₹${be.mrp})`:""]},be.id))})]})}})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[100px]",children:s.jsx(_r,{control:U,name:`orderItems.${Ne}.quantity`,render:({field:Pe})=>s.jsx(He,{id:`orderItems.${Ne}.quantity`,type:"number",min:"1",value:Pe.value||1,onChange:Re=>{const ie=parseInt(Re.target.value,10);Pe.onChange(isNaN(ie)||ie<1?1:ie)},className:"h-9 text-sm bg-white dark:bg-gray-700/50 border-gray-300 dark:border-gray-600 w-full"})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:s.jsx(pe,{type:"button",size:"icon",variant:"ghost",onClick:()=>Z(Ne),className:"h-8 w-8 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800/50",disabled:Q.length===1,children:s.jsx(Qs,{className:"h-4 w-4"})})})]},Ie.id)})})]})}),s.jsx("div",{className:"md:hidden space-y-4",children:Q.map((Ie,Ne)=>{var Pe;console.log(`[OrderForm] Rendering mobile field ${Ne}:`,Ie,"Watched item:",X[Ne]);const fe=y.find(Re=>{var ie;return String(Re.id)===((ie=X[Ne])==null?void 0:ie.depotVariantId)}),de=fe&&(Number(fe.purchasePrice)||Number(fe.mrp)||Number(fe.buyOncePrice))||0,ke=de*(((Pe=X[Ne])==null?void 0:Pe.quantity)||0);return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-200",children:["Item ",Ne+1]}),s.jsx(pe,{type:"button",size:"icon",variant:"ghost",onClick:()=>Z(Ne),className:"h-8 w-8 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800/50",disabled:Q.length===1,children:s.jsx(Qs,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Depot"}),s.jsx(_r,{control:U,name:`orderItems.${Ne}.depotId`,render:({field:Re})=>{var ie,be;return s.jsxs(It,{onValueChange:Re.onChange,value:Re.value||"",children:[s.jsx(Lt,{className:Xe("mt-1 bg-white dark:bg-gray-700",((be=(ie=H.orderItems)==null?void 0:ie[Ne])==null?void 0:be.depotId)&&"border-red-500"),children:s.jsx(Ft,{placeholder:"Select Depot"})}),s.jsx(Bt,{children:p.map(De=>s.jsx(Je,{value:De.id,children:De.name},De.id))})]})}})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Agency"}),s.jsx(_r,{control:U,name:`orderItems.${Ne}.agencyId`,render:({field:Re})=>{var at,ze;const ie=X[Ne],be=ie!=null&&ie.depotId?u.filter(rt=>{var Mt;return String(rt.depotId)===String(ie.depotId)||String((Mt=rt.depot)==null?void 0:Mt.id)===String(ie.depotId)}):u,lt=!Re.value||be.some(rt=>rt.id===Re.value)?Re.value:"";return s.jsxs(It,{onValueChange:Re.onChange,value:lt||"",children:[s.jsx(Lt,{className:Xe("mt-1 bg-white dark:bg-gray-700",((ze=(at=H.orderItems)==null?void 0:at[Ne])==null?void 0:ze.agencyId)&&"border-red-500"),children:s.jsx(Ft,{placeholder:be.length===0?"No agencies for this depot":"Select Agency"})}),s.jsx(Bt,{children:be.length===0?s.jsx("div",{className:"px-2 py-1.5 text-sm text-gray-500 dark:text-gray-400",children:"No agencies available for selected depot"}):be.map(rt=>s.jsx(Je,{value:rt.id,children:rt.name},rt.id))})]})}})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Product"}),s.jsx(_r,{control:U,name:`orderItems.${Ne}.productId`,render:({field:Re})=>s.jsxs(It,{onValueChange:Re.onChange,value:Re.value||"",children:[s.jsx(Lt,{className:"mt-1 bg-white dark:bg-gray-700",children:s.jsx(Ft,{placeholder:"Select Product"})}),s.jsx(Bt,{children:l.map(ie=>s.jsx(Je,{value:String(ie.id),children:ie.name},ie.id))})]})})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Depot Variant"}),s.jsx(_r,{control:U,name:`orderItems.${Ne}.depotVariantId`,render:({field:Re})=>{const ie=X[Ne],be=y.filter(De=>{const lt=!(ie!=null&&ie.depotId)||String(De.depotId)===ie.depotId,at=!(ie!=null&&ie.productId)||String(De.productId)===ie.productId;return lt&&at});return s.jsxs(It,{onValueChange:Re.onChange,value:Re.value||"",children:[s.jsx(Lt,{className:"mt-1 bg-white dark:bg-gray-700",children:s.jsx(Ft,{placeholder:"Select Depot Variant"})}),s.jsx(Bt,{children:be.map(De=>s.jsxs(Je,{value:De.id,children:[De.name," ",De.purchasePrice?`(₹${De.purchasePrice})`:De.mrp?`(₹${De.mrp})`:""]},De.id))})]})}})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Quantity"}),s.jsx(_r,{control:U,name:`orderItems.${Ne}.quantity`,render:({field:Re})=>s.jsx(He,{id:`orderItems.${Ne}.quantity`,type:"number",min:"1",value:Re.value||1,onChange:ie=>{const be=parseInt(ie.target.value,10);Re.onChange(isNaN(be)||be<1?1:be)},className:"mt-1 bg-white dark:bg-gray-700"})})]})]}),fe&&s.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Unit Price:"}),s.jsxs("span",{className:"font-medium",children:["₹",de.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm font-semibold",children:[s.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Item Total:"}),s.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["₹",ke.toFixed(2)]})]})]})]},Ie.id)})})]}),H.orderItems&&typeof H.orderItems=="object"&&"message"in H.orderItems&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:H.orderItems.message}),Q.length>0&&s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-center text-lg",children:[s.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-300",children:"Current Order Total :"}),s.jsx("span",{className:"font-bold text-lg text-gray-800 dark:text-gray-300",children:Ms(j)})]})})]})]}),Q.length>0&&s.jsxs(yt,{className:"shadow-lg mt-6 border-2 border-blue-100 dark:border-blue-900",children:[s.jsxs(_t,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between cursor-pointer hover:bg-blue-100/50 dark:hover:bg-blue-900/50 transition-colors rounded p-2 -m-2",onClick:I,onKeyDown:Ie=>{(Ie.key==="Enter"||Ie.key===" ")&&(Ie.preventDefault(),I())},tabIndex:0,role:"button","aria-expanded":_,"aria-label":`${_?"Collapse":"Expand"} order summary`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cJ,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsx(Gt,{className:"text-blue-800 dark:text-blue-200",children:"Order Summary"}),s.jsxs("span",{className:"text-sm text-blue-600 dark:text-blue-400 ml-2",children:["(",Object.keys(F).length," product",Object.keys(F).length!==1?"s":"",")"]})]}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900",children:_?s.jsx(ri,{className:"h-4 w-4"}):s.jsx(Fu,{className:"h-4 w-4"})})]}),_&&Object.keys(F).length>1&&s.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-blue-200 dark:border-blue-800",children:[s.jsx(Ea,{className:"text-blue-600 dark:text-blue-300",children:"Detailed breakdown of products, variants, and distribution."}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{type:"button",variant:"outline",size:"sm",onClick:Ie=>{Ie.stopPropagation(),z()},disabled:V,className:"h-7 text-xs border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/50",children:"Expand All"}),s.jsx(pe,{type:"button",variant:"outline",size:"sm",onClick:Ie=>{Ie.stopPropagation(),K()},disabled:ae,className:"h-7 text-xs border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/50",children:"Collapse All"})]})]}),(!_||Object.keys(F).length<=1)&&s.jsx(Ea,{className:"text-blue-600 dark:text-blue-300",children:_?"Detailed breakdown of products, variants, and distribution.":`${Object.values(F).reduce((Ie,Ne)=>Ie+Ne.totalQuantity,0)} total items • ${Ms(j||0)}`})]}),s.jsx("div",{className:Xe("transition-all duration-300 ease-in-out overflow-hidden",_?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"),children:s.jsx(Nt,{className:"p-6",children:(()=>{const Ie=Object.entries(F);if(Ie.length===0){const Ne=(X==null?void 0:X.filter(fe=>fe.productId&&Number(fe.quantity)>0))||[];return l.length===0&&Ne.length>0?s.jsx("div",{className:"space-y-3",children:Array.from({length:Math.min(Ne.length,3)}).map((fe,de)=>s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]},`summary-loading-${de}`))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(hA,{className:"h-12 w-12 mx-auto mb-3 text-gray-400 dark:text-gray-500"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products selected yet"})]})}return s.jsxs("div",{className:"space-y-6",children:[Ie.map(([Ne,fe])=>{const de=Object.keys(fe.variants).length>0,ke=fe.totalPrice||0,Pe=T[Ne]??!0;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>M(Ne),onKeyDown:Re=>{(Re.key==="Enter"||Re.key===" ")&&(Re.preventDefault(),M(Ne))},tabIndex:0,role:"button","aria-expanded":Pe,"aria-label":`${Pe?"Collapse":"Expand"} ${fe.name} details`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-8 bg-secondary rounded-full"}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-500 dark:text-gray-400",children:Pe?s.jsx(ri,{className:"h-4 w-4"}):s.jsx(Fu,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-800 dark:text-gray-200",children:fe.name}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:!Pe&&de&&s.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded-full",children:[Object.keys(fe.variants).length," variant",Object.keys(fe.variants).length!==1?"s":""]})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:[fe.totalQuantity," items"]}),s.jsx("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:Ms(ke)})]})]}),Pe&&de&&s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-900/50",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-600 pb-2 mb-3",children:"Variant Distribution"}),s.jsx("div",{className:"grid gap-3",children:Object.entries(fe.variants).map(([Re,ie])=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md p-3 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:ie.name})}),s.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:[ie.quantity," ",ie.unit||"Quantity"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:[ie.agencies.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Agencies:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ie.agencies.map((be,De)=>s.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full text-xs",children:be},`agency-${De}`))})]}),ie.depots.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Depots:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ie.depots.map((be,De)=>s.jsx("span",{className:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 px-2 py-1 rounded-full text-xs",children:be},`depot-${De}`))})]})]})]},`variant-${Re}`))})]}),Pe&&!de&&s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-600 bg-yellow-50 dark:bg-yellow-900/20",children:s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"No variant details available for this product"})})]},`summary-group-${Ne}`)}),s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-lg p-4 border-2 border-gray-200 dark:border-gray-600",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Items:"}),s.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:[Object.values(F).reduce((Ne,fe)=>Ne+fe.totalQuantity,0)," Quantity"]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Product Types:"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:Object.keys(F).length})]}),s.jsx("div",{className:"border-t border-gray-300 dark:border-gray-500 pt-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Total Order Value:"}),s.jsx("span",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:Ms(j||0)})]})})]})})]})})()})})]})]});return s.jsx("div",{className:"w-full max-w-none space-y-8 p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"space-y-6 min-w-0",children:[s.jsx("h2",{className:"text-2xl font-bold",children:e==="create"?"Create New Order":"Edit Order"}),s.jsxs("form",{onSubmit:re(Ee,Ze),children:[Be(),s.jsx("div",{className:"flex justify-end items-center pt-6 border-t dark:border-gray-700",children:s.jsxs(pe,{type:"submit",disabled:R||Te.isPending,className:"bg-gray-600 hover:bg-gray-700 text-white font-semibold px-6 py-2.5 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center gap-2",children:[R||Te.isPending?s.jsx(Fr,{className:"h-5 w-5 animate-spin"}):s.jsx(d0,{className:"h-5 w-5"}),"Submit Order"]})})]})]})})},Rbe=()=>s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{}),s.jsx(Nt,{children:s.jsx(WV,{mode:"create"})})]})}),lE=()=>{var w,v,N,j,A;const{id:e}=sa(),[t,r]=m.useState("details"),{data:n,isLoading:a}=Nr({queryKey:["currentUserProfile"],queryFn:async()=>{if(!localStorage.getItem("authToken"))throw new Error("User not authenticated");return xt("/users/me")},staleTime:5*60*1e3,enabled:!!localStorage.getItem("authToken")}),{data:i,isLoading:o,isError:l}=Nr({queryKey:["order",e],queryFn:async()=>{const E=await xt(`/vendor-orders/${e}`),S=E.items.map(_=>{var k,T,O,P,I,M,q,U,re,te,B,H;return{id:String(_.id),productId:String(_.productId),productName:((k=_.product)==null?void 0:k.name)||"Unknown Product",priceAtPurchase:Number(_.priceAtPurchase||0),deliveredQuantity:_.deliveredQuantity!==null&&_.deliveredQuantity!==void 0?Number(_.deliveredQuantity):void 0,receivedQuantity:_.receivedQuantity!==null&&_.receivedQuantity!==void 0?Number(_.receivedQuantity):void 0,supervisorQuantity:_.supervisorQuantity!==null&&_.supervisorQuantity!==void 0?Number(_.supervisorQuantity):void 0,quantity:Number(_.quantity||0),agencyId:(T=_.agency)!=null&&T.id?String(_.agency.id):void 0,agencyName:((O=_.agency)==null?void 0:O.name)||void 0,unit:((P=_.product)==null?void 0:P.unit)||void 0,depotId:(I=_.depot)!=null&&I.id?String(_.depot.id):void 0,depotName:((M=_.depot)==null?void 0:M.name)||void 0,depotCityName:((U=(q=_.depot)==null?void 0:q.city)==null?void 0:U.name)||((re=_.depot)==null?void 0:re.cityName)||(typeof((te=_.depot)==null?void 0:te.city)=="string"?_.depot.city:void 0),depotVariantId:(B=_.depotVariant)!=null&&B.id?String(_.depotVariant.id):void 0,depotVariantName:((H=_.depotVariant)==null?void 0:H.name)||void 0}});return{...E,items:S}}}),d=m.useMemo(()=>(n==null?void 0:n.role)==="SUPERVISOR"||(n==null?void 0:n.role)==="ADMIN",[n==null?void 0:n.role]),u=m.useMemo(()=>i!=null&&i.items?(console.log("Current user profile:",n),console.log("User role:",n==null?void 0:n.role),console.log("Should show supervisor column:",d),(n==null?void 0:n.role)==="AGENCY"&&n.agencyId!=null?i.items.filter(E=>E.agencyId!=null&&String(E.agencyId)===String(n.agencyId)):i.items):[],[i,n,d]),h=m.useMemo(()=>{const E=[];if(!u||u.length===0)return E;const S={};for(const k of u){const T=k.depotCityName||"Unknown City";S[T]||(S[T]=[]),S[T].push(k)}const _=Object.keys(S).sort((k,T)=>k.localeCompare(T));for(const k of _)E.push({city:k,items:S[k]});return E},[u]),p=E=>{switch(E){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"RECEIVED":return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}},g=E=>{switch(E){case"PENDING":return"Pending";case"DELIVERED":return"Delivered";case"RECEIVED":return"Received";default:const S=E;return S?S.charAt(0).toUpperCase()+S.slice(1):"Unknown Status"}},y=E=>{switch(E){case"PENDING":return"Order has been created and is awaiting Farmer action.";case"DELIVERED":return"Order has been marked as delivered by the Farmer.";case"RECEIVED":return"Order has been received and verified.";default:return`Order status is currently ${E||"unknown"}.`}};return o||a?s.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):l?s.jsx("div",{className:"container mx-auto py-10",children:s.jsx("p",{className:"text-center text-red-500",children:"Error loading order details."})}):i?s.jsxs("div",{className:"container mx-auto py-4 md:py-6 space-y-4 md:space-y-6 px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:s.jsx("div",{children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold tracking-tight",children:["Order #",i.poNumber]})})})}),s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsxs("nav",{className:"-mb-px flex flex-wrap space-x-4 sm:space-x-6","aria-label":"Tabs",children:[s.jsx("button",{onClick:()=>r("details"),className:Xe("whitespace-nowrap py-2 md:py-3 px-1 border-b-2 font-medium text-sm",t==="details"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-300":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Order Details"}),(n==null?void 0:n.role)!=="AGENCY"&&s.jsx("button",{onClick:()=>r("timeline"),className:Xe("whitespace-nowrap py-2 md:py-3 px-1 border-b-2 font-medium text-sm",t==="timeline"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-300":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Order Timeline"})]})}),t==="details"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 mt-4 md:mt-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[s.jsxs(yt,{children:[s.jsx(_t,{className:"pb-3",children:s.jsxs(Gt,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(lh,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Order Information"]})}),s.jsx(Nt,{children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Order Number"}),s.jsx("p",{className:"mt-1 text-base sm:text-lg font-semibold truncate",children:i.poNumber})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("p",{className:"mt-1",children:s.jsx(Ir,{className:Xe("font-medium border text-xs px-2.5 py-0.5",p(i.status)),children:g(i.status)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900 dark:text-gray-100",children:Rt(new Date(i.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Delivery Date"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900 dark:text-gray-100",children:Rt(new Date(i.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:i.contactPersonName})]})]})})]}),s.jsxs(yt,{children:[s.jsx(_t,{className:"pb-3",children:s.jsxs(Gt,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(Va,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Order Items"]})}),s.jsx(Nt,{children:s.jsxs("div",{className:"space-y-6",children:[h.map(({city:E,items:S})=>{const _=S.reduce((P,I)=>P+(I.quantity??0),0),k=S.reduce((P,I)=>P+(typeof I.deliveredQuantity=="number"?I.deliveredQuantity:0),0),T=S.reduce((P,I)=>P+(typeof I.receivedQuantity=="number"?I.receivedQuantity:0),0),O=S.reduce((P,I)=>P+(typeof I.supervisorQuantity=="number"?I.supervisorQuantity:0),0);return s.jsxs("div",{className:"rounded-xl border overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:E}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[S.length," item",S.length!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:["Ordered: ",_]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:["Delivered: ",k]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:["Received: ",T]}),d&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:["Supervisor: ",O]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:Xe("w-full",(n==null?void 0:n.role)==="SUPERVISOR"||(n==null?void 0:n.role)==="ADMIN"?"min-w-[800px]":"min-w-[600px]"),children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 sm:px-4 py-3 text-left text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Product"}),s.jsx("th",{className:"px-2 sm:px-4 py-3 text-right text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 w-20 sm:w-24",children:"Ordered"}),s.jsx("th",{className:"px-2 sm:px-4 py-3 text-right text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 w-20 sm:w-24",children:"Delivered"}),s.jsx("th",{className:"px-2 sm:px-4 py-3 text-right text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 w-20 sm:w-24",children:"Received"}),d&&s.jsx("th",{className:"px-2 sm:px-4 py-3 text-right text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 w-20 sm:w-24",children:"Supervisor"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:S.map(P=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-2 sm:px-4 py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 flex-shrink-0 rounded-md bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:s.jsx(Va,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-500"})}),s.jsxs("div",{className:"ml-2 sm:ml-4 min-w-0 flex-1",children:[s.jsxs("p",{className:"font-medium text-xs sm:text-sm text-gray-900 dark:text-gray-100 truncate",children:[P.productName," ",P.depotVariantName&&`(${P.depotVariantName})`]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[P.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",P.depotName]}),P.agencyName&&s.jsxs("div",{className:"truncate text-secondary dark:text-blue-400",children:["Agency: ",P.agencyName]})]})]})]})}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 sm:py-4 text-right text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:P.quantity}),P.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",P.depotVariantName,")"]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3 sm:py-4 text-right text-xs sm:text-sm",children:typeof P.deliveredQuantity=="number"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:P.deliveredQuantity}),P.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",P.depotVariantName,")"]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx("td",{className:"px-2 sm:px-4 py-3 sm:py-4 text-right text-xs sm:text-sm",children:typeof P.receivedQuantity=="number"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:P.receivedQuantity}),P.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",P.depotVariantName,")"]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),d&&s.jsx("td",{className:"px-2 sm:px-4 py-3 sm:py-4 text-right text-xs sm:text-sm",children:typeof P.supervisorQuantity=="number"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:P.supervisorQuantity}),P.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",P.depotVariantName,")"]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})})]},P.id))})]})})]},E)}),h.length===0&&s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No items to display."})]})})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsxs(yt,{children:[s.jsx(_t,{className:"pb-3",children:s.jsxs(Gt,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(Tu,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Vendor Information"]})}),s.jsxs(Nt,{children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-sm sm:text-lg flex-shrink-0",children:(w=i==null?void 0:i.vendor)==null?void 0:w.name.substring(0,2).toUpperCase()}),s.jsx("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:s.jsx("h3",{className:"font-semibold text-sm sm:text-lg truncate",children:(v=i==null?void 0:i.vendor)==null?void 0:v.name})})]}),s.jsx("div",{className:"space-y-3 text-xs sm:text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block",children:"Email:"}),s.jsx("span",{className:"font-medium break-all",children:(N=i==null?void 0:i.vendor)==null?void 0:N.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block",children:"Phone:"}),s.jsx("span",{className:"font-medium",children:(j=i==null?void 0:i.vendor)==null?void 0:j.mobile})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block",children:"Address:"}),s.jsx("span",{className:"font-medium break-words",children:(A=i==null?void 0:i.vendor)==null?void 0:A.address})]})]})})]})]}),s.jsxs(yt,{children:[s.jsx(_t,{className:"pb-3",children:s.jsxs(Gt,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(Zf,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Status Update"]})}),s.jsx(Nt,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"p-3 sm:p-4 rounded-lg bg-gray-50 dark:bg-gray-900",children:[s.jsx("h3",{className:"font-medium mb-2 text-sm sm:text-base",children:"Current Status"}),s.jsx(Ir,{className:Xe("font-medium border text-xs px-2.5 py-0.5",p(i.status)),children:g(i.status)}),s.jsx("p",{className:"mt-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400 leading-relaxed",children:y(i.status)})]})})})]})]})]}),t==="timeline"&&(n==null?void 0:n.role)!=="AGENCY"&&s.jsxs(yt,{className:"mt-4 md:mt-6",children:[s.jsx(_t,{children:s.jsx(Gt,{className:"text-base sm:text-lg md:text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Order Progress Timeline"})}),s.jsx(Nt,{children:s.jsx("div",{className:"relative pl-4 sm:pl-6 space-y-4 before:absolute before:inset-y-0 before:left-4 sm:before:left-6 before:w-0.5 before:bg-gray-300 dark:before:bg-gray-700",children:(()=>{const E=["PENDING","DELIVERED","RECEIVED"],S=E.indexOf(i.status);return[{title:"Order Created",icon:s.jsx(lh,{className:"h-5 w-5 text-white"}),iconBg:"bg-secondary",time:Rt(new Date(i.createdAt),"dd/MM/yyyy"),description:`Order #${i.poNumber} was created with ${i.items.length} product(s).`,stepStatus:"PENDING"},{title:"Order Delivered",activeIcon:s.jsx(vy,{className:"h-5 w-5 text-white"}),activeIconBg:"bg-primary",placeholderIcon:s.jsx(Tu,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),placeholderIconBg:"bg-gray-300 dark:bg-gray-700",time:i.status==="DELIVERED"||i.status==="RECEIVED"?Rt(new Date(i.updatedAt),"dd/MM/yyyy HH:mm"):"Awaiting delivery",description:"Order has been marked as delivered by the Farmer.",stepStatus:"DELIVERED"},{title:"Order Received",activeIcon:s.jsx(NJ,{className:"h-5 w-5 text-white"}),activeIconBg:"bg-purple-500",placeholderIcon:s.jsx(Va,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),placeholderIconBg:"bg-gray-300 dark:bg-gray-700",time:i.status==="RECEIVED"?Rt(new Date(i.updatedAt),"dd/MM/yyyy HH:mm"):"Awaiting confirmation",description:"Order has been received and verified.",stepStatus:"RECEIVED"}].map(k=>{const T=E.indexOf(k.stepStatus);let O,P,I,M;return S===T?(O=k.activeIcon||k.icon,P=k.activeIconBg||k.iconBg,I="bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800 shadow-sm",M="font-semibold text-gray-900 dark:text-gray-100"):S>T?(O=k.activeIcon||k.icon,P=k.activeIconBg||k.iconBg,I="bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800 shadow-sm opacity-80",M="font-semibold text-gray-700 dark:text-gray-300"):(O=k.placeholderIcon||k.icon,P=k.placeholderIconBg||k.iconBg,I="bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 border-dashed opacity-70",M="font-semibold text-gray-600 dark:text-gray-400"),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute left-0 top-2 -ml-4 sm:-ml-6 h-8 w-8 sm:h-10 sm:w-10 rounded-full flex items-center justify-center border-2 sm:border-4 border-white dark:border-gray-900 ${P}`,children:s.jsx("div",{className:"h-4 w-4 sm:h-5 sm:w-5",children:O})}),s.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border shadow-sm ml-6 sm:ml-8 ${I}`,children:[s.jsx("h3",{className:`${M} flex items-center text-sm sm:text-base`,children:k.title}),s.jsx("time",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mt-1 mb-2",children:k.time}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:k.description})]})]},k.title)})})()})})]})]}):s.jsx("div",{className:"container mx-auto py-10",children:s.jsx("p",{className:"text-center text-gray-500",children:"Order data not available."})})},Mbe=()=>{const{id:e}=sa(),t=Cr(),[r,n]=m.useState(null),{data:a,isLoading:i,isError:o}=Nr({queryKey:["order",e],queryFn:async()=>await xt(`/vendor-orders/${e}`)});m.useEffect(()=>{if(a){const d={poNumber:a.poNumber,orderDate:new Date(a.orderDate),deliveryDate:new Date(a.deliveryDate),contactPersonName:a.contactPersonName,vendorId:a.vendorId,notes:a.notes||"",orderItems:a.items.map(u=>({productId:u.productId,quantity:u.quantity,agencyId:u.agencyId||"",depotId:String(u.depotId||""),depotVariantId:String(u.depotVariantId||"")}))};n(d)}},[a]);const l=()=>{t("/admin/orders")};return i?s.jsx("div",{className:"container mx-auto py-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})})}):o?s.jsx("div",{className:"container mx-auto py-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(yt,{className:"bg-red-50 dark:bg-red-950 border-red-100 dark:border-red-900",children:s.jsx(Nt,{className:"p-6 text-center",children:s.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Failed to load order details. Please try again."})})})})}):s.jsxs("div",{className:"container mx-auto py-6",children:[s.jsx("div",{className:"max-w-7xl mx-auto w-full mb-6"}),r&&s.jsx(WV,{mode:"edit",orderId:e,initialData:r,onSuccess:l})]})},Ibe=()=>{var p,g;const{id:e}=sa(),t=Cr(),[r,n]=m.useState({}),a=Vr({mutationFn:y=>{if(!e)throw new Error("Order ID is missing for delivery submission.");return Zs(`/vendor-orders/${e}/record-delivery`,y)},onSuccess:()=>{ce.success("Delivery recorded successfully!"),t("/admin/orders")},onError:y=>{var w,v;ce.error(((v=(w=y==null?void 0:y.response)==null?void 0:w.data)==null?void 0:v.message)||"Failed to record delivery. Please try again."),console.error("Submit delivery error:",y)}}),{data:i,isLoading:o,isError:l}=Nr({queryKey:["order",e,"delivery"],queryFn:async()=>{var N;if(!e)throw new Error("Order ID is undefined");const y=await xt(`/vendor-orders/${e}`),w=y.items.map(j=>{var A,E,S,_,k,T,O,P;return{id:String(j.id),productId:String(j.productId),productName:((A=j.product)==null?void 0:A.name)||"Unknown Product",productUnit:((E=j.product)==null?void 0:E.unit)||"",priceAtPurchase:Number(j.priceAtPurchase||0),quantity:Number(j.quantity||0),agencyId:(S=j.agency)!=null&&S.id?String(j.agency.id):void 0,agencyName:((_=j.agency)==null?void 0:_.name)||void 0,depotId:(k=j.depot)!=null&&k.id?String(j.depot.id):void 0,depotName:((T=j.depot)==null?void 0:T.name)||void 0,depotVariantId:(O=j.depotVariant)!=null&&O.id?String(j.depotVariant.id):void 0,depotVariantName:((P=j.depotVariant)==null?void 0:P.name)||void 0}}),v=((N=y.status)==null?void 0:N.toUpperCase())||"PENDING";return{...y,items:w,status:v}},enabled:!!e});m.useEffect(()=>{if(i){const y=i.items.reduce((w,v)=>(w[v.id]=String(v.quantity),w),{});n(y)}},[i]);const d=(y,w)=>{n(v=>({...v,[y]:w}))},u=async()=>{if(!i||!e){ce.error("Order details are not available. Cannot submit delivery.");return}const y=i.items.map(w=>({orderItemId:w.id,deliveredQuantity:parseInt(r[w.id]||String(w.quantity),10)}));for(const w of y){const v=i.items.find(N=>N.id===w.orderItemId);if(w.deliveredQuantity<0){ce.error(`Delivered quantity for ${(v==null?void 0:v.productName)||"an item"} cannot be negative.`);return}}a.mutate({items:y})},h=(y="")=>{switch(y.toUpperCase()){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"RECEIVED":return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}};return o?s.jsx("div",{className:"p-6",children:"Loading order details..."}):l||!i?s.jsx("div",{className:"p-6 text-red-500",children:"Error loading order details. Please try again."}):s.jsx("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[s.jsxs("div",{className:"lg:w-2/3 space-y-4 md:space-y-6",children:[s.jsxs(yt,{children:[s.jsx(_t,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pb-4 space-y-2 sm:space-y-0",children:s.jsxs(Gt,{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800 dark:text-gray-100 leading-tight",children:["Record Delivery for Order #",i.poNumber]})}),s.jsx(Nt,{className:"space-y-4 md:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 md:gap-x-6 gap-y-3 md:gap-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"PO Number"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:i.poNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Rt(new Date(i.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expected Delivery Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Rt(new Date(i.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx(Ir,{className:Xe("text-xs font-semibold px-2 py-0.5 rounded-full",h(i.status)),children:i.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:i.contactPersonName})]})]})})]}),s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{className:"text-base md:text-xl font-medium text-gray-800 dark:text-gray-100",children:"Order Items"})}),s.jsx(Nt,{children:s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 min-w-[600px]",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[150px]",children:"Product"}),s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[100px]",children:"Agency"}),s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[80px]",children:"Ordered Qty"}),s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[120px]",children:"Delivered Qty"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800/50 divide-y divide-gray-200 dark:divide-gray-700",children:i.items.map(y=>{var w;return s.jsxs("tr",{children:[s.jsxs("td",{className:"px-2 sm:px-4 py-3",children:[s.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:y.productName}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[y.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",y.depotName]}),y.depotVariantName&&s.jsxs("div",{className:"truncate",children:["Variant: ",y.depotVariantName]})]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:s.jsx("div",{className:"truncate",children:y.agencyName||"N/A"})}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-xs sm:text-sm text-right text-gray-500 dark:text-gray-400",children:[s.jsx("div",{className:"font-medium",children:y.quantity}),y.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",y.depotVariantName,")"]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3 text-xs sm:text-sm text-right",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center justify-end space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsx(He,{type:"number",value:r[y.id]||"",onChange:v=>d(y.id,v.target.value),onFocus:v=>v.target.select(),className:"w-20 sm:w-24 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 text-right text-xs sm:text-sm",min:"0",disabled:((w=i==null?void 0:i.status)==null?void 0:w.toUpperCase())==="DELIVERED"}),y.depotVariantName&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[60px] sm:max-w-none",children:y.depotVariantName})]})})]},y.id)})})]})})}),s.jsxs(rf,{className:"flex flex-col items-center sm:items-end pt-4 space-y-3",children:[((p=i==null?void 0:i.status)==null?void 0:p.toUpperCase())==="DELIVERED"&&s.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 text-center sm:text-right",children:"Delivery has already been recorded for this order and cannot be modified."}),s.jsxs(pe,{onClick:u,className:"flex items-center justify-center w-full sm:w-auto",disabled:((g=i==null?void 0:i.status)==null?void 0:g.toUpperCase())==="DELIVERED"||a.isPending,children:[s.jsx(Zf,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:a.isPending?"Submitting...":"Submit Delivery"})]})]})]})]}),s.jsx("div",{className:"lg:w-1/3 space-y-4 md:space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{className:"text-base md:text-xl font-medium text-gray-800 dark:text-gray-100",children:"Farmer Details"})}),s.jsx(Nt,{className:"space-y-3 text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Name"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:i.vendor.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:i.vendor.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Mobile"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm",children:i.vendor.mobile})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm break-words",children:i.vendor.address})]})]})})]})})]})})},Fbe="/subscriptions",Lbe="/product-orders",Bbe=async e=>Kr(`${Lbe}/with-subscriptions`,e),$be=async e=>Fn(`${Fbe}/${e}/cancel`,{}),Ube=async e=>Fn(`/product-orders/${e}/cancel-subscriptions`,{}),Vbe=e=>{const t={DAYS_7:"7 Days",DAYS_15:"15 Days",DAYS_30:"1 Month",DAYS_90:"3 Months"};if(typeof e=="string"&&t[e])return t[e];const r=String(e),n={7:"7 Days",15:"15 Days",30:"1 Month",90:"3 Months"};return n[r]?n[r]:r.startsWith("DAYS_")?r.replace("DAYS_","")+" Days":isNaN(Number(r))?r:`${r} Days`},qbe=(e,t,r,n)=>{let a="";switch(e){case"DAILY":a="Daily";break;case"ALTERNATE_DAYS":a="Alternate Days";break;case"SELECT_DAYS":a=`Selected Days (${(t==null?void 0:t.map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(", "))||"N/A"})`;break;case"VARYING":a="Varying Quantities";break;default:a=e}return e==="VARYING"&&r&&n?`${a} (${r} / ${n})`:r?`${a} - ${r} unit(s)`:a},zbe=()=>{var v,N,j,A,E;const e=yn(),[t,r]=m.useState(!1),[n,a]=m.useState(null),o=(()=>{try{const S=localStorage.getItem("user"),_=localStorage.getItem("authToken");return S&&_?JSON.parse(S):null}catch{return null}})(),l=o==null?void 0:o.id,{data:d,isLoading:u,error:h}=Nr({queryKey:["mySubscriptions",l],queryFn:async()=>{if(!l)throw new Error("User not authenticated");return xt("/subscriptions")},enabled:!!l,refetchOnWindowFocus:!0,refetchOnMount:!0,staleTime:2*60*1e3,gcTime:5*60*1e3}),p=Vr({mutationFn:async S=>await $be(S),onSuccess:()=>{ce.success("Subscription cancelled successfully!"),e.invalidateQueries({queryKey:["mySubscriptions",l]}),r(!1),a(null)},onError:S=>{ce.error(S.message||"Failed to cancel subscription"),r(!1),a(null)}}),g=Vr({mutationFn:async S=>await Ube(S),onSuccess:S=>{var k,T;let _="All order subscriptions cancelled successfully!";(k=S.walletRefund)!=null&&k.success&&S.walletRefund.refundAmount>0?_+=` ₹${S.walletRefund.refundAmount.toFixed(2)} has been refunded to your wallet.`:((T=S.walletRefund)==null?void 0:T.refundAmount)===0&&(_+=" No wallet refund was applicable."),ce.success(_),e.invalidateQueries({queryKey:["mySubscriptions",l]}),r(!1),a(null)},onError:S=>{ce.error(S.message||"Failed to cancel order subscriptions"),r(!1),a(null)}}),y=S=>{a(S),r(!0)},w=()=>{var S;n&&((S=n.productOrder)!=null&&S.id?g.mutate(n.productOrder.id):p.mutate(n.id))};return m.useEffect(()=>{l||e.clear()},[l,e]),l?u?s.jsxs("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:[s.jsx(Fr,{className:"h-12 w-12 animate-spin text-primary"}),s.jsx("p",{className:"ml-3 text-lg text-gray-600",children:"Loading your subscriptions..."})]}):h?s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs(ea,{variant:"destructive",className:"mt-4",children:[s.jsx(Sa,{children:"Error Loading Subscriptions"}),s.jsxs(ta,{children:["We encountered an issue while fetching your subscriptions. Please try again later or contact support if the problem persists.",s.jsxs("p",{className:"mt-2 text-xs",children:["Error: ",h.message]})]})]})}):s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"My Active Subscriptions"}),d&&d.length>0&&s.jsxs("span",{className:"px-3 py-1 text-sm font-semibold text-primary bg-primary-foreground rounded-full",children:[d.length," Active"]})]}),d&&d.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:d==null?void 0:d.map(S=>{var _,k,T;return s.jsxs(yt,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300 ease-in-out rounded-lg overflow-hidden flex flex-col",children:[s.jsx(_t,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:s.jsx(Gt,{className:"text-lg font-semibold text-primary",children:S.product.name})}),s.jsxs(Nt,{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300 p-4 flex-grow",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Quantity:"})," ",S.qty," ",((_=S.product.depotVariant)==null?void 0:_.unit)||S.product.unit||"unit",S.altQty?s.jsxs(s.Fragment,{children:[" ","& ",S.altQty," ",((k=S.product.depotVariant)==null?void 0:k.unit)||S.product.unit||"unit"]}):null]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Period:"})," ",Vbe(S.period)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Starts On:"})," ",Rt(new Date(S.startDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Expires On:"})," ",Rt(new Date(S.expiryDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery:"})," ",qbe(S.deliverySchedule,S.selectedDays,S.qty,S.altQty)]}),S.paymentStatus&&s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," ",s.jsx("span",{className:`capitalize font-medium ${S.paymentStatus==="PAID"?"text-green-600":"text-orange-500"}`,children:S.paymentStatus.toLowerCase()})]}),S.agency&&s.jsxs("p",{children:[s.jsx("strong",{children:"Assigned Agent:"})," ",S.agency.user.name]}),S.deliveryAddress&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivering to:"})," ",S.deliveryAddress.recipientName||"",S.deliveryAddress.recipientName?", ":"",S.deliveryAddress.plotBuilding||"",S.deliveryAddress.plotBuilding&&S.deliveryAddress.streetArea?", ":"",S.deliveryAddress.streetArea||"",","," ",S.deliveryAddress.city,", ",S.deliveryAddress.state," ",S.deliveryAddress.pincode,S.deliveryAddress.landmark?` (${S.deliveryAddress.landmark})`:""]}),S.amount!==void 0&&s.jsxs("p",{className:"font-semibold text-base",children:[s.jsx("strong",{children:"Total Amount:"})," ₹",S.amount.toFixed(2)]})]}),s.jsxs(rf,{className:"p-4 pt-0",children:[S.paymentStatus!=="CANCELLED"&&S.status!=="CANCELLED"&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-2",children:[S.paymentStatus==="PAID"&&s.jsx(Mr,{to:`/manage-subscription/${S.id}`,className:"w-full sm:flex-1",children:s.jsx(pe,{variant:"outline",className:"w-full",children:"Manage"})}),((T=S.productOrder)==null?void 0:T.invoicePath)&&s.jsxs(pe,{onClick:async()=>{var O,P;try{const M=`http://localhost:3000/invoices/${S.productOrder.invoicePath}`,q=await fetch(M);if(!q.ok)throw new Error("Download failed");const U=await q.blob(),re=window.URL.createObjectURL(U),te=document.createElement("a");te.href=re,te.download=`invoice-${((O=S.productOrder)==null?void 0:O.invoiceNo)||((P=S.productOrder)==null?void 0:P.orderNo)}.pdf`,document.body.appendChild(te),te.click(),document.body.removeChild(te),window.URL.revokeObjectURL(re)}catch(I){console.error("Download failed:",I);const q=`http://localhost:3000/invoices/${S.productOrder.invoicePath}`;window.open(q,"_blank")}},variant:"outline",className:"w-full sm:flex-1 flex items-center justify-center gap-2",children:[s.jsx(oc,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Download Invoice"})]}),S.status!=="CANCELLED"&&S.status!=="COMPLETED"&&(S.paymentStatus==="PENDING"||S.paymentStatus==="FAILED"||!S.paymentStatus)&&s.jsxs(pe,{onClick:()=>y(S),variant:"destructive",size:"sm",className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[s.jsx(ai,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Cancel Order"})]})]}),(S.paymentStatus==="CANCELLED"||S.status==="CANCELLED")&&s.jsx("div",{className:"flex items-center justify-center p-3 bg-gray-100 dark:bg-gray-800 rounded-md",children:s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"This subscription has been cancelled"})})]})]},S.id)})}):s.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-10 py-12 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-800/30",children:[s.jsx(hA,{className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-500"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900 dark:text-white",children:"No Active Subscriptions Found"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"It looks like you don't have any active subscriptions at the moment."})]}),s.jsx(Ln,{open:t,onOpenChange:r,children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsxs(Vn,{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-5 w-5 text-destructive"}),"Cancel Order"]}),s.jsxs(qn,{className:"space-y-3",children:[s.jsxs("p",{children:["Are you sure you want to cancel"," ",(v=n==null?void 0:n.productOrder)!=null&&v.id?s.jsxs(s.Fragment,{children:["the entire order #",n.productOrder.orderNo,"?"]}):s.jsxs(s.Fragment,{children:["the subscription for"," ",s.jsx("span",{className:"font-semibold",children:n==null?void 0:n.product.name}),"?"]})]}),((N=n==null?void 0:n.productOrder)==null?void 0:N.id)&&s.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-md",children:[s.jsx("p",{className:"text-sm font-medium text-amber-900",children:"📋 Order Cancellation"}),s.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["This will cancel all subscriptions in order #",n.productOrder.orderNo,", including the subscription for ",n.product.name,"."]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["⚠️ This action cannot be undone. The ",(j=n==null?void 0:n.productOrder)!=null&&j.id?"order":"subscription"," will be cancelled immediately."]})]})]}),s.jsxs(Un,{className:"flex-col sm:flex-row gap-2",children:[s.jsxs(zn,{children:["Keep ",(A=n==null?void 0:n.productOrder)!=null&&A.id?"Order":"Subscription"]}),s.jsxs(aa,{onClick:w,className:"bg-destructive hover:bg-destructive/90",disabled:p.isPending||g.isPending,children:[(p.isPending||g.isPending)&&s.jsx(Fr,{className:"mr-2 h-4 w-4 animate-spin"}),"Cancel ",(E=n==null?void 0:n.productOrder)!=null&&E.id?"Entire Order":"Subscription"]})]})]})})]}):s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs(ea,{variant:"destructive",className:"mt-4",children:[s.jsx(Sa,{children:"Authentication Required"}),s.jsx(ta,{children:"Please log in to view your subscriptions."})]})})},Hbe=e=>{const t={DAYS_7:"7 Days",DAYS_15:"15 Days",DAYS_30:"1 Month",DAYS_90:"3 Months"};if(typeof e=="string"&&t[e])return t[e];const r=String(e),n={7:"7 Days",15:"15 Days",30:"1 Month",90:"3 Months"};return n[r]?n[r]:r.startsWith("DAYS_")?r.replace("DAYS_","")+" Days":isNaN(Number(r))?r:`${r} Days`},Wbe=(e,t,r,n)=>{let a="";switch(e){case"DAILY":a="Daily";break;case"ALTERNATE_DAYS":a="Alternate Days";break;case"SELECT_DAYS":a=`Selected Days (${(t==null?void 0:t.map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(", "))||"N/A"})`;break;case"VARYING":a="Varying Quantities";break;default:a=e}return e==="VARYING"&&r&&n?`${a} (${r} / ${n})`:r?`${a} - ${r} unit(s)`:a},Gbe=async e=>{console.log(`Fetching subscription details for ${e} using apiService...`);try{return await xt(`subscriptions/${e}`)}catch(t){if(t.status===404)return console.warn(t.message),null;throw t}},Ybe=(e,t,r,n)=>{switch(e){case"SKIPPED":return t==="SKIP_BY_CUSTOMER"?"SKIPPED BY YOU":"SKIPPED";case"DELIVERED":return t==="INDRAAI_DELIVERY"?"DELIVERED (INDRAAI)":t==="TRANSFER_TO_AGENT"?"DELIVERED (AGENT)":"DELIVERED";case"NOT_DELIVERED":return"NOT DELIVERED";case"CANCELLED":return"CANCELLED";case"SCHEDULED":return"TODAY";case"PENDING":return"PENDING";default:return e}},Kbe=()=>{var j,A,E,S,_;const{id:e}=sa(),[t,r]=m.useState(null),[n,a]=m.useState({}),[i,o]=m.useState({isOpen:!1,deliveryId:null}),[l,d]=m.useState([]),[u,h]=m.useState(!0),[p,g]=m.useState(null),y=Yc(new Date);m.useEffect(()=>{if(!e){g("Subscription ID is missing."),h(!1);return}(async()=>{h(!0);try{const T=await Gbe(e);T?(r(T),w(T)):g("Subscription not found.")}catch(T){const O=T;g(O.message||"Failed to load subscription details."),console.error("Error in fetchDetails useEffect:",O)}h(!1)})()},[e]);const w=k=>{if(!k.deliveryScheduleEntries||k.deliveryScheduleEntries.length===0){console.warn("No delivery schedule entries received from backend. Displaying empty schedule."),d([]);return}const T=Yc(new Date),O=k.deliveryScheduleEntries.map(P=>{const I=Cfe(P.deliveryDate);let M;switch(P.status){case"SKIPPED":case"SKIP_BY_CUSTOMER":M="SKIPPED";break;case"PENDING":M=I.getTime()===T.getTime()?"SCHEDULED":"PENDING";break;case"DELIVERED":case"INDRAAI_DELIVERY":case"TRANSFER_TO_AGENT":M="DELIVERED";break;case"NOT_DELIVERED":M="NOT_DELIVERED";break;case"CANCELLED":M="CANCELLED";break;default:console.warn(`Unknown delivery status: ${P.status}`),M=I<T?"DELIVERED":I.getTime()===T.getTime()?"SCHEDULED":"PENDING"}return{id:P.id,date:I,status:M,originalStatus:P.status,originalQty:P.quantity}});O.sort((P,I)=>P.date.getTime()-I.date.getTime()),d(O)},v=async()=>{var T,O;if(!i.deliveryId)return;const k=i.deliveryId;a(P=>({...P,[k]:!0})),o({isOpen:!1,deliveryId:null});try{const P=await Fn(`/subscriptions/member/deliveries/${k}/skip`,{});d(I=>I.map(M=>M.id===k?{...M,status:"SKIPPED"}:M)),ce.success(P.message||"Delivery action processed successfully!")}catch(P){console.error("Failed to process delivery skip/refund:",P);const I=((O=(T=P==null?void 0:P.response)==null?void 0:T.data)==null?void 0:O.message)||P.message||"Could not process delivery action. Please try again.";ce.error(I)}a(P=>({...P,[k]:!1}))},N=async k=>{o({isOpen:!0,deliveryId:k})};return u?s.jsxs("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:[s.jsx(Fr,{className:"h-12 w-12 animate-spin text-primary"}),s.jsx("p",{className:"ml-3 text-lg text-gray-600",children:"Loading subscription details..."})]}):p||!t?s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs(ea,{variant:"destructive",className:"mt-4",children:[s.jsx(Sa,{children:"Error"}),s.jsx(ta,{children:p||"Could not load subscription details."})]})}):s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs(yt,{className:"shadow-lg mb-6",children:[s.jsx(_t,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:s.jsx(Gt,{className:"text-xl md:text-2xl font-bold text-primary",children:"Subscription Info"})}),s.jsxs(Nt,{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300 p-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Product:"})," ",t.product.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Quantity:"})," ",t.qty," ",t.product.unit,t.qty>1?"s":"",t.altQty?s.jsxs(s.Fragment,{children:[" ","& ",t.altQty," ",t.product.unit,t.altQty>1?"s":""]}):null]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Period:"})," ",Hbe(t.period)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Starts On:"})," ",Rt(new Date(t.startDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Expires On:"})," ",Rt(new Date(t.expiryDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery:"})," ",Wbe(t.deliverySchedule,t.selectedDays,t.qty,t.altQty)]}),t.paymentStatus&&s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," ",s.jsx("span",{className:`capitalize font-medium ${t.paymentStatus==="PAID"?"text-green-600":"text-orange-500"}`,children:t.paymentStatus.toLowerCase()})]}),t.agency&&s.jsxs("p",{children:[s.jsx("strong",{children:"Assigned Agent:"})," ",t.agency.user.name]}),t.deliveryAddress&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivering to:"})," ",`${((j=t.deliveryAddress)==null?void 0:j.streetArea)&&((A=t.deliveryAddress)==null?void 0:A.streetArea)}, ${((E=t.deliveryAddress)==null?void 0:E.landmark)&&((S=t.deliveryAddress)==null?void 0:S.landmark)}, ${t.deliveryAddress.city}, ${t.deliveryAddress.state} ${t.deliveryAddress.pincode}`]}),t.amount!==void 0&&s.jsxs("p",{className:"font-semibold text-base",children:[s.jsx("strong",{children:"Total Amount:"})," ₹",t.amount.toFixed(2)]})]}),((_=t.productOrder)==null?void 0:_.invoicePath)&&s.jsx("div",{className:"px-4 pb-4",children:s.jsxs(pe,{onClick:()=>{const T=`http://localhost:3000/invoices/${t.productOrder.invoicePath}`;window.open(T)},variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[s.jsx(oc,{className:"h-4 w-4"}),"Download Invoice"]})})]}),s.jsxs(yt,{className:"shadow-lg",children:[s.jsx(_t,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:s.jsxs(Gt,{className:"text-xl md:text-2xl font-bold text-primary",children:["Manage Subscription: ",t.product.name]})}),s.jsxs(Nt,{className:"p-4 md:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center",children:[s.jsx(dA,{className:"mr-2 h-5 w-5 text-primary"})," Delivery Schedule"]}),l.length>0?s.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:l.map((k,T)=>(console.log(`Rendering delivery - ID: ${JSON.stringify(k)}, Status: ${k.status}, Date: ${k.date?k.date.toISOString():"N/A"}, isAfterToday: ${k.date?gp(k.date,y):"N/A"}`),s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-md border ${k.status==="SKIPPED"?"bg-red-50 border-red-200 dark:bg-red-900/30 dark:border-red-700":k.status==="DELIVERED"?"bg-green-50 border-green-200 dark:bg-green-900/30 dark:border-green-700":k.date.getTime()===y.getTime()?"bg-blue-50 border-blue-200 dark:bg-blue-900/30 dark:border-blue-700":"bg-gray-50 border-gray-200 dark:bg-gray-700/30 dark:border-gray-600"}`,children:[s.jsxs("div",{className:"flex items-center",children:[k.status==="SKIPPED"&&s.jsx(Yi,{className:"h-5 w-5 mr-2 text-red-500 flex-shrink-0"}),k.status==="DELIVERED"&&s.jsx(li,{className:"h-5 w-5 mr-2 text-green-500 flex-shrink-0"}),k.status==="NOT_DELIVERED"&&s.jsx(Yi,{className:"h-5 w-5 mr-2 text-orange-500 flex-shrink-0"}),k.status==="CANCELLED"&&s.jsx(Yi,{className:"h-5 w-5 mr-2 text-gray-400 flex-shrink-0"}),(k.status==="PENDING"||k.status==="SCHEDULED")&&s.jsx(dA,{className:"h-5 w-5 mr-2 text-gray-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:Rt(k.date,"EEE, dd/MM/yyyy")}),s.jsx("span",{className:`ml-2 text-xs font-semibold px-2 py-0.5 rounded-full ${k.status==="SKIPPED"?"bg-red-100 text-red-700 dark:bg-red-700 dark:text-red-100":k.status==="DELIVERED"?"bg-green-100 text-green-700 dark:bg-primary dark:text-green-100":k.status==="NOT_DELIVERED"?"bg-orange-100 text-orange-700 dark:bg-orange-700 dark:text-orange-100":k.status==="CANCELLED"?"bg-gray-200 text-gray-600 dark:bg-gray-600 dark:text-gray-300":k.date.getTime()===y.getTime()&&k.status==="SCHEDULED"?"bg-blue-100 text-blue-700 dark:bg-blue-700 dark:text-blue-100":"bg-gray-100 text-gray-700 dark:bg-gray-600 dark:text-gray-200"}`,children:Ybe(k.status,k.originalStatus,k.date)})]})]}),gp(Yc(k.date),y)&&(k.status==="PENDING"||k.status==="SCHEDULED")&&s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>N(k.id),disabled:n[k.id],className:"flex items-center text-sm text-amber-600 hover:bg-amber-50 dark:text-amber-400 dark:hover:bg-amber-900/50 border-amber-300 hover:border-amber-400",children:[n[k.id]?s.jsx(Fr,{className:"mr-1.5 h-4 w-4 animate-spin"}):s.jsx($J,{className:"mr-1.5 h-4 w-4"}),n[k.id]?"Skipping...":"Skip"]}),k.status==="SKIPPED"&&gp(k.date,y)&&s.jsx("span",{className:"text-xs text-red-500 italic ml-auto",children:k.originalStatus==="SKIP_BY_CUSTOMER"?"Skipped by you":"Skipped"})]},T)))}):s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No delivery dates found for this subscription."})]})]}),s.jsx(Ln,{open:i.isOpen,onOpenChange:k=>o({...i,isOpen:k}),children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Are you sure you want to skip this delivery?"}),s.jsx(qn,{children:"This action cannot be undone. Skipping will prevent the delivery for the selected date. If a refund is applicable for a pre-paid delivery, it will be processed automatically to your wallet."})]}),s.jsxs(Un,{children:[s.jsx(zn,{onClick:()=>o({isOpen:!1,deliveryId:null}),children:"Cancel"}),s.jsx(aa,{onClick:v,children:"Confirm Skip"})]})]})})]})},Xbe=()=>{var y,w,v,N;const{id:e}=sa(),t=Cr(),[r,n]=m.useState({}),{data:a,isLoading:i}=Nr({queryKey:["currentUserProfile"],queryFn:async()=>{if(!localStorage.getItem("authToken"))throw new Error("User not authenticated");return xt("/api/users/me")},enabled:!!localStorage.getItem("authToken")}),o=Vr({mutationFn:j=>{if(!e)throw new Error("Order ID is missing for receipt submission.");return Zs(`/vendor-orders/${e}/record-receipt`,j)},onSuccess:()=>{ce.success("Receipt recorded successfully!"),z5.invalidateQueries({queryKey:["order",e]}),z5.invalidateQueries({queryKey:["orders"]}),t("/admin/orders")},onError:j=>{var A,E;ce.error(((E=(A=j==null?void 0:j.response)==null?void 0:A.data)==null?void 0:E.message)||"Failed to record receipt. Please try again."),console.error("Submit receipt error:",j)}}),{data:l,isLoading:d,isError:u}=Nr({queryKey:["order",e,"receipt"],queryFn:async()=>{var S;if(!e)throw new Error("Order ID is undefined");const j=await xt(`/vendor-orders/${e}`),A=j.items.map(_=>{var k,T,O,P,I,M,q;return{id:String(_.id),productId:String(_.productId),productName:((k=_.product)==null?void 0:k.name)||"Unknown Product",priceAtPurchase:Number(_.priceAtPurchase||0),quantity:Number(_.quantity||0),deliveredQuantity:_.deliveredQuantity!==null&&_.deliveredQuantity!==void 0?Number(_.deliveredQuantity):void 0,agencyId:(T=_.agency)!=null&&T.id?String(_.agency.id):void 0,agencyName:((O=_.agency)==null?void 0:O.name)||void 0,depotId:(P=_.depot)!=null&&P.id?String(_.depot.id):void 0,depotName:((I=_.depot)==null?void 0:I.name)||void 0,depotVariantId:(M=_.depotVariant)!=null&&M.id?String(_.depotVariant.id):void 0,depotVariantName:((q=_.depotVariant)==null?void 0:q.name)||void 0}}),E=((S=j.status)==null?void 0:S.toUpperCase())||"PENDING";return{...j,items:A,status:E}},enabled:!!e});m.useEffect(()=>{if(l){const j=l.items.reduce((A,E)=>(A[E.id]=String(E.deliveredQuantity??E.quantity),A),{});n(j)}},[l]);const h=(j,A)=>{n(E=>({...E,[j]:A}))},p=()=>{if(!l||!l.items||!a){ce.error("Order data or user profile is not loaded yet.");return}let j=null;a.role==="AGENCY"&&a.agencyId!=null&&(j=new Set(l.items.filter(E=>E.agencyId!=null&&String(E.agencyId)===String(a.agencyId)).map(E=>E.id)));const A=Object.entries(r).filter(([E])=>j?j.has(E):!0).map(([E,S])=>{const _=l.items.find(T=>T.id===E);if(!_)return null;const k=parseInt(S,10);return isNaN(k)||k<0?(ce.info(`Invalid quantity for item ${_.productName}. Please enter a valid non-negative number.`),null):{orderItemId:E,receivedQuantity:k}}).filter(E=>E!==null);if(A.length===0){ce.info(a.role==="AGENCY"?"No quantities entered for your agency's items, or all quantities are invalid. Nothing to submit.":"No quantities entered or all quantities are invalid. Nothing to submit.");return}o.mutate({items:A})},g=(j="")=>{switch(j.toUpperCase()){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800";case"PARTIALLY_RECEIVED":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800";case"RECEIVED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}};return d||i?s.jsx("div",{className:"p-6",children:"Loading order details..."}):u||!l?s.jsx("div",{className:"p-6 text-red-500",children:"Error loading order details. Please try again."}):s.jsx("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[s.jsx("div",{className:"lg:w-2/3 space-y-4 md:space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pb-4 space-y-2 sm:space-y-0",children:s.jsxs(Gt,{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800 dark:text-gray-100 leading-tight",children:["Record Receipt for Order #",l.poNumber]})}),s.jsxs(Nt,{className:"space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 md:gap-x-6 gap-y-3 md:gap-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"PO Number"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:l.poNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Rt(new Date(l.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expected Delivery Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Rt(new Date(l.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx(Ir,{className:Xe("text-xs font-semibold px-2 py-0.5 rounded-full",g(l.status)),children:l.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:l.contactPersonName})]})]}),s.jsxs("div",{className:"space-y-2 pt-4",children:[s.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-800 dark:text-gray-100",children:"Order Items"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400",children:"Enter the quantity received for each item."})]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm min-w-[600px]",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 sm:px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[140px]",children:"Product"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Ordered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Delivered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[120px]",children:"Received Qty"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:((a==null?void 0:a.role)==="AGENCY"&&(a==null?void 0:a.agencyId)!=null?((l==null?void 0:l.items)||[]).filter(j=>j.agencyId!=null&&String(j.agencyId)===String(a.agencyId)):(l==null?void 0:l.items)||[]).map(j=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-gray-800 dark:text-gray-200",children:[s.jsx("div",{className:"font-medium text-xs sm:text-sm truncate",children:j.productName}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[j.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",j.depotName]}),j.depotVariantName&&s.jsxs("div",{className:"truncate",children:["Variant: ",j.depotVariantName]}),j.agencyName&&s.jsxs("div",{className:"truncate",children:["Agency: ",j.agencyName]})]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:j.quantity}),j.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",j.depotVariantName,")"]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:j.deliveredQuantity!=null?j.deliveredQuantity:"N/A"}),j.deliveredQuantity!=null&&j.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",j.depotVariantName,")"]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center justify-end space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsx(He,{type:"number",value:r[j.id]||"",onChange:A=>h(j.id,A.target.value),className:"w-20 sm:w-24 text-right dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 text-xs sm:text-sm",min:"0"}),j.depotVariantName&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[60px] sm:max-w-none",children:j.depotVariantName})]})})]},j.id))})]})})]}),s.jsxs(rf,{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 md:pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs(pe,{variant:"outline",onClick:()=>t(-1),className:"flex-1 sm:flex-none order-2 sm:order-1",disabled:o.isPending||i,children:[s.jsx(Hl,{className:"h-4 w-4 mr-1.5"})," Cancel"]}),s.jsxs(pe,{onClick:p,disabled:o.isPending||Object.keys(r).length===0||i,className:"flex items-center justify-center flex-1 sm:flex-none order-1 sm:order-2",children:[s.jsx(Zf,{className:"h-4 w-4 mr-1.5"}),s.jsx("span",{className:"truncate",children:o.isPending?"Submitting...":"Submit Receipt"})]})]})]})}),s.jsx("div",{className:"lg:w-1/3 space-y-4 md:space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{className:"text-base md:text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Farmer Details"})}),s.jsx(Nt,{className:"space-y-3 text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Name"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(y=l==null?void 0:l.vendor)==null?void 0:y.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(w=l==null?void 0:l.vendor)==null?void 0:w.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Mobile"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm",children:(v=l==null?void 0:l.vendor)==null?void 0:v.mobile})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm break-words",children:(N=l==null?void 0:l.vendor)==null?void 0:N.address})]})]})})]})})]})})},z5=new nT,Qbe=()=>{var v,N,j,A;const{id:e}=sa(),t=Cr(),[r,n]=m.useState({}),[a,i]=m.useState(!1),{data:o,isLoading:l}=Nr({queryKey:["currentUserProfile"],queryFn:async()=>{if(!localStorage.getItem("authToken"))throw new Error("User not authenticated");return xt("/api/users/me")},enabled:!!localStorage.getItem("authToken")}),d=Vr({mutationFn:E=>{if(!e)throw new Error("Order ID is missing for supervisor quantity submission.");return Zs(`/vendor-orders/${e}/record-supervisor-quantity`,E)},onSuccess:()=>{ce.success("Supervisor quantity recorded successfully!"),H5.invalidateQueries({queryKey:["order",e]}),H5.invalidateQueries({queryKey:["orders"]}),t("/admin/orders")},onError:E=>{var S,_;ce.error(((_=(S=E==null?void 0:E.response)==null?void 0:S.data)==null?void 0:_.message)||"Failed to record supervisor quantity. Please try again."),console.error("Submit supervisor quantity error:",E)}}),{data:u,isLoading:h,isError:p}=Nr({queryKey:["order",e,"supervisor-quantity"],queryFn:async()=>{var k;if(!e)throw new Error("Order ID is undefined");const E=await xt(`/vendor-orders/${e}`),S=E.items.map(T=>{var O,P,I,M,q,U,re;return{id:String(T.id),productId:String(T.productId),productName:((O=T.product)==null?void 0:O.name)||"Unknown Product",priceAtPurchase:Number(T.priceAtPurchase||0),quantity:Number(T.quantity||0),deliveredQuantity:T.deliveredQuantity!==null&&T.deliveredQuantity!==void 0?Number(T.deliveredQuantity):void 0,receivedQuantity:T.receivedQuantity!==null&&T.receivedQuantity!==void 0?Number(T.receivedQuantity):void 0,supervisorQuantity:T.supervisorQuantity!==null&&T.supervisorQuantity!==void 0?Number(T.supervisorQuantity):void 0,agencyId:(P=T.agency)!=null&&P.id?String(T.agency.id):void 0,agencyName:((I=T.agency)==null?void 0:I.name)||void 0,depotId:(M=T.depot)!=null&&M.id?String(T.depot.id):void 0,depotName:((q=T.depot)==null?void 0:q.name)||void 0,depotVariantId:(U=T.depotVariant)!=null&&U.id?String(T.depotVariant.id):void 0,depotVariantName:((re=T.depotVariant)==null?void 0:re.name)||void 0}}),_=((k=E.status)==null?void 0:k.toUpperCase())||"PENDING";return{...E,items:S,status:_}},enabled:!!e});m.useEffect(()=>{if(u){const E=u.items.reduce((_,k)=>(_[k.id]=String(k.supervisorQuantity??0),_),{});n(E);const S=u.items.some(_=>_.supervisorQuantity!==null&&_.supervisorQuantity!==void 0);i(S)}},[u]);const g=(E,S)=>{n(_=>({..._,[E]:S}))},y=()=>{if(!u||!u.items||!o){ce.error("Order data or user profile is not loaded yet.");return}const E=Object.entries(r).map(([S,_])=>{const k=u.items.find(O=>O.id===S);if(!k)return null;const T=parseInt(_,10);return isNaN(T)||T<0?(ce.info(`Invalid quantity for item ${k.productName}. Please enter a valid non-negative number.`),null):{orderItemId:S,supervisorQuantity:T}}).filter(S=>S!==null);if(E.length===0){ce.info("No quantities entered or all quantities are invalid. Nothing to submit.");return}d.mutate({items:E})},w=(E="")=>{switch(E.toUpperCase()){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800";case"PARTIALLY_RECEIVED":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800";case"RECEIVED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}};return h||l?s.jsx("div",{className:"p-6",children:"Loading order details..."}):p||!u?s.jsx("div",{className:"p-6 text-red-500",children:"Error loading order details. Please try again."}):s.jsx("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[s.jsx("div",{className:"lg:w-2/3 space-y-4 md:space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pb-4 space-y-2 sm:space-y-0",children:s.jsxs(Gt,{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800 dark:text-gray-100 leading-tight",children:["Record Supervisor Quantity for Order #",u.poNumber]})}),s.jsxs(Nt,{className:"space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 md:gap-x-6 gap-y-3 md:gap-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"PO Number"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:u.poNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Rt(new Date(u.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expected Delivery Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Rt(new Date(u.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx(Ir,{className:Xe("text-xs font-semibold px-2 py-0.5 rounded-full",w(u.status)),children:u.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:u.contactPersonName})]})]}),s.jsxs("div",{className:"space-y-2 pt-4",children:[s.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-800 dark:text-gray-100",children:"Order Items"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400",children:"Enter the supervisor quantity for each item. This cannot exceed the received quantity."})]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 sm:px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[140px]",children:"Product"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Ordered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Delivered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Received"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[120px]",children:"Supervisor Qty"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:((u==null?void 0:u.items)||[]).map(E=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-gray-800 dark:text-gray-200",children:[s.jsx("div",{className:"font-medium text-xs sm:text-sm truncate",children:E.productName}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[E.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",E.depotName]}),E.depotVariantName&&s.jsxs("div",{className:"truncate",children:["Variant: ",E.depotVariantName]}),E.agencyName&&s.jsxs("div",{className:"truncate",children:["Agency: ",E.agencyName]})]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:E.quantity}),E.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",E.depotVariantName,")"]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:E.deliveredQuantity!=null?E.deliveredQuantity:"N/A"}),E.deliveredQuantity!=null&&E.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",E.depotVariantName,")"]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:E.receivedQuantity!=null?E.receivedQuantity:"N/A"}),E.receivedQuantity!=null&&E.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",E.depotVariantName,")"]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center justify-end space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsx(He,{type:"number",value:r[E.id]||"",onChange:S=>g(E.id,S.target.value),className:"w-20 sm:w-24 text-right dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 text-xs sm:text-sm",min:"0",disabled:a}),E.depotVariantName&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[60px] sm:max-w-none",children:E.depotVariantName})]})})]},E.id))})]})})]}),s.jsxs(rf,{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 md:pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs(pe,{variant:"outline",onClick:()=>t(-1),className:"flex-1 sm:flex-none order-2 sm:order-1",disabled:d.isPending||l,children:[s.jsx(Hl,{className:"h-4 w-4 mr-1.5"})," Back"]}),s.jsxs(pe,{onClick:y,disabled:d.isPending||Object.keys(r).length===0||l||a,className:"flex items-center justify-center flex-1 sm:flex-none order-1 sm:order-2",children:[s.jsx(Zf,{className:"h-4 w-4 mr-1.5"}),s.jsx("span",{className:"truncate",children:d.isPending?"Submitting...":a?"Quantities Recorded":"Submit Supervisor Quantity"})]})]})]})}),s.jsx("div",{className:"lg:w-1/3 space-y-4 md:space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{className:"text-base md:text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Farmer Details"})}),s.jsx(Nt,{className:"space-y-3 text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Name"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(v=u==null?void 0:u.vendor)==null?void 0:v.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(N=u==null?void 0:u.vendor)==null?void 0:N.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Mobile"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm",children:(j=u==null?void 0:u.vendor)==null?void 0:j.mobile})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm break-words",children:(A=u==null?void 0:u.vendor)==null?void 0:A.address})]})]})})]})})]})})},H5=new nT,Zbe=async(e,t,r,n,a,i)=>{const o=i&&i.length>0?`&tags=${i.join(",")}`:"",l=await xt(`/products?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&limit=${a}${o}`);return Array.isArray(l),l},Jbe=()=>{const e=yn(),t=Cr(),n=Ga().pathname.includes("/admin/"),[a,i]=m.useState(1),[o,l]=m.useState(10),[d,u]=m.useState("createdAt"),[h,p]=m.useState("desc"),[g,y]=m.useState(""),[w,v]=m.useState([]),[N,j]=m.useState(!1);m.useEffect(()=>{try{const V=localStorage.getItem("user");if(V){const ae=JSON.parse(V);ae&&ae.role==="ADMIN"&&j(!0)}}catch(V){console.error("Failed to parse user data from localStorage",V)}},[]);const[A,E]=m.useState(!1),[S,_]=m.useState(null),{data:k,isLoading:T,isError:O,error:P}=Nr({queryKey:["products",a,d,h,g,o,w],queryFn:()=>Zbe(a,d,h,g,o,w),placeholderData:V=>V}),I=Array.isArray(k)?k:(k==null?void 0:k.data)||[],M=Array.isArray(k)?Math.ceil(k.length/o):(k==null?void 0:k.totalPages)||1,q=Array.isArray(k)?k.length:(k==null?void 0:k.totalRecords)||0,U=je.useMemo(()=>{const V=new Set;return I.forEach(ae=>{ae.tags&&ae.tags.split(",").map(se=>se.trim()).filter(se=>se.length>0).forEach(se=>V.add(se))}),Array.from(V).sort()},[I]),re=Vr({mutationFn:V=>Tn(`/products/${V}`),onSuccess:()=>{ce.success("Product deleted successfully!"),e.invalidateQueries({queryKey:["products"]}),E(!1),_(null)},onError:V=>{ce.error(`Failed to delete product: ${V.message}`),E(!1),_(null)}}),te=V=>{d===V?p(h==="asc"?"desc":"asc"):(u(V),p("asc")),i(1)},B=V=>{y(V.target.value),i(1)},H=V=>{_(V),E(!0)},R=()=>{S!==null&&re.mutate(S)},X=V=>d===V?h==="asc"?s.jsx(Ul,{size:16}):s.jsx(ri,{size:16}):null,W=V=>{i(V)},Y=V=>{l(V),i(1)},F=V=>{v(ae=>{const Q=ae.includes(V)?ae.filter(se=>se!==V):[...ae,V];return i(1),Q})},z=V=>{v(ae=>ae.filter(Q=>Q!==V)),i(1)},K=()=>{v([]),i(1)};return O?s.jsxs("div",{className:"text-red-500 p-4",children:["Error fetching products: ",(P==null?void 0:P.message)||"Unknown error"]}):s.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[s.jsxs(yt,{children:[s.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Gt,{children:"Products"}),s.jsx(Ea,{children:"Manage your product inventory."})]}),s.jsxs("div",{className:"mb-4 flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"relative w-full max-w-sm",children:[s.jsx(qs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(He,{type:"search",value:g,onChange:B,className:"pl-8 w-full",placeholder:"Search products..."})]}),U.length>0&&s.jsxs(cc,{children:[s.jsx(dc,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:"gap-2",children:[s.jsx(Th,{size:16}),"Tags",w.length>0&&s.jsx(Ir,{variant:"secondary",className:"ml-1",children:w.length})]})}),s.jsx(uc,{className:"w-80",align:"start",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium",children:"Filter by Tags"}),w.length>0&&s.jsx(pe,{variant:"ghost",size:"sm",onClick:K,children:"Clear All"})]}),s.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:U.map(V=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sc,{id:`tag-${V}`,checked:w.includes(V),onCheckedChange:()=>F(V)}),s.jsx(ye,{htmlFor:`tag-${V}`,className:"text-sm font-normal cursor-pointer",children:V})]},V))})]})})]}),s.jsxs(pe,{onClick:()=>t("/admin/products/create"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(Xs,{size:18,className:"mr-2"}),"Add Product"]})]}),w.length>0&&s.jsxs("div",{className:"mb-4 flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Filtered by:"}),w.map(V=>s.jsxs(Ir,{variant:"secondary",className:"gap-1 cursor-pointer hover:bg-secondary/80",onClick:()=>z(V),children:[V,s.jsx(ai,{size:12})]},V))]})]}),s.jsxs(Nt,{children:[T&&I.length===0?s.jsx("div",{className:"flex justify-center items-center py-24",children:s.jsx($p,{size:30,className:"animate-spin text-blue-600"})}):!T&&I.length===0?s.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-center",children:[s.jsxs("div",{className:"mb-3 text-muted-foreground",children:[s.jsx(qs,{size:40,className:"mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No products found"})]}),s.jsx("p",{className:"mb-6 text-muted-foreground max-w-sm",children:g?"Try a different search term.":"Get started by adding your first product."}),s.jsxs(pe,{onClick:()=>t("/admin/products/create"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(Xs,{size:16,className:"mr-2"}),"Add Product"]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsxs(Ye,{onClick:()=>te("name"),className:"cursor-pointer hover:bg-muted/50 transition-colors min-w-[150px]",children:["Name ",X("name")]}),s.jsx(Ye,{className:"min-w-[200px]",children:"Tags"}),s.jsx(Ye,{className:"text-right",children:"Actions"})]})}),s.jsx(Ls,{children:I.map(V=>s.jsxs(rr,{children:[s.jsx($e,{className:"font-medium cursor-pointer hover:text-blue-600 hover:underline",title:V.name,onClick:()=>t(n?`/admin/products/${V.id}`:`/member/products/${V.id}`),children:V.name}),s.jsx($e,{className:"text-right",children:s.jsxs(Ih,{modal:!1,children:[s.jsx(Fh,{asChild:!0,children:s.jsx(pe,{variant:"ghost",size:"sm",children:s.jsx(wy,{size:16})})}),s.jsx(Lh,{align:"end",children:s.jsxs(nN,{children:[s.jsxs(mn,{onClick:()=>t(n?`/admin/products/${V.id}`:`/member/products/${V.id}`),children:[s.jsx(qc,{size:14,className:"mr-2"})," View"]}),s.jsxs(mn,{onClick:()=>t(`/admin/products/edit/${V.id}`),children:[s.jsx(Ya,{size:14,className:"mr-2"})," Edit"]}),s.jsxs(mn,{onClick:()=>H(V.id),className:"text-red-600 hover:!text-red-700",children:[s.jsx(Qs,{size:14,className:"mr-2"})," Delete"]})]})})]})})]},V.id))})]})}),I.length>0&&s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center",children:[s.jsx("div",{className:"mb-4 sm:mb-0 text-sm text-muted-foreground",children:`Showing ${I.length>0?(a-1)*o+1:0} to ${Math.min(a*o,q)} of ${q} records`}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Rows:"}),s.jsxs(It,{value:o.toString(),onValueChange:V=>{const ae=parseInt(V,10);isNaN(ae)||Y(ae)},children:[s.jsx(Lt,{className:"h-8 w-[70px]",children:s.jsx(Ft,{placeholder:o.toString()})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"5",children:"5"}),s.jsx(Je,{value:"10",children:"10"}),s.jsx(Je,{value:"20",children:"20"}),s.jsx(Je,{value:"50",children:"50"})]})]})]}),M>1&&s.jsx(Wy,{currentPage:a,totalPages:M,onPageChange:W,totalRecords:q,recordsPerPage:o,onRecordsPerPageChange:Y})]})]})]})]}),s.jsx(v0,{isOpen:A,title:"Delete Product",description:"Are you sure you want to delete this product? This action cannot be undone.",onCancel:()=>{E(!1),_(null)},onConfirm:R,confirmLabel:"Delete Product"})]})},W4=m.createContext({});function G4(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const Y4=typeof window<"u",GV=Y4?m.useLayoutEffect:m.useEffect,jN=m.createContext(null),K4=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class e1e extends m.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=n instanceof HTMLElement&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function t1e({children:e,isPresent:t,anchorX:r}){const n=m.useId(),a=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=m.useContext(K4);return m.useInsertionEffect(()=>{const{width:l,height:d,top:u,left:h,right:p}=i.current;if(t||!a.current||!l||!d)return;const g=r==="left"?`left: ${h}`:`right: ${p}`;a.current.dataset.motionPopId=n;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${d}px !important;
            ${g}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[t]),s.jsx(e1e,{isPresent:t,childRef:a,sizeRef:i,children:m.cloneElement(e,{ref:a})})}const r1e=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const d=G4(s1e),u=m.useId();let h=!0,p=m.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:r,custom:a,onExitComplete:g=>{d.set(g,!0);for(const y of d.values())if(!y)return;n&&n()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[r,d,n]);return i&&h&&(p={...p}),m.useMemo(()=>{d.forEach((g,y)=>d.set(y,!1))},[r]),m.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(t1e,{isPresent:r,anchorX:l,children:e})),s.jsx(jN.Provider,{value:p,children:e})};function s1e(){return new Map}function YV(e=!0){const t=m.useContext(jN);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=m.useId();m.useEffect(()=>{if(e)return a(i)},[e]);const o=m.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const Pb=e=>e.key||"";function W5(e){const t=[];return m.Children.forEach(e,r=>{m.isValidElement(r)&&t.push(r)}),t}const n1e=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[d,u]=YV(o),h=m.useMemo(()=>W5(e),[e]),p=o&&!d?[]:h.map(Pb),g=m.useRef(!0),y=m.useRef(h),w=G4(()=>new Map),[v,N]=m.useState(h),[j,A]=m.useState(h);GV(()=>{g.current=!1,y.current=h;for(let _=0;_<j.length;_++){const k=Pb(j[_]);p.includes(k)?w.delete(k):w.get(k)!==!0&&w.set(k,!1)}},[j,p.length,p.join("-")]);const E=[];if(h!==v){let _=[...h];for(let k=0;k<j.length;k++){const T=j[k],O=Pb(T);p.includes(O)||(_.splice(k,0,T),E.push(T))}return i==="wait"&&E.length&&(_=E),A(W5(_)),N(h),null}const{forceRender:S}=m.useContext(W4);return s.jsx(s.Fragment,{children:j.map(_=>{const k=Pb(_),T=o&&!d?!1:h===j||p.includes(k),O=()=>{if(w.has(k))w.set(k,!0);else return;let P=!0;w.forEach(I=>{I||(P=!1)}),P&&(S==null||S(),A(y.current),o&&(u==null||u()),n&&n())};return s.jsx(r1e,{isPresent:T,initial:!g.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:O,anchorX:l,children:_},k)})})};function X4(e,t){e.indexOf(t)===-1&&e.push(t)}function Q4(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const od=(e,t,r)=>r>t?t:r<e?e:r;let Z4=()=>{};const ld={},KV=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),XV=e=>/^0[^.\s]+$/u.test(e);function J4(e){let t;return()=>(t===void 0&&(t=e()),t)}const To=e=>e,a1e=(e,t)=>r=>t(e(r)),Ky=(...e)=>e.reduce(a1e),Hg=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class e_{constructor(){this.subscriptions=[]}add(t){return X4(this.subscriptions,t),()=>Q4(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yl=e=>e*1e3,Kl=e=>e/1e3;function QV(e,t){return t?e*(1e3/t):0}const ZV=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,i1e=1e-7,o1e=12;function l1e(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=ZV(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>i1e&&++l<o1e);return o}function Xy(e,t,r,n){if(e===t&&r===n)return To;const a=i=>l1e(i,0,1,e,r);return i=>i===0||i===1?i:ZV(a(i),t,n)}const JV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eq=e=>t=>1-e(1-t),tq=Xy(.33,1.53,.69,.99),t_=eq(tq),rq=JV(t_),sq=e=>(e*=2)<1?.5*t_(e):.5*(2-Math.pow(2,-10*(e-1))),r_=e=>1-Math.sin(Math.acos(e)),nq=eq(r_),aq=JV(r_),c1e=Xy(.42,0,1,1),d1e=Xy(0,0,.58,1),iq=Xy(.42,0,.58,1),u1e=e=>Array.isArray(e)&&typeof e[0]!="number",oq=e=>Array.isArray(e)&&typeof e[0]=="number",f1e={linear:To,easeIn:c1e,easeInOut:iq,easeOut:d1e,circIn:r_,circInOut:aq,circOut:nq,backIn:t_,backInOut:rq,backOut:tq,anticipate:sq},h1e=e=>typeof e=="string",G5=e=>{if(oq(e)){Z4(e.length===4);const[t,r,n,a]=e;return Xy(t,r,n,a)}else if(h1e(e))return f1e[e];return e},Rb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Y5={value:null};function m1e(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},d=0;function u(p){o.has(p)&&(h.schedule(p),e()),d++,p(l)}const h={schedule:(p,g=!1,y=!1)=>{const v=y&&a?r:n;return g&&o.add(p),v.has(p)||v.add(p),p},cancel:p=>{n.delete(p),o.delete(p)},process:p=>{if(l=p,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(u),t&&Y5.value&&Y5.value.frameloop[t].push(d),d=0,r.clear(),a=!1,i&&(i=!1,h.process(p))}};return h}const p1e=40;function lq(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Rb.reduce((E,S)=>(E[S]=m1e(i,t?S:void 0),E),{}),{setup:l,read:d,resolveKeyframes:u,preUpdate:h,update:p,preRender:g,render:y,postRender:w}=o,v=()=>{const E=ld.useManualTiming?a.timestamp:performance.now();r=!1,ld.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(E-a.timestamp,p1e),1)),a.timestamp=E,a.isProcessing=!0,l.process(a),d.process(a),u.process(a),h.process(a),p.process(a),g.process(a),y.process(a),w.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(v))},N=()=>{r=!0,n=!0,a.isProcessing||e(v)};return{schedule:Rb.reduce((E,S)=>{const _=o[S];return E[S]=(k,T=!1,O=!1)=>(r||N(),_.schedule(k,T,O)),E},{}),cancel:E=>{for(let S=0;S<Rb.length;S++)o[Rb[S]].cancel(E)},state:a,steps:o}}const{schedule:ln,cancel:Gu,state:ba,steps:cE}=lq(typeof requestAnimationFrame<"u"?requestAnimationFrame:To,!0);let x1;function x1e(){x1=void 0}const Ai={now:()=>(x1===void 0&&Ai.set(ba.isProcessing||ld.useManualTiming?ba.timestamp:performance.now()),x1),set:e=>{x1=e,queueMicrotask(x1e)}},cq=e=>t=>typeof t=="string"&&t.startsWith(e),s_=cq("--"),g1e=cq("var(--"),n_=e=>g1e(e)?y1e.test(e.split("/*")[0].trim()):!1,y1e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,C0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wg={...C0,transform:e=>od(0,1,e)},Mb={...C0,default:1},sg=e=>Math.round(e*1e5)/1e5,a_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v1e(e){return e==null}const b1e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i_=(e,t)=>r=>!!(typeof r=="string"&&b1e.test(r)&&r.startsWith(e)||t&&!v1e(r)&&Object.prototype.hasOwnProperty.call(r,t)),dq=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(a_);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},w1e=e=>od(0,255,e),dE={...C0,transform:e=>Math.round(w1e(e))},Vf={test:i_("rgb","red"),parse:dq("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+dE.transform(e)+", "+dE.transform(t)+", "+dE.transform(r)+", "+sg(Wg.transform(n))+")"};function N1e(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const cC={test:i_("#"),parse:N1e,transform:Vf.transform},Qy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),pu=Qy("deg"),Xl=Qy("%"),vr=Qy("px"),j1e=Qy("vh"),S1e=Qy("vw"),K5={...Xl,parse:e=>Xl.parse(e)/100,transform:e=>Xl.transform(e*100)},np={test:i_("hsl","hue"),parse:dq("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Xl.transform(sg(t))+", "+Xl.transform(sg(r))+", "+sg(Wg.transform(n))+")"},La={test:e=>Vf.test(e)||cC.test(e)||np.test(e),parse:e=>Vf.test(e)?Vf.parse(e):np.test(e)?np.parse(e):cC.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vf.transform(e):np.transform(e)},E1e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function A1e(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(a_))==null?void 0:t.length)||0)+(((r=e.match(E1e))==null?void 0:r.length)||0)>0}const uq="number",fq="color",C1e="var",T1e="var(",X5="${}",_1e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(_1e,d=>(La.test(d)?(n.color.push(i),a.push(fq),r.push(La.parse(d))):d.startsWith(T1e)?(n.var.push(i),a.push(C1e),r.push(d)):(n.number.push(i),a.push(uq),r.push(parseFloat(d))),++i,X5)).split(X5);return{values:r,split:l,indexes:n,types:a}}function hq(e){return Gg(e).values}function mq(e){const{split:t,types:r}=Gg(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===uq?i+=sg(a[o]):l===fq?i+=La.transform(a[o]):i+=a[o]}return i}}const k1e=e=>typeof e=="number"?0:e;function D1e(e){const t=hq(e);return mq(e)(t.map(k1e))}const Yu={test:A1e,parse:hq,createTransformer:mq,getAnimatableNone:D1e};function uE(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function O1e({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,d=2*r-l;a=uE(d,l,e+1/3),i=uE(d,l,e),o=uE(d,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function sw(e,t){return r=>r>0?t:e}const on=(e,t,r)=>e+(t-e)*r,fE=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},P1e=[cC,Vf,np],R1e=e=>P1e.find(t=>t.test(e));function Q5(e){const t=R1e(e);if(!t)return!1;let r=t.parse(e);return t===np&&(r=O1e(r)),r}const Z5=(e,t)=>{const r=Q5(e),n=Q5(t);if(!r||!n)return sw(e,t);const a={...r};return i=>(a.red=fE(r.red,n.red,i),a.green=fE(r.green,n.green,i),a.blue=fE(r.blue,n.blue,i),a.alpha=on(r.alpha,n.alpha,i),Vf.transform(a))},dC=new Set(["none","hidden"]);function M1e(e,t){return dC.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function I1e(e,t){return r=>on(e,t,r)}function o_(e){return typeof e=="number"?I1e:typeof e=="string"?n_(e)?sw:La.test(e)?Z5:B1e:Array.isArray(e)?pq:typeof e=="object"?La.test(e)?Z5:F1e:sw}function pq(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>o_(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function F1e(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=o_(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function L1e(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const B1e=(e,t)=>{const r=Yu.createTransformer(t),n=Gg(e),a=Gg(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?dC.has(e)&&!a.values.length||dC.has(t)&&!n.values.length?M1e(e,t):Ky(pq(L1e(n,a),a.values),r):sw(e,t)};function xq(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?on(e,t,r):o_(e)(e,t)}const $1e=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ln.update(t,r),stop:()=>Gu(t),now:()=>ba.isProcessing?ba.timestamp:Ai.now()}},gq=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},nw=2e4;function l_(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<nw;)t+=r,n=e.next(t);return t>=nw?1/0:t}function U1e(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(l_(n),nw);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Kl(a)}}const V1e=5;function yq(e,t,r){const n=Math.max(t-V1e,0);return QV(r-e(n),t-n)}const pn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},J5=.001;function q1e({duration:e=pn.duration,bounce:t=pn.bounce,velocity:r=pn.velocity,mass:n=pn.mass}){let a,i,o=1-t;o=od(pn.minDamping,pn.maxDamping,o),e=od(pn.minDuration,pn.maxDuration,Kl(e)),o<1?(a=u=>{const h=u*o,p=h*e,g=h-r,y=uC(u,o),w=Math.exp(-p);return J5-g/y*w},i=u=>{const p=u*o*e,g=p*r+r,y=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-p),v=uC(Math.pow(u,2),o);return(-a(u)+J5>0?-1:1)*((g-y)*w)/v}):(a=u=>{const h=Math.exp(-u*e),p=(u-r)*e+1;return-.001+h*p},i=u=>{const h=Math.exp(-u*e),p=(r-u)*(e*e);return h*p});const l=5/e,d=H1e(a,i,l);if(e=Yl(e),isNaN(d))return{stiffness:pn.stiffness,damping:pn.damping,duration:e};{const u=Math.pow(d,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const z1e=12;function H1e(e,t,r){let n=r;for(let a=1;a<z1e;a++)n=n-e(n)/t(n);return n}function uC(e,t){return e*Math.sqrt(1-t*t)}const W1e=["duration","bounce"],G1e=["stiffness","damping","mass"];function eM(e,t){return t.some(r=>e[r]!==void 0)}function Y1e(e){let t={velocity:pn.velocity,stiffness:pn.stiffness,damping:pn.damping,mass:pn.mass,isResolvedFromDuration:!1,...e};if(!eM(e,G1e)&&eM(e,W1e))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*od(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:pn.mass,stiffness:a,damping:i}}else{const r=q1e(e);t={...t,...r,mass:pn.mass},t.isResolvedFromDuration=!0}return t}function aw(e=pn.visualDuration,t=pn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:d,damping:u,mass:h,duration:p,velocity:g,isResolvedFromDuration:y}=Y1e({...r,velocity:-Kl(r.velocity||0)}),w=g||0,v=u/(2*Math.sqrt(d*h)),N=o-i,j=Kl(Math.sqrt(d/h)),A=Math.abs(N)<5;n||(n=A?pn.restSpeed.granular:pn.restSpeed.default),a||(a=A?pn.restDelta.granular:pn.restDelta.default);let E;if(v<1){const _=uC(j,v);E=k=>{const T=Math.exp(-v*j*k);return o-T*((w+v*j*N)/_*Math.sin(_*k)+N*Math.cos(_*k))}}else if(v===1)E=_=>o-Math.exp(-j*_)*(N+(w+j*N)*_);else{const _=j*Math.sqrt(v*v-1);E=k=>{const T=Math.exp(-v*j*k),O=Math.min(_*k,300);return o-T*((w+v*j*N)*Math.sinh(O)+_*N*Math.cosh(O))/_}}const S={calculatedDuration:y&&p||null,next:_=>{const k=E(_);if(y)l.done=_>=p;else{let T=_===0?w:0;v<1&&(T=_===0?Yl(w):yq(E,_,k));const O=Math.abs(T)<=n,P=Math.abs(o-k)<=a;l.done=O&&P}return l.value=l.done?o:k,l},toString:()=>{const _=Math.min(l_(S),nw),k=gq(T=>S.next(_*T).value,_,30);return _+"ms "+k},toTransition:()=>{}};return S}aw.applyToOptions=e=>{const t=U1e(e,100,aw);return e.ease=t.ease,e.duration=Yl(t.duration),e.type="keyframes",e};function fC({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:d,restDelta:u=.5,restSpeed:h}){const p=e[0],g={done:!1,value:p},y=O=>l!==void 0&&O<l||d!==void 0&&O>d,w=O=>l===void 0?d:d===void 0||Math.abs(l-O)<Math.abs(d-O)?l:d;let v=r*t;const N=p+v,j=o===void 0?N:o(N);j!==N&&(v=j-p);const A=O=>-v*Math.exp(-O/n),E=O=>j+A(O),S=O=>{const P=A(O),I=E(O);g.done=Math.abs(P)<=u,g.value=g.done?j:I};let _,k;const T=O=>{y(g.value)&&(_=O,k=aw({keyframes:[g.value,w(g.value)],velocity:yq(E,O,g.value),damping:a,stiffness:i,restDelta:u,restSpeed:h}))};return T(0),{calculatedDuration:null,next:O=>{let P=!1;return!k&&_===void 0&&(P=!0,S(O),T(O)),_!==void 0&&O>=_?k.next(O-_):(!P&&S(O),g)}}}function K1e(e,t,r){const n=[],a=r||ld.mix||xq,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||To:t;l=Ky(d,l)}n.push(l)}return n}function X1e(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(Z4(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=K1e(t,n,a),d=l.length,u=h=>{if(o&&h<e[0])return t[0];let p=0;if(d>1)for(;p<e.length-2&&!(h<e[p+1]);p++);const g=Hg(e[p],e[p+1],h);return l[p](g)};return r?h=>u(od(e[0],e[i-1],h)):u}function Q1e(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Hg(0,t,n);e.push(on(r,1,a))}}function Z1e(e){const t=[0];return Q1e(t,e.length-1),t}function J1e(e,t){return e.map(r=>r*t)}function ewe(e,t){return e.map(()=>t||iq).splice(0,e.length-1)}function ng({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=u1e(n)?n.map(G5):G5(n),i={done:!1,value:t[0]},o=J1e(r&&r.length===t.length?r:Z1e(t),e),l=X1e(o,t,{ease:Array.isArray(a)?a:ewe(t,a)});return{calculatedDuration:e,next:d=>(i.value=l(d),i.done=d>=e,i)}}const twe=e=>e!==null;function c_(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(twe),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const rwe={decay:fC,inertia:fC,tween:ng,keyframes:ng,spring:aw};function vq(e){typeof e.type=="string"&&(e.type=rwe[e.type])}class d_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const swe=e=>e/100;class u_ extends d_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==Ai.now()&&this.tick(Ai.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;vq(t);const{type:r=ng,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const d=r||ng;d!==ng&&typeof l[0]!="number"&&(this.mixKeyframes=Ky(swe,xq(l[0],l[1])),l=[0,100]);const u=d({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=l_(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:h,repeat:p,repeatType:g,repeatDelay:y,type:w,onUpdate:v,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const j=this.currentTime-u*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let E=this.currentTime,S=n;if(p){const O=Math.min(this.currentTime,a)/l;let P=Math.floor(O),I=O%1;!I&&O>=1&&(I=1),I===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(g==="reverse"?(I=1-I,y&&(I-=y/l)):g==="mirror"&&(S=o)),E=od(0,1,I)*l}const _=A?{done:!1,value:h[0]}:S.next(E);i&&(_.value=i(_.value));let{done:k}=_;!A&&d!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return T&&w!==fC&&(_.value=c_(h,this.options,N,this.speed)),v&&v(_.value),T&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return Kl(this.calculatedDuration)}get time(){return Kl(this.currentTime)}set time(t){var r;t=Yl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ai.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Kl(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=$1e,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ai.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function nwe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const qf=e=>e*180/Math.PI,hC=e=>{const t=qf(Math.atan2(e[1],e[0]));return mC(t)},awe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:hC,rotateZ:hC,skewX:e=>qf(Math.atan(e[1])),skewY:e=>qf(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},mC=e=>(e=e%360,e<0&&(e+=360),e),tM=hC,rM=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sM=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),iwe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rM,scaleY:sM,scale:e=>(rM(e)+sM(e))/2,rotateX:e=>mC(qf(Math.atan2(e[6],e[5]))),rotateY:e=>mC(qf(Math.atan2(-e[2],e[0]))),rotateZ:tM,rotate:tM,skewX:e=>qf(Math.atan(e[4])),skewY:e=>qf(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nM(e){return e.includes("scale")?1:0}function pC(e,t){if(!e||e==="none")return nM(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=iwe,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=awe,a=l}if(!a)return nM(t);const i=n[t],o=a[1].split(",").map(lwe);return typeof i=="function"?i(o):o[i]}const owe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return pC(r,t)};function lwe(e){return parseFloat(e.trim())}const T0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_0=new Set(T0),aM=e=>e===C0||e===vr,cwe=new Set(["x","y","z"]),dwe=T0.filter(e=>!cwe.has(e));function uwe(e){const t=[];return dwe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const rh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>pC(t,"x"),y:(e,{transform:t})=>pC(t,"y")};rh.translateX=rh.x;rh.translateY=rh.y;const sh=new Set;let xC=!1,gC=!1,yC=!1;function bq(){if(gC){const e=Array.from(sh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=uwe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}gC=!1,xC=!1,sh.forEach(e=>e.complete(yC)),sh.clear()}function wq(){sh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(gC=!0)})}function fwe(){yC=!0,wq(),bq(),yC=!1}class f_{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(sh.add(this),xC||(xC=!0,ln.read(wq),ln.resolveKeyframes(bq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}nwe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),sh.delete(this)}cancel(){this.state==="scheduled"&&(sh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hwe=e=>e.startsWith("--");function mwe(e,t,r){hwe(t)?e.style.setProperty(t,r):e.style[t]=r}const pwe=J4(()=>window.ScrollTimeline!==void 0),xwe={};function gwe(e,t){const r=J4(e);return()=>xwe[t]??r()}const Nq=gwe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qx=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,iM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qx([0,.65,.55,1]),circOut:Qx([.55,0,1,.45]),backIn:Qx([.31,.01,.66,-.59]),backOut:Qx([.33,1.53,.69,.99])};function jq(e,t){if(e)return typeof e=="function"?Nq()?gq(e,t):"ease-out":oq(e)?Qx(e):Array.isArray(e)?e.map(r=>jq(r,t)||iM.easeOut):iM[e]}function ywe(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:d}={},u=void 0){const h={[t]:r};d&&(h.offset=d);const p=jq(l,a);Array.isArray(p)&&(h.easing=p);const g={delay:n,duration:a,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),e.animate(h,g)}function Sq(e){return typeof e=="function"&&"applyToOptions"in e}function vwe({type:e,...t}){return Sq(e)&&Nq()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class bwe extends d_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:d}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Z4(typeof t.type!="string");const u=vwe(t);this.animation=ywe(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=c_(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):mwe(r,n,h),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Kl(Number(t))}get time(){return Kl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Yl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&pwe()?(this.animation.timeline=t,To):r(this)}}const Eq={anticipate:sq,backInOut:rq,circInOut:aq};function wwe(e){return e in Eq}function Nwe(e){typeof e.ease=="string"&&wwe(e.ease)&&(e.ease=Eq[e.ease])}const oM=10;class jwe extends bwe{constructor(t){Nwe(t),vq(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new u_({...o,autoplay:!1}),d=Yl(this.finishedTime??this.time);r.setWithVelocity(l.sample(d-oM).value,l.sample(d).value,oM),l.stop()}}const lM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yu.test(e)||e==="0")&&!e.startsWith("url("));function Swe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Ewe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=lM(a,t),l=lM(i,t);return!o||!l?!1:Swe(e)||(r==="spring"||Sq(r))&&n}const Awe=new Set(["opacity","clipPath","filter","transform"]),Cwe=J4(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Twe(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=t.owner.getProps();return Cwe()&&r&&Awe.has(r)&&(r!=="transform"||!d)&&!l&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const _we=40;class kwe extends d_{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:d,motionValue:u,element:h,...p}){var w;super(),this.stop=()=>{var v,N;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Ai.now();const g={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:d,motionValue:u,element:h,...p},y=(h==null?void 0:h.KeyframeResolver)||f_;this.keyframeResolver=new y(l,(v,N,j)=>this.onKeyframesResolved(v,N,g,!j),d,u,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:d,isHandoff:u,onUpdate:h}=n;this.resolvedAt=Ai.now(),Ewe(t,i,o,l)||((ld.instantAnimations||!d)&&(h==null||h(c_(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>_we?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},y=!u&&Twe(g)?new jwe({...g,element:g.motionValue.owner.current}):new u_(g);y.finished.then(()=>this.notifyFinished()).catch(To),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),fwe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Dwe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Owe(e){const t=Dwe.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function Aq(e,t,r=1){const[n,a]=Owe(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return KV(o)?parseFloat(o):o}return n_(a)?Aq(a,t,r+1):a}function h_(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Cq=new Set(["width","height","top","left","right","bottom",...T0]),Pwe={test:e=>e==="auto",parse:e=>e},Tq=e=>t=>t.test(e),_q=[C0,vr,Xl,pu,S1e,j1e,Pwe],cM=e=>_q.find(Tq(e));function Rwe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||XV(e):!0}const Mwe=new Set(["brightness","contrast","saturate","opacity"]);function Iwe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(a_)||[];if(!n)return e;const a=r.replace(n,"");let i=Mwe.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Fwe=/\b([a-z-]*)\(.*?\)/gu,vC={...Yu,getAnimatableNone:e=>{const t=e.match(Fwe);return t?t.map(Iwe).join(" "):e}},dM={...C0,transform:Math.round},Lwe={rotate:pu,rotateX:pu,rotateY:pu,rotateZ:pu,scale:Mb,scaleX:Mb,scaleY:Mb,scaleZ:Mb,skew:pu,skewX:pu,skewY:pu,distance:vr,translateX:vr,translateY:vr,translateZ:vr,x:vr,y:vr,z:vr,perspective:vr,transformPerspective:vr,opacity:Wg,originX:K5,originY:K5,originZ:vr},m_={borderWidth:vr,borderTopWidth:vr,borderRightWidth:vr,borderBottomWidth:vr,borderLeftWidth:vr,borderRadius:vr,radius:vr,borderTopLeftRadius:vr,borderTopRightRadius:vr,borderBottomRightRadius:vr,borderBottomLeftRadius:vr,width:vr,maxWidth:vr,height:vr,maxHeight:vr,top:vr,right:vr,bottom:vr,left:vr,padding:vr,paddingTop:vr,paddingRight:vr,paddingBottom:vr,paddingLeft:vr,margin:vr,marginTop:vr,marginRight:vr,marginBottom:vr,marginLeft:vr,backgroundPositionX:vr,backgroundPositionY:vr,...Lwe,zIndex:dM,fillOpacity:Wg,strokeOpacity:Wg,numOctaves:dM},Bwe={...m_,color:La,backgroundColor:La,outlineColor:La,fill:La,stroke:La,borderColor:La,borderTopColor:La,borderRightColor:La,borderBottomColor:La,borderLeftColor:La,filter:vC,WebkitFilter:vC},kq=e=>Bwe[e];function Dq(e,t){let r=kq(e);return r!==vC&&(r=Yu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const $we=new Set(["auto","none","0"]);function Uwe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!$we.has(i)&&Gg(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=Dq(r,a)}class Vwe extends f_{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let u=t[d];if(typeof u=="string"&&(u=u.trim(),n_(u))){const h=Aq(u,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Cq.has(n)||t.length!==2)return;const[a,i]=t,o=cM(a),l=cM(i);if(o!==l)if(aM(o)&&aM(l))for(let d=0;d<t.length;d++){const u=t[d];typeof u=="string"&&(t[d]=parseFloat(u))}else rh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Rwe(t[a]))&&n.push(a);n.length&&Uwe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=rh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([d,u])=>{t.getValue(d).set(u)}),this.resolveNoneKeyframes()}}function qwe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const uM=30,zwe=e=>!isNaN(parseFloat(e));class Hwe{constructor(t,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var o,l;const i=Ai.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();a&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ai.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=zwe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new e_);const n=this.events[t].add(r);return t==="change"?()=>{n(),ln.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ai.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>uM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,uM);return QV(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kp(e,t){return new Hwe(e,t)}const Oq=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:p_}=lq(queueMicrotask,!1),Go={x:!1,y:!1};function Pq(){return Go.x||Go.y}function Wwe(e){return e==="x"||e==="y"?Go[e]?null:(Go[e]=!0,()=>{Go[e]=!1}):Go.x||Go.y?null:(Go.x=Go.y=!0,()=>{Go.x=Go.y=!1})}function Rq(e,t){const r=qwe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function fM(e){return!(e.pointerType==="touch"||Pq())}function Gwe(e,t,r={}){const[n,a,i]=Rq(e,r),o=l=>{if(!fM(l))return;const{target:d}=l,u=t(d,l);if(typeof u!="function"||!d)return;const h=p=>{fM(p)&&(u(p),d.removeEventListener("pointerleave",h))};d.addEventListener("pointerleave",h,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const Mq=(e,t)=>t?e===t?!0:Mq(e,t.parentElement):!1,x_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ywe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kwe(e){return Ywe.has(e.tagName)||e.tabIndex!==-1}const g1=new WeakSet;function hM(e){return t=>{t.key==="Enter"&&e(t)}}function hE(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Xwe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=hM(()=>{if(g1.has(r))return;hE(r,"down");const a=hM(()=>{hE(r,"up")}),i=()=>hE(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function mM(e){return x_(e)&&!Pq()}function Qwe(e,t,r={}){const[n,a,i]=Rq(e,r),o=l=>{const d=l.currentTarget;if(!mM(l))return;g1.add(d);const u=t(d,l),h=(y,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),g1.has(d)&&g1.delete(d),mM(y)&&typeof u=="function"&&u(y,{success:w})},p=y=>{h(y,d===window||d===document||r.useGlobalTarget||Mq(d,y.target))},g=y=>{h(y,!1)};window.addEventListener("pointerup",p,a),window.addEventListener("pointercancel",g,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l instanceof HTMLElement&&(l.addEventListener("focus",u=>Xwe(u,a)),!Kwe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}const Zwe=[..._q,La,Yu],Jwe=e=>Zwe.find(Tq(e)),Iq=m.createContext({strict:!1}),pM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xp={};for(const e in pM)Xp[e]={isEnabled:t=>pM[e].some(r=>!!t[r])};function eNe(e){for(const t in e)Xp[t]={...Xp[t],...e[t]}}const tNe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tNe.has(e)}let Fq=e=>!iw(e);function rNe(e){e&&(Fq=t=>t.startsWith("on")?!iw(t):e(t))}try{rNe(require("@emotion/is-prop-valid").default)}catch{}function sNe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Fq(a)||r===!0&&iw(a)||!t&&!iw(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function nNe(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const SN=m.createContext({});function EN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Yg(e){return typeof e=="string"||Array.isArray(e)}const g_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y_=["initial",...g_];function AN(e){return EN(e.animate)||y_.some(t=>Yg(e[t]))}function Lq(e){return!!(AN(e)||e.variants)}function aNe(e,t){if(AN(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Yg(r)?r:void 0,animate:Yg(n)?n:void 0}}return e.inherit!==!1?t:{}}function iNe(e){const{initial:t,animate:r}=aNe(e,m.useContext(SN));return m.useMemo(()=>({initial:t,animate:r}),[xM(t),xM(r)])}function xM(e){return Array.isArray(e)?e.join(" "):e}const oNe=Symbol.for("motionComponentSymbol");function ap(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function lNe(e,t,r){return m.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ap(r)&&(r.current=n))},[t])}const v_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cNe="framerAppearId",Bq="data-"+v_(cNe),$q=m.createContext({});function dNe(e,t,r,n,a){var v,N;const{visualElement:i}=m.useContext(SN),o=m.useContext(Iq),l=m.useContext(jN),d=m.useContext(K4).reducedMotion,u=m.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,p=m.useContext($q);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&uNe(u.current,r,a,p);const g=m.useRef(!1);m.useInsertionEffect(()=>{h&&g.current&&h.update(r,l)});const y=r[Bq],w=m.useRef(!!y&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,y))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,y)));return GV(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),p_.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,y)}),w.current=!1))}),h}function uNe(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:d,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Uq(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&ap(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:d,layoutRoot:u})}function Uq(e){if(e)return e.options.allowProjection!==!1?e.projection:Uq(e.parent)}function fNe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&eNe(e);function i(l,d){let u;const h={...m.useContext(K4),...l,layoutId:hNe(l)},{isStatic:p}=h,g=iNe(l),y=n(l,p);if(!p&&Y4){mNe();const w=pNe(h);u=w.MeasureLayout,g.visualElement=dNe(a,y,h,t,w.ProjectionNode)}return s.jsxs(SN.Provider,{value:g,children:[u&&g.visualElement?s.jsx(u,{visualElement:g.visualElement,...h}):null,r(a,l,lNe(y,g.visualElement,d),y,p,g.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const o=m.forwardRef(i);return o[oNe]=a,o}function hNe({layoutId:e}){const t=m.useContext(W4).id;return t&&e!==void 0?t+"-"+e:e}function mNe(e,t){m.useContext(Iq).strict}function pNe(e){const{drag:t,layout:r}=Xp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Kg={};function xNe(e){for(const t in e)Kg[t]=e[t],s_(t)&&(Kg[t].isCSSVariable=!0)}function Vq(e,{layout:t,layoutId:r}){return _0.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Kg[e]||e==="opacity")}const Ua=e=>!!(e&&e.getVelocity),gNe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yNe=T0.length;function vNe(e,t,r){let n="",a=!0;for(let i=0;i<yNe;i++){const o=T0[i],l=e[o];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(o.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||r){const u=Oq(l,m_[o]);if(!d){a=!1;const h=gNe[o]||o;n+=`${h}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function b_(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const d in t){const u=t[d];if(_0.has(d)){o=!0;continue}else if(s_(d)){a[d]=u;continue}else{const h=Oq(u,m_[d]);d.startsWith("origin")?(l=!0,i[d]=h):n[d]=h}}if(t.transform||(o||r?n.transform=vNe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:d="50%",originY:u="50%",originZ:h=0}=i;n.transformOrigin=`${d} ${u} ${h}`}}const w_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qq(e,t,r){for(const n in t)!Ua(t[n])&&!Vq(n,r)&&(e[n]=t[n])}function bNe({transformTemplate:e},t){return m.useMemo(()=>{const r=w_();return b_(r,t,e),Object.assign({},r.vars,r.style)},[t])}function wNe(e,t){const r=e.style||{},n={};return qq(n,r,e),Object.assign(n,bNe(e,t)),n}function NNe(e,t){const r={},n=wNe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const jNe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function N_(e){return typeof e!="string"||e.includes("-")?!1:!!(jNe.indexOf(e)>-1||/[A-Z]/u.test(e))}const SNe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ENe={offset:"strokeDashoffset",array:"strokeDasharray"};function ANe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?SNe:ENe;e[i.offset]=vr.transform(-n);const o=vr.transform(t),l=vr.transform(r);e[i.array]=`${o} ${l}`}function zq(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},d,u,h){if(b_(e,l,u),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g}=e;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),a!==void 0&&ANe(p,a,i,o,!1)}const Hq=()=>({...w_(),attrs:{}}),Wq=e=>typeof e=="string"&&e.toLowerCase()==="svg";function CNe(e,t,r,n){const a=m.useMemo(()=>{const i=Hq();return zq(i,t,Wq(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};qq(i,e.style,e),a.style={...i,...a.style}}return a}function TNe(e=!1){return(r,n,a,{latestValues:i},o)=>{const d=(N_(r)?CNe:NNe)(n,i,o,r),u=sNe(n,typeof r=="string",e),h=r!==m.Fragment?{...u,...d,ref:a}:{},{children:p}=n,g=m.useMemo(()=>Ua(p)?p.get():p,[p]);return m.createElement(r,{...h,children:g})}}function gM(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function j_(e,t,r,n){if(typeof t=="function"){const[a,i]=gM(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=gM(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function y1(e){return Ua(e)?e.get():e}function _Ne({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:kNe(r,n,a,e),renderState:t()}}const Gq=e=>(t,r)=>{const n=m.useContext(SN),a=m.useContext(jN),i=()=>_Ne(e,t,n,a);return r?i():G4(i)};function kNe(e,t,r,n){const a={},i=n(e,{});for(const g in i)a[g]=y1(i[g]);let{initial:o,animate:l}=e;const d=AN(e),u=Lq(e);t&&u&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const p=h?l:o;if(p&&typeof p!="boolean"&&!EN(p)){const g=Array.isArray(p)?p:[p];for(let y=0;y<g.length;y++){const w=j_(e,g[y]);if(w){const{transitionEnd:v,transition:N,...j}=w;for(const A in j){let E=j[A];if(Array.isArray(E)){const S=h?E.length-1:0;E=E[S]}E!==null&&(a[A]=E)}for(const A in v)a[A]=v[A]}}}return a}function S_(e,t,r){var i;const{style:n}=e,a={};for(const o in n)(Ua(n[o])||t.style&&Ua(t.style[o])||Vq(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const DNe={useVisualState:Gq({scrapeMotionValuesFromProps:S_,createRenderState:w_})};function Yq(e,t,r){const n=S_(e,t,r);for(const a in e)if(Ua(e[a])||Ua(t[a])){const i=T0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const ONe={useVisualState:Gq({scrapeMotionValuesFromProps:Yq,createRenderState:Hq})};function PNe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...N_(n)?ONe:DNe,preloadedFeatures:e,useRender:TNe(a),createVisualElement:t,Component:n};return fNe(o)}}function Xg(e,t,r){const n=e.getProps();return j_(n,t,r!==void 0?r:n.custom,e)}const bC=e=>Array.isArray(e);function RNe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Kp(r))}function MNe(e){return bC(e)?e[e.length-1]||0:e}function INe(e,t){const r=Xg(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=MNe(i[o]);RNe(e,o,l)}}function FNe(e){return!!(Ua(e)&&e.add)}function wC(e,t){const r=e.getValue("willChange");if(FNe(r))return r.add(t);if(!r&&ld.WillChange){const n=new ld.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Kq(e){return e.props[Bq]}const LNe=e=>e!==null;function BNe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(LNe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const $Ne={type:"spring",stiffness:500,damping:25,restSpeed:10},UNe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),VNe={type:"keyframes",duration:.8},qNe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zNe=(e,{keyframes:t})=>t.length>2?VNe:_0.has(e)?e.startsWith("scale")?UNe(t[1]):$Ne:qNe;function HNe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:d,elapsed:u,...h}){return!!Object.keys(h).length}const E_=(e,t,r,n={},a,i)=>o=>{const l=h_(n,e)||{},d=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Yl(d);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};HNe(l)||Object.assign(h,zNe(e,h)),h.duration&&(h.duration=Yl(h.duration)),h.repeatDelay&&(h.repeatDelay=Yl(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),(ld.instantAnimations||ld.skipAnimations)&&(p=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,p&&!i&&t.get()!==void 0){const g=BNe(h.keyframes,l);if(g!==void 0){ln.update(()=>{h.onUpdate(g),h.onComplete()});return}}return l.isSync?new u_(h):new kwe(h)};function WNe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Xq(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const p=e.getValue(h,e.latestValues[h]??null),g=l[h];if(g===void 0||u&&WNe(u,h))continue;const y={delay:r,...h_(i||{},h)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===w&&!y.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const j=Kq(e);if(j){const A=window.MotionHandoffAnimation(j,h,ln);A!==null&&(y.startTime=A,v=!0)}}wC(e,h),p.start(E_(h,p,g,e.shouldReduceMotion&&Cq.has(h)?{type:!1}:y,e,v));const N=p.animation;N&&d.push(N)}return o&&Promise.all(d).then(()=>{ln.update(()=>{o&&INe(e,o)})}),d}function NC(e,t,r={}){var d;const n=Xg(e,t,r.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Xq(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=a;return GNe(e,t,h+u,p,g,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,h]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function GNe(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,d=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(YNe).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(NC(u,t,{...i,delay:r+d(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function YNe(e,t){return e.sortNodePosition(t)}function KNe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>NC(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=NC(e,t,r);else{const a=typeof t=="function"?Xg(e,t,r.custom):t;n=Promise.all(Xq(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Qq(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const XNe=y_.length;function Zq(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Zq(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<XNe;r++){const n=y_[r],a=e.props[n];(Yg(a)||a===!1)&&(t[n]=a)}return t}const QNe=[...g_].reverse(),ZNe=g_.length;function JNe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>KNe(e,r,n)))}function eje(e){let t=JNe(e),r=yM(),n=!0;const a=d=>(u,h)=>{var g;const p=Xg(e,h,d==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:y,transitionEnd:w,...v}=p;u={...u,...v,...w}}return u};function i(d){t=d(e)}function o(d){const{props:u}=e,h=Zq(e.parent)||{},p=[],g=new Set;let y={},w=1/0;for(let N=0;N<ZNe;N++){const j=QNe[N],A=r[j],E=u[j]!==void 0?u[j]:h[j],S=Yg(E),_=j===d?A.isActive:null;_===!1&&(w=N);let k=E===h[j]&&E!==u[j]&&S;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),A.protectedKeys={...y},!A.isActive&&_===null||!E&&!A.prevProp||EN(E)||typeof E=="boolean")continue;const T=tje(A.prevProp,E);let O=T||j===d&&A.isActive&&!k&&S||N>w&&S,P=!1;const I=Array.isArray(E)?E:[E];let M=I.reduce(a(j),{});_===!1&&(M={});const{prevResolvedValues:q={}}=A,U={...q,...M},re=H=>{O=!0,g.has(H)&&(P=!0,g.delete(H)),A.needsAnimating[H]=!0;const R=e.getValue(H);R&&(R.liveStyle=!1)};for(const H in U){const R=M[H],X=q[H];if(y.hasOwnProperty(H))continue;let W=!1;bC(R)&&bC(X)?W=!Qq(R,X):W=R!==X,W?R!=null?re(H):g.add(H):R!==void 0&&g.has(H)?re(H):A.protectedKeys[H]=!0}A.prevProp=E,A.prevResolvedValues=M,A.isActive&&(y={...y,...M}),n&&e.blockInitialAnimation&&(O=!1),O&&(!(k&&T)||P)&&p.push(...I.map(H=>({animation:H,options:{type:j}})))}if(g.size){const N={};if(typeof u.initial!="boolean"){const j=Xg(e,Array.isArray(u.initial)?u.initial[0]:u.initial);j&&j.transition&&(N.transition=j.transition)}g.forEach(j=>{const A=e.getBaseTarget(j),E=e.getValue(j);E&&(E.liveStyle=!0),N[j]=A??null}),p.push({animation:N})}let v=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(p):Promise.resolve()}function l(d,u){var p;if(r[d].isActive===u)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(g=>{var y;return(y=g.animationState)==null?void 0:y.setActive(d,u)}),r[d].isActive=u;const h=o(d);for(const g in r)r[g].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=yM(),n=!0}}}function tje(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Qq(t,e):!1}function Rf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yM(){return{animate:Rf(!0),whileInView:Rf(),whileHover:Rf(),whileTap:Rf(),whileDrag:Rf(),whileFocus:Rf(),exit:Rf()}}class lf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class rje extends lf{constructor(t){super(t),t.animationState||(t.animationState=eje(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();EN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let sje=0;class nje extends lf{constructor(){super(...arguments),this.id=sje++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const aje={animation:{Feature:rje},exit:{Feature:nje}};function Qg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Zy(e){return{point:{x:e.pageX,y:e.pageY}}}const ije=e=>t=>x_(t)&&e(t,Zy(t));function ag(e,t,r,n){return Qg(e,t,ije(r),n)}function Jq({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function oje({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function lje(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const ez=1e-4,cje=1-ez,dje=1+ez,tz=.01,uje=0-tz,fje=0+tz;function ni(e){return e.max-e.min}function hje(e,t,r){return Math.abs(e-t)<=r}function vM(e,t,r,n=.5){e.origin=n,e.originPoint=on(t.min,t.max,e.origin),e.scale=ni(r)/ni(t),e.translate=on(r.min,r.max,e.origin)-e.originPoint,(e.scale>=cje&&e.scale<=dje||isNaN(e.scale))&&(e.scale=1),(e.translate>=uje&&e.translate<=fje||isNaN(e.translate))&&(e.translate=0)}function ig(e,t,r,n){vM(e.x,t.x,r.x,n?n.originX:void 0),vM(e.y,t.y,r.y,n?n.originY:void 0)}function bM(e,t,r){e.min=r.min+t.min,e.max=e.min+ni(t)}function mje(e,t,r){bM(e.x,t.x,r.x),bM(e.y,t.y,r.y)}function wM(e,t,r){e.min=t.min-r.min,e.max=e.min+ni(t)}function og(e,t,r){wM(e.x,t.x,r.x),wM(e.y,t.y,r.y)}const NM=()=>({translate:0,scale:1,origin:0,originPoint:0}),ip=()=>({x:NM(),y:NM()}),jM=()=>({min:0,max:0}),Sn=()=>({x:jM(),y:jM()});function po(e){return[e("x"),e("y")]}function mE(e){return e===void 0||e===1}function jC({scale:e,scaleX:t,scaleY:r}){return!mE(e)||!mE(t)||!mE(r)}function Lf(e){return jC(e)||rz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rz(e){return SM(e.x)||SM(e.y)}function SM(e){return e&&e!=="0%"}function ow(e,t,r){const n=e-r,a=t*n;return r+a}function EM(e,t,r,n,a){return a!==void 0&&(e=ow(e,a,n)),ow(e,r,n)+t}function SC(e,t=0,r=1,n,a){e.min=EM(e.min,t,r,n,a),e.max=EM(e.max,t,r,n,a)}function sz(e,{x:t,y:r}){SC(e.x,t.translate,t.scale,t.originPoint),SC(e.y,r.translate,r.scale,r.originPoint)}const AM=.999999999999,CM=1.0000000000001;function pje(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&lp(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,sz(e,o)),n&&Lf(i.latestValues)&&lp(e,i.latestValues))}t.x<CM&&t.x>AM&&(t.x=1),t.y<CM&&t.y>AM&&(t.y=1)}function op(e,t){e.min=e.min+t,e.max=e.max+t}function TM(e,t,r,n,a=.5){const i=on(e.min,e.max,a);SC(e,t,r,i,n)}function lp(e,t){TM(e.x,t.x,t.scaleX,t.scale,t.originX),TM(e.y,t.y,t.scaleY,t.scale,t.originY)}function nz(e,t){return Jq(lje(e.getBoundingClientRect(),t))}function xje(e,t,r){const n=nz(e,r),{scroll:a}=t;return a&&(op(n.x,a.offset.x),op(n.y,a.offset.y)),n}const az=({current:e})=>e?e.ownerDocument.defaultView:null,_M=(e,t)=>Math.abs(e-t);function gje(e,t){const r=_M(e.x,t.x),n=_M(e.y,t.y);return Math.sqrt(r**2+n**2)}class iz{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=xE(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=gje(p.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:w}=p,{timestamp:v}=ba;this.history.push({...w,timestamp:v});const{onStart:N,onMove:j}=this.handlers;g||(N&&N(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=pE(g,this.transformPagePoint),ln.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=xE(p.type==="pointercancel"?this.lastMoveEventInfo:pE(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,N),w&&w(p,N)},!x_(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Zy(t),l=pE(o,this.transformPagePoint),{point:d}=l,{timestamp:u}=ba;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=r;h&&h(t,xE(l,this.history)),this.removeListeners=Ky(ag(this.contextWindow,"pointermove",this.handlePointerMove),ag(this.contextWindow,"pointerup",this.handlePointerUp),ag(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gu(this.updatePoint)}}function pE(e,t){return t?{point:t(e.point)}:e}function kM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xE({point:e},t){return{point:e,delta:kM(e,oz(t)),offset:kM(e,yje(t)),velocity:vje(t,.1)}}function yje(e){return e[0]}function oz(e){return e[e.length-1]}function vje(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=oz(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Yl(t)));)r--;if(!n)return{x:0,y:0};const i=Kl(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bje(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?on(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?on(r,e,n.max):Math.min(e,r)),e}function DM(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function wje(e,{top:t,left:r,bottom:n,right:a}){return{x:DM(e.x,r,a),y:DM(e.y,t,n)}}function OM(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Nje(e,t){return{x:OM(e.x,t.x),y:OM(e.y,t.y)}}function jje(e,t){let r=.5;const n=ni(e),a=ni(t);return a>n?r=Hg(t.min,t.max-n,e.min):n>a&&(r=Hg(e.min,e.max-a,t.min)),od(0,1,r)}function Sje(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const EC=.35;function Eje(e=EC){return e===!1?e=0:e===!0&&(e=EC),{x:PM(e,"left","right"),y:PM(e,"top","bottom")}}function PM(e,t,r){return{min:RM(e,t),max:RM(e,r)}}function RM(e,t){return typeof e=="number"?e:e[t]||0}const Aje=new WeakMap;class Cje{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Zy(h).point)},i=(h,p)=>{const{drag:g,dragPropagation:y,onDragStart:w}=this.getProps();if(g&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wwe(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),po(N=>{let j=this.getAxisMotionValue(N).get()||0;if(Xl.test(j)){const{projection:A}=this.visualElement;if(A&&A.layout){const E=A.layout.layoutBox[N];E&&(j=ni(E)*(parseFloat(j)/100))}}this.originPoint[N]=j}),w&&ln.postRender(()=>w(h,p)),wC(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:w,onDrag:v}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:N}=p;if(y&&this.currentDirection===null){this.currentDirection=Tje(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,N),this.updateAxis("y",p.point,N),this.visualElement.render(),v&&v(h,p)},l=(h,p)=>this.stop(h,p),d=()=>po(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new iz(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:az(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&ln.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Ib(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=bje(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&ap(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=wje(n.layoutBox,t):this.constraints=!1,this.elastic=Eje(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&po(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Sje(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ap(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=xje(n,a.root,this.visualElement.getTransformPagePoint());let o=Nje(a.layout.layoutBox,i);if(r){const l=r(oje(o));this.hasMutatedConstraints=!!l,l&&(o=Jq(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},u=po(h=>{if(!Ib(h,r,this.currentDirection))return;let p=d&&d[h]||{};o&&(p={min:0,max:0});const g=a?200:1e6,y=a?40:1e7,w={type:"inertia",velocity:n?t[h]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(h,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return wC(this.visualElement,t),n.start(E_(t,n,0,r,this.visualElement,!1))}stopAnimation(){po(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){po(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){po(r=>{const{drag:n}=this.getProps();if(!Ib(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-on(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ap(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};po(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const d=l.get();a[o]=jje({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),po(o=>{if(!Ib(o,t,null))return;const l=this.getAxisMotionValue(o),{min:d,max:u}=this.constraints[o];l.set(on(d,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Aje.set(this.visualElement,this);const t=this.visualElement.current,r=ag(t,"pointerdown",d=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();ap(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ln.read(n);const o=Qg(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:u})=>{this.isDragging&&u&&(po(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=d[h].translate,p.set(p.get()+d[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=EC,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ib(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Tje(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class _je extends lf{constructor(t){super(t),this.removeGroupControls=To,this.removeListeners=To,this.controls=new Cje(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||To}unmount(){this.removeGroupControls(),this.removeListeners()}}const MM=e=>(t,r)=>{e&&ln.postRender(()=>e(t,r))};class kje extends lf{constructor(){super(...arguments),this.removePointerDownListener=To}onPointerDown(t){this.session=new iz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:az(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:MM(t),onStart:MM(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&ln.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=ag(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const v1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $x={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(vr.test(e))e=parseFloat(e);else return e;const r=IM(e,t.target.x),n=IM(e,t.target.y);return`${r}% ${n}%`}},Dje={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Yu.parse(e);if(a.length>5)return n;const i=Yu.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,d=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=d;const u=on(l,d,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class Oje extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;xNe(Pje),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),v1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ln.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),p_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function lz(e){const[t,r]=YV(),n=m.useContext(W4);return s.jsx(Oje,{...e,layoutGroup:n,switchLayoutGroup:m.useContext($q),isPresent:t,safeToRemove:r})}const Pje={borderRadius:{...$x,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$x,borderTopRightRadius:$x,borderBottomLeftRadius:$x,borderBottomRightRadius:$x,boxShadow:Dje};function Rje(e,t,r){const n=Ua(e)?e:Kp(e);return n.start(E_("",n,t,r)),n.animation}function Mje(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Ije=(e,t)=>e.depth-t.depth;class Fje{constructor(){this.children=[],this.isDirty=!1}add(t){X4(this.children,t),this.isDirty=!0}remove(t){Q4(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ije),this.isDirty=!1,this.children.forEach(t)}}function Lje(e,t){const r=Ai.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Gu(n),e(i-t))};return ln.setup(n,!0),()=>Gu(n)}const cz=["TopLeft","TopRight","BottomLeft","BottomRight"],Bje=cz.length,FM=e=>typeof e=="string"?parseFloat(e):e,LM=e=>typeof e=="number"||vr.test(e);function $je(e,t,r,n,a,i){a?(e.opacity=on(0,r.opacity??1,Uje(n)),e.opacityExit=on(t.opacity??1,0,Vje(n))):i&&(e.opacity=on(t.opacity??1,r.opacity??1,n));for(let o=0;o<Bje;o++){const l=`border${cz[o]}Radius`;let d=BM(t,l),u=BM(r,l);if(d===void 0&&u===void 0)continue;d||(d=0),u||(u=0),d===0||u===0||LM(d)===LM(u)?(e[l]=Math.max(on(FM(d),FM(u),n),0),(Xl.test(u)||Xl.test(d))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=on(t.rotate||0,r.rotate||0,n))}function BM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Uje=dz(0,.5,nq),Vje=dz(.5,.95,To);function dz(e,t,r){return n=>n<e?0:n>t?1:r(Hg(e,t,n))}function $M(e,t){e.min=t.min,e.max=t.max}function fo(e,t){$M(e.x,t.x),$M(e.y,t.y)}function UM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function VM(e,t,r,n,a){return e-=t,e=ow(e,1/r,n),a!==void 0&&(e=ow(e,1/a,n)),e}function qje(e,t=0,r=1,n=.5,a,i=e,o=e){if(Xl.test(t)&&(t=parseFloat(t),t=on(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=on(i.min,i.max,n);e===i&&(l-=t),e.min=VM(e.min,t,r,l,a),e.max=VM(e.max,t,r,l,a)}function qM(e,t,[r,n,a],i,o){qje(e,t[r],t[n],t[a],t.scale,i,o)}const zje=["x","scaleX","originX"],Hje=["y","scaleY","originY"];function zM(e,t,r,n){qM(e.x,t,zje,r?r.x:void 0,n?n.x:void 0),qM(e.y,t,Hje,r?r.y:void 0,n?n.y:void 0)}function HM(e){return e.translate===0&&e.scale===1}function uz(e){return HM(e.x)&&HM(e.y)}function WM(e,t){return e.min===t.min&&e.max===t.max}function Wje(e,t){return WM(e.x,t.x)&&WM(e.y,t.y)}function GM(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function fz(e,t){return GM(e.x,t.x)&&GM(e.y,t.y)}function YM(e){return ni(e.x)/ni(e.y)}function KM(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Gje{constructor(){this.members=[]}add(t){X4(this.members,t),t.scheduleRender()}remove(t){if(Q4(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yje(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:p,rotateY:g,skewX:y,skewY:w}=r;u&&(n=`perspective(${u}px) ${n}`),h&&(n+=`rotate(${h}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),y&&(n+=`skewX(${y}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,d=e.y.scale*t.y;return(l!==1||d!==1)&&(n+=`scale(${l}, ${d})`),n||"none"}const gE=["","X","Y","Z"],Kje={visibility:"hidden"},Xje=1e3;let Qje=0;function yE(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function hz(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Kq(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ln,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&hz(n)}function mz({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Qje++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(e2e),this.nodes.forEach(a2e),this.nodes.forEach(i2e),this.nodes.forEach(t2e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fje)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new e_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Mje(o),this.instance=o;const{layoutId:l,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Lje(p,250),v1.hasAnimatedSinceResize&&(v1.hasAnimatedSinceResize=!1,this.nodes.forEach(QM))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||u2e,{onLayoutAnimationStart:v,onLayoutAnimationComplete:N}=u.getProps(),j=!this.targetLayout||!fz(this.targetLayout,y),A=!p&&g;if(this.options.layoutRoot||this.resumeFrom||A||p&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,A);const E={...h_(w,"layout"),onPlay:v,onComplete:N};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||QM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(o2e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XM);return}this.isUpdating||this.nodes.forEach(s2e),this.isUpdating=!1,this.nodes.forEach(n2e),this.nodes.forEach(Zje),this.nodes.forEach(Jje),this.clearAllSnapshots();const l=Ai.now();ba.delta=od(0,1e3/60,l-ba.timestamp),ba.timestamp=l,ba.isProcessing=!0,cE.update.process(ba),cE.preRender.process(ba),cE.render.process(ba),ba.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,p_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(r2e),this.sharedNodes.forEach(l2e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ni(this.snapshot.measuredBox.x)&&!ni(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!uz(this.projectionDelta),d=this.getTransformTemplate(),u=d?d(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Lf(this.latestValues)||h)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),f2e(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Sn();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(h2e))){const{scroll:h}=this.root;h&&(op(l.x,h.offset.x),op(l.y,h.offset.y))}return l}removeElementScroll(o){var d;const l=Sn();if(fo(l,o),(d=this.scroll)!=null&&d.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&fo(l,o),op(l.x,p.offset.x),op(l.y,p.offset.y))}return l}applyTransform(o,l=!1){const d=Sn();fo(d,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&lp(d,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Lf(h.latestValues)&&lp(d,h.latestValues)}return Lf(this.latestValues)&&lp(d,this.latestValues),d}removeTransform(o){const l=Sn();fo(l,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];if(!u.instance||!Lf(u.latestValues))continue;jC(u.latestValues)&&u.updateSnapshot();const h=Sn(),p=u.measurePageBox();fo(h,p),zM(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Lf(this.latestValues)&&zM(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ba.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=ba.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),og(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Sn(),this.targetWithTransforms=Sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mje(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fo(this.target,this.layout.layoutBox),sz(this.target,this.targetDelta)):fo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),og(this.relativeTargetOrigin,this.target,y.target),fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jC(this.parent.latestValues)||rz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ba.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;fo(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;pje(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Sn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UM(this.prevProjectionDelta.x,this.projectionDelta.x),UM(this.prevProjectionDelta.y,this.projectionDelta.y)),ig(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!KM(this.projectionDelta.x,this.prevProjectionDelta.x)||!KM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ip(),this.projectionDelta=ip(),this.projectionDeltaWithTransform=ip()}setAnimationOrigin(o,l=!1){const d=this.snapshot,u=d?d.latestValues:{},h={...this.latestValues},p=ip();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Sn(),y=d?d.source:void 0,w=this.layout?this.layout.source:void 0,v=y!==w,N=this.getStack(),j=!N||N.members.length<=1,A=!!(v&&!j&&this.options.crossfade===!0&&!this.path.some(d2e));this.animationProgress=0;let E;this.mixTargetDelta=S=>{const _=S/1e3;ZM(p.x,o.x,_),ZM(p.y,o.y,_),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(og(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c2e(this.relativeTarget,this.relativeTargetOrigin,g,_),E&&Wje(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Sn()),fo(E,this.relativeTarget)),v&&(this.animationValues=h,$je(h,u,this.latestValues,_,A,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,d,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(u=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(Gu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ln.update(()=>{v1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Kp(0)),this.currentAnimation=Rje(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xje),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:u,latestValues:h}=o;if(!(!l||!d||!u)){if(this!==o&&this.layout&&u&&pz(this.options.animationType,this.layout.layoutBox,u.layoutBox)){d=this.target||Sn();const p=ni(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+p;const g=ni(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}fo(l,d),lp(l,h),ig(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Gje),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const u=this.getStack();u&&u.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const u={};d.z&&yE("z",o,u,this.animationValues);for(let h=0;h<gE.length;h++)yE(`rotate${gE[h]}`,o,u,this.animationValues),yE(`skew${gE[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Kje;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=y1(o==null?void 0:o.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=y1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Lf(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=Yje(this.projectionDeltaWithTransform,this.treeScale,h),d&&(l.transform=d(h,l.transform));const{x:p,y:g}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?l.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Kg){if(h[y]===void 0)continue;const{correct:w,applyTo:v,isCSSVariable:N}=Kg[y],j=l.transform==="none"?h[y]:w(h[y],u);if(v){const A=v.length;for(let E=0;E<A;E++)l[v[E]]=j}else N?this.options.visualElement.renderState.vars[y]=j:l[y]=j}return this.options.layoutId&&(l.pointerEvents=u===this?y1(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(XM),this.root.sharedNodes.clear()}}}function Zje(e){e.updateLayout()}function Jje(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?po(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],y=ni(g);g.min=n[p].min,g.max=g.min+y}):pz(i,t.layoutBox,n)&&po(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],y=ni(n[p]);g.max=g.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const l=ip();ig(l,n,t.layoutBox);const d=ip();o?ig(d,e.applyTransform(a,!0),t.measuredBox):ig(d,n,t.layoutBox);const u=!uz(l);let h=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const w=Sn();og(w,t.layoutBox,g.layoutBox);const v=Sn();og(v,n,y.layoutBox),fz(w,v)||(h=!0),p.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function e2e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function t2e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function r2e(e){e.clearSnapshot()}function XM(e){e.clearMeasurements()}function s2e(e){e.isLayoutDirty=!1}function n2e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function QM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function a2e(e){e.resolveTargetDelta()}function i2e(e){e.calcProjection()}function o2e(e){e.resetSkewAndRotation()}function l2e(e){e.removeLeadSnapshot()}function ZM(e,t,r){e.translate=on(t.translate,0,r),e.scale=on(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function JM(e,t,r,n){e.min=on(t.min,r.min,n),e.max=on(t.max,r.max,n)}function c2e(e,t,r,n){JM(e.x,t.x,r.x,n),JM(e.y,t.y,r.y,n)}function d2e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const u2e={duration:.45,ease:[.4,0,.1,1]},eI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tI=eI("applewebkit/")&&!eI("chrome/")?Math.round:To;function rI(e){e.min=tI(e.min),e.max=tI(e.max)}function f2e(e){rI(e.x),rI(e.y)}function pz(e,t,r){return e==="position"||e==="preserve-aspect"&&!hje(YM(t),YM(r),.2)}function h2e(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const m2e=mz({attachResizeListener:(e,t)=>Qg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vE={current:void 0},xz=mz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vE.current){const e=new m2e({});e.mount(window),e.setOptions({layoutScroll:!0}),vE.current=e}return vE.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),p2e={pan:{Feature:kje},drag:{Feature:_je,ProjectionNode:xz,MeasureLayout:lz}};function sI(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&ln.postRender(()=>i(t,Zy(t)))}class x2e extends lf{mount(){const{current:t}=this.node;t&&(this.unmount=Gwe(t,(r,n)=>(sI(this.node,n,"Start"),a=>sI(this.node,a,"End"))))}unmount(){}}class g2e extends lf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ky(Qg(this.node.current,"focus",()=>this.onFocus()),Qg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nI(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&ln.postRender(()=>i(t,Zy(t)))}class y2e extends lf{mount(){const{current:t}=this.node;t&&(this.unmount=Qwe(t,(r,n)=>(nI(this.node,n,"Start"),(a,{success:i})=>nI(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const AC=new WeakMap,bE=new WeakMap,v2e=e=>{const t=AC.get(e.target);t&&t(e)},b2e=e=>{e.forEach(v2e)};function w2e({root:e,...t}){const r=e||document;bE.has(r)||bE.set(r,{});const n=bE.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(b2e,{root:e,...t})),n[a]}function N2e(e,t,r){const n=w2e(t);return AC.set(e,r),n.observe(e),()=>{AC.delete(e),n.unobserve(e)}}const j2e={some:0,all:1};class S2e extends lf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:j2e[a]},l=d=>{const{isIntersecting:u}=d;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=u?h:p;g&&g(d)};return N2e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(E2e(t,r))&&this.startObserver()}unmount(){}}function E2e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const A2e={inView:{Feature:S2e},tap:{Feature:y2e},focus:{Feature:g2e},hover:{Feature:x2e}},C2e={layout:{ProjectionNode:xz,MeasureLayout:lz}},CC={current:null},gz={current:!1};function T2e(){if(gz.current=!0,!!Y4)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>CC.current=e.matches;e.addListener(t),t()}else CC.current=!1}const _2e=new WeakMap;function k2e(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Ua(a))e.addValue(n,a);else if(Ua(i))e.addValue(n,Kp(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Kp(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const aI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class D2e{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=f_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ai.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ln.render(this.render,!1,!0))};const{latestValues:d,renderState:u}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=AN(r),this.isVariantNode=Lq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const y=p[g];d[g]!==void 0&&Ua(y)&&y.set(d[g],!1)}}mount(t){this.current=t,_2e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),gz.current||T2e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:CC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gu(this.notifyUpdate),Gu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=_0.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ln.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xp){const r=Xp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<aI.length;n++){const a=aI[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=k2e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Kp(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(KV(n)||XV(n))?n=parseFloat(n):!Jwe(n)&&Yu.test(r)&&(n=Dq(t,r)),this.setBaseTarget(t,Ua(n)?n.get():n)),Ua(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=j_(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ua(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new e_),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class yz extends D2e{constructor(){super(...arguments),this.KeyframeResolver=Vwe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ua(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function vz(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function O2e(e){return window.getComputedStyle(e)}class P2e extends yz{constructor(){super(...arguments),this.type="html",this.renderInstance=vz}readValueFromInstance(t,r){if(_0.has(r))return owe(t,r);{const n=O2e(t),a=(s_(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return nz(t,r)}build(t,r,n){b_(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return S_(t,r,n)}}const bz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function R2e(e,t,r,n){vz(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(bz.has(a)?a:v_(a),t.attrs[a])}class M2e extends yz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(_0.has(r)){const n=kq(r);return n&&n.default||0}return r=bz.has(r)?r:v_(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Yq(t,r,n)}build(t,r,n){zq(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){R2e(t,r,n,a)}mount(t){this.isSVGTag=Wq(t.tagName),super.mount(t)}}const I2e=(e,t)=>N_(e)?new M2e(t):new P2e(t,{allowProjection:e!==m.Fragment}),F2e=PNe({...aje,...A2e,...p2e,...C2e},I2e),Rs=nNe(F2e),L2e="/assets/indraai%20640%20x%20960-BcMlOVct.png",B2e=({images:e,subtitle:t="",description:r="",className:n})=>{const[a,i]=m.useState(0),[o,l]=m.useState(!1),[d,u]=m.useState(!1),h=m.useRef(null);Cr(),m.useEffect(()=>{const y=setTimeout(()=>l(!0),100);return()=>clearTimeout(y)},[]),m.useEffect(()=>{const y=()=>{u(window.innerWidth<436)};return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[]),m.useEffect(()=>{if(e&&e.length>1)return h.current=setInterval(()=>{i(y=>y===e.length-1?0:y+1)},5e3),()=>{h.current&&clearInterval(h.current)}},[e]);const p=y=>{y===0&&l(!0)},g=()=>{const y=document.getElementById("product-detail-section");y&&y.scrollIntoView({behavior:"smooth",block:"start"})};return!e||e.length===0?s.jsx("section",{className:Xe("relative w-full h-screen overflow-hidden flex items-center justify-center bg-gray-200",n),children:s.jsx("div",{className:"text-center",children:s.jsx("p",{children:"Loading Banners..."})})}):s.jsx("section",{className:Xe("relative w-full overflow-hidden",n),children:s.jsxs("div",{className:"relative w-full mx-auto max-sm:w-full max-sm:h-[16rem] max-[439px]:min-h-[39rem] ",style:{maxWidth:"1920px",aspectRatio:"1584 / 632"},children:[s.jsx("div",{className:"absolute inset-0 ",children:e.map((y,w)=>s.jsx("div",{className:Xe("absolute inset-0 transition-opacity duration-1000 ease-in-out","opacity-100"),children:s.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:s.jsx("img",{src:d?L2e:y.src,alt:y.alt,className:"w-full h-full object-cover max-sm:object-fit max-[380px]:object-fit ",onLoad:()=>p(w),loading:w===0?"eager":"lazy"})})},y.id))}),s.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"text-center max-w-4xl mx-auto",children:s.jsxs(Rs.div,{initial:{opacity:1,y:30},animate:{opacity:o?1:0,y:o?1:30},transition:{duration:.8,delay:.2},className:"space-y-6",children:[s.jsx(Rs.h1,{initial:{opacity:1,y:30},animate:{opacity:o?1:0,y:o?1:30},transition:{duration:.8,delay:.6},className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight",children:t}),s.jsx(Rs.p,{initial:{opacity:1,y:20},animate:{opacity:o?1:0,y:o?1:20},transition:{duration:.6,delay:.8},className:"text-lg sm:text-xl text-white/80 max-w-2xl mx-auto leading-relaxed",children:r})]})})}),e.length>1&&s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20",children:s.jsx("div",{className:"flex space-x-2",children:e.map((y,w)=>s.jsx("button",{onClick:()=>i(w),className:Xe("w-3 h-3 rounded-full transition-all duration-300",w===a?"bg-white scale-110":"bg-white/50 hover:bg-white/70"),"aria-label":`Go to image ${w+1}`},w))})}),s.jsx(Rs.div,{initial:{opacity:1,y:20},animate:{opacity:o?1:0,y:o?1:20},transition:{duration:.6,delay:1},className:`absolute bottom-1 left-1/2 transform -translate-x-1/2 z-20 
                     lg:bottom-1 
                     md:bottom-10 
                     sm:bottom-8 
                     max-sm:bottom-6`,children:s.jsx("button",{onClick:g,className:`px-8 py-3 bg-primary text-white font-semibold rounded-full hover:bg-red-400/90 transition-colors duration-300 
                       min-w-[240px] 
                       lg:min-w-[240px] lg:px-8 lg:py-3 lg:text-base
                       md:min-w-[200px] md:px-6 md:py-2.5 md:text-sm
                       sm:min-w-[180px] sm:px-5 sm:py-2 sm:text-sm
                       max-sm:min-w-[150px] max-sm:px-4 max-sm:py-2 max-sm:text-xs`,children:"Join Our Milk Club"})})]})})},wz="/assets/IMG-20250724-WA0006-BCVILs9C.jpg";var cp=(e=>(e.HandDelivery="HandDelivery",e.Courier="Courier",e))(cp||{});const CN="/admin/areamasters",$2e=async e=>Kr(CN,e),U2e=async e=>xt(CN,e),V2e=async(e,t)=>Zs(`${CN}/${e}`,t),q2e=async e=>Tn(`${CN}/${e}`),A_=async()=>(await xt("/api/public/area-masters")).data,kFe=async e=>(await xt(`/api/public/area-masters/by-pincode/${e}`)).data,z2e=e=>{if(!e||e.trim()==="")return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t.map(r=>String(r).trim()).filter(Boolean)}catch{}if(e.includes(","))return e.split(",").map(t=>t.trim()).filter(Boolean);if(e.includes(";"))return e.split(";").map(t=>t.trim()).filter(Boolean);if(e.includes("|"))return e.split("|").map(t=>t.trim()).filter(Boolean);{const t=e.trim().split(/\s+/);return t.length>1?t.filter(Boolean):[e.trim()]}},Qp=(e,t)=>{if(!e||e.length!==6||!/^\d{6}$/.test(e))return{isValid:!1,matchedAreas:[],message:"Please enter a valid 6-digit pincode"};const r=t.filter(n=>z2e(n.pincodes).includes(e));return r.length>0?{isValid:!0,matchedAreas:r,message:`Great! We deliver to ${e}`}:{isValid:!1,matchedAreas:[],message:`We currently do not serve ${e}, but we're expanding!`}},Jy="/api/admin/cities",H2e=async(e={})=>{try{return await xt(Jy,e)}catch(t){throw console.error("Failed to fetch cities:",t),t}},ev=async()=>{try{const e=await xt(Jy,{limit:1e3});return console.log("Response returned ",e),e.cities}catch(e){throw console.error("Failed to fetch cities list:",e),e}},W2e=async e=>{try{return await Kr(Jy,e)}catch(t){throw console.error("Failed to create city:",t),t}},G2e=async(e,t)=>{try{return await Zs(`${Jy}/${e}`,t)}catch(r){throw console.error(`Failed to update city ${e}:`,r),r}},Y2e=async e=>{try{await Tn(`${Jy}/${e}`)}catch(t){throw console.error(`Failed to delete city ${e}:`,t),t}},C_=async e=>{const t=await Kr("/api/leads",e);if(!t.success||!t.data)throw new Error(t.message||"Failed to create lead");return t.data},K2e=ipe,Nz=m.createContext({}),Vo=({...e})=>s.jsx(Nz.Provider,{value:{name:e.name},children:s.jsx(_r,{...e})}),T_=()=>{const e=m.useContext(Nz),t=m.useContext(jz),{getFieldState:r}=qy(),n=s$({name:e.name}),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},jz=m.createContext({});function yi({className:e,...t}){const r=m.useId();return s.jsx(jz.Provider,{value:{id:r},children:s.jsx("div",{"data-slot":"form-item",className:Xe("grid gap-2",e),...t})})}function ho({className:e,...t}){const{error:r,formItemId:n}=T_();return s.jsx(ye,{"data-slot":"form-label","data-error":!!r,className:Xe("data-[error=true]:text-destructive",e),htmlFor:n,...t})}function vi({...e}){const{error:t,formItemId:r,formDescriptionId:n,formMessageId:a}=T_();return s.jsx(Iw,{"data-slot":"form-control",id:r,"aria-describedby":t?`${n} ${a}`:`${n}`,"aria-invalid":!!t,...e})}function nu({className:e,...t}){const{error:r,formMessageId:n}=T_(),a=r?String((r==null?void 0:r.message)??""):t.children;return a?s.jsx("p",{"data-slot":"form-message",id:n,className:Xe("text-destructive text-sm",e),...t,children:a}):null}ys({name:it().min(1,"Name is required").min(2,"Name must be at least 2 characters"),mobile:it().min(1,"Mobile number is required").regex(/^\d{10,}$/,"Mobile number must be at least 10 digits and contain only numbers"),email:it().email("Invalid email address").optional().or(hp("")),plotBuilding:it().min(1,"Flat/House/Plot number is required"),streetArea:it().min(1,"Street/Area name is required"),landmark:it().optional(),pincode:it().min(1,"Pincode is required").regex(/^\d{6}$/,"Pincode must be exactly 6 digits"),city:it().min(1,"City is required"),state:it().min(1,"State is required"),notes:it().optional()});const Sz=({isOpen:e,onOpenChange:t,productName:r,areaName:n,message:a})=>{const i=()=>{t(!1)};return s.jsx(as,{open:e,onOpenChange:t,children:s.jsxs(is,{className:"w-full max-w-md mx-auto p-0 max-h-[90vh] overflow-hidden",children:[s.jsxs(fs,{className:"px-6 py-6 text-center bg-gradient-to-r from-green-50 to-blue-50",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(li,{className:"h-8 w-8 text-green-600"})})}),s.jsx(hs,{className:"text-xl font-semibold text-gray-900 mb-2",children:"Thank You for Your Interest!"}),s.jsx(Ta,{className:"text-gray-600 leading-relaxed",children:a||`We're excited about your interest in ${r||"our dairy products"}${n?` for ${n}`:""}!`})]}),s.jsxs("div",{className:"px-6 py-4",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(al,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"We've noted your location"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Your details have been saved and we're working hard to expand our dairy delivery services to your area."})]})]})}),s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(uA,{className:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-orange-900 mb-1",children:"We'll reach out to you shortly"}),s.jsx("p",{className:"text-sm text-orange-700",children:"Our team will contact you as soon as we begin serving your area. Thank you for your patience!"})]})]})})]}),s.jsx(di,{className:"px-6 py-4 bg-gray-50",children:s.jsx(pe,{onClick:i,className:"w-full bg-primary hover:bg-primary/90 text-white",children:"Got it, Thank You!"})})]})})},__=({isOpen:e,onOpenChange:t,productId:r,productName:n,isDairyProduct:a=!1,message:i,prefilledData:o={},onSuccess:l})=>{const[d,u]=m.useState({name:o.recipientName||"",mobile:o.mobile||"",email:"",plotBuilding:o.plotBuilding||"",streetArea:o.streetArea||"",landmark:o.landmark||"",pincode:o.pincode||"",city:o.city||"Dombivli",state:o.state||"Maharashtra",productId:r,isDairyProduct:a,notes:`Service request for ${n||"product"} in ${o.pincode||"unspecified area"}`}),[h,p]=m.useState({}),[g,y]=m.useState(!1),[w,v]=m.useState(!1);m.useEffect(()=>{u({name:o.recipientName||"",mobile:o.mobile||"",email:"",plotBuilding:o.plotBuilding||"",streetArea:o.streetArea||"",landmark:o.landmark||"",pincode:o.pincode||"",city:o.city||"Dombivli",state:o.state||"Maharashtra",productId:r,isDairyProduct:a,notes:`Service request for ${n||"product"} in ${o.pincode||"unspecified area"}`})},[o,r,n,a]);const N=(S,_)=>{u(k=>({...k,[S]:_})),h[S]&&p(k=>({...k,[S]:""}))},j=()=>{const S={};return d.name.trim()||(S.name="Name is required"),d.mobile.trim()?/^\d{10}$/.test(d.mobile.trim())||(S.mobile="Mobile must be 10 digits"):S.mobile="Mobile is required",d.plotBuilding.trim()||(S.plotBuilding="Plot/Building is required"),d.streetArea.trim()||(S.streetArea="Street/Area is required"),d.pincode.trim()?/^\d{6}$/.test(d.pincode.trim())||(S.pincode="Pincode must be 6 digits"):S.pincode="Pincode is required",d.city.trim()||(S.city="City is required"),d.state.trim()||(S.state="State is required"),p(S),Object.keys(S).length===0},A=async S=>{if(S.preventDefault(),!!j()){y(!0);try{await C_(d),setTimeout(()=>{v(!0),ce.success("Thank you! We'll notify you when service is available in your area.")},2e3),setTimeout(()=>{l==null||l(),t(!1)},2e3)}catch(_){console.error("Failed to submit lead:",_),ce.error("Failed to submit request. Please try again.")}finally{y(!1)}}},E=()=>{t(!1)};return w?s.jsx(as,{open:e,onOpenChange:t,children:s.jsx(is,{className:"w-full max-w-lg mx-auto p-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(li,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Request Submitted Successfully!"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Thank you for your interest! We've saved your details and will contact you as soon as we start serving your area."}),n&&s.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["We'll prioritize ",s.jsx("strong",{children:n})," availability in your region."]})]})]})})}):s.jsx(as,{open:e,onOpenChange:t,children:s.jsxs(is,{className:"w-full max-w-2xl mx-auto p-0 max-h-[90vh] flex flex-col overflow-hidden",children:[s.jsx(fs,{className:"px-6 py-4 border-b bg-gradient-to-r from-blue-50 to-green-50 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(al,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx(hs,{className:"text-lg font-semibold text-gray-900",children:"Request Service in Your Area"}),s.jsx(Ta,{className:"text-sm text-gray-600 mt-1",children:i||"Help us prioritize expanding our delivery network to your location"})]})]})}),s.jsx("div",{className:"p-6 space-y-4 overflow-y-auto flex-1",children:s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[n&&s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Product of Interest:"}),s.jsx("span",{className:"text-sm text-blue-700",children:n}),a&&s.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full",children:"Dairy Product"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"name",className:"text-sm font-medium mb-1 block",children:"Full Name *"}),s.jsx(He,{id:"name",value:d.name,onChange:S=>N("name",S.target.value),placeholder:"Your full name",className:h.name?"border-red-500":""}),h.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.name})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"mobile",className:"text-sm font-medium mb-1 block",children:"Mobile Number *"}),s.jsx(He,{id:"mobile",type:"tel",max:10,value:d.mobile,onChange:S=>{const _=S.target.value.replace(/\D/g,"").slice(0,10);N("mobile",_)},placeholder:"10-digit mobile number",maxLength:10,className:h.mobile?"border-red-500":""}),h.mobile&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.mobile})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"email",className:"text-sm font-medium mb-1 block",children:"Email Address (Optional)"}),s.jsx(He,{id:"email",type:"email",value:d.email,onChange:S=>N("email",S.target.value),placeholder:"your.email@example.com"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"plotBuilding",className:"text-sm font-medium mb-1 block",children:"Plot/Building *"}),s.jsx(He,{id:"plotBuilding",value:d.plotBuilding,onChange:S=>N("plotBuilding",S.target.value),placeholder:"Plot number, building name",className:h.plotBuilding?"border-red-500":""}),h.plotBuilding&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.plotBuilding})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"streetArea",className:"text-sm font-medium mb-1 block",children:"Street/Area *"}),s.jsx(He,{id:"streetArea",value:d.streetArea,onChange:S=>N("streetArea",S.target.value),placeholder:"Street name, area",className:h.streetArea?"border-red-500":""}),h.streetArea&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.streetArea})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"landmark",className:"text-sm font-medium mb-1 block",children:"Landmark (Optional)"}),s.jsx(He,{id:"landmark",value:d.landmark,onChange:S=>N("landmark",S.target.value),placeholder:"Nearby landmark"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"pincode",className:"text-sm font-medium mb-1 block",children:"Pincode *"}),s.jsx(He,{id:"pincode",value:d.pincode,onChange:S=>{const _=S.target.value.replace(/\D/g,"").slice(0,6);N("pincode",_)},placeholder:"6-digit pincode",maxLength:6,className:h.pincode?"border-red-500":""}),h.pincode&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.pincode})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"city",className:"text-sm font-medium mb-1 block",children:"City *"}),s.jsx(He,{id:"city",value:d.city,onChange:S=>N("city",S.target.value),placeholder:"Your city",className:h.city?"border-red-500":""}),h.city&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.city})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"state",className:"text-sm font-medium mb-1 block",children:"State *"}),s.jsxs(It,{value:d.state,onValueChange:S=>N("state",S),children:[s.jsx(Lt,{className:h.state?"border-red-500":"",children:s.jsx(Ft,{placeholder:"Select state"})}),s.jsx(Bt,{className:"max-h-60 overflow-y-auto",children:Gy.map(S=>s.jsx(Je,{value:S.label,children:S.label},S.value))})]}),h.state&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.state})]})]}),s.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:s.jsxs("p",{className:"text-sm text-green-700",children:[s.jsx("strong",{children:"What happens next?"})," We'll review your request and contact you as soon as we expand our delivery services to your area. You'll be among the first customers we serve!"]})})]})}),s.jsx(di,{className:"p-6 border-t bg-gray-50 flex-shrink-0",children:s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:E,disabled:g,className:"flex-1",children:"Cancel"}),s.jsx(pe,{type:"button",onClick:A,disabled:g,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:g?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Request"})]})})]})})},k_=({pincode:e,isValid:t,message:r,isValidating:n=!1,showServiceRequest:a=!1,onRequestService:i})=>n?s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Validating pincode..."})]}):!e||e.length<6?s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-gray-50 border border-gray-200 rounded-md",children:[s.jsx(QF,{className:"h-4 w-4 text-gray-500"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Enter your 6-digit pincode to check delivery availability"})]}):t?s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:[s.jsx(vy,{className:"h-4 w-4 text-green-600"}),s.jsx("p",{className:"text-sm text-green-700",children:r})]}):s.jsxs("div",{className:"mt-2 p-3 bg-orange-50 border border-orange-200 rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ji,{className:"h-4 w-4 text-orange-600"}),s.jsx("p",{className:"text-sm text-orange-700",children:r})]}),a&&i&&s.jsxs(pe,{type:"button",variant:"outline",size:"sm",onClick:i,className:"mt-2 text-white bg-secondary border-secondary hover:bg-secondary",children:[s.jsx(al,{className:"h-4 w-4 mr-2"}),"Click Here to Request Service in Your Area"]})]}),Ez=({isOpen:e,onOpenChange:t,title:r,message:n,orderDetails:a,subscriptionDetails:i})=>{const o=()=>{t(!1)};return s.jsx(as,{open:e,onOpenChange:t,children:s.jsx(is,{className:"w-full max-w-md mx-auto p-0 overflow-hidden",children:s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6",children:[s.jsxs(fs,{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(li,{className:"w-8 h-8 text-green-600"})}),s.jsx(hs,{className:"text-xl font-semibold text-green-800",children:r}),s.jsx("p",{className:"text-green-700 text-sm",children:n})]}),a&&s.jsxs("div",{className:"mt-6 bg-white rounded-lg p-4 space-y-3",children:[s.jsxs("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[s.jsx(Va,{className:"w-4 h-4"}),"Order Details"]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.orderId&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Order ID:"}),s.jsx("span",{className:"font-medium",children:a.orderId})]}),a.productName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Product:"}),s.jsx("span",{className:"font-medium",children:a.productName})]}),a.quantity&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Quantity:"}),s.jsx("span",{className:"font-medium",children:a.quantity})]}),a.deliveryDate&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Delivery Date:"}),s.jsxs("span",{className:"font-medium flex items-center gap-1",children:[s.jsx(ra,{className:"w-3 h-3"}),Rt(a.deliveryDate,"MMM dd, yyyy")]})]}),a.totalAmount&&s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"font-medium",children:"Total Amount:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["₹",a.totalAmount.toFixed(2)]})]})]})]}),i&&s.jsxs("div",{className:"mt-6 bg-white rounded-lg p-4 space-y-3",children:[s.jsxs("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[s.jsx(Va,{className:"w-4 h-4"}),"Subscription Details"]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.subscriptionId&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subscription ID:"}),s.jsx("span",{className:"font-medium",children:i.subscriptionId})]}),i.productName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Product:"}),s.jsx("span",{className:"font-medium",children:i.productName})]}),i.period&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Period:"}),s.jsx("span",{className:"font-medium",children:i.period})]}),i.startDate&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Start Date:"}),s.jsxs("span",{className:"font-medium flex items-center gap-1",children:[s.jsx(ra,{className:"w-3 h-3"}),Rt(i.startDate,"MMM dd, yyyy")]})]}),i.totalAmount&&s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"font-medium",children:"Total Amount:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["₹",i.totalAmount.toFixed(2)]})]})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(pe,{onClick:o,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:"Continue Shopping"})})]})})})},Fb=[{id:"mon",label:"Mon",fullName:"Monday"},{id:"tue",label:"Tue",fullName:"Tuesday"},{id:"wed",label:"Wed",fullName:"Wednesday"},{id:"thu",label:"Thu",fullName:"Thursday"},{id:"fri",label:"Fri",fullName:"Friday"},{id:"sat",label:"Sat",fullName:"Saturday"},{id:"sun",label:"Sun",fullName:"Sunday"}],wE=[{value:3,label:"3 Days (Trial Pack)"},{value:15,label:"15 Days (Mid Saver Pack)"},{value:30,label:"30 Days (Super Saver Pack)"}],X2e=({isOpen:e,onOpenChange:t,product:r,productId:n,depotId:a,selectedDepot:i})=>{var Fe,qe,We,mt,bt;const[o,l]=m.useState(1),[d,u]=m.useState(1),[h,p]=m.useState("daily"),[g,y]=m.useState(()=>{const J=new Date;return J.setDate(J.getDate()+3),J}),[w,v]=m.useState(!1),[N,j]=m.useState(3),[A,E]=m.useState([]),[S,_]=m.useState(!1),[k,T]=m.useState([]),[O,P]=m.useState([]),[I,M]=m.useState(!1),[q,U]=m.useState(null),[re,te]=m.useState("subscriptionDetails"),[B,H]=m.useState({}),[R,X]=m.useState(""),[W,Y]=m.useState(0),[F,z]=m.useState([]),[K,V]=m.useState(!1),[ae,Q]=m.useState(!0),[se,Z]=m.useState(""),[le,Te]=m.useState([]),[Ee,Ze]=m.useState([]),[Be,Ie]=m.useState(null),[Ne,fe]=m.useState([]),[de,ke]=m.useState(null),[Pe,Re]=m.useState([]),[ie,be]=m.useState(!1),[De,lt]=m.useState(""),[at,ze]=m.useState({isValid:!1,message:"",isValidating:!1}),[rt,Mt]=m.useState(!1),[Jt,Br]=m.useState(!1),[ls,xs]=m.useState({});m.useEffect(()=>{const J=ve=>{const Ae=N<15&&ve==="alternate-days",tt=N<7&&ve==="day1-day2",pt=N<30&&ve==="select-days";return Ae||tt||pt?"daily":ve};S?E(ve=>ve.map(Ae=>({...Ae,deliveryOption:J(Ae.deliveryOption)}))):p(J(h))},[N,S]);const[vt,kr]=m.useState({recipientName:"",mobile:R||"",plotBuilding:"",streetArea:"",landmark:"",city:"Dombivli",state:"Maharashtra",pincode:"",isDefault:!1,label:"Home",locationId:void 0}),$t=(J,ve)=>{kr(Ae=>({...Ae,[J]:ve})),B[J]&&H(Ae=>({...Ae,[J]:""})),J==="pincode"&&typeof ve=="string"&&de?Dr(ve):J==="pincode"&&typeof ve=="string"&&!de&&ze({isValid:!1,message:"",isValidating:!1})},Dr=(J,ve)=>{const Ae=ve||de;if(console.log("validatePincode called with:",{pincode:J,currentAreaMaster:Ae==null?void 0:Ae.name}),!J||J.length<6){ze({isValid:!1,message:"",isValidating:!1});return}if(!Ae){ze({isValid:!1,message:"Please select a delivery area first to validate your pincode",isValidating:!1});return}if(J.length===6&&/^\d{6}$/.test(J)){ze({isValid:!1,message:"",isValidating:!0}),console.log("Selected area master pincodes:",Ae.pincodes);const tt=Qp(J,[Ae]);console.log("Pincode validation result:",tt),ze({isValid:tt.isValid,message:tt.isValid?"Great ! We deliver in your location":"Milk Facility is Not available in your pincode. Please check your pincode or select a different area.",isValidating:!1})}else ze({isValid:!1,message:"Please enter a valid 6-digit pincode",isValidating:!1})},qr=()=>{console.log("handleRequestService called with form state:",{pincode:vt.pincode,selectedArea:de==null?void 0:de.name,city:vt.city});const J=de?`We currently don't serve pincode ${vt.pincode} in ${de.name}. Help us prioritize expanding to your area!`:`We currently don't serve pincode ${vt.pincode}. Help us prioritize expanding to your area!`;lt(J),Mt(!0)},Tt=J=>{const{name:ve,value:Ae}=J.target;$t(ve,Ae)},ur=J=>{$t("label",J)},fr=J=>{const ve=Number(J);return Number.isFinite(ve)&&ve>0?ve:void 0},ar=J=>{var ve;return{id:((ve=J.id)==null?void 0:ve.toString())||J.id,name:J.name,mrp:fr(J.mrp),buyOncePrice:fr(J.buyOncePrice),price3Day:fr(J.price3Day),price15Day:fr(J.price15Day),price1Month:fr(J.price1Month),unit:J.name,description:J.description,isAvailable:J.isAvailable??!0}},hr=(J,ve)=>{const Ae=pt=>Number.isFinite(pt)&&pt>0?pt:void 0;let tt;switch(ve){case 3:tt=Ae(J.price3Day);break;case 15:tt=Ae(J.price15Day);break;case 30:tt=Ae(J.price1Month);break}return tt??J.buyOncePrice??J.mrp??0},we=m.useCallback(async(J,ve)=>{if(!(!J||ve==null))try{const Ae=await xt(`/public/depot-variants/${J}?depotId=${ve}`),tt=(Ae==null?void 0:Ae.data)||Ae;if(tt&&Array.isArray(tt)&&tt.length>0){const pt=tt.map(At=>ar(At));T(pt),_(!0),A.length===0&&E([{variantId:pt[0].id,quantity:1,quantityVarying2:1,deliveryOption:"daily",selectedDays:[]}])}else T([]),_(!1)}catch(Ae){console.error("Failed to fetch product variants:",Ae),ce.error("Could not load product variants."),T([]),_(!1)}},[A.length]);m.useEffect(()=>{const J=async()=>{try{const Ae=await A_();fe(Ae),Re(Ae)}catch(Ae){console.error("Failed to fetch area masters:",Ae),ce.error("Could not load delivery areas.")}},ve=async()=>{try{const Ae=await ev();Ze(Ae)}catch(Ae){console.error("Failed to fetch cities:",Ae),ce.error("Could not load cities.")}};e?(n&&a!=null&&we(n,a),J(),ve()):(T([]),_(!1),E([]),Ie(null),ke(null),te("subscriptionDetails"))},[e,n,a,we]),m.useEffect(()=>{if(Be&&Ne.length>0){const J=Ne.filter(ve=>{var Ae;return ve.cityId?ve.cityId===Be:(Ae=ve.city)!=null&&Ae.id?ve.city.id===Be:!1});Re(J)}else Re(Ne)},[Be,Ne]),m.useEffect(()=>{de&&Be&&Pe.length>0&&(Pe.some(ve=>ve.id===de.id)||(ke(null),ze({isValid:!1,message:"",isValidating:!1})))},[Pe,de,Be]),m.useEffect(()=>{de||ze({isValid:!1,message:"",isValidating:!1})},[de]);const ct=(J,ve)=>{E(Ae=>Ae.map(tt=>tt.variantId===J?{...tt,deliveryOption:ve,selectedDays:ve==="select-days"?tt.selectedDays:[]}:tt))},ft=(J,ve)=>{E(Ae=>Ae.map(tt=>{if(tt.variantId===J){const pt=tt.selectedDays.includes(ve)?tt.selectedDays.filter(At=>At!==ve):[...tt.selectedDays,ve];return{...tt,selectedDays:pt}}return tt}))},Et=(J,ve,Ae)=>{E(tt=>tt.map(pt=>pt.variantId===J?{...pt,[ve]:Math.max(1,Ae)}:pt))},er=J=>{switch(J.deliveryOption){case"daily":return N;case"select-days":if(J.selectedDays.length===0)return 0;const ve=J.selectedDays.map(At=>{switch(At){case"mon":return 1;case"tue":return 2;case"wed":return 3;case"thu":return 4;case"fri":return 5;case"sat":return 6;case"sun":return 0;default:return-1}}).filter(At=>At>=0);if(!g)return 0;let Ae=0;const tt=new Date(g),pt=new Date(g);pt.setDate(pt.getDate()+N-1);for(let At=new Date(tt);At<=pt;At.setDate(At.getDate()+1)){const zt=At.getDay();ve.includes(zt)&&Ae++}return Ae;case"day1-day2":return N;case"alternate-days":return g?Math.ceil(N/2):0;default:return N}};m.useEffect(()=>{e&&n&&a!=null?we(n,a):e||(T([]),_(!1),E([]))},[e,n,a,we]),m.useEffect(()=>{(async()=>{if(localStorage.getItem("authToken"))try{const Ae=await xt("/users/me");Ae&&Ae.mobile&&X(Ae.mobile)}catch(Ae){console.error("Failed to fetch user profile:",Ae)}})()},[]),m.useEffect(()=>{R&&kr(J=>({...J,mobile:R}))},[R]);const lr=()=>{te("subscriptionDetails"),kr({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",city:"Dombivli",state:"Maharashtra",pincode:"",isDefault:!1,label:"Home",locationId:void 0}),H({})},cr=()=>{var ve,Ae,tt,pt,At,zt,Sr,rs,bs,Xr;const J={};if((ve=vt==null?void 0:vt.recipientName)!=null&&ve.trim()||(J.recipientName="Recipient name is required."),(Ae=vt==null?void 0:vt.mobile)!=null&&Ae.trim()?/^\d{10}$/.test(vt.mobile.trim())||(J.mobile="Mobile number must be 10 digits."):J.mobile="Mobile number is required.",(tt=vt==null?void 0:vt.plotBuilding)!=null&&tt.trim()||(J.plotBuilding="Plot/Building is required."),(pt=vt==null?void 0:vt.streetArea)!=null&&pt.trim()||(J.streetArea="Street/Area is required."),(At=vt==null?void 0:vt.pincode)!=null&&At.trim()?/^\d{6}$/.test(vt.pincode.trim())||(J.pincode="Pincode must be 6 digits."):J.pincode="Pincode is required.",(zt=vt==null?void 0:vt.city)!=null&&zt.trim()||(J.city="City is required."),(Sr=vt==null?void 0:vt.state)!=null&&Sr.trim()||(J.state="State is required."),(rs=vt==null?void 0:vt.label)!=null&&rs.trim()||(J.label="Address label is required."),de||(J.areaMaster="Please select a delivery area from our service locations."),(bs=vt==null?void 0:vt.pincode)!=null&&bs.trim()&&de){const tn=Qp(vt.pincode.trim(),[de]);console.log("Form validation - pincode check:",{pincode:vt.pincode,areaMaster:de.name,isValid:tn.isValid,message:tn.message}),tn.isValid||(J.pincode=`Pincode ${vt.pincode} is not served by ${de.name}. Please select a different area or request service.`)}return(Xr=vt==null?void 0:vt.pincode)!=null&&Xr.trim()&&!de&&Ne.length>0&&(J.areaMaster="Please select a delivery area first, then enter your pincode to validate coverage."),console.log("Address validation:",{selectedAreaMaster:de==null?void 0:de.name,pincode:vt==null?void 0:vt.pincode,areaMastersCount:Ne.length,filteredAreaMastersCount:Pe.length,errors:J}),H(J),Object.keys(J).length===0},Hr=()=>{const J={};if(!g)J.startDate="Start date is required.";else{const ve=new Date;ve.setDate(ve.getDate()+3),ve.setHours(0,0,0,0),g<ve&&(J.startDate="Start date must be at least 3 days from today.")}if(S&&A.length>0){let ve=!0;A.forEach(Ae=>{Ae.deliveryOption==="select-days"&&Ae.selectedDays.length===0&&(ve=!1)}),ve||(J.variantSchedules="Please select delivery days for all variants with 'Select Days' option.")}else h==="select-days"&&F.length===0&&(J.selectedDays="Please select at least one delivery day.");return i!=null&&i.isOnline?(q==null||String(q).trim()==="")&&(J.selectedAddressId="Please select a delivery address."):(i==null?void 0:i.address)==null&&(J.depotAddress="Depot address information is missing. Please contact support."),S&&A.length===0&&(J.selectedVariants="Please select at least one variant."),H(J),Object.keys(J).length===0},jr={getUserAddresses:async()=>{try{M(!0);const J=await xt("/delivery-addresses"),ve=Array.isArray(J)?J.map(Ae=>({id:Ae.id.toString(),recipientName:Ae.recipientName||"",mobile:Ae.mobile||"",plotBuilding:Ae.plotBuilding||"",streetArea:Ae.streetArea||"",landmark:Ae.landmark||"",city:Ae.city||"",state:Ae.state||"",pincode:Ae.pincode||"",isDefault:Ae.isDefault||!1,label:Ae.label||Ae.type||"Home"})):[];return P(ve),ve.length>0&&!q&&U(ve[0].id),ve}catch(J){return console.error("Error fetching addresses:",J),[]}finally{M(!1)}},createUserAddress:async J=>{try{const ve=await Kr("/delivery-addresses",J),Ae={id:ve.id.toString(),recipientName:ve.recipientName||"",mobile:ve.mobile||"",plotBuilding:ve.plotBuilding||"",streetArea:ve.streetArea||"",landmark:ve.landmark||"",city:ve.city||"",state:ve.state||"",pincode:ve.pincode||"",isDefault:ve.isDefault||!1,label:ve.label||ve.type||J.label||"Home"};return P(tt=>[...tt,Ae]),U(Ae.id),Ae}catch(ve){throw console.error("Error creating address:",ve),ve}}};m.useEffect(()=>{e&&(async()=>{try{const J=await xt("/api/wallet/balance");let ve=0;typeof J=="number"?ve=J:J&&typeof J.balance=="number"?ve=J.balance:J&&J.data&&typeof J.data.balance=="number"&&(ve=J.data.balance),Y(ve)}catch(J){console.error("Failed to fetch wallet balance",J)}})()},[e]),m.useEffect(()=>{e&&re==="subscriptionDetails"&&(i!=null&&i.isOnline)&&jr.getUserAddresses().then(J=>{J.length>0&&!q&&J.length>0&&U(J[0].id)}).catch(J=>console.error("Error loading addresses:",J)),e||te("subscriptionDetails")},[e,re,i==null?void 0:i.isOnline]);const Bs=async()=>{if(!cr())return;if((r==null?void 0:r.isDairyProduct)&&de&&!de.isDairyProduct){const ve={name:vt.recipientName,mobile:vt.mobile,email:"",plotBuilding:vt.plotBuilding,streetArea:vt.streetArea,landmark:vt.landmark||"",pincode:vt.pincode,city:vt.city,state:vt.state,productId:r.id,isDairyProduct:!0,notes:`Lead captured from subscription modal for area: ${de.name}`};try{await C_(ve),ce.success("Thank you for your interest! We've noted your details and will contact you when we expand dairy delivery to your area."),lt(`We don't currently serve dairy products in ${de.name}. However, we'd love to expand our dairy delivery services to your area! We've saved your details and will notify you when service becomes available.`),be(!0),kr({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home",locationId:void 0}),ke(null),te("subscriptionDetails")}catch(Ae){console.error("Failed to save lead:",Ae),ce.error("An error occurred while saving your information. Please try again.")}}else{const ve={...vt};try{await jr.createUserAddress(ve),ce.success("Address saved successfully!"),te("subscriptionDetails"),kr({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home",locationId:void 0})}catch(Ae){console.error("Failed to save address:",Ae),ce.error("An error occurred while saving your address. Please try again.")}}},Ka=async J=>{if(console.log("handleAreaMasterSelection called with:",J.name),ke(J),B.areaMaster&&H(ve=>({...ve,areaMaster:""})),r!=null&&r.isDairyProduct&&!J.isDairyProduct){const ve=`We don't currently serve dairy products in ${J.name}. However, we'd love to expand our dairy delivery services to your area!`;lt(ve)}else lt("");vt.pincode&&vt.pincode.length===6&&(console.log("Revalidating pincode against newly selected area:",{pincode:vt.pincode,areaMaster:J.name}),Dr(vt.pincode,J))},Wn=J=>{F.includes(J)?z(F.filter(ve=>ve!==J)):z([...F,J])},ee=()=>{if(!S&&h==="select-days"&&F.length<3){ce.error("Please select at least 3 delivery days.");return}if(S&&A.some(J=>J.deliveryOption==="select-days"&&J.selectedDays.length<3)){ce.error("Please select at least 3 delivery days for all selected variants.");return}if(i!=null&&i.isOnline&&q==null){console.error("No address selected. Please select or add an address."),ce.error("Please select a delivery address");return}if(!(i!=null&&i.isOnline)&&(i==null?void 0:i.address)==null){ce.error("Depot address information is missing. Please contact support.");return}te("confirmation")},xe=(J,ve)=>{const Ae=pt=>Number.isFinite(pt)&&pt>0?pt:void 0;let tt;switch(ve){case 3:tt=Ae(J.price3Day);break;case 15:tt=Ae(J.price15Day);break;case 30:tt=Ae(J.price1Month);break}return tt??J.buyOncePrice??J.mrp??0},ue=()=>{const J={mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:0};switch(h){case"daily":return N;case"select-days":{if(!g||F.length===0)return 0;const ve=F.map(pt=>J[pt]).filter(pt=>pt!==void 0);let Ae=0;const tt=new Date(g);tt.setDate(tt.getDate()+N-1);for(let pt=new Date(g);pt<=tt;pt.setDate(pt.getDate()+1))ve.includes(pt.getDay())&&Ae++;return Ae}case"day1-day2":return N;case"alternate-days":return Math.ceil(N/2);default:return N}},he=()=>{if(!S||A.length===0){if(!r)return 0;const tt=ue(),pt=r.mrp||r.buyOncePrice||0,At=xe(r,N);if(At>=pt)return 0;let zt=0;if(h==="day1-day2"){const Xr=Math.ceil(N/2),tn=Math.floor(N/2);zt=o*Xr+d*tn}else zt=o*tt;const Sr=pt*zt,rs=At*zt;return Math.max(0,Sr-rs)}let J=0,ve=0;return A.forEach(tt=>{const pt=k.find(bs=>bs.id===tt.variantId);if(!pt)return;const At=pt.mrp||pt.buyOncePrice||0,zt=hr(pt,N),Sr=er(tt);let rs=0;switch(tt.deliveryOption){case"daily":case"select-days":case"alternate-days":rs=tt.quantity*Sr;break;case"day1-day2":const bs=Math.ceil(N/2),Xr=Math.floor(N/2);rs=tt.quantity*bs+(tt.quantityVarying2||1)*Xr;break}J+=At*rs,ve+=zt*rs}),Math.max(0,J-ve)},ge=async()=>{var tt,pt;if(!Hr())return;if(r!=null&&r.isDairyProduct&&de&&!de.isDairyProduct){be(!0);return}const J=i!=null&&i.isOnline?q:i==null?void 0:i.address;if(r==null||n==null||J==null||g==null){const At=[];r==null&&At.push("product information"),n==null&&At.push("product ID"),J==null&&(i!=null&&i.isOnline?At.push("delivery address"):At.push("depot address information")),g==null&&At.push("start date");const zt=`Missing: ${At.join(", ")}. Please ensure all required information is provided.`;ce.error(zt);return}let ve=[];if(S)ve=A.filter(At=>At.quantity>0).map(At=>{const zt=At.deliveryOption,Sr={productId:parseInt(At.variantId,10),period:N,startDate:g.toISOString(),deliverySchedule:zt,qty:At.quantity,internalScheduleLogicType:zt};return(zt==="select-days"||zt==="SELECT-DAYS")&&(Sr.weekdays=At.selectedDays),zt==="day1-day2"&&(Sr.altQty=At.quantityVarying2),Sr});else{const At=h,zt={productId:parseInt(n,10),period:N,startDate:g.toISOString(),deliverySchedule:At,qty:o,internalScheduleLogicType:At};(At==="select-days"||At==="SELECT-DAYS")&&(zt.weekdays=F),At==="day1-day2"&&(zt.altQty=d),ve.push(zt)}if(ve.length===0){ce.error("Please set a quantity for at least one subscription.");return}const Ae={subscriptions:ve,deliveryAddressId:String(J),walletamt:ae?Me:0,deliveryInstructions:se.trim()||void 0};try{V(!0);const At=await Bbe(Ae),zt=(me==null?void 0:me.totalPrice)||0,Sr=ae?zt-Me:zt;xs({subscriptionId:(At==null?void 0:At.subscriptionId)||`SUB-${Date.now()}`,totalAmount:Sr}),Br(!0),t(!1)}catch(At){console.error("Failed to create subscription:",At);const zt=((pt=(tt=At.response)==null?void 0:tt.data)==null?void 0:pt.message)||"An unexpected error occurred.";ce.error(`Failed to create subscription: ${zt}`)}finally{V(!1)}},me=m.useMemo(()=>{var tt;if(!r)return null;let J=0,ve=0,Ae="";if(S&&A.length>0)A.forEach(pt=>{const At=k.find(Xr=>Xr.id===pt.variantId);if(!At)return;const zt=er(pt);let Sr=0;switch(pt.deliveryOption){case"daily":case"select-days":Sr=pt.quantity*zt;break;case"day1-day2":const Xr=Math.ceil(N/2),tn=Math.floor(N/2);Sr=pt.quantity*Xr+(pt.quantityVarying2||1)*tn;break;case"alternate-days":Sr=pt.quantity*Math.ceil(N/2);break}const bs=hr(At,N)*Sr;J+=Sr,ve+=bs}),Ae=`${A.length} variant${A.length>1?"s":""} `;else{let pt=0;switch(h){case"daily":pt=N,J=o*pt,Ae=`Daily delivery of ${o} item${o>1?"s":""}`;break;case"select-days":if(F.length===0)pt=0,J=0,Ae="No days selected";else{const rs=F.map(Xr=>{switch(Xr){case"mon":return 1;case"tue":return 2;case"wed":return 3;case"thu":return 4;case"fri":return 5;case"sat":return 6;case"sun":return 0;default:return-1}}).filter(Xr=>Xr>=0);if(pt=0,g){const Xr=new Date(g),tn=new Date(g);tn.setDate(tn.getDate()+N-1);for(let _n=new Date(Xr);_n<=tn;_n.setDate(_n.getDate()+1)){const jd=_n.getDay();rs.includes(jd)&&pt++}}J=o*pt,Ae=`On ${Fb.filter(Xr=>F.includes(Xr.id)).map(Xr=>Xr.label).join(", ")||"selected days"}`}break;case"day1-day2":pt=N;const zt=Math.ceil(N/2),Sr=Math.floor(N/2);J=o*zt+d*Sr,Ae=`Day1-Day2: ${o} & ${d} Qty`;break;case"alternate-days":pt=Math.ceil(N/2),J=o*pt,Ae="Alternate Day, starting from start date";break}ve=xe(r,N)*J}return{totalQuantity:J,deliveryDescription:Ae,totalPrice:ve,period:((tt=wE.find(pt=>pt.value===N))==null?void 0:tt.label)||`${N} days`,startDate:g&&!isNaN(new Date(g).getTime())?Rt(new Date(g),"dd/MM/yyyy"):"Not set",expiryDate:g&&!isNaN(new Date(g).getTime())?Rt(ua(new Date(g),N-1),"dd/MM/yyyy"):"Not set"}},[r,h,N,o,d,F,g,S,A,k]),Me=m.useMemo(()=>!me||!ae?0:Math.min(W||0,me.totalPrice||0),[W,me,ae]),Qe=m.useMemo(()=>{if(!me)return 0;const J=me.totalPrice||0;return ae?J-Me:J},[me,Me,ae]);return r?s.jsxs(as,{open:e,onOpenChange:J=>{t(J),J||te("subscriptionDetails")},children:[s.jsxs(is,{className:"max-sm:max-w-[95vw] !flex flex-col h-[95vh] p-0 bg-white min-w-[95vw] max-w-2xl rounded-xl gap-0",onPointerDownOutside:J=>{const ve=J.target;(ve.closest("[data-radix-popover-content]")||ve.closest(".rdp")||ve.closest(".calendar-day")||ve.closest('[role="gridcell"]'))&&J.preventDefault()},children:[s.jsxs(fs,{className:"p-4 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs(hs,{className:"text-lg font-semibold text-gray-800",children:["Create Subscription for ",r==null?void 0:r.name]}),s.jsx(Ta,{className:"text-sm text-gray-600 mt-1",children:"Set up your subscription preferences and delivery details."})]}),s.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[s.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-4 bg-gray-50 min-h-0",children:re==="subscriptionDetails"?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-600 mb-2 flex items-center gap-1",children:[s.jsx(ra,{className:"h-3.5 w-3.5"}),"Subscription Period"]}),s.jsx("div",{className:"flex gap-1.5 bg-gray-50 p-1 rounded-lg max-[1291px]:flex-col",children:wE.map(J=>s.jsx("button",{type:"button",className:`flex-1 h-9 px-3 max-[1291px]:py-2 rounded-md transition-all duration-200 relative ${N===J.value?"bg-primary text-white shadow-sm":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200"}`,onClick:()=>j(J.value),children:s.jsxs("div",{className:"flex items-center justify-center h-full ",children:[s.jsxs("div",{className:"flex items-baseline gap-1",children:[J.value===3&&s.jsx("span",{className:"font-semibold text-base max-[1020px]:text-xs text-sm",children:"Trial Pack -"}),J.value===15&&s.jsx("span",{className:"font-semibold text-base",children:"Mid Saver -"}),J.value===30&&s.jsx("span",{className:"font-semibold text-base",children:"Super Saver  -"}),s.jsx("span",{className:"font-semibold text-base",children:J.value}),s.jsx("span",{className:`text-sm ${N===J.value?"text-white/90":"text-gray-500"}`,children:"days"})]}),J.value===30&&s.jsx("span",{className:"absolute -top-2 -right-1 bg-black text-white text-[9px] px-1.5 py-0.5 rounded-full font-medium",children:"Super Saver"}),J.value===3&&s.jsx("span",{className:"absolute -top-2 -right-1 bg-black text-white text-[9px] px-1.5 py-0.5 rounded-full font-medium",children:"Trial Pack"}),J.value===15&&s.jsx("span",{className:"absolute -top-2 -right-1 bg-black text-white text-[9px] px-1.5 py-0.5 rounded-full font-medium",children:"Mid Saver"})]})},J.value))})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-1.5 flex items-center gap-1",children:[s.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Delivery Instructions (Optional)"]}),s.jsx("textarea",{value:se,onChange:J=>Z(J.target.value),placeholder:"e.g., Leave at gate, Call before delivery, Ring doorbell twice...",className:"w-full p-2 border border-gray-300 rounded-md text-sm resize-none",rows:2,maxLength:200}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[se.length,"/200 characters"]})]}),S&&k.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[s.jsx(Va,{className:"h-3 w-3"}),"Product Variants"]}),s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>E([]),className:"text-sm h-7",disabled:A.length===0,children:"Clear"})]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:overflow-x-auto sm:pb-2 sm:-mx-2 sm:px-2",children:k.map(J=>{const ve=A.some(tt=>tt.variantId===J.id),Ae=A.find(tt=>tt.variantId===J.id);return s.jsxs("div",{className:`w-full sm:flex-shrink-0 sm:w-72 border rounded-lg p-3 transition-all ${ve?"border-red-500 bg-red-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mt-0.5 cursor-pointer flex-shrink-0 ${ve?"bg-primary border-primary":"border-gray-300"}`,onClick:()=>{E(ve?tt=>tt.filter(pt=>pt.variantId!==J.id):tt=>[...tt,{variantId:J.id,quantity:1,quantityVarying2:1,deliveryOption:"daily",selectedDays:[]}])},children:ve&&s.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:J.name})]}),s.jsxs(Ir,{variant:"outline",className:"bg-green-50 border-green-600 px-2 py-1",children:[J.mrp&&J.mrp>hr(J,N)?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["₹",J.mrp]}),s.jsxs("span",{className:"text-sm text-green-700 font-bold",children:["₹",hr(J,N)]})]}):s.jsxs("span",{className:"text-sm text-green-700 font-bold",children:["₹",hr(J,N)]}),J.unit&&s.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:["/",J.unit]})]})]}),J.description&&s.jsx("p",{className:"text-sm text-gray-600 ml-7",children:J.description})]}),ve&&Ae&&s.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-3",children:[s.jsxs("div",{children:[s.jsxs(ye,{className:"text-[10px] font-medium text-gray-700 mb-1 block flex items-center gap-0.5",children:[s.jsx(Bp,{className:"h-2.5 w-2.5"}),"Schedule"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-0.5",children:[s.jsx(pe,{variant:Ae.deliveryOption==="daily"?"default":"outline",size:"sm",className:`h-6 text-sm px-1 ${Ae.deliveryOption==="daily"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,onClick:()=>ct(J.id,"daily"),children:"Daily"}),N>=15&&s.jsx(pe,{variant:Ae.deliveryOption==="alternate-days"?"default":"outline",size:"sm",className:`h-7 text-sm ${Ae.deliveryOption==="alternate-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every other day",onClick:()=>ct(J.id,"alternate-days"),children:"Alternate Days"}),N>=7&&s.jsx(pe,{variant:Ae.deliveryOption==="day1-day2"?"default":"outline",size:"sm",className:`h-7 text-sm ${Ae.deliveryOption==="day1-day2"?"bg-secondary hover:bg-blue-600":"border-gray-300"} truncate`,title:"Daily Delivery with Varying Quantities",onClick:()=>ct(J.id,"day1-day2"),children:"Day 1 - Day 2"}),N>=30&&s.jsx(pe,{variant:Ae.deliveryOption==="select-days"?"default":"outline",size:"sm",className:`h-7 text-sm ${Ae.deliveryOption==="select-days"?"bg-secondary hover:bg-blue-600":"border-gray-300"}`,title:"Choose specific days for delivery",onClick:()=>ct(J.id,"select-days"),children:"Weekdays"})]})]}),Ae.deliveryOption==="select-days"&&s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Select days (min 3):"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Fb.map(tt=>s.jsx(pe,{type:"button",size:"sm",variant:Ae.selectedDays.includes(tt.id)?"default":"outline",className:`h-6 w-8 p-0 text-sm ${Ae.selectedDays.includes(tt.id)?"bg-primary":"border-gray-300 text-gray-700"}`,onClick:()=>ft(J.id,tt.id),children:tt.label},tt.id))})]}),(Ae.deliveryOption==="daily"||Ae.deliveryOption==="select-days"||Ae.deliveryOption==="alternate-days")&&s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Quantity per delivery:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white w-fit",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Et(J.id,"quantity",Ae.quantity-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(If,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-3 py-1 text-sm font-medium min-w-[40px] text-center",children:Ae.quantity}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Et(J.id,"quantity",Ae.quantity+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(En,{className:"h-3 w-3"})})]})]}),Ae.deliveryOption==="day1-day2"&&s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Quantities:"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day 1:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Et(J.id,"quantity",Ae.quantity-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(If,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-2 py-1 text-sm font-medium min-w-[30px] text-center",children:Ae.quantity}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Et(J.id,"quantity",Ae.quantity+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(En,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day 2:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Et(J.id,"quantityVarying2",(Ae.quantityVarying2||1)-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(If,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-2 py-1 text-sm font-medium min-w-[30px] text-center",children:Ae.quantityVarying2||1}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Et(J.id,"quantityVarying2",(Ae.quantityVarying2||1)+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(En,{className:"h-3 w-3"})})]})]})]})]}),s.jsx("div",{className:"bg-blue-50 px-2 py-1 rounded text-sm text-blue-700 border border-blue-200",children:s.jsxs("span",{className:"font-medium",children:[Ae.deliveryOption==="daily"&&"Daily delivery",Ae.deliveryOption==="select-days"&&(Ae.selectedDays.length>0?`${Ae.selectedDays.length} days/week`:"Select delivery days"),Ae.deliveryOption==="alternate-days"&&"Alternate days",Ae.deliveryOption==="day1-day2"&&"Varying quantities"]})})]})]},J.id)})}),B.selectedVariants&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:B.selectedVariants}),B.variantSchedules&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:B.variantSchedules})]}),!S&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Bp,{className:"h-4 w-4"}),"Delivery Schedule"]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(pe,{variant:h==="daily"?"default":"outline",className:`h-8 text-sm px-3 ${h==="daily"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every day",onClick:()=>p("daily"),children:"Daily"}),N>=15&&s.jsx(pe,{variant:h==="alternate-days"?"default":"outline",className:`h-8 text-sm px-3 ${h==="alternate-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every other day",onClick:()=>p("alternate-days"),children:"Alternate"}),N>=7&&s.jsx(pe,{variant:h==="day1-day2"?"default":"outline",className:`h-8 text-sm px-3 ${h==="day1-day2"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Customize quantities for Day 1 and Day 2",onClick:()=>p("day1-day2"),children:"Day 1-2"}),N>=30&&s.jsx(pe,{variant:h==="select-days"?"default":"outline",className:`h-8 text-sm px-3 ${h==="select-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Choose specific days for delivery",onClick:()=>p("select-days"),children:"Select Days"})]}),s.jsxs("div",{className:"mt-3",children:[h==="daily"&&s.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Daily delivery - Fresh products every day"}),h==="alternate-days"&&s.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Every other day starting from your selected start date"}),h==="day1-day2"&&s.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Daily delivery with different quantities on alternating days"}),h==="select-days"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Select delivery days (minimum 3):"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Fb.map(J=>s.jsx(pe,{type:"button",size:"sm",variant:F.includes(J.id)?"default":"outline",className:`h-7 w-10 p-0 text-sm ${F.includes(J.id)?"bg-primary":"border-gray-300 text-gray-700"}`,onClick:()=>{Wn(J.id),B.selectedDays&&H(ve=>({...ve,selectedDays:""}))},children:J.label},J.id))}),B.selectedDays&&s.jsx("p",{className:"text-red-500 text-sm",children:B.selectedDays})]})]}),s.jsxs("div",{className:"mt-4 border-t pt-4",children:[(h==="daily"||h==="select-days"||h==="alternate-days")&&s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Quantity per delivery:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white w-fit",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(1,o-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(If,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-4 text-center font-medium min-w-[50px]",children:o}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>l(o+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(En,{className:"h-3 w-3"})})]})]}),h==="day1-day2"&&s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Quantities:"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day A:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(1,o-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(If,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-3 text-center font-medium min-w-[40px]",children:o}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>l(o+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(En,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day B:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>u(Math.max(1,d-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(If,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-3 text-center font-medium min-w-[40px]",children:d}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>u(d+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(En,{className:"h-3 w-3"})})]})]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:i!=null&&i.isOnline?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[s.jsxs("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Delivery Address"]}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{kr(J=>({...J,mobile:R})),te("addressForm")},className:"text-[10px] h-6 px-1.5",children:[s.jsx(En,{className:"h-2.5 w-2.5 mr-0.5"})," Add"]})]}),I?s.jsx("div",{className:"flex items-center justify-center py-2",children:s.jsx("span",{className:"text-gray-500 text-[10px]",children:"Loading..."})}):O.length>0?s.jsx("div",{className:"flex gap-1.5 overflow-x-auto pb-1 -mx-1 px-1",children:s.jsx(th,{value:q||"",onValueChange:J=>{U(J),B.selectedAddressId&&H(ve=>({...ve,selectedAddressId:""}))},className:"flex gap-1.5",children:O.map(J=>s.jsx("div",{className:`flex-shrink-0 w-52 p-1.5 border rounded cursor-pointer transition-all ${q===J.id?"border-red-500 bg-red-50 shadow-sm":"border-gray-200 hover:bg-gray-50"}`,children:s.jsxs(ye,{htmlFor:`address-item-${J.id}`,className:"flex items-start space-x-1.5 w-full cursor-pointer",children:[s.jsx(si,{value:J.id,id:`address-item-${J.id}`,className:"mt-0.5 h-3 w-3"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-1 mb-0.5",children:[s.jsx("span",{className:"font-medium text-gray-900 text-[12px] truncate ",children:J.recipientName}),s.jsx(Ir,{variant:"outline",className:"text-[9px] py-0 px-1 h-3.5",children:J.label})]}),s.jsxs("p",{className:"text-[10px] text-gray-600 truncate leading-tight",children:[J.plotBuilding,", ",J.streetArea]}),s.jsxs("p",{className:"text-[10px] text-gray-600 truncate leading-tight",children:[J.city," - ",J.pincode]}),J.isDefault&&s.jsx("span",{className:"inline-block mt-0.5 px-1 py-0 bg-blue-100 text-blue-800 rounded text-[8px]",children:"Default"})]})]})},J.id))})}):s.jsxs("div",{className:"text-center py-2",children:[s.jsx("p",{className:"text-gray-500 text-[10px] mb-1",children:"No addresses saved"}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{kr(J=>({...J,mobile:R})),te("addressForm")},className:"text-[10px] h-6 px-2",children:[s.jsx(En,{className:"h-2.5 w-2.5 mr-0.5"})," Add Address"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-between items-center mb-1.5",children:s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[s.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Pickup Location"]})}),i?s.jsxs("div",{className:"p-1.5 border rounded bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-medium text-gray-900 text-[11px]",children:i.name}),s.jsx(Ir,{variant:"secondary",className:"text-[9px] py-0 px-1 h-3.5",children:"Pickup"})]}),s.jsxs("p",{className:"text-[10px] text-gray-600 mt-0.5",children:[i.address,", ",i.city," - ",i.pincode]}),s.jsx("div",{className:"mt-3 p-1 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("p",{className:"text-[11px] text-blue-700 flex items-start ml-2 ",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5  flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"You will need to pick up your order from this depot location."]})})]}):s.jsx("div",{className:"text-center py-2",children:s.jsx("p",{className:"text-gray-500 text-[10px]",children:"Location address not available"})})]})}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-1.5 flex items-center gap-1",children:[s.jsx(ra,{className:"h-3 w-3"}),"Start Date"]}),s.jsxs(cc,{open:w,onOpenChange:v,children:[s.jsx(dc,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:Xe("w-full justify-start text-left font-normal border-gray-300 rounded h-7 text-sm",!g&&"text-muted-foreground"),children:[s.jsx(ra,{className:"mr-1.5 h-3 w-3"}),g?Rt(g,"dd/MM/yyyy"):s.jsx("span",{children:"Select date"})]})}),s.jsx(uc,{className:"w-auto p-0 pointer-events-auto",onClick:J=>J.stopPropagation(),children:s.jsx(yd,{mode:"single",selected:g,onSelect:J=>{y(J),v(!1),B.startDate&&H(ve=>({...ve,startDate:""}))},initialFocus:!0,disabled:J=>{const ve=new Date;return ve.setDate(ve.getDate()+3),ve.setHours(0,0,0,0),J<ve}})})]}),B.startDate&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.startDate})]}),me&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[s.jsx(Va,{className:"h-3.5 w-3.5"}),"Order Summary"]}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Period:"}),s.jsx("span",{children:me.period})]}),S&&A.length>0&&s.jsxs("div",{className:"border-t border-gray-500 pt-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx(Va,{className:"h-3 w-3 text-blue-600"}),s.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Variant Details"})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1",children:A.map((J,ve)=>{const Ae=k.find(Sr=>Sr.id===J.variantId);if(!Ae)return null;const tt=er(J);let pt=0;switch(J.deliveryOption){case"daily":case"select-days":pt=J.quantity*tt;break;case"day1-day2":const Sr=Math.ceil(N/2),rs=Math.floor(N/2);pt=J.quantity*Sr+(J.quantityVarying2||1)*rs;break;case"alternate-days":pt=J.quantity*Math.ceil(N/2);break}const At=J.deliveryOption==="daily"?"Daily":J.deliveryOption==="select-days"?`${J.selectedDays.length} days/week`:J.deliveryOption==="alternate-days"?"Alternate Days":"Day1-Day2",zt=()=>{switch(J.deliveryOption){case"daily":return"🌅";case"select-days":return"📅";case"alternate-days":return"🔄";case"day1-day2":return"⚖️";default:return"📦"}};return s.jsxs("div",{className:"flex-shrink-0 w-56 border border-gray-200 rounded-md p-2 bg-gradient-to-r from-gray-50 to-blue-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[s.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[s.jsx("span",{className:"text-sm",children:zt()}),s.jsx("span",{className:"font-medium text-gray-800 text-sm truncate",children:Ae.name})]}),s.jsx(Ir,{variant:"secondary",className:"text-[11px] bg-blue-100 text-blue-700 border-blue-200 py-0 px-1.5 h-4",children:At})]}),s.jsxs("div",{className:"text-[11px] space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 text-xs",children:"Qty/delivery:"}),s.jsx("span",{className:"text-gray-900 font-medium text-xs",children:J.deliveryOption==="day1-day2"?s.jsxs(s.Fragment,{children:[J.quantity," + ",J.quantityVarying2||1," - ",Ae.name||"Quantity",J.quantity>1||(J.quantityVarying2||1)>1?"s":""]}):s.jsxs(s.Fragment,{children:[J.quantity," - ",Ae.name||"Quantity"]})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 text-xs",children:"Total:"}),s.jsxs("span",{className:"text-gray-900 font-medium text-xs",children:[pt," - ",Ae.name||"Quantity"]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Price:"}),s.jsxs("span",{className:"text-green-700 font-semibold",children:["₹",(pt*hr(Ae,N)).toFixed(2)]})]})]}),J.deliveryOption==="select-days"&&J.selectedDays.length>0&&s.jsx("div",{className:"mt-1 pt-1 border-t border-gray-200",children:s.jsxs("div",{className:"text-[10px] text-gray-600",children:["Days: ",J.selectedDays.join(", ")]})})]},ve)})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Quantity:"}),s.jsxs("span",{className:"font-medium",children:[me.totalQuantity," ",S?"items":(r==null?void 0:r.name)||""]})]}),he()>0&&s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 animate-pulse"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/90 via-green-400/90 to-teal-400/90"}),s.jsx("div",{className:"absolute top-2 left-4 animate-bounce delay-75",children:s.jsx(WJ,{className:"h-3 w-3 text-yellow-300 fill-yellow-300"})}),s.jsx("div",{className:"absolute top-3 right-6 animate-bounce delay-150",children:s.jsx(eL,{className:"h-2 w-2 text-yellow-200 fill-yellow-200"})}),s.jsx("div",{className:"absolute bottom-2 right-4 animate-bounce delay-300",children:s.jsx(Rw,{className:"h-3 w-3 text-yellow-300 fill-yellow-300"})})]}),s.jsx("div",{className:"border-t border-gray-200 pt-1.5 mt-1.5",children:s.jsxs("div",{className:"flex justify-between font-medium text-sm",children:[s.jsx("span",{children:"Total Price:"}),s.jsxs("span",{className:"text-green-600",children:["₹",me.totalPrice.toFixed(2)]})]})})]})]})]})]})}):re==="confirmation"?s.jsxs("div",{className:"bg-white p-4 rounded-md space-y-4 w-[50%] mx-auto max-sm:w-full ",children:[s.jsx("h3",{className:"text-lg font-semibold text-center",children:"Confirm Your Subscription"}),s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Product:"}),s.jsx("span",{className:"font-semibold",children:r.name})]}),S&&A.length>0&&s.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[s.jsx("span",{className:"text-sm font-medium block mb-2",children:"Selected Variants & Schedules:"}),s.jsx("div",{className:"space-y-3",children:A.map((J,ve)=>{const Ae=k.find(At=>At.id===J.variantId);if(!Ae)return null;const tt=er(J),pt=J.deliveryOption==="daily"?"Daily delivery":J.deliveryOption==="select-days"?`On ${J.selectedDays.map(At=>{var zt;return(zt=Fb.find(Sr=>Sr.id===At))==null?void 0:zt.label}).join(", ")}`:J.deliveryOption==="alternate-days"?"Alternate Day":"Day1-Day2";return s.jsxs("div",{className:"bg-white p-3 rounded border text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"font-medium",children:Ae.name}),s.jsxs(Ir,{variant:"outline",children:["₹",hr(Ae,N)," ",Ae.name&&`per ${Ae.name}`]})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{children:["Schedule: ",pt]}),s.jsxs("div",{children:["Deliveries: ",tt," times"]}),J.deliveryOption!=="day1-day2"&&s.jsxs("div",{children:["Quantity per delivery:"," ",J.quantity]})]})]},ve)})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Period:"}),s.jsx("span",{children:me==null?void 0:me.period})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Start Date:"}),s.jsx("span",{children:me==null?void 0:me.startDate})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"End Date:"}),s.jsx("span",{children:me==null?void 0:me.expiryDate})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Total Quantity:"}),s.jsxs("span",{children:[me==null?void 0:me.totalQuantity," ",S?"items":(r==null?void 0:r.name)||""]})]}),s.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Subtotal:"}),s.jsxs("span",{className:"text-sm",children:["₹",(Fe=me==null?void 0:me.totalPrice)==null?void 0:Fe.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Wallet Credit:"}),s.jsxs("span",{className:"text-sm text-green-600",children:["-₹",Me.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-medium pt-2",children:[s.jsx("span",{className:"text-sm font-semibold",children:"Amount Payable:"}),s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["₹",Qe.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs(ye,{className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[s.jsx(Wc,{className:"h-4 w-4"})," Use Wallet Balance"]}),s.jsxs("div",{className:"text-sm font-medium",children:["Available: ₹",W.toFixed(2)]})]}),ae&&W>0&&s.jsx("div",{className:"bg-white p-3 rounded border border-blue-300",children:s.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Wallet Balance:"}),s.jsxs("span",{children:["₹",W.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Amount to be deducted:"}),s.jsxs("span",{className:"font-medium text-green-600",children:["₹",Me.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-medium pt-1 border-t",children:[s.jsx("span",{children:"Remaining in wallet:"}),s.jsxs("span",{children:["₹",(W-Me).toFixed(2)]})]})]})})]}),me&&s.jsx(s.Fragment,{children:Qe>0?s.jsx("div",{className:"bg-blue-50 p-3 rounded-md border border-blue-100",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Me>0?`₹${Me.toFixed(2)} will be deducted from your wallet. The remaining ₹${Qe.toFixed(2)} will be collected via Cash/UPI before delivery.`:`Full amount of ₹${Qe.toFixed(2)} will be collected via Cash/UPI before delivery.`]})}):s.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:s.jsxs("p",{className:"text-sm text-green-700 flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Full amount of ₹",(qe=me==null?void 0:me.totalPrice)==null?void 0:qe.toFixed(2)," will be deducted from your wallet."]})})}),s.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:s.jsxs("p",{className:"text-sm text-primary flex items-start",children:["1) Since the milk is sourced from 'Tribal farmers',  all payments are in Advance.",s.jsx("br",{}),s.jsx("br",{}),"2) Both Cash & Online options are available.The plan starts after 2 days from receipt of payment.",s.jsx("br",{}),s.jsx("br",{}),"3) For Cash payments - our person can visit your home OR you may deposit money at our Tilak Road store.                "]})}),s.jsx("img",{src:wz,alt:""}),s.jsxs("p",{children:["1. GPay, UPI - 8850833370  ( Sarkhot Natural Farms) ",s.jsx("br",{}),"2. Bank Transfer: Current Account: Bank of Baroda A/C No.: 76040200002024, ",s.jsx("br",{}),"3. IFSC: BARB0VJDOME ",s.jsx("br",{})," 4. Cash Before Delivery. "]}),i!=null&&i.isOnline?s.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Delivery Address:"}),O.map(J=>J.id===q?s.jsxs("div",{className:"text-sm",children:[s.jsx(Ir,{variant:"outline",className:"mt-1 ",children:J.label}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium ",children:J.recipientName})," ","• ",J.mobile]}),s.jsxs("p",{children:[J.plotBuilding,", ",J.streetArea]}),J.landmark&&s.jsx("p",{children:J.landmark}),s.jsxs("p",{children:[J.city,", ",J.state," - ",J.pincode]})]},J.id):null)]}):s.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Pickup from Location:"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:i==null?void 0:i.name}),s.jsx("p",{children:i==null?void 0:i.address})]})]})]}):s.jsxs("div",{className:"bg-white rounded-md",children:[s.jsx("div",{className:"p-4 border-b bg-white sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>te("subscriptionDetails"),children:s.jsx(Hl,{className:"h-4 w-4"})}),s.jsx("h3",{className:"text-lg font-semibold",children:"Add New Address"})]})}),s.jsxs("div",{className:"p-4 space-y-5",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"address-label",className:"text-sm font-medium mb-2 block",children:"Address Label"}),s.jsxs(th,{defaultValue:"Home",value:vt.label,onValueChange:ur,className:"flex gap-4 mt-1",id:"address-label",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(si,{value:"Home",id:"type-home",className:"text-green-500"}),s.jsx(ye,{htmlFor:"type-home",className:"text-sm",children:"Home"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(si,{value:"Work",id:"type-work",className:"text-green-500"}),s.jsx(ye,{htmlFor:"type-work",className:"text-sm",children:"Work"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(si,{value:"Other",id:"label-other"}),s.jsx(ye,{htmlFor:"label-other",children:"Other"})]})]}),B.label&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.label})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"recipientName",className:"text-sm font-medium mb-1.5 block",children:"Delivery To*"}),s.jsx("input",{id:"recipientName",name:"recipientName",value:vt.recipientName,onChange:Tt,placeholder:"Full name of recipient",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),B.recipientName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.recipientName})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"mobile",className:"text-sm font-medium mb-1.5 block",children:"Mobile*"}),s.jsx("input",{id:"mobile",name:"mobile",max:10,maxLength:10,value:vt.mobile,onChange:Tt,placeholder:"Mobile number",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),B.mobile&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.mobile})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"plotBuilding",className:"text-sm font-medium mb-1.5 block",children:"Plot/Building*"}),s.jsx("input",{id:"plotBuilding",name:"plotBuilding",value:vt.plotBuilding,onChange:Tt,placeholder:"Plot number, building name",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),B.plotBuilding&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.plotBuilding})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"streetArea",className:"text-sm font-medium mb-1.5 block",children:"Street/Area*"}),s.jsx("input",{id:"streetArea",name:"streetArea",value:vt.streetArea,onChange:Tt,placeholder:"Street, area",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),B.streetArea&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.streetArea})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"landmark",className:"text-sm font-medium mb-1.5 block",children:"Nearest Landmark*                    "}),s.jsx(He,{id:"landmark",name:"landmark",value:vt.landmark,onChange:Tt,placeholder:"Nearby landmark",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"deliveryCity",className:"text-sm font-medium mb-1.5 block",children:"City"}),s.jsxs(It,{onValueChange:J=>{const ve=J==="Dombivli"?null:parseInt(J);Ie(ve),ke(null)},value:Be==null?void 0:Be.toString(),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select your City "})}),s.jsx(Bt,{className:"max-h-60 overflow-y-auto",children:Ee.sort((J,ve)=>J.name.localeCompare(ve.name)).map(J=>s.jsx(Je,{value:J.id.toString(),children:J.name},J.id))})]})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:"areaMaster",className:"text-sm font-medium mb-1.5 block",children:["Delivery Area* ",s.jsx("span",{className:"text-xs text-gray-500"})]}),s.jsxs(It,{onValueChange:J=>{var Ae;const ve=Pe.find(tt=>tt.id===parseInt(J));ve&&(Ka(ve),(Ae=ve.city)!=null&&Ae.name&&$t("city",ve.city.name))},value:((We=de==null?void 0:de.id)==null?void 0:We.toString())||"",children:[s.jsx(Lt,{className:B.areaMaster?"border-red-500 w-full":"w-full",children:s.jsx(Ft,{placeholder:"Select your delivery area"})}),s.jsx(Bt,{className:"max-h-60 overflow-y-auto",children:Pe.sort((J,ve)=>J.name.localeCompare(ve.name)).map(J=>s.jsx(Je,{value:J.id.toString(),children:J.name},J.id))})]}),s.jsx("div",{children:s.jsxs("p",{className:"text-xs ml-2 mt-2",children:["If your area is not listed above ",s.jsx("a",{onClick:qr,className:"text-primary border border-primary px-2 py-1 rounded max-w-4",children:"Click here"})," to request delivery "]})}),B.areaMaster&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.areaMaster})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"state",className:"text-sm font-medium mb-1.5 block",children:"State*"}),s.jsxs(It,{onValueChange:J=>$t("state",J),value:vt.state,disabled:!0,children:[s.jsx(Lt,{className:B.state?"border-red-500 w-full":"w-full",children:s.jsx(Ft,{placeholder:"Select a state"})}),s.jsx(Bt,{className:"max-h-60 overflow-y-auto",children:Gy.filter(J=>J&&typeof J.label=="string").map(J=>s.jsx(Je,{value:J.label,children:J.label},J.value))})]}),B.state&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.state})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"pincode",className:"text-sm font-medium mb-1.5 block",children:"Pincode*"}),s.jsx(He,{id:"pincode",name:"pincode",type:"text",value:vt.pincode,onChange:Tt,max:6,placeholder:"Enter your 6-digit pincode",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white",maxLength:6}),B.pincode&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.pincode}),de&&s.jsx(k_,{pincode:vt.pincode,isValid:at.isValid,message:at.message,isValidating:at.isValidating,showServiceRequest:!at.isValid&&!at.isValidating&&vt.pincode.length===6,onRequestService:qr})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:vt.isDefault,onChange:J=>kr(ve=>({...ve,isDefault:J.target.checked})),className:"h-4 w-4 text-green-500 focus:ring-green-500 border-gray-300 rounded"}),s.jsx(ye,{htmlFor:"isDefault",className:"text-sm",children:"Set as default address"})]})]})]})}),s.jsx("div",{className:"p-4 border-t bg-white",children:re==="subscriptionDetails"?s.jsxs("div",{className:"space-y-3",children:[he()>0&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Ng,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:["You Save: ₹",he().toFixed(2)]})]}),s.jsx("span",{className:"text-gray-500 text-sm",children:"vs MRP pricing"})]}),s.jsx(pe,{onClick:ee,disabled:I||!S&&h==="select-days"&&F.length<3||S&&A.some(J=>J.deliveryOption==="select-days"&&J.selectedDays.length<3),className:"w-full bg-primary hover:bg-primary text-white py-2 rounded-md font-medium",children:"Review Subscription"})]}):re==="addressForm"?s.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[s.jsx(pe,{variant:"outline",onClick:lr,className:"rounded-lg h-11 border-gray-300",children:"Cancel"}),s.jsx(pe,{onClick:Bs,className:"bg-primary hover:bg-primary text-white rounded-lg h-11",disabled:!!(B.recipientName||B.mobile||B.plotBuilding||B.streetArea||B.pincode||B.city||B.state||B.label||B.areaMaster),children:"Save Address"})]}):s.jsxs("div",{className:"space-y-3",children:[he()>0&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Ng,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:["Total Savings: ₹",he().toFixed(2)]})]}),s.jsx("span",{className:"text-gray-500 text-sm",children:"vs MRP pricing"})]}),s.jsxs("div",{className:"flex justify-end items-center gap-3 w-full",children:[s.jsx(pe,{variant:"outline",className:"rounded-lg h-11 border-gray-300",onClick:()=>te("subscriptionDetails"),children:"Back"}),s.jsx(pe,{className:"bg-primary hover:bg-primary text-white rounded-lg h-11",onClick:ge,disabled:K||!!(B.startDate||B.selectedDays||B.selectedAddressId||B.variantSchedules),children:K?"Confirming...":"Confirm Subscription"})]})]})})]})]}),s.jsx(Sz,{isOpen:ie,onOpenChange:be,productName:r==null?void 0:r.name,areaName:de==null?void 0:de.name,message:De}),s.jsx(__,{isOpen:rt,onOpenChange:Mt,productId:r==null?void 0:r.id,productName:r==null?void 0:r.name,isDairyProduct:r==null?void 0:r.isDairyProduct,message:De||`We currently do not serve pincode ${vt.pincode}, but we're expanding!`,prefilledData:{recipientName:vt.recipientName,mobile:vt.mobile,plotBuilding:vt.plotBuilding,streetArea:vt.streetArea,landmark:vt.landmark,pincode:vt.pincode,city:vt.city||((mt=de==null?void 0:de.city)==null?void 0:mt.name)||"",state:vt.state},onSuccess:()=>{Mt(!1),kr({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home",locationId:void 0}),ke(null),Ie(null),ze({isValid:!1,message:"",isValidating:!1}),te("subscriptionDetails")}}),s.jsx(Ez,{isOpen:Jt,onOpenChange:Br,title:"Subscription Created Successfully!",message:"Your subscription has been set up and will start delivering as scheduled.",subscriptionDetails:{subscriptionId:ls.subscriptionId,productName:r==null?void 0:r.name,quantity:A.reduce((J,ve)=>J+ve.quantity,0),period:(bt=wE.find(J=>J.value===N))==null?void 0:bt.label,startDate:g,totalAmount:ls.totalAmount}})]}):null},Q2e=e=>{switch(e==null?void 0:e.toLowerCase()){case"home":return"Home";case"work":return"Work";case"other":return"Other";default:return e||"Address"}},Z2e=({isOpen:e,onOpenChange:t,product:r,productId:n,selectedDepot:a})=>{var ar,hr;const[i,o]=m.useState(1),[l,d]=m.useState(ua(new Date,3)),[u,h]=m.useState([]),[p,g]=m.useState(!1),[y,w]=m.useState(null),[v,N]=m.useState(!1),[j,A]=m.useState(0),[E,S]=m.useState(0),[_,k]=m.useState(0),[T,O]=m.useState(!1),[P,I]=m.useState([]),[M,q]=m.useState(null),[U,re]=m.useState([]),[te,B]=m.useState([]),[H,R]=m.useState([]),[X,W]=m.useState(null),[Y,F]=m.useState(null),[z,K]=m.useState(!1),[V,ae]=m.useState(""),[Q,se]=m.useState(!1),[Z,le]=m.useState(!1),[Te,Ee]=m.useState({}),[Ze,Be]=m.useState(!1),[Ie,Ne]=m.useState(""),[fe,de]=m.useState({isValid:!1,message:"",isValidating:!1}),[ke,Pe]=m.useState({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}),[Re,ie]=m.useState({});m.useEffect(()=>{e&&(be(),De(),W(null),F(null),ie({}),de({isValid:!1,message:"",isValidating:!1}))},[e]);const be=async()=>{try{const we=await A_();re(we)}catch(we){console.error("Failed to fetch area masters:",we),ce.error("Could not load delivery areas.")}},De=async()=>{try{const we=await ev();R(we)}catch(we){console.error("Failed to fetch cities:",we),ce.error("Could not load cities.")}};m.useEffect(()=>{if(X&&U.length>0){const we=U.filter(ct=>{var ft;return ct.cityId?ct.cityId===X:(ft=ct.city)!=null&&ft.id?ct.city.id===X:!1});B(we)}else B(U)},[X,U]);const lt=async we=>{var ct;if(console.log("handleAreaMasterSelection called with:",we.name),F(we),Re.areaMaster&&ie(ft=>({...ft,areaMaster:""})),(ct=we.city)!=null&&ct.name&&at("city",we.city.name),r!=null&&r.isDairyProduct&&!we.isDairyProduct){const ft=`We don't currently serve dairy products in ${we.name}. However, we'd love to expand our dairy delivery services to your area!`;ae(ft)}else ae("");ke.pincode&&ke.pincode.length===6&&(console.log("Revalidating pincode against newly selected area:",{pincode:ke.pincode,areaMaster:we.name}),Mt(ke.pincode,we))},at=(we,ct)=>{Pe(ft=>({...ft,[we]:ct})),Re[we]&&ie(ft=>({...ft,[we]:""}))},ze=we=>{const{name:ct,value:ft,type:Et,checked:er}=we.target,lr=Et==="checkbox"?er:ft;Pe(cr=>({...cr,[ct]:lr})),Re[ct]&&ie(cr=>({...cr,[ct]:""})),ct==="pincode"&&ft.length===6&&/^\d{6}$/.test(ft)?Mt(ft):ct==="pincode"&&de({isValid:!1,message:"",isValidating:!1})},rt=we=>{Pe(ct=>({...ct,label:we})),Re.label&&ie(ct=>({...ct,label:""}))},Mt=(we,ct)=>{const ft=ct||Y;if(console.log("validatePincode called with:",{pincode:we,currentAreaMaster:ft==null?void 0:ft.name}),we.length===6&&/^\d{6}$/.test(we)){de({isValid:!1,message:"",isValidating:!0});const Et=Qp(we,[ft].filter(Boolean));de({isValid:Et.isValid,message:Et.isValid?"Great ! We deliver in your location":`We currently don't serve pincode ${we} in ${(ft==null?void 0:ft.name)||"this area"}.`,isValidating:!1})}},Jt=()=>{console.log("handleRequestService called with form state:",{pincode:ke.pincode,selectedArea:Y==null?void 0:Y.name,city:ke.city});const we=Y?`We currently don't serve pincode ${ke.pincode} in ${Y.name}. Help us prioritize expanding to your area!`:`We currently don't serve pincode ${ke.pincode}. Help us prioritize expanding to your area!`;ae(we),se(!0)},Br=()=>{var ct,ft,Et,er,lr,cr,Hr,jr;const we={};return(ct=ke==null?void 0:ke.recipientName)!=null&&ct.trim()||(we.recipientName="Recipient name is required."),(ft=ke==null?void 0:ke.mobile)!=null&&ft.trim()?/^\d{10}$/.test(ke.mobile.trim())||(we.mobile="Mobile number must be 10 digits."):we.mobile="Mobile number is required.",(Et=ke==null?void 0:ke.plotBuilding)!=null&&Et.trim()||(we.plotBuilding="Plot/Building is required."),(er=ke==null?void 0:ke.streetArea)!=null&&er.trim()||(we.streetArea="Street/Area is required."),(lr=ke==null?void 0:ke.pincode)!=null&&lr.trim()?/^\d{6}$/.test(ke.pincode.trim())||(we.pincode="Pincode must be 6 digits."):we.pincode="Pincode is required.",(cr=ke==null?void 0:ke.city)!=null&&cr.trim()||(we.city="City is required."),(Hr=ke==null?void 0:ke.state)!=null&&Hr.trim()||(we.state="State is required."),(jr=ke==null?void 0:ke.label)!=null&&jr.trim()||(we.label="Address label is required."),Y||(we.areaMaster="Please select a delivery area."),ie(we),Object.keys(we).length===0},ls=async()=>{if(!Br())return;const we=(r==null?void 0:r.isDairyProduct)&&Y&&!Y.isDairyProduct,ft=!(Y?Qp(ke.pincode,[Y]):{isValid:!1}).isValid;if(we||ft){const Et={name:ke.recipientName,mobile:ke.mobile,email:"",plotBuilding:ke.plotBuilding,streetArea:ke.streetArea,landmark:ke.landmark||"",pincode:ke.pincode,city:ke.city,state:ke.state,productId:r==null?void 0:r.id,isDairyProduct:(r==null?void 0:r.isDairyProduct)||!1,notes:we?`Lead captured from buy-once modal - Dairy product not available in area: ${Y==null?void 0:Y.name}`:`Lead captured from buy-once modal - Pincode ${ke.pincode} not serviceable in area: ${Y==null?void 0:Y.name}`};try{await C_(Et),ce.success("Thank you for your interest! We've noted your details and will contact you when we expand dairy delivery to your area.");const er=we?`We don't currently serve dairy products in ${Y==null?void 0:Y.name}. However, we'd love to expand our dairy delivery services to your area! We've saved your details and will notify you when service becomes available.`:`We don't currently serve pincode ${ke.pincode} in ${Y==null?void 0:Y.name}. However, we're expanding! We've saved your details and will notify you when service becomes available in your area.`;ae(er),K(!0),Pe({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}),F(null),N(!1)}catch(er){console.error("Failed to save lead:",er),ce.error("An error occurred while saving your information. Please try again.")}}else try{const Et=await Kr("/delivery-addresses",ke);await vt(),w(Et.id),N(!1),ce.success("Address added successfully!"),Pe({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"})}catch(Et){console.error("Failed to save address:",Et),ce.error("An error occurred while saving your address. Please try again.")}},xs=()=>{var we;return((we=r==null?void 0:r.depotVariantPricing)==null?void 0:we.buyOncePrice)||(r==null?void 0:r.price)||0};m.useEffect(()=>{(async()=>{if(!(!e||!n)){O(!0);try{const ct=await xt(`/api/public/depot-variants/${n}`);let ft=(ct==null?void 0:ct.data)||[];a&&(ft=ft.filter(er=>er.depot.id===a.id));const Et=ft.map(er=>({id:parseInt(er.id,10),name:er.name,depot:er.depot,buyOncePrice:parseFloat(er.buyOncePrice)||0,sellingPrice:parseFloat(er.buyOncePrice)||parseFloat(er.mrp)||0,mrp:parseFloat(er.mrp)||parseFloat(er.buyOncePrice)||0,minimumQty:er.minimumQty||0}));if(I(Et),Et.length>0){const er=Et[0];S(er.buyOncePrice),k(er.mrp||er.sellingPrice||er.buyOncePrice),q(er.id)}else S(xs()),k(xs()),q(null)}catch(ct){console.error("Failed to fetch depot variant pricing, using default:",ct),S(xs()),k(xs()),I([]),q(null)}finally{O(!1)}}})()},[e,n,r,a]),m.useEffect(()=>{(async()=>{var ct;if(e)try{const ft=await xt("/api/wallet/balance");console.log("Wallet balance response:",ft);let Et=0;ft!=null&&ft.success&&((ct=ft==null?void 0:ft.data)==null?void 0:ct.balance)!==void 0?Et=ft.data.balance:(ft==null?void 0:ft.balance)!==void 0?Et=ft.balance:typeof ft=="number"&&(Et=ft),A(Et)}catch(ft){console.error("Failed to fetch wallet balance",ft),A(0)}})()},[e]);const vt=async()=>{g(!0);try{const we=await xt("/delivery-addresses");h(we||[]);const ct=we==null?void 0:we.find(ft=>ft.isDefault);ct?w(ct.id):(we==null?void 0:we.length)>0&&w(we[0].id)}catch(we){console.error("Failed to fetch addresses:",we),ce.error("Could not load your delivery addresses")}finally{g(!1)}};m.useEffect(()=>{var we;if(e&&M){const ct=P.find(ft=>ft.id===M);(we=ct==null?void 0:ct.depot)!=null&&we.isOnline&&vt()}},[e,M,P]);const kr=we=>we?Rt(we,"yyyy-MM-dd"):"",[$t]=m.useState(!0),Dr=m.useMemo(()=>i*E,[i,E]),qr=m.useMemo(()=>$t?Math.min(j||0,Dr):0,[j,Dr,$t]),Tt=m.useMemo(()=>Dr-qr,[Dr,qr]),ur=m.useMemo(()=>{if(!_||_<=E)return 0;const we=_*i,ct=E*i;return Math.max(0,we-ct)},[_,E,i]),fr=async()=>{var Et,er;if(!l||!M){ce.error("Please select a delivery date and depot variant.");return}const we=P.find(lr=>lr.id===M);if(!we){ce.error("Invalid depot variant selected.");return}const ct=we.depot.isOnline?y:we.depot.address;if(we.depot.isOnline&&!y){ce.error("Please select a delivery address.");return}else if(!we.depot.isOnline&&!we.depot.address){ce.error("Depot address information is missing. Please contact support.");return}if(!ct){ce.error("Address information is missing.");return}const ft={subscriptions:[{productId:M,period:1,startDate:l.toISOString(),deliverySchedule:"DAILY",qty:i}],deliveryAddressId:parseInt(String(ct),10),walletamt:$t?qr:0,deliveryInstructions:Ie.trim()||void 0};Be(!0);try{const lr=await Kr("/api/product-orders/with-subscriptions",ft);Ee({orderId:(lr==null?void 0:lr.orderId)||`ORD-${Date.now()}`,totalAmount:Dr-qr}),le(!0),t(!1)}catch(lr){console.error("Failed to place order:",lr),ce.error(((er=(Et=lr==null?void 0:lr.response)==null?void 0:Et.data)==null?void 0:er.message)||"Failed to place order. Please try again.")}finally{Be(!1)}};return r?s.jsxs(as,{open:e,onOpenChange:t,children:[s.jsxs(is,{className:"w-full max-w-4xl mx-auto p-0 flex flex-col max-h-[95vh] overflow-hidden",children:[s.jsxs(fs,{className:"px-4 py-4 sm:px-6 sm:py-6 pb-2 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[s.jsx(Gc,{className:"absolute right-3 top-3 sm:right-4 sm:top-4 z-10 p-2 rounded-full hover:bg-white/80 transition-colors",onClick:()=>t(!1)}),s.jsx(hs,{className:"text-lg sm:text-xl font-bold text-center pr-8",children:v?"Add New Delivery Address":`${r==null?void 0:r.name} - Buy Once`}),!v&&r&&s.jsx("div",{className:"mt-2 flex justify-center",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-4 py-2 border border-green-200",children:[s.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Buy Once Price"}),T?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-green-500 border-t-transparent rounded-full"}),s.jsx("p",{className:"text-sm font-semibold",children:"Loading..."})]}):s.jsx("div",{className:"text-center",children:_&&_>E?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-500 line-through font-medium",children:["₹",Number(_).toFixed(2)]}),s.jsxs("span",{className:"text-lg font-bold text-green-600",children:["₹",Number(E||0).toFixed(2)]})]}):s.jsxs("p",{className:"text-lg font-bold text-green-600",children:["₹",Number(E||0).toFixed(2)]})})]})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 overflow-y-auto flex-grow pb-8",children:v?s.jsxs("div",{className:"bg-white rounded-md",children:[s.jsx("div",{className:"p-4 border-b bg-white sticky top-0 z-10",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Add New Address"})}),s.jsxs("div",{className:"p-4 space-y-5",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"address-label",className:"text-sm font-medium mb-2 block",children:"Address Label"}),s.jsxs(th,{defaultValue:"Home",value:ke.label,onValueChange:rt,className:"flex gap-4 mt-1",id:"address-label",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(si,{value:"Home",id:"type-home",className:"text-green-500"}),s.jsx(ye,{htmlFor:"type-home",className:"text-sm",children:"Home"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(si,{value:"Work",id:"type-work",className:"text-green-500"}),s.jsx(ye,{htmlFor:"type-work",className:"text-sm",children:"Work"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(si,{value:"Other",id:"label-other"}),s.jsx(ye,{htmlFor:"label-other",children:"Other"})]})]}),Re.label&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:Re.label})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"recipientName",className:"text-sm font-medium mb-1.5 block",children:"Delivery To*"}),s.jsx("input",{id:"recipientName",name:"recipientName",value:ke.recipientName,onChange:ze,placeholder:"Full name of recipient",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),Re.recipientName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:Re.recipientName})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"mobile",className:"text-sm font-medium mb-1.5 block",children:"Mobile*"}),s.jsx("input",{id:"mobile",name:"mobile",type:"tel",max:10,value:ke.mobile,onChange:we=>{const ct=we.target.value.replace(/\D/g,"").slice(0,10);Pe(ft=>({...ft,mobile:ct})),Re.mobile&&ie(ft=>({...ft,mobile:""}))},placeholder:"Mobile number",maxLength:10,className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),Re.mobile&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:Re.mobile})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"plotBuilding",className:"text-sm font-medium mb-1.5 block",children:"Plot/Building*"}),s.jsx("input",{id:"plotBuilding",name:"plotBuilding",value:ke.plotBuilding,onChange:ze,placeholder:"Plot number, building name",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),Re.plotBuilding&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:Re.plotBuilding})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"streetArea",className:"text-sm font-medium mb-1.5 block",children:"Street/Area*"}),s.jsx("input",{id:"streetArea",name:"streetArea",value:ke.streetArea,onChange:ze,placeholder:"Street, area",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),Re.streetArea&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:Re.streetArea})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"landmark",className:"text-sm font-medium mb-1.5 block",children:"Nearest Landmark *"}),s.jsx("input",{id:"landmark",name:"landmark",value:ke.landmark,onChange:ze,placeholder:"Nearby landmark",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"deliveryCity",className:"text-sm font-medium mb-1.5 block",children:"City"}),s.jsxs(It,{onValueChange:we=>{const ct=we==="dombivli"?null:parseInt(we);W(ct),F(null),Re.areaMaster&&ie(ft=>({...ft,areaMaster:""}))},value:X==null?void 0:X.toString(),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"city"})}),s.jsx(Bt,{className:"max-h-60 overflow-y-auto",children:H.sort((we,ct)=>we.name.localeCompare(ct.name)).map(we=>s.jsx(Je,{value:we.id.toString(),children:we.name},we.id))})]})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:"areaMaster",className:"text-sm font-medium mb-1.5 block",children:["Delivery Areas* ",s.jsx("span",{className:"text-xs text-gray-500"}),(r==null?void 0:r.isDairyProduct)&&s.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Dairy Product"})]}),s.jsxs(It,{onValueChange:we=>{const ct=te.find(ft=>ft.id===parseInt(we));ct&&lt(ct)},value:((ar=Y==null?void 0:Y.id)==null?void 0:ar.toString())||"",children:[s.jsx(Lt,{className:Re.areaMaster?"border-red-500 w-full":"w-full",children:s.jsx(Ft,{placeholder:"Select your delivery area"})}),s.jsx(Bt,{className:"max-h-60 overflow-y-auto",children:te.sort((we,ct)=>we.name.localeCompare(ct.name)).map(we=>s.jsx(Je,{value:we.id.toString(),children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:we.name}),s.jsx("div",{className:"flex gap-1 ml-2"})]})},we.id))})]}),Re.areaMaster&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:Re.areaMaster})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"state",className:"text-sm font-medium mb-1.5 block",children:"State*"}),s.jsxs(It,{onValueChange:we=>at("state",we),value:ke.state,disabled:!0,children:[s.jsx(Lt,{className:Re.state?"border-red-500 w-full":"w-full",children:s.jsx(Ft,{placeholder:"Select a state"})}),s.jsx(Bt,{className:"max-h-60 overflow-y-auto",children:Gy.filter(we=>we&&typeof we.label=="string").map(we=>s.jsx(Je,{value:we.label,children:we.label},we.value))})]}),Re.state&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:Re.state})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"pincode",className:"text-sm font-medium mb-1.5 block",children:"Pincode*"}),s.jsx("input",{id:"pincode",name:"pincode",type:"text",max:6,value:ke.pincode,onChange:ze,placeholder:"Pincode",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),Re.pincode&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:Re.pincode}),Y&&s.jsx(k_,{pincode:ke.pincode,isValid:fe.isValid,message:fe.message,isValidating:fe.isValidating,showServiceRequest:!fe.isValid&&!fe.isValidating&&ke.pincode.length===6,onRequestService:Jt})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:ke.isDefault,onChange:we=>Pe(ct=>({...ct,isDefault:we.target.checked})),className:"h-4 w-4 text-green-500 focus:ring-green-500 border-gray-300 rounded"}),s.jsx(ye,{htmlFor:"isDefault",className:"text-sm",children:"Set as default address"})]})]})]}):s.jsxs(s.Fragment,{children:[(()=>{var ft;const we=P.find(Et=>Et.id===M);return((ft=we==null?void 0:we.depot)==null?void 0:ft.isOnline)?s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium mb-2 block",children:"Select delivery address:"}),p?s.jsx("div",{className:"text-center py-4",children:"Loading addresses..."}):u.length>0?s.jsx(th,{value:y||"",onValueChange:w,className:"gap-3 mt-2",children:u.map(Et=>s.jsx("div",{className:`border rounded-lg p-3 cursor-pointer ${y===Et.id?"border-green-500 bg-green-50":"border-gray-200"}`,onClick:()=>w(Et.id),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(si,{value:Et.id,id:`address-${Et.id}`,className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs(ye,{htmlFor:`address-${Et.id}`,className:"font-medium cursor-pointer flex items-center gap-1",children:[Et.label,Et.isDefault&&s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Default"})]})}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Et.recipientName," • ",Et.mobile]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[Et.plotBuilding,", ",Et.streetArea,Et.landmark?`, ${Et.landmark}`:"",", ",Et.city,", ",Et.state," - ",Et.pincode]})]})]})},Et.id))}):s.jsxs("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:[s.jsx(al,{className:"mx-auto h-6 w-6 text-gray-400 mb-2"}),s.jsx("p",{className:"text-gray-500",children:"No saved addresses found."}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Please add an address in your profile first."})]}),s.jsxs(pe,{variant:"outline",className:"mt-4 text-sm border-orange-500 text-orange-500 w-full hover:bg-orange-50",size:"sm",onClick:()=>{N(!0)},children:[s.jsx(En,{className:"h-4 w-4 mr-2"})," Add New Address"]})]}):we?s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium mb-2 block",children:"Pickup from Location:"}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{className:"h-4 w-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("span",{className:"font-medium",children:we.depot.name}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Pickup"})]}),we.depot.address?s.jsxs("p",{className:"text-sm text-gray-600",children:[we.depot.address,we.depot.city&&`, ${we.depot.city}`,we.depot.pincode&&` - ${we.depot.pincode}`]}):s.jsx("p",{className:"text-sm text-gray-500 italic",children:"Location address information not available"})]}),s.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"You will need to pick up your order from this depot location."]})})]}):s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium mb-2 block",children:"Delivery/Pickup Address:"}),s.jsx("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:s.jsx("p",{className:"text-gray-500",children:"Please select a depot variant first"})})]})})(),s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm font-medium mb-2 block",children:a?`Available variants for ${a.name}:`:"Available depot variants:"}),P.length>0?s.jsx(th,{value:(M==null?void 0:M.toString())||"",onValueChange:we=>{const ct=parseInt(we,10);q(ct);const ft=P.find(Et=>Et.id===ct);ft&&(S(ft.buyOncePrice),k(ft.mrp||ft.sellingPrice||ft.buyOncePrice))},className:"gap-3 mt-2",children:P.map(we=>s.jsx("div",{className:`border rounded-lg p-3 cursor-pointer ${M===we.id?"border-green-500 bg-green-50":"border-gray-200"}`,onClick:()=>{q(we.id),S(we.buyOncePrice),k(we.mrp||we.sellingPrice||we.buyOncePrice)},children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(si,{value:we.id.toString(),id:`variant-${we.id}`,className:"mt-1"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx(ye,{htmlFor:`variant-${we.id}`,className:"font-medium cursor-pointer flex items-center gap-1",children:we.name}),s.jsx("div",{className:"text-right",children:we.mrp&&we.mrp>we.buyOncePrice?s.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[s.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["₹",Number(we.mrp).toFixed(2)]}),s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["₹",Number(we.buyOncePrice||0).toFixed(2)]})]}):s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["₹",Number(we.buyOncePrice||0).toFixed(2)]})})]})})]})},we.id))}):s.jsxs("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:[s.jsx("p",{className:"text-gray-500",children:a?`No variants available for ${a.name}`:"No depot variants available for this product"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Please try selecting a different depot."})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{htmlFor:"quantityBuyOnce",className:"text-sm font-medium block",children:"Quantity:"}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center border-2 border-green-200 rounded-xl overflow-hidden bg-white shadow-sm",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>o(Math.max(1,i-1)),className:"h-12 w-12 p-0 flex items-center justify-center rounded-none hover:bg-green-50 border-r border-green-200 transition-colors",children:s.jsx(If,{className:"h-5 w-5 text-green-600"})}),s.jsx("span",{className:"px-6 py-3 text-xl font-bold text-green-700 min-w-[80px] text-center",children:i}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>o(i+1),className:"h-12 w-12 p-0 flex items-center justify-center rounded-none hover:bg-green-50 border-l border-green-200 transition-colors",children:s.jsx(En,{className:"h-5 w-5 text-green-600"})})]})})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:"deliveryInstructions",className:"text-sm font-medium mb-2 block flex items-center gap-1",children:[s.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Delivery Instructions (Optional)"]}),s.jsx("textarea",{id:"deliveryInstructions",value:Ie,onChange:we=>Ne(we.target.value),placeholder:"e.g., Leave at gate, Call before delivery, Ring doorbell twice...",className:"w-full p-2 border border-gray-300 rounded-md text-sm resize-none focus:ring-green-500 focus:border-green-500",rows:3,maxLength:200}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Ie.length,"/200 characters"]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"deliveryDateBuyOnce",className:"text-sm font-medium mb-2 block",children:"Select delivery date:"}),s.jsx("input",{type:"date",id:"deliveryDateBuyOnce",value:kr(l),onChange:we=>{we.target.value?d(new Date(we.target.value+"T00:00:00")):d(void 0)},min:kr(new Date),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"}),!l&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please select a delivery date."})]}),s.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:s.jsxs("p",{className:"text-xs text-primary flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"1) Since the milk is sourced from 'Tribal farmers',  all payments are in Advance. 2) Both Cash & Online options are available.The plan starts after 2 days from receipt of payment. 3) For Cash payments - our person can visit your home OR you may deposit money at our Tilak Road store."]})}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs(ye,{className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[s.jsx(Wc,{className:"h-4 w-4"})," Use Wallet Balance"]}),s.jsxs("div",{className:"text-sm font-medium",children:["Available: ₹",j.toFixed(2)]})]}),$t&&j>0&&s.jsx("div",{className:"bg-white p-3 rounded border border-blue-300",children:s.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Wallet Balance:"}),s.jsxs("span",{children:["₹",j.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Amount to be deducted:"}),s.jsxs("span",{className:"font-medium text-green-600",children:["₹",qr.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-medium pt-1 border-t",children:[s.jsx("span",{children:"Remaining in wallet:"}),s.jsxs("span",{children:["₹",(j-qr).toFixed(2)]})]})]})})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Product:"}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:r==null?void 0:r.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Quantity:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[i," ",(r==null?void 0:r.unit)||""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Price per unit:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-800",children:["₹",Dr.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Date:"}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:l?Rt(l,"dd/MM/yyyy"):"Not selected"})]}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-sm text-gray-600",children:y&&u.find(we=>we.id===y)?"Delivery Address:":"Pickup Location:"}),y&&u.find(we=>we.id===y)?(()=>{const we=u.find(ct=>ct.id===y);return s.jsxs("span",{className:"text-sm font-medium text-gray-800 text-right max-w-[65%]",children:[we.label?`${Q2e(we.label)}: `:"",we.plotBuilding,", ",we.streetArea,", ",we.city," - ",we.pincode]})})():s.jsx("span",{className:"text-sm font-medium text-gray-800",children:a==null?void 0:a.address})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Product Total:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-800",children:["₹",Dr.toFixed(2)]})]}),qr>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Wallet Deduction:"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["-₹",qr.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-dashed",children:[s.jsx("span",{className:"text-gray-700 font-semibold text-base",children:"Amount Payable:"}),s.jsxs("span",{className:"font-bold text-green-600 text-base",children:["₹",Tt.toFixed(2)]})]}),s.jsx("img",{src:wz,alt:""})]})]})}),v&&s.jsx(di,{className:"p-4 sm:p-6 border-t bg-white",children:s.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[s.jsx(pe,{variant:"outline",onClick:()=>N(!1),className:"rounded-lg h-11 border-gray-300",children:"Cancel"}),s.jsx(pe,{onClick:ls,className:"bg-primary hover:bg-primary text-white rounded-lg h-11",disabled:!!(Re.recipientName||Re.mobile||Re.plotBuilding||Re.streetArea||Re.pincode||Re.city||Re.state||Re.label||Re.areaMaster),children:"Save Address"})]})}),!v&&s.jsx(di,{className:"p-4 sm:p-6 border-t bg-gray-50",children:s.jsxs("div",{className:"space-y-3 w-full",children:[ur>0&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),s.jsxs("span",{className:"font-medium",children:["You Save: ₹",ur.toFixed(2)]})]}),s.jsx("span",{className:"text-gray-500 text-xs",children:"vs MRP pricing"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[s.jsx(pe,{variant:"outline",onClick:()=>{t(!1),N(!1)},className:"flex-1 sm:flex-none sm:min-w-[120px] py-3 text-base border-gray-300 hover:bg-gray-100 transition-colors",children:"Cancel"}),s.jsx(pe,{onClick:fr,disabled:Ze||(()=>{if(!l||!M||i<1)return!0;const we=P.find(ct=>ct.id===M);return!!(!we||we.depot.isOnline&&!y||!we.depot.isOnline&&!we.depot.address)})(),className:"flex-1 sm:flex-auto bg-primary hover:bg-primary/80 text-white py-3 text-base font-semibold rounded-lg shadow-md disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none transition-all duration-200",children:Ze?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),s.jsx("span",{children:"Processing..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"hidden sm:inline",children:["Confirm Order & Pay ₹",Tt.toFixed(2)]}),s.jsxs("span",{className:"sm:hidden",children:["Pay ₹",Tt.toFixed(2)]})]})})]})]})})]}),s.jsx(Sz,{isOpen:z,onOpenChange:K,productName:r==null?void 0:r.name,areaName:Y==null?void 0:Y.name,message:V}),s.jsx(__,{isOpen:Q,onOpenChange:se,productId:r==null?void 0:r.id,productName:r==null?void 0:r.name,isDairyProduct:r==null?void 0:r.isDairyProduct,message:V||`We currently do not serve pincode ${ke.pincode}, but we're expanding!`,prefilledData:{recipientName:ke.recipientName,mobile:ke.mobile,plotBuilding:ke.plotBuilding,streetArea:ke.streetArea,landmark:ke.landmark,pincode:ke.pincode,city:ke.city||((hr=Y==null?void 0:Y.city)==null?void 0:hr.name)||"",state:ke.state},onSuccess:()=>{se(!1),ce.success("Thank you for your interest! We've saved your details and will contact you when we expand to your area.")}}),s.jsx(Ez,{isOpen:Z,onOpenChange:le,title:"Order Placed Successfully!",message:"Your subscription has been set up and will start delivering as scheduled.",orderDetails:{orderId:Te.orderId,productName:r==null?void 0:r.name,quantity:i,deliveryDate:l,totalAmount:Te.totalAmount}})]}):null},NE=[{value:3,label:"3 Days",description:"Trial Pack",color:"#3B82F6",icon:s.jsx(Rw,{className:"h-4 w-4"})},{value:15,label:"15 Days",description:"Mid Saver Pack",color:"#10B981",icon:s.jsx(Bp,{className:"h-4 w-4"})},{value:30,label:"30 Days",description:"Super Saver Pack",color:"#8B5CF6",icon:s.jsx(ra,{className:"h-4 w-4"})}],J2e=({product:e,variants:t,className:r,deliveryPreference:n="home",selectedDepotId:a})=>{var j;const[i,o]=m.useState(!1),l=async()=>e!=null&&e.id?(await xt(`/api/public/depot-variants/${e.id}`)).data||[]:[],{data:d=[],isLoading:u}=Nr({queryKey:["depot-variants",e==null?void 0:e.id],queryFn:l,enabled:!!(e!=null&&e.id)}),h=(A,E,S=!1)=>d.filter(_=>{const k=A==="home"?_.depot.isOnline:!_.depot.isOnline;let T=!1;E==="500ml"?T=_.unit==="500ml"||_.name.includes("500ml")||_.name.includes("500 ml"):E==="1L"&&(T=_.unit==="1L"||_.name.includes("1L")||_.name.includes("1 L")||_.name.includes("1 Ltrs")||_.name.includes("1 Ltr")||_.name.includes("1000ml")||_.name.includes("1000 ml"));let O=!0;return S||A==="home"?O=!0:A==="pickup"&&(O=!a||_.depot.id===a),k&&T&&O}),p=()=>{const A=h("home","500ml"),E=h("home","1L"),S=h("pickup","500ml"),_=h("pickup","1L");return console.log("Available variants:",{online500ml:A.map(k=>({name:k.name,unit:k.unit,depot:k.depot.name})),online1L:E.map(k=>({name:k.name,unit:k.unit,depot:k.depot.name})),pickup500ml:S.map(k=>({name:k.name,unit:k.unit,depot:k.depot.name})),pickup1L:_.map(k=>({name:k.name,unit:k.unit,depot:k.depot.name}))}),{online500ml:A,online1L:E,pickup500ml:S,pickup1L:_}},g=(A,E=n,S="500ml",_=!1)=>{const k=h(E,S,_);if(k.length===0)return 0;const T=k[0];if(A==="mrp")return T.mrp||T.price||0;if(A==="buyOnce")return T.buyOncePrice||0;switch(A){case 3:return T.price3Day||0;case 15:return T.price15Day||0;case 30:return T.price1Month||0;default:return 0}},y=(A,E=n,S="500ml",_=!1)=>{const k=g("mrp",E,S,_),T=g(A,E,S,_);if(k===0||T===0)return 0;const O=Math.round((k-T)/k*100);return Math.max(0,O)},w=(A,E=n,S="500ml",_=!1)=>{const k=g("mrp",E,S,_),T=g(A,E,S,_);return k===0||T===0?0:Math.max(0,k-T)},v=()=>{var E;if(!a)return"";const A=(E=d.find(S=>S.depot.id===a))==null?void 0:E.depot;return A?A.name:""},N=A=>[{id:"daily",label:"Daily",description:"Fresh delivery every single day",tooltip:"Receive your order every day, so you never run out.",minPeriod:3},{id:"alternate-days",label:"Alternate Days",description:"Every other day delivery",tooltip:"Get your order every other day (Day 1, Day 3, Day 5…). Great if you use it regularly but not daily.",minPeriod:15},{id:"day1-day2",label:"Day 1–Day 2",description:"Varying quantities",tooltip:"On Day 1 you’ll get one quantity, on Day 2 a different quantity, then it repeats. Ideal for changing needs.",minPeriod:15},{id:"select-days",label:"Weekdays",description:"Custom days selection",tooltip:"Pick the exact weekdays you want deliveries (e.g., Monday, Wednesday, Friday). Total flexibility.",minPeriod:30}].filter(S=>A>=S.minPeriod);return je.useEffect(()=>{d.length>0&&p()},[d,a]),je.useMemo(()=>NE.map(A=>({period:A.label,periodValue:A.value,price:g(A.value,n),buyOncePrice:g("buyOnce",n),savings:y(A.value,n),color:A.color,description:A.description,icon:A.icon,availableSchedules:N(A.value)})),[n,d,a]),u?s.jsxs(pe,{variant:"outline",disabled:!0,className:"w-full py-3 text-sm border-blue-500 text-blue-600 hover:bg-blue-50 flex items-center justify-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4 rounded-full"}),"Loading Pricing..."]}):!e&&(!t||t.length===0)&&d.length===0?null:(e!=null&&e.unit||(j=t==null?void 0:t[0])!=null&&j.unit,s.jsxs(s.Fragment,{children:[s.jsxs(pe,{variant:"outline",onClick:()=>o(!0),className:"w-full py-3 text-sm border-blue-500 text-blue-600 hover:bg-blue-50 flex items-center justify-center gap-2",children:[s.jsx(wg,{className:"h-4 w-4"}),"View Subscription Pricing & Schedules"]}),s.jsx(as,{open:i,onOpenChange:o,children:s.jsxs(is,{className:"sm:max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs(fs,{children:[s.jsxs(hs,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Ng,{className:"h-5 w-5 text-blue-600"}),"Subscription Pricing & Schedules"]}),s.jsx(Gc,{className:"absolute right-4 top-4",children:s.jsx(ai,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[70vh] space-y-6 pr-2",children:[s.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-lg border",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:(e==null?void 0:e.name)||"Product"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-gray-900",children:"Choose the best subscription plan for your needs. Longer periods offer better savings!"}),n==="pickup"&&a&&v()&&s.jsx("div",{className:"bg-green-100 p-2 rounded-md",children:s.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["📍 Showing prices for: ",v()]})}),n==="home"&&s.jsx("div",{className:"bg-blue-100 p-2 rounded-md",children:s.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"🚚 Showing online delivery prices"})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 text-lg",children:["Subscription Pricing for ",n==="home"?"Online Delivery":"Store Pickup"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border border-gray-500 rounded-lg",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700 border-r border-gray-500",children:"Period"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-700 border-r border-gray-500",colSpan:2,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"500ml",s.jsx("span",{className:"text-xs text-gray-500",children:"(₹55)"})]})}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-700",colSpan:2,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"1L",s.jsx("span",{className:"text-xs text-gray-500",children:"(₹110)"})]})})]}),s.jsxs("tr",{className:"bg-gray-50 border-t border-gray-500",children:[s.jsx("th",{className:"py-2 px-4 border-r border-gray-500"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Price"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Savings"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Price"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Savings"})]})]}),s.jsxs("tbody",{className:"divide-y divide-gray-500",children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 border-r border-gray-500",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"text-gray-900 font-medium",children:"Buy Once"})})}),s.jsxs("td",{className:"text-center py-3 px-3 font-semibold text-gray-900 border-r border-gray-500",children:["₹",g("buyOnce",n,"500ml")||"--"]}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:s.jsxs(Ir,{className:"bg-gray-200 text-gray-900 text-xs mb-1",children:[y("buyOnce",n,"500ml"),"% off"]})}),s.jsxs("td",{className:"text-center py-3 px-3 font-semibold text-gray-900 border-r border-gray-500",children:["₹",g("buyOnce",n,"1L")||"--"]}),s.jsx("td",{className:"text-center py-3 px-3",children:s.jsxs(Ir,{className:"bg-green-200 text-green-800 text-xs mb-1",children:[y("buyOnce",n,"1L"),"% off"]})})]}),NE.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 border-r border-gray-500",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{style:{color:A.color},className:"flex items-center",children:A.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 text-sm",children:A.label}),s.jsx("div",{className:"text-xs text-gray-900",children:A.description})]})]})}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:s.jsxs("span",{className:"font-semibold text-gray-900",children:["₹",g(A.value,n,"500ml")||"--"]})}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:y(A.value,n,"500ml")>0?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs(Ir,{className:"bg-green-200 text-green-800 text-xs mb-1",children:[y(A.value,n,"500ml"),"% off"]}),s.jsxs("span",{className:"text-xs text-primary-foreground font-medium",children:["Save ₹",w(A.value,n,"500ml")]})]}):s.jsx("span",{className:"text-xs text-gray-400",children:"No savings"})}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:s.jsxs("span",{className:"font-semibold text-gray-900",children:["₹",g(A.value,n,"1L")||"--"]})}),s.jsx("td",{className:"text-center py-3 px-3",children:y(A.value,n,"1L")>0?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs(Ir,{className:"bg-green-200 text-green-800 text-xs mb-1",children:[y(A.value,n,"1L"),"% off"]}),s.jsxs("span",{className:"text-xs text-primary-foreground font-medium",children:["Save ₹",w(A.value,n,"1L")]})]}):s.jsx("span",{className:"text-xs text-gray-400",children:"No savings"})})]},A.value))]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Available Delivery Schedules by Period"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:NE.map(A=>{const E=N(A.value);return s.jsxs("div",{className:"bg-white rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{style:{color:A.color},children:A.icon}),s.jsx("span",{className:"font-medium text-sm",children:A.label})]}),s.jsx("div",{className:"space-y-1",children:E.map(S=>s.jsx(Ir,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200 mr-1 mb-1",children:S.label},S.id))})]},A.value)})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 text-lg flex items-center gap-2",children:[s.jsx(Bp,{className:"h-5 w-5 text-blue-600"}),"Delivery Schedule Details"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N(30).map(A=>s.jsx("div",{className:"border rounded-lg p-4 bg-gradient-to-br from-blue-50/30 to-white hover:shadow-md transition-all duration-200 cursor-help group relative",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-secondary rounded-full mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-1 group-hover:text-blue-700 transition-colors",children:A.label}),s.jsx("p",{className:"text-sm text-gray-900 mb-2",children:A.description}),s.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:["Available for: ",A.id==="daily"?"All periods":A.id==="alternate-days"||A.id==="day1-day2"?"15+ days":"30 days only"]}),s.jsxs("div",{className:"absolute left-4 right-4 top-full mt-2 bg-gray-900 text-white text-xs p-3 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 shadow-lg",children:[s.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-900 rotate-45"}),A.tooltip]})]})]})},A.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:"Subscription Benefits"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Better pricing than one-time purchases"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Flexible delivery schedules"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Pause or modify anytime"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Fresh delivery guaranteed"})]})]})]})]})]})})]}))},eSe=()=>Nr({queryKey:["area-masters"],queryFn:async()=>{const t=await xt("/api/public/area-masters");return t.data||t},staleTime:5*60*1e3,cacheTime:10*60*1e3}),iI=({showDeliveryInfo:e=!0,showDairyOnly:t=!1,simple:r=!1})=>{const[n,a]=m.useState(""),{data:i=[],isLoading:o,isError:l}=eSe(),d=m.useMemo(()=>{let p=Array.isArray(i)?i:[];return p=p.filter(g=>g&&g.deliveryType==="HandDelivery"),t&&(p=p.filter(g=>g&&g.isDairyProduct)),n&&(p=p.filter(g=>{var y,w;return g&&(g.name.toLowerCase().includes(n.toLowerCase())||g.pincodes.includes(n)||!!((w=(y=g.depot)==null?void 0:y.name)!=null&&w.toLowerCase().includes(n.toLowerCase())))})),p},[i,n,t]),u=d;return o?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ot,{className:"h-6 w-48"}),s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,p)=>s.jsxs(yt,{className:"w-full",children:[s.jsx(_t,{children:s.jsx(Ot,{className:"h-6 w-32"})}),s.jsxs(Nt,{className:"space-y-2",children:[s.jsx(Ot,{className:"h-4 w-full"}),s.jsx(Ot,{className:"h-4 w-3/4"})]})]},p))})]}):l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(al,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Failed to load delivery areas"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please try again later"})]}):Array.isArray(i)&&i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(al,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"No delivery areas available"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"We're expanding our coverage soon"})]}):r?s.jsx("div",{className:"space-y-2",children:u.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(h=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 rounded-md",children:h.name},h.id))}):s.jsx("p",{className:"text-sm text-gray-500",children:"No delivery areas available"})}):s.jsxs("div",{className:"space-y-6",children:[d.length===0&&n&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(qs,{className:"mx-auto h-8 w-8 mb-3 text-gray-400"}),s.jsxs("p",{className:"text-gray-500",children:['No areas found for "',n,'"']}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try a different search term or pincode"})]}),u.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:s.jsx(Tu,{className:"h-5 w-5 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Home Delivery Areas"}),s.jsxs(Ir,{variant:"secondary",className:"bg-green-100 text-green-700",children:[u.length," areas"]})]}),s.jsx("div",{className:"grid gap-2 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2",children:u.map(h=>s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border border-green-100 bg-green-50/50 hover:bg-green-50 transition-colors",children:[s.jsx(al,{className:"h-3 w-3 text-green-600 flex-shrink-0"}),s.jsx("span",{className:"text-sm font-medium text-gray-700 flex-wrap",children:h.name})]},h.id))})]})]})},Zg=()=>{const[e,t]=m.useState(null),[r,n]=m.useState("home"),a=1,[i,o]=m.useState(!1),[l,d]=m.useState(!1),[u,h]=m.useState(!1),[p,g]=m.useState(!1),[y,w]=m.useState(!1),[v,N]=m.useState(!1),[j,A]=m.useState(!1);m.useEffect(()=>{try{const R=localStorage.getItem("user");if(R){const X=JSON.parse(R);N(!!X),X&&X.role==="ADMIN"&&A(!0)}else N(!1)}catch(R){console.error("Failed to parse user data from localStorage",R),N(!1)}},[]);const E=async()=>{const R=await xt("/depots?limit=1000");return(R==null?void 0:R.data)??R},{data:S=[],isLoading:_}=Nr({queryKey:["depots"],queryFn:E});m.useEffect(()=>{if(v&&S&&S.length>0){let R=S;if(r==="home"?R=S.filter(X=>X.isOnline):r==="pickup"&&(R=S.filter(X=>!X.isOnline)),R.length>0){const X=S.find(Y=>Y.id===e);X&&(r==="home"&&X.isOnline||r==="pickup"&&!X.isOnline)||t(R[0].id)}else t(null)}else!v&&S&&S.length>0&&!e&&t(S[0].id)},[S,r,v,e]);const k=async R=>await xt(`/products/${R}`),{data:T,isLoading:O,isError:P,error:I}=Nr({queryKey:["product",a],queryFn:()=>k(a),enabled:!0,staleTime:0,cacheTime:0}),M=S.find(R=>R.id===e),q=()=>{o(!0)},U=()=>{d(!0)},re=async R=>{console.log("Subscription Confirmed, preparing to send to backend:",R);try{const X=parseInt(R.selectedAddress,10);if(isNaN(X)){console.error("Invalid deliveryAddressId after parsing:",R.selectedAddress);return}const W={productId:R.productId?Number(R.productId):void 0,deliveryAddressId:X,period:R.selectedPeriod,deliverySchedule:R.deliveryOption.toUpperCase(),weekdays:R.deliveryOption==="select-days"&&R.selectedDays&&R.selectedDays.length>0?R.selectedDays:void 0,qty:R.quantity,altQty:R.deliveryOption==="varying"?R.quantityVarying2:void 0,startDate:R.startDate};console.log("Payload to be sent:",W);const Y=await Kr("/subscriptions",W);console.log("Subscription created successfully:",Y)}catch(X){console.error("Failed to create subscription:",X)}},te=async R=>{console.log("Buy Once Confirmed, processing as single-day subscription:",{...R,selectedDate:R.selectedDate?Rt(R.selectedDate,"yyyy-MM-dd"):void 0});try{const X=R.selectedAddress,W=parseInt(X,10);if(isNaN(W)){console.error("Invalid deliveryAddressId after parsing:",X),ce.error("Invalid delivery address selected");return}const Y={productId:R.productId?Number(R.productId):void 0,deliveryAddressId:W,period:1,deliverySchedule:"DAILY",weekdays:void 0,qty:R.quantity,startDate:R.selectedDate?Rt(R.selectedDate,"yyyy-MM-dd"):void 0,altQty:void 0,isOneTimePurchase:!0};console.log("Buy Once payload (sent as subscription):",Y);const F=await Kr("/subscriptions",Y);console.log("One-time purchase created as subscription successfully:",F),ce.success("Your order has been placed successfully!")}catch(X){console.error("Failed to create one-time purchase:",X),ce.error("Failed to place your order. Please try again.")}};if(O)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsx(Ot,{className:"h-[400px] w-full rounded-2xl"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ot,{className:"h-9 w-3/4"}),s.jsx(Ot,{className:"h-6 w-1/2"}),s.jsxs("div",{className:"space-y-2 mt-6",children:[s.jsx(Ot,{className:"h-5 w-full"}),s.jsx(Ot,{className:"h-5 w-4/5"}),s.jsx(Ot,{className:"h-5 w-3/4"})]}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsx(Ot,{className:"h-12 w-full"}),s.jsx(Ot,{className:"h-12 w-full"})]}),s.jsx(Ot,{className:"h-14 w-full mt-8 rounded-2xl"})]})]})})});if(P||!T)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(ea,{variant:"destructive",className:"max-w-4xl mx-auto",children:[s.jsx(Hc,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Error Loading Product"}),s.jsxs(ta,{children:["There was a problem retrieving the product details. Error: ",(I==null?void 0:I.message)||"Product data not found."]}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{variant:"outline",onClick:()=>window.location.reload(),className:"text-primary",children:"Try Again"})})]})});const B=[{icon:s.jsx(oh,{className:"w-6 h-6 text-green-600"}),title:"100% Natural",description:"No additives or preservatives"},{icon:s.jsx(Tu,{className:"w-6 h-6 text-blue-600"}),title:"Daily Delivery",description:"Fresh to your doorstep every morning"},{icon:s.jsx(ra,{className:"w-6 h-6 text-purple-600"}),title:"Flexible Schedule",description:"Pause or modify anytime"}],H=T!=null&&T.tags?T.tags.split(",").map(R=>R.trim()).filter(R=>R.length>0):[];return s.jsx("div",{className:"container min-w-full px-4 py-8 max-sm:py-2 bg-white",children:s.jsxs(Rs.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[s.jsx("div",{className:"bg-muted/10 rounded-2xl flex items-center justify-center  border border-muted/20 max-h-[558px] max-sm:max-h-[380px]",children:T.attachmentUrl?s.jsx(Rs.img,{src:`http://localhost:3000${T.attachmentUrl}`,alt:T.name,className:"object-cover max-md:object-fit max-sm:object-contain rounded-2xl w-full h-full",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5}}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-gray-700",children:[s.jsx("div",{className:"bg-muted/30 rounded-full p-6 mb-4",children:s.jsx(oh,{className:"w-16 h-16"})}),s.jsx("p",{className:"text-lg",children:"Fresh Milk Image"})]})}),s.jsxs("div",{className:"py-4",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-1",children:T.name}),s.jsx("div",{className:"mt-2",children:H.map(R=>s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full",children:R},R))}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Description"}),s.jsx("div",{style:{textAlign:"justify"},className:"text-gray-700 leading-relaxed prose",children:T.description?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{maxHeight:"6em",overflow:"hidden",position:"relative",cursor:T.description.length>200?"pointer":"default"},onClick:()=>T.description&&T.description.length>200&&h(!0),dangerouslySetInnerHTML:{__html:T.description}}),T.description.length>200&&s.jsx("span",{onClick:()=>h(!0),className:"text-primary font-medium ml-1 cursor-pointer hover:underline",children:"Read more"})]}):s.jsx("p",{children:"Our premium milk comes from grass-fed cows raised in natural pastures. Rich in calcium and essential nutrients, it's pasteurized for safety while maintaining its natural goodness."})})]}),s.jsx("div",{className:"border-t border-muted/20 my-2"}),s.jsx("h1",{className:"text-xl font-semibold mb-1",children:"Subscribe by making an online payment or by paying in advance."}),s.jsx("div",{className:"border-t border-muted/20 my-2"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-3 font-medium",children:"Delivery Preference:"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"deliveryPreference",value:"home",checked:r==="home",onChange:R=>n(R.target.value),className:"mr-2"}),"Home Delivery"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"deliveryPreference",value:"pickup",checked:r==="pickup",onChange:R=>n(R.target.value),className:"mr-2"}),"Store Pickup"]})]})]}),r==="pickup"&&s.jsx("div",{className:"mb-4",children:_?s.jsx(Ot,{className:"h-10 w-full"}):s.jsxs(It,{value:e!=null?e.toString():"",onValueChange:R=>t(parseInt(R,10)),children:[s.jsx(Lt,{className:"w-full mt-2 border-black",children:s.jsx(Ft,{placeholder:"Select a store for pickup"})}),s.jsx(Bt,{children:S.filter(R=>!R.isOnline).map(R=>s.jsxs(Je,{value:R.id.toString(),children:[R.name," - ",R.address]},R.id))})]})}),r==="home"&&s.jsx("div",{className:"mb-4",children:s.jsx(iI,{title:"",showDeliveryInfo:!0,showDairyOnly:T==null?void 0:T.isDairyProduct})}),r==="pickup"&&s.jsx("div",{className:"mb-4",children:s.jsxs(pe,{variant:"outline",onClick:()=>g(!0),className:"w-full py-2 text-sm border-blue-500 text-blue-600 hover:bg-blue-50",children:[s.jsx(Tu,{className:"h-4 w-4 mr-2"}),"View Store Pickup Locations"]})}),s.jsx("div",{className:"mt-8",children:s.jsx(J2e,{product:T,deliveryPreference:r,selectedDepotId:e})})]}),s.jsx("div",{className:"border-t border-muted/20 my-2"}),s.jsxs("div",{className:"mb-2",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Benefits"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:B.map((R,X)=>s.jsxs(Rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:X*.1},className:"bg-card p-4 rounded-xl border border-muted/20 flex items-start",children:[s.jsx("div",{className:"mr-3 mt-1",children:R.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:R.title}),s.jsx("p",{className:"text-sm text-gray-700",children:R.description})]})]},X))})]}),s.jsx("div",{className:"mt-8 space-y-4",children:v?s.jsx(s.Fragment,{children:v&&!j&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(Rs.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:s.jsx(pe,{className:"w-full py-6 text-md sm:text-lg bg-secondary hover:bg-secondary/80 text-white shadow-lg transition-all duration-300 rounded-xl",onClick:U,children:"Buy Once"})}),s.jsx(Rs.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:s.jsx(pe,{className:"w-full py-6 text-md sm:text-lg bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary text-white shadow-lg transition-all duration-300 rounded-xl",onClick:q,children:"Subscribe Now"})})]})}):s.jsxs("div",{children:[s.jsx(pe,{asChild:!0,className:"mb-2 w-full bg-secondary hover:bg-secondary/80 text-white py-6 rounded-lg text-lg font-semibold transition-transform duration-200 hover:scale-105",children:s.jsx(Mr,{to:"/login",children:"Buy Once"})}),s.jsx(pe,{asChild:!0,className:"w-full bg-primary hover:bg-primary/80 text-white py-6 rounded-lg text-lg font-semibold transition-transform duration-200 hover:scale-105",children:s.jsx(Mr,{to:"/login",children:"Subscribe"})})]})})]})]}),s.jsx(X2e,{depotId:e,isOpen:i,onOpenChange:o,product:T,productId:a,selectedDepot:M,onSubscribeConfirm:re}),s.jsx(Z2e,{isOpen:l,onOpenChange:d,selectedDepot:M,product:T,productId:a,onBuyOnceConfirm:te}),s.jsx(as,{open:u,onOpenChange:h,children:s.jsxs(is,{className:"sm:max-w-2xl",children:[s.jsxs(fs,{children:[s.jsxs(hs,{className:"text-xl font-bold",children:[T.name," - Full Description"]}),s.jsx(Gc,{className:"absolute right-4 top-4",children:s.jsx(ai,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-4 max-h-[70vh] overflow-y-auto",children:s.jsx("div",{className:"text-gray-700 leading-relaxed prose",dangerouslySetInnerHTML:{__html:T.description||"Our premium milk comes from grass-fed cows raised in natural pastures. Rich in calcium and essential nutrients, it's pasteurized for safety while maintaining its natural goodness. We source our milk from local farms that prioritize animal welfare and sustainable farming practices. Each bottle undergoes rigorous quality checks to ensure you receive the freshest, most nutritious product possible. The cows are fed a natural diet without hormones or antibiotics, resulting in milk that's both delicious and healthier. Perfect for drinking, cooking, or adding to your morning coffee, our milk is a versatile addition to any kitchen. We're proud to support local farmers and bring you a product that's not only good for you but also good for the environment."}})})]})}),s.jsx(as,{open:p,onOpenChange:g,children:s.jsxs(is,{className:"w-full max-w-full h-full max-h-full sm:max-w-4xl sm:max-h-[80vh] p-0 sm:p-6 flex flex-col",children:[s.jsxs(fs,{className:"px-4 pt-4 sm:px-0 sm:pt-0",children:[s.jsxs(hs,{className:"text-lg sm:text-xl font-bold flex items-center gap-2",children:[s.jsx(Tu,{className:"h-5 w-5 text-blue-600"}),"All Delivery Locations"]}),s.jsx(Gc,{className:"absolute right-4 top-4",children:s.jsx(ai,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-4 flex-1 overflow-y-auto px-4 sm:px-0",children:_?s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((R,X)=>s.jsx(Ot,{className:"h-16 w-full"},X))}):s.jsx("div",{className:"overflow-y-auto max-h-[60vh] sm:max-h-[60vh]",children:s.jsx("div",{className:"grid gap-4",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold mb-3 text-orange-600 flex items-center gap-2",children:[s.jsx(ra,{className:"h-4 w-4"}),"Store Pickup Locations"]}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg overflow-x-auto",children:[s.jsxs("table",{className:"w-full min-w-[600px]",children:[s.jsx("thead",{className:"bg-orange-100 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Store Name"}),s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Address"}),s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Contact Person"}),s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Contact Number"})]})}),s.jsx("tbody",{children:S.filter(R=>!R.isOnline).map((R,X)=>s.jsxs("tr",{className:X%2===0?"bg-white":"bg-orange-25",children:[s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm font-medium text-gray-900",children:R.name}),s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm text-gray-600",children:R.address}),s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm text-gray-600",children:R.contactPerson}),s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm text-gray-600",children:R.contactNumber})]},R.id))})]}),S.filter(R=>!R.isOnline).length===0&&s.jsxs("div",{className:"p-4 sm:p-8 text-center text-gray-500",children:[s.jsx(ra,{className:"mx-auto h-8 w-8 mb-2 text-gray-400"}),s.jsx("p",{children:"No store pickup locations available"})]})]})]})})})}),s.jsx("div",{className:"mt-6 flex justify-end px-4 sm:px-0 pb-4 sm:pb-0",children:s.jsx(pe,{variant:"outline",onClick:()=>g(!1),className:"w-full sm:w-auto",children:"Close"})})]})}),s.jsx(as,{open:y,onOpenChange:w,children:s.jsxs(is,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden",children:[s.jsxs(fs,{children:[s.jsxs(hs,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Tu,{className:"h-5 w-5 text-green-600"}),"Home Delivery Areas"]}),s.jsx(Gc,{className:"absolute right-4 top-4",children:s.jsx(ai,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:s.jsx(iI,{title:"Home Delivery Areas",showDeliveryInfo:!0,showDairyOnly:T==null?void 0:T.isDairyProduct})})}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx(pe,{variant:"outline",onClick:()=>w(!1),children:"Close"})})]})})]})})};function tSe(){return s.jsx("div",{className:"w-full bg-primary/20 rounded-lg",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"flex  p-4 mb-2  flex-col items-start",children:[s.jsx("div",{className:"flex flex-col",children:s.jsx("h2",{className:"p-2 ml-4 text-secondary text-xl md:text-3xl tracking-tighter lg:max-w-xl font-regular",children:"Why choose Indraai"})}),s.jsx("div",{className:"flex gap-2 pt-6 flex-col w-full",children:s.jsxs("div",{className:"grid grid-cols-1 items-stretch lg:grid-cols-4 gap-4 overflow-x-auto",children:[s.jsxs("div",{className:"flex flex-row gap-4 min-w-full items-start h-full  min-h-[80px] p-4 mr-2 bg-white rounded-lg",children:[s.jsx(Oc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary rounded",children:[s.jsx("p",{className:"font-medium",children:"100% Pure A2 Gir Cow Milk"}),s.jsx("p",{className:"text-muted-foreground text-sm text-wrap",children:"Naturally nutritious and easy to digest"})]})]}),s.jsxs("div",{className:"flex flex-row gap-4 min-w-full items-start h-full  min-h-[80px]  p-4 mr-2 bg-white rounded-lg",children:[s.jsx(Oc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Absolutely No Adulteration"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Only clean, untainted milk"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(Oc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Free from Antibiotics"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Safe and chemical-free"})]})]}),s.jsxs("div",{className:"flex flex-row gap-4 w-full items-start h-full  min-h-[80px]  p-4 mr-2 bg-white rounded-lg",children:[s.jsx(Oc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"No Artificial Insemination"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Ethical, traditional breeding practices"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(Oc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Cruelty-Free"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Respectful, humane treatment of animals"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(Oc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Hormone-Free"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"No growth hormones or unnatural additives"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(Oc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Chemical-Free"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Zero exposure to harmful substances"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(Oc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"No Steroids"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Clean, unmodified milk"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(Oc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Free-Grazing Cows"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Open pasture grazing for natural well-being"})]})]})]})})]})})})}const rSe="/assets/picture-DlnfMX8t.png",sSe=({className:e=""})=>{const t=[{icon:IJ,title:"Strengthens Immunity",description:"Supports the body's natural defense system"},{icon:Rw,title:"High in Calcium & Protein",description:"Essential nutrients for strong bones and muscles"},{icon:li,title:"Gentle on the Stomach",description:"Does not cause bloating or indigestion"},{icon:uA,title:"Anti-Inflammatory Benefits",description:"Helps reduce internal inflammation"},{icon:uA,title:"Supports Heart Health",description:"Promotes cardiovascular well-being"},{icon:eL,title:"Nourishes the Skin",description:"Contributes to healthy, glowing skin"}],r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},n={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},a={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}},i={hidden:{opacity:0,x:50},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}};return s.jsx("div",{className:`py-4 px-4 overflow-x-hidden overflow-y-hidden ${e}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[s.jsxs(Rs.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center ",variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[s.jsxs(Rs.div,{className:"relative   ",variants:a,children:[s.jsx("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl",children:s.jsx("img",{src:rSe,alt:"A2 Milk from Indian Desi Cows",className:"w-full h-[400px] lg:h-[500px] object-cover"})}),s.jsxs(Rs.div,{className:"absolute z-22 -bottom-4 -right-4 bg-primary text-primary-foreground px-4 py-2 rounded-full shadow-lg",initial:{scale:0},animate:{scale:1},transition:{duration:.5},children:[s.jsx(FZ,{className:"w-5 h-5 inline mr-2"}),"Pure A2 Milk"]})]}),s.jsx(Rs.div,{className:"space-y-6 overflow-hidden",variants:i,children:s.jsxs("div",{children:[s.jsx(Ir,{variant:"outline",className:"mb-4",children:"Premium Quality"}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-6",children:"A2 Milk"}),s.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed text-justify",children:[s.jsx("p",{children:"A2 milk contains the A2 beta-casein protein, which is naturally present in the milk of Indian-origin (Desi) cow breeds such as Gir, Kathiawadi, Dangi, Sahiwal, Hallikar, Konkan Gidda, and others. This protein makes A2 milk lighter on the stomach and easier to digest."}),s.jsx("p",{children:"A2 milk is structurally closer to human mother's milk, making it not only more digestible but also suitable for young children."}),s.jsx("p",{children:"In contrast, regular milk typically comes from hybrid breeds like Holstein Friesian and Jersey cows. While these breeds are preferred in commercial dairies due to their high milk yield, their milk contains A1 beta-casein, which may cause digestive discomfort—such as bloating, gas, or cramps—in some individuals."}),s.jsx("p",{children:"For those sensitive to regular milk, A2 milk offers a gentler, nutrient-rich alternative that supports better digestion and overall well-being."})]})]})})]}),s.jsxs(Rs.div,{className:"space-y-3 border border-gray-200 p-4 rounded-lg bg-primary/20",variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[s.jsxs(Rs.div,{className:"text-center space-y-2 ",variants:n,children:[s.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"A2 Milk Benefits"}),s.jsx("p",{className:"text-sm text-gray-700 max-w-2xl mx-auto",children:"Discover the numerous health advantages of choosing A2 milk for you and your family"})]}),s.jsx(Rs.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",variants:r,children:t.map((o,l)=>s.jsx(Rs.div,{variants:n,whileHover:{y:-3},transition:{duration:.2},children:s.jsx(yt,{className:"h-fit hover:shadow-md transition-all duration-300 border-border/50 hover:border-primary/20",children:s.jsx(Nt,{className:"",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg flex-shrink-0",children:s.jsx(o.icon,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-1 leading-snug",children:o.title}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:o.description})]})]})})})},l))})]})]})})},oI=()=>{const e=Cr(),[t,r]=m.useState("login"),[n,a]=m.useState([]),[i,o]=m.useState(!0),[l,d]=m.useState(null),[u,h]=m.useState(!1),[p,g]=m.useState(null),[y,w]=m.useState([]),[v,N]=m.useState(!0),[j,A]=m.useState(null),[E,S]=m.useState(!1),[_,k]=m.useState(null),T={},O="http://localhost:3000";m.useEffect(()=>{(async()=>{o(!0),d(null);try{const U=await fetch("/products/public");if(!U.ok)throw new Error(`HTTP error! status: ${U.status}`);const re=await U.json();a(re)}catch(U){d(U instanceof Error?U.message:"An unknown error occurred")}finally{o(!1)}})();const q=localStorage.getItem("user");if(q)try{const U=JSON.parse(q);U&&(S(!0),k(U.name||U.username||U.email||"User"),U.role&&g(U.role))}catch(U){console.error("Failed to parse user data from localStorage",U),g(null),S(!1),k(null)}else g(null),S(!1),k(null)},[]),m.useEffect(()=>{(async()=>{N(!0),A(null);try{const q=await xt("/api/admin/public/banners",{sortBy:"listOrder",sortOrder:"asc",limit:7});if(q&&q.banners&&q.banners.length>0){const U=q.banners.filter(re=>re.imagePath).map(re=>{const te=T[re.id]||(re.mobileImagePath?`${O}${re.mobileImagePath}`:`${O}${re.imagePath}`);return{id:re.id,src:`${O}${re.imagePath}`,alt:re.caption||`Indraai Milk Banner ${re.id}`,title:re.description||void 0,mobileSrc:te}});w(U)}else w([{id:"unsplash-1",src:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=640&auto=format&fit=crop",alt:"Fresh milk in glass bottles",title:"Pure A2 Milk, Delivered Fresh"},{id:"unsplash-2",src:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=640&auto=format&fit=crop",alt:"Cows grazing in green pasture",title:"From Happy Cows to Your Home"},{id:"unsplash-3",src:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=2080&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=640&auto=format&fit=crop",alt:"Dairy farm at sunrise",title:"Natural, Ethical, Sustainable"}])}catch(q){const U=q instanceof Error?q.message:"Failed to fetch banners for hero section";console.error("Error fetching hero banners:",U),A(U),w([{id:"unsplash-1",src:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=640&auto=format&fit=crop",alt:"Fresh milk in glass bottles",title:"Pure A2 Milk, Delivered Fresh"},{id:"unsplash-2",src:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=640&auto=format&fit=crop",alt:"Cows grazing in green pasture",title:"From Happy Cows to Your Home"},{id:"unsplash-3",src:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=2080&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=640&auto=format&fit=crop",alt:"Dairy farm at sunrise",title:"Natural, Ethical, Sustainable"}])}finally{N(!1)}})()},[]);const P=()=>{localStorage.removeItem("user"),e("/"),window.location.reload()},I=E&&p==="MEMBER";return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[s.jsx(C9,{isLoggedIn:E,userName:_,onLogout:P,showWallet:I}),s.jsx("section",{className:"relative mt-25",children:s.jsxs("div",{className:"relative w-full",children:[v&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center ",children:s.jsx("p",{children:"Loading images..."})}),!v&&j&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-100",children:s.jsxs("p",{className:"text-red-700",children:["Could not load banner images: ",j]})}),!v&&!j&&y.length>0&&s.jsx(B2e,{images:y})]})}),s.jsx("section",{id:"benefits",className:"py-8 bg-white",children:s.jsxs("div",{className:"container max-w-6xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center text-primary mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight mb-3 text-primary",children:"Indraai"}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"h-1 w-20  rounded-full"})}),s.jsxs("p",{className:"text-lg max-w-7xl text-gray-800 leading-relaxed text-justify",children:["Indraai combines two words Indriya (Senses) that connect the soul - Atma to the physical world and Aai (Mother) - i.e., the food from the mother to nourish the senses.",s.jsx("br",{}),s.jsx("br",{}),"Indraai is a brand of"," ",s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"})," ","that aims to give wholesome pure food, without addition of any artificial substances.",s.jsx("br",{}),s.jsx("br",{}),"The Dairy and Processed products such as A2 ghee, A2 Ghee ladoos, Woodpressed oils, Namkeen etc. are marketed under the brand name of Indraai."]})]}),s.jsx("div",{id:"product-detail-section",children:s.jsx(Zg,{})}),s.jsx("div",{className:"block",children:s.jsx(tSe,{})}),s.jsx("div",{children:s.jsx(sSe,{})})]})}),s.jsx("section",{className:"py-6 bg-white",children:s.jsxs("div",{className:"container max-w-6xl mx-auto px-4 bg-white",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:"The way we satisfy the demand of A2 Milk"}),s.jsx("div",{className:"w-32 md:w-48 h-1 bg-primary rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-sm md:text-base text-gray-700 max-w-4xl mx-auto leading-relaxed text-justify",children:"Absolutely nothing—we don't regulate milk supply based on demand. Our milk comes directly from the Bharwad community, who have been rearing Gir cows for generations, without any external chemicals or additives to boost production."}),s.jsx("p",{className:"text-sm md:text-base text-gray-700 max-w-4xl mx-auto leading-relaxed mt-2 text-justify",children:"Instead, the Bharwad community's relationship with Desi Gir cows transcends today's commercial mindset:"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsx("div",{className:"group",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 text-center",children:"Native Heritage"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center",children:"The Desi Gir cow originates in the Gir Forest of Gujarat, India. She's distinguished by a pronounced hump and loose skin around her neck, celebrated for her gentle disposition and remarkable resilience in any climate."})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 text-center",children:"Natural Milking Cycle"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center",children:"On each farm, some Gir cows are in their milking phase while others rest. Calves always feed first; any remaining milk is then collected by the farmer. Cows not lactating receive the same dedicated care until the end of their natural lives."})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 text-center",children:"Essential Bulls"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center",children:"Gir bulls assist with agricultural work and help sustain the herd through natural breeding, ensuring the continuation of the breed's legacy."})]})})]})]})}),s.jsx(nSe,{})]})},nSe=()=>s.jsxs("footer",{className:"bg-slate-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-8 gap-y-10",children:[s.jsxs("div",{className:"md:col-span-12 lg:col-span-4",children:[s.jsxs("div",{className:"mb-6 flex items-center",children:[s.jsx(oh,{className:"h-10 w-10 text-green-600 mr-3"}),s.jsx("a",{href:"https://sarkhotnaturalfarms.com/",className:"text-xl font-bold text-green-700 dark:text-green-500",children:"Sarkhot Natural Farms"})]}),s.jsxs("p",{className:"text-sm mb-6 leading-relaxed",children:[s.jsx("a",{href:"https://sarkhotnaturalfarms.com/",className:"  text-green-700 dark:text-green-500 mr-1",children:"Sarkhot Natural Farms"}),"denote the community of natural farmers. Natural means"," ",s.jsx("span",{className:"font-semibold text-red-500",children:"💯%"})," chemical free, preservative free and poison free."]}),s.jsx("h3",{className:"text-[0.9rem] font-semibold mb-3 text-gray-600 dark:text-gray-400",children:"Payment Accepted"}),s.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:["Mastercard","Discover","BitPay","Visa","Stripe"].map(e=>s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-md shadow-sm",children:e},e))})]}),s.jsx("div",{className:"hidden lg:block lg:col-span-1"}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4    border-b-2 border-primary pb-1 inline-block",children:"Policies"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/privacy-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/refund-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Refund and Returns Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/shipping-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Shipping and delivery policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/terms-conditions",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Terms and Conditions"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4    border-b-2 border-primary pb-1 inline-block",children:"Useful Links"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx("a",{href:"/member/products",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Products"})}),s.jsx("li",{children:s.jsx("a",{href:"/about",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx("a",{href:"/contact",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Contact Us"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-3",children:[s.jsx("h3",{className:"text-md font-semibold mb-4  dark  border-b-2 border-primary pb-1 inline-block",children:"Store Location"}),s.jsxs("address",{className:"text-sm not-italic space-y-2 leading-relaxed",children:[s.jsxs("p",{children:[s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),", Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East - 421201"]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:"Landmark"})," ","- Near Brahman Sabha hall."]}),s.jsx("p",{children:s.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors break-all",children:"sarkhotnaturalfarms@gmail.com"})}),s.jsx("p",{children:s.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"+91 9920999100"})})]})]})]})}),s.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 py-4 border-t border-gray-300 dark:border-gray-700",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("p",{className:"mb-2 md:mb-0 text-center md:text-left",children:["© ",new Date().getFullYear()," ",s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),". All Rights Reserved."]}),s.jsxs("p",{className:"text-center md:text-right",children:["Powered by"," ",s.jsx("a",{href:"https://sanmisha.com/",className:"font-semibold text-primary dark:text-primary hover:underline",children:"Sanmisha Technologies"})]})]})})]}),aSe=()=>s.jsx("div",{className:"min-h-screen ",children:s.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",style:{textAlign:"justify"},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:s.jsx(oh,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"About Us"})]}),s.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"}),s.jsxs("p",{className:"text-lg text-gray-600 font-medium",children:["Namaste, welcome to ",s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"})," Family."]})]}),s.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed space-y-8",children:[s.jsxs("p",{children:[s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),' is a dedicated one-stop destination for 100% naturally grown farm produce. By "natural," we mean completely chemical-free, preservative-free, and toxin-free food — cultivated using traditional methods passed down through generations.']}),s.jsx("p",{children:"Our farming practices rely solely on desi cow dung and cow urine-based homemade inputs, both at our own farm and among our network of like-minded farmers. This ensures that the food you receive is as pure and wholesome as what your grandparents once enjoyed."}),s.jsx("p",{children:"Located in Kambe village, Shahpur district, Maharashtra, our flagship Sarkhot Farm is rooted in the principles of Natural Farming. In addition to our own produce, we also source from a trusted network of natural farmers across India who share our values."}),s.jsx("p",{children:"Our farmer community is diverse — united by purpose but inspired by various philosophies. While most follow Dr. Subhash Palekar's Natural Farming methods, others draw wisdom from Shri Rajiv Dixit, the Varkari tradition, tribal knowledge, and spiritual teachings. Together, they form a powerful movement dedicated to producing nutritious food — free from harmful chemicals and full of life-giving energy."})]})]})})}),iSe="/assets/IMG_20240610_080210527-Dwp_T3eN.jpg",oSe=()=>s.jsx("div",{className:"min-h-screen ",children:s.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",style:{textAlign:"justify"},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:s.jsx(oh,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Bharwad Gir Cow"})]}),s.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[s.jsx("div",{children:s.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg",children:s.jsx("img",{src:iSe,alt:"Bharwad community with Gir cows",className:"w-full h-[300px] md:h-[400px] object-cover"})})}),s.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed space-y-8",children:[s.jsx("p",{children:"The Bharwad are a nomadic tribe with a long-standing tradition of rearing Desi Gir cows across generations. Our Indraai A2 milk comes from these cherished Gir cows, lovingly raised by the Bharwad community settled near Alephata, Pune."}),s.jsx("p",{children:"Deeply devoted to their cows—whom they revere as mothers—the Bharwads follow only traditional, ethical practices. They use gentle hand-milking and never resort to hormones, artificial insemination, steroids, or chemical interventions."}),s.jsx("p",{children:"With Indraai A2 milk, you receive more than just nourishment—you experience the pure, natural essence of milk that supports the body, mind, and soul, just as nature intended."})]})]})]})})}),lSe=()=>{const[e,t]=m.useState({name:"",email:"",message:""}),r=a=>{t({...e,[a.target.name]:a.target.value})},n=a=>{a.preventDefault(),console.log("Form data submitted:",e),alert("Message sent (simulated)!"),t({name:"",email:"",message:""})};return s.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-6 sm:py-8 md:py-12 lg:py-16 bg-gray-50 min-h-screen",children:s.jsx("div",{className:"max-w-5xl mx-auto bg-white p-3 sm:p-6 md:p-10 shadow-xl rounded-xl border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 md:gap-12",children:[s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gray-800 mb-2 sm:mb-4",children:"Our Shop"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3 text-gray-700 text-sm sm:text-base",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(al,{className:"w-5 h-5 mr-2 sm:mr-3 mt-1 text-green-600 flex-shrink-0"}),s.jsxs("span",{children:["Sarkhot Natural Farms, Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East : 421201",s.jsx("br",{}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"Landmark - Near Brahman Sabha hall."})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(JF,{className:"w-5 h-5 mr-2 sm:mr-3 text-green-600 flex-shrink-0"}),s.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-700 break-all",children:"+91 9920999100"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(xT,{className:"w-5 h-5 mr-2 sm:mr-3 text-green-600 flex-shrink-0"}),s.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-700 break-all",children:"sarkhotnaturalfarms@gmail.com"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gray-800 mb-2 sm:mb-4",children:"Opening Time"}),s.jsx("div",{className:"space-y-1 text-gray-700 text-sm sm:text-base",children:s.jsx("p",{children:"Store time : 7 am - 9 pm (Monday - Sunday)"})})]})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gray-800 mb-1",children:"Get In Touch"}),s.jsx("h3",{className:"text-lg sm:text-xl font-medium text-gray-700 pt-1 sm:pt-2",children:"Write to Us"}),s.jsxs("form",{onSubmit:n,className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"sr-only",children:"Name"}),s.jsx("input",{type:"text",name:"name",id:"name",value:e.name,onChange:r,placeholder:"Name",required:!0,className:"w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm text-sm sm:text-base"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),s.jsx("input",{type:"email",name:"email",id:"email",value:e.email,onChange:r,placeholder:"Email",required:!0,className:"w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm text-sm sm:text-base"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"sr-only",children:"Message"}),s.jsx("textarea",{name:"message",id:"message",rows:4,value:e.message,onChange:r,placeholder:"Message",required:!0,className:"w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm text-sm sm:text-base"})]}),s.jsx("div",{children:s.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center px-4 sm:px-6 py-3 bg-primary text-white font-semibold rounded-md hover:bg-primary focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 shadow-md transition duration-150 ease-in-out text-base",children:[s.jsx(PJ,{className:"w-5 h-5 mr-2"})," Send"]})})]})]})]})})})},cSe=()=>{const e=[{title:"Our Mentor",text:"Shri Prashant Sarkhot, helps us to find the direction and keeps us grounded.",icon:"👨‍🏫"},{title:"Our dear staff",text:"have spent long hours meeting deadlines. They have kept their calm while delivering items even at odd places and at odd times. They have made sure that the quality control is always at its best and have been receptive and eager to improve with feedback. Our team is our backbone, and we are grateful to have them.",icon:"👨‍💼"},{title:"Our consumers",text:"have helped in improving the quality of service, packing, delivery schedules, and adding various products with their valuable feedback which was always constructive. The faith that they have kept in us, their appreciation, and respect have helped us in having the clarity of WHY IS THERE A NEED OF SNF?",icon:"👥"},{title:"Nature (This Universe)",text:"has been so helpful and supportive to make us meet the right people at the right time. It has helped us to get the answers when we were full of doubts and questions.",icon:"🌿"},{title:"Swami Vivekanand, Dr. Subhash Palekar, Shri Rajeev Dixit and our Freedom Fighters",text:"Their teachings have shaped SNF as well as the life of many farmers. This farming technique is also spiritual due to the presence of spiritual teachers. Their direction helped us to understand nature more deeply.",icon:"📜"},{title:"Our Network farmers",text:"have been instrumental in supplying naturally grown food. Despite problems, they have made natural farming successful and helped so many of us to lead healthy lives. They have listened to consumer feedback and improved their quality with consistent efforts.",icon:"👨‍🌾"},{title:"Our Friends & Family",text:"have been instrumental in our growth. Their love keeps us going and is the best example of Unconditional love.",icon:"👨‍👩‍👧‍👦"},{title:"Innumerable People",text:"have met us and influenced us in day-to-day life. Many ideas were generated due to them, and we are grateful to learn from them.",icon:"🤝"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-green-50 py-8 md:py-12 lg:py-16",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-block bg-gradient-to-r from-amber-400 to-green-500 p-1 rounded-full mb-6",children:s.jsx("div",{className:"bg-white rounded-full p-3",children:s.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-green-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:s.jsx("span",{className:"text-3xl text-white",children:"🙏"})})})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-amber-600 to-green-700 bg-clip-text text-transparent mb-4",children:"GRATITUDE"}),s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed bg-white/80 backdrop-blur-sm p-4 rounded-lg border border-amber-100 shadow-sm",children:"We have come a long way from where we started. From having a little sense of direction, we now have a clear path that is becoming clearer day by day. This is due to the presence of so many people and we are happy to recognize them."})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>s.jsxs("div",{className:"bg-white rounded-xl border border-amber-100 overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 ease-in-out transform hover:-translate-y-1 flex flex-col h-full",children:[s.jsxs("div",{className:"p-5 pb-4 flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 bg-gradient-to-br from-amber-100 to-green-100 w-12 h-12 rounded-lg flex items-center justify-center mr-4 mt-1",children:s.jsx("span",{className:"text-xl",children:t.icon})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.text})]})]}),s.jsx("div",{className:"mt-auto px-5 pb-4 pt-2",children:s.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-amber-300/30 to-green-400/30 rounded-full"})})]},r))}),s.jsxs("div",{className:"mt-10 text-center text-gray-700",children:[s.jsxs("p",{className:"mb-1",children:["Please drop an email at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"contact@sarkhotnaturalfarms.com"})]}),s.jsxs("p",{className:"mb-1",children:["Connect on WhatsApp / Call: ",s.jsx("span",{className:"font-medium",children:"9920999100"})]}),s.jsx("p",{children:"We will get back to you within 48 hours"})]})]})})})},dSe=()=>s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 prose dark:prose-invert max-w-4xl",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Privacy Policy"}),s.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Last updated: August 29, 2022"}),s.jsx("p",{className:"mb-4",children:"Namaste! We are glad to have you here. Sarkhot Natural Farms denotes the community of natural farmers. Natural means chemical-free, preservative-free, and poison-free. Only cow dung and cow urine-based homemade preparations are used by farmers in cultivation. All our products are grown with natural farming practices. Our farm is at Kambe, Shahpur, Maharashtra."}),s.jsx("p",{className:"mb-4",children:"We and our network farmers are inspired by SPNF, SPK, Natural farming, Freedom fighters and teachings of Swami Vivekanand, Shri Rajeev Dixit, Dr. Subhash Palekar and our spiritual Gurus. Visit our Gratitude page to know more about us."}),s.jsxs("p",{className:"mb-4",children:["Our website address is: ",s.jsx("a",{href:"https://sarkhotnaturalfarms.com",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"https://sarkhotnaturalfarms.com"})," and our store is located at B/3, Prabhat Society, Dr Mukherjee Road, Dombivali East – 421201. Our website showcases our products, e-commerce shop, services, our work, our engagement with farmers etc."]}),s.jsx("p",{className:"mb-6",children:"At SNF, we understand that when you use our services, you trust us with your information. Our privacy policy helps to explain what information we may gather about you, and how it may be utilized."}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What Data Do We Collect?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"We collect personal information such as your first name, last name, contact details, email, residence address and all such relevant information that is necessary for our engagement with you. We collect information when you buy from us, enquire about us, or engage with us through any mode."})}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Accuracy of information?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"When you share your personal information with us, we assume it to be accurate and up to date."})}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Do we store your details of Banking/Payment?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"You may choose to pay in cash, online or wallet transfer."}),s.jsx("li",{children:"When you make online payments, third party networks or our processing partners may take certain details such as your credit card, debit card, net-banking login etc. We do not access, store, or collect such banking/payment details."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What about engagement on Website and Social media accounts?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"When you engage with us through our social media handles, we collect your personal information such as name, age, location, gender, area of interest etc. This information is collected so that we can work on your feedback, analyze it for market research or suggest relevant products to you or as part of our marketing campaigns."})}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What do we do with your Comments?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"When visitors leave comments on our site/social media handles, we collect the data shown in the comments, visitor’s IP address and browser user agent string to help spam detection."}),s.jsxs("li",{children:["An anonymized string created from your email address (also called a hash) may be provided to the Gravatar service to see if you are using it. The Gravatar service privacy policy is available here:"," ",s.jsx("a",{href:"https://automatic.com/privacy/",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"https://automatic.com/privacy/"}),"."]}),s.jsx("li",{children:"After approval of your comment, your profile picture is visible to the public in the context of your comment."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What is the use of Media (Image/audio/video etc)?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"If you upload images to the website, you should avoid uploading images with embedded location data (EXIF GPS) included. Visitors to the website can download and extract any location data from images on the website."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What are Cookies?"}),s.jsx("p",{className:"mb-4",children:"Cookies are small text files that are placed on your computer by websites that you visit. These files may be used to record information about your use of the site and thus may help to improve the efficiency of the site."}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If you leave a comment on our site, you may opt-in to saving your name, email address and website in cookies. These are for your convenience so that you do not have to fill in your details again when you leave another comment. These cookies will last for one year."}),s.jsx("li",{children:"If you visit our login page, we will set a temporary cookie to determine if your browser accepts cookies. This cookie contains no personal data and is discarded when you close your browser."}),s.jsx("li",{children:"When you log in, we will also set up several cookies to save your login information and your screen display choices. Login cookies last for two days, and screen options cookies last for a year. If you select “Remember Me”, your login will persist for two weeks. If you log out of your account, the login cookies will be removed."}),s.jsx("li",{children:"If you edit or publish an article, an additional cookie will be saved in your browser. This cookie includes no personal data and simply indicates the post ID of the article you just edited. It expires after 1 day."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does Web Analytics work?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Our Website uses Google Analytics, a web analytics service. Google Analytics uses cookies, text files that are stored on your computer and enable analysis of your use of the website. The information generated by the cookies is stored on third party (Google) server."}),s.jsx("li",{children:"You may refuse the use of cookies by selecting the relevant settings on your browser software. You can also prevent the data generated by the cookie of your use by installing the “Google Analytics Opt-out Browser Add-on”."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does Embedded content work?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Articles on this site may include embedded content (e.g. videos, images, articles, etc.). Embedded content from other websites behaves in the exact same way as if the visitor has visited the other website."}),s.jsx("li",{children:"These websites may collect data about you, use cookies, embed additional third-party tracking, and monitor your interaction with that embedded content, including tracking your interaction with the embedded content if you have an account and are logged in to that website."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does E-mail Newsletters work?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"If you have received one of our e-mail newsletters, we may use some additional cookies to enable us to track the open rates of e-mails. This allows us to track the interest levels of our newsletters to ensure we are only sending out relevant information. They only work if you have downloaded the images. All our e-mail newsletters have the option to unsubscribe, so if you no longer wish to receive these e-mails, you can unsubscribe from the list."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What do we do with your data?"}),s.jsx("p",{className:"mb-2",children:"We use the details for the following purposes:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Share product updates, farmer stories, new recipes."}),s.jsx("li",{children:"Create and maintain your unique account on our e-commerce shop;"}),s.jsx("li",{children:"Process your orders"}),s.jsx("li",{children:"Calculate your bill for the products/services"}),s.jsx("li",{children:"Facilitate consumer research"}),s.jsx("li",{children:"Respond to requests, enquiries, complaints, and other customer care related activities,"}),s.jsx("li",{children:"Maintain internal record and comply with our legal or statutory obligations."}),s.jsx("li",{children:"All other relevant activities which facilitate us to achieve the mission of Sarkhot Natural Farms."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Who we share your data with?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"We don’t sell, rent, lease, use or share your data with third parties in a way as to reveal any of your personal information."}),s.jsx("li",{children:"Any contact messages received through this website related to hiring and customer service are also never used for marketing purposes or shared with any third parties."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"How long do we retain your data?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If you leave a comment, the comment and its metadata are retained indefinitely. This is so we can recognize and approve any follow-up comments automatically instead of holding them in a moderation queue."}),s.jsx("li",{children:"For users that register on our website (if any), we also store the personal information they provide in their user profiles. All users can see, edit, or delete their personal information at any time (except they cannot change their username). Website administrators can also see and edit that information."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What rights do you have over your data?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"You have the right to access, rectify, modify, restrict or withdraw your consent of our use of your personal information."}),s.jsx("li",{children:"If you have an account on this site or have left comments, you can request to receive an exported file of the personal data we hold about you, including any data you have provided to us."}),s.jsx("li",{children:"You can also request that we erase any personal data we hold about you. This does not include any data we are obliged to keep for administrative, legal, or security purposes."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What security measures do we follow?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Your Personal Information is stored on third-party cloud servers. Although we provide appropriate firewalls and protections, we cannot warrant the security of personal information transmitted as these systems are not hack proof."}),s.jsx("li",{children:"Data pilferage due to unauthorized hacking, virus attacks, technical issues is possible, and we will take necessary measures to mitigate such events."}),s.jsx("li",{children:"You are required to be careful to avoid “phishing” scams, where someone may send you an e-mail that looks like it is received from us."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Limitation of liability"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"To the extent permissible under the law, we shall not be liable for any direct, indirect, incidental, special, consequential, or exemplary damages, including but not limited to, damages for loss of profits, goodwill, data, information, or other intangible losses arising out of this Privacy Policy."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Governing laws and disputes"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"This Privacy Policy shall be construed and governed by the laws of India. The courts in Kalyan-Dombivali, Maharashtra India shall have exclusive jurisdiction over such disputes."})}),s.jsx("p",{className:"mt-8 mb-4 text-sm text-gray-600 dark:text-gray-400",children:"This Privacy Policy was updated on August 29, 2022."}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Need Help?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsxs("li",{children:[s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"contact@sarkhotnaturalfarms.com"})," – is our email for general enquiries or for any assistance."]}),s.jsxs("li",{children:[s.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@sarkhotnaturalfarms.com"})," – is our email for any queries, complaints, or grievances."]}),s.jsxs("li",{children:[s.jsx("a",{href:"tel:+919920999100",className:"text-green-600 hover:underline",children:"9920999100"})," is our contact number both for WhatsApp and call. However, it may not be feasible to meet you always on call and so we request you drop us an SMS or WhatsApp message so that we can get back to you at the earliest."]})]}),s.jsx("p",{className:"mt-8 mb-4",children:"Sarkhot Natural farms denote the community of natural farmers. Natural means 💯% chemical free, preservative free and poison free."})]}),uSe=()=>s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 prose dark:prose-invert max-w-4xl",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Refund and Returns Policy"}),s.jsx("p",{className:"mb-4",children:"All our products are grown with natural farming practices. There is no use of chemicals or heavy machinery which can give similar/standard results. This means two batches can vary in size, taste, etc."}),s.jsx("p",{className:"mb-4",children:"Our promise to you is that we are enthusiastic about our farming practice, which is simple, traditional, and natural. Our network partners are inspired by SPNF, SPK, or Natural farming practices. Only Desi Cow dung and cow urine are used in our farming. No chemical by whatever name is used and so you get pure natural health products."}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"We have a 10 days return policy."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Points to note before jumping to Returns/Refunds policy:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"We recommend you try small size packets first so that you understand if you like the product. Once you are happy, then start bulk buying. This shall reduce your chances of returns/refunds drastically and give you a better consumer experience."}),s.jsxs("li",{children:["If you have doubts about any products, read the information given on our website"," ",s.jsx("a",{href:"https://www.Sarkhotnaturalfarms.com",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"www.Sarkhotnaturalfarms.com"}),". We have used actual photos of products at most places with a humble belief that our product images along with the content will help you in your buying journey. If still, you have questions, kindly reach us on WhatsApp / call – ",s.jsx("a",{href:"tel:9920999100",className:"text-green-600 hover:underline",children:"9920999100"})," or email us at"," ",s.jsx("a",{href:"mailto:Contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Contact@sarkhotnaturalfarms.com"})," before buying any product."]}),s.jsx("li",{children:"We have curated our Refund & Returns policy (given below) so that genuine cases of damage/defect are promptly resolved."}),s.jsx("li",{children:"Refund/return request is eligible only in cases where the items are defective/damaged OR are missing."}),s.jsx("li",{children:"Good faith is a key to being eligible for a refund/replacement. If we come across bad intentions/bad faith or any such setting which tries to take advantage of this policy, we have every right to deny any replacement/refund."}),s.jsx("li",{children:"In cases, where a consumer has purchased something by mistake, returns/refund request is denied as a fair amount of cost has already been incurred in packaging, Quality control, billing & delivery."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Timeline for raising refund/return request:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Dry items such as Grocery, Wood Pressed OR Cold pressed oils, A2 Desi ghee & butter: Within 10 days from the delivery date."}),s.jsx("li",{children:"Fresh Fruits & Vegetables: Within 1 day from the delivery date."}),s.jsx("li",{children:"Fresh Fruits (Delivered in raw form): In the case of Fruits, where the items were delivered in their raw stage, the replacement/refund timeline starts when the fruits start to ripen. However, as these items are at the consumers’ place, storage care must be taken by the consumer."}),s.jsx("li",{children:"For Items with specific replacement/refund timelines: Specific timelines will precede the general timelines. For Mangoes, if it is mentioned that 2 in every 12 mangoes are assumed to get spoilt and replacement/refund is eligible for 3 mangoes and above. Then this special replacement/refund policy for mangoes precedes our general replacement policy."}),s.jsx("li",{children:"Missing product: If in a package, one or more items are missing, then notify us within 3 days from the delivery date. Here return/replacement will be applicable only for missing items (Not for the whole package)."}),s.jsx("li",{children:"If a consumer reaches out to us within the given timelines, we shall replace/process their refund after our due diligence."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Situations where no refund/replacement is granted:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Items of personal use eg: Panchgavya soap."}),s.jsx("li",{children:"Items with the seal broken/used e.g.: Honey, Kakvi (Blackstrap molasses), Oil, Ghee, etc."}),s.jsx("li",{children:"Any item not in its original condition is damaged or missing parts for reasons not due to our error."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"There are certain situations where only partial refunds are granted:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Items with an obvious sign of usage."}),s.jsx("li",{children:"Any item not in its original condition is damaged or missing parts for reasons not due to our error."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Returns pickup"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If your returns match our delivery to your location, then we may pick it up. But this can take time as arranging separately for a return pickup is not cost-effective and so we normally pick up items when we are delivering to you or nearby locations."}),s.jsx("li",{children:"You may also mail your product to B/3, Prabhat Society, Ground floor, Dr. Mukherjee Road, Near CKP Hall, Dombivali East, 421201. The consumer will bear the shipping costs."}),s.jsx("li",{children:"For perishables, vegetables, fruits, etc., returns might not be possible. Here we rely on clear images, your writeup, and communication with our team."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Refunds"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Once your return/refund request is received and inspected, we will send you an email to notify you that we have received your returned item. In the case of perishables, (Fruits/vegetables), returns are not always possible and so we will carry out due diligence based on clear photos and issue identification by our team."}),s.jsx("li",{children:"We will notify you of the approval or rejection of your refund."}),s.jsx("li",{children:"If you are approved, then your refund will be processed."}),s.jsx("li",{children:"You may choose to get a refund to your bank account or add the money to your website wallet. For credits to your wallet, you get a 1% additional amount added. Other than a wallet, we prefer online transfer among all banking modes, but the refund mode shall depend on the situation at the time of refund."}),s.jsx("li",{children:"Refund will be processed within 10 – 30 days from the date of approval."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Late or missing refunds"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If you haven’t received a refund yet, first check your bank account again."}),s.jsx("li",{children:"Next contact your bank. There is often some processing time before a refund is posted."}),s.jsxs("li",{children:["If you’ve done all of this and you still have not received your refund yet, please contact us at"," ",s.jsx("a",{href:"mailto:support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"support@sarkhotnaturalfarms.com"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Sale items"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"Only regular-priced items may be refunded. Sale items cannot be refunded."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"How to notify us/inform us about a refund/return request?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsxs("li",{children:["WhatsApp us on ",s.jsx("a",{href:"https://wa.me/919920999100",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"9920999100"})," or email us at"," ",s.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@sarkhotnaturalfarms.com"}),"."]}),s.jsx("li",{children:"Mention the Order no, Bill amount, date of delivery, and 3 clear photos of the product with a brief of the issue."}),s.jsx("li",{children:"We understand Marathi, Hindi & English so you may choose to communicate in any of these languages."}),s.jsx("li",{children:"We condemn the use of foul language and welcome those who can communicate their feelings respectfully."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Need help?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsxs("li",{children:["Contact us at"," ",s.jsx("a",{href:"mailto:Support@SarkhotNaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@SarkhotNaturalfarms.com"})," or WhatsApp us at"," ",s.jsx("a",{href:"https://wa.me/919920999100",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"9920999100"}),"."]})}),s.jsx("p",{className:"mt-8 mb-4",children:"Sarkhot Natural farms denote the community of natural farmers. Natural means 💯% chemical free, preservative free and poison free."})]}),fSe=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-lg p-6 md:p-8 lg:p-10 prose dark:prose-invert max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-green-700 dark:text-green-500",children:"Shipping and Delivery Policy"}),s.jsx("p",{className:"lead text-lg",children:"Namaste! We are glad to have you here. Our Shipping and Delivery Policy will guide you with a clear understanding of how items are shipped, delivery timelines, the nature of goods available, delivery locations, and where to reach out in case of any assistance."}),s.jsx("h2",{children:"Accuracy of Address"}),s.jsx("p",{children:"To ship your items accurately, we require your precise details. Kindly ensure that your pin code, postal address, email ID, and contact number are correct before you place your order."}),s.jsx("h2",{children:"Shipping Mode"}),s.jsx("p",{children:"We deliver through transport vehicles, courier services, train, and traveler van facilities."}),s.jsx("h3",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai, Dombivali & Kalyan"}),s.jsx("p",{children:"We deliver through goods vehicles on most days. Delivery rates are provided separately in the ‘Delivery Charges’ section."}),s.jsx("p",{children:"In exceptional situations, we may use train, courier, or traveler bus facilities. In such cases, delivery costs may vary from the general rates. We will coordinate with you to decide the best option based on actual shipping rates and feasibility."}),s.jsx("h3",{children:"For Rest of India"}),s.jsx("p",{children:"We use courier, traveler bus, and train facilities to deliver to the Rest of India."}),s.jsx("p",{children:"Dry grocery items are delivered throughout India."}),s.jsx("p",{children:"Some fruits can also be delivered, e.g., Mangoes, Grapes, Pomegranate, Apples, Mosambi (Sweet lime), etc."}),s.jsxs("p",{children:["Drop us an email at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or SMS/WhatsApp us on ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"}),", and we will guide you if delivery of items is possible. We can then decide on the best route and delivery fee together."]}),s.jsx("h2",{children:"Timeline"}),s.jsx("h3",{children:"For Grocery (dry items)"}),s.jsx("p",{children:"Once a product is shipped, it will typically be delivered on the same day for local areas."}),s.jsx("p",{children:"The tentative delivery date is updated on our website. In case of any changes, we shall reach out to you via WhatsApp, call, or email."}),s.jsx("p",{children:"For far-off locations, delivery time will depend on the mode of transport. We will share a tracking link or timeline on WhatsApp/Email for your reference."}),s.jsx("h3",{children:"For Fresh Fruits & Vegetables"}),s.jsx("p",{children:"The availability of fruits and vegetables depends on the climate and their respective harvesting times."}),s.jsx("p",{children:"The tentative delivery date is updated on our website. In case of any changes, we shall reach out to you via WhatsApp, call, or email."}),s.jsx("h2",{children:"Free Shipping"}),s.jsx("p",{children:"Free shipping applies to orders that are above a certain cart value for a specific delivery location. The following limits apply:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"For KDMC (Kalyan-Dombivli Municipal Corporation):"})," Order value of INR 299 and above is eligible for free shipping."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," Order value of INR 799 and above is eligible for free shipping."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Rest of India:"})," At present, there is no free delivery limit. We promise to provide you with the best items at the most effective rates. Email us at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})," to inquire about shipping rates."]})]}),s.jsx("h2",{children:"Delivery Charges"}),s.jsx("p",{children:"Delivery charges apply for order values below the free shipping limits as follows:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"For KDMC:"})," Rs 25/- for order value below INR 299."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," Rs 80/- for order value below INR 799."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Rest of India:"})," Email us at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})," to know the shipping rates. We will update you about the diverse options with rates, considering the safety of the parcel. Delivery charges will be at actuals and will depend on the mode of transport you agree to."]})]}),s.jsx("h2",{children:"Minimum Cart Value to Place Order"}),s.jsx("p",{children:"A minimum cart value is required to accept an order:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"For KDMC:"})," A minimum cart value of INR 99/- is required."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," A minimum cart value of INR 399/- is required."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Rest of India:"})," There is no minimum cart value, but we recommend you buy a decent value to make it cost-effective. Email us at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})," for shipping rates."]})]}),s.jsx("h2",{children:"Summary of Shipping / Delivery Charges"}),s.jsx("div",{className:"overflow-x-auto my-6",children:s.jsxs("table",{className:"min-w-full text-left border-collapse border border-gray-300 dark:border-gray-600",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Location / Type"}),s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Free Delivery Limit (FDL)"}),s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Delivery Fee (Below FDL)"}),s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Minimum Cart Value (MCV)"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"KDMC"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 299"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 25"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 99"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"Mumbai, Mumbai Suburbs, Thane, Navi Mumbai"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 799"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 80"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 399"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"Rest of India"}),s.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 p-2",colSpan:3,children:["Contact ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})]})]})]})]})}),s.jsx("h2",{className:"mt-6",children:"Notes"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Courier mode of delivery:"})," Our courier partners will deliver goods between Monday to Saturday, 9 am to 7 pm. Working days exclude public holidays, festival holidays, and Sundays. Courier cost depends on weight, and we will let you know the options to choose from."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Traveler bus or train mode of delivery:"})," These facilities are far cheaper than courier. However, the delivery is only up to a certain stop, and you will have to pick up the parcel from a train/road location."]}),s.jsx("li",{children:"Delivery time is subject to factors beyond our control, including unexpected travel delays from our courier partners and transporters due to climate conditions or any urgency."}),s.jsx("li",{children:"We shall send you an update as soon as we dispatch your package."})]}),s.jsx("h2",{className:"mt-6",children:"Need Help?"}),s.jsxs("p",{children:[s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," – is our email for general enquiries or for any assistance."]}),s.jsxs("p",{children:[s.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",children:"Support@sarkhotnaturalfarms.com"})," – is our email for any queries, complaints, or grievances."]}),s.jsxs("p",{children:[s.jsx("strong",{children:s.jsx("a",{href:"tel:9920999100",children:"9920999100"})})," is our contact number for both WhatsApp and calls. However, it may not always be feasible to answer your call immediately, so we request you to drop us an SMS or WhatsApp message so that we can get back to you at the earliest."]}),s.jsx("p",{className:"mt-8 text-sm italic",children:"Sarkhot Natural Farms denotes the community of natural farmers. Natural means 💯% chemical-free, preservative-free, and poison-free."})]})})}),hSe=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-lg p-6 md:p-8 lg:p-10 prose dark:prose-invert max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Terms and Conditions"}),s.jsx("p",{children:"This document is an electronic record in terms of the Information Technology Act, 2000, and the rules thereunder as applicable, including the amended provisions pertaining to electronic records in various statutes as amended by the Information Technology Act, 2000. This electronic record is generated by a computer system and does not require any physical or digital signatures."}),s.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:[s.jsx("p",{children:"This document is published in accordance with the provisions of Rule 3 (1) of the Information Technology (Intermediaries Guidelines) Rules, 2011, that require publishing the rules and regulations, privacy policy, and Terms of Use for access or usage of the domain name sarkhotnaturalfarms.com, including the related mobile site and mobile application (hereinafter referred to as the “Platform”)."}),s.jsx("p",{children:"The Platform is owned by Sarkhot Natural Farms, a registered entity with its office at (Address of Sarkhot Natural Farms) (hereinafter referred to as “Platform Owner”, “we”, “us”, or “our”)."}),s.jsx("p",{children:"Your use of the Platform, services, and tools is governed by the following terms and conditions (“Terms of Use”) as applicable to the Platform, including the applicable policies which are incorporated herein by reference. If you transact on the Platform, you shall be subject to the policies that are applicable to the Platform for such transactions. By merely using the Platform, you shall be contracting with the Platform Owner, and these terms and conditions, including the policies, shall constitute your binding obligations with the Platform Owner."}),s.jsx("p",{children:"These Terms of Use relate to your use of our website, goods (as applicable), or services (as applicable) (collectively, “Services”). Any terms and conditions proposed by you that are in addition to or conflict with these Terms of Use are expressly rejected by the Platform Owner and shall be of no force or effect."}),s.jsx("p",{children:"These Terms of Use can be modified at any time without assigning any reason. It is your responsibility to periodically review these Terms of Use to stay informed of updates. For the purpose of these Terms of Use, wherever the context so requires, “you”, “your”, or “user” shall mean any natural or legal person who has agreed to become a user/buyer on the Platform."}),s.jsx("p",{className:"font-semibold",children:"ACCESSING, BROWSING, OR OTHERWISE USING THE PLATFORM INDICATES YOUR AGREEMENT TO ALL THE TERMS AND CONDITIONS UNDER THESE TERMS OF USE, SO PLEASE READ THE TERMS OF USE CAREFULLY BEFORE PROCEEDING."}),s.jsx("p",{children:"The use of the Platform and/or availing of our Services is subject to the following Terms of Use:"})]}),s.jsx("p",{children:"This document is published in accordance with the provisions of Rule 3 (1) of the Information Technology (Intermediaries Guidelines) Rules, 2011, that require publishing the rules and regulations, privacy policy, and Terms of Use for access or usage of the domain name sarkhotnaturalfarms.com, including the related mobile site and mobile application (hereinafter referred to as the “Platform”)."}),s.jsx("p",{children:"The Platform is owned by Sarkhot Natural Farms, a registered entity with its office at (Address of Sarkhot Natural Farms) (hereinafter referred to as “Platform Owner”, “we”, “us”, or “our”)."}),s.jsx("p",{children:"Your use of the Platform, services, and tools is governed by the following terms and conditions (“Terms of Use”) as applicable to the Platform, including the applicable policies which are incorporated herein by reference. If you transact on the Platform, you shall be subject to the policies that are applicable to the Platform for such transactions. By merely using the Platform, you shall be contracting with the Platform Owner, and these terms and conditions, including the policies, shall constitute your binding obligations with the Platform Owner."}),s.jsx("p",{children:"These Terms of Use relate to your use of our website, goods (as applicable), or services (as applicable) (collectively, “Services”). Any terms and conditions proposed by you that are in addition to or conflict with these Terms of Use are expressly rejected by the Platform Owner and shall be of no force or effect."}),s.jsx("p",{children:"These Terms of Use can be modified at any time without assigning any reason. It is your responsibility to periodically review these Terms of Use to stay informed of updates. For the purpose of these Terms of Use, wherever the context so requires, “you”, “your”, or “user” shall mean any natural or legal person who has agreed to become a user/buyer on the Platform."}),s.jsx("p",{className:"font-semibold",children:"ACCESSING, BROWSING, OR OTHERWISE USING THE PLATFORM INDICATES YOUR AGREEMENT TO ALL THE TERMS AND CONDITIONS UNDER THESE TERMS OF USE, SO PLEASE READ THE TERMS OF USE CAREFULLY BEFORE PROCEEDING."}),s.jsx("p",{children:"The use of the Platform and/or availing of our Services is subject to the following Terms of Use:"}),s.jsx("h2",{children:"1. User Registration & Information"}),s.jsx("p",{children:"To access and use the Services, you agree to provide true, accurate, and complete information during registration and after. You shall be responsible for all acts done through the use of your registered account on the Platform."}),s.jsx("h2",{children:"2. No Warranties"}),s.jsx("p",{children:"Neither we nor any third parties provide any warranty or guarantee as to the accuracy, timeliness, performance, completeness, or suitability of the information and materials offered on this website or through the Services, for any specific purpose. You acknowledge that such information and materials may contain inaccuracies or errors, and we expressly exclude liability for any such inaccuracies or errors to the fullest extent permitted by law."}),s.jsx("h2",{children:"3. User Discretion"}),s.jsx("p",{children:"Your use of our Services and the Platform is solely at your own risk and discretion, for which we shall not be liable. You are required to independently assess and ensure that the Services meet your requirements."}),s.jsx("h2",{children:"4. Intellectual Property"}),s.jsx("p",{children:"The contents of the Platform and the Services are proprietary to us and are licensed to us. You will not have any authority to claim any intellectual property rights, title, or interest in its contents, including but not limited to design, layout, look, and graphics."}),s.jsx("h2",{children:"5. Unauthorized Use"}),s.jsx("p",{children:"You acknowledge that unauthorized use of the Platform and/or the Services may lead to action against you as per these Terms of Use and/or applicable laws."}),s.jsx("h2",{children:"6. Payment Obligations"}),s.jsx("p",{children:"You agree to pay us the charges associated with availing of the Services."}),s.jsx("h2",{children:"7. Prohibited Use"}),s.jsx("p",{children:"You agree not to use the Platform and/or Services for any purpose that is unlawful, illegal, or forbidden by these Terms, Indian law, or local laws that might apply to you."}),s.jsx("h2",{children:"8. Third-Party Links"}),s.jsx("p",{children:"The Platform and the Services may contain links to third-party websites. Upon accessing these links, you will be governed by the terms of use, privacy policy, and other policies of such third-party websites. These links are provided for your convenience only."}),s.jsx("h2",{children:"9. Legal Binding"}),s.jsx("p",{children:"Upon initiating a transaction for availing of the Services, you are entering into a legally binding and enforceable contract with the Platform Owner for the Services."}),s.jsx("h2",{children:"10. Indemnity"}),s.jsx("p",{children:"You agree to indemnify and hold harmless the Platform Owner, its affiliates, group companies (as applicable), and their respective officers, directors, agents, and employees, from any claims, demands, or actions, including reasonable attorney’s fees, made by any third party arising out of your breach of these Terms of Use, Privacy Policy, other policies, or your violation of any law, rules, or regulations or the rights (including infringement of intellectual property rights) of a third party."}),s.jsx("h2",{children:"11. Limitation of Liability"}),s.jsx("p",{children:"In no event will the Platform Owner be liable for any indirect, consequential, incidental, special, or punitive damages, including without limitation damages for loss of profits or revenues, business interruption, loss of business opportunities, loss of data, or other economic interests, whether in contract, negligence, tort, or otherwise, arising from the use of or inability to use the Services, however caused, and whether arising in contract, tort, negligence, warranty, or otherwise. Our liability shall not exceed the amount paid by you for using the Services, or Rupees One Hundred (Rs. 100), whichever is less."}),s.jsx("h2",{children:"12. Force Majeure"}),s.jsx("p",{children:"Notwithstanding anything contained in these Terms of Use, neither party shall be liable for any failure to perform an obligation under these Terms if performance is prevented or delayed by a force majeure event."}),s.jsx("h2",{children:"13. Governing Law & Jurisdiction"}),s.jsx("p",{children:"These Terms and any disputes or claims relating to them, or their enforceability, shall be governed by and construed in accordance with the laws of India. All disputes arising out of or in connection with these Terms shall be subject to the exclusive jurisdiction of the courts in India."}),s.jsx("h2",{children:"14. Contact Information"}),s.jsx("p",{children:"All concerns or communications relating to these Terms must be communicated to us using the contact information provided on this website."}),s.jsx("p",{children:"Sarkhot Natural farms denote the community of natural farmers. Natural means 💯% chemical free, preservative free and poison free."})]})})});var Az=typeof global=="object"&&global&&global.Object===Object&&global,mSe=typeof self=="object"&&self&&self.Object===Object&&self,hc=Az||mSe||Function("return this")(),Ku=hc.Symbol,Cz=Object.prototype,pSe=Cz.hasOwnProperty,xSe=Cz.toString,Ux=Ku?Ku.toStringTag:void 0;function gSe(e){var t=pSe.call(e,Ux),r=e[Ux];try{e[Ux]=void 0;var n=!0}catch{}var a=xSe.call(e);return n&&(t?e[Ux]=r:delete e[Ux]),a}var ySe=Object.prototype,vSe=ySe.toString;function bSe(e){return vSe.call(e)}var wSe="[object Null]",NSe="[object Undefined]",lI=Ku?Ku.toStringTag:void 0;function k0(e){return e==null?e===void 0?NSe:wSe:lI&&lI in Object(e)?gSe(e):bSe(e)}function cd(e){return e!=null&&typeof e=="object"}var Nh=Array.isArray;function cf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Tz(e){return e}var jSe="[object AsyncFunction]",SSe="[object Function]",ESe="[object GeneratorFunction]",ASe="[object Proxy]";function D_(e){if(!cf(e))return!1;var t=k0(e);return t==SSe||t==ESe||t==jSe||t==ASe}var jE=hc["__core-js_shared__"],cI=function(){var e=/[^.]+$/.exec(jE&&jE.keys&&jE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function CSe(e){return!!cI&&cI in e}var TSe=Function.prototype,_Se=TSe.toString;function Vh(e){if(e!=null){try{return _Se.call(e)}catch{}try{return e+""}catch{}}return""}var kSe=/[\\^$.*+?()[\]{}|]/g,DSe=/^\[object .+?Constructor\]$/,OSe=Function.prototype,PSe=Object.prototype,RSe=OSe.toString,MSe=PSe.hasOwnProperty,ISe=RegExp("^"+RSe.call(MSe).replace(kSe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FSe(e){if(!cf(e)||CSe(e))return!1;var t=D_(e)?ISe:DSe;return t.test(Vh(e))}function LSe(e,t){return e==null?void 0:e[t]}function qh(e,t){var r=LSe(e,t);return FSe(r)?r:void 0}var TC=qh(hc,"WeakMap"),dI=Object.create,BSe=function(){function e(){}return function(t){if(!cf(t))return{};if(dI)return dI(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function $Se(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function USe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var VSe=800,qSe=16,zSe=Date.now;function HSe(e){var t=0,r=0;return function(){var n=zSe(),a=qSe-(n-r);if(r=n,a>0){if(++t>=VSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function WSe(e){return function(){return e}}var lw=function(){try{var e=qh(Object,"defineProperty");return e({},"",{}),e}catch{}}(),GSe=lw?function(e,t){return lw(e,"toString",{configurable:!0,enumerable:!1,value:WSe(t),writable:!0})}:Tz,YSe=HSe(GSe);function KSe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var XSe=9007199254740991,QSe=/^(?:0|[1-9]\d*)$/;function _z(e,t){var r=typeof e;return t=t??XSe,!!t&&(r=="number"||r!="symbol"&&QSe.test(e))&&e>-1&&e%1==0&&e<t}function O_(e,t,r){t=="__proto__"&&lw?lw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function tv(e,t){return e===t||e!==e&&t!==t}var ZSe=Object.prototype,JSe=ZSe.hasOwnProperty;function kz(e,t,r){var n=e[t];(!(JSe.call(e,t)&&tv(n,r))||r===void 0&&!(t in e))&&O_(e,t,r)}function eEe(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var l=t[i],d=void 0;d===void 0&&(d=e[l]),a?O_(r,l,d):kz(r,l,d)}return r}var uI=Math.max;function tEe(e,t,r){return t=uI(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=uI(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),$Se(e,this,l)}}function rEe(e,t){return YSe(tEe(e,t,Tz),e+"")}var sEe=9007199254740991;function Dz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sEe}function TN(e){return e!=null&&Dz(e.length)&&!D_(e)}function nEe(e,t,r){if(!cf(r))return!1;var n=typeof t;return(n=="number"?TN(r)&&_z(t,r.length):n=="string"&&t in r)?tv(r[t],e):!1}function aEe(e){return rEe(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&nEe(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var l=r[n];l&&e(t,l,n,i)}return t})}var iEe=Object.prototype;function P_(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||iEe;return e===r}function oEe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var lEe="[object Arguments]";function fI(e){return cd(e)&&k0(e)==lEe}var Oz=Object.prototype,cEe=Oz.hasOwnProperty,dEe=Oz.propertyIsEnumerable,_C=fI(function(){return arguments}())?fI:function(e){return cd(e)&&cEe.call(e,"callee")&&!dEe.call(e,"callee")};function uEe(){return!1}var Pz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,hI=Pz&&typeof module=="object"&&module&&!module.nodeType&&module,fEe=hI&&hI.exports===Pz,mI=fEe?hc.Buffer:void 0,hEe=mI?mI.isBuffer:void 0,Jg=hEe||uEe,mEe="[object Arguments]",pEe="[object Array]",xEe="[object Boolean]",gEe="[object Date]",yEe="[object Error]",vEe="[object Function]",bEe="[object Map]",wEe="[object Number]",NEe="[object Object]",jEe="[object RegExp]",SEe="[object Set]",EEe="[object String]",AEe="[object WeakMap]",CEe="[object ArrayBuffer]",TEe="[object DataView]",_Ee="[object Float32Array]",kEe="[object Float64Array]",DEe="[object Int8Array]",OEe="[object Int16Array]",PEe="[object Int32Array]",REe="[object Uint8Array]",MEe="[object Uint8ClampedArray]",IEe="[object Uint16Array]",FEe="[object Uint32Array]",Hs={};Hs[_Ee]=Hs[kEe]=Hs[DEe]=Hs[OEe]=Hs[PEe]=Hs[REe]=Hs[MEe]=Hs[IEe]=Hs[FEe]=!0;Hs[mEe]=Hs[pEe]=Hs[CEe]=Hs[xEe]=Hs[TEe]=Hs[gEe]=Hs[yEe]=Hs[vEe]=Hs[bEe]=Hs[wEe]=Hs[NEe]=Hs[jEe]=Hs[SEe]=Hs[EEe]=Hs[AEe]=!1;function LEe(e){return cd(e)&&Dz(e.length)&&!!Hs[k0(e)]}function R_(e){return function(t){return e(t)}}var Rz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,lg=Rz&&typeof module=="object"&&module&&!module.nodeType&&module,BEe=lg&&lg.exports===Rz,SE=BEe&&Az.process,Zp=function(){try{var e=lg&&lg.require&&lg.require("util").types;return e||SE&&SE.binding&&SE.binding("util")}catch{}}(),pI=Zp&&Zp.isTypedArray,M_=pI?R_(pI):LEe,$Ee=Object.prototype,UEe=$Ee.hasOwnProperty;function Mz(e,t){var r=Nh(e),n=!r&&_C(e),a=!r&&!n&&Jg(e),i=!r&&!n&&!a&&M_(e),o=r||n||a||i,l=o?oEe(e.length,String):[],d=l.length;for(var u in e)(t||UEe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_z(u,d)))&&l.push(u);return l}function Iz(e,t){return function(r){return e(t(r))}}var VEe=Iz(Object.keys,Object),qEe=Object.prototype,zEe=qEe.hasOwnProperty;function HEe(e){if(!P_(e))return VEe(e);var t=[];for(var r in Object(e))zEe.call(e,r)&&r!="constructor"&&t.push(r);return t}function WEe(e){return TN(e)?Mz(e):HEe(e)}function GEe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var YEe=Object.prototype,KEe=YEe.hasOwnProperty;function XEe(e){if(!cf(e))return GEe(e);var t=P_(e),r=[];for(var n in e)n=="constructor"&&(t||!KEe.call(e,n))||r.push(n);return r}function Fz(e){return TN(e)?Mz(e,!0):XEe(e)}var ey=qh(Object,"create");function QEe(){this.__data__=ey?ey(null):{},this.size=0}function ZEe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var JEe="__lodash_hash_undefined__",eAe=Object.prototype,tAe=eAe.hasOwnProperty;function rAe(e){var t=this.__data__;if(ey){var r=t[e];return r===JEe?void 0:r}return tAe.call(t,e)?t[e]:void 0}var sAe=Object.prototype,nAe=sAe.hasOwnProperty;function aAe(e){var t=this.__data__;return ey?t[e]!==void 0:nAe.call(t,e)}var iAe="__lodash_hash_undefined__";function oAe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ey&&t===void 0?iAe:t,this}function jh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jh.prototype.clear=QEe;jh.prototype.delete=ZEe;jh.prototype.get=rAe;jh.prototype.has=aAe;jh.prototype.set=oAe;function lAe(){this.__data__=[],this.size=0}function _N(e,t){for(var r=e.length;r--;)if(tv(e[r][0],t))return r;return-1}var cAe=Array.prototype,dAe=cAe.splice;function uAe(e){var t=this.__data__,r=_N(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():dAe.call(t,r,1),--this.size,!0}function fAe(e){var t=this.__data__,r=_N(t,e);return r<0?void 0:t[r][1]}function hAe(e){return _N(this.__data__,e)>-1}function mAe(e,t){var r=this.__data__,n=_N(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function bd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bd.prototype.clear=lAe;bd.prototype.delete=uAe;bd.prototype.get=fAe;bd.prototype.has=hAe;bd.prototype.set=mAe;var ty=qh(hc,"Map");function pAe(){this.size=0,this.__data__={hash:new jh,map:new(ty||bd),string:new jh}}function xAe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function kN(e,t){var r=e.__data__;return xAe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function gAe(e){var t=kN(this,e).delete(e);return this.size-=t?1:0,t}function yAe(e){return kN(this,e).get(e)}function vAe(e){return kN(this,e).has(e)}function bAe(e,t){var r=kN(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function zh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zh.prototype.clear=pAe;zh.prototype.delete=gAe;zh.prototype.get=yAe;zh.prototype.has=vAe;zh.prototype.set=bAe;function wAe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Lz=Iz(Object.getPrototypeOf,Object),NAe="[object Object]",jAe=Function.prototype,SAe=Object.prototype,Bz=jAe.toString,EAe=SAe.hasOwnProperty,AAe=Bz.call(Object);function CAe(e){if(!cd(e)||k0(e)!=NAe)return!1;var t=Lz(e);if(t===null)return!0;var r=EAe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Bz.call(r)==AAe}function TAe(){this.__data__=new bd,this.size=0}function _Ae(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function kAe(e){return this.__data__.get(e)}function DAe(e){return this.__data__.has(e)}var OAe=200;function PAe(e,t){var r=this.__data__;if(r instanceof bd){var n=r.__data__;if(!ty||n.length<OAe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zh(n)}return r.set(e,t),this.size=r.size,this}function Ql(e){var t=this.__data__=new bd(e);this.size=t.size}Ql.prototype.clear=TAe;Ql.prototype.delete=_Ae;Ql.prototype.get=kAe;Ql.prototype.has=DAe;Ql.prototype.set=PAe;var $z=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xI=$z&&typeof module=="object"&&module&&!module.nodeType&&module,RAe=xI&&xI.exports===$z,gI=RAe?hc.Buffer:void 0,yI=gI?gI.allocUnsafe:void 0;function Uz(e,t){if(t)return e.slice();var r=e.length,n=yI?yI(r):new e.constructor(r);return e.copy(n),n}function MAe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function IAe(){return[]}var FAe=Object.prototype,LAe=FAe.propertyIsEnumerable,vI=Object.getOwnPropertySymbols,BAe=vI?function(e){return e==null?[]:(e=Object(e),MAe(vI(e),function(t){return LAe.call(e,t)}))}:IAe;function $Ae(e,t,r){var n=t(e);return Nh(e)?n:wAe(n,r(e))}function kC(e){return $Ae(e,WEe,BAe)}var DC=qh(hc,"DataView"),OC=qh(hc,"Promise"),PC=qh(hc,"Set"),bI="[object Map]",UAe="[object Object]",wI="[object Promise]",NI="[object Set]",jI="[object WeakMap]",SI="[object DataView]",VAe=Vh(DC),qAe=Vh(ty),zAe=Vh(OC),HAe=Vh(PC),WAe=Vh(TC),Jo=k0;(DC&&Jo(new DC(new ArrayBuffer(1)))!=SI||ty&&Jo(new ty)!=bI||OC&&Jo(OC.resolve())!=wI||PC&&Jo(new PC)!=NI||TC&&Jo(new TC)!=jI)&&(Jo=function(e){var t=k0(e),r=t==UAe?e.constructor:void 0,n=r?Vh(r):"";if(n)switch(n){case VAe:return SI;case qAe:return bI;case zAe:return wI;case HAe:return NI;case WAe:return jI}return t});var GAe=Object.prototype,YAe=GAe.hasOwnProperty;function KAe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&YAe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var cw=hc.Uint8Array;function I_(e){var t=new e.constructor(e.byteLength);return new cw(t).set(new cw(e)),t}function XAe(e,t){var r=I_(e.buffer);return new e.constructor(r,e.byteOffset,e.byteLength)}var QAe=/\w*$/;function ZAe(e){var t=new e.constructor(e.source,QAe.exec(e));return t.lastIndex=e.lastIndex,t}var EI=Ku?Ku.prototype:void 0,AI=EI?EI.valueOf:void 0;function JAe(e){return AI?Object(AI.call(e)):{}}function Vz(e,t){var r=t?I_(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var eCe="[object Boolean]",tCe="[object Date]",rCe="[object Map]",sCe="[object Number]",nCe="[object RegExp]",aCe="[object Set]",iCe="[object String]",oCe="[object Symbol]",lCe="[object ArrayBuffer]",cCe="[object DataView]",dCe="[object Float32Array]",uCe="[object Float64Array]",fCe="[object Int8Array]",hCe="[object Int16Array]",mCe="[object Int32Array]",pCe="[object Uint8Array]",xCe="[object Uint8ClampedArray]",gCe="[object Uint16Array]",yCe="[object Uint32Array]";function vCe(e,t,r){var n=e.constructor;switch(t){case lCe:return I_(e);case eCe:case tCe:return new n(+e);case cCe:return XAe(e);case dCe:case uCe:case fCe:case hCe:case mCe:case pCe:case xCe:case gCe:case yCe:return Vz(e,r);case rCe:return new n;case sCe:case iCe:return new n(e);case nCe:return ZAe(e);case aCe:return new n;case oCe:return JAe(e)}}function qz(e){return typeof e.constructor=="function"&&!P_(e)?BSe(Lz(e)):{}}var bCe="[object Map]";function wCe(e){return cd(e)&&Jo(e)==bCe}var CI=Zp&&Zp.isMap,NCe=CI?R_(CI):wCe,jCe="[object Set]";function SCe(e){return cd(e)&&Jo(e)==jCe}var TI=Zp&&Zp.isSet,ECe=TI?R_(TI):SCe,ACe=1,zz="[object Arguments]",CCe="[object Array]",TCe="[object Boolean]",_Ce="[object Date]",kCe="[object Error]",Hz="[object Function]",DCe="[object GeneratorFunction]",OCe="[object Map]",PCe="[object Number]",Wz="[object Object]",RCe="[object RegExp]",MCe="[object Set]",ICe="[object String]",FCe="[object Symbol]",LCe="[object WeakMap]",BCe="[object ArrayBuffer]",$Ce="[object DataView]",UCe="[object Float32Array]",VCe="[object Float64Array]",qCe="[object Int8Array]",zCe="[object Int16Array]",HCe="[object Int32Array]",WCe="[object Uint8Array]",GCe="[object Uint8ClampedArray]",YCe="[object Uint16Array]",KCe="[object Uint32Array]",Vs={};Vs[zz]=Vs[CCe]=Vs[BCe]=Vs[$Ce]=Vs[TCe]=Vs[_Ce]=Vs[UCe]=Vs[VCe]=Vs[qCe]=Vs[zCe]=Vs[HCe]=Vs[OCe]=Vs[PCe]=Vs[Wz]=Vs[RCe]=Vs[MCe]=Vs[ICe]=Vs[FCe]=Vs[WCe]=Vs[GCe]=Vs[YCe]=Vs[KCe]=!0;Vs[kCe]=Vs[Hz]=Vs[LCe]=!1;function b1(e,t,r,n,a,i){var o,l=t&ACe;if(o!==void 0)return o;if(!cf(e))return e;var d=Nh(e);if(d)o=KAe(e);else{var u=Jo(e),h=u==Hz||u==DCe;if(Jg(e))return Uz(e,l);if(u==Wz||u==zz||h&&!a)o=h?{}:qz(e);else{if(!Vs[u])return a?e:{};o=vCe(e,u,l)}}i||(i=new Ql);var p=i.get(e);if(p)return p;i.set(e,o),ECe(e)?e.forEach(function(w){o.add(b1(w,t,r,w,e,i))}):NCe(e)&&e.forEach(function(w,v){o.set(v,b1(w,t,r,v,e,i))});var g=kC,y=d?void 0:g(e);return KSe(y||e,function(w,v){y&&(v=w,w=e[v]),kz(o,v,b1(w,t,r,v,e,i))}),o}var XCe=1,QCe=4;function vp(e){return b1(e,XCe|QCe)}var ZCe="__lodash_hash_undefined__";function JCe(e){return this.__data__.set(e,ZCe),this}function eTe(e){return this.__data__.has(e)}function dw(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new zh;++t<r;)this.add(e[t])}dw.prototype.add=dw.prototype.push=JCe;dw.prototype.has=eTe;function tTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function rTe(e,t){return e.has(t)}var sTe=1,nTe=2;function Gz(e,t,r,n,a,i){var o=r&sTe,l=e.length,d=t.length;if(l!=d&&!(o&&d>l))return!1;var u=i.get(e),h=i.get(t);if(u&&h)return u==t&&h==e;var p=-1,g=!0,y=r&nTe?new dw:void 0;for(i.set(e,t),i.set(t,e);++p<l;){var w=e[p],v=t[p];if(n)var N=o?n(v,w,p,t,e,i):n(w,v,p,e,t,i);if(N!==void 0){if(N)continue;g=!1;break}if(y){if(!tTe(t,function(j,A){if(!rTe(y,A)&&(w===j||a(w,j,r,n,i)))return y.push(A)})){g=!1;break}}else if(!(w===v||a(w,v,r,n,i))){g=!1;break}}return i.delete(e),i.delete(t),g}function aTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}function iTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var oTe=1,lTe=2,cTe="[object Boolean]",dTe="[object Date]",uTe="[object Error]",fTe="[object Map]",hTe="[object Number]",mTe="[object RegExp]",pTe="[object Set]",xTe="[object String]",gTe="[object Symbol]",yTe="[object ArrayBuffer]",vTe="[object DataView]",_I=Ku?Ku.prototype:void 0,EE=_I?_I.valueOf:void 0;function bTe(e,t,r,n,a,i,o){switch(r){case vTe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yTe:return!(e.byteLength!=t.byteLength||!i(new cw(e),new cw(t)));case cTe:case dTe:case hTe:return tv(+e,+t);case uTe:return e.name==t.name&&e.message==t.message;case mTe:case xTe:return e==t+"";case fTe:var l=aTe;case pTe:var d=n&oTe;if(l||(l=iTe),e.size!=t.size&&!d)return!1;var u=o.get(e);if(u)return u==t;n|=lTe,o.set(e,t);var h=Gz(l(e),l(t),n,a,i,o);return o.delete(e),h;case gTe:if(EE)return EE.call(e)==EE.call(t)}return!1}var wTe=1,NTe=Object.prototype,jTe=NTe.hasOwnProperty;function STe(e,t,r,n,a,i){var o=r&wTe,l=kC(e),d=l.length,u=kC(t),h=u.length;if(d!=h&&!o)return!1;for(var p=d;p--;){var g=l[p];if(!(o?g in t:jTe.call(t,g)))return!1}var y=i.get(e),w=i.get(t);if(y&&w)return y==t&&w==e;var v=!0;i.set(e,t),i.set(t,e);for(var N=o;++p<d;){g=l[p];var j=e[g],A=t[g];if(n)var E=o?n(A,j,g,t,e,i):n(j,A,g,e,t,i);if(!(E===void 0?j===A||a(j,A,r,n,i):E)){v=!1;break}N||(N=g=="constructor")}if(v&&!N){var S=e.constructor,_=t.constructor;S!=_&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return i.delete(e),i.delete(t),v}var ETe=1,kI="[object Arguments]",DI="[object Array]",Lb="[object Object]",ATe=Object.prototype,OI=ATe.hasOwnProperty;function CTe(e,t,r,n,a,i){var o=Nh(e),l=Nh(t),d=o?DI:Jo(e),u=l?DI:Jo(t);d=d==kI?Lb:d,u=u==kI?Lb:u;var h=d==Lb,p=u==Lb,g=d==u;if(g&&Jg(e)){if(!Jg(t))return!1;o=!0,h=!1}if(g&&!h)return i||(i=new Ql),o||M_(e)?Gz(e,t,r,n,a,i):bTe(e,t,d,r,n,a,i);if(!(r&ETe)){var y=h&&OI.call(e,"__wrapped__"),w=p&&OI.call(t,"__wrapped__");if(y||w){var v=y?e.value():e,N=w?t.value():t;return i||(i=new Ql),a(v,N,r,n,i)}}return g?(i||(i=new Ql),STe(e,t,r,n,a,i)):!1}function Yz(e,t,r,n,a){return e===t?!0:e==null||t==null||!cd(e)&&!cd(t)?e!==e&&t!==t:CTe(e,t,r,n,Yz,a)}function TTe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var d=o[++a];if(r(i[d],d,i)===!1)break}return t}}var _Te=TTe();function RC(e,t,r){(r!==void 0&&!tv(e[t],r)||r===void 0&&!(t in e))&&O_(e,t,r)}function kTe(e){return cd(e)&&TN(e)}function MC(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function DTe(e){return eEe(e,Fz(e))}function OTe(e,t,r,n,a,i,o){var l=MC(e,r),d=MC(t,r),u=o.get(d);if(u){RC(e,r,u);return}var h=i?i(l,d,r+"",e,t,o):void 0,p=h===void 0;if(p){var g=Nh(d),y=!g&&Jg(d),w=!g&&!y&&M_(d);h=d,g||y||w?Nh(l)?h=l:kTe(l)?h=USe(l):y?(p=!1,h=Uz(d,!0)):w?(p=!1,h=Vz(d,!0)):h=[]:CAe(d)||_C(d)?(h=l,_C(l)?h=DTe(l):(!cf(l)||D_(l))&&(h=qz(d))):p=!1}p&&(o.set(d,h),a(h,d,n,i,o),o.delete(d)),RC(e,r,h)}function Kz(e,t,r,n,a){e!==t&&_Te(t,function(i,o){if(a||(a=new Ql),cf(i))OTe(e,t,o,r,Kz,n,a);else{var l=n?n(MC(e,o),i,o+"",e,t,a):void 0;l===void 0&&(l=i),RC(e,o,l)}},Fz)}function gu(e,t){return Yz(e,t)}var Iu=aEe(function(e,t,r){Kz(e,t,r)}),nr=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(nr||{});class nc{constructor(t,r,n={}){this.attrName=t,this.keyName=r;const a=nr.TYPE&nr.ATTRIBUTE;this.scope=n.scope!=null?n.scope&nr.LEVEL|a:nr.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(r=>r.name)}add(t,r){return this.canAdd(t,r)?(t.setAttribute(this.keyName,r),!0):!1}canAdd(t,r){return this.whitelist==null?!0:typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const r=t.getAttribute(this.keyName);return this.canAdd(t,r)&&r?r:""}}class bp extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Xz=class IC{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,r=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(r){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,r)}return null}create(t,r,n){const a=this.query(r);if(a==null)throw new bp(`Unable to create ${r} blot`);const i=a,o=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:i.create(n),l=new i(t,o,n);return IC.blots.set(l.domNode,l),l}find(t,r=!1){return IC.find(t,r)}query(t,r=nr.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&nr.LEVEL&nr.BLOCK?n=this.types.block:t&nr.LEVEL&nr.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(a=>(n=this.classes[a],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&r&nr.LEVEL&n.scope&&r&nr.TYPE&n.scope?n:null}register(...t){return t.map(r=>{const n="blotName"in r,a="attrName"in r;if(!n&&!a)throw new bp("Invalid definition");if(n&&r.blotName==="abstract")throw new bp("Cannot register abstract class");const i=n?r.blotName:a?r.attrName:void 0;return this.types[i]=r,a?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):n&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(o=>o.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(o=>{(this.tags[o]==null||r.className==null)&&(this.tags[o]=r)}))),r})}};Xz.blots=new WeakMap;let Jp=Xz;function PI(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${t}-`)===0)}class PTe extends nc{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(r=>r.split("-").slice(0,-1).join("-"))}add(t,r){return this.canAdd(t,r)?(this.remove(t),t.classList.add(`${this.keyName}-${r}`),!0):!1}remove(t){PI(t,this.keyName).forEach(r=>{t.classList.remove(r)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const r=(PI(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,r)?r:""}}const wl=PTe;function AE(e){const t=e.split("-"),r=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+r}class RTe extends nc{static keys(t){return(t.getAttribute("style")||"").split(";").map(r=>r.split(":")[0].trim())}add(t,r){return this.canAdd(t,r)?(t.style[AE(this.keyName)]=r,!0):!1}remove(t){t.style[AE(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const r=t.style[AE(this.keyName)];return this.canAdd(t,r)?r:""}}const df=RTe;class MTe{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,r){r?t.add(this.domNode,r)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Jp.find(this.domNode);if(t==null)return;const r=nc.keys(this.domNode),n=wl.keys(this.domNode),a=df.keys(this.domNode);r.concat(n).concat(a).forEach(i=>{const o=t.scroll.query(i,nr.ATTRIBUTE);o instanceof nc&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(r=>{const n=this.attributes[r].value(this.domNode);t.format(r,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(r=>{this.attributes[r].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,r)=>(t[r]=this.attributes[r].value(this.domNode),t),{})}}const DN=MTe,Qz=class{constructor(t,r){this.scroll=t,this.domNode=r,Jp.blots.set(r,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new bp("Blot definition missing tagName");let r,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?r=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?r=document.createElement(n):r=document.createElement(this.tagName[0])):r=document.createElement(this.tagName),this.className&&r.classList.add(this.className),r}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Jp.blots.delete(this.domNode)}deleteAt(t,r){this.isolate(t,r).remove()}formatAt(t,r,n,a){const i=this.isolate(t,r);if(this.scroll.query(n,nr.BLOT)!=null&&a)i.wrap(n,a);else if(this.scroll.query(n,nr.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(n,a)}}insertAt(t,r,n){const a=n==null?this.scroll.create("text",r):this.scroll.create(r,n),i=this.split(t);this.parent.insertBefore(a,i||void 0)}isolate(t,r){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(r),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,r){return t===0?this:this.next}update(t,r){}wrap(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new bp(`Cannot wrap ${t}`);return n.appendChild(this),n}};Qz.blotName="abstract";let Zz=Qz;const Jz=class extends Zz{static value(t){return!0}index(t,r){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1}position(t,r){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Jz.scope=nr.INLINE_BLOT;let ITe=Jz;const $a=ITe;class FTe{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const r=t.slice(1);this.append(...r)}}at(t){const r=this.iterator();let n=r();for(;n&&t>0;)t-=1,n=r();return n}contains(t){const r=this.iterator();let n=r();for(;n;){if(n===t)return!0;n=r()}return!1}indexOf(t){const r=this.iterator();let n=r(),a=0;for(;n;){if(n===t)return a;a+=1,n=r()}return-1}insertBefore(t,r){t!=null&&(this.remove(t),t.next=r,r!=null?(t.prev=r.prev,r.prev!=null&&(r.prev.next=t),r.prev=t,r===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let r=0,n=this.head;for(;n!=null;){if(n===t)return r;r+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const r=t;return t!=null&&(t=t.next),r}}find(t,r=!1){const n=this.iterator();let a=n();for(;a;){const i=a.length();if(t<i||r&&t===i&&(a.next==null||a.next.length()!==0))return[a,t];t-=i,a=n()}return[null,0]}forEach(t){const r=this.iterator();let n=r();for(;n;)t(n),n=r()}forEachAt(t,r,n){if(r<=0)return;const[a,i]=this.find(t);let o=t-i;const l=this.iterator(a);let d=l();for(;d&&o<t+r;){const u=d.length();t>o?n(d,t-o,Math.min(r,o+u-t)):n(d,0,Math.min(u,t+r-o)),o+=u,d=l()}}map(t){return this.reduce((r,n)=>(r.push(t(n)),r),[])}reduce(t,r){const n=this.iterator();let a=n();for(;a;)r=t(r,a),a=n();return r}}function RI(e,t){const r=t.find(e);if(r)return r;try{return t.create(e)}catch{const n=t.create(nr.INLINE);return Array.from(e.childNodes).forEach(a=>{n.domNode.appendChild(a)}),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach(),n}}const eH=class xu extends Zz{constructor(t,r){super(t,r),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,xu.uiClass&&this.uiNode.classList.add(xu.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new FTe,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const r=RI(t,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof bp)return;throw r}})}deleteAt(t,r){if(t===0&&r===this.length())return this.remove();this.children.forEachAt(t,r,(n,a,i)=>{n.deleteAt(a,i)})}descendant(t,r=0){const[n,a]=this.children.find(r);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,a]:n instanceof xu?n.descendant(t,a):[null,-1]}descendants(t,r=0,n=Number.MAX_VALUE){let a=[],i=n;return this.children.forEachAt(r,n,(o,l,d)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&a.push(o),o instanceof xu&&(a=a.concat(o.descendants(t,l,i))),i-=d}),a}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(r=>{t||this.statics.allowedChildren.some(n=>r instanceof n)||(r.statics.scope===nr.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),t=!0):r instanceof xu?r.unwrap():r.remove())})}formatAt(t,r,n,a){this.children.forEachAt(t,r,(i,o,l)=>{i.formatAt(o,l,n,a)})}insertAt(t,r,n){const[a,i]=this.children.find(t);if(a)a.insertAt(i,r,n);else{const o=n==null?this.scroll.create("text",r):this.scroll.create(r,n);this.appendChild(o)}}insertBefore(t,r){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,r||null),t.parent=this,r!=null&&(n=r.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,r)=>t+r.length(),0)}moveChildren(t,r){this.children.forEach(n=>{t.insertBefore(n,r)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(t,r=!1){const[n,a]=this.children.find(t,r),i=[[this,t]];return n instanceof xu?i.concat(n.path(a,r)):(n!=null&&i.push([n,a]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;return n instanceof xu&&this.moveChildren(n),super.replaceWith(n)}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(a,i,o)=>{const l=a.split(i,r);l!=null&&n.appendChild(l)}),n}splitAfter(t){const r=this.clone();for(;t.next!=null;)r.appendChild(t.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,r){const n=[],a=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(n.push(...i.addedNodes),a.push(...i.removedNodes))}),a.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),n.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const l=RI(i,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};eH.uiClass="";let LTe=eH;const ol=LTe;function BTe(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}const Hm=class Wm extends ol{static create(t){return super.create(t)}static formats(t,r){const n=r.query(Wm.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new DN(this.domNode)}format(t,r){if(t===this.statics.blotName&&!r)this.children.forEach(n=>{n instanceof Wm||(n=n.wrap(Wm.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,nr.INLINE);if(n==null)return;n instanceof nc?this.attributes.attribute(n,r):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r)}}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,n,a){this.formats()[n]!=null||this.scroll.query(n,nr.ATTRIBUTE)?this.isolate(t,r).format(n,a):super.formatAt(t,r,n,a)}optimize(t){super.optimize(t);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const n=this.next;n instanceof Wm&&n.prev===this&&BTe(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,r){const n=super.replaceWith(t,r);return this.attributes.copy(n),n}update(t,r){super.update(t,r),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,r){const n=super.wrap(t,r);return n instanceof Wm&&this.attributes.move(n),n}};Hm.allowedChildren=[Hm,$a],Hm.blotName="inline",Hm.scope=nr.INLINE_BLOT,Hm.tagName="SPAN";let $Te=Hm;const F_=$Te,Gm=class FC extends ol{static create(t){return super.create(t)}static formats(t,r){const n=r.query(FC.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new DN(this.domNode)}format(t,r){const n=this.scroll.query(t,nr.BLOCK);n!=null&&(n instanceof nc?this.attributes.attribute(n,r):t===this.statics.blotName&&!r?this.replaceWith(FC.blotName):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r))}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,n,a){this.scroll.query(n,nr.BLOCK)!=null?this.format(n,a):super.formatAt(t,r,n,a)}insertAt(t,r,n){if(n==null||this.scroll.query(r,nr.INLINE)!=null)super.insertAt(t,r,n);else{const a=this.split(t);if(a!=null){const i=this.scroll.create(r,n);a.parent.insertBefore(i,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,r){const n=super.replaceWith(t,r);return this.attributes.copy(n),n}update(t,r){super.update(t,r),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Gm.blotName="block",Gm.scope=nr.BLOCK_BLOT,Gm.tagName="P",Gm.allowedChildren=[F_,Gm,$a];let UTe=Gm;const ry=UTe,LC=class extends ol{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,r){super.deleteAt(t,r),this.enforceAllowedChildren()}formatAt(t,r,n,a){super.formatAt(t,r,n,a),this.enforceAllowedChildren()}insertAt(t,r,n){super.insertAt(t,r,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};LC.blotName="container",LC.scope=nr.BLOCK_BLOT;let VTe=LC;const ON=VTe;class qTe extends $a{static formats(t,r){}format(t,r){super.formatAt(0,this.length(),t,r)}formatAt(t,r,n,a){t===0&&r===this.length()?this.format(n,a):super.formatAt(t,r,n,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const eo=qTe,zTe={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},HTe=100,Ym=class extends ol{constructor(t,r){super(null,r),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,zTe),this.attach()}create(t,r){return this.registry.create(this,t,r)}find(t,r=!1){const n=this.registry.find(t,r);return n?n.scroll===this?n:r?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,r=nr.ANY){return this.registry.query(t,r)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,r){this.update(),t===0&&r===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,r)}formatAt(t,r,n,a){this.update(),super.formatAt(t,r,n,a)}insertAt(t,r,n){this.update(),super.insertAt(t,r,n)}optimize(t=[],r={}){super.optimize(r);const n=r.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)t.push(a.pop());const i=(d,u=!0)=>{d==null||d===this||d.domNode.parentNode!=null&&(n.has(d.domNode)||n.set(d.domNode,[]),u&&i(d.parent))},o=d=>{n.has(d.domNode)&&(d instanceof ol&&d.children.forEach(o),n.delete(d.domNode),d.optimize(r))};let l=t;for(let d=0;l.length>0;d+=1){if(d>=HTe)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(u=>{const h=this.find(u.target,!0);h!=null&&(h.domNode===u.target&&(u.type==="childList"?(i(this.find(u.previousSibling,!1)),Array.from(u.addedNodes).forEach(p=>{const g=this.find(p,!1);i(g,!1),g instanceof ol&&g.children.forEach(y=>{i(y,!1)})})):u.type==="attributes"&&i(h.prev)),i(h))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),a=l.slice();a.length>0;)t.push(a.pop())}}update(t,r={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(a=>{const i=this.find(a.target,!0);return i==null?null:n.has(i.domNode)?(n.get(i.domNode).push(a),null):(n.set(i.domNode,[a]),i)}).forEach(a=>{a!=null&&a!==this&&n.has(a.domNode)&&a.update(n.get(a.domNode)||[],r)}),r.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),r),this.optimize(t,r)}};Ym.blotName="scroll",Ym.defaultChild=ry,Ym.allowedChildren=[ry,ON],Ym.scope=nr.BLOCK_BLOT,Ym.tagName="DIV";let WTe=Ym;const L_=WTe,BC=class tH extends $a{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,r){super(t,r),this.text=this.statics.value(this.domNode)}deleteAt(t,r){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+r)}index(t,r){return this.domNode===t?r:-1}insertAt(t,r,n){n==null?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,r,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof tH&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,r=!1){return[this.domNode,t]}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,r){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};BC.blotName="text",BC.scope=nr.INLINE_BLOT;let GTe=BC;const uw=GTe,YTe=Object.freeze(Object.defineProperty({__proto__:null,Attributor:nc,AttributorStore:DN,BlockBlot:ry,ClassAttributor:wl,ContainerBlot:ON,EmbedBlot:eo,InlineBlot:F_,LeafBlot:$a,ParentBlot:ol,Registry:Jp,Scope:nr,ScrollBlot:L_,StyleAttributor:df,TextBlot:uw},Symbol.toStringTag,{value:"Module"}));var Bb={exports:{}},CE,MI;function KTe(){if(MI)return CE;MI=1;var e=-1,t=1,r=0;function n(M,q,U,re,te){if(M===q)return M?[[r,M]]:[];if(U!=null){var B=P(M,q,U);if(B)return B}var H=l(M,q),R=M.substring(0,H);M=M.substring(H),q=q.substring(H),H=u(M,q);var X=M.substring(M.length-H);M=M.substring(0,M.length-H),q=q.substring(0,q.length-H);var W=a(M,q);return R&&W.unshift([r,R]),X&&W.push([r,X]),A(W,te),re&&p(W),W}function a(M,q){var U;if(!M)return[[t,q]];if(!q)return[[e,M]];var re=M.length>q.length?M:q,te=M.length>q.length?q:M,B=re.indexOf(te);if(B!==-1)return U=[[t,re.substring(0,B)],[r,te],[t,re.substring(B+te.length)]],M.length>q.length&&(U[0][0]=U[2][0]=e),U;if(te.length===1)return[[e,M],[t,q]];var H=h(M,q);if(H){var R=H[0],X=H[1],W=H[2],Y=H[3],F=H[4],z=n(R,W),K=n(X,Y);return z.concat([[r,F]],K)}return i(M,q)}function i(M,q){for(var U=M.length,re=q.length,te=Math.ceil((U+re)/2),B=te,H=2*te,R=new Array(H),X=new Array(H),W=0;W<H;W++)R[W]=-1,X[W]=-1;R[B+1]=0,X[B+1]=0;for(var Y=U-re,F=Y%2!==0,z=0,K=0,V=0,ae=0,Q=0;Q<te;Q++){for(var se=-Q+z;se<=Q-K;se+=2){var Z=B+se,le;se===-Q||se!==Q&&R[Z-1]<R[Z+1]?le=R[Z+1]:le=R[Z-1]+1;for(var Te=le-se;le<U&&Te<re&&M.charAt(le)===q.charAt(Te);)le++,Te++;if(R[Z]=le,le>U)K+=2;else if(Te>re)z+=2;else if(F){var Ee=B+Y-se;if(Ee>=0&&Ee<H&&X[Ee]!==-1){var Ze=U-X[Ee];if(le>=Ze)return o(M,q,le,Te)}}}for(var Be=-Q+V;Be<=Q-ae;Be+=2){var Ee=B+Be,Ze;Be===-Q||Be!==Q&&X[Ee-1]<X[Ee+1]?Ze=X[Ee+1]:Ze=X[Ee-1]+1;for(var Ie=Ze-Be;Ze<U&&Ie<re&&M.charAt(U-Ze-1)===q.charAt(re-Ie-1);)Ze++,Ie++;if(X[Ee]=Ze,Ze>U)ae+=2;else if(Ie>re)V+=2;else if(!F){var Z=B+Y-Be;if(Z>=0&&Z<H&&R[Z]!==-1){var le=R[Z],Te=B+le-Z;if(Ze=U-Ze,le>=Ze)return o(M,q,le,Te)}}}}return[[e,M],[t,q]]}function o(M,q,U,re){var te=M.substring(0,U),B=q.substring(0,re),H=M.substring(U),R=q.substring(re),X=n(te,B),W=n(H,R);return X.concat(W)}function l(M,q){if(!M||!q||M.charAt(0)!==q.charAt(0))return 0;for(var U=0,re=Math.min(M.length,q.length),te=re,B=0;U<te;)M.substring(B,te)==q.substring(B,te)?(U=te,B=U):re=te,te=Math.floor((re-U)/2+U);return E(M.charCodeAt(te-1))&&te--,te}function d(M,q){var U=M.length,re=q.length;if(U==0||re==0)return 0;U>re?M=M.substring(U-re):U<re&&(q=q.substring(0,U));var te=Math.min(U,re);if(M==q)return te;for(var B=0,H=1;;){var R=M.substring(te-H),X=q.indexOf(R);if(X==-1)return B;H+=X,(X==0||M.substring(te-H)==q.substring(0,H))&&(B=H,H++)}}function u(M,q){if(!M||!q||M.slice(-1)!==q.slice(-1))return 0;for(var U=0,re=Math.min(M.length,q.length),te=re,B=0;U<te;)M.substring(M.length-te,M.length-B)==q.substring(q.length-te,q.length-B)?(U=te,B=U):re=te,te=Math.floor((re-U)/2+U);return S(M.charCodeAt(M.length-te))&&te--,te}function h(M,q){var U=M.length>q.length?M:q,re=M.length>q.length?q:M;if(U.length<4||re.length*2<U.length)return null;function te(K,V,ae){for(var Q=K.substring(ae,ae+Math.floor(K.length/4)),se=-1,Z="",le,Te,Ee,Ze;(se=V.indexOf(Q,se+1))!==-1;){var Be=l(K.substring(ae),V.substring(se)),Ie=u(K.substring(0,ae),V.substring(0,se));Z.length<Ie+Be&&(Z=V.substring(se-Ie,se)+V.substring(se,se+Be),le=K.substring(0,ae-Ie),Te=K.substring(ae+Be),Ee=V.substring(0,se-Ie),Ze=V.substring(se+Be))}return Z.length*2>=K.length?[le,Te,Ee,Ze,Z]:null}var B=te(U,re,Math.ceil(U.length/4)),H=te(U,re,Math.ceil(U.length/2)),R;if(!B&&!H)return null;H?B?R=B[4].length>H[4].length?B:H:R=H:R=B;var X,W,Y,F;M.length>q.length?(X=R[0],W=R[1],Y=R[2],F=R[3]):(Y=R[0],F=R[1],X=R[2],W=R[3]);var z=R[4];return[X,W,Y,F,z]}function p(M){for(var q=!1,U=[],re=0,te=null,B=0,H=0,R=0,X=0,W=0;B<M.length;)M[B][0]==r?(U[re++]=B,H=X,R=W,X=0,W=0,te=M[B][1]):(M[B][0]==t?X+=M[B][1].length:W+=M[B][1].length,te&&te.length<=Math.max(H,R)&&te.length<=Math.max(X,W)&&(M.splice(U[re-1],0,[e,te]),M[U[re-1]+1][0]=t,re--,re--,B=re>0?U[re-1]:-1,H=0,R=0,X=0,W=0,te=null,q=!0)),B++;for(q&&A(M),j(M),B=1;B<M.length;){if(M[B-1][0]==e&&M[B][0]==t){var Y=M[B-1][1],F=M[B][1],z=d(Y,F),K=d(F,Y);z>=K?(z>=Y.length/2||z>=F.length/2)&&(M.splice(B,0,[r,F.substring(0,z)]),M[B-1][1]=Y.substring(0,Y.length-z),M[B+1][1]=F.substring(z),B++):(K>=Y.length/2||K>=F.length/2)&&(M.splice(B,0,[r,Y.substring(0,K)]),M[B-1][0]=t,M[B-1][1]=F.substring(0,F.length-K),M[B+1][0]=e,M[B+1][1]=Y.substring(K),B++),B++}B++}}var g=/[^a-zA-Z0-9]/,y=/\s/,w=/[\r\n]/,v=/\n\r?\n$/,N=/^\r?\n\r?\n/;function j(M){function q(K,V){if(!K||!V)return 6;var ae=K.charAt(K.length-1),Q=V.charAt(0),se=ae.match(g),Z=Q.match(g),le=se&&ae.match(y),Te=Z&&Q.match(y),Ee=le&&ae.match(w),Ze=Te&&Q.match(w),Be=Ee&&K.match(v),Ie=Ze&&V.match(N);return Be||Ie?5:Ee||Ze?4:se&&!le&&Te?3:le||Te?2:se||Z?1:0}for(var U=1;U<M.length-1;){if(M[U-1][0]==r&&M[U+1][0]==r){var re=M[U-1][1],te=M[U][1],B=M[U+1][1],H=u(re,te);if(H){var R=te.substring(te.length-H);re=re.substring(0,re.length-H),te=R+te.substring(0,te.length-H),B=R+B}for(var X=re,W=te,Y=B,F=q(re,te)+q(te,B);te.charAt(0)===B.charAt(0);){re+=te.charAt(0),te=te.substring(1)+B.charAt(0),B=B.substring(1);var z=q(re,te)+q(te,B);z>=F&&(F=z,X=re,W=te,Y=B)}M[U-1][1]!=X&&(X?M[U-1][1]=X:(M.splice(U-1,1),U--),M[U][1]=W,Y?M[U+1][1]=Y:(M.splice(U+1,1),U--))}U++}}function A(M,q){M.push([r,""]);for(var U=0,re=0,te=0,B="",H="",R;U<M.length;){if(U<M.length-1&&!M[U][1]){M.splice(U,1);continue}switch(M[U][0]){case t:te++,H+=M[U][1],U++;break;case e:re++,B+=M[U][1],U++;break;case r:var X=U-te-re-1;if(q){if(X>=0&&k(M[X][1])){var W=M[X][1].slice(-1);if(M[X][1]=M[X][1].slice(0,-1),B=W+B,H=W+H,!M[X][1]){M.splice(X,1),U--;var Y=X-1;M[Y]&&M[Y][0]===t&&(te++,H=M[Y][1]+H,Y--),M[Y]&&M[Y][0]===e&&(re++,B=M[Y][1]+B,Y--),X=Y}}if(_(M[U][1])){var W=M[U][1].charAt(0);M[U][1]=M[U][1].slice(1),B+=W,H+=W}}if(U<M.length-1&&!M[U][1]){M.splice(U,1);break}if(B.length>0||H.length>0){B.length>0&&H.length>0&&(R=l(H,B),R!==0&&(X>=0?M[X][1]+=H.substring(0,R):(M.splice(0,0,[r,H.substring(0,R)]),U++),H=H.substring(R),B=B.substring(R)),R=u(H,B),R!==0&&(M[U][1]=H.substring(H.length-R)+M[U][1],H=H.substring(0,H.length-R),B=B.substring(0,B.length-R)));var F=te+re;B.length===0&&H.length===0?(M.splice(U-F,F),U=U-F):B.length===0?(M.splice(U-F,F,[t,H]),U=U-F+1):H.length===0?(M.splice(U-F,F,[e,B]),U=U-F+1):(M.splice(U-F,F,[e,B],[t,H]),U=U-F+2)}U!==0&&M[U-1][0]===r?(M[U-1][1]+=M[U][1],M.splice(U,1)):U++,te=0,re=0,B="",H="";break}}M[M.length-1][1]===""&&M.pop();var z=!1;for(U=1;U<M.length-1;)M[U-1][0]===r&&M[U+1][0]===r&&(M[U][1].substring(M[U][1].length-M[U-1][1].length)===M[U-1][1]?(M[U][1]=M[U-1][1]+M[U][1].substring(0,M[U][1].length-M[U-1][1].length),M[U+1][1]=M[U-1][1]+M[U+1][1],M.splice(U-1,1),z=!0):M[U][1].substring(0,M[U+1][1].length)==M[U+1][1]&&(M[U-1][1]+=M[U+1][1],M[U][1]=M[U][1].substring(M[U+1][1].length)+M[U+1][1],M.splice(U+1,1),z=!0)),U++;z&&A(M,q)}function E(M){return M>=55296&&M<=56319}function S(M){return M>=56320&&M<=57343}function _(M){return S(M.charCodeAt(0))}function k(M){return E(M.charCodeAt(M.length-1))}function T(M){for(var q=[],U=0;U<M.length;U++)M[U][1].length>0&&q.push(M[U]);return q}function O(M,q,U,re){return k(M)||_(re)?null:T([[r,M],[e,q],[t,U],[r,re]])}function P(M,q,U){var re=typeof U=="number"?{index:U,length:0}:U.oldRange,te=typeof U=="number"?null:U.newRange,B=M.length,H=q.length;if(re.length===0&&(te===null||te.length===0)){var R=re.index,X=M.slice(0,R),W=M.slice(R),Y=te?te.index:null;e:{var F=R+H-B;if(Y!==null&&Y!==F||F<0||F>H)break e;var z=q.slice(0,F),K=q.slice(F);if(K!==W)break e;var V=Math.min(R,F),ae=X.slice(0,V),Q=z.slice(0,V);if(ae!==Q)break e;var se=X.slice(V),Z=z.slice(V);return O(ae,se,Z,W)}e:{if(Y!==null&&Y!==R)break e;var le=R,z=q.slice(0,le),K=q.slice(le);if(z!==X)break e;var Te=Math.min(B-le,H-le),Ee=W.slice(W.length-Te),Ze=K.slice(K.length-Te);if(Ee!==Ze)break e;var se=W.slice(0,W.length-Te),Z=K.slice(0,K.length-Te);return O(X,se,Z,Ee)}}if(re.length>0&&te&&te.length===0)e:{var ae=M.slice(0,re.index),Ee=M.slice(re.index+re.length),V=ae.length,Te=Ee.length;if(H<V+Te)break e;var Q=q.slice(0,V),Ze=q.slice(H-Te);if(ae!==Q||Ee!==Ze)break e;var se=M.slice(V,B-Te),Z=q.slice(V,H-Te);return O(ae,se,Z,Ee)}return null}function I(M,q,U,re){return n(M,q,U,re,!0)}return I.INSERT=t,I.DELETE=e,I.EQUAL=r,CE=I,CE}var Zx={exports:{}};Zx.exports;var II;function rH(){return II||(II=1,function(e,t){var r=200,n="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",o="[object Array]",l="[object Boolean]",d="[object Date]",u="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",y="[object Number]",w="[object Object]",v="[object Promise]",N="[object RegExp]",j="[object Set]",A="[object String]",E="[object Symbol]",S="[object WeakMap]",_="[object ArrayBuffer]",k="[object DataView]",T="[object Float32Array]",O="[object Float64Array]",P="[object Int8Array]",I="[object Int16Array]",M="[object Int32Array]",q="[object Uint8Array]",U="[object Uint8ClampedArray]",re="[object Uint16Array]",te="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,H=/\w*$/,R=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,W={};W[i]=W[o]=W[_]=W[k]=W[l]=W[d]=W[T]=W[O]=W[P]=W[I]=W[M]=W[g]=W[y]=W[w]=W[N]=W[j]=W[A]=W[E]=W[q]=W[U]=W[re]=W[te]=!0,W[u]=W[h]=W[S]=!1;var Y=typeof Eo=="object"&&Eo&&Eo.Object===Object&&Eo,F=typeof self=="object"&&self&&self.Object===Object&&self,z=Y||F||Function("return this")(),K=t&&!t.nodeType&&t,V=K&&!0&&e&&!e.nodeType&&e,ae=V&&V.exports===K;function Q(L,oe){return L.set(oe[0],oe[1]),L}function se(L,oe){return L.add(oe),L}function Z(L,oe){for(var Ce=-1,st=L?L.length:0;++Ce<st&&oe(L[Ce],Ce,L)!==!1;);return L}function le(L,oe){for(var Ce=-1,st=oe.length,xr=L.length;++Ce<st;)L[xr+Ce]=oe[Ce];return L}function Te(L,oe,Ce,st){for(var xr=-1,ir=L?L.length:0;++xr<ir;)Ce=oe(Ce,L[xr],xr,L);return Ce}function Ee(L,oe){for(var Ce=-1,st=Array(L);++Ce<L;)st[Ce]=oe(Ce);return st}function Ze(L,oe){return L==null?void 0:L[oe]}function Be(L){var oe=!1;if(L!=null&&typeof L.toString!="function")try{oe=!!(L+"")}catch{}return oe}function Ie(L){var oe=-1,Ce=Array(L.size);return L.forEach(function(st,xr){Ce[++oe]=[xr,st]}),Ce}function Ne(L,oe){return function(Ce){return L(oe(Ce))}}function fe(L){var oe=-1,Ce=Array(L.size);return L.forEach(function(st){Ce[++oe]=st}),Ce}var de=Array.prototype,ke=Function.prototype,Pe=Object.prototype,Re=z["__core-js_shared__"],ie=function(){var L=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),be=ke.toString,De=Pe.hasOwnProperty,lt=Pe.toString,at=RegExp("^"+be.call(De).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=ae?z.Buffer:void 0,rt=z.Symbol,Mt=z.Uint8Array,Jt=Ne(Object.getPrototypeOf,Object),Br=Object.create,ls=Pe.propertyIsEnumerable,xs=de.splice,vt=Object.getOwnPropertySymbols,kr=ze?ze.isBuffer:void 0,$t=Ne(Object.keys,Object),Dr=ia(z,"DataView"),qr=ia(z,"Map"),Tt=ia(z,"Promise"),ur=ia(z,"Set"),fr=ia(z,"WeakMap"),ar=ia(Object,"create"),hr=cn(Dr),we=cn(qr),ct=cn(Tt),ft=cn(ur),Et=cn(fr),er=rt?rt.prototype:void 0,lr=er?er.valueOf:void 0;function cr(L){var oe=-1,Ce=L?L.length:0;for(this.clear();++oe<Ce;){var st=L[oe];this.set(st[0],st[1])}}function Hr(){this.__data__=ar?ar(null):{}}function jr(L){return this.has(L)&&delete this.__data__[L]}function Bs(L){var oe=this.__data__;if(ar){var Ce=oe[L];return Ce===n?void 0:Ce}return De.call(oe,L)?oe[L]:void 0}function Ka(L){var oe=this.__data__;return ar?oe[L]!==void 0:De.call(oe,L)}function Wn(L,oe){var Ce=this.__data__;return Ce[L]=ar&&oe===void 0?n:oe,this}cr.prototype.clear=Hr,cr.prototype.delete=jr,cr.prototype.get=Bs,cr.prototype.has=Ka,cr.prototype.set=Wn;function ee(L){var oe=-1,Ce=L?L.length:0;for(this.clear();++oe<Ce;){var st=L[oe];this.set(st[0],st[1])}}function xe(){this.__data__=[]}function ue(L){var oe=this.__data__,Ce=Sr(oe,L);if(Ce<0)return!1;var st=oe.length-1;return Ce==st?oe.pop():xs.call(oe,Ce,1),!0}function he(L){var oe=this.__data__,Ce=Sr(oe,L);return Ce<0?void 0:oe[Ce][1]}function ge(L){return Sr(this.__data__,L)>-1}function me(L,oe){var Ce=this.__data__,st=Sr(Ce,L);return st<0?Ce.push([L,oe]):Ce[st][1]=oe,this}ee.prototype.clear=xe,ee.prototype.delete=ue,ee.prototype.get=he,ee.prototype.has=ge,ee.prototype.set=me;function Me(L){var oe=-1,Ce=L?L.length:0;for(this.clear();++oe<Ce;){var st=L[oe];this.set(st[0],st[1])}}function Qe(){this.__data__={hash:new cr,map:new(qr||ee),string:new cr}}function Fe(L){return El(this,L).delete(L)}function qe(L){return El(this,L).get(L)}function We(L){return El(this,L).has(L)}function mt(L,oe){return El(this,L).set(L,oe),this}Me.prototype.clear=Qe,Me.prototype.delete=Fe,Me.prototype.get=qe,Me.prototype.has=We,Me.prototype.set=mt;function bt(L){this.__data__=new ee(L)}function J(){this.__data__=new ee}function ve(L){return this.__data__.delete(L)}function Ae(L){return this.__data__.get(L)}function tt(L){return this.__data__.has(L)}function pt(L,oe){var Ce=this.__data__;if(Ce instanceof ee){var st=Ce.__data__;if(!qr||st.length<r-1)return st.push([L,oe]),this;Ce=this.__data__=new Me(st)}return Ce.set(L,oe),this}bt.prototype.clear=J,bt.prototype.delete=ve,bt.prototype.get=Ae,bt.prototype.has=tt,bt.prototype.set=pt;function At(L,oe){var Ce=Ad(L)||Al(L)?Ee(L.length,String):[],st=Ce.length,xr=!!st;for(var ir in L)De.call(L,ir)&&!(xr&&(ir=="length"||F0(ir,st)))&&Ce.push(ir);return Ce}function zt(L,oe,Ce){var st=L[oe];(!(De.call(L,oe)&&xf(st,Ce))||Ce===void 0&&!(oe in L))&&(L[oe]=Ce)}function Sr(L,oe){for(var Ce=L.length;Ce--;)if(xf(L[Ce][0],oe))return Ce;return-1}function rs(L,oe){return L&&xc(oe,Td(oe),L)}function bs(L,oe,Ce,st,xr,ir,Qr){var Wr;if(st&&(Wr=ir?st(L,xr,ir,Qr):st(L)),Wr!==void 0)return Wr;if(!mi(L))return L;var $s=Ad(L);if($s){if(Wr=tm(L),!oe)return Jh(L,Wr)}else{var Jr=ro(L),Gn=Jr==h||Jr==p;if(Cd(L))return mc(L,oe);if(Jr==w||Jr==i||Gn&&!ir){if(Be(L))return ir?L:{};if(Wr=hi(Gn?{}:L),!oe)return Sl(L,rs(Wr,L))}else{if(!W[Jr])return ir?L:{};Wr=I0(L,Jr,bs,oe)}}Qr||(Qr=new bt);var Pa=Qr.get(L);if(Pa)return Pa;if(Qr.set(L,Wr),!$s)var vn=Ce?em(L):Td(L);return Z(vn||L,function(oa,bn){vn&&(bn=oa,oa=L[bn]),zt(Wr,bn,bs(oa,oe,Ce,st,bn,L,Qr))}),Wr}function Xr(L){return mi(L)?Br(L):{}}function tn(L,oe,Ce){var st=oe(L);return Ad(L)?st:le(st,Ce(L))}function _n(L){return lt.call(L)}function jd(L){if(!mi(L)||pf(L))return!1;var oe=Fo(L)||Be(L)?at:R;return oe.test(cn(L))}function Da(L){if(!Ed(L))return $t(L);var oe=[];for(var Ce in Object(L))De.call(L,Ce)&&Ce!="constructor"&&oe.push(Ce);return oe}function mc(L,oe){if(oe)return L.slice();var Ce=new L.constructor(L.length);return L.copy(Ce),Ce}function ff(L){var oe=new L.constructor(L.byteLength);return new Mt(oe).set(new Mt(L)),oe}function to(L,oe){var Ce=oe?ff(L.buffer):L.buffer;return new L.constructor(Ce,L.byteOffset,L.byteLength)}function hf(L,oe,Ce){var st=oe?Ce(Ie(L),!0):Ie(L);return Te(st,Q,new L.constructor)}function pc(L){var oe=new L.constructor(L.source,H.exec(L));return oe.lastIndex=L.lastIndex,oe}function M0(L,oe,Ce){var st=oe?Ce(fe(L),!0):fe(L);return Te(st,se,new L.constructor)}function Oa(L){return lr?Object(lr.call(L)):{}}function mf(L,oe){var Ce=oe?ff(L.buffer):L.buffer;return new L.constructor(Ce,L.byteOffset,L.length)}function Jh(L,oe){var Ce=-1,st=L.length;for(oe||(oe=Array(st));++Ce<st;)oe[Ce]=L[Ce];return oe}function xc(L,oe,Ce,st){Ce||(Ce={});for(var xr=-1,ir=oe.length;++xr<ir;){var Qr=oe[xr],Wr=void 0;zt(Ce,Qr,Wr===void 0?L[Qr]:Wr)}return Ce}function Sl(L,oe){return xc(L,Mo(L),oe)}function em(L){return tn(L,Td,Mo)}function El(L,oe){var Ce=L.__data__;return Sd(oe)?Ce[typeof oe=="string"?"string":"hash"]:Ce.map}function ia(L,oe){var Ce=Ze(L,oe);return jd(Ce)?Ce:void 0}var Mo=vt?Ne(vt,Object):_d,ro=_n;(Dr&&ro(new Dr(new ArrayBuffer(1)))!=k||qr&&ro(new qr)!=g||Tt&&ro(Tt.resolve())!=v||ur&&ro(new ur)!=j||fr&&ro(new fr)!=S)&&(ro=function(L){var oe=lt.call(L),Ce=oe==w?L.constructor:void 0,st=Ce?cn(Ce):void 0;if(st)switch(st){case hr:return k;case we:return g;case ct:return v;case ft:return j;case Et:return S}return oe});function tm(L){var oe=L.length,Ce=L.constructor(oe);return oe&&typeof L[0]=="string"&&De.call(L,"index")&&(Ce.index=L.index,Ce.input=L.input),Ce}function hi(L){return typeof L.constructor=="function"&&!Ed(L)?Xr(Jt(L)):{}}function I0(L,oe,Ce,st){var xr=L.constructor;switch(oe){case _:return ff(L);case l:case d:return new xr(+L);case k:return to(L,st);case T:case O:case P:case I:case M:case q:case U:case re:case te:return mf(L,st);case g:return hf(L,st,Ce);case y:case A:return new xr(L);case N:return pc(L);case j:return M0(L,st,Ce);case E:return Oa(L)}}function F0(L,oe){return oe=oe??a,!!oe&&(typeof L=="number"||X.test(L))&&L>-1&&L%1==0&&L<oe}function Sd(L){var oe=typeof L;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?L!=="__proto__":L===null}function pf(L){return!!ie&&ie in L}function Ed(L){var oe=L&&L.constructor,Ce=typeof oe=="function"&&oe.prototype||Pe;return L===Ce}function cn(L){if(L!=null){try{return be.call(L)}catch{}try{return L+""}catch{}}return""}function Io(L){return bs(L,!0,!0)}function xf(L,oe){return L===oe||L!==L&&oe!==oe}function Al(L){return Pi(L)&&De.call(L,"callee")&&(!ls.call(L,"callee")||lt.call(L)==i)}var Ad=Array.isArray;function so(L){return L!=null&&Ri(L.length)&&!Fo(L)}function Pi(L){return gc(L)&&so(L)}var Cd=kr||kd;function Fo(L){var oe=mi(L)?lt.call(L):"";return oe==h||oe==p}function Ri(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=a}function mi(L){var oe=typeof L;return!!L&&(oe=="object"||oe=="function")}function gc(L){return!!L&&typeof L=="object"}function Td(L){return so(L)?At(L):Da(L)}function _d(){return[]}function kd(){return!1}e.exports=Io}(Zx,Zx.exports)),Zx.exports}var Jx={exports:{}};Jx.exports;var FI;function sH(){return FI||(FI=1,function(e,t){var r=200,n="__lodash_hash_undefined__",a=1,i=2,o=9007199254740991,l="[object Arguments]",d="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",p="[object Date]",g="[object Error]",y="[object Function]",w="[object GeneratorFunction]",v="[object Map]",N="[object Number]",j="[object Null]",A="[object Object]",E="[object Promise]",S="[object Proxy]",_="[object RegExp]",k="[object Set]",T="[object String]",O="[object Symbol]",P="[object Undefined]",I="[object WeakMap]",M="[object ArrayBuffer]",q="[object DataView]",U="[object Float32Array]",re="[object Float64Array]",te="[object Int8Array]",B="[object Int16Array]",H="[object Int32Array]",R="[object Uint8Array]",X="[object Uint8ClampedArray]",W="[object Uint16Array]",Y="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,V={};V[U]=V[re]=V[te]=V[B]=V[H]=V[R]=V[X]=V[W]=V[Y]=!0,V[l]=V[d]=V[M]=V[h]=V[q]=V[p]=V[g]=V[y]=V[v]=V[N]=V[A]=V[_]=V[k]=V[T]=V[I]=!1;var ae=typeof Eo=="object"&&Eo&&Eo.Object===Object&&Eo,Q=typeof self=="object"&&self&&self.Object===Object&&self,se=ae||Q||Function("return this")(),Z=t&&!t.nodeType&&t,le=Z&&!0&&e&&!e.nodeType&&e,Te=le&&le.exports===Z,Ee=Te&&ae.process,Ze=function(){try{return Ee&&Ee.binding&&Ee.binding("util")}catch{}}(),Be=Ze&&Ze.isTypedArray;function Ie(L,oe){for(var Ce=-1,st=L==null?0:L.length,xr=0,ir=[];++Ce<st;){var Qr=L[Ce];oe(Qr,Ce,L)&&(ir[xr++]=Qr)}return ir}function Ne(L,oe){for(var Ce=-1,st=oe.length,xr=L.length;++Ce<st;)L[xr+Ce]=oe[Ce];return L}function fe(L,oe){for(var Ce=-1,st=L==null?0:L.length;++Ce<st;)if(oe(L[Ce],Ce,L))return!0;return!1}function de(L,oe){for(var Ce=-1,st=Array(L);++Ce<L;)st[Ce]=oe(Ce);return st}function ke(L){return function(oe){return L(oe)}}function Pe(L,oe){return L.has(oe)}function Re(L,oe){return L==null?void 0:L[oe]}function ie(L){var oe=-1,Ce=Array(L.size);return L.forEach(function(st,xr){Ce[++oe]=[xr,st]}),Ce}function be(L,oe){return function(Ce){return L(oe(Ce))}}function De(L){var oe=-1,Ce=Array(L.size);return L.forEach(function(st){Ce[++oe]=st}),Ce}var lt=Array.prototype,at=Function.prototype,ze=Object.prototype,rt=se["__core-js_shared__"],Mt=at.toString,Jt=ze.hasOwnProperty,Br=function(){var L=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),ls=ze.toString,xs=RegExp("^"+Mt.call(Jt).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=Te?se.Buffer:void 0,kr=se.Symbol,$t=se.Uint8Array,Dr=ze.propertyIsEnumerable,qr=lt.splice,Tt=kr?kr.toStringTag:void 0,ur=Object.getOwnPropertySymbols,fr=vt?vt.isBuffer:void 0,ar=be(Object.keys,Object),hr=Mo(se,"DataView"),we=Mo(se,"Map"),ct=Mo(se,"Promise"),ft=Mo(se,"Set"),Et=Mo(se,"WeakMap"),er=Mo(Object,"create"),lr=cn(hr),cr=cn(we),Hr=cn(ct),jr=cn(ft),Bs=cn(Et),Ka=kr?kr.prototype:void 0,Wn=Ka?Ka.valueOf:void 0;function ee(L){var oe=-1,Ce=L==null?0:L.length;for(this.clear();++oe<Ce;){var st=L[oe];this.set(st[0],st[1])}}function xe(){this.__data__=er?er(null):{},this.size=0}function ue(L){var oe=this.has(L)&&delete this.__data__[L];return this.size-=oe?1:0,oe}function he(L){var oe=this.__data__;if(er){var Ce=oe[L];return Ce===n?void 0:Ce}return Jt.call(oe,L)?oe[L]:void 0}function ge(L){var oe=this.__data__;return er?oe[L]!==void 0:Jt.call(oe,L)}function me(L,oe){var Ce=this.__data__;return this.size+=this.has(L)?0:1,Ce[L]=er&&oe===void 0?n:oe,this}ee.prototype.clear=xe,ee.prototype.delete=ue,ee.prototype.get=he,ee.prototype.has=ge,ee.prototype.set=me;function Me(L){var oe=-1,Ce=L==null?0:L.length;for(this.clear();++oe<Ce;){var st=L[oe];this.set(st[0],st[1])}}function Qe(){this.__data__=[],this.size=0}function Fe(L){var oe=this.__data__,Ce=mc(oe,L);if(Ce<0)return!1;var st=oe.length-1;return Ce==st?oe.pop():qr.call(oe,Ce,1),--this.size,!0}function qe(L){var oe=this.__data__,Ce=mc(oe,L);return Ce<0?void 0:oe[Ce][1]}function We(L){return mc(this.__data__,L)>-1}function mt(L,oe){var Ce=this.__data__,st=mc(Ce,L);return st<0?(++this.size,Ce.push([L,oe])):Ce[st][1]=oe,this}Me.prototype.clear=Qe,Me.prototype.delete=Fe,Me.prototype.get=qe,Me.prototype.has=We,Me.prototype.set=mt;function bt(L){var oe=-1,Ce=L==null?0:L.length;for(this.clear();++oe<Ce;){var st=L[oe];this.set(st[0],st[1])}}function J(){this.size=0,this.__data__={hash:new ee,map:new(we||Me),string:new ee}}function ve(L){var oe=ia(this,L).delete(L);return this.size-=oe?1:0,oe}function Ae(L){return ia(this,L).get(L)}function tt(L){return ia(this,L).has(L)}function pt(L,oe){var Ce=ia(this,L),st=Ce.size;return Ce.set(L,oe),this.size+=Ce.size==st?0:1,this}bt.prototype.clear=J,bt.prototype.delete=ve,bt.prototype.get=Ae,bt.prototype.has=tt,bt.prototype.set=pt;function At(L){var oe=-1,Ce=L==null?0:L.length;for(this.__data__=new bt;++oe<Ce;)this.add(L[oe])}function zt(L){return this.__data__.set(L,n),this}function Sr(L){return this.__data__.has(L)}At.prototype.add=At.prototype.push=zt,At.prototype.has=Sr;function rs(L){var oe=this.__data__=new Me(L);this.size=oe.size}function bs(){this.__data__=new Me,this.size=0}function Xr(L){var oe=this.__data__,Ce=oe.delete(L);return this.size=oe.size,Ce}function tn(L){return this.__data__.get(L)}function _n(L){return this.__data__.has(L)}function jd(L,oe){var Ce=this.__data__;if(Ce instanceof Me){var st=Ce.__data__;if(!we||st.length<r-1)return st.push([L,oe]),this.size=++Ce.size,this;Ce=this.__data__=new bt(st)}return Ce.set(L,oe),this.size=Ce.size,this}rs.prototype.clear=bs,rs.prototype.delete=Xr,rs.prototype.get=tn,rs.prototype.has=_n,rs.prototype.set=jd;function Da(L,oe){var Ce=Al(L),st=!Ce&&xf(L),xr=!Ce&&!st&&so(L),ir=!Ce&&!st&&!xr&&gc(L),Qr=Ce||st||xr||ir,Wr=Qr?de(L.length,String):[],$s=Wr.length;for(var Jr in L)Jt.call(L,Jr)&&!(Qr&&(Jr=="length"||xr&&(Jr=="offset"||Jr=="parent")||ir&&(Jr=="buffer"||Jr=="byteLength"||Jr=="byteOffset")||I0(Jr,$s)))&&Wr.push(Jr);return Wr}function mc(L,oe){for(var Ce=L.length;Ce--;)if(Io(L[Ce][0],oe))return Ce;return-1}function ff(L,oe,Ce){var st=oe(L);return Al(L)?st:Ne(st,Ce(L))}function to(L){return L==null?L===void 0?P:j:Tt&&Tt in Object(L)?ro(L):Ed(L)}function hf(L){return mi(L)&&to(L)==l}function pc(L,oe,Ce,st,xr){return L===oe?!0:L==null||oe==null||!mi(L)&&!mi(oe)?L!==L&&oe!==oe:M0(L,oe,Ce,st,pc,xr)}function M0(L,oe,Ce,st,xr,ir){var Qr=Al(L),Wr=Al(oe),$s=Qr?d:hi(L),Jr=Wr?d:hi(oe);$s=$s==l?A:$s,Jr=Jr==l?A:Jr;var Gn=$s==A,Pa=Jr==A,vn=$s==Jr;if(vn&&so(L)){if(!so(oe))return!1;Qr=!0,Gn=!1}if(vn&&!Gn)return ir||(ir=new rs),Qr||gc(L)?xc(L,oe,Ce,st,xr,ir):Sl(L,oe,$s,Ce,st,xr,ir);if(!(Ce&a)){var oa=Gn&&Jt.call(L,"__wrapped__"),bn=Pa&&Jt.call(oe,"__wrapped__");if(oa||bn){var Cl=oa?L.value():L,Lo=bn?oe.value():oe;return ir||(ir=new rs),xr(Cl,Lo,Ce,st,ir)}}return vn?(ir||(ir=new rs),em(L,oe,Ce,st,xr,ir)):!1}function Oa(L){if(!Ri(L)||Sd(L))return!1;var oe=Cd(L)?xs:z;return oe.test(cn(L))}function mf(L){return mi(L)&&Fo(L.length)&&!!V[to(L)]}function Jh(L){if(!pf(L))return ar(L);var oe=[];for(var Ce in Object(L))Jt.call(L,Ce)&&Ce!="constructor"&&oe.push(Ce);return oe}function xc(L,oe,Ce,st,xr,ir){var Qr=Ce&a,Wr=L.length,$s=oe.length;if(Wr!=$s&&!(Qr&&$s>Wr))return!1;var Jr=ir.get(L);if(Jr&&ir.get(oe))return Jr==oe;var Gn=-1,Pa=!0,vn=Ce&i?new At:void 0;for(ir.set(L,oe),ir.set(oe,L);++Gn<Wr;){var oa=L[Gn],bn=oe[Gn];if(st)var Cl=Qr?st(bn,oa,Gn,oe,L,ir):st(oa,bn,Gn,L,oe,ir);if(Cl!==void 0){if(Cl)continue;Pa=!1;break}if(vn){if(!fe(oe,function(Lo,yc){if(!Pe(vn,yc)&&(oa===Lo||xr(oa,Lo,Ce,st,ir)))return vn.push(yc)})){Pa=!1;break}}else if(!(oa===bn||xr(oa,bn,Ce,st,ir))){Pa=!1;break}}return ir.delete(L),ir.delete(oe),Pa}function Sl(L,oe,Ce,st,xr,ir,Qr){switch(Ce){case q:if(L.byteLength!=oe.byteLength||L.byteOffset!=oe.byteOffset)return!1;L=L.buffer,oe=oe.buffer;case M:return!(L.byteLength!=oe.byteLength||!ir(new $t(L),new $t(oe)));case h:case p:case N:return Io(+L,+oe);case g:return L.name==oe.name&&L.message==oe.message;case _:case T:return L==oe+"";case v:var Wr=ie;case k:var $s=st&a;if(Wr||(Wr=De),L.size!=oe.size&&!$s)return!1;var Jr=Qr.get(L);if(Jr)return Jr==oe;st|=i,Qr.set(L,oe);var Gn=xc(Wr(L),Wr(oe),st,xr,ir,Qr);return Qr.delete(L),Gn;case O:if(Wn)return Wn.call(L)==Wn.call(oe)}return!1}function em(L,oe,Ce,st,xr,ir){var Qr=Ce&a,Wr=El(L),$s=Wr.length,Jr=El(oe),Gn=Jr.length;if($s!=Gn&&!Qr)return!1;for(var Pa=$s;Pa--;){var vn=Wr[Pa];if(!(Qr?vn in oe:Jt.call(oe,vn)))return!1}var oa=ir.get(L);if(oa&&ir.get(oe))return oa==oe;var bn=!0;ir.set(L,oe),ir.set(oe,L);for(var Cl=Qr;++Pa<$s;){vn=Wr[Pa];var Lo=L[vn],yc=oe[vn];if(st)var fv=Qr?st(yc,Lo,vn,oe,L,ir):st(Lo,yc,vn,L,oe,ir);if(!(fv===void 0?Lo===yc||xr(Lo,yc,Ce,st,ir):fv)){bn=!1;break}Cl||(Cl=vn=="constructor")}if(bn&&!Cl){var rm=L.constructor,gf=oe.constructor;rm!=gf&&"constructor"in L&&"constructor"in oe&&!(typeof rm=="function"&&rm instanceof rm&&typeof gf=="function"&&gf instanceof gf)&&(bn=!1)}return ir.delete(L),ir.delete(oe),bn}function El(L){return ff(L,Td,tm)}function ia(L,oe){var Ce=L.__data__;return F0(oe)?Ce[typeof oe=="string"?"string":"hash"]:Ce.map}function Mo(L,oe){var Ce=Re(L,oe);return Oa(Ce)?Ce:void 0}function ro(L){var oe=Jt.call(L,Tt),Ce=L[Tt];try{L[Tt]=void 0;var st=!0}catch{}var xr=ls.call(L);return st&&(oe?L[Tt]=Ce:delete L[Tt]),xr}var tm=ur?function(L){return L==null?[]:(L=Object(L),Ie(ur(L),function(oe){return Dr.call(L,oe)}))}:_d,hi=to;(hr&&hi(new hr(new ArrayBuffer(1)))!=q||we&&hi(new we)!=v||ct&&hi(ct.resolve())!=E||ft&&hi(new ft)!=k||Et&&hi(new Et)!=I)&&(hi=function(L){var oe=to(L),Ce=oe==A?L.constructor:void 0,st=Ce?cn(Ce):"";if(st)switch(st){case lr:return q;case cr:return v;case Hr:return E;case jr:return k;case Bs:return I}return oe});function I0(L,oe){return oe=oe??o,!!oe&&(typeof L=="number"||K.test(L))&&L>-1&&L%1==0&&L<oe}function F0(L){var oe=typeof L;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?L!=="__proto__":L===null}function Sd(L){return!!Br&&Br in L}function pf(L){var oe=L&&L.constructor,Ce=typeof oe=="function"&&oe.prototype||ze;return L===Ce}function Ed(L){return ls.call(L)}function cn(L){if(L!=null){try{return Mt.call(L)}catch{}try{return L+""}catch{}}return""}function Io(L,oe){return L===oe||L!==L&&oe!==oe}var xf=hf(function(){return arguments}())?hf:function(L){return mi(L)&&Jt.call(L,"callee")&&!Dr.call(L,"callee")},Al=Array.isArray;function Ad(L){return L!=null&&Fo(L.length)&&!Cd(L)}var so=fr||kd;function Pi(L,oe){return pc(L,oe)}function Cd(L){if(!Ri(L))return!1;var oe=to(L);return oe==y||oe==w||oe==u||oe==S}function Fo(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=o}function Ri(L){var oe=typeof L;return L!=null&&(oe=="object"||oe=="function")}function mi(L){return L!=null&&typeof L=="object"}var gc=Be?ke(Be):mf;function Td(L){return Ad(L)?Da(L):Jh(L)}function _d(){return[]}function kd(){return!1}e.exports=Pi}(Jx,Jx.exports)),Jx.exports}var $b={},LI;function XTe(){if(LI)return $b;LI=1,Object.defineProperty($b,"__esModule",{value:!0});const e=rH(),t=sH();var r;return function(n){function a(d={},u={},h=!1){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});let p=e(u);h||(p=Object.keys(p).reduce((g,y)=>(p[y]!=null&&(g[y]=p[y]),g),{}));for(const g in d)d[g]!==void 0&&u[g]===void 0&&(p[g]=d[g]);return Object.keys(p).length>0?p:void 0}n.compose=a;function i(d={},u={}){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});const h=Object.keys(d).concat(Object.keys(u)).reduce((p,g)=>(t(d[g],u[g])||(p[g]=u[g]===void 0?null:u[g]),p),{});return Object.keys(h).length>0?h:void 0}n.diff=i;function o(d={},u={}){d=d||{};const h=Object.keys(u).reduce((p,g)=>(u[g]!==d[g]&&d[g]!==void 0&&(p[g]=u[g]),p),{});return Object.keys(d).reduce((p,g)=>(d[g]!==u[g]&&u[g]===void 0&&(p[g]=null),p),h)}n.invert=o;function l(d,u,h=!1){if(typeof d!="object")return u;if(typeof u!="object")return;if(!h)return u;const p=Object.keys(u).reduce((g,y)=>(d[y]===void 0&&(g[y]=u[y]),g),{});return Object.keys(p).length>0?p:void 0}n.transform=l}(r||(r={})),$b.default=r,$b}var Ub={},BI;function nH(){if(BI)return Ub;BI=1,Object.defineProperty(Ub,"__esModule",{value:!0});var e;return function(t){function r(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=r}(e||(e={})),Ub.default=e,Ub}var Vb={},$I;function QTe(){if($I)return Vb;$I=1,Object.defineProperty(Vb,"__esModule",{value:!0});const e=nH();class t{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const a=this.ops[this.index];if(a){const i=this.offset,o=e.default.length(a);if(n>=o-i?(n=o-i,this.index+=1,this.offset=0):this.offset+=n,typeof a.delete=="number")return{delete:n};{const l={};return a.attributes&&(l.attributes=a.attributes),typeof a.retain=="number"?l.retain=n:typeof a.retain=="object"&&a.retain!==null?l.retain=a.retain:typeof a.insert=="string"?l.insert=a.insert.substr(i,n):l.insert=a.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,a=this.index,i=this.next(),o=this.ops.slice(this.index);return this.offset=n,this.index=a,[i].concat(o)}}else return[]}}return Vb.default=t,Vb}var UI;function ZTe(){return UI||(UI=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const r=KTe(),n=rH(),a=sH(),i=XTe();t.AttributeMap=i.default;const o=nH();t.Op=o.default;const l=QTe();t.OpIterator=l.default;const d="\0",u=(p,g)=>{if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);const y=Object.keys(p)[0];if(!y||y!==Object.keys(g)[0])throw new Error(`embed types not matched: ${y} != ${Object.keys(g)[0]}`);return[y,p[y],g[y]]};class h{constructor(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]}static registerEmbed(g,y){this.handlers[g]=y}static unregisterEmbed(g){delete this.handlers[g]}static getHandler(g){const y=this.handlers[g];if(!y)throw new Error(`no handlers for embed type "${g}"`);return y}insert(g,y){const w={};return typeof g=="string"&&g.length===0?this:(w.insert=g,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(w.attributes=y),this.push(w))}delete(g){return g<=0?this:this.push({delete:g})}retain(g,y){if(typeof g=="number"&&g<=0)return this;const w={retain:g};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(w.attributes=y),this.push(w)}push(g){let y=this.ops.length,w=this.ops[y-1];if(g=n(g),typeof w=="object"){if(typeof g.delete=="number"&&typeof w.delete=="number")return this.ops[y-1]={delete:w.delete+g.delete},this;if(typeof w.delete=="number"&&g.insert!=null&&(y-=1,w=this.ops[y-1],typeof w!="object"))return this.ops.unshift(g),this;if(a(g.attributes,w.attributes)){if(typeof g.insert=="string"&&typeof w.insert=="string")return this.ops[y-1]={insert:w.insert+g.insert},typeof g.attributes=="object"&&(this.ops[y-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof w.retain=="number")return this.ops[y-1]={retain:w.retain+g.retain},typeof g.attributes=="object"&&(this.ops[y-1].attributes=g.attributes),this}}return y===this.ops.length?this.ops.push(g):this.ops.splice(y,0,g),this}chop(){const g=this.ops[this.ops.length-1];return g&&typeof g.retain=="number"&&!g.attributes&&this.ops.pop(),this}filter(g){return this.ops.filter(g)}forEach(g){this.ops.forEach(g)}map(g){return this.ops.map(g)}partition(g){const y=[],w=[];return this.forEach(v=>{(g(v)?y:w).push(v)}),[y,w]}reduce(g,y){return this.ops.reduce(g,y)}changeLength(){return this.reduce((g,y)=>y.insert?g+o.default.length(y):y.delete?g-y.delete:g,0)}length(){return this.reduce((g,y)=>g+o.default.length(y),0)}slice(g=0,y=1/0){const w=[],v=new l.default(this.ops);let N=0;for(;N<y&&v.hasNext();){let j;N<g?j=v.next(g-N):(j=v.next(y-N),w.push(j)),N+=o.default.length(j)}return new h(w)}compose(g){const y=new l.default(this.ops),w=new l.default(g.ops),v=[],N=w.peek();if(N!=null&&typeof N.retain=="number"&&N.attributes==null){let A=N.retain;for(;y.peekType()==="insert"&&y.peekLength()<=A;)A-=y.peekLength(),v.push(y.next());N.retain-A>0&&w.next(N.retain-A)}const j=new h(v);for(;y.hasNext()||w.hasNext();)if(w.peekType()==="insert")j.push(w.next());else if(y.peekType()==="delete")j.push(y.next());else{const A=Math.min(y.peekLength(),w.peekLength()),E=y.next(A),S=w.next(A);if(S.retain){const _={};if(typeof E.retain=="number")_.retain=typeof S.retain=="number"?A:S.retain;else if(typeof S.retain=="number")E.retain==null?_.insert=E.insert:_.retain=E.retain;else{const T=E.retain==null?"insert":"retain",[O,P,I]=u(E[T],S.retain),M=h.getHandler(O);_[T]={[O]:M.compose(P,I,T==="retain")}}const k=i.default.compose(E.attributes,S.attributes,typeof E.retain=="number");if(k&&(_.attributes=k),j.push(_),!w.hasNext()&&a(j.ops[j.ops.length-1],_)){const T=new h(y.rest());return j.concat(T).chop()}}else typeof S.delete=="number"&&(typeof E.retain=="number"||typeof E.retain=="object"&&E.retain!==null)&&j.push(S)}return j.chop()}concat(g){const y=new h(this.ops.slice());return g.ops.length>0&&(y.push(g.ops[0]),y.ops=y.ops.concat(g.ops.slice(1))),y}diff(g,y){if(this.ops===g.ops)return new h;const w=[this,g].map(E=>E.map(S=>{if(S.insert!=null)return typeof S.insert=="string"?S.insert:d;const _=E===g?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")),v=new h,N=r(w[0],w[1],y,!0),j=new l.default(this.ops),A=new l.default(g.ops);return N.forEach(E=>{let S=E[1].length;for(;S>0;){let _=0;switch(E[0]){case r.INSERT:_=Math.min(A.peekLength(),S),v.push(A.next(_));break;case r.DELETE:_=Math.min(S,j.peekLength()),j.next(_),v.delete(_);break;case r.EQUAL:_=Math.min(j.peekLength(),A.peekLength(),S);const k=j.next(_),T=A.next(_);a(k.insert,T.insert)?v.retain(_,i.default.diff(k.attributes,T.attributes)):v.push(T).delete(_);break}S-=_}}),v.chop()}eachLine(g,y=`
`){const w=new l.default(this.ops);let v=new h,N=0;for(;w.hasNext();){if(w.peekType()!=="insert")return;const j=w.peek(),A=o.default.length(j)-w.peekLength(),E=typeof j.insert=="string"?j.insert.indexOf(y,A)-A:-1;if(E<0)v.push(w.next());else if(E>0)v.push(w.next(E));else{if(g(v,w.next(1).attributes||{},N)===!1)return;N+=1,v=new h}}v.length()>0&&g(v,{},N)}invert(g){const y=new h;return this.reduce((w,v)=>{if(v.insert)y.delete(o.default.length(v));else{if(typeof v.retain=="number"&&v.attributes==null)return y.retain(v.retain),w+v.retain;if(v.delete||typeof v.retain=="number"){const N=v.delete||v.retain;return g.slice(w,w+N).forEach(A=>{v.delete?y.push(A):v.retain&&v.attributes&&y.retain(o.default.length(A),i.default.invert(v.attributes,A.attributes))}),w+N}else if(typeof v.retain=="object"&&v.retain!==null){const N=g.slice(w,w+1),j=new l.default(N.ops).next(),[A,E,S]=u(v.retain,j.insert),_=h.getHandler(A);return y.retain({[A]:_.invert(E,S)},i.default.invert(v.attributes,j.attributes)),w+1}}return w},0),y.chop()}transform(g,y=!1){if(y=!!y,typeof g=="number")return this.transformPosition(g,y);const w=g,v=new l.default(this.ops),N=new l.default(w.ops),j=new h;for(;v.hasNext()||N.hasNext();)if(v.peekType()==="insert"&&(y||N.peekType()!=="insert"))j.retain(o.default.length(v.next()));else if(N.peekType()==="insert")j.push(N.next());else{const A=Math.min(v.peekLength(),N.peekLength()),E=v.next(A),S=N.next(A);if(E.delete)continue;if(S.delete)j.push(S);else{const _=E.retain,k=S.retain;let T=typeof k=="object"&&k!==null?k:A;if(typeof _=="object"&&_!==null&&typeof k=="object"&&k!==null){const O=Object.keys(_)[0];if(O===Object.keys(k)[0]){const P=h.getHandler(O);P&&(T={[O]:P.transform(_[O],k[O],y)})}}j.retain(T,i.default.transform(E.attributes,S.attributes,y))}}return j.chop()}transformPosition(g,y=!1){y=!!y;const w=new l.default(this.ops);let v=0;for(;w.hasNext()&&v<=g;){const N=w.peekLength(),j=w.peekType();if(w.next(),j==="delete"){g-=Math.min(N,g-v);continue}else j==="insert"&&(v<g||!y)&&(g+=N);v+=N}return g}}h.Op=o.default,h.OpIterator=l.default,h.AttributeMap=i.default,h.handlers={},t.default=h,e.exports=h,e.exports.default=h}(Bb,Bb.exports)),Bb.exports}var Ao=ZTe();const tr=Aw(Ao);class Nl extends eo{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Nl.blotName="break";Nl.tagName="BR";let ml=class extends uw{};const JTe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function PN(e){return e.replace(/[&<>"']/g,t=>JTe[t])}const Fl=class Fl extends F_{static compare(t,r){const n=Fl.order.indexOf(t),a=Fl.order.indexOf(r);return n>=0||a>=0?n-a:t===r?0:t<r?-1:1}formatAt(t,r,n,a){if(Fl.compare(this.statics.blotName,n)<0&&this.scroll.query(n,nr.BLOT)){const i=this.isolate(t,r);a&&i.wrap(n,a)}else super.formatAt(t,r,n,a)}optimize(t){if(super.optimize(t),this.parent instanceof Fl&&Fl.compare(this.statics.blotName,this.parent.statics.blotName)>0){const r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}};Ut(Fl,"allowedChildren",[Fl,Nl,eo,ml]),Ut(Fl,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let ac=Fl;const VI=1;class Aa extends ry{constructor(){super(...arguments);Ut(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=aH(this)),this.cache.delta}deleteAt(r,n){super.deleteAt(r,n),this.cache={}}formatAt(r,n,a,i){n<=0||(this.scroll.query(a,nr.BLOCK)?r+n===this.length()&&this.format(a,i):super.formatAt(r,Math.min(n,this.length()-r-1),a,i),this.cache={})}insertAt(r,n,a){if(a!=null){super.insertAt(r,n,a),this.cache={};return}if(n.length===0)return;const i=n.split(`
`),o=i.shift();o.length>0&&(r<this.length()-1||this.children.tail==null?super.insertAt(Math.min(r,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;i.reduce((d,u)=>(l=l.split(d,!0),l.insertAt(0,u),u.length),r+o.length)}insertBefore(r,n){const{head:a}=this.children;super.insertBefore(r,n),a instanceof Nl&&a.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+VI),this.cache.length}moveChildren(r,n){super.moveChildren(r,n),this.cache={}}optimize(r){super.optimize(r),this.cache={}}path(r){return super.path(r,!0)}removeChild(r){super.removeChild(r),this.cache={}}split(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(r===0||r>=this.length()-VI)){const i=this.clone();return r===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const a=super.split(r,n);return this.cache={},a}}Aa.blotName="block";Aa.tagName="P";Aa.defaultChild=Nl;Aa.allowedChildren=[Nl,ac,eo,ml];class So extends eo{attach(){super.attach(),this.attributes=new DN(this.domNode)}delta(){return new tr().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,r){const n=this.scroll.query(t,nr.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,r)}formatAt(t,r,n,a){this.format(n,a)}insertAt(t,r,n){if(n!=null){super.insertAt(t,r,n);return}const a=r.split(`
`),i=a.pop(),o=a.map(d=>{const u=this.scroll.create(Aa.blotName);return u.insertAt(0,d),u}),l=this.split(t);o.forEach(d=>{this.parent.insertBefore(d,l)}),i&&this.parent.insertBefore(this.scroll.create("text",i),l)}}So.scope=nr.BLOCK_BLOT;function aH(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants($a).reduce((r,n)=>n.length()===0?r:r.insert(n.value(),wo(n,{},t)),new tr).insert(`
`,wo(e))}function wo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(t={...t,...e.formats()},r&&delete t["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?t:wo(e.parent,t,r)}const xo=class xo extends eo{static value(){}constructor(t,r,n){super(t,r),this.selection=n,this.textNode=document.createTextNode(xo.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,r){if(this.savedLength!==0){super.format(t,r);return}let n=this,a=0;for(;n!=null&&n.statics.scope!==nr.BLOCK_BLOT;)a+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=xo.CONTENTS.length,n.optimize(),n.formatAt(a,xo.CONTENTS.length,t,r),this.savedLength=0)}index(t,r){return t===this.textNode?0:super.index(t,r)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const r=this.prev instanceof ml?this.prev:null,n=r?r.length():0,a=this.next instanceof ml?this.next:null,i=a?a.text:"",{textNode:o}=this,l=o.data.split(xo.CONTENTS).join("");o.data=xo.CONTENTS;let d;if(r)d=r,(l||a)&&(r.insertAt(r.length(),l+i),a&&a.remove());else if(a)d=a,a.insertAt(0,l);else{const u=document.createTextNode(l);d=this.scroll.create(u),this.parent.insertBefore(d,this)}if(this.remove(),t){const u=(g,y)=>r&&g===r.domNode?y:g===o?n+y-1:a&&g===a.domNode?n+l.length+y:null,h=u(t.start.node,t.start.offset),p=u(t.end.node,t.end.offset);if(h!==null&&p!==null)return{startNode:d.domNode,startOffset:h,endNode:d.domNode,endOffset:p}}return null}update(t,r){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(r.range=n)}}optimize(t){super.optimize(t);let{parent:r}=this;for(;r;){if(r.domNode.tagName==="A"){this.savedLength=xo.CONTENTS.length,r.isolate(this.offset(r),this.length()).unwrap(),this.savedLength=0;break}r=r.parent}}value(){return""}};Ut(xo,"blotName","cursor"),Ut(xo,"className","ql-cursor"),Ut(xo,"tagName","span"),Ut(xo,"CONTENTS","\uFEFF");let e0=xo;var TE={exports:{}},qI;function e4e(){return qI||(qI=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,u,h){this.fn=d,this.context=u,this.once=h||!1}function i(d,u,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new a(h,p||d,g),w=r?r+u:u;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],y]:d._events[w].push(y):(d._events[w]=y,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new n:delete d._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,p;if(this._eventsCount===0)return u;for(p in h=this._events)t.call(h,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=r?r+u:u,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,y=p.length,w=new Array(y);g<y;g++)w[g]=p[g].fn;return w},l.prototype.listenerCount=function(u){var h=r?r+u:u,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,h,p,g,y,w){var v=r?r+u:u;if(!this._events[v])return!1;var N=this._events[v],j=arguments.length,A,E;if(N.fn){switch(N.once&&this.removeListener(u,N.fn,void 0,!0),j){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,h),!0;case 3:return N.fn.call(N.context,h,p),!0;case 4:return N.fn.call(N.context,h,p,g),!0;case 5:return N.fn.call(N.context,h,p,g,y),!0;case 6:return N.fn.call(N.context,h,p,g,y,w),!0}for(E=1,A=new Array(j-1);E<j;E++)A[E-1]=arguments[E];N.fn.apply(N.context,A)}else{var S=N.length,_;for(E=0;E<S;E++)switch(N[E].once&&this.removeListener(u,N[E].fn,void 0,!0),j){case 1:N[E].fn.call(N[E].context);break;case 2:N[E].fn.call(N[E].context,h);break;case 3:N[E].fn.call(N[E].context,h,p);break;case 4:N[E].fn.call(N[E].context,h,p,g);break;default:if(!A)for(_=1,A=new Array(j-1);_<j;_++)A[_-1]=arguments[_];N[E].fn.apply(N[E].context,A)}}return!0},l.prototype.on=function(u,h,p){return i(this,u,h,p,!1)},l.prototype.once=function(u,h,p){return i(this,u,h,p,!0)},l.prototype.removeListener=function(u,h,p,g){var y=r?r+u:u;if(!this._events[y])return this;if(!h)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!g||w.once)&&(!p||w.context===p)&&o(this,y);else{for(var v=0,N=[],j=w.length;v<j;v++)(w[v].fn!==h||g&&!w[v].once||p&&w[v].context!==p)&&N.push(w[v]);N.length?this._events[y]=N.length===1?N[0]:N:o(this,y)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l}(TE)),TE.exports}var t4e=e4e();const r4e=Aw(t4e),$C=new WeakMap,UC=["error","warn","log","info"];let VC="warn";function iH(e){if(VC&&UC.indexOf(e)<=UC.indexOf(VC)){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console[e](...r)}}function wd(e){return UC.reduce((t,r)=>(t[r]=iH.bind(console,r,e),t),{})}wd.level=e=>{VC=e};iH.level=wd.level;const _E=wd("quill:events"),s4e=["selectionchange","mousedown","mouseup","click"];s4e.forEach(e=>{document.addEventListener(e,function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const i=$C.get(a);i&&i.emitter&&i.emitter.handleDOM(...r)})})});class Kt extends r4e{constructor(){super(),this.domListeners={},this.on("error",_E.error)}emit(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _E.log.call(_E,...r),super.emit(...r)}handleDOM(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(this.domListeners[t.type]||[]).forEach(i=>{let{node:o,handler:l}=i;(t.target===o||o.contains(t.target))&&l(t,...n)})}listenDOM(t,r,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:r,handler:n})}}Ut(Kt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Ut(Kt,"sources",{API:"api",SILENT:"silent",USER:"user"});const kE=wd("quill:selection");class Sh{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=r}}class n4e{constructor(t,r){this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Sh(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Kt.sources.USER),1)}),this.emitter.on(Kt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(Kt.events.SCROLL_UPDATE,(a,i)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const o=i.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?Kt.sources.SILENT:a)}catch{}})}),this.emitter.on(Kt.events.SCROLL_OPTIMIZE,(n,a)=>{if(a.range){const{startNode:i,startOffset:o,endNode:l,endOffset:d}=a.range;this.setNativeRange(i,o,l,d),this.update(Kt.sources.SILENT)}}),this.update(Kt.sources.SILENT)}handleComposition(){this.emitter.on(Kt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Kt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Kt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,r){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,nr.BLOCK))){if(n.start.node!==this.cursor.textNode){const a=this.scroll.find(n.start.node,!1);if(a==null)return;if(a instanceof $a){const i=a.split(n.start.offset);a.parent.insertBefore(this.cursor,i)}else a.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),r=Math.min(t+r,n-1)-t;let a,[i,o]=this.scroll.leaf(t);if(i==null)return null;if(r>0&&o===i.length()){const[h]=this.scroll.leaf(t+1);if(h){const[p]=this.scroll.line(t),[g]=this.scroll.line(t+1);p===g&&(i=h,o=0)}}[a,o]=i.position(o,!0);const l=document.createRange();if(r>0)return l.setStart(a,o),[i,o]=this.scroll.leaf(t+r),i==null?null:([a,o]=i.position(o,!0),l.setEnd(a,o),l.getBoundingClientRect());let d="left",u;if(a instanceof Text){if(!a.data.length)return null;o<a.data.length?(l.setStart(a,o),l.setEnd(a,o+1)):(l.setStart(a,o-1),l.setEnd(a,o),d="right"),u=l.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;u=i.domNode.getBoundingClientRect(),o>0&&(d="right")}return{bottom:u.top+u.height,height:u.height,left:u[d],right:u[d],top:u.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const r=t.getRangeAt(0);if(r==null)return null;const n=this.normalizeNative(r);return kE.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const r=this.getNativeRange();return r==null?[null,null]:[this.normalizedToRange(r),r]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&DE(this.root,document.activeElement)}normalizedToRange(t){const r=[[t.start.node,t.start.offset]];t.native.collapsed||r.push([t.end.node,t.end.offset]);const n=r.map(o=>{const[l,d]=o,u=this.scroll.find(l,!0),h=u.offset(this.scroll);return d===0?h:u instanceof $a?h+u.index(l,d):h+u.length()}),a=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(a,...n);return new Sh(i,a-i)}normalizeNative(t){if(!DE(this.root,t.startContainer)||!t.collapsed&&!DE(this.root,t.endContainer))return null;const r={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[r.start,r.end].forEach(n=>{let{node:a,offset:i}=n;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>i)a=a.childNodes[i],i=0;else if(a.childNodes.length===i)a=a.lastChild,a instanceof Text?i=a.data.length:a.childNodes.length>0?i=a.childNodes.length:i=a.childNodes.length+1;else break;n.node=a,n.offset=i}),r}rangeToNative(t){const r=this.scroll.length(),n=(a,i)=>{a=Math.min(r-1,a);const[o,l]=this.scroll.leaf(a);return o?o.position(l,i):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(kE.info("setNativeRange",t,r,n,a),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||i||t!==l.startContainer||r!==l.startOffset||n!==l.endContainer||a!==l.endOffset){t instanceof Element&&t.tagName==="BR"&&(r=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(a=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const d=document.createRange();d.setStart(t,r),d.setEnd(n,a),o.removeAllRanges(),o.addRange(d)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Kt.sources.API;if(typeof r=="string"&&(n=r,r=!1),kE.info("setRange",t),t!=null){const a=this.rangeToNative(t);this.setNativeRange(...a,r)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kt.sources.USER;const r=this.lastRange,[n,a]=this.getRange();if(this.lastRange=n,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!gu(r,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[Kt.events.SELECTION_CHANGE,vp(this.lastRange),vp(r),t];this.emitter.emit(Kt.events.EDITOR_CHANGE,...i),t!==Kt.sources.SILENT&&this.emitter.emit(...i)}}}function DE(e,t){try{t.parentNode}catch{return!1}return e.contains(t)}const a4e=/^[ -~]*$/;class i4e{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const n=zI(t),a=new tr;return l4e(n.ops.slice()).reduce((o,l)=>{const d=Ao.Op.length(l);let u=l.attributes||{},h=!1,p=!1;if(l.insert!=null){if(a.retain(d),typeof l.insert=="string"){const w=l.insert;p=!w.endsWith(`
`)&&(r<=o||!!this.scroll.descendant(So,o)[0]),this.scroll.insertAt(o,w);const[v,N]=this.scroll.line(o);let j=Iu({},wo(v));if(v instanceof Aa){const[A]=v.descendant($a,N);A&&(j=Iu(j,wo(A)))}u=Ao.AttributeMap.diff(j,u)||{}}else if(typeof l.insert=="object"){const w=Object.keys(l.insert)[0];if(w==null)return o;const v=this.scroll.query(w,nr.INLINE)!=null;if(v)(r<=o||this.scroll.descendant(So,o)[0])&&(p=!0);else if(o>0){const[N,j]=this.scroll.descendant($a,o-1);N instanceof ml?N.value()[j]!==`
`&&(h=!0):N instanceof eo&&N.statics.scope===nr.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,w,l.insert[w]),v){const[N]=this.scroll.descendant($a,o);if(N){const j=Iu({},wo(N));u=Ao.AttributeMap.diff(j,u)||{}}}}r+=d}else if(a.push(l),l.retain!==null&&typeof l.retain=="object"){const w=Object.keys(l.retain)[0];if(w==null)return o;this.scroll.updateEmbedAt(o,w,l.retain[w])}Object.keys(u).forEach(w=>{this.scroll.formatAt(o,d,w,u[w])});const g=h?1:0,y=p?1:0;return r+=g+y,a.retain(g),a.delete(y),o+d+g+y},0),a.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+Ao.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,r){return this.scroll.deleteAt(t,r),this.update(new tr().retain(t).delete(r))}formatLine(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(i=>{this.scroll.lines(t,Math.max(r,1)).forEach(o=>{o.format(i,n[i])})}),this.scroll.optimize();const a=new tr().retain(t).retain(r,vp(n));return this.update(a)}formatText(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(i=>{this.scroll.formatAt(t,r,i,n[i])});const a=new tr().retain(t).retain(r,vp(n));return this.update(a)}getContents(t,r){return this.delta.slice(t,t+r)}getDelta(){return this.scroll.lines().reduce((t,r)=>t.concat(r.delta()),new tr)}getFormat(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],a=[];r===0?this.scroll.path(t).forEach(l=>{const[d]=l;d instanceof Aa?n.push(d):d instanceof $a&&a.push(d)}):(n=this.scroll.lines(t,r),a=this.scroll.descendants($a,t,r));const[i,o]=[n,a].map(l=>{const d=l.shift();if(d==null)return{};let u=wo(d);for(;Object.keys(u).length>0;){const h=l.shift();if(h==null)return u;u=o4e(wo(h),u)}return u});return{...i,...o}}getHTML(t,r){const[n,a]=this.scroll.line(t);if(n){const i=n.length();return n.length()>=a+r&&!(a===0&&r===i)?sy(n,a,r,!0):sy(this.scroll,t,r,!0)}return""}getText(t,r){return this.getContents(t,r).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,r){const n=zI(r),a=new tr().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(a)}insertEmbed(t,r,n){return this.scroll.insertAt(t,r,n),this.update(new tr().retain(t).insert({[r]:n}))}insertText(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,r),Object.keys(n).forEach(a=>{this.scroll.formatAt(t,r.length,a,n[a])}),this.update(new tr().retain(t).insert(r,vp(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Aa.blotName)return!1;const r=t;return r.children.length>1?!1:r.children.head instanceof Nl}removeFormat(t,r){const n=this.getText(t,r),[a,i]=this.scroll.line(t+r);let o=0,l=new tr;a!=null&&(o=a.length()-i,l=a.delta().slice(i,i+o-1).insert(`
`));const u=this.getContents(t,r+o).diff(new tr().insert(n).concat(l)),h=new tr().retain(t).concat(u);return this.applyDelta(h)}update(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(a4e)&&this.scroll.find(r[0].target)){const i=this.scroll.find(r[0].target),o=wo(i),l=i.offset(this.scroll),d=r[0].oldValue.replace(e0.CONTENTS,""),u=new tr().insert(d),h=new tr().insert(i.value()),p=n&&{oldRange:HI(n.oldRange,-l),newRange:HI(n.newRange,-l)};t=new tr().retain(l).concat(u.diff(h,p)).reduce((y,w)=>w.insert?y.insert(w.insert,o):y.push(w),new tr),this.delta=a.compose(t)}else this.delta=this.getDelta(),(!t||!gu(a.compose(t),this.delta))&&(t=a.diff(this.delta,n));return t}}function Km(e,t,r){if(e.length===0){const[y]=OE(r.pop());return t<=0?`</li></${y}>`:`</li></${y}>${Km([],t-1,r)}`}const[{child:n,offset:a,length:i,indent:o,type:l},...d]=e,[u,h]=OE(l);if(o>t)return r.push(l),o===t+1?`<${u}><li${h}>${sy(n,a,i)}${Km(d,o,r)}`:`<${u}><li>${Km(e,t+1,r)}`;const p=r[r.length-1];if(o===t&&l===p)return`</li><li${h}>${sy(n,a,i)}${Km(d,o,r)}`;const[g]=OE(r.pop());return`</li></${g}>${Km(e,t-1,r)}`}function sy(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(t,r);if(e instanceof ml)return PN(e.value().slice(t,t+r)).replaceAll(" ","&nbsp;");if(e instanceof ol){if(e.statics.blotName==="list-container"){const u=[];return e.children.forEachAt(t,r,(h,p,g)=>{const y="formats"in h&&typeof h.formats=="function"?h.formats():{};u.push({child:h,offset:p,length:g,indent:y.indent||0,type:y.list})}),Km(u,-1,[])}const a=[];if(e.children.forEachAt(t,r,(u,h,p)=>{a.push(sy(u,h,p))}),n||e.statics.blotName==="list")return a.join("");const{outerHTML:i,innerHTML:o}=e.domNode,[l,d]=i.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${d}`:`${l}>${a.join("")}<${d}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function o4e(e,t){return Object.keys(t).reduce((r,n)=>{if(e[n]==null)return r;const a=t[n];return a===e[n]?r[n]=a:Array.isArray(a)?a.indexOf(e[n])<0?r[n]=a.concat([e[n]]):r[n]=a:r[n]=[a,e[n]],r},{})}function OE(e){const t=e==="ordered"?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function zI(e){return e.reduce((t,r)=>{if(typeof r.insert=="string"){const n=r.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,r.attributes)}return t.push(r)},new tr)}function HI(e,t){let{index:r,length:n}=e;return new Sh(r+t,n)}function l4e(e){const t=[];return e.forEach(r=>{typeof r.insert=="string"?r.insert.split(`
`).forEach((a,i)=>{i&&t.push({insert:`
`,attributes:r.attributes}),a&&t.push({insert:a,attributes:r.attributes})}):t.push(r)}),t}class jl{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=r}}Ut(jl,"DEFAULTS",{});const qb="\uFEFF";class B_ extends eo{constructor(t,r){super(t,r),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(qb),this.rightGuard=document.createTextNode(qb),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,r){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,r)}restore(t){let r=null,n;const a=t.data.split(qb).join("");if(t===this.leftGuard)if(this.prev instanceof ml){const i=this.prev.length();this.prev.insertAt(i,a),r={startNode:this.prev.domNode,startOffset:i+a.length}}else n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this),r={startNode:n,startOffset:a.length};else t===this.rightGuard&&(this.next instanceof ml?(this.next.insertAt(0,a),r={startNode:this.next.domNode,startOffset:a.length}):(n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this.next),r={startNode:n,startOffset:a.length}));return t.data=qb,r}update(t,r){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const a=this.restore(n.target);a&&(r.range=a)}})}}class c4e{constructor(t,r){Ut(this,"isComposing",!1);this.scroll=t,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const r=t.target instanceof Node?this.scroll.find(t.target,!0):null;r&&!(r instanceof B_)&&(this.emitter.emit(Kt.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(Kt.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(Kt.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(Kt.events.COMPOSITION_END,t),this.isComposing=!1}}const xg=class xg{constructor(t,r){Ut(this,"modules",{});this.quill=t,this.options=r}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const r=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new r(this.quill,this.options.modules[t]||{}),this.modules[t]}};Ut(xg,"DEFAULTS",{modules:{}}),Ut(xg,"themes",{default:xg});let t0=xg;const d4e=e=>e.parentElement||e.getRootNode().host||null,u4e=e=>{const t=e.getBoundingClientRect(),r="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,n="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*r,bottom:t.top+e.clientHeight*n,left:t.left}},zb=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},WI=(e,t,r,n,a,i)=>e<r&&t>n?0:e<r?-(r-e+a):t>n?t-e>n-r?e+a-r:t-n+i:0,f4e=(e,t)=>{var i,o,l;const r=e.ownerDocument;let n=t,a=e;for(;a;){const d=a===r.body,u=d?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??r.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??r.documentElement.clientHeight,left:0}:u4e(a),h=getComputedStyle(a),p=WI(n.left,n.right,u.left,u.right,zb(h.scrollPaddingLeft),zb(h.scrollPaddingRight)),g=WI(n.top,n.bottom,u.top,u.bottom,zb(h.scrollPaddingTop),zb(h.scrollPaddingBottom));if(p||g)if(d)(l=r.defaultView)==null||l.scrollBy(p,g);else{const{scrollLeft:y,scrollTop:w}=a;g&&(a.scrollTop+=g),p&&(a.scrollLeft+=p);const v=a.scrollLeft-y,N=a.scrollTop-w;n={left:n.left-v,top:n.top-N,right:n.right-v,bottom:n.bottom-N}}a=d||h.position==="fixed"?null:d4e(a)}},h4e=100,m4e=["block","break","cursor","inline","scroll","text"],p4e=(e,t,r)=>{const n=new Jp;return m4e.forEach(a=>{const i=t.query(a);i&&n.register(i)}),e.forEach(a=>{let i=t.query(a);i||r.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>h4e){r.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),n},wp=wd("quill"),Hb=new Jp;ol.uiClass="ql-ui";const Yo=class Yo{static debug(t){t===!0&&(t="log"),wd.level(t)}static find(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return $C.get(t)||Hb.find(t,r)}static import(t){return this.imports[t]==null&&wp.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],r=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,r):Object.keys(t).forEach(a=>{this.register(a,t[a],r)})}else{const t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&wp.warn(`Overwriting ${t} with`,r),this.imports[t]=r,(t.startsWith("blots/")||t.startsWith("formats/"))&&r&&typeof r!="boolean"&&r.blotName!=="abstract"&&Hb.register(r),typeof r.register=="function"&&r.register(Hb)}}constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=x4e(t,r),this.container=this.options.container,this.container==null){wp.error("Invalid Quill container",t);return}this.options.debug&&Yo.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",$C.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Kt;const a=L_.blotName,i=this.options.registry.query(a);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new i4e(this.scroll),this.selection=new n4e(this.scroll,this.emitter),this.composition=new c4e(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Kt.events.EDITOR_CHANGE,o=>{o===Kt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Kt.events.SCROLL_UPDATE,(o,l)=>{const d=this.selection.lastRange,[u]=this.selection.getRange(),h=d&&u?{oldRange:d,newRange:u}:void 0;qo.call(this,()=>this.editor.update(null,l,h),o)}),this.emitter.on(Kt.events.SCROLL_EMBED_UPDATE,(o,l)=>{const d=this.selection.lastRange,[u]=this.selection.getRange(),h=d&&u?{oldRange:d,newRange:u}:void 0;qo.call(this,()=>{const p=new tr().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(p,[],h)},Yo.sources.USER)}),n){const o=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,r),t}blur(){this.selection.setRange(null)}deleteText(t,r,n){return[t,r,,n]=Ic(t,r,n),qo.call(this,()=>this.editor.deleteText(t,r),n,t,-1*r)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const r=t();return this.allowReadOnlyEdits=!1,r}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Kt.sources.API;return qo.call(this,()=>{const a=this.getSelection(!0);let i=new tr;if(a==null)return i;if(this.scroll.query(t,nr.BLOCK))i=this.editor.formatLine(a.index,a.length,{[t]:r});else{if(a.length===0)return this.selection.format(t,r),i;i=this.editor.formatText(a.index,a.length,{[t]:r})}return this.setSelection(a,Kt.sources.SILENT),i},n)}formatLine(t,r,n,a,i){let o;return[t,r,o,i]=Ic(t,r,n,a,i),qo.call(this,()=>this.editor.formatLine(t,r,o),i,t,0)}formatText(t,r,n,a,i){let o;return[t,r,o,i]=Ic(t,r,n,a,i),qo.call(this,()=>this.editor.formatText(t,r,o),i,t,0)}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,r):n=this.selection.getBounds(t.index,t.length),!n)return null;const a=this.container.getBoundingClientRect();return{bottom:n.bottom-a.top,height:n.height,left:n.left-a.left,right:n.right-a.left,top:n.top-a.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,r]=Ic(t,r),this.editor.getContents(t,r)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,r):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,r)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=Ic(t,r),this.editor.getHTML(t,r)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=Ic(t,r),this.editor.getText(t,r)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Yo.sources.API;return qo.call(this,()=>this.editor.insertEmbed(t,r,n),a,t)}insertText(t,r,n,a,i){let o;return[t,,o,i]=Ic(t,0,n,a,i),qo.call(this,()=>this.editor.insertText(t,r,o),i,t,r.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,r,n){return[t,r,,n]=Ic(t,r,n),qo.call(this,()=>this.editor.removeFormat(t,r),n,t)}scrollRectIntoView(t){f4e(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,r=t&&this.selection.getBounds(t.index,t.length);r&&this.scrollRectIntoView(r)}setContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt.sources.API;return qo.call(this,()=>{t=new tr(t);const n=this.getLength(),a=this.editor.deleteText(0,n),i=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return a.compose(i).compose(o)},r)}setSelection(t,r,n){t==null?this.selection.setRange(null,r||Yo.sources.API):([t,r,,n]=Ic(t,r,n),this.selection.setRange(new Sh(Math.max(0,t),r),n),n!==Kt.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt.sources.API;const n=new tr().insert(t);return this.setContents(n,r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kt.sources.USER;const r=this.scroll.update(t);return this.selection.update(t),r}updateContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt.sources.API;return qo.call(this,()=>(t=new tr(t),this.editor.applyDelta(t)),r,!0)}};Ut(Yo,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Hb,theme:"default"}),Ut(Yo,"events",Kt.events),Ut(Yo,"sources",Kt.sources),Ut(Yo,"version","2.0.3"),Ut(Yo,"imports",{delta:tr,parchment:YTe,"core/module":jl,"core/theme":t0});let ut=Yo;function GI(e){return typeof e=="string"?document.querySelector(e):e}function PE(e){return Object.entries(e??{}).reduce((t,r)=>{let[n,a]=r;return{...t,[n]:a===!0?{}:a}},{})}function YI(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function x4e(e,t){const r=GI(e);if(!r)throw new Error("Invalid Quill container");const a=!t.theme||t.theme===ut.DEFAULTS.theme?t0:ut.import(`themes/${t.theme}`);if(!a)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...o}=ut.DEFAULTS,{modules:l,...d}=a.DEFAULTS;let u=PE(t.modules);u!=null&&u.toolbar&&u.toolbar.constructor!==Object&&(u={...u,toolbar:{container:u.toolbar}});const h=Iu({},PE(i),PE(l),u),p={...o,...YI(d),...YI(t)};let g=t.registry;return g?t.formats&&wp.warn('Ignoring "formats" option because "registry" is specified'):g=t.formats?p4e(t.formats,p.registry,wp):p.registry,{...p,registry:g,container:r,theme:a,modules:Object.entries(h).reduce((y,w)=>{let[v,N]=w;if(!N)return y;const j=ut.import(`modules/${v}`);return j==null?(wp.error(`Cannot load ${v} module. Are you sure you registered it?`),y):{...y,[v]:Iu({},j.DEFAULTS||{},N)}},{}),bounds:GI(p.bounds)}}function qo(e,t,r,n){if(!this.isEnabled()&&t===Kt.sources.USER&&!this.allowReadOnlyEdits)return new tr;let a=r==null?null:this.getSelection();const i=this.editor.delta,o=e();if(a!=null&&(r===!0&&(r=a.index),n==null?a=KI(a,o,t):n!==0&&(a=KI(a,r,n,t)),this.setSelection(a,Kt.sources.SILENT)),o.length()>0){const l=[Kt.events.TEXT_CHANGE,o,i,t];this.emitter.emit(Kt.events.EDITOR_CHANGE,...l),t!==Kt.sources.SILENT&&this.emitter.emit(...l)}return o}function Ic(e,t,r,n,a){let i={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(a=n,n=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(a=n,n=r,r=t,t=0),typeof r=="object"?(i=r,a=n):typeof r=="string"&&(n!=null?i[r]=n:a=r),a=a||Kt.sources.API,[e,t,i,a]}function KI(e,t,r,n){const a=typeof r=="number"?r:0;if(e==null)return null;let i,o;return t&&typeof t.transformPosition=="function"?[i,o]=[e.index,e.index+e.length].map(l=>t.transformPosition(l,n!==Kt.sources.USER)):[i,o]=[e.index,e.index+e.length].map(l=>l<t||l===t&&n===Kt.sources.USER?l:a>=0?l+a:Math.max(t,l+a)),new Sh(i,o-i)}class Hh extends ON{}function XI(e){return e instanceof Aa||e instanceof So}function QI(e){return typeof e.updateContent=="function"}class Xm extends L_{constructor(t,r,n){let{emitter:a}=n;super(t,r),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(Kt.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Kt.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,r){this.emitter.emit(Kt.events.SCROLL_EMBED_UPDATE,t,r)}deleteAt(t,r){const[n,a]=this.line(t),[i]=this.line(t+r);if(super.deleteAt(t,r),i!=null&&n!==i&&a>0){if(n instanceof So||i instanceof So){this.optimize();return}const o=i.children.head instanceof Nl?null:i.children.head;n.moveChildren(i,o),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,r,n,a){super.formatAt(t,r,n,a),this.optimize()}insertAt(t,r,n){if(t>=this.length())if(n==null||this.scroll.query(r,nr.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),n==null&&r.endsWith(`
`)?a.insertAt(0,r.slice(0,-1),n):a.insertAt(0,r,n)}else{const a=this.scroll.create(r,n);this.appendChild(a)}else super.insertAt(t,r,n);this.optimize()}insertBefore(t,r){if(t.statics.scope===nr.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,r)}else super.insertBefore(t,r)}insertContents(t,r){const n=this.deltaToRenderBlocks(r.concat(new tr().insert(`
`))),a=n.pop();if(a==null)return;this.batchStart();const i=n.shift();if(i){const d=i.type==="block"&&(i.delta.length()===0||!this.descendant(So,t)[0]&&t<this.length()),u=i.type==="block"?i.delta:new tr().insert({[i.key]:i.value});RE(this,t,u);const h=i.type==="block"?1:0,p=t+u.length()+h;d&&this.insertAt(p-1,`
`);const g=wo(this.line(t)[0]),y=Ao.AttributeMap.diff(g,i.attributes)||{};Object.keys(y).forEach(w=>{this.formatAt(p-1,1,w,y[w])}),t=p}let[o,l]=this.children.find(t);if(n.length&&(o&&(o=o.split(l),l=0),n.forEach(d=>{if(d.type==="block"){const u=this.createBlock(d.attributes,o||void 0);RE(u,0,d.delta)}else{const u=this.create(d.key,d.value);this.insertBefore(u,o||void 0),Object.keys(d.attributes).forEach(h=>{u.format(h,d.attributes[h])})}})),a.type==="block"&&a.delta.length()){const d=o?o.offset(o.scroll)+l:this.length();RE(this,d,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const r=this.path(t).pop();if(!r)return[null,-1];const[n,a]=r;return n instanceof $a?[n,a]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(XI,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(a,i,o)=>{let l=[],d=o;return a.children.forEachAt(i,o,(u,h,p)=>{XI(u)?l.push(u):u instanceof ON&&(l=l.concat(n(u,h,d))),d-=p}),l};return n(this,t,r)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,r),t.length>0&&this.emitter.emit(Kt.events.SCROLL_OPTIMIZE,t,r))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let r=Kt.sources.USER;typeof t=="string"&&(r=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:a}=n;const i=this.find(a,!0);return i&&!QI(i)}),t.length>0&&this.emitter.emit(Kt.events.SCROLL_BEFORE_UPDATE,r,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(Kt.events.SCROLL_UPDATE,r,t)}updateEmbedAt(t,r,n){const[a]=this.descendant(i=>i instanceof So,t);a&&a.statics.blotName===r&&QI(a)&&a.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const r=[];let n=new tr;return t.forEach(a=>{const i=a==null?void 0:a.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(d=>{n.insert(d,a.attributes),r.push({type:"block",delta:n,attributes:a.attributes??{}}),n=new tr});const l=o[o.length-1];l&&n.insert(l,a.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,nr.INLINE)?n.push(a):(n.length()&&r.push({type:"block",delta:n,attributes:{}}),n=new tr,r.push({type:"blockEmbed",key:o,value:i[o],attributes:a.attributes??{}}))}}),n.length()&&r.push({type:"block",delta:n,attributes:{}}),r}createBlock(t,r){let n;const a={};Object.entries(t).forEach(l=>{let[d,u]=l;this.query(d,nr.BLOCK&nr.BLOT)!=null?n=d:a[d]=u});const i=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(i,r||void 0);const o=i.length();return Object.entries(a).forEach(l=>{let[d,u]=l;i.formatAt(0,o,d,u)}),i}}Ut(Xm,"blotName","scroll"),Ut(Xm,"className","ql-editor"),Ut(Xm,"tagName","DIV"),Ut(Xm,"defaultChild",Aa),Ut(Xm,"allowedChildren",[Aa,So,Hh]);function RE(e,t,r){r.reduce((n,a)=>{const i=Ao.Op.length(a);let o=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const l=a.insert;e.insertAt(n,l);const[d]=e.descendant($a,n),u=wo(d);o=Ao.AttributeMap.diff(u,o)||{}}else if(typeof a.insert=="object"){const l=Object.keys(a.insert)[0];if(l==null)return n;if(e.insertAt(n,l,a.insert[l]),e.scroll.query(l,nr.INLINE)!=null){const[u]=e.descendant($a,n),h=wo(u);o=Ao.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(l=>{e.formatAt(n,i,l,o[l])}),n+i},t)}const $_={scope:nr.BLOCK,whitelist:["right","center","justify"]},g4e=new nc("align","align",$_),oH=new wl("align","ql-align",$_),lH=new df("align","text-align",$_);class cH extends df{value(t){let r=super.value(t);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${r.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):r}}const y4e=new wl("color","ql-color",{scope:nr.INLINE}),U_=new cH("color","color",{scope:nr.INLINE}),v4e=new wl("background","ql-bg",{scope:nr.INLINE}),V_=new cH("background","background-color",{scope:nr.INLINE});class Wh extends Hh{static create(t){const r=super.create(t);return r.setAttribute("spellcheck","false"),r}code(t,r){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+r)}html(t,r){return`<pre>
${PN(this.code(t,r))}
</pre>`}}class qa extends Aa{static register(){ut.register(Wh)}}Ut(qa,"TAB","  ");class q_ extends ac{}q_.blotName="code";q_.tagName="CODE";qa.blotName="code-block";qa.className="ql-code-block";qa.tagName="DIV";Wh.blotName="code-block-container";Wh.className="ql-code-block-container";Wh.tagName="DIV";Wh.allowedChildren=[qa];qa.allowedChildren=[ml,Nl,e0];qa.requiredContainer=Wh;const z_={scope:nr.BLOCK,whitelist:["rtl"]},dH=new nc("direction","dir",z_),uH=new wl("direction","ql-direction",z_),fH=new df("direction","direction",z_),hH={scope:nr.INLINE,whitelist:["serif","monospace"]},mH=new wl("font","ql-font",hH);class b4e extends df{value(t){return super.value(t).replace(/["']/g,"")}}const pH=new b4e("font","font-family",hH),xH=new wl("size","ql-size",{scope:nr.INLINE,whitelist:["small","large","huge"]}),gH=new df("size","font-size",{scope:nr.INLINE,whitelist:["10px","18px","32px"]}),w4e=wd("quill:keyboard"),N4e=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class RN extends jl{static match(t,r){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!r[n]!==t[n]&&r[n]!==null)?!1:r.key===t.key||r.key===t.which}constructor(t,r){super(t,r),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=S4e(t);if(a==null){w4e.warn("Attempted to add invalid keyboard binding",a);return}typeof r=="function"&&(r={handler:r}),typeof n=="function"&&(n={handler:n}),(Array.isArray(a.key)?a.key:[a.key]).forEach(o=>{const l={...a,key:o,...r,...n};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const a=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(j=>RN.match(t,j));if(a.length===0)return;const i=ut.find(t.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,d]=this.quill.getLine(o.index),[u,h]=this.quill.getLeaf(o.index),[p,g]=o.length===0?[u,h]:this.quill.getLeaf(o.index+o.length),y=u instanceof uw?u.value().slice(0,h):"",w=p instanceof uw?p.value().slice(g):"",v={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:d,prefix:y,suffix:w,event:t};a.some(j=>{if(j.collapsed!=null&&j.collapsed!==v.collapsed||j.empty!=null&&j.empty!==v.empty||j.offset!=null&&j.offset!==v.offset)return!1;if(Array.isArray(j.format)){if(j.format.every(A=>v.format[A]==null))return!1}else if(typeof j.format=="object"&&!Object.keys(j.format).every(A=>j.format[A]===!0?v.format[A]!=null:j.format[A]===!1?v.format[A]==null:gu(j.format[A],v.format[A])))return!1;return j.prefix!=null&&!j.prefix.test(v.prefix)||j.suffix!=null&&!j.suffix.test(v.suffix)?!1:j.handler.call(this,o,v,j)!==!0})&&t.preventDefault()})}handleBackspace(t,r){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(r.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let a={};const[i]=this.quill.getLine(t.index);let o=new tr().retain(t.index-n).delete(n);if(r.offset===0){const[l]=this.quill.getLine(t.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const u=i.formats(),h=this.quill.getFormat(t.index-1,1);if(a=Ao.AttributeMap.diff(u,h)||{},Object.keys(a).length>0){const p=new tr().retain(t.index+i.length()-2).retain(1,a);o=o.compose(p)}}}this.quill.updateContents(o,ut.sources.USER),this.quill.focus()}handleDelete(t,r){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(r.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let a={};const[i]=this.quill.getLine(t.index);let o=new tr().retain(t.index).delete(n);if(r.offset>=i.length()-1){const[l]=this.quill.getLine(t.index+1);if(l){const d=i.formats(),u=this.quill.getFormat(t.index,1);a=Ao.AttributeMap.diff(d,u)||{},Object.keys(a).length>0&&(o=o.retain(l.length()-1).retain(1,a))}}this.quill.updateContents(o,ut.sources.USER),this.quill.focus()}handleDeleteRange(t){H_({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,r){const n=Object.keys(r.format).reduce((i,o)=>(this.quill.scroll.query(o,nr.BLOCK)&&!Array.isArray(r.format[o])&&(i[o]=r.format[o]),i),{}),a=new tr().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(a,ut.sources.USER),this.quill.setSelection(t.index+1,ut.sources.SILENT),this.quill.focus()}}const j4e={bindings:{bold:ME("bold"),italic:ME("italic"),underline:ME("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",ut.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",ut.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){t.format.indent!=null?this.quill.format("indent","-1",ut.sources.USER):t.format.list!=null&&this.quill.format("list",!1,ut.sources.USER)}},"indent code-block":ZI(!0),"outdent code-block":ZI(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,ut.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const r=new tr().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(r,ut.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,ut.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,ut.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const r={list:!1};t.format.indent&&(r.indent=!1),this.quill.formatLine(e.index,e.length,r,ut.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,r]=this.quill.getLine(e.index),n={...t.formats(),list:"checked"},a=new tr().retain(e.index).insert(`
`,n).retain(t.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,ut.sources.USER),this.quill.setSelection(e.index+1,ut.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[r,n]=this.quill.getLine(e.index),a=new tr().retain(e.index).insert(`
`,t.format).retain(r.length()-n-1).retain(1,{header:null});this.quill.updateContents(a,ut.sources.USER),this.quill.setSelection(e.index+1,ut.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[r,n,a,i]=t.getTable(e),o=E4e(r,n,a,i);if(o==null)return;let l=r.offset();if(o<0){const d=new tr().retain(l).insert(`
`);this.quill.updateContents(d,ut.sources.USER),this.quill.setSelection(e.index+1,e.length,ut.sources.SILENT)}else if(o>0){l+=r.length();const d=new tr().retain(l).insert(`
`);this.quill.updateContents(d,ut.sources.USER),this.quill.setSelection(l,ut.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:r,line:n}=t,a=n.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(a-1,ut.sources.USER):this.quill.setSelection(a+n.length(),ut.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query("list")==null)return!0;const{length:r}=t.prefix,[n,a]=this.quill.getLine(e.index);if(a>r)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(e.index," ",ut.sources.USER),this.quill.history.cutoff();const o=new tr().retain(e.index-a).delete(r+1).retain(n.length()-2-a).retain(1,{list:i});return this.quill.updateContents(o,ut.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,ut.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,r]=this.quill.getLine(e.index);let n=2,a=t;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,n-=1,n<=0){const i=new tr().retain(e.index+t.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,ut.sources.USER),this.quill.setSelection(e.index-1,ut.sources.SILENT),!1}return!0}},"embed left":Wb("ArrowLeft",!1),"embed left shift":Wb("ArrowLeft",!0),"embed right":Wb("ArrowRight",!1),"embed right shift":Wb("ArrowRight",!0),"table down":JI(!1),"table up":JI(!0)}};RN.DEFAULTS=j4e;function ZI(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,r){let{event:n}=r;const a=this.quill.scroll.query("code-block"),{TAB:i}=a;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,i,ut.sources.USER),this.quill.setSelection(t.index+i.length,ut.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:d}=t;o.forEach((u,h)=>{e?(u.insertAt(0,i),h===0?l+=i.length:d+=i.length):u.domNode.textContent.startsWith(i)&&(u.deleteAt(0,i.length),h===0?l-=i.length:d-=i.length)}),this.quill.update(ut.sources.USER),this.quill.setSelection(l,d,ut.sources.SILENT)}}}function Wb(e,t){return{key:e,shiftKey:t,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:a}=n;e==="ArrowRight"&&(a+=n.length+1);const[i]=this.quill.getLeaf(a);return i instanceof eo?(e==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,ut.sources.USER):this.quill.setSelection(n.index-1,ut.sources.USER):t?this.quill.setSelection(n.index,n.length+1,ut.sources.USER):this.quill.setSelection(n.index+n.length+1,ut.sources.USER),!1):!0}}}function ME(e){return{key:e[0],shortKey:!0,handler(t,r){this.quill.format(e,!r.format[e],ut.sources.USER)}}}function JI(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,r){const n=e?"prev":"next",a=r.line,i=a.parent[n];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,l=a;for(;l.prev!=null;)l=l.prev,o=o.next;const d=o.offset(this.quill.scroll)+Math.min(r.offset,o.length()-1);this.quill.setSelection(d,0,ut.sources.USER)}}else{const o=a.table()[n];o!=null&&(e?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,ut.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,ut.sources.USER))}return!1}}}function S4e(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=vp(e);else return null;return e.shortKey&&(e[N4e]=e.shortKey,delete e.shortKey),e}function H_(e){let{quill:t,range:r}=e;const n=t.getLines(r);let a={};if(n.length>1){const i=n[0].formats(),o=n[n.length-1].formats();a=Ao.AttributeMap.diff(o,i)||{}}t.deleteText(r,ut.sources.USER),Object.keys(a).length>0&&t.formatLine(r.index,1,a,ut.sources.USER),t.setSelection(r.index,ut.sources.SILENT)}function E4e(e,t,r,n){return t.prev==null&&t.next==null?r.prev==null&&r.next==null?n===0?-1:1:r.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const A4e=/font-weight:\s*normal/,C4e=["P","OL","UL"],e6=e=>e&&C4e.includes(e.tagName),T4e=e=>{Array.from(e.querySelectorAll("br")).filter(t=>e6(t.previousElementSibling)&&e6(t.nextElementSibling)).forEach(t=>{var r;(r=t.parentNode)==null||r.removeChild(t)})},_4e=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var r;return(r=t.getAttribute("style"))==null?void 0:r.match(A4e)}).forEach(t=>{var n;const r=e.createDocumentFragment();r.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(r,t)})};function k4e(e){e.querySelector('[id^="docs-internal-guid-"]')&&(_4e(e),T4e(e))}const D4e=/\bmso-list:[^;]*ignore/i,O4e=/\bmso-list:[^;]*\bl(\d+)/i,P4e=/\bmso-list:[^;]*\blevel(\d+)/i,R4e=(e,t)=>{const r=e.getAttribute("style"),n=r==null?void 0:r.match(O4e);if(!n)return null;const a=Number(n[1]),i=r==null?void 0:r.match(P4e),o=i?Number(i[1]):1,l=new RegExp(`@list l${a}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),d=t.match(l),u=d&&d[1]==="bullet"?"bullet":"ordered";return{id:a,indent:o,type:u,element:e}},M4e=e=>{var o,l;const t=Array.from(e.querySelectorAll("[style*=mso-list]")),r=[],n=[];t.forEach(d=>{(d.getAttribute("style")||"").match(D4e)?r.push(d):n.push(d)}),r.forEach(d=>{var u;return(u=d.parentNode)==null?void 0:u.removeChild(d)});const a=e.documentElement.innerHTML,i=n.map(d=>R4e(d,a)).filter(d=>d);for(;i.length;){const d=[];let u=i.shift();for(;u;)d.push(u),u=i.length&&((o=i[0])==null?void 0:o.element)===u.element.nextElementSibling&&i[0].id===u.id?i.shift():null;const h=document.createElement("ul");d.forEach(y=>{const w=document.createElement("li");w.setAttribute("data-list",y.type),y.indent>1&&w.setAttribute("class",`ql-indent-${y.indent-1}`),w.innerHTML=y.element.innerHTML,h.appendChild(w)});const p=(l=d[0])==null?void 0:l.element,{parentNode:g}=p??{};p&&(g==null||g.replaceChild(h,p)),d.slice(1).forEach(y=>{let{element:w}=y;g==null||g.removeChild(w)})}};function I4e(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&M4e(e)}const F4e=[I4e,k4e],L4e=e=>{e.documentElement&&F4e.forEach(t=>{t(e)})},B4e=wd("quill:clipboard"),$4e=[[Node.TEXT_NODE,Z4e],[Node.TEXT_NODE,r6],["br",H4e],[Node.ELEMENT_NODE,r6],[Node.ELEMENT_NODE,z4e],[Node.ELEMENT_NODE,q4e],[Node.ELEMENT_NODE,X4e],["li",Y4e],["ol, ul",K4e],["pre",W4e],["tr",Q4e],["b",IE("bold")],["i",IE("italic")],["strike",IE("strike")],["style",G4e]],U4e=[g4e,dH].reduce((e,t)=>(e[t.keyName]=t,e),{}),t6=[lH,V_,U_,fH,pH,gH].reduce((e,t)=>(e[t.keyName]=t,e),{});class yH extends jl{constructor(t,r){super(t,r),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],$4e.concat(this.options.matchers??[]).forEach(n=>{let[a,i]=n;this.addMatcher(a,i)})}addMatcher(t,r){this.matchers.push([t,r])}convert(t){let{html:r,text:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[qa.blotName])return new tr().insert(n||"",{[qa.blotName]:a[qa.blotName]});if(!r)return new tr().insert(n||"",a);const i=this.convertHTML(r);return rv(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||a.table)?i.compose(new tr().retain(i.length()-1).delete(1)):i}normalizeHTML(t){L4e(t)}convertHTML(t){const r=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(r);const n=r.body,a=new WeakMap,[i,o]=this.prepareMatching(n,a);return W_(this.quill.scroll,n,i,o,a)}dangerouslyPasteHTML(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ut.sources.API;if(typeof t=="string"){const a=this.convert({html:t,text:""});this.quill.setContents(a,r),this.quill.setSelection(0,ut.sources.SILENT)}else{const a=this.convert({html:r,text:""});this.quill.updateContents(new tr().retain(t).concat(a),n),this.quill.setSelection(t+a.length(),ut.sources.SILENT)}}onCaptureCopy(t){var o,l;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:a,text:i}=this.onCopy(n,r);(o=t.clipboardData)==null||o.setData("text/plain",i),(l=t.clipboardData)==null||l.setData("text/html",a),r&&H_({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(r=>r[0]!=="#").join(`
`)}onCapturePaste(t){var o,l,d,u,h;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const r=this.quill.getSelection(!0);if(r==null)return;const n=(o=t.clipboardData)==null?void 0:o.getData("text/html");let a=(l=t.clipboardData)==null?void 0:l.getData("text/plain");if(!n&&!a){const p=(d=t.clipboardData)==null?void 0:d.getData("text/uri-list");p&&(a=this.normalizeURIList(p))}const i=Array.from(((u=t.clipboardData)==null?void 0:u.files)||[]);if(!n&&i.length>0){this.quill.uploader.upload(r,i);return}if(n&&i.length>0){const p=new DOMParser().parseFromString(n,"text/html");if(p.body.childElementCount===1&&((h=p.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(r,i);return}}this.onPaste(r,{html:n,text:a})}onCopy(t){const r=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:r}}onPaste(t,r){let{text:n,html:a}=r;const i=this.quill.getFormat(t.index),o=this.convert({text:n,html:a},i);B4e.log("onPaste",o,{text:n,html:a});const l=new tr().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(l,ut.sources.USER),this.quill.setSelection(l.length()-t.length,ut.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,r){const n=[],a=[];return this.matchers.forEach(i=>{const[o,l]=i;switch(o){case Node.TEXT_NODE:a.push(l);break;case Node.ELEMENT_NODE:n.push(l);break;default:Array.from(t.querySelectorAll(o)).forEach(d=>{if(r.has(d)){const u=r.get(d);u==null||u.push(l)}else r.set(d,[l])});break}}),[n,a]}}Ut(yH,"DEFAULTS",{matchers:[]});function Gh(e,t,r,n){return n.query(t)?e.reduce((a,i)=>{if(!i.insert)return a;if(i.attributes&&i.attributes[t])return a.push(i);const o=r?{[t]:r}:{};return a.insert(i.insert,{...o,...i.attributes})},new tr):e}function rv(e,t){let r="";for(let n=e.ops.length-1;n>=0&&r.length<t.length;--n){const a=e.ops[n];if(typeof a.insert!="string")break;r=a.insert+r}return r.slice(-1*t.length)===t}function _u(e,t){if(!(e instanceof Element))return!1;const r=t.query(e);return r&&r.prototype instanceof eo?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function V4e(e,t){return e.previousElementSibling&&e.nextElementSibling&&!_u(e.previousElementSibling,t)&&!_u(e.nextElementSibling,t)}const Gb=new WeakMap;function vH(e){return e==null?!1:(Gb.has(e)||(e.tagName==="PRE"?Gb.set(e,!0):Gb.set(e,vH(e.parentNode))),Gb.get(e))}function W_(e,t,r,n,a){return t.nodeType===t.TEXT_NODE?n.reduce((i,o)=>o(t,i,e),new tr):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,o)=>{let l=W_(e,o,r,n,a);return o.nodeType===t.ELEMENT_NODE&&(l=r.reduce((d,u)=>u(o,d,e),l),l=(a.get(o)||[]).reduce((d,u)=>u(o,d,e),l)),i.concat(l)},new tr):new tr}function IE(e){return(t,r,n)=>Gh(r,e,!0,n)}function q4e(e,t,r){const n=nc.keys(e),a=wl.keys(e),i=df.keys(e),o={};return n.concat(a).concat(i).forEach(l=>{let d=r.query(l,nr.ATTRIBUTE);d!=null&&(o[d.attrName]=d.value(e),o[d.attrName])||(d=U4e[l],d!=null&&(d.attrName===l||d.keyName===l)&&(o[d.attrName]=d.value(e)||void 0),d=t6[l],d!=null&&(d.attrName===l||d.keyName===l)&&(d=t6[l],o[d.attrName]=d.value(e)||void 0))}),Object.entries(o).reduce((l,d)=>{let[u,h]=d;return Gh(l,u,h,r)},t)}function z4e(e,t,r){const n=r.query(e);if(n==null)return t;if(n.prototype instanceof eo){const a={},i=n.value(e);if(i!=null)return a[n.blotName]=i,new tr().insert(a,n.formats(e,r))}else if(n.prototype instanceof ry&&!rv(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Gh(t,n.blotName,n.formats(e,r),r);return t}function H4e(e,t){return rv(t,`
`)||t.insert(`
`),t}function W4e(e,t,r){const n=r.query("code-block"),a=n&&"formats"in n&&typeof n.formats=="function"?n.formats(e,r):!0;return Gh(t,"code-block",a,r)}function G4e(){return new tr}function Y4e(e,t,r){const n=r.query(e);if(n==null||n.blotName!=="list"||!rv(t,`
`))return t;let a=-1,i=e.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(a+=1),i=i.parentNode;return a<=0?t:t.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:a,...l.attributes||{}}):o,new tr)}function K4e(e,t,r){const n=e;let a=n.tagName==="OL"?"ordered":"bullet";const i=n.getAttribute("data-checked");return i&&(a=i==="true"?"checked":"unchecked"),Gh(t,"list",a,r)}function r6(e,t,r){if(!rv(t,`
`)){if(_u(e,r)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&e.nextSibling){let n=e.nextSibling;for(;n!=null;){if(_u(n,r))return t.insert(`
`);const a=r.query(n);if(a&&a.prototype instanceof So)return t.insert(`
`);n=n.firstChild}}}return t}function X4e(e,t,r){var i;const n={},a=e.style||{};return a.fontStyle==="italic"&&(n.italic=!0),a.textDecoration==="underline"&&(n.underline=!0),a.textDecoration==="line-through"&&(n.strike=!0),((i=a.fontWeight)!=null&&i.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((o,l)=>{let[d,u]=l;return Gh(o,d,u,r)},t),parseFloat(a.textIndent||0)>0?new tr().insert("	").concat(t):t}function Q4e(e,t,r){var a,i;const n=((a=e.parentElement)==null?void 0:a.tagName)==="TABLE"?e.parentElement:(i=e.parentElement)==null?void 0:i.parentElement;if(n!=null){const l=Array.from(n.querySelectorAll("tr")).indexOf(e)+1;return Gh(t,"table",l,r)}return t}function Z4e(e,t,r){var a;let n=e.data;if(((a=e.parentElement)==null?void 0:a.tagName)==="O:P")return t.insert(n.trim());if(!vH(e)){if(n.trim().length===0&&n.includes(`
`)&&!V4e(e,r))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&_u(e.parentElement,r)||e.previousSibling instanceof Element&&_u(e.previousSibling,r))&&(n=n.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&_u(e.parentElement,r)||e.nextSibling instanceof Element&&_u(e.nextSibling,r))&&(n=n.replace(/ $/,"")),n=n.replaceAll(" "," ")}return t.insert(n)}class bH extends jl{constructor(r,n){super(r,n);Ut(this,"lastRecorded",0);Ut(this,"ignoreChange",!1);Ut(this,"stack",{undo:[],redo:[]});Ut(this,"currentRange",null);this.quill.on(ut.events.EDITOR_CHANGE,(a,i,o,l)=>{a===ut.events.SELECTION_CHANGE?i&&l!==ut.sources.SILENT&&(this.currentRange=i):a===ut.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===ut.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=qC(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",a=>{a.inputType==="historyUndo"?(this.undo(),a.preventDefault()):a.inputType==="historyRedo"&&(this.redo(),a.preventDefault())})}change(r,n){if(this.stack[r].length===0)return;const a=this.stack[r].pop();if(!a)return;const i=this.quill.getContents(),o=a.delta.invert(i);this.stack[n].push({delta:o,range:qC(a.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(a.delta,ut.sources.USER),this.ignoreChange=!1,this.restoreSelection(a)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,n){if(r.ops.length===0)return;this.stack.redo=[];let a=r.invert(n),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(a=a.compose(l.delta),i=l.range)}else this.lastRecorded=o;a.length()!==0&&(this.stack.undo.push({delta:a,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){s6(this.stack.undo,r),s6(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,ut.sources.USER);else{const n=e_e(this.quill.scroll,r.delta);this.quill.setSelection(n,ut.sources.USER)}}}Ut(bH,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function s6(e,t){let r=t;for(let n=e.length-1;n>=0;n-=1){const a=e[n];e[n]={delta:r.transform(a.delta,!0),range:a.range&&qC(a.range,r)},r=a.delta.transform(r),e[n].delta.length()===0&&e.splice(n,1)}}function J4e(e,t){const r=t.ops[t.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(n=>e.query(n,nr.BLOCK)!=null):!1}function e_e(e,t){const r=t.reduce((a,i)=>a+(i.delete||0),0);let n=t.length()-r;return J4e(e,t)&&(n-=1),n}function qC(e,t){if(!e)return e;const r=t.transformPosition(e.index),n=t.transformPosition(e.index+e.length);return{index:r,length:n-r}}class wH extends jl{constructor(t,r){super(t,r),t.root.addEventListener("drop",n=>{var o;n.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(n.clientX,n.clientY);a=document.createRange(),a.setStart(l.offsetNode,l.offset),a.setEnd(l.offsetNode,l.offset)}const i=a&&t.selection.normalizeNative(a);if(i){const l=t.selection.normalizedToRange(i);(o=n.dataTransfer)!=null&&o.files&&this.upload(l,n.dataTransfer.files)}})}upload(t,r){const n=[];Array.from(r).forEach(a=>{var i;a&&((i=this.options.mimetypes)!=null&&i.includes(a.type))&&n.push(a)}),n.length>0&&this.options.handler.call(this,t,n)}}wH.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const r=t.map(n=>new Promise(a=>{const i=new FileReader;i.onload=()=>{a(i.result)},i.readAsDataURL(n)}));Promise.all(r).then(n=>{const a=n.reduce((i,o)=>i.insert({image:o}),new tr().retain(e.index).delete(e.length));this.quill.updateContents(a,Kt.sources.USER),this.quill.setSelection(e.index+n.length,Kt.sources.SILENT)})}};const t_e=["insertText","insertReplacementText"];class r_e extends jl{constructor(t,r){super(t,r),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(ut.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){H_({range:t,quill:this.quill})}replaceText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(r){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new tr().retain(t.index).insert(r,n),ut.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+r.length,0,ut.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!t_e.includes(t.inputType))return;const r=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!r||r.collapsed===!0)return;const n=s_e(t);if(n==null)return;const a=this.quill.selection.normalizeNative(r),i=a?this.quill.selection.normalizedToRange(a):null;i&&this.replaceText(i,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function s_e(e){var t;return typeof e.data=="string"?e.data:(t=e.dataTransfer)!=null&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const n_e=/Mac/i.test(navigator.platform),a_e=100,i_e=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||n_e&&e.key==="a"&&e.ctrlKey===!0);class o_e extends jl{constructor(r,n){super(r,n);Ut(this,"isListening",!1);Ut(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,n){let{line:a,event:i}=n;if(!(a instanceof ol)||!a.uiNode)return!0;const o=getComputedStyle(a.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(r.index-1,r.length+(i.shiftKey?1:0),ut.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",r=>{!r.defaultPrevented&&i_e(r)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+a_e,this.isListening)return;this.isListening=!0;const r=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",r,{once:!0})}handleSelectionChange(){const r=document.getSelection();if(!r)return;const n=r.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const a=this.quill.scroll.find(n.startContainer);if(!(a instanceof ol)||!a.uiNode)return;const i=document.createRange();i.setStartAfter(a.uiNode),i.setEndAfter(a.uiNode),r.removeAllRanges(),r.addRange(i)}}ut.register({"blots/block":Aa,"blots/block/embed":So,"blots/break":Nl,"blots/container":Hh,"blots/cursor":e0,"blots/embed":B_,"blots/inline":ac,"blots/scroll":Xm,"blots/text":ml,"modules/clipboard":yH,"modules/history":bH,"modules/keyboard":RN,"modules/uploader":wH,"modules/input":r_e,"modules/uiNode":o_e});class l_e extends wl{add(t,r){let n=0;if(r==="+1"||r==="-1"){const a=this.value(t)||0;n=r==="+1"?a+1:a-1}else typeof r=="number"&&(n=r);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,r){return super.canAdd(t,r)||super.canAdd(t,parseInt(r,10))}value(t){return parseInt(super.value(t),10)||void 0}}const c_e=new l_e("indent","ql-indent",{scope:nr.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class zC extends Aa{}Ut(zC,"blotName","blockquote"),Ut(zC,"tagName","blockquote");class HC extends Aa{static formats(t){return this.tagName.indexOf(t.tagName)+1}}Ut(HC,"blotName","header"),Ut(HC,"tagName",["H1","H2","H3","H4","H5","H6"]);class sv extends Hh{}sv.blotName="list-container";sv.tagName="OL";class nv extends Aa{static create(t){const r=super.create();return r.setAttribute("data-list",t),r}static formats(t){return t.getAttribute("data-list")||void 0}static register(){ut.register(sv)}constructor(t,r){super(t,r);const n=r.ownerDocument.createElement("span"),a=i=>{if(!t.isEnabled())return;const o=this.statics.formats(r,t);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};n.addEventListener("mousedown",a),n.addEventListener("touchstart",a),this.attachUI(n)}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-list",r):super.format(t,r)}}nv.blotName="list";nv.tagName="LI";sv.allowedChildren=[nv];nv.requiredContainer=sv;class ny extends ac{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Ut(ny,"blotName","bold"),Ut(ny,"tagName",["STRONG","B"]);class WC extends ny{}Ut(WC,"blotName","italic"),Ut(WC,"tagName",["EM","I"]);class ku extends ac{static create(t){const r=super.create(t);return r.setAttribute("href",this.sanitize(t)),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(t){return t.getAttribute("href")}static sanitize(t){return NH(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,r){t!==this.statics.blotName||!r?super.format(t,r):this.domNode.setAttribute("href",this.constructor.sanitize(r))}}Ut(ku,"blotName","link"),Ut(ku,"tagName","A"),Ut(ku,"SANITIZED_URL","about:blank"),Ut(ku,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function NH(e,t){const r=document.createElement("a");r.href=e;const n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}class GC extends ac{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}Ut(GC,"blotName","script"),Ut(GC,"tagName",["SUB","SUP"]);class YC extends ny{}Ut(YC,"blotName","strike"),Ut(YC,"tagName",["S","STRIKE"]);class KC extends ac{}Ut(KC,"blotName","underline"),Ut(KC,"tagName","U");class w1 extends B_{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const r=super.create(t);return typeof t=="string"&&(window.katex.render(t,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",t)),r}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}Ut(w1,"blotName","formula"),Ut(w1,"className","ql-formula"),Ut(w1,"tagName","SPAN");const n6=["alt","height","width"];class XC extends eo{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("src",this.sanitize(t)),r}static formats(t){return n6.reduce((r,n)=>(t.hasAttribute(n)&&(r[n]=t.getAttribute(n)),r),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return NH(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,r){n6.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}}Ut(XC,"blotName","image"),Ut(XC,"tagName","IMG");const a6=["height","width"];class N1 extends So{static create(t){const r=super.create(t);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("src",this.sanitize(t)),r}static formats(t){return a6.reduce((r,n)=>(t.hasAttribute(n)&&(r[n]=t.getAttribute(n)),r),{})}static sanitize(t){return ku.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,r){a6.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}Ut(N1,"blotName","video"),Ut(N1,"className","ql-video"),Ut(N1,"tagName","IFRAME");const eg=new wl("code-token","hljs",{scope:nr.INLINE});class dd extends ac{static formats(t,r){for(;t!=null&&t!==r.domNode;){if(t.classList&&t.classList.contains(qa.className))return super.formats(t,r);t=t.parentNode}}constructor(t,r,n){super(t,r,n),eg.add(this.domNode,n)}format(t,r){t!==dd.blotName?super.format(t,r):r?eg.add(this.domNode,r):(eg.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),eg.value(this.domNode)||this.unwrap()}}dd.blotName="code-token";dd.className="ql-token";class No extends qa{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("data-language",t),r}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-language",r):super.format(t,r)}replaceWith(t,r){return this.formatAt(0,this.length(),dd.blotName,!1),super.replaceWith(t,r)}}class cg extends Wh{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,r){t===No.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,r)}))}formatAt(t,r,n,a){n===No.blotName&&(this.forceNext=!0),super.formatAt(t,r,n,a)}highlight(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=No.formats(this.children.head.domNode);if(r||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const o=this.children.reduce((d,u)=>d.concat(aH(u,!1)),new tr),l=t(a,i);o.diff(l).reduce((d,u)=>{let{retain:h,attributes:p}=u;return h?(p&&Object.keys(p).forEach(g=>{[No.blotName,dd.blotName].includes(g)&&this.formatAt(d,h,g,p[g])}),d+h):d},0)}this.cachedText=a,this.forceNext=!1}}html(t,r){const[n]=this.children.find(t);return`<pre data-language="${n?No.formats(n.domNode):"plain"}">
${PN(this.code(t,r))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const r=No.formats(this.children.head.domNode);r!==this.uiNode.value&&(this.uiNode.value=r)}}}cg.allowedChildren=[No];No.requiredContainer=cg;No.allowedChildren=[dd,e0,ml,Nl];const d_e=(e,t,r)=>{if(typeof e.versionString=="string"){const n=e.versionString.split(".")[0];if(parseInt(n,10)>=11)return e.highlight(r,{language:t}).value}return e.highlight(t,r).value};class jH extends jl{static register(){ut.register(dd,!0),ut.register(No,!0),ut.register(cg,!0)}constructor(t,r){if(super(t,r),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,a)=>{let{key:i}=a;return n[i]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(ut.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof cg))return;const r=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:a,label:i}=n;const o=r.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",a),r.appendChild(o)}),r.addEventListener("change",()=>{t.format(No.blotName,r.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(r),t.children.head&&(r.value=No.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(ut.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(ut.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(cg):[t]).forEach(i=>{i.highlight(this.highlightBlot,r)}),this.quill.update(ut.sources.SILENT),n!=null&&this.quill.setSelection(n,ut.sources.SILENT)}highlightBlot(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(r=this.languages[r]?r:"plain",r==="plain")return PN(t).split(`
`).reduce((a,i,o)=>(o!==0&&a.insert(`
`,{[qa.blotName]:r}),a.insert(i)),new tr);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(qa.className),n.innerHTML=d_e(this.options.hljs,r,t),W_(this.quill.scroll,n,[(a,i)=>{const o=eg.value(a);return o?i.compose(new tr().retain(i.length(),{[dd.blotName]:o})):i}],[(a,i)=>a.data.split(`
`).reduce((o,l,d)=>(d!==0&&o.insert(`
`,{[qa.blotName]:r}),o.insert(l)),i)],new WeakMap)}}jH.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const gg=class gg extends Aa{static create(t){const r=super.create();return t?r.setAttribute("data-row",t):r.setAttribute("data-row",G_()),r}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,r){t===gg.blotName&&r?this.domNode.setAttribute("data-row",r):super.format(t,r)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Ut(gg,"blotName","table"),Ut(gg,"tagName","TD");let tl=gg;class ud extends Hh{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),r=this.children.tail.formats(),n=this.next.children.head.formats(),a=this.next.children.tail.formats();return t.table===r.table&&t.table===n.table&&t.table===a.table}return!1}optimize(t){super.optimize(t),this.children.forEach(r=>{if(r.next==null)return;const n=r.formats(),a=r.next.formats();if(n.table!==a.table){const i=this.splitAfter(r);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Ut(ud,"blotName","table-row"),Ut(ud,"tagName","TR");class Zl extends Hh{}Ut(Zl,"blotName","table-body"),Ut(Zl,"tagName","TBODY");class r0 extends Hh{balanceCells(){const t=this.descendants(ud),r=t.reduce((n,a)=>Math.max(a.children.length,n),0);t.forEach(n=>{new Array(r-n.children.length).fill(0).forEach(()=>{let a;n.children.head!=null&&(a=tl.formats(n.children.head.domNode));const i=this.scroll.create(tl.blotName,a);n.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(r=>r.children.at(t))}deleteColumn(t){const[r]=this.descendant(Zl);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(t);a!=null&&a.remove()})}insertColumn(t){const[r]=this.descendant(Zl);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(t),i=tl.formats(n.children.head.domNode),o=this.scroll.create(tl.blotName,i);n.insertBefore(o,a)})}insertRow(t){const[r]=this.descendant(Zl);if(r==null||r.children.head==null)return;const n=G_(),a=this.scroll.create(ud.blotName);r.children.head.children.forEach(()=>{const o=this.scroll.create(tl.blotName,n);a.appendChild(o)});const i=r.children.at(t);r.insertBefore(a,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(r=>r)}}Ut(r0,"blotName","table-container"),Ut(r0,"tagName","TABLE");r0.allowedChildren=[Zl];Zl.requiredContainer=r0;Zl.allowedChildren=[ud];ud.requiredContainer=Zl;ud.allowedChildren=[tl];tl.requiredContainer=ud;function G_(){return`row-${Math.random().toString(36).slice(2,6)}`}class u_e extends jl{static register(){ut.register(tl),ut.register(ud),ut.register(Zl),ut.register(r0)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(r0).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,r]=this.getTable();r!=null&&(t.deleteColumn(r.cellOffset()),this.quill.update(ut.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(ut.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const r=t.offset();t.remove(),this.quill.update(ut.sources.USER),this.quill.setSelection(r,ut.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[r,n]=this.quill.getLine(t.index);if(r==null||r.statics.blotName!==tl.blotName)return[null,null,null,-1];const a=r.parent;return[a.parent.parent,a,r,n]}insertColumn(t){const r=this.quill.getSelection();if(!r)return;const[n,a,i]=this.getTable(r);if(i==null)return;const o=i.cellOffset();n.insertColumn(o+t),this.quill.update(ut.sources.USER);let l=a.rowOffset();t===0&&(l+=1),this.quill.setSelection(r.index+l,r.length,ut.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const r=this.quill.getSelection();if(!r)return;const[n,a,i]=this.getTable(r);if(i==null)return;const o=a.rowOffset();n.insertRow(o+t),this.quill.update(ut.sources.USER),t>0?this.quill.setSelection(r,ut.sources.SILENT):this.quill.setSelection(r.index+a.children.length,r.length,ut.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,r){const n=this.quill.getSelection();if(n==null)return;const a=new Array(t).fill(0).reduce(i=>{const o=new Array(r).fill(`
`).join("");return i.insert(o,{table:G_()})},new tr().retain(n.index));this.quill.updateContents(a,ut.sources.USER),this.quill.setSelection(n.index,ut.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(ut.events.SCROLL_OPTIMIZE,t=>{t.some(r=>["TD","TR","TBODY","TABLE"].includes(r.target.tagName)?(this.quill.once(ut.events.TEXT_CHANGE,(n,a,i)=>{i===ut.sources.USER&&this.balanceTables()}),!0):!1)})}}const i6=wd("quill:toolbar");class Y_ extends jl{constructor(t,r){var n,a;if(super(t,r),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),f_e(i,this.options.container),(a=(n=t.container)==null?void 0:n.parentNode)==null||a.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){i6.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var l;const o=(l=this.options.handlers)==null?void 0:l[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(ut.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,r){this.handlers[t]=r}attach(t){let r=Array.from(t.classList).find(a=>a.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[r]==null&&this.quill.scroll.query(r)==null){i6.warn("ignoring attaching to nonexistent format",r,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,a=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const l=t.options[t.selectedIndex];l.hasAttribute("selected")?i=!1:i=l.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),a.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,i);else if(this.quill.scroll.query(r).prototype instanceof eo){if(i=prompt(`Enter ${r}`),!i)return;this.quill.updateContents(new tr().retain(o.index).delete(o.length).insert({[r]:i}),ut.sources.USER)}else this.quill.format(r,i,ut.sources.USER);this.update(o)}),this.controls.push([r,t])}update(t){const r=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[a,i]=n;if(i.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(r[a]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(r[a])){let l=r[a];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${l}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=r[a],l=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",l),i.setAttribute("aria-pressed",l.toString())}else{const o=r[a]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}Y_.DEFAULTS={};function o6(e,t,r){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),r!=null?(n.value=r,n.setAttribute("aria-label",`${t}: ${r}`)):n.setAttribute("aria-label",t),e.appendChild(n)}function f_e(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(r=>{const n=document.createElement("span");n.classList.add("ql-formats"),r.forEach(a=>{if(typeof a=="string")o6(n,a);else{const i=Object.keys(a)[0],o=a[i];Array.isArray(o)?h_e(n,i,o):o6(n,i,o)}}),e.appendChild(n)})}function h_e(e,t,r){const n=document.createElement("select");n.classList.add(`ql-${t}`),r.forEach(a=>{const i=document.createElement("option");a!==!1?i.setAttribute("value",String(a)):i.setAttribute("selected","selected"),n.appendChild(i)}),e.appendChild(n)}Y_.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(r=>{this.quill.scroll.query(r,nr.INLINE)!=null&&this.quill.format(r,!1,ut.sources.USER)})}else this.quill.removeFormat(e.index,e.length,ut.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();e==="rtl"&&t==null?this.quill.format("align","right",ut.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,ut.sources.USER),this.quill.format("direction",e,ut.sources.USER)},indent(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0,10);if(e==="+1"||e==="-1"){let a=e==="+1"?1:-1;r.direction==="rtl"&&(a*=-1),this.quill.format("indent",n+a,ut.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,ut.sources.USER)},list(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t);e==="check"?r.list==="checked"||r.list==="unchecked"?this.quill.format("list",!1,ut.sources.USER):this.quill.format("list","unchecked",ut.sources.USER):this.quill.format("list",e,ut.sources.USER)}}};const m_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',p_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',x_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',g_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',y_e='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',v_e='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',b_e='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',w_e='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',l6='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',N_e='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',j_e='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',S_e='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',E_e='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',A_e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',C_e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',T_e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',__e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',k_e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',D_e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',O_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',P_e='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',R_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',M_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',I_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',F_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',L_e='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',B_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',$_e='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',U_e='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',V_e='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',q_e='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',z_e='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',H_e='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',ay={align:{"":m_e,center:p_e,right:x_e,justify:g_e},background:y_e,blockquote:v_e,bold:b_e,clean:w_e,code:l6,"code-block":l6,color:N_e,direction:{"":j_e,rtl:S_e},formula:E_e,header:{1:A_e,2:C_e,3:T_e,4:__e,5:k_e,6:D_e},italic:O_e,image:P_e,indent:{"+1":R_e,"-1":M_e},link:I_e,list:{bullet:F_e,check:L_e,ordered:B_e},script:{sub:$_e,super:U_e},strike:V_e,table:q_e,underline:z_e,video:H_e},W_e='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let c6=0;function d6(e,t){e.setAttribute(t,`${e.getAttribute(t)!=="true"}`)}class MN{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),r.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),d6(this.label,"aria-expanded"),d6(this.options,"aria-hidden")}buildItem(t){const r=document.createElement("span");r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&r.setAttribute("data-value",n),t.textContent&&r.setAttribute("data-label",t.textContent),r.addEventListener("click",()=>{this.selectItem(r,!0)}),r.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(r,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),r}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=W_e,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${c6}`,c6+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(r=>{const n=this.buildItem(r);t.appendChild(n),r.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),r&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const r=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}class SH extends MN{constructor(t,r){super(t),this.label.innerHTML=r,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const r=super.buildItem(t);return r.style.backgroundColor=t.getAttribute("value")||"",r}selectItem(t,r){super.selectItem(t,r);const n=this.label.querySelector(".ql-color-label"),a=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=a:n.style.fill=a)}}class EH extends MN{constructor(t,r){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=r[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,r){super.selectItem(t,r);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const G_e=e=>{const{overflowY:t}=getComputedStyle(e,null);return t!=="visible"&&t!=="clip"};class AH{constructor(t,r){this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,G_e(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const r=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${r}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>a.right&&(o=a.right-i.right,this.root.style.left=`${r+o}px`),i.left<a.left&&(o=a.left-i.left,this.root.style.left=`${r+o}px`),i.bottom>a.bottom){const l=i.bottom-i.top,d=t.bottom-t.top+l;this.root.style.top=`${n-d}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Y_e=[!1,"center","right","justify"],K_e=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],X_e=[!1,"serif","monospace"],Q_e=["1","2","3",!1],Z_e=["small",!1,"large","huge"];class av extends t0{constructor(t,r){super(t,r);const n=a=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(a.target)||i.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const r=super.addModule(t);return t==="toolbar"&&this.extendToolbar(r),r}buildButtons(t,r){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),r[i]!=null))if(i==="direction")n.innerHTML=r[i][""]+r[i].rtl;else if(typeof r[i]=="string")n.innerHTML=r[i];else{const o=n.value||"";o!=null&&r[i][o]&&(n.innerHTML=r[i][o])}})})}buildPickers(t,r){this.pickers=Array.from(t).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&Vx(a,Y_e),typeof r.align=="object"))return new EH(a,r.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const i=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&Vx(a,K_e,i==="background"?"#ffffff":"#000000"),new SH(a,r[i])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?Vx(a,X_e):a.classList.contains("ql-header")?Vx(a,Q_e):a.classList.contains("ql-size")&&Vx(a,Z_e)),new MN(a)});const n=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(Kt.events.EDITOR_CHANGE,n)}}av.DEFAULTS=Iu({},t0.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class CH extends AH{constructor(t,r){super(t,r),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;r!=null?this.textbox.value=r:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:r}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,Kt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,Kt.sources.USER)),this.quill.root.scrollTop=r;break}case"video":t=J_e(t);case"formula":{if(!t)break;const r=this.quill.getSelection(!0);if(r!=null){const n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,Kt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",Kt.sources.USER),this.quill.setSelection(n+2,Kt.sources.USER)}break}}this.textbox.value="",this.hide()}}function J_e(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}function Vx(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const a=document.createElement("option");n===r?a.setAttribute("selected","selected"):a.setAttribute("value",String(n)),e.appendChild(a)})}const eke=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class TH extends CH{constructor(t,r){super(t,r),this.quill.on(Kt.events.EDITOR_CHANGE,(n,a,i,o)=>{if(n===Kt.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&o===Kt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(a.index,a.length);if(l.length===1){const d=this.quill.getBounds(a);d!=null&&this.position(d)}else{const d=l[l.length-1],u=this.quill.getIndex(d),h=Math.min(d.length()-1,a.index+a.length-u),p=this.quill.getBounds(new Sh(u,h));p!=null&&this.position(p)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Kt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const r=this.quill.getBounds(t);r!=null&&this.position(r)}},1)})}cancel(){this.show()}position(t){const r=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",r!==0&&(n.style.marginLeft=`${-1*r-n.offsetWidth/2}px`),r}}Ut(TH,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class _H extends av{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=eke),super(t,r),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new TH(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),ay),this.buildPickers(t.container.querySelectorAll("select"),ay))}}_H.DEFAULTS=Iu({},av.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,ut.sources.USER)}}}}});const tke=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class kH extends CH{constructor(){super(...arguments);Ut(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",r=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),r.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",r=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,Kt.sources.USER),delete this.linkRange}r.preventDefault(),this.hide()}),this.quill.on(Kt.events.SELECTION_CHANGE,(r,n,a)=>{if(r!=null){if(r.length===0&&a===Kt.sources.USER){const[i,o]=this.quill.scroll.descendant(ku,r.index);if(i!=null){this.linkRange=new Sh(r.index-o,i.length());const l=ku.formats(i.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const d=this.quill.getBounds(this.linkRange);d!=null&&this.position(d);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Ut(kH,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class DH extends av{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=tke),super(t,r),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),ay),this.buildPickers(t.container.querySelectorAll("select"),ay),this.tooltip=new kH(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(r,n)=>{t.handlers.link.call(t,!n.format.link)}))}}DH.DEFAULTS=Iu({},av.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const t=this.quill.getSelection();if(t==null||t.length===0)return;let r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0&&(r=`mailto:${r}`);const{tooltip:n}=this.quill.theme;n.edit("link",r)}else this.quill.format("link",!1,ut.sources.USER)}}}}});ut.register({"attributors/attribute/direction":dH,"attributors/class/align":oH,"attributors/class/background":v4e,"attributors/class/color":y4e,"attributors/class/direction":uH,"attributors/class/font":mH,"attributors/class/size":xH,"attributors/style/align":lH,"attributors/style/background":V_,"attributors/style/color":U_,"attributors/style/direction":fH,"attributors/style/font":pH,"attributors/style/size":gH},!0);ut.register({"formats/align":oH,"formats/direction":uH,"formats/indent":c_e,"formats/background":V_,"formats/color":U_,"formats/font":mH,"formats/size":xH,"formats/blockquote":zC,"formats/code-block":qa,"formats/header":HC,"formats/list":nv,"formats/bold":ny,"formats/code":q_,"formats/italic":WC,"formats/link":ku,"formats/script":GC,"formats/strike":YC,"formats/underline":KC,"formats/formula":w1,"formats/image":XC,"formats/video":N1,"modules/syntax":jH,"modules/table":u_e,"modules/toolbar":Y_,"themes/bubble":_H,"themes/snow":DH,"ui/icons":ay,"ui/picker":MN,"ui/icon-picker":EH,"ui/color-picker":SH,"ui/tooltip":AH},!0);class IN extends je.Component{constructor(t){super(t),this.editingAreaRef=m.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(n,a,i,o)=>{var l,d;n==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,a,o,this.unprivilegedEditor):n==="selection-change"&&((d=this.onEditorChangeSelection)==null||d.call(this,a,o,this.unprivilegedEditor))};const r=this.isControlled()?t.value:t.defaultValue;this.value=r??""}validateProps(t){if(je.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(je.Children.count(t.children)){const r=je.Children.only(t.children);if((r==null?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(t,r){if(this.validateProps(t),!this.editor||this.state.generation!==r.generation)return!0;if("value"in t){const n=this.getEditorContents(),a=t.value??"";this.isEqualValue(a,n)||this.setEditorContents(this.editor,a)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),[...this.cleanProps,...this.dirtyProps].some(n=>!gu(t[n],this.props[n]))}shouldComponentRegenerate(t){return this.dirtyProps.some(r=>!gu(t[r],this.props[r]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(t,r){if(this.editor&&this.shouldComponentRegenerate(t)){const n=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){const{delta:n,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const i=this.editor;i.setContents(n),u6(()=>this.setEditorSelection(i,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var n;if(!this.editor)return;this.unhookEditor(this.editor);const t=(n=this.props.modules)==null?void 0:n.toolbar;if(!(typeof t=="object"&&t&&"container"in t&&typeof t.container=="string"||typeof t=="string")){const a=document.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(t,r){const n=new ut(t,r);return r.tabIndex!=null&&this.setEditorTabIndex(n,r.tabIndex),this.hookEditor(n),n}hookEditor(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)}unhookEditor(t){t.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(t){return t&&t.ops}isEqualValue(t,r){return this.isDelta(t)&&this.isDelta(r)?gu(t.ops,r.ops):gu(t,r)}setEditorContents(t,r){this.value=r;const n=this.getEditorSelection();typeof r=="string"?t.setContents(t.clipboard.convert({html:r})):t.setContents(r),u6(()=>this.setEditorSelection(t,n))}setEditorSelection(t,r){if(this.selection=r,r){const n=t.getLength();r.index=Math.max(0,Math.min(r.index,n-1)),r.length=Math.max(0,Math.min(r.length,n-1-r.index)),t.setSelection(r)}}setEditorTabIndex(t,r){var n;(n=t==null?void 0:t.scroll)!=null&&n.domNode&&(t.scroll.domNode.tabIndex=r)}setEditorReadOnly(t,r){r?t.disable():t.enable()}makeUnprivilegedEditor(t){const r=t;return{getHTML:()=>r.root.innerHTML,getSemanticHTML:r.getSemanticHTML.bind(r),getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}}getEditingArea(){const t=this.editingAreaRef.current;if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t}renderEditingArea(){const{children:t,preserveWhitespace:r}=this.props,{generation:n}=this.state,a={key:n,ref:this.editingAreaRef};return je.Children.count(t)?je.cloneElement(je.Children.only(t),a):r?je.createElement("pre",{...a}):je.createElement("div",{...a})}render(){return je.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(t,r,n,a){var o,l;if(!this.editor)return;const i=this.isDelta(this.value)?a.getContents():a.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=i,(l=(o=this.props).onChange)==null||l.call(o,t,r,n,a))}onEditorChangeSelection(t,r,n){var l,d,u,h,p,g;if(!this.editor)return;const a=this.getEditorSelection(),i=!a&&t,o=a&&!t;gu(t,a)||(this.selection=t,(d=(l=this.props).onChangeSelection)==null||d.call(l,t,r,n),i?(h=(u=this.props).onFocus)==null||h.call(u,t,r,n):o&&((g=(p=this.props).onBlur)==null||g.call(p,a,r,n)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}IN.displayName="React Quill";IN.Quill=ut;IN.defaultProps={theme:"snow",modules:{},readOnly:!1};function u6(e){Promise.resolve().then(e)}const rke=async()=>(await xt("/admin/categories?limit=1000")).categories,ske=(e,t)=>Kr(`/products/${e}/variants/bulk`,{variants:t}),nke=5*1024*1024,OH=["image/jpeg","image/jpg","image/png","image/webp","image/gif"],ake=ys({id:ki().optional(),hsnCode:it().optional().nullable(),mrp:Mn.number().positive("MRP must be positive"),sellingPrice:Mn.number().positive("Selling price must be positive"),purchasePrice:Mn.number().positive("Purchase price must be positive"),name:it().min(1,"Variant name is required"),gstRate:Mn.number().min(0,"GST rate cannot be negative")}),ike=ys({tags:it().optional().nullable(),maintainStock:ko().default(!1),name:it().min(1,"Product name is required"),description:it().optional().nullable(),isDairyProduct:ko().default(!1),categoryId:Mn.number().positive("Please select a category").optional().nullable(),attachmentUrl:wT(FileList).optional().nullable().refine(e=>!e||e.length===0||e[0].size<=nke,"Max image size is 5MB.").refine(e=>!e||e.length===0||OH.includes(e[0].type),"Only .jpg, .jpeg, .png, .webp and .gif formats are supported."),variants:_h(ake).optional()}),PH=({mode:e,productId:t,initialData:r,onSuccess:n,className:a})=>{const i=yn(),{data:o,isLoading:l}=Nr({queryKey:["categories"],queryFn:rke}),[d,u]=m.useState(null),[h,p]=m.useState(""),g=Js({resolver:en(ike),defaultValues:{name:"",description:"",isDairyProduct:!1,maintainStock:!1,attachmentUrl:null,variants:[],categoryId:null}}),{register:y,handleSubmit:w,reset:v,control:N,formState:{errors:j,isDirty:A}}=g;zy({control:N,name:"variants"}),m.useEffect(()=>{if(e==="edit"&&r&&o){const _={name:r.name||"",description:r.description||"",tags:r.tags||"",isDairyProduct:r.isDairyProduct||!1,maintainStock:r.maintainStock||!1,variants:r.variants||[],categoryId:r.categoryId||null};if(v(_),r.attachmentUrl){const k=`http://localhost:3000${r==null?void 0:r.attachmentUrl}`;u(k)}else u(null)}else e==="create"&&(v(),u(null),p(""))},[r,e,v,o]);const E=Vr({mutationFn:async({productData:_,variants:k})=>{const T=e==="create"?"/products":`/products/${t}`,O=e==="create"?Kr:Zs;if(e==="edit"&&!t)throw new Error("Product ID is required for update.");const P=await O(T,_),I=(P==null?void 0:P.id)||t;if(!I)throw new Error("Failed to get product ID.");return k&&k.length>0&&await ske(I,k),P},onSuccess:_=>{ce.success(`Product ${e==="create"?"created":"updated"} successfully!`),i.invalidateQueries({queryKey:["products"]});const k=(_==null?void 0:_.id)||t;k&&i.invalidateQueries({queryKey:["product",k]}),n&&n()},onError:_=>{var T,O;const k=((O=(T=_.response)==null?void 0:T.data)==null?void 0:O.message)||_.message||"An unexpected error occurred";ce.error(`Failed to save product: ${k}`)}}),S=_=>{console.log("Submitting variants:",_.variants);const k=new FormData;k.append("name",_.name),k.append("isDairyProduct",String(_.isDairyProduct)),k.append("maintainStock",String(_.maintainStock)),_.description&&k.append("description",_.description),_.tags&&k.append("tags",_.tags),_.categoryId&&k.append("categoryId",String(_.categoryId)),_.attachmentUrl&&_.attachmentUrl.length>0?k.append("productAttachment",_.attachmentUrl[0],_.attachmentUrl[0].name):r!=null&&r.attachmentUrl&&d===null&&k.append("attachmentUrl",""),E.mutate({productData:k,variants:_.variants||[]})};return s.jsxs("form",{onSubmit:w(S),className:Xe("space-y-8",a),children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Product Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(ye,{htmlFor:"name",children:"Product Name"}),s.jsx(He,{id:"name",type:"text",...y("name"),disabled:E.isPending}),j.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"categoryId",children:"Category"}),s.jsx(_r,{name:"categoryId",control:N,render:({field:_})=>s.jsxs(It,{onValueChange:_.onChange,value:_.value?String(_.value):"",disabled:E.isPending||l,children:[s.jsx(Lt,{children:s.jsx(Ft,{placeholder:l?"Loading...":"Select a category"})}),s.jsx(Bt,{children:o==null?void 0:o.map(k=>s.jsx(Je,{value:String(k.id),children:k.name},k.id))})]},_.value)}),j.categoryId&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.categoryId.message})]}),s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(ye,{htmlFor:"tags",children:"Tags"}),s.jsx(He,{id:"tags",type:"text",...y("tags"),disabled:E.isPending,placeholder:"e.g. organic, fresh, featured"}),j.tags&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.tags.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_r,{name:"maintainStock",control:N,render:({field:_})=>s.jsx(sc,{id:"maintainStock",checked:_.value,onCheckedChange:_.onChange,disabled:E.isPending})}),s.jsx(ye,{htmlFor:"maintainStock",children:"Maintain Stock"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(_r,{name:"description",control:N,render:({field:_})=>s.jsx(IN,{theme:"snow",value:_.value||"",onChange:_.onChange,onBlur:_.onBlur})}),j.description&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.description.message})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[s.jsx(_r,{name:"isDairyProduct",control:N,render:({field:_})=>s.jsx(sc,{id:"isDairyProduct",checked:_.value,onCheckedChange:_.onChange,disabled:E.isPending})}),s.jsx(ye,{htmlFor:"isDairyProduct",children:"Is this a Dairy Product?"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(ye,{htmlFor:"attachmentUrl",children:"Product Image"}),s.jsx(He,{id:"attachmentUrl",type:"file",accept:OH.join(","),...y("attachmentUrl",{onChange:_=>{var T;const k=(T=_.target.files)==null?void 0:T[0];if(k){const O=URL.createObjectURL(k);u(O),p(k.name)}else u(null),p("")}}),disabled:E.isPending}),h&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",h]}),j.attachmentUrl&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.attachmentUrl.message}),d&&s.jsxs("div",{className:"mt-4 relative w-48 h-48 border rounded-md overflow-hidden",children:[s.jsx("img",{src:d,alt:"Preview",className:"w-full h-full object-cover"}),s.jsx(pe,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>{u(null),p(""),g.setValue("attachmentUrl",null,{shouldDirty:!0})},children:"X"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>n==null?void 0:n(),disabled:E.isPending,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:E.isPending||!A,children:[E.isPending?s.jsx(Fr,{className:"animate-spin mr-2"}):null,e==="create"?"Create Product":"Save Changes"]})]})]})},oke=()=>{const e=Cr(),t=()=>{e("/admin/products")};return s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(Hl,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(yt,{className:" mx-auto",children:[s.jsxs(_t,{children:[s.jsx(Gt,{className:"text-2xl font-semibold",children:"Create New Product"}),s.jsx(Ea,{children:"Fill in the details below to add a new product to the inventory."})]}),s.jsx(Nt,{children:s.jsx(PH,{mode:"create",onSuccess:t})})]})]})},lke=()=>{const e=Cr(),{id:t}=sa(),r=async u=>await xt(`/products/${u}`),{data:n,isLoading:a,isError:i,error:o}=Nr({queryKey:["product",t],queryFn:()=>r(t),enabled:!!t,staleTime:1e3*60*2}),l=()=>{e("/admin/products")};if(!t)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(ea,{variant:"destructive",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Error"}),s.jsx(ta,{children:"No Product ID provided. Please go back and select a product to edit."})]})});if(a)return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(Hl,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(yt,{className:"max-w-4xl mx-auto",children:[s.jsxs(_t,{children:[s.jsx(Ot,{className:"h-8 w-3/4 mb-2"}),s.jsx(Ot,{className:"h-4 w-1/2"})]}),s.jsxs(Nt,{className:"space-y-6 pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Ot,{className:"h-10 w-full"}),s.jsx(Ot,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Ot,{className:"h-10 w-full"}),s.jsx(Ot,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"flex justify-end pt-4",children:[s.jsx(Ot,{className:"h-10 w-24 mr-2"}),s.jsx(Ot,{className:"h-10 w-32"})]})]})]})]});if(i||!n)return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(Hl,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(ea,{variant:"destructive",children:[s.jsx(ji,{className:"h-4 w-4"}),s.jsx(Sa,{children:"Error Fetching Product"}),s.jsxs(ta,{children:["There was a problem retrieving the product details. Error: ",(o==null?void 0:o.message)||"Product data not found."]})]})]});const d={...n,date:n.date?new Date(n.date):void 0,categoryId:n.categoryId??null};return s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(Hl,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(yt,{className:" mx-auto",children:[s.jsxs(_t,{children:[s.jsx(Gt,{className:"text-2xl font-semibold",children:"Edit Product"}),s.jsx(Ea,{children:"Update the details"})]}),s.jsx(Nt,{children:s.jsx(PH,{mode:"edit",productId:t,initialData:d,onSuccess:l})})]})]})},cke=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(!0);return m.useEffect(()=>{const a=localStorage.getItem("user");if(a)try{const i=JSON.parse(a);t(i.role)}catch(i){console.error("Error parsing user data from localStorage:",i),t(null)}else t(null);n(!1)},[]),r?s.jsx("div",{children:"Loading..."}):e==="MEMBER"?s.jsx($A,{children:s.jsx(Zg,{})}):s.jsx(Zg,{})},dke=async()=>{const e=await xt("/products");return Array.isArray(e)?e.map(t=>({...t,price:t.rate})):e&&e.data?e.data.map(t=>({...t,price:t.rate})):[]},uke=({product:e,onViewDetails:t})=>{const[r,n]=m.useState(!1),[a,i]=m.useState(!1),o={rest:{scale:1,y:0,boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)"},hover:{scale:1.03,y:-5,boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.2)",transition:{type:"spring",stiffness:350,damping:25}}},l={rest:{scale:1},hover:{scale:1.05}},d={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:20}}};return s.jsx(Rs.div,{variants:o,initial:"rest",whileHover:"hover",animate:"rest",onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),onClick:()=>t(e.id),className:"h-full rounded-xl overflow-hidden cursor-pointer",children:s.jsxs(yt,{className:"relative h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 transition-all duration-300 group",children:[s.jsxs("div",{className:"relative h-52 sm:h-56 overflow-hidden",children:[s.jsx(Rs.div,{variants:l,className:"h-full w-full",children:e.attachmentUrl?s.jsx("img",{src:e.attachmentUrl.startsWith("http")?e.attachmentUrl:`http://localhost:3000${e.attachmentUrl}`,alt:e.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}):s.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-700",children:s.jsx("span",{className:"mt-2 text-xs text-gray-700 dark:text-gray-400",children:"No Image Available"})})}),s.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-black/30 to-transparent"}),s.jsxs(Rs.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,type:"spring",stiffness:200},className:"absolute top-3 left-3 bg-primary text-white px-3 py-1.5 rounded-full text-xs font-semibold shadow-lg flex items-center",children:[s.jsx(Rw,{size:14,className:"mr-1"})," Fresh"]}),s.jsx(n1e,{children:a&&s.jsx(Rs.div,{variants:d,initial:"hidden",animate:"visible",exit:"hidden",className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex flex-col items-center justify-center p-4",onClick:u=>{u.stopPropagation(),t(e.id)},children:s.jsxs(Rs.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1,transition:{delay:.1}},className:"text-white text-center",children:[s.jsx(qc,{className:"w-10 h-10 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-base font-semibold",children:"Subscribe"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Click to subscribe"})]})})})]}),s.jsxs(_t,{className:"pb-0 pt-4 px-4",children:[" ",s.jsxs("div",{className:"flex items-start justify-between space-x-2",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx(Gt,{className:"text-base sm:text-lg font-semibold leading-tight line-clamp-2 text-gray-700 dark:text-gray-100 group-hover:text-primary dark:group-hover:text-primary transition-colors duration-200",children:e.name})}),s.jsx("div",{className:"flex-shrink-0 pt-1"})]})]}),s.jsxs(Nt,{className:"flex-grow pt-0 pb-3 px-4",children:[s.jsxs("div",{className:"space-y-2.5",children:[s.jsx("div",{className:"flex items-baseline space-x-1.5",children:s.jsx("span",{className:"text-xl sm:text-2xl font-bold text-primary dark:text-primary",children:Ms(e.price)})}),e.description&&s.jsx("div",{className:"mt-2 text-xs text-gray-700 dark:text-gray-400 prose prose-sm dark:prose-invert max-w-full",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden",textOverflow:"ellipsis",maxHeight:"4.5em"},dangerouslySetInnerHTML:{__html:e.description}}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-3",children:[s.jsxs("div",{className:"bg-primary/10 dark:bg-primary/20 rounded-md p-2 text-center flex flex-col items-center justify-center",children:[s.jsx(oh,{size:16,className:"text-primary dark:text-primary mb-0.5"}),s.jsx("div",{className:"text-xs font-medium text-primary dark:text-primary",children:"Organic"})]}),s.jsxs("div",{className:"bg-primary/10 dark:bg-primary/20 rounded-md p-2 text-center flex flex-col items-center justify-center",children:[s.jsx(li,{size:16,className:"text-primary dark:text-primary mb-0.5"}),s.jsx("div",{className:"text-xs font-medium text-primary dark:text-primary",children:"Certified"})]})]})]})," "]}),s.jsx(rf,{className:"pt-2 pb-4 px-4",children:s.jsx(Rs.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full",children:s.jsxs(pe,{className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold py-2.5 sm:py-3 shadow-md hover:shadow-lg transition-all duration-200 group text-sm sm:text-base rounded-lg",onClick:u=>{u.stopPropagation(),t(e.id)},"aria-label":`Subscribe for ${e.name}`,children:[s.jsx(qc,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 transition-transform duration-200 group-hover:scale-110"}),"Subscribe"]})})})]})})},fke=()=>{const e=Cr(),{data:t,isLoading:r,isError:n,error:a}=Nr({queryKey:["memberPublicProducts"],queryFn:dke}),i=t||[],o=d=>{e(`/member/products/${d}`)},l=()=>s.jsxs(yt,{className:"overflow-hidden bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg",children:[s.jsx(Ot,{className:"h-52 sm:h-56 w-full bg-gray-200 dark:bg-gray-700"}),s.jsxs(_t,{className:"pb-2 pt-4",children:[s.jsx(Ot,{className:"h-5 w-3/4 mb-2 bg-gray-200 dark:bg-gray-700"}),s.jsx(Ot,{className:"h-3 w-1/2 bg-gray-200 dark:bg-gray-700"})]}),s.jsxs(Nt,{className:"pt-2 pb-3",children:[s.jsx(Ot,{className:"h-6 w-1/3 mb-2 bg-gray-200 dark:bg-gray-700"}),s.jsx(Ot,{className:"h-3 w-full mb-1 bg-gray-200 dark:bg-gray-700"}),s.jsx(Ot,{className:"h-3 w-5/6 mb-3 bg-gray-200 dark:bg-gray-700"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[s.jsx(Ot,{className:"h-10 rounded-md bg-gray-200 dark:bg-gray-700"}),s.jsx(Ot,{className:"h-10 rounded-md bg-gray-200 dark:bg-gray-700"})]})]}),s.jsx(rf,{className:"pt-2 pb-4 px-4",children:s.jsx(Ot,{className:"h-10 sm:h-12 w-full rounded-lg bg-gray-200 dark:bg-gray-700"})})]});return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-gray-850 dark:to-gray-900 py-8 sm:py-12",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[s.jsx(Ot,{className:"h-10 sm:h-12 w-3/5 sm:w-1/2 mx-auto mb-4 bg-gray-300 dark:bg-gray-700"}),s.jsx(Ot,{className:"h-5 sm:h-6 w-4/5 sm:w-2/3 mx-auto bg-gray-300 dark:bg-gray-700"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:[...Array(8)].map((d,u)=>s.jsx(l,{},u))})]})}):n&&a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(ea,{variant:"destructive",className:"max-w-lg mx-auto bg-red-100 dark:bg-red-900/50 border-red-500 dark:border-red-700 p-6 rounded-lg shadow-xl",children:[s.jsx(Hc,{className:"h-6 w-6 text-red-700 dark:text-red-400"}),s.jsx(Sa,{className:"text-xl font-semibold text-red-800 dark:text-red-300",children:"Oops! Something went wrong."}),s.jsx(ta,{className:"text-gray-700 dark:text-red-400 mt-1",children:(a==null?void 0:a.message)||"We couldn't fetch the products at this moment. Please try refreshing the page or check back later."}),s.jsx(pe,{variant:"outline",className:"mt-4 border-primary text-primary hover:bg-primary/10 dark:border-primary dark:text-primary dark:hover:bg-primary/20",onClick:()=>window.location.reload(),children:"Refresh Page"})]})})}):i.length===0?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:s.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:s.jsxs(Rs.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},children:[s.jsx(qs,{size:72,className:"mx-auto mb-6 text-primary dark:text-primary"}),s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-3 text-gray-700 dark:text-gray-100",children:"No Products Found"}),s.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-400 max-w-md mx-auto",children:"It seems we're all out of stock for now! Please check back soon for fresh arrivals."}),s.jsx(pe,{className:"mt-8 bg-primary hover:bg-primary/90 text-white",onClick:()=>window.location.reload(),children:"Check Again"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-slate-800 dark:to-gray-900 selection:bg-primary selection:text-white",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-10 sm:py-16",children:[s.jsxs(Rs.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"mb-12 sm:mb-20",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:s.jsx(Va,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:"Our Products"})]}),s.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"}),s.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-700 dark:text-gray-300 max-w-xl lg:max-w-2xl leading-relaxed",children:"Explore a curated selection of farm-fresh dairy, organic groceries, and artisanal goods. Subscribe for convenience and quality, delivered to your door."})]}),s.jsx(Rs.div,{initial:"hidden",animate:"visible",variants:{visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.2}},hidden:{opacity:0}},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:i.map(d=>s.jsx(Rs.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},children:s.jsx(uke,{product:d,onViewDetails:o})},d.id))})]})})},hke=({selectable:e=!1,onSelect:t,selectedAddressId:r})=>{const n=Cr(),a=yn(),[i,o]=m.useState(null),{data:l,isLoading:d,isError:u,error:h}=Nr({queryKey:["addresses"],queryFn:async()=>await xt("/delivery-addresses")}),p=Vr({mutationFn:async j=>await Fn(`/delivery-addresses/${j}/set-default`,{}),onSuccess:()=>{a.invalidateQueries({queryKey:["addresses"]}),ce.success("Default address updated successfully")},onError:j=>{ce.error(j.message||"Failed to update default address")}}),g=Vr({mutationFn:async j=>await Tn(`/delivery-addresses/${j}`),onSuccess:()=>{a.invalidateQueries({queryKey:["addresses"]}),ce.success("Address deleted successfully"),o(null)},onError:j=>{ce.error(j.message||"Failed to delete address")}}),y=j=>{p.mutate(j)},w=()=>{i&&g.mutate(i)},v=j=>{n(`/member/addresses/edit/${j}`)},N=j=>{e&&t&&t(j)};return d?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((j,A)=>s.jsx(yt,{className:"w-full",children:s.jsx(Nt,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{className:"h-4 w-3/4"}),s.jsx(Ot,{className:"h-4 w-1/2"}),s.jsx(Ot,{className:"h-4 w-5/6"})]})})},A))}):u?s.jsxs("div",{className:"text-center p-4 text-red-500",children:["Error loading addresses: ",(h==null?void 0:h.message)||"Unknown error"]}):!l||l.length===0?s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"mb-4",children:"You don't have any saved addresses yet."}),s.jsxs(pe,{onClick:()=>n("/member/addresses/create"),children:[s.jsx(Xs,{className:"mr-2 h-4 w-4"})," Add New Delivery Address"]})]}):s.jsxs("div",{className:"space-y-4",children:[!e&&s.jsx("div",{className:"flex justify-between items-center mb-4"}),l.map(j=>s.jsx(yt,{className:`w-full transition-all ${e?"cursor-pointer hover:border-primary hover:shadow-md":""} ${r===j.id?"border-2 border-primary shadow-md":""}`,onClick:()=>e&&N(j),children:s.jsx(Nt,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-medium text-base sm:text-lg truncate",children:j.recipientName}),j.label&&s.jsx(Ir,{variant:"secondary",className:"mr-2 font-normal ",children:j.label}),j.isDefault&&s.jsxs(Ir,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[s.jsx(pT,{className:"h-3 w-3 mr-1"}),"Default"]})]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[j.plotBuilding,", ",j.streetArea,j.landmark&&`, Near ${j.landmark}`]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[j.city,", ",j.state," - ",j.pincode]}),s.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:["Mobile: ",j.mobile]})]}),!e&&s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 sm:mt-0",children:[!j.isDefault&&s.jsxs(pe,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",onClick:A=>{A.stopPropagation(),y(j.id)},children:[s.jsx(li,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Set Default"}),s.jsx("span",{className:"sm:hidden",children:"Default"})]}),s.jsxs(pe,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",onClick:A=>{A.stopPropagation(),v(j.id)},children:[s.jsx(Ya,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"ml-1 hidden sm:inline",children:"Edit"})]})]})]})})},j.id)),s.jsx(Ln,{open:!!i,onOpenChange:j=>!j&&o(null),children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Are you sure?"}),s.jsx(qn,{children:"This will permanently delete this address. This action cannot be undone."})]}),s.jsxs(Un,{children:[s.jsx(zn,{children:"Cancel"}),s.jsx(aa,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},mke=()=>{const e=Cr();return s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 max-sm:flex-col",children:[s.jsxs("div",{className:"",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Delivery Addresses"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your delivery addresses"})]}),s.jsxs(pe,{onClick:()=>e("/member/addresses/create"),children:[s.jsx(Xs,{className:"mr-2 h-4 w-4"})," Add New Delivery Address"]})]}),s.jsx(hke,{})]})},pke=ys({recipientName:it().min(1,"Recipient name is required"),mobile:it().min(1,"Mobile number is required").regex(/^\d{10,}$/,"Mobile number must be at least 10 digits and contain only numbers"),plotBuilding:it().min(1,"Flat/House/Plot number is required"),streetArea:it().min(1,"Street/Area name is required"),landmark:it().min(1,"Landmark is required"),pincode:it().min(1,"Pincode is required").regex(/^\d{6}$/,"Pincode must be exactly 6 numeric digits"),city:it().min(1,"City is required"),state:it().min(1,"State is required"),isDefault:ko().default(!1),label:jy(["Home","Work","Other"]).optional().default("Home"),locationId:it().optional()}),RH=({mode:e,addressId:t,initialData:r,onSuccess:n,onCancel:a,onBack:i,depotId:o,locations:l})=>{var z,K,V,ae,Q;const d=Cr(),u=e==="edit",[h,p]=m.useState(l||[]),[g,y]=m.useState(!1),[w,v]=m.useState([]),[N,j]=m.useState([]),[A,E]=m.useState([]),[S,_]=m.useState(null),[k,T]=m.useState(null),[O,P]=m.useState({isValid:!1,message:"",isValidating:!1}),[I,M]=m.useState(!1),[q,U]=m.useState(""),[re,te]=m.useState(!1);m.useEffect(()=>{(async()=>{if(l&&l.length>0){p(l);return}y(!0);try{const Z=await xt("/public/locations");Z&&Z.data&&Array.isArray(Z.data.locations)?p(Z.data.locations):Z&&Array.isArray(Z)&&p(Z)}catch(Z){console.error("Failed to fetch locations:",Z),ce.error("Could not load locations.")}finally{y(!1)}})()},[l]),m.useEffect(()=>{B(),H()},[]);const B=async()=>{try{const se=await A_();v(se)}catch(se){console.error("Failed to fetch area masters:",se),ce.error("Could not load delivery areas.")}},H=async()=>{try{const se=await ev();E(se)}catch(se){console.error("Failed to fetch cities:",se),ce.error("Could not load cities.")}};m.useEffect(()=>{if(S&&w.length>0){const se=w.filter(Z=>{var le;return Z.cityId?Z.cityId===S:(le=Z.city)!=null&&le.id?Z.city.id===S:!1});j(se)}else j(w)},[S,w]);const R=se=>{var le;T(se),(le=se.city)!=null&&le.name&&Y.setValue("city",se.city.name);const Z=Y.getValues("pincode");Z&&Z.length===6&&X(Z,se)},X=(se,Z)=>{const le=Z||k;if(console.log("validatePincode called with:",{pincode:se,currentAreaMaster:le==null?void 0:le.name}),se.length===6&&/^\d{6}$/.test(se)){P({isValid:!1,message:"",isValidating:!0});const Ee=Qp(se,[le].filter(Boolean)).isValid;P({isValid:Ee,message:Ee?"Great ! We deliver in your location":`We currently don't serve pincode ${se} in ${(le==null?void 0:le.name)||"this area"}.`,isValidating:!1}),te(!Ee&&se.length===6)}},W=()=>{const se=Y.getValues(),Z=k?`We currently don't serve pincode ${se.pincode} in ${k.name}. Help us prioritize expanding to your area!`:`We currently don't serve pincode ${se.pincode}. Help us prioritize expanding to your area!`;U(Z),M(!0)},Y=Js({resolver:en(pke),defaultValues:r?{recipientName:r.recipientName,mobile:r.mobile,plotBuilding:r.plotBuilding,streetArea:r.streetArea,locationId:r.locationId?String(r.locationId):void 0,landmark:r.landmark||"",pincode:r.pincode,city:r.city,state:r.state,isDefault:r.isDefault,label:r.label==="Home"||r.label==="Work"||r.label==="Other"?r.label:"Home"}:{recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}});m.useEffect(()=>{r&&(console.log("Initial data:",r),console.log("LocationId from initial data:",r.locationId),console.log("Converted locationId:",r.locationId?String(r.locationId):void 0),Y.reset({recipientName:r.recipientName,mobile:r.mobile,plotBuilding:r.plotBuilding,streetArea:r.streetArea,locationId:r.locationId?String(r.locationId):void 0,landmark:r.landmark||"",pincode:r.pincode,city:r.city,state:r.state,isDefault:r.isDefault,label:r.label==="Home"||r.label==="Work"||r.label==="Other"?r.label:"Home"}))},[r,Y]),m.useEffect(()=>{if(r&&w.length>0&&A.length>0&&!k){console.log("Looking for matching area master for existing address:",{city:r.city,pincode:r.pincode});const se=A.find(Z=>Z.name.toLowerCase()===r.city.toLowerCase());if(se){console.log("Found matching city:",se.name),_(se.id);const Z=w.find(le=>{var Ze;return le.cityId===se.id||((Ze=le.city)==null?void 0:Ze.id)===se.id?Qp(r.pincode,[le]).isValid:!1});if(Z)console.log("Found matching area master for editing:",Z.name),T(Z),r.pincode&&r.pincode.length===6&&X(r.pincode,Z);else{console.log("No matching area master found for existing address");const le=w.find(Te=>{var Ee;return Te.cityId===se.id||((Ee=Te.city)==null?void 0:Ee.id)===se.id});le&&(console.log("Using fallback area master from same city:",le.name),T(le),r.pincode&&r.pincode.length===6&&X(r.pincode,le))}}}},[r,w,A,k]);const F=async se=>{if(re){ce.error('This address cannot be saved with an invalid pincode. Please use "Request Service in Your Area" instead.');return}try{if(k&&se.pincode&&se.pincode.length===6&&!O.isValid){ce.error(`Cannot save address: Pincode ${se.pincode} is not served by ${k.name}. Please select a different area or correct the pincode.`);return}if(!k){ce.error("Please select a delivery area before saving the address.");return}let Z;const{locationId:le,...Te}=se,Ee={...Te,depotId:o,...le&&!isNaN(Number(le))?{locationId:Number(le)}:{}};u&&t?(Z=await Zs(`/delivery-addresses/${t}`,Ee),ce.success("Address updated successfully")):(Z=await Kr("/delivery-addresses",Ee),ce.success("Address created successfully")),n?n(Z):d("/member/addresses")}catch(Z){ce.error(Z.message||"An error occurred while saving the address")}};return s.jsxs(s.Fragment,{children:[s.jsxs(yt,{className:"w-full mx-auto",children:[s.jsx(_t,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[(i||a)&&s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{i?i():a?a():d(-1)},children:s.jsx(Hl,{className:"h-4 w-4"})}),s.jsx(Gt,{className:"text-lg sm:text-xl",children:u?"Edit Address":"Add New Delivery Address"})]})}),s.jsx(Nt,{className:"px-4 sm:px-6 max-h-[70vh] overflow-y-auto",children:s.jsx(K2e,{...Y,children:s.jsxs("form",{onSubmit:se=>{if(se.preventDefault(),!k){ce.error("Please select a delivery area before saving the address.");return}const Z=Y.getValues("pincode");if(Z&&Z.length===6){if(O.isValidating){ce.error("Please wait for pincode validation to complete.");return}if(!O.isValid){ce.error(`Cannot save address: Pincode ${Z} is not served by ${k.name}. Please click "Request Service in Your Area" if you need delivery to this location.`);return}}Y.handleSubmit(F)(se)},className:"space-y-6",children:[s.jsx(Vo,{control:Y.control,name:"label",render:({field:se})=>s.jsxs(yi,{className:"mb-4",children:[s.jsx(ho,{children:"Label As"}),s.jsx(vi,{children:s.jsxs(th,{onValueChange:se.onChange,defaultValue:se.value,className:"flex flex-wrap gap-3 sm:gap-4 pt-2",children:[s.jsxs(yi,{className:"flex items-center space-x-2 space-y-0",children:[s.jsx(vi,{children:s.jsx(si,{value:"Home"})}),s.jsx(ho,{className:"font-normal",children:"Home"})]}),s.jsxs(yi,{className:"flex items-center space-x-2 space-y-0",children:[s.jsx(vi,{children:s.jsx(si,{value:"Work"})}),s.jsx(ho,{className:"font-normal",children:"Work"})]}),s.jsxs(yi,{className:"flex items-center space-x-2 space-y-0",children:[s.jsx(vi,{children:s.jsx(si,{value:"Other"})}),s.jsx(ho,{className:"font-normal",children:"Other"})]})]})}),s.jsx(nu,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(Vo,{control:Y.control,name:"recipientName",render:({field:se})=>s.jsxs(yi,{children:[s.jsx(ho,{children:"Recipient Name*"}),s.jsx(vi,{children:s.jsx(He,{placeholder:"Enter recipient name",...se})}),s.jsx(nu,{})]})}),s.jsx(Vo,{control:Y.control,name:"mobile",render:({field:se})=>s.jsxs(yi,{children:[s.jsx(ho,{children:"Mobile Number*"}),s.jsx(vi,{children:s.jsx(He,{max:10,maxLength:10,placeholder:"Enter mobile number",...se})}),s.jsx(nu,{})]})})]}),s.jsx(Vo,{control:Y.control,name:"plotBuilding",render:({field:se})=>s.jsxs(yi,{children:[s.jsx(ho,{children:"Flat, House, Plot Number*"}),s.jsx(vi,{children:s.jsx(He,{placeholder:"Enter flat, house, or plot number",...se})}),s.jsx(nu,{})]})}),s.jsx(Vo,{control:Y.control,name:"streetArea",render:({field:se})=>s.jsxs(yi,{children:[s.jsx(ho,{children:"Street/Area Name*"}),s.jsx(vi,{children:s.jsx(He,{placeholder:"Enter street or area name",...se})}),s.jsx(nu,{})]})}),s.jsx(Vo,{control:Y.control,name:"landmark",render:({field:se})=>s.jsxs(yi,{children:[s.jsx(ho,{children:"Landmark (Optional)"}),s.jsx(vi,{children:s.jsx(He,{placeholder:"Enter landmark",...se})}),s.jsx(nu,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"City"}),s.jsxs(It,{onValueChange:se=>{const Z=se==="dombivli"?null:parseInt(se);_(Z),T(null)},value:(S==null?void 0:S.toString())||"all",children:[s.jsx(Lt,{children:s.jsx(Ft,{placeholder:" city"})}),s.jsx(Bt,{className:"max-h-60 overflow-y-auto",children:A.sort((se,Z)=>se.name.localeCompare(Z.name)).map(se=>s.jsx(Je,{value:se.id.toString(),children:se.name},se.id))})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium mb-1.5 block",children:["Delivery Areas* ",s.jsx("span",{className:"text-xs text-gray-500"})]}),s.jsxs(It,{onValueChange:se=>{const Z=N.find(le=>le.id===parseInt(se));Z&&R(Z)},value:((z=k==null?void 0:k.id)==null?void 0:z.toString())||"",children:[s.jsx(Lt,{children:s.jsx(Ft,{placeholder:"Select your delivery area"})}),s.jsx(Bt,{className:"max-h-60 overflow-y-auto",children:N.sort((se,Z)=>se.name.localeCompare(Z.name)).map(se=>s.jsx(Je,{value:se.id.toString(),children:se.name},se.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(Vo,{control:Y.control,name:"pincode",render:({field:se})=>s.jsxs(yi,{children:[s.jsx(ho,{children:"Pincode*"}),s.jsx(vi,{children:s.jsx(He,{type:"text",placeholder:"Enter pincode",max:6,...se,onChange:Z=>{se.onChange(Z);const le=Z.target.value;le.length===6&&/^\d{6}$/.test(le)?X(le):P({isValid:!1,message:"",isValidating:!1})},onBlur:Z=>{const le=Z.target.value;le.length===6&&/^\d{6}$/.test(le)&&k&&X(le)}})}),s.jsx(nu,{})]})}),s.jsx(Vo,{control:Y.control,name:"state",render:({field:se})=>s.jsxs(yi,{children:[s.jsx(ho,{children:"State*"}),s.jsxs(It,{onValueChange:se.onChange,value:se.value,children:[s.jsx(vi,{children:s.jsx(Lt,{children:s.jsx(Ft,{placeholder:"Select a state"})})}),s.jsx(Bt,{className:"max-h-60 overflow-y-auto",children:Gy.map(Z=>s.jsx(Je,{value:Z.label,children:Z.label},Z.value))})]}),s.jsx(nu,{})]})})]}),k&&s.jsx(k_,{pincode:Y.watch("pincode")||"",isValid:O.isValid,message:O.message,isValidating:O.isValidating,showServiceRequest:!O.isValid&&!O.isValidating&&((K=Y.watch("pincode"))==null?void 0:K.length)===6,onRequestService:W}),s.jsx(Vo,{control:Y.control,name:"city",render:({field:se})=>s.jsx(yi,{className:"hidden",children:s.jsx(vi,{children:s.jsx(He,{...se})})})}),s.jsx(Vo,{control:Y.control,name:"locationId",render:({field:se})=>s.jsx(yi,{className:"hidden",children:s.jsx(vi,{children:s.jsx(He,{...se})})})}),s.jsx(Vo,{control:Y.control,name:"isDefault",render:({field:se})=>s.jsxs(yi,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[s.jsx(vi,{children:s.jsx(sc,{checked:se.value,onCheckedChange:se.onChange})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(ho,{children:"Set as Default Address"})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 mt-6",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>{a?a():d("/member/addresses")},disabled:Y.formState.isSubmitting,className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:Y.formState.isSubmitting||!k||O.isValidating||!!k&&((V=Y.watch("pincode"))==null?void 0:V.length)===6&&!O.isValid,className:"w-full sm:w-auto order-1 sm:order-2",title:k?((ae=Y.watch("pincode"))==null?void 0:ae.length)===6&&!O.isValid?`Pincode ${Y.watch("pincode")} is not Serviceable in this area`:void 0:"Please select a delivery area",children:Y.formState.isSubmitting?u?"Saving...":"Adding...":u?"Save Changes":"Add Address"})]})]})})})]}),s.jsx(__,{isOpen:I,onOpenChange:M,message:q||"We currently do not serve this area, but we're expanding!",prefilledData:{recipientName:Y.watch("recipientName")||"",mobile:Y.watch("mobile")||"",plotBuilding:Y.watch("plotBuilding")||"",streetArea:Y.watch("streetArea")||"",landmark:Y.watch("landmark")||"",pincode:Y.watch("pincode")||"",city:Y.watch("city")||((Q=k==null?void 0:k.city)==null?void 0:Q.name)||"",state:Y.watch("state")||""},onSuccess:()=>{M(!1),ce.success("Thank you for your interest! We've saved your details and will contact you when we expand to your area.")}})]})},xke=()=>{const e=Cr(),t=()=>{e("/member/addresses")};return s.jsxs("div",{className:"container py-8 flex max-sm:flex-col",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Add New Delivery Address"}),s.jsx("p",{className:"text-muted-foreground",children:"Create a new delivery address for your account"})]}),s.jsx(RH,{mode:"create",onSuccess:t})]})},gke=()=>{const{id:e}=sa(),t=Cr(),{data:r,isLoading:n,isError:a,error:i}=Nr({queryKey:["address",e],queryFn:async()=>{if(!e)throw new Error("Address ID is required");return await xt(`/delivery-addresses/${e}`)}}),o=()=>{t("/member/addresses")};if(n)return s.jsxs("div",{className:"container py-8",children:[s.jsx(Ot,{className:"h-8 w-1/4 mb-4"}),s.jsx(Ot,{className:"h-4 w-1/3 mb-8"}),s.jsx("div",{className:"space-y-6 max-w-3xl mx-auto",children:s.jsx(Ot,{className:"h-[400px] w-full rounded-lg"})})]});if(a||!r){const l=(i==null?void 0:i.message)||"Failed to load address";return ce.error(l),s.jsxs("div",{className:"container py-8 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Address"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:l}),s.jsx("button",{onClick:()=>t("/addresses"),className:"bg-primary text-white px-4 py-2 rounded-md",children:"Return to Address List"})]})}return s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Delivery Address"}),s.jsx("p",{className:"text-muted-foreground",children:"Update your delivery address details"})]}),s.jsx(RH,{mode:"edit",addressId:e,initialData:r,onSuccess:o})]})},yke=({isOpen:e,onOpenChange:t,subscriptions:r,agencies:n,isLoadingAgencies:a,onBulkUpdateSubscriptions:i})=>{const[o,l]=m.useState(new Set),[d,u]=m.useState(""),[h,p]=m.useState("unassigned"),[g,y]=m.useState(!1),w=m.useMemo(()=>r.filter(O=>{if(O.paymentStatus!=="PAID")return!1;switch(h){case"unassigned":return!O.agencyId;case"assigned":return!!O.agencyId;default:return!0}}),[r,h]),v=(O,P)=>{const I=new Set(o);P?I.add(O):I.delete(O),l(I)},N=O=>{if(O){const P=new Set(w.map(I=>I.id));l(P)}else l(new Set)},j=async()=>{if(o.size===0){ce.error("Please select at least one subscription");return}if(!d){ce.error("Please select an agency");return}y(!0);try{const O=d==="NONE"?null:parseInt(d,10);await i(Array.from(o),O),ce.success(`Successfully assigned agency to ${o.size} subscription(s)`),l(new Set),u(""),t(!1)}catch(O){console.error("Bulk assignment failed:",O),ce.error("Failed to assign agencies. Please try again.")}finally{y(!1)}},A=O=>{var P;return O?((P=O.user)==null?void 0:P.name)||O.name:"Unassigned"},E=r.filter(O=>O.paymentStatus==="PAID").length,S=r.filter(O=>O.paymentStatus==="PAID"&&!O.agencyId).length,_=r.filter(O=>O.paymentStatus==="PAID"&&O.agencyId).length,k=w.length>0&&o.size===w.length,T=o.size>0&&o.size<w.length;return s.jsx(as,{open:e,onOpenChange:t,children:s.jsxs(is,{className:Xe("max-w-5xl max-sm:max-w-[95vw]","h-[90vh] max-h-[600px] sm:max-h-[80vh]","flex flex-col","p-0","overflow-hidden"),children:[s.jsxs(fs,{className:"px-4 py-3 sm:px-6 sm:py-4 flex-shrink-0 border-b",children:[s.jsxs(hs,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[s.jsx(tL,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Bulk Agency Assignment"]}),s.jsx(Ta,{className:"text-sm",children:"Assign delivery agencies to multiple subscriptions at once"})]}),s.jsxs("div",{className:"flex-1 flex flex-col px-4 sm:px-6 py-4 min-h-0 overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 p-3 sm:p-4 bg-gray-50 rounded-lg mb-3 sm:mb-4 flex-shrink-0",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:E}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Total Paid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-red-600",children:S}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Unassigned"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-green-600",children:_}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Assigned"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:o.size}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Selected"})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(Th,{className:"h-4 w-4 flex-shrink-0"}),s.jsx(ye,{className:"text-sm whitespace-nowrap",children:"Filter:"}),s.jsxs(It,{value:h,onValueChange:O=>p(O),children:[s.jsx(Lt,{className:"w-36 sm:w-40",children:s.jsx(Ft,{})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"unassigned",children:"Unassigned Only"}),s.jsx(Je,{value:"assigned",children:"Assigned Only"}),s.jsx(Je,{value:"all",children:"All Paid"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(ye,{className:"text-sm whitespace-nowrap",children:"Assign to:"}),s.jsxs(It,{value:d,onValueChange:u,disabled:a,children:[s.jsx(Lt,{className:"w-44 sm:w-48",children:s.jsx(Ft,{placeholder:a?"Loading...":"Select agency"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"NONE",children:"Remove Assignment"}),n.map(O=>s.jsx(Je,{value:O.id.toString(),children:A(O)},O.id))]})]})]})]})}),s.jsx("div",{className:"flex-1 min-h-[150px] border rounded-md overflow-hidden bg-white",children:w.length===0?s.jsx("div",{className:"flex items-center justify-center h-full min-h-[150px] text-gray-500 text-sm",children:"No subscriptions match the current filter"}):s.jsx("div",{className:"h-full overflow-x-auto overflow-y-auto",children:s.jsxs(Is,{className:"min-w-[700px] w-full",children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsx(Ye,{className:"w-10 sm:w-12 px-2 sm:px-4",children:s.jsx(sc,{checked:k,ref:O=>{O&&(O.indeterminate=T)},onCheckedChange:N})}),s.jsx(Ye,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[100px]",children:"Product"}),s.jsx(Ye,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[120px]",children:"Member"}),s.jsx(Ye,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[150px] md:min-w-[200px]",children:"Location"}),s.jsx(Ye,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[100px]",children:"Agency"}),s.jsx(Ye,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[120px]",children:"Period"})]})}),s.jsx(Ls,{children:w.map(O=>{var P,I,M;return s.jsxs(rr,{children:[s.jsx($e,{className:"px-2 sm:px-4",children:s.jsx(sc,{checked:o.has(O.id),onCheckedChange:q=>v(O.id,q)})}),s.jsx($e,{className:"px-2 sm:px-4 font-medium text-xs sm:text-sm",children:s.jsx("div",{className:"max-w-[80px] sm:max-w-none truncate",children:O.product.name})}),s.jsx($e,{className:"px-2 sm:px-4 text-xs sm:text-sm",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-medium truncate max-w-[100px] sm:max-w-none",children:((I=(P=O.member)==null?void 0:P.user)==null?void 0:I.name)||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500 md:hidden",children:((M=O.deliveryAddress)==null?void 0:M.recipientName)&&s.jsx("div",{className:"truncate",children:O.deliveryAddress.recipientName})})]})}),s.jsx($e,{className:"px-2 sm:px-4",children:s.jsx("div",{className:"text-xs",children:O.deliveryAddress?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium truncate",children:O.deliveryAddress.recipientName||"No Recipient"}),s.jsx("div",{className:"text-gray-500 truncate sm:hidden",children:O.deliveryAddress.mobile}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("div",{className:"text-gray-500",children:O.deliveryAddress.mobile}),s.jsxs("div",{className:"text-xs text-gray-400 mt-1 truncate",children:[O.deliveryAddress.plotBuilding,", ",O.deliveryAddress.streetArea,O.deliveryAddress.landmark&&`, ${O.deliveryAddress.landmark}`]}),s.jsxs("div",{className:"text-xs text-gray-400 truncate",children:[O.deliveryAddress.city,", ",O.deliveryAddress.state," - ",O.deliveryAddress.pincode]})]}),O.deliveryAddress.location&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1 truncate",children:["📍 ",O.deliveryAddress.location.name]})]}):s.jsx("div",{className:"text-gray-400 italic",children:"No Address"})})}),s.jsx($e,{className:"px-2 sm:px-4",children:O.agency?s.jsx(Ir,{variant:"secondary",className:"text-xs",children:s.jsx("span",{className:"truncate max-w-[60px] sm:max-w-none",children:A(O.agency)})}):s.jsx(Ir,{variant:"outline",className:"text-xs",children:"Unassigned"})}),s.jsxs($e,{className:"px-2 sm:px-4 text-xs sm:text-sm",children:[s.jsx("div",{children:new Date(O.startDate).toLocaleDateString()}),s.jsxs("div",{className:"text-gray-500",children:["to ",new Date(O.expiryDate).toLocaleDateString()]})]})]},O.id)})})]})})})]}),s.jsxs(di,{className:"flex flex-col sm:flex-row sm:justify-between gap-3 px-4 py-3 sm:px-6 sm:py-4 border-t flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-600 order-2 sm:order-1",children:[s.jsx(li,{className:"h-3 w-3 sm:h-4 sm:w-4"}),o.size," subscription(s) selected"]}),s.jsxs("div",{className:"flex gap-2 order-1 sm:order-2",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1 sm:flex-none",children:"Cancel"}),s.jsx(pe,{type:"button",onClick:j,disabled:g||o.size===0||!d,className:"flex-1 sm:flex-none text-xs sm:text-sm",children:g?"Assigning...":`Assign (${o.size})`})]})]})]})})},vke=[{value:"ONLINE",label:"Online"},{value:"CASH",label:"Cash"},{value:"UPI",label:"UPI"},{value:"BANK",label:"Bank Transfer"}],bke=({isOpen:e,onOpenChange:t,order:r,onUpdateOrder:n})=>{const[a,i]=m.useState(""),[o,l]=m.useState(""),[d,u]=m.useState(""),[h,p]=m.useState(""),[g,y]=m.useState({}),[w,v]=m.useState(""),[N,j]=m.useState(""),A=(r==null?void 0:r.paymentStatus)==="PAID";m.useEffect(()=>{var _,k;r?(console.log("Payment Modal Data:",{orderId:r.id,totalAmount:r.totalAmount,walletamt:r.walletamt,payableamt:r.payableamt,currentStatus:r.paymentStatus}),i(r.paymentMode||""),l(r.paymentReferenceNo||""),u(r.paymentDate?Rt(new Date(r.paymentDate),"yyyy-MM-dd"):""),p(r.paymentStatus||""),j(((_=r.payableamt)==null?void 0:_.toString())||"0"),v(((k=r.payableamt)==null?void 0:k.toString())||"0")):(i(""),l(""),u(""),p(""),j(""),v(""))},[r]);const E=()=>{const _={};return h||(_.paymentStatus="Payment status is required"),y(_),Object.keys(_).length===0},S=async()=>{if(!r||A||!E())return;const _=parseFloat(w);if(isNaN(_)||_<=0){ce.error("Please enter a valid received amount.");return}const k=r.payableamt??0,T=r.totalAmount??0;if(console.log("payable",k,"total",T),h==="PAID"&&!(_===k||k===0&&_===T)){const I=k===0&&T>0?T:k;ce.error(`Received amount (₹${_.toFixed(2)}) must equal the payable amount (₹${I.toFixed(2)}) to mark as PAID.`);return}if(h!=="PAID"&&h!=="FAILED"){ce.error("Payment Status is Required");return}const O={orderId:r.id,paymentMode:a,paymentReference:o,paymentDate:d,paymentStatus:h,receivedAmount:_};try{await n(O)&&t(!1)}catch(P){console.error("Failed to update payment:",P)}};return!e||!r?null:s.jsx(as,{open:e,onOpenChange:t,children:s.jsxs(is,{className:"sm:max-w-lg",children:[s.jsxs(fs,{children:[s.jsxs(hs,{children:["Update Payment for Order: ",r.orderNo]}),s.jsx(Ta,{children:"Modify payment details for the entire order."})]}),s.jsx(Gc,{className:"absolute right-4 top-4 z-10",onClick:()=>t(!1),children:s.jsx(ai,{className:"h-4 w-4"})}),s.jsx("div",{className:"grid gap-6 py-4",children:s.jsxs("fieldset",{disabled:A,className:"grid gap-4 border p-4 rounded-md",children:[s.jsxs("legend",{className:"text-sm font-medium px-1",children:["Payment Information"," ",A?`(Status: ${r.paymentStatus} - Disabled)`:""]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(ye,{htmlFor:"paymentMode",className:"text-right col-span-1",children:["Payment Mode ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(It,{value:a,onValueChange:_=>i(_),disabled:A,children:[s.jsx(Lt,{id:"paymentMode",className:"col-span-3 mt-1",children:s.jsx(Ft,{placeholder:"Select payment mode"})}),s.jsx(Bt,{children:vke.map(_=>s.jsx(Je,{value:_.value,children:_.label},_.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ye,{htmlFor:"payment-reference",className:"text-right col-span-1",children:"Reference #"}),s.jsx(He,{id:"payment-reference",value:o,onChange:_=>l(_.target.value),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ye,{htmlFor:"payment-date",className:"text-right col-span-1",children:"Payment Date"}),s.jsx(He,{type:"date",id:"payment-date",value:d,onChange:_=>u(_.target.value),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ye,{htmlFor:"payable-amount",className:"text-right col-span-1",children:"Payable Amount"}),s.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[s.jsx(wg,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{id:"payable-amount",className:"font-semibold",children:N})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(ye,{htmlFor:"received-amount",className:"text-right col-span-1",children:["Received Amount ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{id:"received-amount",type:"number",value:w,onChange:_=>v(_.target.value),className:"col-span-3",placeholder:"Enter amount received"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(ye,{className:"text-right col-span-1",htmlFor:"payment-status-modal",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[s.jsxs(It,{value:h,onValueChange:_=>{if(p(_),_){const k={...g};delete k.paymentStatus,y(k)}},children:[s.jsx(Lt,{id:"payment-status-modal",className:g.paymentStatus?"border-red-500":"",children:s.jsx(Ft,{placeholder:"Select status"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"PAID",children:"Paid"}),s.jsx(Je,{value:"FAILED",children:"Failed"})]})]}),g.paymentStatus&&s.jsx("p",{className:"text-xs text-red-500",children:g.paymentStatus})]})]})]})}),s.jsxs(di,{children:[s.jsx(pe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(pe,{onClick:S,disabled:A,children:"Save Changes"})]})]})})},wke=({isOpen:e,onOpenChange:t,order:r,agencies:n,isLoadingAgencies:a,onUpdateOrderSubscriptions:i})=>{var p,g,y,w,v,N,j,A,E;const[o,l]=m.useState("NONE"),[d,u]=m.useState("");m.useEffect(()=>{var S;if(r&&r.subscriptions.length>0){const _=r.subscriptions[0];console.log("AssignAgentModal - Order loaded:",{orderId:r.id,orderNo:r.orderNo,subscriptionsCount:r.subscriptions.length,firstSubAgencyId:_.agencyId,firstSubDeliveryInstructions:_.deliveryInstructions}),l(((S=_.agencyId)==null?void 0:S.toString())||"NONE"),u(_.deliveryInstructions||"")}else l("NONE"),u("")},[r]);const h=async()=>{if(!r)return;const S={orderId:r.id,agencyId:o!=="NONE"?parseInt(o,10):null,deliveryInstructions:d};console.log("AssignAgentModal - Submitting order-level update:",{orderId:r.id,orderNo:r.orderNo,subscriptionsCount:r.subscriptions.length,selectedAgencyId:o,updatedDetails:S});try{await i(S),t(!1)}catch(_){console.error("Failed to update order subscriptions in modal:",_)}};return!e||!r?null:s.jsx(as,{open:e,onOpenChange:t,children:s.jsxs(is,{className:"w-[95vw] max-w-4xl max-h-[90vh] sm:max-h-[85vh] flex flex-col p-4 sm:p-6",children:[s.jsxs(fs,{className:"space-y-2 sm:space-y-3",children:[s.jsxs(hs,{className:"text-lg sm:text-xl font-semibold pr-8",children:["Update Agent Assignment for Order: ",r.orderNo]}),s.jsxs(Ta,{className:"text-sm sm:text-base",children:["This will update the agent assignment for all ",r.subscriptions.length," subscription(s) in this order for"," ",s.jsx("span",{className:"font-medium",children:((g=(p=r.member)==null?void 0:p.user)==null?void 0:g.name)||"Unknown Member"}),". Only future deliveries will be affected."]})]}),s.jsx(Gc,{className:"absolute right-2 top-2 sm:right-4 sm:top-4 z-10 h-8 w-8 rounded-full hover:bg-gray-100 flex items-center justify-center",onClick:()=>t(!1),children:s.jsx(ai,{className:"h-4 w-4"})}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 py-2 sm:py-4 overflow-y-auto flex-grow",children:[s.jsxs("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg border border-blue-200",children:[s.jsx("h3",{className:"text-sm font-medium mb-2 text-blue-900",children:"Order Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 text-xs sm:text-sm",children:"Order Number"}),s.jsx("p",{className:"font-medium text-blue-900 text-sm sm:text-base",children:r.orderNo})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 text-xs sm:text-sm",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-blue-900 text-sm sm:text-base",children:["₹",r.totalAmount.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 text-xs sm:text-sm",children:"Payment Status"}),s.jsx("p",{className:"font-medium",children:s.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs ${r.paymentStatus==="PAID"?"bg-green-100 text-green-800":r.paymentStatus==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.paymentStatus})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 text-xs sm:text-sm",children:"Subscriptions"}),s.jsxs("p",{className:"font-medium text-blue-900 text-sm sm:text-base",children:[r.subscriptions.length," item(s)"]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Subscriptions in this Order"}),s.jsx("div",{className:"space-y-2 max-h-40 sm:max-h-48 overflow-y-auto",children:r.subscriptions.map((S,_)=>{var k,T,O;return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-2 bg-white rounded border gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full flex-shrink-0",children:_+1}),s.jsx("span",{className:"font-medium text-sm break-words",children:S.product.name}),s.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:S.deliverySchedule==="ALTERNATE_DAYS"?`×${S.qty}/${S.altQty??"-"}`:`×${S.qty}`})]}),s.jsxs("div",{className:"text-xs text-gray-500 sm:text-right",children:[s.jsx("span",{className:"sm:hidden font-medium",children:"Current Agent: "}),((T=(k=S.agency)==null?void 0:k.user)==null?void 0:T.name)||((O=S.agency)==null?void 0:O.name)||"Unassigned"]})]},S.id)})})]}),((y=r.subscriptions[0])==null?void 0:y.deliveryAddress)&&s.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Delivery Address"}),s.jsxs("div",{className:"grid gap-1 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[s.jsx("p",{className:"font-medium",children:r.subscriptions[0].deliveryAddress.recipientName}),r.subscriptions[0].deliveryAddress.label&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded w-fit",children:r.subscriptions[0].deliveryAddress.label})]}),s.jsxs("p",{className:"break-words",children:[r.subscriptions[0].deliveryAddress.plotBuilding,","," ",r.subscriptions[0].deliveryAddress.streetArea]}),r.subscriptions[0].deliveryAddress.landmark&&s.jsx("p",{className:"break-words",children:r.subscriptions[0].deliveryAddress.landmark}),s.jsxs("p",{children:[r.subscriptions[0].deliveryAddress.city,","," ",r.subscriptions[0].deliveryAddress.state," -"," ",r.subscriptions[0].deliveryAddress.pincode]}),s.jsxs("p",{className:"text-blue-600",children:["Mobile: ",r.subscriptions[0].deliveryAddress.mobile]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Member Details"}),s.jsxs("div",{className:"grid gap-1 text-xs sm:text-sm",children:[s.jsxs("p",{className:"break-words",children:[s.jsx("span",{className:"text-gray-500",children:"Name:"})," ",s.jsx("span",{className:"font-medium",children:((v=(w=r.member)==null?void 0:w.user)==null?void 0:v.name)||"N/A"})]}),s.jsxs("p",{className:"break-all",children:[s.jsx("span",{className:"text-gray-500",children:"Email:"})," ",s.jsx("span",{className:"font-medium",children:((j=(N=r.member)==null?void 0:N.user)==null?void 0:j.email)||"N/A"})]}),((E=(A=r.member)==null?void 0:A.user)==null?void 0:E.mobile)&&s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Mobile:"})," ",s.jsx("span",{className:"font-medium",children:r.member.user.mobile})]})]})]}),s.jsxs("fieldset",{className:"grid gap-3 sm:gap-4 border p-3 sm:p-4 rounded-md border-green-200 bg-green-50",children:[s.jsx("legend",{className:"text-sm font-medium px-1 text-green-900",children:"Update Agent Assignment for Future Deliveries"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-start sm:items-center gap-2 sm:gap-4",children:[s.jsx(ye,{htmlFor:"delivery-agent",className:"text-sm font-medium sm:text-right sm:col-span-1",children:"Agent"}),s.jsx("div",{className:"sm:col-span-3",children:s.jsxs(It,{value:o,onValueChange:l,disabled:a,children:[s.jsx(Lt,{id:"delivery-agent",className:"w-full",children:s.jsx(Ft,{placeholder:a?"Loading agents...":"Select agent"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"NONE",children:"Unassign / Not Assigned"}),n.map(S=>{var _;return s.jsx(Je,{value:S.id.toString(),children:((_=S.user)==null?void 0:_.name)||S.name},S.id)}),n.length===0&&!a&&s.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"No agents available."})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-start gap-2 sm:gap-4",children:[s.jsx(ye,{htmlFor:"delivery-instructions",className:"text-sm font-medium sm:text-right sm:col-span-1",children:"Instructions"}),s.jsxs("div",{className:"sm:col-span-3",children:[s.jsx(Hu,{id:"delivery-instructions",value:d,onChange:S=>u(S.target.value),className:"w-full min-h-[80px] sm:min-h-[100px] resize-none",placeholder:"Enter delivery instructions for all subscriptions in this order",maxLength:200}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[d.length,"/200 characters"]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex-shrink-0 mt-0.5",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full mx-auto mt-1"})}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Agent Assignment Policy"}),s.jsxs("p",{className:"text-xs leading-relaxed",children:["This will assign the agent to all subscriptions in this order.",s.jsx("span",{className:"font-medium",children:" Only future deliveries"})," will use the new agent assignment. Past and today's deliveries will keep their original agent assignments to preserve delivery history."]})]})]})})]})]}),s.jsxs(di,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0 pt-4 sm:pt-6",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>t(!1),className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),s.jsx(pe,{type:"button",onClick:h,disabled:a,className:"w-full sm:w-auto order-1 sm:order-2",children:a?"Loading...":"Update Agent Assignment"})]})]})})},Nke=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(1),[a,i]=m.useState(10),[o,l]=m.useState(0),[d,u]=m.useState(0),[h,p]=m.useState(!0),[g,y]=m.useState(null),[w,v]=m.useState(null),[N,j]=m.useState(!1),[A,E]=m.useState(!1),[S,_]=m.useState(!1),[k,T]=m.useState([]),[O,P]=m.useState(!1),[I]=m.useState(!1),[M,q]=m.useState(!1),[U,re]=m.useState(new Set),[te,B]=m.useState(null),[H,R]=m.useState(null),[X,W]=m.useState(!1),[Y,F]=m.useState({searchTerm:"",memberName:"",subscriptionDate:"",paymentStatus:"ALL",deliveryStatus:"",agencyId:"",productId:"",expiryStatus:"ALL"});m.useEffect(()=>{(async()=>{var de;try{const ke=localStorage.getItem("user");if(ke){const Pe=JSON.parse(ke);if(B(Pe.role),Pe.role==="SUPERVISOR"){W(!0);try{const Re=await xt("/users/me");console.log("supervisorinfo",Re),R((de=Re==null?void 0:Re.supervisor)!=null&&de.agencyId?String(Re.supervisor.agencyId):null)}catch(Re){console.error("Failed to fetch supervisor info:",Re),ce.error("Could not load supervisor details."),R(null)}W(!1)}}}catch(ke){console.error("Failed to parse user data from localStorage",ke)}})()},[]);const z=m.useCallback(async(fe=r,de=10,ke=Y,Pe=M)=>{var at,ze;p(!0);const Re=fe!==void 0?fe:r!==void 0?r:1,ie=de!==void 0?de:a!==void 0?a:10,be=ke||Y||{},De={};for(const[rt,Mt]of Object.entries(be)){if(Mt==null)continue;const Jt=String(Mt).trim();Jt===""||Jt.toLowerCase()==="all"||(rt==="memberName"?De.searchTerm=Jt:rt==="subscriptionDate"?De.startDate=Jt:De[rt]=Jt)}Pe&&(De.unassignedOnly="true"),te==="SUPERVISOR"&&H&&(De.supervisorAgencyId=H);const lt=new URLSearchParams({page:Re.toString(),limit:ie.toString(),...De}).toString();try{const rt=await xt(`/product-orders?${lt}`);if(t(rt.data||[]),l(rt.totalPages),n(rt.currentPage),u(rt.totalCount||0),rt.currentPage>rt.totalPages&&rt.totalPages>0&&(n(1),Re!==1)){z(1,ie,be,Pe);return}}catch(rt){console.error("Failed to fetch subscriptions:",rt);const Mt=((ze=(at=rt.response)==null?void 0:at.data)==null?void 0:ze.message)||rt.message||"Failed to fetch subscriptions.";ce.error(Mt),t([])}finally{p(!1)}},[r,a,Y,te,H,M]),K=m.useCallback(async()=>{var fe,de;P(!0);try{const ke=await xt("/agencies");T(ke.data||[])}catch(ke){console.error("Failed to fetch agencies:",ke);const Pe=((de=(fe=ke.response)==null?void 0:fe.data)==null?void 0:de.message)||ke.message||"Failed to load delivery agents.";ce.error(Pe),T([])}finally{P(!1)}},[]);m.useEffect(()=>{if(!(te==="SUPERVISOR"&&X)){if(te==="SUPERVISOR"&&!H&&!X){t([]),p(!1);return}z(r,a,Y,M)}},[z,r,a,Y,te,H,X,M]),m.useEffect(()=>{K()},[K]);const V=fe=>{n(fe),z(fe,a,Y,M)},ae=fe=>{i(fe),n(1),z(1,fe,Y,M)},Q=async fe=>{var Pe,Re;if(!g)return ce.error("No order selected for update."),!1;const{orderId:de,...ke}=fe;try{return await Zs(`/product-orders/${g.id}/payment`,ke),ce.success("Payment updated successfully!"),z(r,a,Y,M),!0}catch(ie){const be=((Re=(Pe=ie.response)==null?void 0:Pe.data)==null?void 0:Re.message)||"Failed to update payment.";return ce.error(be),console.error("Error updating payment:",ie),!1}},se=async fe=>{if(!w)return;const{orderId:de,agencyId:ke,deliveryInstructions:Pe}=fe,Re={agencyId:ke===void 0?null:Number(ke),deliveryInstructions:Pe};console.log("handleOrderAgentAssignmentUpdate - API call:",{orderId:de,orderNo:w.orderNo,subscriptionsCount:w.subscriptions.length,apiPayload:Re,endpoint:`/product-orders/${de}/assign-agent`});try{const ie=await Zs(`/product-orders/${de}/assign-agent`,Re);console.log("handleOrderAgentAssignmentUpdate - API response:",ie),ce.success(`Agent assigned to all ${w.subscriptions.length} subscription(s) in order ${w.orderNo}!`),z(r,a,Y,M)}catch(ie){console.error("Error assigning agent to order - Full error:",ie),ce.error("Failed to update order subscriptions.")}},Z=fe=>{fe&&(y(fe),j(!0))},le=fe=>{fe&&(v(fe),E(!0),K())},Te=()=>{_(!0),K()},Ee=async(fe,de)=>{try{await Kr("/subscriptions/bulk-assign-agency",{subscriptionIds:fe,agencyId:de}),ce.success(`Successfully assigned agency to ${fe.length} subscription(s)`),z(r,a,Y,M)}catch(ke){throw console.error("Bulk agency assignment failed:",ke),ce.error("Failed to assign agencies. Please try again."),ke}},Ze=async fe=>{var de,ke;if(!U.has(fe.id)){re(Pe=>new Set(Pe).add(fe.id));try{if(fe.invoicePath){const Re=`http://localhost:3000/invoices/${fe.invoicePath}`,ie=await fetch(Re);if(!ie.ok)throw new Error("Download failed");const be=await ie.blob(),De=window.URL.createObjectURL(be),lt=document.createElement("a");lt.href=De,lt.download=`invoice-${fe.invoiceNo||fe.orderNo}.pdf`,document.body.appendChild(lt),lt.click(),document.body.removeChild(lt),window.URL.revokeObjectURL(De),ce.success(`Invoice for order ${fe.orderNo} downloaded successfully`)}else ce.info("Invoice generation is not yet available. Please check back later or contact support.")}catch(Pe){console.error("Failed to download invoice:",Pe);const Re=((ke=(de=Pe.response)==null?void 0:de.data)==null?void 0:ke.message)||Pe.message||"Failed to download invoice. Please try again.";if(ce.error(Re),fe.invoicePath){const be=`http://localhost:3000/invoices/${fe.invoicePath}`;window.open(be,"_blank")}}finally{re(Pe=>{const Re=new Set(Pe);return Re.delete(fe.id),Re})}}},Be=fe=>({MONDAY:"Mon",TUESDAY:"Tue",WEDNESDAY:"Wed",THURSDAY:"Thu",FRIDAY:"Fri",SATURDAY:"Sat",SUNDAY:"Sun"})[fe.toUpperCase()]||fe,Ie=(fe,de=50)=>fe?fe.length<=de?fe:fe.substring(0,de)+"...":"",Ne=(fe,de)=>{const ke=fe.replace(/_/g," ").replace(/\b\w/g,ie=>ie.toUpperCase());let Pe=[],Re=!1;if((fe==="WEEKDAYS"||fe==="SELECT_DAYS"||fe==="VARYING")&&(Re=!0,de))try{const ie=JSON.parse(de);Array.isArray(ie)&&ie.length>0&&(Pe=ie.map(be=>be.toString().toUpperCase()))}catch(ie){console.error("Error parsing weekdays JSON:",de,ie)}return{scheduleType:ke,weekdaysArray:Pe,isSpecificDays:Re}};return s.jsxs("div",{className:"container mx-auto p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin - Subscriptions Management"}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsxs(pe,{variant:M?"default":"outline",onClick:()=>{q(!M),n(1)},className:"flex items-center gap-2",children:[s.jsx(fP,{className:"h-4 w-4"}),M?"Show All":"Unassigned Only"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"h-4 w-4 text-gray-500"}),s.jsxs(It,{value:Y.expiryStatus||"ALL",onValueChange:fe=>{F(de=>({...de,expiryStatus:fe})),n(1)},children:[s.jsx(Lt,{className:"w-40",children:s.jsx(Ft,{placeholder:"Expiry Status"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"ALL",children:"All"}),s.jsx(Je,{value:"NOT_EXPIRED",children:"Not Expired"}),s.jsx(Je,{value:"EXPIRED",children:"Expired"})]})]})]}),s.jsxs(pe,{onClick:Te,className:"flex items-center gap-2",children:[s.jsx(tL,{className:"h-4 w-4"}),"Bulk Assign Agencies"]})]})]}),!1,s.jsxs("div",{className:"mb-4 flex flex-wrap justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:!h&&d>0&&s.jsxs(s.Fragment,{children:["Showing ",(r-1)*a+1,"-",Math.min(r*a,d)," of ",d," orders",M&&" (unassigned only)",Y.expiryStatus==="EXPIRED"&&" (expired only)",Y.expiryStatus==="NOT_EXPIRED"&&" (not expired)",Y.expiryStatus==="ALL"&&" (all records)"]})}),s.jsxs("div",{className:"flex flex-wrap items-center space-x-2 mt-2",children:[s.jsx("span",{className:"text-sm",children:"Items per page:"}),s.jsxs(It,{value:a.toString(),onValueChange:fe=>ae(Number(fe)),children:[s.jsx(Lt,{className:"w-20",children:s.jsx(Ft,{placeholder:a.toString()})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"10",children:"10"}),s.jsx(Je,{value:"20",children:"20"}),s.jsx(Je,{value:"50",children:"50"}),s.jsx(Je,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"bg-transparent",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h?Array.from({length:a}).map((fe,de)=>s.jsx("div",{className:"bg-white rounded-xl border shadow-sm p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ot,{className:"h-4 w-3/4"}),s.jsx(Ot,{className:"h-4 w-1/2"}),s.jsx(Ot,{className:"h-4 w-full"}),s.jsx(Ot,{className:"h-4 w-2/3"})]})},`skeleton-${de}`)):e.length>0?e.map(fe=>{var ie,be,De,lt,at,ze,rt,Mt,Jt,Br,ls,xs,vt,kr;const de=(ie=fe.subscriptions)==null?void 0:ie[0],ke=new Date;ke.setHours(0,0,0,0);const Pe=fe.subscriptions.some($t=>{if(!$t.expiryDate)return!1;const Dr=new Date($t.expiryDate);return Dr.setHours(0,0,0,0),Dr<ke}),Re=fe.paymentStatus==="CANCELLED"||fe.subscriptions.some($t=>$t.paymentStatus==="CANCELLED");return s.jsx("div",{className:`rounded-xl border shadow-sm hover:shadow-md transition-shadow p-6 ${Re?"opacity-60 bg-gray-50 border-gray-300":Pe?"bg-red-50 border-red-200 opacity-75":"bg-white"}`,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border-b pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-gray-100 border-2 border-dashed rounded-xl w-10 h-10 flex items-center justify-center",children:s.jsx(Pw,{className:"h-5 w-5 text-gray-400"})}),s.jsxs("div",{children:[s.jsxs("div",{className:`font-medium flex items-center gap-2 ${Re?"line-through text-gray-500":Pe?"text-red-700":"text-gray-900"}`,children:[((De=(be=fe.member)==null?void 0:be.user)==null?void 0:De.name)||"N/A",Re&&s.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full font-normal",children:"CANCELLED"}),Pe&&!Re&&s.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full font-normal",children:"EXPIRED"})]}),s.jsxs("div",{className:"flex flex-col gap-1 mt-1 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(JF,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:((at=(lt=fe==null?void 0:fe.member)==null?void 0:lt.user)==null?void 0:at.mobile)||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(xT,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"truncate max-w-[120px]",children:((rt=(ze=fe.member)==null?void 0:ze.user)==null?void 0:rt.email)||"N/A"})]})]})]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"flex flex-wrap gap-1.5",children:fe.subscriptions.map($t=>{var Dr,qr;return s.jsxs("div",{className:`px-2.5 py-1 rounded-full flex items-center gap-1.5 text-xs ${$t.paymentStatus==="CANCELLED"?"line-through opacity-60 bg-gray-100 text-gray-500":Pe?"bg-red-100 text-red-700":"bg-blue-50 text-blue-700"}`,children:[s.jsx(Va,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"font-medium",children:(Dr=$t.product)==null?void 0:Dr.name}),s.jsx("span",{children:$t.deliverySchedule==="ALTERNATE_DAYS"?`×${$t.qty}/${$t.altQty??"-"}`:`×${$t.qty}`}),s.jsx("span",{className:"text-blue-600",children:((qr=$t.depotProductVariant)==null?void 0:qr.name)||""})]},$t.id)})}),s.jsxs("div",{className:"flex items-center gap-3 text-sm mt-1",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-1 rounded",children:[s.jsx(lh,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{children:[fe.subscriptions.length," item",fe.subscriptions.length>1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx(wg,{className:"h-4 w-4"}),s.jsx("span",{children:(fe.payableamt||0).toFixed(2)})]})]})]})}),s.jsxs("div",{children:[s.jsxs("h3",{className:`text-sm font-semibold mb-2 ${Pe?"text-red-700":"text-gray-700"}`,children:["Delivery Schedule",Pe&&s.jsx("span",{className:"ml-2 text-xs text-red-600 font-normal",children:"(Expired)"})]}),s.jsx("div",{className:"flex flex-col gap-1.5",children:fe.subscriptions.map($t=>{var fr,ar,hr,we,ct;const{weekdaysArray:Dr,isSpecificDays:qr}=Ne($t.deliverySchedule,$t.weekdays),Tt=$t.deliverySchedule==="DAILY"?"Daily":$t.deliverySchedule==="WEEKDAYS"?"Weekdays Only":$t.deliverySchedule==="WEEKENDS"?"Weekends":$t.deliverySchedule==="ALTERNATE_DAYS"?"Alternate_days":$t.deliverySchedule==="DAY1_DAY2"?"Daily (Varying Qty)":"Custom",ur={1:"Buy Once",3:"Trial Pack",7:"Mid Saver Pack",15:"Mid Saver Pack",30:"Super Saver Pack"};return s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-700 mb-1",children:`${Tt} - ${ur[$t.period]}`}),$t.deliverySchedule==="ALTERNATE_DAYS"&&($t.qty||$t.altQty)?s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-secondary rounded-full"}),s.jsxs("span",{className:"text-blue-700 font-medium",children:[$t.qty," -"," ",((fr=$t.depotProductVariant)==null?void 0:fr.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400",children:"•"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),s.jsxs("span",{className:"text-green-700 font-medium",children:[$t.altQty," -"," ",((ar=$t.depotProductVariant)==null?void 0:ar.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400 text-xs italic ml-1",children:"skip day pattern"})]}):$t.deliverySchedule==="DAY1_DAY2"&&($t.qty||$t.altQty)?s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-secondary rounded-full"}),s.jsxs("span",{className:"text-blue-700 font-medium",children:[$t.qty," -"," ",((hr=$t.depotProductVariant)==null?void 0:hr.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400",children:"•"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),s.jsxs("span",{className:"text-green-700 font-medium",children:[$t.altQty," -"," ",((we=$t.depotProductVariant)==null?void 0:we.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400 text-xs italic ml-1",children:"daily rotation"})]}):$t.qty&&s.jsxs("div",{className:"text-xs text-gray-600",children:[$t.qty," -"," ",((ct=$t.depotProductVariant)==null?void 0:ct.name)||"units",$t.deliverySchedule==="DAILY"?" daily":$t.deliverySchedule==="WEEKDAYS"?" on weekdays":$t.deliverySchedule==="WEEKENDS"?" on weekends":" per delivery"]}),qr&&Dr.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Dr.map((ft,Et)=>s.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded bg-blue-100 text-blue-700",children:Be(ft)},Et))})]},$t.id)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Payment Status"}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${fe.paymentStatus==="PAID"?Pe?"bg-red-100 text-red-800":"bg-green-100 text-green-800":fe.paymentStatus==="PENDING"?Pe?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800":(fe.paymentStatus==="CANCELLED","bg-red-100 text-red-800")} ${fe.paymentStatus==="CANCELLED"?"line-through":""}`,children:fe.paymentStatus}),console.log("order",(Jt=(Mt=fe==null?void 0:fe.subscriptions)==null?void 0:Mt[0])==null?void 0:Jt.deliveryAddressId),s.jsx("p",{children:(ls=(Br=fe==null?void 0:fe.subscriptions)==null?void 0:Br[0])!=null&&ls.deliveryAddressId?"Home Delivery":"Store Pickup"}),s.jsx("div",{className:`text-xs mt-1 ${Pe?"text-red-600":"text-gray-500"}`,children:Pe&&!Re?"Subscription expired":fe.paymentStatus==="PAID"?"Payment completed":fe.paymentStatus==="PENDING"?"Processing payment":"Payment required"}),(de==null?void 0:de.deliveryInstructions)&&s.jsx("div",{className:"mt-2 border-t pt-2",children:s.jsxs("div",{className:"flex items-start gap-1.5",children:[s.jsx(gJ,{className:"h-3.5 w-3.5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsx(qg,{children:s.jsxs(Jm,{children:[s.jsx(ep,{asChild:!0,children:s.jsx("div",{className:"text-xs text-gray-600 cursor-help",children:Ie(de.deliveryInstructions,40)})}),s.jsx(tp,{side:"left",className:"max-w-xs",children:s.jsx("p",{className:"whitespace-pre-wrap",children:de.deliveryInstructions})})]})})]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-semibold mb-2 ${Pe?"text-red-700":"text-gray-700"}`,children:"Subscription Dates"}),de?s.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ra,{className:`h-4 w-4 flex-shrink-0 ${Pe?"text-red-500":"text-gray-500"}`}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`text-xs ${Pe?"text-red-500":"text-gray-500"}`,children:"Start"}),s.jsx("span",{className:Pe?"text-red-700":"",children:Rt(new Date(de.startDate),"dd MMM yyyy")})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(aZ,{className:`h-4 w-4 flex-shrink-0 ${Pe?"text-red-500":"text-gray-500"}`}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`text-xs ${Pe?"text-red-500":"text-gray-500"}`,children:"End Date"}),s.jsxs("span",{className:Pe?"text-red-700 font-medium":"",children:[de.expiryDate?Rt(new Date(de.expiryDate),"dd MMM yyyy"):"N/A",Pe&&s.jsx("span",{className:"ml-2 text-xs text-red-600",children:"(Expired)"})]})]})]})]}):s.jsx("span",{className:"text-sm text-gray-500",children:"No subscription"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-semibold mb-2 ${Pe?"text-red-700":"text-gray-700"}`,children:"Assigned Agent"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`rounded-full p-1.5 ${Pe?"bg-red-100":"bg-gray-100"}`,children:s.jsx(tee,{className:`h-4 w-4 ${Pe?"text-red-500":"text-gray-500"}`})}),s.jsx("span",{className:`text-sm ${Pe?"text-red-700":""}`,children:((vt=(xs=de==null?void 0:de.agency)==null?void 0:xs.user)==null?void 0:vt.name)||((kr=de==null?void 0:de.agency)==null?void 0:kr.name)||s.jsx("span",{className:Pe?"text-red-400":"text-gray-400",children:"Unassigned"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-semibold mb-2 ${Pe?"text-red-700":"text-gray-700"}`,children:"Actions"}),Re?s.jsx("div",{className:"flex items-center justify-center p-4 bg-gray-100 rounded-md",children:s.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Order has been cancelled - No actions available"})}):Pe?s.jsx("div",{className:"flex items-center justify-center p-4 bg-red-100 rounded-md",children:s.jsx("span",{className:"text-sm text-red-700 font-medium",children:"Subscription has expired - Limited actions available"})}):s.jsx("div",{className:"flex justify-start gap-1.5",children:s.jsxs(qg,{children:[s.jsxs(Jm,{children:[s.jsx(ep,{asChild:!0,children:s.jsx(pe,{variant:"outline",size:"icon",className:`h-8 w-8 rounded-full ${Pe?"bg-red-50 hover:bg-red-100 border-red-200":"bg-white hover:bg-gray-50"}`,onClick:()=>Z(fe),disabled:fe.paymentStatus==="PAID"||Pe,children:s.jsx(Va,{className:`h-4 w-4 ${Pe?"text-red-400":""}`})})}),s.jsx(tp,{side:"top",children:s.jsx("p",{children:Pe?"Cannot update payment for expired subscription":"Update Payment"})})]}),s.jsxs(Jm,{children:[s.jsx(ep,{asChild:!0,children:s.jsx(pe,{variant:"outline",size:"icon",className:`h-8 w-8 rounded-full ${Pe?"bg-red-50 hover:bg-red-100 border-red-200":"bg-white hover:bg-gray-50"}`,onClick:()=>le(fe),disabled:fe.paymentStatus!=="PAID"||Pe,children:s.jsx(fP,{className:`h-4 w-4 ${Pe?"text-red-400":""}`})})}),s.jsx(tp,{side:"top",children:s.jsx("p",{children:Pe?"Cannot assign agent to expired subscription":fe.paymentStatus!=="PAID"?"Complete payment first":fe.subscriptions.some($t=>$t.agencyId)?"Update Agent Assignment (Future Deliveries Only)":"Assign Agent to Order (Future Deliveries Only)"})})]}),s.jsxs(Jm,{children:[s.jsx(ep,{asChild:!0,children:s.jsx(pe,{variant:"outline",size:"icon",className:`h-8 w-8 rounded-full ${Pe?"bg-red-50 hover:bg-red-100 border-red-200":"bg-white hover:bg-gray-50"}`,onClick:()=>Ze(fe),disabled:U.has(fe.id),children:U.has(fe.id)?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}):s.jsx(oc,{className:`h-4 w-4 ${Pe?"text-red-400":""}`})})}),s.jsx(tp,{side:"top",children:s.jsx("p",{children:U.has(fe.id)?"Downloading...":Pe?"Download Invoice (Expired Subscription)":fe.paymentStatus!=="PAID"?"Invoice available after payment":"Download Invoice"})})]})]})})]})]})},fe.id)}):s.jsx("div",{className:"md:col-span-2 flex items-center justify-center p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(Va,{className:"h-10 w-10 text-gray-300"}),s.jsx("div",{className:"text-gray-600",children:"No subscriptions found"}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Start by creating a new subscription"})]})})}),o>1&&s.jsxs("div",{className:"mt-6 flex justify-center items-center space-x-2",children:[s.jsx(pe,{onClick:()=>V(r-1),disabled:r===1,variant:"outline",children:"Previous"}),s.jsxs("span",{className:"text-sm",children:["Page ",r," of ",o]}),s.jsx(pe,{onClick:()=>V(r+1),disabled:r===o,variant:"outline",children:"Next"})]})]}),g&&s.jsx(bke,{isOpen:N,onOpenChange:j,order:g,onUpdateOrder:Q}),w&&s.jsx(wke,{isOpen:A,onOpenChange:E,order:w,agencies:k,isLoadingAgencies:O,onUpdateOrderSubscriptions:se}),s.jsx(yke,{isOpen:S,onOpenChange:_,subscriptions:e.flatMap(fe=>fe.subscriptions),agencies:k,isLoadingAgencies:O,onBulkUpdateSubscriptions:Ee})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var fw={};fw.version="0.18.5";var MH=1252,jke=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],IH=function(e){jke.indexOf(e)!=-1&&(MH=e)};function Ske(){IH(1252)}var iy=function(e){IH(e)};function Eke(){iy(1200),Ske()}var Yb=function(t){return String.fromCharCode(t)},f6=function(t){return String.fromCharCode(t)},h6,Du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function oy(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,d=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,d=a&63,isNaN(n)?l=d=64:isNaN(a)&&(d=64),t+=Du.charAt(i)+Du.charAt(o)+Du.charAt(l)+Du.charAt(d);return t}function fd(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Du.indexOf(e.charAt(u++)),o=Du.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Du.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),d=Du.indexOf(e.charAt(u++)),a=(l&3)<<6|d,d!==64&&(t+=String.fromCharCode(a));return t}var ps=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Nd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Eh(e){return ps?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function m6(e){return ps?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var rl=function(t){return ps?Nd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function FN(e){if(typeof ArrayBuffer>"u")return rl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function iv(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Ake(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Na=ps?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Nd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Cke(e){for(var t=[],r=0,n=e.length+250,a=Eh(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Eh(65535),n=65530)}return t.push(a.slice(0,r)),Na(t)}var dg=/\u0000/g,Kb=/[\u0001-\u0006]/g;function Np(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function nl(e,t){var r=""+e;return r.length>=t?r:xn("0",t-r.length)+r}function K_(e,t){var r=""+e;return r.length>=t?r:xn(" ",t-r.length)+r}function hw(e,t){var r=""+e;return r.length>=t?r:r+xn(" ",t-r.length)}function Tke(e,t){var r=""+Math.round(e);return r.length>=t?r:xn("0",t-r.length)+r}function _ke(e,t){var r=""+e;return r.length>=t?r:xn("0",t-r.length)+r}var p6=Math.pow(2,32);function Lm(e,t){if(e>p6||e<-p6)return Tke(e,t);var r=Math.round(e);return _ke(r,t)}function mw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var x6=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],FE=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function kke(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var gn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},g6={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Dke={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function pw(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,d=1,u=0,h=0,p=Math.floor(a);u<t&&(p=Math.floor(a),l=p*o+i,h=p*u+d,!(a-p<5e-8));)a=1/(a-p),i=o,o=l,d=u,u=h;if(h>t&&(u>t?(h=d,l=i):(h=u,l=o)),!r)return[0,n*l,h];var g=Math.floor(n*l/h);return[g,n*l-g*h,h]}function Xb(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],i=d.getDay(),n<60&&(i=(i+6)%7),r&&(i=Lke(d,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var FH=new Date(1899,11,31,0,0,0),Oke=FH.getTime(),Pke=new Date(1900,2,1,0,0,0);function LH(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Pke&&(r+=24*60*60*1e3),(r-(Oke+(e.getTimezoneOffset()-FH.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function X_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Rke(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Mke(e){var t=e<0?12:11,r=X_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Ike(e){var t=X_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Fke(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Mke(e):t===10?r=e.toFixed(10).substr(0,12):r=Ike(e),X_(Rke(r.toUpperCase()))}function QC(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Fke(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Xu(14,LH(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Lke(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Bke(e,t,r,n){var a="",i=0,o=0,l=r.y,d,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:d=l%100,u=2;break;default:d=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:d=r.m,u=t.length;break;case 3:return FE[r.m-1][1];case 5:return FE[r.m-1][0];default:return FE[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:d=r.d,u=t.length;break;case 3:return x6[r.q][0];default:return x6[r.q][1]}break;case 104:switch(t.length){case 1:case 2:d=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:d=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:d=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?nl(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=nl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:d=l,u=1;break}var h=u>0?nl(d,u):"";return h}function Ou(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var BH=/%/g;function $ke(e,t,r){var n=t.replace(BH,""),a=t.length-n.length;return Xc(e,n,r*Math.pow(10,2*a))+xn("%",a)}function Uke(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function $H(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+$H(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,d,u,h){return d+u+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var UH=/# (\?+)( ?)\/( ?)(\d+)/;function Vke(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?xn(" ",e[1].length+1+e[4].length):K_(o,e[1].length)+e[2]+"/"+e[3]+nl(l,e[4].length))}function qke(e,t,r){return r+(t===0?"":""+t)+xn(" ",e[1].length+2+e[4].length)}var VH=/^#*0*\.([0#]+)/,qH=/\).*[0#]/,zH=/\(###\) ###\\?-####/;function ei(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function y6(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function v6(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function zke(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Hke(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function mo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(qH)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?mo("n",n,r):"("+mo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Uke(e,t,r);if(t.indexOf("%")!==-1)return $ke(e,t,r);if(t.indexOf("E")!==-1)return $H(t,r);if(t.charCodeAt(0)===36)return"$"+mo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,d=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Lm(d,t.length);if(t.match(/^[#?]+$/))return a=Lm(r,0),a==="0"&&(a=""),a.length>t.length?a:ei(t.substr(0,t.length-a.length))+a;if(i=t.match(UH))return Vke(i,d,u);if(t.match(/^#+0+$/))return u+Lm(d,t.length-t.indexOf("0"));if(i=t.match(VH))return a=y6(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ei(i[1])).replace(/\.$/,"."+ei(i[1])).replace(/\.(\d*)$/,function(w,v){return"."+v+xn("0",ei(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+y6(d,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Ou(Lm(d,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+mo(e,t,-r):Ou(""+(Math.floor(r)+zke(r,i[1].length)))+"."+nl(v6(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return mo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Np(mo(e,t.replace(/[\\-]/g,""),r)),o=0,Np(Np(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<a.length?a.charAt(o++):w==="0"?"0":""}));if(t.match(zH))return a=mo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=pw(d,Math.pow(10,o)-1,!1),a=""+u,h=Xc("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=hw(l[2],o),h.length<i[4].length&&(h=ei(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=pw(d,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?K_(l[1],o)+i[2]+"/"+i[3]+hw(l[2],o):xn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Lm(r,0),t.length<=a.length?a:ei(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var p=t.indexOf(".")-o,g=t.length-a.length-p;return ei(t.substr(0,p)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=v6(r,i[1].length),r<0?"-"+mo(e,t,-r):Ou(Hke(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?nl(0,3-w.length):"")+w})+"."+nl(o,i[1].length);switch(t){case"###,##0.00":return mo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var y=Ou(Lm(d,0));return y!=="0"?u+y:"";case"###,###.00":return mo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return mo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Wke(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Gke(e,t,r){var n=t.replace(BH,""),a=t.length-n.length;return Xc(e,n,r*Math.pow(10,2*a))+xn("%",a)}function HH(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+HH(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,d,u,h){return d+u+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ml(e,t,r){if(e.charCodeAt(0)===40&&!t.match(qH)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ml("n",n,r):"("+Ml("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Wke(e,t,r);if(t.indexOf("%")!==-1)return Gke(e,t,r);if(t.indexOf("E")!==-1)return HH(t,r);if(t.charCodeAt(0)===36)return"$"+Ml(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,d=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+nl(d,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ei(t.substr(0,t.length-a.length))+a;if(i=t.match(UH))return qke(i,d,u);if(t.match(/^#+0+$/))return u+nl(d,t.length-t.indexOf("0"));if(i=t.match(VH))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ei(i[1])).replace(/\.$/,"."+ei(i[1])),a=a.replace(/\.(\d*)$/,function(w,v){return"."+v+xn("0",ei(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Ou(""+d);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ml(e,t,-r):Ou(""+r)+"."+xn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ml(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Np(Ml(e,t.replace(/[\\-]/g,""),r)),o=0,Np(Np(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<a.length?a.charAt(o++):w==="0"?"0":""}));if(t.match(zH))return a=Ml(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=pw(d,Math.pow(10,o)-1,!1),a=""+u,h=Xc("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=hw(l[2],o),h.length<i[4].length&&(h=ei(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=pw(d,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?K_(l[1],o)+i[2]+"/"+i[3]+hw(l[2],o):xn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ei(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var p=t.indexOf(".")-o,g=t.length-a.length-p;return ei(t.substr(0,p)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ml(e,t,-r):Ou(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?nl(0,3-w.length):"")+w})+"."+nl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var y=Ou(""+d);return y!=="0"?u+y:"";default:if(t.match(/\.[0#?]*$/))return Ml(e,t.slice(0,t.lastIndexOf(".")),r)+ei(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Xc(e,t,r){return(r|0)===r?Ml(e,t,r):mo(e,t,r)}function Yke(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var WH=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function GH(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":mw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(WH))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Kke(e,t,r,n){for(var a=[],i="",o=0,l="",d="t",u,h,p,g="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!mw(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(p=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(p);a[a.length]={t:"t",v:i},++o;break;case"\\":var y=e.charAt(++o),w=y==="("||y===")"?y:"t";a[a.length]={t:w,v:y},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Xb(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},d=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Xb(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&d.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=g),a[a.length]={t:l,v:i},d=l;break;case"A":case"a":case"上":var v={t:l,v:l};if(u==null&&(u=Xb(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(v.v=u.H>=12?"下午":"上午"),v.t="T",o+=5,g="h"):(v.t="t",++o),u==null&&v.t==="T")return"";a[a.length]=v,d=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(WH)){if(u==null&&(u=Xb(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},d=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",GH(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},d=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var N=0,j=0,A;for(o=a.length-1,d="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=g,d="h",N<1&&(N=1);break;case"s":(A=a[o].v.match(/\.0+$/))&&(j=Math.max(j,A[0].length-1)),N<3&&(N=3);case"d":case"y":case"M":case"e":d=a[o].t;break;case"m":d==="s"&&(a[o].t="M",N<2&&(N=2));break;case"X":break;case"Z":N<1&&a[o].v.match(/[Hh]/)&&(N=1),N<2&&a[o].v.match(/[Mm]/)&&(N=2),N<3&&a[o].v.match(/[Ss]/)&&(N=3)}switch(N){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var E="",S;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=Bke(a[o].t.charCodeAt(0),a[o].v,u,j),a[o].t="t";break;case"n":case"?":for(S=o+1;a[S]!=null&&((l=a[S].t)==="?"||l==="D"||(l===" "||l==="t")&&a[S+1]!=null&&(a[S+1].t==="?"||a[S+1].t==="t"&&a[S+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[S].v==="/"||a[S].v===" "&&a[S+1]!=null&&a[S+1].t=="?"));)a[o].v+=a[S].v,a[S]={v:"",t:";"},++S;E+=a[o].v,o=S-1;break;case"G":a[o].t="t",a[o].v=QC(t,r);break}var _="",k,T;if(E.length>0){E.charCodeAt(0)==40?(k=t<0&&E.charCodeAt(0)===45?-t:t,T=Xc("n",E,k)):(k=t<0&&n>1?-t:t,T=Xc("n",E,k),k<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),S=T.length-1;var O=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){O=o;break}var P=a.length;if(O===a.length&&T.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(S>=a[o].v.length-1?(S-=a[o].v.length,a[o].v=T.substr(S+1,a[o].v.length)):S<0?a[o].v="":(a[o].v=T.substr(0,S+1),S=-1),a[o].t="t",P=o);S>=0&&P<a.length&&(a[P].v=T.substr(0,S+1)+a[P].v)}else if(O!==a.length&&T.indexOf("E")===-1){for(S=T.indexOf(".")-1,o=O;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(h=a[o].v.indexOf(".")>-1&&o===O?a[o].v.indexOf(".")-1:a[o].v.length-1,_=a[o].v.substr(h+1);h>=0;--h)S>=0&&(a[o].v.charAt(h)==="0"||a[o].v.charAt(h)==="#")&&(_=T.charAt(S--)+_);a[o].v=_,a[o].t="t",P=o}for(S>=0&&P<a.length&&(a[P].v=T.substr(0,S+1)+a[P].v),S=T.indexOf(".")+1,o=O;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==O)){for(h=a[o].v.indexOf(".")>-1&&o===O?a[o].v.indexOf(".")+1:0,_=a[o].v.substr(0,h);h<a[o].v.length;++h)S<T.length&&(_+=T.charAt(S++));a[o].v=_,a[o].t="t",P=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(k=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Xc(a[o].t,a[o].v,k),a[o].t="t");var I="";for(o=0;o!==a.length;++o)a[o]!=null&&(I+=a[o].v);return I}var b6=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function w6(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Xke(e,t){var r=Yke(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(b6),l=r[1].match(b6);return w6(t,o)?[n,r[0]]:w6(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function Xu(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:gn)[e],n==null&&(n=r.table&&r.table[g6[e]]||gn[g6[e]]),n==null&&(n=Dke[e]||"General");break}if(mw(n,0))return QC(t,r);t instanceof Date&&(t=LH(t,r.date1904));var a=Xke(n,t);if(mw(a[1]))return QC(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Kke(a[1],t,r,a[0])}function YH(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(gn[r]==null){t<0&&(t=r);continue}if(gn[r]==e){t=r;break}}t<0&&(t=391)}return gn[t]=e,t}function LN(e){for(var t=0;t!=392;++t)e[t]!==void 0&&YH(e[t],t)}function BN(){gn=kke()}var KH=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Qke(e){var t=typeof e=="number"?gn[e]:e;return t=t.replace(KH,"(\\d+)"),new RegExp("^"+t+"$")}function Zke(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,d=-1;(t.match(KH)||[]).forEach(function(p,g){var y=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=y;break;case"d":i=y;break;case"h":o=y;break;case"s":d=y;break;case"m":o>=0?l=y:a=y;break}}),d>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&l==-1&&d==-1?u:n==-1&&a==-1&&i==-1?h:u+"T"+h}var Jke=function(){var e={};e.version="1.2.0";function t(){for(var T=0,O=new Array(256),P=0;P!=256;++P)T=P,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,O[P]=T;return typeof Int32Array<"u"?new Int32Array(O):O}var r=t();function n(T){var O=0,P=0,I=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)M[I]=T[I];for(I=0;I!=256;++I)for(P=T[I],O=256+I;O<4096;O+=256)P=M[O]=P>>>8^T[P&255];var q=[];for(I=1;I!=16;++I)q[I-1]=typeof Int32Array<"u"?M.subarray(I*256,I*256+256):M.slice(I*256,I*256+256);return q}var a=n(r),i=a[0],o=a[1],l=a[2],d=a[3],u=a[4],h=a[5],p=a[6],g=a[7],y=a[8],w=a[9],v=a[10],N=a[11],j=a[12],A=a[13],E=a[14];function S(T,O){for(var P=O^-1,I=0,M=T.length;I<M;)P=P>>>8^r[(P^T.charCodeAt(I++))&255];return~P}function _(T,O){for(var P=O^-1,I=T.length-15,M=0;M<I;)P=E[T[M++]^P&255]^A[T[M++]^P>>8&255]^j[T[M++]^P>>16&255]^N[T[M++]^P>>>24]^v[T[M++]]^w[T[M++]]^y[T[M++]]^g[T[M++]]^p[T[M++]]^h[T[M++]]^u[T[M++]]^d[T[M++]]^l[T[M++]]^o[T[M++]]^i[T[M++]]^r[T[M++]];for(I+=15;M<I;)P=P>>>8^r[(P^T[M++])&255];return~P}function k(T,O){for(var P=O^-1,I=0,M=T.length,q=0,U=0;I<M;)q=T.charCodeAt(I++),q<128?P=P>>>8^r[(P^q)&255]:q<2048?(P=P>>>8^r[(P^(192|q>>6&31))&255],P=P>>>8^r[(P^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,U=T.charCodeAt(I++)&1023,P=P>>>8^r[(P^(240|q>>8&7))&255],P=P>>>8^r[(P^(128|q>>2&63))&255],P=P>>>8^r[(P^(128|U>>6&15|(q&3)<<4))&255],P=P>>>8^r[(P^(128|U&63))&255]):(P=P>>>8^r[(P^(224|q>>12&15))&255],P=P>>>8^r[(P^(128|q>>6&63))&255],P=P>>>8^r[(P^(128|q&63))&255]);return~P}return e.table=r,e.bstr=S,e.buf=_,e.str=k,e}(),Ds=function(){var t={};t.version="1.2.1";function r(ee,xe){for(var ue=ee.split("/"),he=xe.split("/"),ge=0,me=0,Me=Math.min(ue.length,he.length);ge<Me;++ge){if(me=ue[ge].length-he[ge].length)return me;if(ue[ge]!=he[ge])return ue[ge]<he[ge]?-1:1}return ue.length-he.length}function n(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:n(ee.slice(0,-1));var xe=ee.lastIndexOf("/");return xe===-1?ee:ee.slice(0,xe+1)}function a(ee){if(ee.charAt(ee.length-1)=="/")return a(ee.slice(0,-1));var xe=ee.lastIndexOf("/");return xe===-1?ee:ee.slice(xe+1)}function i(ee,xe){typeof xe=="string"&&(xe=new Date(xe));var ue=xe.getHours();ue=ue<<6|xe.getMinutes(),ue=ue<<5|xe.getSeconds()>>>1,ee.write_shift(2,ue);var he=xe.getFullYear()-1980;he=he<<4|xe.getMonth()+1,he=he<<5|xe.getDate(),ee.write_shift(2,he)}function o(ee){var xe=ee.read_shift(2)&65535,ue=ee.read_shift(2)&65535,he=new Date,ge=ue&31;ue>>>=5;var me=ue&15;ue>>>=4,he.setMilliseconds(0),he.setFullYear(ue+1980),he.setMonth(me-1),he.setDate(ge);var Me=xe&31;xe>>>=5;var Qe=xe&63;return xe>>>=6,he.setHours(xe),he.setMinutes(Qe),he.setSeconds(Me<<1),he}function l(ee){zi(ee,0);for(var xe={},ue=0;ee.l<=ee.length-4;){var he=ee.read_shift(2),ge=ee.read_shift(2),me=ee.l+ge,Me={};switch(he){case 21589:ue=ee.read_shift(1),ue&1&&(Me.mtime=ee.read_shift(4)),ge>5&&(ue&2&&(Me.atime=ee.read_shift(4)),ue&4&&(Me.ctime=ee.read_shift(4))),Me.mtime&&(Me.mt=new Date(Me.mtime*1e3));break}ee.l=me,xe[he]=Me}return xe}var d;function u(){return d||(d={})}function h(ee,xe){if(ee[0]==80&&ee[1]==75)return ur(ee,xe);if((ee[0]|32)==109&&(ee[1]|32)==105)return lr(ee,xe);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var ue=3,he=512,ge=0,me=0,Me=0,Qe=0,Fe=0,qe=[],We=ee.slice(0,512);zi(We,0);var mt=p(We);switch(ue=mt[0],ue){case 3:he=512;break;case 4:he=4096;break;case 0:if(mt[1]==0)return ur(ee,xe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ue)}he!==512&&(We=ee.slice(0,he),zi(We,28));var bt=ee.slice(0,he);g(We,ue);var J=We.read_shift(4,"i");if(ue===3&&J!==0)throw new Error("# Directory Sectors: Expected 0 saw "+J);We.l+=4,Me=We.read_shift(4,"i"),We.l+=4,We.chk("00100000","Mini Stream Cutoff Size: "),Qe=We.read_shift(4,"i"),ge=We.read_shift(4,"i"),Fe=We.read_shift(4,"i"),me=We.read_shift(4,"i");for(var ve=-1,Ae=0;Ae<109&&(ve=We.read_shift(4,"i"),!(ve<0));++Ae)qe[Ae]=ve;var tt=y(ee,he);N(Fe,me,tt,he,qe);var pt=A(tt,Me,qe,he);pt[Me].name="!Directory",ge>0&&Qe!==U&&(pt[Qe].name="!MiniFAT"),pt[qe[0]].name="!FAT",pt.fat_addrs=qe,pt.ssz=he;var At={},zt=[],Sr=[],rs=[];E(Me,pt,tt,zt,ge,At,Sr,Qe),w(Sr,rs,zt),zt.shift();var bs={FileIndex:Sr,FullPaths:rs};return xe&&xe.raw&&(bs.raw={header:bt,sectors:tt}),bs}function p(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(re,"Header Signature: "),ee.l+=16;var xe=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),xe]}function g(ee,xe){var ue=9;switch(ee.l+=2,ue=ee.read_shift(2)){case 9:if(xe!=3)throw new Error("Sector Shift: Expected 9 saw "+ue);break;case 12:if(xe!=4)throw new Error("Sector Shift: Expected 12 saw "+ue);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ue)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function y(ee,xe){for(var ue=Math.ceil(ee.length/xe)-1,he=[],ge=1;ge<ue;++ge)he[ge-1]=ee.slice(ge*xe,(ge+1)*xe);return he[ue-1]=ee.slice(ue*xe),he}function w(ee,xe,ue){for(var he=0,ge=0,me=0,Me=0,Qe=0,Fe=ue.length,qe=[],We=[];he<Fe;++he)qe[he]=We[he]=he,xe[he]=ue[he];for(;Qe<We.length;++Qe)he=We[Qe],ge=ee[he].L,me=ee[he].R,Me=ee[he].C,qe[he]===he&&(ge!==-1&&qe[ge]!==ge&&(qe[he]=qe[ge]),me!==-1&&qe[me]!==me&&(qe[he]=qe[me])),Me!==-1&&(qe[Me]=he),ge!==-1&&he!=qe[he]&&(qe[ge]=qe[he],We.lastIndexOf(ge)<Qe&&We.push(ge)),me!==-1&&he!=qe[he]&&(qe[me]=qe[he],We.lastIndexOf(me)<Qe&&We.push(me));for(he=1;he<Fe;++he)qe[he]===he&&(me!==-1&&qe[me]!==me?qe[he]=qe[me]:ge!==-1&&qe[ge]!==ge&&(qe[he]=qe[ge]));for(he=1;he<Fe;++he)if(ee[he].type!==0){if(Qe=he,Qe!=qe[Qe])do Qe=qe[Qe],xe[he]=xe[Qe]+"/"+xe[he];while(Qe!==0&&qe[Qe]!==-1&&Qe!=qe[Qe]);qe[he]=-1}for(xe[0]+="/",he=1;he<Fe;++he)ee[he].type!==2&&(xe[he]+="/")}function v(ee,xe,ue){for(var he=ee.start,ge=ee.size,me=[],Me=he;ue&&ge>0&&Me>=0;)me.push(xe.slice(Me*q,Me*q+q)),ge-=q,Me=Bf(ue,Me*4);return me.length===0?nt(0):Na(me).slice(0,ee.size)}function N(ee,xe,ue,he,ge){var me=U;if(ee===U){if(xe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Me=ue[ee],Qe=(he>>>2)-1;if(!Me)return;for(var Fe=0;Fe<Qe&&(me=Bf(Me,Fe*4))!==U;++Fe)ge.push(me);N(Bf(Me,he-4),xe-1,ue,he,ge)}}function j(ee,xe,ue,he,ge){var me=[],Me=[];ge||(ge=[]);var Qe=he-1,Fe=0,qe=0;for(Fe=xe;Fe>=0;){ge[Fe]=!0,me[me.length]=Fe,Me.push(ee[Fe]);var We=ue[Math.floor(Fe*4/he)];if(qe=Fe*4&Qe,he<4+qe)throw new Error("FAT boundary crossed: "+Fe+" 4 "+he);if(!ee[We])break;Fe=Bf(ee[We],qe)}return{nodes:me,data:_6([Me])}}function A(ee,xe,ue,he){var ge=ee.length,me=[],Me=[],Qe=[],Fe=[],qe=he-1,We=0,mt=0,bt=0,J=0;for(We=0;We<ge;++We)if(Qe=[],bt=We+xe,bt>=ge&&(bt-=ge),!Me[bt]){Fe=[];var ve=[];for(mt=bt;mt>=0;){ve[mt]=!0,Me[mt]=!0,Qe[Qe.length]=mt,Fe.push(ee[mt]);var Ae=ue[Math.floor(mt*4/he)];if(J=mt*4&qe,he<4+J)throw new Error("FAT boundary crossed: "+mt+" 4 "+he);if(!ee[Ae]||(mt=Bf(ee[Ae],J),ve[mt]))break}me[bt]={nodes:Qe,data:_6([Fe])}}return me}function E(ee,xe,ue,he,ge,me,Me,Qe){for(var Fe=0,qe=he.length?2:0,We=xe[ee].data,mt=0,bt=0,J;mt<We.length;mt+=128){var ve=We.slice(mt,mt+128);zi(ve,64),bt=ve.read_shift(2),J=tk(ve,0,bt-qe),he.push(J);var Ae={name:J,type:ve.read_shift(1),color:ve.read_shift(1),L:ve.read_shift(4,"i"),R:ve.read_shift(4,"i"),C:ve.read_shift(4,"i"),clsid:ve.read_shift(16),state:ve.read_shift(4,"i"),start:0,size:0},tt=ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2);tt!==0&&(Ae.ct=S(ve,ve.l-8));var pt=ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2);pt!==0&&(Ae.mt=S(ve,ve.l-8)),Ae.start=ve.read_shift(4,"i"),Ae.size=ve.read_shift(4,"i"),Ae.size<0&&Ae.start<0&&(Ae.size=Ae.type=0,Ae.start=U,Ae.name=""),Ae.type===5?(Fe=Ae.start,ge>0&&Fe!==U&&(xe[Fe].name="!StreamData")):Ae.size>=4096?(Ae.storage="fat",xe[Ae.start]===void 0&&(xe[Ae.start]=j(ue,Ae.start,xe.fat_addrs,xe.ssz)),xe[Ae.start].name=Ae.name,Ae.content=xe[Ae.start].data.slice(0,Ae.size)):(Ae.storage="minifat",Ae.size<0?Ae.size=0:Fe!==U&&Ae.start!==U&&xe[Fe]&&(Ae.content=v(Ae,xe[Fe].data,(xe[Qe]||{}).data))),Ae.content&&zi(Ae.content,0),me[J]=Ae,Me.push(Ae)}}function S(ee,xe){return new Date((Gi(ee,xe+4)/1e7*Math.pow(2,32)+Gi(ee,xe)/1e7-11644473600)*1e3)}function _(ee,xe){return u(),h(d.readFileSync(ee),xe)}function k(ee,xe){var ue=xe&&xe.type;switch(ue||ps&&Buffer.isBuffer(ee)&&(ue="buffer"),ue||"base64"){case"file":return _(ee,xe);case"base64":return h(rl(fd(ee)),xe);case"binary":return h(rl(ee),xe)}return h(ee,xe)}function T(ee,xe){var ue=xe||{},he=ue.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=he+"/",ee.FileIndex[0]={name:he,type:5}),ue.CLSID&&(ee.FileIndex[0].clsid=ue.CLSID),O(ee)}function O(ee){var xe="Sh33tJ5";if(!Ds.find(ee,"/"+xe)){var ue=nt(4);ue[0]=55,ue[1]=ue[3]=50,ue[2]=54,ee.FileIndex.push({name:xe,type:2,content:ue,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+xe),P(ee)}}function P(ee,xe){T(ee);for(var ue=!1,he=!1,ge=ee.FullPaths.length-1;ge>=0;--ge){var me=ee.FileIndex[ge];switch(me.type){case 0:he?ue=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(me.R*me.L*me.C)&&(ue=!0),me.R>-1&&me.L>-1&&me.R==me.L&&(ue=!0);break;default:ue=!0;break}}if(!(!ue&&!xe)){var Me=new Date(1987,1,19),Qe=0,Fe=Object.create?Object.create(null):{},qe=[];for(ge=0;ge<ee.FullPaths.length;++ge)Fe[ee.FullPaths[ge]]=!0,ee.FileIndex[ge].type!==0&&qe.push([ee.FullPaths[ge],ee.FileIndex[ge]]);for(ge=0;ge<qe.length;++ge){var We=n(qe[ge][0]);he=Fe[We],he||(qe.push([We,{name:a(We).replace("/",""),type:1,clsid:B,ct:Me,mt:Me,content:null}]),Fe[We]=!0)}for(qe.sort(function(J,ve){return r(J[0],ve[0])}),ee.FullPaths=[],ee.FileIndex=[],ge=0;ge<qe.length;++ge)ee.FullPaths[ge]=qe[ge][0],ee.FileIndex[ge]=qe[ge][1];for(ge=0;ge<qe.length;++ge){var mt=ee.FileIndex[ge],bt=ee.FullPaths[ge];if(mt.name=a(bt).replace("/",""),mt.L=mt.R=mt.C=-(mt.color=1),mt.size=mt.content?mt.content.length:0,mt.start=0,mt.clsid=mt.clsid||B,ge===0)mt.C=qe.length>1?1:-1,mt.size=0,mt.type=5;else if(bt.slice(-1)=="/"){for(Qe=ge+1;Qe<qe.length&&n(ee.FullPaths[Qe])!=bt;++Qe);for(mt.C=Qe>=qe.length?-1:Qe,Qe=ge+1;Qe<qe.length&&n(ee.FullPaths[Qe])!=n(bt);++Qe);mt.R=Qe>=qe.length?-1:Qe,mt.type=1}else n(ee.FullPaths[ge+1]||"")==n(bt)&&(mt.R=ge+1),mt.type=2}}}function I(ee,xe){var ue=xe||{};if(ue.fileType=="mad")return cr(ee,ue);switch(P(ee),ue.fileType){case"zip":return ar(ee,ue)}var he=function(J){for(var ve=0,Ae=0,tt=0;tt<J.FileIndex.length;++tt){var pt=J.FileIndex[tt];if(pt.content){var At=pt.content.length;At>0&&(At<4096?ve+=At+63>>6:Ae+=At+511>>9)}}for(var zt=J.FullPaths.length+3>>2,Sr=ve+7>>3,rs=ve+127>>7,bs=Sr+Ae+zt+rs,Xr=bs+127>>7,tn=Xr<=109?0:Math.ceil((Xr-109)/127);bs+Xr+tn+127>>7>Xr;)tn=++Xr<=109?0:Math.ceil((Xr-109)/127);var _n=[1,tn,Xr,rs,zt,Ae,ve,0];return J.FileIndex[0].size=ve<<6,_n[7]=(J.FileIndex[0].start=_n[0]+_n[1]+_n[2]+_n[3]+_n[4]+_n[5])+(_n[6]+7>>3),_n}(ee),ge=nt(he[7]<<9),me=0,Me=0;{for(me=0;me<8;++me)ge.write_shift(1,te[me]);for(me=0;me<8;++me)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),me=0;me<3;++me)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,he[2]),ge.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:U),ge.write_shift(4,he[3]),ge.write_shift(-4,he[1]?he[0]-1:U),ge.write_shift(4,he[1]),me=0;me<109;++me)ge.write_shift(-4,me<he[2]?he[1]+me:-1)}if(he[1])for(Me=0;Me<he[1];++Me){for(;me<236+Me*127;++me)ge.write_shift(-4,me<he[2]?he[1]+me:-1);ge.write_shift(-4,Me===he[1]-1?U:Me+1)}var Qe=function(J){for(Me+=J;me<Me-1;++me)ge.write_shift(-4,me+1);J&&(++me,ge.write_shift(-4,U))};for(Me=me=0,Me+=he[1];me<Me;++me)ge.write_shift(-4,H.DIFSECT);for(Me+=he[2];me<Me;++me)ge.write_shift(-4,H.FATSECT);Qe(he[3]),Qe(he[4]);for(var Fe=0,qe=0,We=ee.FileIndex[0];Fe<ee.FileIndex.length;++Fe)We=ee.FileIndex[Fe],We.content&&(qe=We.content.length,!(qe<4096)&&(We.start=Me,Qe(qe+511>>9)));for(Qe(he[6]+7>>3);ge.l&511;)ge.write_shift(-4,H.ENDOFCHAIN);for(Me=me=0,Fe=0;Fe<ee.FileIndex.length;++Fe)We=ee.FileIndex[Fe],We.content&&(qe=We.content.length,!(!qe||qe>=4096)&&(We.start=Me,Qe(qe+63>>6)));for(;ge.l&511;)ge.write_shift(-4,H.ENDOFCHAIN);for(me=0;me<he[4]<<2;++me){var mt=ee.FullPaths[me];if(!mt||mt.length===0){for(Fe=0;Fe<17;++Fe)ge.write_shift(4,0);for(Fe=0;Fe<3;++Fe)ge.write_shift(4,-1);for(Fe=0;Fe<12;++Fe)ge.write_shift(4,0);continue}We=ee.FileIndex[me],me===0&&(We.start=We.size?We.start-1:U);var bt=me===0&&ue.root||We.name;if(qe=2*(bt.length+1),ge.write_shift(64,bt,"utf16le"),ge.write_shift(2,qe),ge.write_shift(1,We.type),ge.write_shift(1,We.color),ge.write_shift(-4,We.L),ge.write_shift(-4,We.R),ge.write_shift(-4,We.C),We.clsid)ge.write_shift(16,We.clsid,"hex");else for(Fe=0;Fe<4;++Fe)ge.write_shift(4,0);ge.write_shift(4,We.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,We.start),ge.write_shift(4,We.size),ge.write_shift(4,0)}for(me=1;me<ee.FileIndex.length;++me)if(We=ee.FileIndex[me],We.size>=4096)if(ge.l=We.start+1<<9,ps&&Buffer.isBuffer(We.content))We.content.copy(ge,ge.l,0,We.size),ge.l+=We.size+511&-512;else{for(Fe=0;Fe<We.size;++Fe)ge.write_shift(1,We.content[Fe]);for(;Fe&511;++Fe)ge.write_shift(1,0)}for(me=1;me<ee.FileIndex.length;++me)if(We=ee.FileIndex[me],We.size>0&&We.size<4096)if(ps&&Buffer.isBuffer(We.content))We.content.copy(ge,ge.l,0,We.size),ge.l+=We.size+63&-64;else{for(Fe=0;Fe<We.size;++Fe)ge.write_shift(1,We.content[Fe]);for(;Fe&63;++Fe)ge.write_shift(1,0)}if(ps)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function M(ee,xe){var ue=ee.FullPaths.map(function(Fe){return Fe.toUpperCase()}),he=ue.map(function(Fe){var qe=Fe.split("/");return qe[qe.length-(Fe.slice(-1)=="/"?2:1)]}),ge=!1;xe.charCodeAt(0)===47?(ge=!0,xe=ue[0].slice(0,-1)+xe):ge=xe.indexOf("/")!==-1;var me=xe.toUpperCase(),Me=ge===!0?ue.indexOf(me):he.indexOf(me);if(Me!==-1)return ee.FileIndex[Me];var Qe=!me.match(Kb);for(me=me.replace(dg,""),Qe&&(me=me.replace(Kb,"!")),Me=0;Me<ue.length;++Me)if((Qe?ue[Me].replace(Kb,"!"):ue[Me]).replace(dg,"")==me||(Qe?he[Me].replace(Kb,"!"):he[Me]).replace(dg,"")==me)return ee.FileIndex[Me];return null}var q=64,U=-2,re="d0cf11e0a1b11ae1",te=[208,207,17,224,161,177,26,225],B="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:B,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function R(ee,xe,ue){u();var he=I(ee,ue);d.writeFileSync(xe,he)}function X(ee){for(var xe=new Array(ee.length),ue=0;ue<ee.length;++ue)xe[ue]=String.fromCharCode(ee[ue]);return xe.join("")}function W(ee,xe){var ue=I(ee,xe);switch(xe&&xe.type||"buffer"){case"file":return u(),d.writeFileSync(xe.filename,ue),ue;case"binary":return typeof ue=="string"?ue:X(ue);case"base64":return oy(typeof ue=="string"?ue:X(ue));case"buffer":if(ps)return Buffer.isBuffer(ue)?ue:Nd(ue);case"array":return typeof ue=="string"?rl(ue):ue}return ue}var Y;function F(ee){try{var xe=ee.InflateRaw,ue=new xe;if(ue._processChunk(new Uint8Array([3,0]),ue._finishFlushFlag),ue.bytesRead)Y=ee;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function z(ee,xe){if(!Y)return qr(ee,xe);var ue=Y.InflateRaw,he=new ue,ge=he._processChunk(ee.slice(ee.l),he._finishFlushFlag);return ee.l+=he.bytesRead,ge}function K(ee){return Y?Y.deflateRawSync(ee):Jt(ee)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function se(ee){var xe=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(xe>>16|xe>>8|xe)&255}for(var Z=typeof Uint8Array<"u",le=Z?new Uint8Array(256):[],Te=0;Te<256;++Te)le[Te]=se(Te);function Ee(ee,xe){var ue=le[ee&255];return xe<=8?ue>>>8-xe:(ue=ue<<8|le[ee>>8&255],xe<=16?ue>>>16-xe:(ue=ue<<8|le[ee>>16&255],ue>>>24-xe))}function Ze(ee,xe){var ue=xe&7,he=xe>>>3;return(ee[he]|(ue<=6?0:ee[he+1]<<8))>>>ue&3}function Be(ee,xe){var ue=xe&7,he=xe>>>3;return(ee[he]|(ue<=5?0:ee[he+1]<<8))>>>ue&7}function Ie(ee,xe){var ue=xe&7,he=xe>>>3;return(ee[he]|(ue<=4?0:ee[he+1]<<8))>>>ue&15}function Ne(ee,xe){var ue=xe&7,he=xe>>>3;return(ee[he]|(ue<=3?0:ee[he+1]<<8))>>>ue&31}function fe(ee,xe){var ue=xe&7,he=xe>>>3;return(ee[he]|(ue<=1?0:ee[he+1]<<8))>>>ue&127}function de(ee,xe,ue){var he=xe&7,ge=xe>>>3,me=(1<<ue)-1,Me=ee[ge]>>>he;return ue<8-he||(Me|=ee[ge+1]<<8-he,ue<16-he)||(Me|=ee[ge+2]<<16-he,ue<24-he)||(Me|=ee[ge+3]<<24-he),Me&me}function ke(ee,xe,ue){var he=xe&7,ge=xe>>>3;return he<=5?ee[ge]|=(ue&7)<<he:(ee[ge]|=ue<<he&255,ee[ge+1]=(ue&7)>>8-he),xe+3}function Pe(ee,xe,ue){var he=xe&7,ge=xe>>>3;return ue=(ue&1)<<he,ee[ge]|=ue,xe+1}function Re(ee,xe,ue){var he=xe&7,ge=xe>>>3;return ue<<=he,ee[ge]|=ue&255,ue>>>=8,ee[ge+1]=ue,xe+8}function ie(ee,xe,ue){var he=xe&7,ge=xe>>>3;return ue<<=he,ee[ge]|=ue&255,ue>>>=8,ee[ge+1]=ue&255,ee[ge+2]=ue>>>8,xe+16}function be(ee,xe){var ue=ee.length,he=2*ue>xe?2*ue:xe+5,ge=0;if(ue>=xe)return ee;if(ps){var me=m6(he);if(ee.copy)ee.copy(me);else for(;ge<ee.length;++ge)me[ge]=ee[ge];return me}else if(Z){var Me=new Uint8Array(he);if(Me.set)Me.set(ee);else for(;ge<ue;++ge)Me[ge]=ee[ge];return Me}return ee.length=he,ee}function De(ee){for(var xe=new Array(ee),ue=0;ue<ee;++ue)xe[ue]=0;return xe}function lt(ee,xe,ue){var he=1,ge=0,me=0,Me=0,Qe=0,Fe=ee.length,qe=Z?new Uint16Array(32):De(32);for(me=0;me<32;++me)qe[me]=0;for(me=Fe;me<ue;++me)ee[me]=0;Fe=ee.length;var We=Z?new Uint16Array(Fe):De(Fe);for(me=0;me<Fe;++me)qe[ge=ee[me]]++,he<ge&&(he=ge),We[me]=0;for(qe[0]=0,me=1;me<=he;++me)qe[me+16]=Qe=Qe+qe[me-1]<<1;for(me=0;me<Fe;++me)Qe=ee[me],Qe!=0&&(We[me]=qe[Qe+16]++);var mt=0;for(me=0;me<Fe;++me)if(mt=ee[me],mt!=0)for(Qe=Ee(We[me],he)>>he-mt,Me=(1<<he+4-mt)-1;Me>=0;--Me)xe[Qe|Me<<mt]=mt&15|me<<4;return he}var at=Z?new Uint16Array(512):De(512),ze=Z?new Uint16Array(32):De(32);if(!Z){for(var rt=0;rt<512;++rt)at[rt]=0;for(rt=0;rt<32;++rt)ze[rt]=0}(function(){for(var ee=[],xe=0;xe<32;xe++)ee.push(5);lt(ee,ze,32);var ue=[];for(xe=0;xe<=143;xe++)ue.push(8);for(;xe<=255;xe++)ue.push(9);for(;xe<=279;xe++)ue.push(7);for(;xe<=287;xe++)ue.push(8);lt(ue,at,288)})();var Mt=function(){for(var xe=Z?new Uint8Array(32768):[],ue=0,he=0;ue<Q.length-1;++ue)for(;he<Q[ue+1];++he)xe[he]=ue;for(;he<32768;++he)xe[he]=29;var ge=Z?new Uint8Array(259):[];for(ue=0,he=0;ue<ae.length-1;++ue)for(;he<ae[ue+1];++he)ge[he]=ue;function me(Qe,Fe){for(var qe=0;qe<Qe.length;){var We=Math.min(65535,Qe.length-qe),mt=qe+We==Qe.length;for(Fe.write_shift(1,+mt),Fe.write_shift(2,We),Fe.write_shift(2,~We&65535);We-- >0;)Fe[Fe.l++]=Qe[qe++]}return Fe.l}function Me(Qe,Fe){for(var qe=0,We=0,mt=Z?new Uint16Array(32768):[];We<Qe.length;){var bt=Math.min(65535,Qe.length-We);if(bt<10){for(qe=ke(Fe,qe,+(We+bt==Qe.length)),qe&7&&(qe+=8-(qe&7)),Fe.l=qe/8|0,Fe.write_shift(2,bt),Fe.write_shift(2,~bt&65535);bt-- >0;)Fe[Fe.l++]=Qe[We++];qe=Fe.l*8;continue}qe=ke(Fe,qe,+(We+bt==Qe.length)+2);for(var J=0;bt-- >0;){var ve=Qe[We];J=(J<<5^ve)&32767;var Ae=-1,tt=0;if((Ae=mt[J])&&(Ae|=We&-32768,Ae>We&&(Ae-=32768),Ae<We))for(;Qe[Ae+tt]==Qe[We+tt]&&tt<250;)++tt;if(tt>2){ve=ge[tt],ve<=22?qe=Re(Fe,qe,le[ve+1]>>1)-1:(Re(Fe,qe,3),qe+=5,Re(Fe,qe,le[ve-23]>>5),qe+=3);var pt=ve<8?0:ve-4>>2;pt>0&&(ie(Fe,qe,tt-ae[ve]),qe+=pt),ve=xe[We-Ae],qe=Re(Fe,qe,le[ve]>>3),qe-=3;var At=ve<4?0:ve-2>>1;At>0&&(ie(Fe,qe,We-Ae-Q[ve]),qe+=At);for(var zt=0;zt<tt;++zt)mt[J]=We&32767,J=(J<<5^Qe[We])&32767,++We;bt-=tt-1}else ve<=143?ve=ve+48:qe=Pe(Fe,qe,1),qe=Re(Fe,qe,le[ve]),mt[J]=We&32767,++We}qe=Re(Fe,qe,0)-1}return Fe.l=(qe+7)/8|0,Fe.l}return function(Fe,qe){return Fe.length<8?me(Fe,qe):Me(Fe,qe)}}();function Jt(ee){var xe=nt(50+Math.floor(ee.length*1.1)),ue=Mt(ee,xe);return xe.slice(0,ue)}var Br=Z?new Uint16Array(32768):De(32768),ls=Z?new Uint16Array(32768):De(32768),xs=Z?new Uint16Array(128):De(128),vt=1,kr=1;function $t(ee,xe){var ue=Ne(ee,xe)+257;xe+=5;var he=Ne(ee,xe)+1;xe+=5;var ge=Ie(ee,xe)+4;xe+=4;for(var me=0,Me=Z?new Uint8Array(19):De(19),Qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Fe=1,qe=Z?new Uint8Array(8):De(8),We=Z?new Uint8Array(8):De(8),mt=Me.length,bt=0;bt<ge;++bt)Me[V[bt]]=me=Be(ee,xe),Fe<me&&(Fe=me),qe[me]++,xe+=3;var J=0;for(qe[0]=0,bt=1;bt<=Fe;++bt)We[bt]=J=J+qe[bt-1]<<1;for(bt=0;bt<mt;++bt)(J=Me[bt])!=0&&(Qe[bt]=We[J]++);var ve=0;for(bt=0;bt<mt;++bt)if(ve=Me[bt],ve!=0){J=le[Qe[bt]]>>8-ve;for(var Ae=(1<<7-ve)-1;Ae>=0;--Ae)xs[J|Ae<<ve]=ve&7|bt<<3}var tt=[];for(Fe=1;tt.length<ue+he;)switch(J=xs[fe(ee,xe)],xe+=J&7,J>>>=3){case 16:for(me=3+Ze(ee,xe),xe+=2,J=tt[tt.length-1];me-- >0;)tt.push(J);break;case 17:for(me=3+Be(ee,xe),xe+=3;me-- >0;)tt.push(0);break;case 18:for(me=11+fe(ee,xe),xe+=7;me-- >0;)tt.push(0);break;default:tt.push(J),Fe<J&&(Fe=J);break}var pt=tt.slice(0,ue),At=tt.slice(ue);for(bt=ue;bt<286;++bt)pt[bt]=0;for(bt=he;bt<30;++bt)At[bt]=0;return vt=lt(pt,Br,286),kr=lt(At,ls,30),xe}function Dr(ee,xe){if(ee[0]==3&&!(ee[1]&3))return[Eh(xe),2];for(var ue=0,he=0,ge=m6(xe||1<<18),me=0,Me=ge.length>>>0,Qe=0,Fe=0;(he&1)==0;){if(he=Be(ee,ue),ue+=3,he>>>1)he>>1==1?(Qe=9,Fe=5):(ue=$t(ee,ue),Qe=vt,Fe=kr);else{ue&7&&(ue+=8-(ue&7));var qe=ee[ue>>>3]|ee[(ue>>>3)+1]<<8;if(ue+=32,qe>0)for(!xe&&Me<me+qe&&(ge=be(ge,me+qe),Me=ge.length);qe-- >0;)ge[me++]=ee[ue>>>3],ue+=8;continue}for(;;){!xe&&Me<me+32767&&(ge=be(ge,me+32767),Me=ge.length);var We=de(ee,ue,Qe),mt=he>>>1==1?at[We]:Br[We];if(ue+=mt&15,mt>>>=4,(mt>>>8&255)===0)ge[me++]=mt;else{if(mt==256)break;mt-=257;var bt=mt<8?0:mt-4>>2;bt>5&&(bt=0);var J=me+ae[mt];bt>0&&(J+=de(ee,ue,bt),ue+=bt),We=de(ee,ue,Fe),mt=he>>>1==1?ze[We]:ls[We],ue+=mt&15,mt>>>=4;var ve=mt<4?0:mt-2>>1,Ae=Q[mt];for(ve>0&&(Ae+=de(ee,ue,ve),ue+=ve),!xe&&Me<J&&(ge=be(ge,J+100),Me=ge.length);me<J;)ge[me]=ge[me-Ae],++me}}}return xe?[ge,ue+7>>>3]:[ge.slice(0,me),ue+7>>>3]}function qr(ee,xe){var ue=ee.slice(ee.l||0),he=Dr(ue,xe);return ee.l+=he[1],he[0]}function Tt(ee,xe){if(ee)typeof console<"u"&&console.error(xe);else throw new Error(xe)}function ur(ee,xe){var ue=ee;zi(ue,0);var he=[],ge=[],me={FileIndex:he,FullPaths:ge};T(me,{root:xe.root});for(var Me=ue.length-4;(ue[Me]!=80||ue[Me+1]!=75||ue[Me+2]!=5||ue[Me+3]!=6)&&Me>=0;)--Me;ue.l=Me+4,ue.l+=4;var Qe=ue.read_shift(2);ue.l+=6;var Fe=ue.read_shift(4);for(ue.l=Fe,Me=0;Me<Qe;++Me){ue.l+=20;var qe=ue.read_shift(4),We=ue.read_shift(4),mt=ue.read_shift(2),bt=ue.read_shift(2),J=ue.read_shift(2);ue.l+=8;var ve=ue.read_shift(4),Ae=l(ue.slice(ue.l+mt,ue.l+mt+bt));ue.l+=mt+bt+J;var tt=ue.l;ue.l=ve+4,fr(ue,qe,We,me,Ae),ue.l=tt}return me}function fr(ee,xe,ue,he,ge){ee.l+=2;var me=ee.read_shift(2),Me=ee.read_shift(2),Qe=o(ee);if(me&8257)throw new Error("Unsupported ZIP encryption");for(var Fe=ee.read_shift(4),qe=ee.read_shift(4),We=ee.read_shift(4),mt=ee.read_shift(2),bt=ee.read_shift(2),J="",ve=0;ve<mt;++ve)J+=String.fromCharCode(ee[ee.l++]);if(bt){var Ae=l(ee.slice(ee.l,ee.l+bt));(Ae[21589]||{}).mt&&(Qe=Ae[21589].mt),((ge||{})[21589]||{}).mt&&(Qe=ge[21589].mt)}ee.l+=bt;var tt=ee.slice(ee.l,ee.l+qe);switch(Me){case 8:tt=z(ee,We);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Me)}var pt=!1;me&8&&(Fe=ee.read_shift(4),Fe==134695760&&(Fe=ee.read_shift(4),pt=!0),qe=ee.read_shift(4),We=ee.read_shift(4)),qe!=xe&&Tt(pt,"Bad compressed size: "+xe+" != "+qe),We!=ue&&Tt(pt,"Bad uncompressed size: "+ue+" != "+We),jr(he,J,tt,{unsafe:!0,mt:Qe})}function ar(ee,xe){var ue=xe||{},he=[],ge=[],me=nt(1),Me=ue.compression?8:0,Qe=0,Fe=0,qe=0,We=0,mt=0,bt=ee.FullPaths[0],J=bt,ve=ee.FileIndex[0],Ae=[],tt=0;for(Fe=1;Fe<ee.FullPaths.length;++Fe)if(J=ee.FullPaths[Fe].slice(bt.length),ve=ee.FileIndex[Fe],!(!ve.size||!ve.content||J=="Sh33tJ5")){var pt=We,At=nt(J.length);for(qe=0;qe<J.length;++qe)At.write_shift(1,J.charCodeAt(qe)&127);At=At.slice(0,At.l),Ae[mt]=Jke.buf(ve.content,0);var zt=ve.content;Me==8&&(zt=K(zt)),me=nt(30),me.write_shift(4,67324752),me.write_shift(2,20),me.write_shift(2,Qe),me.write_shift(2,Me),ve.mt?i(me,ve.mt):me.write_shift(4,0),me.write_shift(-4,Ae[mt]),me.write_shift(4,zt.length),me.write_shift(4,ve.content.length),me.write_shift(2,At.length),me.write_shift(2,0),We+=me.length,he.push(me),We+=At.length,he.push(At),We+=zt.length,he.push(zt),me=nt(46),me.write_shift(4,33639248),me.write_shift(2,0),me.write_shift(2,20),me.write_shift(2,Qe),me.write_shift(2,Me),me.write_shift(4,0),me.write_shift(-4,Ae[mt]),me.write_shift(4,zt.length),me.write_shift(4,ve.content.length),me.write_shift(2,At.length),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(4,0),me.write_shift(4,pt),tt+=me.l,ge.push(me),tt+=At.length,ge.push(At),++mt}return me=nt(22),me.write_shift(4,101010256),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,mt),me.write_shift(2,mt),me.write_shift(4,tt),me.write_shift(4,We),me.write_shift(2,0),Na([Na(he),Na(ge),me])}var hr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function we(ee,xe){if(ee.ctype)return ee.ctype;var ue=ee.name||"",he=ue.match(/\.([^\.]+)$/);return he&&hr[he[1]]||xe&&(he=(ue=xe).match(/[\.\\]([^\.\\])+$/),he&&hr[he[1]])?hr[he[1]]:"application/octet-stream"}function ct(ee){for(var xe=oy(ee),ue=[],he=0;he<xe.length;he+=76)ue.push(xe.slice(he,he+76));return ue.join(`\r
`)+`\r
`}function ft(ee){var xe=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var We=qe.charCodeAt(0).toString(16).toUpperCase();return"="+(We.length==1?"0"+We:We)});xe=xe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),xe.charAt(0)==`
`&&(xe="=0D"+xe.slice(1)),xe=xe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ue=[],he=xe.split(`\r
`),ge=0;ge<he.length;++ge){var me=he[ge];if(me.length==0){ue.push("");continue}for(var Me=0;Me<me.length;){var Qe=76,Fe=me.slice(Me,Me+Qe);Fe.charAt(Qe-1)=="="?Qe--:Fe.charAt(Qe-2)=="="?Qe-=2:Fe.charAt(Qe-3)=="="&&(Qe-=3),Fe=me.slice(Me,Me+Qe),Me+=Qe,Me<me.length&&(Fe+="="),ue.push(Fe)}}return ue.join(`\r
`)}function Et(ee){for(var xe=[],ue=0;ue<ee.length;++ue){for(var he=ee[ue];ue<=ee.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+ee[++ue];xe.push(he)}for(var ge=0;ge<xe.length;++ge)xe[ge]=xe[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(me){return String.fromCharCode(parseInt(me.slice(1),16))});return rl(xe.join(`\r
`))}function er(ee,xe,ue){for(var he="",ge="",me="",Me,Qe=0;Qe<10;++Qe){var Fe=xe[Qe];if(!Fe||Fe.match(/^\s*$/))break;var qe=Fe.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":he=qe[2].trim();break;case"content-type":me=qe[2].trim();break;case"content-transfer-encoding":ge=qe[2].trim();break}}switch(++Qe,ge.toLowerCase()){case"base64":Me=rl(fd(xe.slice(Qe).join("")));break;case"quoted-printable":Me=Et(xe.slice(Qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var We=jr(ee,he.slice(ue.length),Me,{unsafe:!0});me&&(We.ctype=me)}function lr(ee,xe){if(X(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ue=xe&&xe.root||"",he=(ps&&Buffer.isBuffer(ee)?ee.toString("binary"):X(ee)).split(`\r
`),ge=0,me="";for(ge=0;ge<he.length;++ge)if(me=he[ge],!!/^Content-Location:/i.test(me)&&(me=me.slice(me.indexOf("file")),ue||(ue=me.slice(0,me.lastIndexOf("/")+1)),me.slice(0,ue.length)!=ue))for(;ue.length>0&&(ue=ue.slice(0,ue.length-1),ue=ue.slice(0,ue.lastIndexOf("/")+1),me.slice(0,ue.length)!=ue););var Me=(he[1]||"").match(/boundary="(.*?)"/);if(!Me)throw new Error("MAD cannot find boundary");var Qe="--"+(Me[1]||""),Fe=[],qe=[],We={FileIndex:Fe,FullPaths:qe};T(We);var mt,bt=0;for(ge=0;ge<he.length;++ge){var J=he[ge];J!==Qe&&J!==Qe+"--"||(bt++&&er(We,he.slice(mt,ge),ue),mt=ge)}return We}function cr(ee,xe){var ue=xe||{},he=ue.boundary||"SheetJS";he="------="+he;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],me=ee.FullPaths[0],Me=me,Qe=ee.FileIndex[0],Fe=1;Fe<ee.FullPaths.length;++Fe)if(Me=ee.FullPaths[Fe].slice(me.length),Qe=ee.FileIndex[Fe],!(!Qe.size||!Qe.content||Me=="Sh33tJ5")){Me=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(tt){return"_x"+tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(tt){return"_u"+tt.charCodeAt(0).toString(16)+"_"});for(var qe=Qe.content,We=ps&&Buffer.isBuffer(qe)?qe.toString("binary"):X(qe),mt=0,bt=Math.min(1024,We.length),J=0,ve=0;ve<=bt;++ve)(J=We.charCodeAt(ve))>=32&&J<128&&++mt;var Ae=mt>=bt*4/5;ge.push(he),ge.push("Content-Location: "+(ue.root||"file:///C:/SheetJS/")+Me),ge.push("Content-Transfer-Encoding: "+(Ae?"quoted-printable":"base64")),ge.push("Content-Type: "+we(Qe,Me)),ge.push(""),ge.push(Ae?ft(We):ct(We))}return ge.push(he+`--\r
`),ge.join(`\r
`)}function Hr(ee){var xe={};return T(xe,ee),xe}function jr(ee,xe,ue,he){var ge=he&&he.unsafe;ge||T(ee);var me=!ge&&Ds.find(ee,xe);if(!me){var Me=ee.FullPaths[0];xe.slice(0,Me.length)==Me?Me=xe:(Me.slice(-1)!="/"&&(Me+="/"),Me=(Me+xe).replace("//","/")),me={name:a(xe),type:2},ee.FileIndex.push(me),ee.FullPaths.push(Me),ge||Ds.utils.cfb_gc(ee)}return me.content=ue,me.size=ue?ue.length:0,he&&(he.CLSID&&(me.clsid=he.CLSID),he.mt&&(me.mt=he.mt),he.ct&&(me.ct=he.ct)),me}function Bs(ee,xe){T(ee);var ue=Ds.find(ee,xe);if(ue){for(var he=0;he<ee.FileIndex.length;++he)if(ee.FileIndex[he]==ue)return ee.FileIndex.splice(he,1),ee.FullPaths.splice(he,1),!0}return!1}function Ka(ee,xe,ue){T(ee);var he=Ds.find(ee,xe);if(he){for(var ge=0;ge<ee.FileIndex.length;++ge)if(ee.FileIndex[ge]==he)return ee.FileIndex[ge].name=a(ue),ee.FullPaths[ge]=ue,!0}return!1}function Wn(ee){P(ee,!0)}return t.find=M,t.read=k,t.parse=h,t.write=W,t.writeFile=R,t.utils={cfb_new:Hr,cfb_add:jr,cfb_del:Bs,cfb_mov:Ka,cfb_gc:Wn,ReadShift:fg,CheckField:hW,prep_blob:zi,bconcat:Na,use_zlib:F,_deflateRaw:Jt,_inflateRaw:qr,consts:H},t}();function eDe(e){return typeof e=="string"?FN(e):Array.isArray(e)?Ake(e):e}function ov(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=FN(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?cy(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([eDe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=iv(t)),l.write(t),l.close(),t}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+e)}function _a(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function N6(e,t){for(var r=[],n=_a(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function Q_(e){for(var t=[],r=_a(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function $N(e){for(var t=[],r=_a(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function tDe(e){for(var t=[],r=_a(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var xw=new Date(1899,11,30,0,0,0);function Di(e,t){var r=e.getTime(),n=xw.getTime()+(e.getTimezoneOffset()-xw.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var XH=new Date,rDe=xw.getTime()+(XH.getTimezoneOffset()-xw.getTimezoneOffset())*6e4,j6=XH.getTimezoneOffset();function QH(e){var t=new Date;return t.setTime(e*24*60*60*1e3+rDe),t.getTimezoneOffset()!==j6&&t.setTime(t.getTime()+(t.getTimezoneOffset()-j6)*6e4),t}var S6=new Date("2017-02-19T19:06:09.000Z"),ZH=isNaN(S6.getFullYear())?new Date("2/19/17"):S6,sDe=ZH.getFullYear()==2017;function oi(e,t){var r=new Date(e);if(sDe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(ZH.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function UN(e,t){if(ps&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Oi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Oi(e[r]));return t}function xn(e,t){for(var r="";r.length<t;)r+=e;return r}function Qc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var nDe=["january","february","march","april","may","june","july","august","september","october","november","december"];function ly(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&nDe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Pr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return ps?n=Nd(r):n=Cke(r),Ds.utils.cfb_add(e,t,n)}Ds.utils.cfb_add(e,t,r)}else e.file(t,r)}function Z_(){return Ds.utils.cfb_new()}var Hn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,aDe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},J_=Q_(aDe),ek=/[&<>'"]/g,iDe=/[\u0000-\u0008\u000b-\u001f]/g;function As(e){var t=e+"";return t.replace(ek,function(r){return J_[r]}).replace(iDe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function E6(e){return As(e).replace(/ /g,"_x0020_")}var JH=/[\u0000-\u001f]/g;function oDe(e){var t=e+"";return t.replace(ek,function(r){return J_[r]}).replace(/\n/g,"<br/>").replace(JH,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function lDe(e){var t=e+"";return t.replace(ek,function(r){return J_[r]}).replace(JH,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function cDe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function dDe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function LE(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function A6(e){var t=Eh(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function C6(e){return Nd(e,"binary").toString("utf8")}var Qb="foo bar bazâð£",ug=ps&&(C6(Qb)==LE(Qb)&&C6||A6(Qb)==LE(Qb)&&A6)||LE,cy=ps?function(e){return Nd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},uDe=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),eW=/(^\s|\s$|\n)/;function ja(e,t){return"<"+e+(t.match(eW)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function dy(e){return _a(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function kt(e,t,r){return"<"+e+(r!=null?dy(r):"")+(t!=null?(t.match(eW)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ZC(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function fDe(e,t){switch(typeof e){case"string":var r=kt("vt:lpwstr",As(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return kt((e|0)==e?"vt:i4":"vt:r8",As(String(e)));case"boolean":return kt("vt:bool",e?"true":"false")}if(e instanceof Date)return kt("vt:filetime",ZC(e));throw new Error("Unable to serialize "+e)}var fa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},D0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Wi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function hDe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function mDe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var T6=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},_6=ps?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Nd(t)})):T6(e)}:T6,k6=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(tg(e,a)));return n.join("").replace(dg,"")},tk=ps?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(dg,""):k6(e,t,r)}:k6,D6=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},tW=ps?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):D6(e,t,r)}:D6,O6=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Qm(e,a)));return n.join("")},lv=ps?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):O6(t,r,n)}:O6,rW=function(e,t){var r=Gi(e,t);return r>0?lv(e,t+4,t+4+r-1):""},sW=rW,nW=function(e,t){var r=Gi(e,t);return r>0?lv(e,t+4,t+4+r-1):""},aW=nW,iW=function(e,t){var r=2*Gi(e,t);return r>0?lv(e,t+4,t+4+r-1):""},oW=iW,lW=function(t,r){var n=Gi(t,r);return n>0?tk(t,r+4,r+4+n):""},cW=lW,dW=function(e,t){var r=Gi(e,t);return r>0?lv(e,t+4,t+4+r):""},uW=dW,fW=function(e,t){return hDe(e,t)},gw=fW,rk=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ps&&(sW=function(t,r){if(!Buffer.isBuffer(t))return rW(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},aW=function(t,r){if(!Buffer.isBuffer(t))return nW(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},oW=function(t,r){if(!Buffer.isBuffer(t))return iW(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},cW=function(t,r){if(!Buffer.isBuffer(t))return lW(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},uW=function(t,r){if(!Buffer.isBuffer(t))return dW(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},gw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):fW(t,r)},rk=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Qm=function(e,t){return e[t]},tg=function(e,t){return e[t+1]*256+e[t]},pDe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Gi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Bf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},xDe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function fg(e,t){var r="",n,a,i=[],o,l,d,u;switch(t){case"dbcs":if(u=this.l,ps&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)r+=String.fromCharCode(tg(this,u)),u+=2;e*=2;break;case"utf8":r=lv(this,this.l,this.l+e);break;case"utf16le":e*=2,r=tk(this,this.l,this.l+e);break;case"wstr":return fg.call(this,e,"dbcs");case"lpstr-ansi":r=sW(this,this.l),e=4+Gi(this,this.l);break;case"lpstr-cp":r=aW(this,this.l),e=4+Gi(this,this.l);break;case"lpwstr":r=oW(this,this.l),e=4+2*Gi(this,this.l);break;case"lpp4":e=4+Gi(this,this.l),r=cW(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Gi(this,this.l),r=uW(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Qm(this,this.l+e++))!==0;)i.push(Yb(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=tg(this,this.l+e))!==0;)i.push(Yb(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Qm(this,u),this.l=u+1,l=fg.call(this,e-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Yb(tg(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Qm(this,u),this.l=u+1,l=fg.call(this,e-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Yb(Qm(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Qm(this,this.l),this.l++,n;case 2:return n=(t==="i"?pDe:tg)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Bf:xDe)(this,this.l),this.l+=4,n):(a=Gi(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=gw(this,this.l):a=gw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=tW(this,this.l,e);break}}return this.l+=e,r}var gDe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},yDe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},vDe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function bDe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)vDe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,gDe(this,t,this.l);break;case 8:if(n=8,r==="f"){mDe(this,t,this.l);break}case 16:break;case-4:n=4,yDe(this,t,this.l);break}return this.l+=n,this}function hW(e,t){var r=tW(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function zi(e,t){e.l=t,e.read_shift=fg,e.chk=hW,e.write_shift=bDe}function ic(e,t){e.l+=t}function nt(e){var t=Eh(e);return zi(t,0),t}function _i(){var e=[],t=ps?256:2048,r=function(u){var h=nt(u);return zi(h,0),h},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Na(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function gt(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=hMe[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&rk(r)&&e.push(r)}}function hg(e,t,r){var n=Oi(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function P6(e,t,r){var n=Oi(e);return n.s=hg(n.s,t.s,r),n.e=hg(n.e,t.s,r),n}function mg(e,t){if(e.cRel&&e.c<0)for(e=Oi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Oi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Cs(e);return!e.cRel&&e.cRel!=null&&(r=jDe(r)),!e.rRel&&e.rRel!=null&&(r=wDe(r)),r}function BE(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+za(e.s.c)+":"+(e.e.cRel?"":"$")+za(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ca(e.s.r)+":"+(e.e.rRel?"":"$")+Ca(e.e.r):mg(e.s,t.biff)+":"+mg(e.e,t.biff)}function sk(e){return parseInt(NDe(e),10)-1}function Ca(e){return""+(e+1)}function wDe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function NDe(e){return e.replace(/\$(\d+)$/,"$1")}function nk(e){for(var t=SDe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function za(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function jDe(e){return e.replace(/^([A-Z])/,"$$$1")}function SDe(e){return e.replace(/^\$([A-Z])/,"$1")}function EDe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ha(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Cs(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ji(e){var t=e.indexOf(":");return t==-1?{s:ha(e),e:ha(e)}:{s:ha(e.slice(0,t)),e:ha(e.slice(t+1))}}function In(e,t){return typeof t>"u"||typeof t=="number"?In(e.s,e.e):(typeof e!="string"&&(e=Cs(e)),typeof t!="string"&&(t=Cs(t)),e==t?e:e+":"+t)}function Gs(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function R6(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Xu(e.z,r?Di(t):t)}catch{}try{return e.w=Xu((e.XF||{}).numFmtId||(r?14:0),r?Di(t):t)}catch{return""+t}}function hd(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?cv[e.v]||e.v:t==null?R6(e,e.v):R6(e,t))}function Yh(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function mW(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?ha(n.origin):n.origin;o=d.r,l=d.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Gs(i["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(u.e.r=o=h.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[p].length;++g)if(!(typeof t[p][g]>"u")){var y={v:t[p][g]},w=o+p,v=l+g;if(u.s.r>w&&(u.s.r=w),u.s.c>v&&(u.s.c=v),u.e.r<w&&(u.e.r=w),u.e.c<v&&(u.e.c=v),t[p][g]&&typeof t[p][g]=="object"&&!Array.isArray(t[p][g])&&!(t[p][g]instanceof Date))y=t[p][g];else if(Array.isArray(y.v)&&(y.f=t[p][g][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(n.nullError)y.t="e",y.v=0;else if(n.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=n.dateNF||gn[14],n.cellDates?(y.t="d",y.w=Xu(y.z,Di(y.v))):(y.t="n",y.v=Di(y.v),y.w=Xu(y.z,y.v))):y.t="s";if(a)i[w]||(i[w]=[]),i[w][v]&&i[w][v].z&&(y.z=i[w][v].z),i[w][v]=y;else{var N=Cs({c:v,r:w});i[N]&&i[N].z&&(y.z=i[N].z),i[N]=y}}}return u.s.c<1e7&&(i["!ref"]=In(u)),i}function O0(e,t){return mW(null,e,t)}function ADe(e){return e.read_shift(4,"i")}function ll(e,t){return t||(t=nt(4)),t.write_shift(4,e),t}function Ha(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ma(e,t){var r=!1;return t==null&&(r=!0,t=nt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function CDe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function TDe(e,t){return t||(t=nt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function ak(e,t){var r=e.l,n=e.read_shift(1),a=Ha(e),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),d=0;d!=l;++d)i.push(CDe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function _De(e,t){var r=!1;return t==null&&(r=!0,t=nt(15+4*e.t.length)),t.write_shift(1,0),ma(e.t,t),r?t.slice(0,t.l):t}var kDe=ak;function DDe(e,t){var r=!1;return t==null&&(r=!0,t=nt(23+4*e.t.length)),t.write_shift(1,1),ma(e.t,t),t.write_shift(4,1),TDe({},t),r?t.slice(0,t.l):t}function Ro(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Kh(e,t){return t==null&&(t=nt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Xh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Qh(e,t){return t==null&&(t=nt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var ODe=Ha,pW=ma;function ik(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function yw(e,t){var r=!1;return t==null&&(r=!0,t=nt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var PDe=Ha,JC=ik,ok=yw;function xW(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?gw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Bf(t,0)>>2;return r?a/100:a}function gW(e,t){t==null&&(t=nt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function yW(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function RDe(e,t){return t||(t=nt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Zh=yW,P0=RDe;function R0(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ah(e,t){return(t||nt(8)).write_shift(8,e,"f")}function MDe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),d=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=zDe[a];u&&(t.rgb=H6(u));break;case 2:t.rgb=H6([o,l,d]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function vw(e,t){if(t||(t=nt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function IDe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function FDe(e,t){t||(t=nt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var vW=2,Vi=3,Zb=11,bw=19,Jb=64,LDe=65,BDe=71,$De=4108,UDe=4126,wa=80,M6={1:{n:"CodePage",t:vW},2:{n:"Category",t:wa},3:{n:"PresentationFormat",t:wa},4:{n:"ByteCount",t:Vi},5:{n:"LineCount",t:Vi},6:{n:"ParagraphCount",t:Vi},7:{n:"SlideCount",t:Vi},8:{n:"NoteCount",t:Vi},9:{n:"HiddenCount",t:Vi},10:{n:"MultimediaClipCount",t:Vi},11:{n:"ScaleCrop",t:Zb},12:{n:"HeadingPairs",t:$De},13:{n:"TitlesOfParts",t:UDe},14:{n:"Manager",t:wa},15:{n:"Company",t:wa},16:{n:"LinksUpToDate",t:Zb},17:{n:"CharacterCount",t:Vi},19:{n:"SharedDoc",t:Zb},22:{n:"HyperlinksChanged",t:Zb},23:{n:"AppVersion",t:Vi,p:"version"},24:{n:"DigSig",t:LDe},26:{n:"ContentType",t:wa},27:{n:"ContentStatus",t:wa},28:{n:"Language",t:wa},29:{n:"Version",t:wa},255:{},2147483648:{n:"Locale",t:bw},2147483651:{n:"Behavior",t:bw},1919054434:{}},I6={1:{n:"CodePage",t:vW},2:{n:"Title",t:wa},3:{n:"Subject",t:wa},4:{n:"Author",t:wa},5:{n:"Keywords",t:wa},6:{n:"Comments",t:wa},7:{n:"Template",t:wa},8:{n:"LastAuthor",t:wa},9:{n:"RevNumber",t:wa},10:{n:"EditTime",t:Jb},11:{n:"LastPrinted",t:Jb},12:{n:"CreatedDate",t:Jb},13:{n:"ModifiedDate",t:Jb},14:{n:"PageCount",t:Vi},15:{n:"WordCount",t:Vi},16:{n:"CharCount",t:Vi},17:{n:"Thumbnail",t:BDe},18:{n:"Application",t:wa},19:{n:"DocSecurity",t:Vi},255:{},2147483648:{n:"Locale",t:bw},2147483651:{n:"Behavior",t:bw},1919054434:{}};function VDe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var qDe=VDe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),zDe=Oi(qDe),cv={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},HDe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},e1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function bW(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function wW(e,t){var r=tDe(HDe),n=[],a;n[n.length]=Hn,n[n.length]=kt("Types",null,{xmlns:fa.CT,"xmlns:xsd":fa.xsd,"xmlns:xsi":fa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return kt("Default",null,{Extension:d[0],ContentType:d[1]})}));var i=function(d){e[d]&&e[d].length>0&&(a=e[d][0],n[n.length]=kt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:e1[d][t.bookType]||e1[d].xlsx}))},o=function(d){(e[d]||[]).forEach(function(u){n[n.length]=kt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:e1[d][t.bookType]||e1[d].xlsx})})},l=function(d){(e[d]||[]).forEach(function(u){n[n.length]=kt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[d][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var us={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function NW(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function jp(e){var t=[Hn,kt("Relationships",null,{xmlns:fa.RELS})];return _a(e["!id"]).forEach(function(r){t[t.length]=kt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Es(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[us.HLINK,us.XPATH,us.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function WDe(e){var t=[Hn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function F6(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function GDe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function YDe(e){var t=[Hn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(F6(e[r][0],e[r][1])),t.push(GDe("",e[r][0]));return t.push(F6("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function jW(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+fw.version+"</meta:generator></office:meta></office:document-meta>"}var nh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function $E(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=As(t),n[n.length]=r?kt(e,t,r):ja(e,t))}function SW(e,t){var r=t||{},n=[Hn,kt("cp:coreProperties",null,{"xmlns:cp":fa.CORE_PROPS,"xmlns:dc":fa.dc,"xmlns:dcterms":fa.dcterms,"xmlns:dcmitype":fa.dcmitype,"xmlns:xsi":fa.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&$E("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:ZC(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&$E("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:ZC(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=nh.length;++i){var o=nh[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&$E(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Sp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],EW=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function AW(e){var t=[],r=kt;return e||(e={}),e.Application="SheetJS",t[t.length]=Hn,t[t.length]=kt("Properties",null,{xmlns:fa.EXT_PROPS,"xmlns:vt":fa.vt}),Sp.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=As(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+As(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function CW(e){var t=[Hn,kt("Properties",null,{xmlns:fa.CUST_PROPS,"xmlns:vt":fa.vt})];if(!e)return t.join("");var r=1;return _a(e).forEach(function(a){++r,t[t.length]=kt("property",fDe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:As(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var L6={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function KDe(e,t){var r=[];return _a(L6).map(function(n){for(var a=0;a<nh.length;++a)if(nh[a][1]==n)return nh[a];for(a=0;a<Sp.length;++a)if(Sp[a][1]==n)return Sp[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ja(L6[n[1]]||n[1],a))}}),kt("DocumentProperties",r.join(""),{xmlns:Wi.o})}function XDe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&_a(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<nh.length;++o)if(i==nh[o][1])return;for(o=0;o<Sp.length;++o)if(i==Sp[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],d="string";typeof l=="number"?(d="float",l=String(l)):l===!0||l===!1?(d="boolean",l=l?"1":"0"):l=String(l),a.push(kt(E6(i),l,{"dt:dt":d}))}}),t&&_a(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(kt(E6(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Wi.o+'">'+a.join("")+"</"+n+">"}function QDe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=nt(8);return o.write_shift(4,n),o.write_shift(4,a),o}function B6(e,t){var r=nt(4),n=nt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=nt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=QDe(t);break;case 31:case 80:for(n=nt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Na([r,n])}var TW=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function ZDe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function $6(e,t,r){var n=nt(8),a=[],i=[],o=8,l=0,d=nt(8),u=nt(8);if(d.write_shift(4,2),d.write_shift(4,1200),u.write_shift(4,1),i.push(d),a.push(u),o+=8+d.length,!t){u=nt(8),u.write_shift(4,0),a.unshift(u);var h=[nt(4)];for(h[0].write_shift(4,e.length),l=0;l<e.length;++l){var p=e[l][0];for(d=nt(8+2*(p.length+1)+(p.length%2?0:2)),d.write_shift(4,l+2),d.write_shift(4,p.length+1),d.write_shift(0,p,"dbcs");d.l!=d.length;)d.write_shift(1,0);h.push(d)}d=Na(h),i.unshift(d),o+=8+d.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(TW.indexOf(e[l][0])>-1||EW.indexOf(e[l][0])>-1)&&e[l][1]!=null){var g=e[l][1],y=0;if(t){y=+t[e[l][0]];var w=r[y];if(w.p=="version"&&typeof g=="string"){var v=g.split(".");g=(+v[0]<<16)+(+v[1]||0)}d=B6(w.t,g)}else{var N=ZDe(g);N==-1&&(N=31,g=String(g)),d=B6(N,g)}i.push(d),u=nt(8),u.write_shift(4,t?y:2+l),a.push(u),o+=8+d.length}var j=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,j),j+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Na([n].concat(a).concat(i))}function U6(e,t,r,n,a,i){var o=nt(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Ds.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var d=$6(e,r,n);if(l.push(d),a){var u=$6(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+d.length),l.push(u)}return Na(l)}function JDe(e,t){t||(t=nt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function e3e(e,t){return e.read_shift(t)===1}function ti(e,t){return t||(t=nt(2)),t.write_shift(2,+!!e),t}function _W(e){return e.read_shift(2,"u")}function bo(e,t){return t||(t=nt(2)),t.write_shift(2,e),t}function kW(e,t,r){return r||(r=nt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function DW(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function t3e(e){var t=e.t||"",r=nt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=nt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Na(a)}function r3e(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function s3e(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):r3e(e,n,r)}function n3e(e,t,r){if(r.biff>5)return s3e(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function OW(e,t,r){return r||(r=nt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function V6(e,t){t||(t=nt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function a3e(e){var t=nt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),V6(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&V6(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(t.write_shift(2,d),t.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)t.write_shift(1,n.charCodeAt(r+3*d)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Ch(e,t,r,n){return n||(n=nt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function i3e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function o3e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function PW(e,t){return t||(t=nt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function lk(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=nt(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function l3e(e,t){var r=!t||t.biff==8,n=nt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function c3e(e,t){var r=!t||t.biff>=8?2:1,n=nt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function d3e(e,t){var r=nt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=t3e(e[a]);var i=Na([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function u3e(){var e=nt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function f3e(e){var t=nt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function h3e(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=nt(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function m3e(e,t,r,n){var a=nt(10);return Ch(e,t,n,a),a.write_shift(4,r),a}function p3e(e,t,r,n,a){var i=!a||a.biff==8,o=nt(8+ +i+(1+i)*r.length);return Ch(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function x3e(e,t,r,n){var a=r&&r.biff==5;n||(n=nt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function g3e(e,t){var r=t.biff==8||!t.biff?4:2,n=nt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function q6(e,t,r,n){var a=r&&r.biff==5;n||(n=nt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function y3e(e){var t=nt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function v3e(e,t,r,n,a,i){var o=nt(8);return Ch(e,t,n,o),kW(r,i,o),o}function b3e(e,t,r,n){var a=nt(14);return Ch(e,t,n,a),Ah(r,a),a}function w3e(e,t,r){if(r.biff<8)return N3e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(i3e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function N3e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=DW(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function j3e(e){var t=nt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)PW(e[r],t);return t}function S3e(e){var t=nt(24),r=ha(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Na([t,a3e(e[1])])}function E3e(e){var t=e[1].Tooltip,r=nt(10+2*(t.length+1));r.write_shift(2,2048);var n=ha(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function A3e(e){return e||(e=nt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function C3e(e,t,r){if(!r.cellStyles)return ic(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),d=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:d};return(r.biff>=5||!r.biff)&&(u.level=d>>8&7),u}function T3e(e,t){var r=nt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function _3e(e){for(var t=nt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function k3e(e,t,r){var n=nt(15);return uv(n,e,t),n.write_shift(8,r,"f"),n}function D3e(e,t,r){var n=nt(9);return uv(n,e,t),n.write_shift(2,r),n}var O3e=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Q_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,d){var u=[],h=Eh(1);switch(d.type){case"base64":h=rl(fd(l));break;case"binary":h=rl(l);break;case"buffer":case"array":h=l;break}zi(h,0);var p=h.read_shift(1),g=!!(p&136),y=!1,w=!1;switch(p){case 2:break;case 3:break;case 48:y=!0,g=!0;break;case 49:y=!0,g=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var v=0,N=521;p==2&&(v=h.read_shift(2)),h.l+=3,p!=2&&(v=h.read_shift(4)),v>1048576&&(v=1e6),p!=2&&(N=h.read_shift(2));var j=h.read_shift(2),A=d.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(A=e[h[h.l]]),h.l+=1,h.l+=2),w&&(h.l+=36);for(var E=[],S={},_=Math.min(h.length,p==2?521:N-10-(y?264:0)),k=w?32:11;h.l<_&&h[h.l]!=13;)switch(S={},S.name=h6.utils.decode(A,h.slice(h.l,h.l+k)).replace(/[\u0000\r\n].*$/g,""),h.l+=k,S.type=String.fromCharCode(h.read_shift(1)),p!=2&&!w&&(S.offset=h.read_shift(4)),S.len=h.read_shift(1),p==2&&(S.offset=h.read_shift(2)),S.dec=h.read_shift(1),S.name.length&&E.push(S),p!=2&&(h.l+=w?13:14),S.type){case"B":(!y||S.len!=8)&&d.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(h[h.l]!==13&&(h.l=N-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=N;var T=0,O=0;for(u[0]=[],O=0;O!=E.length;++O)u[0][O]=E[O].name;for(;v-- >0;){if(h[h.l]===42){h.l+=j;continue}for(++h.l,u[++T]=[],O=0,O=0;O!=E.length;++O){var P=h.slice(h.l,h.l+E[O].len);h.l+=E[O].len,zi(P,0);var I=h6.utils.decode(A,P);switch(E[O].type){case"C":I.trim().length&&(u[T][O]=I.replace(/\s+$/,""));break;case"D":I.length===8?u[T][O]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):u[T][O]=I;break;case"F":u[T][O]=parseFloat(I.trim());break;case"+":case"I":u[T][O]=w?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":u[T][O]=!0;break;case"N":case"F":u[T][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[T][O]="##MEMO##"+(w?parseInt(I.trim(),10):P.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(u[T][O]=+I||0);break;case"@":u[T][O]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[T][O]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[T][O]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[T][O]=-P.read_shift(-8,"f");break;case"B":if(y&&E[O].len==8){u[T][O]=P.read_shift(8,"f");break}case"G":case"P":P.l+=E[O].len;break;case"0":if(E[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[O].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return d&&d.sheetRows&&(u=u.slice(0,d.sheetRows)),d.DBF=E,u}function n(l,d){var u=d||{};u.dateNF||(u.dateNF="yyyymmdd");var h=O0(r(l,u),u);return h["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,h}function a(l,d){try{return Yh(n(l,d),d)}catch(u){if(d&&d.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,d){var u=d||{};if(+u.codepage>=0&&iy(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=_i(),p=Ew(l,{header:1,raw:!0,cellDates:!0}),g=p[0],y=p.slice(1),w=l["!cols"]||[],v=0,N=0,j=0,A=1;for(v=0;v<g.length;++v){if(((w[v]||{}).DBF||{}).name){g[v]=w[v].DBF.name,++j;continue}if(g[v]!=null){if(++j,typeof g[v]=="number"&&(g[v]=g[v].toString(10)),typeof g[v]!="string")throw new Error("DBF Invalid column name "+g[v]+" |"+typeof g[v]+"|");if(g.indexOf(g[v])!==v){for(N=0;N<1024;++N)if(g.indexOf(g[v]+"_"+N)==-1){g[v]+="_"+N;break}}}}var E=Gs(l["!ref"]),S=[],_=[],k=[];for(v=0;v<=E.e.c-E.s.c;++v){var T="",O="",P=0,I=[];for(N=0;N<y.length;++N)y[N][v]!=null&&I.push(y[N][v]);if(I.length==0||g[v]==null){S[v]="?";continue}for(N=0;N<I.length;++N){switch(typeof I[N]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=I[N]instanceof Date?"D":"C";break;default:O="C"}P=Math.max(P,String(I[N]).length),T=T&&T!=O?"C":O}P>250&&(P=250),O=((w[v]||{}).DBF||{}).type,O=="C"&&w[v].DBF.len>P&&(P=w[v].DBF.len),T=="B"&&O=="N"&&(T="N",k[v]=w[v].DBF.dec,P=w[v].DBF.len),_[v]=T=="C"||O=="N"?P:i[T]||0,A+=_[v],S[v]=T}var M=h.next(32);for(M.write_shift(4,318902576),M.write_shift(4,y.length),M.write_shift(2,296+32*j),M.write_shift(2,A),v=0;v<4;++v)M.write_shift(4,0);for(M.write_shift(4,0|(+t[MH]||3)<<8),v=0,N=0;v<g.length;++v)if(g[v]!=null){var q=h.next(32),U=(g[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);q.write_shift(1,U,"sbcs"),q.write_shift(1,S[v]=="?"?"C":S[v],"sbcs"),q.write_shift(4,N),q.write_shift(1,_[v]||i[S[v]]||0),q.write_shift(1,k[v]||0),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(1,0),q.write_shift(4,0),q.write_shift(4,0),N+=_[v]||i[S[v]]||0}var re=h.next(264);for(re.write_shift(4,13),v=0;v<65;++v)re.write_shift(4,0);for(v=0;v<y.length;++v){var te=h.next(A);for(te.write_shift(1,0),N=0;N<g.length;++N)if(g[N]!=null)switch(S[N]){case"L":te.write_shift(1,y[v][N]==null?63:y[v][N]?84:70);break;case"B":te.write_shift(8,y[v][N]||0,"f");break;case"N":var B="0";for(typeof y[v][N]=="number"&&(B=y[v][N].toFixed(k[N]||0)),j=0;j<_[N]-B.length;++j)te.write_shift(1,32);te.write_shift(1,B,"sbcs");break;case"D":y[v][N]?(te.write_shift(4,("0000"+y[v][N].getFullYear()).slice(-4),"sbcs"),te.write_shift(2,("00"+(y[v][N].getMonth()+1)).slice(-2),"sbcs"),te.write_shift(2,("00"+y[v][N].getDate()).slice(-2),"sbcs")):te.write_shift(8,"00000000","sbcs");break;case"C":var H=String(y[v][N]!=null?y[v][N]:"").slice(0,_[N]);for(te.write_shift(1,H,"sbcs"),j=0;j<_[N]-H.length;++j)te.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),P3e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+_a(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,y){var w=e[y];return typeof w=="number"?f6(w):w},n=function(g,y,w){var v=y.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return v==59?g:f6(v)};e["|"]=254;function a(g,y){switch(y.type){case"base64":return i(fd(g),y);case"binary":return i(g,y);case"buffer":return i(ps&&Buffer.isBuffer(g)?g.toString("binary"):iv(g),y);case"array":return i(UN(g),y)}throw new Error("Unrecognized type "+y.type)}function i(g,y){var w=g.split(/[\n\r]+/),v=-1,N=-1,j=0,A=0,E=[],S=[],_=null,k={},T=[],O=[],P=[],I=0,M;for(+y.codepage>=0&&iy(+y.codepage);j!==w.length;++j){I=0;var q=w[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=q.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),re=U[0],te;if(q.length>0)switch(re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&S.push(q.slice(3).replace(/;;/g,";"));break;case"C":var B=!1,H=!1,R=!1,X=!1,W=-1,Y=-1;for(A=1;A<U.length;++A)switch(U[A].charAt(0)){case"A":break;case"X":N=parseInt(U[A].slice(1))-1,H=!0;break;case"Y":for(v=parseInt(U[A].slice(1))-1,H||(N=0),M=E.length;M<=v;++M)E[M]=[];break;case"K":te=U[A].slice(1),te.charAt(0)==='"'?te=te.slice(1,te.length-1):te==="TRUE"?te=!0:te==="FALSE"?te=!1:isNaN(Qc(te))?isNaN(ly(te).getDate())||(te=oi(te)):(te=Qc(te),_!==null&&GH(_)&&(te=QH(te))),B=!0;break;case"E":X=!0;var F=DOe(U[A].slice(1),{r:v,c:N});E[v][N]=[E[v][N],F];break;case"S":R=!0,E[v][N]=[E[v][N],"S5S"];break;case"G":break;case"R":W=parseInt(U[A].slice(1))-1;break;case"C":Y=parseInt(U[A].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+q)}if(B&&(E[v][N]&&E[v][N].length==2?E[v][N][0]=te:E[v][N]=te,_=null),R){if(X)throw new Error("SYLK shared formula cannot have own formula");var z=W>-1&&E[W][Y];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");E[v][N][1]=OOe(z[1],{r:v-W,c:N-Y})}break;case"F":var K=0;for(A=1;A<U.length;++A)switch(U[A].charAt(0)){case"X":N=parseInt(U[A].slice(1))-1,++K;break;case"Y":for(v=parseInt(U[A].slice(1))-1,M=E.length;M<=v;++M)E[M]=[];break;case"M":I=parseInt(U[A].slice(1))/20;break;case"F":break;case"G":break;case"P":_=S[parseInt(U[A].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=U[A].slice(1).split(" "),M=parseInt(P[0],10);M<=parseInt(P[1],10);++M)I=parseInt(P[2],10),O[M-1]=I===0?{hidden:!0}:{wch:I},ck(O[M-1]);break;case"C":N=parseInt(U[A].slice(1))-1,O[N]||(O[N]={});break;case"R":v=parseInt(U[A].slice(1))-1,T[v]||(T[v]={}),I>0?(T[v].hpt=I,T[v].hpx=LW(I)):I===0&&(T[v].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+q)}K<1&&(_=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+q)}}return T.length>0&&(k["!rows"]=T),O.length>0&&(k["!cols"]=O),y&&y.sheetRows&&(E=E.slice(0,y.sheetRows)),[E,k]}function o(g,y){var w=a(g,y),v=w[0],N=w[1],j=O0(v,y);return _a(N).forEach(function(A){j[A]=N[A]}),j}function l(g,y){return Yh(o(g,y),y)}function d(g,y,w,v){var N="C;Y"+(w+1)+";X"+(v+1)+";K";switch(g.t){case"n":N+=g.v||0,g.f&&!g.F&&(N+=";E"+uk(g.f,{r:w,c:v}));break;case"b":N+=g.v?"TRUE":"FALSE";break;case"e":N+=g.w||g.v;break;case"d":N+='"'+(g.w||g.v)+'"';break;case"s":N+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return N}function u(g,y){y.forEach(function(w,v){var N="F;W"+(v+1)+" "+(v+1)+" ";w.hidden?N+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=ww(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=Nw(w.wpx)),typeof w.wch=="number"&&(N+=Math.round(w.wch))),N.charAt(N.length-1)!=" "&&g.push(N)})}function h(g,y){y.forEach(function(w,v){var N="F;";w.hidden?N+="M0;":w.hpt?N+="M"+20*w.hpt+";":w.hpx&&(N+="M"+20*jw(w.hpx)+";"),N.length>2&&g.push(N+"R"+(v+1))})}function p(g,y){var w=["ID;PWXL;N;E"],v=[],N=Gs(g["!ref"]),j,A=Array.isArray(g),E=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),g["!cols"]&&u(w,g["!cols"]),g["!rows"]&&h(w,g["!rows"]),w.push("B;Y"+(N.e.r-N.s.r+1)+";X"+(N.e.c-N.s.c+1)+";D"+[N.s.c,N.s.r,N.e.c,N.e.r].join(" "));for(var S=N.s.r;S<=N.e.r;++S)for(var _=N.s.c;_<=N.e.c;++_){var k=Cs({r:S,c:_});j=A?(g[S]||[])[_]:g[k],!(!j||j.v==null&&(!j.f||j.F))&&v.push(d(j,g,S,_))}return w.join(E)+E+v.join(E)+E+"E"+E}return{to_workbook:l,to_sheet:o,from_sheet:p}}(),R3e=function(){function e(i,o){switch(o.type){case"base64":return t(fd(i),o);case"binary":return t(i,o);case"buffer":return t(ps&&Buffer.isBuffer(i)?i.toString("binary"):iv(i),o);case"array":return t(UN(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),d=-1,u=-1,h=0,p=[];h!==l.length;++h){if(l[h].trim()==="BOT"){p[++d]=[],u=0;continue}if(!(d<0)){var g=l[h].trim().split(","),y=g[0],w=g[1];++h;for(var v=l[h]||"";(v.match(/["]/g)||[]).length&1&&h<l.length-1;)v+=`
`+l[++h];switch(v=v.trim(),+y){case-1:if(v==="BOT"){p[++d]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?p[d][u]=!0:v==="FALSE"?p[d][u]=!1:isNaN(Qc(w))?isNaN(ly(w).getDate())?p[d][u]=w:p[d][u]=oi(w):p[d][u]=Qc(w),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),p[d][u++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(i,o){return O0(e(i,o),o)}function n(i,o){return Yh(r(i,o),o)}var a=function(){var i=function(d,u,h,p,g){d.push(u),d.push(h+","+p),d.push('"'+g.replace(/"/g,'""')+'"')},o=function(d,u,h,p){d.push(u+","+h),d.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(d){var u=[],h=Gs(d["!ref"]),p,g=Array.isArray(d);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,h.e.r-h.s.r+1,""),i(u,"TUPLES",0,h.e.c-h.s.c+1,""),i(u,"DATA",0,0,"");for(var y=h.s.r;y<=h.e.r;++y){o(u,-1,0,"BOT");for(var w=h.s.c;w<=h.e.c;++w){var v=Cs({r:y,c:w});if(p=g?(d[y]||[])[w]:d[v],!p){o(u,1,0,"");continue}switch(p.t){case"n":var N=p.w;!N&&p.v!=null&&(N=p.v),N==null?p.f&&!p.F?o(u,1,0,"="+p.f):o(u,1,0,""):o(u,0,N,"V");break;case"b":o(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Xu(p.z||gn[14],Di(oi(p.v)))),o(u,0,p.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var j=`\r
`,A=u.join(j);return A}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),RW=function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var y=p.split(`
`),w=-1,v=-1,N=0,j=[];N!==y.length;++N){var A=y[N].trim().split(":");if(A[0]==="cell"){var E=ha(A[1]);if(j.length<=E.r)for(w=j.length;w<=E.r;++w)j[w]||(j[w]=[]);switch(w=E.r,v=E.c,A[2]){case"t":j[w][v]=e(A[3]);break;case"v":j[w][v]=+A[3];break;case"vtf":var S=A[A.length-1];case"vtc":switch(A[3]){case"nl":j[w][v]=!!+A[4];break;default:j[w][v]=+A[4];break}A[2]=="vtf"&&(j[w][v]=[j[w][v],S])}}}return g&&g.sheetRows&&(j=j.slice(0,g.sheetRows)),j}function n(p,g){return O0(r(p,g),g)}function a(p,g){return Yh(n(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],y=[],w,v="",N=Ji(p["!ref"]),j=Array.isArray(p),A=N.s.r;A<=N.e.r;++A)for(var E=N.s.c;E<=N.e.c;++E)if(v=Cs({r:A,c:E}),w=j?(p[A]||[])[E]:p[v],!(!w||w.v==null||w.t==="z")){switch(y=["cell",v,"t"],w.t){case"s":case"str":y.push(t(w.v));break;case"n":w.f?(y[2]="vtf",y[3]="n",y[4]=w.v,y[5]=t(w.f)):(y[2]="v",y[3]=w.v);break;case"b":y[2]="vt"+(w.f?"f":"c"),y[3]="nl",y[4]=w.v?"1":"0",y[5]=t(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var S=Di(oi(w.v));y[2]="vtc",y[3]="nd",y[4]=""+S,y[5]=w.w||Xu(w.z||gn[14],S);break;case"e":continue}g.push(y.join(":"))}return g.push("sheet:c:"+(N.e.c-N.s.c+1)+":r:"+(N.e.r-N.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[i,o,l,o,u(p),d].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}}(),M3e=function(){function e(h,p,g,y,w){w.raw?p[g][y]=h:h===""||(h==="TRUE"?p[g][y]=!0:h==="FALSE"?p[g][y]=!1:isNaN(Qc(h))?isNaN(ly(h).getDate())?p[g][y]=h:p[g][y]=oi(h):p[g][y]=Qc(h))}function t(h,p){var g=p||{},y=[];if(!h||h.length===0)return y;for(var w=h.split(/[\r\n]/),v=w.length-1;v>=0&&w[v].length===0;)--v;for(var N=10,j=0,A=0;A<=v;++A)j=w[A].indexOf(" "),j==-1?j=w[A].length:j++,N=Math.max(N,j);for(A=0;A<=v;++A){y[A]=[];var E=0;for(e(w[A].slice(0,N).trim(),y,A,E,g),E=1;E<=(w[A].length-N)/10+1;++E)e(w[A].slice(N+(E-1)*10,N+E*10).trim(),y,A,E,g)}return g.sheetRows&&(y=y.slice(0,g.sheetRows)),y}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var p={},g=!1,y=0,w=0;y<h.length;++y)(w=h.charCodeAt(y))==34?g=!g:!g&&w in r&&(p[w]=(p[w]||0)+1);w=[];for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&w.push([p[y],y]);if(!w.length){p=n;for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&w.push([p[y],y])}return w.sort(function(v,N){return v[0]-N[0]||n[v[1]]-n[N[1]]}),r[w.pop()[1]]||44}function i(h,p){var g=p||{},y="",w=g.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(y=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(y=h.charAt(4),h=h.slice(6)):y=a(h.slice(0,1024)):g&&g.FS?y=g.FS:y=a(h.slice(0,1024));var N=0,j=0,A=0,E=0,S=0,_=y.charCodeAt(0),k=!1,T=0,O=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var P=g.dateNF!=null?Qke(g.dateNF):null;function I(){var M=h.slice(E,S),q={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)q.t="z";else if(g.raw)q.t="s",q.v=M;else if(M.trim().length===0)q.t="s",q.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(q.t="s",q.v=M.slice(2,-1).replace(/""/g,'"')):POe(M)?(q.t="n",q.f=M.slice(1)):(q.t="s",q.v=M);else if(M=="TRUE")q.t="b",q.v=!0;else if(M=="FALSE")q.t="b",q.v=!1;else if(!isNaN(A=Qc(M)))q.t="n",g.cellText!==!1&&(q.w=M),q.v=A;else if(!isNaN(ly(M).getDate())||P&&M.match(P)){q.z=g.dateNF||gn[14];var U=0;P&&M.match(P)&&(M=Zke(M,g.dateNF,M.match(P)||[]),U=1),g.cellDates?(q.t="d",q.v=oi(M,U)):(q.t="n",q.v=Di(oi(M,U))),g.cellText!==!1&&(q.w=Xu(q.z,q.v instanceof Date?Di(q.v):q.v)),g.cellNF||delete q.z}else q.t="s",q.v=M;if(q.t=="z"||(g.dense?(w[N]||(w[N]=[]),w[N][j]=q):w[Cs({c:j,r:N})]=q),E=S+1,O=h.charCodeAt(E),v.e.c<j&&(v.e.c=j),v.e.r<N&&(v.e.r=N),T==_)++j;else if(j=0,++N,g.sheetRows&&g.sheetRows<=N)return!0}e:for(;S<h.length;++S)switch(T=h.charCodeAt(S)){case 34:O===34&&(k=!k);break;case _:case 10:case 13:if(!k&&I())break e;break}return S-E>0&&I(),w["!ref"]=In(v),w}function o(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,p):O0(t(h,p),p)}function l(h,p){var g="",y=p.type=="string"?[0,0,0,0]:GMe(h,p);switch(p.type){case"base64":g=fd(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):(p.codepage,g=ps&&Buffer.isBuffer(h)?h.toString("binary"):iv(h));break;case"array":g=UN(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return y[0]==239&&y[1]==187&&y[2]==191?g=ug(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=ug(g):p.type=="binary",g.slice(0,19)=="socialcalc:version:"?RW.to_sheet(p.type=="string"?g:ug(g),p):o(g,p)}function d(h,p){return Yh(l(h,p),p)}function u(h){for(var p=[],g=Gs(h["!ref"]),y,w=Array.isArray(h),v=g.s.r;v<=g.e.r;++v){for(var N=[],j=g.s.c;j<=g.e.c;++j){var A=Cs({r:v,c:j});if(y=w?(h[v]||[])[j]:h[A],!y||y.v==null){N.push("          ");continue}for(var E=(y.w||(hd(y),y.w)||"").slice(0,10);E.length<10;)E+=" ";N.push(E+(j===0?" ":""))}p.push(N.join(""))}return p.join(`
`)}return{to_workbook:d,to_sheet:l,from_sheet:u}}(),z6=function(){function e(F,z,K){if(F){zi(F,F.l||0);for(var V=K.Enum||W;F.l<F.length;){var ae=F.read_shift(2),Q=V[ae]||V[65535],se=F.read_shift(2),Z=F.l+se,le=Q.f&&Q.f(F,se,K);if(F.l=Z,z(le,Q,ae))return}}}function t(F,z){switch(z.type){case"base64":return r(rl(fd(F)),z);case"binary":return r(rl(F),z);case"buffer":case"array":return r(F,z)}throw"Unsupported type "+z.type}function r(F,z){if(!F)return F;var K=z||{},V=K.dense?[]:{},ae="Sheet1",Q="",se=0,Z={},le=[],Te=[],Ee={s:{r:0,c:0},e:{r:0,c:0}},Ze=K.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)K.Enum=W,e(F,function(fe,de,ke){switch(ke){case 0:K.vers=fe,fe>=4096&&(K.qpro=!0);break;case 6:Ee=fe;break;case 204:fe&&(Q=fe);break;case 222:Q=fe;break;case 15:case 51:K.qpro||(fe[1].v=fe[1].v.slice(1));case 13:case 14:case 16:ke==14&&(fe[2]&112)==112&&(fe[2]&15)>1&&(fe[2]&15)<15&&(fe[1].z=K.dateNF||gn[14],K.cellDates&&(fe[1].t="d",fe[1].v=QH(fe[1].v))),K.qpro&&fe[3]>se&&(V["!ref"]=In(Ee),Z[ae]=V,le.push(ae),V=K.dense?[]:{},Ee={s:{r:0,c:0},e:{r:0,c:0}},se=fe[3],ae=Q||"Sheet"+(se+1),Q="");var Pe=K.dense?(V[fe[0].r]||[])[fe[0].c]:V[Cs(fe[0])];if(Pe){Pe.t=fe[1].t,Pe.v=fe[1].v,fe[1].z!=null&&(Pe.z=fe[1].z),fe[1].f!=null&&(Pe.f=fe[1].f);break}K.dense?(V[fe[0].r]||(V[fe[0].r]=[]),V[fe[0].r][fe[0].c]=fe[1]):V[Cs(fe[0])]=fe[1];break}},K);else if(F[2]==26||F[2]==14)K.Enum=Y,F[2]==14&&(K.qpro=!0,F.l=0),e(F,function(fe,de,ke){switch(ke){case 204:ae=fe;break;case 22:fe[1].v=fe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(fe[3]>se&&(V["!ref"]=In(Ee),Z[ae]=V,le.push(ae),V=K.dense?[]:{},Ee={s:{r:0,c:0},e:{r:0,c:0}},se=fe[3],ae="Sheet"+(se+1)),Ze>0&&fe[0].r>=Ze)break;K.dense?(V[fe[0].r]||(V[fe[0].r]=[]),V[fe[0].r][fe[0].c]=fe[1]):V[Cs(fe[0])]=fe[1],Ee.e.c<fe[0].c&&(Ee.e.c=fe[0].c),Ee.e.r<fe[0].r&&(Ee.e.r=fe[0].r);break;case 27:fe[14e3]&&(Te[fe[14e3][0]]=fe[14e3][1]);break;case 1537:Te[fe[0]]=fe[1],fe[0]==se&&(ae=fe[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(V["!ref"]=In(Ee),Z[Q||ae]=V,le.push(Q||ae),!Te.length)return{SheetNames:le,Sheets:Z};for(var Be={},Ie=[],Ne=0;Ne<Te.length;++Ne)Z[le[Ne]]?(Ie.push(Te[Ne]||le[Ne]),Be[Te[Ne]]=Z[Te[Ne]]||Z[le[Ne]]):(Ie.push(Te[Ne]),Be[Te[Ne]]={"!ref":"A1"});return{SheetNames:Ie,Sheets:Be}}function n(F,z){var K=z||{};if(+K.codepage>=0&&iy(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var V=_i(),ae=Gs(F["!ref"]),Q=Array.isArray(F),se=[];Dt(V,0,i(1030)),Dt(V,6,d(ae));for(var Z=Math.min(ae.e.r,8191),le=ae.s.r;le<=Z;++le)for(var Te=Ca(le),Ee=ae.s.c;Ee<=ae.e.c;++Ee){le===ae.s.r&&(se[Ee]=za(Ee));var Ze=se[Ee]+Te,Be=Q?(F[le]||[])[Ee]:F[Ze];if(!(!Be||Be.t=="z"))if(Be.t=="n")(Be.v|0)==Be.v&&Be.v>=-32768&&Be.v<=32767?Dt(V,13,y(le,Ee,Be.v)):Dt(V,14,v(le,Ee,Be.v));else{var Ie=hd(Be);Dt(V,15,p(le,Ee,Ie.slice(0,239)))}}return Dt(V,1),V.end()}function a(F,z){var K=z||{};if(+K.codepage>=0&&iy(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var V=_i();Dt(V,0,o(F));for(var ae=0,Q=0;ae<F.SheetNames.length;++ae)(F.Sheets[F.SheetNames[ae]]||{})["!ref"]&&Dt(V,27,X(F.SheetNames[ae],Q++));var se=0;for(ae=0;ae<F.SheetNames.length;++ae){var Z=F.Sheets[F.SheetNames[ae]];if(!(!Z||!Z["!ref"])){for(var le=Gs(Z["!ref"]),Te=Array.isArray(Z),Ee=[],Ze=Math.min(le.e.r,8191),Be=le.s.r;Be<=Ze;++Be)for(var Ie=Ca(Be),Ne=le.s.c;Ne<=le.e.c;++Ne){Be===le.s.r&&(Ee[Ne]=za(Ne));var fe=Ee[Ne]+Ie,de=Te?(Z[Be]||[])[Ne]:Z[fe];if(!(!de||de.t=="z"))if(de.t=="n")Dt(V,23,I(Be,Ne,se,de.v));else{var ke=hd(de);Dt(V,22,T(Be,Ne,se,ke.slice(0,239)))}}++se}}return Dt(V,1),V.end()}function i(F){var z=nt(2);return z.write_shift(2,F),z}function o(F){var z=nt(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var K=0,V=0,ae=0,Q=0;Q<F.SheetNames.length;++Q){var se=F.SheetNames[Q],Z=F.Sheets[se];if(!(!Z||!Z["!ref"])){++ae;var le=Ji(Z["!ref"]);K<le.e.r&&(K=le.e.r),V<le.e.c&&(V=le.e.c)}}return K>8191&&(K=8191),z.write_shift(2,K),z.write_shift(1,ae),z.write_shift(1,V),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function l(F,z,K){var V={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&K.qpro?(V.s.c=F.read_shift(1),F.l++,V.s.r=F.read_shift(2),V.e.c=F.read_shift(1),F.l++,V.e.r=F.read_shift(2),V):(V.s.c=F.read_shift(2),V.s.r=F.read_shift(2),z==12&&K.qpro&&(F.l+=2),V.e.c=F.read_shift(2),V.e.r=F.read_shift(2),z==12&&K.qpro&&(F.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function d(F){var z=nt(8);return z.write_shift(2,F.s.c),z.write_shift(2,F.s.r),z.write_shift(2,F.e.c),z.write_shift(2,F.e.r),z}function u(F,z,K){var V=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(V[0].c=F.read_shift(1),V[3]=F.read_shift(1),V[0].r=F.read_shift(2),F.l+=2):(V[2]=F.read_shift(1),V[0].c=F.read_shift(2),V[0].r=F.read_shift(2)),V}function h(F,z,K){var V=F.l+z,ae=u(F,z,K);if(ae[1].t="s",K.vers==20768){F.l++;var Q=F.read_shift(1);return ae[1].v=F.read_shift(Q,"utf8"),ae}return K.qpro&&F.l++,ae[1].v=F.read_shift(V-F.l,"cstr"),ae}function p(F,z,K){var V=nt(7+K.length);V.write_shift(1,255),V.write_shift(2,z),V.write_shift(2,F),V.write_shift(1,39);for(var ae=0;ae<V.length;++ae){var Q=K.charCodeAt(ae);V.write_shift(1,Q>=128?95:Q)}return V.write_shift(1,0),V}function g(F,z,K){var V=u(F,z,K);return V[1].v=F.read_shift(2,"i"),V}function y(F,z,K){var V=nt(7);return V.write_shift(1,255),V.write_shift(2,z),V.write_shift(2,F),V.write_shift(2,K,"i"),V}function w(F,z,K){var V=u(F,z,K);return V[1].v=F.read_shift(8,"f"),V}function v(F,z,K){var V=nt(13);return V.write_shift(1,255),V.write_shift(2,z),V.write_shift(2,F),V.write_shift(8,K,"f"),V}function N(F,z,K){var V=F.l+z,ae=u(F,z,K);if(ae[1].v=F.read_shift(8,"f"),K.qpro)F.l=V;else{var Q=F.read_shift(2);S(F.slice(F.l,F.l+Q),ae),F.l+=Q}return ae}function j(F,z,K){var V=z&32768;return z&=-32769,z=(V?F:0)+(z>=8192?z-16384:z),(V?"":"$")+(K?za(z):Ca(z))}var A={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(F,z){zi(F,0);for(var K=[],V=0,ae="",Q="",se="",Z="";F.l<F.length;){var le=F[F.l++];switch(le){case 0:K.push(F.read_shift(8,"f"));break;case 1:Q=j(z[0].c,F.read_shift(2),!0),ae=j(z[0].r,F.read_shift(2),!1),K.push(Q+ae);break;case 2:{var Te=j(z[0].c,F.read_shift(2),!0),Ee=j(z[0].r,F.read_shift(2),!1);Q=j(z[0].c,F.read_shift(2),!0),ae=j(z[0].r,F.read_shift(2),!1),K.push(Te+Ee+":"+Q+ae)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(F.read_shift(2));break;case 6:{for(var Ze="";le=F[F.l++];)Ze+=String.fromCharCode(le);K.push('"'+Ze.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:Z=K.pop(),se=K.pop(),K.push(["AND","OR"][le-20]+"("+se+","+Z+")");break;default:if(le<32&&E[le])Z=K.pop(),se=K.pop(),K.push(se+E[le]+Z);else if(A[le]){if(V=A[le][1],V==69&&(V=F[F.l++]),V>K.length){console.error("WK1 bad formula parse 0x"+le.toString(16)+":|"+K.join("|")+"|");return}var Be=K.slice(-V);K.length-=V,K.push(A[le][0]+"("+Be.join(",")+")")}else return le<=7?console.error("WK1 invalid opcode "+le.toString(16)):le<=24?console.error("WK1 unsupported op "+le.toString(16)):le<=30?console.error("WK1 invalid opcode "+le.toString(16)):le<=115?console.error("WK1 unsupported function opcode "+le.toString(16)):console.error("WK1 unrecognized opcode "+le.toString(16))}}K.length==1?z[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function _(F){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=F.read_shift(2),z[3]=F[F.l++],z[0].c=F[F.l++],z}function k(F,z){var K=_(F);return K[1].t="s",K[1].v=F.read_shift(z-4,"cstr"),K}function T(F,z,K,V){var ae=nt(6+V.length);ae.write_shift(2,F),ae.write_shift(1,K),ae.write_shift(1,z),ae.write_shift(1,39);for(var Q=0;Q<V.length;++Q){var se=V.charCodeAt(Q);ae.write_shift(1,se>=128?95:se)}return ae.write_shift(1,0),ae}function O(F,z){var K=_(F);K[1].v=F.read_shift(2);var V=K[1].v>>1;if(K[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return K[1].v=V,K}function P(F,z){var K=_(F),V=F.read_shift(4),ae=F.read_shift(4),Q=F.read_shift(2);if(Q==65535)return V===0&&ae===3221225472?(K[1].t="e",K[1].v=15):V===0&&ae===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var se=Q&32768;return Q=(Q&32767)-16446,K[1].v=(1-se*2)*(ae*Math.pow(2,Q+32)+V*Math.pow(2,Q)),K}function I(F,z,K,V){var ae=nt(14);if(ae.write_shift(2,F),ae.write_shift(1,K),ae.write_shift(1,z),V==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var Q=0,se=0,Z=0,le=0;return V<0&&(Q=1,V=-V),se=Math.log2(V)|0,V/=Math.pow(2,se-31),le=V>>>0,(le&2147483648)==0&&(V/=2,++se,le=V>>>0),V-=le,le|=2147483648,le>>>=0,V*=Math.pow(2,32),Z=V>>>0,ae.write_shift(4,Z),ae.write_shift(4,le),se+=16383+(Q?32768:0),ae.write_shift(2,se),ae}function M(F,z){var K=P(F);return F.l+=z-14,K}function q(F,z){var K=_(F),V=F.read_shift(4);return K[1].v=V>>6,K}function U(F,z){var K=_(F),V=F.read_shift(8,"f");return K[1].v=V,K}function re(F,z){var K=U(F);return F.l+=z-10,K}function te(F,z){return F[F.l+z-1]==0?F.read_shift(z,"cstr"):""}function B(F,z){var K=F[F.l++];K>z-1&&(K=z-1);for(var V="";V.length<K;)V+=String.fromCharCode(F[F.l++]);return V}function H(F,z,K){if(!(!K.qpro||z<21)){var V=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var ae=F.read_shift(z-21,"cstr");return[V,ae]}}function R(F,z){for(var K={},V=F.l+z;F.l<V;){var ae=F.read_shift(2);if(ae==14e3){for(K[ae]=[0,""],K[ae][0]=F.read_shift(2);F[F.l];)K[ae][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return K}function X(F,z){var K=nt(5+F.length);K.write_shift(2,14e3),K.write_shift(2,z);for(var V=0;V<F.length;++V){var ae=F.charCodeAt(V);K[K.l++]=ae>127?95:ae}return K[K.l++]=0,K}var W={0:{n:"BOF",f:_W},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:N},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:te},222:{n:"SHEETNAMELP",f:B},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:R},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:q},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),I3e=/^\s|\s$|[\t\n\r]/;function MW(e,t){if(!t.bookSST)return"";var r=[Hn];r[r.length]=kt("sst",null,{xmlns:D0[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(I3e)&&(i+=' xml:space="preserve"'),i+=">"+As(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function F3e(e){return[e.read_shift(4),e.read_shift(4)]}function L3e(e,t){return t||(t=nt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var B3e=_De;function $3e(e){var t=_i();gt(t,159,L3e(e));for(var r=0;r<e.length;++r)gt(t,19,B3e(e[r]));return gt(t,160),t.end()}function U3e(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function IW(e){var t=0,r,n=U3e(e),a=n.length+1,i,o,l,d,u;for(r=Eh(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,d=t<<1&32767,u=l|d,t=u^o;return t^52811}var V3e=function(){function e(a,i){switch(i.type){case"base64":return t(fd(a),i);case"binary":return t(a,i);case"buffer":return t(ps&&Buffer.isBuffer(a)?a.toString("binary"):iv(a),i);case"array":return t(UN(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},d=a.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(h,p){Array.isArray(l)&&(l[p]=[]);for(var g=/\\\w+\b/g,y=0,w,v=-1;w=g.exec(h);){switch(w[0]){case"\\cell":var N=h.slice(y,g.lastIndex-w[0].length);if(N[0]==" "&&(N=N.slice(1)),++v,N.length){var j={v:N,t:"s"};Array.isArray(l)?l[p][v]=j:l[Cs({r:p,c:v})]=j}break}y=g.lastIndex}v>u.e.c&&(u.e.c=v)}),l["!ref"]=In(u),l}function r(a,i){return Yh(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Gs(a["!ref"]),l,d=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var p=Cs({r:u,c:h});l=d?(a[u]||[])[h]:a[p],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(hd(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function H6(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var q3e=6,Zc=q3e;function ww(e){return Math.floor((e+Math.round(128/Zc)/256)*Zc)}function Nw(e){return Math.floor((e-5)/Zc*100+.5)/100}function eT(e){return Math.round((e*Zc+5)/Zc*256)/256}function ck(e){e.width?(e.wpx=ww(e.width),e.wch=Nw(e.wpx),e.MDW=Zc):e.wpx?(e.wch=Nw(e.wpx),e.width=eT(e.wch),e.MDW=Zc):typeof e.wch=="number"&&(e.width=eT(e.wch),e.wpx=ww(e.width),e.MDW=Zc),e.customWidth&&delete e.customWidth}var z3e=96,FW=z3e;function jw(e){return e*96/FW}function LW(e){return e*FW/96}function H3e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=kt("numFmt",null,{numFmtId:n,formatCode:As(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=kt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function W3e(e){var t=[];return t[t.length]=kt("cellXfs",null),e.forEach(function(r){t[t.length]=kt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=kt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function BW(e,t){var r=[Hn,kt("styleSheet",null,{xmlns:D0[0],"xmlns:vt":fa.vt})],n;return e.SSF&&(n=H3e(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=W3e(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function G3e(e,t){var r=e.read_shift(2),n=Ha(e);return[r,n]}function Y3e(e,t,r){r||(r=nt(6+4*t.length)),r.write_shift(2,e),ma(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function K3e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=IDe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var d=e.read_shift(1);switch(d>0&&(n.charset=d),e.l++,n.color=MDe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ha(e),n}function X3e(e,t){t||(t=nt(25+4*32)),t.write_shift(2,e.sz*20),FDe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),vw(e.color,t);var n=0;return n=2,t.write_shift(1,n),ma(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Q3e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],UE,Z3e=ic;function W6(e,t){t||(t=nt(4*3+8*7+16*1)),UE||(UE=Q_(Q3e));var r=UE[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(vw({auto:1},t),vw({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function J3e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function $W(e,t,r){r||(r=nt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function qx(e,t){return t||(t=nt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var eOe=ic;function tOe(e,t){return t||(t=nt(51)),t.write_shift(1,0),qx(null,t),qx(null,t),qx(null,t),qx(null,t),qx(null,t),t.length>t.l?t.slice(0,t.l):t}function rOe(e,t){return t||(t=nt(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),yw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function sOe(e,t,r){var n=nt(2052);return n.write_shift(4,e),yw(t,n),yw(r,n),n.length>n.l?n.slice(0,n.l):n}function nOe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(gt(e,615,ll(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&gt(e,44,Y3e(a,t[a]))}),gt(e,616))}}function aOe(e){var t=1;gt(e,611,ll(t)),gt(e,43,X3e({sz:12,color:{theme:1},name:"Calibri",family:2})),gt(e,612)}function iOe(e){var t=2;gt(e,603,ll(t)),gt(e,45,W6({patternType:"none"})),gt(e,45,W6({patternType:"gray125"})),gt(e,604)}function oOe(e){var t=1;gt(e,613,ll(t)),gt(e,46,tOe()),gt(e,614)}function lOe(e){var t=1;gt(e,626,ll(t)),gt(e,47,$W({numFmtId:0},65535)),gt(e,627)}function cOe(e,t){gt(e,617,ll(t.length)),t.forEach(function(r){gt(e,47,$W(r,0))}),gt(e,618)}function dOe(e){var t=1;gt(e,619,ll(t)),gt(e,48,rOe({xfId:0,name:"Normal"})),gt(e,620)}function uOe(e){var t=0;gt(e,505,ll(t)),gt(e,506)}function fOe(e){var t=0;gt(e,508,sOe(t,"TableStyleMedium9","PivotStyleMedium4")),gt(e,509)}function hOe(e,t){var r=_i();return gt(r,278),nOe(r,e.SSF),aOe(r),iOe(r),oOe(r),lOe(r),cOe(r,t.cellXfs),dOe(r),uOe(r),fOe(r),gt(r,279),r.end()}function UW(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Hn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function mOe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ha(e)}}function pOe(e){var t=nt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ma(e.name,t),t.slice(0,t.l)}function xOe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function gOe(e){var t=nt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function yOe(e,t){var r=nt(8+2*t.length);return r.write_shift(4,e),ma(t,r),r.slice(0,r.l)}function vOe(e){return e.l+=4,e.read_shift(4)!=0}function bOe(e,t){var r=nt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function wOe(){var e=_i();return gt(e,332),gt(e,334,ll(1)),gt(e,335,pOe({name:"XLDAPR",version:12e4,flags:3496657072})),gt(e,336),gt(e,339,yOe(1,"XLDAPR")),gt(e,52),gt(e,35,ll(514)),gt(e,4096,ll(0)),gt(e,4097,bo(1)),gt(e,36),gt(e,53),gt(e,340),gt(e,337,bOe(1)),gt(e,51,gOe([[1,0]])),gt(e,338),gt(e,333),e.end()}function VW(){var e=[Hn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function NOe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Cs(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var dp=1024;function qW(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[kt("xml",null,{"xmlns:v":Wi.v,"xmlns:o":Wi.o,"xmlns:x":Wi.x,"xmlns:mv":Wi.mv}).replace(/\/>/,">"),kt("o:shapelayout",kt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),kt("v:shapetype",[kt("v:stroke",null,{joinstyle:"miter"}),kt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];dp<e*1e3;)dp+=1e3;return t.forEach(function(i){var o=ha(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var d=l.type=="gradient"?kt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=kt("v:fill",d,l),h={on:"t",obscured:"t"};++dp,a=a.concat(["<v:shape"+dy({id:"_x0000_s"+dp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,kt("v:shadow",null,h),kt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ja("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ja("x:AutoFill","False"),ja("x:Row",String(o.r)),ja("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function zW(e){var t=[Hn,kt("comments",null,{xmlns:D0[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=As(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(a=r.indexOf(As(d.a))),i.push(d.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ja("t",As(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(ja("t",As(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function jOe(e,t,r){var n=[Hn,kt("ThreadedComments",null,{xmlns:fa.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var d={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=d.id:d.parentId=i,o.ID=d.id,o.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(kt("threadedComment",ja("text",o.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function SOe(e){var t=[Hn,kt("personList",null,{xmlns:fa.TCMNT,"xmlns:x":D0[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(kt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function EOe(e){var t={};t.iauthor=e.read_shift(4);var r=Zh(e);return t.rfx=r.s,t.ref=Cs(r.s),e.l+=16,t}function AOe(e,t){return t==null&&(t=nt(36)),t.write_shift(4,e[1].iauthor),P0(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var COe=Ha;function TOe(e){return ma(e.slice(0,54))}function _Oe(e){var t=_i(),r=[];return gt(t,628),gt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),gt(t,632,TOe(a.a)))})}),gt(t,631),gt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:ha(n[0]),e:ha(n[0])};gt(t,635,AOe([i,a])),a.t&&a.t.length>0&&gt(t,637,DDe(a)),gt(t,636),delete a.iauthor})}),gt(t,634),gt(t,629),t.end()}function kOe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Ds.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var HW=["xlsb","xlsm","xlam","biff8","xla"],DOe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,d=!1;i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return l?h+=t.c:--h,d?u+=t.r:--u,a+(l?"":"$")+za(h)+(d?"":"$")+Ca(u)}return function(a,i){return t=i,a.replace(e,r)}}(),dk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,uk=function(){return function(t,r){return t.replace(dk,function(n,a,i,o,l,d){var u=nk(o)-(i?0:r.c),h=sk(d)-(l?0:r.r),p=h==0?"":l?h+1:"["+h+"]",g=u==0?"":i?u+1:"["+u+"]";return a+"R"+p+"C"+g})}}();function OOe(e,t){return e.replace(dk,function(r,n,a,i,o,l){return n+(a=="$"?a+i:za(nk(i)+t.c))+(o=="$"?o+l:Ca(sk(l)+t.r))})}function POe(e){return e.length!=1}function On(e){e.l+=1}function Qu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function WW(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return GW(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Qu(e),l=Qu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function GW(e){var t=Qu(e),r=Qu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function ROe(e,t,r){if(r.biff<8)return GW(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Qu(e),o=Qu(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function YW(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return MOe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Qu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function MOe(e){var t=Qu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function IOe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function FOe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return LOe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function LOe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function BOe(e,t,r){var n=(e[e.l++]&96)>>5,a=WW(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function $Oe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=WW(e,i,r);return[n,a,o]}function UOe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function VOe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function qOe(e,t,r){var n=(e[e.l++]&96)>>5,a=ROe(e,t-1,r);return[n,a]}function zOe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function G6(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function HOe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function WOe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function GOe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function YOe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function KOe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function KW(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function XOe(e){return e.read_shift(2),KW(e)}function QOe(e){return e.read_shift(2),KW(e)}function ZOe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=YW(e,0,r);return[n,a]}function JOe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=FOe(e,0,r);return[n,a]}function ePe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=YW(e,0,r);return[n,a,i]}function tPe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[tRe[a],ZW[a],n]}function rPe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:sPe(e);return[a,(i[0]===0?ZW:eRe)[i[1]]]}function sPe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function nPe(e,t,r){e.l+=r&&r.biff==2?3:4}function aPe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function iPe(e){return e.l++,cv[e.read_shift(1)]}function oPe(e){return e.l++,e.read_shift(2)}function lPe(e){return e.l++,e.read_shift(1)!==0}function cPe(e){return e.l++,R0(e)}function dPe(e,t,r){return e.l++,DW(e,t-1,r)}function uPe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=e3e(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=cv[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=R0(e);break;case 2:r[1]=n3e(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function fPe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Zh:o3e)(e));return a}function hPe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=uPe(e,r.biff);return o}function mPe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function pPe(e,t,r){if(r.biff==5)return xPe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function xPe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function gPe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function yPe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function vPe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function bPe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var wPe=ic,NPe=ic,jPe=ic;function dv(e,t,r){return e.l+=2,[IOe(e)]}function fk(e){return e.l+=6,[]}var SPe=dv,EPe=fk,APe=fk,CPe=dv;function XW(e){return e.l+=2,[_W(e),e.read_shift(2)&1]}var TPe=dv,_Pe=XW,kPe=fk,DPe=dv,OPe=dv,PPe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function RPe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=PPe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function MPe(e){return e.l+=2,[e.read_shift(4)]}function IPe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function FPe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function LPe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function BPe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function $Pe(e){return e.l+=4,[0,0]}var Y6={1:{n:"PtgExp",f:aPe},2:{n:"PtgTbl",f:jPe},3:{n:"PtgAdd",f:On},4:{n:"PtgSub",f:On},5:{n:"PtgMul",f:On},6:{n:"PtgDiv",f:On},7:{n:"PtgPower",f:On},8:{n:"PtgConcat",f:On},9:{n:"PtgLt",f:On},10:{n:"PtgLe",f:On},11:{n:"PtgEq",f:On},12:{n:"PtgGe",f:On},13:{n:"PtgGt",f:On},14:{n:"PtgNe",f:On},15:{n:"PtgIsect",f:On},16:{n:"PtgUnion",f:On},17:{n:"PtgRange",f:On},18:{n:"PtgUplus",f:On},19:{n:"PtgUminus",f:On},20:{n:"PtgPercent",f:On},21:{n:"PtgParen",f:On},22:{n:"PtgMissArg",f:On},23:{n:"PtgStr",f:dPe},26:{n:"PtgSheet",f:IPe},27:{n:"PtgEndSheet",f:FPe},28:{n:"PtgErr",f:iPe},29:{n:"PtgBool",f:lPe},30:{n:"PtgInt",f:oPe},31:{n:"PtgNum",f:cPe},32:{n:"PtgArray",f:zOe},33:{n:"PtgFunc",f:tPe},34:{n:"PtgFuncVar",f:rPe},35:{n:"PtgName",f:mPe},36:{n:"PtgRef",f:ZOe},37:{n:"PtgArea",f:BOe},38:{n:"PtgMemArea",f:gPe},39:{n:"PtgMemErr",f:wPe},40:{n:"PtgMemNoMem",f:NPe},41:{n:"PtgMemFunc",f:yPe},42:{n:"PtgRefErr",f:vPe},43:{n:"PtgAreaErr",f:UOe},44:{n:"PtgRefN",f:JOe},45:{n:"PtgAreaN",f:qOe},46:{n:"PtgMemAreaN",f:LPe},47:{n:"PtgMemNoMemN",f:BPe},57:{n:"PtgNameX",f:pPe},58:{n:"PtgRef3d",f:ePe},59:{n:"PtgArea3d",f:$Oe},60:{n:"PtgRefErr3d",f:bPe},61:{n:"PtgAreaErr3d",f:VOe},255:{}},UPe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},VPe={1:{n:"PtgElfLel",f:XW},2:{n:"PtgElfRw",f:DPe},3:{n:"PtgElfCol",f:SPe},6:{n:"PtgElfRwV",f:OPe},7:{n:"PtgElfColV",f:CPe},10:{n:"PtgElfRadical",f:TPe},11:{n:"PtgElfRadicalS",f:kPe},13:{n:"PtgElfColS",f:EPe},15:{n:"PtgElfColSV",f:APe},16:{n:"PtgElfRadicalLel",f:_Pe},25:{n:"PtgList",f:RPe},29:{n:"PtgSxName",f:MPe},255:{}},qPe={0:{n:"PtgAttrNoop",f:$Pe},1:{n:"PtgAttrSemi",f:KOe},2:{n:"PtgAttrIf",f:GOe},4:{n:"PtgAttrChoose",f:HOe},8:{n:"PtgAttrGoto",f:WOe},16:{n:"PtgAttrSum",f:nPe},32:{n:"PtgAttrBaxcel",f:G6},33:{n:"PtgAttrBaxcel",f:G6},64:{n:"PtgAttrSpace",f:XOe},65:{n:"PtgAttrSpaceSemi",f:QOe},128:{n:"PtgAttrIfError",f:YOe},255:{}};function zPe(e,t,r,n){if(n.biff<8)return ic(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=hPe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=fPe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(ic(e,t)),i}function HPe(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=Y6[i]||Y6[UPe[i]],(i===24||i===25)&&(a=(i===24?VPe:qPe)[e[e.l+1]]),!a||!a.f?ic(e,t):o.push([a.n,a.f(e,t,r)]);return o}function WPe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var GPe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function YPe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function QW(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function K6(e,t,r){var n=QW(e,t,r);return n=="#REF"?n:YPe(n,r)}function s0(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],d,u,h,p=0,g=0,y,w="";if(!e[0]||!e[0][0])return"";for(var v=-1,N="",j=0,A=e[0].length;j<A;++j){var E=e[0][j];switch(E[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=l.pop(),u=l.pop(),v>=0){switch(e[0][v][1][0]){case 0:N=xn(" ",e[0][v][1][1]);break;case 1:N=xn("\r",e[0][v][1][1]);break;default:if(N="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}u=u+N,v=-1}l.push(u+GPe[E[0]]+d);break;case"PtgIsect":d=l.pop(),u=l.pop(),l.push(u+" "+d);break;case"PtgUnion":d=l.pop(),u=l.pop(),l.push(u+","+d);break;case"PtgRange":d=l.pop(),u=l.pop(),l.push(u+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=hg(E[1][1],o,a),l.push(mg(h,i));break;case"PtgRefN":h=r?hg(E[1][1],r,a):E[1][1],l.push(mg(h,i));break;case"PtgRef3d":p=E[1][1],h=hg(E[1][2],o,a),w=K6(n,p,a),l.push(w+"!"+mg(h,i));break;case"PtgFunc":case"PtgFuncVar":var S=E[1][0],_=E[1][1];S||(S=0),S&=127;var k=S==0?[]:l.slice(-S);l.length-=S,_==="User"&&(_=k.shift()),l.push(_+"("+k.join(",")+")");break;case"PtgBool":l.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(E[1]);break;case"PtgNum":l.push(String(E[1]));break;case"PtgStr":l.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(E[1]);break;case"PtgAreaN":y=P6(E[1][1],r?{s:r}:o,a),l.push(BE(y,a));break;case"PtgArea":y=P6(E[1][1],o,a),l.push(BE(y,a));break;case"PtgArea3d":p=E[1][1],y=E[1][2],w=K6(n,p,a),l.push(w+"!"+BE(y,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=E[1][2];var T=(n.names||[])[g-1]||(n[0]||[])[g],O=T?T.Name:"SH33TJSNAME"+String(g);O&&O.slice(0,6)=="_xlfn."&&!a.xlfn&&(O=O.slice(6)),l.push(O);break;case"PtgNameX":var P=E[1][1];g=E[1][2];var I;if(a.biff<=5)P<0&&(P=-P),n[P]&&(I=n[P][g]);else{var M="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][g]&&n[P][g].itab>0&&(M=n.SheetNames[n[P][g].itab-1]+"!"):M=n.SheetNames[g-1]+"!"),n[P]&&n[P][g])M+=n[P][g].Name;else if(n[0]&&n[0][g])M+=n[0][g].Name;else{var q=(QW(n,P,a)||"").split(";;");q[g-1]?M=q[g-1]:M+="SH33TJSERRX"}l.push(M);break}I||(I={Name:"SH33TJSERRY"}),l.push(I.Name);break;case"PtgParen":var U="(",re=")";if(v>=0){switch(N="",e[0][v][1][0]){case 2:U=xn(" ",e[0][v][1][1])+U;break;case 3:U=xn("\r",e[0][v][1][1])+U;break;case 4:re=xn(" ",e[0][v][1][1])+re;break;case 5:re=xn("\r",e[0][v][1][1])+re;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}l.push(U+l.pop()+re);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":h={c:E[1][1],r:E[1][0]};var te={c:r.c,r:r.r};if(n.sharedf[Cs(h)]){var B=n.sharedf[Cs(h)];l.push(s0(B,o,te,n,a))}else{var H=!1;for(d=0;d!=n.arrayf.length;++d)if(u=n.arrayf[d],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){l.push(s0(u[1],o,te,n,a)),H=!0;break}H||l.push(E[1])}break;case"PtgArray":l.push("{"+WPe(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var R=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&R.indexOf(e[0][j][0])==-1){E=e[0][v];var X=!0;switch(E[1][0]){case 4:X=!1;case 0:N=xn(" ",E[1][1]);break;case 5:X=!1;case 1:N=xn("\r",E[1][1]);break;default:if(N="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}l.push((X?N:"")+l.pop()+(X?"":N)),v=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function KPe(e){if(e==null){var t=nt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Ah(e);return Ah(0)}function XPe(e,t,r,n,a){var i=Ch(t,r,a),o=KPe(e.v),l=nt(6),d=33;l.write_shift(2,d),l.write_shift(4,0);for(var u=nt(e.bf.length),h=0;h<e.bf.length;++h)u[h]=e.bf[h];var p=Na([i,o,l,u]);return p}function VN(e,t,r){var n=e.read_shift(4),a=HPe(e,n,r),i=e.read_shift(4),o=i>0?zPe(e,i,a,r):null;return[a,o]}var QPe=VN,qN=VN,ZPe=VN,JPe=VN,eRe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ZW={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},tRe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function rRe(e){var t="of:="+e.replace(dk,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function sRe(e){return e.replace(/\./,"!")}var pg=typeof Map<"u";function hk(e,t,r){var n=0,a=e.length;if(r){if(pg?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=pg?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(pg?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function zN(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Zc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Nw(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=eT(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function JW(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function uf(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){YH(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function nRe(e,t,r){if(e&&e["!ref"]){var n=Gs(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function aRe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+In(e[r])+'"/>';return t+"</mergeCells>"}function iRe(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var d=t.SheetNames[r];try{t.Workbook&&(d=t.Workbook.Sheets[r].CodeName||d)}catch{}i=!0,o.codeName=cy(As(d))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+kt("outlinePr",null,u)}!i&&!l||(a[a.length]=kt("sheetPr",l,o))}var oRe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],lRe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function cRe(e){var t={sheet:1};return oRe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),lRe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=IW(e.password).toString(16).toUpperCase()),kt("sheetProtection",null,t)}function dRe(e){return JW(e),kt("pageMargins",null,e)}function uRe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=kt("col",null,zN(a,n)));return r[r.length]="</cols>",r.join("")}function fRe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:In(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ji(a);o.s.r==o.e.r&&(o.e.r=Ji(t["!ref"]).e.r,a=In(o));for(var l=0;l<i.length;++l){var d=i[l];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),kt("autoFilter",null,{ref:a})}function hRe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),kt("sheetViews",kt("sheetView",null,a),{})}function mRe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=cv[e.v];break;case"d":n&&n.cellDates?a=oi(e.v,-1).toISOString():(e=Oi(e),e.t="n",a=""+(e.v=Di(oi(e.v)))),typeof e.z>"u"&&(e.z=gn[14]);break;default:a=e.v;break}var l=ja("v",As(a)),d={r:t},u=uf(n.cellXfs,e,n);switch(u!==0&&(d.s=u),e.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=ja("v",""+hk(n.Strings,e.v,n.revStrings)),d.t="s";break}d.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=kt("f",As(e.f),h)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(d.cm=1),kt("c",l,d)}function pRe(e,t,r,n){var a=[],i=[],o=Gs(e["!ref"]),l="",d,u="",h=[],p=0,g=0,y=e["!rows"],w=Array.isArray(e),v={r:u},N,j=-1;for(g=o.s.c;g<=o.e.c;++g)h[g]=za(g);for(p=o.s.r;p<=o.e.r;++p){for(i=[],u=Ca(p),g=o.s.c;g<=o.e.c;++g){d=h[g]+u;var A=w?(e[p]||[])[g]:e[d];A!==void 0&&(l=mRe(A,d,e,t))!=null&&i.push(l)}(i.length>0||y&&y[p])&&(v={r:u},y&&y[p]&&(N=y[p],N.hidden&&(v.hidden=1),j=-1,N.hpx?j=jw(N.hpx):N.hpt&&(j=N.hpt),j>-1&&(v.ht=j,v.customHeight=1),N.level&&(v.outlineLevel=N.level)),a[a.length]=kt("row",i.join(""),v))}if(y)for(;p<y.length;++p)y&&y[p]&&(v={r:p+1},N=y[p],N.hidden&&(v.hidden=1),j=-1,N.hpx?j=jw(N.hpx):N.hpt&&(j=N.hpt),j>-1&&(v.ht=j,v.customHeight=1),N.level&&(v.outlineLevel=N.level),a[a.length]=kt("row","",v));return a.join("")}function eG(e,t,r,n){var a=[Hn,kt("worksheet",null,{xmlns:D0[0],"xmlns:r":fa.r})],i=r.SheetNames[e],o=0,l="",d=r.Sheets[i];d==null&&(d={});var u=d["!ref"]||"A1",h=Gs(u);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=In(h)}n||(n={}),d["!comments"]=[];var p=[];iRe(d,r,e,t,a),a[a.length]=kt("dimension",null,{ref:u}),a[a.length]=hRe(d,t,e,r),t.sheetFormat&&(a[a.length]=kt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(a[a.length]=uRe(d,d["!cols"])),a[o=a.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(l=pRe(d,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),d["!protect"]&&(a[a.length]=cRe(d["!protect"])),d["!autofilter"]!=null&&(a[a.length]=fRe(d["!autofilter"],d,r,e)),d["!merges"]!=null&&d["!merges"].length>0&&(a[a.length]=aRe(d["!merges"]));var g=-1,y,w=-1;return d["!links"].length>0&&(a[a.length]="<hyperlinks>",d["!links"].forEach(function(v){v[1].Target&&(y={ref:v[0]},v[1].Target.charAt(0)!="#"&&(w=Es(n,-1,As(v[1].Target).replace(/#.*$/,""),us.HLINK),y["r:id"]="rId"+w),(g=v[1].Target.indexOf("#"))>-1&&(y.location=As(v[1].Target.slice(g+1))),v[1].Tooltip&&(y.tooltip=As(v[1].Tooltip)),a[a.length]=kt("hyperlink",null,y))}),a[a.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(a[a.length]=dRe(d["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ja("ignoredErrors",kt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(w=Es(n,-1,"../drawings/drawing"+(e+1)+".xml",us.DRAW),a[a.length]=kt("drawing",null,{"r:id":"rId"+w}),d["!drawing"]=p),d["!comments"].length>0&&(w=Es(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",us.VML),a[a.length]=kt("legacyDrawing",null,{"r:id":"rId"+w}),d["!legacy"]=w),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function xRe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function gRe(e,t,r){var n=nt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=jw(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,d=n.l;n.l+=4;for(var u={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var p=-1,g=-1,y=h<<10;y<h+1<<10;++y){u.c=y;var w=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Cs(u)];w&&(p<0&&(p=y),g=y)}p<0||(++l,n.write_shift(4,p),n.write_shift(4,g))}var v=n.l;return n.l=d,n.write_shift(4,l),n.l=v,n.length>n.l?n.slice(0,n.l):n}function yRe(e,t,r,n){var a=gRe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&gt(e,0,a)}var vRe=Zh,bRe=P0;function wRe(){}function NRe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=ODe(e),r}function jRe(e,t,r){r==null&&(r=nt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return vw({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),pW(e,r),r.slice(0,r.l)}function SRe(e){var t=Ro(e);return[t]}function ERe(e,t,r){return r==null&&(r=nt(8)),Kh(t,r)}function ARe(e){var t=Xh(e);return[t]}function CRe(e,t,r){return r==null&&(r=nt(4)),Qh(t,r)}function TRe(e){var t=Ro(e),r=e.read_shift(1);return[t,r,"b"]}function _Re(e,t,r){return r==null&&(r=nt(9)),Kh(t,r),r.write_shift(1,e.v?1:0),r}function kRe(e){var t=Xh(e),r=e.read_shift(1);return[t,r,"b"]}function DRe(e,t,r){return r==null&&(r=nt(5)),Qh(t,r),r.write_shift(1,e.v?1:0),r}function ORe(e){var t=Ro(e),r=e.read_shift(1);return[t,r,"e"]}function PRe(e,t,r){return r==null&&(r=nt(9)),Kh(t,r),r.write_shift(1,e.v),r}function RRe(e){var t=Xh(e),r=e.read_shift(1);return[t,r,"e"]}function MRe(e,t,r){return r==null&&(r=nt(8)),Qh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function IRe(e){var t=Ro(e),r=e.read_shift(4);return[t,r,"s"]}function FRe(e,t,r){return r==null&&(r=nt(12)),Kh(t,r),r.write_shift(4,t.v),r}function LRe(e){var t=Xh(e),r=e.read_shift(4);return[t,r,"s"]}function BRe(e,t,r){return r==null&&(r=nt(8)),Qh(t,r),r.write_shift(4,t.v),r}function $Re(e){var t=Ro(e),r=R0(e);return[t,r,"n"]}function URe(e,t,r){return r==null&&(r=nt(16)),Kh(t,r),Ah(e.v,r),r}function VRe(e){var t=Xh(e),r=R0(e);return[t,r,"n"]}function qRe(e,t,r){return r==null&&(r=nt(12)),Qh(t,r),Ah(e.v,r),r}function zRe(e){var t=Ro(e),r=xW(e);return[t,r,"n"]}function HRe(e,t,r){return r==null&&(r=nt(12)),Kh(t,r),gW(e.v,r),r}function WRe(e){var t=Xh(e),r=xW(e);return[t,r,"n"]}function GRe(e,t,r){return r==null&&(r=nt(8)),Qh(t,r),gW(e.v,r),r}function YRe(e){var t=Ro(e),r=ak(e);return[t,r,"is"]}function KRe(e){var t=Ro(e),r=Ha(e);return[t,r,"str"]}function XRe(e,t,r){return r==null&&(r=nt(12+4*e.v.length)),Kh(t,r),ma(e.v,r),r.length>r.l?r.slice(0,r.l):r}function QRe(e){var t=Xh(e),r=Ha(e);return[t,r,"str"]}function ZRe(e,t,r){return r==null&&(r=nt(8+4*e.v.length)),Qh(t,r),ma(e.v,r),r.length>r.l?r.slice(0,r.l):r}function JRe(e,t,r){var n=e.l+t,a=Ro(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=qN(e,n-e.l,r);o[3]=s0(l,null,a,r.supbooks,r)}else e.l=n;return o}function e5e(e,t,r){var n=e.l+t,a=Ro(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=qN(e,n-e.l,r);o[3]=s0(l,null,a,r.supbooks,r)}else e.l=n;return o}function t5e(e,t,r){var n=e.l+t,a=Ro(e);a.r=r["!row"];var i=R0(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=qN(e,n-e.l,r);o[3]=s0(l,null,a,r.supbooks,r)}else e.l=n;return o}function r5e(e,t,r){var n=e.l+t,a=Ro(e);a.r=r["!row"];var i=Ha(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=qN(e,n-e.l,r);o[3]=s0(l,null,a,r.supbooks,r)}else e.l=n;return o}var s5e=Zh,n5e=P0;function a5e(e,t){return t==null&&(t=nt(4)),t.write_shift(4,e),t}function i5e(e,t){var r=e.l+t,n=Zh(e),a=ik(e),i=Ha(e),o=Ha(e),l=Ha(e);e.l=r;var d={rfx:n,relId:a,loc:i,display:l};return o&&(d.Tooltip=o),d}function o5e(e,t){var r=nt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));P0({s:ha(e[0]),e:ha(e[0])},r),ok("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return ma(a||"",r),ma(e[1].Tooltip||"",r),ma("",r),r.slice(0,r.l)}function l5e(){}function c5e(e,t,r){var n=e.l+t,a=yW(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=QPe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function d5e(e,t,r){var n=e.l+t,a=Zh(e),i=[a];if(r.cellFormula){var o=JPe(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function u5e(e,t,r){r==null&&(r=nt(18));var n=zN(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var tG=["left","right","top","bottom","header","footer"];function f5e(e){var t={};return tG.forEach(function(r){t[r]=R0(e)}),t}function h5e(e,t){return t==null&&(t=nt(6*8)),JW(e),tG.forEach(function(r){Ah(e[r],t)}),t}function m5e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function p5e(e,t,r){r==null&&(r=nt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function x5e(e){var t=nt(24);return t.write_shift(4,4),t.write_shift(4,1),P0(e,t),t}function g5e(e,t){return t==null&&(t=nt(16*4+2)),t.write_shift(2,e.password?IW(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function y5e(){}function v5e(){}function b5e(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Oi(t),t.z=t.z||gn[14],t.v=Di(oi(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var d={r,c:n};switch(d.s=uf(a.cellXfs,t,a),t.l&&i["!links"].push([Cs(d),t.l]),t.c&&i["!comments"].push([Cs(d),t.c]),t.t){case"s":case"str":return a.bookSST?(l=hk(a.Strings,t.v,a.revStrings),d.t="s",d.v=l,o?gt(e,18,BRe(t,d)):gt(e,7,FRe(t,d))):(d.t="str",o?gt(e,17,ZRe(t,d)):gt(e,6,XRe(t,d))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?gt(e,13,GRe(t,d)):gt(e,2,HRe(t,d)):o?gt(e,16,qRe(t,d)):gt(e,5,URe(t,d)),!0;case"b":return d.t="b",o?gt(e,15,DRe(t,d)):gt(e,4,_Re(t,d)),!0;case"e":return d.t="e",o?gt(e,14,MRe(t,d)):gt(e,3,PRe(t,d)),!0}return o?gt(e,12,CRe(t,d)):gt(e,1,ERe(t,d)),!0}function w5e(e,t,r,n){var a=Gs(t["!ref"]||"A1"),i,o="",l=[];gt(e,145);var d=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=u;++h){o=Ca(h),yRe(e,t,a,h);var p=!1;if(h<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){h===a.s.r&&(l[g]=za(g)),i=l[g]+o;var y=d?(t[h]||[])[g]:t[i];if(!y){p=!1;continue}p=b5e(e,y,h,g,n,t,p)}}gt(e,146)}function N5e(e,t){!t||!t["!merges"]||(gt(e,177,a5e(t["!merges"].length)),t["!merges"].forEach(function(r){gt(e,176,n5e(r))}),gt(e,178))}function j5e(e,t){!t||!t["!cols"]||(gt(e,390),t["!cols"].forEach(function(r,n){r&&gt(e,60,u5e(n,r))}),gt(e,391))}function S5e(e,t){!t||!t["!ref"]||(gt(e,648),gt(e,649,x5e(Gs(t["!ref"]))),gt(e,650))}function E5e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Es(r,-1,n[1].Target.replace(/#.*$/,""),us.HLINK);gt(e,494,o5e(n,a))}}),delete t["!links"]}function A5e(e,t,r,n){if(t["!comments"].length>0){var a=Es(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",us.VML);gt(e,551,ok("rId"+a)),t["!legacy"]=a}}function C5e(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:In(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Ji(i);l.s.r==l.e.r&&(l.e.r=Ji(t["!ref"]).e.r,i=In(l));for(var d=0;d<o.length;++d){var u=o[d];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),gt(e,161,P0(Gs(i))),gt(e,162)}}function T5e(e,t,r){gt(e,133),gt(e,137,p5e(t,r)),gt(e,138),gt(e,134)}function _5e(e,t){t["!protect"]&&gt(e,535,g5e(t["!protect"]))}function k5e(e,t,r,n){var a=_i(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var d=Gs(o["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],gt(a,129),(r.vbaraw||o["!outline"])&&gt(a,147,jRe(l,o["!outline"])),gt(a,148,bRe(d)),T5e(a,o,r.Workbook),j5e(a,o),w5e(a,o,e,t),_5e(a,o),C5e(a,o,r,e),N5e(a,o),E5e(a,o,n),o["!margins"]&&gt(a,476,h5e(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&S5e(a,o),A5e(a,o,e,n),gt(a,130),a.end()}function D5e(e,t){e.l+=10;var r=Ha(e);return{name:r}}var O5e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function P5e(e){return!e.Workbook||!e.Workbook.WBProps?"false":dDe(e.Workbook.WBProps.date1904)?"true":"false"}var R5e="][*?/\\".split("");function rG(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return R5e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function M5e(e,t,r){e.forEach(function(n,a){rG(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function I5e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];M5e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)nRe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function sG(e){var t=[Hn];t[t.length]=kt("workbook",null,{xmlns:D0[0],"xmlns:r":fa.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(O5e.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=kt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:As(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=kt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var d={name:l.Name};l.Comment&&(d.comment=l.Comment),l.Sheet!=null&&(d.localSheetId=""+l.Sheet),l.Hidden&&(d.hidden="1"),l.Ref&&(t[t.length]=kt("definedName",As(l.Ref),d))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function F5e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=JC(e),r.name=Ha(e),r}function L5e(e,t){return t||(t=nt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),ok(e.strRelID,t),ma(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function B5e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ha(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function $5e(e,t){t||(t=nt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),pW(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function U5e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=PDe(e),o=ZPe(e,0,r),l=ik(e);e.l=n;var d={Name:i,Ptg:o};return a<268435455&&(d.Sheet=a),l&&(d.Comment=l),d}function V5e(e,t){gt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};gt(e,156,L5e(a))}gt(e,144)}function q5e(e,t){t||(t=nt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return ma("SheetJS",t),ma(fw.version,t),ma(fw.version,t),ma("7262",t),t.length>t.l?t.slice(0,t.l):t}function z5e(e,t){t||(t=nt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function H5e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(gt(e,135),gt(e,158,z5e(a)),gt(e,136))}}function W5e(e,t){var r=_i();return gt(r,131),gt(r,128,q5e()),gt(r,153,$5e(e.Workbook&&e.Workbook.WBProps||null)),H5e(r,e),V5e(r,e),gt(r,132),r.end()}function G5e(e,t,r){return(t.slice(-4)===".bin"?W5e:sG)(e)}function Y5e(e,t,r,n,a){return(t.slice(-4)===".bin"?k5e:eG)(e,r,n,a)}function K5e(e,t,r){return(t.slice(-4)===".bin"?hOe:BW)(e,r)}function X5e(e,t,r){return(t.slice(-4)===".bin"?$3e:MW)(e,r)}function Q5e(e,t,r){return(t.slice(-4)===".bin"?_Oe:zW)(e)}function Z5e(e){return(e.slice(-4)===".bin"?wOe:VW)()}function J5e(e,t){var r=[];return e.Props&&r.push(KDe(e.Props,t)),e.Custprops&&r.push(XDe(e.Props,e.Custprops)),r.join("")}function eMe(){return""}function tMe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(kt("NumberFormat",null,{"ss:Format":As(gn[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(kt("Style",i.join(""),o))}),kt("Styles",r.join(""))}function nG(e){return kt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+uk(e.Ref,{r:0,c:0})})}function rMe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(nG(a)))}return kt("Names",r.join(""))}function sMe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(nG(l)))}return i.join("")}function nMe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(kt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(kt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(kt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(kt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ja("ProtectContents","True")),e["!protect"].objects&&a.push(ja("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ja("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ja("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ja("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":kt("WorksheetOptions",a.join(""),{xmlns:Wi.x})}function aMe(e){return e.map(function(t){var r=cDe(t.t||""),n=kt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return kt("Comment",n,{"ss:Author":t.a})}).join("")}function iMe(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+As(uk(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var d=ha(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(d.r==o.r?"":"["+(d.r-o.r)+"]")+"C"+(d.c==o.c?"":"["+(d.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=As(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=As(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],h=0;h!=u.length;++h)u[h].s.c!=o.c||u[h].s.r!=o.r||(u[h].e.c>u[h].s.c&&(l["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(l["ss:MergeDown"]=u[h].e.r-u[h].s.r));var p="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(e.v);break;case"b":p="Boolean",g=e.v?"1":"0";break;case"e":p="Error",g=cv[e.v];break;case"d":p="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||gn[14]);break;case"s":p="String",g=lDe(e.v||"");break}var y=uf(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+y),l["ss:Index"]=o.c+1;var w=e.v!=null?g:"",v=e.t=="z"?"":'<Data ss:Type="'+p+'">'+w+"</Data>";return(e.c||[]).length>0&&(v+=aMe(e.c)),kt("Cell",v,l)}function oMe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=LW(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function lMe(e,t,r,n){if(!e["!ref"])return"";var a=Gs(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(N,j){ck(N);var A=!!N.width,E=zN(j,N),S={"ss:Index":j+1};A&&(S["ss:Width"]=ww(E.width)),N.hidden&&(S["ss:Hidden"]="1"),l.push(kt("Column",null,S))});for(var d=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var h=[oMe(u,(e["!rows"]||[])[u])],p=a.s.c;p<=a.e.c;++p){var g=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>p)&&!(i[o].s.r>u)&&!(i[o].e.c<p)&&!(i[o].e.r<u)){(i[o].s.c!=p||i[o].s.r!=u)&&(g=!0);break}if(!g){var y={r:u,c:p},w=Cs(y),v=d?(e[u]||[])[p]:e[w];h.push(iMe(v,w,e,t,r,n,y))}}h.push("</Row>"),h.length>2&&l.push(h.join(""))}return l.join("")}function cMe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?sMe(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?lMe(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(nMe(i,t,e,r)),n.join("")}function dMe(e,t){t||(t={}),e.SSF||(e.SSF=Oi(gn)),e.SSF&&(BN(),LN(e.SSF),t.revssf=$N(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],uf(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(J5e(e,t)),r.push(eMe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(kt("Worksheet",cMe(n,t,e),{"ss:Name":As(e.SheetNames[n])}));return r[2]=tMe(e,t),r[3]=rMe(e),Hn+kt("Workbook",r.join(""),{xmlns:Wi.ss,"xmlns:o":Wi.o,"xmlns:x":Wi.x,"xmlns:ss":Wi.ss,"xmlns:dt":Wi.dt,"xmlns:html":Wi.html})}var VE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function uMe(e,t){var r=[],n=[],a=[],i=0,o,l=N6(M6,"n"),d=N6(I6,"n");if(e.Props)for(o=_a(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(d,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=_a(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(d,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)TW.indexOf(a[i][0])>-1||EW.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Ds.utils.cfb_add(t,"/SummaryInformation",U6(n,VE.SI,d,I6)),(r.length||u.length)&&Ds.utils.cfb_add(t,"/DocumentSummaryInformation",U6(r,VE.DSI,l,M6,u.length?u:null,VE.UDI))}function fMe(e,t){var r=t||{},n=Ds.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ds.utils.cfb_add(n,a,aG(e,r)),r.biff==8&&(e.Props||e.Custprops)&&uMe(e,n),r.biff==8&&e.vbaraw&&kOe(n,Ds.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var hMe={0:{f:xRe},1:{f:SRe},2:{f:zRe},3:{f:ORe},4:{f:TRe},5:{f:$Re},6:{f:KRe},7:{f:IRe},8:{f:r5e},9:{f:t5e},10:{f:JRe},11:{f:e5e},12:{f:ARe},13:{f:WRe},14:{f:RRe},15:{f:kRe},16:{f:VRe},17:{f:QRe},18:{f:LRe},19:{f:ak},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:U5e},40:{},42:{},43:{f:K3e},44:{f:G3e},45:{f:Z3e},46:{f:eOe},47:{f:J3e},48:{},49:{f:ADe},50:{},51:{f:xOe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:C3e},62:{f:YRe},63:{f:NOe},64:{f:y5e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ic,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:m5e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:NRe},148:{f:vRe,p:16},151:{f:l5e},152:{},153:{f:B5e},154:{},155:{},156:{f:F5e},157:{},158:{},159:{T:1,f:F3e},160:{T:-1},161:{T:1,f:Zh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:s5e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:mOe},336:{T:-1},337:{f:vOe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:JC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:w3e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:c5e},427:{f:d5e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:f5e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:wRe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:i5e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:JC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:COe},633:{T:1},634:{T:-1},635:{T:1,f:EOe},636:{T:-1},637:{f:kDe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:D5e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:v5e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Dt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&rk(r)&&e.push(r)}}function mMe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Dt(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,d=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,u),e.push(r.slice(d,d+u)),d+=u;d<a;){for(h=e.next(4),h.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;h.write_shift(2,u),e.push(r.slice(d,d+u)),d+=u}}}function uv(e,t,r){return e||(e=nt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function pMe(e,t,r,n){var a=nt(9);return uv(a,e,t),kW(r,n||"b",a),a}function xMe(e,t,r){var n=nt(8+2*r.length);return uv(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function gMe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Di(oi(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Dt(e,2,D3e(r,n,a)):Dt(e,3,k3e(r,n,a));return;case"b":case"e":Dt(e,5,pMe(r,n,t.v,t.t));return;case"s":case"str":Dt(e,4,xMe(r,n,(t.v||"").slice(0,255)));return}Dt(e,1,uv(null,r,n))}function yMe(e,t,r,n){var a=Array.isArray(t),i=Gs(t["!ref"]||"A1"),o,l="",d=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=In(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Ca(u);for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(d[h]=za(h)),o=d[h]+l;var p=a?(t[u]||[])[h]:t[o];p&&gMe(e,p,u,h)}}}function vMe(e,t){for(var r=t||{},n=_i(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Dt(n,r.biff==4?1033:r.biff==3?521:9,lk(e,16,r)),yMe(n,e.Sheets[e.SheetNames[a]],a,r),Dt(n,10),n.end()}function bMe(e,t,r){Dt(e,49,h3e({sz:12,name:"Arial"},r))}function wMe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Dt(e,1054,x3e(a,t[a],r))})}function NMe(e,t){var r=nt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Dt(e,2151,r),r=nt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),PW(Gs(t["!ref"]||"A1"),r),r.write_shift(4,4),Dt(e,2152,r)}function jMe(e,t){for(var r=0;r<16;++r)Dt(e,224,q6({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Dt(e,224,q6(n,0,t))})}function SMe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Dt(e,440,S3e(n)),n[1].Tooltip&&Dt(e,2048,E3e(n))}delete t["!links"]}function EMe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Dt(e,125,T3e(zN(a,n),a))})}}function AMe(e,t,r,n,a){var i=16+uf(a.cellXfs,t,a);if(t.v==null&&!t.bf){Dt(e,513,Ch(r,n,i));return}if(t.bf)Dt(e,6,XPe(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Di(oi(t.v)):t.v;Dt(e,515,b3e(r,n,o,i));break;case"b":case"e":Dt(e,517,v3e(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=hk(a.Strings,t.v,a.revStrings);Dt(e,253,m3e(r,n,l,i))}else Dt(e,516,p3e(r,n,(t.v||"").slice(0,255),i,a));break;default:Dt(e,513,Ch(r,n,i))}}function CMe(e,t,r){var n=_i(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},d=Array.isArray(i),u=t.biff==8,h,p="",g=[],y=Gs(i["!ref"]||"A1"),w=u?65536:16384;if(y.e.c>255||y.e.r>=w){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,w-1)}Dt(n,2057,lk(r,16,t)),Dt(n,13,bo(1)),Dt(n,12,bo(100)),Dt(n,15,ti(!0)),Dt(n,17,ti(!1)),Dt(n,16,Ah(.001)),Dt(n,95,ti(!0)),Dt(n,42,ti(!1)),Dt(n,43,ti(!1)),Dt(n,130,bo(1)),Dt(n,128,y3e()),Dt(n,131,ti(!1)),Dt(n,132,ti(!1)),u&&EMe(n,i["!cols"]),Dt(n,512,g3e(y,t)),u&&(i["!links"]=[]);for(var v=y.s.r;v<=y.e.r;++v){p=Ca(v);for(var N=y.s.c;N<=y.e.c;++N){v===y.s.r&&(g[N]=za(N)),h=g[N]+p;var j=d?(i[v]||[])[N]:i[h];j&&(AMe(n,j,v,N,t),u&&j.l&&i["!links"].push([h,j.l]))}}var A=l.CodeName||l.name||a;return u&&Dt(n,574,f3e((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Dt(n,229,j3e(i["!merges"])),u&&SMe(n,i),Dt(n,442,OW(A)),u&&NMe(n,i),Dt(n,10),n.end()}function TMe(e,t,r){var n=_i(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,d=r.biff==5;if(Dt(n,2057,lk(e,5,r)),r.bookType=="xla"&&Dt(n,135),Dt(n,225,l?bo(1200):null),Dt(n,193,JDe(2)),d&&Dt(n,191),d&&Dt(n,192),Dt(n,226),Dt(n,92,l3e("SheetJS",r)),Dt(n,66,bo(l?1200:1252)),l&&Dt(n,353,bo(0)),l&&Dt(n,448),Dt(n,317,_3e(e.SheetNames.length)),l&&e.vbaraw&&Dt(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Dt(n,442,OW(u))}Dt(n,156,bo(17)),Dt(n,25,ti(!1)),Dt(n,18,ti(!1)),Dt(n,19,bo(0)),l&&Dt(n,431,ti(!1)),l&&Dt(n,444,bo(0)),Dt(n,61,u3e()),Dt(n,64,ti(!1)),Dt(n,141,bo(0)),Dt(n,34,ti(P5e(e)=="true")),Dt(n,14,ti(!0)),l&&Dt(n,439,ti(!1)),Dt(n,218,bo(0)),bMe(n,e,r),wMe(n,e.SSF,r),jMe(n,r),l&&Dt(n,352,ti(!1));var h=n.end(),p=_i();l&&Dt(p,140,A3e()),l&&r.Strings&&mMe(p,252,d3e(r.Strings)),Dt(p,10);var g=p.end(),y=_i(),w=0,v=0;for(v=0;v<e.SheetNames.length;++v)w+=(l?12:11)+(l?2:1)*e.SheetNames[v].length;var N=h.length+w+g.length;for(v=0;v<e.SheetNames.length;++v){var j=i[v]||{};Dt(y,133,c3e({pos:N,hs:j.Hidden||0,dt:0,name:e.SheetNames[v]},r)),N+=t[v].length}var A=y.end();if(w!=A.length)throw new Error("BS8 "+w+" != "+A.length);var E=[];return h.length&&E.push(h),A.length&&E.push(A),g.length&&E.push(g),Na(E)}function _Me(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Oi(gn)),e&&e.SSF&&(BN(),LN(e.SSF),r.revssf=$N(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,mk(r),r.cellXfs=[],uf(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=CMe(a,r,e);return n.unshift(TMe(e,n,r)),Na(n)}function aG(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Ji(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return _Me(e,t);case 4:case 3:case 2:return vMe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function kMe(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,d=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,d=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var h=Cs({r,c:o}),p=n.dense?(e[r]||[])[o]:e[h],g=p&&p.v!=null&&(p.h||oDe(p.w||(hd(p),p.w)||""))||"",y={};l>1&&(y.rowspan=l),d>1&&(y.colspan=d),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(y["data-t"]=p&&p.t||"z",p.v!=null&&(y["data-v"]=p.v),p.z!=null&&(y["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),y.id=(n.id||"sjs")+"-"+h,i.push(kt("td",g,y))}}var w="<tr>";return w+i.join("")+"</tr>"}var DMe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',OMe="</body></html>";function PMe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function iG(e,t){var r=t||{},n=r.header!=null?r.header:DMe,a=r.footer!=null?r.footer:OMe,i=[n],o=Ji(e["!ref"]);r.dense=Array.isArray(e),i.push(PMe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(kMe(e,o,l,r));return i.push("</table>"+a),i.join("")}function oG(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?ha(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=Ji(e["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),a==-1&&(u.e.r=a=h.e.r+1)}var p=[],g=0,y=e["!rows"]||(e["!rows"]=[]),w=0,v=0,N=0,j=0,A=0,E=0;for(e["!cols"]||(e["!cols"]=[]);w<l.length&&v<d;++w){var S=l[w];if(X6(S)){if(n.display)continue;y[v]={hidden:!0}}var _=S.children;for(N=j=0;N<_.length;++N){var k=_[N];if(!(n.display&&X6(k))){var T=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):uDe(k.innerHTML),O=k.getAttribute("data-z")||k.getAttribute("z");for(g=0;g<p.length;++g){var P=p[g];P.s.c==j+i&&P.s.r<v+a&&v+a<=P.e.r&&(j=P.e.c+1-i,g=-1)}E=+k.getAttribute("colspan")||1,((A=+k.getAttribute("rowspan")||1)>1||E>1)&&p.push({s:{r:v+a,c:j+i},e:{r:v+a+(A||1)-1,c:j+i+(E||1)-1}});var I={t:"s",v:T},M=k.getAttribute("data-t")||k.getAttribute("t")||"";T!=null&&(T.length==0?I.t=M||"z":n.raw||T.trim().length==0||M=="s"||(T==="TRUE"?I={t:"b",v:!0}:T==="FALSE"?I={t:"b",v:!1}:isNaN(Qc(T))?isNaN(ly(T).getDate())||(I={t:"d",v:oi(T)},n.cellDates||(I={t:"n",v:Di(I.v)}),I.z=n.dateNF||gn[14]):I={t:"n",v:Qc(T)})),I.z===void 0&&O!=null&&(I.z=O);var q="",U=k.getElementsByTagName("A");if(U&&U.length)for(var re=0;re<U.length&&!(U[re].hasAttribute("href")&&(q=U[re].getAttribute("href"),q.charAt(0)!="#"));++re);q&&q.charAt(0)!="#"&&(I.l={Target:q}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][j+i]=I):e[Cs({c:j+i,r:v+a})]=I,u.e.c<j+i&&(u.e.c=j+i),j+=E}}++v}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,v-1+a),e["!ref"]=In(u),v>=d&&(e["!fullref"]=In((u.e.r=l.length-w+v-1+a,u))),e}function lG(e,t){var r=t||{},n=r.dense?[]:{};return oG(n,e,t)}function RMe(e,t){return Yh(lG(e,t),t)}function X6(e){var t="",r=MMe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function MMe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var IMe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+dy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Hn+t}}(),Q6=function(){var e=function(i){return As(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var d=[];d.push('      <table:table table:name="'+As(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,h=0,p=Ji(i["!ref"]||"A1"),g=i["!merges"]||[],y=0,w=Array.isArray(i);if(i["!cols"])for(h=0;h<=p.e.c;++h)d.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var v="",N=i["!rows"]||[];for(u=0;u<p.s.r;++u)v=N[u]?' table:style-name="ro'+N[u].ods+'"':"",d.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=p.e.r;++u){for(v=N[u]?' table:style-name="ro'+N[u].ods+'"':"",d.push("        <table:table-row"+v+`>
`),h=0;h<p.s.c;++h)d.push(t);for(;h<=p.e.c;++h){var j=!1,A={},E="";for(y=0;y!=g.length;++y)if(!(g[y].s.c>h)&&!(g[y].s.r>u)&&!(g[y].e.c<h)&&!(g[y].e.r<u)){(g[y].s.c!=h||g[y].s.r!=u)&&(j=!0),A["table:number-columns-spanned"]=g[y].e.c-g[y].s.c+1,A["table:number-rows-spanned"]=g[y].e.r-g[y].s.r+1;break}if(j){d.push(r);continue}var S=Cs({r:u,c:h}),_=w?(i[u]||[])[h]:i[S];if(_&&_.f&&(A["table:formula"]=As(rRe(_.f)),_.F&&_.F.slice(0,S.length)==S)){var k=Ji(_.F);A["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,A["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!_){d.push(t);continue}switch(_.t){case"b":E=_.v?"TRUE":"FALSE",A["office:value-type"]="boolean",A["office:boolean-value"]=_.v?"true":"false";break;case"n":E=_.w||String(_.v||0),A["office:value-type"]="float",A["office:value"]=_.v||0;break;case"s":case"str":E=_.v==null?"":_.v,A["office:value-type"]="string";break;case"d":E=_.w||oi(_.v).toISOString(),A["office:value-type"]="date",A["office:date-value"]=oi(_.v).toISOString(),A["table:style-name"]="ce1";break;default:d.push(t);continue}var T=e(E);if(_.l&&_.l.Target){var O=_.l.Target;O=O.charAt(0)=="#"?"#"+sRe(O.slice(1)):O,O.charAt(0)!="#"&&!O.match(/^\w+:/)&&(O="../"+O),T=kt("text:a",T,{"xlink:href":O.replace(/&/g,"&amp;")})}d.push("          "+kt("table:table-cell",kt("text:p",T,{}),A)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var p=u["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;ck(p),p.ods=l;var g=u["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++l}}});var d=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=d;var p=u["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++d}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var d=[Hn],u=dy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=dy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(d.push("<office:document"+u+h+`>
`),d.push(jW().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+u+`>
`),a(d,o),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)d.push(n(o.Sheets[o.SheetNames[p]],o,p));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),l.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function cG(e,t){if(t.bookType=="fods")return Q6(e,t);var r=Z_(),n="",a=[],i=[];return n="mimetype",Pr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Pr(r,n,Q6(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Pr(r,n,IMe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Pr(r,n,Hn+jW()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Pr(r,n,YDe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Pr(r,n,WDe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Sw(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function FMe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):rl(cy(e))}function LMe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Zu(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function BMe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function uy(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function js(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ep(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Qn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=uy(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var d=r[0];e[r[0]++]>=128;);l=e.slice(d,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=uy(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function va(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(js(n*8+a.type)),a.type==2&&t.push(js(a.data.length)),t.push(a.data))})}),Zu(t)}function zo(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=uy(e,n),i=Qn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Ep(i[1][0].data),messages:[]};i[2].forEach(function(l){var d=Qn(l.data),u=Ep(d[3][0].data);o.messages.push({meta:d,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Ep(i[3][0].data)>>>0>0),r.push(o)}return r}function Bm(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:js(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:js(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:js(o.data.length)}],n[2].push({data:va(o.meta),type:2})});var i=va(n);t.push(js(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Zu(t)}function $Me(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=uy(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var d=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,d=(t[r[0]++]&224)<<3,d|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(d=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(d=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Zu(a)],d==0)throw new Error("Invalid offset 0");if(d>a[0].length)throw new Error("Invalid offset beyond length");if(u>=d)for(a.push(a[0].slice(-d)),u-=d;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-d,-d+u))}}var h=Zu(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function Ho(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push($Me(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Zu(t)}function $m(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=js(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Zu(t)}function qE(e,t){var r=new Uint8Array(32),n=Sw(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,BMe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function zE(e,t){var r=new Uint8Array(32),n=Sw(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function au(e){var t=Qn(e);return uy(t[1][0].data)}function UMe(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Ep(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var d=0,u=Sw(e[7][0].data),h=0,p=[],g=Sw(e[4][0].data),y=0,w=[],v=0;v<t.length;++v){if(t[v]==null){u.setUint16(v*2,65535,!0),g.setUint16(v*2,65535);continue}u.setUint16(v*2,h,!0),g.setUint16(v*2,y,!0);var N,j;switch(typeof t[v]){case"string":N=qE({t:"s",v:t[v]},r),j=zE({t:"s",v:t[v]},r);break;case"number":N=qE({t:"n",v:t[v]},r),j=zE({t:"n",v:t[v]},r);break;case"boolean":N=qE({t:"b",v:t[v]},r),j=zE({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}p.push(N),h+=N.length,w.push(j),y+=j.length,++d}for(e[2][0].data=js(d);v<e[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),g.setUint16(v*2,65535,!0);return e[6][0].data=Zu(p),e[3][0].data=Zu(w),d}function VMe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ji(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(In(n)));var i=Ew(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(z){return z.forEach(function(K){typeof K=="string"&&o.push(K)})});var l={},d=[],u=Ds.read(t.numbers,{type:"base64"});u.FileIndex.map(function(z,K){return[z,u.FullPaths[K]]}).forEach(function(z){var K=z[0],V=z[1];if(K.type==2&&K.name.match(/\.iwa/)){var ae=K.content,Q=Ho(ae),se=zo(Q);se.forEach(function(Z){d.push(Z.id),l[Z.id]={deps:[],location:V,type:Ep(Z.messages[0].meta[1][0].data)}})}}),d.sort(function(z,K){return z-K});var h=d.filter(function(z){return z>1}).map(function(z){return[z,js(z)]});u.FileIndex.map(function(z,K){return[z,u.FullPaths[K]]}).forEach(function(z){var K=z[0];if(z[1],!!K.name.match(/\.iwa/)){var V=zo(Ho(K.content));V.forEach(function(ae){ae.messages.forEach(function(Q){h.forEach(function(se){ae.messages.some(function(Z){return Ep(Z.meta[1][0].data)!=11006&&LMe(Z.data,se[1])})&&l[se[0]].deps.push(ae.id)})})})}});for(var p=Ds.find(u,l[1].location),g=zo(Ho(p.content)),y,w=0;w<g.length;++w){var v=g[w];v.id==1&&(y=v)}var N=au(Qn(y.messages[0].data)[1][0].data);for(p=Ds.find(u,l[N].location),g=zo(Ho(p.content)),w=0;w<g.length;++w)v=g[w],v.id==N&&(y=v);for(N=au(Qn(y.messages[0].data)[2][0].data),p=Ds.find(u,l[N].location),g=zo(Ho(p.content)),w=0;w<g.length;++w)v=g[w],v.id==N&&(y=v);for(N=au(Qn(y.messages[0].data)[2][0].data),p=Ds.find(u,l[N].location),g=zo(Ho(p.content)),w=0;w<g.length;++w)v=g[w],v.id==N&&(y=v);var j=Qn(y.messages[0].data);{j[6][0].data=js(n.e.r+1),j[7][0].data=js(n.e.c+1);var A=au(j[46][0].data),E=Ds.find(u,l[A].location),S=zo(Ho(E.content));{for(var _=0;_<S.length&&S[_].id!=A;++_);if(S[_].id!=A)throw"Bad ColumnRowUIDMapArchive";var k=Qn(S[_].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var T=0;T<=n.e.c;++T){var O=[];O[1]=O[2]=[{type:0,data:js(T+420690)}],k[1].push({type:2,data:va(O)}),k[2].push({type:0,data:js(T)}),k[3].push({type:0,data:js(T)})}k[4]=[],k[5]=[],k[6]=[];for(var P=0;P<=n.e.r;++P)O=[],O[1]=O[2]=[{type:0,data:js(P+726270)}],k[4].push({type:2,data:va(O)}),k[5].push({type:0,data:js(P)}),k[6].push({type:0,data:js(P)});S[_].messages[0].data=va(k)}E.content=$m(Bm(S)),E.size=E.content.length,delete j[46];var I=Qn(j[4][0].data);{I[7][0].data=js(n.e.r+1);var M=Qn(I[1][0].data),q=au(M[2][0].data);E=Ds.find(u,l[q].location),S=zo(Ho(E.content));{if(S[0].id!=q)throw"Bad HeaderStorageBucket";var U=Qn(S[0].messages[0].data);for(P=0;P<i.length;++P){var re=Qn(U[2][0].data);re[1][0].data=js(P),re[4][0].data=js(i[P].length),U[2][P]={type:U[2][0].type,data:va(re)}}S[0].messages[0].data=va(U)}E.content=$m(Bm(S)),E.size=E.content.length;var te=au(I[2][0].data);E=Ds.find(u,l[te].location),S=zo(Ho(E.content));{if(S[0].id!=te)throw"Bad HeaderStorageBucket";for(U=Qn(S[0].messages[0].data),T=0;T<=n.e.c;++T)re=Qn(U[2][0].data),re[1][0].data=js(T),re[4][0].data=js(n.e.r+1),U[2][T]={type:U[2][0].type,data:va(re)};S[0].messages[0].data=va(U)}E.content=$m(Bm(S)),E.size=E.content.length;var B=au(I[4][0].data);(function(){for(var z=Ds.find(u,l[B].location),K=zo(Ho(z.content)),V,ae=0;ae<K.length;++ae){var Q=K[ae];Q.id==B&&(V=Q)}var se=Qn(V.messages[0].data);{se[3]=[];var Z=[];o.forEach(function(Ee,Ze){Z[1]=[{type:0,data:js(Ze)}],Z[2]=[{type:0,data:js(1)}],Z[3]=[{type:2,data:FMe(Ee)}],se[3].push({type:2,data:va(Z)})})}V.messages[0].data=va(se);var le=Bm(K),Te=$m(le);z.content=Te,z.size=z.content.length})();var H=Qn(I[3][0].data);{var R=H[1][0];delete H[2];var X=Qn(R.data);{var W=au(X[2][0].data);(function(){for(var z=Ds.find(u,l[W].location),K=zo(Ho(z.content)),V,ae=0;ae<K.length;++ae){var Q=K[ae];Q.id==W&&(V=Q)}var se=Qn(V.messages[0].data);{delete se[6],delete H[7];var Z=new Uint8Array(se[5][0].data);se[5]=[];for(var le=0,Te=0;Te<=n.e.r;++Te){var Ee=Qn(Z);le+=UMe(Ee,i[Te],o),Ee[1][0].data=js(Te),se[5].push({data:va(Ee),type:2})}se[1]=[{type:0,data:js(n.e.c+1)}],se[2]=[{type:0,data:js(n.e.r+1)}],se[3]=[{type:0,data:js(le)}],se[4]=[{type:0,data:js(n.e.r+1)}]}V.messages[0].data=va(se);var Ze=Bm(K),Be=$m(Ze);z.content=Be,z.size=z.content.length})()}R.data=va(X)}I[3][0].data=va(H)}j[4][0].data=va(I)}y.messages[0].data=va(j);var Y=Bm(g),F=$m(Y);return p.content=F,p.size=p.content.length,u}function qMe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function mk(e){qMe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function zMe(e,t){return t.bookType=="ods"?cG(e,t):t.bookType=="numbers"?VMe(e,t):t.bookType=="xlsb"?HMe(e,t):WMe(e,t)}function HMe(e,t){dp=1024,e&&!e.SSF&&(e.SSF=Oi(gn)),e&&e.SSF&&(BN(),LN(e.SSF),t.revssf=$N(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,pg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=HW.indexOf(t.bookType)>-1,a=bW();mk(t=t||{});var i=Z_(),o="",l=0;if(t.cellXfs=[],uf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Pr(i,o,SW(e.Props,t)),a.coreprops.push(o),Es(t.rels,2,o,us.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&d.push(e.SheetNames[u]);e.Props.SheetNames=d}for(e.Props.Worksheets=e.Props.SheetNames.length,Pr(i,o,AW(e.Props)),a.extprops.push(o),Es(t.rels,3,o,us.EXT_PROPS),e.Custprops!==e.Props&&_a(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Pr(i,o,CW(e.Custprops)),a.custprops.push(o),Es(t.rels,4,o,us.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},p=e.Sheets[e.SheetNames[l-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Pr(i,o,Y5e(l-1,o,t,e,h)),a.sheets.push(o),Es(t.wbrels,-1,"worksheets/sheet"+l+"."+r,us.WS[0])}if(p){var y=p["!comments"],w=!1,v="";y&&y.length>0&&(v="xl/comments"+l+"."+r,Pr(i,v,Q5e(y,v)),a.comments.push(v),Es(h,-1,"../comments"+l+"."+r,us.CMNT),w=!0),p["!legacy"]&&w&&Pr(i,"xl/drawings/vmlDrawing"+l+".vml",qW(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&Pr(i,NW(o),jp(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Pr(i,o,X5e(t.Strings,o,t)),a.strs.push(o),Es(t.wbrels,-1,"sharedStrings."+r,us.SST)),o="xl/workbook."+r,Pr(i,o,G5e(e,o)),a.workbooks.push(o),Es(t.rels,1,o,us.WB),o="xl/theme/theme1.xml",Pr(i,o,UW(e.Themes,t)),a.themes.push(o),Es(t.wbrels,-1,"theme/theme1.xml",us.THEME),o="xl/styles."+r,Pr(i,o,K5e(e,o,t)),a.styles.push(o),Es(t.wbrels,-1,"styles."+r,us.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Pr(i,o,e.vbaraw),a.vba.push(o),Es(t.wbrels,-1,"vbaProject.bin",us.VBA)),o="xl/metadata."+r,Pr(i,o,Z5e(o)),a.metadata.push(o),Es(t.wbrels,-1,"metadata."+r,us.XLMETA),Pr(i,"[Content_Types].xml",wW(a,t)),Pr(i,"_rels/.rels",jp(t.rels)),Pr(i,"xl/_rels/workbook."+r+".rels",jp(t.wbrels)),delete t.revssf,delete t.ssf,i}function WMe(e,t){dp=1024,e&&!e.SSF&&(e.SSF=Oi(gn)),e&&e.SSF&&(BN(),LN(e.SSF),t.revssf=$N(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,pg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=HW.indexOf(t.bookType)>-1,a=bW();mk(t=t||{});var i=Z_(),o="",l=0;if(t.cellXfs=[],uf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Pr(i,o,SW(e.Props,t)),a.coreprops.push(o),Es(t.rels,2,o,us.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&d.push(e.SheetNames[u]);e.Props.SheetNames=d}e.Props.Worksheets=e.Props.SheetNames.length,Pr(i,o,AW(e.Props)),a.extprops.push(o),Es(t.rels,3,o,us.EXT_PROPS),e.Custprops!==e.Props&&_a(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Pr(i,o,CW(e.Custprops)),a.custprops.push(o),Es(t.rels,4,o,us.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var p={"!id":{}},g=e.Sheets[e.SheetNames[l-1]],y=(g||{})["!type"]||"sheet";switch(y){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Pr(i,o,eG(l-1,t,e,p)),a.sheets.push(o),Es(t.wbrels,-1,"worksheets/sheet"+l+"."+r,us.WS[0])}if(g){var w=g["!comments"],v=!1,N="";if(w&&w.length>0){var j=!1;w.forEach(function(A){A[1].forEach(function(E){E.T==!0&&(j=!0)})}),j&&(N="xl/threadedComments/threadedComment"+l+"."+r,Pr(i,N,jOe(w,h,t)),a.threadedcomments.push(N),Es(p,-1,"../threadedComments/threadedComment"+l+"."+r,us.TCMNT)),N="xl/comments"+l+"."+r,Pr(i,N,zW(w)),a.comments.push(N),Es(p,-1,"../comments"+l+"."+r,us.CMNT),v=!0}g["!legacy"]&&v&&Pr(i,"xl/drawings/vmlDrawing"+l+".vml",qW(l,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Pr(i,NW(o),jp(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Pr(i,o,MW(t.Strings,t)),a.strs.push(o),Es(t.wbrels,-1,"sharedStrings."+r,us.SST)),o="xl/workbook."+r,Pr(i,o,sG(e)),a.workbooks.push(o),Es(t.rels,1,o,us.WB),o="xl/theme/theme1.xml",Pr(i,o,UW(e.Themes,t)),a.themes.push(o),Es(t.wbrels,-1,"theme/theme1.xml",us.THEME),o="xl/styles."+r,Pr(i,o,BW(e,t)),a.styles.push(o),Es(t.wbrels,-1,"styles."+r,us.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Pr(i,o,e.vbaraw),a.vba.push(o),Es(t.wbrels,-1,"vbaProject.bin",us.VBA)),o="xl/metadata."+r,Pr(i,o,VW()),a.metadata.push(o),Es(t.wbrels,-1,"metadata."+r,us.XLMETA),h.length>1&&(o="xl/persons/person.xml",Pr(i,o,SOe(h)),a.people.push(o),Es(t.wbrels,-1,"persons/person.xml",us.PEOPLE)),Pr(i,"[Content_Types].xml",wW(a,t)),Pr(i,"_rels/.rels",jp(t.rels)),Pr(i,"xl/_rels/workbook."+r+".rels",jp(t.wbrels)),delete t.revssf,delete t.ssf,i}function GMe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=fd(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function dG(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return ov(t.file,Ds.write(e,{type:ps?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Ds.write(e,t)}function YMe(e,t){var r=Oi(t||{}),n=zMe(e,r);return KMe(n,r)}function KMe(e,t){var r={},n=ps?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Ds.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(FN(a))}return t.password&&typeof encrypt_agile<"u"?dG(encrypt_agile(a,t.password),t):t.type==="file"?ov(t.file,a):t.type=="string"?ug(a):a}function XMe(e,t){var r=t||{},n=fMe(e,r);return dG(n,r)}function Il(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return oy(cy(n));case"binary":return cy(n);case"string":return e;case"file":return ov(t.file,n,"utf8");case"buffer":return ps?Nd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Il(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function QMe(e,t){switch(t.type){case"base64":return oy(e);case"binary":return e;case"string":return e;case"file":return ov(t.file,e,"binary");case"buffer":return ps?Nd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function t1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?oy(r):t.type=="string"?ug(r):r;case"file":return ov(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function pk(e,t){Eke(),I5e(e);var r=Oi(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=pk(e,r);return r.type="array",FN(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Il(dMe(e,r),r);case"slk":case"sylk":return Il(P3e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Il(iG(e.Sheets[e.SheetNames[a]],r),r);case"txt":return QMe(uG(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Il(xk(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Il(R3e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return t1(O3e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Il(M3e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Il(V3e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Il(RW.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Il(cG(e,r),r);case"wk1":return t1(z6.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return t1(z6.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),t1(aG(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),XMe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return YMe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function ZMe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function JMe(e,t,r){var n={};return n.type="file",n.file=t,ZMe(n),pk(e,n)}function eIe(e,t,r,n,a,i,o,l){var d=Ca(r),u=l.defval,h=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||e[r])for(var y=t.s.c;y<=t.e.c;++y){var w=o?e[r][y]:e[n[y]+d];if(w===void 0||w.t===void 0){if(u===void 0)continue;i[y]!=null&&(g[i[y]]=u);continue}var v=w.v;switch(w.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[y]!=null){if(v==null)if(w.t=="e"&&v===null)g[i[y]]=null;else if(u!==void 0)g[i[y]]=u;else if(h&&v===null)g[i[y]]=null;else continue;else g[i[y]]=h&&(w.t!=="n"||w.t==="n"&&l.rawNumbers!==!1)?v:hd(w,v,l);v!=null&&(p=!1)}}return{row:g,isempty:p}}function Ew(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",d={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},h=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof h){case"string":d=Gs(h);break;case"number":d=Gs(e["!ref"]),d.s.r=h;break;default:d=h}n>0&&(a=0);var p=Ca(d.s.r),g=[],y=[],w=0,v=0,N=Array.isArray(e),j=d.s.r,A=0,E={};N&&!e[j]&&(e[j]=[]);var S=u.skipHidden&&e["!cols"]||[],_=u.skipHidden&&e["!rows"]||[];for(A=d.s.c;A<=d.e.c;++A)if(!(S[A]||{}).hidden)switch(g[A]=za(A),r=N?e[j][A]:e[g[A]+p],n){case 1:i[A]=A-d.s.c;break;case 2:i[A]=g[A];break;case 3:i[A]=u.header[A-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=hd(r,null,u),v=E[o]||0,!v)E[o]=1;else{do l=o+"_"+v++;while(E[l]);E[o]=v,E[l]=1}i[A]=l}for(j=d.s.r+a;j<=d.e.r;++j)if(!(_[j]||{}).hidden){var k=eIe(e,d,j,g,n,i,N,u);(k.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(y[w++]=k.row)}return y.length=w,y}var Z6=/"/g;function tIe(e,t,r,n,a,i,o,l){for(var d=!0,u=[],h="",p=Ca(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var y=l.dense?(e[r]||[])[g]:e[n[g]+p];if(y==null)h="";else if(y.v!=null){d=!1,h=""+(l.rawNumbers&&y.t=="n"?y.v:hd(y,null,l));for(var w=0,v=0;w!==h.length;++w)if((v=h.charCodeAt(w))===a||v===i||v===34||l.forceQuotes){h='"'+h.replace(Z6,'""')+'"';break}h=="ID"&&(h='"ID"')}else y.f!=null&&!y.F?(d=!1,h="="+y.f,h.indexOf(",")>=0&&(h='"'+h.replace(Z6,'""')+'"')):h="";u.push(h)}return l.blankrows===!1&&d?null:u.join(o)}function xk(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Gs(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,d=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),h="",p=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],y=n.skipHidden&&e["!rows"]||[],w=a.s.c;w<=a.e.c;++w)(g[w]||{}).hidden||(p[w]=za(w));for(var v=0,N=a.s.r;N<=a.e.r;++N)(y[N]||{}).hidden||(h=tIe(e,a,N,p,o,d,i,n),h!=null&&(n.strip&&(h=h.replace(u,"")),(h||n.blankrows!==!1)&&r.push((v++?l:"")+h)));return delete n.dense,r.join("")}function uG(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=xk(e,t);return r}function rIe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Gs(e["!ref"]),i="",o=[],l,d=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=za(l);for(var h=a.s.r;h<=a.e.r;++h)for(i=Ca(h),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[h]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=t+"="+n}return d}function fG(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?ha(n.origin):n.origin;o=d.r,l=d.c}var u,h={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var p=Gs(i["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(o=p.e.r+1,h.e.r=o+t.length-1+a)}else o==-1&&(o=0,h.e.r=t.length-1+a);var g=n.header||[],y=0;t.forEach(function(v,N){_a(v).forEach(function(j){(y=g.indexOf(j))==-1&&(g[y=g.length]=j);var A=v[j],E="z",S="",_=Cs({c:l+y,r:o+N+a});u=fy(i,_),A&&typeof A=="object"&&!(A instanceof Date)?i[_]=A:(typeof A=="number"?E="n":typeof A=="boolean"?E="b":typeof A=="string"?E="s":A instanceof Date?(E="d",n.cellDates||(E="n",A=Di(A)),S=n.dateNF||gn[14]):A===null&&n.nullError&&(E="e",A=0),u?(u.t=E,u.v=A,delete u.w,delete u.R,S&&(u.z=S)):i[_]=u={t:E,v:A},S&&(u.z=S))})}),h.e.c=Math.max(h.e.c,l+g.length-1);var w=Ca(o);if(a)for(y=0;y<g.length;++y)i[za(y+l)+w]={t:"s",v:g[y]};return i["!ref"]=In(h),i}function sIe(e,t){return fG(null,e,t)}function fy(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ha(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?fy(e,Cs(t)):fy(e,Cs({r:t,c:r||0}))}function nIe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function aIe(){return{SheetNames:[],Sheets:{}}}function iIe(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(rG(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function oIe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=nIe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function lIe(e,t){return e.z=t,e}function hG(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function cIe(e,t,r){return hG(e,"#"+t,r)}function dIe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function uIe(e,t,r,n){for(var a=typeof t!="string"?t:Gs(t),i=typeof t=="string"?t:In(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var d=fy(e,o,l);d.t="n",d.F=i,delete d.v,o==a.s.r&&l==a.s.c&&(d.f=r,n&&(d.D=!0))}return e}var Ko={encode_col:za,encode_row:Ca,encode_cell:Cs,encode_range:In,decode_col:nk,decode_row:sk,split_cell:EDe,decode_cell:ha,decode_range:Ji,format_cell:hd,sheet_add_aoa:mW,sheet_add_json:fG,sheet_add_dom:oG,aoa_to_sheet:O0,json_to_sheet:sIe,table_to_sheet:lG,table_to_book:RMe,sheet_to_csv:xk,sheet_to_txt:uG,sheet_to_json:Ew,sheet_to_html:iG,sheet_to_formulae:rIe,sheet_to_row_object_array:Ew,sheet_get_cell:fy,book_new:aIe,book_append_sheet:iIe,book_set_sheet_visibility:oIe,cell_set_number_format:lIe,cell_set_hyperlink:hG,cell_set_internal_link:cIe,cell_add_comment:dIe,sheet_set_array_formula:uIe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const fIe=(e,t=50)=>e?e.length>t?`${e.slice(0,t)}...`:e:"N/A",hIe=()=>{console.log("[StorageDebug] Attempting to get user details...");const e=localStorage.getItem("user"),t=localStorage.getItem("agencyId");console.log("[StorageDebug] Raw localStorage.getItem('user'):",e),console.log("[StorageDebug] Raw localStorage.getItem('agencyId'):",t);let r=t,n=null,a=null,i=null;if(e)try{const o=JSON.parse(e);console.log("[StorageDebug] Parsed userObject:",o),n=o.role||null,a=o.id?String(o.id):null,i=o.name||null;const l=o.agencyId?String(o.agencyId):null;console.log("[StorageDebug] agencyId found in userObject:",l),!r&&l&&(console.log("[StorageDebug] Using agencyId from userObject as primary source was empty."),r=l)}catch(o){console.error("[StorageDebug] Failed to parse user details from localStorage:",o)}return console.log("[StorageDebug] Final determined values for return: role=",n,"userId=",a,"name=",i,"agencyId=",r),{role:n,userId:a,agencyId:r,name:i}},r1=({size:e="md",color:t="blue",className:r=""})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"},a={white:"border-white",blue:"border-blue-500",gray:"border-gray-500"};return s.jsx("div",{className:go("animate-spin rounded-full border-t-2 border-b-2",n[e],a[t],r),style:{borderTopColor:"transparent"}})},J6=e=>{const t=[{value:ts.PENDING,label:"Pending",description:"Awaiting delivery",color:"bg-yellow-100 text-yellow-800"},{value:ts.DELIVERED,label:"Delivered",description:"Successfully delivered to customer",color:"bg-green-100 text-green-800"},{value:ts.NOT_DELIVERED,label:"Not Delivered",description:"Delivery attempt failed",color:"bg-red-100 text-red-800"},{value:ts.CANCELLED,label:"Cancelled",description:"Delivery was cancelled",color:"bg-gray-100 text-gray-800"},{value:ts.SKIPPED,label:"Skipped",description:"Delivery was skipped",color:"bg-blue-100 text-blue-800"}];return e==="ADMIN"&&t.push({value:ts.SKIP_BY_CUSTOMER,label:"Skip by Customer (Credit to Wallet)",description:"Customer requested skip - amount will be credited to wallet",color:"bg-purple-100 text-purple-800",adminOnly:!0},{value:ts.INDRAAI_DELIVERY,label:"Indraai Delivery",description:"Special Indraai delivery method",color:"bg-indigo-100 text-indigo-800",adminOnly:!0},{value:ts.TRANSFER_TO_AGENT,label:"Transfer to Agent",description:"Delivery assigned to agent",color:"bg-orange-100 text-orange-800",adminOnly:!0}),t},mIe=()=>{var z,K,V,ae;const[e,t]=m.useState(null),[r,n]=m.useState([]),[a,i]=m.useState(null),[o,l]=m.useState(!1),[d,u]=m.useState([]),[h,p]=m.useState(new Date().toISOString().split("T")[0]),[g,y]=m.useState(!1),[w,v]=m.useState(null),[N,j]=m.useState({}),[A,E]=m.useState(!1),[S,_]=m.useState(""),[k,T]=m.useState(ts.PENDING),[O,P]=m.useState(""),[I,M]=m.useState({}),[q,U]=m.useState({}),re=m.useCallback(async(Q,se)=>{if(console.log(`[fetchDeliveries] Called. Date: ${Q}, AdminAgencyID: ${se}, UserRole: ${e==null?void 0:e.role}`),!e){console.warn("[fetchDeliveries] currentUser is null. Aborting."),v("User information is not available."),u([]);return}let Z="";if(e.role==="ADMIN"){if(!se){console.warn("[fetchDeliveries] Admin role but no agencyIdForAdmin provided. Clearing deliveries."),u([]);return}Z=`/delivery-schedules/agency/by-date?date=${Q}&agencyId=${se}&paymentStatus=PAID`}else if(e.role==="AGENCY")console.log("[fetchDeliveries] AGENCY role. Backend will infer agencyId."),Z=`/delivery-schedules/agency/by-date?date=${Q}&paymentStatus=PAID`;else{console.warn("[fetchDeliveries] User role is not ADMIN or AGENCY. Role:",e.role),v("You do not have permission to view this page."),u([]);return}console.log("[fetchDeliveries] Attempting to fetch from URL:",Z),y(!0),v(null);try{const le=await xt(Z);if(console.log("[fetchDeliveries] Raw data received:",le),u(le||[]),le&&le.length>0){const Te={},Ee={};le.forEach(Ze=>{Ze.adminNotes&&(Te[Ze.id]=Ze.adminNotes),Ze.walletTransaction&&(Ee[Ze.id]=Ze.walletTransaction)}),U(Te),M(Ee)}}catch(le){console.error("[fetchDeliveries] Error fetching deliveries:",le),v(le.message||"Failed to fetch deliveries."),u([])}finally{y(!1)}},[e,u,v,y]);m.useEffect(()=>{const Q=hIe();console.log(Q),t(Q),Q.role==="ADMIN"&&(async()=>{l(!0);try{const Z=await xt("/agencies");console.log("Raw /agencies response:",Z);let le=[];Array.isArray(Z)?le=Z:Z&&Array.isArray(Z.data)?le=Z.data:Z&&Array.isArray(Z.agencies)?le=Z.agencies:Z&&typeof Z=="object"&&Z!==null&&console.warn("/agencies endpoint did not return an array or a known wrapped array structure."),n(le.map(Te=>{var Ee;return{id:Te.id,name:((Ee=Te.user)==null?void 0:Ee.name)||Te.name||`Agency ${Te.id}`}}))}catch(Z){v(Z.message||"Failed to fetch agencies.")}l(!1)})()},[]),m.useEffect(()=>{(e==null?void 0:e.role)==="ADMIN"&&(console.log("[ADMIN Effect for FetchDeliveries] Triggered. Date:",h,"SelectedAdminAgencyID:",a),a?re(h,a):u([]))},[h,a,e,re]),m.useEffect(()=>{(e==null?void 0:e.role)==="AGENCY"&&h?(console.log("[AGENCY Effect for FetchDeliveries] Triggered. Date:",h,"Role:",e.role),re(h)):(e==null?void 0:e.role)==="AGENCY"&&!h&&(console.log("[AGENCY Effect for FetchDeliveries] AGENCY role, but no date selected. Clearing deliveries."),u([]))},[h,e,re]);const te=()=>{if(!d.length){ce.error("No delivery data available to download for the selected date.");return}const Q=d.map(Te=>{var Ee,Ze,Be,Ie,Ne,fe,de;return{"Customer Name":Te.member.name,"Product Name":Te.product.name,"Product Variant":((Ee=Te.DepotProductVariant)==null?void 0:Ee.name)||"N/A",Quantity:Te.quantity,"Delivery Address":`${Te.deliveryAddress.plotBuilding||""}${Te.deliveryAddress.plotBuilding&&Te.deliveryAddress.streetArea?", ":""}${Te.deliveryAddress.streetArea||""}, ${Te.deliveryAddress.city}, ${Te.deliveryAddress.pincode}${(Ze=Te.member.user)!=null&&Ze.mobile?` (Phone: ${Te.member.user.mobile})`:""}`,Landmark:((Be=Te.deliveryAddress)==null?void 0:Be.landmark)||"N/A","Delivery Instructions":((Ie=Te.subscription)==null?void 0:Ie.deliveryInstructions)||"N/A",Status:Te.status,Agency:((fe=(Ne=Te.subscription)==null?void 0:Ne.agency)==null?void 0:fe.name)||"N/A",Handler:((de=Te.agent)==null?void 0:de.name)||"Not assigned","Admin Notes":Te.adminNotes||q[Te.id]||"N/A",Phone:Te.deliveryAddress.mobile||"N/A"}}),se=Ko.json_to_sheet(Q),Z=Ko.book_new();Ko.book_append_sheet(Z,se,"Deliveries");const le=[{wch:20},{wch:25},{wch:20},{wch:10},{wch:40},{wch:15},{wch:30},{wch:15},{wch:20},{wch:20},{wch:30},{wch:15}];se["!cols"]=le,JMe(Z,`delivery_schedule_${h}.xlsx`),ce.success("Excel file downloaded successfully!")},B=Q=>{const se=J6((e==null?void 0:e.role)||"").find(Z=>Z.value===Q);return(se==null?void 0:se.color)||"bg-gray-100 text-gray-800"},H=m.useCallback(async(Q,se)=>{var Z,le;console.log(`[QuickStatusUpdate] Attempting to update delivery ${Q} to ${se}`),j(Te=>({...Te,[Q]:!0})),v(null);try{await Zs(`/delivery-schedules/${Q}/status`,{status:se}),console.log(`[QuickStatusUpdate] Successfully updated status for ${Q} to ${se}`),u(Te=>Te.map(Ee=>Ee.id===Q?{...Ee,status:se}:Ee)),ce.success(`Status updated to ${se.replace("_"," ")}`)}catch(Te){console.error(`[QuickStatusUpdate] Error updating status for ${Q}:`,Te),v(((le=(Z=Te.response)==null?void 0:Z.data)==null?void 0:le.error)||Te.message||"Failed to update delivery status."),ce.error("Failed to update delivery status")}j(Te=>({...Te,[Q]:!1}))},[u,v,j]),R=m.useCallback(async(Q,se,Z)=>{var le,Te;console.log(`[AdminStatusUpdate] Attempting to update delivery ${Q} to ${se} with notes: ${Z}`),j(Ee=>({...Ee,[Q]:!0})),v(null);try{const Ee=await Fn(`/admin/deliveries/${Q}/status`,{status:se,notes:Z});console.log(`[AdminStatusUpdate] Successfully updated status for ${Q}`,Ee),u(Ze=>Ze.map(Be=>Be.id===Q?{...Be,status:se,adminNotes:Z}:Be)),Z&&U(Ze=>({...Ze,[Q]:Z})),Ee.walletTransaction?(M(Ze=>({...Ze,[Q]:Ee.walletTransaction})),ce.success(`Status updated and ₹${Ee.walletTransaction.amount} credited to wallet`)):ce.success(`Status updated to ${se.replace("_"," ")}`)}catch(Ee){console.error(`[AdminStatusUpdate] Error updating status for ${Q}:`,Ee),v(((Te=(le=Ee.response)==null?void 0:le.data)==null?void 0:Te.error)||Ee.message||"Failed to update delivery status."),ce.error("Failed to update delivery status")}j(Ee=>({...Ee,[Q]:!1})),E(!1),P("")},[u,v,j]),X=(Q,se)=>{_(Q),T(se),P(""),E(!0)},W=()=>{E(!1),_(""),T(ts.PENDING),P("")},Y=J6((e==null?void 0:e.role)||""),F=Y.find(Q=>Q.value===k);return s.jsxs("div",{className:"p-4 md:p-6 lg:p-8 bg-gray-100 min-h-screen font-sans",children:[s.jsxs("header",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:(e==null?void 0:e.role)==="ADMIN"?"Admin Delivery Management":"Agency Delivery Schedule"}),(e==null?void 0:e.role)==="ADMIN"&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Viewing as Admin: ",e.name||"Admin User"]}),(e==null?void 0:e.role)==="AGENCY"&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Agency: ",e.name||`Agency ${e.agencyId}`]})]}),s.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{htmlFor:"deliveryDate",className:"font-semibold text-gray-700 whitespace-nowrap",children:"Select Date:"}),s.jsx("input",{id:"deliveryDate",type:"date",value:h,onChange:Q=>{console.log("[DateChange] New date:",Q.target.value),p(Q.target.value)},className:"border border-gray-300 rounded-md p-2 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(e==null?void 0:e.role)==="ADMIN"&&s.jsxs("div",{className:"flex items-center gap-3 max-sm:flex-col",children:[s.jsx("label",{htmlFor:"agencySelect",className:"font-semibold text-gray-700 whitespace-nowrap",children:"Select Agency:"}),s.jsxs(It,{value:a||"",onValueChange:Q=>{const se=Q==="NONE"?null:Q;console.log("[AgencyChange] New agency ID:",se),i(se)},disabled:o||r.length===0,children:[s.jsx(Lt,{id:"agencySelect",className:"min-w-[200px]",children:s.jsx(Ft,{placeholder:o?"Loading agencies...":"Select an agency"})}),s.jsxs(Bt,{children:[r.length===0&&!o&&s.jsx(Je,{value:"NONE",disabled:!0,children:"No agencies found"}),r.map(Q=>s.jsx(Je,{value:Q.id,children:Q.name},Q.id))]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-3 sm:mt-0",children:[s.jsxs("button",{onClick:()=>re(h,a??void 0),disabled:g||Object.values(N).some(Q=>Q===!0),className:go("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",g||Object.values(N).some(Q=>Q===!0)?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 focus-visible:outline-indigo-600"),children:[g&&!Object.values(N).some(Q=>Q===!0)&&!w?s.jsx(r1,{size:"sm",color:"white",className:"mr-2"}):null,"Refresh Deliveries"]}),s.jsxs("button",{onClick:te,disabled:d.length===0||g,className:go("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",d.length===0||g?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 focus-visible:outline-green-600"),children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 mr-2",children:[s.jsx("path",{d:"M10.75 2.75a.75.75 0 0 0-1.5 0v8.614L6.295 8.235a.75.75 0 1 0-1.09 1.03l4.25 4.5a.75.75 0 0 0 1.09 0l4.25-4.5a.75.75 0 0 0-1.09-1.03l-2.955 3.129V2.75Z"}),s.jsx("path",{d:"M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z"})]}),"Download Excel"]})]})]}),g&&d.length===0&&!w&&s.jsx("div",{className:"flex justify-center items-center p-10",children:s.jsx(r1,{size:"lg"})}),w&&s.jsxs("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg border border-red-300",role:"alert",children:[s.jsx("span",{className:"font-medium",children:"Error:"})," ",w]}),!g&&d.length===0&&!w&&s.jsx("div",{className:"p-4 text-sm text-gray-700 bg-blue-100 rounded-lg border border-blue-300",role:"alert",children:"No deliveries scheduled for this date."}),d.length>0&&s.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Instructions"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Handler"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(Q=>{var se,Z,le,Te,Ee,Ze,Be;return s.jsxs("tr",{className:N[Q.id]?"opacity-50":"",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q.member.name}),s.jsx("div",{className:"text-xs text-gray-500",children:((se=Q.deliveryAddress)==null?void 0:se.mobile)||"N/A"})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:Q.product.name}),((Z=Q.DepotProductVariant)==null?void 0:Z.name)&&s.jsx("div",{className:"text-xs text-gray-500",children:Q.DepotProductVariant.name})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:Q.quantity})}),s.jsxs("td",{className:"px-6 py-4 whitespace-normal max-w-xs",children:[s.jsx("div",{className:"text-sm text-gray-900",children:(le=Q.deliveryAddress)==null?void 0:le.recipientName}),s.jsx("div",{className:"text-sm text-gray-900",children:Q.deliveryAddress&&`${Q.deliveryAddress.plotBuilding||""}${Q.deliveryAddress.plotBuilding&&Q.deliveryAddress.streetArea?", ":""}${Q.deliveryAddress.streetArea||""}`}),s.jsx("div",{className:"text-sm text-gray-500",children:Q.deliveryAddress?`${Q.deliveryAddress.city}, ${Q.deliveryAddress.pincode}`:"Offline Depot Delivery"}),((Te=Q.member.user)==null?void 0:Te.mobile)&&s.jsxs("div",{className:"text-sm text-blue-600 mt-1",children:["Phone: ",Q.member.user.mobile]}),((Ee=Q.deliveryAddress)==null?void 0:Ee.deliveryNotes)&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1 italic",children:["Notes: ",Q.deliveryAddress.deliveryNotes]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-normal max-w-xs",children:s.jsx("div",{className:"text-sm text-gray-900",title:((Ze=Q.subscription)==null?void 0:Ze.deliveryInstructions)||"N/A",children:fIe((Be=Q.subscription)==null?void 0:Be.deliveryInstructions,40)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:go("px-2 inline-flex text-xs leading-5 font-semibold rounded-full",B(Q.status)),children:Q.status.replace(/_/g," ")}),Q.status!==ts.PENDING&&s.jsx("span",{className:"text-xs text-gray-500",title:"Status has been assigned and cannot be changed",children:"🔒"})]}),(Q.adminNotes||q[Q.id])&&s.jsxs("div",{className:"text-xs bg-blue-50 border border-blue-200 rounded p-2 mt-1",children:[s.jsx("div",{className:"font-medium text-blue-800",children:"Admin Notes:"}),s.jsx("div",{className:"text-blue-700",children:Q.adminNotes||q[Q.id]})]}),(Q.walletTransaction||I[Q.id])&&s.jsx("div",{className:"text-xs bg-green-50 border border-green-200 rounded p-2 mt-1",children:s.jsxs("div",{className:"font-medium text-green-800",children:["Wallet Credit: ₹",(Q.walletTransaction||I[Q.id]).amount]})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[Q.agent&&s.jsxs("div",{className:"text-xs text-blue-600",children:[s.jsx("span",{className:"font-medium",children:"Handler:"})," ",Q.agent.name]}),!Q.agent&&Q.status!==ts.PENDING&&s.jsxs("div",{className:"text-xs text-orange-600",children:[s.jsx("span",{className:"font-medium",children:"Handler:"})," Not assigned"]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-y-1",children:[(e==null?void 0:e.role)==="AGENCY"&&s.jsxs("div",{className:"space-x-1",children:[s.jsxs("button",{onClick:()=>H(Q.id,ts.DELIVERED),disabled:Q.status!==ts.PENDING||N[Q.id],className:go("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",Q.status!==ts.PENDING||N[Q.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 focus:ring-green-400"),title:Q.status!==ts.PENDING?"Status already assigned":"Mark as Delivered",children:[N[Q.id]?s.jsx(r1,{size:"sm",color:"white",className:"mr-1 inline-block align-middle"}):null,"Delivered"]}),s.jsxs("button",{onClick:()=>H(Q.id,ts.NOT_DELIVERED),disabled:Q.status!==ts.PENDING||N[Q.id],className:go("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",Q.status!==ts.PENDING||N[Q.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600 focus:ring-red-400"),title:Q.status!==ts.PENDING?"Status already assigned":"Mark as Not Delivered",children:[N[Q.id]?s.jsx(r1,{size:"sm",color:"white",className:"mr-1 inline-block align-middle"}):null,"Not Delivered"]})]}),(e==null?void 0:e.role)==="ADMIN"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"space-x-1",children:[s.jsx("button",{onClick:()=>R(Q.id,ts.DELIVERED),disabled:Q.status!==ts.PENDING||N[Q.id],className:go("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",Q.status!==ts.PENDING||N[Q.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 focus:ring-green-400"),title:Q.status!==ts.PENDING?"Status already assigned":"Mark as Delivered",children:"Delivered"}),s.jsx("button",{onClick:()=>R(Q.id,ts.NOT_DELIVERED),disabled:Q.status!==ts.PENDING||N[Q.id],className:go("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",Q.status!==ts.PENDING||N[Q.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600 focus:ring-red-400"),title:Q.status!==ts.PENDING?"Status already assigned":"Mark as Not Delivered",children:"Not Delivered"})]}),s.jsx("button",{onClick:()=>X(Q.id,Q.status),disabled:Q.status!==ts.PENDING||N[Q.id],className:go("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1 w-full",Q.status!==ts.PENDING||N[Q.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-400"),title:Q.status!==ts.PENDING?"Status already assigned":"More status options",children:"More Options"})]})]})]},Q.id)})})]})}),A&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Update Delivery Status"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"statusSelect",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Status:"}),((z=d.find(Q=>Q.id===S))==null?void 0:z.status)!==ts.PENDING?s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Status already assigned:"}),' This delivery already has a status of "',(K=d.find(Q=>Q.id===S))==null?void 0:K.status.replace(/_/g," "),'" and cannot be changed.']})}):s.jsxs(s.Fragment,{children:[s.jsxs(It,{value:k,onValueChange:Q=>T(Q),children:[s.jsx(Lt,{children:s.jsx(Ft,{})}),s.jsx(Bt,{children:Y.map(Q=>s.jsx(Je,{value:Q.value,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:go("px-2 py-1 text-xs rounded-full",Q.color),children:Q.label}),Q.adminOnly&&s.jsx("span",{className:"text-xs text-blue-600",children:"(Admin Only)"})]})},Q.value))})]}),(F==null?void 0:F.description)&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:F.description})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:W,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400",children:((V=d.find(Q=>Q.id===S))==null?void 0:V.status)!==ts.PENDING?"Close":"Cancel"}),((ae=d.find(Q=>Q.id===S))==null?void 0:ae.status)===ts.PENDING&&s.jsx("button",{onClick:()=>R(S,k,O),className:"px-4 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-400",children:"Update Status"})]})]})})})]})},HE=e=>{const t=new Map;return e.forEach(r=>{t.has(r.id)||t.set(r.id,r)}),Array.from(t.values())},pIe=()=>{var Be,Ie,Ne,fe;const[e,t]=m.useState(""),[r,n]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(""),[d,u]=m.useState([]),[h,p]=m.useState(null),[g,y]=m.useState(null),[w,v]=m.useState(!1),[N,j]=m.useState(!1),[A,E]=m.useState(!1),[S,_]=m.useState(null),[k,T]=m.useState(!1),[O,P]=m.useState(null),[I,M]=m.useState(!1),[q,U]=m.useState(null),[re,te]=m.useState(""),[B,H]=m.useState(""),[R,X]=m.useState(""),[W,Y]=m.useState(!1),[F,z]=m.useState({}),[K]=EQ(),V=m.useRef(null),[ae,Q]=m.useState({});m.useEffect(()=>{(async()=>{v(!0),_(null);try{const ke=await xt("/admin/wallets");u(ke==null?void 0:ke.data)}catch(ke){_(ke.message||"Failed to load members."),u([])}v(!1)})()},[]);const se=m.useCallback(async de=>{var ke,Pe;if(p(de),y(null),_(null),de){j(!0);try{const Re=await xt(`/admin/wallets/${de}`);(Pe=(ke=Re==null?void 0:Re.data)==null?void 0:ke.wallet)!=null&&Pe.transactions&&(Re.data.wallet.transactions=HE(Re.data.wallet.transactions)),y(Re==null?void 0:Re.data)}catch(Re){_(Re.message||`Failed to load wallet for member ${de}.`),y(null)}j(!1)}else y(null)},[p,y,_,j]);m.useEffect(()=>{const de=K.get("memberId");de&&d.length>0?de!==V.current&&(d.some(Pe=>String(Pe.memberId)===de)&&se(de),V.current=de):!de&&V.current&&(V.current=null)},[K,d,se]);const Z=de=>{if(!h||!g){_("Please select a customer first to modify their balance.");return}t(""),n(""),i(""),l(""),Q({}),P(de),T(!0)},le=de=>{U(de),de.paymentMethod==="PENDING"&&(te(""),H(""),X(""),z({})),M(!0)},Te=async()=>{var ke,Pe,Re,ie;if(!q||!h)return;const de={};if(re||(de.paymentMethod="Payment method is required for approval."),re&&re!=="CASH"&&!B.trim()&&(de.referenceNumber="Reference number is required for this payment method."),Object.keys(de).length>0){z(de);return}z({}),Y(!0);try{const be={paymentMethod:re,referenceNumber:B.trim(),notes:R.trim()};if(await Kr(`/admin/wallets/transactions/${q.id}/approve`,be),h){const De=await xt(`/admin/wallets/${h}`);(Pe=(ke=De==null?void 0:De.data)==null?void 0:ke.wallet)!=null&&Pe.transactions&&(De.data.wallet.transactions=HE(De.data.wallet.transactions)),y(De.data)}M(!1),ce.success("Transaction approved successfully!",{icon:s.jsx(rg,{className:"h-4 w-4"}),duration:5e3})}catch(be){console.error("Failed to approve transaction:",be);const De=((ie=(Re=be.response)==null?void 0:Re.data)==null?void 0:ie.message)||be.message||"Failed to approve transaction. Please try again.";z({notes:De}),ce.error(`Error approving transaction: ${De}`,{icon:s.jsx(Hc,{className:"h-4 w-4"}),duration:5e3})}finally{Y(!1)}},Ee=async()=>{var Re,ie;if(!h||!O){_("No member selected or transaction type missing.");return}const de=parseFloat(e);let ke={};if((isNaN(de)||de<=0)&&(ke.amount="Amount must be a positive number."),r.trim()||(ke.paymentMethod="Payment method is required."),Object.keys(ke).length>0){Q(ke);return}Q({}),E(!0),_(null);const Pe={amount:de,paymentMethod:r.trim(),referenceNumber:a.trim()||void 0,notes:o.trim()||void 0};try{if(O==="CREDIT"?await Kr(`/admin/wallets/${h}/add-funds`,Pe):await Kr(`/admin/wallets/${h}/remove-funds`,Pe),h){const be=await xt(`/admin/wallets/${h}`);(ie=(Re=be==null?void 0:be.data)==null?void 0:Re.wallet)!=null&&ie.transactions&&(be.data.wallet.transactions=HE(be.data.wallet.transactions)),y(be.data)}T(!1),t(""),n(""),i(""),l("")}catch(be){_(be.message||"Failed to process transaction.")}E(!1)},Ze=()=>{const de={},ke=Number.parseFloat(e);return e.trim()?(isNaN(ke)||ke<=0)&&(de.amount="Please enter a valid positive amount."):de.amount="Amount is required.",r.trim()||(de.paymentMethod="Payment method is required."),r!=="CASH"&&r!=="PENDING"&&!a.trim()&&(de.referenceNumber="Reference number is required."),Q(de),Object.keys(de).length===0};return m.useEffect(()=>{Ze()},[e,r,a]),s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl space-y-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Wallet Management"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage customer wallet balances and view transaction history"})]}),g&&!N&&s.jsx(yt,{className:"p-6 rounded-xl shadow-sm border bg-card transition-all hover:shadow-md",children:s.jsxs("div",{className:"flex items-start gap-5",children:[s.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:s.jsx(Pw,{className:"h-8 w-8 text-primary flex-shrink-0"})}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-foreground tracking-tight",children:g.memberName}),g.memberEmail&&s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(xT,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("a",{href:`mailto:${g.memberEmail}`,className:"text-muted-foreground hover:text-primary hover:underline transition-colors",children:g.memberEmail})]})]})})]})}),N&&s.jsx(yt,{className:"p-4 text-center mt-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Fr,{className:"h-4 w-4 animate-spin"}),"Loading wallet details..."]})}),g&&!N&&s.jsxs(s.Fragment,{children:[s.jsx(yt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Wc,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current Balance (",g==null?void 0:g.memberName,")"]}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:g?Ms(((Be=g==null?void 0:g.wallet)==null?void 0:Be.balance)??0):"N/A"})]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>Z("CREDIT"),size:"sm",className:"bg-green-600 hover:bg-primary text-white",children:[s.jsx(A1,{className:"mr-1 h-4 w-4"}),"Deposit"]}),s.jsxs(pe,{onClick:()=>Z("DEBIT"),variant:"destructive",size:"sm",children:[s.jsx(Ng,{className:"mr-1 h-4 w-4"}),"Withdrawn"]})]})]})})," ",s.jsxs(yt,{className:"mt-4",children:[s.jsx(_t,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Gt,{className:"text-lg",children:"Transaction History"})}),((Ie=g==null?void 0:g.wallet)==null?void 0:Ie.transactions)&&s.jsxs(Ir,{variant:"secondary",className:"text-xs",children:[g.wallet.transactions.length," transaction(s)"]})]})}),s.jsx(Nt,{className:"pt-0",children:(Ne=g==null?void 0:g.wallet)!=null&&Ne.transactions&&g.wallet.transactions.length>0?s.jsx("div",{className:"rounded-md border",children:s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{className:"text-xs uppercase bg-muted/50",children:[s.jsx(Ye,{className:"px-3 py-2",children:"Date"}),s.jsx(Ye,{className:"text-right",children:"Credited"}),s.jsx(Ye,{className:"text-right",children:"Debited"}),s.jsx(Ye,{className:"px-3 py-2",children:"Payment Method"}),s.jsx(Ye,{className:"px-3 py-2",children:"Reference"}),s.jsx(Ye,{className:"px-3 py-2",children:"Admin"}),s.jsx(Ye,{className:"px-3 py-2",children:"Status"}),s.jsx(Ye,{className:"text-right px-3 py-2",children:"Actions"})]})}),s.jsx(Ls,{children:g.wallet.transactions.map(de=>s.jsxs(rr,{className:"text-sm hover:bg-muted/50",children:[s.jsx($e,{className:"text-xs px-3 py-2 text-muted-foreground whitespace-nowrap",children:typeof de.timestamp=="string"&&de.timestamp?Rt(de.timestamp,"dd/MM/yyyy"):s.jsx("span",{className:"text-muted-foreground",children:"Date N/A"})}),s.jsx($e,{className:`text-right ${de.type==="CREDIT"?"text-green-500":"text-muted-foreground"}`,children:de.type==="CREDIT"?Ms(de.amount):s.jsx("span",{className:"text-muted-foreground",children:"0"})}),s.jsx($e,{className:`text-right ${de.type==="DEBIT"?"text-red-500":"text-muted-foreground"}`,children:de.type==="DEBIT"?Ms(de.amount):s.jsx("span",{className:"text-muted-foreground",children:"0"})}),s.jsx($e,{className:"text-xs px-3 py-2",children:de.paymentMethod||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx($e,{className:"text-xs px-3 py-2 font-mono",children:de.referenceNumber||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx($e,{className:"text-xs px-3 py-2 text-muted-foreground",children:de.adminName||s.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),s.jsx($e,{className:"text-xs px-3 py-2",children:de.status||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx($e,{className:"text-right px-3 py-2",children:s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>le(de),disabled:de.status!=="PENDING",children:"View Details"})})]},String(de.id)))})]})}):s.jsx("div",{className:"text-center py-10 text-sm text-muted-foreground",children:"No transactions found for this customer."})})]})]}),s.jsx(as,{open:k,onOpenChange:de=>{T(de),de||(t(""),n(""),i(""),l(""),Q({}),P(null),_(null))},children:s.jsxs(is,{className:"sm:max-w-md",children:[s.jsxs(fs,{children:[s.jsxs(hs,{className:"flex items-center",children:[O==="CREDIT"?s.jsx(A1,{className:"mr-2 h-5 w-5 text-green-600"}):s.jsx(Ng,{className:"mr-2 h-5 w-5 text-red-600"}),O==="CREDIT"?"Add Funds to Wallet":"Remove Funds from Wallet"]}),g&&s.jsxs(Ta,{children:["For ",g==null?void 0:g.memberName,". Current balance: ",Ms(((fe=g==null?void 0:g.wallet)==null?void 0:fe.balance)??0)]})]}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ye,{htmlFor:"amount",children:O==="CREDIT"?"Amount to Credit":"Amount to Debit"}),s.jsx(He,{id:"amount",type:"number",placeholder:"e.g., 50.00",value:e,onChange:de=>t(de.target.value),className:ae.amount?"border-destructive focus-visible:ring-destructive":""}),ae.amount&&s.jsx("p",{className:"text-xs text-destructive pt-1",children:ae.amount})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ye,{htmlFor:"paymentMethod",className:ae.paymentMethod?"text-destructive":"",children:"Payment Method"}),s.jsxs(It,{value:r,onValueChange:n,children:[s.jsx(Lt,{className:ae.paymentMethod?"border-destructive focus-visible:ring-destructive":"",children:s.jsx(Ft,{placeholder:"Select a payment method"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"CASH",children:"Cash"}),s.jsx(Je,{value:"UPI",children:"UPI"}),s.jsx(Je,{value:"Bank",children:"Bank Transfer"})]})]}),ae.paymentMethod&&s.jsx("p",{className:"text-xs text-destructive pt-1",children:ae.paymentMethod})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(ye,{htmlFor:"referenceNumber",children:["Reference Number ",s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),s.jsx(He,{id:"referenceNumber",placeholder:"e.g., INV-12345, Txn ID",value:a,disabled:r==="CASH",onChange:de=>i(de.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(ye,{htmlFor:"notes",children:["Notes ",s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),s.jsx(Hu,{id:"notes",placeholder:"e.g., Monthly deposit, Refund for order #XYZ",value:o,onChange:de=>l(de.target.value),rows:3})]})]}),S&&!ae.amount&&!ae.paymentMethod&&s.jsxs("div",{className:"bg-destructive/15 text-destructive px-3 py-2 rounded-md text-sm",children:["Error: ",S]}),s.jsx(di,{className:"sm:justify-start pt-2",children:s.jsx(pe,{type:"button",onClick:Ee,disabled:A||Object.keys(ae).length>0,className:`w-full ${O==="CREDIT"?"bg-green-600 hover:bg-primary text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:A?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):O==="CREDIT"?"Credit Wallet":"Debit Wallet"})})]})}),I&&q&&s.jsx(as,{open:I,onOpenChange:de=>{!de&&W||M(de)},children:s.jsxs(is,{className:"sm:max-w-lg",children:[s.jsxs(fs,{children:[s.jsx(hs,{children:q.status==="PENDING"?"Approve Transaction":"Transaction Details"}),s.jsx(Ta,{children:q.status==="PENDING"?"Complete the details below to approve this pending transaction.":"Review the details of this transaction."})]}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Transaction ID:"})}),s.jsx("div",{children:q.id}),s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Date:"})}),s.jsx("div",{children:Rt(new Date(q.timestamp),"dd/MM/yyyy")}),s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Type:"})}),s.jsx("div",{children:s.jsx(Ir,{variant:q.type==="CREDIT"?"default":"destructive",className:`${q.type==="CREDIT"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:q.type})}),s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Amount:"})}),s.jsx("div",{className:`font-semibold ${q.type==="CREDIT"?"text-green-600":"text-red-600"}`,children:Ms(q.amount)})]}),q.status!=="PENDING"&&s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm pt-2 border-t",children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"})}),s.jsx("div",{children:s.jsx(Ir,{variant:q.status==="COMPLETED"?"default":q.status==="FAILED"?"destructive":"outline",className:`capitalize ${q.status==="COMPLETED"?"bg-green-100 text-green-700":q.status==="FAILED"?"bg-red-100 text-red-700":"border-gray-300 text-gray-500"}`,children:q.status?q.status.toLowerCase():"N/A"})}),q.status&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Payment Method:"})}),s.jsx("div",{children:q.paymentMethod})]}),q.referenceNumber&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Reference No:"})}),s.jsx("div",{children:q.referenceNumber})]})]}),q.notes&&q.paymentMethod!=="PENDING"&&s.jsxs("div",{className:"text-sm pt-2 border-t",children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Notes:"}),s.jsx("p",{className:"p-2 bg-muted/50 rounded-md whitespace-pre-wrap",children:q.notes})]})]}),q.status==="PENDING"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsx("h3",{className:"text-md font-semibold text-foreground",children:"Approval Details"}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:"approvalPaymentMethod",children:["Payment Method ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(It,{value:re,onValueChange:te,disabled:W,children:[s.jsx(Lt,{id:"approvalPaymentMethod",children:s.jsx(Ft,{placeholder:"Select actual payment method"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"CASH",children:"Cash"}),s.jsx(Je,{value:"UPI",children:"UPI"}),s.jsx(Je,{value:"Bank Transfer",children:"Bank Transfer"})]})]}),F.paymentMethod&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:F.paymentMethod})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:"approvalReferenceNumber",children:["Reference Number ",re!=="CASH"&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(He,{id:"approvalReferenceNumber",value:B,onChange:de=>H(de.target.value),placeholder:"Enter reference number",disabled:W||!re||re==="CASH"}),F.referenceNumber&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:F.referenceNumber})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"approvalNotes",children:"Notes"}),s.jsx(Hu,{id:"approvalNotes",value:R,onChange:de=>X(de.target.value),placeholder:"Add any notes for this approval (optional)",disabled:W}),F.notes&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:F.notes})]})]}),s.jsx(di,{className:"mt-2",children:q.status==="PENDING"?s.jsxs(s.Fragment,{children:[s.jsx(pe,{variant:"outline",onClick:()=>M(!1),disabled:W,children:"Cancel"}),s.jsx(pe,{onClick:Te,disabled:W||!re,children:W?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"mr-2 h-4 w-4 animate-spin"})," Approving..."]}):"Approve Payment"})]}):s.jsx(pe,{variant:"outline",onClick:()=>M(!1),children:"Close"})})]})})]})};function mG(e,t){const[r,n]=m.useState(e);return m.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}const xIe=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null),[o,l]=m.useState(1),[d,u]=m.useState(0),[h,p]=m.useState(10),[g,y]=m.useState(""),[w,v]=m.useState("name"),[N,j]=m.useState("asc"),A=mG(g,500),E=async(I,M)=>{var q,U;try{await Fn(`/admin/members/${I}/status`,{active:!M}),t(re=>re.map(te=>te._id===I?{...te,active:!M}:te))}catch(re){i(((U=(q=re.response)==null?void 0:q.data)==null?void 0:U.message)||re.message||"Failed to update member status"),console.error("Failed to update member status:",re)}},S=async(I=o,M=h,q=A,U=w,re=N)=>{var te,B;n(!0),i(null);try{const H=new URLSearchParams;H.append("page",I.toString()),H.append("limit",M.toString()),q&&H.append("search",q),H.append("sortBy",U),H.append("sortOrder",re);const R=await xt(`/admin/members?${H.toString()}`);t(R.members),l(R.page),u(R.totalPages)}catch(H){i(((B=(te=H.response)==null?void 0:te.data)==null?void 0:B.message)||H.message||"Failed to fetch members"),console.error("Failed to fetch members:",H),t([]),u(0)}n(!1)};m.useEffect(()=>{S(o,h,A,w,N)},[o,h,A,w,N]);const _=I=>{y(I.target.value),l(1)},k=()=>{l(I=>Math.max(I-1,1))},T=()=>{l(I=>Math.min(I+1,d))},O=I=>{w===I?j(N==="asc"?"desc":"asc"):(v(I),j("asc")),l(1)},P=I=>{p(Number(I)),l(1)};return r?s.jsxs("div",{className:"flex items-center justify-center h-40",children:[s.jsx(Fr,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2",children:"Loading members..."})]}):a?s.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-red-600",children:[s.jsx(Hc,{className:"h-8 w-8 mb-2"}),s.jsxs("p",{children:["Error: ",a]})]}):s.jsx("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8",children:s.jsxs(yt,{children:[s.jsx(_t,{}),s.jsxs(Nt,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin - Customer Wallets"}),s.jsxs("div",{className:"flex  justify-end items-center gap-4 mb-4",children:[s.jsx(He,{type:"text",placeholder:"Search customer by name or email...",value:g,onChange:_,className:"max-w-sm flex-grow"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show:"}),s.jsxs(It,{value:h.toString(),onValueChange:P,children:[s.jsx(Lt,{className:"w-[80px]",children:s.jsx(Ft,{placeholder:h.toString()})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"10",children:"10"}),s.jsx(Je,{value:"25",children:"25"}),s.jsx(Je,{value:"50",children:"50"}),s.jsx(Je,{value:"100",children:"100"})]})]})]})]})]}),e.length===0&&!r?s.jsx("p",{className:"text-center text-gray-500 py-4",children:"No Customer found."}):s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsxs(Ye,{onClick:()=>O("name"),className:"cursor-pointer",children:["Name ",w==="name"&&(N==="asc"?"▲":"▼")]}),s.jsxs(Ye,{onClick:()=>O("email"),className:"cursor-pointer",children:["Email ",w==="email"&&(N==="asc"?"▲":"▼")]}),s.jsxs(Ye,{onClick:()=>O("walletBalance"),className:"cursor-pointer",children:["Wallet Balance ",w==="walletBalance"&&(N==="asc"?"▲":"▼")]}),s.jsxs(Ye,{onClick:()=>O("active"),className:"cursor-pointer",children:["Status ",w==="active"&&(N==="asc"?"▲":"▼")]}),s.jsx(Ye,{className:"text-center",children:"Actions"})]})}),s.jsx(Ls,{children:e.map(I=>s.jsxs(rr,{children:[s.jsx($e,{children:I.name}),s.jsx($e,{children:I.email}),s.jsxs($e,{children:["₹",I.walletBalance.toFixed(2)]}),s.jsx($e,{children:I.active===void 0?s.jsx("span",{className:"text-gray-500",children:"Unknown"}):I.active?s.jsx("span",{className:"text-green-600 font-semibold",children:"Active"}):s.jsx("span",{className:"text-red-600 font-semibold",children:"Inactive"})}),s.jsxs($e,{className:"text-center space-x-1",children:[s.jsx(pe,{asChild:!0,variant:"outline",size:"sm",children:s.jsx(Mr,{to:`/admin/wallet?memberId=${I._id}`,children:s.jsx(Wc,{className:"h-4 w-4"})})}),s.jsx(pe,{asChild:!0,variant:"outline",size:"sm",className:"ml-2",title:"Edit Customer Details",children:s.jsxs(Mr,{to:`/admin/members/${I._id}/edit`,children:[" ",s.jsx(Ya,{className:"h-4 w-4"})]})}),I.active!==void 0&&s.jsx(pe,{variant:"outline",size:"sm",className:"ml-2",onClick:()=>E(I._id,I.active),title:I.active?"Deactivate Customer":"Activate Customer",children:I.active?s.jsx(Yi,{className:"h-4 w-4 text-red-500"}):s.jsx(rg,{className:"h-4 w-4 text-green-500"})})]})]},I._id))})]}),d>0&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsx(pe,{onClick:k,disabled:o<=1||r,variant:"outline",children:"Previous"}),s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",o," of ",d]}),s.jsx(pe,{onClick:T,disabled:o>=d||r,variant:"outline",children:"Next"})]})]})]})})},gIe=({initialData:e,onClose:t,onSuccess:r})=>{var k;const[n,a]=m.useState({name:"",pincodes:"",depotId:"",cityId:null,deliveryType:cp.HandDelivery,isDairyProduct:!1}),[i,o]=m.useState(!1),[l,d]=m.useState([]),[u,h]=m.useState([]),[p,g]=m.useState({}),[y,w]=m.useState([]);m.useEffect(()=>{e&&l.length>0&&u.length>0?a({name:e.name,pincodes:e.pincodes,depotId:e.depotId?String(e.depotId):"",cityId:e.cityId||null,deliveryType:e.deliveryType||cp.HandDelivery,isDairyProduct:e.isDairyProduct||!1}):e||a({name:"",pincodes:"",depotId:"",cityId:null,deliveryType:cp.HandDelivery,isDairyProduct:!1})},[e,l,u]),m.useEffect(()=>{const T=async()=>{try{const P=await E4();d(P)}catch(P){console.error("Failed to fetch depots",P),ce.error("Failed to load depots for selection.")}},O=async()=>{try{const P=await ev();h(P)}catch(P){console.error("Failed to fetch cities",P),ce.error("Failed to load cities for selection.")}};T(),O()},[]),m.useEffect(()=>{const T=n.pincodes||(e==null?void 0:e.pincodes)||"";N(T)},[n.pincodes,e==null?void 0:e.pincodes]);const v=T=>T.trim()?/^\d{6}(\s*,\s*\d{6})*$/.test(T.trim())?null:T.trim().endsWith(",")?"Remove trailing comma from pincodes.":T.split(",").map(P=>P.trim()).some(P=>!/^\d{6}$/.test(P)&&P!=="")?"Each pincode must be exactly 6 digits.":"Enter valid 6-digit pincodes, comma-separated (e.g., 123456, 789012).":"Pincodes are required",N=T=>{const O=T.split(",").map(P=>P.trim()).filter(P=>/^\d{6}$/.test(P));w(Array.from(new Set(O)))},j=()=>{const T={};n.name.trim()||(T.name="Name is required");const O=v(n.pincodes);return O&&(T.pincodes=O),n.deliveryType||(T.deliveryType="Delivery type is required"),g(T),Object.keys(T).length===0},A=T=>{const{name:O,value:P}=T.target,I={...n,[O]:P};if(a(I),O==="pincodes"){const M=v(P);g(q=>({...q,pincodes:M||""})),N(P)}},E=(T,O)=>{a(P=>({...P,[T]:T==="depotId"?O:T==="cityId"?O?parseInt(O):null:String(O)})),T==="deliveryType"&&!O?g(P=>({...P,deliveryType:"Delivery type is required"})):T==="deliveryType"&&g(P=>({...P,deliveryType:""}))},S=(T,O)=>{a(P=>({...P,[T]:O}))},_=async T=>{var O,P;if(T.preventDefault(),!j()){ce.error("Please correct the form errors.");return}o(!0);try{const I={...n,depotId:n.depotId};e&&e.id?(await V2e(e.id,I),ce.success("Area master updated successfully!")):(await $2e(I),ce.success("Area master created successfully!")),r()}catch(I){const M=((O=I.data)==null?void 0:O.message)||I.message||(e?"Failed to update area master":"Failed to create area master");if(ce.error(M),(P=I.data)!=null&&P.errors){const q={};for(const U of I.data.errors)U.path&&U.message&&(q[U.path[0]]=U.message);g(U=>({...U,...q}))}}o(!1)};return s.jsxs("form",{onSubmit:_,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ye,{htmlFor:"name",children:["Area Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{type:"text",name:"name",id:"name",value:n.name,onChange:A,className:`${p.name?"border-red-500":""}`}),p.name&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:p.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ye,{htmlFor:"pincodes",children:["Pincodes (comma-separated) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{type:"text",name:"pincodes",id:"pincodes",value:n.pincodes,onChange:A,placeholder:"e.g., 110001, 110002",className:`${p.pincodes?"border-red-500":""}`}),p.pincodes&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:p.pincodes}),y.length>0&&!p.pincodes&&s.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[y.slice(0,5).map(T=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:T},T)),y.length>5&&s.jsxs("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 text-xs font-medium rounded-full cursor-help",title:`All pincodes: ${y.join(", ")}`,children:["+",y.length-5," more"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"cityId",children:"Associated City (Optional)"}),s.jsxs(It,{name:"cityId",value:((k=n.cityId)==null?void 0:k.toString())||"none",onValueChange:T=>E("cityId",T==="none"?null:T),children:[s.jsx(Lt,{id:"cityId",children:s.jsx(Ft,{placeholder:"Select a city (optional)"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"none",children:"No City Association"}),u.map(T=>s.jsx(Je,{value:String(T.id),children:T.name},T.id))]})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Associate this area with a specific city to help users filter delivery areas."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"depotId",children:"Depot (Optional)"}),s.jsxs(It,{name:"depotId",value:n.depotId||"none",onValueChange:T=>E("depotId",T==="none"?null:T),children:[s.jsx(Lt,{id:"depotId",children:s.jsx(Ft,{placeholder:"Select a depot (optional)"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"none",children:"No Depot Assignment"}),l.map(T=>s.jsx(Je,{value:String(T.id),children:T.name},T.id))]})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Optionally assign this area to a specific depot for inventory management."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ye,{htmlFor:"deliveryType",children:["Delivery Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(It,{name:"deliveryType",value:n.deliveryType,onValueChange:T=>E("deliveryType",T),children:[s.jsx(Lt,{id:"deliveryType",className:`${p.deliveryType?"border-red-500":""}`,children:s.jsx(Ft,{placeholder:"Select delivery type"})}),s.jsx(Bt,{children:Object.values(cp).map(T=>s.jsxs(Je,{value:T,children:[T.replace(/([A-Z])/g," $1").trim()," "]},T))})]}),p.deliveryType&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:p.deliveryType})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sc,{id:"isDairyProduct",checked:n.isDairyProduct,onCheckedChange:T=>S("isDairyProduct",!!T)}),s.jsx(ye,{htmlFor:"isDairyProduct",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Supports Dairy Products"})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Check this if this delivery area can handle dairy products that require special handling/temperature control."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:i,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:i,children:i?e?"Updating...":"Creating...":e?"Update Area Master":"Create Area Master"})]})]})},Mf="...",s1=(e,t)=>{let r=t-e+1;return Array.from({length:r},(n,a)=>a+e)},HN=({currentPage:e,totalPages:t,onPageChange:r,totalRecords:n,limit:a,onLimitChange:i,siblingCount:o=1})=>{const l=je.useMemo(()=>{if(o+5>=t)return s1(1,t);const y=Math.max(e-o,1),w=Math.min(e+o,t),v=y>2,N=w<t-2,j=1,A=t;if(!v&&N){let E=3+2*o;return[...s1(1,E),Mf,t]}if(v&&!N){let E=3+2*o,S=s1(t-E+1,t);return[j,Mf,...S]}if(v&&N){let E=s1(y,w);return[j,Mf,...E,Mf,A]}return[]},[t,o,e]);if(t===0||t===1)return null;const d=()=>{r(e+1)},u=()=>{r(e-1)},h=(e-1)*a+1,p=Math.min(e*a,n);return s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",h," - ",p," of ",n," records"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[i&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),s.jsxs(It,{value:`${a}`,onValueChange:g=>{i(Number(g))},children:[s.jsx(Lt,{className:"h-8 w-[70px]",children:s.jsx(Ft,{placeholder:`${a}`})}),s.jsx(Bt,{side:"top",children:[10,20,30,40,50].map(g=>s.jsx(Je,{value:`${g}`,children:g},g))})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>r(1),disabled:e===1,className:"h-8 w-8",children:s.jsx(pZ,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"outline",size:"icon",onClick:u,disabled:e===1,className:"h-8 w-8",children:s.jsx(c0,{className:"h-4 w-4"})}),l.map((g,y)=>g===Mf?s.jsx("span",{className:"px-2 py-1",children:Mf},`${Mf}-${y}`):s.jsx(pe,{variant:e===g?"default":"outline",size:"icon",onClick:()=>r(g),className:"h-8 w-8",children:g},g)),s.jsx(pe,{variant:"outline",size:"icon",onClick:d,disabled:e===t,className:"h-8 w-8",children:s.jsx(Fu,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>r(t),disabled:e===t,className:"h-8 w-8",children:s.jsx(gZ,{className:"h-4 w-4"})})]})]})},yIe=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState(1),[d,u]=m.useState(1),[h,p]=m.useState(0),g=10,[y,w]=m.useState(""),[v,N]=m.useState("name"),[j,A]=m.useState("asc"),[E,S]=m.useState(!1),[_,k]=m.useState(null),[T,O]=m.useState(!1),[P,I]=m.useState([]),[M,q]=m.useState({top:0,left:0}),[U,re]=m.useState(null),te=m.useRef(null),[B,H]=m.useState(!1),[R,X]=m.useState(null),W=m.useCallback(async()=>{n(!0),i(null);try{const Ee=await U2e({page:o,limit:g,search:y,sortBy:v,sortOrder:j});t(Ee.areaMasters||[]),u(Ee.totalPages||1),p(Ee.totalRecords||0),Ee.message&&Ee.areaMasters.length}catch(Ee){const Ze=Ee.message||"Failed to fetch area masters";i(Ze),ce.error(Ze),t([])}finally{n(!1)}},[o,g,y,v,j]);m.useEffect(()=>{W()},[W]);const Y=Ee=>{w(Ee.target.value),l(1)},F=Ee=>{let Ze=Ee;Ee==="Depot"?Ze="depot.name":Ee==="city.name"?Ze="city.name":Ze=Ee.toLowerCase().replace(/\s+/g,""),v===Ze?A(j==="asc"?"desc":"asc"):(N(Ze),A("asc")),l(1)},z=({column:Ee})=>{let Ze=Ee;return Ee==="Depot"?Ze="depot.name":Ee==="city.name"?Ze="city.name":Ze=Ee.toLowerCase().replace(/\s+/g,""),v!==Ze?s.jsx(by,{className:"ml-2 h-4 w-4 opacity-50"}):j==="asc"?s.jsx(Ow,{className:"ml-2 h-4 w-4 text-blue-600"}):s.jsx(Dw,{className:"ml-2 h-4 w-4 text-blue-600"})},K=()=>{k(null)},V=Ee=>{k(Ee),S(!0)},ae=Ee=>{X(Ee),H(!0)},Q=async()=>{if(R!==null)try{const Ee=await q2e(R);ce.success(Ee.message||"Area Master deleted successfully!"),W(),H(!1),X(null)}catch(Ee){const Ze=Ee.message||"Failed to delete area master";ce.error(Ze),H(!1)}},se=()=>{S(!1),k(null)},Z=(Ee,Ze=3)=>{const Be=Ee.split(",").map(ke=>ke.trim()).filter(ke=>ke.length===6);if(Be.length===0)return s.jsx("span",{className:"text-gray-400",children:"N/A"});const Ie=Be.slice(0,Ze),Ne=Be.length-Ze,fe=(ke,Pe)=>{q({top:ke.pageY+10,left:ke.pageX-310}),I(Pe),O(!0)},de=()=>{U&&clearTimeout(U);const ke=setTimeout(()=>{O(!1)},300);re(ke)};return s.jsxs("div",{className:"flex flex-wrap items-center gap-1 py-1",children:[Ie.map(ke=>s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:ke},ke)),Ne>0&&s.jsxs("span",{ref:te,className:"px-2 py-0.5 bg-gray-200 text-gray-700 text-xs font-medium rounded-full cursor-help",onMouseEnter:ke=>fe(ke,Be),onMouseLeave:de,children:["+",Ne," more"]})]})},le=()=>{se(),l(1),W()},Te=()=>!T||P.length===0?null:s.jsx("div",{style:{position:"absolute",top:`${M.top}px`,left:`${M.left}px`,zIndex:1e3},className:"p-2 bg-white border border-gray-300 rounded-md shadow-lg max-w-xs max-h-48 overflow-y-auto",onMouseEnter:()=>{U&&clearTimeout(U)},onMouseLeave:()=>{O(!1)},children:s.jsx("div",{className:"flex flex-wrap gap-1",children:P.map(Ee=>s.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:Ee},`tooltip-${Ee}`))})});return s.jsxs("div",{className:"p-4 md:p-6",children:[s.jsxs(as,{open:E,onOpenChange:Ee=>{S(Ee),Ee||k(null)},children:[s.jsxs(yt,{className:"shadow-xl",children:[s.jsx(_t,{className:"px-4 sm:px-6 py-4 sm:py-5 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx(Gt,{className:"text-xl sm:text-2xl font-semibold text-slate-800 dark:text-slate-100",children:"Area Master Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[s.jsx(He,{type:"text",placeholder:"Search areas...",value:y,onChange:Y,className:"pl-10 pr-4 py-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200"}),s.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400 dark:text-slate-500"})]}),s.jsx(p0,{asChild:!0,children:s.jsxs(pe,{onClick:K,className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap",children:[s.jsx(Xs,{className:"mr-2 h-5 w-5"})," Add New Area"]})})]})]})}),s.jsxs(Nt,{className:"p-0",children:[a&&s.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error: ",a,". Please try refreshing the page."]}),!a&&r&&s.jsx("div",{className:"p-4 sm:p-6",children:s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((Ee,Ze)=>s.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[s.jsx(Ot,{className:"h-8 w-2/6"}),s.jsx(Ot,{className:"h-8 w-2/6"}),s.jsx(Ot,{className:"h-8 w-1/6"}),s.jsx(Ot,{className:"h-8 w-1/6"}),s.jsx(Ot,{className:"h-8 w-10"})]},Ze))})}),!a&&!r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Is,{className:"min-w-full",children:[s.jsx(Fs,{className:"bg-slate-50 dark:bg-slate-800/50",children:s.jsxs(rr,{children:[s.jsx(Ye,{onClick:()=>F("name"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Name ",s.jsx(z,{column:"name"})]})}),s.jsx(Ye,{onClick:()=>F("city.name"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["City ",s.jsx(z,{column:"city.name"})]})}),s.jsx(Ye,{className:"px-4 py-3 whitespace-nowrap font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Pincodes"}),s.jsx(Ye,{onClick:()=>F("depot.name"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Depot ",s.jsx(z,{column:"depot.name"})]})}),s.jsx(Ye,{onClick:()=>F("deliveryType"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Delivery Type ",s.jsx(z,{column:"deliveryType"})]})}),s.jsx(Ye,{onClick:()=>F("isDairyProduct"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Dairy Support ",s.jsx(z,{column:"isDairyProduct"})]})}),s.jsx(Ye,{className:"text-right px-4 py-3 whitespace-nowrap font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Actions"})]})}),s.jsx(Ls,{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.length===0?s.jsx(rr,{children:s.jsxs($e,{colSpan:7,className:"text-center py-10 text-slate-500 dark:text-slate-400",children:["No area masters found. ",y?"Try adjusting your search.":"Click 'Add New Area' to create one."]})}):e.map(Ee=>{var Ze,Be;return s.jsxs(rr,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 border-b last:border-b-0",children:[s.jsx($e,{className:"font-medium px-4 py-3 whitespace-nowrap text-sm text-slate-700 dark:text-slate-200",children:Ee.name}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:((Ze=Ee.city)==null?void 0:Ze.name)??s.jsx("span",{className:"text-slate-400",children:"No City"})}),s.jsx($e,{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 max-w-xs",children:Z(Ee.pincodes)}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:((Be=Ee.depot)==null?void 0:Be.name)??s.jsx("span",{className:"text-slate-400",children:"N/A"})}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ee.deliveryType===cp.HandDelivery?"bg-green-100 text-green-700 dark:bg-primary/20 dark:text-green-400":"bg-purple-100 text-purple-700 dark:bg-purple-700/20 dark:text-purple-400"}`,children:Ee.deliveryType.replace(/([A-Z])/g," $1").trim()})}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ee.isDairyProduct?"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/20 dark:text-yellow-400":"bg-gray-100 text-gray-700 dark:bg-gray-700/20 dark:text-gray-400"}`,children:Ee.isDairyProduct?"Dairy Available":"No Dairy"})}),s.jsxs($e,{className:"flex justify-end space-x-2 px-4 py-3 whitespace-nowrap",children:[s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>V(Ee),className:"hover:bg-slate-100 dark:hover:bg-slate-700",title:"Edit Area",children:s.jsx(Ya,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>ae(Ee.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 dark:text-red-500 dark:hover:text-red-400",title:"Delete Area",children:s.jsx(Qs,{className:"h-4 w-4"})})]})]},Ee.id)})})]})}),d>1&&s.jsx("div",{className:"p-4 sm:p-6 border-t dark:border-slate-700",children:s.jsx(HN,{currentPage:o,totalPages:d,onPageChange:l,totalRecords:h,limit:g})})]})]})]}),s.jsxs(is,{className:"sm:max-w-[525px] max-h-[90vh] overflow-y-auto dark:bg-slate-800",children:[s.jsxs(fs,{children:[s.jsx(hs,{className:"dark:text-slate-100",children:_?"Edit Area Master":"Add New Area Master"}),s.jsx(Ta,{className:"dark:text-slate-400",children:_?"Update the details of the area master.":"Fill in the details to create a new area master."})]}),s.jsx(gIe,{initialData:_,onClose:()=>S(!1),onSuccess:le})]})]}),s.jsx(Ln,{open:B,onOpenChange:H,children:s.jsxs(Bn,{className:"dark:bg-slate-800",children:[s.jsxs($n,{children:[s.jsx(Vn,{className:"dark:text-slate-100",children:"Are you absolutely sure?"}),s.jsx(qn,{className:"dark:text-slate-400",children:"This action cannot be undone. This will permanently delete the area master and remove its data from our servers."})]}),s.jsxs(Un,{children:[s.jsx(zn,{className:"dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700",children:"Cancel"}),s.jsx(aa,{onClick:Q,className:"bg-red-600 hover:bg-red-700 text-white dark:bg-red-700 dark:hover:bg-red-800",children:"Delete"})]})]})}),Te()]})},WN="/admin/categories",vIe=async(e={})=>{try{return await xt(WN,e)}catch(t){throw console.error("Failed to fetch categories:",t),t}},bIe=async e=>{try{return await Kr(WN,e)}catch(t){throw console.error("Failed to create category:",t),t}},wIe=async(e,t)=>{try{return await Zs(`${WN}/${e}`,t)}catch(r){throw console.error(`Failed to update category ${e}:`,r),r}},NIe=async e=>{try{await Tn(`${WN}/${e}`)}catch(t){throw console.error(`Failed to delete category ${e}:`,t),t}},jIe=5*1024*1024,SIe=["image/jpeg","image/jpg","image/png","image/webp"],EIe=ys({name:it().min(1,"Category name is required").max(100,"Name must be 100 characters or less"),isDairy:ko().default(!1),attachment:bT().optional().nullable().transform(e=>e&&e.length>0?e[0]:null).refine(e=>!e||e instanceof File,{message:"Attachment must be a valid file."}).refine(e=>!e||e.size<=jIe,{message:"Max file size is 5MB."}).refine(e=>!e||SIe.includes(e.type),{message:"Only .jpeg, .jpg, .png, and .webp formats are supported."}),imageUrl:it().optional().nullable()}),AIe=({initialData:e,onClose:t,onSuccess:r})=>{const[n,a]=m.useState((e==null?void 0:e.imageUrl)||null),{register:i,handleSubmit:o,reset:l,setValue:d,watch:u,formState:{errors:h,isSubmitting:p}}=Js({resolver:en(EIe),defaultValues:{name:(e==null?void 0:e.name)||"",isDairy:(e==null?void 0:e.isDairy)||!1,attachment:null,imageUrl:(e==null?void 0:e.imageUrl)||null}}),g=u("attachment"),y=u("imageUrl");m.useEffect(()=>{e?(l({name:e.name,isDairy:e.isDairy||!1,attachment:null,imageUrl:e.imageUrl||null}),a(e.imageUrl?`http://localhost:3000${e.imageUrl}`:null)):(l({name:"",isDairy:!1,attachment:null,imageUrl:null}),a(null))},[e,l]),m.useEffect(()=>{if(g&&g instanceof File){const N=new FileReader;N.onloadend=()=>{a(N.result)},N.readAsDataURL(g)}else y?a(y.startsWith("data:")?y:`http://localhost:3000${y}`):g||a(null)},[g,y,"http://localhost:3000"]);const w=()=>{d("attachment",null,{shouldValidate:!0}),d("imageUrl",null),a(null)},v=async N=>{var A,E;const j=new FormData;j.append("name",N.name),j.append("isDairy",String(N.isDairy)),N.attachment&&j.append("attachment",N.attachment),e!=null&&e.id&&N.imageUrl===null&&e.imageUrl&&j.append("removeImage","true");try{let S;e&&e.id?(S=await wIe(e.id,j),ce.success("Category updated successfully!")):(S=await bIe(j),ce.success("Category created successfully!")),r(S)}catch(S){const _=((E=(A=S.response)==null?void 0:A.data)==null?void 0:E.message)||S.message||(e?"Failed to update category":"Failed to create category");ce.error(_)}};return s.jsxs("form",{onSubmit:o(v),className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ye,{htmlFor:"name",children:["Category Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{id:"name",...i("name"),autoFocus:!0}),h.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.name.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Z1,{id:"isDairy",checked:u("isDairy"),onCheckedChange:N=>d("isDairy",N)}),s.jsx(ye,{htmlFor:"isDairy",children:"Is Dairy?"}),h.isDairy&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.isDairy.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"attachment",children:"Category Image"}),s.jsx(He,{id:"attachment",type:"file",accept:"image/*",...i("attachment")}),h.attachment&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.attachment.message})]}),n&&s.jsxs("div",{className:"mt-4 relative w-32 h-32 border rounded-md overflow-hidden group",children:[s.jsx("img",{src:n.startsWith("data:")||n.startsWith("http")?n:`http://localhost:3000${n}`,alt:"Preview",className:"w-full h-full object-cover"}),s.jsx(pe,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity p-1 h-6 w-6",onClick:w,children:s.jsx(Yi,{className:"h-4 w-4"})})]}),!n&&s.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"No image selected."}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:p,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:p,className:"gap-2",children:[p?s.jsx(Fr,{className:"h-4 w-4 animate-spin"}):e!=null&&e.id?s.jsx(d0,{className:"h-4 w-4"}):s.jsx(Xs,{className:"h-4 w-4"}),p?e!=null&&e.id?"Updating...":"Creating...":e!=null&&e.id?"Update Category":"Create Category"]})]})]})},CIe=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState(1),[d,u]=m.useState(1),[h,p]=m.useState(0),[g,y]=m.useState(""),[w,v]=m.useState("name"),[N,j]=m.useState("asc"),[A,E]=m.useState(!1),[S,_]=m.useState(null),[k,T]=m.useState(!1),[O,P]=m.useState(null),I=10,M=m.useCallback(async()=>{n(!0),i(null);try{const Y=await vIe({page:o,limit:I,search:g,sortBy:w,sortOrder:N});t(Y.categories),u(Y.totalPages),p(Y.totalRecords)}catch(Y){const F=Y.message||"Failed to fetch categories";i(F),ce.error(F)}n(!1)},[o,g,w,N]);m.useEffect(()=>{M()},[M]);const q=Y=>{y(Y.target.value),l(1)},U=Y=>{w===Y?j(N==="asc"?"desc":"asc"):(v(Y),j("asc")),l(1)},re=()=>{_(null),E(!0)},te=Y=>{_(Y),E(!0)},B=Y=>{P(Y),T(!0)},H=async()=>{if(O!==null){try{await NIe(O),ce.success("Category deleted successfully"),e.length===1&&o>1?l(o-1):M()}catch(Y){const F=Y.message||"Failed to delete category";ce.error(F)}T(!1),P(null)}},R=()=>{E(!1),M()},X=()=>{if(d<=1)return null;const Y=[];for(let F=1;F<=d;F++)Y.push(F);return s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>l(F=>Math.max(F-1,1)),disabled:o===1,children:[s.jsx(c0,{size:16,className:"mr-1"})," Previous"]}),Y.map(F=>s.jsx(pe,{variant:o===F?"default":"outline",size:"sm",onClick:()=>l(F),children:F},F)),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>l(F=>Math.min(F+1,d)),disabled:o===d,children:["Next ",s.jsx(Fu,{size:16,className:"ml-1"})]})]})},W=["Image","Category Name","Actions"];return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(as,{open:A,onOpenChange:Y=>{E(Y),Y||_(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Category Master"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(He,{type:"text",placeholder:"Search by category name...",value:g,onChange:q,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),s.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(p0,{asChild:!0,children:s.jsxs(pe,{variant:"default",size:"lg",onClick:re,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[s.jsx(Xs,{size:20,className:""})," Add New Category"]})})]})]}),r&&s.jsx("p",{className:"text-center py-6 text-gray-600",children:"Loading categories..."}),a&&s.jsxs("p",{className:"text-center py-6 text-red-600 font-medium",children:["Error: ",a]}),!r&&!a&&e.length===0&&s.jsxs("p",{className:"text-center py-10 text-gray-500",children:["No categories found. ",g?"Try adjusting your search.":'Click "Add New Category" to create one.']}),!r&&!a&&e.length>0&&s.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 bg-white",children:s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsx(rr,{className:"bg-gray-100 hover:bg-gray-100",children:W.map(Y=>s.jsxs(Ye,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>Y!=="Actions"&&Y!=="Image"&&U(Y==="Category Name"?"name":Y.toLowerCase()),children:[Y,Y!=="Image"&&w===(Y==="Category Name"?"name":Y.toLowerCase())&&s.jsx("span",{className:"ml-1",children:N==="asc"?"▲":"▼"})]},Y))})}),s.jsx(Ls,{className:"divide-y divide-gray-200",children:e.map(Y=>s.jsxs(rr,{className:"hover:bg-gray-50 transition-colors",children:[s.jsx($e,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Y.imageUrl?s.jsx("img",{src:`${md}${Y.imageUrl}`,alt:Y.name,className:"h-10 w-10 rounded-md object-cover"}):s.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center text-xs text-gray-400",children:"No Image"})}),s.jsx($e,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800",children:Y.name}),s.jsxs($e,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-3",children:[s.jsx("button",{onClick:()=>te(Y),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Edit",children:s.jsx(Ya,{size:18})}),s.jsx("button",{onClick:()=>B(Y.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Delete",children:s.jsx(Qs,{size:18})})]})]},Y.id))})]})}),h>0&&X()]}),s.jsxs(is,{className:"sm:max-w-[425px]",children:[s.jsxs(fs,{children:[s.jsx(hs,{children:S?"Edit Category":"Add New Category"}),s.jsx(Ta,{children:S?"Update the details of the category.":"Fill in the details to add a new category."})]}),s.jsx(AIe,{initialData:S,onClose:()=>E(!1),onSuccess:R})]})]}),s.jsx(Ln,{open:k,onOpenChange:T,children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Are you absolutely sure?"}),s.jsx(qn,{children:"This action cannot be undone. This will permanently delete the category."})]}),s.jsxs(Un,{children:[s.jsx(zn,{onClick:()=>P(null),children:"Cancel"}),s.jsx(aa,{onClick:H,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},TIe=ys({name:it().min(1,"City name is required").max(100,"Name must be 100 characters or less")}),_Ie=({initialData:e,onClose:t,onSuccess:r})=>{const{register:n,handleSubmit:a,reset:i,formState:{errors:o,isSubmitting:l}}=Js({resolver:en(TIe),defaultValues:{name:(e==null?void 0:e.name)||""}});m.useEffect(()=>{i(e?{name:e.name}:{name:""})},[e,i]);const d=async u=>{var h,p;try{let g;e&&e.id?(g=await G2e(e.id,u),ce.success("City updated successfully!")):(g=await W2e(u),ce.success("City created successfully!")),r(g)}catch(g){const y=((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.message)||g.message||(e?"Failed to update city":"Failed to create city");ce.error(y)}};return s.jsxs("form",{onSubmit:a(d),className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ye,{htmlFor:"name",children:["City Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{id:"name",...n("name"),autoFocus:!0}),o.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.name.message})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:l,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:l,className:"gap-2",children:[l?s.jsx(Fr,{className:"h-4 w-4 animate-spin"}):s.jsx(d0,{className:"h-4 w-4"}),l?"Saving...":"Save"]})]})]})},kIe=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState(1),[d,u]=m.useState(""),[h,p]=m.useState(!1),[g,y]=m.useState(null),[w,v]=m.useState(!1),[N,j]=m.useState(null),A=10,E=m.useCallback(async()=>{n(!0),i(null);try{const I=await H2e({page:o,limit:A,search:d});t(I.cities)}catch(I){const M=I.message||"Failed to fetch cities";i(M),ce.error(M)}n(!1)},[o,d]);m.useEffect(()=>{E()},[E]);const S=I=>{u(I.target.value),l(1)},_=()=>{y(null),p(!0)},k=I=>{y(I),p(!0)},T=I=>{j(I),v(!0)},O=async()=>{if(N!==null){try{await Y2e(N),ce.success("City deleted successfully"),e.length===1&&o>1?l(o-1):E()}catch(I){const M=I.message||"Failed to delete city";ce.error(M)}v(!1),j(null)}},P=()=>{p(!1),E()};return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(as,{open:h,onOpenChange:I=>{p(I),I||y(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"City Master"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(He,{type:"text",placeholder:"Search by city name...",value:d,onChange:S,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),s.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(p0,{asChild:!0,children:s.jsxs(pe,{variant:"default",size:"lg",onClick:_,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[s.jsx(Xs,{size:20,className:"mr-2"})," Add New City"]})})]})]}),r&&s.jsx("p",{children:"Loading..."}),a&&s.jsx("p",{className:"text-red-500",children:a}),s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsx(Ye,{children:"City Name"}),s.jsx(Ye,{children:"Actions"})]})}),s.jsx(Ls,{children:e.map(I=>s.jsxs(rr,{children:[s.jsx($e,{children:I.name}),s.jsxs($e,{children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>k(I),children:s.jsx(Ya,{size:16})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>T(I.id),children:s.jsx(Qs,{size:16})})]})]},I.id))})]})]}),s.jsxs(is,{children:[s.jsx(fs,{children:s.jsx(hs,{children:g?"Edit City":"Create City"})}),s.jsx(_Ie,{initialData:g,onClose:()=>p(!1),onSuccess:P})]})]}),s.jsx(Ln,{open:w,onOpenChange:v,children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Are you sure?"}),s.jsx(qn,{children:"This action cannot be undone. This will permanently delete the city."})]}),s.jsxs(Un,{children:[s.jsx(zn,{children:"Cancel"}),s.jsx(aa,{onClick:O,children:"Delete"})]})]})})]})},GN="/api/admin/locations",DIe=async(e={})=>{try{return await xt(GN,e)}catch(t){throw console.error("Failed to fetch locations:",t),t}},OIe=async e=>{try{return await Kr(GN,e)}catch(t){throw console.error("Failed to create location:",t),t}},PIe=async(e,t)=>{try{return await Zs(`${GN}/${e}`,t)}catch(r){throw console.error(`Failed to update location ${e}:`,r),r}},RIe=async e=>{try{await Tn(`${GN}/${e}`)}catch(t){throw console.error(`Failed to delete location ${e}:`,t),t}},MIe=async()=>{const e=await xt("/agencies",{params:{limit:1e3}});return e.data.data||e.data},IIe=ys({name:it().min(1,"Name is required"),cityId:ki({required_error:"City is required"}).min(1,"City is required"),agencyId:ki().nullable().optional()}),FIe=({initialData:e,onClose:t,onSuccess:r})=>{var N;const[n,a]=m.useState([]),[i,o]=m.useState([]),l=Js({resolver:en(IIe),defaultValues:{name:(e==null?void 0:e.name)||"",cityId:e==null?void 0:e.cityId,agencyId:(e==null?void 0:e.agencyId)||null}}),{register:d,handleSubmit:u,reset:h,setValue:p,watch:g,formState:{errors:y,isSubmitting:w}}=l;m.useEffect(()=>{(async()=>{try{const[A,E]=await Promise.all([ev(),MIe()]);a(A),o(E)}catch{ce.error("Failed to fetch cities or agencies")}})()},[]),m.useEffect(()=>{h(e?{name:e.name,cityId:e.cityId,agencyId:e.agencyId||null}:{name:"",cityId:void 0,agencyId:null})},[e,h]);const v=async j=>{var A,E;try{const S=await(e!=null&&e.id?PIe(e.id,j):OIe(j));ce.success(`Location ${e!=null&&e.id?"updated":"created"} successfully!`),r(S)}catch(S){const _=((E=(A=S.response)==null?void 0:A.data)==null?void 0:E.message)||S.message||"An unexpected error occurred";ce.error(_)}};return s.jsxs("form",{onSubmit:u(v),className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ye,{htmlFor:"name",children:["Location Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{id:"name",...d("name"),autoFocus:!0}),y.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.name.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ye,{htmlFor:"cityId",children:["City ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(It,{onValueChange:j=>p("cityId",parseInt(j,10)),value:((N=g("cityId"))==null?void 0:N.toString())||"",children:[s.jsx(Lt,{children:s.jsx(Ft,{placeholder:"Select a city"})}),s.jsx(Bt,{children:n.map(j=>s.jsx(Je,{value:j.id.toString(),children:j.name},j.id))})]}),y.cityId&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.cityId.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{children:"Agency"}),s.jsxs(It,{onValueChange:j=>p("agencyId",j==="null"?null:parseInt(j,10)),value:g("agencyId")!=null?String(g("agencyId")):"null",children:[s.jsx(Lt,{children:s.jsx(Ft,{placeholder:"Select an agency"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"null",children:"None"}),i.map(j=>s.jsx(Je,{value:j.id.toString(),children:j.name},j.id))]})]}),y.agencyId&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.agencyId.message})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:w,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:w,className:"gap-2",children:[w?s.jsx(Fr,{className:"h-4 w-4 animate-spin"}):s.jsx(d0,{className:"h-4 w-4"}),w?"Saving...":"Save"]})]})]})},LIe=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState(1),[d,u]=m.useState(""),[h,p]=m.useState(!1),[g,y]=m.useState(null),[w,v]=m.useState(!1),[N,j]=m.useState(null),A=10,E=m.useCallback(async()=>{n(!0),i(null);try{const I=await DIe({page:o,limit:A,search:d});t(I.locations)}catch(I){const M=I.message||"Failed to fetch locations";i(M),ce.error(M)}n(!1)},[o,d]);m.useEffect(()=>{E()},[E]);const S=I=>{u(I.target.value),l(1)},_=()=>{y(null),p(!0)},k=I=>{y(I),p(!0)},T=I=>{j(I),v(!0)},O=async()=>{if(N!==null){try{await RIe(N),ce.success("Location deleted successfully"),e.length===1&&o>1?l(o-1):E()}catch(I){const M=I.message||"Failed to delete location";ce.error(M)}v(!1),j(null)}},P=()=>{p(!1),E()};return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(as,{open:h,onOpenChange:I=>{p(I),I||y(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Location Master"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(He,{type:"text",placeholder:"Search by location name...",value:d,onChange:S,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),s.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(p0,{asChild:!0,children:s.jsxs(pe,{variant:"default",size:"lg",onClick:_,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[s.jsx(Xs,{size:20,className:"mr-2"})," Add New Location"]})})]})]}),r&&s.jsx("p",{children:"Loading..."}),a&&s.jsx("p",{className:"text-red-500",children:a}),s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsx(Ye,{children:"Location Name"}),s.jsx(Ye,{children:"City"}),s.jsx(Ye,{children:"Actions"})]})}),s.jsx(Ls,{children:e.map(I=>s.jsxs(rr,{children:[s.jsx($e,{children:I.name}),s.jsx($e,{children:I.city.name}),s.jsxs($e,{children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>k(I),children:s.jsx(Ya,{size:16})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>T(I.id),children:s.jsx(Qs,{size:16})})]})]},I.id))})]})]}),s.jsxs(is,{children:[s.jsx(fs,{children:s.jsx(hs,{children:g?"Edit Location":"Create Location"})}),s.jsx(FIe,{initialData:g,onClose:()=>p(!1),onSuccess:P})]})]}),s.jsx(Ln,{open:w,onOpenChange:v,children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Are you sure?"}),s.jsx(qn,{children:"This action cannot be undone. This will permanently delete the location."})]}),s.jsxs(Un,{children:[s.jsx(zn,{children:"Cancel"}),s.jsx(aa,{onClick:O,children:"Delete"})]})]})})]})},BIe=ys({name:it().min(1,"Depot name is required").max(100,"Name must be 100 characters or less"),address:it().min(1,"Address is required").max(255,"Address must be 255 characters or less"),city:it().min(1,"City is required").max(255,"City must be 255 characters or less"),contactPerson:it().max(100,"Contact person must be 100 characters or less").optional().or(hp("")),contactNumber:it().max(20,"Contact number must be 20 characters or less").optional().or(hp("")),userFullName:it().optional(),userLoginEmail:it().email("Invalid email address").optional().or(hp("")),userPassword:it().optional(),isOnline:ko().optional()}),$Ie=({isOpen:e,onClose:t,onSubmitSuccess:r,initialData:n})=>{const a=!!(n!=null&&n.id),i=BIe.superRefine((y,w)=>{a||((!y.userFullName||y.userFullName.length<2)&&w.addIssue({code:St.custom,message:"Admin full name is required",path:["userFullName"]}),(!y.userPassword||y.userPassword.length<6)&&w.addIssue({code:St.custom,message:"Password must be at least 6 characters",path:["userPassword"]}))}),{register:o,handleSubmit:l,reset:d,control:u,formState:{errors:h,isSubmitting:p}}=Js({context:{isEditMode:a},resolver:en(i)});m.useEffect(()=>{if(e){const y={name:"",address:"",city:"",contactPerson:"",contactNumber:"",userFullName:"",userLoginEmail:"",userPassword:"",isOnline:!1};d(n?{...y,...n}:y)}},[n,e,d]);const g=async y=>{console.log("Submitting data:",y);try{if(n!=null&&n.id){const{userFullName:w,userLoginEmail:v,userPassword:N,...j}=y;console.log("Payload for PUT request:",j),await Zs(`/admin/depots/${n.id}`,j),ce.success("Depot updated successfully.")}else await Kr("/admin/depots",y),ce.success("Depot created successfully.");r(),t()}catch(w){console.error("Failed to save depot:",w),ce.error(w.message||"An unknown error occurred while saving the depot.")}};return e?s.jsx(as,{open:e,onOpenChange:y=>!y&&t(),children:s.jsxs(is,{className:"sm:max-w-lg h-[550px] overflow-y-auto",children:[s.jsxs(fs,{children:[s.jsx(hs,{children:n!=null&&n.id?"Edit Depot":"Add New Depot"}),s.jsx(Ta,{children:n!=null&&n.id?"Update the details of this depot.":"Fill in the form below to create a new depot."})]}),s.jsxs("form",{onSubmit:l(g),className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ye,{htmlFor:"name",children:["Depot Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{id:"name",...o("name"),placeholder:"e.g. Central Warehouse"}),h.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.name.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ye,{htmlFor:"address",children:["Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{id:"address",...o("address"),placeholder:"e.g. 123 Main St, Anytown"}),h.address&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.address.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ye,{htmlFor:"city",children:["City ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{id:"city",...o("city"),placeholder:"e.g. New York"}),h.city&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.city.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"contactPerson",children:"Contact Person"}),s.jsx(He,{id:"contactPerson",...o("contactPerson"),placeholder:"e.g. John Doe"}),h.contactPerson&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contactPerson.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"contactNumber",children:"Contact Number"}),s.jsx(He,{id:"contactNumber",...o("contactNumber"),placeholder:"e.g. +1-555-123-4567"}),h.contactNumber&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contactNumber.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_r,{name:"isOnline",control:u,render:({field:y})=>s.jsx(sc,{id:"isOnline",checked:y.value,onCheckedChange:y.onChange})}),s.jsx(ye,{htmlFor:"isOnline",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Depot is Online"})]}),!(n!=null&&n.id)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ye,{htmlFor:"userFullName",children:["Admin Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{id:"userFullName",...o("userFullName"),placeholder:"e.g. Jane Admin"}),h.userFullName&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.userFullName.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"userLoginEmail",children:"Admin Email"}),s.jsx(He,{id:"userLoginEmail",...o("userLoginEmail"),placeholder:"e.g. depot@company.com"}),h.userLoginEmail&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ye,{htmlFor:"userPassword",children:["Admin Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(He,{id:"userPassword",type:"password",...o("userPassword"),placeholder:"Min 6 characters"}),h.userPassword&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.userPassword.message})]})]}),s.jsxs(di,{className:"mt-2",children:[s.jsx(Gc,{asChild:!0,children:s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:p,children:"Cancel"})}),s.jsxs(pe,{type:"submit",disabled:p,className:"gap-2",children:[p?s.jsx(Fr,{className:"h-4 w-4 animate-spin"}):n!=null&&n.id?s.jsx(d0,{className:"h-4 w-4"}):s.jsx(Xs,{className:"h-4 w-4"}),p?n!=null&&n.id?"Saving...":"Creating...":n!=null&&n.id?"Save Changes":"Create Depot"]})]})]})]})}):null},eF="/admin/depots",UIe=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!1),[a,i]=m.useState(void 0),[o,l]=m.useState(!1),[d,u]=m.useState(null),[h,p]=m.useState(!0),[g,y]=m.useState(""),[w,v]=m.useState(1),[N,j]=m.useState(1),[A,E]=m.useState(0),[S,_]=m.useState("name"),[k,T]=m.useState("asc"),O=10,P=m.useRef(null),I=m.useCallback(async()=>{p(!0);try{const R=await xt(eF,{page:w,limit:O,search:g,sortBy:S,sortOrder:k});t(R.depots||[]),j(R.totalPages||1),E(R.totalRecords||0)}catch(R){console.error("Failed to fetch depots:",R),ce.error(R.message||"Failed to fetch depots."),t([])}finally{p(!1)}},[w,g,S,k]);m.useEffect(()=>(P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{I()},300),()=>{P.current&&clearTimeout(P.current)}),[I,g]);const M=()=>{i(void 0),n(!0)},q=R=>{i(R),n(!0)},U=R=>{u(R),l(!0)},re=async()=>{if(d)try{await Tn(`${eF}/${d.id}`),ce.success("Depot deleted successfully."),I(),l(!1),u(null)}catch(R){console.error("Failed to delete depot:",R),ce.error(R.message||"Failed to delete depot."),l(!1)}},te=()=>{I()},B=R=>{S===R?T(k==="asc"?"desc":"asc"):(_(R),T("asc")),v(1)},H=({column:R})=>S!==R?s.jsx(by,{className:"ml-2 h-4 w-4 opacity-50"}):k==="asc"?s.jsx(Ow,{className:"ml-2 h-4 w-4"}):s.jsx(Dw,{className:"ml-2 h-4 w-4"});return s.jsx("div",{className:"container mx-auto p-4 max-w-7xl",children:s.jsxs(yt,{className:"border-0 shadow-sm",children:[s.jsx(_t,{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx(Gt,{className:"text-2xl font-semibold",children:"Depot Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[s.jsx(qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(He,{placeholder:"Search depots...",value:g,onChange:R=>{y(R.target.value),v(1)},className:"pl-10 w-full sm:w-64 md:w-80"})]}),s.jsxs(pe,{onClick:M,className:"gap-2 whitespace-nowrap",children:[s.jsx(Xs,{className:"h-4 w-4"})," Add Depot"]})]})]})}),s.jsxs(Nt,{className:"p-0 sm:p-6",children:[h?s.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((R,X)=>s.jsx(Ot,{className:"h-12 w-full rounded-md"},X))}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:s.jsx(qs,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:g?"No Matching Depots Found":"No Depots Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:g?"Try adjusting your search criteria or add a new depot.":"Get started by adding your first depot. It’s quick and easy!"}),!g&&s.jsxs(pe,{onClick:M,className:"gap-2",children:[s.jsx(Xs,{className:"h-4 w-4"})," Add New Depot"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Is,{className:"min-w-full",children:[s.jsx(Fs,{className:"bg-slate-50 dark:bg-slate-800",children:s.jsxs(rr,{children:[s.jsx(Ye,{onClick:()=>B("name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Name ",s.jsx(H,{column:"name"})]})}),s.jsx(Ye,{onClick:()=>B("address"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Address ",s.jsx(H,{column:"address"})]})}),s.jsx(Ye,{onClick:()=>B("city"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["City ",s.jsx(H,{column:"city"})]})}),s.jsx(Ye,{className:"px-4 py-3 whitespace-nowrap",children:"Contact Person"}),s.jsx(Ye,{className:"px-4 py-3 whitespace-nowrap",children:"Contact Number"}),s.jsx(Ye,{onClick:()=>B("createdAt"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Created At ",s.jsx(H,{column:"createdAt"})]})}),s.jsx(Ye,{className:"text-right px-4 py-3 whitespace-nowrap",children:"Actions"})]})}),s.jsx(Ls,{children:e.map(R=>s.jsxs(rr,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 border-b last:border-b-0",children:[s.jsx($e,{className:"font-medium px-4 py-3 whitespace-nowrap",children:R.name}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap",children:R.address}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap",children:R.city}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap",children:R.contactPerson||"-"}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap",children:R.contactNumber||"-"}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap",children:new Date(R.createdAt).toLocaleDateString()}),s.jsxs($e,{className:"flex justify-end space-x-2 px-4 py-3 whitespace-nowrap",children:[s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>q(R),className:"hover:bg-slate-100 dark:hover:bg-slate-700",title:"Edit Depot",children:s.jsx(Ya,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>U(R),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 dark:text-red-500 dark:hover:text-red-400",title:"Delete Depot",children:s.jsx(Qs,{className:"h-4 w-4"})})]})]},R.id))})]})}),N>1&&s.jsx("div",{className:"p-4 sm:p-6 border-t",children:s.jsx(HN,{currentPage:w,totalPages:N,onPageChange:v,totalRecords:A,limit:O})})]}),s.jsx($Ie,{isOpen:r,onClose:()=>n(!1),onSubmitSuccess:te,initialData:a}),s.jsx(Ln,{open:o,onOpenChange:l,children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Confirm Deletion"}),s.jsx(qn,{children:"Are you sure you want to delete this depot? This action cannot be undone and the depot data will be permanently lost."})]}),s.jsxs(Un,{children:[s.jsx(zn,{onClick:()=>u(null),children:"Cancel"}),s.jsx(aa,{onClick:re,className:"bg-red-600 hover:bg-red-700 text-white dark:bg-red-700 dark:hover:bg-red-800",children:"Delete Depot"})]})]})})]})]})})},YN="/admin/depot-product-variants",VIe=async(e={})=>await xt(YN,e),qIe=async e=>await Kr(YN,e),zIe=async(e,t)=>await Zs(`${YN}/${e}`,t),HIe=async e=>{await Tn(`${YN}/${e}`)},WIe=async()=>{const e=await xt("/products",{select:"id,name",limit:1e3});return e.data??e},GIe=ys({productId:Mn.number().int().positive({message:"Product ID is required"}),name:it().min(1,"Variant name is required"),hsnCode:it().optional(),mrp:Mn.number({invalid_type_error:"MRP must be a number"}).nonnegative(),minimumQty:Mn.number().int().nonnegative(),price3Day:Mn.number({invalid_type_error:"3-day price must be a number"}).nonnegative().optional(),price7Day:Mn.number({invalid_type_error:"7-day price must be a number"}).nonnegative().optional(),price15Day:Mn.number({invalid_type_error:"15-day price must be a number"}).nonnegative().optional(),price1Month:Mn.number({invalid_type_error:"1-month price must be a number"}).nonnegative().optional(),notInStock:ko().default(!1),isHidden:ko().default(!1),buyOncePrice:Mn.number().nonnegative().optional(),purchasePrice:Mn.number({invalid_type_error:"Purchase price must be a number"}).nonnegative().optional()}),YIe=({initialData:e,onClose:t,onSuccess:r})=>{const[n,a]=m.useState([]),{register:i,handleSubmit:o,reset:l,setValue:d,watch:u,formState:{errors:h,isSubmitting:p}}=Js({resolver:en(GIe),defaultValues:{productId:(e==null?void 0:e.productId)||0,name:(e==null?void 0:e.name)||"",hsnCode:(e==null?void 0:e.hsnCode)||"",mrp:(e==null?void 0:e.mrp)||0,minimumQty:(e==null?void 0:e.minimumQty)||0,notInStock:(e==null?void 0:e.notInStock)||!1,price3Day:(e==null?void 0:e.price3Day)??0,price7Day:(e==null?void 0:e.price7Day)??0,price15Day:(e==null?void 0:e.price15Day)??0,price1Month:(e==null?void 0:e.price1Month)??0,isHidden:(e==null?void 0:e.isHidden)||!1,buyOncePrice:(e==null?void 0:e.buyOncePrice)??0,purchasePrice:(e==null?void 0:e.purchasePrice)??0}});m.useEffect(()=>{(async()=>{try{const y=await WIe();a(y)}catch(y){console.error("Failed to load products",y)}})()},[]),m.useEffect(()=>{e&&l({productId:e.productId,name:e.name,hsnCode:e.hsnCode??"",mrp:e.mrp,minimumQty:e.minimumQty,notInStock:e.notInStock,isHidden:e.isHidden,price3Day:e.price3Day??0,price7Day:e.price7Day??0,price15Day:e.price15Day??0,price1Month:e.price1Month??0,buyOncePrice:e.buyOncePrice??0,purchasePrice:e.purchasePrice??0})},[e,l]);const g=async y=>{try{e?(await zIe(e.id,y),ce.success("Variant updated")):(await qIe(y),ce.success("Variant created")),r()}catch(w){ce.error(w.message||"Error saving variant")}};return s.jsxs("form",{onSubmit:o(g),className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"productId",children:"Product *"}),s.jsxs(It,{value:u("productId")?String(u("productId")):void 0,onValueChange:y=>d("productId",Number(y),{shouldValidate:!0}),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select product"})}),s.jsx(Bt,{children:n.map(y=>s.jsx(Je,{value:String(y.id),children:y.name},y.id))})]}),h.productId&&s.jsx("p",{className:"text-sm text-red-600",children:h.productId.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"name",children:"Variant Name *"}),s.jsx(He,{id:"name",...i("name")}),h.name&&s.jsx("p",{className:"text-sm text-red-600",children:h.name.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"hsnCode",children:"HSN Code"}),s.jsx(He,{id:"hsnCode",...i("hsnCode")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"mrp",children:"MRP *"}),s.jsx(He,{type:"number",step:"0.01",id:"mrp",...i("mrp")}),h.mrp&&s.jsx("p",{className:"text-sm text-red-600",children:h.mrp.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"minimumQty",children:"Minimum Qty *"}),s.jsx(He,{type:"number",id:"minimumQty",...i("minimumQty")}),h.minimumQty&&s.jsx("p",{className:"text-sm text-red-600",children:h.minimumQty.message})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"price3Day",children:"Price – 3 Day"}),s.jsx(He,{type:"number",step:"0.01",id:"price3Day",...i("price3Day")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"price7Day",children:"Price – 7 Day"}),s.jsx(He,{type:"number",step:"0.01",id:"price7Day",...i("price7Day")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"price15Day",children:"Price – 15 Day"}),s.jsx(He,{type:"number",step:"0.01",id:"price15Day",...i("price15Day")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"price1Month",children:"Price – 1 Month"}),s.jsx(He,{type:"number",step:"0.01",id:"price1Month",...i("price1Month")})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"buyOncePrice",children:"Buy Once Price"}),s.jsx(He,{id:"buyOncePrice",type:"number",step:"0.01",...i("buyOncePrice")}),h.buyOncePrice&&s.jsx("p",{className:"text-sm text-red-500",children:h.buyOncePrice.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"purchasePrice",children:"Purchase Price"}),s.jsx(He,{id:"purchasePrice",type:"number",step:"0.01",...i("purchasePrice")}),h.purchasePrice&&s.jsx("p",{className:"text-sm text-red-500",children:h.purchasePrice.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Z1,{id:"notInStock",checked:u("notInStock"),onCheckedChange:y=>d("notInStock",y)}),s.jsx(ye,{htmlFor:"notInStock",children:"Not In Stock"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Z1,{id:"isHidden",checked:u("isHidden"),onCheckedChange:y=>d("isHidden",y)}),s.jsx(ye,{htmlFor:"isHidden",children:"Hidden?"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:p,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:p,className:"gap-2",children:[p?s.jsx(Fr,{className:"h-4 w-4 animate-spin"}):e?s.jsx(d0,{className:"h-4 w-4"}):s.jsx(Xs,{className:"h-4 w-4"}),p?e?"Updating…":"Creating…":e?"Update":"Create"]})]})]})},KIe=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(1),[a,i]=m.useState(1),[o,l]=m.useState(""),d=10,[u,h]=m.useState(!1),[p,g]=m.useState(null),[y,w]=m.useState(!1),[v,N]=m.useState(null),j=m.useCallback(async()=>{try{const T=await VIe({page:r,limit:d});t(T.data),i(T.totalPages)}catch(T){ce.error(T.message||"Failed to fetch variants")}},[r]);m.useEffect(()=>{j()},[j]);const A=()=>{g(null),h(!0)},E=T=>{g(T),h(!0)},S=T=>{N(T),w(!0)},_=async()=>{if(v!=null){try{await HIe(v),ce.success("Variant deleted"),j()}catch(T){ce.error(T.message||"Failed to delete variant")}w(!1),N(null)}},k=()=>{if(a<=1)return null;const T=Array.from({length:a},(O,P)=>P+1);return s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>n(O=>Math.max(O-1,1)),disabled:r===1,children:[s.jsx(c0,{size:16,className:"mr-1"})," Previous"]}),T.map(O=>s.jsx(pe,{variant:r===O?"default":"outline",size:"sm",onClick:()=>n(O),children:O},O)),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>n(O=>Math.min(O+1,a)),disabled:r===a,children:["Next ",s.jsx(Fu,{size:16,className:"ml-1"})]})]})};return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(as,{open:u,onOpenChange:T=>{h(T),T||g(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"Depot Product Variants"}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-2 items-center",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(He,{placeholder:"Search...",value:o,onChange:T=>l(T.target.value),className:"pl-10 min-h-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx(qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(p0,{asChild:!0,children:s.jsxs(pe,{variant:"default",size:"lg",onClick:A,className:"gap-2 shadow-md",children:[s.jsx(Xs,{size:20})," Add New Variant"]})})]})]}),s.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 bg-white",children:s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsx(rr,{className:"bg-gray-100",children:["Depot","Product","Name","Closing Qty","Actions"].map(T=>s.jsx(Ye,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:T},T))})}),s.jsx(Ls,{className:"divide-y divide-gray-200",children:e.map(T=>{var O,P;return s.jsxs(rr,{className:"hover:bg-gray-50",children:[s.jsx($e,{className:"px-6 py-4 text-sm",children:((O=T==null?void 0:T.depot)==null?void 0:O.name)??T.depotId}),s.jsx($e,{className:"px-6 py-4 text-sm",children:(P=T==null?void 0:T.product)==null?void 0:P.name}),s.jsx($e,{className:"px-6 py-4 text-sm font-medium",children:T.name}),s.jsx($e,{className:"px-6 py-4 text-sm",children:T.closingQty}),s.jsxs($e,{className:"px-6 py-4 text-sm space-x-3",children:[s.jsx("button",{onClick:()=>E(T),className:"text-blue-600 hover:text-blue-800",children:s.jsx(Ya,{size:18})}),s.jsx("button",{onClick:()=>S(T.id),className:"text-red-600 hover:text-red-800",children:s.jsx(Qs,{size:18})})]})]},T.id)})})]})}),k()]}),s.jsxs(is,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(fs,{children:[s.jsx(hs,{children:p?"Edit Variant":"Add New Variant"}),s.jsx(Ta,{children:p?"Update variant details":"Fill details to create variant"})]}),s.jsx(YIe,{initialData:p,onClose:()=>h(!1),onSuccess:()=>{h(!1),j()}})]})]}),s.jsx(Ln,{open:y,onOpenChange:w,children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Are you sure?"}),s.jsx(qn,{children:"This action will delete the variant."})]}),s.jsxs(Un,{children:[s.jsx(zn,{children:"Cancel"}),s.jsx(aa,{className:"bg-red-600 hover:bg-red-700",onClick:_,children:"Delete"})]})]})})]})},XIe=({searchTerm:e,onEditUser:t,refreshKey:r})=>{const[n,a]=m.useState([]),[i,o]=m.useState(!1),[l,d]=m.useState(null),[u,h]=m.useState(!0),[p,g]=m.useState(1),[y,w]=m.useState(1),[v,N]=m.useState(0),[j,A]=m.useState("name"),[E,S]=m.useState("asc"),_=10,k=m.useRef(null),T=m.useCallback(async()=>{h(!0);try{const U=await xt("/teams/users",{page:p,limit:_,search:e,sortBy:j,sortOrder:E});a(U.users||[]),w(U.totalPages||1),N(U.totalRecords||0)}catch(U){console.error("Failed to fetch users:",U),ce.error(U.message||"Failed to fetch users."),a([])}finally{h(!1)}},[p,e,j,E,r]);m.useEffect(()=>(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{T()},300),()=>{k.current&&clearTimeout(k.current)}),[T,e]);const O=U=>{d(U),o(!0)},P=async()=>{if(l)try{await Tn(`/teams/users/${l.id}`),ce.success("User deleted successfully."),T(),o(!1),d(null)}catch(U){console.error("Failed to delete user:",U),ce.error(U.message||"Failed to delete user."),o(!1)}},I=async U=>{try{await Fn(`/teams/users/${U.id}/status`,{}),ce.success(`User ${U.active?"deactivated":"activated"} successfully.`),T()}catch(re){console.error("Failed to change user status:",re),ce.error(re.message||"Failed to change user status.")}},M=U=>{j===U?S(E==="asc"?"desc":"asc"):(A(U),S("asc")),g(1)},q=({column:U})=>j!==U?s.jsx(by,{className:"ml-2 h-4 w-4 opacity-50"}):E==="asc"?s.jsx(Ow,{className:"ml-2 h-4 w-4"}):s.jsx(Dw,{className:"ml-2 h-4 w-4"});return s.jsxs(s.Fragment,{children:[u?s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((U,re)=>s.jsx(Ot,{className:"h-12 w-full rounded-md"},re))}):n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:s.jsx(qs,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e?"No Matching Users Found":"No Users Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:e?"Try adjusting your search criteria or add a new user.":"Get started by adding your first user."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Is,{className:"min-w-full",children:[s.jsx(Fs,{className:"bg-slate-50 dark:bg-slate-800",children:s.jsxs(rr,{children:[s.jsx(Ye,{onClick:()=>M("name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Name ",s.jsx(q,{column:"name"})]})}),s.jsx(Ye,{onClick:()=>M("email"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Email ",s.jsx(q,{column:"email"})]})}),s.jsx(Ye,{onClick:()=>M("mobile"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Phone ",s.jsx(q,{column:"mobile"})]})}),s.jsx(Ye,{onClick:()=>M("role"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Role ",s.jsx(q,{column:"role"})]})}),s.jsx(Ye,{onClick:()=>M("depot.name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Depot ",s.jsx(q,{column:"depot.name"})]})}),s.jsx(Ye,{onClick:()=>M("joiningDate"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Joining Date ",s.jsx(q,{column:"joiningDate"})]})}),s.jsx(Ye,{onClick:()=>M("active"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Status ",s.jsx(q,{column:"active"})]})}),s.jsx(Ye,{className:"px-4 py-3",children:"Actions"})]})}),s.jsx(Ls,{children:n.map(U=>{var re;return s.jsxs(rr,{className:"border-b hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[s.jsx($e,{className:"px-4 py-3 font-medium",children:U.name}),s.jsx($e,{className:"px-4 py-3",children:U.email}),s.jsx($e,{className:"px-4 py-3",children:U.mobile||"N/A"}),s.jsx($e,{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${U.role==="ADMIN"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:U.role})}),s.jsx($e,{className:"px-4 py-3",children:((re=U.depot)==null?void 0:re.name)||"N/A"}),s.jsx($e,{className:"px-4 py-3",children:new Date(U.joiningDate).toLocaleDateString()}),s.jsx($e,{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${U.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U.active?"Active":"Inactive"})}),s.jsx($e,{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>t(U),children:s.jsx(Ya,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>I(U),title:U.active?"Deactivate":"Activate",children:U.active?s.jsx(Yi,{className:"h-4 w-4 text-red-500"}):s.jsx(li,{className:"h-4 w-4 text-green-500"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>O(U),children:s.jsx(Qs,{className:"h-4 w-4 text-red-500"})})]})})]},U.id)})})]})}),s.jsx(HN,{currentPage:p,totalPages:y,totalRecords:v,limit:_,onPageChange:g})]}),s.jsx(Ln,{open:i,onOpenChange:o,children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Are you sure?"}),s.jsx(qn,{children:"This action cannot be undone. This will permanently delete the user."})]}),s.jsxs(Un,{children:[s.jsx(zn,{onClick:()=>o(!1),children:"Cancel"}),s.jsx(aa,{onClick:P,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},QIe=({isOpen:e,onOpenChange:t,onFormSubmitSuccess:r,userToEdit:n})=>{var v;const[a,i]=m.useState([]),o=!!n,l=m.useMemo(()=>Rr.object({name:Rr.string().min(1,"Name is required"),email:Rr.string().email("Invalid email address"),password:o?Rr.string().min(8,"Password must be at least 8 characters").optional().or(Rr.literal("")):Rr.string().min(8,"Password is required and must be at least 8 characters"),mobile:Rr.string().optional().or(Rr.literal("")).refine(N=>!N||/^\d{10}$/.test(N),{message:"Phone number must be 10 digits"}),depotId:Rr.string().optional(),joiningDate:Rr.string().optional()}),[o]),{register:d,handleSubmit:u,reset:h,setValue:p,formState:{errors:g,isSubmitting:y}}=Js({resolver:en(l),mode:"onChange"});m.useEffect(()=>{(async()=>{try{const j=await xt("/admin/depots/all-list");i(j||[])}catch(j){console.error("Failed to fetch depots",j),ce.error(j.message||"Failed to fetch depots")}})()},[]),m.useEffect(()=>{var N;h(n?{name:n.name,email:n.email,mobile:n.mobile||"",password:"",depotId:((N=n.depot)==null?void 0:N.id)||void 0,joiningDate:n.joiningDate?Rt(new Date(n.joiningDate),"yyyy-MM-dd"):""}:{name:"",email:"",mobile:"",password:"",depotId:void 0,joiningDate:Rt(new Date,"yyyy-MM-dd")})},[n,h,e]);const w=async N=>{try{const j={...N};o&&!j.password&&delete j.password,o?(await Fn(`/teams/users/${n==null?void 0:n.id}`,j),ce.success("User updated successfully!")):(await Kr("/teams/users",j),ce.success("User created successfully!")),r()}catch(j){console.error(j);const A=j.message||`Failed to ${o?"update":"create"} user.`;ce.error(A)}};return s.jsx(as,{open:e,onOpenChange:t,children:s.jsxs(is,{className:"sm:max-w-[425px]",children:[s.jsxs(fs,{children:[s.jsx(hs,{children:o?"Edit User":"Create New User"}),s.jsx(Ta,{children:o?"Update the user's details below.":"Fill in the form to add a new team member."})]}),s.jsxs("form",{onSubmit:u(w),className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"name",children:"Name"}),s.jsx(He,{id:"name",...d("name")}),g.name&&s.jsx("p",{className:"text-sm text-red-500",children:g.name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"email",children:"Email"}),s.jsx(He,{id:"email",type:"email",...d("email")}),g.email&&s.jsx("p",{className:"text-sm text-red-500",children:g.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"mobile",children:"Phone (10-digits)"}),s.jsx(He,{id:"mobile",...d("mobile")}),g.mobile&&s.jsx("p",{className:"text-sm text-red-500",children:g.mobile.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"password",children:"Password"}),s.jsx(He,{id:"password",type:"password",...d("password"),placeholder:o?"Leave blank to keep unchanged":""}),g.password&&s.jsx("p",{className:"text-sm text-red-500",children:g.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"depotId",children:"Depot (Optional)"}),s.jsxs(It,{onValueChange:N=>p("depotId",N==="admin-role"?void 0:N),defaultValue:(v=n==null?void 0:n.depot)==null?void 0:v.id,children:[s.jsx(Lt,{id:"depotId",children:s.jsx(Ft,{placeholder:"Assign as Admin"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"admin-role",children:"Assign as Admin"}),a.map(N=>s.jsx(Je,{value:N.id,children:N.name},N.id))]})]}),g.depotId&&s.jsx("p",{className:"text-sm text-red-500",children:g.depotId.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"joiningDate",children:"Joining Date"}),s.jsx(He,{id:"joiningDate",type:"date",...d("joiningDate")}),g.joiningDate&&s.jsx("p",{className:"text-sm text-red-500",children:g.joiningDate.message})]}),s.jsxs(di,{className:"pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:y,children:y?o?"Updating...":"Creating...":o?"Update User":"Create User"})]})]})]})})},ZIe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[a,i]=m.useState(""),[o,l]=m.useState(0),d=(g=null)=>{n(g),t(!0)},u=()=>{t(!1),n(null)},h=()=>{u(),l(g=>g+1)},p=g=>d(g);return s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[s.jsxs(yt,{className:"border-0 shadow-sm",children:[s.jsx(_t,{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx(Gt,{className:"text-2xl font-semibold",children:"Team Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[s.jsx(qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(He,{placeholder:"Search users...",value:a,onChange:g=>i(g.target.value),className:"pl-10 w-full sm:w-64 md:w-80"})]}),s.jsxs(pe,{onClick:()=>d(),className:"gap-2 whitespace-nowrap",children:[s.jsx(Xs,{className:"h-4 w-4"})," Add User"]})]})]})}),s.jsx(Nt,{className:"p-0",children:s.jsx(XIe,{searchTerm:a,onEditUser:p,refreshKey:o},o)})]}),e&&s.jsx(QIe,{isOpen:e,onOpenChange:t,onFormSubmitSuccess:h,userToEdit:r})]})},tF="/api/admin/banners",JIe="http://localhost:3000",pG=["image/jpeg","image/jpg","image/png","image/webp"],e6e=ys({caption:it().optional().default(""),description:it().optional().default(""),bannerImageFile:wT(FileList).optional().refine(e=>{var t;return!e||e.length===0||((t=e==null?void 0:e[0])==null?void 0:t.size)<=5e6},"Max image size is 5MB.").refine(e=>{var t;return!e||e.length===0||pG.includes((t=e==null?void 0:e[0])==null?void 0:t.type)},"Only .jpg, .jpeg, .png and .webp formats are supported."),listOrder:dL(e=>typeof e=="string"?parseInt(e,10):e,ki().int("List order must be an integer.").min(0,"List order must be a positive number."))}),t6e=({isOpen:e,onClose:t,onSubmitSuccess:r,initialData:n})=>{const a=yn(),i=n?"edit":"create",{register:o,handleSubmit:l,formState:{errors:d,isSubmitting:u},reset:h}=Js({resolver:en(e6e),defaultValues:n?{caption:n.caption||"",description:n.description||"",listOrder:n.listOrder,bannerImageFile:void 0}:{caption:"",description:"",listOrder:void 0,bannerImageFile:void 0}});m.useEffect(()=>{e&&h(n?{caption:n.caption||"",description:n.description||"",listOrder:n.listOrder,bannerImageFile:void 0}:{caption:"",description:"",listOrder:void 0,bannerImageFile:void 0})},[e,n,h]);const p=Vr({mutationFn:async y=>i==="edit"&&(n!=null&&n.id)?sae(`${tF}/${n.id}`,y):rae(tF,y),onSuccess:()=>{ce.success(`Banner ${i==="create"?"created":"updated"} successfully.`),a.invalidateQueries({queryKey:["banners"]}),r(),t()},onError:y=>{var N,j,A,E,S,_;const w=`Failed to ${i} banner.`,v=((j=(N=y==null?void 0:y.response)==null?void 0:N.data)==null?void 0:j.message)||((E=(A=y==null?void 0:y.response)==null?void 0:A.data)==null?void 0:E.error);if((_=(S=y==null?void 0:y.response)==null?void 0:S.data)!=null&&_.errors){let T=y.response.data.errors.map(O=>O.message).join(", ");ce.error(T||w)}else ce.error(v||y.message||w);console.error(`Failed to ${i} banner:`,y)}}),g=async y=>{if(i==="create"&&(!y.bannerImageFile||y.bannerImageFile.length===0)){ce.error("Banner image is required to create a new banner.");return}const w=new FormData;w.append("caption",y.caption||""),w.append("description",y.description||""),w.append("listOrder",y.listOrder.toString()),y.bannerImageFile&&y.bannerImageFile.length>0&&w.append("bannerImage",y.bannerImageFile[0]),p.mutate(w)};return s.jsx(as,{open:e,onOpenChange:y=>!y&&t(),children:s.jsxs(is,{className:"sm:max-w-[525px]",children:[s.jsxs(fs,{children:[s.jsx(hs,{children:i==="create"?"Add New Banner":"Edit Banner"}),s.jsx(Ta,{children:i==="create"?"Fill in the details for the new banner.":"Update the details for this banner."})]}),s.jsxs("form",{onSubmit:l(g),className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"listOrder",className:"mb-2",children:"List Order"}),s.jsx(He,{id:"listOrder",type:"number",...o("listOrder")}),d.listOrder&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.listOrder.message})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2",htmlFor:"caption",children:"Caption (Optional)"}),s.jsx(He,{id:"caption",...o("caption")}),d.caption&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.caption.message})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2",htmlFor:"description",children:"Description (Optional)"}),s.jsx(Hu,{id:"description",...o("description")}),d.description&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.description.message})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2",htmlFor:"bannerImageFile",children:"Banner Image"}),s.jsx(He,{id:"bannerImageFile",type:"file",accept:pG.join(","),...o("bannerImageFile")}),d.bannerImageFile&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.bannerImageFile.message}),i==="edit"&&(n==null?void 0:n.imagePath)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Current image:"}),n.imagePath.startsWith("http")||n.imagePath.startsWith("/")?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:n.imagePath.startsWith("http")?n.imagePath:`${JIe}${n.imagePath}`,alt:n.caption||"Current banner image",className:"mt-1 h-20 w-auto object-contain border rounded shadow-sm",onError:y=>{const w=y.target;w.style.display="none";const v=w.nextElementSibling;v&&v.classList.remove("hidden")}}),s.jsx("p",{className:"text-xs text-red-500 hidden",children:"Unable to load image preview."})]}):s.jsx("p",{className:"text-xs font-medium",children:n.imagePath})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i==="create"?"Select an image file.":"Select a new image file to change the existing one."})]}),s.jsxs(di,{children:[s.jsx(Gc,{asChild:!0,children:s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:u,children:"Cancel"})}),s.jsxs(pe,{type:"submit",disabled:u,children:[u&&s.jsx(Fr,{className:"mr-2 h-4 w-4 animate-spin"}),i==="create"?"Create Banner":"Save Changes"]})]})]})]})})},rF="/api/admin/banners",r6e="",s6e=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!1),[a,i]=m.useState(void 0),[o,l]=m.useState(!1),[d,u]=m.useState(null),[h,p]=m.useState(!0),[g,y]=m.useState(""),[w,v]=m.useState(1),[N,j]=m.useState(1),[A,E]=m.useState(0),[S,_]=m.useState("listOrder"),[k,T]=m.useState("asc"),O=10,P=m.useRef(null),I=m.useCallback(async()=>{p(!0);try{const X=await xt(rF,{page:w,limit:O,search:g,sortBy:S,sortOrder:k});console.log("API Response Data in fetchBanners:",X),t(X.banners||[]),j(X.totalPages||1),E(X.totalRecords||0)}catch(R){console.error("Failed to fetch banners. Full error object:",R);let X="Failed to fetch banners.";R&&R.message&&(X=R.message),R&&R.response&&R.response.data&&R.response.data.message&&(X=R.response.data.message),ce.error(X),t([]),j(1),E(0)}finally{p(!1)}},[w,g,S,k]);m.useEffect(()=>(P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{I()},300),()=>{P.current&&clearTimeout(P.current)}),[I,g]);const M=()=>{i(void 0),n(!0)},q=R=>{i(R),n(!0)},U=R=>{u(R),l(!0)},re=async()=>{if(d)try{await Tn(`${rF}/${d.id}`),ce.success("Banner deleted successfully."),I(),l(!1),u(null)}catch(R){console.error("Failed to delete banner:",R),ce.error("Failed to delete banner."),l(!1)}},te=()=>{I()},B=R=>{S===R?T(k==="asc"?"desc":"asc"):(_(R),T("asc")),v(1)},H=({column:R})=>S!==R?s.jsx(by,{className:"ml-2 h-4 w-4 opacity-50"}):k==="asc"?s.jsx(Ow,{className:"ml-2 h-4 w-4"}):s.jsx(Dw,{className:"ml-2 h-4 w-4"});return s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[s.jsxs(yt,{className:"border-0 shadow-sm",children:[s.jsx(_t,{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx(Gt,{className:"text-2xl font-semibold",children:"Banner Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[s.jsx(qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(He,{placeholder:"Search banners...",value:g,onChange:R=>{y(R.target.value),v(1)},className:"pl-10 w-full sm:w-64 md:w-80"})]}),s.jsxs(pe,{onClick:M,className:"gap-2 whitespace-nowrap",children:[s.jsx(Xs,{className:"h-4 w-4"})," Add Banner"]})]})]})}),s.jsx(Nt,{className:"p-0 sm:p-6",children:h?s.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((R,X)=>s.jsx(Ot,{className:"h-12 w-full rounded-md"},X))}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:s.jsx(XZ,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:g?"No Matching Banners Found":"No Banners Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:g?"Try adjusting your search criteria or add a new banner.":"Get started by adding your first banner. It’s quick and easy!"}),!g&&s.jsxs(pe,{onClick:M,className:"gap-2",children:[s.jsx(Xs,{className:"h-4 w-4"})," Add New Banner"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Is,{className:"min-w-full",children:[s.jsx(Fs,{className:"bg-slate-50 dark:bg-slate-800",children:s.jsxs(rr,{children:[s.jsx(Ye,{onClick:()=>B("listOrder"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Order ",s.jsx(H,{column:"listOrder"})]})}),s.jsx(Ye,{className:"px-4 py-3 whitespace-nowrap",children:"Image"}),s.jsx(Ye,{onClick:()=>B("caption"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Caption ",s.jsx(H,{column:"caption"})]})}),s.jsx(Ye,{className:"px-4 py-3 whitespace-nowrap",children:"Description"}),s.jsx(Ye,{onClick:()=>B("createdAt"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Created At ",s.jsx(H,{column:"createdAt"})]})}),s.jsx(Ye,{className:"text-right px-4 py-3 whitespace-nowrap",children:"Actions"})]})}),s.jsx(Ls,{children:e.map(R=>s.jsxs(rr,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50",children:[s.jsx($e,{className:"px-4 py-3 font-medium",children:R.listOrder}),s.jsx($e,{className:"px-4 py-3",children:R.imagePath?s.jsx("img",{src:`${r6e}${R.imagePath}`,alt:R.caption||"Banner image",className:"h-10 w-16 object-cover rounded"}):s.jsx("span",{className:"text-xs text-muted-foreground",children:"No image"})}),s.jsx($e,{className:"px-4 py-3",children:R.caption||"-"}),s.jsx($e,{className:"px-4 py-3 truncate max-w-xs",children:R.description||"-"}),s.jsx($e,{className:"px-4 py-3",children:new Date(R.createdAt).toLocaleDateString()}),s.jsxs($e,{className:"text-right px-4 py-3",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>q(R),className:"hover:text-blue-600",children:s.jsx(Ya,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>U(R),className:"hover:text-red-600",children:s.jsx(Qs,{className:"h-4 w-4"})})]})]},R.id))})]})}),N>1&&s.jsx(HN,{currentPage:w,totalPages:N,onPageChange:v,totalRecords:A,limit:O})]})})]}),r&&s.jsx(t6e,{isOpen:r,onClose:()=>n(!1),onSubmitSuccess:te,initialData:a}),o&&d&&s.jsx(Ln,{open:o,onOpenChange:l,children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Are you sure?"}),s.jsxs(qn,{children:['This action cannot be undone. This will permanently delete the banner "',s.jsx("strong",{children:d.caption||"this banner"}),'".']})]}),s.jsxs(Un,{children:[s.jsx(zn,{onClick:()=>u(null),children:"Cancel"}),s.jsx(aa,{onClick:re,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},n6e=e=>{const t=new Map;return e.forEach(r=>{t.has(r.id)||t.set(r.id,r)}),Array.from(t.values())},a6e=15e3;function i6e(){const[e,t]=m.useState(0),[r,n]=m.useState([]),[a,i]=m.useState(""),[o,l]=m.useState(!1),[d,u]=m.useState(""),[h,p]=m.useState(!0),[g,y]=m.useState(null),w=m.useRef(null),v=m.useRef(!1),N=_=>{if(!_.trim())return"Amount is required";const k=Number.parseFloat(_);return isNaN(k)?"Please enter a valid number":k<=0?"Amount must be greater than 0":k>1e4?"Maximum amount is ₹10,000":null},j=async _=>{if(_.preventDefault(),v.current)return;u("");const k=N(a);if(k){u(k);return}v.current=!0,l(!0);try{const T=Number.parseFloat(a);await Kr("/wallet/transactions",{amount:T}),i(""),S(),ce.success(`Top-up request for ${Ms(T)} submitted. It will reflect in your balance after approval.`,{duration:7e3,icon:s.jsx(rg,{className:"h-4 w-4"})})}catch(T){const O=T instanceof Error?T.message:"An unexpected error occurred";u(O),ce.error(`Transaction Failed: ${O}`,{duration:5e3,icon:s.jsx(Hc,{className:"h-4 w-4"})})}finally{v.current=!1,l(!1)}},A=_=>{const k=_.target.value;i(k),d&&u("")},E=[25,50,100,250],S=async()=>{p(!0),y(null);try{const _=await xt("/wallet");if(_!=null&&_.data){const k=_.data;typeof k.balance=="number"&&t(k.balance),Array.isArray(k.transactions)?n(n6e(k.transactions)):n([])}}catch(_){y(_.message||"Failed to load wallet details."),n([])}finally{p(!1)}};return m.useEffect(()=>{S()},[]),m.useEffect(()=>(S(),w.current=setInterval(()=>{S()},a6e),()=>{w.current&&clearInterval(w.current)}),[]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-6",children:s.jsxs("div",{className:"mx-auto  space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(Wc,{className:"h-8 w-8 text-primary"}),s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Wallet"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your wallet balance and add funds securely"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(yt,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-cyan-50"}),s.jsxs(_t,{className:"relative z-10",children:[s.jsxs(Gt,{className:"flex items-center gap-2",children:[s.jsx(wg,{className:"h-5 w-5 text-green-600"}),"Current Balance"]}),s.jsx(Ea,{children:"Available funds in your wallet"})]}),console.log(e),s.jsxs(Nt,{className:"relative",children:[s.jsx("div",{className:"text-4xl font-bold text-green-600 mb-4",children:h?s.jsx("span",{className:"text-2xl",children:"Loading..."}):g?s.jsx("span",{className:"text-2xl text-destructive",children:"Error"}):Ms(e)}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(A1,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Available for transactions"})]})]})]}),s.jsxs(yt,{children:[s.jsxs(_t,{children:[s.jsxs(Gt,{className:"flex items-center gap-2",children:[s.jsx(En,{className:"h-5 w-5"}),"Add Balance"]}),s.jsx(Ea,{children:"Add funds to your wallet instantly"})]}),s.jsx(Nt,{children:s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"amount",children:"Amount to Add"}),s.jsxs("div",{className:"relative",children:[s.jsx(wg,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(He,{id:"amount",type:"text",placeholder:"0.00",value:a,onChange:A,className:`pl-10 ${d?"border-destructive focus-visible:ring-destructive":""}`,disabled:o,"aria-describedby":d?"amount-error":void 0})]}),d&&s.jsxs(ea,{variant:"destructive",id:"amount-error",children:[s.jsx(Hc,{className:"h-4 w-4"}),s.jsx(ta,{children:d})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{className:"text-sm text-muted-foreground",children:"Quick Add"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.map(_=>s.jsxs(pe,{type:"button",variant:"outline",size:"sm",onClick:()=>{i(_.toString()),u("")},disabled:o,className:"text-sm",children:["₹",_]},_))})]}),s.jsx(Q7,{}),s.jsx(pe,{type:"submit",className:"w-full",disabled:o||!a.trim(),size:"lg",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(XF,{className:"mr-2 h-4 w-4"}),"Add Balance"]})})]})})]})]}),s.jsxs(yt,{children:[s.jsxs(_t,{children:[s.jsx(Gt,{children:"Recent Activity"}),s.jsx(Ea,{children:"Your latest wallet transactions"})]}),s.jsx(Nt,{children:h?s.jsx("p",{children:"Loading transactions..."}):g?s.jsxs(ea,{variant:"destructive",children:[s.jsx(Hc,{className:"h-4 w-4"}),s.jsx(ta,{children:g})]}):r.length===0?s.jsx("p",{className:"text-muted-foreground text-center",children:"No recent activity to display."}):s.jsx("div",{className:"space-y-3",children:r.map(_=>{var U;const k=_.type==="CREDIT",T=((U=_.status)==null?void 0:U.toUpperCase())||"UNKNOWN";let O=s.jsx(rg,{className:"h-5 w-5 text-gray-500"}),P="bg-gray-100",I=k?"text-green-600":"text-red-600",M=_.description||(k?"Funds Added":"Funds Withdrawn");const q=T.charAt(0)+T.slice(1).toLowerCase();return T==="COMPLETED"||T==="PAID"?(O=s.jsx(rg,{className:`h-5 w-5 ${k?"text-green-600":"text-red-500"}`}),P=k?"bg-green-100":"bg-red-100"):T==="PENDING"?(O=s.jsx(Bp,{className:"h-5 w-5 text-yellow-600"}),P="bg-yellow-100",I="text-yellow-700"):T==="FAILED"&&(O=s.jsx(Yi,{className:"h-5 w-5 text-red-600"}),P="bg-red-100",I="text-red-700"),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${P}`,children:O}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:M}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(_.timestamp).toLocaleDateString()," ",new Date(_.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-semibold ${I}`,children:[k?"+":"-",Ms(_.amount)]}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:q})]})]},_.id)})})})]})]})})}const o6e=()=>{const e=typeof window<"u"?localStorage.getItem("user"):null,t=e?JSON.parse(e):null,r=(t==null?void 0:t.role)==="DepotAdmin",[n,a]=m.useState(1),i=10,[o,l]=m.useState(""),[d,u]=m.useState(""),[h,p]=m.useState(),g=m.useRef(null),[y,w]=m.useState(null),v=m.useCallback(P=>{l(P.target.value)},[]);m.useEffect(()=>(g.current&&window.clearTimeout(g.current),g.current=window.setTimeout(()=>u(o),400),()=>{g.current&&window.clearTimeout(g.current)}),[o]);const{data:N,isLoading:j,isError:A,refetch:E}=Nr({queryKey:["purchases",n,d,h],queryFn:async()=>{let P=`/purchases?page=${n}&limit=${i}`;return r&&(t!=null&&t.depotId)&&(P+=`&depotId=${t.depotId}`),d&&(P+=`&search=${d}`),h&&(P+=`&date=${Rt(h,"yyyy-MM-dd")}`),xt(P)}}),S=(N==null?void 0:N.data)||[],_=(N==null?void 0:N.totalPages)||1,k=()=>{l(""),u(""),p(void 0),a(1)},T=P=>P.reduce((I,M)=>I+(M.purchaseRate||0)*(M.quantity||0),0),O=async()=>{if(y)try{await Tn(`/purchases/${y}`),ce.success("Purchase deleted"),E(),w(null)}catch(P){ce.error(P.message||"Failed to delete purchase")}};return j?s.jsx("div",{className:"p-10 text-center",children:"Loading purchases..."}):A?s.jsx("div",{className:"p-10 text-center",children:"Error loading purchases"}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(yt,{className:"mb-6",children:[s.jsxs(_t,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(Gt,{className:"text-2xl",children:"Purchase Management"}),s.jsx(Mr,{to:"/admin/purchases/create",children:s.jsxs(pe,{children:[s.jsx(En,{className:"mr-2 size-4"})," New Purchase"]})})]}),s.jsxs(Nt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(He,{placeholder:"Search by purchase no / Farmer",value:o,onChange:v}),s.jsxs(cc,{children:[s.jsx(dc,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:Xe("w-full justify-start",!h&&"text-muted-foreground"),children:[s.jsx(ra,{className:"mr-2 h-4 w-4"}),h?Rt(h,"dd/MM/yyyy"):"Pick a date"]})}),s.jsx(uc,{className:"w-auto p-0",align:"start",children:s.jsx(yd,{mode:"single",selected:h,onSelect:p})})]}),s.jsx(pe,{variant:"outline",onClick:k,children:"Clear Filters"})]}),S.length===0?s.jsx("div",{className:"py-10 text-center",children:"No purchases found."}):s.jsxs(Is,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(Fs,{className:"bg-gray-100",children:s.jsxs(rr,{children:[s.jsx(Ye,{className:"px-6 py-3",children:"Purchase No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Farmer"}),s.jsx(Ye,{className:"px-6 py-3",children:"Purchase Date"}),s.jsx(Ye,{className:"px-6 py-3",children:"Invoice No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Invoice Date"}),s.jsx(Ye,{className:"px-6 py-3 text-right",children:"Total Amount"}),s.jsx(Ye,{className:"px-6 py-3 text-right",children:"Paid Amount"}),s.jsx(Ye,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx(Ls,{className:"divide-y",children:S.map(P=>{var I;return s.jsxs(rr,{className:"hover:bg-gray-50",children:[s.jsx($e,{className:"px-6 py-4 font-medium",children:P.purchaseNo}),s.jsx($e,{className:"px-6 py-4",children:(I=P.vendor)==null?void 0:I.name}),s.jsx($e,{className:"px-6 py-4",children:Rt(new Date(P.purchaseDate),"dd/MM/yyyy")}),s.jsx($e,{className:"px-6 py-4",children:P.invoiceNo}),s.jsx($e,{className:"px-6 py-4",children:Rt(new Date(P.invoiceDate),"dd/MM/yyyy")}),s.jsx($e,{className:"px-6 py-4 text-right",children:Ms(T(P.purchaseDetails))}),s.jsx($e,{className:"px-6 py-4 text-right",children:Ms(P.paidAmt||0)}),s.jsxs($e,{className:"px-6 py-4 space-x-2",children:[s.jsx(Mr,{to:`/admin/purchases/edit/${P.id}`,children:s.jsx(pe,{size:"icon",variant:"ghost",children:s.jsx(gT,{className:"size-4"})})}),s.jsxs(Ln,{children:[s.jsx(Bh,{asChild:!0,children:s.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>w(P.id),children:s.jsx(Qs,{className:"size-4"})})}),s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Are you sure?"}),s.jsx(qn,{children:"This action cannot be undone. This will permanently delete the purchase and remove its data from our servers."})]}),s.jsxs(Un,{children:[s.jsx(zn,{onClick:()=>w(null),children:"Cancel"}),s.jsx(aa,{onClick:O,children:"Continue"})]})]})]})]})]},P.id)})})]}),_>1&&s.jsx(N0,{className:"mt-6",children:s.jsxs(j0,{children:[s.jsx(S0,{onClick:()=>a(P=>Math.max(1,P-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",n," of ",_]}),s.jsx(E0,{onClick:()=>a(P=>Math.min(_,P+1))})]})})]})]})})},l6e=ys({purchaseNo:it().optional(),purchaseDate:rd(),invoiceNo:it().min(1,"Invoice number is required"),invoiceDate:rd(),vendorId:it().min(1,"Vendor is required"),depotId:it().min(1,"Depot is required"),notes:it().optional(),purchaseDetails:_h(ys({productId:it().min(1,"Product is required"),variantId:it().min(1,"Variant is required"),quantity:ki().min(1,"Quantity must be at least 1"),purchaseRate:ki().min(0,"Rate must not be negative")})).min(1,"Add at least one line item")});function WE(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function sF(e){return!!e&&!isNaN(e.getTime())}function nF({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=m.useState(!1),[l,d]=m.useState(e),[u,h]=m.useState(WE(e)),[p,g]=m.useState();return m.useEffect(()=>{h(WE(e)),sF(e)&&d(e)},[e]),m.useEffect(()=>{(async()=>{const w=await xt("/vendors");g(w.data)})()},[]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ye,{htmlFor:n,children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(He,{id:n,value:u,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:y=>{const w=y.target.value;h(w);const v=new Date(w);sF(v)?(t(v),d(v)):t(void 0)}}),s.jsxs(cc,{open:i,onOpenChange:o,children:[s.jsx(dc,{asChild:!0,children:s.jsx(pe,{variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 size-6",type:"button",children:s.jsx(ra,{className:"size-3.5"})})}),s.jsx(uc,{className:"p-0",children:s.jsx(yd,{mode:"single",selected:e,month:l,captionLayout:"dropdown",onMonthChange:d,fromDate:a,onSelect:y=>{t(y),h(WE(y)),o(!1)}})})]})]})]})}const xG=({mode:e,purchaseId:t,initialData:r,onSuccess:n})=>{var H;const a=Cr(),i=yn(),o=typeof window<"u"?localStorage.getItem("user"):null,l=o?JSON.parse(o):null;console.log("PurchaseForm initial data",r);const{register:d,control:u,handleSubmit:h,setValue:p,watch:g,formState:{errors:y}}=Js({resolver:en(l6e),defaultValues:{purchaseNo:e==="edit"?r==null?void 0:r.purchaseNo:"",purchaseDate:e==="edit"&&(r!=null&&r.purchaseDate)?new Date(r.purchaseDate):new Date,invoiceNo:(r==null?void 0:r.invoiceNo)||"",invoiceDate:e==="edit"&&(r!=null&&r.invoiceDate)?new Date(r.invoiceDate):new Date,vendorId:r!=null&&r.vendorId?String(r.vendorId):"",depotId:e==="edit"&&(r!=null&&r.depotId)?String(r.depotId):l!=null&&l.depotId?String(l.depotId):"",notes:(r==null?void 0:r.notes)||"",purchaseDetails:e==="edit"&&((H=r==null?void 0:r.purchaseDetails)!=null&&H.length)?r.purchaseDetails.map(R=>({productId:String(R.productId),variantId:String(R.variantId),quantity:R.quantity,purchaseRate:R.purchaseRate})):[{productId:"",variantId:"",quantity:1,purchaseRate:0}]}}),[w,v]=m.useState([]),[N,j]=m.useState([]),[A,E]=m.useState([]),[S,_]=m.useState([]);m.useEffect(()=>{g("depotId")||(l!=null&&l.depotId?p("depotId",String(l.depotId)):S.length&&p("depotId",String(S[0].id)))},[S,l==null?void 0:l.depotId]);const[k,T]=m.useState(null);m.useEffect(()=>{(async()=>{try{const R=await xt("/products");v((R==null?void 0:R.data)||R||[]);const X=await xt("/vendors?limit=1000");E((X==null?void 0:X.data)||X||[]);const W=await xt("/depots");_((W==null?void 0:W.data)||W||[])}catch{ce.error("Failed to fetch reference data")}})()},[]);const O=g("depotId"),P=(l==null?void 0:l.depotId)??O;m.useEffect(()=>{if(!P){j([]);return}(async()=>{try{const R=await xt(`/depot-product-variants?depotId=${P}&limit=1000`);j((R==null?void 0:R.data)||R||[])}catch{ce.error("Failed to fetch depot variants")}})()},[P,l==null?void 0:l.depotId]);const{fields:I,append:M,remove:q}=zy({control:u,name:"purchaseDetails"}),U=g("purchaseDetails"),re=U.reduce((R,X)=>R+(X.purchaseRate||0)*(X.quantity||0),0),te=Vr({mutationFn:async R=>e==="edit"&&t?Zs(`/purchases/${t}`,R):Kr("/purchases",R),onSuccess:()=>{ce.success("Purchase saved"),i.invalidateQueries({queryKey:["purchases"]}),a("/admin/purchases"),n==null||n()},onError:R=>ce.error(R.message||"Error saving purchase")}),B=R=>{(l==null?void 0:l.role)==="DepotAdmin"&&(R.depotId=String(l==null?void 0:l.depotId)),te.mutate(R)};return s.jsxs("form",{onSubmit:h(B),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{children:"Purchase Details"})}),s.jsxs(Nt,{className:"space-y-4",children:[e==="edit"&&s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2",children:"Purchase No"}),s.jsx(He,{disabled:!0,...d("purchaseNo")})]}),s.jsx(_r,{control:u,name:"purchaseDate",render:({field:R})=>s.jsx(nF,{id:"purchaseDate",label:"Purchase Date",value:R.value,onChange:R.onChange})}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2",children:"Invoice No"}),s.jsx(He,{...d("invoiceNo")}),y.invoiceNo&&s.jsx("p",{className:"text-xs text-red-600",children:y.invoiceNo.message})]}),s.jsx(_r,{control:u,name:"invoiceDate",render:({field:R})=>s.jsx(nF,{id:"invoiceDate",label:"Invoice Date",value:R.value,onChange:R.onChange})}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2",children:"Notes"}),s.jsx(Hu,{rows:3,...d("notes")})]})]})]}),s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{children:"Farmer & Depot"})}),s.jsxs(Nt,{className:"space-y-4",children:[s.jsx(_r,{control:u,name:"vendorId",render:({field:R})=>s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2",children:"Farmer"}),s.jsxs(It,{value:R.value,onValueChange:R.onChange,children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select Farmer"})}),s.jsx(Bt,{children:A.map(X=>s.jsx(Je,{value:String(X.id),children:X.name},X.id))})]}),y.vendorId&&s.jsx("p",{className:"text-xs text-red-600",children:y.vendorId.message})]})}),s.jsx(_r,{control:u,name:"depotId",render:({field:R})=>s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2 block w-full",htmlFor:"depotId",children:"Depot"}),s.jsxs(It,{value:R.value,onValueChange:R.onChange,disabled:(l==null?void 0:l.role)==="DepotAdmin",children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select depot"})}),s.jsx(Bt,{children:S.map(X=>s.jsx(Je,{value:String(X.id),children:X.name},X.id))})]}),y.depotId&&s.jsx("p",{className:"text-xs text-red-600",children:y.depotId.message})]})})]})]})]}),s.jsxs(yt,{children:[s.jsxs(_t,{className:"flex-row items-center justify-between",children:[s.jsx(Gt,{children:"Items"}),s.jsxs(pe,{type:"button",size:"sm",onClick:()=>M({productId:"",variantId:"",quantity:1,purchaseRate:0}),children:[s.jsx(En,{className:"mr-2 size-4"})," Add Item"]})]}),s.jsxs(Nt,{children:[s.jsx("div",{className:"space-y-4",children:I.map((R,X)=>{var z,K,V;const W=(z=U[X])==null?void 0:z.productId,Y=N.filter(ae=>String(ae.productId)===W),F=(((K=U[X])==null?void 0:K.purchaseRate)||0)*(((V=U[X])==null?void 0:V.quantity)||0);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 border rounded-md items-end",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(ye,{className:"mb-2",children:"Product"}),s.jsx(_r,{control:u,name:`purchaseDetails.${X}.productId`,render:({field:ae})=>s.jsxs(It,{value:ae.value,onValueChange:ae.onChange,children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select Product"})}),s.jsx(Bt,{children:w.map(Q=>s.jsx(Je,{value:String(Q.id),children:Q.name},Q.id))})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(ye,{className:"mb-2",children:"Variant"}),s.jsx(_r,{control:u,name:`purchaseDetails.${X}.variantId`,render:({field:ae})=>s.jsxs(It,{value:ae.value,onValueChange:Q=>{ae.onChange(Q);const se=Y.find(Z=>String(Z.id)===Q);se&&se.purchasePrice!=null&&p(`purchaseDetails.${X}.purchaseRate`,Number(se.purchasePrice))},children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select Variant"})}),s.jsx(Bt,{children:Y.map(Q=>s.jsx(Je,{value:String(Q.id),children:Q.name},Q.id))})]})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(ye,{className:"mb-2",children:"Quantity"}),s.jsx(He,{type:"number",...d(`purchaseDetails.${X}.quantity`,{valueAsNumber:!0})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(ye,{className:"mb-2",children:"Rate"}),s.jsx(He,{type:"number",step:"0.01",...d(`purchaseDetails.${X}.purchaseRate`,{valueAsNumber:!0})})]}),s.jsxs("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2",children:"Total"}),s.jsx("p",{className:"font-medium h-10 flex items-center",children:Ms(F)})]}),s.jsxs(Ln,{children:[s.jsx(Bh,{asChild:!0,children:s.jsx(pe,{type:"button",size:"icon",variant:"ghost",children:s.jsx(Qs,{className:"size-4 text-red-500"})})}),s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Remove item?"}),s.jsx(qn,{children:"This will remove the selected line item from the purchase."})]}),s.jsxs(Un,{children:[s.jsx(zn,{children:"Cancel"}),s.jsx(aa,{onClick:()=>q(X),children:"Continue"})]})]})]})]})]},R.id)})}),y.purchaseDetails&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in y.purchaseDetails?y.purchaseDetails.message:null}),s.jsxs("div",{className:"text-right font-semibold mt-4",children:["Grand Total: ",Ms(re)]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(pe,{type:"submit",disabled:te.isPending,children:"Save Purchase"})})]})};function c6e(){return s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{}),s.jsx(Nt,{children:s.jsx(xG,{mode:"create"})})]})})}function d6e(){const{id:e}=sa(),{data:t,isLoading:r,isError:n}=Nr({queryKey:["purchase",e],queryFn:()=>xt(`/purchases/${e}`),enabled:!!e});return r?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx(Fr,{className:"animate-spin"})}):n||!t?(ce.error("Failed to load purchase"),null):s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{}),s.jsx(Nt,{children:s.jsx(xG,{mode:"edit",purchaseId:e,initialData:t})})]})})}const u6e=e=>Kr("/api/admin/purchase-payments",e).then(t=>t.data),f6e=e=>xt("/api/admin/purchase-payments",{params:e}).then(t=>t),h6e=e=>xt(`/api/admin/purchase-payments/${e}`).then(t=>t),m6e=e=>Tn(`/api/admin/purchase-payments/${e}`).then(t=>t.data),gG=(e,t={})=>xt(`/api/admin/vendors/${e}/purchases`,{params:t}).then(r=>r),p6e=()=>{const[e,t]=m.useState(1),r=10,[n,a]=m.useState(""),[i,o]=m.useState(""),l=m.useRef(null),[d,u]=m.useState(null),h=m.useCallback(A=>{o(A.target.value)},[]);l.current&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>a(i),400);const{data:p,isLoading:g,isError:y,refetch:w}=Nr({queryKey:["purchase-payments",e,n],queryFn:()=>f6e({page:e,limit:r,search:n}),placeholderData:{payments:[],totalPages:1}}),v=p.payments||[];console.log("Payment is here",v);const N=(p==null?void 0:p.totalPages)||1,j=async()=>{if(d)try{await m6e(d),ce.success("Payment deleted"),w(),u(null)}catch(A){ce.error(A.message||"Failed to delete payment")}};return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(yt,{className:"mb-6",children:[s.jsxs(_t,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(Gt,{className:"text-2xl",children:"Purchase Payments"}),s.jsx(Mr,{to:"/admin/purchase-payments/create",children:s.jsxs(pe,{children:[s.jsx(En,{className:"mr-2 size-4"})," New Payment"]})})]}),s.jsxs(Nt,{children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx(He,{value:i,onChange:h,placeholder:"Search by farmer/mode...",className:"max-w-sm"})}),g&&s.jsx("div",{className:"p-10 text-center",children:"Loading..."}),y&&s.jsx("div",{className:"p-10 text-center",children:"Error loading payments"}),!g&&!y&&s.jsxs(Is,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(Fs,{className:"bg-gray-100",children:s.jsxs(rr,{children:[s.jsx(Ye,{className:"px-6 py-3",children:"Payment No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Date"}),s.jsx(Ye,{className:"px-6 py-3",children:"Farmer"}),s.jsx(Ye,{className:"px-6 py-3",children:"Mode"}),s.jsx(Ye,{className:"px-6 py-3 text-right",children:"Total"}),s.jsx(Ye,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx(Ls,{className:"divide-y",children:v&&(v==null?void 0:v.map(A=>{var E;return s.jsxs(rr,{className:"hover:bg-gray-50",children:[s.jsx($e,{className:"px-6 py-4",children:A.paymentno}),s.jsx($e,{className:"px-6 py-4",children:Rt(new Date(A.paymentDate),"dd/MM/yyyy")}),s.jsx($e,{className:"px-6 py-4",children:(E=A.vendor)==null?void 0:E.name}),s.jsx($e,{className:"px-6 py-4",children:A.mode}),s.jsx($e,{className:"px-6 py-4 text-right",children:Ms(A.totalAmount)}),s.jsxs($e,{className:"px-6 py-4",children:[s.jsx(Mr,{to:`/admin/purchase-payments/${A.id}`,children:s.jsx(pe,{variant:"ghost",size:"icon",children:s.jsx(qc,{className:"h-4 w-4"})})}),s.jsxs(Ln,{children:[s.jsx(Bh,{asChild:!0,children:s.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>u(A.id),children:s.jsx(Qs,{className:"size-4"})})}),s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Delete Payment?"}),s.jsx(qn,{children:"This will permanently delete the payment."})]}),s.jsxs(Un,{children:[s.jsx(zn,{onClick:()=>u(null),children:"Cancel"}),s.jsx(aa,{onClick:j,children:"Delete"})]})]})]})]})]},A.id)}))})]}),N>1&&s.jsx(N0,{className:"mt-6",children:s.jsxs(j0,{children:[s.jsx(S0,{onClick:()=>t(A=>Math.max(1,A-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",N]}),s.jsx(E0,{onClick:()=>t(A=>Math.min(N,A+1))})]})})]})]})})},x6e=ys({paymentDate:rd({required_error:"Payment date required"}),vendorId:it().min(1,"Vendor is required"),mode:it().min(1,"Payment mode is required"),referenceNo:it().min(1,"Reference no is required"),notes:it().optional(),details:_h(ys({purchaseId:ki(),amount:ki().nonnegative()})).nonempty("Enter at least one purchase payment")}),g6e=["CASH","NEFT","CHEQUE","UPI"],y6e=({onSuccess:e})=>{const t=Cr(),{register:r,handleSubmit:n,setValue:a,watch:i,control:o,formState:{errors:l,isSubmitting:d}}=Js({resolver:en(x6e),defaultValues:{paymentDate:new Date,vendorId:"",mode:"",referenceNo:"",notes:"",details:[]}}),[u,h]=m.useState([]),[p,g]=m.useState([]),y=i("vendorId");m.useEffect(()=>{(async()=>{try{const S=await xt("/vendors"),_=Array.isArray(S==null?void 0:S.data)?S.data:Array.isArray(S)?S:[];console.log("list",_,S),h(_)}catch(S){ce.error(S.message||"Failed to load vendors")}})()},[]);const w=i("paymentDate");m.useEffect(()=>{if(!y)return;(async()=>{try{const S=Rt(w,"yyyy-MM-dd"),k=await gG(parseInt(y),{startDate:S,endDate:S})||[];g(k),console.log("purchases",k),a("details",k.map(T=>({purchaseId:T.id,amount:T.outstanding??0})))}catch(S){ce.error(S.message||"Failed to load purchases")}})()},[y,w,a]);const v=i("details"),N=m.useMemo(()=>v==null?void 0:v.reduce((E,S)=>E+(S.amount||0),0),[v]),j=async E=>{if(N<=0){ce.error("Enter at least one payment amount");return}for(const S of E.details){const _=p.find(k=>k.id===S.purchaseId);if(_&&S.amount>(_.outstanding??0)){ce.error(`Amount for purchase ${_.purchaseNo} exceeds outstanding balance`);return}}try{const S={paymentDate:Rt(E.paymentDate,"yyyy-MM-dd"),vendorId:parseInt(E.vendorId),mode:E.mode,referenceNo:E.referenceNo||void 0,notes:E.notes||void 0,totalAmount:N,details:E.details.filter(_=>_.amount>0)};await u6e(S),ce.success("Payment recorded"),e==null||e(),t("/admin/purchase-payments")}catch(S){ce.error(S.message||"Failed to create payment")}},A=(E,S)=>{var O;const _=((O=p[E])==null?void 0:O.outstanding)??0;let k=S;S>_&&(ce.warning("Amount exceeds outstanding balance"),k=_);const T=[...v];T[E].amount=isNaN(k)?0:k,a("details",T)};return s.jsxs("form",{onSubmit:n(j),className:"space-y-6 max-w-7xl m-auto mt-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6 max-w-7xl",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Details"}),s.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[s.jsx(_r,{control:o,name:"paymentDate",render:({field:E})=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Payment Date"}),s.jsxs(cc,{children:[s.jsx(dc,{asChild:!0,children:s.jsxs(pe,{type:"button",variant:"outline",className:"w-full justify-start",children:[s.jsx(ra,{className:"mr-2 h-4 w-4"}),Rt(E.value??new Date,"dd/MM/yyyy")]})}),s.jsx(uc,{className:"p-0",align:"start",children:s.jsx(yd,{mode:"single",selected:E.value,onSelect:S=>E.onChange(S),initialFocus:!0})})]}),l.paymentDate&&s.jsx("p",{className:"text-xs text-red-500",children:l.paymentDate.message})]})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Farmer"}),s.jsxs(It,{value:y,onValueChange:E=>a("vendorId",E),children:[s.jsx(Lt,{children:s.jsx(Ft,{placeholder:"Select farmer"})}),s.jsx(Bt,{children:u.map(E=>s.jsx(Je,{value:E.id.toString(),children:E.name},E.id))})]}),l.vendorId&&s.jsx("p",{className:"text-xs text-red-500",children:l.vendorId.message})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Purchases"}),p.length>0?s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left",children:"Purchase No"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Invoice No"}),s.jsx("th",{className:"px-4 py-2 text-center",children:"Purchase Date"}),s.jsx("th",{className:"px-4 py-2 text-center",children:"Invoice Date"}),s.jsx("th",{className:"px-4 py-2 text-right",children:"Amount"}),s.jsx("th",{className:"px-4 py-2 text-right",children:"Pay Amount"})]})}),s.jsx("tbody",{children:p.map((E,S)=>{var _;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2",children:E.purchaseNo}),s.jsx("td",{className:"px-4 py-2",children:E.invoiceNo}),s.jsx("td",{className:"px-4 py-2 text-center",children:Rt(new Date(E.purchaseDate),"dd/MM/yyyy")}),s.jsx("td",{className:"px-4 py-2 text-center",children:Rt(new Date(E.invoiceDate),"dd/MM/yyyy")}),s.jsx("td",{className:"px-4 py-2 text-right",children:(E.totalAmount??0).toFixed(2)}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("div",{className:"flex justify-end",children:s.jsx(He,{type:"number",step:"0.01",value:((_=v[S])==null?void 0:_.amount)||0,onChange:k=>A(S,parseFloat(k.target.value)),className:"w-32 text-right px-2 py-1 border rounded"})})})]},E.id)})})]})}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No purchases found"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Summary"}),s.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Mode"}),s.jsxs(It,{value:i("mode"),onValueChange:E=>a("mode",E),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select mode"})}),s.jsx(Bt,{children:g6e.map(E=>s.jsx(Je,{value:E,children:E},E))})]}),l.mode&&s.jsx("p",{className:"text-xs text-red-500",children:l.mode.message})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Reference No"}),s.jsx(He,{...r("referenceNo")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Notes"}),s.jsx(He,{...r("notes")})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>t(-1),disabled:d,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:d,className:"gap-2",children:[d?s.jsx(Fr,{className:"h-4 w-4 animate-spin"}):s.jsx(Xs,{className:"h-4 w-4"}),d?"Saving...":"Save Payment"]})]})]})},v6e=()=>{var p;const{id:e}=sa(),{data:t,isLoading:r,isError:n}=Nr({queryKey:["purchase-payment",e],queryFn:()=>h6e(Number(e)),enabled:!!e}),a=t==null?void 0:t.vendor.id,{data:i=[],isLoading:o}=Nr({queryKey:["vendor-payments",a],enabled:!!a,queryFn:async()=>{const g=await xt("/api/admin/purchase-payments",{vendorId:a,limit:1e3});return Array.isArray(g)?g:(g==null?void 0:g.payments)||[]}}),{data:l=[],isLoading:d}=Nr({queryKey:["vendor-purchases",a],enabled:!!a,queryFn:()=>gG(a)});(()=>{if(!a||o||d)return null;const g=i.reduce((v,N)=>v+parseFloat(N.totalAmount||"0"),0),y=i.reduce((v,N)=>{const j=new Date(N.paymentDate);return!v||j>v?j:v},null),w=l.reduce((v,N)=>{let j=0;N.totalAmt?j=parseFloat(N.totalAmt):Array.isArray(N.details)&&(j=N.details.reduce((E,S)=>E+parseFloat(S.purchaseRate||S.rate||"0")*(S.quantity||1),0));const A=parseFloat(N.paidAmt||"0");return v+Math.max(j-A,0)},0);return{totalPaid:g,lastPaymentDate:y,outstanding:w}})();const u=g=>g?g.totalAmt?parseFloat(g.totalAmt):Array.isArray(g.details)?g.details.reduce((y,w)=>y+parseFloat(w.purchaseRate||w.rate||"0")*(w.quantity||1),0):0:0;if(r)return s.jsx(b6e,{});if(n||!t)return s.jsx("div",{className:"container mx-auto p-6 text-destructive",children:"Error fetching payment details or payment not found."});const h=(()=>{if(Array.isArray(t.details)&&t.details.length>0){const g=t.details.reduce((y,w)=>{const v=w.purchase;return v&&v.paidAmt!==void 0&&v.paidAmt!==null?y+Number(v.paidAmt):y},0);if(g>0)return g}return parseFloat(t.totalAmount??"0")})();return s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Payment Details"})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsxs(yt,{className:"lg:col-span-2",children:[s.jsx(_t,{className:"bg-muted/50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(Gt,{className:"flex items-center gap-2",children:[s.jsx(Wc,{className:"h-6 w-6 text-primary"}),t.paymentno]}),s.jsx(Ea,{className:"mt-2",children:"Payment Information"})]}),s.jsx(Ir,{className:"text-sm px-3 py-1",children:t.mode})]})}),s.jsxs(Nt,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(Pw,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),s.jsx("p",{className:"font-medium",children:t.vendor.name})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(dA,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment Date"}),s.jsx("p",{className:"font-medium",children:Rt(new Date(t.paymentDate),"dd/MM/yyyy")})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(iJ,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsx("p",{className:"font-medium text-xl",children:Ms(h)})]})]}),t.referenceNo&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(XF,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reference No"}),s.jsx("p",{className:"font-medium",children:t.referenceNo})]})]})]})]}),t.notes&&s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(QF,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Notes"}),s.jsx("p",{className:"text-sm bg-muted/30 rounded-lg p-4",children:t.notes})]})]})})]})]})}),s.jsxs(yt,{className:"mt-6",children:[s.jsxs(_t,{children:[s.jsxs(Gt,{className:"flex items-center gap-2",children:[s.jsx(fn,{className:"h-5 w-5"}),"Invoices"]}),s.jsx(Ea,{children:"Applied to purchase invoices"})]}),s.jsx(Nt,{children:s.jsxs(Is,{children:[s.jsx(Fs,{className:"bg-muted/50",children:s.jsxs(rr,{children:[s.jsx(Ye,{children:"Invoice No"}),s.jsx(Ye,{children:"Invoice Date"}),s.jsx(Ye,{children:"Purchase No"}),s.jsx(Ye,{className:"text-right",children:"Invoice Amount"}),s.jsx(Ye,{className:"text-right",children:"Amount Paid"})]})}),s.jsx(Ls,{children:(p=t==null?void 0:t.details)==null?void 0:p.map(g=>{const y=l.find(N=>N.id===g.purchase.id),w=u(y||g.purchase),v=parseFloat(g.amount??"0");return s.jsxs(rr,{className:"hover:bg-muted/30",children:[s.jsx($e,{className:"font-medium",children:g.purchase.invoiceNo||g.purchase.purchaseNo}),s.jsx($e,{children:Rt(new Date(g.purchase.invoiceDate||g.purchase.purchaseDate),"dd/MM/yyyy")}),s.jsx($e,{children:g.purchase.purchaseNo}),s.jsx($e,{className:"text-right",children:Ms(w)}),s.jsx($e,{className:"text-right font-medium",children:Ms(v)})]},g.id)})}),s.jsx(qfe,{className:"bg-muted/30",children:s.jsxs(rr,{className:"w-full justify-center",children:[s.jsx($e,{colSpan:3,className:"text-center font-medium",children:"Total"}),s.jsx($e,{className:"text-center font-bold",children:Ms(parseFloat(t.totalAmount??"0"))}),s.jsx($e,{})]})})]})})]})]})},b6e=()=>s.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx(Ot,{className:"h-8 w-64"}),s.jsx(Ot,{className:"h-6 w-32"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(yt,{className:"lg:col-span-2",children:[s.jsxs(_t,{className:"bg-muted/50",children:[s.jsx(Ot,{className:"h-6 w-3/4"}),s.jsx(Ot,{className:"h-4 w-1/2 mt-2"})]}),s.jsx(Nt,{className:"pt-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(4)].map((e,t)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{className:"h-4 w-1/3"}),s.jsx(Ot,{className:"h-6 w-full"})]},t))})})]}),s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Ot,{className:"h-6 w-2/3"})}),s.jsx(Nt,{children:[...Array(3)].map((e,t)=>s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx(Ot,{className:"h-4 w-1/2"}),s.jsx(Ot,{className:"h-5 w-3/4"})]},t))})]})]}),s.jsxs(yt,{className:"mt-6",children:[s.jsxs(_t,{children:[s.jsx(Ot,{className:"h-6 w-1/4"}),s.jsx(Ot,{className:"h-4 w-1/3 mt-2"})]}),s.jsx(Nt,{children:s.jsx(Ot,{className:"h-64 w-full"})})]})]}),w6e=()=>{const[e,t]=m.useState(1),r=10,[n,a]=m.useState(""),[i,o]=m.useState(""),l=m.useRef(null),[d,u]=m.useState(null),h=m.useCallback(S=>{a(S.target.value)},[]);m.useEffect(()=>(l.current&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>o(n),400),()=>{l.current&&window.clearTimeout(l.current)}),[n]);const{data:p,isLoading:g,isError:y,refetch:w}=Nr({queryKey:["transfers",e,i],queryFn:async()=>{let S=`/transfers?page=${e}&pageSize=${r}`;return i&&(S+=`&searchTerm=${i}`),xt(S)}}),v=(p==null?void 0:p.data)||[],N=(p==null?void 0:p.totalPages)||1,j=()=>{a(""),o(""),t(1)},A=S=>S.reduce((_,k)=>_+(k.quantity||0),0),E=async()=>{if(d)try{await Tn(`/transfers/${d}`),ce.success("Transfer deleted successfully"),w(),u(null)}catch(S){ce.error(S.message||"Failed to delete transfer")}};return g?s.jsx("div",{className:"p-10 text-center",children:"Loading transfers..."}):y?s.jsx("div",{className:"p-10 text-center",children:"Error loading transfers"}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(yt,{className:"mb-6",children:[s.jsxs(_t,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(Gt,{className:"text-2xl",children:"Transfer Management"}),s.jsx(Mr,{to:"/admin/transfers/create",children:s.jsxs(pe,{children:[s.jsx(En,{className:"mr-2 size-4"})," New Transfer"]})})]}),s.jsxs(Nt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsx(He,{placeholder:"Search by TFR no, from/to depot...",value:n,onChange:h}),s.jsx(pe,{onClick:j,variant:"outline",children:"Clear Filters"})]}),v.length===0?s.jsx("div",{className:"py-10 text-center",children:"No transfers found."}):s.jsxs(Is,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(Fs,{className:"bg-gray-100",children:s.jsxs(rr,{children:[s.jsx(Ye,{className:"px-6 py-3",children:"Transfer No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Date"}),s.jsx(Ye,{className:"px-6 py-3",children:"From Depot"}),s.jsx(Ye,{className:"px-6 py-3",children:"To Depot"}),s.jsx(Ye,{className:"px-6 py-3 text-right",children:"Total Qty"}),s.jsx(Ye,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx(Ls,{className:"divide-y",children:v.map(S=>s.jsxs(rr,{className:"hover:bg-gray-50",children:[s.jsx($e,{className:"px-6 py-4 font-medium",children:S.transferNo}),s.jsx($e,{className:"px-6 py-4",children:Rt(new Date(S.transferDate),"dd/MM/yyyy")}),s.jsx($e,{className:"px-6 py-4",children:S.fromDepot.name}),s.jsx($e,{className:"px-6 py-4",children:S.toDepot.name}),s.jsx($e,{className:"px-6 py-4 text-right",children:A(S.details)}),s.jsxs($e,{className:"px-6 py-4 space-x-2",children:[s.jsx(Mr,{to:`/admin/transfers/edit/${S.id}`,children:s.jsx(pe,{size:"icon",variant:"ghost",children:s.jsx(gT,{className:"size-4"})})}),s.jsxs(Ln,{children:[s.jsx(Bh,{asChild:!0,children:s.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>u(S.id),children:s.jsx(Qs,{className:"size-4"})})}),s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Are you sure?"}),s.jsx(qn,{children:"This action cannot be undone. This will permanently delete the transfer and remove its data from our servers."})]}),s.jsxs(Un,{children:[s.jsx(zn,{onClick:()=>u(null),children:"Cancel"}),s.jsx(aa,{onClick:E,children:"Continue"})]})]})]})]})]},S.id))})]}),N>1&&s.jsx(N0,{className:"mt-6",children:s.jsxs(j0,{children:[s.jsx(S0,{onClick:()=>t(S=>Math.max(1,S-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",N]}),s.jsx(E0,{onClick:()=>t(S=>Math.min(N,S+1))})]})})]})]})})},yG=e=>ys({transferDate:rd(),fromDepotId:e?it().optional():it().min(1,"Origin depot is required"),toDepotId:it().min(1,"Destination depot is required"),notes:it().optional(),details:_h(ys({fromDepotVariantId:it().min(1,"Source variant is required"),toDepotVariantId:it().min(1,"Destination variant is required"),quantity:ki().min(1,"Quantity must be at least 1")})).min(1,"Add at least one line item")}).refine(t=>t.fromDepotId!==t.toDepotId,{message:"Origin and destination depots cannot be the same",path:["toDepotId"]});yG(!0);function aF(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function iF(e){return!!e&&!isNaN(e.getTime())}function N6e({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=m.useState(!1),[l,d]=m.useState(e),[u,h]=m.useState(aF(e));return m.useEffect(()=>{h(aF(e)),iF(e)&&d(e)},[e]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ye,{htmlFor:n,children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(He,{id:n,value:u,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:p=>{const g=p.target.value;h(g);const y=new Date(g);iF(y)?(t(y),d(y)):t(void 0)}}),s.jsxs(cc,{open:i,onOpenChange:o,children:[s.jsx(dc,{asChild:!0,children:s.jsx(pe,{variant:"ghost",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8",children:s.jsx(ra,{className:"size-4"})})}),s.jsx(uc,{className:"w-auto p-0",children:s.jsx(yd,{mode:"single",selected:e,onSelect:p=>{t(p),o(!1)},initialFocus:!0,month:l,onMonthChange:d,fromDate:a})})]})]})]})}const vG=({mode:e,transferId:t,initialData:r,onSuccess:n})=>{var R;const a=yn(),i=Cr(),o=localStorage.getItem("user"),l=o?JSON.parse(o):null,d=((R=l==null?void 0:l.role)==null?void 0:R.toLowerCase().includes("depot"))??!1,u=l!=null&&l.depotId?String(l.depotId):"",[h,p]=m.useState([]),[g,y]=m.useState([]),[w,v]=m.useState([]),{control:N,handleSubmit:j,register:A,watch:E,setValue:S,formState:{errors:_}}=Js({resolver:en(yG(d)),defaultValues:{transferDate:new Date,details:[{fromDepotVariantId:"",toDepotVariantId:"",quantity:1}],...r,fromDepotId:d?u:(r==null?void 0:r.fromDepotId)||""}}),{fields:k,append:T,remove:O}=zy({control:N,name:"details"}),P=E("fromDepotId"),I=E("toDepotId"),M=h.filter(X=>String(X.id)!==P);m.useEffect(()=>{P&&P===I&&S("toDepotId","")},[P,I,S]),m.useEffect(()=>{(async()=>{try{const W=await xt("/depots");p(W.data||[])}catch(W){console.error("Failed to fetch depots",W),ce.error("Failed to load depots.")}})()},[]),m.useEffect(()=>{if(!P){y([]),k.forEach((W,Y)=>{S(`details.${Y}.fromDepotVariantId`,""),S(`details.${Y}.toDepotVariantId`,"")});return}(async()=>{try{const Y=((await xt(`/depot-product-variants?depotId=${P}&include=product,stock`)).data||[]).map(F=>({id:F.id,name:F.name,productId:F.productId,productName:F.product?F.product.name:"N/A",closingStock:F.closingQty??0}));y(Y)}catch(W){console.error("Failed to fetch source variants",W),ce.error("Failed to load variants for the source depot."),y([])}})()},[P]),m.useEffect(()=>{if(!I){v([]),k.forEach((W,Y)=>{S(`details.${Y}.toDepotVariantId`,"")});return}(async()=>{var W;try{const Y=await xt(`/depot-product-variants?depotId=${I}&include=product,stock`),F=Array.isArray(Y.data)?Y.data:((W=Y.data)==null?void 0:W.data)||[],z=F==null?void 0:F.map(K=>({id:K.id,name:K.name,productId:K.productId,productName:K.product?K.product.name:"N/A",closingStock:K.closingQty??0}));v(z)}catch(Y){console.error("Failed to fetch destination variants",Y),ce.error("Failed to load variants for the destination depot."),v([])}})()},[I]);const q=X=>X?`${X.getFullYear()}-${String(X.getMonth()+1).padStart(2,"0")}-${String(X.getDate()).padStart(2,"0")}`:void 0,B=Vr({mutationFn:X=>{const W=e==="edit"?`/transfers/${t}`:"/transfers";return(e==="edit"?Zs:Kr)(W,{...X,fromDepotId:d?u:X.fromDepotId,transferDate:q(X.transferDate),details:X.details.map(F=>({...F,fromDepotVariantId:Number(F.fromDepotVariantId),toDepotVariantId:Number(F.toDepotVariantId),quantity:Number(F.quantity)}))})},onSuccess:()=>{a.invalidateQueries({queryKey:["transfers"]}),ce.success(`Transfer ${e==="edit"?"updated":"created"} successfully.`),n&&n(),i("/admin/transfers")},onError:X=>{var W,Y;ce.error(((Y=(W=X.response)==null?void 0:W.data)==null?void 0:Y.message)||"An error occurred.")}}),H=X=>{for(const W of X.details){const Y=g.find(F=>String(F.id)===W.fromDepotVariantId);if(Y&&W.quantity>Y.closingStock){ce.error(`Quantity for ${Y.productName} - ${Y.name} exceeds available stock.`);return}}B.mutate(X)};return s.jsxs("form",{onSubmit:j(H),className:"space-y-6",children:[s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{children:"General Information"})}),s.jsxs(Nt,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(_r,{control:N,name:"transferDate",render:({field:X})=>s.jsx(N6e,{value:X.value,onChange:X.onChange,label:"Transfer Date",id:"transferDate"})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ye,{children:"From Depot"}),s.jsx(_r,{control:N,name:"fromDepotId",render:({field:X})=>s.jsxs(It,{value:X.value,onValueChange:X.onChange,disabled:d,children:[s.jsx(Lt,{children:s.jsx(Ft,{placeholder:"Select Origin Depot"})}),s.jsx(Bt,{children:h.map(W=>s.jsx(Je,{value:String(W.id),children:W.name},W.id))})]})}),_.fromDepotId&&s.jsx("p",{className:"text-sm text-red-600",children:_.fromDepotId.message})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ye,{children:"To Depot"}),s.jsx(_r,{control:N,name:"toDepotId",render:({field:X})=>s.jsxs(It,{value:X.value,onValueChange:X.onChange,children:[s.jsx(Lt,{children:s.jsx(Ft,{placeholder:"Select Destination Depot"})}),s.jsx(Bt,{children:M.map(W=>s.jsx(Je,{value:String(W.id),children:W.name},W.id))})]})}),_.toDepotId&&s.jsx("p",{className:"text-sm text-red-600",children:_.toDepotId.message})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:col-span-2",children:[s.jsx(ye,{htmlFor:"notes",children:"Notes"}),s.jsx(Hu,{id:"notes",...A("notes")})]})]})]}),s.jsxs(yt,{children:[s.jsxs(_t,{className:"flex-row items-center justify-between",children:[s.jsx(Gt,{children:"Items"}),s.jsxs(pe,{type:"button",variant:"outline",size:"sm",onClick:()=>T({fromDepotVariantId:"",toDepotVariantId:"",quantity:1}),children:[s.jsx(En,{className:"size-4 mr-2"})," Add Item"]})]}),s.jsxs(Nt,{children:[s.jsx("div",{className:"space-y-4",children:k.map((X,W)=>{const Y=E(`details.${W}.fromDepotVariantId`),F=g.find(K=>String(K.id)===Y),z=F?w.filter(K=>K.productId===F.productId):[];return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 border p-4 rounded-md",children:[s.jsxs("div",{className:"md:col-span-5",children:[s.jsx(ye,{className:"mb-2",children:"Source Variant"}),s.jsx(_r,{control:N,name:`details.${W}.fromDepotVariantId`,render:({field:K})=>s.jsxs(It,{value:K.value,onValueChange:K.onChange,children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select Source Variant"})}),s.jsx(Bt,{children:g.map(V=>s.jsx(Je,{value:String(V.id),children:`${V.productName} - ${V.name} (Stock: ${V.closingStock})`},V.id))})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(ye,{className:"mb-2",children:"Destination Variant"}),s.jsx(_r,{control:N,name:`details.${W}.toDepotVariantId`,render:({field:K})=>s.jsxs(It,{value:K.value,onValueChange:K.onChange,disabled:!F,children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:"Select Destination Variant"})}),s.jsx(Bt,{children:z.map(V=>s.jsx(Je,{value:String(V.id),children:`${V.productName} - ${V.name} (Stock: ${V.closingStock})`},V.id))})]})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(ye,{className:"mb-2",children:"Quantity"}),s.jsx(He,{type:"number",...A(`details.${W}.quantity`,{valueAsNumber:!0})})]}),s.jsx("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:s.jsxs(Ln,{children:[s.jsx(Bh,{asChild:!0,children:s.jsx(pe,{type:"button",size:"icon",variant:"ghost",children:s.jsx(Qs,{className:"size-4 text-red-500"})})}),s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Remove item?"}),s.jsx(qn,{children:"This will remove the selected line item from the transfer."})]}),s.jsxs(Un,{children:[s.jsx(zn,{children:"Cancel"}),s.jsx(aa,{onClick:()=>O(W),children:"Continue"})]})]})]})})]},X.id)})}),_.details&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in _.details?_.details.message:null})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(pe,{type:"submit",disabled:B.isPending,children:"Save Transfer"})})]})};function j6e(){return s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{}),s.jsx(Nt,{children:s.jsx(vG,{mode:"create"})})]})})}function S6e(e){return e?{transferNo:e.transferNo,transferDate:e.transferDate?new Date(e.transferDate):void 0,fromDepotId:String(e.fromDepotId),toDepotId:String(e.toDepotId),notes:e.notes||"",details:(e.details||[]).map(t=>({fromDepotVariantId:String(t.fromDepotVariantId),toDepotVariantId:String(t.toDepotVariantId),quantity:t.quantity}))}:{}}function E6e(){const{id:e}=sa(),{data:t,isLoading:r,isError:n}=Nr({queryKey:["transfer",e],queryFn:()=>xt(`/transfers/${e}`),enabled:!!e});return r?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx(Fr,{className:"animate-spin"})}):n||!t?(ce.error("Failed to load transfer"),null):s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(yt,{children:[s.jsx(_t,{}),s.jsx(Nt,{children:e&&s.jsx(vG,{mode:"edit",transferId:e,initialData:S6e(t.data)})})]})})}const A6e=m.createContext(null);function C6e(){const e=m.useContext(A6e);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function KN(){let e=null;try{e=C6e().user}catch{const a=localStorage.getItem("user");if(a)try{e=JSON.parse(a)}catch(i){console.error("Failed to parse user data from localStorage",i)}}const t=()=>{if(!e||!e.role)return!1;const n=e.role.toString().toUpperCase();return n==="ADMIN"||n==="SUPER_ADMIN"||n.includes("ADMIN")};return{isAdmin:t(),checkIsAdmin:t}}class XN{constructor(){Ut(this,"workbook");Ut(this,"worksheet");Ut(this,"currentRow");Ut(this,"indentLevel");this.workbook=Ko.book_new(),this.worksheet={},this.currentRow=1,this.indentLevel=0}exportToExcel(t){var i,o;const{data:r,totals:n,config:a}=t;this.worksheet={},this.currentRow=1,this.addTitle(a.fileName),this.addHeaders(a.headers),this.applyColumnWidths(a.headers),(i=a.grouping)!=null&&i.enabled&&this.isGroupedData(r)?this.processGroupedData(r,a):this.processFlatData(r,a),n&&((o=a.grouping)!=null&&o.showTotals)&&this.addGrandTotals(n),Ko.book_append_sheet(this.workbook,this.worksheet,a.sheetName),this.downloadExcel(a.fileName)}addTitle(t){const r=`A${this.currentRow}`;this.worksheet[r]={v:t,s:{font:{bold:!0,sz:16},alignment:{horizontal:"center"}}},this.worksheet["!merges"]||(this.worksheet["!merges"]=[]),this.worksheet["!merges"].push({s:{r:this.currentRow-1,c:0},e:{r:this.currentRow-1,c:10}}),this.currentRow+=2}addHeaders(t){t.forEach((r,n)=>{const a=Ko.encode_cell({r:this.currentRow-1,c:n});this.worksheet[a]={v:r.label,s:{font:{bold:!0},fill:{fgColor:{rgb:"E0E0E0"}},alignment:{horizontal:r.align||"left"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}}}}),this.currentRow++}processGroupedData(t,r){t.forEach(n=>{var a;this.addGroupHeader(n),Array.isArray(n.data)&&(this.indentLevel++,this.isGroupedData(n.data)?this.processGroupedData(n.data,r):this.processFlatData(n.data,r),this.indentLevel--),(a=r.grouping)!=null&&a.showTotals&&n.totals&&this.addGroupTotals(n),this.currentRow++})}addGroupHeader(t){const r="  ".repeat(this.indentLevel),n=this.getGroupHeaderText(t),a=this.headerKeys||[],i=Math.max(a.length,11),o=Ko.encode_cell({r:this.currentRow-1,c:0});this.worksheet[o]={v:`${r}${n}`,s:{font:{bold:!0,sz:12},fill:{fgColor:{rgb:this.getGroupColor(t.level)}}}},this.worksheet["!merges"]||(this.worksheet["!merges"]=[]),this.worksheet["!merges"].push({s:{r:this.currentRow-1,c:0},e:{r:this.currentRow-1,c:i-1}}),this.currentRow++}getGroupHeaderText(t){switch(t.level){case"farmer":return`Farmer: ${t.name}`;case"depot":return`Depot: ${t.name}${t.location?` (${t.location})`:""}`;case"variant":return`Product: ${t.productName||""} - Variant: ${t.name}${t.unit?` (${t.unit})`:""}`;case"agency":return`Delivery Agency: ${t.name}`;case"area":return`Area: ${t.name}${t.city?` (${t.city})`:""}`;case"status":return`Status: ${t.name}`;default:return t.name}}getGroupColor(t){switch(t){case"farmer":return"D4E6F1";case"depot":return"D5F4E6";case"variant":return"FDEBD0";case"agency":return"E3F2FD";case"area":return"E8F5E8";case"status":return"FFF3E0";default:return"F0F0F0"}}processFlatData(t,r){const n=r.headers;t.forEach(a=>{const i="  ".repeat(this.indentLevel+1);n.forEach((o,l)=>{let d="";const u="orderId"in a;switch(console.log("isDeliveryItem",a),o.key){case"status":d=a.status||"pending";break;case"product":d=`${a.productName} - ${a.variantName}`;break;case"qty":d=a.quantity;break;case"agency":a.agency?d=a.agency:d=a.agencyName||"N/A";break;case"amount":d=this.formatCurrency(a.amount);break;case"orderId":d=u?a.orderId:"";break;case"date":d=u?this.formatDate(a.deliveryDate):this.formatDate(a.purchaseDate);break;case"customer":d=u?a.customerName:"";break;case"address":d=u?a.deliveryAddress:"";break;case"area":d=u?a.areaName:"";break;case"deliveredBy":d=u&&a.deliveredBy||"";break;case"deliveryTime":d=u&&a.deliveryTime||"";break;case"purchaseNo":d=u?"":a.purchaseNo;break;case"invoice":d="";break;case"farmer":d=u?"":a.farmerName;break;case"depot":d=u?"":a.depotName;break;case"rate":d=u?"":this.formatCurrency(a.purchaseRate);break;default:d=a[o.key]??""}l===0&&typeof d=="string"&&(d=`${i}${d}`);const h=Ko.encode_cell({r:this.currentRow-1,c:l});this.worksheet[h]={v:d,s:{alignment:{horizontal:o.align||"left"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}}}}),this.currentRow++})}addGroupTotals(t){const n=`${"  ".repeat(this.indentLevel)}Total for ${t.level==="variant"?t.productName+" - "+t.name:t.name}:`,a=this.headerKeys||[],i=Math.max(a.length,11);for(let o=0;o<i;o++){const l=a[o];let d="";if(o===0?d=n:l==="qty"?d=t.totals.totalQuantity.toString():l==="amount"?d=this.formatCurrency(t.totals.totalAmount):l==="rate"?d=`Avg: ${this.formatCurrency(t.totals.avgRate)}`:l==="agency"&&(d=`${t.totals.itemCount} items`),d){const u=Ko.encode_cell({r:this.currentRow-1,c:o});this.worksheet[u]={v:d,s:{font:{bold:!0,italic:!0},fill:{fgColor:{rgb:"F5F5F5"}},alignment:{horizontal:l==="amount"||l==="rate"||l==="qty"?"right":"left"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}}}}}this.currentRow++}addGrandTotals(t){this.currentRow++,["GRAND TOTAL",`Purchases: ${t.totalPurchases}`,`Items: ${t.totalItems}`,`Qty: ${t.totalQuantity}`,this.formatCurrency(t.totalAmount),"","","","","",`Avg Value: ${this.formatCurrency(t.avgPurchaseValue)}`].forEach((n,a)=>{const i=Ko.encode_cell({r:this.currentRow-1,c:a});this.worksheet[i]={v:n,s:{font:{bold:!0,sz:14},fill:{fgColor:{rgb:"CCCCCC"}},alignment:{horizontal:a>=4?"right":"left"},border:{top:{style:"medium"},bottom:{style:"medium"}}}}}),this.currentRow++}applyColumnWidths(t){const r=t.map(n=>({wch:n.width||15}));this.worksheet["!cols"]=r,this.headerKeys=t.map(n=>n.key)}setWorksheetRange(){const t={s:{c:0,r:0},e:{c:10,r:this.currentRow-1}};this.worksheet["!ref"]=Ko.encode_range(t)}downloadExcel(t){this.setWorksheetRange();const r=pk(this.workbook,{bookType:"xlsx",type:"binary"}),n=new Blob([this.s2ab(r)],{type:"application/octet-stream"}),a=document.createElement("a");a.href=URL.createObjectURL(n),a.download=`${t}_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}s2ab(t){const r=new ArrayBuffer(t.length),n=new Uint8Array(r);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a)&255;return r}isGroupedData(t){return t.length>0&&"level"in t[0]&&"totals"in t[0]}formatCurrency(t){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(t)}formatDate(t){return t?new Date(t).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):""}}const oF=md;function T6e(){var y,w,v,N,j,A,E;const{isAdmin:e}=KN(),[t,r]=m.useState({startDate:Rt(new Date(new Date().setDate(new Date().getDate()-30)),"yyyy-MM-dd"),endDate:Rt(new Date,"yyyy-MM-dd"),groupBy:"agency,area,status"}),[n,a]=m.useState(new Set),[i,o]=m.useState(""),{data:l}=Nr({queryKey:["deliveryReportFilters"],queryFn:async()=>{const S=localStorage.getItem("authToken")||localStorage.getItem("token");return(await vs.get(`${oF}/api/reports/delivery-filters`,{headers:{Authorization:`Bearer ${S}`}})).data},enabled:e}),{data:d,isLoading:u,refetch:h}=Nr({queryKey:["deliveryAgenciesReport",t],queryFn:async()=>{const S=new URLSearchParams;Object.entries(t).forEach(([T,O])=>{O&&S.append(T,O.toString())});const _=localStorage.getItem("authToken")||localStorage.getItem("token");return(await vs.get(`${oF}/api/reports/delivery-agencies?${S.toString()}`,{headers:{Authorization:`Bearer ${_}`}})).data},enabled:e}),p=(S,_)=>{r(k=>({...k,[S]:_}))},g=()=>{var k,T;if(!((k=d==null?void 0:d.data)!=null&&k.report)){ce.error("No data to export");return}const S=new XN,_={fileName:"Delivery_Agencies_Report",sheetName:"Delivery Agencies",headers:[{key:"orderId",label:"Order ID",width:15},{key:"date",label:"Delivery Date",width:12},{key:"product",label:"Product",width:25},{key:"qty",label:"Quantity",width:10,align:"right"},{key:"customer",label:"Customer",width:20},{key:"address",label:"Delivery Address",width:30},{key:"area",label:"Area",width:15},{key:"agency",label:"Agency",width:20},{key:"status",label:"Status",width:12},{key:"amount",label:"Amount",width:15,align:"right"}],grouping:{enabled:!0,levels:((T=t.groupBy)==null?void 0:T.split(","))||[],showTotals:!0}};S.exportToExcel({data:d.data.report,totals:d.data.totals,config:_}),ce.success("Report exported successfully")};return m.useMemo(()=>{var S,_;return!((S=d==null?void 0:d.data)!=null&&S.report)||!i?((_=d==null?void 0:d.data)==null?void 0:_.report)||[]:d.data.report},[d,i]),e?s.jsx("div",{className:"container mx-auto p-4 space-y-4",children:s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(Gt,{children:"Delivery Agencies Report"}),s.jsx(Ea,{children:"Track delivery performance by agency, area, and status"})]}),s.jsxs(pe,{onClick:g,disabled:!((y=d==null?void 0:d.data)!=null&&y.report),children:[s.jsx(oc,{className:"mr-2 h-4 w-4"}),"Export to Excel"]})]})}),s.jsx(Nt,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"startDate",children:"Start Date"}),s.jsx(He,{id:"startDate",type:"date",value:t.startDate,onChange:S=>p("startDate",S.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"endDate",children:"End Date"}),s.jsx(He,{id:"endDate",type:"date",value:t.endDate,onChange:S=>p("endDate",S.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"agencyId",children:"Delivery Agency"}),s.jsxs(It,{value:((w=t.agencyId)==null?void 0:w.toString())||"all",onValueChange:S=>p("agencyId",S==="all"?void 0:parseInt(S)),children:[s.jsx(Lt,{id:"agencyId",children:s.jsx(Ft,{placeholder:"All Agencies"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"all",children:"All Agencies"}),(N=(v=l==null?void 0:l.data)==null?void 0:v.agencies)==null?void 0:N.map(S=>s.jsx(Je,{value:S.id.toString(),children:S.name},S.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"areaId",children:"Delivery Area"}),s.jsxs(It,{value:((j=t.areaId)==null?void 0:j.toString())||"all",onValueChange:S=>p("areaId",S==="all"?void 0:parseInt(S)),children:[s.jsx(Lt,{id:"areaId",children:s.jsx(Ft,{placeholder:"All Areas"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"all",children:"All Areas"}),(E=(A=l==null?void 0:l.data)==null?void 0:A.areas)==null?void 0:E.map(S=>s.jsxs(Je,{value:S.id.toString(),children:[S.name," ",S.city&&`(${S.city})`]},S.id))]})]})]})]})})]})}):s.jsx(yt,{className:"m-4",children:s.jsx(Nt,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-600",children:"You don't have permission to view this report."})})})}const _6e=md;function k6e(){var g,y,w,v,N,j;const{isAdmin:e}=KN(),[t,r]=m.useState({startDate:Rt(new Date(new Date().setDate(new Date().getDate()-7)),"yyyy-MM-dd"),endDate:Rt(new Date(new Date().setDate(new Date().getDate()+30)),"yyyy-MM-dd")}),{data:n,isLoading:a,refetch:i}=Nr({queryKey:["deliverySummariesReport",t],queryFn:async()=>{const A=new URLSearchParams;Object.entries(t).forEach(([_,k])=>{k&&A.append(_,k.toString())});const E=localStorage.getItem("authToken")||localStorage.getItem("token");return(await vs.get(`${_6e}/api/reports/delivery-summaries?${A.toString()}`,{headers:{Authorization:`Bearer ${E}`}})).data},enabled:e}),o=(A,E)=>{r(S=>({...S,[A]:E}))},l=()=>{var O;if(!((O=n==null?void 0:n.data)!=null&&O.summary)){ce.error("No data to export");return}const A=new XN,E=n.data.statusList||[],S=[{key:"agency",label:"Delivery Agency",width:25},{key:"city",label:"City",width:15},...E.map(P=>({key:P.toLowerCase(),label:P.charAt(0).toUpperCase()+P.slice(1),width:12,align:"right"})),{key:"total",label:"Total",width:12,align:"right"}],_=n.data.summary.map(P=>{const I={agency:P.name,city:P.city||"",total:P.totalCount};return E.forEach(M=>{I[M.toLowerCase()]=P.statusCounts[M]||0}),I}),k={agency:"TOTAL",city:"",total:n.data.totals.totalDeliveries};E.forEach(P=>{k[P.toLowerCase()]=n.data.totals.statusTotals[P]||0}),_.push(k);const T={fileName:"Delivery_Summaries_Report",sheetName:"Delivery Summaries",headers:S,grouping:{enabled:!1,levels:[],showTotals:!1}};A.exportToExcel({data:_,totals:n.data.totals,config:T}),ce.success("Report exported successfully")},d=A=>{switch(A==null?void 0:A.toLowerCase()){case"delivered":return"default";case"pending":return"secondary";case"cancelled":return"destructive";case"in_transit":return"outline";default:return"secondary"}};if(!e)return s.jsx(yt,{className:"m-4",children:s.jsx(Nt,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-600",children:"You don't have permission to view this report."})})});const u=((g=n==null?void 0:n.data)==null?void 0:g.statusList)||[],h=((y=n==null?void 0:n.data)==null?void 0:y.summary)||[],p=(w=n==null?void 0:n.data)==null?void 0:w.totals;return s.jsx("div",{className:"container mx-auto p-4 space-y-4",children:s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs(Gt,{className:"flex items-center gap-2",children:[s.jsx(Um,{className:"h-5 w-5"}),"Delivery Summaries Report"]}),s.jsx(Ea,{children:"Status-wise delivery counts by agency"})]}),s.jsxs(pe,{onClick:l,disabled:!((v=n==null?void 0:n.data)!=null&&v.summary),children:[s.jsx(oc,{className:"mr-2 h-4 w-4"}),"Export to Excel"]})]})}),s.jsxs(Nt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"startDate",children:"Start Date"}),s.jsx(He,{id:"startDate",type:"date",value:t.startDate,onChange:A=>o("startDate",A.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"endDate",children:"End Date"}),s.jsx(He,{id:"endDate",type:"date",value:t.endDate,onChange:A=>o("endDate",A.target.value)})]})]}),p&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(yt,{children:s.jsxs(Nt,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold",children:p.totalDeliveries}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Va,{className:"h-3 w-3"}),"Total Deliveries"]})]})}),s.jsx(yt,{children:s.jsxs(Nt,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold",children:p.totalAgencies}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(A1,{className:"h-3 w-3"}),"Active Agencies"]})]})}),s.jsx(yt,{children:s.jsxs(Nt,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:((N=p.statusTotals)==null?void 0:N.DELIVERED)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered"})]})}),s.jsx(yt,{children:s.jsxs(Nt,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:((j=p.statusTotals)==null?void 0:j.PENDING)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsx(Ye,{className:"font-semibold",children:"Delivery Agency"}),s.jsx(Ye,{className:"font-semibold",children:"City"}),u.map(A=>s.jsx(Ye,{className:"text-center font-semibold",children:s.jsx(Ir,{variant:d(A),className:"text-xs",children:A.charAt(0).toUpperCase()+A.slice(1)})},A)),s.jsx(Ye,{className:"text-center font-semibold",children:"Total"})]})}),s.jsx(Ls,{children:a?s.jsx(rr,{children:s.jsx($e,{colSpan:u.length+3,className:"text-center py-8",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Bp,{className:"h-4 w-4 animate-spin"}),"Loading report data..."]})})}):h.length===0?s.jsx(rr,{children:s.jsx($e,{colSpan:u.length+3,className:"text-center py-8",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[s.jsx(Va,{className:"h-8 w-8"}),s.jsx("p",{children:"No data available for the selected date range"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your filters or selecting a different date range"})]})})}):s.jsxs(s.Fragment,{children:[h.map((A,E)=>s.jsxs(rr,{className:"hover:bg-gray-50",children:[s.jsx($e,{className:"font-medium",children:A.name}),s.jsx($e,{className:"text-sm text-muted-foreground",children:A.city||"-"}),u.map(S=>s.jsx($e,{className:"text-center",children:s.jsx("span",{className:"font-mono",children:A.statusCounts[S]||0})},S)),s.jsx($e,{className:"text-center font-semibold",children:A.totalCount})]},A.id||E)),p&&s.jsxs(rr,{className:"border-t-2 bg-gray-50 font-semibold",children:[s.jsx($e,{className:"font-bold",children:"TOTAL"}),s.jsx($e,{children:"-"}),u.map(A=>s.jsx($e,{className:"text-center font-bold",children:p.statusTotals[A]||0},A)),s.jsx($e,{className:"text-center font-bold",children:p.totalDeliveries})]})]})})]})}),(n==null?void 0:n.data)&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Report generated for ",Rt(new Date(t.startDate),"dd MMM yyyy")," to"," ",Rt(new Date(t.endDate),"dd MMM yyyy")," •"," ",n.data.recordCount," total delivery records processed"]})]})]})})}const D6e=md;function O6e(){const{isAdmin:e}=KN(),[t,r]=m.useState({startDate:Rt(new Date(new Date().setDate(new Date().getDate()-30)),"yyyy-MM-dd"),endDate:Rt(new Date,"yyyy-MM-dd"),status:"all",paymentStatus:void 0,page:1,limit:50}),{data:n,isLoading:a,refetch:i,error:o}=Nr({queryKey:["subscriptionReports",t],queryFn:async()=>{const h=new URLSearchParams;Object.entries(t).forEach(([y,w])=>{w!=null&&w!==""&&h.append(y,w.toString())});const p=localStorage.getItem("authToken")||localStorage.getItem("token");return(await vs.get(`${D6e}/api/reports/subscriptions?${h.toString()}`,{headers:{Authorization:`Bearer ${p}`}})).data},enabled:e}),l=(h,p)=>{r(g=>({...g,[h]:p,...h!=="page"?{page:1}:{}}))},d=()=>{r({startDate:Rt(new Date(new Date().setDate(new Date().getDate()-30)),"yyyy-MM-dd"),endDate:Rt(new Date,"yyyy-MM-dd"),status:"all",paymentStatus:void 0,page:1,limit:50})},u=()=>{if(!(n!=null&&n.data)||n.data.length===0){ce.error("No data to export");return}const h=new XN,p=[{key:"id",label:"ID",width:10},{key:"memberName",label:"Member Name",width:20},{key:"memberEmail",label:"Email",width:25},{key:"memberMobile",label:"Mobile",width:15},{key:"productName",label:"Product",width:20},{key:"variantName",label:"Variant",width:20},{key:"deliverySchedule",label:"Schedule",width:15},{key:"dailyQty",label:"Daily Qty",width:12,align:"right"},{key:"totalQty",label:"Total Qty",width:12,align:"right"},{key:"alternateQty",label:"Alt Qty",width:12,align:"right"},{key:"amount",label:"Amount",width:15,align:"right"},{key:"paymentStatus",label:"Payment Status",width:15},{key:"agencyName",label:"Agency Name",width:20},{key:"agencyCity",label:"Agency City",width:15},{key:"agencyAssigned",label:"Agency Assigned",width:15},{key:"startDate",label:"Start Date",width:12},{key:"expiryDate",label:"Expiry Date",width:12},{key:"isExpired",label:"Expired",width:10},{key:"deliveryAddress",label:"Delivery Address",width:30}],g=n.data.map(w=>{var v;return{id:w.id,memberName:w.memberName,memberEmail:w.memberEmail,memberMobile:w.memberMobile,productName:w.productName,variantName:w.variantName,deliverySchedule:w.deliverySchedule,dailyQty:w.dailyQty,totalQty:w.totalQty,alternateQty:w.alternateQty||"N/A",amount:w.amount,paymentStatus:w.paymentStatus,agencyName:w.agencyName||"Unassigned",agencyCity:w.agencyCity||"N/A",agencyAssigned:w.agencyAssigned?"Yes":"No",startDate:w.startDate?Rt(new Date(w.startDate),"dd/MM/yyyy"):"",expiryDate:w.expiryDate?Rt(new Date(w.expiryDate),"dd/MM/yyyy"):"",isExpired:w.isExpired?"Yes":"No",deliveryAddress:((v=w.deliveryAddress)==null?void 0:v.fullAddress)||"N/A"}}),y={fileName:"Subscription_Reports",sheetName:"Subscriptions",headers:p,grouping:{enabled:!1,levels:[],showTotals:!1}};h.exportToExcel({data:g,config:y}),ce.success("Report exported successfully")};return e?o?s.jsx(yt,{className:"m-4",children:s.jsxs(Nt,{className:"pt-6",children:[s.jsxs("p",{className:"text-center text-red-600",children:["Error loading subscription reports: ",(o==null?void 0:o.message)||"Unknown error"]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx(pe,{onClick:()=>i(),variant:"outline",children:"Try Again"})})]})}):s.jsx("div",{className:"container mx-auto p-4 space-y-4",children:s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx("div",{className:"flex justify-end items-center gap-2",children:s.jsxs(pe,{onClick:u,disabled:!(n!=null&&n.data)||n.data.length===0,children:[s.jsx(oc,{className:"mr-2 h-4 w-4"}),"Export to Excel"]})})}),s.jsxs(Nt,{className:"border-t bg-gray-50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"startDate",children:"Start Date"}),s.jsx(He,{id:"startDate",type:"date",value:t.startDate,onChange:h=>l("startDate",h.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"endDate",children:"End Date"}),s.jsx(He,{id:"endDate",type:"date",value:t.endDate,onChange:h=>l("endDate",h.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"status",children:"Expiry Status"}),s.jsxs(It,{value:t.status||"all",onValueChange:h=>l("status",h),children:[s.jsx(Lt,{children:s.jsx(Ft,{placeholder:"All Subscriptions"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"all",children:"All Subscriptions"}),s.jsx(Je,{value:"expired",children:"Expired"}),s.jsx(Je,{value:"not_expired",children:"Not Expired"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"paymentStatus",children:"Payment Status"}),s.jsxs(It,{value:t.paymentStatus||"all",onValueChange:h=>l("paymentStatus",h==="all"?void 0:h),children:[s.jsx(Lt,{children:s.jsx(Ft,{placeholder:"All Payments"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"all",children:"All Payments"}),s.jsx(Je,{value:"PENDING",children:"Pending"}),s.jsx(Je,{value:"PAID",children:"Paid"}),s.jsx(Je,{value:"FAILED",children:"Failed"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:d,children:[s.jsx(ai,{className:"mr-2 h-4 w-4"}),"Clear Filters"]}),s.jsx(pe,{onClick:()=>i(),children:"Apply Filters"})]})]})]})}):s.jsx(yt,{className:"m-4",children:s.jsx(Nt,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-600",children:"You don't have permission to view this report."})})})}const P6e=()=>{const[e,t]=m.useState(new Date),{data:r,isLoading:n,error:a}=Nr({queryKey:["depotOrderDetails",e],queryFn:async()=>{if(!e)return[];const o=Rt(e,"yyyy-MM-dd");return(await vs.get(`/api/vendor-orders/details?date=${o}`)).data},enabled:!!e}),i=(r==null?void 0:r.reduce((o,l)=>{const{depotName:d}=l;return o[d]||(o[d]=[]),o[d].push(l),o},{}))??{};return s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{children:"Depot Order Details by Date"})}),s.jsxs(Nt,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs(cc,{children:[s.jsx(dc,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:"w-[280px] justify-start text-left font-normal",children:[s.jsx(ra,{className:"mr-2 h-4 w-4"}),e?Rt(e,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(uc,{className:"w-auto p-0",children:s.jsx(yd,{mode:"single",selected:e,onSelect:t,initialFocus:!0})})]})}),n&&s.jsx("p",{children:"Loading..."}),a&&s.jsxs("p",{children:["Error fetching data: ",a.message]}),Object.entries(i).map(([o,l])=>s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:o}),s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsx(Ye,{children:"Product"}),s.jsx(Ye,{children:"Variant"}),s.jsx(Ye,{children:"Effective Price"}),s.jsx(Ye,{children:"Total Quantity"})]})}),s.jsx(Ls,{children:l.map(d=>s.jsxs(rr,{children:[s.jsx($e,{children:d.productName}),s.jsx($e,{children:d.variantName}),s.jsx($e,{children:d.effectivePrice!==null?d.effectivePrice:"N/A"}),s.jsx($e,{children:d.totalQuantity})]},d.depotVariantId))})]})]},o))]})]})})},n0="/admin/snf-orders",R6e=async(e={})=>{try{return await xt(n0,e)}catch(t){throw console.error("Failed to fetch SNF orders:",t),t}},lF=async e=>{try{return await xt(`${n0}/${e}`)}catch(t){throw console.error(`Failed to fetch SNF order ${e}:`,t),t}},M6e=async(e,t={})=>{try{return await Fn(`${n0}/${e}/mark-paid`,t)}catch(r){if((r==null?void 0:r.status)===404)try{const a={paymentStatus:"PAID",paymentMode:t.paymentMode??null,paymentRefNo:t.paymentRefNo??null,paymentDate:t.paymentDate??null};return await Fn(`${n0}/${e}`,a)}catch(a){throw console.error(`Fallback update for SNF order ${e} failed:`,a),a}throw console.error(`Failed to mark SNF order ${e} as PAID:`,r),r}},I6e=async e=>{try{return await Kr(`${n0}/${e}/generate-invoice`,{})}catch(t){throw console.error(`Failed to generate invoice for SNF order ${e}:`,t),t}},bG=async e=>{try{const t=localStorage.getItem("authToken");if(!t)throw new Error("Authentication required");const r=await fetch(`${md}/api${n0}/${e}/download-invoice`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=r.headers.get("content-disposition");let a=`Invoice_${e}.pdf`;if(n){const d=n.match(/filename[^;=\n]*=(['"]?)([^'"\n]*?)\1/);d&&(a=d[2])}const i=await r.blob(),o=window.URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=a,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o)}catch(t){throw console.error("Error downloading invoice:",t),t}},F6e=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null),[o,l]=m.useState(null),[d,u]=m.useState(null),[h,p]=m.useState("CASH"),[g,y]=m.useState(""),[w,v]=m.useState(()=>new Date().toISOString().slice(0,10)),[N,j]=m.useState(1),[A,E]=m.useState(0),[S,_]=m.useState(10),[k,T]=m.useState(""),[O,P]=m.useState("createdAt"),[I,M]=m.useState("desc"),q=mG(k,400),U=async(R=N,X=S,W=q,Y=O,F=I)=>{n(!0),i(null);try{const K=await R6e({page:R,limit:X,search:W,sortBy:Y,sortOrder:F});t(K.orders),j(K.currentPage),E(K.totalPages)}catch(z){t([]),E(0),i(z.message||"Failed to fetch orders")}n(!1)};m.useEffect(()=>{U()},[q,N,S,O,I]);const re=R=>{_(Number(R)),j(1)},te=R=>{O===R?M(I==="asc"?"desc":"asc"):(P(R),M("asc")),j(1)},B=()=>{p("CASH"),y(""),v(new Date().toISOString().slice(0,10))},H=async(R,X)=>{try{l(R),await M6e(R,X),ce.success("Order marked as paid"),await U(),u(null),B()}catch(W){ce.error(W.message||"Failed to mark order as paid")}finally{l(null)}};return s.jsx("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8",children:s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{children:"SNF Orders"})}),s.jsxs(Nt,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[s.jsxs("div",{className:"relative w-full md:max-w-sm",children:[s.jsx(He,{placeholder:"Search by order no, name, mobile, email, city...",value:k,onChange:R=>{T(R.target.value),j(1)},className:"pl-9"}),s.jsx(qs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show:"}),s.jsxs(It,{value:String(S),onValueChange:re,children:[s.jsx(Lt,{className:"w-[90px]",children:s.jsx(Ft,{placeholder:String(S)})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"10",children:"10"}),s.jsx(Je,{value:"25",children:"25"}),s.jsx(Je,{value:"50",children:"50"}),s.jsx(Je,{value:"100",children:"100"})]})]})]})]}),r&&s.jsxs("div",{className:"flex items-center justify-center h-40",children:[s.jsx(Fr,{className:"h-6 w-6 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm",children:"Loading orders..."})]}),a&&!r&&s.jsxs("div",{className:"flex items-center justify-center h-32 text-red-600",children:[s.jsx(Hc,{className:"h-6 w-6 mr-2"}),s.jsx("span",{children:a})]}),!r&&!a&&e.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No orders found."}),!r&&!a&&e.length>0&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsxs(Ye,{className:"min-w-[140px] cursor-pointer",onClick:()=>te("createdAt"),children:["Date ",O==="createdAt"&&(I==="asc"?"▲":"▼")]}),s.jsx(Ye,{children:"Order No"}),s.jsx(Ye,{children:"Customer"}),s.jsx(Ye,{children:"Mobile"}),s.jsx(Ye,{children:"City"}),s.jsx(Ye,{children:"Depot"}),s.jsxs(Ye,{className:"text-right cursor-pointer",onClick:()=>te("totalAmount"),children:["Total ",O==="totalAmount"&&(I==="asc"?"▲":"▼")]}),s.jsx(Ye,{children:"Items"}),s.jsx(Ye,{children:"Status"}),s.jsx(Ye,{children:"Invoice"}),s.jsx(Ye,{className:"text-center",children:"Action"})]})}),s.jsx(Ls,{children:e.map(R=>{var X,W;return s.jsxs(rr,{children:[s.jsx($e,{children:new Date(R.createdAt).toLocaleDateString()}),s.jsx($e,{className:"font-mono",children:R.orderNo}),s.jsx($e,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:R.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:R.email||"-"})]})}),s.jsx($e,{children:R.mobile}),s.jsx($e,{children:R.city}),s.jsx($e,{children:((X=R.depot)==null?void 0:X.name)||"-"}),s.jsxs($e,{className:"text-right",children:["₹",R.totalAmount.toFixed(2)]}),s.jsx($e,{children:((W=R._count)==null?void 0:W.items)??0}),s.jsx($e,{children:s.jsx("span",{className:"inline-flex rounded-full px-2 py-0.5 text-xs border",children:R.paymentStatus})}),s.jsx($e,{children:R.invoiceNo&&R.invoicePath?s.jsxs(pe,{size:"sm",variant:"outline",onClick:async()=>{try{await bG(R.id)}catch(Y){ce.error(Y.message||"Failed to download invoice")}},children:[s.jsx(oc,{className:"h-4 w-4 mr-1"}),"Download"]}):s.jsx("span",{className:"text-xs text-muted-foreground",children:"Not generated"})}),s.jsx($e,{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(pe,{asChild:!0,size:"sm",variant:"outline",children:s.jsx(Mr,{to:`/admin/snf-orders/${R.id}`,children:"View"})}),R.paymentStatus==="PAID"?s.jsx(pe,{size:"sm",variant:"secondary",disabled:!0,children:"Paid"}):s.jsxs(s.Fragment,{children:[s.jsx(pe,{size:"sm",onClick:()=>{B(),u(R.id)},disabled:o===R.id,children:"Payment"}),s.jsx(Ln,{open:d===R.id,onOpenChange:Y=>{Y||(u(null),B())},children:s.jsxs(Bn,{children:[s.jsxs($n,{children:[s.jsx(Vn,{children:"Record Payment"}),s.jsx(qn,{children:"Enter payment details to mark this order as PAID."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-3",children:[s.jsx(ye,{htmlFor:`pay-mode-${R.id}`,className:"col-span-1 text-right",children:"Mode"}),s.jsx("div",{className:"col-span-3",children:s.jsxs(It,{value:h,onValueChange:p,children:[s.jsx(Lt,{id:`pay-mode-${R.id}`,children:s.jsx(Ft,{placeholder:"Select mode"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"CASH",children:"CASH"}),s.jsx(Je,{value:"ONLINE",children:"ONLINE"}),s.jsx(Je,{value:"UPI",children:"UPI"}),s.jsx(Je,{value:"BANK",children:"BANK"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-3",children:[s.jsx(ye,{htmlFor:`pay-ref-${R.id}`,className:"col-span-1 text-right",children:"Reference No"}),s.jsx("div",{className:"col-span-3",children:s.jsx(He,{id:`pay-ref-${R.id}`,placeholder:"e.g. TXN123 / UPI Ref",value:g,onChange:Y=>y(Y.target.value)})})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-3",children:[s.jsx(ye,{htmlFor:`pay-date-${R.id}`,className:"col-span-1 text-right",children:"Payment Date"}),s.jsx("div",{className:"col-span-3",children:s.jsx(He,{id:`pay-date-${R.id}`,type:"date",value:w,onChange:Y=>v(Y.target.value)})})]})]}),s.jsxs(Un,{children:[s.jsx(zn,{disabled:o===R.id,children:"Cancel"}),s.jsx(pe,{onClick:()=>{if(!w){ce.error("Payment date is required");return}if(h!=="CASH"&&!g.trim()){ce.error("Reference no is required for non-cash payments");return}H(R.id,{paymentMode:h,paymentRefNo:g.trim()||null,paymentDate:w})},disabled:o===R.id,children:o===R.id?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Fr,{className:"h-4 w-4 animate-spin"}),"Saving"]}):"Save"})]})]})})]})]})})]},R.id)})})]})}),A>0&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsx(pe,{onClick:()=>j(R=>Math.max(1,R-1)),disabled:N<=1||r,variant:"outline",children:"Previous"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",N," of ",A]}),s.jsx(pe,{onClick:()=>j(R=>Math.min(A,R+1)),disabled:N>=A||r,variant:"outline",children:"Next"})]})]})]})})},jn=({label:e,value:t})=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 py-2 border-b last:border-0",children:[s.jsx("div",{className:"col-span-4 text-sm text-muted-foreground",children:e}),s.jsx("div",{className:"col-span-8 font-medium break-words",children:t})]}),L6e=()=>{var l;const{id:e}=sa(),[t,r]=m.useState(null),[n,a]=m.useState(!0),[i,o]=m.useState(null);return m.useEffect(()=>{(async()=>{if(e){a(!0),o(null);try{const u=await lF(Number(e));r(u)}catch(u){o(u.message||"Failed to fetch order")}a(!1)}})()},[e]),n?s.jsxs("div",{className:"flex items-center justify-center h-40",children:[s.jsx(Fr,{className:"h-6 w-6 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm",children:"Loading order..."})]}):i||!t?s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[s.jsx("p",{className:"text-red-600",children:i||"Order not found"}),s.jsx(pe,{asChild:!0,className:"mt-4",variant:"outline",children:s.jsxs(Mr,{to:"/admin/snf-orders",children:[s.jsx(Hl,{className:"h-4 w-4 mr-1"})," Back to Orders"]})})]}):s.jsxs("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"SNF Order Detail"}),s.jsx(pe,{asChild:!0,variant:"outline",children:s.jsxs(Mr,{to:"/admin/snf-orders",children:[s.jsx(Hl,{className:"h-4 w-4 mr-1"})," Back"]})})]}),s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsxs(Gt,{children:["Order #",t.orderNo]})}),s.jsx(Nt,{children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Customer"}),s.jsxs("div",{className:"rounded-md border p-4",children:[s.jsx(jn,{label:"Name",value:t.name}),s.jsx(jn,{label:"Email",value:t.email||"-"}),s.jsx(jn,{label:"Mobile",value:t.mobile}),s.jsx(jn,{label:"Address Line 1",value:t.addressLine1}),s.jsx(jn,{label:"Address Line 2",value:t.addressLine2||"-"}),s.jsx(jn,{label:"City",value:t.city}),s.jsx(jn,{label:"State",value:t.state||"-"}),s.jsx(jn,{label:"Pincode",value:t.pincode})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Payment"}),s.jsxs("div",{className:"rounded-md border p-4",children:[s.jsx(jn,{label:"Subtotal",value:`₹${t.subtotal.toFixed(2)}`}),s.jsx(jn,{label:"Delivery Fee",value:`₹${t.deliveryFee.toFixed(2)}`}),typeof t.walletamt=="number"&&s.jsx(jn,{label:"Wallet Deduction",value:`-₹${t.walletamt.toFixed(2)}`}),typeof t.payableAmount=="number"&&s.jsx(jn,{label:"Payable Amount",value:`₹${t.payableAmount.toFixed(2)}`}),s.jsx(jn,{label:"Total",value:`₹${t.totalAmount.toFixed(2)}`}),s.jsx(jn,{label:"Payment Mode",value:t.paymentMode||"-"}),s.jsx(jn,{label:"Payment Status",value:t.paymentStatus}),s.jsx(jn,{label:"Payment Ref",value:t.paymentRefNo||"-"}),s.jsx(jn,{label:"Payment Date",value:t.paymentDate?new Date(t.paymentDate).toLocaleDateString():"-"}),s.jsx(jn,{label:"Created At",value:new Date(t.createdAt).toLocaleDateString()})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{children:"Depot Information"})}),s.jsx(Nt,{children:t.depot?s.jsx("div",{className:"rounded-md border p-4",children:s.jsx(jn,{label:"Depot Name",value:t.depot.name})}):s.jsx("p",{className:"text-muted-foreground",children:"No depot assigned to this order."})})]}),s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsx(Gt,{children:"Invoice Information"})}),s.jsx(Nt,{children:t.invoiceNo&&t.invoicePath?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-md border p-4",children:[s.jsx(jn,{label:"Invoice No",value:t.invoiceNo}),s.jsx(jn,{label:"Invoice Status",value:"Generated"})]}),s.jsxs(pe,{onClick:async()=>{try{await bG(t.id)}catch(d){ce.error(d.message||"Failed to download invoice")}},className:"w-full",children:[s.jsx(oc,{className:"h-4 w-4 mr-2"}),"Download Invoice"]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Invoice not yet generated."}),s.jsx(pe,{onClick:async()=>{try{await I6e(t.id),ce.success("Invoice generated successfully!");const d=await lF(t.id);r(d)}catch(d){ce.error(d.message||"Failed to generate invoice")}},className:"w-full",children:"Generate Invoice"})]})})]})]}),s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsxs(Gt,{children:["Items (",((l=t.items)==null?void 0:l.length)||0,")"]})}),s.jsx(Nt,{children:!t.items||t.items.length===0?s.jsx("p",{className:"text-muted-foreground",children:"No items found."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Is,{children:[s.jsx(Fs,{children:s.jsxs(rr,{children:[s.jsx(Ye,{children:"Product"}),s.jsx(Ye,{children:"Variant"}),s.jsx(Ye,{children:"Price"}),s.jsx(Ye,{children:"Qty"}),s.jsx(Ye,{children:"Line Total"})]})}),s.jsx(Ls,{children:t.items.map(d=>s.jsxs(rr,{children:[s.jsx($e,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[d.imageUrl?s.jsx("img",{src:d.imageUrl,alt:d.name,className:"h-10 w-10 rounded object-cover border"}):s.jsx("div",{className:"h-10 w-10 rounded bg-muted"}),s.jsx("div",{children:s.jsx("div",{className:"font-medium",children:d.name})})]})}),s.jsx($e,{children:d.variantName||"-"}),s.jsxs($e,{children:["₹",d.price.toFixed(2)]}),s.jsx($e,{children:d.quantity}),s.jsxs($e,{children:["₹",d.lineTotal.toFixed(2)]})]},d.id))})]})})})]})]})},cF=md;function B6e(){var y,w,v,N,j,A,E;const{isAdmin:e}=KN(),[t,r]=m.useState({startDate:Rt(new Date(new Date().setDate(new Date().getDate()-30)),"yyyy-MM-dd"),endDate:Rt(new Date,"yyyy-MM-dd"),groupBy:"farmer,depot,variant"}),[n,a]=m.useState(new Set),[i,o]=m.useState(""),{data:l}=Nr({queryKey:["reportFilters"],queryFn:async()=>{const S=localStorage.getItem("authToken")||localStorage.getItem("token");return(await vs.get(`${cF}/api/reports/filters`,{headers:{Authorization:`Bearer ${S}`}})).data},enabled:e}),{data:d,isLoading:u,refetch:h}=Nr({queryKey:["purchaseOrderReport",t],queryFn:async()=>{const S=new URLSearchParams;Object.entries(t).forEach(([T,O])=>{O&&S.append(T,O.toString())});const _=localStorage.getItem("authToken")||localStorage.getItem("token");return(await vs.get(`${cF}/api/reports/purchase-orders?${S.toString()}`,{headers:{Authorization:`Bearer ${_}`}})).data},enabled:e}),p=(S,_)=>{r(k=>({...k,[S]:_}))},g=()=>{var k,T;if(!((k=d==null?void 0:d.data)!=null&&k.report)){ce.error("No data to export");return}const S=new XN,_={fileName:"Purchase_Order_Report",sheetName:"Purchase Orders",headers:[{key:"status",label:"Status",width:12},{key:"product",label:"Product",width:20},{key:"qty",label:"Quantity",width:15},{key:"agency",label:"Agency",width:15},{key:"amount",label:"Amount",width:15,align:"right"},{key:"purchaseNo",label:"Purchase No",width:15},{key:"date",label:"Date",width:12},{key:"invoice",label:"Invoice No",width:15},{key:"farmer",label:"Farmer",width:20},{key:"depot",label:"Depot",width:20},{key:"rate",label:"Rate",width:12,align:"right"}],grouping:{enabled:!0,levels:((T=t.groupBy)==null?void 0:T.split(","))||[],showTotals:!0}};S.exportToExcel({data:d.data.report,totals:d.data.totals,config:_}),ce.success("Report exported successfully")};return m.useMemo(()=>{var S,_;return!((S=d==null?void 0:d.data)!=null&&S.report)||!i?((_=d==null?void 0:d.data)==null?void 0:_.report)||[]:d.data.report},[d,i]),e?s.jsx("div",{className:"container mx-auto p-4 space-y-4",children:s.jsxs(yt,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(Gt,{children:"Purchase Order Report"}),s.jsx(Ea,{children:"View and export purchase orders with grouped data by farmer, depot, and variants"})]}),s.jsxs(pe,{onClick:g,disabled:!((y=d==null?void 0:d.data)!=null&&y.report),children:[s.jsx(oc,{className:"mr-2 h-4 w-4"}),"Export to Excel"]})]})}),s.jsx(Nt,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"startDate",children:"Start Date"}),s.jsx(He,{id:"startDate",type:"date",value:t.startDate,onChange:S=>p("startDate",S.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"endDate",children:"End Date"}),s.jsx(He,{id:"endDate",type:"date",value:t.endDate,onChange:S=>p("endDate",S.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"farmerId",children:"Farmer"}),s.jsxs(It,{value:((w=t.farmerId)==null?void 0:w.toString())||"all",onValueChange:S=>p("farmerId",S==="all"?void 0:parseInt(S)),children:[s.jsx(Lt,{id:"farmerId",children:s.jsx(Ft,{placeholder:"All Farmers"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"all",children:"All Farmers"}),(N=(v=l==null?void 0:l.data)==null?void 0:v.farmers)==null?void 0:N.map(S=>s.jsx(Je,{value:S.id.toString(),children:S.name},S.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"depotId",children:"Depot"}),s.jsxs(It,{value:((j=t.depotId)==null?void 0:j.toString())||"all",onValueChange:S=>p("depotId",S==="all"?void 0:parseInt(S)),children:[s.jsx(Lt,{id:"depotId",children:s.jsx(Ft,{placeholder:"All Depots"})}),s.jsxs(Bt,{children:[s.jsx(Je,{value:"all",children:"All Depots"}),(E=(A=l==null?void 0:l.data)==null?void 0:A.depots)==null?void 0:E.map(S=>s.jsxs(Je,{value:S.id.toString(),children:[S.name," ",S.location&&`(${S.location})`]},S.id))]})]})]})]})})]})}):s.jsx(yt,{className:"m-4",children:s.jsx(Nt,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-600",children:"You don't have permission to view this report."})})})}const $6e=()=>{m.useEffect(()=>{document.title=vg},[]),je.lazy(()=>Zd(()=>import("./SNFLandingPage-DOw8YXZH.js"),__vite__mapDeps([0,1,2,3])));const e=je.lazy(()=>Zd(()=>import("./SNFProductDetailWrapper-B0cQLJZ3.js"),__vite__mapDeps([4,1,5,3]))),t=je.lazy(()=>Zd(()=>import("./SNFWrapper-ChTqldrA.js"),__vite__mapDeps([6,1,0,2,3]))),r=je.lazy(()=>Zd(()=>import("./SNFCheckoutWrapper-f1WSSlgV.js"),__vite__mapDeps([7,1,8]))),n=je.lazy(()=>Zd(()=>import("./SNFBuyNowWrapper-Bf3z1UPK.js"),__vite__mapDeps([9,1,8,5]))),a=je.lazy(()=>Zd(()=>import("./SNFCartDebugWrapper-jtYtCTNs.js"),__vite__mapDeps([10,1]))),i=je.lazy(()=>Zd(()=>import("./SNFAddressWrapper-CHbE8JTR.js"),__vite__mapDeps([11,1]))),o=je.lazy(()=>Zd(()=>import("./SNFCategoryPageWrapper-0HlCTbpS.js"),__vite__mapDeps([12,1,2,3,5])));let l=null;try{const d=localStorage.getItem("user");l=d?JSON.parse(d):null}catch{l=null}return s.jsxs(VQ,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:[s.jsx(zQ,{}),s.jsx(kae,{richColors:!0,position:"top-center"}),s.jsx(wQ,{children:s.jsxs(XX,{children:[s.jsx(jt,{path:"/",element:s.jsx(oI,{}),children:s.jsx(jt,{path:"products/:id",element:s.jsx(cke,{})})}),s.jsx(jt,{path:"/snf",element:s.jsx(je.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((d,u)=>s.jsxs("div",{className:"animate-pulse rounded-lg border p-4 space-y-3","aria-busy":"true","aria-label":"Loading product",children:[s.jsx("div",{className:"h-32 bg-muted/40 rounded-md"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-1/2"}),s.jsx("div",{className:"h-8 bg-muted/40 rounded"})]},u))})}),children:s.jsx(t,{})})}),s.jsx(jt,{path:"/snf/checkout",element:s.jsx(je.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-3",children:Array.from({length:3}).map((d,u)=>s.jsx("div",{className:"h-28 bg-muted/40 rounded-md animate-pulse"},u))}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-36 bg-muted/40 rounded-md animate-pulse"}),s.jsx("div",{className:"h-10 bg-muted/40 rounded-md animate-pulse"})]})]})}),children:s.jsx(r,{})})}),s.jsx(jt,{path:"/snf/debug/cart",element:s.jsx(je.Suspense,{fallback:s.jsx("div",{className:"p-6",children:"Loading debug..."}),children:s.jsx(a,{})})}),s.jsx(jt,{path:"/snf/buy-now",element:s.jsx(je.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-3",children:s.jsx("div",{className:"h-32 bg-muted/40 rounded-md animate-pulse"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-36 bg-muted/40 rounded-md animate-pulse"}),s.jsx("div",{className:"h-10 bg-muted/40 rounded-md animate-pulse"})]})]})}),children:s.jsx(n,{})})}),s.jsx(jt,{path:"/snf/address",element:s.jsx(je.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-3",children:Array.from({length:3}).map((d,u)=>s.jsx("div",{className:"h-28 bg-muted/40 rounded-md animate-pulse"},u))}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-36 bg-muted/40 rounded-md animate-pulse"}),s.jsx("div",{className:"h-10 bg-muted/40 rounded-md animate-pulse"})]})]})}),children:s.jsx(i,{})})}),s.jsx(jt,{path:"/snf/product/:id",element:s.jsx(je.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"h-[420px] bg-muted/40 rounded-md animate-pulse"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-6 bg-muted/40 rounded w-2/3 animate-pulse"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-1/3 animate-pulse"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-1/2 animate-pulse"}),s.jsx("div",{className:"h-24 bg-muted/40 rounded animate-pulse"}),s.jsx("div",{className:"h-10 bg-muted/40 rounded w-1/2 animate-pulse"})]})]})}),children:s.jsx(e,{})})}),s.jsx(jt,{path:"/snf/category/:categoryId",element:s.jsx(je.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((d,u)=>s.jsxs("div",{className:"animate-pulse rounded-lg border p-4 space-y-3","aria-busy":"true","aria-label":"Loading product",children:[s.jsx("div",{className:"h-32 bg-muted/40 rounded-md"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-1/2"}),s.jsx("div",{className:"h-8 bg-muted/40 rounded"})]},u))})}),children:s.jsx(o,{})})}),s.jsxs(jt,{element:s.jsx(HQ,{}),children:[s.jsx(jt,{path:"/admin",element:s.jsx(c5,{})}),s.jsx(jt,{path:"/admin/register",element:s.jsx(d5,{})})," ",s.jsx(jt,{path:"/forgot-password",element:s.jsx(L0e,{})}),s.jsx(jt,{path:"/reset-password/:token",element:s.jsx($0e,{})})]}),s.jsxs(jt,{element:s.jsx($A,{}),children:[s.jsx(jt,{path:"/",element:s.jsx(oI,{})}),s.jsx(jt,{path:"/login",element:s.jsx(c5,{})}),s.jsx(jt,{path:"/about",element:s.jsx(aSe,{})}),s.jsx(jt,{path:"/bharwadcow",element:s.jsx(oSe,{})}),s.jsx(jt,{path:"/contact",element:s.jsx(lSe,{})}),s.jsx(jt,{path:"/gratitude",element:s.jsx(cSe,{})}),s.jsx(jt,{path:"/privacy-policy",element:s.jsx(dSe,{})}),s.jsx(jt,{path:"/refund-policy",element:s.jsx(uSe,{})}),s.jsx(jt,{path:"/shipping-policy",element:s.jsx(fSe,{})}),s.jsx(jt,{path:"/terms-and-conditions",element:s.jsx(hSe,{})}),s.jsx(jt,{path:"/register",element:s.jsx(d5,{})})]}),s.jsxs(jt,{element:s.jsx(cde,{children:s.jsx(NR,{})}),children:[s.jsx(jt,{path:"/admin/dashboard",element:s.jsxs("div",{className:"space-y-4 ml-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),s.jsx("p",{children:"Welcome to your dashboard. Here you can manage orders."})]})}),s.jsx(jt,{path:"/admin/users",element:s.jsx(Lge,{})}),s.jsx(jt,{path:"/admin/variantstock",element:s.jsx(M0e,{})}),s.jsx(jt,{path:"/admin/users/create",element:s.jsx(J1,{mode:"create"})}),s.jsx(jt,{path:"/admin/users/edit/:id",element:s.jsx(J1,{mode:"edit"})}),s.jsx(jt,{path:"/admin/vendors",element:s.jsx(dye,{})}),s.jsx(jt,{path:"/admin/wastages",element:s.jsx(spe,{})}),s.jsx(jt,{path:"/admin/wastages/create",element:s.jsx(D0e,{})}),s.jsx(jt,{path:"/admin/wastages/edit/:id",element:s.jsx(O0e,{})}),s.jsx(jt,{path:"/admin/transfers",element:s.jsx(w6e,{})}),s.jsx(jt,{path:"/admin/transfers/create",element:s.jsx(j6e,{})}),s.jsx(jt,{path:"/admin/transfers/edit/:id",element:s.jsx(E6e,{})}),s.jsx(jt,{path:"/admin/vendors/create",element:s.jsx(Nye,{})}),s.jsx(jt,{path:"/admin/vendors/edit/:id",element:s.jsx(Sye,{})}),s.jsx(jt,{path:"/admin/agencies",element:s.jsx(mye,{})}),s.jsx(jt,{path:"/admin/agencies/create",element:s.jsx(Tye,{})}),s.jsx(jt,{path:"/admin/agencies/edit/:id",element:s.jsx(_ye,{})}),s.jsx(jt,{path:"/admin/supervisors",element:s.jsx(yye,{})}),s.jsx(jt,{path:"/admin/supervisors/create",element:s.jsx(Pye,{})}),s.jsx(jt,{path:"/admin/supervisors/edit/:id",element:s.jsx(Rye,{})}),s.jsx(jt,{path:"/admin/orders",element:s.jsx(U5,{})}),s.jsx(jt,{path:"/admin/orders/create",element:s.jsx(Rbe,{})}),s.jsx(jt,{path:"/admin/orders/:id",element:s.jsx(lE,{})}),s.jsx(jt,{path:"/admin/orders/:id/edit",element:s.jsx(Mbe,{})}),s.jsx(jt,{path:"/admin/orders/:id/record-receipt",element:s.jsx(Xbe,{})})," ",s.jsx(jt,{path:"/admin/orders/:id/supervisor-quantity",element:s.jsx(Qbe,{})})," ",s.jsx(jt,{path:"/admin/purchases",element:s.jsx(o6e,{})}),s.jsx(jt,{path:"/admin/purchases/create",element:s.jsx(c6e,{})}),s.jsx(jt,{path:"/admin/purchases/edit/:id",element:s.jsx(d6e,{})}),s.jsx(jt,{path:"/admin/purchase-payments",element:s.jsx(p6e,{})}),s.jsx(jt,{path:"/admin/purchase-payments/create",element:s.jsx(y6e,{})}),s.jsx(jt,{path:"/admin/purchase-payments/:id",element:s.jsx(v6e,{})}),s.jsx(jt,{path:"/admin/products",element:s.jsx(Jbe,{})}),s.jsx(jt,{path:"/admin/wallet",element:s.jsx(pIe,{})}),s.jsx(jt,{path:"/admin/members",element:s.jsx(xIe,{})})," ",s.jsx(jt,{path:"/admin/members/:memberId/edit",element:s.jsx(iye,{})})," ",s.jsx(jt,{path:"/admin/products/create",element:s.jsx(oke,{})}),s.jsx(jt,{path:"/admin/products/edit/:id",element:s.jsx(lke,{})}),s.jsx(jt,{path:"/admin/products/:id",element:s.jsx(Zg,{})})," ",s.jsx(jt,{path:"/admin/subscriptions",element:s.jsx(Nke,{})}),s.jsx(jt,{path:"/depot-order-details",element:s.jsx(P6e,{})})," ",s.jsx(jt,{path:"/admin/delivery",element:s.jsx(mIe,{})})," ",s.jsx(jt,{path:"/admin/categories",element:s.jsx(CIe,{})})," ",s.jsx(jt,{path:"/admin/cities",element:s.jsx(kIe,{})}),s.jsx(jt,{path:"/admin/locations",element:s.jsx(LIe,{})}),s.jsx(jt,{path:"/admin/areamasters",element:s.jsx(yIe,{})})," ",s.jsx(jt,{path:"/admin/depots",element:s.jsx(UIe,{})})," ",s.jsx(jt,{path:"/admin/teams",element:s.jsx(ZIe,{})})," ",s.jsx(jt,{path:"/admin/banners",element:s.jsx(s6e,{})})," ",s.jsx(jt,{path:"/admin/depot-variants",element:s.jsx(KIe,{})})," ",s.jsx(jt,{path:"/admin/snf-orders",element:s.jsx(F6e,{})}),s.jsx(jt,{path:"/admin/snf-orders/:id",element:s.jsx(L6e,{})}),s.jsx(jt,{path:"/admin/reports/purchase-orders",element:s.jsx(B6e,{})})," ",s.jsx(jt,{path:"/admin/reports/delivery-agencies",element:s.jsx(T6e,{})})," ",s.jsx(jt,{path:"/admin/reports/delivery-summaries",element:s.jsx(k6e,{})})," ",s.jsx(jt,{path:"/admin/reports/subscriptions",element:s.jsx(O6e,{})})," "]}),s.jsxs(jt,{element:s.jsx(NR,{}),children:[s.jsx(jt,{path:"/vendor/orders/:id",element:s.jsx(lE,{})}),s.jsx(jt,{path:"/vendor/orders/:id/record-delivery",element:s.jsx(Ibe,{})})]}),s.jsxs(jt,{element:s.jsx($A,{}),children:[s.jsx(jt,{path:"/member/orders",element:s.jsx(U5,{})}),s.jsx(jt,{path:"/member/orders/:id",element:s.jsx(lE,{})}),s.jsx(jt,{path:"/member/products",element:s.jsx(fke,{})})," ",s.jsx(jt,{path:"/member/products/:id",element:s.jsx(Zg,{})})," ",s.jsx(jt,{path:"/member/addresses",element:s.jsx(mke,{})}),s.jsx(jt,{path:"/member/wallet",element:s.jsx(i6e,{})}),s.jsx(jt,{path:"/member/addresses/create",element:s.jsx(xke,{})}),s.jsx(jt,{path:"/member/addresses/edit/:id",element:s.jsx(gke,{})}),s.jsx(jt,{path:"/member/subscriptions",element:s.jsx(zbe,{})}),s.jsx(jt,{path:"/manage-subscription/:id",element:s.jsx(Kbe,{})})]})]})})]})},U6e=new nT;jK.createRoot(document.getElementById("root")).render(s.jsx(m.StrictMode,{children:s.jsx(qK,{client:U6e,children:s.jsx($6e,{})})}));export{GA as $,Ir as A,pe as B,vy as C,Ct as D,li as E,Fr as F,gT as G,pT as H,He as I,as as J,is as K,Mr as L,If as M,fs as N,hs as O,En as P,RH as Q,je as R,Q7 as S,Qs as T,Do as U,pa as V,MT as W,wt as X,qt as Y,Yt as Z,Ty as _,EQ as a,Xw as a0,uN as a1,Xe as a2,Th as a3,qs as a4,nde as a5,ade as a6,ri as a7,ide as a8,sc as a9,ai as aa,ibe as ab,EFe as ac,cbe as ad,dbe as ae,ube as af,fbe as ag,CFe as ah,AFe as ai,kFe as aj,cc as ak,dc as al,lh as am,uc as an,Ih as ao,Fh as ap,Lh as aq,q7 as ar,IA as as,mn as at,ude as au,Pw as av,Cr as b,Ga as c,yt as d,_t as e,Gt as f,Ea as g,rf as h,Nt as i,s as j,ji as k,al as l,xt as m,yn as n,Nr as o,Kr as p,Vr as q,m as r,Fn as s,ce as t,sa as u,Ot as v,Ya as w,th as x,si as y,ye as z};
