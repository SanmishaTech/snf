var UW=Object.defineProperty;var RD=e=>{throw TypeError(e)};var VW=(e,t,r)=>t in e?UW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var qW=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ot=(e,t,r)=>VW(e,typeof t!="symbol"?t+"":t,r),c2=(e,t,r)=>t.has(e)||RD("Cannot "+r);var Ne=(e,t,r)=>(c2(e,t,"read from private field"),r?r.call(e):t.get(e)),sr=(e,t,r)=>t.has(e)?RD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Pt=(e,t,r,n)=>(c2(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),br=(e,t,r)=>(c2(e,t,"access private method"),r);var Lv=(e,t,r,n)=>({set _(a){Pt(e,t,a,r)},get _(){return Ne(e,t,n)}});var aRe=qW(($i,Ui)=>{function zW(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d2={exports:{}},nx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PD;function HW(){if(PD)return nx;PD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:o,ref:a!==void 0?a:null,props:i}}return nx.Fragment=t,nx.jsx=r,nx.jsxs=r,nx}var MD;function WW(){return MD||(MD=1,d2.exports=HW()),d2.exports}var s=WW(),u2={exports:{}},yr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ID;function GW(){if(ID)return yr;ID=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function N(q,Q,P){this.props=q,this.context=Q,this.refs=b,this.updater=P||y}N.prototype.isReactComponent={},N.prototype.setState=function(q,Q){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Q,"setState")},N.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function j(){}j.prototype=N.prototype;function S(q,Q,P){this.props=q,this.context=Q,this.refs=b,this.updater=P||y}var A=S.prototype=new j;A.constructor=S,w(A,N.prototype),A.isPureReactComponent=!0;var _=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function T(q,Q,P,X,K,H){return P=H.ref,{$$typeof:e,type:q,key:Q,ref:P!==void 0?P:null,props:H}}function O(q,Q){return T(q.type,Q,void 0,void 0,void 0,q.props)}function R(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function L(q){var Q={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(P){return Q[P]})}var M=/\/+/g;function G(q,Q){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):Q.toString(36)}function V(){}function ie(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(V,V):(q.status="pending",q.then(function(Q){q.status==="pending"&&(q.status="fulfilled",q.value=Q)},function(Q){q.status==="pending"&&(q.status="rejected",q.reason=Q)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function le(q,Q,P,X,K){var H=typeof q;(H==="undefined"||H==="boolean")&&(q=null);var J=!1;if(q===null)J=!0;else switch(H){case"bigint":case"string":case"number":J=!0;break;case"object":switch(q.$$typeof){case e:case t:J=!0;break;case h:return J=q._init,le(J(q._payload),Q,P,X,K)}}if(J)return K=K(q),J=X===""?"."+G(q,0):X,_(K)?(P="",J!=null&&(P=J.replace(M,"$&/")+"/"),le(K,Q,P,"",function(ee){return ee})):K!=null&&(R(K)&&(K=O(K,P+(K.key==null||q&&q.key===K.key?"":(""+K.key).replace(M,"$&/")+"/")+J)),Q.push(K)),1;J=0;var ce=X===""?".":X+":";if(_(q))for(var ae=0;ae<q.length;ae++)X=q[ae],H=ce+G(X,ae),J+=le(X,Q,P,H,K);else if(ae=x(q),typeof ae=="function")for(q=ae.call(q),ae=0;!(X=q.next()).done;)X=X.value,H=ce+G(X,ae++),J+=le(X,Q,P,H,K);else if(H==="object"){if(typeof q.then=="function")return le(ie(q),Q,P,X,K);throw Q=String(q),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return J}function B(q,Q,P){if(q==null)return q;var X=[],K=0;return le(q,X,"","",function(H){return Q.call(P,H,K++)}),X}function U(q){if(q._status===-1){var Q=q._result;Q=Q(),Q.then(function(P){(q._status===0||q._status===-1)&&(q._status=1,q._result=P)},function(P){(q._status===0||q._status===-1)&&(q._status=2,q._result=P)}),q._status===-1&&(q._status=0,q._result=Q)}if(q._status===1)return q._result.default;throw q._result}var F=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function W(){}return yr.Children={map:B,forEach:function(q,Q,P){B(q,function(){Q.apply(this,arguments)},P)},count:function(q){var Q=0;return B(q,function(){Q++}),Q},toArray:function(q){return B(q,function(Q){return Q})||[]},only:function(q){if(!R(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},yr.Component=N,yr.Fragment=r,yr.Profiler=a,yr.PureComponent=S,yr.StrictMode=n,yr.Suspense=u,yr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,yr.__COMPILER_RUNTIME={__proto__:null,c:function(q){return C.H.useMemoCache(q)}},yr.cache=function(q){return function(){return q.apply(null,arguments)}},yr.cloneElement=function(q,Q,P){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var X=w({},q.props),K=q.key,H=void 0;if(Q!=null)for(J in Q.ref!==void 0&&(H=void 0),Q.key!==void 0&&(K=""+Q.key),Q)!k.call(Q,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&Q.ref===void 0||(X[J]=Q[J]);var J=arguments.length-2;if(J===1)X.children=P;else if(1<J){for(var ce=Array(J),ae=0;ae<J;ae++)ce[ae]=arguments[ae+2];X.children=ce}return T(q.type,K,void 0,void 0,H,X)},yr.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:i,_context:q},q},yr.createElement=function(q,Q,P){var X,K={},H=null;if(Q!=null)for(X in Q.key!==void 0&&(H=""+Q.key),Q)k.call(Q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(K[X]=Q[X]);var J=arguments.length-2;if(J===1)K.children=P;else if(1<J){for(var ce=Array(J),ae=0;ae<J;ae++)ce[ae]=arguments[ae+2];K.children=ce}if(q&&q.defaultProps)for(X in J=q.defaultProps,J)K[X]===void 0&&(K[X]=J[X]);return T(q,H,void 0,void 0,null,K)},yr.createRef=function(){return{current:null}},yr.forwardRef=function(q){return{$$typeof:l,render:q}},yr.isValidElement=R,yr.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:U}},yr.memo=function(q,Q){return{$$typeof:f,type:q,compare:Q===void 0?null:Q}},yr.startTransition=function(q){var Q=C.T,P={};C.T=P;try{var X=q(),K=C.S;K!==null&&K(P,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(W,F)}catch(H){F(H)}finally{C.T=Q}},yr.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},yr.use=function(q){return C.H.use(q)},yr.useActionState=function(q,Q,P){return C.H.useActionState(q,Q,P)},yr.useCallback=function(q,Q){return C.H.useCallback(q,Q)},yr.useContext=function(q){return C.H.useContext(q)},yr.useDebugValue=function(){},yr.useDeferredValue=function(q,Q){return C.H.useDeferredValue(q,Q)},yr.useEffect=function(q,Q,P){var X=C.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(q,Q)},yr.useId=function(){return C.H.useId()},yr.useImperativeHandle=function(q,Q,P){return C.H.useImperativeHandle(q,Q,P)},yr.useInsertionEffect=function(q,Q){return C.H.useInsertionEffect(q,Q)},yr.useLayoutEffect=function(q,Q){return C.H.useLayoutEffect(q,Q)},yr.useMemo=function(q,Q){return C.H.useMemo(q,Q)},yr.useOptimistic=function(q,Q){return C.H.useOptimistic(q,Q)},yr.useReducer=function(q,Q,P){return C.H.useReducer(q,Q,P)},yr.useRef=function(q){return C.H.useRef(q)},yr.useState=function(q){return C.H.useState(q)},yr.useSyncExternalStore=function(q,Q,P){return C.H.useSyncExternalStore(q,Q,P)},yr.useTransition=function(){return C.H.useTransition()},yr.version="19.1.0",yr}var FD;function Gb(){return FD||(FD=1,u2.exports=GW()),u2.exports}var g=Gb();const He=Wb(g),dC=zW({__proto__:null,default:He},[g]);var f2={exports:{}},ax={},h2={exports:{}},m2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LD;function YW(){return LD||(LD=1,function(e){function t(B,U){var F=B.length;B.push(U);e:for(;0<F;){var W=F-1>>>1,q=B[W];if(0<a(q,U))B[W]=U,B[F]=q,F=W;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var U=B[0],F=B.pop();if(F!==U){B[0]=F;e:for(var W=0,q=B.length,Q=q>>>1;W<Q;){var P=2*(W+1)-1,X=B[P],K=P+1,H=B[K];if(0>a(X,F))K<q&&0>a(H,X)?(B[W]=H,B[K]=F,W=K):(B[W]=X,B[P]=F,W=P);else if(K<q&&0>a(H,F))B[W]=H,B[K]=F,W=K;else break e}}return U}function a(B,U){var F=B.sortIndex-U.sortIndex;return F!==0?F:B.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,p=null,x=3,y=!1,w=!1,b=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function _(B){for(var U=r(f);U!==null;){if(U.callback===null)n(f);else if(U.startTime<=B)n(f),U.sortIndex=U.expirationTime,t(u,U);else break;U=r(f)}}function C(B){if(b=!1,_(B),!w)if(r(u)!==null)w=!0,k||(k=!0,G());else{var U=r(f);U!==null&&le(C,U.startTime-B)}}var k=!1,T=-1,O=5,R=-1;function L(){return N?!0:!(e.unstable_now()-R<O)}function M(){if(N=!1,k){var B=e.unstable_now();R=B;var U=!0;try{e:{w=!1,b&&(b=!1,S(T),T=-1),y=!0;var F=x;try{t:{for(_(B),p=r(u);p!==null&&!(p.expirationTime>B&&L());){var W=p.callback;if(typeof W=="function"){p.callback=null,x=p.priorityLevel;var q=W(p.expirationTime<=B);if(B=e.unstable_now(),typeof q=="function"){p.callback=q,_(B),U=!0;break t}p===r(u)&&n(u),_(B)}else n(u);p=r(u)}if(p!==null)U=!0;else{var Q=r(f);Q!==null&&le(C,Q.startTime-B),U=!1}}break e}finally{p=null,x=F,y=!1}U=void 0}}finally{U?G():k=!1}}}var G;if(typeof A=="function")G=function(){A(M)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ie=V.port2;V.port1.onmessage=M,G=function(){ie.postMessage(null)}}else G=function(){j(M,0)};function le(B,U){T=j(function(){B(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var F=x;x=U;try{return B()}finally{x=F}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var F=x;x=B;try{return U()}finally{x=F}},e.unstable_scheduleCallback=function(B,U,F){var W=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,B){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=F+q,B={id:h++,callback:U,priorityLevel:B,startTime:F,expirationTime:q,sortIndex:-1},F>W?(B.sortIndex=F,t(f,B),r(u)===null&&B===r(f)&&(b?(S(T),T=-1):b=!0,le(C,F-W))):(B.sortIndex=q,t(u,B),w||y||(w=!0,k||(k=!0,G()))),B},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(B){var U=x;return function(){var F=x;x=U;try{return B.apply(this,arguments)}finally{x=F}}}}(m2)),m2}var BD;function KW(){return BD||(BD=1,h2.exports=YW()),h2.exports}var p2={exports:{}},Sa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D;function QW(){if($D)return Sa;$D=1;var e=Gb();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Sa.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(u,f,null,h)},Sa.flushSync=function(u){var f=o.T,h=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=f,n.p=h,n.d.f()}},Sa.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Sa.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Sa.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:x,fetchPriority:y}):h==="script"&&n.d.X(u,{crossOrigin:p,integrity:x,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sa.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Sa.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);n.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sa.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Sa.requestFormReset=function(u){n.d.r(u)},Sa.unstable_batchedUpdates=function(u,f){return u(f)},Sa.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},Sa.useFormStatus=function(){return o.H.useHostTransitionStatus()},Sa.version="19.1.0",Sa}var UD;function X6(){if(UD)return p2.exports;UD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),p2.exports=QW(),p2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD;function XW(){if(VD)return ax;VD=1;var e=KW(),t=Gb(),r=X6();function n(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function o(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function l(c){if(i(c)!==c)throw Error(n(188))}function u(c){var d=c.alternate;if(!d){if(d=i(c),d===null)throw Error(n(188));return d!==c?null:c}for(var m=c,v=d;;){var E=m.return;if(E===null)break;var D=E.alternate;if(D===null){if(v=E.return,v!==null){m=v;continue}break}if(E.child===D.child){for(D=E.child;D;){if(D===m)return l(E),c;if(D===v)return l(E),d;D=D.sibling}throw Error(n(188))}if(m.return!==v.return)m=E,v=D;else{for(var z=!1,te=E.child;te;){if(te===m){z=!0,m=E,v=D;break}if(te===v){z=!0,v=E,m=D;break}te=te.sibling}if(!z){for(te=D.child;te;){if(te===m){z=!0,m=D,v=E;break}if(te===v){z=!0,v=D,m=E;break}te=te.sibling}if(!z)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?c:d}function f(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=f(c),d!==null)return d;c=c.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),A=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function G(c){return c===null||typeof c!="object"?null:(c=M&&c[M]||c["@@iterator"],typeof c=="function"?c:null)}var V=Symbol.for("react.client.reference");function ie(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===V?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case w:return"Fragment";case N:return"Profiler";case b:return"StrictMode";case C:return"Suspense";case k:return"SuspenseList";case R:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case A:return(c.displayName||"Context")+".Provider";case S:return(c._context.displayName||"Context")+".Consumer";case _:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case T:return d=c.displayName||null,d!==null?d:ie(c.type)||"Memo";case O:d=c._payload,c=c._init;try{return ie(c(d))}catch{}}return null}var le=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},W=[],q=-1;function Q(c){return{current:c}}function P(c){0>q||(c.current=W[q],W[q]=null,q--)}function X(c,d){q++,W[q]=c.current,c.current=d}var K=Q(null),H=Q(null),J=Q(null),ce=Q(null);function ae(c,d){switch(X(J,d),X(H,c),X(K,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?oD(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=oD(d),c=lD(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}P(K),X(K,c)}function ee(){P(K),P(H),P(J)}function ne(c){c.memoizedState!==null&&X(ce,c);var d=K.current,m=lD(d,c.type);d!==m&&(X(H,c),X(K,m))}function ke(c){H.current===c&&(P(K),P(H)),ce.current===c&&(P(ce),J0._currentValue=F)}var we=Object.prototype.hasOwnProperty,et=e.unstable_scheduleCallback,Ee=e.unstable_cancelCallback,Te=e.unstable_shouldYield,Fe=e.unstable_requestPaint,ue=e.unstable_now,Ce=e.unstable_getCurrentPriorityLevel,De=e.unstable_ImmediatePriority,Et=e.unstable_UserBlockingPriority,_t=e.unstable_NormalPriority,xe=e.unstable_LowPriority,Ae=e.unstable_IdlePriority,Ie=e.log,ft=e.unstable_setDisableYieldValue,ht=null,tt=null;function xt(c){if(typeof Ie=="function"&&ft(c),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(ht,c)}catch{}}var Vt=Math.clz32?Math.clz32:mt,ar=Math.log,Pr=Math.LN2;function mt(c){return c>>>=0,c===0?32:31-(ar(c)/Pr|0)|0}var ns=256,os=4194304;function Hr(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function ls(c,d,m){var v=c.pendingLanes;if(v===0)return 0;var E=0,D=c.suspendedLanes,z=c.pingedLanes;c=c.warmLanes;var te=v&134217727;return te!==0?(v=te&~D,v!==0?E=Hr(v):(z&=te,z!==0?E=Hr(z):m||(m=te&~c,m!==0&&(E=Hr(m))))):(te=v&~D,te!==0?E=Hr(te):z!==0?E=Hr(z):m||(m=v&~c,m!==0&&(E=Hr(m)))),E===0?0:d!==0&&d!==E&&(d&D)===0&&(D=E&-E,m=d&-d,D>=m||D===32&&(m&4194048)!==0)?d:E}function cs(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Us(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(){var c=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),c}function Dn(){var c=os;return os<<=1,(os&62914560)===0&&(os=4194304),c}function Vs(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function _e(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function wt(c,d,m,v,E,D){var z=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var te=c.entanglements,ye=c.expirationTimes,Be=c.hiddenUpdates;for(m=z&~m;0<m;){var rt=31-Vt(m),ot=1<<rt;te[rt]=0,ye[rt]=-1;var ze=Be[rt];if(ze!==null)for(Be[rt]=null,rt=0;rt<ze.length;rt++){var We=ze[rt];We!==null&&(We.lane&=-536870913)}m&=~ot}v!==0&&st(c,v,0),D!==0&&E===0&&c.tag!==0&&(c.suspendedLanes|=D&~(z&~d))}function st(c,d,m){c.pendingLanes|=d,c.suspendedLanes&=~d;var v=31-Vt(d);c.entangledLanes|=d,c.entanglements[v]=c.entanglements[v]|1073741824|m&4194090}function Nt(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var v=31-Vt(m),E=1<<v;E&d|c[v]&d&&(c[v]|=d),m&=~E}}function qt(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function mr(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Gs(){var c=U.p;return c!==0?c:(c=window.event,c===void 0?32:CD(c.type))}function Jr(c,d){var m=U.p;try{return U.p=c,d()}finally{U.p=m}}var Er=Math.random().toString(36).slice(2),ds="__reactFiber$"+Er,Mr="__reactProps$"+Er,Ts="__reactContainer$"+Er,Fa="__reactEvents$"+Er,wn="__reactListeners$"+Er,Z="__reactHandles$"+Er,fe="__reactResources$"+Er,oe="__reactMarker$"+Er;function se(c){delete c[ds],delete c[Mr],delete c[Fa],delete c[wn],delete c[Z]}function de(c){var d=c[ds];if(d)return d;for(var m=c.parentNode;m;){if(d=m[Ts]||m[ds]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=fD(c);c!==null;){if(m=c[ds])return m;c=fD(c)}return d}c=m,m=c.parentNode}return null}function me(c){if(c=c[ds]||c[Ts]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function Pe(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(n(33))}function Ke(c){var d=c[fe];return d||(d=c[fe]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Oe(c){c[oe]=!0}var $e=new Set,Ve={};function Y(c,d){ge(c,d),ge(c+"Capture",d)}function ge(c,d){for(Ve[c]=d,c=0;c<d.length;c++)$e.add(d[c])}var be=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Me={},qe={};function lt(c){return we.call(qe,c)?!0:we.call(Me,c)?!1:be.test(c)?qe[c]=!0:(Me[c]=!0,!1)}function Rt(c,d,m){if(lt(d))if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var v=d.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+m)}}function zt(c,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+m)}}function hr(c,d,m,v){if(v===null)c.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(d,m,""+v)}}var Ss,vr;function as(c){if(Ss===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);Ss=d&&d[1]||"",vr=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+c+vr}var Nn=!1;function ji(c,d){if(!c||Nn)return"";Nn=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(d){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(We){var ze=We}Reflect.construct(c,[],ot)}else{try{ot.call()}catch(We){ze=We}c.call(ot.prototype)}}else{try{throw Error()}catch(We){ze=We}(ot=c())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(We){if(We&&ze&&typeof We.stack=="string")return[We.stack,ze.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=v.DetermineComponentFrameRoot(),z=D[0],te=D[1];if(z&&te){var ye=z.split(`
`),Be=te.split(`
`);for(E=v=0;v<ye.length&&!ye[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Be.length&&!Be[E].includes("DetermineComponentFrameRoot");)E++;if(v===ye.length||E===Be.length)for(v=ye.length-1,E=Be.length-1;1<=v&&0<=E&&ye[v]!==Be[E];)E--;for(;1<=v&&0<=E;v--,E--)if(ye[v]!==Be[E]){if(v!==1||E!==1)do if(v--,E--,0>E||ye[v]!==Be[E]){var rt=`
`+ye[v].replace(" at new "," at ");return c.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",c.displayName)),rt}while(1<=v&&0<=E);break}}}finally{Nn=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?as(m):""}function La(c){switch(c.tag){case 26:case 27:case 5:return as(c.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return ji(c.type,!1);case 11:return ji(c.type.render,!1);case 1:return ji(c.type,!0);case 31:return as("Activity");default:return""}}function Rh(c){try{var d="";do d+=La(c),c=c.return;while(c);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function ba(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ec(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Yu(c){var d=ec(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),v=""+c[d];if(!c.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,D=m.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return E.call(this)},set:function(z){v=""+z,D.call(this,z)}}),Object.defineProperty(c,d,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(z){v=""+z},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Qi(c){c._valueTracker||(c._valueTracker=Yu(c))}function Ku(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return c&&(v=ec(c)?c.checked?"true":"false":c.value),c=v,c!==m?(d.setValue(c),!0):!1}function tc(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var h0=/[\n"\\]/g;function wa(c){return c.replace(h0,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Qu(c,d,m,v,E,D,z,te){c.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?c.type=z:c.removeAttribute("type"),d!=null?z==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+ba(d)):c.value!==""+ba(d)&&(c.value=""+ba(d)):z!=="submit"&&z!=="reset"||c.removeAttribute("value"),d!=null?rc(c,z,ba(d)):m!=null?rc(c,z,ba(m)):v!=null&&c.removeAttribute("value"),E==null&&D!=null&&(c.defaultChecked=!!D),E!=null&&(c.checked=E&&typeof E!="function"&&typeof E!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?c.name=""+ba(te):c.removeAttribute("name")}function Ph(c,d,m,v,E,D,z,te){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(c.type=D),d!=null||m!=null){if(!(D!=="submit"&&D!=="reset"||d!=null))return;m=m!=null?""+ba(m):"",d=d!=null?""+ba(d):m,te||d===c.value||(c.value=d),c.defaultValue=d}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,c.checked=te?c.checked:!!v,c.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(c.name=z)}function rc(c,d,m){d==="number"&&tc(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function xl(c,d,m,v){if(c=c.options,d){d={};for(var E=0;E<m.length;E++)d["$"+m[E]]=!0;for(m=0;m<c.length;m++)E=d.hasOwnProperty("$"+c[m].value),c[m].selected!==E&&(c[m].selected=E),E&&v&&(c[m].defaultSelected=!0)}else{for(m=""+ba(m),d=null,E=0;E<c.length;E++){if(c[E].value===m){c[E].selected=!0,v&&(c[E].defaultSelected=!0);return}d!==null||c[E].disabled||(d=c[E])}d!==null&&(d.selected=!0)}}function Mh(c,d,m){if(d!=null&&(d=""+ba(d),d!==c.value&&(c.value=d),m==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=m!=null?""+ba(m):""}function gl(c,d,m,v){if(d==null){if(v!=null){if(m!=null)throw Error(n(92));if(le(v)){if(1<v.length)throw Error(n(93));v=v[0]}m=v}m==null&&(m=""),d=m}m=ba(d),c.defaultValue=m,v=c.textContent,v===m&&v!==""&&v!==null&&(c.value=v)}function Bn(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var _o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xi(c,d,m){var v=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":v?c.setProperty(d,m):typeof m!="number"||m===0||_o.has(d)?d==="float"?c.cssFloat=m:c[d]=(""+m).trim():c[d]=m+"px"}function Ih(c,d,m){if(d!=null&&typeof d!="object")throw Error(n(62));if(c=c.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||d!=null&&d.hasOwnProperty(v)||(v.indexOf("--")===0?c.setProperty(v,""):v==="float"?c.cssFloat="":c[v]="");for(var E in d)v=d[E],d.hasOwnProperty(E)&&m[E]!==v&&Xi(c,E,v)}else for(var D in d)d.hasOwnProperty(D)&&Xi(c,D,d[D])}function si(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),p0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ld(c){return p0.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var Xu=null;function cd(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var rn=null,ko=null;function Zu(c){var d=me(c);if(d&&(c=d.stateNode)){var m=c[Mr]||null;e:switch(c=d.stateNode,d.type){case"input":if(Qu(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+wa(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==c&&v.form===c.form){var E=v[Mr]||null;if(!E)throw Error(n(90));Qu(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(d=0;d<m.length;d++)v=m[d],v.form===c.form&&Ku(v)}break e;case"textarea":Mh(c,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&xl(c,!!m.multiple,d,!1)}}}var yl=!1;function dd(c,d,m){if(yl)return c(d,m);yl=!0;try{var v=c(d);return v}finally{if(yl=!1,(rn!==null||ko!==null)&&(gv(),rn&&(d=rn,c=ko,ko=rn=null,Zu(d),c)))for(d=0;d<c.length;d++)Zu(c[d])}}function Zi(c,d){var m=c.stateNode;if(m===null)return null;var v=m[Mr]||null;if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ud=!1;if(Si)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){ud=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{ud=!1}var Ei=null,ni=null,sc=null;function fd(){if(sc)return sc;var c,d=ni,m=d.length,v,E="value"in Ei?Ei.value:Ei.textContent,D=E.length;for(c=0;c<m&&d[c]===E[c];c++);var z=m-c;for(v=1;v<=z&&d[m-v]===E[D-v];v++);return sc=E.slice(c,1<v?1-v:void 0)}function hd(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function md(){return!0}function I(){return!1}function re(c){function d(m,v,E,D,z){this._reactName=m,this._targetInst=E,this.type=v,this.nativeEvent=D,this.target=z,this.currentTarget=null;for(var te in c)c.hasOwnProperty(te)&&(m=c[te],this[te]=m?m(D):D[te]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?md:I,this.isPropagationStopped=I,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=md)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=md)},persist:function(){},isPersistent:md}),d}var ve={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xe=re(ve),or=h({},ve,{view:0,detail:0}),Jt=re(or),Ir,_r,_s,Lr=h({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gN,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==_s&&(_s&&c.type==="mousemove"?(Ir=c.screenX-_s.screenX,_r=c.screenY-_s.screenY):_r=Ir=0,_s=c),Ir)},movementY:function(c){return"movementY"in c?c.movementY:_r}}),On=re(Lr),Na=h({},Lr,{dataTransfer:0}),fn=re(Na),$n=h({},or,{relatedTarget:0}),hn=re($n),vl=h({},ve,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=re(vl),nc=h({},ve,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Fy=re(nc),Fh=h({},ve,{data:0}),Ju=re(Fh),Qz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jz(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Zz[c])?!!d[c]:!1}function gN(){return Jz}var eH=h({},or,{key:function(c){if(c.key){var d=Qz[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=hd(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Xz[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gN,charCode:function(c){return c.type==="keypress"?hd(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?hd(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),tH=re(eH),rH=h({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p_=re(rH),sH=h({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gN}),nH=re(sH),aH=h({},ve,{propertyName:0,elapsedTime:0,pseudoElement:0}),iH=re(aH),oH=h({},Lr,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),lH=re(oH),cH=h({},ve,{newState:0,oldState:0}),dH=re(cH),uH=[9,13,27,32],yN=Si&&"CompositionEvent"in window,x0=null;Si&&"documentMode"in document&&(x0=document.documentMode);var fH=Si&&"TextEvent"in window&&!x0,x_=Si&&(!yN||x0&&8<x0&&11>=x0),g_=" ",y_=!1;function v_(c,d){switch(c){case"keyup":return uH.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b_(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Lh=!1;function hH(c,d){switch(c){case"compositionend":return b_(d);case"keypress":return d.which!==32?null:(y_=!0,g_);case"textInput":return c=d.data,c===g_&&y_?null:c;default:return null}}function mH(c,d){if(Lh)return c==="compositionend"||!yN&&v_(c,d)?(c=fd(),sc=ni=Ei=null,Lh=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return x_&&d.locale!=="ko"?null:d.data;default:return null}}var pH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w_(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!pH[c.type]:d==="textarea"}function N_(c,d,m,v){rn?ko?ko.push(v):ko=[v]:rn=v,d=jv(d,"onChange"),0<d.length&&(m=new Xe("onChange","change",null,m,v),c.push({event:m,listeners:d}))}var g0=null,y0=null;function xH(c){rD(c,0)}function Ly(c){var d=Pe(c);if(Ku(d))return c}function j_(c,d){if(c==="change")return d}var S_=!1;if(Si){var vN;if(Si){var bN="oninput"in document;if(!bN){var E_=document.createElement("div");E_.setAttribute("oninput","return;"),bN=typeof E_.oninput=="function"}vN=bN}else vN=!1;S_=vN&&(!document.documentMode||9<document.documentMode)}function A_(){g0&&(g0.detachEvent("onpropertychange",C_),y0=g0=null)}function C_(c){if(c.propertyName==="value"&&Ly(y0)){var d=[];N_(d,y0,c,cd(c)),dd(xH,d)}}function gH(c,d,m){c==="focusin"?(A_(),g0=d,y0=m,g0.attachEvent("onpropertychange",C_)):c==="focusout"&&A_()}function yH(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Ly(y0)}function vH(c,d){if(c==="click")return Ly(d)}function bH(c,d){if(c==="input"||c==="change")return Ly(d)}function wH(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Ai=typeof Object.is=="function"?Object.is:wH;function v0(c,d){if(Ai(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var E=m[v];if(!we.call(d,E)||!Ai(c[E],d[E]))return!1}return!0}function T_(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function __(c,d){var m=T_(c);c=0;for(var v;m;){if(m.nodeType===3){if(v=c+m.textContent.length,c<=d&&v>=d)return{node:m,offset:d-c};c=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=T_(m)}}function k_(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?k_(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function D_(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=tc(c.document);d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=tc(c.document)}return d}function wN(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var NH=Si&&"documentMode"in document&&11>=document.documentMode,Bh=null,NN=null,b0=null,jN=!1;function O_(c,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;jN||Bh==null||Bh!==tc(v)||(v=Bh,"selectionStart"in v&&wN(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),b0&&v0(b0,v)||(b0=v,v=jv(NN,"onSelect"),0<v.length&&(d=new Xe("onSelect","select",null,d,m),c.push({event:d,listeners:v}),d.target=Bh)))}function ef(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var $h={animationend:ef("Animation","AnimationEnd"),animationiteration:ef("Animation","AnimationIteration"),animationstart:ef("Animation","AnimationStart"),transitionrun:ef("Transition","TransitionRun"),transitionstart:ef("Transition","TransitionStart"),transitioncancel:ef("Transition","TransitionCancel"),transitionend:ef("Transition","TransitionEnd")},SN={},R_={};Si&&(R_=document.createElement("div").style,"AnimationEvent"in window||(delete $h.animationend.animation,delete $h.animationiteration.animation,delete $h.animationstart.animation),"TransitionEvent"in window||delete $h.transitionend.transition);function tf(c){if(SN[c])return SN[c];if(!$h[c])return c;var d=$h[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in R_)return SN[c]=d[m];return c}var P_=tf("animationend"),M_=tf("animationiteration"),I_=tf("animationstart"),jH=tf("transitionrun"),SH=tf("transitionstart"),EH=tf("transitioncancel"),F_=tf("transitionend"),L_=new Map,EN="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");EN.push("scrollEnd");function Ro(c,d){L_.set(c,d),Y(d,[c])}var B_=new WeakMap;function Ji(c,d){if(typeof c=="object"&&c!==null){var m=B_.get(c);return m!==void 0?m:(d={value:c,source:d,stack:Rh(d)},B_.set(c,d),d)}return{value:c,source:d,stack:Rh(d)}}var eo=[],Uh=0,AN=0;function By(){for(var c=Uh,d=AN=Uh=0;d<c;){var m=eo[d];eo[d++]=null;var v=eo[d];eo[d++]=null;var E=eo[d];eo[d++]=null;var D=eo[d];if(eo[d++]=null,v!==null&&E!==null){var z=v.pending;z===null?E.next=E:(E.next=z.next,z.next=E),v.pending=E}D!==0&&$_(m,E,D)}}function $y(c,d,m,v){eo[Uh++]=c,eo[Uh++]=d,eo[Uh++]=m,eo[Uh++]=v,AN|=v,c.lanes|=v,c=c.alternate,c!==null&&(c.lanes|=v)}function CN(c,d,m,v){return $y(c,d,m,v),Uy(c)}function Vh(c,d){return $y(c,null,null,d),Uy(c)}function $_(c,d,m){c.lanes|=m;var v=c.alternate;v!==null&&(v.lanes|=m);for(var E=!1,D=c.return;D!==null;)D.childLanes|=m,v=D.alternate,v!==null&&(v.childLanes|=m),D.tag===22&&(c=D.stateNode,c===null||c._visibility&1||(E=!0)),c=D,D=D.return;return c.tag===3?(D=c.stateNode,E&&d!==null&&(E=31-Vt(m),c=D.hiddenUpdates,v=c[E],v===null?c[E]=[d]:v.push(d),d.lane=m|536870912),D):null}function Uy(c){if(50<H0)throw H0=0,Rj=null,Error(n(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var qh={};function AH(c,d,m,v){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(c,d,m,v){return new AH(c,d,m,v)}function TN(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ac(c,d){var m=c.alternate;return m===null?(m=Ci(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function U_(c,d){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,d=m.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Vy(c,d,m,v,E,D){var z=0;if(v=c,typeof c=="function")TN(c)&&(z=1);else if(typeof c=="string")z=TW(c,m,K.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case R:return c=Ci(31,m,d,E),c.elementType=R,c.lanes=D,c;case w:return rf(m.children,E,D,d);case b:z=8,E|=24;break;case N:return c=Ci(12,m,d,E|2),c.elementType=N,c.lanes=D,c;case C:return c=Ci(13,m,d,E),c.elementType=C,c.lanes=D,c;case k:return c=Ci(19,m,d,E),c.elementType=k,c.lanes=D,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:case A:z=10;break e;case S:z=9;break e;case _:z=11;break e;case T:z=14;break e;case O:z=16,v=null;break e}z=29,m=Error(n(130,c===null?"null":typeof c,"")),v=null}return d=Ci(z,m,d,E),d.elementType=c,d.type=v,d.lanes=D,d}function rf(c,d,m,v){return c=Ci(7,c,v,d),c.lanes=m,c}function _N(c,d,m){return c=Ci(6,c,null,d),c.lanes=m,c}function kN(c,d,m){return d=Ci(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var zh=[],Hh=0,qy=null,zy=0,to=[],ro=0,sf=null,ic=1,oc="";function nf(c,d){zh[Hh++]=zy,zh[Hh++]=qy,qy=c,zy=d}function V_(c,d,m){to[ro++]=ic,to[ro++]=oc,to[ro++]=sf,sf=c;var v=ic;c=oc;var E=32-Vt(v)-1;v&=~(1<<E),m+=1;var D=32-Vt(d)+E;if(30<D){var z=E-E%5;D=(v&(1<<z)-1).toString(32),v>>=z,E-=z,ic=1<<32-Vt(d)+E|m<<E|v,oc=D+c}else ic=1<<D|m<<E|v,oc=c}function DN(c){c.return!==null&&(nf(c,1),V_(c,1,0))}function ON(c){for(;c===qy;)qy=zh[--Hh],zh[Hh]=null,zy=zh[--Hh],zh[Hh]=null;for(;c===sf;)sf=to[--ro],to[ro]=null,oc=to[--ro],to[ro]=null,ic=to[--ro],to[ro]=null}var Ba=null,sn=null,es=!1,af=null,bl=!1,RN=Error(n(519));function of(c){var d=Error(n(418,""));throw j0(Ji(d,c)),RN}function q_(c){var d=c.stateNode,m=c.type,v=c.memoizedProps;switch(d[ds]=c,d[Mr]=v,m){case"dialog":Dr("cancel",d),Dr("close",d);break;case"iframe":case"object":case"embed":Dr("load",d);break;case"video":case"audio":for(m=0;m<G0.length;m++)Dr(G0[m],d);break;case"source":Dr("error",d);break;case"img":case"image":case"link":Dr("error",d),Dr("load",d);break;case"details":Dr("toggle",d);break;case"input":Dr("invalid",d),Ph(d,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Qi(d);break;case"select":Dr("invalid",d);break;case"textarea":Dr("invalid",d),gl(d,v.value,v.defaultValue,v.children),Qi(d)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||v.suppressHydrationWarning===!0||iD(d.textContent,m)?(v.popover!=null&&(Dr("beforetoggle",d),Dr("toggle",d)),v.onScroll!=null&&Dr("scroll",d),v.onScrollEnd!=null&&Dr("scrollend",d),v.onClick!=null&&(d.onclick=Sv),d=!0):d=!1,d||of(c)}function z_(c){for(Ba=c.return;Ba;)switch(Ba.tag){case 5:case 13:bl=!1;return;case 27:case 3:bl=!0;return;default:Ba=Ba.return}}function w0(c){if(c!==Ba)return!1;if(!es)return z_(c),es=!0,!1;var d=c.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||Kj(c.type,c.memoizedProps)),m=!m),m&&sn&&of(c),z_(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(m=c.data,m==="/$"){if(d===0){sn=Mo(c.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;c=c.nextSibling}sn=null}}else d===27?(d=sn,kd(c.type)?(c=Jj,Jj=null,sn=c):sn=d):sn=Ba?Mo(c.stateNode.nextSibling):null;return!0}function N0(){sn=Ba=null,es=!1}function H_(){var c=af;return c!==null&&(oi===null?oi=c:oi.push.apply(oi,c),af=null),c}function j0(c){af===null?af=[c]:af.push(c)}var PN=Q(null),lf=null,lc=null;function pd(c,d,m){X(PN,d._currentValue),d._currentValue=m}function cc(c){c._currentValue=PN.current,P(PN)}function MN(c,d,m){for(;c!==null;){var v=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),c===m)break;c=c.return}}function IN(c,d,m,v){var E=c.child;for(E!==null&&(E.return=c);E!==null;){var D=E.dependencies;if(D!==null){var z=E.child;D=D.firstContext;e:for(;D!==null;){var te=D;D=E;for(var ye=0;ye<d.length;ye++)if(te.context===d[ye]){D.lanes|=m,te=D.alternate,te!==null&&(te.lanes|=m),MN(D.return,m,c),v||(z=null);break e}D=te.next}}else if(E.tag===18){if(z=E.return,z===null)throw Error(n(341));z.lanes|=m,D=z.alternate,D!==null&&(D.lanes|=m),MN(z,m,c),z=null}else z=E.child;if(z!==null)z.return=E;else for(z=E;z!==null;){if(z===c){z=null;break}if(E=z.sibling,E!==null){E.return=z.return,z=E;break}z=z.return}E=z}}function S0(c,d,m,v){c=null;for(var E=d,D=!1;E!==null;){if(!D){if((E.flags&524288)!==0)D=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var z=E.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var te=E.type;Ai(E.pendingProps.value,z.value)||(c!==null?c.push(te):c=[te])}}else if(E===ce.current){if(z=E.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(c!==null?c.push(J0):c=[J0])}E=E.return}c!==null&&IN(d,c,m,v),d.flags|=262144}function Hy(c){for(c=c.firstContext;c!==null;){if(!Ai(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function cf(c){lf=c,lc=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function ja(c){return W_(lf,c)}function Wy(c,d){return lf===null&&cf(c),W_(c,d)}function W_(c,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},lc===null){if(c===null)throw Error(n(308));lc=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else lc=lc.next=d;return m}var CH=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(m,v){c.push(v)}};this.abort=function(){d.aborted=!0,c.forEach(function(m){return m()})}},TH=e.unstable_scheduleCallback,_H=e.unstable_NormalPriority,Rn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function FN(){return{controller:new CH,data:new Map,refCount:0}}function E0(c){c.refCount--,c.refCount===0&&TH(_H,function(){c.controller.abort()})}var A0=null,LN=0,Wh=0,Gh=null;function kH(c,d){if(A0===null){var m=A0=[];LN=0,Wh=$j(),Gh={status:"pending",value:void 0,then:function(v){m.push(v)}}}return LN++,d.then(G_,G_),d}function G_(){if(--LN===0&&A0!==null){Gh!==null&&(Gh.status="fulfilled");var c=A0;A0=null,Wh=0,Gh=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function DH(c,d){var m=[],v={status:"pending",value:null,reason:null,then:function(E){m.push(E)}};return c.then(function(){v.status="fulfilled",v.value=d;for(var E=0;E<m.length;E++)(0,m[E])(d)},function(E){for(v.status="rejected",v.reason=E,E=0;E<m.length;E++)(0,m[E])(void 0)}),v}var Y_=B.S;B.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&kH(c,d),Y_!==null&&Y_(c,d)};var df=Q(null);function BN(){var c=df.current;return c!==null?c:ks.pooledCache}function Gy(c,d){d===null?X(df,df.current):X(df,d.pool)}function K_(){var c=BN();return c===null?null:{parent:Rn._currentValue,pool:c}}var C0=Error(n(460)),Q_=Error(n(474)),Yy=Error(n(542)),$N={then:function(){}};function X_(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Ky(){}function Z_(c,d,m){switch(m=c[m],m===void 0?c.push(d):m!==d&&(d.then(Ky,Ky),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ek(c),c;default:if(typeof d.status=="string")d.then(Ky,Ky);else{if(c=ks,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=d,c.status="pending",c.then(function(v){if(d.status==="pending"){var E=d;E.status="fulfilled",E.value=v}},function(v){if(d.status==="pending"){var E=d;E.status="rejected",E.reason=v}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ek(c),c}throw T0=d,C0}}var T0=null;function J_(){if(T0===null)throw Error(n(459));var c=T0;return T0=null,c}function ek(c){if(c===C0||c===Yy)throw Error(n(483))}var xd=!1;function UN(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function VN(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function gd(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function yd(c,d,m){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,(us&2)!==0){var E=v.pending;return E===null?d.next=d:(d.next=E.next,E.next=d),v.pending=d,d=Uy(c),$_(c,null,m),d}return $y(c,v,d,m),Uy(c)}function _0(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var v=d.lanes;v&=c.pendingLanes,m|=v,d.lanes=m,Nt(c,m)}}function qN(c,d){var m=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var E=null,D=null;if(m=m.firstBaseUpdate,m!==null){do{var z={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};D===null?E=D=z:D=D.next=z,m=m.next}while(m!==null);D===null?E=D=d:D=D.next=d}else E=D=d;m={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:D,shared:v.shared,callbacks:v.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}var zN=!1;function k0(){if(zN){var c=Gh;if(c!==null)throw c}}function D0(c,d,m,v){zN=!1;var E=c.updateQueue;xd=!1;var D=E.firstBaseUpdate,z=E.lastBaseUpdate,te=E.shared.pending;if(te!==null){E.shared.pending=null;var ye=te,Be=ye.next;ye.next=null,z===null?D=Be:z.next=Be,z=ye;var rt=c.alternate;rt!==null&&(rt=rt.updateQueue,te=rt.lastBaseUpdate,te!==z&&(te===null?rt.firstBaseUpdate=Be:te.next=Be,rt.lastBaseUpdate=ye))}if(D!==null){var ot=E.baseState;z=0,rt=Be=ye=null,te=D;do{var ze=te.lane&-536870913,We=ze!==te.lane;if(We?(qr&ze)===ze:(v&ze)===ze){ze!==0&&ze===Wh&&(zN=!0),rt!==null&&(rt=rt.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var cr=c,nr=te;ze=d;var Ns=m;switch(nr.tag){case 1:if(cr=nr.payload,typeof cr=="function"){ot=cr.call(Ns,ot,ze);break e}ot=cr;break e;case 3:cr.flags=cr.flags&-65537|128;case 0:if(cr=nr.payload,ze=typeof cr=="function"?cr.call(Ns,ot,ze):cr,ze==null)break e;ot=h({},ot,ze);break e;case 2:xd=!0}}ze=te.callback,ze!==null&&(c.flags|=64,We&&(c.flags|=8192),We=E.callbacks,We===null?E.callbacks=[ze]:We.push(ze))}else We={lane:ze,tag:te.tag,payload:te.payload,callback:te.callback,next:null},rt===null?(Be=rt=We,ye=ot):rt=rt.next=We,z|=ze;if(te=te.next,te===null){if(te=E.shared.pending,te===null)break;We=te,te=We.next,We.next=null,E.lastBaseUpdate=We,E.shared.pending=null}}while(!0);rt===null&&(ye=ot),E.baseState=ye,E.firstBaseUpdate=Be,E.lastBaseUpdate=rt,D===null&&(E.shared.lanes=0),Ad|=z,c.lanes=z,c.memoizedState=ot}}function tk(c,d){if(typeof c!="function")throw Error(n(191,c));c.call(d)}function rk(c,d){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)tk(m[c],d)}var Yh=Q(null),Qy=Q(0);function sk(c,d){c=xc,X(Qy,c),X(Yh,d),xc=c|d.baseLanes}function HN(){X(Qy,xc),X(Yh,Yh.current)}function WN(){xc=Qy.current,P(Yh),P(Qy)}var vd=0,Ar=null,bs=null,jn=null,Xy=!1,Kh=!1,uf=!1,Zy=0,O0=0,Qh=null,OH=0;function mn(){throw Error(n(321))}function GN(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!Ai(c[m],d[m]))return!1;return!0}function YN(c,d,m,v,E,D){return vd=D,Ar=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,B.H=c===null||c.memoizedState===null?$k:Uk,uf=!1,D=m(v,E),uf=!1,Kh&&(D=ak(d,m,v,E)),nk(c),D}function nk(c){B.H=nv;var d=bs!==null&&bs.next!==null;if(vd=0,jn=bs=Ar=null,Xy=!1,O0=0,Qh=null,d)throw Error(n(300));c===null||Un||(c=c.dependencies,c!==null&&Hy(c)&&(Un=!0))}function ak(c,d,m,v){Ar=c;var E=0;do{if(Kh&&(Qh=null),O0=0,Kh=!1,25<=E)throw Error(n(301));if(E+=1,jn=bs=null,c.updateQueue!=null){var D=c.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}B.H=BH,D=d(m,v)}while(Kh);return D}function RH(){var c=B.H,d=c.useState()[0];return d=typeof d.then=="function"?R0(d):d,c=c.useState()[0],(bs!==null?bs.memoizedState:null)!==c&&(Ar.flags|=1024),d}function KN(){var c=Zy!==0;return Zy=0,c}function QN(c,d,m){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~m}function XN(c){if(Xy){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Xy=!1}vd=0,jn=bs=Ar=null,Kh=!1,O0=Zy=0,Qh=null}function ai(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Ar.memoizedState=jn=c:jn=jn.next=c,jn}function Sn(){if(bs===null){var c=Ar.alternate;c=c!==null?c.memoizedState:null}else c=bs.next;var d=jn===null?Ar.memoizedState:jn.next;if(d!==null)jn=d,bs=c;else{if(c===null)throw Ar.alternate===null?Error(n(467)):Error(n(310));bs=c,c={memoizedState:bs.memoizedState,baseState:bs.baseState,baseQueue:bs.baseQueue,queue:bs.queue,next:null},jn===null?Ar.memoizedState=jn=c:jn=jn.next=c}return jn}function ZN(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function R0(c){var d=O0;return O0+=1,Qh===null&&(Qh=[]),c=Z_(Qh,c,d),d=Ar,(jn===null?d.memoizedState:jn.next)===null&&(d=d.alternate,B.H=d===null||d.memoizedState===null?$k:Uk),c}function Jy(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return R0(c);if(c.$$typeof===A)return ja(c)}throw Error(n(438,String(c)))}function JN(c){var d=null,m=Ar.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var v=Ar.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(d={data:v.data.map(function(E){return E.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=ZN(),Ar.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(c),v=0;v<c;v++)m[v]=L;return d.index++,m}function dc(c,d){return typeof d=="function"?d(c):d}function ev(c){var d=Sn();return ej(d,bs,c)}function ej(c,d,m){var v=c.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=m;var E=c.baseQueue,D=v.pending;if(D!==null){if(E!==null){var z=E.next;E.next=D.next,D.next=z}d.baseQueue=E=D,v.pending=null}if(D=c.baseState,E===null)c.memoizedState=D;else{d=E.next;var te=z=null,ye=null,Be=d,rt=!1;do{var ot=Be.lane&-536870913;if(ot!==Be.lane?(qr&ot)===ot:(vd&ot)===ot){var ze=Be.revertLane;if(ze===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),ot===Wh&&(rt=!0);else if((vd&ze)===ze){Be=Be.next,ze===Wh&&(rt=!0);continue}else ot={lane:0,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},ye===null?(te=ye=ot,z=D):ye=ye.next=ot,Ar.lanes|=ze,Ad|=ze;ot=Be.action,uf&&m(D,ot),D=Be.hasEagerState?Be.eagerState:m(D,ot)}else ze={lane:ot,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},ye===null?(te=ye=ze,z=D):ye=ye.next=ze,Ar.lanes|=ot,Ad|=ot;Be=Be.next}while(Be!==null&&Be!==d);if(ye===null?z=D:ye.next=te,!Ai(D,c.memoizedState)&&(Un=!0,rt&&(m=Gh,m!==null)))throw m;c.memoizedState=D,c.baseState=z,c.baseQueue=ye,v.lastRenderedState=D}return E===null&&(v.lanes=0),[c.memoizedState,v.dispatch]}function tj(c){var d=Sn(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var v=m.dispatch,E=m.pending,D=d.memoizedState;if(E!==null){m.pending=null;var z=E=E.next;do D=c(D,z.action),z=z.next;while(z!==E);Ai(D,d.memoizedState)||(Un=!0),d.memoizedState=D,d.baseQueue===null&&(d.baseState=D),m.lastRenderedState=D}return[D,v]}function ik(c,d,m){var v=Ar,E=Sn(),D=es;if(D){if(m===void 0)throw Error(n(407));m=m()}else m=d();var z=!Ai((bs||E).memoizedState,m);z&&(E.memoizedState=m,Un=!0),E=E.queue;var te=ck.bind(null,v,E,c);if(P0(2048,8,te,[c]),E.getSnapshot!==d||z||jn!==null&&jn.memoizedState.tag&1){if(v.flags|=2048,Xh(9,tv(),lk.bind(null,v,E,m,d),null),ks===null)throw Error(n(349));D||(vd&124)!==0||ok(v,d,m)}return m}function ok(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=Ar.updateQueue,d===null?(d=ZN(),Ar.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function lk(c,d,m,v){d.value=m,d.getSnapshot=v,dk(d)&&uk(c)}function ck(c,d,m){return m(function(){dk(d)&&uk(c)})}function dk(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!Ai(c,m)}catch{return!0}}function uk(c){var d=Vh(c,2);d!==null&&Oi(d,c,2)}function rj(c){var d=ai();if(typeof c=="function"){var m=c;if(c=m(),uf){xt(!0);try{m()}finally{xt(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:c},d}function fk(c,d,m,v){return c.baseState=m,ej(c,bs,typeof v=="function"?v:dc)}function PH(c,d,m,v,E){if(sv(c))throw Error(n(485));if(c=d.action,c!==null){var D={payload:E,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){D.listeners.push(z)}};B.T!==null?m(!0):D.isTransition=!1,v(D),m=d.pending,m===null?(D.next=d.pending=D,hk(d,D)):(D.next=m.next,d.pending=m.next=D)}}function hk(c,d){var m=d.action,v=d.payload,E=c.state;if(d.isTransition){var D=B.T,z={};B.T=z;try{var te=m(E,v),ye=B.S;ye!==null&&ye(z,te),mk(c,d,te)}catch(Be){sj(c,d,Be)}finally{B.T=D}}else try{D=m(E,v),mk(c,d,D)}catch(Be){sj(c,d,Be)}}function mk(c,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){pk(c,d,v)},function(v){return sj(c,d,v)}):pk(c,d,m)}function pk(c,d,m){d.status="fulfilled",d.value=m,xk(d),c.state=m,d=c.pending,d!==null&&(m=d.next,m===d?c.pending=null:(m=m.next,d.next=m,hk(c,m)))}function sj(c,d,m){var v=c.pending;if(c.pending=null,v!==null){v=v.next;do d.status="rejected",d.reason=m,xk(d),d=d.next;while(d!==v)}c.action=null}function xk(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function gk(c,d){return d}function yk(c,d){if(es){var m=ks.formState;if(m!==null){e:{var v=Ar;if(es){if(sn){t:{for(var E=sn,D=bl;E.nodeType!==8;){if(!D){E=null;break t}if(E=Mo(E.nextSibling),E===null){E=null;break t}}D=E.data,E=D==="F!"||D==="F"?E:null}if(E){sn=Mo(E.nextSibling),v=E.data==="F!";break e}}of(v)}v=!1}v&&(d=m[0])}}return m=ai(),m.memoizedState=m.baseState=d,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gk,lastRenderedState:d},m.queue=v,m=Fk.bind(null,Ar,v),v.dispatch=m,v=rj(!1),D=lj.bind(null,Ar,!1,v.queue),v=ai(),E={state:d,dispatch:null,action:c,pending:null},v.queue=E,m=PH.bind(null,Ar,E,D,m),E.dispatch=m,v.memoizedState=c,[d,m,!1]}function vk(c){var d=Sn();return bk(d,bs,c)}function bk(c,d,m){if(d=ej(c,d,gk)[0],c=ev(dc)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var v=R0(d)}catch(z){throw z===C0?Yy:z}else v=d;d=Sn();var E=d.queue,D=E.dispatch;return m!==d.memoizedState&&(Ar.flags|=2048,Xh(9,tv(),MH.bind(null,E,m),null)),[v,D,c]}function MH(c,d){c.action=d}function wk(c){var d=Sn(),m=bs;if(m!==null)return bk(d,m,c);Sn(),d=d.memoizedState,m=Sn();var v=m.queue.dispatch;return m.memoizedState=c,[d,v,!1]}function Xh(c,d,m,v){return c={tag:c,create:m,deps:v,inst:d,next:null},d=Ar.updateQueue,d===null&&(d=ZN(),Ar.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=c.next=c:(v=m.next,m.next=c,c.next=v,d.lastEffect=c),c}function tv(){return{destroy:void 0,resource:void 0}}function Nk(){return Sn().memoizedState}function rv(c,d,m,v){var E=ai();v=v===void 0?null:v,Ar.flags|=c,E.memoizedState=Xh(1|d,tv(),m,v)}function P0(c,d,m,v){var E=Sn();v=v===void 0?null:v;var D=E.memoizedState.inst;bs!==null&&v!==null&&GN(v,bs.memoizedState.deps)?E.memoizedState=Xh(d,D,m,v):(Ar.flags|=c,E.memoizedState=Xh(1|d,D,m,v))}function jk(c,d){rv(8390656,8,c,d)}function Sk(c,d){P0(2048,8,c,d)}function Ek(c,d){return P0(4,2,c,d)}function Ak(c,d){return P0(4,4,c,d)}function Ck(c,d){if(typeof d=="function"){c=c();var m=d(c);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function Tk(c,d,m){m=m!=null?m.concat([c]):null,P0(4,4,Ck.bind(null,d,c),m)}function nj(){}function _k(c,d){var m=Sn();d=d===void 0?null:d;var v=m.memoizedState;return d!==null&&GN(d,v[1])?v[0]:(m.memoizedState=[c,d],c)}function kk(c,d){var m=Sn();d=d===void 0?null:d;var v=m.memoizedState;if(d!==null&&GN(d,v[1]))return v[0];if(v=c(),uf){xt(!0);try{c()}finally{xt(!1)}}return m.memoizedState=[v,d],v}function aj(c,d,m){return m===void 0||(vd&1073741824)!==0?c.memoizedState=d:(c.memoizedState=m,c=R3(),Ar.lanes|=c,Ad|=c,m)}function Dk(c,d,m,v){return Ai(m,d)?m:Yh.current!==null?(c=aj(c,m,v),Ai(c,d)||(Un=!0),c):(vd&42)===0?(Un=!0,c.memoizedState=m):(c=R3(),Ar.lanes|=c,Ad|=c,d)}function Ok(c,d,m,v,E){var D=U.p;U.p=D!==0&&8>D?D:8;var z=B.T,te={};B.T=te,lj(c,!1,d,m);try{var ye=E(),Be=B.S;if(Be!==null&&Be(te,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var rt=DH(ye,v);M0(c,d,rt,Di(c))}else M0(c,d,v,Di(c))}catch(ot){M0(c,d,{then:function(){},status:"rejected",reason:ot},Di())}finally{U.p=D,B.T=z}}function IH(){}function ij(c,d,m,v){if(c.tag!==5)throw Error(n(476));var E=Rk(c).queue;Ok(c,E,d,F,m===null?IH:function(){return Pk(c),m(v)})}function Rk(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:F},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:m},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function Pk(c){var d=Rk(c).next.queue;M0(c,d,{},Di())}function oj(){return ja(J0)}function Mk(){return Sn().memoizedState}function Ik(){return Sn().memoizedState}function FH(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var m=Di();c=gd(m);var v=yd(d,c,m);v!==null&&(Oi(v,d,m),_0(v,d,m)),d={cache:FN()},c.payload=d;return}d=d.return}}function LH(c,d,m){var v=Di();m={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},sv(c)?Lk(d,m):(m=CN(c,d,m,v),m!==null&&(Oi(m,c,v),Bk(m,d,v)))}function Fk(c,d,m){var v=Di();M0(c,d,m,v)}function M0(c,d,m,v){var E={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(sv(c))Lk(d,E);else{var D=c.alternate;if(c.lanes===0&&(D===null||D.lanes===0)&&(D=d.lastRenderedReducer,D!==null))try{var z=d.lastRenderedState,te=D(z,m);if(E.hasEagerState=!0,E.eagerState=te,Ai(te,z))return $y(c,d,E,0),ks===null&&By(),!1}catch{}finally{}if(m=CN(c,d,E,v),m!==null)return Oi(m,c,v),Bk(m,d,v),!0}return!1}function lj(c,d,m,v){if(v={lane:2,revertLane:$j(),action:v,hasEagerState:!1,eagerState:null,next:null},sv(c)){if(d)throw Error(n(479))}else d=CN(c,m,v,2),d!==null&&Oi(d,c,2)}function sv(c){var d=c.alternate;return c===Ar||d!==null&&d===Ar}function Lk(c,d){Kh=Xy=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function Bk(c,d,m){if((m&4194048)!==0){var v=d.lanes;v&=c.pendingLanes,m|=v,d.lanes=m,Nt(c,m)}}var nv={readContext:ja,use:Jy,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn},$k={readContext:ja,use:Jy,useCallback:function(c,d){return ai().memoizedState=[c,d===void 0?null:d],c},useContext:ja,useEffect:jk,useImperativeHandle:function(c,d,m){m=m!=null?m.concat([c]):null,rv(4194308,4,Ck.bind(null,d,c),m)},useLayoutEffect:function(c,d){return rv(4194308,4,c,d)},useInsertionEffect:function(c,d){rv(4,2,c,d)},useMemo:function(c,d){var m=ai();d=d===void 0?null:d;var v=c();if(uf){xt(!0);try{c()}finally{xt(!1)}}return m.memoizedState=[v,d],v},useReducer:function(c,d,m){var v=ai();if(m!==void 0){var E=m(d);if(uf){xt(!0);try{m(d)}finally{xt(!1)}}}else E=d;return v.memoizedState=v.baseState=E,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:E},v.queue=c,c=c.dispatch=LH.bind(null,Ar,c),[v.memoizedState,c]},useRef:function(c){var d=ai();return c={current:c},d.memoizedState=c},useState:function(c){c=rj(c);var d=c.queue,m=Fk.bind(null,Ar,d);return d.dispatch=m,[c.memoizedState,m]},useDebugValue:nj,useDeferredValue:function(c,d){var m=ai();return aj(m,c,d)},useTransition:function(){var c=rj(!1);return c=Ok.bind(null,Ar,c.queue,!0,!1),ai().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,m){var v=Ar,E=ai();if(es){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),ks===null)throw Error(n(349));(qr&124)!==0||ok(v,d,m)}E.memoizedState=m;var D={value:m,getSnapshot:d};return E.queue=D,jk(ck.bind(null,v,D,c),[c]),v.flags|=2048,Xh(9,tv(),lk.bind(null,v,D,m,d),null),m},useId:function(){var c=ai(),d=ks.identifierPrefix;if(es){var m=oc,v=ic;m=(v&~(1<<32-Vt(v)-1)).toString(32)+m,d=""+d+"R"+m,m=Zy++,0<m&&(d+="H"+m.toString(32)),d+=""}else m=OH++,d=""+d+"r"+m.toString(32)+"";return c.memoizedState=d},useHostTransitionStatus:oj,useFormState:yk,useActionState:yk,useOptimistic:function(c){var d=ai();d.memoizedState=d.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=lj.bind(null,Ar,!0,m),m.dispatch=d,[c,d]},useMemoCache:JN,useCacheRefresh:function(){return ai().memoizedState=FH.bind(null,Ar)}},Uk={readContext:ja,use:Jy,useCallback:_k,useContext:ja,useEffect:Sk,useImperativeHandle:Tk,useInsertionEffect:Ek,useLayoutEffect:Ak,useMemo:kk,useReducer:ev,useRef:Nk,useState:function(){return ev(dc)},useDebugValue:nj,useDeferredValue:function(c,d){var m=Sn();return Dk(m,bs.memoizedState,c,d)},useTransition:function(){var c=ev(dc)[0],d=Sn().memoizedState;return[typeof c=="boolean"?c:R0(c),d]},useSyncExternalStore:ik,useId:Mk,useHostTransitionStatus:oj,useFormState:vk,useActionState:vk,useOptimistic:function(c,d){var m=Sn();return fk(m,bs,c,d)},useMemoCache:JN,useCacheRefresh:Ik},BH={readContext:ja,use:Jy,useCallback:_k,useContext:ja,useEffect:Sk,useImperativeHandle:Tk,useInsertionEffect:Ek,useLayoutEffect:Ak,useMemo:kk,useReducer:tj,useRef:Nk,useState:function(){return tj(dc)},useDebugValue:nj,useDeferredValue:function(c,d){var m=Sn();return bs===null?aj(m,c,d):Dk(m,bs.memoizedState,c,d)},useTransition:function(){var c=tj(dc)[0],d=Sn().memoizedState;return[typeof c=="boolean"?c:R0(c),d]},useSyncExternalStore:ik,useId:Mk,useHostTransitionStatus:oj,useFormState:wk,useActionState:wk,useOptimistic:function(c,d){var m=Sn();return bs!==null?fk(m,bs,c,d):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:JN,useCacheRefresh:Ik},Zh=null,I0=0;function av(c){var d=I0;return I0+=1,Zh===null&&(Zh=[]),Z_(Zh,c,d)}function F0(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function iv(c,d){throw d.$$typeof===p?Error(n(525)):(c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function Vk(c){var d=c._init;return d(c._payload)}function qk(c){function d(Re,Se){if(c){var Le=Re.deletions;Le===null?(Re.deletions=[Se],Re.flags|=16):Le.push(Se)}}function m(Re,Se){if(!c)return null;for(;Se!==null;)d(Re,Se),Se=Se.sibling;return null}function v(Re){for(var Se=new Map;Re!==null;)Re.key!==null?Se.set(Re.key,Re):Se.set(Re.index,Re),Re=Re.sibling;return Se}function E(Re,Se){return Re=ac(Re,Se),Re.index=0,Re.sibling=null,Re}function D(Re,Se,Le){return Re.index=Le,c?(Le=Re.alternate,Le!==null?(Le=Le.index,Le<Se?(Re.flags|=67108866,Se):Le):(Re.flags|=67108866,Se)):(Re.flags|=1048576,Se)}function z(Re){return c&&Re.alternate===null&&(Re.flags|=67108866),Re}function te(Re,Se,Le,nt){return Se===null||Se.tag!==6?(Se=_N(Le,Re.mode,nt),Se.return=Re,Se):(Se=E(Se,Le),Se.return=Re,Se)}function ye(Re,Se,Le,nt){var Bt=Le.type;return Bt===w?rt(Re,Se,Le.props.children,nt,Le.key):Se!==null&&(Se.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===O&&Vk(Bt)===Se.type)?(Se=E(Se,Le.props),F0(Se,Le),Se.return=Re,Se):(Se=Vy(Le.type,Le.key,Le.props,null,Re.mode,nt),F0(Se,Le),Se.return=Re,Se)}function Be(Re,Se,Le,nt){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Le.containerInfo||Se.stateNode.implementation!==Le.implementation?(Se=kN(Le,Re.mode,nt),Se.return=Re,Se):(Se=E(Se,Le.children||[]),Se.return=Re,Se)}function rt(Re,Se,Le,nt,Bt){return Se===null||Se.tag!==7?(Se=rf(Le,Re.mode,nt,Bt),Se.return=Re,Se):(Se=E(Se,Le),Se.return=Re,Se)}function ot(Re,Se,Le){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=_N(""+Se,Re.mode,Le),Se.return=Re,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case x:return Le=Vy(Se.type,Se.key,Se.props,null,Re.mode,Le),F0(Le,Se),Le.return=Re,Le;case y:return Se=kN(Se,Re.mode,Le),Se.return=Re,Se;case O:var nt=Se._init;return Se=nt(Se._payload),ot(Re,Se,Le)}if(le(Se)||G(Se))return Se=rf(Se,Re.mode,Le,null),Se.return=Re,Se;if(typeof Se.then=="function")return ot(Re,av(Se),Le);if(Se.$$typeof===A)return ot(Re,Wy(Re,Se),Le);iv(Re,Se)}return null}function ze(Re,Se,Le,nt){var Bt=Se!==null?Se.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Bt!==null?null:te(Re,Se,""+Le,nt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case x:return Le.key===Bt?ye(Re,Se,Le,nt):null;case y:return Le.key===Bt?Be(Re,Se,Le,nt):null;case O:return Bt=Le._init,Le=Bt(Le._payload),ze(Re,Se,Le,nt)}if(le(Le)||G(Le))return Bt!==null?null:rt(Re,Se,Le,nt,null);if(typeof Le.then=="function")return ze(Re,Se,av(Le),nt);if(Le.$$typeof===A)return ze(Re,Se,Wy(Re,Le),nt);iv(Re,Le)}return null}function We(Re,Se,Le,nt,Bt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Re=Re.get(Le)||null,te(Se,Re,""+nt,Bt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case x:return Re=Re.get(nt.key===null?Le:nt.key)||null,ye(Se,Re,nt,Bt);case y:return Re=Re.get(nt.key===null?Le:nt.key)||null,Be(Se,Re,nt,Bt);case O:var Tr=nt._init;return nt=Tr(nt._payload),We(Re,Se,Le,nt,Bt)}if(le(nt)||G(nt))return Re=Re.get(Le)||null,rt(Se,Re,nt,Bt,null);if(typeof nt.then=="function")return We(Re,Se,Le,av(nt),Bt);if(nt.$$typeof===A)return We(Re,Se,Le,Wy(Se,nt),Bt);iv(Se,nt)}return null}function cr(Re,Se,Le,nt){for(var Bt=null,Tr=null,er=Se,ir=Se=0,qn=null;er!==null&&ir<Le.length;ir++){er.index>ir?(qn=er,er=null):qn=er.sibling;var Yr=ze(Re,er,Le[ir],nt);if(Yr===null){er===null&&(er=qn);break}c&&er&&Yr.alternate===null&&d(Re,er),Se=D(Yr,Se,ir),Tr===null?Bt=Yr:Tr.sibling=Yr,Tr=Yr,er=qn}if(ir===Le.length)return m(Re,er),es&&nf(Re,ir),Bt;if(er===null){for(;ir<Le.length;ir++)er=ot(Re,Le[ir],nt),er!==null&&(Se=D(er,Se,ir),Tr===null?Bt=er:Tr.sibling=er,Tr=er);return es&&nf(Re,ir),Bt}for(er=v(er);ir<Le.length;ir++)qn=We(er,Re,ir,Le[ir],nt),qn!==null&&(c&&qn.alternate!==null&&er.delete(qn.key===null?ir:qn.key),Se=D(qn,Se,ir),Tr===null?Bt=qn:Tr.sibling=qn,Tr=qn);return c&&er.forEach(function(Md){return d(Re,Md)}),es&&nf(Re,ir),Bt}function nr(Re,Se,Le,nt){if(Le==null)throw Error(n(151));for(var Bt=null,Tr=null,er=Se,ir=Se=0,qn=null,Yr=Le.next();er!==null&&!Yr.done;ir++,Yr=Le.next()){er.index>ir?(qn=er,er=null):qn=er.sibling;var Md=ze(Re,er,Yr.value,nt);if(Md===null){er===null&&(er=qn);break}c&&er&&Md.alternate===null&&d(Re,er),Se=D(Md,Se,ir),Tr===null?Bt=Md:Tr.sibling=Md,Tr=Md,er=qn}if(Yr.done)return m(Re,er),es&&nf(Re,ir),Bt;if(er===null){for(;!Yr.done;ir++,Yr=Le.next())Yr=ot(Re,Yr.value,nt),Yr!==null&&(Se=D(Yr,Se,ir),Tr===null?Bt=Yr:Tr.sibling=Yr,Tr=Yr);return es&&nf(Re,ir),Bt}for(er=v(er);!Yr.done;ir++,Yr=Le.next())Yr=We(er,Re,ir,Yr.value,nt),Yr!==null&&(c&&Yr.alternate!==null&&er.delete(Yr.key===null?ir:Yr.key),Se=D(Yr,Se,ir),Tr===null?Bt=Yr:Tr.sibling=Yr,Tr=Yr);return c&&er.forEach(function($W){return d(Re,$W)}),es&&nf(Re,ir),Bt}function Ns(Re,Se,Le,nt){if(typeof Le=="object"&&Le!==null&&Le.type===w&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case x:e:{for(var Bt=Le.key;Se!==null;){if(Se.key===Bt){if(Bt=Le.type,Bt===w){if(Se.tag===7){m(Re,Se.sibling),nt=E(Se,Le.props.children),nt.return=Re,Re=nt;break e}}else if(Se.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===O&&Vk(Bt)===Se.type){m(Re,Se.sibling),nt=E(Se,Le.props),F0(nt,Le),nt.return=Re,Re=nt;break e}m(Re,Se);break}else d(Re,Se);Se=Se.sibling}Le.type===w?(nt=rf(Le.props.children,Re.mode,nt,Le.key),nt.return=Re,Re=nt):(nt=Vy(Le.type,Le.key,Le.props,null,Re.mode,nt),F0(nt,Le),nt.return=Re,Re=nt)}return z(Re);case y:e:{for(Bt=Le.key;Se!==null;){if(Se.key===Bt)if(Se.tag===4&&Se.stateNode.containerInfo===Le.containerInfo&&Se.stateNode.implementation===Le.implementation){m(Re,Se.sibling),nt=E(Se,Le.children||[]),nt.return=Re,Re=nt;break e}else{m(Re,Se);break}else d(Re,Se);Se=Se.sibling}nt=kN(Le,Re.mode,nt),nt.return=Re,Re=nt}return z(Re);case O:return Bt=Le._init,Le=Bt(Le._payload),Ns(Re,Se,Le,nt)}if(le(Le))return cr(Re,Se,Le,nt);if(G(Le)){if(Bt=G(Le),typeof Bt!="function")throw Error(n(150));return Le=Bt.call(Le),nr(Re,Se,Le,nt)}if(typeof Le.then=="function")return Ns(Re,Se,av(Le),nt);if(Le.$$typeof===A)return Ns(Re,Se,Wy(Re,Le),nt);iv(Re,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,Se!==null&&Se.tag===6?(m(Re,Se.sibling),nt=E(Se,Le),nt.return=Re,Re=nt):(m(Re,Se),nt=_N(Le,Re.mode,nt),nt.return=Re,Re=nt),z(Re)):m(Re,Se)}return function(Re,Se,Le,nt){try{I0=0;var Bt=Ns(Re,Se,Le,nt);return Zh=null,Bt}catch(er){if(er===C0||er===Yy)throw er;var Tr=Ci(29,er,null,Re.mode);return Tr.lanes=nt,Tr.return=Re,Tr}finally{}}}var Jh=qk(!0),zk=qk(!1),so=Q(null),wl=null;function bd(c){var d=c.alternate;X(Pn,Pn.current&1),X(so,c),wl===null&&(d===null||Yh.current!==null||d.memoizedState!==null)&&(wl=c)}function Hk(c){if(c.tag===22){if(X(Pn,Pn.current),X(so,c),wl===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(wl=c)}}else wd()}function wd(){X(Pn,Pn.current),X(so,so.current)}function uc(c){P(so),wl===c&&(wl=null),P(Pn)}var Pn=Q(0);function ov(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||Zj(m)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function cj(c,d,m,v){d=c.memoizedState,m=m(v,d),m=m==null?d:h({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var dj={enqueueSetState:function(c,d,m){c=c._reactInternals;var v=Di(),E=gd(v);E.payload=d,m!=null&&(E.callback=m),d=yd(c,E,v),d!==null&&(Oi(d,c,v),_0(d,c,v))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var v=Di(),E=gd(v);E.tag=1,E.payload=d,m!=null&&(E.callback=m),d=yd(c,E,v),d!==null&&(Oi(d,c,v),_0(d,c,v))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=Di(),v=gd(m);v.tag=2,d!=null&&(v.callback=d),d=yd(c,v,m),d!==null&&(Oi(d,c,m),_0(d,c,m))}};function Wk(c,d,m,v,E,D,z){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,D,z):d.prototype&&d.prototype.isPureReactComponent?!v0(m,v)||!v0(E,D):!0}function Gk(c,d,m,v){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==c&&dj.enqueueReplaceState(d,d.state,null)}function ff(c,d){var m=d;if("ref"in d){m={};for(var v in d)v!=="ref"&&(m[v]=d[v])}if(c=c.defaultProps){m===d&&(m=h({},m));for(var E in c)m[E]===void 0&&(m[E]=c[E])}return m}var lv=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function Yk(c){lv(c)}function Kk(c){console.error(c)}function Qk(c){lv(c)}function cv(c,d){try{var m=c.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(v){setTimeout(function(){throw v})}}function Xk(c,d,m){try{var v=c.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function uj(c,d,m){return m=gd(m),m.tag=3,m.payload={element:null},m.callback=function(){cv(c,d)},m}function Zk(c){return c=gd(c),c.tag=3,c}function Jk(c,d,m,v){var E=m.type.getDerivedStateFromError;if(typeof E=="function"){var D=v.value;c.payload=function(){return E(D)},c.callback=function(){Xk(d,m,v)}}var z=m.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(c.callback=function(){Xk(d,m,v),typeof E!="function"&&(Cd===null?Cd=new Set([this]):Cd.add(this));var te=v.stack;this.componentDidCatch(v.value,{componentStack:te!==null?te:""})})}function $H(c,d,m,v,E){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(d=m.alternate,d!==null&&S0(d,m,E,!0),m=so.current,m!==null){switch(m.tag){case 13:return wl===null?Mj():m.alternate===null&&nn===0&&(nn=3),m.flags&=-257,m.flags|=65536,m.lanes=E,v===$N?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([v]):d.add(v),Fj(c,v,E)),!1;case 22:return m.flags|=65536,v===$N?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([v]):m.add(v)),Fj(c,v,E)),!1}throw Error(n(435,m.tag))}return Fj(c,v,E),Mj(),!1}if(es)return d=so.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=E,v!==RN&&(c=Error(n(422),{cause:v}),j0(Ji(c,m)))):(v!==RN&&(d=Error(n(423),{cause:v}),j0(Ji(d,m))),c=c.current.alternate,c.flags|=65536,E&=-E,c.lanes|=E,v=Ji(v,m),E=uj(c.stateNode,v,E),qN(c,E),nn!==4&&(nn=2)),!1;var D=Error(n(520),{cause:v});if(D=Ji(D,m),z0===null?z0=[D]:z0.push(D),nn!==4&&(nn=2),d===null)return!0;v=Ji(v,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,c=E&-E,m.lanes|=c,c=uj(m.stateNode,v,c),qN(m,c),!1;case 1:if(d=m.type,D=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Cd===null||!Cd.has(D))))return m.flags|=65536,E&=-E,m.lanes|=E,E=Zk(E),Jk(E,c,m,v),qN(m,E),!1}m=m.return}while(m!==null);return!1}var e3=Error(n(461)),Un=!1;function Zn(c,d,m,v){d.child=c===null?zk(d,null,m,v):Jh(d,c.child,m,v)}function t3(c,d,m,v,E){m=m.render;var D=d.ref;if("ref"in v){var z={};for(var te in v)te!=="ref"&&(z[te]=v[te])}else z=v;return cf(d),v=YN(c,d,m,z,D,E),te=KN(),c!==null&&!Un?(QN(c,d,E),fc(c,d,E)):(es&&te&&DN(d),d.flags|=1,Zn(c,d,v,E),d.child)}function r3(c,d,m,v,E){if(c===null){var D=m.type;return typeof D=="function"&&!TN(D)&&D.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=D,s3(c,d,D,v,E)):(c=Vy(m.type,null,v,d,d.mode,E),c.ref=d.ref,c.return=d,d.child=c)}if(D=c.child,!vj(c,E)){var z=D.memoizedProps;if(m=m.compare,m=m!==null?m:v0,m(z,v)&&c.ref===d.ref)return fc(c,d,E)}return d.flags|=1,c=ac(D,v),c.ref=d.ref,c.return=d,d.child=c}function s3(c,d,m,v,E){if(c!==null){var D=c.memoizedProps;if(v0(D,v)&&c.ref===d.ref)if(Un=!1,d.pendingProps=v=D,vj(c,E))(c.flags&131072)!==0&&(Un=!0);else return d.lanes=c.lanes,fc(c,d,E)}return fj(c,d,m,v,E)}function n3(c,d,m){var v=d.pendingProps,E=v.children,D=c!==null?c.memoizedState:null;if(v.mode==="hidden"){if((d.flags&128)!==0){if(v=D!==null?D.baseLanes|m:m,c!==null){for(E=d.child=c.child,D=0;E!==null;)D=D|E.lanes|E.childLanes,E=E.sibling;d.childLanes=D&~v}else d.childLanes=0,d.child=null;return a3(c,d,v,m)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&Gy(d,D!==null?D.cachePool:null),D!==null?sk(d,D):HN(),Hk(d);else return d.lanes=d.childLanes=536870912,a3(c,d,D!==null?D.baseLanes|m:m,m)}else D!==null?(Gy(d,D.cachePool),sk(d,D),wd(),d.memoizedState=null):(c!==null&&Gy(d,null),HN(),wd());return Zn(c,d,E,m),d.child}function a3(c,d,m,v){var E=BN();return E=E===null?null:{parent:Rn._currentValue,pool:E},d.memoizedState={baseLanes:m,cachePool:E},c!==null&&Gy(d,null),HN(),Hk(d),c!==null&&S0(c,d,v,!0),null}function dv(c,d){var m=d.ref;if(m===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(c===null||c.ref!==m)&&(d.flags|=4194816)}}function fj(c,d,m,v,E){return cf(d),m=YN(c,d,m,v,void 0,E),v=KN(),c!==null&&!Un?(QN(c,d,E),fc(c,d,E)):(es&&v&&DN(d),d.flags|=1,Zn(c,d,m,E),d.child)}function i3(c,d,m,v,E,D){return cf(d),d.updateQueue=null,m=ak(d,v,m,E),nk(c),v=KN(),c!==null&&!Un?(QN(c,d,D),fc(c,d,D)):(es&&v&&DN(d),d.flags|=1,Zn(c,d,m,D),d.child)}function o3(c,d,m,v,E){if(cf(d),d.stateNode===null){var D=qh,z=m.contextType;typeof z=="object"&&z!==null&&(D=ja(z)),D=new m(v,D),d.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=dj,d.stateNode=D,D._reactInternals=d,D=d.stateNode,D.props=v,D.state=d.memoizedState,D.refs={},UN(d),z=m.contextType,D.context=typeof z=="object"&&z!==null?ja(z):qh,D.state=d.memoizedState,z=m.getDerivedStateFromProps,typeof z=="function"&&(cj(d,m,z,v),D.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(z=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),z!==D.state&&dj.enqueueReplaceState(D,D.state,null),D0(d,v,D,E),k0(),D.state=d.memoizedState),typeof D.componentDidMount=="function"&&(d.flags|=4194308),v=!0}else if(c===null){D=d.stateNode;var te=d.memoizedProps,ye=ff(m,te);D.props=ye;var Be=D.context,rt=m.contextType;z=qh,typeof rt=="object"&&rt!==null&&(z=ja(rt));var ot=m.getDerivedStateFromProps;rt=typeof ot=="function"||typeof D.getSnapshotBeforeUpdate=="function",te=d.pendingProps!==te,rt||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(te||Be!==z)&&Gk(d,D,v,z),xd=!1;var ze=d.memoizedState;D.state=ze,D0(d,v,D,E),k0(),Be=d.memoizedState,te||ze!==Be||xd?(typeof ot=="function"&&(cj(d,m,ot,v),Be=d.memoizedState),(ye=xd||Wk(d,m,ye,v,ze,Be,z))?(rt||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(d.flags|=4194308)):(typeof D.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=Be),D.props=v,D.state=Be,D.context=z,v=ye):(typeof D.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{D=d.stateNode,VN(c,d),z=d.memoizedProps,rt=ff(m,z),D.props=rt,ot=d.pendingProps,ze=D.context,Be=m.contextType,ye=qh,typeof Be=="object"&&Be!==null&&(ye=ja(Be)),te=m.getDerivedStateFromProps,(Be=typeof te=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==ot||ze!==ye)&&Gk(d,D,v,ye),xd=!1,ze=d.memoizedState,D.state=ze,D0(d,v,D,E),k0();var We=d.memoizedState;z!==ot||ze!==We||xd||c!==null&&c.dependencies!==null&&Hy(c.dependencies)?(typeof te=="function"&&(cj(d,m,te,v),We=d.memoizedState),(rt=xd||Wk(d,m,rt,v,ze,We,ye)||c!==null&&c.dependencies!==null&&Hy(c.dependencies))?(Be||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,We,ye),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,We,ye)),typeof D.componentDidUpdate=="function"&&(d.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof D.componentDidUpdate!="function"||z===c.memoizedProps&&ze===c.memoizedState||(d.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===c.memoizedProps&&ze===c.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=We),D.props=v,D.state=We,D.context=ye,v=rt):(typeof D.componentDidUpdate!="function"||z===c.memoizedProps&&ze===c.memoizedState||(d.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===c.memoizedProps&&ze===c.memoizedState||(d.flags|=1024),v=!1)}return D=v,dv(c,d),v=(d.flags&128)!==0,D||v?(D=d.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:D.render(),d.flags|=1,c!==null&&v?(d.child=Jh(d,c.child,null,E),d.child=Jh(d,null,m,E)):Zn(c,d,m,E),d.memoizedState=D.state,c=d.child):c=fc(c,d,E),c}function l3(c,d,m,v){return N0(),d.flags|=256,Zn(c,d,m,v),d.child}var hj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mj(c){return{baseLanes:c,cachePool:K_()}}function pj(c,d,m){return c=c!==null?c.childLanes&~m:0,d&&(c|=no),c}function c3(c,d,m){var v=d.pendingProps,E=!1,D=(d.flags&128)!==0,z;if((z=D)||(z=c!==null&&c.memoizedState===null?!1:(Pn.current&2)!==0),z&&(E=!0,d.flags&=-129),z=(d.flags&32)!==0,d.flags&=-33,c===null){if(es){if(E?bd(d):wd(),es){var te=sn,ye;if(ye=te){e:{for(ye=te,te=bl;ye.nodeType!==8;){if(!te){te=null;break e}if(ye=Mo(ye.nextSibling),ye===null){te=null;break e}}te=ye}te!==null?(d.memoizedState={dehydrated:te,treeContext:sf!==null?{id:ic,overflow:oc}:null,retryLane:536870912,hydrationErrors:null},ye=Ci(18,null,null,0),ye.stateNode=te,ye.return=d,d.child=ye,Ba=d,sn=null,ye=!0):ye=!1}ye||of(d)}if(te=d.memoizedState,te!==null&&(te=te.dehydrated,te!==null))return Zj(te)?d.lanes=32:d.lanes=536870912,null;uc(d)}return te=v.children,v=v.fallback,E?(wd(),E=d.mode,te=uv({mode:"hidden",children:te},E),v=rf(v,E,m,null),te.return=d,v.return=d,te.sibling=v,d.child=te,E=d.child,E.memoizedState=mj(m),E.childLanes=pj(c,z,m),d.memoizedState=hj,v):(bd(d),xj(d,te))}if(ye=c.memoizedState,ye!==null&&(te=ye.dehydrated,te!==null)){if(D)d.flags&256?(bd(d),d.flags&=-257,d=gj(c,d,m)):d.memoizedState!==null?(wd(),d.child=c.child,d.flags|=128,d=null):(wd(),E=v.fallback,te=d.mode,v=uv({mode:"visible",children:v.children},te),E=rf(E,te,m,null),E.flags|=2,v.return=d,E.return=d,v.sibling=E,d.child=v,Jh(d,c.child,null,m),v=d.child,v.memoizedState=mj(m),v.childLanes=pj(c,z,m),d.memoizedState=hj,d=E);else if(bd(d),Zj(te)){if(z=te.nextSibling&&te.nextSibling.dataset,z)var Be=z.dgst;z=Be,v=Error(n(419)),v.stack="",v.digest=z,j0({value:v,source:null,stack:null}),d=gj(c,d,m)}else if(Un||S0(c,d,m,!1),z=(m&c.childLanes)!==0,Un||z){if(z=ks,z!==null&&(v=m&-m,v=(v&42)!==0?1:qt(v),v=(v&(z.suspendedLanes|m))!==0?0:v,v!==0&&v!==ye.retryLane))throw ye.retryLane=v,Vh(c,v),Oi(z,c,v),e3;te.data==="$?"||Mj(),d=gj(c,d,m)}else te.data==="$?"?(d.flags|=192,d.child=c.child,d=null):(c=ye.treeContext,sn=Mo(te.nextSibling),Ba=d,es=!0,af=null,bl=!1,c!==null&&(to[ro++]=ic,to[ro++]=oc,to[ro++]=sf,ic=c.id,oc=c.overflow,sf=d),d=xj(d,v.children),d.flags|=4096);return d}return E?(wd(),E=v.fallback,te=d.mode,ye=c.child,Be=ye.sibling,v=ac(ye,{mode:"hidden",children:v.children}),v.subtreeFlags=ye.subtreeFlags&65011712,Be!==null?E=ac(Be,E):(E=rf(E,te,m,null),E.flags|=2),E.return=d,v.return=d,v.sibling=E,d.child=v,v=E,E=d.child,te=c.child.memoizedState,te===null?te=mj(m):(ye=te.cachePool,ye!==null?(Be=Rn._currentValue,ye=ye.parent!==Be?{parent:Be,pool:Be}:ye):ye=K_(),te={baseLanes:te.baseLanes|m,cachePool:ye}),E.memoizedState=te,E.childLanes=pj(c,z,m),d.memoizedState=hj,v):(bd(d),m=c.child,c=m.sibling,m=ac(m,{mode:"visible",children:v.children}),m.return=d,m.sibling=null,c!==null&&(z=d.deletions,z===null?(d.deletions=[c],d.flags|=16):z.push(c)),d.child=m,d.memoizedState=null,m)}function xj(c,d){return d=uv({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function uv(c,d){return c=Ci(22,c,null,d),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function gj(c,d,m){return Jh(d,c.child,null,m),c=xj(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function d3(c,d,m){c.lanes|=d;var v=c.alternate;v!==null&&(v.lanes|=d),MN(c.return,d,m)}function yj(c,d,m,v,E){var D=c.memoizedState;D===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:E}:(D.isBackwards=d,D.rendering=null,D.renderingStartTime=0,D.last=v,D.tail=m,D.tailMode=E)}function u3(c,d,m){var v=d.pendingProps,E=v.revealOrder,D=v.tail;if(Zn(c,d,v.children,m),v=Pn.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&d3(c,m,d);else if(c.tag===19)d3(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}v&=1}switch(X(Pn,v),E){case"forwards":for(m=d.child,E=null;m!==null;)c=m.alternate,c!==null&&ov(c)===null&&(E=m),m=m.sibling;m=E,m===null?(E=d.child,d.child=null):(E=m.sibling,m.sibling=null),yj(d,!1,E,m,D);break;case"backwards":for(m=null,E=d.child,d.child=null;E!==null;){if(c=E.alternate,c!==null&&ov(c)===null){d.child=E;break}c=E.sibling,E.sibling=m,m=E,E=c}yj(d,!0,m,null,D);break;case"together":yj(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function fc(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),Ad|=d.lanes,(m&d.childLanes)===0)if(c!==null){if(S0(c,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,m=ac(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=ac(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function vj(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Hy(c)))}function UH(c,d,m){switch(d.tag){case 3:ae(d,d.stateNode.containerInfo),pd(d,Rn,c.memoizedState.cache),N0();break;case 27:case 5:ne(d);break;case 4:ae(d,d.stateNode.containerInfo);break;case 10:pd(d,d.type,d.memoizedProps.value);break;case 13:var v=d.memoizedState;if(v!==null)return v.dehydrated!==null?(bd(d),d.flags|=128,null):(m&d.child.childLanes)!==0?c3(c,d,m):(bd(d),c=fc(c,d,m),c!==null?c.sibling:null);bd(d);break;case 19:var E=(c.flags&128)!==0;if(v=(m&d.childLanes)!==0,v||(S0(c,d,m,!1),v=(m&d.childLanes)!==0),E){if(v)return u3(c,d,m);d.flags|=128}if(E=d.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),X(Pn,Pn.current),v)break;return null;case 22:case 23:return d.lanes=0,n3(c,d,m);case 24:pd(d,Rn,c.memoizedState.cache)}return fc(c,d,m)}function f3(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps)Un=!0;else{if(!vj(c,m)&&(d.flags&128)===0)return Un=!1,UH(c,d,m);Un=(c.flags&131072)!==0}else Un=!1,es&&(d.flags&1048576)!==0&&V_(d,zy,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var v=d.elementType,E=v._init;if(v=E(v._payload),d.type=v,typeof v=="function")TN(v)?(c=ff(v,c),d.tag=1,d=o3(null,d,v,c,m)):(d.tag=0,d=fj(null,d,v,c,m));else{if(v!=null){if(E=v.$$typeof,E===_){d.tag=11,d=t3(null,d,v,c,m);break e}else if(E===T){d.tag=14,d=r3(null,d,v,c,m);break e}}throw d=ie(v)||v,Error(n(306,d,""))}}return d;case 0:return fj(c,d,d.type,d.pendingProps,m);case 1:return v=d.type,E=ff(v,d.pendingProps),o3(c,d,v,E,m);case 3:e:{if(ae(d,d.stateNode.containerInfo),c===null)throw Error(n(387));v=d.pendingProps;var D=d.memoizedState;E=D.element,VN(c,d),D0(d,v,null,m);var z=d.memoizedState;if(v=z.cache,pd(d,Rn,v),v!==D.cache&&IN(d,[Rn],m,!0),k0(),v=z.element,D.isDehydrated)if(D={element:v,isDehydrated:!1,cache:z.cache},d.updateQueue.baseState=D,d.memoizedState=D,d.flags&256){d=l3(c,d,v,m);break e}else if(v!==E){E=Ji(Error(n(424)),d),j0(E),d=l3(c,d,v,m);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(sn=Mo(c.firstChild),Ba=d,es=!0,af=null,bl=!0,m=zk(d,null,v,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(N0(),v===E){d=fc(c,d,m);break e}Zn(c,d,v,m)}d=d.child}return d;case 26:return dv(c,d),c===null?(m=xD(d.type,null,d.pendingProps,null))?d.memoizedState=m:es||(m=d.type,c=d.pendingProps,v=Ev(J.current).createElement(m),v[ds]=d,v[Mr]=c,ea(v,m,c),Oe(v),d.stateNode=v):d.memoizedState=xD(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return ne(d),c===null&&es&&(v=d.stateNode=hD(d.type,d.pendingProps,J.current),Ba=d,bl=!0,E=sn,kd(d.type)?(Jj=E,sn=Mo(v.firstChild)):sn=E),Zn(c,d,d.pendingProps.children,m),dv(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&es&&((E=v=sn)&&(v=pW(v,d.type,d.pendingProps,bl),v!==null?(d.stateNode=v,Ba=d,sn=Mo(v.firstChild),bl=!1,E=!0):E=!1),E||of(d)),ne(d),E=d.type,D=d.pendingProps,z=c!==null?c.memoizedProps:null,v=D.children,Kj(E,D)?v=null:z!==null&&Kj(E,z)&&(d.flags|=32),d.memoizedState!==null&&(E=YN(c,d,RH,null,null,m),J0._currentValue=E),dv(c,d),Zn(c,d,v,m),d.child;case 6:return c===null&&es&&((c=m=sn)&&(m=xW(m,d.pendingProps,bl),m!==null?(d.stateNode=m,Ba=d,sn=null,c=!0):c=!1),c||of(d)),null;case 13:return c3(c,d,m);case 4:return ae(d,d.stateNode.containerInfo),v=d.pendingProps,c===null?d.child=Jh(d,null,v,m):Zn(c,d,v,m),d.child;case 11:return t3(c,d,d.type,d.pendingProps,m);case 7:return Zn(c,d,d.pendingProps,m),d.child;case 8:return Zn(c,d,d.pendingProps.children,m),d.child;case 12:return Zn(c,d,d.pendingProps.children,m),d.child;case 10:return v=d.pendingProps,pd(d,d.type,v.value),Zn(c,d,v.children,m),d.child;case 9:return E=d.type._context,v=d.pendingProps.children,cf(d),E=ja(E),v=v(E),d.flags|=1,Zn(c,d,v,m),d.child;case 14:return r3(c,d,d.type,d.pendingProps,m);case 15:return s3(c,d,d.type,d.pendingProps,m);case 19:return u3(c,d,m);case 31:return v=d.pendingProps,m=d.mode,v={mode:v.mode,children:v.children},c===null?(m=uv(v,m),m.ref=d.ref,d.child=m,m.return=d,d=m):(m=ac(c.child,v),m.ref=d.ref,d.child=m,m.return=d,d=m),d;case 22:return n3(c,d,m);case 24:return cf(d),v=ja(Rn),c===null?(E=BN(),E===null&&(E=ks,D=FN(),E.pooledCache=D,D.refCount++,D!==null&&(E.pooledCacheLanes|=m),E=D),d.memoizedState={parent:v,cache:E},UN(d),pd(d,Rn,E)):((c.lanes&m)!==0&&(VN(c,d),D0(d,null,null,m),k0()),E=c.memoizedState,D=d.memoizedState,E.parent!==v?(E={parent:v,cache:v},d.memoizedState=E,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=E),pd(d,Rn,v)):(v=D.cache,pd(d,Rn,v),v!==E.cache&&IN(d,[Rn],m,!0))),Zn(c,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function hc(c){c.flags|=4}function h3(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!wD(d)){if(d=so.current,d!==null&&((qr&4194048)===qr?wl!==null:(qr&62914560)!==qr&&(qr&536870912)===0||d!==wl))throw T0=$N,Q_;c.flags|=8192}}function fv(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?Dn():536870912,c.lanes|=d,sm|=d)}function L0(c,d){if(!es)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function Ys(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,v=0;if(d)for(var E=c.child;E!==null;)m|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)m|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=v,c.childLanes=m,d}function VH(c,d,m){var v=d.pendingProps;switch(ON(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(d),null;case 1:return Ys(d),null;case 3:return m=d.stateNode,v=null,c!==null&&(v=c.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),cc(Rn),ee(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(w0(d)?hc(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,H_())),Ys(d),null;case 26:return m=d.memoizedState,c===null?(hc(d),m!==null?(Ys(d),h3(d,m)):(Ys(d),d.flags&=-16777217)):m?m!==c.memoizedState?(hc(d),Ys(d),h3(d,m)):(Ys(d),d.flags&=-16777217):(c.memoizedProps!==v&&hc(d),Ys(d),d.flags&=-16777217),null;case 27:ke(d),m=J.current;var E=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==v&&hc(d);else{if(!v){if(d.stateNode===null)throw Error(n(166));return Ys(d),null}c=K.current,w0(d)?q_(d):(c=hD(E,v,m),d.stateNode=c,hc(d))}return Ys(d),null;case 5:if(ke(d),m=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==v&&hc(d);else{if(!v){if(d.stateNode===null)throw Error(n(166));return Ys(d),null}if(c=K.current,w0(d))q_(d);else{switch(E=Ev(J.current),c){case 1:c=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:c=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":c=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":c=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":c=E.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?c.multiple=!0:v.size&&(c.size=v.size);break;default:c=typeof v.is=="string"?E.createElement(m,{is:v.is}):E.createElement(m)}}c[ds]=d,c[Mr]=v;e:for(E=d.child;E!==null;){if(E.tag===5||E.tag===6)c.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===d)break e;for(;E.sibling===null;){if(E.return===null||E.return===d)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}d.stateNode=c;e:switch(ea(c,m,v),m){case"button":case"input":case"select":case"textarea":c=!!v.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&hc(d)}}return Ys(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==v&&hc(d);else{if(typeof v!="string"&&d.stateNode===null)throw Error(n(166));if(c=J.current,w0(d)){if(c=d.stateNode,m=d.memoizedProps,v=null,E=Ba,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}c[ds]=d,c=!!(c.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||iD(c.nodeValue,m)),c||of(d)}else c=Ev(c).createTextNode(v),c[ds]=d,d.stateNode=c}return Ys(d),null;case 13:if(v=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(E=w0(d),v!==null&&v.dehydrated!==null){if(c===null){if(!E)throw Error(n(318));if(E=d.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[ds]=d}else N0(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ys(d),E=!1}else E=H_(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=E),E=!0;if(!E)return d.flags&256?(uc(d),d):(uc(d),null)}if(uc(d),(d.flags&128)!==0)return d.lanes=m,d;if(m=v!==null,c=c!==null&&c.memoizedState!==null,m){v=d.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var D=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(D=v.memoizedState.cachePool.pool),D!==E&&(v.flags|=2048)}return m!==c&&m&&(d.child.flags|=8192),fv(d,d.updateQueue),Ys(d),null;case 4:return ee(),c===null&&zj(d.stateNode.containerInfo),Ys(d),null;case 10:return cc(d.type),Ys(d),null;case 19:if(P(Pn),E=d.memoizedState,E===null)return Ys(d),null;if(v=(d.flags&128)!==0,D=E.rendering,D===null)if(v)L0(E,!1);else{if(nn!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(D=ov(c),D!==null){for(d.flags|=128,L0(E,!1),c=D.updateQueue,d.updateQueue=c,fv(d,c),d.subtreeFlags=0,c=m,m=d.child;m!==null;)U_(m,c),m=m.sibling;return X(Pn,Pn.current&1|2),d.child}c=c.sibling}E.tail!==null&&ue()>pv&&(d.flags|=128,v=!0,L0(E,!1),d.lanes=4194304)}else{if(!v)if(c=ov(D),c!==null){if(d.flags|=128,v=!0,c=c.updateQueue,d.updateQueue=c,fv(d,c),L0(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!es)return Ys(d),null}else 2*ue()-E.renderingStartTime>pv&&m!==536870912&&(d.flags|=128,v=!0,L0(E,!1),d.lanes=4194304);E.isBackwards?(D.sibling=d.child,d.child=D):(c=E.last,c!==null?c.sibling=D:d.child=D,E.last=D)}return E.tail!==null?(d=E.tail,E.rendering=d,E.tail=d.sibling,E.renderingStartTime=ue(),d.sibling=null,c=Pn.current,X(Pn,v?c&1|2:c&1),d):(Ys(d),null);case 22:case 23:return uc(d),WN(),v=d.memoizedState!==null,c!==null?c.memoizedState!==null!==v&&(d.flags|=8192):v&&(d.flags|=8192),v?(m&536870912)!==0&&(d.flags&128)===0&&(Ys(d),d.subtreeFlags&6&&(d.flags|=8192)):Ys(d),m=d.updateQueue,m!==null&&fv(d,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048),c!==null&&P(df),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),cc(Rn),Ys(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function qH(c,d){switch(ON(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return cc(Rn),ee(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return ke(d),null;case 13:if(uc(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));N0()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return P(Pn),null;case 4:return ee(),null;case 10:return cc(d.type),null;case 22:case 23:return uc(d),WN(),c!==null&&P(df),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return cc(Rn),null;case 25:return null;default:return null}}function m3(c,d){switch(ON(d),d.tag){case 3:cc(Rn),ee();break;case 26:case 27:case 5:ke(d);break;case 4:ee();break;case 13:uc(d);break;case 19:P(Pn);break;case 10:cc(d.type);break;case 22:case 23:uc(d),WN(),c!==null&&P(df);break;case 24:cc(Rn)}}function B0(c,d){try{var m=d.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var E=v.next;m=E;do{if((m.tag&c)===c){v=void 0;var D=m.create,z=m.inst;v=D(),z.destroy=v}m=m.next}while(m!==E)}}catch(te){Es(d,d.return,te)}}function Nd(c,d,m){try{var v=d.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var D=E.next;v=D;do{if((v.tag&c)===c){var z=v.inst,te=z.destroy;if(te!==void 0){z.destroy=void 0,E=d;var ye=m,Be=te;try{Be()}catch(rt){Es(E,ye,rt)}}}v=v.next}while(v!==D)}}catch(rt){Es(d,d.return,rt)}}function p3(c){var d=c.updateQueue;if(d!==null){var m=c.stateNode;try{rk(d,m)}catch(v){Es(c,c.return,v)}}}function x3(c,d,m){m.props=ff(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(v){Es(c,d,v)}}function $0(c,d){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var v=c.stateNode;break;case 30:v=c.stateNode;break;default:v=c.stateNode}typeof m=="function"?c.refCleanup=m(v):m.current=v}}catch(E){Es(c,d,E)}}function Nl(c,d){var m=c.ref,v=c.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(E){Es(c,d,E)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(E){Es(c,d,E)}else m.current=null}function g3(c){var d=c.type,m=c.memoizedProps,v=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(E){Es(c,c.return,E)}}function bj(c,d,m){try{var v=c.stateNode;dW(v,c.type,m,d),v[Mr]=d}catch(E){Es(c,c.return,E)}}function y3(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&kd(c.type)||c.tag===4}function wj(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||y3(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&kd(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Nj(c,d,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(c),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Sv));else if(v!==4&&(v===27&&kd(c.type)&&(m=c.stateNode,d=null),c=c.child,c!==null))for(Nj(c,d,m),c=c.sibling;c!==null;)Nj(c,d,m),c=c.sibling}function hv(c,d,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(v!==4&&(v===27&&kd(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(hv(c,d,m),c=c.sibling;c!==null;)hv(c,d,m),c=c.sibling}function v3(c){var d=c.stateNode,m=c.memoizedProps;try{for(var v=c.type,E=d.attributes;E.length;)d.removeAttributeNode(E[0]);ea(d,v,m),d[ds]=c,d[Mr]=m}catch(D){Es(c,c.return,D)}}var mc=!1,pn=!1,jj=!1,b3=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function zH(c,d){if(c=c.containerInfo,Gj=Dv,c=D_(c),wN(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var E=v.anchorOffset,D=v.focusNode;v=v.focusOffset;try{m.nodeType,D.nodeType}catch{m=null;break e}var z=0,te=-1,ye=-1,Be=0,rt=0,ot=c,ze=null;t:for(;;){for(var We;ot!==m||E!==0&&ot.nodeType!==3||(te=z+E),ot!==D||v!==0&&ot.nodeType!==3||(ye=z+v),ot.nodeType===3&&(z+=ot.nodeValue.length),(We=ot.firstChild)!==null;)ze=ot,ot=We;for(;;){if(ot===c)break t;if(ze===m&&++Be===E&&(te=z),ze===D&&++rt===v&&(ye=z),(We=ot.nextSibling)!==null)break;ot=ze,ze=ot.parentNode}ot=We}m=te===-1||ye===-1?null:{start:te,end:ye}}else m=null}m=m||{start:0,end:0}}else m=null;for(Yj={focusedElem:c,selectionRange:m},Dv=!1,Vn=d;Vn!==null;)if(d=Vn,c=d.child,(d.subtreeFlags&1024)!==0&&c!==null)c.return=d,Vn=c;else for(;Vn!==null;){switch(d=Vn,D=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&D!==null){c=void 0,m=d,E=D.memoizedProps,D=D.memoizedState,v=m.stateNode;try{var cr=ff(m.type,E,m.elementType===m.type);c=v.getSnapshotBeforeUpdate(cr,D),v.__reactInternalSnapshotBeforeUpdate=c}catch(nr){Es(m,m.return,nr)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,m=c.nodeType,m===9)Xj(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Xj(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=d.sibling,c!==null){c.return=d.return,Vn=c;break}Vn=d.return}}function w3(c,d,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:jd(c,m),v&4&&B0(5,m);break;case 1:if(jd(c,m),v&4)if(c=m.stateNode,d===null)try{c.componentDidMount()}catch(z){Es(m,m.return,z)}else{var E=ff(m.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(E,d,c.__reactInternalSnapshotBeforeUpdate)}catch(z){Es(m,m.return,z)}}v&64&&p3(m),v&512&&$0(m,m.return);break;case 3:if(jd(c,m),v&64&&(c=m.updateQueue,c!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{rk(c,d)}catch(z){Es(m,m.return,z)}}break;case 27:d===null&&v&4&&v3(m);case 26:case 5:jd(c,m),d===null&&v&4&&g3(m),v&512&&$0(m,m.return);break;case 12:jd(c,m);break;case 13:jd(c,m),v&4&&S3(c,m),v&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=JH.bind(null,m),gW(c,m))));break;case 22:if(v=m.memoizedState!==null||mc,!v){d=d!==null&&d.memoizedState!==null||pn,E=mc;var D=pn;mc=v,(pn=d)&&!D?Sd(c,m,(m.subtreeFlags&8772)!==0):jd(c,m),mc=E,pn=D}break;case 30:break;default:jd(c,m)}}function N3(c){var d=c.alternate;d!==null&&(c.alternate=null,N3(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&se(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var qs=null,ii=!1;function pc(c,d,m){for(m=m.child;m!==null;)j3(c,d,m),m=m.sibling}function j3(c,d,m){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(ht,m)}catch{}switch(m.tag){case 26:pn||Nl(m,d),pc(c,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:pn||Nl(m,d);var v=qs,E=ii;kd(m.type)&&(qs=m.stateNode,ii=!1),pc(c,d,m),K0(m.stateNode),qs=v,ii=E;break;case 5:pn||Nl(m,d);case 6:if(v=qs,E=ii,qs=null,pc(c,d,m),qs=v,ii=E,qs!==null)if(ii)try{(qs.nodeType===9?qs.body:qs.nodeName==="HTML"?qs.ownerDocument.body:qs).removeChild(m.stateNode)}catch(D){Es(m,d,D)}else try{qs.removeChild(m.stateNode)}catch(D){Es(m,d,D)}break;case 18:qs!==null&&(ii?(c=qs,uD(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),sx(c)):uD(qs,m.stateNode));break;case 4:v=qs,E=ii,qs=m.stateNode.containerInfo,ii=!0,pc(c,d,m),qs=v,ii=E;break;case 0:case 11:case 14:case 15:pn||Nd(2,m,d),pn||Nd(4,m,d),pc(c,d,m);break;case 1:pn||(Nl(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"&&x3(m,d,v)),pc(c,d,m);break;case 21:pc(c,d,m);break;case 22:pn=(v=pn)||m.memoizedState!==null,pc(c,d,m),pn=v;break;default:pc(c,d,m)}}function S3(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{sx(c)}catch(m){Es(d,d.return,m)}}function HH(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new b3),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new b3),d;default:throw Error(n(435,c.tag))}}function Sj(c,d){var m=HH(c);d.forEach(function(v){var E=eW.bind(null,c,v);m.has(v)||(m.add(v),v.then(E,E))})}function Ti(c,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var E=m[v],D=c,z=d,te=z;e:for(;te!==null;){switch(te.tag){case 27:if(kd(te.type)){qs=te.stateNode,ii=!1;break e}break;case 5:qs=te.stateNode,ii=!1;break e;case 3:case 4:qs=te.stateNode.containerInfo,ii=!0;break e}te=te.return}if(qs===null)throw Error(n(160));j3(D,z,E),qs=null,ii=!1,D=E.alternate,D!==null&&(D.return=null),E.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)E3(d,c),d=d.sibling}var Po=null;function E3(c,d){var m=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ti(d,c),_i(c),v&4&&(Nd(3,c,c.return),B0(3,c),Nd(5,c,c.return));break;case 1:Ti(d,c),_i(c),v&512&&(pn||m===null||Nl(m,m.return)),v&64&&mc&&(c=c.updateQueue,c!==null&&(v=c.callbacks,v!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var E=Po;if(Ti(d,c),_i(c),v&512&&(pn||m===null||Nl(m,m.return)),v&4){var D=m!==null?m.memoizedState:null;if(v=c.memoizedState,m===null)if(v===null)if(c.stateNode===null){e:{v=c.type,m=c.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":D=E.getElementsByTagName("title")[0],(!D||D[oe]||D[ds]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=E.createElement(v),E.head.insertBefore(D,E.querySelector("head > title"))),ea(D,v,m),D[ds]=c,Oe(D),v=D;break e;case"link":var z=vD("link","href",E).get(v+(m.href||""));if(z){for(var te=0;te<z.length;te++)if(D=z[te],D.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&D.getAttribute("rel")===(m.rel==null?null:m.rel)&&D.getAttribute("title")===(m.title==null?null:m.title)&&D.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){z.splice(te,1);break t}}D=E.createElement(v),ea(D,v,m),E.head.appendChild(D);break;case"meta":if(z=vD("meta","content",E).get(v+(m.content||""))){for(te=0;te<z.length;te++)if(D=z[te],D.getAttribute("content")===(m.content==null?null:""+m.content)&&D.getAttribute("name")===(m.name==null?null:m.name)&&D.getAttribute("property")===(m.property==null?null:m.property)&&D.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&D.getAttribute("charset")===(m.charSet==null?null:m.charSet)){z.splice(te,1);break t}}D=E.createElement(v),ea(D,v,m),E.head.appendChild(D);break;default:throw Error(n(468,v))}D[ds]=c,Oe(D),v=D}c.stateNode=v}else bD(E,c.type,c.stateNode);else c.stateNode=yD(E,v,c.memoizedProps);else D!==v?(D===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):D.count--,v===null?bD(E,c.type,c.stateNode):yD(E,v,c.memoizedProps)):v===null&&c.stateNode!==null&&bj(c,c.memoizedProps,m.memoizedProps)}break;case 27:Ti(d,c),_i(c),v&512&&(pn||m===null||Nl(m,m.return)),m!==null&&v&4&&bj(c,c.memoizedProps,m.memoizedProps);break;case 5:if(Ti(d,c),_i(c),v&512&&(pn||m===null||Nl(m,m.return)),c.flags&32){E=c.stateNode;try{Bn(E,"")}catch(We){Es(c,c.return,We)}}v&4&&c.stateNode!=null&&(E=c.memoizedProps,bj(c,E,m!==null?m.memoizedProps:E)),v&1024&&(jj=!0);break;case 6:if(Ti(d,c),_i(c),v&4){if(c.stateNode===null)throw Error(n(162));v=c.memoizedProps,m=c.stateNode;try{m.nodeValue=v}catch(We){Es(c,c.return,We)}}break;case 3:if(Tv=null,E=Po,Po=Av(d.containerInfo),Ti(d,c),Po=E,_i(c),v&4&&m!==null&&m.memoizedState.isDehydrated)try{sx(d.containerInfo)}catch(We){Es(c,c.return,We)}jj&&(jj=!1,A3(c));break;case 4:v=Po,Po=Av(c.stateNode.containerInfo),Ti(d,c),_i(c),Po=v;break;case 12:Ti(d,c),_i(c);break;case 13:Ti(d,c),_i(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(kj=ue()),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,Sj(c,v)));break;case 22:E=c.memoizedState!==null;var ye=m!==null&&m.memoizedState!==null,Be=mc,rt=pn;if(mc=Be||E,pn=rt||ye,Ti(d,c),pn=rt,mc=Be,_i(c),v&8192)e:for(d=c.stateNode,d._visibility=E?d._visibility&-2:d._visibility|1,E&&(m===null||ye||mc||pn||hf(c)),m=null,d=c;;){if(d.tag===5||d.tag===26){if(m===null){ye=m=d;try{if(D=ye.stateNode,E)z=D.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{te=ye.stateNode;var ot=ye.memoizedProps.style,ze=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;te.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(We){Es(ye,ye.return,We)}}}else if(d.tag===6){if(m===null){ye=d;try{ye.stateNode.nodeValue=E?"":ye.memoizedProps}catch(We){Es(ye,ye.return,We)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}v&4&&(v=c.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,Sj(c,m))));break;case 19:Ti(d,c),_i(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,Sj(c,v)));break;case 30:break;case 21:break;default:Ti(d,c),_i(c)}}function _i(c){var d=c.flags;if(d&2){try{for(var m,v=c.return;v!==null;){if(y3(v)){m=v;break}v=v.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var E=m.stateNode,D=wj(c);hv(c,D,E);break;case 5:var z=m.stateNode;m.flags&32&&(Bn(z,""),m.flags&=-33);var te=wj(c);hv(c,te,z);break;case 3:case 4:var ye=m.stateNode.containerInfo,Be=wj(c);Nj(c,Be,ye);break;default:throw Error(n(161))}}catch(rt){Es(c,c.return,rt)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function A3(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;A3(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function jd(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)w3(c,d.alternate,d),d=d.sibling}function hf(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Nd(4,d,d.return),hf(d);break;case 1:Nl(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&x3(d,d.return,m),hf(d);break;case 27:K0(d.stateNode);case 26:case 5:Nl(d,d.return),hf(d);break;case 22:d.memoizedState===null&&hf(d);break;case 30:hf(d);break;default:hf(d)}c=c.sibling}}function Sd(c,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var v=d.alternate,E=c,D=d,z=D.flags;switch(D.tag){case 0:case 11:case 15:Sd(E,D,m),B0(4,D);break;case 1:if(Sd(E,D,m),v=D,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Be){Es(v,v.return,Be)}if(v=D,E=v.updateQueue,E!==null){var te=v.stateNode;try{var ye=E.shared.hiddenCallbacks;if(ye!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ye.length;E++)tk(ye[E],te)}catch(Be){Es(v,v.return,Be)}}m&&z&64&&p3(D),$0(D,D.return);break;case 27:v3(D);case 26:case 5:Sd(E,D,m),m&&v===null&&z&4&&g3(D),$0(D,D.return);break;case 12:Sd(E,D,m);break;case 13:Sd(E,D,m),m&&z&4&&S3(E,D);break;case 22:D.memoizedState===null&&Sd(E,D,m),$0(D,D.return);break;case 30:break;default:Sd(E,D,m)}d=d.sibling}}function Ej(c,d){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&E0(m))}function Aj(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&E0(c))}function jl(c,d,m,v){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)C3(c,d,m,v),d=d.sibling}function C3(c,d,m,v){var E=d.flags;switch(d.tag){case 0:case 11:case 15:jl(c,d,m,v),E&2048&&B0(9,d);break;case 1:jl(c,d,m,v);break;case 3:jl(c,d,m,v),E&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&E0(c)));break;case 12:if(E&2048){jl(c,d,m,v),c=d.stateNode;try{var D=d.memoizedProps,z=D.id,te=D.onPostCommit;typeof te=="function"&&te(z,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ye){Es(d,d.return,ye)}}else jl(c,d,m,v);break;case 13:jl(c,d,m,v);break;case 23:break;case 22:D=d.stateNode,z=d.alternate,d.memoizedState!==null?D._visibility&2?jl(c,d,m,v):U0(c,d):D._visibility&2?jl(c,d,m,v):(D._visibility|=2,em(c,d,m,v,(d.subtreeFlags&10256)!==0)),E&2048&&Ej(z,d);break;case 24:jl(c,d,m,v),E&2048&&Aj(d.alternate,d);break;default:jl(c,d,m,v)}}function em(c,d,m,v,E){for(E=E&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var D=c,z=d,te=m,ye=v,Be=z.flags;switch(z.tag){case 0:case 11:case 15:em(D,z,te,ye,E),B0(8,z);break;case 23:break;case 22:var rt=z.stateNode;z.memoizedState!==null?rt._visibility&2?em(D,z,te,ye,E):U0(D,z):(rt._visibility|=2,em(D,z,te,ye,E)),E&&Be&2048&&Ej(z.alternate,z);break;case 24:em(D,z,te,ye,E),E&&Be&2048&&Aj(z.alternate,z);break;default:em(D,z,te,ye,E)}d=d.sibling}}function U0(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=c,v=d,E=v.flags;switch(v.tag){case 22:U0(m,v),E&2048&&Ej(v.alternate,v);break;case 24:U0(m,v),E&2048&&Aj(v.alternate,v);break;default:U0(m,v)}d=d.sibling}}var V0=8192;function tm(c){if(c.subtreeFlags&V0)for(c=c.child;c!==null;)T3(c),c=c.sibling}function T3(c){switch(c.tag){case 26:tm(c),c.flags&V0&&c.memoizedState!==null&&kW(Po,c.memoizedState,c.memoizedProps);break;case 5:tm(c);break;case 3:case 4:var d=Po;Po=Av(c.stateNode.containerInfo),tm(c),Po=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=V0,V0=16777216,tm(c),V0=d):tm(c));break;default:tm(c)}}function _3(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function q0(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];Vn=v,D3(v,c)}_3(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)k3(c),c=c.sibling}function k3(c){switch(c.tag){case 0:case 11:case 15:q0(c),c.flags&2048&&Nd(9,c,c.return);break;case 3:q0(c);break;case 12:q0(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,mv(c)):q0(c);break;default:q0(c)}}function mv(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];Vn=v,D3(v,c)}_3(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Nd(8,d,d.return),mv(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,mv(d));break;default:mv(d)}c=c.sibling}}function D3(c,d){for(;Vn!==null;){var m=Vn;switch(m.tag){case 0:case 11:case 15:Nd(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:E0(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,Vn=v;else e:for(m=c;Vn!==null;){v=Vn;var E=v.sibling,D=v.return;if(N3(v),v===m){Vn=null;break e}if(E!==null){E.return=D,Vn=E;break e}Vn=D}}}var WH={getCacheForType:function(c){var d=ja(Rn),m=d.data.get(c);return m===void 0&&(m=c(),d.data.set(c,m)),m}},GH=typeof WeakMap=="function"?WeakMap:Map,us=0,ks=null,kr=null,qr=0,fs=0,ki=null,Ed=!1,rm=!1,Cj=!1,xc=0,nn=0,Ad=0,mf=0,Tj=0,no=0,sm=0,z0=null,oi=null,_j=!1,kj=0,pv=1/0,xv=null,Cd=null,Jn=0,Td=null,nm=null,am=0,Dj=0,Oj=null,O3=null,H0=0,Rj=null;function Di(){if((us&2)!==0&&qr!==0)return qr&-qr;if(B.T!==null){var c=Wh;return c!==0?c:$j()}return Gs()}function R3(){no===0&&(no=(qr&536870912)===0||es?Vr():536870912);var c=so.current;return c!==null&&(c.flags|=32),no}function Oi(c,d,m){(c===ks&&(fs===2||fs===9)||c.cancelPendingCommit!==null)&&(im(c,0),_d(c,qr,no,!1)),_e(c,m),((us&2)===0||c!==ks)&&(c===ks&&((us&2)===0&&(mf|=m),nn===4&&_d(c,qr,no,!1)),Sl(c))}function P3(c,d,m){if((us&6)!==0)throw Error(n(327));var v=!m&&(d&124)===0&&(d&c.expiredLanes)===0||cs(c,d),E=v?QH(c,d):Ij(c,d,!0),D=v;do{if(E===0){rm&&!v&&_d(c,d,0,!1);break}else{if(m=c.current.alternate,D&&!YH(m)){E=Ij(c,d,!1),D=!1;continue}if(E===2){if(D=d,c.errorRecoveryDisabledLanes&D)var z=0;else z=c.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){d=z;e:{var te=c;E=z0;var ye=te.current.memoizedState.isDehydrated;if(ye&&(im(te,z).flags|=256),z=Ij(te,z,!1),z!==2){if(Cj&&!ye){te.errorRecoveryDisabledLanes|=D,mf|=D,E=4;break e}D=oi,oi=E,D!==null&&(oi===null?oi=D:oi.push.apply(oi,D))}E=z}if(D=!1,E!==2)continue}}if(E===1){im(c,0),_d(c,d,0,!0);break}e:{switch(v=c,D=E,D){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:_d(v,d,no,!Ed);break e;case 2:oi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(E=kj+300-ue(),10<E)){if(_d(v,d,no,!Ed),ls(v,0,!0)!==0)break e;v.timeoutHandle=cD(M3.bind(null,v,m,oi,xv,_j,d,no,mf,sm,Ed,D,2,-0,0),E);break e}M3(v,m,oi,xv,_j,d,no,mf,sm,Ed,D,0,-0,0)}}break}while(!0);Sl(c)}function M3(c,d,m,v,E,D,z,te,ye,Be,rt,ot,ze,We){if(c.timeoutHandle=-1,ot=d.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(Z0={stylesheets:null,count:0,unsuspend:_W},T3(d),ot=DW(),ot!==null)){c.cancelPendingCommit=ot(V3.bind(null,c,d,D,m,v,E,z,te,ye,rt,1,ze,We)),_d(c,D,z,!Be);return}V3(c,d,D,m,v,E,z,te,ye)}function YH(c){for(var d=c;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var E=m[v],D=E.getSnapshot;E=E.value;try{if(!Ai(D(),E))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function _d(c,d,m,v){d&=~Tj,d&=~mf,c.suspendedLanes|=d,c.pingedLanes&=~d,v&&(c.warmLanes|=d),v=c.expirationTimes;for(var E=d;0<E;){var D=31-Vt(E),z=1<<D;v[D]=-1,E&=~z}m!==0&&st(c,m,d)}function gv(){return(us&6)===0?(W0(0),!1):!0}function Pj(){if(kr!==null){if(fs===0)var c=kr.return;else c=kr,lc=lf=null,XN(c),Zh=null,I0=0,c=kr;for(;c!==null;)m3(c.alternate,c),c=c.return;kr=null}}function im(c,d){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,fW(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),Pj(),ks=c,kr=m=ac(c.current,null),qr=d,fs=0,ki=null,Ed=!1,rm=cs(c,d),Cj=!1,sm=no=Tj=mf=Ad=nn=0,oi=z0=null,_j=!1,(d&8)!==0&&(d|=d&32);var v=c.entangledLanes;if(v!==0)for(c=c.entanglements,v&=d;0<v;){var E=31-Vt(v),D=1<<E;d|=c[E],v&=~D}return xc=d,By(),m}function I3(c,d){Ar=null,B.H=nv,d===C0||d===Yy?(d=J_(),fs=3):d===Q_?(d=J_(),fs=4):fs=d===e3?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ki=d,kr===null&&(nn=1,cv(c,Ji(d,c.current)))}function F3(){var c=B.H;return B.H=nv,c===null?nv:c}function L3(){var c=B.A;return B.A=WH,c}function Mj(){nn=4,Ed||(qr&4194048)!==qr&&so.current!==null||(rm=!0),(Ad&134217727)===0&&(mf&134217727)===0||ks===null||_d(ks,qr,no,!1)}function Ij(c,d,m){var v=us;us|=2;var E=F3(),D=L3();(ks!==c||qr!==d)&&(xv=null,im(c,d)),d=!1;var z=nn;e:do try{if(fs!==0&&kr!==null){var te=kr,ye=ki;switch(fs){case 8:Pj(),z=6;break e;case 3:case 2:case 9:case 6:so.current===null&&(d=!0);var Be=fs;if(fs=0,ki=null,om(c,te,ye,Be),m&&rm){z=0;break e}break;default:Be=fs,fs=0,ki=null,om(c,te,ye,Be)}}KH(),z=nn;break}catch(rt){I3(c,rt)}while(!0);return d&&c.shellSuspendCounter++,lc=lf=null,us=v,B.H=E,B.A=D,kr===null&&(ks=null,qr=0,By()),z}function KH(){for(;kr!==null;)B3(kr)}function QH(c,d){var m=us;us|=2;var v=F3(),E=L3();ks!==c||qr!==d?(xv=null,pv=ue()+500,im(c,d)):rm=cs(c,d);e:do try{if(fs!==0&&kr!==null){d=kr;var D=ki;t:switch(fs){case 1:fs=0,ki=null,om(c,d,D,1);break;case 2:case 9:if(X_(D)){fs=0,ki=null,$3(d);break}d=function(){fs!==2&&fs!==9||ks!==c||(fs=7),Sl(c)},D.then(d,d);break e;case 3:fs=7;break e;case 4:fs=5;break e;case 7:X_(D)?(fs=0,ki=null,$3(d)):(fs=0,ki=null,om(c,d,D,7));break;case 5:var z=null;switch(kr.tag){case 26:z=kr.memoizedState;case 5:case 27:var te=kr;if(!z||wD(z)){fs=0,ki=null;var ye=te.sibling;if(ye!==null)kr=ye;else{var Be=te.return;Be!==null?(kr=Be,yv(Be)):kr=null}break t}}fs=0,ki=null,om(c,d,D,5);break;case 6:fs=0,ki=null,om(c,d,D,6);break;case 8:Pj(),nn=6;break e;default:throw Error(n(462))}}XH();break}catch(rt){I3(c,rt)}while(!0);return lc=lf=null,B.H=v,B.A=E,us=m,kr!==null?0:(ks=null,qr=0,By(),nn)}function XH(){for(;kr!==null&&!Te();)B3(kr)}function B3(c){var d=f3(c.alternate,c,xc);c.memoizedProps=c.pendingProps,d===null?yv(c):kr=d}function $3(c){var d=c,m=d.alternate;switch(d.tag){case 15:case 0:d=i3(m,d,d.pendingProps,d.type,void 0,qr);break;case 11:d=i3(m,d,d.pendingProps,d.type.render,d.ref,qr);break;case 5:XN(d);default:m3(m,d),d=kr=U_(d,xc),d=f3(m,d,xc)}c.memoizedProps=c.pendingProps,d===null?yv(c):kr=d}function om(c,d,m,v){lc=lf=null,XN(d),Zh=null,I0=0;var E=d.return;try{if($H(c,E,d,m,qr)){nn=1,cv(c,Ji(m,c.current)),kr=null;return}}catch(D){if(E!==null)throw kr=E,D;nn=1,cv(c,Ji(m,c.current)),kr=null;return}d.flags&32768?(es||v===1?c=!0:rm||(qr&536870912)!==0?c=!1:(Ed=c=!0,(v===2||v===9||v===3||v===6)&&(v=so.current,v!==null&&v.tag===13&&(v.flags|=16384))),U3(d,c)):yv(d)}function yv(c){var d=c;do{if((d.flags&32768)!==0){U3(d,Ed);return}c=d.return;var m=VH(d.alternate,d,xc);if(m!==null){kr=m;return}if(d=d.sibling,d!==null){kr=d;return}kr=d=c}while(d!==null);nn===0&&(nn=5)}function U3(c,d){do{var m=qH(c.alternate,c);if(m!==null){m.flags&=32767,kr=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(c=c.sibling,c!==null)){kr=c;return}kr=c=m}while(c!==null);nn=6,kr=null}function V3(c,d,m,v,E,D,z,te,ye){c.cancelPendingCommit=null;do vv();while(Jn!==0);if((us&6)!==0)throw Error(n(327));if(d!==null){if(d===c.current)throw Error(n(177));if(D=d.lanes|d.childLanes,D|=AN,wt(c,m,D,z,te,ye),c===ks&&(kr=ks=null,qr=0),nm=d,Td=c,am=m,Dj=D,Oj=E,O3=v,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,tW(_t,function(){return G3(),null})):(c.callbackNode=null,c.callbackPriority=0),v=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||v){v=B.T,B.T=null,E=U.p,U.p=2,z=us,us|=4;try{zH(c,d,m)}finally{us=z,U.p=E,B.T=v}}Jn=1,q3(),z3(),H3()}}function q3(){if(Jn===1){Jn=0;var c=Td,d=nm,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=B.T,B.T=null;var v=U.p;U.p=2;var E=us;us|=4;try{E3(d,c);var D=Yj,z=D_(c.containerInfo),te=D.focusedElem,ye=D.selectionRange;if(z!==te&&te&&te.ownerDocument&&k_(te.ownerDocument.documentElement,te)){if(ye!==null&&wN(te)){var Be=ye.start,rt=ye.end;if(rt===void 0&&(rt=Be),"selectionStart"in te)te.selectionStart=Be,te.selectionEnd=Math.min(rt,te.value.length);else{var ot=te.ownerDocument||document,ze=ot&&ot.defaultView||window;if(ze.getSelection){var We=ze.getSelection(),cr=te.textContent.length,nr=Math.min(ye.start,cr),Ns=ye.end===void 0?nr:Math.min(ye.end,cr);!We.extend&&nr>Ns&&(z=Ns,Ns=nr,nr=z);var Re=__(te,nr),Se=__(te,Ns);if(Re&&Se&&(We.rangeCount!==1||We.anchorNode!==Re.node||We.anchorOffset!==Re.offset||We.focusNode!==Se.node||We.focusOffset!==Se.offset)){var Le=ot.createRange();Le.setStart(Re.node,Re.offset),We.removeAllRanges(),nr>Ns?(We.addRange(Le),We.extend(Se.node,Se.offset)):(Le.setEnd(Se.node,Se.offset),We.addRange(Le))}}}}for(ot=[],We=te;We=We.parentNode;)We.nodeType===1&&ot.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<ot.length;te++){var nt=ot[te];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Dv=!!Gj,Yj=Gj=null}finally{us=E,U.p=v,B.T=m}}c.current=d,Jn=2}}function z3(){if(Jn===2){Jn=0;var c=Td,d=nm,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=B.T,B.T=null;var v=U.p;U.p=2;var E=us;us|=4;try{w3(c,d.alternate,d)}finally{us=E,U.p=v,B.T=m}}Jn=3}}function H3(){if(Jn===4||Jn===3){Jn=0,Fe();var c=Td,d=nm,m=am,v=O3;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Jn=5:(Jn=0,nm=Td=null,W3(c,c.pendingLanes));var E=c.pendingLanes;if(E===0&&(Cd=null),mr(m),d=d.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(ht,d,void 0,(d.current.flags&128)===128)}catch{}if(v!==null){d=B.T,E=U.p,U.p=2,B.T=null;try{for(var D=c.onRecoverableError,z=0;z<v.length;z++){var te=v[z];D(te.value,{componentStack:te.stack})}}finally{B.T=d,U.p=E}}(am&3)!==0&&vv(),Sl(c),E=c.pendingLanes,(m&4194090)!==0&&(E&42)!==0?c===Rj?H0++:(H0=0,Rj=c):H0=0,W0(0)}}function W3(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,E0(d)))}function vv(c){return q3(),z3(),H3(),G3()}function G3(){if(Jn!==5)return!1;var c=Td,d=Dj;Dj=0;var m=mr(am),v=B.T,E=U.p;try{U.p=32>m?32:m,B.T=null,m=Oj,Oj=null;var D=Td,z=am;if(Jn=0,nm=Td=null,am=0,(us&6)!==0)throw Error(n(331));var te=us;if(us|=4,k3(D.current),C3(D,D.current,z,m),us=te,W0(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(ht,D)}catch{}return!0}finally{U.p=E,B.T=v,W3(c,d)}}function Y3(c,d,m){d=Ji(m,d),d=uj(c.stateNode,d,2),c=yd(c,d,2),c!==null&&(_e(c,2),Sl(c))}function Es(c,d,m){if(c.tag===3)Y3(c,c,m);else for(;d!==null;){if(d.tag===3){Y3(d,c,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Cd===null||!Cd.has(v))){c=Ji(m,c),m=Zk(2),v=yd(d,m,2),v!==null&&(Jk(m,v,d,c),_e(v,2),Sl(v));break}}d=d.return}}function Fj(c,d,m){var v=c.pingCache;if(v===null){v=c.pingCache=new GH;var E=new Set;v.set(d,E)}else E=v.get(d),E===void 0&&(E=new Set,v.set(d,E));E.has(m)||(Cj=!0,E.add(m),c=ZH.bind(null,c,d,m),d.then(c,c))}function ZH(c,d,m){var v=c.pingCache;v!==null&&v.delete(d),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,ks===c&&(qr&m)===m&&(nn===4||nn===3&&(qr&62914560)===qr&&300>ue()-kj?(us&2)===0&&im(c,0):Tj|=m,sm===qr&&(sm=0)),Sl(c)}function K3(c,d){d===0&&(d=Dn()),c=Vh(c,d),c!==null&&(_e(c,d),Sl(c))}function JH(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),K3(c,m)}function eW(c,d){var m=0;switch(c.tag){case 13:var v=c.stateNode,E=c.memoizedState;E!==null&&(m=E.retryLane);break;case 19:v=c.stateNode;break;case 22:v=c.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(d),K3(c,m)}function tW(c,d){return et(c,d)}var bv=null,lm=null,Lj=!1,wv=!1,Bj=!1,pf=0;function Sl(c){c!==lm&&c.next===null&&(lm===null?bv=lm=c:lm=lm.next=c),wv=!0,Lj||(Lj=!0,sW())}function W0(c,d){if(!Bj&&wv){Bj=!0;do for(var m=!1,v=bv;v!==null;){if(c!==0){var E=v.pendingLanes;if(E===0)var D=0;else{var z=v.suspendedLanes,te=v.pingedLanes;D=(1<<31-Vt(42|c)+1)-1,D&=E&~(z&~te),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(m=!0,J3(v,D))}else D=qr,D=ls(v,v===ks?D:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(D&3)===0||cs(v,D)||(m=!0,J3(v,D));v=v.next}while(m);Bj=!1}}function rW(){Q3()}function Q3(){wv=Lj=!1;var c=0;pf!==0&&(uW()&&(c=pf),pf=0);for(var d=ue(),m=null,v=bv;v!==null;){var E=v.next,D=X3(v,d);D===0?(v.next=null,m===null?bv=E:m.next=E,E===null&&(lm=m)):(m=v,(c!==0||(D&3)!==0)&&(wv=!0)),v=E}W0(c)}function X3(c,d){for(var m=c.suspendedLanes,v=c.pingedLanes,E=c.expirationTimes,D=c.pendingLanes&-62914561;0<D;){var z=31-Vt(D),te=1<<z,ye=E[z];ye===-1?((te&m)===0||(te&v)!==0)&&(E[z]=Us(te,d)):ye<=d&&(c.expiredLanes|=te),D&=~te}if(d=ks,m=qr,m=ls(c,c===d?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v=c.callbackNode,m===0||c===d&&(fs===2||fs===9)||c.cancelPendingCommit!==null)return v!==null&&v!==null&&Ee(v),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||cs(c,m)){if(d=m&-m,d===c.callbackPriority)return d;switch(v!==null&&Ee(v),mr(m)){case 2:case 8:m=Et;break;case 32:m=_t;break;case 268435456:m=Ae;break;default:m=_t}return v=Z3.bind(null,c),m=et(m,v),c.callbackPriority=d,c.callbackNode=m,d}return v!==null&&v!==null&&Ee(v),c.callbackPriority=2,c.callbackNode=null,2}function Z3(c,d){if(Jn!==0&&Jn!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(vv()&&c.callbackNode!==m)return null;var v=qr;return v=ls(c,c===ks?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v===0?null:(P3(c,v,d),X3(c,ue()),c.callbackNode!=null&&c.callbackNode===m?Z3.bind(null,c):null)}function J3(c,d){if(vv())return null;P3(c,d,!0)}function sW(){hW(function(){(us&6)!==0?et(De,rW):Q3()})}function $j(){return pf===0&&(pf=Vr()),pf}function eD(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:ld(""+c)}function tD(c,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,c.id&&m.setAttribute("form",c.id),d.parentNode.insertBefore(m,d),c=new FormData(c),m.parentNode.removeChild(m),c}function nW(c,d,m,v,E){if(d==="submit"&&m&&m.stateNode===E){var D=eD((E[Mr]||null).action),z=v.submitter;z&&(d=(d=z[Mr]||null)?eD(d.formAction):z.getAttribute("formAction"),d!==null&&(D=d,z=null));var te=new Xe("action","action",null,v,E);c.push({event:te,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(pf!==0){var ye=z?tD(E,z):new FormData(E);ij(m,{pending:!0,data:ye,method:E.method,action:D},null,ye)}}else typeof D=="function"&&(te.preventDefault(),ye=z?tD(E,z):new FormData(E),ij(m,{pending:!0,data:ye,method:E.method,action:D},D,ye))},currentTarget:E}]})}}for(var Uj=0;Uj<EN.length;Uj++){var Vj=EN[Uj],aW=Vj.toLowerCase(),iW=Vj[0].toUpperCase()+Vj.slice(1);Ro(aW,"on"+iW)}Ro(P_,"onAnimationEnd"),Ro(M_,"onAnimationIteration"),Ro(I_,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(jH,"onTransitionRun"),Ro(SH,"onTransitionStart"),Ro(EH,"onTransitionCancel"),Ro(F_,"onTransitionEnd"),ge("onMouseEnter",["mouseout","mouseover"]),ge("onMouseLeave",["mouseout","mouseover"]),ge("onPointerEnter",["pointerout","pointerover"]),ge("onPointerLeave",["pointerout","pointerover"]),Y("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Y("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Y("onBeforeInput",["compositionend","keypress","textInput","paste"]),Y("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Y("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Y("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var G0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(G0));function rD(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var v=c[m],E=v.event;v=v.listeners;e:{var D=void 0;if(d)for(var z=v.length-1;0<=z;z--){var te=v[z],ye=te.instance,Be=te.currentTarget;if(te=te.listener,ye!==D&&E.isPropagationStopped())break e;D=te,E.currentTarget=Be;try{D(E)}catch(rt){lv(rt)}E.currentTarget=null,D=ye}else for(z=0;z<v.length;z++){if(te=v[z],ye=te.instance,Be=te.currentTarget,te=te.listener,ye!==D&&E.isPropagationStopped())break e;D=te,E.currentTarget=Be;try{D(E)}catch(rt){lv(rt)}E.currentTarget=null,D=ye}}}}function Dr(c,d){var m=d[Fa];m===void 0&&(m=d[Fa]=new Set);var v=c+"__bubble";m.has(v)||(sD(d,c,2,!1),m.add(v))}function qj(c,d,m){var v=0;d&&(v|=4),sD(m,c,v,d)}var Nv="_reactListening"+Math.random().toString(36).slice(2);function zj(c){if(!c[Nv]){c[Nv]=!0,$e.forEach(function(m){m!=="selectionchange"&&(oW.has(m)||qj(m,!1,c),qj(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Nv]||(d[Nv]=!0,qj("selectionchange",!1,d))}}function sD(c,d,m,v){switch(CD(d)){case 2:var E=PW;break;case 8:E=MW;break;default:E=n2}m=E.bind(null,d,m,c),E=void 0,!ud||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(E=!0),v?E!==void 0?c.addEventListener(d,m,{capture:!0,passive:E}):c.addEventListener(d,m,!0):E!==void 0?c.addEventListener(d,m,{passive:E}):c.addEventListener(d,m,!1)}function Hj(c,d,m,v,E){var D=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var te=v.stateNode.containerInfo;if(te===E)break;if(z===4)for(z=v.return;z!==null;){var ye=z.tag;if((ye===3||ye===4)&&z.stateNode.containerInfo===E)return;z=z.return}for(;te!==null;){if(z=de(te),z===null)return;if(ye=z.tag,ye===5||ye===6||ye===26||ye===27){v=D=z;continue e}te=te.parentNode}}v=v.return}dd(function(){var Be=D,rt=cd(m),ot=[];e:{var ze=L_.get(c);if(ze!==void 0){var We=Xe,cr=c;switch(c){case"keypress":if(hd(m)===0)break e;case"keydown":case"keyup":We=tH;break;case"focusin":cr="focus",We=hn;break;case"focusout":cr="blur",We=hn;break;case"beforeblur":case"afterblur":We=hn;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=nH;break;case P_:case M_:case I_:We=Oo;break;case F_:We=iH;break;case"scroll":case"scrollend":We=Jt;break;case"wheel":We=lH;break;case"copy":case"cut":case"paste":We=Fy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=p_;break;case"toggle":case"beforetoggle":We=dH}var nr=(d&4)!==0,Ns=!nr&&(c==="scroll"||c==="scrollend"),Re=nr?ze!==null?ze+"Capture":null:ze;nr=[];for(var Se=Be,Le;Se!==null;){var nt=Se;if(Le=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||Le===null||Re===null||(nt=Zi(Se,Re),nt!=null&&nr.push(Y0(Se,nt,Le))),Ns)break;Se=Se.return}0<nr.length&&(ze=new We(ze,cr,null,m,rt),ot.push({event:ze,listeners:nr}))}}if((d&7)===0){e:{if(ze=c==="mouseover"||c==="pointerover",We=c==="mouseout"||c==="pointerout",ze&&m!==Xu&&(cr=m.relatedTarget||m.fromElement)&&(de(cr)||cr[Ts]))break e;if((We||ze)&&(ze=rt.window===rt?rt:(ze=rt.ownerDocument)?ze.defaultView||ze.parentWindow:window,We?(cr=m.relatedTarget||m.toElement,We=Be,cr=cr?de(cr):null,cr!==null&&(Ns=i(cr),nr=cr.tag,cr!==Ns||nr!==5&&nr!==27&&nr!==6)&&(cr=null)):(We=null,cr=Be),We!==cr)){if(nr=On,nt="onMouseLeave",Re="onMouseEnter",Se="mouse",(c==="pointerout"||c==="pointerover")&&(nr=p_,nt="onPointerLeave",Re="onPointerEnter",Se="pointer"),Ns=We==null?ze:Pe(We),Le=cr==null?ze:Pe(cr),ze=new nr(nt,Se+"leave",We,m,rt),ze.target=Ns,ze.relatedTarget=Le,nt=null,de(rt)===Be&&(nr=new nr(Re,Se+"enter",cr,m,rt),nr.target=Le,nr.relatedTarget=Ns,nt=nr),Ns=nt,We&&cr)t:{for(nr=We,Re=cr,Se=0,Le=nr;Le;Le=cm(Le))Se++;for(Le=0,nt=Re;nt;nt=cm(nt))Le++;for(;0<Se-Le;)nr=cm(nr),Se--;for(;0<Le-Se;)Re=cm(Re),Le--;for(;Se--;){if(nr===Re||Re!==null&&nr===Re.alternate)break t;nr=cm(nr),Re=cm(Re)}nr=null}else nr=null;We!==null&&nD(ot,ze,We,nr,!1),cr!==null&&Ns!==null&&nD(ot,Ns,cr,nr,!0)}}e:{if(ze=Be?Pe(Be):window,We=ze.nodeName&&ze.nodeName.toLowerCase(),We==="select"||We==="input"&&ze.type==="file")var Bt=j_;else if(w_(ze))if(S_)Bt=bH;else{Bt=yH;var Tr=gH}else We=ze.nodeName,!We||We.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?Be&&si(Be.elementType)&&(Bt=j_):Bt=vH;if(Bt&&(Bt=Bt(c,Be))){N_(ot,Bt,m,rt);break e}Tr&&Tr(c,ze,Be),c==="focusout"&&Be&&ze.type==="number"&&Be.memoizedProps.value!=null&&rc(ze,"number",ze.value)}switch(Tr=Be?Pe(Be):window,c){case"focusin":(w_(Tr)||Tr.contentEditable==="true")&&(Bh=Tr,NN=Be,b0=null);break;case"focusout":b0=NN=Bh=null;break;case"mousedown":jN=!0;break;case"contextmenu":case"mouseup":case"dragend":jN=!1,O_(ot,m,rt);break;case"selectionchange":if(NH)break;case"keydown":case"keyup":O_(ot,m,rt)}var er;if(yN)e:{switch(c){case"compositionstart":var ir="onCompositionStart";break e;case"compositionend":ir="onCompositionEnd";break e;case"compositionupdate":ir="onCompositionUpdate";break e}ir=void 0}else Lh?v_(c,m)&&(ir="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(ir="onCompositionStart");ir&&(x_&&m.locale!=="ko"&&(Lh||ir!=="onCompositionStart"?ir==="onCompositionEnd"&&Lh&&(er=fd()):(Ei=rt,ni="value"in Ei?Ei.value:Ei.textContent,Lh=!0)),Tr=jv(Be,ir),0<Tr.length&&(ir=new Ju(ir,c,null,m,rt),ot.push({event:ir,listeners:Tr}),er?ir.data=er:(er=b_(m),er!==null&&(ir.data=er)))),(er=fH?hH(c,m):mH(c,m))&&(ir=jv(Be,"onBeforeInput"),0<ir.length&&(Tr=new Ju("onBeforeInput","beforeinput",null,m,rt),ot.push({event:Tr,listeners:ir}),Tr.data=er)),nW(ot,c,Be,m,rt)}rD(ot,d)})}function Y0(c,d,m){return{instance:c,listener:d,currentTarget:m}}function jv(c,d){for(var m=d+"Capture",v=[];c!==null;){var E=c,D=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||D===null||(E=Zi(c,m),E!=null&&v.unshift(Y0(c,E,D)),E=Zi(c,d),E!=null&&v.push(Y0(c,E,D))),c.tag===3)return v;c=c.return}return[]}function cm(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function nD(c,d,m,v,E){for(var D=d._reactName,z=[];m!==null&&m!==v;){var te=m,ye=te.alternate,Be=te.stateNode;if(te=te.tag,ye!==null&&ye===v)break;te!==5&&te!==26&&te!==27||Be===null||(ye=Be,E?(Be=Zi(m,D),Be!=null&&z.unshift(Y0(m,Be,ye))):E||(Be=Zi(m,D),Be!=null&&z.push(Y0(m,Be,ye)))),m=m.return}z.length!==0&&c.push({event:d,listeners:z})}var lW=/\r\n?/g,cW=/\u0000|\uFFFD/g;function aD(c){return(typeof c=="string"?c:""+c).replace(lW,`
`).replace(cW,"")}function iD(c,d){return d=aD(d),aD(c)===d}function Sv(){}function ws(c,d,m,v,E,D){switch(m){case"children":typeof v=="string"?d==="body"||d==="textarea"&&v===""||Bn(c,v):(typeof v=="number"||typeof v=="bigint")&&d!=="body"&&Bn(c,""+v);break;case"className":zt(c,"class",v);break;case"tabIndex":zt(c,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":zt(c,m,v);break;case"style":Ih(c,v,D);break;case"data":if(d!=="object"){zt(c,"data",v);break}case"src":case"href":if(v===""&&(d!=="a"||m!=="href")){c.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=ld(""+v),c.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(m==="formAction"?(d!=="input"&&ws(c,d,"name",E.name,E,null),ws(c,d,"formEncType",E.formEncType,E,null),ws(c,d,"formMethod",E.formMethod,E,null),ws(c,d,"formTarget",E.formTarget,E,null)):(ws(c,d,"encType",E.encType,E,null),ws(c,d,"method",E.method,E,null),ws(c,d,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=ld(""+v),c.setAttribute(m,v);break;case"onClick":v!=null&&(c.onclick=Sv);break;case"onScroll":v!=null&&Dr("scroll",c);break;case"onScrollEnd":v!=null&&Dr("scrollend",c);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(E.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"multiple":c.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":c.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){c.removeAttribute("xlink:href");break}m=ld(""+v),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""+v):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":v===!0?c.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,v):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?c.setAttribute(m,v):c.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?c.removeAttribute(m):c.setAttribute(m,v);break;case"popover":Dr("beforetoggle",c),Dr("toggle",c),Rt(c,"popover",v);break;case"xlinkActuate":hr(c,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":hr(c,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":hr(c,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":hr(c,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":hr(c,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":hr(c,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":hr(c,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":hr(c,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":hr(c,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Rt(c,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=m0.get(m)||m,Rt(c,m,v))}}function Wj(c,d,m,v,E,D){switch(m){case"style":Ih(c,v,D);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(E.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"children":typeof v=="string"?Bn(c,v):(typeof v=="number"||typeof v=="bigint")&&Bn(c,""+v);break;case"onScroll":v!=null&&Dr("scroll",c);break;case"onScrollEnd":v!=null&&Dr("scrollend",c);break;case"onClick":v!=null&&(c.onclick=Sv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ve.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(E=m.endsWith("Capture"),d=m.slice(2,E?m.length-7:void 0),D=c[Mr]||null,D=D!=null?D[m]:null,typeof D=="function"&&c.removeEventListener(d,D,E),typeof v=="function")){typeof D!="function"&&D!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(d,v,E);break e}m in c?c[m]=v:v===!0?c.setAttribute(m,""):Rt(c,m,v)}}}function ea(c,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dr("error",c),Dr("load",c);var v=!1,E=!1,D;for(D in m)if(m.hasOwnProperty(D)){var z=m[D];if(z!=null)switch(D){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:ws(c,d,D,z,m,null)}}E&&ws(c,d,"srcSet",m.srcSet,m,null),v&&ws(c,d,"src",m.src,m,null);return;case"input":Dr("invalid",c);var te=D=z=E=null,ye=null,Be=null;for(v in m)if(m.hasOwnProperty(v)){var rt=m[v];if(rt!=null)switch(v){case"name":E=rt;break;case"type":z=rt;break;case"checked":ye=rt;break;case"defaultChecked":Be=rt;break;case"value":D=rt;break;case"defaultValue":te=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,d));break;default:ws(c,d,v,rt,m,null)}}Ph(c,D,te,ye,Be,z,E,!1),Qi(c);return;case"select":Dr("invalid",c),v=z=D=null;for(E in m)if(m.hasOwnProperty(E)&&(te=m[E],te!=null))switch(E){case"value":D=te;break;case"defaultValue":z=te;break;case"multiple":v=te;default:ws(c,d,E,te,m,null)}d=D,m=z,c.multiple=!!v,d!=null?xl(c,!!v,d,!1):m!=null&&xl(c,!!v,m,!0);return;case"textarea":Dr("invalid",c),D=E=v=null;for(z in m)if(m.hasOwnProperty(z)&&(te=m[z],te!=null))switch(z){case"value":v=te;break;case"defaultValue":E=te;break;case"children":D=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(91));break;default:ws(c,d,z,te,m,null)}gl(c,v,E,D),Qi(c);return;case"option":for(ye in m)if(m.hasOwnProperty(ye)&&(v=m[ye],v!=null))switch(ye){case"selected":c.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:ws(c,d,ye,v,m,null)}return;case"dialog":Dr("beforetoggle",c),Dr("toggle",c),Dr("cancel",c),Dr("close",c);break;case"iframe":case"object":Dr("load",c);break;case"video":case"audio":for(v=0;v<G0.length;v++)Dr(G0[v],c);break;case"image":Dr("error",c),Dr("load",c);break;case"details":Dr("toggle",c);break;case"embed":case"source":case"link":Dr("error",c),Dr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Be in m)if(m.hasOwnProperty(Be)&&(v=m[Be],v!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:ws(c,d,Be,v,m,null)}return;default:if(si(d)){for(rt in m)m.hasOwnProperty(rt)&&(v=m[rt],v!==void 0&&Wj(c,d,rt,v,m,void 0));return}}for(te in m)m.hasOwnProperty(te)&&(v=m[te],v!=null&&ws(c,d,te,v,m,null))}function dW(c,d,m,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,D=null,z=null,te=null,ye=null,Be=null,rt=null;for(We in m){var ot=m[We];if(m.hasOwnProperty(We)&&ot!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":ye=ot;default:v.hasOwnProperty(We)||ws(c,d,We,null,v,ot)}}for(var ze in v){var We=v[ze];if(ot=m[ze],v.hasOwnProperty(ze)&&(We!=null||ot!=null))switch(ze){case"type":D=We;break;case"name":E=We;break;case"checked":Be=We;break;case"defaultChecked":rt=We;break;case"value":z=We;break;case"defaultValue":te=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(n(137,d));break;default:We!==ot&&ws(c,d,ze,We,v,ot)}}Qu(c,z,te,ye,Be,rt,D,E);return;case"select":We=z=te=ze=null;for(D in m)if(ye=m[D],m.hasOwnProperty(D)&&ye!=null)switch(D){case"value":break;case"multiple":We=ye;default:v.hasOwnProperty(D)||ws(c,d,D,null,v,ye)}for(E in v)if(D=v[E],ye=m[E],v.hasOwnProperty(E)&&(D!=null||ye!=null))switch(E){case"value":ze=D;break;case"defaultValue":te=D;break;case"multiple":z=D;default:D!==ye&&ws(c,d,E,D,v,ye)}d=te,m=z,v=We,ze!=null?xl(c,!!m,ze,!1):!!v!=!!m&&(d!=null?xl(c,!!m,d,!0):xl(c,!!m,m?[]:"",!1));return;case"textarea":We=ze=null;for(te in m)if(E=m[te],m.hasOwnProperty(te)&&E!=null&&!v.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:ws(c,d,te,null,v,E)}for(z in v)if(E=v[z],D=m[z],v.hasOwnProperty(z)&&(E!=null||D!=null))switch(z){case"value":ze=E;break;case"defaultValue":We=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==D&&ws(c,d,z,E,v,D)}Mh(c,ze,We);return;case"option":for(var cr in m)if(ze=m[cr],m.hasOwnProperty(cr)&&ze!=null&&!v.hasOwnProperty(cr))switch(cr){case"selected":c.selected=!1;break;default:ws(c,d,cr,null,v,ze)}for(ye in v)if(ze=v[ye],We=m[ye],v.hasOwnProperty(ye)&&ze!==We&&(ze!=null||We!=null))switch(ye){case"selected":c.selected=ze&&typeof ze!="function"&&typeof ze!="symbol";break;default:ws(c,d,ye,ze,v,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nr in m)ze=m[nr],m.hasOwnProperty(nr)&&ze!=null&&!v.hasOwnProperty(nr)&&ws(c,d,nr,null,v,ze);for(Be in v)if(ze=v[Be],We=m[Be],v.hasOwnProperty(Be)&&ze!==We&&(ze!=null||We!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(n(137,d));break;default:ws(c,d,Be,ze,v,We)}return;default:if(si(d)){for(var Ns in m)ze=m[Ns],m.hasOwnProperty(Ns)&&ze!==void 0&&!v.hasOwnProperty(Ns)&&Wj(c,d,Ns,void 0,v,ze);for(rt in v)ze=v[rt],We=m[rt],!v.hasOwnProperty(rt)||ze===We||ze===void 0&&We===void 0||Wj(c,d,rt,ze,v,We);return}}for(var Re in m)ze=m[Re],m.hasOwnProperty(Re)&&ze!=null&&!v.hasOwnProperty(Re)&&ws(c,d,Re,null,v,ze);for(ot in v)ze=v[ot],We=m[ot],!v.hasOwnProperty(ot)||ze===We||ze==null&&We==null||ws(c,d,ot,ze,v,We)}var Gj=null,Yj=null;function Ev(c){return c.nodeType===9?c:c.ownerDocument}function oD(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lD(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function Kj(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Qj=null;function uW(){var c=window.event;return c&&c.type==="popstate"?c===Qj?!1:(Qj=c,!0):(Qj=null,!1)}var cD=typeof setTimeout=="function"?setTimeout:void 0,fW=typeof clearTimeout=="function"?clearTimeout:void 0,dD=typeof Promise=="function"?Promise:void 0,hW=typeof queueMicrotask=="function"?queueMicrotask:typeof dD<"u"?function(c){return dD.resolve(null).then(c).catch(mW)}:cD;function mW(c){setTimeout(function(){throw c})}function kd(c){return c==="head"}function uD(c,d){var m=d,v=0,E=0;do{var D=m.nextSibling;if(c.removeChild(m),D&&D.nodeType===8)if(m=D.data,m==="/$"){if(0<v&&8>v){m=v;var z=c.ownerDocument;if(m&1&&K0(z.documentElement),m&2&&K0(z.body),m&4)for(m=z.head,K0(m),z=m.firstChild;z;){var te=z.nextSibling,ye=z.nodeName;z[oe]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&z.rel.toLowerCase()==="stylesheet"||m.removeChild(z),z=te}}if(E===0){c.removeChild(D),sx(d);return}E--}else m==="$"||m==="$?"||m==="$!"?E++:v=m.charCodeAt(0)-48;else v=0;m=D}while(m);sx(d)}function Xj(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Xj(m),se(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function pW(c,d,m,v){for(;c.nodeType===1;){var E=m;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!v&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(v){if(!c[oe])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(D=c.getAttribute("rel"),D==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(D!==E.rel||c.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||c.getAttribute("title")!==(E.title==null?null:E.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(D=c.getAttribute("src"),(D!==(E.src==null?null:E.src)||c.getAttribute("type")!==(E.type==null?null:E.type)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&D&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var D=E.name==null?null:""+E.name;if(E.type==="hidden"&&c.getAttribute("name")===D)return c}else return c;if(c=Mo(c.nextSibling),c===null)break}return null}function xW(c,d,m){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=Mo(c.nextSibling),c===null))return null;return c}function Zj(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function gW(c,d){var m=c.ownerDocument;if(c.data!=="$?"||m.readyState==="complete")d();else{var v=function(){d(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),c._reactRetry=v}}function Mo(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}var Jj=null;function fD(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return c;d--}else m==="/$"&&d++}c=c.previousSibling}return null}function hD(c,d,m){switch(d=Ev(m),c){case"html":if(c=d.documentElement,!c)throw Error(n(452));return c;case"head":if(c=d.head,!c)throw Error(n(453));return c;case"body":if(c=d.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function K0(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);se(c)}var ao=new Map,mD=new Set;function Av(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var gc=U.d;U.d={f:yW,r:vW,D:bW,C:wW,L:NW,m:jW,X:EW,S:SW,M:AW};function yW(){var c=gc.f(),d=gv();return c||d}function vW(c){var d=me(c);d!==null&&d.tag===5&&d.type==="form"?Pk(d):gc.r(c)}var dm=typeof document>"u"?null:document;function pD(c,d,m){var v=dm;if(v&&typeof d=="string"&&d){var E=wa(d);E='link[rel="'+c+'"][href="'+E+'"]',typeof m=="string"&&(E+='[crossorigin="'+m+'"]'),mD.has(E)||(mD.add(E),c={rel:c,crossOrigin:m,href:d},v.querySelector(E)===null&&(d=v.createElement("link"),ea(d,"link",c),Oe(d),v.head.appendChild(d)))}}function bW(c){gc.D(c),pD("dns-prefetch",c,null)}function wW(c,d){gc.C(c,d),pD("preconnect",c,d)}function NW(c,d,m){gc.L(c,d,m);var v=dm;if(v&&c&&d){var E='link[rel="preload"][as="'+wa(d)+'"]';d==="image"&&m&&m.imageSrcSet?(E+='[imagesrcset="'+wa(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(E+='[imagesizes="'+wa(m.imageSizes)+'"]')):E+='[href="'+wa(c)+'"]';var D=E;switch(d){case"style":D=um(c);break;case"script":D=fm(c)}ao.has(D)||(c=h({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:c,as:d},m),ao.set(D,c),v.querySelector(E)!==null||d==="style"&&v.querySelector(Q0(D))||d==="script"&&v.querySelector(X0(D))||(d=v.createElement("link"),ea(d,"link",c),Oe(d),v.head.appendChild(d)))}}function jW(c,d){gc.m(c,d);var m=dm;if(m&&c){var v=d&&typeof d.as=="string"?d.as:"script",E='link[rel="modulepreload"][as="'+wa(v)+'"][href="'+wa(c)+'"]',D=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=fm(c)}if(!ao.has(D)&&(c=h({rel:"modulepreload",href:c},d),ao.set(D,c),m.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(X0(D)))return}v=m.createElement("link"),ea(v,"link",c),Oe(v),m.head.appendChild(v)}}}function SW(c,d,m){gc.S(c,d,m);var v=dm;if(v&&c){var E=Ke(v).hoistableStyles,D=um(c);d=d||"default";var z=E.get(D);if(!z){var te={loading:0,preload:null};if(z=v.querySelector(Q0(D)))te.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":d},m),(m=ao.get(D))&&e2(c,m);var ye=z=v.createElement("link");Oe(ye),ea(ye,"link",c),ye._p=new Promise(function(Be,rt){ye.onload=Be,ye.onerror=rt}),ye.addEventListener("load",function(){te.loading|=1}),ye.addEventListener("error",function(){te.loading|=2}),te.loading|=4,Cv(z,d,v)}z={type:"stylesheet",instance:z,count:1,state:te},E.set(D,z)}}}function EW(c,d){gc.X(c,d);var m=dm;if(m&&c){var v=Ke(m).hoistableScripts,E=fm(c),D=v.get(E);D||(D=m.querySelector(X0(E)),D||(c=h({src:c,async:!0},d),(d=ao.get(E))&&t2(c,d),D=m.createElement("script"),Oe(D),ea(D,"link",c),m.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(E,D))}}function AW(c,d){gc.M(c,d);var m=dm;if(m&&c){var v=Ke(m).hoistableScripts,E=fm(c),D=v.get(E);D||(D=m.querySelector(X0(E)),D||(c=h({src:c,async:!0,type:"module"},d),(d=ao.get(E))&&t2(c,d),D=m.createElement("script"),Oe(D),ea(D,"link",c),m.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(E,D))}}function xD(c,d,m,v){var E=(E=J.current)?Av(E):null;if(!E)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=um(m.href),m=Ke(E).hoistableStyles,v=m.get(d),v||(v={type:"style",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=um(m.href);var D=Ke(E).hoistableStyles,z=D.get(c);if(z||(E=E.ownerDocument||E,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(c,z),(D=E.querySelector(Q0(c)))&&!D._p&&(z.instance=D,z.state.loading=5),ao.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ao.set(c,m),D||CW(E,c,m,z.state))),d&&v===null)throw Error(n(528,""));return z}if(d&&v!==null)throw Error(n(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=fm(m),m=Ke(E).hoistableScripts,v=m.get(d),v||(v={type:"script",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function um(c){return'href="'+wa(c)+'"'}function Q0(c){return'link[rel="stylesheet"]['+c+"]"}function gD(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function CW(c,d,m,v){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?v.loading=1:(d=c.createElement("link"),v.preload=d,d.addEventListener("load",function(){return v.loading|=1}),d.addEventListener("error",function(){return v.loading|=2}),ea(d,"link",m),Oe(d),c.head.appendChild(d))}function fm(c){return'[src="'+wa(c)+'"]'}function X0(c){return"script[async]"+c}function yD(c,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var v=c.querySelector('style[data-href~="'+wa(m.href)+'"]');if(v)return d.instance=v,Oe(v),v;var E=h({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(c.ownerDocument||c).createElement("style"),Oe(v),ea(v,"style",E),Cv(v,m.precedence,c),d.instance=v;case"stylesheet":E=um(m.href);var D=c.querySelector(Q0(E));if(D)return d.state.loading|=4,d.instance=D,Oe(D),D;v=gD(m),(E=ao.get(E))&&e2(v,E),D=(c.ownerDocument||c).createElement("link"),Oe(D);var z=D;return z._p=new Promise(function(te,ye){z.onload=te,z.onerror=ye}),ea(D,"link",v),d.state.loading|=4,Cv(D,m.precedence,c),d.instance=D;case"script":return D=fm(m.src),(E=c.querySelector(X0(D)))?(d.instance=E,Oe(E),E):(v=m,(E=ao.get(D))&&(v=h({},m),t2(v,E)),c=c.ownerDocument||c,E=c.createElement("script"),Oe(E),ea(E,"link",v),c.head.appendChild(E),d.instance=E);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(v=d.instance,d.state.loading|=4,Cv(v,m.precedence,c));return d.instance}function Cv(c,d,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,D=E,z=0;z<v.length;z++){var te=v[z];if(te.dataset.precedence===d)D=te;else if(D!==E)break}D?D.parentNode.insertBefore(c,D.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(c,d.firstChild))}function e2(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function t2(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var Tv=null;function vD(c,d,m){if(Tv===null){var v=new Map,E=Tv=new Map;E.set(m,v)}else E=Tv,v=E.get(m),v||(v=new Map,E.set(m,v));if(v.has(c))return v;for(v.set(c,null),m=m.getElementsByTagName(c),E=0;E<m.length;E++){var D=m[E];if(!(D[oe]||D[ds]||c==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var z=D.getAttribute(d)||"";z=c+z;var te=v.get(z);te?te.push(D):v.set(z,[D])}}return v}function bD(c,d,m){c=c.ownerDocument||c,c.head.insertBefore(m,d==="title"?c.querySelector("head > title"):null)}function TW(c,d,m){if(m===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function wD(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var Z0=null;function _W(){}function kW(c,d,m){if(Z0===null)throw Error(n(475));var v=Z0;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=um(m.href),D=c.querySelector(Q0(E));if(D){c=D._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(v.count++,v=_v.bind(v),c.then(v,v)),d.state.loading|=4,d.instance=D,Oe(D);return}D=c.ownerDocument||c,m=gD(m),(E=ao.get(E))&&e2(m,E),D=D.createElement("link"),Oe(D);var z=D;z._p=new Promise(function(te,ye){z.onload=te,z.onerror=ye}),ea(D,"link",m),d.instance=D}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(v.count++,d=_v.bind(v),c.addEventListener("load",d),c.addEventListener("error",d))}}function DW(){if(Z0===null)throw Error(n(475));var c=Z0;return c.stylesheets&&c.count===0&&r2(c,c.stylesheets),0<c.count?function(d){var m=setTimeout(function(){if(c.stylesheets&&r2(c,c.stylesheets),c.unsuspend){var v=c.unsuspend;c.unsuspend=null,v()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(m)}}:null}function _v(){if(this.count--,this.count===0){if(this.stylesheets)r2(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var kv=null;function r2(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,kv=new Map,d.forEach(OW,c),kv=null,_v.call(c))}function OW(c,d){if(!(d.state.loading&4)){var m=kv.get(c);if(m)var v=m.get(null);else{m=new Map,kv.set(c,m);for(var E=c.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<E.length;D++){var z=E[D];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(m.set(z.dataset.precedence,z),v=z)}v&&m.set(null,v)}E=d.instance,z=E.getAttribute("data-precedence"),D=m.get(z)||v,D===v&&m.set(null,E),m.set(z,E),this.count++,v=_v.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),D?D.parentNode.insertBefore(E,D.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(E,c.firstChild)),d.state.loading|=4}}var J0={$$typeof:A,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function RW(c,d,m,v,E,D,z,te){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vs(0),this.hiddenUpdates=Vs(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=D,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function ND(c,d,m,v,E,D,z,te,ye,Be,rt,ot){return c=new RW(c,d,m,z,te,ye,Be,ot),d=1,D===!0&&(d|=24),D=Ci(3,null,null,d),c.current=D,D.stateNode=c,d=FN(),d.refCount++,c.pooledCache=d,d.refCount++,D.memoizedState={element:v,isDehydrated:m,cache:d},UN(D),c}function jD(c){return c?(c=qh,c):qh}function SD(c,d,m,v,E,D){E=jD(E),v.context===null?v.context=E:v.pendingContext=E,v=gd(d),v.payload={element:m},D=D===void 0?null:D,D!==null&&(v.callback=D),m=yd(c,v,d),m!==null&&(Oi(m,c,d),_0(m,c,d))}function ED(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function s2(c,d){ED(c,d),(c=c.alternate)&&ED(c,d)}function AD(c){if(c.tag===13){var d=Vh(c,67108864);d!==null&&Oi(d,c,67108864),s2(c,67108864)}}var Dv=!0;function PW(c,d,m,v){var E=B.T;B.T=null;var D=U.p;try{U.p=2,n2(c,d,m,v)}finally{U.p=D,B.T=E}}function MW(c,d,m,v){var E=B.T;B.T=null;var D=U.p;try{U.p=8,n2(c,d,m,v)}finally{U.p=D,B.T=E}}function n2(c,d,m,v){if(Dv){var E=a2(v);if(E===null)Hj(c,d,v,Ov,m),TD(c,v);else if(FW(E,c,d,m,v))v.stopPropagation();else if(TD(c,v),d&4&&-1<IW.indexOf(c)){for(;E!==null;){var D=me(E);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var z=Hr(D.pendingLanes);if(z!==0){var te=D;for(te.pendingLanes|=2,te.entangledLanes|=2;z;){var ye=1<<31-Vt(z);te.entanglements[1]|=ye,z&=~ye}Sl(D),(us&6)===0&&(pv=ue()+500,W0(0))}}break;case 13:te=Vh(D,2),te!==null&&Oi(te,D,2),gv(),s2(D,2)}if(D=a2(v),D===null&&Hj(c,d,v,Ov,m),D===E)break;E=D}E!==null&&v.stopPropagation()}else Hj(c,d,v,null,m)}}function a2(c){return c=cd(c),i2(c)}var Ov=null;function i2(c){if(Ov=null,c=de(c),c!==null){var d=i(c);if(d===null)c=null;else{var m=d.tag;if(m===13){if(c=o(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Ov=c,null}function CD(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case De:return 2;case Et:return 8;case _t:case xe:return 32;case Ae:return 268435456;default:return 32}default:return 32}}var o2=!1,Dd=null,Od=null,Rd=null,ex=new Map,tx=new Map,Pd=[],IW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TD(c,d){switch(c){case"focusin":case"focusout":Dd=null;break;case"dragenter":case"dragleave":Od=null;break;case"mouseover":case"mouseout":Rd=null;break;case"pointerover":case"pointerout":ex.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":tx.delete(d.pointerId)}}function rx(c,d,m,v,E,D){return c===null||c.nativeEvent!==D?(c={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:D,targetContainers:[E]},d!==null&&(d=me(d),d!==null&&AD(d)),c):(c.eventSystemFlags|=v,d=c.targetContainers,E!==null&&d.indexOf(E)===-1&&d.push(E),c)}function FW(c,d,m,v,E){switch(d){case"focusin":return Dd=rx(Dd,c,d,m,v,E),!0;case"dragenter":return Od=rx(Od,c,d,m,v,E),!0;case"mouseover":return Rd=rx(Rd,c,d,m,v,E),!0;case"pointerover":var D=E.pointerId;return ex.set(D,rx(ex.get(D)||null,c,d,m,v,E)),!0;case"gotpointercapture":return D=E.pointerId,tx.set(D,rx(tx.get(D)||null,c,d,m,v,E)),!0}return!1}function _D(c){var d=de(c.target);if(d!==null){var m=i(d);if(m!==null){if(d=m.tag,d===13){if(d=o(m),d!==null){c.blockedOn=d,Jr(c.priority,function(){if(m.tag===13){var v=Di();v=qt(v);var E=Vh(m,v);E!==null&&Oi(E,m,v),s2(m,v)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Rv(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=a2(c.nativeEvent);if(m===null){m=c.nativeEvent;var v=new m.constructor(m.type,m);Xu=v,m.target.dispatchEvent(v),Xu=null}else return d=me(m),d!==null&&AD(d),c.blockedOn=m,!1;d.shift()}return!0}function kD(c,d,m){Rv(c)&&m.delete(d)}function LW(){o2=!1,Dd!==null&&Rv(Dd)&&(Dd=null),Od!==null&&Rv(Od)&&(Od=null),Rd!==null&&Rv(Rd)&&(Rd=null),ex.forEach(kD),tx.forEach(kD)}function Pv(c,d){c.blockedOn===d&&(c.blockedOn=null,o2||(o2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LW)))}var Mv=null;function DD(c){Mv!==c&&(Mv=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mv===c&&(Mv=null);for(var d=0;d<c.length;d+=3){var m=c[d],v=c[d+1],E=c[d+2];if(typeof v!="function"){if(i2(v||m)===null)continue;break}var D=me(m);D!==null&&(c.splice(d,3),d-=3,ij(D,{pending:!0,data:E,method:m.method,action:v},v,E))}}))}function sx(c){function d(ye){return Pv(ye,c)}Dd!==null&&Pv(Dd,c),Od!==null&&Pv(Od,c),Rd!==null&&Pv(Rd,c),ex.forEach(d),tx.forEach(d);for(var m=0;m<Pd.length;m++){var v=Pd[m];v.blockedOn===c&&(v.blockedOn=null)}for(;0<Pd.length&&(m=Pd[0],m.blockedOn===null);)_D(m),m.blockedOn===null&&Pd.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var E=m[v],D=m[v+1],z=E[Mr]||null;if(typeof D=="function")z||DD(m);else if(z){var te=null;if(D&&D.hasAttribute("formAction")){if(E=D,z=D[Mr]||null)te=z.formAction;else if(i2(E)!==null)continue}else te=z.action;typeof te=="function"?m[v+1]=te:(m.splice(v,3),v-=3),DD(m)}}}function l2(c){this._internalRoot=c}Iv.prototype.render=l2.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));var m=d.current,v=Di();SD(m,v,c,d,null,null)},Iv.prototype.unmount=l2.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;SD(c.current,2,null,c,null,null),gv(),d[Ts]=null}};function Iv(c){this._internalRoot=c}Iv.prototype.unstable_scheduleHydration=function(c){if(c){var d=Gs();c={blockedOn:null,target:c,priority:d};for(var m=0;m<Pd.length&&d!==0&&d<Pd[m].priority;m++);Pd.splice(m,0,c),m===0&&_D(c)}};var OD=t.version;if(OD!=="19.1.0")throw Error(n(527,OD,"19.1.0"));U.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=u(d),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var BW={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fv.isDisabled&&Fv.supportsFiber)try{ht=Fv.inject(BW),tt=Fv}catch{}}return ax.createRoot=function(c,d){if(!a(c))throw Error(n(299));var m=!1,v="",E=Yk,D=Kk,z=Qk,te=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(z=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(te=d.unstable_transitionCallbacks)),d=ND(c,1,!1,null,null,m,v,E,D,z,te,null),c[Ts]=d.current,zj(c),new l2(d)},ax.hydrateRoot=function(c,d,m){if(!a(c))throw Error(n(299));var v=!1,E="",D=Yk,z=Kk,te=Qk,ye=null,Be=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(D=m.onUncaughtError),m.onCaughtError!==void 0&&(z=m.onCaughtError),m.onRecoverableError!==void 0&&(te=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ye=m.unstable_transitionCallbacks),m.formState!==void 0&&(Be=m.formState)),d=ND(c,1,!0,d,m??null,v,E,D,z,te,ye,Be),d.context=jD(null),m=d.current,v=Di(),v=qt(v),E=gd(v),E.callback=null,yd(m,E,v),m=v,d.current.lanes=m,_e(d,m),Sl(d),c[Ts]=d.current,zj(c),new Iv(d)},ax.version="19.1.0",ax}var qD;function ZW(){if(qD)return f2.exports;qD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),f2.exports=XW(),f2.exports}var JW=ZW(),Mp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uf=typeof window>"u"||"Deno"in globalThis;function ho(){}function eG(e,t){return typeof e=="function"?e(t):e}function iE(e){return typeof e=="number"&&e>=0&&e!==1/0}function Z6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vm(e,t){return typeof e=="function"?e(t):e}function Ho(e,t){return typeof e=="function"?e(t):e}function zD(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==uC(o,t.options))return!1}else if(!Yx(t.queryKey,o))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function HD(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Vf(t.options.mutationKey)!==Vf(i))return!1}else if(!Yx(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function uC(e,t){return((t==null?void 0:t.queryKeyHashFn)||Vf)(e)}function Vf(e){return JSON.stringify(e,(t,r)=>oE(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Yx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Yx(e[r],t[r])):!1}function J6(e,t){if(e===t)return e;const r=WD(e)&&WD(t);if(r||oE(e)&&oE(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let u=0;for(let f=0;f<o;f++){const h=r?f:i[f];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=J6(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function z1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function WD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function oE(e){if(!GD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!GD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function GD(e){return Object.prototype.toString.call(e)==="[object Object]"}function tG(e){return new Promise(t=>{setTimeout(t,e)})}function lE(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?J6(e,t):t}function rG(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function sG(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var fC=Symbol();function eI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===fC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Cf,tu,np,U6,nG=(U6=class extends Mp{constructor(){super();sr(this,Cf);sr(this,tu);sr(this,np);Pt(this,np,t=>{if(!Uf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ne(this,tu)||this.setEventListener(Ne(this,np))}onUnsubscribe(){var t;this.hasListeners()||((t=Ne(this,tu))==null||t.call(this),Pt(this,tu,void 0))}setEventListener(t){var r;Pt(this,np,t),(r=Ne(this,tu))==null||r.call(this),Pt(this,tu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Ne(this,Cf)!==t&&(Pt(this,Cf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Ne(this,Cf)=="boolean"?Ne(this,Cf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cf=new WeakMap,tu=new WeakMap,np=new WeakMap,U6),hC=new nG,ap,ru,ip,V6,aG=(V6=class extends Mp{constructor(){super();sr(this,ap,!0);sr(this,ru);sr(this,ip);Pt(this,ip,t=>{if(!Uf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ne(this,ru)||this.setEventListener(Ne(this,ip))}onUnsubscribe(){var t;this.hasListeners()||((t=Ne(this,ru))==null||t.call(this),Pt(this,ru,void 0))}setEventListener(t){var r;Pt(this,ip,t),(r=Ne(this,ru))==null||r.call(this),Pt(this,ru,t(this.setOnline.bind(this)))}setOnline(t){Ne(this,ap)!==t&&(Pt(this,ap,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Ne(this,ap)}},ap=new WeakMap,ru=new WeakMap,ip=new WeakMap,V6),H1=new aG;function cE(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function iG(e){return Math.min(1e3*2**e,3e4)}function tI(e){return(e??"online")==="online"?H1.isOnline():!0}var rI=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function x2(e){return e instanceof rI}function sI(e){let t=!1,r=0,n=!1,a;const i=cE(),o=b=>{var N;n||(x(new rI(b)),(N=e.abort)==null||N.call(e))},l=()=>{t=!0},u=()=>{t=!1},f=()=>hC.isFocused()&&(e.networkMode==="always"||H1.isOnline())&&e.canRun(),h=()=>tI(e.networkMode)&&e.canRun(),p=b=>{var N;n||(n=!0,(N=e.onSuccess)==null||N.call(e,b),a==null||a(),i.resolve(b))},x=b=>{var N;n||(n=!0,(N=e.onError)==null||N.call(e,b),a==null||a(),i.reject(b))},y=()=>new Promise(b=>{var N;a=j=>{(n||f())&&b(j)},(N=e.onPause)==null||N.call(e)}).then(()=>{var b;a=void 0,n||(b=e.onContinue)==null||b.call(e)}),w=()=>{if(n)return;let b;const N=r===0?e.initialPromise:void 0;try{b=N??e.fn()}catch(j){b=Promise.reject(j)}Promise.resolve(b).then(p).catch(j=>{var k;if(n)return;const S=e.retry??(Uf?0:3),A=e.retryDelay??iG,_=typeof A=="function"?A(r,j):A,C=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,j);if(t||!C){x(j);return}r++,(k=e.onFail)==null||k.call(e,r,j),tG(_).then(()=>f()?void 0:y()).then(()=>{t?x(j):w()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?w():y().then(w),i)}}var oG=e=>setTimeout(e,0);function lG(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=oG;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Fn=lG(),Tf,q6,nI=(q6=class{constructor(){sr(this,Tf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iE(this.gcTime)&&Pt(this,Tf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Uf?1/0:5*60*1e3))}clearGcTimeout(){Ne(this,Tf)&&(clearTimeout(Ne(this,Tf)),Pt(this,Tf,void 0))}},Tf=new WeakMap,q6),op,lp,fo,_f,Ea,qg,kf,qo,jc,z6,cG=(z6=class extends nI{constructor(t){super();sr(this,qo);sr(this,op);sr(this,lp);sr(this,fo);sr(this,_f);sr(this,Ea);sr(this,qg);sr(this,kf);Pt(this,kf,!1),Pt(this,qg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Pt(this,_f,t.client),Pt(this,fo,Ne(this,_f).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Pt(this,op,dG(this.options)),this.state=t.state??Ne(this,op),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ne(this,Ea))==null?void 0:t.promise}setOptions(t){this.options={...Ne(this,qg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ne(this,fo).remove(this)}setData(t,r){const n=lE(this.state.data,t,this.options);return br(this,qo,jc).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){br(this,qo,jc).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=Ne(this,Ea))==null?void 0:n.promise;return(a=Ne(this,Ea))==null||a.cancel(t),r?r.then(ho).catch(ho):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ne(this,op))}isActive(){return this.observers.some(t=>Ho(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Z6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Ne(this,Ea))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Ne(this,Ea))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ne(this,fo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ne(this,Ea)&&(Ne(this,kf)?Ne(this,Ea).cancel({revert:!0}):Ne(this,Ea).cancelRetry()),this.scheduleGc()),Ne(this,fo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||br(this,qo,jc).call(this,{type:"invalidate"})}fetch(t,r){var u,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ne(this,Ea))return Ne(this,Ea).continueRetry(),Ne(this,Ea).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(x=>x.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,a=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Pt(this,kf,!0),n.signal)})},i=()=>{const p=eI(this.options,r),x={client:Ne(this,_f),queryKey:this.queryKey,meta:this.meta};return a(x),Pt(this,kf,!1),this.options.persister?this.options.persister(p,x,this):p(x)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ne(this,_f),state:this.state,fetchFn:i};a(o),(u=this.options.behavior)==null||u.onFetch(o,this),Pt(this,lp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&br(this,qo,jc).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=p=>{var x,y,w,b;x2(p)&&p.silent||br(this,qo,jc).call(this,{type:"error",error:p}),x2(p)||((y=(x=Ne(this,fo).config).onError)==null||y.call(x,p,this),(b=(w=Ne(this,fo).config).onSettled)==null||b.call(w,this.state.data,p,this)),this.scheduleGc()};return Pt(this,Ea,sI({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var x,y,w,b;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(N){l(N);return}(y=(x=Ne(this,fo).config).onSuccess)==null||y.call(x,p,this),(b=(w=Ne(this,fo).config).onSettled)==null||b.call(w,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,x)=>{br(this,qo,jc).call(this,{type:"failed",failureCount:p,error:x})},onPause:()=>{br(this,qo,jc).call(this,{type:"pause"})},onContinue:()=>{br(this,qo,jc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Ne(this,Ea).start()}},op=new WeakMap,lp=new WeakMap,fo=new WeakMap,_f=new WeakMap,Ea=new WeakMap,qg=new WeakMap,kf=new WeakMap,qo=new WeakSet,jc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...aI(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return x2(a)&&a.revert&&Ne(this,lp)?{...Ne(this,lp),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Fn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ne(this,fo).notify({query:this,type:"updated",action:t})})},z6);function aI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dG(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Dl,H6,uG=(H6=class extends Mp{constructor(t={}){super();sr(this,Dl);this.config=t,Pt(this,Dl,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??uC(a,r);let o=this.get(i);return o||(o=new cG({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Ne(this,Dl).has(t.queryHash)||(Ne(this,Dl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ne(this,Dl).get(t.queryHash);r&&(t.destroy(),r===t&&Ne(this,Dl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ne(this,Dl).get(t)}getAll(){return[...Ne(this,Dl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>zD(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>zD(t,n)):r}notify(t){Fn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dl=new WeakMap,H6),Ol,$a,Df,Rl,zd,W6,fG=(W6=class extends nI{constructor(t){super();sr(this,Rl);sr(this,Ol);sr(this,$a);sr(this,Df);this.mutationId=t.mutationId,Pt(this,$a,t.mutationCache),Pt(this,Ol,[]),this.state=t.state||iI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ne(this,Ol).includes(t)||(Ne(this,Ol).push(t),this.clearGcTimeout(),Ne(this,$a).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Pt(this,Ol,Ne(this,Ol).filter(r=>r!==t)),this.scheduleGc(),Ne(this,$a).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ne(this,Ol).length||(this.state.status==="pending"?this.scheduleGc():Ne(this,$a).remove(this))}continue(){var t;return((t=Ne(this,Df))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,u,f,h,p,x,y,w,b,N,j,S,A,_,C,k,T,O;const r=()=>{br(this,Rl,zd).call(this,{type:"continue"})};Pt(this,Df,sI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,L)=>{br(this,Rl,zd).call(this,{type:"failed",failureCount:R,error:L})},onPause:()=>{br(this,Rl,zd).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ne(this,$a).canRun(this)}));const n=this.state.status==="pending",a=!Ne(this,Df).canStart();try{if(n)r();else{br(this,Rl,zd).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=Ne(this,$a).config).onMutate)==null?void 0:o.call(i,t,this));const L=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t));L!==this.state.context&&br(this,Rl,zd).call(this,{type:"pending",context:L,variables:t,isPaused:a})}const R=await Ne(this,Df).start();return await((h=(f=Ne(this,$a).config).onSuccess)==null?void 0:h.call(f,R,t,this.state.context,this)),await((x=(p=this.options).onSuccess)==null?void 0:x.call(p,R,t,this.state.context)),await((w=(y=Ne(this,$a).config).onSettled)==null?void 0:w.call(y,R,null,this.state.variables,this.state.context,this)),await((N=(b=this.options).onSettled)==null?void 0:N.call(b,R,null,t,this.state.context)),br(this,Rl,zd).call(this,{type:"success",data:R}),R}catch(R){try{throw await((S=(j=Ne(this,$a).config).onError)==null?void 0:S.call(j,R,t,this.state.context,this)),await((_=(A=this.options).onError)==null?void 0:_.call(A,R,t,this.state.context)),await((k=(C=Ne(this,$a).config).onSettled)==null?void 0:k.call(C,void 0,R,this.state.variables,this.state.context,this)),await((O=(T=this.options).onSettled)==null?void 0:O.call(T,void 0,R,t,this.state.context)),R}finally{br(this,Rl,zd).call(this,{type:"error",error:R})}}finally{Ne(this,$a).runNext(this)}}},Ol=new WeakMap,$a=new WeakMap,Df=new WeakMap,Rl=new WeakSet,zd=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Fn.batch(()=>{Ne(this,Ol).forEach(n=>{n.onMutationUpdate(t)}),Ne(this,$a).notify({mutation:this,type:"updated",action:t})})},W6);function iI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ac,zo,zg,G6,hG=(G6=class extends Mp{constructor(t={}){super();sr(this,Ac);sr(this,zo);sr(this,zg);this.config=t,Pt(this,Ac,new Set),Pt(this,zo,new Map),Pt(this,zg,0)}build(t,r,n){const a=new fG({mutationCache:this,mutationId:++Lv(this,zg)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){Ne(this,Ac).add(t);const r=Bv(t);if(typeof r=="string"){const n=Ne(this,zo).get(r);n?n.push(t):Ne(this,zo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ne(this,Ac).delete(t)){const r=Bv(t);if(typeof r=="string"){const n=Ne(this,zo).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&Ne(this,zo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Bv(t);if(typeof r=="string"){const n=Ne(this,zo).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Bv(t);if(typeof r=="string"){const a=(n=Ne(this,zo).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fn.batch(()=>{Ne(this,Ac).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ne(this,Ac).clear(),Ne(this,zo).clear()})}getAll(){return Array.from(Ne(this,Ac))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>HD(r,n))}findAll(t={}){return this.getAll().filter(r=>HD(t,r))}notify(t){Fn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Fn.batch(()=>Promise.all(t.map(r=>r.continue().catch(ho))))}},Ac=new WeakMap,zo=new WeakMap,zg=new WeakMap,G6);function Bv(e){var t;return(t=e.options.scope)==null?void 0:t.id}function YD(e){return{onFetch:(t,r)=>{var h,p,x,y,w;const n=t.options,a=(x=(p=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:x.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const f=async()=>{let b=!1;const N=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},j=eI(t.options,t.fetchOptions),S=async(A,_,C)=>{if(b)return Promise.reject();if(_==null&&A.pages.length)return Promise.resolve(A);const k={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};N(k);const T=await j(k),{maxPages:O}=t.options,R=C?sG:rG;return{pages:R(A.pages,T,O),pageParams:R(A.pageParams,_,O)}};if(a&&i.length){const A=a==="backward",_=A?mG:KD,C={pages:i,pageParams:o},k=_(n,C);l=await S(C,k,A)}else{const A=e??i.length;do{const _=u===0?o[0]??n.initialPageParam:KD(n,l);if(u>0&&_==null)break;l=await S(l,_),u++}while(u<A)}return l};t.options.persister?t.fetchFn=()=>{var b,N;return(N=(b=t.options).persister)==null?void 0:N.call(b,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=f}}}function KD(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function mG(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var on,su,nu,cp,dp,au,up,fp,Y6,mC=(Y6=class{constructor(e={}){sr(this,on);sr(this,su);sr(this,nu);sr(this,cp);sr(this,dp);sr(this,au);sr(this,up);sr(this,fp);Pt(this,on,e.queryCache||new uG),Pt(this,su,e.mutationCache||new hG),Pt(this,nu,e.defaultOptions||{}),Pt(this,cp,new Map),Pt(this,dp,new Map),Pt(this,au,0)}mount(){Lv(this,au)._++,Ne(this,au)===1&&(Pt(this,up,hC.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ne(this,on).onFocus())})),Pt(this,fp,H1.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ne(this,on).onOnline())})))}unmount(){var e,t;Lv(this,au)._--,Ne(this,au)===0&&((e=Ne(this,up))==null||e.call(this),Pt(this,up,void 0),(t=Ne(this,fp))==null||t.call(this),Pt(this,fp,void 0))}isFetching(e){return Ne(this,on).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ne(this,su).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ne(this,on).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Ne(this,on).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Vm(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Ne(this,on).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=Ne(this,on).get(n.queryHash),i=a==null?void 0:a.state.data,o=eG(t,i);if(o!==void 0)return Ne(this,on).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Fn.batch(()=>Ne(this,on).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ne(this,on).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Ne(this,on);Fn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ne(this,on);return Fn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Fn.batch(()=>Ne(this,on).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ho).catch(ho)}invalidateQueries(e,t={}){return Fn.batch(()=>(Ne(this,on).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Fn.batch(()=>Ne(this,on).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ho)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ho)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ne(this,on).build(this,t);return r.isStaleByTime(Vm(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ho).catch(ho)}fetchInfiniteQuery(e){return e.behavior=YD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ho).catch(ho)}ensureInfiniteQueryData(e){return e.behavior=YD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return H1.isOnline()?Ne(this,su).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ne(this,on)}getMutationCache(){return Ne(this,su)}getDefaultOptions(){return Ne(this,nu)}setDefaultOptions(e){Pt(this,nu,e)}setQueryDefaults(e,t){Ne(this,cp).set(Vf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ne(this,cp).values()],r={};return t.forEach(n=>{Yx(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Ne(this,dp).set(Vf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ne(this,dp).values()],r={};return t.forEach(n=>{Yx(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ne(this,nu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=uC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===fC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ne(this,nu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ne(this,on).clear(),Ne(this,su).clear()}},on=new WeakMap,su=new WeakMap,nu=new WeakMap,cp=new WeakMap,dp=new WeakMap,au=new WeakMap,up=new WeakMap,fp=new WeakMap,Y6),di,Br,Hg,Ua,Of,hp,iu,ou,Wg,mp,pp,Rf,Pf,lu,xp,is,bx,dE,uE,fE,hE,mE,pE,xE,oI,K6,pG=(K6=class extends Mp{constructor(t,r){super();sr(this,is);sr(this,di);sr(this,Br);sr(this,Hg);sr(this,Ua);sr(this,Of);sr(this,hp);sr(this,iu);sr(this,ou);sr(this,Wg);sr(this,mp);sr(this,pp);sr(this,Rf);sr(this,Pf);sr(this,lu);sr(this,xp,new Set);this.options=r,Pt(this,di,t),Pt(this,ou,null),Pt(this,iu,cE()),this.options.experimental_prefetchInRender||Ne(this,iu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ne(this,Br).addObserver(this),QD(Ne(this,Br),this.options)?br(this,is,bx).call(this):this.updateResult(),br(this,is,hE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gE(Ne(this,Br),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gE(Ne(this,Br),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,br(this,is,mE).call(this),br(this,is,pE).call(this),Ne(this,Br).removeObserver(this)}setOptions(t){const r=this.options,n=Ne(this,Br);if(this.options=Ne(this,di).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ho(this.options.enabled,Ne(this,Br))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");br(this,is,xE).call(this),Ne(this,Br).setOptions(this.options),r._defaulted&&!z1(this.options,r)&&Ne(this,di).getQueryCache().notify({type:"observerOptionsUpdated",query:Ne(this,Br),observer:this});const a=this.hasListeners();a&&XD(Ne(this,Br),n,this.options,r)&&br(this,is,bx).call(this),this.updateResult(),a&&(Ne(this,Br)!==n||Ho(this.options.enabled,Ne(this,Br))!==Ho(r.enabled,Ne(this,Br))||Vm(this.options.staleTime,Ne(this,Br))!==Vm(r.staleTime,Ne(this,Br)))&&br(this,is,dE).call(this);const i=br(this,is,uE).call(this);a&&(Ne(this,Br)!==n||Ho(this.options.enabled,Ne(this,Br))!==Ho(r.enabled,Ne(this,Br))||i!==Ne(this,lu))&&br(this,is,fE).call(this,i)}getOptimisticResult(t){const r=Ne(this,di).getQueryCache().build(Ne(this,di),t),n=this.createResult(r,t);return gG(this,n)&&(Pt(this,Ua,n),Pt(this,hp,this.options),Pt(this,Of,Ne(this,Br).state)),n}getCurrentResult(){return Ne(this,Ua)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){Ne(this,xp).add(t)}getCurrentQuery(){return Ne(this,Br)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Ne(this,di).defaultQueryOptions(t),n=Ne(this,di).getQueryCache().build(Ne(this,di),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return br(this,is,bx).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Ne(this,Ua)))}createResult(t,r){var R;const n=Ne(this,Br),a=this.options,i=Ne(this,Ua),o=Ne(this,Of),l=Ne(this,hp),f=t!==n?t.state:Ne(this,Hg),{state:h}=t;let p={...h},x=!1,y;if(r._optimisticResults){const L=this.hasListeners(),M=!L&&QD(t,r),G=L&&XD(t,n,r,a);(M||G)&&(p={...p,...aI(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:b,status:N}=p;y=p.data;let j=!1;if(r.placeholderData!==void 0&&y===void 0&&N==="pending"){let L;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(L=i.data,j=!0):L=typeof r.placeholderData=="function"?r.placeholderData((R=Ne(this,pp))==null?void 0:R.state.data,Ne(this,pp)):r.placeholderData,L!==void 0&&(N="success",y=lE(i==null?void 0:i.data,L,r),x=!0)}if(r.select&&y!==void 0&&!j)if(i&&y===(o==null?void 0:o.data)&&r.select===Ne(this,Wg))y=Ne(this,mp);else try{Pt(this,Wg,r.select),y=r.select(y),y=lE(i==null?void 0:i.data,y,r),Pt(this,mp,y),Pt(this,ou,null)}catch(L){Pt(this,ou,L)}Ne(this,ou)&&(w=Ne(this,ou),y=Ne(this,mp),b=Date.now(),N="error");const S=p.fetchStatus==="fetching",A=N==="pending",_=N==="error",C=A&&S,k=y!==void 0,O={status:N,fetchStatus:p.fetchStatus,isPending:A,isSuccess:N==="success",isError:_,isInitialLoading:C,isLoading:C,data:y,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:b,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:S,isRefetching:S&&!A,isLoadingError:_&&!k,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:_&&k,isStale:pC(t,r),refetch:this.refetch,promise:Ne(this,iu)};if(this.options.experimental_prefetchInRender){const L=V=>{O.status==="error"?V.reject(O.error):O.data!==void 0&&V.resolve(O.data)},M=()=>{const V=Pt(this,iu,O.promise=cE());L(V)},G=Ne(this,iu);switch(G.status){case"pending":t.queryHash===n.queryHash&&L(G);break;case"fulfilled":(O.status==="error"||O.data!==G.value)&&M();break;case"rejected":(O.status!=="error"||O.error!==G.reason)&&M();break}}return O}updateResult(){const t=Ne(this,Ua),r=this.createResult(Ne(this,Br),this.options);if(Pt(this,Of,Ne(this,Br).state),Pt(this,hp,this.options),Ne(this,Of).data!==void 0&&Pt(this,pp,Ne(this,Br)),z1(r,t))return;Pt(this,Ua,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Ne(this,xp).size)return!0;const o=new Set(i??Ne(this,xp));return this.options.throwOnError&&o.add("error"),Object.keys(Ne(this,Ua)).some(l=>{const u=l;return Ne(this,Ua)[u]!==t[u]&&o.has(u)})};br(this,is,oI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&br(this,is,hE).call(this)}},di=new WeakMap,Br=new WeakMap,Hg=new WeakMap,Ua=new WeakMap,Of=new WeakMap,hp=new WeakMap,iu=new WeakMap,ou=new WeakMap,Wg=new WeakMap,mp=new WeakMap,pp=new WeakMap,Rf=new WeakMap,Pf=new WeakMap,lu=new WeakMap,xp=new WeakMap,is=new WeakSet,bx=function(t){br(this,is,xE).call(this);let r=Ne(this,Br).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ho)),r},dE=function(){br(this,is,mE).call(this);const t=Vm(this.options.staleTime,Ne(this,Br));if(Uf||Ne(this,Ua).isStale||!iE(t))return;const n=Z6(Ne(this,Ua).dataUpdatedAt,t)+1;Pt(this,Rf,setTimeout(()=>{Ne(this,Ua).isStale||this.updateResult()},n))},uE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ne(this,Br)):this.options.refetchInterval)??!1},fE=function(t){br(this,is,pE).call(this),Pt(this,lu,t),!(Uf||Ho(this.options.enabled,Ne(this,Br))===!1||!iE(Ne(this,lu))||Ne(this,lu)===0)&&Pt(this,Pf,setInterval(()=>{(this.options.refetchIntervalInBackground||hC.isFocused())&&br(this,is,bx).call(this)},Ne(this,lu)))},hE=function(){br(this,is,dE).call(this),br(this,is,fE).call(this,br(this,is,uE).call(this))},mE=function(){Ne(this,Rf)&&(clearTimeout(Ne(this,Rf)),Pt(this,Rf,void 0))},pE=function(){Ne(this,Pf)&&(clearInterval(Ne(this,Pf)),Pt(this,Pf,void 0))},xE=function(){const t=Ne(this,di).getQueryCache().build(Ne(this,di),this.options);if(t===Ne(this,Br))return;const r=Ne(this,Br);Pt(this,Br,t),Pt(this,Hg,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},oI=function(t){Fn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Ne(this,Ua))}),Ne(this,di).getQueryCache().notify({query:Ne(this,Br),type:"observerResultsUpdated"})})},K6);function xG(e,t){return Ho(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function QD(e,t){return xG(e,t)||e.state.data!==void 0&&gE(e,t,t.refetchOnMount)}function gE(e,t,r){if(Ho(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&pC(e,t)}return!1}function XD(e,t,r,n){return(e!==t||Ho(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&pC(e,r)}function pC(e,t){return Ho(t.enabled,e)!==!1&&e.isStaleByTime(Vm(t.staleTime,e))}function gG(e,t){return!z1(e.getCurrentResult(),t)}var cu,du,ui,Cc,Lc,E1,yE,Q6,yG=(Q6=class extends Mp{constructor(r,n){super();sr(this,Lc);sr(this,cu);sr(this,du);sr(this,ui);sr(this,Cc);Pt(this,cu,r),this.setOptions(n),this.bindMethods(),br(this,Lc,E1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=Ne(this,cu).defaultMutationOptions(r),z1(this.options,n)||Ne(this,cu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ne(this,ui),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Vf(n.mutationKey)!==Vf(this.options.mutationKey)?this.reset():((a=Ne(this,ui))==null?void 0:a.state.status)==="pending"&&Ne(this,ui).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Ne(this,ui))==null||r.removeObserver(this)}onMutationUpdate(r){br(this,Lc,E1).call(this),br(this,Lc,yE).call(this,r)}getCurrentResult(){return Ne(this,du)}reset(){var r;(r=Ne(this,ui))==null||r.removeObserver(this),Pt(this,ui,void 0),br(this,Lc,E1).call(this),br(this,Lc,yE).call(this)}mutate(r,n){var a;return Pt(this,Cc,n),(a=Ne(this,ui))==null||a.removeObserver(this),Pt(this,ui,Ne(this,cu).getMutationCache().build(Ne(this,cu),this.options)),Ne(this,ui).addObserver(this),Ne(this,ui).execute(r)}},cu=new WeakMap,du=new WeakMap,ui=new WeakMap,Cc=new WeakMap,Lc=new WeakSet,E1=function(){var n;const r=((n=Ne(this,ui))==null?void 0:n.state)??iI();Pt(this,du,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},yE=function(r){Fn.batch(()=>{var n,a,i,o,l,u,f,h;if(Ne(this,Cc)&&this.hasListeners()){const p=Ne(this,du).variables,x=Ne(this,du).context;(r==null?void 0:r.type)==="success"?((a=(n=Ne(this,Cc)).onSuccess)==null||a.call(n,r.data,p,x),(o=(i=Ne(this,Cc)).onSettled)==null||o.call(i,r.data,null,p,x)):(r==null?void 0:r.type)==="error"&&((u=(l=Ne(this,Cc)).onError)==null||u.call(l,r.error,p,x),(h=(f=Ne(this,Cc)).onSettled)==null||h.call(f,void 0,r.error,p,x))}this.listeners.forEach(p=>{p(Ne(this,du))})})},Q6),lI=g.createContext(void 0),_n=e=>{const t=g.useContext(lI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vG=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(lI.Provider,{value:e,children:t})),cI=g.createContext(!1),bG=()=>g.useContext(cI);cI.Provider;function wG(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var NG=g.createContext(wG()),jG=()=>g.useContext(NG);function dI(e,t){return typeof e=="function"?e(...t):!!e}function vE(){}var SG=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},EG=e=>{g.useEffect(()=>{e.clearReset()},[e])},AG=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||dI(r,[e.error,n])),CG=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},TG=(e,t)=>e.isLoading&&e.isFetching&&!t,_G=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ZD=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function kG(e,t,r){var p,x,y,w,b;const n=_n(),a=bG(),i=jG(),o=n.defaultQueryOptions(e);(x=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||x.call(p,o),o._optimisticResults=a?"isRestoring":"optimistic",CG(o),SG(o,i),EG(i);const l=!n.getQueryCache().get(o.queryHash),[u]=g.useState(()=>new t(n,o)),f=u.getOptimisticResult(o),h=!a&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(N=>{const j=h?u.subscribe(Fn.batchCalls(N)):vE;return u.updateResult(),j},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),g.useEffect(()=>{u.setOptions(o)},[o,u]),_G(o,f))throw ZD(o,u,i);if(AG({result:f,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw f.error;if((w=(y=n.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||w.call(y,o,f),o.experimental_prefetchInRender&&!Uf&&TG(f,a)){const N=l?ZD(o,u,i):(b=n.getQueryCache().get(o.queryHash))==null?void 0:b.promise;N==null||N.catch(vE).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?f:u.trackResult(f)}function jr(e,t){return kG(e,pG)}function Rr(e,t){const r=_n(),[n]=g.useState(()=>new yG(r,e));g.useEffect(()=>{n.setOptions(e)},[n,e]);const a=g.useSyncExternalStore(g.useCallback(o=>n.subscribe(Fn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=g.useCallback((o,l)=>{n.mutate(o,l).catch(vE)},[n]);if(a.error&&dI(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Kx="Indraai",DG=()=>"https://www.indraai.in//",Yb=DG();var ix={},JD;function OG(){if(JD)return ix;JD=1,Object.defineProperty(ix,"__esModule",{value:!0}),ix.parse=o,ix.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function o(x,y){const w=new i,b=x.length;if(b<2)return w;const N=(y==null?void 0:y.decode)||h;let j=0;do{const S=x.indexOf("=",j);if(S===-1)break;const A=x.indexOf(";",j),_=A===-1?b:A;if(S>_){j=x.lastIndexOf(";",S-1)+1;continue}const C=l(x,j,S),k=u(x,S,C),T=x.slice(C,k);if(w[T]===void 0){let O=l(x,S+1,_),R=u(x,_,O);const L=N(x.slice(O,R));w[T]=L}j=_+1}while(j<b);return w}function l(x,y,w){do{const b=x.charCodeAt(y);if(b!==32&&b!==9)return y}while(++y<w);return w}function u(x,y,w){for(;y>w;){const b=x.charCodeAt(--y);if(b!==32&&b!==9)return y+1}return w}function f(x,y,w){const b=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const N=b(y);if(!t.test(N))throw new TypeError(`argument val is invalid: ${y}`);let j=x+"="+N;if(!w)return j;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);j+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);j+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);j+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);j+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(j+="; HttpOnly"),w.secure&&(j+="; Secure"),w.partitioned&&(j+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return j}function h(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function p(x){return a.call(x)==="[object Date]"}return ix}OG();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eO="popstate";function RG(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return bE("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Qx(a)}return MG(t,r,null,e)}function zs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Eo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PG(){return Math.random().toString(36).substring(2,10)}function tO(e,t){return{usr:e.state,key:e.key,idx:t}}function bE(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ip(t):t,state:r,key:t&&t.key||n||PG()}}function Qx({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ip(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function MG(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",u=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let N=h(),j=N==null?null:N-f;f=N,u&&u({action:l,location:b.location,delta:j})}function x(N,j){l="PUSH";let S=bE(b.location,N,j);f=h()+1;let A=tO(S,f),_=b.createHref(S);try{o.pushState(A,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(_)}i&&u&&u({action:l,location:b.location,delta:1})}function y(N,j){l="REPLACE";let S=bE(b.location,N,j);f=h();let A=tO(S,f),_=b.createHref(S);o.replaceState(A,"",_),i&&u&&u({action:l,location:b.location,delta:0})}function w(N){let j=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof N=="string"?N:Qx(N);return S=S.replace(/ $/,"%20"),zs(j,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,j)}let b={get action(){return l},get location(){return e(a,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(eO,p),u=N,()=>{a.removeEventListener(eO,p),u=null}},createHref(N){return t(a,N)},createURL:w,encodeLocation(N){let j=w(N);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:y,go(N){return o.go(N)}};return b}function uI(e,t,r="/"){return IG(e,t,r,!1)}function IG(e,t,r,n){let a=typeof t=="string"?Ip(t):t,i=Bc(a.pathname||"/",r);if(i==null)return null;let o=fI(e);FG(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=YG(i);l=WG(o[u],f,n)}return l}function fI(e,t=[],r=[],n=""){let a=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(zs(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let f=kc([n,u.relativePath]),h=r.concat(u);i.children&&i.children.length>0&&(zs(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),fI(i.children,t,h,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:zG(f,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let u of hI(i.path))a(i,o,u)}),t}function hI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=hI(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function FG(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:HG(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var LG=/^:[\w-]+$/,BG=3,$G=2,UG=1,VG=10,qG=-2,rO=e=>e==="*";function zG(e,t){let r=e.split("/"),n=r.length;return r.some(rO)&&(n+=qG),t&&(n+=$G),r.filter(a=>!rO(a)).reduce((a,i)=>a+(LG.test(i)?BG:i===""?UG:VG),n)}function HG(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function WG(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=W1({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),x=u.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=W1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:kc([i,p.pathname]),pathnameBase:ZG(kc([i,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(i=kc([i,p.pathnameBase]))}return o}function W1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=GG(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:p},x)=>{if(h==="*"){let w=l[x]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[x];return p&&!y?f[h]=void 0:f[h]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:e}}function GG(e,t=!1,r=!0){Eo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function YG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Eo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Bc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function KG(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ip(e):e;return{pathname:r?r.startsWith("/")?r:QG(r,t):t,search:JG(n),hash:eY(a)}}function QG(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function g2(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XG(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xC(e){let t=XG(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function gC(e,t,r,n=!1){let a;typeof e=="string"?a=Ip(e):(a={...e},zs(!a.pathname||!a.pathname.includes("?"),g2("?","pathname","search",a)),zs(!a.pathname||!a.pathname.includes("#"),g2("#","pathname","hash",a)),zs(!a.search||!a.search.includes("#"),g2("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),p-=1;a.pathname=x.join("/")}l=p>=0?t[p]:"/"}let u=KG(a,l),f=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var kc=e=>e.join("/").replace(/\/\/+/g,"/"),ZG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var mI=["POST","PUT","PATCH","DELETE"];new Set(mI);var rY=["GET",...mI];new Set(rY);var Fp=g.createContext(null);Fp.displayName="DataRouter";var Kb=g.createContext(null);Kb.displayName="DataRouterState";var pI=g.createContext({isTransitioning:!1});pI.displayName="ViewTransition";var sY=g.createContext(new Map);sY.displayName="Fetchers";var nY=g.createContext(null);nY.displayName="Await";var ll=g.createContext(null);ll.displayName="Navigation";var Gg=g.createContext(null);Gg.displayName="Location";var Co=g.createContext({outlet:null,matches:[],isDataRoute:!1});Co.displayName="Route";var yC=g.createContext(null);yC.displayName="RouteError";function aY(e,{relative:t}={}){zs(Lp(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=g.useContext(ll),{hash:a,pathname:i,search:o}=Yg(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:kc([r,i])),n.createHref({pathname:l,search:o,hash:a})}function Lp(){return g.useContext(Gg)!=null}function Ia(){return zs(Lp(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Gg).location}var xI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gI(e){g.useContext(ll).static||g.useLayoutEffect(e)}function gr(){let{isDataRoute:e}=g.useContext(Co);return e?bY():iY()}function iY(){zs(Lp(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(Fp),{basename:t,navigator:r}=g.useContext(ll),{matches:n}=g.useContext(Co),{pathname:a}=Ia(),i=JSON.stringify(xC(n)),o=g.useRef(!1);return gI(()=>{o.current=!0}),g.useCallback((u,f={})=>{if(Eo(o.current,xI),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=gC(u,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:kc([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,a,e])}var oY=g.createContext(null);function lY(e){let t=g.useContext(Co).outlet;return t&&g.createElement(oY.Provider,{value:e},t)}function Xn(){let{matches:e}=g.useContext(Co),t=e[e.length-1];return t?t.params:{}}function Yg(e,{relative:t}={}){let{matches:r}=g.useContext(Co),{pathname:n}=Ia(),a=JSON.stringify(xC(r));return g.useMemo(()=>gC(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function cY(e,t){return yI(e,t)}function yI(e,t,r,n){var S;zs(Lp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=g.useContext(ll),{matches:o}=g.useContext(Co),l=o[o.length-1],u=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let A=p&&p.path||"";vI(f,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=Ia(),y;if(t){let A=typeof t=="string"?Ip(t):t;zs(h==="/"||((S=A.pathname)==null?void 0:S.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),y=A}else y=x;let w=y.pathname||"/",b=w;if(h!=="/"){let A=h.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let N=!i&&r&&r.matches&&r.matches.length>0?r.matches:uI(e,{pathname:b});Eo(p||N!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Eo(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=mY(N&&N.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:kc([h,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:kc([h,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,r,n);return t&&j?g.createElement(Gg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},j):j}function dY(){let e=vY(),t=tY(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,o)}var uY=g.createElement(dY,null),fY=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?g.createElement(Co.Provider,{value:this.props.routeContext},g.createElement(yC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hY({routeContext:e,match:t,children:r}){let n=g.useContext(Fp);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Co.Provider,{value:e},r)}function mY(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let u=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);zs(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let o=!1,l=-1;if(r)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=u),f.route.id){let{loaderData:h,errors:p}=r,x=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,f,h)=>{let p,x=!1,y=null,w=null;r&&(p=i&&f.route.id?i[f.route.id]:void 0,y=f.route.errorElement||uY,o&&(l<0&&h===0?(vI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):l===h&&(x=!0,w=f.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,h+1)),N=()=>{let j;return p?j=y:x?j=w:f.route.Component?j=g.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=u,g.createElement(hY,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(fY,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):N()},null)}function vC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pY(e){let t=g.useContext(Fp);return zs(t,vC(e)),t}function xY(e){let t=g.useContext(Kb);return zs(t,vC(e)),t}function gY(e){let t=g.useContext(Co);return zs(t,vC(e)),t}function bC(e){let t=gY(e),r=t.matches[t.matches.length-1];return zs(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function yY(){return bC("useRouteId")}function vY(){var n;let e=g.useContext(yC),t=xY("useRouteError"),r=bC("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function bY(){let{router:e}=pY("useNavigate"),t=bC("useNavigate"),r=g.useRef(!1);return gI(()=>{r.current=!0}),g.useCallback(async(a,i={})=>{Eo(r.current,xI),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var sO={};function vI(e,t,r){!t&&!sO[e]&&(sO[e]=!0,Eo(!1,r))}g.memo(wY);function wY({routes:e,future:t,state:r}){return yI(e,void 0,r,t)}function NY({to:e,replace:t,state:r,relative:n}){zs(Lp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=g.useContext(ll);Eo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=g.useContext(Co),{pathname:o}=Ia(),l=gr(),u=gC(e,xC(i),o,n==="path"),f=JSON.stringify(u);return g.useEffect(()=>{l(JSON.parse(f),{replace:t,state:r,relative:n})},[l,f,n,t,r]),null}function wC(e){return lY(e.context)}function vt(e){zs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jY({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){zs(!Lp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=Ip(r));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:x="default"}=r,y=g.useMemo(()=>{let w=Bc(u,o);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:x},navigationType:n}},[o,u,f,h,p,x,n]);return Eo(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:g.createElement(ll.Provider,{value:l},g.createElement(Gg.Provider,{children:t,value:y}))}function SY({children:e,location:t}){return cY(wE(e),t)}function wE(e,t=[]){let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let i=[...t,a];if(n.type===g.Fragment){r.push.apply(r,wE(n.props.children,i));return}zs(n.type===vt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zs(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=wE(n.props.children,i)),r.push(o)}),r}var A1="get",C1="application/x-www-form-urlencoded";function Qb(e){return e!=null&&typeof e.tagName=="string"}function EY(e){return Qb(e)&&e.tagName.toLowerCase()==="button"}function AY(e){return Qb(e)&&e.tagName.toLowerCase()==="form"}function CY(e){return Qb(e)&&e.tagName.toLowerCase()==="input"}function TY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _Y(e,t){return e.button===0&&(!t||t==="_self")&&!TY(e)}function NE(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function kY(e,t){let r=NE(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var $v=null;function DY(){if($v===null)try{new FormData(document.createElement("form"),0),$v=!1}catch{$v=!0}return $v}var OY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function y2(e){return e!=null&&!OY.has(e)?(Eo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${C1}"`),null):e}function RY(e,t){let r,n,a,i,o;if(AY(e)){let l=e.getAttribute("action");n=l?Bc(l,t):null,r=e.getAttribute("method")||A1,a=y2(e.getAttribute("enctype"))||C1,i=new FormData(e)}else if(EY(e)||CY(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?Bc(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||A1,a=y2(e.getAttribute("formenctype"))||y2(l.getAttribute("enctype"))||C1,i=new FormData(l,e),!DY()){let{name:f,type:h,value:p}=e;if(h==="image"){let x=f?`${f}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else f&&i.append(f,p)}}else{if(Qb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=A1,n=null,a=C1,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}function NC(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function PY(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MY(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function IY(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await PY(i,r);return o.links?o.links():[]}return[]}));return $Y(n.flat(1).filter(MY).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nO(e,t,r,n,a,i){let o=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,l=(u,f)=>{var h;return r[f].pathname!==u.pathname||((h=r[f].route.path)==null?void 0:h.endsWith("*"))&&r[f].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,f)=>o(u,f)||l(u,f)):i==="data"?t.filter((u,f)=>{var p;let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function FY(e,t,{includeHydrateFallback:r}={}){return LY(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function LY(e){return[...new Set(e)]}function BY(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function $Y(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(BY(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}var UY=new Set([100,101,204,205]);function VY(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Bc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function bI(){let e=g.useContext(Fp);return NC(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function qY(){let e=g.useContext(Kb);return NC(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jC=g.createContext(void 0);jC.displayName="FrameworkContext";function wI(){let e=g.useContext(jC);return NC(e,"You must render this element inside a <HydratedRouter> element"),e}function zY(e,t){let r=g.useContext(jC),[n,a]=g.useState(!1),[i,o]=g.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=t,x=g.useRef(null);g.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=j=>{j.forEach(S=>{o(S.isIntersecting)})},N=new IntersectionObserver(b,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[e]),g.useEffect(()=>{if(n){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[n]);let y=()=>{a(!0)},w=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,x,{}]:[i,x,{onFocus:ox(l,y),onBlur:ox(u,w),onMouseEnter:ox(f,y),onMouseLeave:ox(h,w),onTouchStart:ox(p,y)}]:[!1,x,{}]}function ox(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function HY({page:e,...t}){let{router:r}=bI(),n=g.useMemo(()=>uI(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?g.createElement(GY,{page:e,matches:n,...t}):null}function WY(e){let{manifest:t,routeModules:r}=wI(),[n,a]=g.useState([]);return g.useEffect(()=>{let i=!1;return IY(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function GY({page:e,matches:t,...r}){let n=Ia(),{manifest:a,routeModules:i}=wI(),{basename:o}=bI(),{loaderData:l,matches:u}=qY(),f=g.useMemo(()=>nO(e,t,u,a,n,"data"),[e,t,u,a,n]),h=g.useMemo(()=>nO(e,t,u,a,n,"assets"),[e,t,u,a,n]),p=g.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,b=!1;if(t.forEach(j=>{var A;let S=a.routes[j.route.id];!S||!S.hasLoader||(!f.some(_=>_.route.id===j.route.id)&&j.route.id in l&&((A=i[j.route.id])!=null&&A.shouldRevalidate)||S.hasClientLoader?b=!0:w.add(j.route.id))}),w.size===0)return[];let N=VY(e,o);return b&&w.size>0&&N.searchParams.set("_routes",t.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[N.pathname+N.search]},[o,l,n,a,f,t,e,i]),x=g.useMemo(()=>FY(h,a),[h,a]),y=WY(h);return g.createElement(g.Fragment,null,p.map(w=>g.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),x.map(w=>g.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),y.map(({key:w,link:b})=>g.createElement("link",{key:w,...b})))}function YY(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var NI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NI&&(window.__reactRouterVersion="7.5.1")}catch{}function KY({basename:e,children:t,window:r}){let n=g.useRef();n.current==null&&(n.current=RG({window:r,v5Compat:!0}));let a=n.current,[i,o]=g.useState({action:a.action,location:a.location}),l=g.useCallback(u=>{g.startTransition(()=>o(u))},[o]);return g.useLayoutEffect(()=>a.listen(l),[a,l]),g.createElement(jY,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var jI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Or=g.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:u,to:f,preventScrollReset:h,viewTransition:p,...x},y){let{basename:w}=g.useContext(ll),b=typeof f=="string"&&jI.test(f),N,j=!1;if(typeof f=="string"&&b&&(N=f,NI))try{let R=new URL(window.location.href),L=f.startsWith("//")?new URL(R.protocol+f):new URL(f),M=Bc(L.pathname,w);L.origin===R.origin&&M!=null?f=M+L.search+L.hash:j=!0}catch{Eo(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=aY(f,{relative:a}),[A,_,C]=zY(n,x),k=ZY(f,{replace:o,state:l,target:u,preventScrollReset:h,relative:a,viewTransition:p});function T(R){t&&t(R),R.defaultPrevented||k(R)}let O=g.createElement("a",{...x,...C,href:N||S,onClick:j||i?t:T,ref:YY(y,_),target:u,"data-discover":!b&&r==="render"?"true":void 0});return A&&!b?g.createElement(g.Fragment,null,O,g.createElement(HY,{page:S})):O});Or.displayName="Link";var wx=g.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:u,...f},h){let p=Yg(o,{relative:f.relative}),x=Ia(),y=g.useContext(Kb),{navigator:w,basename:b}=g.useContext(ll),N=y!=null&&nK(p)&&l===!0,j=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,S=x.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(S=S.toLowerCase(),A=A?A.toLowerCase():null,j=j.toLowerCase()),A&&b&&(A=Bc(A,b)||A);const _=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let C=S===j||!a&&S.startsWith(j)&&S.charAt(_)==="/",k=A!=null&&(A===j||!a&&A.startsWith(j)&&A.charAt(j.length)==="/"),T={isActive:C,isPending:k,isTransitioning:N},O=C?t:void 0,R;typeof n=="function"?R=n(T):R=[n,C?"active":null,k?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(T):i;return g.createElement(Or,{...f,"aria-current":O,className:R,ref:h,style:L,to:o,viewTransition:l},typeof u=="function"?u(T):u)});wx.displayName="NavLink";var QY=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=A1,action:l,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:p,...x},y)=>{let w=rK(),b=sK(l,{relative:f}),N=o.toLowerCase()==="get"?"get":"post",j=typeof l=="string"&&jI.test(l),S=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let _=A.nativeEvent.submitter,C=(_==null?void 0:_.getAttribute("formmethod"))||o;w(_||A.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:a,state:i,relative:f,preventScrollReset:h,viewTransition:p})};return g.createElement("form",{ref:y,method:N,action:b,onSubmit:n?u:S,...x,"data-discover":!j&&e==="render"?"true":void 0})});QY.displayName="Form";function XY(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SI(e){let t=g.useContext(Fp);return zs(t,XY(e)),t}function ZY(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=gr(),u=Ia(),f=Yg(e,{relative:i});return g.useCallback(h=>{if(_Y(h,t)){h.preventDefault();let p=r!==void 0?r:Qx(u)===Qx(f);l(e,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[u,l,f,r,n,t,e,a,i,o])}function JY(e){Eo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(NE(e)),r=g.useRef(!1),n=Ia(),a=g.useMemo(()=>kY(n.search,r.current?null:t.current),[n.search]),i=gr(),o=g.useCallback((l,u)=>{const f=NE(typeof l=="function"?l(a):l);r.current=!0,i("?"+f,u)},[i,a]);return[a,o]}var eK=0,tK=()=>`__${String(++eK)}__`;function rK(){let{router:e}=SI("useSubmit"),{basename:t}=g.useContext(ll),r=yY();return g.useCallback(async(n,a={})=>{let{action:i,method:o,encType:l,formData:u,body:f}=RY(n,t);if(a.navigate===!1){let h=a.fetcherKey||tK();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function sK(e,{relative:t}={}){let{basename:r}=g.useContext(ll),n=g.useContext(Co);zs(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Yg(e||".",{relative:t})},o=Ia();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:kc([r,i.pathname])),Qx(i)}function nK(e,t={}){let r=g.useContext(pI);zs(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=SI("useViewTransitionState"),a=Yg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Bc(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Bc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return W1(a.pathname,o)!=null||W1(a.pathname,i)!=null}new TextEncoder;[...UY];var ch=X6();const Lu=Wb(ch);var aK=(e,t,r,n,a,i,o,l)=>{let u=document.documentElement,f=["light","dark"];function h(y){(Array.isArray(e)?e:[e]).forEach(w=>{let b=w==="class",N=b&&i?a.map(j=>i[j]||j):a;b?(u.classList.remove(...N),u.classList.add(i&&i[y]?i[y]:y)):u.setAttribute(w,y)}),p(y)}function p(y){l&&f.includes(y)&&(u.style.colorScheme=y)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)h(n);else try{let y=localStorage.getItem(t)||r,w=o&&y==="system"?x():y;h(w)}catch{}},aO=["light","dark"],EI="(prefers-color-scheme: dark)",iK=typeof window>"u",SC=g.createContext(void 0),oK={setTheme:e=>{},themes:[]},lK=()=>{var e;return(e=g.useContext(SC))!=null?e:oK},cK=e=>g.useContext(SC)?g.createElement(g.Fragment,null,e.children):g.createElement(uK,{...e}),dK=["light","dark"],uK=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=dK,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:u,children:f,nonce:h,scriptProps:p})=>{let[x,y]=g.useState(()=>hK(a,o)),[w,b]=g.useState(()=>x==="system"?v2():x),N=u?Object.values(u):i,j=g.useCallback(C=>{let k=C;if(!k)return;C==="system"&&r&&(k=v2());let T=u?u[k]:k,O=t?mK(h):null,R=document.documentElement,L=M=>{M==="class"?(R.classList.remove(...N),T&&R.classList.add(T)):M.startsWith("data-")&&(T?R.setAttribute(M,T):R.removeAttribute(M))};if(Array.isArray(l)?l.forEach(L):L(l),n){let M=aO.includes(o)?o:null,G=aO.includes(k)?k:M;R.style.colorScheme=G}O==null||O()},[h]),S=g.useCallback(C=>{let k=typeof C=="function"?C(x):C;y(k);try{localStorage.setItem(a,k)}catch{}},[x]),A=g.useCallback(C=>{let k=v2(C);b(k),x==="system"&&r&&!e&&j("system")},[x,e]);g.useEffect(()=>{let C=window.matchMedia(EI);return C.addListener(A),A(C),()=>C.removeListener(A)},[A]),g.useEffect(()=>{let C=k=>{k.key===a&&(k.newValue?y(k.newValue):S(o))};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[S]),g.useEffect(()=>{j(e??x)},[e,x]);let _=g.useMemo(()=>({theme:x,setTheme:S,forcedTheme:e,resolvedTheme:x==="system"?w:x,themes:r?[...i,"system"]:i,systemTheme:r?w:void 0}),[x,S,e,w,r,i]);return g.createElement(SC.Provider,{value:_},g.createElement(fK,{forcedTheme:e,storageKey:a,attribute:l,enableSystem:r,enableColorScheme:n,defaultTheme:o,value:u,themes:i,nonce:h,scriptProps:p}),f)},fK=g.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:u,scriptProps:f})=>{let h=JSON.stringify([r,t,i,e,l,o,n,a]).slice(1,-1);return g.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${aK.toString()})(${h})`}})}),hK=(e,t)=>{if(iK)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},mK=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},v2=e=>(e||(e=window.matchMedia(EI)),e.matches?"dark":"light");const pK={theme:"system",setTheme:()=>null};g.createContext(pK);function xK({children:e,...t}){const[r,n]=g.useState(!1),[a,i]=g.useState(void 0);return g.useEffect(()=>{n(!0);const o=()=>{const u=navigator.userAgent||navigator.vendor||window.opera,f=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(u.toLowerCase()),h="ontouchstart"in window||navigator.maxTouchPoints>0,p=window.innerWidth<=768;return f||h&&p};o()&&(i("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"));const l=()=>{o()?(i("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")):i(void 0)};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[]),r?s.jsx(cK,{...t,forcedTheme:a,defaultTheme:"light",enableSystem:!a,disableTransitionOnChange:!0,children:e}):null}const gK=()=>{const{setTheme:e,theme:t,resolvedTheme:r}=lK();return g.useEffect(()=>{const n=()=>{const i=navigator.userAgent||navigator.vendor||window.opera,o=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(i.toLowerCase()),l="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,u=window.innerWidth<=768,f=window.matchMedia("(pointer: coarse)").matches||window.matchMedia("(hover: none)").matches;if(o||l&&u||f){e("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),document.documentElement.style.colorScheme="light";const p=document.querySelector('meta[name="theme-color"]');if(p)p.setAttribute("content","#ffffff");else{const x=document.createElement("meta");x.name="theme-color",x.content="#ffffff",document.head.appendChild(x)}}};n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n);const a=new MutationObserver(i=>{i.forEach(o=>{if(o.type==="attributes"&&o.attributeName==="class"){const l=o.target;l===document.documentElement&&l.classList.contains("dark")&&n()}})});return a.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n),a.disconnect()}},[e]),{theme:t,resolvedTheme:r}},yK=()=>(gK(),null),vK=()=>s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-muted/40 p-4",children:s.jsx(wC,{})});/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wK=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),iO=e=>{const t=wK(e);return t.charAt(0).toUpperCase()+t.slice(1)},AI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),NK=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},u)=>g.createElement("svg",{ref:u,...jK,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:AI("lucide",a),...!i&&!NK(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,h])=>g.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(e,t)=>{const r=g.forwardRef(({className:n,...a},i)=>g.createElement(SK,{ref:i,iconNode:t,className:AI(`lucide-${bK(iO(e))}`,`lucide-${e}`,n),...a}));return r.displayName=iO(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Xb=yt("arrow-down",EK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xu=yt("arrow-left",AK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Zb=yt("arrow-up",CK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]],_K=yt("audio-waveform",TK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],b2=yt("book-open",kK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Id=yt("briefcase",DK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],RK=yt("calendar-check",OK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],jE=yt("calendar-days",PK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qn=yt("calendar",MK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jb=yt("check",IK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ha=yt("chevron-down",FK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Bp=yt("chevron-left",LK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nu=yt("chevron-right",BK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Pl=yt("chevron-up",$K);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],VK=yt("chevrons-left",UK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],zK=yt("chevrons-right",qK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Kg=yt("chevrons-up-down",HK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gu=yt("circle-alert",WK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],YK=yt("circle-arrow-up",GK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ka=yt("circle-check-big",KK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ox=yt("circle-check",QK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Hs=yt("circle-plus",XK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],w2=yt("circle-user",ZK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vi=yt("circle-x",JK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tQ=yt("circle",eQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Mf=yt("clipboard-check",rQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Xx=yt("clock",sQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],aQ=yt("command",nQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],CI=yt("credit-card",iQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],EC=yt("download",oQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],yc=yt("droplet",lQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],dQ=yt("droplets",cQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Qg=yt("ellipsis",uQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hQ=yt("eye-off",fQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_c=yt("eye",mQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],xQ=yt("facebook",pQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],an=yt("file-text",gQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$p=yt("funnel",yQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]],oO=yt("gallery-vertical-end",vQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],SE=yt("heart",bQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],TI=yt("house",wQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jQ=yt("image",NQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Zx=yt("indian-rupee",SQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_I=yt("info",EQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],CQ=yt("instagram",AQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z",key:"165ttr"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814",key:"1ubxi2"}]],_Q=yt("key-square",TQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],DQ=yt("landmark",kQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],qf=yt("leaf",OQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],PQ=yt("list-ordered",RQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wr=yt("loader-circle",MQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],gp=yt("loader",IQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],EE=yt("log-out",FQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AC=yt("mail",LQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yu=yt("map-pin",BQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],kI=yt("menu",$Q);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["path",{d:"M5 12h14",key:"1ays0h"}]],vf=yt("minus",UQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],qQ=yt("moon",VQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],HQ=yt("package-check",zQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],AE=yt("package-search",WQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qi=yt("package",GQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],KQ=yt("panel-left",YQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],CC=yt("pencil",QQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],DI=yt("phone",XQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cn=yt("plus",ZQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Up=yt("save",JQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Is=yt("search",eX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],rX=yt("send",tX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]],TC=yt("shield-ellipsis",sX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],aX=yt("shield",nX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],lO=yt("shopping-bag",iX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],yp=yt("shopping-cart",oX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],cX=yt("skip-forward",lX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],OI=yt("sparkles",dX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Za=yt("square-pen",uX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],hX=yt("square-terminal",fX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pX=yt("star",mX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],gX=yt("sun",xX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],un=yt("trash-2",yX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Jx=yt("trending-down",vX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],CE=yt("trending-up",bX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bi=yt("triangle-alert",wX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],uu=yt("truck",NX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],SX=yt("user-check",jX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cO=yt("user-plus",EX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ew=yt("user",AX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],TX=yt("users-round",CX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RI=yt("users",_X);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Dc=yt("wallet",kX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],No=yt("x",DX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],tw=yt("zap",OX);var zr;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(zr||(zr={}));var TE;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(TE||(TE={}));const Mt=zr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ec=e=>{switch(typeof e){case"undefined":return Mt.undefined;case"string":return Mt.string;case"number":return isNaN(e)?Mt.nan:Mt.number;case"boolean":return Mt.boolean;case"function":return Mt.function;case"bigint":return Mt.bigint;case"symbol":return Mt.symbol;case"object":return Array.isArray(e)?Mt.array:e===null?Mt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Mt.promise:typeof Map<"u"&&e instanceof Map?Mt.map:typeof Set<"u"&&e instanceof Set?Mt.set:typeof Date<"u"&&e instanceof Date?Mt.date:Mt.object;default:return Mt.unknown}},pt=zr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),RX=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class zi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,u=0;for(;u<o.path.length;){const f=o.path[u];u===o.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(r(o))):l[f]=l[f]||{_errors:[]},l=l[f],u++}}};return a(this),n}static assert(t){if(!(t instanceof zi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,zr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}zi.create=e=>new zi(e);const vp=(e,t)=>{let r;switch(e.code){case pt.invalid_type:e.received===Mt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case pt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,zr.jsonStringifyReplacer)}`;break;case pt.unrecognized_keys:r=`Unrecognized key(s) in object: ${zr.joinValues(e.keys,", ")}`;break;case pt.invalid_union:r="Invalid input";break;case pt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${zr.joinValues(e.options)}`;break;case pt.invalid_enum_value:r=`Invalid enum value. Expected ${zr.joinValues(e.options)}, received '${e.received}'`;break;case pt.invalid_arguments:r="Invalid function arguments";break;case pt.invalid_return_type:r="Invalid function return type";break;case pt.invalid_date:r="Invalid date";break;case pt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:zr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case pt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case pt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case pt.custom:r="Invalid input";break;case pt.invalid_intersection_types:r="Intersection results could not be merged";break;case pt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case pt.not_finite:r="Number must be finite";break;default:r=t.defaultError,zr.assertNever(e)}return{message:r}};let PI=vp;function PX(e){PI=e}function G1(){return PI}const Y1=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const u=n.filter(f=>!!f).slice().reverse();for(const f of u)l=f(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},MX=[];function kt(e,t){const r=G1(),n=Y1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===vp?void 0:vp].filter(a=>!!a)});e.common.issues.push(n)}class Ma{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return fr;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Ma.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return fr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const fr=Object.freeze({status:"aborted"}),Om=e=>({status:"dirty",value:e}),Qa=e=>({status:"valid",value:e}),_E=e=>e.status==="aborted",kE=e=>e.status==="dirty",zf=e=>e.status==="valid",eg=e=>typeof Promise<"u"&&e instanceof Promise;function K1(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function MI(e,t,r,n,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Qt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Qt||(Qt={}));var Nx,jx;class Hl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const dO=(e,t)=>{if(zf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new zi(e.common.issues);return this._error=r,this._error}}};function xr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var u,f;const{message:h}=e;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(u=h??n)!==null&&u!==void 0?u:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(f=h??r)!==null&&f!==void 0?f:l.defaultError}},description:a}}class Sr{get description(){return this._def.description}_getType(t){return Ec(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ec(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ma,ctx:{common:t.parent.common,data:t.data,parsedType:Ec(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(eg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ec(t)},i=this._parseSync({data:t,path:a.path,parent:a});return dO(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ec(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return zf(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>zf(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ec(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(eg(a)?a:Promise.resolve(a));return dO(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:pt.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new tl({schema:this,typeName:lr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ll.create(this,this._def)}nullable(){return Au.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zo.create(this)}promise(){return wp.create(this,this._def)}or(t){return ng.create([this,t],this._def)}and(t){return ag.create(this,t,this._def)}transform(t){return new tl({...xr(this._def),schema:this,typeName:lr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new dg({...xr(this._def),innerType:this,defaultValue:r,typeName:lr.ZodDefault})}brand(){return new _C({typeName:lr.ZodBranded,type:this,...xr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ug({...xr(this._def),innerType:this,catchValue:r,typeName:lr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Xg.create(this,t)}readonly(){return fg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IX=/^c[^\s-]{8,}$/i,FX=/^[0-9a-z]+$/,LX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,BX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$X=/^[a-z0-9_-]{21}$/i,UX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,VX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let N2;const HX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,WX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,GX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,YX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,KX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,II="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",XX=new RegExp(`^${II}$`);function FI(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function ZX(e){return new RegExp(`^${FI(e)}$`)}function LI(e){let t=`${II}T${FI(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function JX(e,t){return!!((t==="v4"||!t)&&HX.test(e)||(t==="v6"||!t)&&GX.test(e))}function eZ(e,t){if(!UX.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function tZ(e,t){return!!((t==="v4"||!t)&&WX.test(e)||(t==="v6"||!t)&&YX.test(e))}class Qo extends Sr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Mt.string){const i=this._getOrReturnCtx(t);return kt(i,{code:pt.invalid_type,expected:Mt.string,received:i.parsedType}),fr}const n=new Ma;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),kt(a,{code:pt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),kt(a,{code:pt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?kt(a,{code:pt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&kt(a,{code:pt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")qX.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"email",code:pt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")N2||(N2=new RegExp(zX,"u")),N2.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"emoji",code:pt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")BX.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"uuid",code:pt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")$X.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"nanoid",code:pt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")IX.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"cuid",code:pt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")FX.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"cuid2",code:pt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")LX.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"ulid",code:pt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),kt(a,{validation:"url",code:pt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"regex",code:pt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),kt(a,{code:pt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),kt(a,{code:pt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),kt(a,{code:pt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?LI(i).test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{code:pt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?XX.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{code:pt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?ZX(i).test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{code:pt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?VX.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"duration",code:pt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?JX(t.data,i.version)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"ip",code:pt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?eZ(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"jwt",code:pt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?tZ(t.data,i.version)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"cidr",code:pt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?KX.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"base64",code:pt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?QX.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"base64url",code:pt.invalid_string,message:i.message}),n.dirty()):zr.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:pt.invalid_string,...Qt.errToObj(n)})}_addCheck(t){return new Qo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Qt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Qt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Qt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Qt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Qt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Qt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Qt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Qt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Qt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Qt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Qt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Qt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Qt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Qt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Qt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Qt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Qt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Qt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Qt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Qt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Qt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Qt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Qt.errToObj(r)})}nonempty(t){return this.min(1,Qt.errToObj(t))}trim(){return new Qo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Qo.create=e=>{var t;return new Qo({checks:[],typeName:lr.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...xr(e)})};function rZ(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class ju extends Sr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Mt.number){const i=this._getOrReturnCtx(t);return kt(i,{code:pt.invalid_type,expected:Mt.number,received:i.parsedType}),fr}let n;const a=new Ma;for(const i of this._def.checks)i.kind==="int"?zr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{code:pt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),kt(n,{code:pt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),kt(n,{code:pt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?rZ(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),kt(n,{code:pt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{code:pt.not_finite,message:i.message}),a.dirty()):zr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Qt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Qt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Qt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Qt.toString(r))}setLimit(t,r,n,a){return new ju({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Qt.toString(a)}]})}_addCheck(t){return new ju({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Qt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Qt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Qt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&zr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ju.create=e=>new ju({checks:[],typeName:lr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...xr(e)});class Su extends Sr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Mt.bigint)return this._getInvalidInput(t);let n;const a=new Ma;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),kt(n,{code:pt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),kt(n,{code:pt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),kt(n,{code:pt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):zr.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return kt(r,{code:pt.invalid_type,expected:Mt.bigint,received:r.parsedType}),fr}gte(t,r){return this.setLimit("min",t,!0,Qt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Qt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Qt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Qt.toString(r))}setLimit(t,r,n,a){return new Su({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Qt.toString(a)}]})}_addCheck(t){return new Su({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Qt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Su.create=e=>{var t;return new Su({checks:[],typeName:lr.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...xr(e)})};class tg extends Sr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Mt.boolean){const n=this._getOrReturnCtx(t);return kt(n,{code:pt.invalid_type,expected:Mt.boolean,received:n.parsedType}),fr}return Qa(t.data)}}tg.create=e=>new tg({typeName:lr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...xr(e)});class Hf extends Sr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Mt.date){const i=this._getOrReturnCtx(t);return kt(i,{code:pt.invalid_type,expected:Mt.date,received:i.parsedType}),fr}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return kt(i,{code:pt.invalid_date}),fr}const n=new Ma;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),kt(a,{code:pt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),kt(a,{code:pt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):zr.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Hf({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Qt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Qt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Hf.create=e=>new Hf({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:lr.ZodDate,...xr(e)});class Q1 extends Sr{_parse(t){if(this._getType(t)!==Mt.symbol){const n=this._getOrReturnCtx(t);return kt(n,{code:pt.invalid_type,expected:Mt.symbol,received:n.parsedType}),fr}return Qa(t.data)}}Q1.create=e=>new Q1({typeName:lr.ZodSymbol,...xr(e)});class rg extends Sr{_parse(t){if(this._getType(t)!==Mt.undefined){const n=this._getOrReturnCtx(t);return kt(n,{code:pt.invalid_type,expected:Mt.undefined,received:n.parsedType}),fr}return Qa(t.data)}}rg.create=e=>new rg({typeName:lr.ZodUndefined,...xr(e)});class sg extends Sr{_parse(t){if(this._getType(t)!==Mt.null){const n=this._getOrReturnCtx(t);return kt(n,{code:pt.invalid_type,expected:Mt.null,received:n.parsedType}),fr}return Qa(t.data)}}sg.create=e=>new sg({typeName:lr.ZodNull,...xr(e)});class bp extends Sr{constructor(){super(...arguments),this._any=!0}_parse(t){return Qa(t.data)}}bp.create=e=>new bp({typeName:lr.ZodAny,...xr(e)});class If extends Sr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Qa(t.data)}}If.create=e=>new If({typeName:lr.ZodUnknown,...xr(e)});class $c extends Sr{_parse(t){const r=this._getOrReturnCtx(t);return kt(r,{code:pt.invalid_type,expected:Mt.never,received:r.parsedType}),fr}}$c.create=e=>new $c({typeName:lr.ZodNever,...xr(e)});class X1 extends Sr{_parse(t){if(this._getType(t)!==Mt.undefined){const n=this._getOrReturnCtx(t);return kt(n,{code:pt.invalid_type,expected:Mt.void,received:n.parsedType}),fr}return Qa(t.data)}}X1.create=e=>new X1({typeName:lr.ZodVoid,...xr(e)});class Zo extends Sr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Mt.array)return kt(r,{code:pt.invalid_type,expected:Mt.array,received:r.parsedType}),fr;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(kt(r,{code:o?pt.too_big:pt.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(kt(r,{code:pt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(kt(r,{code:pt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Hl(r,o,r.path,l)))).then(o=>Ma.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Hl(r,o,r.path,l)));return Ma.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Zo({...this._def,minLength:{value:t,message:Qt.toString(r)}})}max(t,r){return new Zo({...this._def,maxLength:{value:t,message:Qt.toString(r)}})}length(t,r){return new Zo({...this._def,exactLength:{value:t,message:Qt.toString(r)}})}nonempty(t){return this.min(1,t)}}Zo.create=(e,t)=>new Zo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:lr.ZodArray,...xr(t)});function Nm(e){if(e instanceof Qs){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ll.create(Nm(n))}return new Qs({...e._def,shape:()=>t})}else return e instanceof Zo?new Zo({...e._def,type:Nm(e.element)}):e instanceof Ll?Ll.create(Nm(e.unwrap())):e instanceof Au?Au.create(Nm(e.unwrap())):e instanceof Wl?Wl.create(e.items.map(t=>Nm(t))):e}class Qs extends Sr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=zr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Mt.object){const f=this._getOrReturnCtx(t);return kt(f,{code:pt.invalid_type,expected:Mt.object,received:f.parsedType}),fr}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof $c&&this._def.unknownKeys==="strip"))for(const f in a.data)o.includes(f)||l.push(f);const u=[];for(const f of o){const h=i[f],p=a.data[f];u.push({key:{status:"valid",value:f},value:h._parse(new Hl(a,p,a.path,f)),alwaysSet:f in a.data})}if(this._def.catchall instanceof $c){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of l)u.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(f==="strict")l.length>0&&(kt(a,{code:pt.unrecognized_keys,keys:l}),n.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of l){const p=a.data[h];u.push({key:{status:"valid",value:h},value:f._parse(new Hl(a,p,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of u){const p=await h.key,x=await h.value;f.push({key:p,value:x,alwaysSet:h.alwaysSet})}return f}).then(f=>Ma.mergeObjectSync(n,f)):Ma.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return Qt.errToObj,new Qs({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,l;const u=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Qt.errToObj(t).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new Qs({...this._def,unknownKeys:"strip"})}passthrough(){return new Qs({...this._def,unknownKeys:"passthrough"})}extend(t){return new Qs({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Qs({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:lr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Qs({...this._def,catchall:t})}pick(t){const r={};return zr.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Qs({...this._def,shape:()=>r})}omit(t){const r={};return zr.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Qs({...this._def,shape:()=>r})}deepPartial(){return Nm(this)}partial(t){const r={};return zr.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new Qs({...this._def,shape:()=>r})}required(t){const r={};return zr.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ll;)i=i._def.innerType;r[n]=i}}),new Qs({...this._def,shape:()=>r})}keyof(){return BI(zr.objectKeys(this.shape))}}Qs.create=(e,t)=>new Qs({shape:()=>e,unknownKeys:"strip",catchall:$c.create(),typeName:lr.ZodObject,...xr(t)});Qs.strictCreate=(e,t)=>new Qs({shape:()=>e,unknownKeys:"strict",catchall:$c.create(),typeName:lr.ZodObject,...xr(t)});Qs.lazycreate=(e,t)=>new Qs({shape:e,unknownKeys:"strip",catchall:$c.create(),typeName:lr.ZodObject,...xr(t)});class ng extends Sr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new zi(l.ctx.common.issues));return kt(r,{code:pt.invalid_union,unionErrors:o}),fr}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const u of n){const f={...r,common:{...r.common,issues:[]},parent:null},h=u._parseSync({data:r.data,path:r.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(u=>new zi(u));return kt(r,{code:pt.invalid_union,unionErrors:l}),fr}}get options(){return this._def.options}}ng.create=(e,t)=>new ng({options:e,typeName:lr.ZodUnion,...xr(t)});const Sc=e=>e instanceof og?Sc(e.schema):e instanceof tl?Sc(e.innerType()):e instanceof lg?[e.value]:e instanceof Eu?e.options:e instanceof cg?zr.objectValues(e.enum):e instanceof dg?Sc(e._def.innerType):e instanceof rg?[void 0]:e instanceof sg?[null]:e instanceof Ll?[void 0,...Sc(e.unwrap())]:e instanceof Au?[null,...Sc(e.unwrap())]:e instanceof _C||e instanceof fg?Sc(e.unwrap()):e instanceof ug?Sc(e._def.innerType):[];class rw extends Sr{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Mt.object)return kt(r,{code:pt.invalid_type,expected:Mt.object,received:r.parsedType}),fr;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(kt(r,{code:pt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),fr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=Sc(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new rw({typeName:lr.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...xr(n)})}}function DE(e,t){const r=Ec(e),n=Ec(t);if(e===t)return{valid:!0,data:e};if(r===Mt.object&&n===Mt.object){const a=zr.objectKeys(t),i=zr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const u=DE(e[l],t[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(r===Mt.array&&n===Mt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],u=DE(o,l);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return r===Mt.date&&n===Mt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ag extends Sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(_E(i)||_E(o))return fr;const l=DE(i.value,o.value);return l.valid?((kE(i)||kE(o))&&r.dirty(),{status:r.value,value:l.data}):(kt(n,{code:pt.invalid_intersection_types}),fr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ag.create=(e,t,r)=>new ag({left:e,right:t,typeName:lr.ZodIntersection,...xr(r)});class Wl extends Sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Mt.array)return kt(n,{code:pt.invalid_type,expected:Mt.array,received:n.parsedType}),fr;if(n.data.length<this._def.items.length)return kt(n,{code:pt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fr;!this._def.rest&&n.data.length>this._def.items.length&&(kt(n,{code:pt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Hl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ma.mergeArray(r,o)):Ma.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Wl({...this._def,rest:t})}}Wl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wl({items:e,typeName:lr.ZodTuple,rest:null,...xr(t)})};class ig extends Sr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Mt.object)return kt(n,{code:pt.invalid_type,expected:Mt.object,received:n.parsedType}),fr;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new Hl(n,l,n.path,l)),value:o._parse(new Hl(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Ma.mergeObjectAsync(r,a):Ma.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Sr?new ig({keyType:t,valueType:r,typeName:lr.ZodRecord,...xr(n)}):new ig({keyType:Qo.create(),valueType:t,typeName:lr.ZodRecord,...xr(r)})}}class Z1 extends Sr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Mt.map)return kt(n,{code:pt.invalid_type,expected:Mt.map,received:n.parsedType}),fr;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,u],f)=>({key:a._parse(new Hl(n,l,n.path,[f,"key"])),value:i._parse(new Hl(n,u,n.path,[f,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const f=await u.key,h=await u.value;if(f.status==="aborted"||h.status==="aborted")return fr;(f.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(f.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const u of o){const f=u.key,h=u.value;if(f.status==="aborted"||h.status==="aborted")return fr;(f.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(f.value,h.value)}return{status:r.value,value:l}}}}Z1.create=(e,t,r)=>new Z1({valueType:t,keyType:e,typeName:lr.ZodMap,...xr(r)});class Wf extends Sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Mt.set)return kt(n,{code:pt.invalid_type,expected:Mt.set,received:n.parsedType}),fr;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(kt(n,{code:pt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(kt(n,{code:pt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(u){const f=new Set;for(const h of u){if(h.status==="aborted")return fr;h.status==="dirty"&&r.dirty(),f.add(h.value)}return{status:r.value,value:f}}const l=[...n.data.values()].map((u,f)=>i._parse(new Hl(n,u,n.path,f)));return n.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(t,r){return new Wf({...this._def,minSize:{value:t,message:Qt.toString(r)}})}max(t,r){return new Wf({...this._def,maxSize:{value:t,message:Qt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Wf.create=(e,t)=>new Wf({valueType:e,minSize:null,maxSize:null,typeName:lr.ZodSet,...xr(t)});class qm extends Sr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Mt.function)return kt(r,{code:pt.invalid_type,expected:Mt.function,received:r.parsedType}),fr;function n(l,u){return Y1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,G1(),vp].filter(f=>!!f),issueData:{code:pt.invalid_arguments,argumentsError:u}})}function a(l,u){return Y1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,G1(),vp].filter(f=>!!f),issueData:{code:pt.invalid_return_type,returnTypeError:u}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof wp){const l=this;return Qa(async function(...u){const f=new zi([]),h=await l._def.args.parseAsync(u,i).catch(y=>{throw f.addIssue(n(u,y)),f}),p=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(p,i).catch(y=>{throw f.addIssue(a(p,y)),f})})}else{const l=this;return Qa(function(...u){const f=l._def.args.safeParse(u,i);if(!f.success)throw new zi([n(u,f.error)]);const h=Reflect.apply(o,this,f.data),p=l._def.returns.safeParse(h,i);if(!p.success)throw new zi([a(h,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new qm({...this._def,args:Wl.create(t).rest(If.create())})}returns(t){return new qm({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new qm({args:t||Wl.create([]).rest(If.create()),returns:r||If.create(),typeName:lr.ZodFunction,...xr(n)})}}class og extends Sr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}og.create=(e,t)=>new og({getter:e,typeName:lr.ZodLazy,...xr(t)});class lg extends Sr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return kt(r,{received:r.data,code:pt.invalid_literal,expected:this._def.value}),fr}return{status:"valid",value:t.data}}get value(){return this._def.value}}lg.create=(e,t)=>new lg({value:e,typeName:lr.ZodLiteral,...xr(t)});function BI(e,t){return new Eu({values:e,typeName:lr.ZodEnum,...xr(t)})}class Eu extends Sr{constructor(){super(...arguments),Nx.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return kt(r,{expected:zr.joinValues(n),received:r.parsedType,code:pt.invalid_type}),fr}if(K1(this,Nx)||MI(this,Nx,new Set(this._def.values)),!K1(this,Nx).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return kt(r,{received:r.data,code:pt.invalid_enum_value,options:n}),fr}return Qa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Eu.create(t,{...this._def,...r})}exclude(t,r=this._def){return Eu.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Nx=new WeakMap;Eu.create=BI;class cg extends Sr{constructor(){super(...arguments),jx.set(this,void 0)}_parse(t){const r=zr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Mt.string&&n.parsedType!==Mt.number){const a=zr.objectValues(r);return kt(n,{expected:zr.joinValues(a),received:n.parsedType,code:pt.invalid_type}),fr}if(K1(this,jx)||MI(this,jx,new Set(zr.getValidEnumValues(this._def.values))),!K1(this,jx).has(t.data)){const a=zr.objectValues(r);return kt(n,{received:n.data,code:pt.invalid_enum_value,options:a}),fr}return Qa(t.data)}get enum(){return this._def.values}}jx=new WeakMap;cg.create=(e,t)=>new cg({values:e,typeName:lr.ZodNativeEnum,...xr(t)});class wp extends Sr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Mt.promise&&r.common.async===!1)return kt(r,{code:pt.invalid_type,expected:Mt.promise,received:r.parsedType}),fr;const n=r.parsedType===Mt.promise?r.data:Promise.resolve(r.data);return Qa(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}wp.create=(e,t)=>new wp({type:e,typeName:lr.ZodPromise,...xr(t)});class tl extends Sr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===lr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{kt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return fr;const u=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return u.status==="aborted"?fr:u.status==="dirty"||r.value==="dirty"?Om(u.value):u});{if(r.value==="aborted")return fr;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?fr:l.status==="dirty"||r.value==="dirty"?Om(l.value):l}}if(a.type==="refinement"){const o=l=>{const u=a.refinement(l,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?fr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?fr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!zf(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>zf(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);zr.assertNever(a)}}tl.create=(e,t,r)=>new tl({schema:e,typeName:lr.ZodEffects,effect:t,...xr(r)});tl.createWithPreprocess=(e,t,r)=>new tl({schema:t,effect:{type:"preprocess",transform:e},typeName:lr.ZodEffects,...xr(r)});class Ll extends Sr{_parse(t){return this._getType(t)===Mt.undefined?Qa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ll.create=(e,t)=>new Ll({innerType:e,typeName:lr.ZodOptional,...xr(t)});class Au extends Sr{_parse(t){return this._getType(t)===Mt.null?Qa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Au.create=(e,t)=>new Au({innerType:e,typeName:lr.ZodNullable,...xr(t)});class dg extends Sr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Mt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}dg.create=(e,t)=>new dg({innerType:e,typeName:lr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...xr(t)});class ug extends Sr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return eg(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new zi(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new zi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ug.create=(e,t)=>new ug({innerType:e,typeName:lr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...xr(t)});class J1 extends Sr{_parse(t){if(this._getType(t)!==Mt.nan){const n=this._getOrReturnCtx(t);return kt(n,{code:pt.invalid_type,expected:Mt.nan,received:n.parsedType}),fr}return{status:"valid",value:t.data}}}J1.create=e=>new J1({typeName:lr.ZodNaN,...xr(e)});const sZ=Symbol("zod_brand");class _C extends Sr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Xg extends Sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?fr:i.status==="dirty"?(r.dirty(),Om(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?fr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Xg({in:t,out:r,typeName:lr.ZodPipeline})}}class fg extends Sr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(zf(a)&&(a.value=Object.freeze(a.value)),a);return eg(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}fg.create=(e,t)=>new fg({innerType:e,typeName:lr.ZodReadonly,...xr(t)});function uO(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function kC(e,t={},r){return e?bp.create().superRefine((n,a)=>{var i,o;const l=e(n);if(l instanceof Promise)return l.then(u=>{var f,h;if(!u){const p=uO(t,n),x=(h=(f=p.fatal)!==null&&f!==void 0?f:r)!==null&&h!==void 0?h:!0;a.addIssue({code:"custom",...p,fatal:x})}});if(!l){const u=uO(t,n),f=(o=(i=u.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...u,fatal:f})}}):bp.create()}const nZ={object:Qs.lazycreate};var lr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(lr||(lr={}));const DC=(e,t={message:`Input not instance of ${e.name}`})=>kC(r=>r instanceof e,t),at=Qo.create,bi=ju.create,aZ=J1.create,iZ=Su.create,rl=tg.create,Uc=Hf.create,oZ=Q1.create,lZ=rg.create,cZ=sg.create,hg=bp.create,dZ=If.create,uZ=$c.create,fZ=X1.create,dh=Zo.create,ys=Qs.create,hZ=Qs.strictCreate,$I=ng.create,mZ=rw.create,pZ=ag.create,xZ=Wl.create,gZ=ig.create,yZ=Z1.create,vZ=Wf.create,bZ=qm.create,wZ=og.create,zm=lg.create,sw=Eu.create,NZ=cg.create,jZ=wp.create,fO=tl.create,SZ=Ll.create,EZ=Au.create,OC=tl.createWithPreprocess,AZ=Xg.create,CZ=()=>at().optional(),TZ=()=>bi().optional(),_Z=()=>rl().optional(),yn={string:e=>Qo.create({...e,coerce:!0}),number:e=>ju.create({...e,coerce:!0}),boolean:e=>tg.create({...e,coerce:!0}),bigint:e=>Su.create({...e,coerce:!0}),date:e=>Hf.create({...e,coerce:!0})},kZ=fr;var Nr=Object.freeze({__proto__:null,defaultErrorMap:vp,setErrorMap:PX,getErrorMap:G1,makeIssue:Y1,EMPTY_PATH:MX,addIssueToContext:kt,ParseStatus:Ma,INVALID:fr,DIRTY:Om,OK:Qa,isAborted:_E,isDirty:kE,isValid:zf,isAsync:eg,get util(){return zr},get objectUtil(){return TE},ZodParsedType:Mt,getParsedType:Ec,ZodType:Sr,datetimeRegex:LI,ZodString:Qo,ZodNumber:ju,ZodBigInt:Su,ZodBoolean:tg,ZodDate:Hf,ZodSymbol:Q1,ZodUndefined:rg,ZodNull:sg,ZodAny:bp,ZodUnknown:If,ZodNever:$c,ZodVoid:X1,ZodArray:Zo,ZodObject:Qs,ZodUnion:ng,ZodDiscriminatedUnion:rw,ZodIntersection:ag,ZodTuple:Wl,ZodRecord:ig,ZodMap:Z1,ZodSet:Wf,ZodFunction:qm,ZodLazy:og,ZodLiteral:lg,ZodEnum:Eu,ZodNativeEnum:cg,ZodPromise:wp,ZodEffects:tl,ZodTransformer:tl,ZodOptional:Ll,ZodNullable:Au,ZodDefault:dg,ZodCatch:ug,ZodNaN:J1,BRAND:sZ,ZodBranded:_C,ZodPipeline:Xg,ZodReadonly:fg,custom:kC,Schema:Sr,ZodSchema:Sr,late:nZ,get ZodFirstPartyTypeKind(){return lr},coerce:yn,any:hg,array:dh,bigint:iZ,boolean:rl,date:Uc,discriminatedUnion:mZ,effect:fO,enum:sw,function:bZ,instanceof:DC,intersection:pZ,lazy:wZ,literal:zm,map:yZ,nan:aZ,nativeEnum:NZ,never:uZ,null:cZ,nullable:EZ,number:bi,object:ys,oboolean:_Z,onumber:TZ,optional:SZ,ostring:CZ,pipeline:AZ,preprocess:OC,promise:jZ,record:gZ,set:vZ,strictObject:hZ,string:at,symbol:oZ,transformer:fO,tuple:xZ,undefined:lZ,union:$I,unknown:dZ,void:fZ,NEVER:kZ,ZodIssueCode:pt,quotelessJson:RX,ZodError:zi});function gt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function hO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Jc(...e){return t=>{let r=!1;const n=e.map(a=>{const i=hO(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():hO(e[a],null)}}}}function Zt(...e){return g.useCallback(Jc(...e),e)}function UI(e,t){const r=g.createContext(t),n=i=>{const{children:o,...l}=i,u=g.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:u,children:o})};n.displayName=e+"Provider";function a(i){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function da(e,t=[]){let r=[];function n(i,o){const l=g.createContext(o),u=r.length;r=[...r,o];const f=p=>{var j;const{scope:x,children:y,...w}=p,b=((j=x==null?void 0:x[e])==null?void 0:j[u])||l,N=g.useMemo(()=>w,Object.values(w));return s.jsx(b.Provider,{value:N,children:y})};f.displayName=i+"Provider";function h(p,x){var b;const y=((b=x==null?void 0:x[e])==null?void 0:b[u])||l,w=g.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,h]}const a=()=>{const i=r.map(o=>g.createContext(o));return function(l){const u=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return a.scopeName=e,[n,DZ(a,...t)]}function DZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const p=u(i)[`__scope${f}`];return{...l,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Cs=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},OZ=dC[" useId ".trim().toString()]||(()=>{}),RZ=0;function Ga(e){const[t,r]=g.useState(OZ());return Cs(()=>{r(n=>n??String(RZ++))},[e]),e||(t?`radix-${t}`:"")}var PZ=dC[" useInsertionEffect ".trim().toString()]||Cs;function Ao({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=MZ({defaultProp:t,onChange:r}),l=e!==void 0,u=l?e:a;{const h=g.useRef(e!==void 0);g.useEffect(()=>{const p=h.current;p!==l&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const f=g.useCallback(h=>{var p;if(l){const x=IZ(h)?h(e):h;x!==e&&((p=o.current)==null||p.call(o,x))}else i(h)},[l,e,i,o]);return[u,f]}function MZ({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),a=g.useRef(r),i=g.useRef(t);return PZ(()=>{i.current=t},[t]),g.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function IZ(e){return typeof e=="function"}function Vp(e){const t=FZ(e),r=g.forwardRef((n,a)=>{const{children:i,...o}=n,l=g.Children.toArray(i),u=l.find(BZ);if(u){const f=u.props.children,h=l.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var nw=Vp("Slot");function FZ(e){const t=g.forwardRef((r,n)=>{const{children:a,...i}=r,o=g.isValidElement(a)?UZ(a):void 0,l=Zt(o,n);if(g.isValidElement(a)){const u=$Z(i,a.props);return a.type!==g.Fragment&&(u.ref=l),g.cloneElement(a,u)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LZ=Symbol("radix.slottable");function BZ(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LZ}function $Z(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const u=i(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function UZ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var VZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VI=VZ.reduce((e,t)=>{const r=Vp(`Primitive.${t}`),n=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function qZ(e,t){e&&ch.flushSync(()=>e.dispatchEvent(t))}function vs(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function qp(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e);g.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var zZ="DismissableLayer",OE="dismissableLayer.update",HZ="dismissableLayer.pointerDownOutside",WZ="dismissableLayer.focusOutside",mO,qI=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zI=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(qI),[h,p]=g.useState(null),x=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),w=Zt(t,T=>p(T)),b=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(N),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,_=S>=j,C=KZ(T=>{const O=T.target,R=[...f.branches].some(L=>L.contains(O));!_||R||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},x),k=QZ(T=>{const O=T.target;[...f.branches].some(L=>L.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},x);return qp(T=>{S===f.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},x),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(mO=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),pO(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=mO)}},[h,x,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),pO())},[h,f]),g.useEffect(()=>{const T=()=>y({});return document.addEventListener(OE,T),()=>document.removeEventListener(OE,T)},[]),s.jsx(VI.div,{...u,ref:w,style:{pointerEvents:A?_?"auto":"none":void 0,...e.style},onFocusCapture:gt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:gt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:gt(e.onPointerDownCapture,C.onPointerDownCapture)})});zI.displayName=zZ;var GZ="DismissableLayerBranch",YZ=g.forwardRef((e,t)=>{const r=g.useContext(qI),n=g.useRef(null),a=Zt(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(VI.div,{...e,ref:a})});YZ.displayName=GZ;function KZ(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let u=function(){HI(HZ,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function QZ(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!n.current&&HI(WZ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function pO(){const e=new CustomEvent(OE);document.dispatchEvent(e)}function HI(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?qZ(a,i):a.dispatchEvent(i)}var XZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ZZ=XZ.reduce((e,t)=>{const r=Vp(`Primitive.${t}`),n=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),j2="focusScope.autoFocusOnMount",S2="focusScope.autoFocusOnUnmount",xO={bubbles:!1,cancelable:!0},JZ="FocusScope",WI=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=vs(a),h=vs(i),p=g.useRef(null),x=Zt(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let b=function(A){if(y.paused||!l)return;const _=A.target;l.contains(_)?p.current=_:Hd(p.current,{select:!0})},N=function(A){if(y.paused||!l)return;const _=A.relatedTarget;_!==null&&(l.contains(_)||Hd(p.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const C of A)C.removedNodes.length>0&&Hd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),S.disconnect()}}},[n,l,y.paused]),g.useEffect(()=>{if(l){yO.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(j2,xO);l.addEventListener(j2,f),l.dispatchEvent(j),j.defaultPrevented||(eJ(aJ(GI(l)),{select:!0}),document.activeElement===b&&Hd(l))}return()=>{l.removeEventListener(j2,f),setTimeout(()=>{const j=new CustomEvent(S2,xO);l.addEventListener(S2,h),l.dispatchEvent(j),j.defaultPrevented||Hd(b??document.body,{select:!0}),l.removeEventListener(S2,h),yO.remove(y)},0)}}},[l,f,h,y]);const w=g.useCallback(b=>{if(!r&&!n||y.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(N&&j){const S=b.currentTarget,[A,_]=tJ(S);A&&_?!b.shiftKey&&j===_?(b.preventDefault(),r&&Hd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Hd(_,{select:!0})):j===S&&b.preventDefault()}},[r,n,y.paused]);return s.jsx(ZZ.div,{tabIndex:-1,...o,ref:x,onKeyDown:w})});WI.displayName=JZ;function eJ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Hd(n,{select:t}),document.activeElement!==r)return}function tJ(e){const t=GI(e),r=gO(t,e),n=gO(t.reverse(),e);return[r,n]}function GI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function gO(e,t){for(const r of e)if(!rJ(r,{upTo:t}))return r}function rJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function sJ(e){return e instanceof HTMLInputElement&&"select"in e}function Hd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&sJ(e)&&t&&e.select()}}var yO=nJ();function nJ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=vO(e,t),e.unshift(t)},remove(t){var r;e=vO(e,t),(r=e[0])==null||r.resume()}}}function vO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function aJ(e){return e.filter(t=>t.tagName!=="A")}var iJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oJ=iJ.reduce((e,t)=>{const r=Vp(`Primitive.${t}`),n=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),lJ="Portal",YI=g.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=g.useState(!1);Cs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(s.jsx(oJ.div,{...n,ref:t}),o):null});YI.displayName=lJ;function cJ(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var aw=e=>{const{present:t,children:r}=e,n=dJ(t),a=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=Zt(n.ref,uJ(a));return typeof r=="function"||n.isPresent?g.cloneElement(a,{ref:i}):null};aw.displayName="Presence";function dJ(e){const[t,r]=g.useState(),n=g.useRef(null),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,u]=cJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const f=Uv(n.current);i.current=l==="mounted"?f:"none"},[l]),Cs(()=>{const f=n.current,h=a.current;if(h!==e){const x=i.current,y=Uv(f);e?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(h&&x!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),Cs(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,p=y=>{const b=Uv(n.current).includes(y.animationName);if(y.target===t&&b&&(u("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},x=y=>{y.target===t&&(i.current=Uv(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Uv(e){return(e==null?void 0:e.animationName)||"none"}function uJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zg=fJ.reduce((e,t)=>{const r=Vp(`Primitive.${t}`),n=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),E2=0;function Jg(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bO()),document.body.insertAdjacentElement("beforeend",e[1]??bO()),E2++,()=>{E2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),E2--}},[])}function bO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ml=function(){return Ml=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ml.apply(this,arguments)};function KI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function hJ(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var T1="right-scroll-bar-position",_1="width-before-scroll-bar",mJ="with-scroll-bars-hidden",pJ="--removed-body-scroll-bar-size";function A2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xJ(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var gJ=typeof window<"u"?g.useLayoutEffect:g.useEffect,wO=new WeakMap;function yJ(e,t){var r=xJ(null,function(n){return e.forEach(function(a){return A2(a,n)})});return gJ(function(){var n=wO.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||A2(l,null)}),i.forEach(function(l){a.has(l)||A2(l,o)})}wO.set(r,e)},[e]),r}function vJ(e){return e}function bJ(e,t){t===void 0&&(t=vJ);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var u=function(){var h=o;o=[],h.forEach(i)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(h){o.push(h),f()},filter:function(h){return o=o.filter(h),r}}}};return a}function wJ(e){e===void 0&&(e={});var t=bJ(null);return t.options=Ml({async:!0,ssr:!1},e),t}var QI=function(e){var t=e.sideCar,r=KI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,Ml({},r))};QI.isSideCarExport=!0;function NJ(e,t){return e.useMedium(t),QI}var XI=wJ(),C2=function(){},iw=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:C2,onWheelCapture:C2,onTouchMoveCapture:C2}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,u=e.className,f=e.removeScrollBar,h=e.enabled,p=e.shards,x=e.sideCar,y=e.noIsolation,w=e.inert,b=e.allowPinchZoom,N=e.as,j=N===void 0?"div":N,S=e.gapMode,A=KI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=x,C=yJ([r,t]),k=Ml(Ml({},A),a);return g.createElement(g.Fragment,null,h&&g.createElement(_,{sideCar:XI,removeScrollBar:f,shards:p,noIsolation:y,inert:w,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:S}),o?g.cloneElement(g.Children.only(l),Ml(Ml({},k),{ref:C})):g.createElement(j,Ml({},k,{className:u,ref:C}),l))});iw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};iw.classNames={fullWidth:_1,zeroRight:T1};var jJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=jJ();return t&&e.setAttribute("nonce",t),e}function EJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function AJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var CJ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=SJ())&&(EJ(t,r),AJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TJ=function(){var e=CJ();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ZI=function(){var e=TJ(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},_J={left:0,top:0,right:0,gap:0},T2=function(e){return parseInt(e||"",10)||0},kJ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[T2(r),T2(n),T2(a)]},DJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _J;var t=kJ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},OJ=ZI(),Hm="data-scroll-locked",RJ=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(mJ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Hm,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(T1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(T1," .").concat(T1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(_1," .").concat(_1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Hm,`] {
    `).concat(pJ,": ").concat(l,`px;
  }
`)},NO=function(){var e=parseInt(document.body.getAttribute(Hm)||"0",10);return isFinite(e)?e:0},PJ=function(){g.useEffect(function(){return document.body.setAttribute(Hm,(NO()+1).toString()),function(){var e=NO()-1;e<=0?document.body.removeAttribute(Hm):document.body.setAttribute(Hm,e.toString())}},[])},MJ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;PJ();var i=g.useMemo(function(){return DJ(a)},[a]);return g.createElement(OJ,{styles:RJ(i,!t,a,r?"":"!important")})},RE=!1;if(typeof window<"u")try{var Vv=Object.defineProperty({},"passive",{get:function(){return RE=!0,!0}});window.addEventListener("test",Vv,Vv),window.removeEventListener("test",Vv,Vv)}catch{RE=!1}var hm=RE?{passive:!1}:!1,IJ=function(e){return e.tagName==="TEXTAREA"},JI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!IJ(e)&&r[t]==="visible")},FJ=function(e){return JI(e,"overflowY")},LJ=function(e){return JI(e,"overflowX")},jO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=eF(e,n);if(a){var i=tF(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},BJ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},$J=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},eF=function(e,t){return e==="v"?FJ(t):LJ(t)},tF=function(e,t){return e==="v"?BJ(t):$J(t)},UJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},VJ=function(e,t,r,n,a){var i=UJ(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,u=t.contains(l),f=!1,h=o>0,p=0,x=0;do{var y=tF(e,l),w=y[0],b=y[1],N=y[2],j=b-N-i*w;(w||j)&&eF(e,l)&&(p+=j,x+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(h&&Math.abs(p)<1||!h&&Math.abs(x)<1)&&(f=!0),f},qv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},SO=function(e){return[e.deltaX,e.deltaY]},EO=function(e){return e&&"current"in e?e.current:e},qJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HJ=0,mm=[];function WJ(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),a=g.useState(HJ++)[0],i=g.useState(ZI)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=hJ([e.lockRef.current],(e.shards||[]).map(EO),!0).filter(Boolean);return b.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(b,N){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var j=qv(b),S=r.current,A="deltaX"in b?b.deltaX:S[0]-j[0],_="deltaY"in b?b.deltaY:S[1]-j[1],C,k=b.target,T=Math.abs(A)>Math.abs(_)?"h":"v";if("touches"in b&&T==="h"&&k.type==="range")return!1;var O=jO(T,k);if(!O)return!0;if(O?C=T:(C=T==="v"?"h":"v",O=jO(T,k)),!O)return!1;if(!n.current&&"changedTouches"in b&&(A||_)&&(n.current=C),!C)return!0;var R=n.current||C;return VJ(R,N,b,R==="h"?A:_)},[]),u=g.useCallback(function(b){var N=b;if(!(!mm.length||mm[mm.length-1]!==i)){var j="deltaY"in N?SO(N):qv(N),S=t.current.filter(function(C){return C.name===N.type&&(C.target===N.target||N.target===C.shadowParent)&&qJ(C.delta,j)})[0];if(S&&S.should){N.cancelable&&N.preventDefault();return}if(!S){var A=(o.current.shards||[]).map(EO).filter(Boolean).filter(function(C){return C.contains(N.target)}),_=A.length>0?l(N,A[0]):!o.current.noIsolation;_&&N.cancelable&&N.preventDefault()}}},[]),f=g.useCallback(function(b,N,j,S){var A={name:b,delta:N,target:j,should:S,shadowParent:GJ(j)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(_){return _!==A})},1)},[]),h=g.useCallback(function(b){r.current=qv(b),n.current=void 0},[]),p=g.useCallback(function(b){f(b.type,SO(b),b.target,l(b,e.lockRef.current))},[]),x=g.useCallback(function(b){f(b.type,qv(b),b.target,l(b,e.lockRef.current))},[]);g.useEffect(function(){return mm.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",u,hm),document.addEventListener("touchmove",u,hm),document.addEventListener("touchstart",h,hm),function(){mm=mm.filter(function(b){return b!==i}),document.removeEventListener("wheel",u,hm),document.removeEventListener("touchmove",u,hm),document.removeEventListener("touchstart",h,hm)}},[]);var y=e.removeScrollBar,w=e.inert;return g.createElement(g.Fragment,null,w?g.createElement(i,{styles:zJ(a)}):null,y?g.createElement(MJ,{gapMode:e.gapMode}):null)}function GJ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const YJ=NJ(XI,WJ);var uh=g.forwardRef(function(e,t){return g.createElement(iw,Ml({},e,{ref:t,sideCar:YJ}))});uh.classNames=iw.classNames;var KJ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pm=new WeakMap,zv=new WeakMap,Hv={},_2=0,rF=function(e){return e&&(e.host||rF(e.parentNode))},QJ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=rF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},XJ=function(e,t,r,n){var a=QJ(t,Array.isArray(e)?e:[e]);Hv[r]||(Hv[r]=new WeakMap);var i=Hv[r],o=[],l=new Set,u=new Set(a),f=function(p){!p||l.has(p)||(l.add(p),f(p.parentNode))};a.forEach(f);var h=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(x){if(l.has(x))h(x);else try{var y=x.getAttribute(n),w=y!==null&&y!=="false",b=(pm.get(x)||0)+1,N=(i.get(x)||0)+1;pm.set(x,b),i.set(x,N),o.push(x),b===1&&w&&zv.set(x,!0),N===1&&x.setAttribute(r,"true"),w||x.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",x,j)}})};return h(t),l.clear(),_2++,function(){o.forEach(function(p){var x=pm.get(p)-1,y=i.get(p)-1;pm.set(p,x),i.set(p,y),x||(zv.has(p)||p.removeAttribute(n),zv.delete(p)),y||p.removeAttribute(r)}),_2--,_2||(pm=new WeakMap,pm=new WeakMap,zv=new WeakMap,Hv={})}},zp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=KJ(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),XJ(n,a,r,"aria-hidden")):function(){return null}},ow="Dialog",[sF,lRe]=da(ow),[ZJ,cl]=sF(ow),nF=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),u=g.useRef(null),[f,h]=Ao({prop:n,defaultProp:a??!1,onChange:i,caller:ow});return s.jsx(ZJ,{scope:t,triggerRef:l,contentRef:u,contentId:Ga(),titleId:Ga(),descriptionId:Ga(),open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:o,children:r})};nF.displayName=ow;var aF="DialogTrigger",iF=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=cl(aF,r),i=Zt(t,a.triggerRef);return s.jsx(Zg.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":MC(a.open),...n,ref:i,onClick:gt(e.onClick,a.onOpenToggle)})});iF.displayName=aF;var RC="DialogPortal",[JJ,oF]=sF(RC,{forceMount:void 0}),lF=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=cl(RC,t);return s.jsx(JJ,{scope:t,forceMount:r,children:g.Children.map(n,o=>s.jsx(aw,{present:r||i.open,children:s.jsx(YI,{asChild:!0,container:a,children:o})}))})};lF.displayName=RC;var eb="DialogOverlay",cF=g.forwardRef((e,t)=>{const r=oF(eb,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=cl(eb,e.__scopeDialog);return i.modal?s.jsx(aw,{present:n||i.open,children:s.jsx(tee,{...a,ref:t})}):null});cF.displayName=eb;var eee=Vp("DialogOverlay.RemoveScroll"),tee=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=cl(eb,r);return s.jsx(uh,{as:eee,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Zg.div,{"data-state":MC(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Gf="DialogContent",dF=g.forwardRef((e,t)=>{const r=oF(Gf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=cl(Gf,e.__scopeDialog);return s.jsx(aw,{present:n||i.open,children:i.modal?s.jsx(ree,{...a,ref:t}):s.jsx(see,{...a,ref:t})})});dF.displayName=Gf;var ree=g.forwardRef((e,t)=>{const r=cl(Gf,e.__scopeDialog),n=g.useRef(null),a=Zt(t,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return zp(i)},[]),s.jsx(uF,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:gt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:gt(e.onFocusOutside,i=>i.preventDefault())})}),see=g.forwardRef((e,t)=>{const r=cl(Gf,e.__scopeDialog),n=g.useRef(!1),a=g.useRef(!1);return s.jsx(uF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),uF=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=cl(Gf,r),u=g.useRef(null),f=Zt(t,u);return Jg(),s.jsxs(s.Fragment,{children:[s.jsx(WI,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(zI,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":MC(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(nee,{titleId:l.titleId}),s.jsx(iee,{contentRef:u,descriptionId:l.descriptionId})]})]})}),PC="DialogTitle",fF=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=cl(PC,r);return s.jsx(Zg.h2,{id:a.titleId,...n,ref:t})});fF.displayName=PC;var hF="DialogDescription",mF=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=cl(hF,r);return s.jsx(Zg.p,{id:a.descriptionId,...n,ref:t})});mF.displayName=hF;var pF="DialogClose",xF=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=cl(pF,r);return s.jsx(Zg.button,{type:"button",...n,ref:t,onClick:gt(e.onClick,()=>a.onOpenChange(!1))})});xF.displayName=pF;function MC(e){return e?"open":"closed"}var gF="DialogTitleWarning",[cRe,yF]=UI(gF,{contentName:Gf,titleName:PC,docsSlug:"dialog"}),nee=({titleId:e})=>{const t=yF(gF),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},aee="DialogDescriptionWarning",iee=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yF(aee).contentName}}.`;return g.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},vF=nF,oee=iF,bF=lF,IC=cF,FC=dF,LC=fF,BC=mF,$C=xF;function wF(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=wF(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Jd(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=wF(e))&&(n&&(n+=" "),n+=t);return n}const UC="-",lee=e=>{const t=dee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(UC);return l[0]===""&&l.length!==1&&l.shift(),NF(l,t)||cee(o)},getConflictingClassGroupIds:(o,l)=>{const u=r[o]||[];return l&&n[o]?[...u,...n[o]]:u}}},NF=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?NF(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(UC);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},AO=/^\[(.+)\]$/,cee=e=>{if(AO.test(e)){const t=AO.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},dee=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)PE(r[a],n,a,t);return n},PE=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:CO(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(uee(a)){PE(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{PE(o,CO(t,i),r,n)})})},CO=(e,t)=>{let r=e;return t.split(UC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},uee=e=>e.isThemeGetter,fee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},ME="!",IE=":",hee=IE.length,mee=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,u=0,f;for(let w=0;w<a.length;w++){let b=a[w];if(o===0&&l===0){if(b===IE){i.push(a.slice(u,w)),u=w+hee;continue}if(b==="/"){f=w;continue}}b==="["?o++:b==="]"?o--:b==="("?l++:b===")"&&l--}const h=i.length===0?a:a.substring(u),p=pee(h),x=p!==h,y=f&&f>u?f-u:void 0;return{modifiers:i,hasImportantModifier:x,baseClassName:p,maybePostfixModifierPosition:y}};if(t){const a=t+IE,i=n;n=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},pee=e=>e.endsWith(ME)?e.substring(0,e.length-1):e.startsWith(ME)?e.substring(1):e,xee=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},gee=e=>({cache:fee(e.cacheSize),parseClassName:mee(e),sortModifiers:xee(e),...lee(e)}),yee=/\s+/,vee=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(yee);let u="";for(let f=l.length-1;f>=0;f-=1){const h=l[f],{isExternal:p,modifiers:x,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:b}=r(h);if(p){u=h+(u.length>0?" "+u:u);continue}let N=!!b,j=n(N?w.substring(0,b):w);if(!j){if(!N){u=h+(u.length>0?" "+u:u);continue}if(j=n(w),!j){u=h+(u.length>0?" "+u:u);continue}N=!1}const S=i(x).join(":"),A=y?S+ME:S,_=A+j;if(o.includes(_))continue;o.push(_);const C=a(j,N);for(let k=0;k<C.length;++k){const T=C[k];o.push(A+T)}u=h+(u.length>0?" "+u:u)}return u};function bee(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=jF(t))&&(n&&(n+=" "),n+=r);return n}const jF=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=jF(e[n]))&&(r&&(r+=" "),r+=t);return r};function wee(e,...t){let r,n,a,i=o;function o(u){const f=t.reduce((h,p)=>p(h),e());return r=gee(f),n=r.cache.get,a=r.cache.set,i=l,l(u)}function l(u){const f=n(u);if(f)return f;const h=vee(u,r);return a(u,h),h}return function(){return i(bee.apply(null,arguments))}}const Mn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},SF=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,EF=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Nee=/^\d+\/\d+$/,jee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,See=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Eee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Aee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xm=e=>Nee.test(e),Cr=e=>!!e&&!Number.isNaN(Number(e)),Fd=e=>!!e&&Number.isInteger(Number(e)),k2=e=>e.endsWith("%")&&Cr(e.slice(0,-1)),vc=e=>jee.test(e),Tee=()=>!0,_ee=e=>See.test(e)&&!Eee.test(e),AF=()=>!1,kee=e=>Aee.test(e),Dee=e=>Cee.test(e),Oee=e=>!$t(e)&&!Ut(e),Ree=e=>Hp(e,_F,AF),$t=e=>SF.test(e),xf=e=>Hp(e,kF,_ee),D2=e=>Hp(e,Lee,Cr),TO=e=>Hp(e,CF,AF),Pee=e=>Hp(e,TF,Dee),Wv=e=>Hp(e,DF,kee),Ut=e=>EF.test(e),lx=e=>Wp(e,kF),Mee=e=>Wp(e,Bee),_O=e=>Wp(e,CF),Iee=e=>Wp(e,_F),Fee=e=>Wp(e,TF),Gv=e=>Wp(e,DF,!0),Hp=(e,t,r)=>{const n=SF.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Wp=(e,t,r=!1)=>{const n=EF.exec(e);return n?n[1]?t(n[1]):r:!1},CF=e=>e==="position"||e==="percentage",TF=e=>e==="image"||e==="url",_F=e=>e==="length"||e==="size"||e==="bg-size",kF=e=>e==="length",Lee=e=>e==="number",Bee=e=>e==="family-name",DF=e=>e==="shadow",$ee=()=>{const e=Mn("color"),t=Mn("font"),r=Mn("text"),n=Mn("font-weight"),a=Mn("tracking"),i=Mn("leading"),o=Mn("breakpoint"),l=Mn("container"),u=Mn("spacing"),f=Mn("radius"),h=Mn("shadow"),p=Mn("inset-shadow"),x=Mn("text-shadow"),y=Mn("drop-shadow"),w=Mn("blur"),b=Mn("perspective"),N=Mn("aspect"),j=Mn("ease"),S=Mn("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[..._(),Ut,$t],k=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],O=()=>[Ut,$t,u],R=()=>[xm,"full","auto",...O()],L=()=>[Fd,"none","subgrid",Ut,$t],M=()=>["auto",{span:["full",Fd,Ut,$t]},Fd,Ut,$t],G=()=>[Fd,"auto",Ut,$t],V=()=>["auto","min","max","fr",Ut,$t],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...O()],U=()=>[xm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],F=()=>[e,Ut,$t],W=()=>[..._(),_O,TO,{position:[Ut,$t]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",Iee,Ree,{size:[Ut,$t]}],P=()=>[k2,lx,xf],X=()=>["","none","full",f,Ut,$t],K=()=>["",Cr,lx,xf],H=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Cr,k2,_O,TO],ae=()=>["","none",w,Ut,$t],ee=()=>["none",Cr,Ut,$t],ne=()=>["none",Cr,Ut,$t],ke=()=>[Cr,Ut,$t],we=()=>[xm,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vc],breakpoint:[vc],color:[Tee],container:[vc],"drop-shadow":[vc],ease:["in","out","in-out"],font:[Oee],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vc],shadow:[vc],spacing:["px",Cr],text:[vc],"text-shadow":[vc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xm,$t,Ut,N]}],container:["container"],columns:[{columns:[Cr,$t,Ut,l]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Fd,"auto",Ut,$t]}],basis:[{basis:[xm,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Cr,xm,"auto","initial","none",$t]}],grow:[{grow:["",Cr,Ut,$t]}],shrink:[{shrink:["",Cr,Ut,$t]}],order:[{order:[Fd,"first","last","none",Ut,$t]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[l,"screen",...U()]}],"min-w":[{"min-w":[l,"screen","none",...U()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...U()]}],h:[{h:["screen",...U()]}],"min-h":[{"min-h":["screen","none",...U()]}],"max-h":[{"max-h":["screen",...U()]}],"font-size":[{text:["base",r,lx,xf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ut,D2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",k2,$t]}],"font-family":[{font:[Mee,$t,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ut,$t]}],"line-clamp":[{"line-clamp":[Cr,"none",Ut,D2]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",Ut,$t]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ut,$t]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[Cr,"from-font","auto",Ut,xf]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Cr,"auto",Ut,$t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut,$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut,$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fd,Ut,$t],radial:["",Ut,$t],conic:[Fd,Ut,$t]},Fee,Pee]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Cr,Ut,$t]}],"outline-w":[{outline:["",Cr,lx,xf]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",h,Gv,Wv]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",p,Gv,Wv]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Cr,xf]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",x,Gv,Wv]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Cr,Ut,$t]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Cr]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Ut,$t]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Cr]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ut,$t]}],filter:[{filter:["","none",Ut,$t]}],blur:[{blur:ae()}],brightness:[{brightness:[Cr,Ut,$t]}],contrast:[{contrast:[Cr,Ut,$t]}],"drop-shadow":[{"drop-shadow":["","none",y,Gv,Wv]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Cr,Ut,$t]}],"hue-rotate":[{"hue-rotate":[Cr,Ut,$t]}],invert:[{invert:["",Cr,Ut,$t]}],saturate:[{saturate:[Cr,Ut,$t]}],sepia:[{sepia:["",Cr,Ut,$t]}],"backdrop-filter":[{"backdrop-filter":["","none",Ut,$t]}],"backdrop-blur":[{"backdrop-blur":ae()}],"backdrop-brightness":[{"backdrop-brightness":[Cr,Ut,$t]}],"backdrop-contrast":[{"backdrop-contrast":[Cr,Ut,$t]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Cr,Ut,$t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Cr,Ut,$t]}],"backdrop-invert":[{"backdrop-invert":["",Cr,Ut,$t]}],"backdrop-opacity":[{"backdrop-opacity":[Cr,Ut,$t]}],"backdrop-saturate":[{"backdrop-saturate":[Cr,Ut,$t]}],"backdrop-sepia":[{"backdrop-sepia":["",Cr,Ut,$t]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ut,$t]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Cr,"initial",Ut,$t]}],ease:[{ease:["linear","initial",j,Ut,$t]}],delay:[{delay:[Cr,Ut,$t]}],animate:[{animate:["none",S,Ut,$t]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ut,$t]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:ee()}],"rotate-x":[{"rotate-x":ee()}],"rotate-y":[{"rotate-y":ee()}],"rotate-z":[{"rotate-z":ee()}],scale:[{scale:ne()}],"scale-x":[{"scale-x":ne()}],"scale-y":[{"scale-y":ne()}],"scale-z":[{"scale-z":ne()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[Ut,$t,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:we()}],"translate-x":[{"translate-x":we()}],"translate-y":[{"translate-y":we()}],"translate-z":[{"translate-z":we()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut,$t]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut,$t]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Cr,lx,xf,D2]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Uee=wee($ee);function Ze(...e){return Uee(Jd(e))}const Xr=vF,Gp=oee,Vee=bF,Oc=$C,OF=g.forwardRef(({className:e,...t},r)=>s.jsx(IC,{ref:r,className:Ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OF.displayName=IC.displayName;const Zr=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Vee,{children:[s.jsx(OF,{}),s.jsxs(FC,{ref:n,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs($C,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(No,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zr.displayName=FC.displayName;const rs=({className:e,...t})=>s.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});rs.displayName="DialogHeader";const Xa=({className:e,...t})=>s.jsx("div",{className:Ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Xa.displayName="DialogFooter";const ss=g.forwardRef(({className:e,...t},r)=>s.jsx(LC,{ref:r,className:Ze("text-lg font-semibold leading-none tracking-tight",e),...t}));ss.displayName=LC.displayName;const la=g.forwardRef(({className:e,...t},r)=>s.jsx(BC,{ref:r,className:Ze("text-sm text-muted-foreground",e),...t}));la.displayName=BC.displayName;const kO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,DO=Jd,lw=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return DO(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(f=>{const h=r==null?void 0:r[f],p=i==null?void 0:i[f];if(h===null)return null;const x=kO(h)||kO(p);return a[f][x]}),l=r&&Object.entries(r).reduce((f,h)=>{let[p,x]=h;return x===void 0||(f[p]=x),f},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,h)=>{let{class:p,className:x,...y}=h;return Object.entries(y).every(w=>{let[b,N]=w;return Array.isArray(N)?N.includes({...i,...l}[b]):{...i,...l}[b]===N})?[...f,p,x]:f},[]);return DO(e,o,u,r==null?void 0:r.class,r==null?void 0:r.className)},Np=lw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 ",outline:"border bg-background shadow-xs hover:bg-accent hover:text-gray-700-foreground ",secondary:"bg-secondary text-white  shadow-xs hover:bg-white/80",ghost:"hover:bg-accent hover:text-gray-700-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function pe({className:e,variant:t,size:r,asChild:n=!1,...a}){const i=n?nw:"button";return s.jsx(i,{"data-slot":"button",className:Ze(Np({variant:t,size:r,className:e})),...a})}function Ge({className:e,type:t,...r}){return s.jsx("input",{type:t,"data-slot":"input",className:Ze("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}const vn=g.forwardRef(({className:e,onChange:t,onBlur:r,...n},a)=>{const[i,o]=g.useState(!1);return s.jsxs("div",{className:"relative",children:[s.jsx(Ge,{type:i?"text":"password",className:Ze("hide-password-toggle pr-10",e),ref:a,onChange:t,onBlur:r,autoComplete:"new-password",...n}),s.jsxs(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>{o(l=>!l)},children:[i?s.jsx(hQ,{className:"h-4 w-4","aria-hidden":"true"}):s.jsx(_c,{className:"h-4 w-4","aria-hidden":"true"}),s.jsx("span",{className:"sr-only",children:i?"Hide password":"Show password"})]}),s.jsx("style",{children:`
          .hide-password-toggle::-ms-reveal,
          .hide-password-toggle::-ms-clear {
            visibility: hidden;
            pointer-events: none;
            display: none;
          }
        `})]})});vn.displayName="PasswordInput";function qee(e){const t=zee(e),r=g.forwardRef((n,a)=>{const{children:i,...o}=n,l=g.Children.toArray(i),u=l.find(Wee);if(u){const f=u.props.children,h=l.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function zee(e){const t=g.forwardRef((r,n)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=Yee(a),l=Gee(i,a.props);return a.type!==g.Fragment&&(l.ref=n?Jc(n,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Hee=Symbol("radix.slottable");function Wee(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Hee}function Gee(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Yee(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Kee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],It=Kee.reduce((e,t)=>{const r=qee(`Primitive.${t}`),n=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Yp(e,t){e&&ch.flushSync(()=>e.dispatchEvent(t))}var Qee="Label",RF=g.forwardRef((e,t)=>s.jsx(It.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));RF.displayName=Qee;var Xee=RF;function je({className:e,...t}){return s.jsx(Xee,{"data-slot":"label",className:Ze("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function PF(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zee}=Object.prototype,{getPrototypeOf:VC}=Object,cw=(e=>t=>{const r=Zee.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),dl=e=>(e=e.toLowerCase(),t=>cw(t)===e),dw=e=>t=>typeof t===e,{isArray:Kp}=Array,mg=dw("undefined");function Jee(e){return e!==null&&!mg(e)&&e.constructor!==null&&!mg(e.constructor)&&Hi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const MF=dl("ArrayBuffer");function ete(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&MF(e.buffer),t}const tte=dw("string"),Hi=dw("function"),IF=dw("number"),uw=e=>e!==null&&typeof e=="object",rte=e=>e===!0||e===!1,k1=e=>{if(cw(e)!=="object")return!1;const t=VC(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ste=dl("Date"),nte=dl("File"),ate=dl("Blob"),ite=dl("FileList"),ote=e=>uw(e)&&Hi(e.pipe),lte=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Hi(e.append)&&((t=cw(e))==="formdata"||t==="object"&&Hi(e.toString)&&e.toString()==="[object FormData]"))},cte=dl("URLSearchParams"),[dte,ute,fte,hte]=["ReadableStream","Request","Response","Headers"].map(dl),mte=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ey(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Kp(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function FF(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const jf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LF=e=>!mg(e)&&e!==jf;function FE(){const{caseless:e}=LF(this)&&this||{},t={},r=(n,a)=>{const i=e&&FF(t,a)||a;k1(t[i])&&k1(n)?t[i]=FE(t[i],n):k1(n)?t[i]=FE({},n):Kp(n)?t[i]=n.slice():t[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&ey(arguments[n],r);return t}const pte=(e,t,r,{allOwnKeys:n}={})=>(ey(t,(a,i)=>{r&&Hi(a)?e[i]=PF(a,r):e[i]=a},{allOwnKeys:n}),e),xte=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gte=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},yte=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&VC(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},vte=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},bte=e=>{if(!e)return null;if(Kp(e))return e;let t=e.length;if(!IF(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},wte=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&VC(Uint8Array)),Nte=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},jte=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Ste=dl("HTMLFormElement"),Ete=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),OO=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ate=dl("RegExp"),BF=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ey(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},Cte=e=>{BF(e,(t,r)=>{if(Hi(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Hi(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Tte=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Kp(e)?n(e):n(String(e).split(t)),r},_te=()=>{},kte=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Dte(e){return!!(e&&Hi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Ote=e=>{const t=new Array(10),r=(n,a)=>{if(uw(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const i=Kp(n)?[]:{};return ey(n,(o,l)=>{const u=r(o,a+1);!mg(u)&&(i[l]=u)}),t[a]=void 0,i}}return n};return r(e,0)},Rte=dl("AsyncFunction"),Pte=e=>e&&(uw(e)||Hi(e))&&Hi(e.then)&&Hi(e.catch),$F=((e,t)=>e?setImmediate:t?((r,n)=>(jf.addEventListener("message",({source:a,data:i})=>{a===jf&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),jf.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Hi(jf.postMessage)),Mte=typeof queueMicrotask<"u"?queueMicrotask.bind(jf):typeof process<"u"&&process.nextTick||$F,Qe={isArray:Kp,isArrayBuffer:MF,isBuffer:Jee,isFormData:lte,isArrayBufferView:ete,isString:tte,isNumber:IF,isBoolean:rte,isObject:uw,isPlainObject:k1,isReadableStream:dte,isRequest:ute,isResponse:fte,isHeaders:hte,isUndefined:mg,isDate:ste,isFile:nte,isBlob:ate,isRegExp:Ate,isFunction:Hi,isStream:ote,isURLSearchParams:cte,isTypedArray:wte,isFileList:ite,forEach:ey,merge:FE,extend:pte,trim:mte,stripBOM:xte,inherits:gte,toFlatObject:yte,kindOf:cw,kindOfTest:dl,endsWith:vte,toArray:bte,forEachEntry:Nte,matchAll:jte,isHTMLForm:Ste,hasOwnProperty:OO,hasOwnProp:OO,reduceDescriptors:BF,freezeMethods:Cte,toObjectSet:Tte,toCamelCase:Ete,noop:_te,toFiniteNumber:kte,findKey:FF,global:jf,isContextDefined:LF,isSpecCompliantForm:Dte,toJSONObject:Ote,isAsyncFn:Rte,isThenable:Pte,setImmediate:$F,asap:Mte};function pr(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Qe.inherits(pr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Qe.toJSONObject(this.config),code:this.code,status:this.status}}});const UF=pr.prototype,VF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{VF[e]={value:e}});Object.defineProperties(pr,VF);Object.defineProperty(UF,"isAxiosError",{value:!0});pr.from=(e,t,r,n,a,i)=>{const o=Object.create(UF);return Qe.toFlatObject(e,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),pr.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Ite=null;function LE(e){return Qe.isPlainObject(e)||Qe.isArray(e)}function qF(e){return Qe.endsWith(e,"[]")?e.slice(0,-2):e}function RO(e,t,r){return e?e.concat(t).map(function(a,i){return a=qF(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function Fte(e){return Qe.isArray(e)&&!e.some(LE)}const Lte=Qe.toFlatObject(Qe,{},null,function(t){return/^is[A-Z]/.test(t)});function fw(e,t,r){if(!Qe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Qe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,N){return!Qe.isUndefined(N[b])});const n=r.metaTokens,a=r.visitor||h,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Qe.isSpecCompliantForm(t);if(!Qe.isFunction(a))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(Qe.isDate(w))return w.toISOString();if(!u&&Qe.isBlob(w))throw new pr("Blob is not supported. Use a Buffer instead.");return Qe.isArrayBuffer(w)||Qe.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,b,N){let j=w;if(w&&!N&&typeof w=="object"){if(Qe.endsWith(b,"{}"))b=n?b:b.slice(0,-2),w=JSON.stringify(w);else if(Qe.isArray(w)&&Fte(w)||(Qe.isFileList(w)||Qe.endsWith(b,"[]"))&&(j=Qe.toArray(w)))return b=qF(b),j.forEach(function(A,_){!(Qe.isUndefined(A)||A===null)&&t.append(o===!0?RO([b],_,i):o===null?b:b+"[]",f(A))}),!1}return LE(w)?!0:(t.append(RO(N,b,i),f(w)),!1)}const p=[],x=Object.assign(Lte,{defaultVisitor:h,convertValue:f,isVisitable:LE});function y(w,b){if(!Qe.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(w),Qe.forEach(w,function(j,S){(!(Qe.isUndefined(j)||j===null)&&a.call(t,j,Qe.isString(S)?S.trim():S,b,x))===!0&&y(j,b?b.concat(S):[S])}),p.pop()}}if(!Qe.isObject(e))throw new TypeError("data must be an object");return y(e),t}function PO(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function qC(e,t){this._pairs=[],e&&fw(e,this,t)}const zF=qC.prototype;zF.append=function(t,r){this._pairs.push([t,r])};zF.toString=function(t){const r=t?function(n){return t.call(this,n,PO)}:PO;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Bte(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HF(e,t,r){if(!t)return e;const n=r&&r.encode||Bte;Qe.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Qe.isURLSearchParams(t)?t.toString():new qC(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class MO{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Qe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const WF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$te=typeof URLSearchParams<"u"?URLSearchParams:qC,Ute=typeof FormData<"u"?FormData:null,Vte=typeof Blob<"u"?Blob:null,qte={isBrowser:!0,classes:{URLSearchParams:$te,FormData:Ute,Blob:Vte},protocols:["http","https","file","blob","url","data"]},zC=typeof window<"u"&&typeof document<"u",BE=typeof navigator=="object"&&navigator||void 0,zte=zC&&(!BE||["ReactNative","NativeScript","NS"].indexOf(BE.product)<0),Hte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wte=zC&&window.location.href||"http://localhost",Gte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zC,hasStandardBrowserEnv:zte,hasStandardBrowserWebWorkerEnv:Hte,navigator:BE,origin:Wte},Symbol.toStringTag,{value:"Module"})),Ta={...Gte,...qte};function Yte(e,t){return fw(e,new Ta.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return Ta.isNode&&Qe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Kte(e){return Qe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Qte(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function GF(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=r.length;return o=!o&&Qe.isArray(a)?a.length:o,u?(Qe.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!Qe.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&Qe.isArray(a[o])&&(a[o]=Qte(a[o])),!l)}if(Qe.isFormData(e)&&Qe.isFunction(e.entries)){const r={};return Qe.forEachEntry(e,(n,a)=>{t(Kte(n),a,r,0)}),r}return null}function Xte(e,t,r){if(Qe.isString(e))try{return(t||JSON.parse)(e),Qe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ty={transitional:WF,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=Qe.isObject(t);if(i&&Qe.isHTMLForm(t)&&(t=new FormData(t)),Qe.isFormData(t))return a?JSON.stringify(GF(t)):t;if(Qe.isArrayBuffer(t)||Qe.isBuffer(t)||Qe.isStream(t)||Qe.isFile(t)||Qe.isBlob(t)||Qe.isReadableStream(t))return t;if(Qe.isArrayBufferView(t))return t.buffer;if(Qe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Yte(t,this.formSerializer).toString();if((l=Qe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return fw(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Xte(t)):t}],transformResponse:[function(t){const r=this.transitional||ty.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Qe.isResponse(t)||Qe.isReadableStream(t))return t;if(t&&Qe.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?pr.from(l,pr.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ta.classes.FormData,Blob:Ta.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Qe.forEach(["delete","get","head","post","put","patch"],e=>{ty.headers[e]={}});const Zte=Qe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jte=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&Zte[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},IO=Symbol("internals");function cx(e){return e&&String(e).trim().toLowerCase()}function D1(e){return e===!1||e==null?e:Qe.isArray(e)?e.map(D1):String(e)}function ere(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const tre=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function O2(e,t,r,n,a){if(Qe.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Qe.isString(t)){if(Qe.isString(n))return t.indexOf(n)!==-1;if(Qe.isRegExp(n))return n.test(t)}}function rre(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function sre(e,t){const r=Qe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let xi=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,u,f){const h=cx(u);if(!h)throw new Error("header name must be a non-empty string");const p=Qe.findKey(a,h);(!p||a[p]===void 0||f===!0||f===void 0&&a[p]!==!1)&&(a[p||u]=D1(l))}const o=(l,u)=>Qe.forEach(l,(f,h)=>i(f,h,u));if(Qe.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Qe.isString(t)&&(t=t.trim())&&!tre(t))o(Jte(t),r);else if(Qe.isHeaders(t))for(const[l,u]of t.entries())i(u,l,n);else t!=null&&i(r,t,n);return this}get(t,r){if(t=cx(t),t){const n=Qe.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return ere(a);if(Qe.isFunction(r))return r.call(this,a,n);if(Qe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=cx(t),t){const n=Qe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||O2(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=cx(o),o){const l=Qe.findKey(n,o);l&&(!r||O2(n,n[l],l,r))&&(delete n[l],a=!0)}}return Qe.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||O2(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return Qe.forEach(this,(a,i)=>{const o=Qe.findKey(n,i);if(o){r[o]=D1(a),delete r[i];return}const l=t?rre(i):String(i).trim();l!==i&&delete r[i],r[l]=D1(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Qe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Qe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[IO]=this[IO]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=cx(o);n[l]||(sre(a,o),n[l]=!0)}return Qe.isArray(t)?t.forEach(i):i(t),this}};xi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Qe.reduceDescriptors(xi.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Qe.freezeMethods(xi);function R2(e,t){const r=this||ty,n=t||r,a=xi.from(n.headers);let i=n.data;return Qe.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function YF(e){return!!(e&&e.__CANCEL__)}function Qp(e,t,r){pr.call(this,e??"canceled",pr.ERR_CANCELED,t,r),this.name="CanceledError"}Qe.inherits(Qp,pr,{__CANCEL__:!0});function KF(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new pr("Request failed with status code "+r.status,[pr.ERR_BAD_REQUEST,pr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function nre(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function are(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),h=n[i];o||(o=f),r[a]=u,n[a]=f;let p=i,x=0;for(;p!==a;)x+=r[p++],p=p%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),f-o<t)return;const y=h&&f-h;return y?Math.round(x*1e3/y):void 0}}function ire(e,t){let r=0,n=1e3/t,a,i;const o=(f,h=Date.now())=>{r=h,a=null,i&&(clearTimeout(i),i=null),e.apply(null,f)};return[(...f)=>{const h=Date.now(),p=h-r;p>=n?o(f,h):(a=f,i||(i=setTimeout(()=>{i=null,o(a)},n-p)))},()=>a&&o(a)]}const tb=(e,t,r=3)=>{let n=0;const a=are(50,250);return ire(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-n,f=a(u),h=o<=l;n=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&h?(l-o)/f:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},r)},FO=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},LO=e=>(...t)=>Qe.asap(()=>e(...t)),ore=Ta.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ta.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ta.origin),Ta.navigator&&/(msie|trident)/i.test(Ta.navigator.userAgent)):()=>!0,lre=Ta.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const o=[e+"="+encodeURIComponent(t)];Qe.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Qe.isString(n)&&o.push("path="+n),Qe.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cre(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function dre(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function QF(e,t,r){let n=!cre(t);return e&&(n||r==!1)?dre(e,t):t}const BO=e=>e instanceof xi?{...e}:e;function Yf(e,t){t=t||{};const r={};function n(f,h,p,x){return Qe.isPlainObject(f)&&Qe.isPlainObject(h)?Qe.merge.call({caseless:x},f,h):Qe.isPlainObject(h)?Qe.merge({},h):Qe.isArray(h)?h.slice():h}function a(f,h,p,x){if(Qe.isUndefined(h)){if(!Qe.isUndefined(f))return n(void 0,f,p,x)}else return n(f,h,p,x)}function i(f,h){if(!Qe.isUndefined(h))return n(void 0,h)}function o(f,h){if(Qe.isUndefined(h)){if(!Qe.isUndefined(f))return n(void 0,f)}else return n(void 0,h)}function l(f,h,p){if(p in t)return n(f,h);if(p in e)return n(void 0,f)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(f,h,p)=>a(BO(f),BO(h),p,!0)};return Qe.forEach(Object.keys(Object.assign({},e,t)),function(h){const p=u[h]||a,x=p(e[h],t[h],h);Qe.isUndefined(x)&&p!==l||(r[h]=x)}),r}const XF=e=>{const t=Yf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=xi.from(o),t.url=HF(QF(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Qe.isFormData(r)){if(Ta.hasStandardBrowserEnv||Ta.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[f,...h]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...h].join("; "))}}if(Ta.hasStandardBrowserEnv&&(n&&Qe.isFunction(n)&&(n=n(t)),n||n!==!1&&ore(t.url))){const f=a&&i&&lre.read(i);f&&o.set(a,f)}return t},ure=typeof XMLHttpRequest<"u",fre=ure&&function(e){return new Promise(function(r,n){const a=XF(e);let i=a.data;const o=xi.from(a.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:f}=a,h,p,x,y,w;function b(){y&&y(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function j(){if(!N)return;const A=xi.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:A,config:e,request:N};KF(function(T){r(T),b()},function(T){n(T),b()},C),N=null}"onloadend"in N?N.onloadend=j:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(j)},N.onabort=function(){N&&(n(new pr("Request aborted",pr.ECONNABORTED,e,N)),N=null)},N.onerror=function(){n(new pr("Network Error",pr.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||WF;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new pr(_,C.clarifyTimeoutError?pr.ETIMEDOUT:pr.ECONNABORTED,e,N)),N=null},i===void 0&&o.setContentType(null),"setRequestHeader"in N&&Qe.forEach(o.toJSON(),function(_,C){N.setRequestHeader(C,_)}),Qe.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),l&&l!=="json"&&(N.responseType=a.responseType),f&&([x,w]=tb(f,!0),N.addEventListener("progress",x)),u&&N.upload&&([p,y]=tb(u),N.upload.addEventListener("progress",p),N.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(h=A=>{N&&(n(!A||A.type?new Qp(null,e,N):A),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const S=nre(a.url);if(S&&Ta.protocols.indexOf(S)===-1){n(new pr("Unsupported protocol "+S+":",pr.ERR_BAD_REQUEST,e));return}N.send(i||null)})},hre=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(f){if(!a){a=!0,l();const h=f instanceof Error?f:this.reason;n.abort(h instanceof pr?h:new Qp(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new pr(`timeout ${t} of ms exceeded`,pr.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>Qe.asap(l),u}},mre=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},pre=async function*(e,t){for await(const r of xre(e))yield*mre(r,t)},xre=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},$O=(e,t,r,n)=>{const a=pre(e,t);let i=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:f,value:h}=await a.next();if(f){l(),u.close();return}let p=h.byteLength;if(r){let x=i+=p;r(x)}u.enqueue(new Uint8Array(h))}catch(f){throw l(f),f}},cancel(u){return l(u),a.return()}},{highWaterMark:2})},hw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ZF=hw&&typeof ReadableStream=="function",gre=hw&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),JF=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yre=ZF&&JF(()=>{let e=!1;const t=new Request(Ta.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),UO=64*1024,$E=ZF&&JF(()=>Qe.isReadableStream(new Response("").body)),rb={stream:$E&&(e=>e.body)};hw&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!rb[t]&&(rb[t]=Qe.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new pr(`Response type '${t}' is not supported`,pr.ERR_NOT_SUPPORT,n)})})})(new Response);const vre=async e=>{if(e==null)return 0;if(Qe.isBlob(e))return e.size;if(Qe.isSpecCompliantForm(e))return(await new Request(Ta.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Qe.isArrayBufferView(e)||Qe.isArrayBuffer(e))return e.byteLength;if(Qe.isURLSearchParams(e)&&(e=e+""),Qe.isString(e))return(await gre(e)).byteLength},bre=async(e,t)=>{const r=Qe.toFiniteNumber(e.getContentLength());return r??vre(t)},wre=hw&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:f,headers:h,withCredentials:p="same-origin",fetchOptions:x}=XF(e);f=f?(f+"").toLowerCase():"text";let y=hre([a,i&&i.toAbortSignal()],o),w;const b=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let N;try{if(u&&yre&&r!=="get"&&r!=="head"&&(N=await bre(h,n))!==0){let C=new Request(t,{method:"POST",body:n,duplex:"half"}),k;if(Qe.isFormData(n)&&(k=C.headers.get("content-type"))&&h.setContentType(k),C.body){const[T,O]=FO(N,tb(LO(u)));n=$O(C.body,UO,T,O)}}Qe.isString(p)||(p=p?"include":"omit");const j="credentials"in Request.prototype;w=new Request(t,{...x,signal:y,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:j?p:void 0});let S=await fetch(w);const A=$E&&(f==="stream"||f==="response");if($E&&(l||A&&b)){const C={};["status","statusText","headers"].forEach(R=>{C[R]=S[R]});const k=Qe.toFiniteNumber(S.headers.get("content-length")),[T,O]=l&&FO(k,tb(LO(l),!0))||[];S=new Response($O(S.body,UO,T,()=>{O&&O(),b&&b()}),C)}f=f||"text";let _=await rb[Qe.findKey(rb,f)||"text"](S,e);return!A&&b&&b(),await new Promise((C,k)=>{KF(C,k,{data:_,headers:xi.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:w})})}catch(j){throw b&&b(),j&&j.name==="TypeError"&&/fetch/i.test(j.message)?Object.assign(new pr("Network Error",pr.ERR_NETWORK,e,w),{cause:j.cause||j}):pr.from(j,j&&j.code,e,w)}}),UE={http:Ite,xhr:fre,fetch:wre};Qe.forEach(UE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const VO=e=>`- ${e}`,Nre=e=>Qe.isFunction(e)||e===null||e===!1,eL={getAdapter:e=>{e=Qe.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!Nre(r)&&(n=UE[(o=String(r)).toLowerCase()],n===void 0))throw new pr(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+i]=n}if(!n){const i=Object.entries(a).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(VO).join(`
`):" "+VO(i[0]):"as no adapter specified";throw new pr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:UE};function P2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qp(null,e)}function qO(e){return P2(e),e.headers=xi.from(e.headers),e.data=R2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),eL.getAdapter(e.adapter||ty.adapter)(e).then(function(n){return P2(e),n.data=R2.call(e,e.transformResponse,n),n.headers=xi.from(n.headers),n},function(n){return YF(n)||(P2(e),n&&n.response&&(n.response.data=R2.call(e,e.transformResponse,n.response),n.response.headers=xi.from(n.response.headers))),Promise.reject(n)})}const tL="1.8.4",mw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{mw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const zO={};mw.transitional=function(t,r,n){function a(i,o){return"[Axios v"+tL+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new pr(a(o," has been removed"+(r?" in "+r:"")),pr.ERR_DEPRECATED);return r&&!zO[o]&&(zO[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};mw.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function jre(e,t,r){if(typeof e!="object")throw new pr("options must be an object",pr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new pr("option "+i+" must be "+u,pr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new pr("Unknown option "+i,pr.ERR_BAD_OPTION)}}const O1={assertOptions:jre,validators:mw},El=O1.validators;let Ff=class{constructor(t){this.defaults=t,this.interceptors={request:new MO,response:new MO}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Yf(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&O1.assertOptions(n,{silentJSONParsing:El.transitional(El.boolean),forcedJSONParsing:El.transitional(El.boolean),clarifyTimeoutError:El.transitional(El.boolean)},!1),a!=null&&(Qe.isFunction(a)?r.paramsSerializer={serialize:a}:O1.assertOptions(a,{encode:El.function,serialize:El.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),O1.assertOptions(r,{baseUrl:El.spelling("baseURL"),withXsrfToken:El.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Qe.merge(i.common,i[r.method]);i&&Qe.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),r.headers=xi.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(u=u&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let h,p=0,x;if(!u){const w=[qO.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,f),x=w.length,h=Promise.resolve(r);p<x;)h=h.then(w[p++],w[p++]);return h}x=l.length;let y=r;for(p=0;p<x;){const w=l[p++],b=l[p++];try{y=w(y)}catch(N){b.call(this,N);break}}try{h=qO.call(this,y)}catch(w){return Promise.reject(w)}for(p=0,x=f.length;p<x;)h=h.then(f[p++],f[p++]);return h}getUri(t){t=Yf(this.defaults,t);const r=QF(t.baseURL,t.url,t.allowAbsoluteUrls);return HF(r,t.params,t.paramsSerializer)}};Qe.forEach(["delete","get","head","options"],function(t){Ff.prototype[t]=function(r,n){return this.request(Yf(n||{},{method:t,url:r,data:(n||{}).data}))}});Qe.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Yf(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ff.prototype[t]=r(),Ff.prototype[t+"Form"]=r(!0)});let Sre=class rL{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Qp(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new rL(function(a){t=a}),cancel:t}}};function Ere(e){return function(r){return e.apply(null,r)}}function Are(e){return Qe.isObject(e)&&e.isAxiosError===!0}const VE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(VE).forEach(([e,t])=>{VE[t]=e});function sL(e){const t=new Ff(e),r=PF(Ff.prototype.request,t);return Qe.extend(r,Ff.prototype,t,{allOwnKeys:!0}),Qe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return sL(Yf(e,a))},r}const Ws=sL(ty);Ws.Axios=Ff;Ws.CanceledError=Qp;Ws.CancelToken=Sre;Ws.isCancel=YF;Ws.VERSION=tL;Ws.toFormData=fw;Ws.AxiosError=pr;Ws.Cancel=Ws.CanceledError;Ws.all=function(t){return Promise.all(t)};Ws.spread=Ere;Ws.isAxiosError=Are;Ws.mergeConfig=Yf;Ws.AxiosHeaders=xi;Ws.formToJSON=e=>GF(Qe.isHTMLForm(e)?new FormData(e):e);Ws.getAdapter=eL.getAdapter;Ws.HttpStatusCode=VE;Ws.default=Ws;const{Axios:fRe,AxiosError:hRe,CanceledError:mRe,isCancel:pRe,CancelToken:xRe,VERSION:gRe,all:yRe,Cancel:vRe,isAxiosError:bRe,spread:wRe,toFormData:NRe,AxiosHeaders:jRe,HttpStatusCode:SRe,formToJSON:ERe,getAdapter:ARe,mergeConfig:CRe}=Ws,Cre=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken")},Tre=e=>{Cre(),e!=null&&e.startsWith("/admin")?window.location.href="/admin":window.location.href="/login"},fh=Ws.create({baseURL:Yb});fh.interceptors.response.use(e=>e,e=>{var r,n,a,i,o,l,u,f;const t=(r=e.response)==null?void 0:r.status;if((i=(a=(n=e.response)==null?void 0:n.data)==null?void 0:a.error)!=null&&i.message||((l=(o=e.response)==null?void 0:o.data)==null||l.message),t===401||t===403){const h=window.location.pathname,p=h==="/login"||h==="/admin"||h==="/admin/login"||h.includes("/forgot-password")||h.includes("/reset-password")||h.includes("/register"),x=h==="/"&&((f=(u=e.config)==null?void 0:u.url)==null?void 0:f.includes("/users/me"));return!p&&!x&&Tre(h),Promise.reject(e)}return Promise.reject(e)});const hh=e=>e.startsWith("/api")?e:`/api${e.startsWith("/")?"":"/"}${e}`,mh=e=>{var r,n,a,i,o,l,u,f,h,p,x,y,w;const t=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||((o=(i=(a=e.response)==null?void 0:a.data)==null?void 0:i.error)==null?void 0:o.message)||((f=(u=(l=e.response)==null?void 0:l.data)==null?void 0:u.errors)==null?void 0:f.message)||((y=(x=(p=(h=e.response)==null?void 0:h.data)==null?void 0:p.errors)==null?void 0:x[0])==null?void 0:y.message)||e.message||"Request failed";return(w=e.response)!=null&&w.status?`${{400:"Bad Request: ",401:"Unauthorized: ",403:"Forbidden: ",404:"Not Found: ",409:"Conflict: ",422:"Validation Error: ",500:"Server Error: "}[e.response.status]||`Error ${e.response.status}: `}${t}`:t};fh.interceptors.request.use(e=>{var r;const t=localStorage.getItem("authToken");return(r=e.url)!=null&&r.includes("/users/me")&&!t?(console.warn("Blocking /users/me request for non-authenticated user"),Promise.reject(new Error("Authentication required for /users/me endpoint"))):(t&&(e.headers.Authorization=`Bearer ${t}`),e)});const ut=async(e,t,r)=>{var n,a,i,o,l;try{const u={params:t,...r},f=await fh.get(hh(e),u);return(r==null?void 0:r.responseType)==="blob"?f:f.data}catch(u){throw console.error("GET request error details:",(n=u.response)==null?void 0:n.data),{status:(a=u.response)==null?void 0:a.status,errors:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:mh(u),data:(l=u.response)==null?void 0:l.data,originalError:u}}},Ur=async(e,t,r)=>{var n,a,i,o,l;try{const u=await fh.post(hh(e),t,r);return(r==null?void 0:r.responseType)==="blob"?u:u.data}catch(u){throw console.error("POST request error details:",(n=u.response)==null?void 0:n.data),{status:(a=u.response)==null?void 0:a.status,errors:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:mh(u),data:(l=u.response)==null?void 0:l.data,originalError:u}}},Js=async(e,t)=>{var r,n,a,i,o;try{return(await fh.put(hh(e),t)).data}catch(l){throw console.error("PUT request error details:",(r=l.response)==null?void 0:r.data),{status:(n=l.response)==null?void 0:n.status,errors:((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.errors)||[],message:mh(l),data:(o=l.response)==null?void 0:o.data,originalError:l}}},Ja=async(e,t)=>{var r,n,a,i,o;try{return(await fh.patch(hh(e),t)).data}catch(l){throw console.error("PATCH request error details:",(r=l.response)==null?void 0:r.data),{status:(n=l.response)==null?void 0:n.status,errors:((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.errors)||[],message:mh(l),data:(o=l.response)==null?void 0:o.data,originalError:l}}},Ln=async e=>{var t,r,n,a,i;try{return(await fh.delete(hh(e))).data}catch(o){throw console.error("DELETE request error details:",(t=o.response)==null?void 0:t.data),{status:(r=o.response)==null?void 0:r.status,errors:((a=(n=o.response)==null?void 0:n.data)==null?void 0:a.errors)||[],message:mh(o),data:(i=o.response)==null?void 0:i.data,originalError:o}}},_re=async(e,t,r)=>{var n,a,i,o,l;try{const u=Ws.create({baseURL:Yb});return u.interceptors.request.use(h=>{const p=localStorage.getItem("authToken");return p&&(h.headers.Authorization=`Bearer ${p}`),h}),(await u.post(hh(e),t,r)).data}catch(u){throw console.error("POST UPLOAD request error details:",(n=u.response)==null?void 0:n.data),{status:(a=u.response)==null?void 0:a.status,errors:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:mh(u),data:(l=u.response)==null?void 0:l.data,originalError:u}}},kre=async(e,t,r)=>{var n,a,i,o,l;try{const u=Ws.create({baseURL:Yb});return u.interceptors.request.use(h=>{const p=localStorage.getItem("authToken");return p&&(h.headers.Authorization=`Bearer ${p}`),h}),(await u.put(hh(e),t,r)).data}catch(u){throw console.error("PUT UPLOAD request error details:",(n=u.response)==null?void 0:n.data),{status:(a=u.response)==null?void 0:a.status,errors:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:mh(u),data:(l=u.response)==null?void 0:l.data,originalError:u}}};var Cl=(e=>(e.PENDING="PENDING",e.DELIVERED="DELIVERED",e.NOT_DELIVERED="NOT_DELIVERED",e.CANCELLED="CANCELLED",e))(Cl||{});function Dre(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Ore=e=>{switch(e){case"success":return Mre;case"info":return Fre;case"warning":return Ire;case"error":return Lre;default:return null}},Rre=Array(12).fill(0),Pre=({visible:e,className:t})=>He.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},He.createElement("div",{className:"sonner-spinner"},Rre.map((r,n)=>He.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Mre=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ire=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Fre=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Lre=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Bre=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},He.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),He.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$re=()=>{const[e,t]=He.useState(document.hidden);return He.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let qE=1;class Ure{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:qE++,o=this.toasts.find(u=>u.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:n}),{...u,...t,id:i,dismissible:l,title:n}):u):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=a.then(async f=>{if(o=["resolve",f],He.isValidElement(f))i=!1,this.create({id:n,type:"default",message:f});else if(qre(f)&&!f.ok){i=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,w=typeof p=="object"&&!He.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:x,...w})}else if(f instanceof Error){i=!1;const p=typeof r.error=="function"?await r.error(f):r.error,x=typeof r.description=="function"?await r.description(f):r.description,w=typeof p=="object"&&!He.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:x,...w})}else if(r.success!==void 0){i=!1;const p=typeof r.success=="function"?await r.success(f):r.success,x=typeof r.description=="function"?await r.description(f):r.description,w=typeof p=="object"&&!He.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:x,...w})}}).catch(async f=>{if(o=["reject",f],r.error!==void 0){i=!1;const h=typeof r.error=="function"?await r.error(f):r.error,p=typeof r.description=="function"?await r.description(f):r.description,y=typeof h=="object"&&!He.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:p,...y})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),u=()=>new Promise((f,h)=>l.then(()=>o[0]==="reject"?h(o[1]):f(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||qE++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const fi=new Ure,Vre=(e,t)=>{const r=(t==null?void 0:t.id)||qE++;return fi.addToast({title:e,...t,id:r}),r},qre=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zre=Vre,Hre=()=>fi.toasts,Wre=()=>fi.getActiveToasts(),he=Object.assign(zre,{success:fi.success,info:fi.info,warning:fi.warning,error:fi.error,custom:fi.custom,message:fi.message,promise:fi.promise,dismiss:fi.dismiss,loading:fi.loading},{getHistory:Hre,getToasts:Wre});Dre("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Yv(e){return e.label!==void 0}const Gre=3,Yre="24px",Kre="16px",HO=4e3,Qre=356,Xre=14,Zre=45,Jre=200;function Al(...e){return e.filter(Boolean).join(" ")}function ese(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const tse=e=>{var t,r,n,a,i,o,l,u,f;const{invert:h,toast:p,unstyled:x,interacting:y,setHeights:w,visibleToasts:b,heights:N,index:j,toasts:S,expanded:A,removeToast:_,defaultRichColors:C,closeButton:k,style:T,cancelButtonStyle:O,actionButtonStyle:R,className:L="",descriptionClassName:M="",duration:G,position:V,gap:ie,expandByDefault:le,classNames:B,icons:U,closeButtonAriaLabel:F="Close toast"}=e,[W,q]=He.useState(null),[Q,P]=He.useState(null),[X,K]=He.useState(!1),[H,J]=He.useState(!1),[ce,ae]=He.useState(!1),[ee,ne]=He.useState(!1),[ke,we]=He.useState(!1),[et,Ee]=He.useState(0),[Te,Fe]=He.useState(0),ue=He.useRef(p.duration||G||HO),Ce=He.useRef(null),De=He.useRef(null),Et=j===0,_t=j+1<=b,xe=p.type,Ae=p.dismissible!==!1,Ie=p.className||"",ft=p.descriptionClassName||"",ht=He.useMemo(()=>N.findIndex(st=>st.toastId===p.id)||0,[N,p.id]),tt=He.useMemo(()=>{var st;return(st=p.closeButton)!=null?st:k},[p.closeButton,k]),xt=He.useMemo(()=>p.duration||G||HO,[p.duration,G]),Vt=He.useRef(0),ar=He.useRef(0),Pr=He.useRef(0),mt=He.useRef(null),[ns,os]=V.split("-"),Hr=He.useMemo(()=>N.reduce((st,Nt,qt)=>qt>=ht?st:st+Nt.height,0),[N,ht]),ls=$re(),cs=p.invert||h,Us=xe==="loading";ar.current=He.useMemo(()=>ht*ie+Hr,[ht,Hr]),He.useEffect(()=>{ue.current=xt},[xt]),He.useEffect(()=>{K(!0)},[]),He.useEffect(()=>{const st=De.current;if(st){const Nt=st.getBoundingClientRect().height;return Fe(Nt),w(qt=>[{toastId:p.id,height:Nt,position:p.position},...qt]),()=>w(qt=>qt.filter(mr=>mr.toastId!==p.id))}},[w,p.id]),He.useLayoutEffect(()=>{if(!X)return;const st=De.current,Nt=st.style.height;st.style.height="auto";const qt=st.getBoundingClientRect().height;st.style.height=Nt,Fe(qt),w(mr=>mr.find(Jr=>Jr.toastId===p.id)?mr.map(Jr=>Jr.toastId===p.id?{...Jr,height:qt}:Jr):[{toastId:p.id,height:qt,position:p.position},...mr])},[X,p.title,p.description,w,p.id]);const Vr=He.useCallback(()=>{J(!0),Ee(ar.current),w(st=>st.filter(Nt=>Nt.toastId!==p.id)),setTimeout(()=>{_(p)},Jre)},[p,_,w,ar]);He.useEffect(()=>{if(p.promise&&xe==="loading"||p.duration===1/0||p.type==="loading")return;let st;return A||y||ls?(()=>{if(Pr.current<Vt.current){const mr=new Date().getTime()-Vt.current;ue.current=ue.current-mr}Pr.current=new Date().getTime()})():(()=>{ue.current!==1/0&&(Vt.current=new Date().getTime(),st=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Vr()},ue.current))})(),()=>clearTimeout(st)},[A,y,p,xe,ls,Vr]),He.useEffect(()=>{p.delete&&Vr()},[Vr,p.delete]);function Dn(){var st;if(U!=null&&U.loading){var Nt;return He.createElement("div",{className:Al(B==null?void 0:B.loader,p==null||(Nt=p.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":xe==="loading"},U.loading)}return He.createElement(Pre,{className:Al(B==null?void 0:B.loader,p==null||(st=p.classNames)==null?void 0:st.loader),visible:xe==="loading"})}const Vs=p.icon||(U==null?void 0:U[xe])||Ore(xe);var _e,wt;return He.createElement("li",{tabIndex:0,ref:De,className:Al(L,Ie,B==null?void 0:B.toast,p==null||(t=p.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[xe],p==null||(r=p.classNames)==null?void 0:r[xe]),"data-sonner-toast":"","data-rich-colors":(_e=p.richColors)!=null?_e:C,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":X,"data-promise":!!p.promise,"data-swiped":ke,"data-removed":H,"data-visible":_t,"data-y-position":ns,"data-x-position":os,"data-index":j,"data-front":Et,"data-swiping":ce,"data-dismissible":Ae,"data-type":xe,"data-invert":cs,"data-swipe-out":ee,"data-swipe-direction":Q,"data-expanded":!!(A||le&&X),style:{"--index":j,"--toasts-before":j,"--z-index":S.length-j,"--offset":`${H?et:ar.current}px`,"--initial-height":le?"auto":`${Te}px`,...T,...p.style},onDragEnd:()=>{ae(!1),q(null),mt.current=null},onPointerDown:st=>{Us||!Ae||(Ce.current=new Date,Ee(ar.current),st.target.setPointerCapture(st.pointerId),st.target.tagName!=="BUTTON"&&(ae(!0),mt.current={x:st.clientX,y:st.clientY}))},onPointerUp:()=>{var st,Nt,qt;if(ee||!Ae)return;mt.current=null;const mr=Number(((st=De.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gs=Number(((Nt=De.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jr=new Date().getTime()-((qt=Ce.current)==null?void 0:qt.getTime()),Er=W==="x"?mr:Gs,ds=Math.abs(Er)/Jr;if(Math.abs(Er)>=Zre||ds>.11){Ee(ar.current),p.onDismiss==null||p.onDismiss.call(p,p),P(W==="x"?mr>0?"right":"left":Gs>0?"down":"up"),Vr(),ne(!0);return}else{var Mr,Ts;(Mr=De.current)==null||Mr.style.setProperty("--swipe-amount-x","0px"),(Ts=De.current)==null||Ts.style.setProperty("--swipe-amount-y","0px")}we(!1),ae(!1),q(null)},onPointerMove:st=>{var Nt,qt,mr;if(!mt.current||!Ae||((Nt=window.getSelection())==null?void 0:Nt.toString().length)>0)return;const Jr=st.clientY-mt.current.y,Er=st.clientX-mt.current.x;var ds;const Mr=(ds=e.swipeDirections)!=null?ds:ese(V);!W&&(Math.abs(Er)>1||Math.abs(Jr)>1)&&q(Math.abs(Er)>Math.abs(Jr)?"x":"y");let Ts={x:0,y:0};const Fa=wn=>1/(1.5+Math.abs(wn)/20);if(W==="y"){if(Mr.includes("top")||Mr.includes("bottom"))if(Mr.includes("top")&&Jr<0||Mr.includes("bottom")&&Jr>0)Ts.y=Jr;else{const wn=Jr*Fa(Jr);Ts.y=Math.abs(wn)<Math.abs(Jr)?wn:Jr}}else if(W==="x"&&(Mr.includes("left")||Mr.includes("right")))if(Mr.includes("left")&&Er<0||Mr.includes("right")&&Er>0)Ts.x=Er;else{const wn=Er*Fa(Er);Ts.x=Math.abs(wn)<Math.abs(Er)?wn:Er}(Math.abs(Ts.x)>0||Math.abs(Ts.y)>0)&&we(!0),(qt=De.current)==null||qt.style.setProperty("--swipe-amount-x",`${Ts.x}px`),(mr=De.current)==null||mr.style.setProperty("--swipe-amount-y",`${Ts.y}px`)}},tt&&!p.jsx&&xe!=="loading"?He.createElement("button",{"aria-label":F,"data-disabled":Us,"data-close-button":!0,onClick:Us||!Ae?()=>{}:()=>{Vr(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Al(B==null?void 0:B.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(wt=U==null?void 0:U.close)!=null?wt:Bre):null,(xe||p.icon||p.promise)&&p.icon!==null&&((U==null?void 0:U[xe])!==null||p.icon)?He.createElement("div",{"data-icon":"",className:Al(B==null?void 0:B.icon,p==null||(a=p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Dn():null,p.type!=="loading"?Vs:null):null,He.createElement("div",{"data-content":"",className:Al(B==null?void 0:B.content,p==null||(i=p.classNames)==null?void 0:i.content)},He.createElement("div",{"data-title":"",className:Al(B==null?void 0:B.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?He.createElement("div",{"data-description":"",className:Al(M,ft,B==null?void 0:B.description,p==null||(l=p.classNames)==null?void 0:l.description)},typeof p.description=="function"?p.description():p.description):null),He.isValidElement(p.cancel)?p.cancel:p.cancel&&Yv(p.cancel)?He.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:st=>{Yv(p.cancel)&&Ae&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,st),Vr())},className:Al(B==null?void 0:B.cancelButton,p==null||(u=p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,He.isValidElement(p.action)?p.action:p.action&&Yv(p.action)?He.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:st=>{Yv(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,st),!st.defaultPrevented&&Vr())},className:Al(B==null?void 0:B.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function WO(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function rse(e,t){const r={};return[e,t].forEach((n,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",l=i?Kre:Yre;function u(f){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${o}-${f}`]=l:r[`${o}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):u(l)}),r}const sse=He.forwardRef(function(t,r){const{invert:n,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:f,mobileOffset:h,theme:p="light",richColors:x,duration:y,style:w,visibleToasts:b=Gre,toastOptions:N,dir:j=WO(),gap:S=Xre,icons:A,containerAriaLabel:_="Notifications"}=t,[C,k]=He.useState([]),T=He.useMemo(()=>Array.from(new Set([a].concat(C.filter(Q=>Q.position).map(Q=>Q.position)))),[C,a]),[O,R]=He.useState([]),[L,M]=He.useState(!1),[G,V]=He.useState(!1),[ie,le]=He.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=He.useRef(null),U=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=He.useRef(null),W=He.useRef(!1),q=He.useCallback(Q=>{k(P=>{var X;return(X=P.find(K=>K.id===Q.id))!=null&&X.delete||fi.dismiss(Q.id),P.filter(({id:K})=>K!==Q.id)})},[]);return He.useEffect(()=>fi.subscribe(Q=>{if(Q.dismiss){requestAnimationFrame(()=>{k(P=>P.map(X=>X.id===Q.id?{...X,delete:!0}:X))});return}setTimeout(()=>{Lu.flushSync(()=>{k(P=>{const X=P.findIndex(K=>K.id===Q.id);return X!==-1?[...P.slice(0,X),{...P[X],...Q},...P.slice(X+1)]:[Q,...P]})})})}),[C]),He.useEffect(()=>{if(p!=="system"){le(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;const Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:P})=>{le(P?"dark":"light")})}catch{Q.addListener(({matches:X})=>{try{le(X?"dark":"light")}catch(K){console.error(K)}})}},[p]),He.useEffect(()=>{C.length<=1&&M(!1)},[C]),He.useEffect(()=>{const Q=P=>{var X;if(i.every(J=>P[J]||P.code===J)){var H;M(!0),(H=B.current)==null||H.focus()}P.code==="Escape"&&(document.activeElement===B.current||(X=B.current)!=null&&X.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[i]),He.useEffect(()=>{if(B.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,W.current=!1)}},[B.current]),He.createElement("section",{ref:r,"aria-label":`${_} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((Q,P)=>{var X;const[K,H]=Q.split("-");return C.length?He.createElement("ol",{key:Q,dir:j==="auto"?WO():j,tabIndex:-1,ref:B,className:u,"data-sonner-toaster":!0,"data-sonner-theme":ie,"data-y-position":K,"data-lifted":L&&C.length>1&&!o,"data-x-position":H,style:{"--front-toast-height":`${((X=O[0])==null?void 0:X.height)||0}px`,"--width":`${Qre}px`,"--gap":`${S}px`,...w,...rse(f,h)},onBlur:J=>{W.current&&!J.currentTarget.contains(J.relatedTarget)&&(W.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||W.current||(W.current=!0,F.current=J.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{G||M(!1)},onDragEnd:()=>M(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},C.filter(J=>!J.position&&P===0||J.position===Q).map((J,ce)=>{var ae,ee;return He.createElement(tse,{key:J.id,icons:A,index:ce,toast:J,defaultRichColors:x,duration:(ae=N==null?void 0:N.duration)!=null?ae:y,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:n,visibleToasts:b,closeButton:(ee=N==null?void 0:N.closeButton)!=null?ee:l,interacting:G,position:Q,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,closeButtonAriaLabel:N==null?void 0:N.closeButtonAriaLabel,removeToast:q,toasts:C.filter(ne=>ne.position==J.position),heights:O.filter(ne=>ne.position==J.position),setHeights:R,expandByDefault:o,gap:S,expanded:L,swipeDirections:t.swipeDirections})})):null}))}),nse=Nr.object({currentPassword:Nr.string().min(1,"Current Password is required"),newPassword:Nr.string().min(6,"New password must be at least 6 characters long"),confirmPassword:Nr.string().min(1,"Confirm New Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"New passwords must match",path:["confirmPassword"]}),ase=({isOpen:e,onClose:t})=>{const[r,n]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,i]=g.useState({});g.useEffect(()=>{e||(n({currentPassword:"",newPassword:"",confirmPassword:""}),i({}))},[e]);const o=Rr({mutationFn:f=>Ja("/auth/change-password",f),onSuccess:()=>{he.success("Password changed successfully!"),t()},onError:f=>{var p,x,y,w;const h=((x=(p=f.response)==null?void 0:p.data)==null?void 0:x.message)||f.message;if(he.error(h||"Failed to change password. Please try again."),(w=(y=f.response)==null?void 0:y.data)!=null&&w.errors){const b={};f.response.data.errors.forEach(N=>{N.path&&N.path.length>0&&(b[N.path[N.path.length-1]]=N.message)}),i(b)}else h&&h.toLowerCase().includes("current password")&&i({currentPassword:h})}}),l=f=>{const{name:h,value:p}=f.target;n(x=>({...x,[h]:p})),a[h]&&i(x=>({...x,[h]:""}))},u=f=>{f.preventDefault(),i({});const h=nse.safeParse(r);if(!h.success){const p={};h.error.errors.forEach(x=>{x.path.length>0&&(p[x.path[0]]=x.message)}),i(p);return}o.mutate({currentPassword:h.data.currentPassword,newPassword:h.data.newPassword})};return s.jsx(Xr,{open:e,onOpenChange:t,children:s.jsxs(Zr,{className:"sm:max-w-[450px]",children:[s.jsxs(rs,{children:[s.jsx(ss,{children:"Change Your Password"}),s.jsx(la,{children:"Enter your current password and a new password below."})]}),s.jsxs("form",{onSubmit:u,className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(je,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(vn,{id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:l,autoComplete:"current-password",disabled:o.isPending}),a.currentPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.currentPassword})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(je,{htmlFor:"newPassword",children:"New Password"}),s.jsx(vn,{id:"newPassword",name:"newPassword",value:r.newPassword,onChange:l,autoComplete:"new-password",disabled:o.isPending}),a.newPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.newPassword})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(je,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(vn,{id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:l,autoComplete:"new-password",disabled:o.isPending}),a.confirmPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.confirmPassword})]}),s.jsxs(Xa,{className:"pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:o.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:o.isPending,children:o.isPending?"Changing...":"Change Password"})]})]})]})})},Xp=({isOpen:e,title:t,description:r,confirmLabel:n="Confirm",cancelLabel:a="Cancel",onConfirm:i,onCancel:o,children:l})=>{console.log("[confirm-dialog.tsx] ConfirmDialog rendered. isOpen:",e);const u=s.jsxs(Zr,{className:"sm:max-w-[425px]",children:[s.jsxs(rs,{children:[s.jsx(ss,{children:t}),s.jsx(la,{children:r})]}),s.jsxs(Xa,{children:[s.jsx(pe,{variant:"secondary",onClick:o,children:a}),s.jsx(pe,{variant:"destructive",onClick:i,children:n})]})]});return l?s.jsxs(Xr,{open:e,onOpenChange:o,modal:!1,children:[s.jsx(Gp,{asChild:!0,children:l}),u]}):s.jsx(Xr,{open:e,onOpenChange:o,modal:!0,children:e&&u})};function GO(e){const t=ise(e),r=g.forwardRef((n,a)=>{const{children:i,...o}=n,l=g.Children.toArray(i),u=l.find(lse);if(u){const f=u.props.children,h=l.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function ise(e){const t=g.forwardRef((r,n)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=dse(a),l=cse(i,a.props);return a.type!==g.Fragment&&(l.ref=n?Jc(n,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ose=Symbol("radix.slottable");function lse(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ose}function cse(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function dse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function HC(e){const t=e+"CollectionProvider",[r,n]=da(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:N,children:j}=b,S=He.useRef(null),A=He.useRef(new Map).current;return s.jsx(a,{scope:N,itemMap:A,collectionRef:S,children:j})};o.displayName=t;const l=e+"CollectionSlot",u=GO(l),f=He.forwardRef((b,N)=>{const{scope:j,children:S}=b,A=i(l,j),_=Zt(N,A.collectionRef);return s.jsx(u,{ref:_,children:S})});f.displayName=l;const h=e+"CollectionItemSlot",p="data-radix-collection-item",x=GO(h),y=He.forwardRef((b,N)=>{const{scope:j,children:S,...A}=b,_=He.useRef(null),C=Zt(N,_),k=i(h,j);return He.useEffect(()=>(k.itemMap.set(_,{ref:_,...A}),()=>void k.itemMap.delete(_))),s.jsx(x,{[p]:"",ref:C,children:S})});y.displayName=h;function w(b){const N=i(e+"CollectionConsumer",b);return He.useCallback(()=>{const S=N.collectionRef.current;if(!S)return[];const A=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(N.itemMap.values()).sort((k,T)=>A.indexOf(k.ref.current)-A.indexOf(T.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:o,Slot:f,ItemSlot:y},w,n]}var use=g.createContext(void 0);function pw(e){const t=g.useContext(use);return e||t||"ltr"}var fse="DismissableLayer",zE="dismissableLayer.update",hse="dismissableLayer.pointerDownOutside",mse="dismissableLayer.focusOutside",YO,nL=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aL=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(nL),[h,p]=g.useState(null),x=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),w=Zt(t,T=>p(T)),b=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(N),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,_=S>=j,C=gse(T=>{const O=T.target,R=[...f.branches].some(L=>L.contains(O));!_||R||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},x),k=yse(T=>{const O=T.target;[...f.branches].some(L=>L.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},x);return qp(T=>{S===f.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},x),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(YO=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),KO(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=YO)}},[h,x,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),KO())},[h,f]),g.useEffect(()=>{const T=()=>y({});return document.addEventListener(zE,T),()=>document.removeEventListener(zE,T)},[]),s.jsx(It.div,{...u,ref:w,style:{pointerEvents:A?_?"auto":"none":void 0,...e.style},onFocusCapture:gt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:gt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:gt(e.onPointerDownCapture,C.onPointerDownCapture)})});aL.displayName=fse;var pse="DismissableLayerBranch",xse=g.forwardRef((e,t)=>{const r=g.useContext(nL),n=g.useRef(null),a=Zt(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(It.div,{...e,ref:a})});xse.displayName=pse;function gse(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let u=function(){iL(hse,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function yse(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!n.current&&iL(mse,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function KO(){const e=new CustomEvent(zE);document.dispatchEvent(e)}function iL(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Yp(a,i):a.dispatchEvent(i)}var M2="focusScope.autoFocusOnMount",I2="focusScope.autoFocusOnUnmount",QO={bubbles:!1,cancelable:!0},vse="FocusScope",oL=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=vs(a),h=vs(i),p=g.useRef(null),x=Zt(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let b=function(A){if(y.paused||!l)return;const _=A.target;l.contains(_)?p.current=_:Wd(p.current,{select:!0})},N=function(A){if(y.paused||!l)return;const _=A.relatedTarget;_!==null&&(l.contains(_)||Wd(p.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const C of A)C.removedNodes.length>0&&Wd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),S.disconnect()}}},[n,l,y.paused]),g.useEffect(()=>{if(l){ZO.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(M2,QO);l.addEventListener(M2,f),l.dispatchEvent(j),j.defaultPrevented||(bse(Ese(lL(l)),{select:!0}),document.activeElement===b&&Wd(l))}return()=>{l.removeEventListener(M2,f),setTimeout(()=>{const j=new CustomEvent(I2,QO);l.addEventListener(I2,h),l.dispatchEvent(j),j.defaultPrevented||Wd(b??document.body,{select:!0}),l.removeEventListener(I2,h),ZO.remove(y)},0)}}},[l,f,h,y]);const w=g.useCallback(b=>{if(!r&&!n||y.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(N&&j){const S=b.currentTarget,[A,_]=wse(S);A&&_?!b.shiftKey&&j===_?(b.preventDefault(),r&&Wd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Wd(_,{select:!0})):j===S&&b.preventDefault()}},[r,n,y.paused]);return s.jsx(It.div,{tabIndex:-1,...o,ref:x,onKeyDown:w})});oL.displayName=vse;function bse(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Wd(n,{select:t}),document.activeElement!==r)return}function wse(e){const t=lL(e),r=XO(t,e),n=XO(t.reverse(),e);return[r,n]}function lL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function XO(e,t){for(const r of e)if(!Nse(r,{upTo:t}))return r}function Nse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jse(e){return e instanceof HTMLInputElement&&"select"in e}function Wd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&jse(e)&&t&&e.select()}}var ZO=Sse();function Sse(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=JO(e,t),e.unshift(t)},remove(t){var r;e=JO(e,t),(r=e[0])==null||r.resume()}}}function JO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ese(e){return e.filter(t=>t.tagName!=="A")}const Ase=["top","right","bottom","left"],Cu=Math.min,Ii=Math.max,sb=Math.round,Kv=Math.floor,Bl=e=>({x:e,y:e}),Cse={left:"right",right:"left",bottom:"top",top:"bottom"},Tse={start:"end",end:"start"};function HE(e,t,r){return Ii(e,Cu(t,r))}function Vc(e,t){return typeof e=="function"?e(t):e}function qc(e){return e.split("-")[0]}function Zp(e){return e.split("-")[1]}function WC(e){return e==="x"?"y":"x"}function GC(e){return e==="y"?"height":"width"}function Tu(e){return["top","bottom"].includes(qc(e))?"y":"x"}function YC(e){return WC(Tu(e))}function _se(e,t,r){r===void 0&&(r=!1);const n=Zp(e),a=YC(e),i=GC(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=nb(o)),[o,nb(o)]}function kse(e){const t=nb(e);return[WE(e),t,WE(t)]}function WE(e){return e.replace(/start|end/g,t=>Tse[t])}function Dse(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function Ose(e,t,r,n){const a=Zp(e);let i=Dse(qc(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(WE)))),i}function nb(e){return e.replace(/left|right|bottom|top/g,t=>Cse[t])}function Rse(e){return{top:0,right:0,bottom:0,left:0,...e}}function cL(e){return typeof e!="number"?Rse(e):{top:e,right:e,bottom:e,left:e}}function ab(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function e5(e,t,r){let{reference:n,floating:a}=e;const i=Tu(t),o=YC(t),l=GC(o),u=qc(t),f=i==="y",h=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2,x=n[l]/2-a[l]/2;let y;switch(u){case"top":y={x:h,y:n.y-a.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-a.width,y:p};break;default:y={x:n.x,y:n.y}}switch(Zp(t)){case"start":y[o]-=x*(r&&f?-1:1);break;case"end":y[o]+=x*(r&&f?-1:1);break}return y}const Pse=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let f=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:p}=e5(f,n,u),x=n,y={},w=0;for(let b=0;b<l.length;b++){const{name:N,fn:j}=l[b],{x:S,y:A,data:_,reset:C}=await j({x:h,y:p,initialPlacement:n,placement:x,strategy:a,middlewareData:y,rects:f,platform:o,elements:{reference:e,floating:t}});h=S??h,p=A??p,y={...y,[N]:{...y[N],..._}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(x=C.placement),C.rects&&(f=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:h,y:p}=e5(f,x,u)),b=-1)}return{x:h,y:p,placement:x,strategy:a,middlewareData:y}};async function pg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:x=!1,padding:y=0}=Vc(t,e),w=cL(y),N=l[x?p==="floating"?"reference":"floating":p],j=ab(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(N)))==null||r?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:f,rootBoundary:h,strategy:u})),S=p==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},C=ab(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:A,strategy:u}):S);return{top:(j.top-C.top+w.top)/_.y,bottom:(C.bottom-j.bottom+w.bottom)/_.y,left:(j.left-C.left+w.left)/_.x,right:(C.right-j.right+w.right)/_.x}}const Mse=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:u}=t,{element:f,padding:h=0}=Vc(e,t)||{};if(f==null)return{};const p=cL(h),x={x:r,y:n},y=YC(a),w=GC(y),b=await o.getDimensions(f),N=y==="y",j=N?"top":"left",S=N?"bottom":"right",A=N?"clientHeight":"clientWidth",_=i.reference[w]+i.reference[y]-x[y]-i.floating[w],C=x[y]-i.reference[y],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let T=k?k[A]:0;(!T||!await(o.isElement==null?void 0:o.isElement(k)))&&(T=l.floating[A]||i.floating[w]);const O=_/2-C/2,R=T/2-b[w]/2-1,L=Cu(p[j],R),M=Cu(p[S],R),G=L,V=T-b[w]-M,ie=T/2-b[w]/2+O,le=HE(G,ie,V),B=!u.arrow&&Zp(a)!=null&&ie!==le&&i.reference[w]/2-(ie<G?L:M)-b[w]/2<0,U=B?ie<G?ie-G:ie-V:0;return{[y]:x[y]+U,data:{[y]:le,centerOffset:ie-le-U,...B&&{alignmentOffset:U}},reset:B}}}),Ise=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:f}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...N}=Vc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=qc(a),S=Tu(l),A=qc(l)===l,_=await(u.isRTL==null?void 0:u.isRTL(f.floating)),C=x||(A||!b?[nb(l)]:kse(l)),k=w!=="none";!x&&k&&C.push(...Ose(l,b,w,_));const T=[l,...C],O=await pg(t,N),R=[];let L=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&R.push(O[j]),p){const ie=_se(a,o,_);R.push(O[ie[0]],O[ie[1]])}if(L=[...L,{placement:a,overflows:R}],!R.every(ie=>ie<=0)){var M,G;const ie=(((M=i.flip)==null?void 0:M.index)||0)+1,le=T[ie];if(le)return{data:{index:ie,overflows:L},reset:{placement:le}};let B=(G=L.filter(U=>U.overflows[0]<=0).sort((U,F)=>U.overflows[1]-F.overflows[1])[0])==null?void 0:G.placement;if(!B)switch(y){case"bestFit":{var V;const U=(V=L.filter(F=>{if(k){const W=Tu(F.placement);return W===S||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,q)=>W+q,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:V[0];U&&(B=U);break}case"initialPlacement":B=l;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function t5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function r5(e){return Ase.some(t=>e[t]>=0)}const Fse=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Vc(e,t);switch(n){case"referenceHidden":{const i=await pg(t,{...a,elementContext:"reference"}),o=t5(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:r5(o)}}}case"escaped":{const i=await pg(t,{...a,altBoundary:!0}),o=t5(i,r.floating);return{data:{escapedOffsets:o,escaped:r5(o)}}}default:return{}}}}};async function Lse(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=qc(r),l=Zp(r),u=Tu(r)==="y",f=["left","top"].includes(o)?-1:1,h=i&&u?-1:1,p=Vc(t,e);let{mainAxis:x,crossAxis:y,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),u?{x:y*h,y:x*f}:{x:x*f,y:y*h}}const Bse=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,u=await Lse(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+u.x,y:i+u.y,data:{...u,placement:o}}}}},$se=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:j,y:S}=N;return{x:j,y:S}}},...u}=Vc(e,t),f={x:r,y:n},h=await pg(t,u),p=Tu(qc(a)),x=WC(p);let y=f[x],w=f[p];if(i){const N=x==="y"?"top":"left",j=x==="y"?"bottom":"right",S=y+h[N],A=y-h[j];y=HE(S,y,A)}if(o){const N=p==="y"?"top":"left",j=p==="y"?"bottom":"right",S=w+h[N],A=w-h[j];w=HE(S,w,A)}const b=l.fn({...t,[x]:y,[p]:w});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[x]:i,[p]:o}}}}}},Use=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=Vc(e,t),h={x:r,y:n},p=Tu(a),x=WC(p);let y=h[x],w=h[p];const b=Vc(l,t),N=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const A=x==="y"?"height":"width",_=i.reference[x]-i.floating[A]+N.mainAxis,C=i.reference[x]+i.reference[A]-N.mainAxis;y<_?y=_:y>C&&(y=C)}if(f){var j,S;const A=x==="y"?"width":"height",_=["top","left"].includes(qc(a)),C=i.reference[p]-i.floating[A]+(_&&((j=o.offset)==null?void 0:j[p])||0)+(_?0:N.crossAxis),k=i.reference[p]+i.reference[A]+(_?0:((S=o.offset)==null?void 0:S[p])||0)-(_?N.crossAxis:0);w<C?w=C:w>k&&(w=k)}return{[x]:y,[p]:w}}}},Vse=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:u=()=>{},...f}=Vc(e,t),h=await pg(t,f),p=qc(a),x=Zp(a),y=Tu(a)==="y",{width:w,height:b}=i.floating;let N,j;p==="top"||p==="bottom"?(N=p,j=x===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=p,N=x==="end"?"top":"bottom");const S=b-h.top-h.bottom,A=w-h.left-h.right,_=Cu(b-h[N],S),C=Cu(w-h[j],A),k=!t.middlewareData.shift;let T=_,O=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=A),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=S),k&&!x){const L=Ii(h.left,0),M=Ii(h.right,0),G=Ii(h.top,0),V=Ii(h.bottom,0);y?O=w-2*(L!==0||M!==0?L+M:Ii(h.left,h.right)):T=b-2*(G!==0||V!==0?G+V:Ii(h.top,h.bottom))}await u({...t,availableWidth:O,availableHeight:T});const R=await o.getDimensions(l.floating);return w!==R.width||b!==R.height?{reset:{rects:!0}}:{}}}};function xw(){return typeof window<"u"}function Jp(e){return dL(e)?(e.nodeName||"").toLowerCase():"#document"}function Wi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zl(e){var t;return(t=(dL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dL(e){return xw()?e instanceof Node||e instanceof Wi(e).Node:!1}function sl(e){return xw()?e instanceof Element||e instanceof Wi(e).Element:!1}function Gl(e){return xw()?e instanceof HTMLElement||e instanceof Wi(e).HTMLElement:!1}function s5(e){return!xw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wi(e).ShadowRoot}function ry(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=nl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function qse(e){return["table","td","th"].includes(Jp(e))}function gw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function KC(e){const t=QC(),r=sl(e)?nl(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function zse(e){let t=_u(e);for(;Gl(t)&&!jp(t);){if(KC(t))return t;if(gw(t))return null;t=_u(t)}return null}function QC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jp(e){return["html","body","#document"].includes(Jp(e))}function nl(e){return Wi(e).getComputedStyle(e)}function yw(e){return sl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _u(e){if(Jp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||s5(e)&&e.host||Zl(e);return s5(t)?t.host:t}function uL(e){const t=_u(e);return jp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gl(t)&&ry(t)?t:uL(t)}function xg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=uL(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Wi(a);if(i){const l=GE(o);return t.concat(o,o.visualViewport||[],ry(a)?a:[],l&&r?xg(l):[])}return t.concat(a,xg(a,[],r))}function GE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fL(e){const t=nl(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Gl(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=sb(r)!==i||sb(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function XC(e){return sl(e)?e:e.contextElement}function Wm(e){const t=XC(e);if(!Gl(t))return Bl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=fL(t);let o=(i?sb(r.width):r.width)/n,l=(i?sb(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Hse=Bl(0);function hL(e){const t=Wi(e);return!QC()||!t.visualViewport?Hse:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Wse(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Wi(e)?!1:t}function Kf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=XC(e);let o=Bl(1);t&&(n?sl(n)&&(o=Wm(n)):o=Wm(e));const l=Wse(i,r,n)?hL(i):Bl(0);let u=(a.left+l.x)/o.x,f=(a.top+l.y)/o.y,h=a.width/o.x,p=a.height/o.y;if(i){const x=Wi(i),y=n&&sl(n)?Wi(n):n;let w=x,b=GE(w);for(;b&&n&&y!==w;){const N=Wm(b),j=b.getBoundingClientRect(),S=nl(b),A=j.left+(b.clientLeft+parseFloat(S.paddingLeft))*N.x,_=j.top+(b.clientTop+parseFloat(S.paddingTop))*N.y;u*=N.x,f*=N.y,h*=N.x,p*=N.y,u+=A,f+=_,w=Wi(b),b=GE(w)}}return ab({width:h,height:p,x:u,y:f})}function ZC(e,t){const r=yw(e).scrollLeft;return t?t.left+r:Kf(Zl(e)).left+r}function mL(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:ZC(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Gse(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Zl(n),l=t?gw(t.floating):!1;if(n===o||l&&i)return r;let u={scrollLeft:0,scrollTop:0},f=Bl(1);const h=Bl(0),p=Gl(n);if((p||!p&&!i)&&((Jp(n)!=="body"||ry(o))&&(u=yw(n)),Gl(n))){const y=Kf(n);f=Wm(n),h.x=y.x+n.clientLeft,h.y=y.y+n.clientTop}const x=o&&!p&&!i?mL(o,u,!0):Bl(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+h.x+x.x,y:r.y*f.y-u.scrollTop*f.y+h.y+x.y}}function Yse(e){return Array.from(e.getClientRects())}function Kse(e){const t=Zl(e),r=yw(e),n=e.ownerDocument.body,a=Ii(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ii(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ZC(e);const l=-r.scrollTop;return nl(n).direction==="rtl"&&(o+=Ii(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Qse(e,t){const r=Wi(e),n=Zl(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,u=0;if(a){i=a.width,o=a.height;const f=QC();(!f||f&&t==="fixed")&&(l=a.offsetLeft,u=a.offsetTop)}return{width:i,height:o,x:l,y:u}}function Xse(e,t){const r=Kf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Gl(e)?Wm(e):Bl(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,u=a*i.x,f=n*i.y;return{width:o,height:l,x:u,y:f}}function n5(e,t,r){let n;if(t==="viewport")n=Qse(e,r);else if(t==="document")n=Kse(Zl(e));else if(sl(t))n=Xse(t,r);else{const a=hL(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ab(n)}function pL(e,t){const r=_u(e);return r===t||!sl(r)||jp(r)?!1:nl(r).position==="fixed"||pL(r,t)}function Zse(e,t){const r=t.get(e);if(r)return r;let n=xg(e,[],!1).filter(l=>sl(l)&&Jp(l)!=="body"),a=null;const i=nl(e).position==="fixed";let o=i?_u(e):e;for(;sl(o)&&!jp(o);){const l=nl(o),u=KC(o);!u&&l.position==="fixed"&&(a=null),(i?!u&&!a:!u&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||ry(o)&&!u&&pL(e,o))?n=n.filter(h=>h!==o):a=l,o=_u(o)}return t.set(e,n),n}function Jse(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?gw(t)?[]:Zse(t,this._c):[].concat(r),n],l=o[0],u=o.reduce((f,h)=>{const p=n5(t,h,a);return f.top=Ii(p.top,f.top),f.right=Cu(p.right,f.right),f.bottom=Cu(p.bottom,f.bottom),f.left=Ii(p.left,f.left),f},n5(t,l,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function ene(e){const{width:t,height:r}=fL(e);return{width:t,height:r}}function tne(e,t,r){const n=Gl(t),a=Zl(t),i=r==="fixed",o=Kf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const u=Bl(0);if(n||!n&&!i)if((Jp(t)!=="body"||ry(a))&&(l=yw(t)),n){const x=Kf(t,!0,i,t);u.x=x.x+t.clientLeft,u.y=x.y+t.clientTop}else a&&(u.x=ZC(a));const f=a&&!n&&!i?mL(a,l):Bl(0),h=o.left+l.scrollLeft-u.x-f.x,p=o.top+l.scrollTop-u.y-f.y;return{x:h,y:p,width:o.width,height:o.height}}function F2(e){return nl(e).position==="static"}function a5(e,t){if(!Gl(e)||nl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Zl(e)===r&&(r=r.ownerDocument.body),r}function xL(e,t){const r=Wi(e);if(gw(e))return r;if(!Gl(e)){let a=_u(e);for(;a&&!jp(a);){if(sl(a)&&!F2(a))return a;a=_u(a)}return r}let n=a5(e,t);for(;n&&qse(n)&&F2(n);)n=a5(n,t);return n&&jp(n)&&F2(n)&&!KC(n)?r:n||zse(e)||r}const rne=async function(e){const t=this.getOffsetParent||xL,r=this.getDimensions,n=await r(e.floating);return{reference:tne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function sne(e){return nl(e).direction==="rtl"}const nne={convertOffsetParentRelativeRectToViewportRelativeRect:Gse,getDocumentElement:Zl,getClippingRect:Jse,getOffsetParent:xL,getElementRects:rne,getClientRects:Yse,getDimensions:ene,getScale:Wm,isElement:sl,isRTL:sne};function gL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ane(e,t){let r=null,n;const a=Zl(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const f=e.getBoundingClientRect(),{left:h,top:p,width:x,height:y}=f;if(l||t(),!x||!y)return;const w=Kv(p),b=Kv(a.clientWidth-(h+x)),N=Kv(a.clientHeight-(p+y)),j=Kv(h),A={rootMargin:-w+"px "+-b+"px "+-N+"px "+-j+"px",threshold:Ii(0,Cu(1,u))||1};let _=!0;function C(k){const T=k[0].intersectionRatio;if(T!==u){if(!_)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!gL(f,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(C,{...A,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,A)}r.observe(e)}return o(!0),i}function ine(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=XC(e),h=a||i?[...f?xg(f):[],...xg(t)]:[];h.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const p=f&&l?ane(f,r):null;let x=-1,y=null;o&&(y=new ResizeObserver(j=>{let[S]=j;S&&S.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),r()}),f&&!u&&y.observe(f),y.observe(t));let w,b=u?Kf(e):null;u&&N();function N(){const j=Kf(e);b&&!gL(b,j)&&r(),b=j,w=requestAnimationFrame(N)}return r(),()=>{var j;h.forEach(S=>{a&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),p==null||p(),(j=y)==null||j.disconnect(),y=null,u&&cancelAnimationFrame(w)}}const one=Bse,lne=$se,cne=Ise,dne=Vse,une=Fse,i5=Mse,fne=Use,hne=(e,t,r)=>{const n=new Map,a={platform:nne,...r},i={...a.platform,_c:n};return Pse(e,t,{...a,platform:i})};var R1=typeof document<"u"?g.useLayoutEffect:g.useEffect;function ib(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ib(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!ib(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function yL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function o5(e,t){const r=yL(e);return Math.round(t*r)/r}function L2(e){const t=g.useRef(e);return R1(()=>{t.current=e}),t}function mne(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:f}=e,[h,p]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,y]=g.useState(n);ib(x,n)||y(n);const[w,b]=g.useState(null),[N,j]=g.useState(null),S=g.useCallback(F=>{F!==k.current&&(k.current=F,b(F))},[]),A=g.useCallback(F=>{F!==T.current&&(T.current=F,j(F))},[]),_=i||w,C=o||N,k=g.useRef(null),T=g.useRef(null),O=g.useRef(h),R=u!=null,L=L2(u),M=L2(a),G=L2(f),V=g.useCallback(()=>{if(!k.current||!T.current)return;const F={placement:t,strategy:r,middleware:x};M.current&&(F.platform=M.current),hne(k.current,T.current,F).then(W=>{const q={...W,isPositioned:G.current!==!1};ie.current&&!ib(O.current,q)&&(O.current=q,ch.flushSync(()=>{p(q)}))})},[x,t,r,M,G]);R1(()=>{f===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,p(F=>({...F,isPositioned:!1})))},[f]);const ie=g.useRef(!1);R1(()=>(ie.current=!0,()=>{ie.current=!1}),[]),R1(()=>{if(_&&(k.current=_),C&&(T.current=C),_&&C){if(L.current)return L.current(_,C,V);V()}},[_,C,V,L,R]);const le=g.useMemo(()=>({reference:k,floating:T,setReference:S,setFloating:A}),[S,A]),B=g.useMemo(()=>({reference:_,floating:C}),[_,C]),U=g.useMemo(()=>{const F={position:r,left:0,top:0};if(!B.floating)return F;const W=o5(B.floating,h.x),q=o5(B.floating,h.y);return l?{...F,transform:"translate("+W+"px, "+q+"px)",...yL(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:q}},[r,l,B.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:V,refs:le,elements:B,floatingStyles:U}),[h,V,le,B,U])}const pne=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?i5({element:n.current,padding:a}).fn(r):{}:n?i5({element:n,padding:a}).fn(r):{}}}},xne=(e,t)=>({...one(e),options:[e,t]}),gne=(e,t)=>({...lne(e),options:[e,t]}),yne=(e,t)=>({...fne(e),options:[e,t]}),vne=(e,t)=>({...cne(e),options:[e,t]}),bne=(e,t)=>({...dne(e),options:[e,t]}),wne=(e,t)=>({...une(e),options:[e,t]}),Nne=(e,t)=>({...pne(e),options:[e,t]});var jne="Arrow",vL=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(It.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});vL.displayName=jne;var Sne=vL;function vw(e){const[t,r]=g.useState(void 0);return Cs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,l=f.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var JC="Popper",[bL,Bu]=da(JC),[Ene,wL]=bL(JC),NL=e=>{const{__scopePopper:t,children:r}=e,[n,a]=g.useState(null);return s.jsx(Ene,{scope:t,anchor:n,onAnchorChange:a,children:r})};NL.displayName=JC;var jL="PopperAnchor",SL=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=wL(jL,r),o=g.useRef(null),l=Zt(t,o);return g.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(It.div,{...a,ref:l})});SL.displayName=jL;var eT="PopperContent",[Ane,Cne]=bL(eT),EL=g.forwardRef((e,t)=>{var ce,ae,ee,ne,ke,we;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:w,...b}=e,N=wL(eT,r),[j,S]=g.useState(null),A=Zt(t,et=>S(et)),[_,C]=g.useState(null),k=vw(_),T=(k==null?void 0:k.width)??0,O=(k==null?void 0:k.height)??0,R=n+(i!=="center"?"-"+i:""),L=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(f)?f:[f],G=M.length>0,V={padding:L,boundary:M.filter(_ne),altBoundary:G},{refs:ie,floatingStyles:le,placement:B,isPositioned:U,middlewareData:F}=mne({strategy:"fixed",placement:R,whileElementsMounted:(...et)=>ine(...et,{animationFrame:y==="always"}),elements:{reference:N.anchor},middleware:[xne({mainAxis:a+O,alignmentAxis:o}),u&&gne({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?yne():void 0,...V}),u&&vne({...V}),bne({...V,apply:({elements:et,rects:Ee,availableWidth:Te,availableHeight:Fe})=>{const{width:ue,height:Ce}=Ee.reference,De=et.floating.style;De.setProperty("--radix-popper-available-width",`${Te}px`),De.setProperty("--radix-popper-available-height",`${Fe}px`),De.setProperty("--radix-popper-anchor-width",`${ue}px`),De.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),_&&Nne({element:_,padding:l}),kne({arrowWidth:T,arrowHeight:O}),x&&wne({strategy:"referenceHidden",...V})]}),[W,q]=TL(B),Q=vs(w);Cs(()=>{U&&(Q==null||Q())},[U,Q]);const P=(ce=F.arrow)==null?void 0:ce.x,X=(ae=F.arrow)==null?void 0:ae.y,K=((ee=F.arrow)==null?void 0:ee.centerOffset)!==0,[H,J]=g.useState();return Cs(()=>{j&&J(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:U?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(ne=F.transformOrigin)==null?void 0:ne.x,(ke=F.transformOrigin)==null?void 0:ke.y].join(" "),...((we=F.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Ane,{scope:r,placedSide:W,onArrowChange:C,arrowX:P,arrowY:X,shouldHideArrow:K,children:s.jsx(It.div,{"data-side":W,"data-align":q,...b,ref:A,style:{...b.style,animation:U?void 0:"none"}})})})});EL.displayName=eT;var AL="PopperArrow",Tne={top:"bottom",right:"left",bottom:"top",left:"right"},CL=g.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Cne(AL,n),o=Tne[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Sne,{...a,ref:r,style:{...a.style,display:"block"}})})});CL.displayName=AL;function _ne(e){return e!==null}var kne=e=>({name:"transformOrigin",options:e,fn(t){var N,j,S;const{placement:r,rects:n,middlewareData:a}=t,o=((N=a.arrow)==null?void 0:N.centerOffset)!==0,l=o?0:e.arrowWidth,u=o?0:e.arrowHeight,[f,h]=TL(r),p={start:"0%",center:"50%",end:"100%"}[h],x=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,y=(((S=a.arrow)==null?void 0:S.y)??0)+u/2;let w="",b="";return f==="bottom"?(w=o?p:`${x}px`,b=`${-u}px`):f==="top"?(w=o?p:`${x}px`,b=`${n.floating.height+u}px`):f==="right"?(w=`${-u}px`,b=o?p:`${y}px`):f==="left"&&(w=`${n.floating.width+u}px`,b=o?p:`${y}px`),{data:{x:w,y:b}}}});function TL(e){const[t,r="center"]=e.split("-");return[t,r]}var bw=NL,sy=SL,ww=EL,Nw=CL,Dne="Portal",_L=g.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=g.useState(!1);Cs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(s.jsx(It.div,{...n,ref:t}),o):null});_L.displayName=Dne;function One(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var ei=e=>{const{present:t,children:r}=e,n=Rne(t),a=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=Zt(n.ref,Pne(a));return typeof r=="function"||n.isPresent?g.cloneElement(a,{ref:i}):null};ei.displayName="Presence";function Rne(e){const[t,r]=g.useState(),n=g.useRef({}),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,u]=One(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const f=Qv(n.current);i.current=l==="mounted"?f:"none"},[l]),Cs(()=>{const f=n.current,h=a.current;if(h!==e){const x=i.current,y=Qv(f);e?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(h&&x!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),Cs(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,p=y=>{const b=Qv(n.current).includes(y.animationName);if(y.target===t&&b&&(u("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},x=y=>{y.target===t&&(i.current=Qv(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function Qv(e){return(e==null?void 0:e.animationName)||"none"}function Pne(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var B2="rovingFocusGroup.onEntryFocus",Mne={bubbles:!1,cancelable:!0},ny="RovingFocusGroup",[YE,kL,Ine]=HC(ny),[Fne,jw]=da(ny,[Ine]),[Lne,Bne]=Fne(ny),DL=g.forwardRef((e,t)=>s.jsx(YE.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(YE.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx($ne,{...e,ref:t})})}));DL.displayName=ny;var $ne=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...p}=e,x=g.useRef(null),y=Zt(t,x),w=pw(i),[b,N]=Ao({prop:o,defaultProp:l??null,onChange:u,caller:ny}),[j,S]=g.useState(!1),A=vs(f),_=kL(r),C=g.useRef(!1),[k,T]=g.useState(0);return g.useEffect(()=>{const O=x.current;if(O)return O.addEventListener(B2,A),()=>O.removeEventListener(B2,A)},[A]),s.jsx(Lne,{scope:r,orientation:n,dir:w,loop:a,currentTabStopId:b,onItemFocus:g.useCallback(O=>N(O),[N]),onItemShiftTab:g.useCallback(()=>S(!0),[]),onFocusableItemAdd:g.useCallback(()=>T(O=>O+1),[]),onFocusableItemRemove:g.useCallback(()=>T(O=>O-1),[]),children:s.jsx(It.div,{tabIndex:j||k===0?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:gt(e.onMouseDown,()=>{C.current=!0}),onFocus:gt(e.onFocus,O=>{const R=!C.current;if(O.target===O.currentTarget&&R&&!j){const L=new CustomEvent(B2,Mne);if(O.currentTarget.dispatchEvent(L),!L.defaultPrevented){const M=_().filter(B=>B.focusable),G=M.find(B=>B.active),V=M.find(B=>B.id===b),le=[G,V,...M].filter(Boolean).map(B=>B.ref.current);PL(le,h)}}C.current=!1}),onBlur:gt(e.onBlur,()=>S(!1))})})}),OL="RovingFocusGroupItem",RL=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,u=Ga(),f=i||u,h=Bne(OL,r),p=h.currentTabStopId===f,x=kL(r),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:b}=h;return g.useEffect(()=>{if(n)return y(),()=>w()},[n,y,w]),s.jsx(YE.ItemSlot,{scope:r,id:f,focusable:n,active:a,children:s.jsx(It.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:gt(e.onMouseDown,N=>{n?h.onItemFocus(f):N.preventDefault()}),onFocus:gt(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:gt(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const j=qne(N,h.orientation,h.dir);if(j!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let A=x().filter(_=>_.focusable).map(_=>_.ref.current);if(j==="last")A.reverse();else if(j==="prev"||j==="next"){j==="prev"&&A.reverse();const _=A.indexOf(N.currentTarget);A=h.loop?zne(A,_+1):A.slice(_+1)}setTimeout(()=>PL(A))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:b!=null}):o})})});RL.displayName=OL;var Une={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Vne(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qne(e,t,r){const n=Vne(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Une[n]}function PL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function zne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ML=DL,IL=RL;function Hne(e){const t=Wne(e),r=g.forwardRef((n,a)=>{const{children:i,...o}=n,l=g.Children.toArray(i),u=l.find(Yne);if(u){const f=u.props.children,h=l.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Wne(e){const t=g.forwardRef((r,n)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=Qne(a),l=Kne(i,a.props);return a.type!==g.Fragment&&(l.ref=n?Jc(n,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Gne=Symbol("radix.slottable");function Yne(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Gne}function Kne(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Qne(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var KE=["Enter"," "],Xne=["ArrowDown","PageUp","Home"],FL=["ArrowUp","PageDown","End"],Zne=[...Xne,...FL],Jne={ltr:[...KE,"ArrowRight"],rtl:[...KE,"ArrowLeft"]},eae={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ay="Menu",[gg,tae,rae]=HC(ay),[ph,LL]=da(ay,[rae,Bu,jw]),Sw=Bu(),BL=jw(),[sae,xh]=ph(ay),[nae,iy]=ph(ay),$L=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Sw(t),[u,f]=g.useState(null),h=g.useRef(!1),p=vs(i),x=pw(a);return g.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(bw,{...l,children:s.jsx(sae,{scope:t,open:r,onOpenChange:p,content:u,onContentChange:f,children:s.jsx(nae,{scope:t,onClose:g.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:x,modal:o,children:n})})})};$L.displayName=ay;var aae="MenuAnchor",tT=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Sw(r);return s.jsx(sy,{...a,...n,ref:t})});tT.displayName=aae;var rT="MenuPortal",[iae,UL]=ph(rT,{forceMount:void 0}),VL=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=xh(rT,t);return s.jsx(iae,{scope:t,forceMount:r,children:s.jsx(ei,{present:r||i.open,children:s.jsx(_L,{asChild:!0,container:a,children:n})})})};VL.displayName=rT;var jo="MenuContent",[oae,sT]=ph(jo),qL=g.forwardRef((e,t)=>{const r=UL(jo,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=xh(jo,e.__scopeMenu),o=iy(jo,e.__scopeMenu);return s.jsx(gg.Provider,{scope:e.__scopeMenu,children:s.jsx(ei,{present:n||i.open,children:s.jsx(gg.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(lae,{...a,ref:t}):s.jsx(cae,{...a,ref:t})})})})}),lae=g.forwardRef((e,t)=>{const r=xh(jo,e.__scopeMenu),n=g.useRef(null),a=Zt(t,n);return g.useEffect(()=>{const i=n.current;if(i)return zp(i)},[]),s.jsx(nT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:gt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),cae=g.forwardRef((e,t)=>{const r=xh(jo,e.__scopeMenu);return s.jsx(nT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),dae=Hne("MenuContent.ScrollLock"),nT=g.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:x,onDismiss:y,disableOutsideScroll:w,...b}=e,N=xh(jo,r),j=iy(jo,r),S=Sw(r),A=BL(r),_=tae(r),[C,k]=g.useState(null),T=g.useRef(null),O=Zt(t,T,N.onContentChange),R=g.useRef(0),L=g.useRef(""),M=g.useRef(0),G=g.useRef(null),V=g.useRef("right"),ie=g.useRef(0),le=w?uh:g.Fragment,B=w?{as:dae,allowPinchZoom:!0}:void 0,U=W=>{var ce,ae;const q=L.current+W,Q=_().filter(ee=>!ee.disabled),P=document.activeElement,X=(ce=Q.find(ee=>ee.ref.current===P))==null?void 0:ce.textValue,K=Q.map(ee=>ee.textValue),H=Nae(K,q,X),J=(ae=Q.find(ee=>ee.textValue===H))==null?void 0:ae.ref.current;(function ee(ne){L.current=ne,window.clearTimeout(R.current),ne!==""&&(R.current=window.setTimeout(()=>ee(""),1e3))})(q),J&&setTimeout(()=>J.focus())};g.useEffect(()=>()=>window.clearTimeout(R.current),[]),Jg();const F=g.useCallback(W=>{var Q,P;return V.current===((Q=G.current)==null?void 0:Q.side)&&Sae(W,(P=G.current)==null?void 0:P.area)},[]);return s.jsx(oae,{scope:r,searchRef:L,onItemEnter:g.useCallback(W=>{F(W)&&W.preventDefault()},[F]),onItemLeave:g.useCallback(W=>{var q;F(W)||((q=T.current)==null||q.focus(),k(null))},[F]),onTriggerLeave:g.useCallback(W=>{F(W)&&W.preventDefault()},[F]),pointerGraceTimerRef:M,onPointerGraceIntentChange:g.useCallback(W=>{G.current=W},[]),children:s.jsx(le,{...B,children:s.jsx(oL,{asChild:!0,trapped:a,onMountAutoFocus:gt(i,W=>{var q;W.preventDefault(),(q=T.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(aL,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:x,onDismiss:y,children:s.jsx(ML,{asChild:!0,...A,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:k,onEntryFocus:gt(u,W=>{j.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(ww,{role:"menu","aria-orientation":"vertical","data-state":a8(N.open),"data-radix-menu-content":"",dir:j.dir,...S,...b,ref:O,style:{outline:"none",...b.style},onKeyDown:gt(b.onKeyDown,W=>{const Q=W.target.closest("[data-radix-menu-content]")===W.currentTarget,P=W.ctrlKey||W.altKey||W.metaKey,X=W.key.length===1;Q&&(W.key==="Tab"&&W.preventDefault(),!P&&X&&U(W.key));const K=T.current;if(W.target!==K||!Zne.includes(W.key))return;W.preventDefault();const J=_().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);FL.includes(W.key)&&J.reverse(),bae(J)}),onBlur:gt(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(R.current),L.current="")}),onPointerMove:gt(e.onPointerMove,yg(W=>{const q=W.target,Q=ie.current!==W.clientX;if(W.currentTarget.contains(q)&&Q){const P=W.clientX>ie.current?"right":"left";V.current=P,ie.current=W.clientX}}))})})})})})})});qL.displayName=jo;var uae="MenuGroup",aT=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(It.div,{role:"group",...n,ref:t})});aT.displayName=uae;var fae="MenuLabel",zL=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(It.div,{...n,ref:t})});zL.displayName=fae;var ob="MenuItem",l5="menu.itemSelect",Ew=g.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=g.useRef(null),o=iy(ob,e.__scopeMenu),l=sT(ob,e.__scopeMenu),u=Zt(t,i),f=g.useRef(!1),h=()=>{const p=i.current;if(!r&&p){const x=new CustomEvent(l5,{bubbles:!0,cancelable:!0});p.addEventListener(l5,y=>n==null?void 0:n(y),{once:!0}),Yp(p,x),x.defaultPrevented?f.current=!1:o.onClose()}};return s.jsx(HL,{...a,ref:u,disabled:r,onClick:gt(e.onClick,h),onPointerDown:p=>{var x;(x=e.onPointerDown)==null||x.call(e,p),f.current=!0},onPointerUp:gt(e.onPointerUp,p=>{var x;f.current||(x=p.currentTarget)==null||x.click()}),onKeyDown:gt(e.onKeyDown,p=>{const x=l.searchRef.current!=="";r||x&&p.key===" "||KE.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Ew.displayName=ob;var HL=g.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=sT(ob,r),l=BL(r),u=g.useRef(null),f=Zt(t,u),[h,p]=g.useState(!1),[x,y]=g.useState("");return g.useEffect(()=>{const w=u.current;w&&y((w.textContent??"").trim())},[i.children]),s.jsx(gg.ItemSlot,{scope:r,disabled:n,textValue:a??x,children:s.jsx(IL,{asChild:!0,...l,focusable:!n,children:s.jsx(It.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:f,onPointerMove:gt(e.onPointerMove,yg(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:gt(e.onPointerLeave,yg(w=>o.onItemLeave(w))),onFocus:gt(e.onFocus,()=>p(!0)),onBlur:gt(e.onBlur,()=>p(!1))})})})}),hae="MenuCheckboxItem",WL=g.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(XL,{scope:e.__scopeMenu,checked:r,children:s.jsx(Ew,{role:"menuitemcheckbox","aria-checked":lb(r)?"mixed":r,...a,ref:t,"data-state":oT(r),onSelect:gt(a.onSelect,()=>n==null?void 0:n(lb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});WL.displayName=hae;var GL="MenuRadioGroup",[mae,pae]=ph(GL,{value:void 0,onValueChange:()=>{}}),YL=g.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=vs(n);return s.jsx(mae,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(aT,{...a,ref:t})})});YL.displayName=GL;var KL="MenuRadioItem",QL=g.forwardRef((e,t)=>{const{value:r,...n}=e,a=pae(KL,e.__scopeMenu),i=r===a.value;return s.jsx(XL,{scope:e.__scopeMenu,checked:i,children:s.jsx(Ew,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":oT(i),onSelect:gt(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});QL.displayName=KL;var iT="MenuItemIndicator",[XL,xae]=ph(iT,{checked:!1}),ZL=g.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=xae(iT,r);return s.jsx(ei,{present:n||lb(i.checked)||i.checked===!0,children:s.jsx(It.span,{...a,ref:t,"data-state":oT(i.checked)})})});ZL.displayName=iT;var gae="MenuSeparator",JL=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(It.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});JL.displayName=gae;var yae="MenuArrow",e8=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Sw(r);return s.jsx(Nw,{...a,...n,ref:t})});e8.displayName=yae;var vae="MenuSub",[TRe,t8]=ph(vae),Sx="MenuSubTrigger",r8=g.forwardRef((e,t)=>{const r=xh(Sx,e.__scopeMenu),n=iy(Sx,e.__scopeMenu),a=t8(Sx,e.__scopeMenu),i=sT(Sx,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=i,f={__scopeMenu:e.__scopeMenu},h=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>h,[h]),g.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),u(null)}},[l,u]),s.jsx(tT,{asChild:!0,...f,children:s.jsx(HL,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":a8(r.open),...e,ref:Jc(t,a.onTriggerChange),onClick:p=>{var x;(x=e.onClick)==null||x.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:gt(e.onPointerMove,yg(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:gt(e.onPointerLeave,yg(p=>{var y,w;h();const x=(y=r.content)==null?void 0:y.getBoundingClientRect();if(x){const b=(w=r.content)==null?void 0:w.dataset.side,N=b==="right",j=N?-5:5,S=x[N?"left":"right"],A=x[N?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+j,y:p.clientY},{x:S,y:x.top},{x:A,y:x.top},{x:A,y:x.bottom},{x:S,y:x.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:gt(e.onKeyDown,p=>{var y;const x=i.searchRef.current!=="";e.disabled||x&&p.key===" "||Jne[n.dir].includes(p.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),p.preventDefault())})})})});r8.displayName=Sx;var s8="MenuSubContent",n8=g.forwardRef((e,t)=>{const r=UL(jo,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=xh(jo,e.__scopeMenu),o=iy(jo,e.__scopeMenu),l=t8(s8,e.__scopeMenu),u=g.useRef(null),f=Zt(t,u);return s.jsx(gg.Provider,{scope:e.__scopeMenu,children:s.jsx(ei,{present:n||i.open,children:s.jsx(gg.Slot,{scope:e.__scopeMenu,children:s.jsx(nT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=u.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:gt(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:gt(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:gt(e.onKeyDown,h=>{var y;const p=h.currentTarget.contains(h.target),x=eae[o.dir].includes(h.key);p&&x&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});n8.displayName=s8;function a8(e){return e?"open":"closed"}function lb(e){return e==="indeterminate"}function oT(e){return lb(e)?"indeterminate":e?"checked":"unchecked"}function bae(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function wae(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Nae(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=wae(e,Math.max(i,0));a.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function jae(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],u=t[o],f=l.x,h=l.y,p=u.x,x=u.y;h>n!=x>n&&r<(p-f)*(n-h)/(x-h)+f&&(a=!a)}return a}function Sae(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return jae(r,t)}function yg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Eae=$L,Aae=tT,Cae=VL,Tae=qL,_ae=aT,kae=zL,Dae=Ew,Oae=WL,Rae=YL,Pae=QL,Mae=ZL,Iae=JL,Fae=e8,Lae=r8,Bae=n8,Aw="DropdownMenu",[$ae,_Re]=da(Aw,[LL]),ti=LL(),[Uae,i8]=$ae(Aw),o8=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,u=ti(t),f=g.useRef(null),[h,p]=Ao({prop:a,defaultProp:i??!1,onChange:o,caller:Aw});return s.jsx(Uae,{scope:t,triggerId:Ga(),triggerRef:f,contentId:Ga(),open:h,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(x=>!x),[p]),modal:l,children:s.jsx(Eae,{...u,open:h,onOpenChange:p,dir:n,modal:l,children:r})})};o8.displayName=Aw;var l8="DropdownMenuTrigger",c8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=i8(l8,r),o=ti(r);return s.jsx(Aae,{asChild:!0,...o,children:s.jsx(It.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Jc(t,i.triggerRef),onPointerDown:gt(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:gt(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});c8.displayName=l8;var Vae="DropdownMenuPortal",d8=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ti(t);return s.jsx(Cae,{...n,...r})};d8.displayName=Vae;var u8="DropdownMenuContent",f8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=i8(u8,r),i=ti(r),o=g.useRef(!1);return s.jsx(Tae,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:gt(e.onCloseAutoFocus,l=>{var u;o.current||(u=a.triggerRef.current)==null||u.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:gt(e.onInteractOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;(!a.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});f8.displayName=u8;var qae="DropdownMenuGroup",h8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ti(r);return s.jsx(_ae,{...a,...n,ref:t})});h8.displayName=qae;var zae="DropdownMenuLabel",m8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ti(r);return s.jsx(kae,{...a,...n,ref:t})});m8.displayName=zae;var Hae="DropdownMenuItem",p8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ti(r);return s.jsx(Dae,{...a,...n,ref:t})});p8.displayName=Hae;var Wae="DropdownMenuCheckboxItem",Gae=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ti(r);return s.jsx(Oae,{...a,...n,ref:t})});Gae.displayName=Wae;var Yae="DropdownMenuRadioGroup",Kae=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ti(r);return s.jsx(Rae,{...a,...n,ref:t})});Kae.displayName=Yae;var Qae="DropdownMenuRadioItem",Xae=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ti(r);return s.jsx(Pae,{...a,...n,ref:t})});Xae.displayName=Qae;var Zae="DropdownMenuItemIndicator",Jae=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ti(r);return s.jsx(Mae,{...a,...n,ref:t})});Jae.displayName=Zae;var eie="DropdownMenuSeparator",x8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ti(r);return s.jsx(Iae,{...a,...n,ref:t})});x8.displayName=eie;var tie="DropdownMenuArrow",rie=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ti(r);return s.jsx(Fae,{...a,...n,ref:t})});rie.displayName=tie;var sie="DropdownMenuSubTrigger",nie=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ti(r);return s.jsx(Lae,{...a,...n,ref:t})});nie.displayName=sie;var aie="DropdownMenuSubContent",iie=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ti(r);return s.jsx(Bae,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iie.displayName=aie;var oie=o8,lie=c8,cie=d8,die=f8,uie=h8,fie=m8,hie=p8,mie=x8;function gh({...e}){return s.jsx(oie,{"data-slot":"dropdown-menu",...e})}function yh({...e}){return s.jsx(lie,{"data-slot":"dropdown-menu-trigger",...e})}function vh({className:e,sideOffset:t=4,...r}){return s.jsx(cie,{children:s.jsx(die,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function Cw({...e}){return s.jsx(uie,{"data-slot":"dropdown-menu-group",...e})}function gn({className:e,inset:t,variant:r="default",...n}){return s.jsx(hie,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Ze("focus:bg-accent focus:text-gray-700-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function g8({className:e,inset:t,...r}){return s.jsx(fie,{"data-slot":"dropdown-menu-label","data-inset":t,className:Ze("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function QE({className:e,...t}){return s.jsx(mie,{"data-slot":"dropdown-menu-separator",className:Ze("bg-border -mx-1 my-1 h-px",e),...t})}var $2={exports:{}},U2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c5;function pie(){if(c5)return U2;c5=1;var e=Gb();function t(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(p,x){var y=x(),w=n({inst:{value:y,getSnapshot:x}}),b=w[0].inst,N=w[1];return i(function(){b.value=y,b.getSnapshot=x,u(b)&&N({inst:b})},[p,y,x]),a(function(){return u(b)&&N({inst:b}),p(function(){u(b)&&N({inst:b})})},[p]),o(y),y}function u(p){var x=p.getSnapshot;p=p.value;try{var y=x();return!r(p,y)}catch{return!0}}function f(p,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return U2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,U2}var d5;function xie(){return d5||(d5=1,$2.exports=pie()),$2.exports}var gie=xie();function yie(){return gie.useSyncExternalStore(vie,()=>!0,()=>!1)}function vie(){return()=>{}}var lT="Avatar",[bie,kRe]=da(lT),[wie,y8]=bie(lT),v8=g.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=g.useState("idle");return s.jsx(wie,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(It.span,{...n,ref:t})})});v8.displayName=lT;var b8="AvatarImage",w8=g.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=y8(b8,r),l=Nie(n,i),u=vs(f=>{a(f),o.onImageLoadingStatusChange(f)});return Cs(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?s.jsx(It.img,{...i,ref:t,src:n}):null});w8.displayName=b8;var N8="AvatarFallback",j8=g.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=y8(N8,r),[o,l]=g.useState(n===void 0);return g.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(u)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(It.span,{...a,ref:t}):null});j8.displayName=N8;function u5(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Nie(e,{referrerPolicy:t,crossOrigin:r}){const n=yie(),a=g.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=g.useState(()=>u5(i,e));return Cs(()=>{l(u5(i,e))},[i,e]),Cs(()=>{const u=p=>()=>{l(p)};if(!i)return;const f=u("loaded"),h=u("error");return i.addEventListener("load",f),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",f),i.removeEventListener("error",h)}},[i,r,t]),o}var jie=v8,Sie=w8,Eie=j8;function f5({className:e,...t}){return s.jsx(jie,{"data-slot":"avatar",className:Ze("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function h5({className:e,...t}){return s.jsx(Sie,{"data-slot":"avatar-image",className:Ze("aspect-square size-full",e),...t})}function m5({className:e,...t}){return s.jsx(Eie,{"data-slot":"avatar-fallback",className:Ze("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const V2=768;function Aie(){const[e,t]=g.useState(void 0);return g.useEffect(()=>{const r=window.matchMedia(`(max-width: ${V2-1}px)`),n=()=>{t(window.innerWidth<V2)};return r.addEventListener("change",n),t(window.innerWidth<V2),()=>r.removeEventListener("change",n)},[]),!!e}var Cie="Separator",p5="horizontal",Tie=["horizontal","vertical"],S8=g.forwardRef((e,t)=>{const{decorative:r,orientation:n=p5,...a}=e,i=_ie(n)?n:p5,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(It.div,{"data-orientation":i,...l,...a,ref:t})});S8.displayName=Cie;function _ie(e){return Tie.includes(e)}var kie=S8;function E8({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return s.jsx(kie,{"data-slot":"separator-root",decorative:r,orientation:t,className:Ze("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function Die({...e}){return s.jsx(vF,{"data-slot":"sheet",...e})}function Oie({...e}){return s.jsx(bF,{"data-slot":"sheet-portal",...e})}function Rie({className:e,...t}){return s.jsx(IC,{"data-slot":"sheet-overlay",className:Ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Pie({className:e,children:t,side:r="right",...n}){return s.jsxs(Oie,{children:[s.jsx(Rie,{}),s.jsxs(FC,{"data-slot":"sheet-content",className:Ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,s.jsxs($C,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(No,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Mie({className:e,...t}){return s.jsx("div",{"data-slot":"sheet-header",className:Ze("flex flex-col gap-1.5 p-4",e),...t})}function Iie({className:e,...t}){return s.jsx(LC,{"data-slot":"sheet-title",className:Ze("text-foreground font-semibold",e),...t})}function Fie({className:e,...t}){return s.jsx(BC,{"data-slot":"sheet-description",className:Ze("text-muted-foreground text-sm",e),...t})}function Ct({className:e,...t}){return s.jsx("div",{"data-slot":"skeleton",className:Ze("bg-accent animate-pulse rounded-md",e),...t})}var Lie="DismissableLayer",XE="dismissableLayer.update",Bie="dismissableLayer.pointerDownOutside",$ie="dismissableLayer.focusOutside",x5,A8=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),C8=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(A8),[h,p]=g.useState(null),x=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),w=Zt(t,T=>p(T)),b=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(N),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,_=S>=j,C=qie(T=>{const O=T.target,R=[...f.branches].some(L=>L.contains(O));!_||R||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},x),k=zie(T=>{const O=T.target;[...f.branches].some(L=>L.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},x);return qp(T=>{S===f.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},x),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(x5=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),g5(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=x5)}},[h,x,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),g5())},[h,f]),g.useEffect(()=>{const T=()=>y({});return document.addEventListener(XE,T),()=>document.removeEventListener(XE,T)},[]),s.jsx(It.div,{...u,ref:w,style:{pointerEvents:A?_?"auto":"none":void 0,...e.style},onFocusCapture:gt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:gt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:gt(e.onPointerDownCapture,C.onPointerDownCapture)})});C8.displayName=Lie;var Uie="DismissableLayerBranch",Vie=g.forwardRef((e,t)=>{const r=g.useContext(A8),n=g.useRef(null),a=Zt(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(It.div,{...e,ref:a})});Vie.displayName=Uie;function qie(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let u=function(){T8(Bie,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function zie(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!n.current&&T8($ie,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function g5(){const e=new CustomEvent(XE);document.dispatchEvent(e)}function T8(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Yp(a,i):a.dispatchEvent(i)}var Hie="Portal",_8=g.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=g.useState(!1);Cs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(s.jsx(It.div,{...n,ref:t}),o):null});_8.displayName=Hie;var Wie=Symbol("radix.slottable");function Gie(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Wie,t}var k8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Yie="VisuallyHidden",D8=g.forwardRef((e,t)=>s.jsx(It.span,{...e,ref:t,style:{...k8,...e.style}}));D8.displayName=Yie;var Kie=D8,[Tw,DRe]=da("Tooltip",[Bu]),_w=Bu(),O8="TooltipProvider",Qie=700,ZE="tooltip.open",[Xie,cT]=Tw(O8),R8=e=>{const{__scopeTooltip:t,delayDuration:r=Qie,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=g.useRef(!0),l=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),s.jsx(Xie,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(f=>{l.current=f},[]),disableHoverableContent:a,children:i})};R8.displayName=O8;var vg="Tooltip",[Zie,oy]=Tw(vg),P8=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,u=cT(vg,e.__scopeTooltip),f=_w(t),[h,p]=g.useState(null),x=Ga(),y=g.useRef(0),w=o??u.disableHoverableContent,b=l??u.delayDuration,N=g.useRef(!1),[j,S]=Ao({prop:n,defaultProp:a??!1,onChange:T=>{T?(u.onOpen(),document.dispatchEvent(new CustomEvent(ZE))):u.onClose(),i==null||i(T)},caller:vg}),A=g.useMemo(()=>j?N.current?"delayed-open":"instant-open":"closed",[j]),_=g.useCallback(()=>{window.clearTimeout(y.current),y.current=0,N.current=!1,S(!0)},[S]),C=g.useCallback(()=>{window.clearTimeout(y.current),y.current=0,S(!1)},[S]),k=g.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{N.current=!0,S(!0),y.current=0},b)},[b,S]);return g.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),s.jsx(bw,{...f,children:s.jsx(Zie,{scope:t,contentId:x,open:j,stateAttribute:A,trigger:h,onTriggerChange:p,onTriggerEnter:g.useCallback(()=>{u.isOpenDelayedRef.current?k():_()},[u.isOpenDelayedRef,k,_]),onTriggerLeave:g.useCallback(()=>{w?C():(window.clearTimeout(y.current),y.current=0)},[C,w]),onOpen:_,onClose:C,disableHoverableContent:w,children:r})})};P8.displayName=vg;var JE="TooltipTrigger",M8=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=oy(JE,r),i=cT(JE,r),o=_w(r),l=g.useRef(null),u=Zt(t,l,a.onTriggerChange),f=g.useRef(!1),h=g.useRef(!1),p=g.useCallback(()=>f.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),s.jsx(sy,{asChild:!0,...o,children:s.jsx(It.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:u,onPointerMove:gt(e.onPointerMove,x=>{x.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:gt(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:gt(e.onPointerDown,()=>{a.open&&a.onClose(),f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:gt(e.onFocus,()=>{f.current||a.onOpen()}),onBlur:gt(e.onBlur,a.onClose),onClick:gt(e.onClick,a.onClose)})})});M8.displayName=JE;var dT="TooltipPortal",[Jie,eoe]=Tw(dT,{forceMount:void 0}),I8=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:a}=e,i=oy(dT,t);return s.jsx(Jie,{scope:t,forceMount:r,children:s.jsx(ei,{present:r||i.open,children:s.jsx(_8,{asChild:!0,container:a,children:n})})})};I8.displayName=dT;var Sp="TooltipContent",F8=g.forwardRef((e,t)=>{const r=eoe(Sp,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=oy(Sp,e.__scopeTooltip);return s.jsx(ei,{present:n||o.open,children:o.disableHoverableContent?s.jsx(L8,{side:a,...i,ref:t}):s.jsx(toe,{side:a,...i,ref:t})})}),toe=g.forwardRef((e,t)=>{const r=oy(Sp,e.__scopeTooltip),n=cT(Sp,e.__scopeTooltip),a=g.useRef(null),i=Zt(t,a),[o,l]=g.useState(null),{trigger:u,onClose:f}=r,h=a.current,{onPointerInTransitChange:p}=n,x=g.useCallback(()=>{l(null),p(!1)},[p]),y=g.useCallback((w,b)=>{const N=w.currentTarget,j={x:w.clientX,y:w.clientY},S=aoe(j,N.getBoundingClientRect()),A=ioe(j,S),_=ooe(b.getBoundingClientRect()),C=coe([...A,..._]);l(C),p(!0)},[p]);return g.useEffect(()=>()=>x(),[x]),g.useEffect(()=>{if(u&&h){const w=N=>y(N,h),b=N=>y(N,u);return u.addEventListener("pointerleave",w),h.addEventListener("pointerleave",b),()=>{u.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",b)}}},[u,h,y,x]),g.useEffect(()=>{if(o){const w=b=>{const N=b.target,j={x:b.clientX,y:b.clientY},S=(u==null?void 0:u.contains(N))||(h==null?void 0:h.contains(N)),A=!loe(j,o);S?x():A&&(x(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[u,h,o,f,x]),s.jsx(L8,{...e,ref:i})}),[roe,soe]=Tw(vg,{isInside:!1}),noe=Gie("TooltipContent"),L8=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,u=oy(Sp,r),f=_w(r),{onClose:h}=u;return g.useEffect(()=>(document.addEventListener(ZE,h),()=>document.removeEventListener(ZE,h)),[h]),g.useEffect(()=>{if(u.trigger){const p=x=>{const y=x.target;y!=null&&y.contains(u.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,h]),s.jsx(C8,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:s.jsxs(ww,{"data-state":u.stateAttribute,...f,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(noe,{children:n}),s.jsx(roe,{scope:r,isInside:!0,children:s.jsx(Kie,{id:u.contentId,role:"tooltip",children:a||n})})]})})});F8.displayName=Sp;var B8="TooltipArrow",$8=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=_w(r);return soe(B8,r).isInside?null:s.jsx(Nw,{...a,...n,ref:t})});$8.displayName=B8;function aoe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ioe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function ooe(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function loe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],u=t[o],f=l.x,h=l.y,p=u.x,x=u.y;h>n!=x>n&&r<(p-f)*(n-h)/(x-h)+f&&(a=!a)}return a}function coe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),doe(t)}function doe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var uoe=R8,foe=P8,hoe=M8,moe=I8,poe=F8,xoe=$8;function kw({delayDuration:e=0,...t}){return s.jsx(uoe,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function cb({...e}){return s.jsx(kw,{children:s.jsx(foe,{"data-slot":"tooltip",...e})})}function db({...e}){return s.jsx(hoe,{"data-slot":"tooltip-trigger",...e})}function ub({className:e,sideOffset:t=0,children:r,...n}){return s.jsx(moe,{children:s.jsxs(poe,{"data-slot":"tooltip-content",sideOffset:t,className:Ze("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...n,children:[r,s.jsx(xoe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const goe="sidebar_state",yoe=60*60*24*7,voe="16rem",boe="18rem",woe="3rem",Noe="b",U8=g.createContext(null);function ly(){const e=g.useContext(U8);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function joe({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o}){const l=Aie(),[u,f]=g.useState(!1),[h,p]=g.useState(e),x=t??h,y=g.useCallback(j=>{const S=typeof j=="function"?j(x):j;r?r(S):p(S),document.cookie=`${goe}=${S}; path=/; max-age=${yoe}`},[r,x]),w=g.useCallback(()=>l?f(j=>!j):y(j=>!j),[l,y,f]);g.useEffect(()=>{const j=S=>{S.key===Noe&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),w())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[w]);const b=x?"expanded":"collapsed",N=g.useMemo(()=>({state:b,open:x,setOpen:y,isMobile:l,openMobile:u,setOpenMobile:f,toggleSidebar:w}),[b,x,y,l,u,f,w]);return s.jsx(U8.Provider,{value:N,children:s.jsx(kw,{delayDuration:0,children:s.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":voe,"--sidebar-width-icon":woe,...a},className:Ze("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...o,children:i})})})}function Soe({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i}){const{isMobile:o,state:l,openMobile:u,setOpenMobile:f}=ly();return r==="none"?s.jsx("div",{"data-slot":"sidebar",className:Ze("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...i,children:a}):o?s.jsx(Die,{open:u,onOpenChange:f,...i,children:s.jsxs(Pie,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":boe},side:e,children:[s.jsxs(Mie,{className:"sr-only",children:[s.jsx(Iie,{children:"Sidebar"}),s.jsx(Fie,{children:"Displays the mobile sidebar."})]}),s.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):s.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[s.jsx("div",{"data-slot":"sidebar-gap",className:Ze("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),s.jsx("div",{"data-slot":"sidebar-container",className:Ze("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function Eoe({className:e,onClick:t,...r}){const{toggleSidebar:n}=ly();return s.jsxs(pe,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Ze("size-7",e),onClick:a=>{t==null||t(a),n()},...r,children:[s.jsx(KQ,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function Aoe({className:e,...t}){const{toggleSidebar:r}=ly();return s.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:Ze("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})}function Coe({className:e,...t}){return s.jsx("main",{"data-slot":"sidebar-inset",className:Ze("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function Toe({className:e,...t}){return s.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Ze("flex flex-col gap-2 p-2",e),...t})}function _oe({className:e,...t}){return s.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Ze("flex flex-col gap-2 p-2",e),...t})}function koe({className:e,...t}){return s.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Ze("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function V8({className:e,...t}){return s.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Ze("flex w-full min-w-0 flex-col gap-1",e),...t})}function q8({className:e,...t}){return s.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Ze("group/menu-item relative",e),...t})}const Doe=lw("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function z8({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o}){const l=e?nw:"button",{isMobile:u,state:f}=ly(),h=s.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":t,className:Ze(Doe({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(cb,{children:[s.jsx(db,{asChild:!0,children:h}),s.jsx(ub,{side:"right",align:"center",hidden:f!=="collapsed"||u,...a})]})):h}function Ooe({user:e}){const{isMobile:t}=ly(),r=gr(),[n,a]=g.useState(!1),[i,o]=g.useState(!1),l=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),a(!1),r("/")};return s.jsxs(s.Fragment,{children:[s.jsx(V8,{children:s.jsx(q8,{children:s.jsxs(gh,{modal:!1,children:[s.jsx(yh,{asChild:!0,children:s.jsxs(z8,{size:"lg",className:"hover:bg-white/10 data-[state=open]:bg-white data-[state=open]:hover:bg-white cursor-pointer transition-colors group",children:[s.jsxs(f5,{className:"h-8 w-8 rounded-lg",children:[s.jsx(h5,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),s.jsx(m5,{className:"rounded-lg",children:e==null?void 0:e.avatarName})]}),s.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[s.jsx("span",{className:"truncate font-semibold text-white group-data-[state=open]:text-[#1d398d]",children:e==null?void 0:e.name}),s.jsx("span",{className:"truncate text-xs text-white group-data-[state=open]:text-[#1d398d]/70",children:e==null?void 0:e.email})]}),s.jsx(Kg,{className:"ml-auto size-4 text-blue-200 group-data-[state=open]:text-[#1d398d]"})]})}),s.jsxs(vh,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[s.jsx(g8,{className:"p-0 font-normal",children:s.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[s.jsxs(f5,{className:"h-8 w-8 rounded-lg",children:[s.jsx(h5,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),s.jsx(m5,{className:"rounded-lg",children:e==null?void 0:e.avatarName})]}),s.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[s.jsx("span",{className:"truncate font-semibold",children:e==null?void 0:e.name}),s.jsx("span",{className:"truncate text-xs",children:e==null?void 0:e.email})]})]})}),s.jsx(QE,{}),s.jsxs(gn,{onSelect:u=>{u.preventDefault(),o(!0)},className:"cursor-pointer",children:[s.jsx(_Q,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Change Password"})]}),s.jsx(QE,{}),s.jsxs(gn,{onSelect:u=>{u.preventDefault(),console.log("[nav-user.tsx] Logout DropdownMenuItem clicked. Setting showConfirmation to true."),a(!0)},className:"cursor-pointer text-destructive",children:[s.jsx(EE,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Log out"})]})]})]})})}),s.jsx(ase,{isOpen:i,onClose:()=>o(!1)}),s.jsx(Xp,{isOpen:n,title:"Confirm Logout",description:"Are you sure you want to log out? You will need to login again to access your account.",cancelLabel:"Cancel",confirmLabel:"Log out",onCancel:()=>a(!1),onConfirm:l})]})}var Dw="Collapsible",[Roe,ORe]=da(Dw),[Poe,uT]=Roe(Dw),H8=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[u,f]=Ao({prop:n,defaultProp:a??!1,onChange:o,caller:Dw});return s.jsx(Poe,{scope:r,disabled:i,contentId:Ga(),open:u,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),children:s.jsx(It.div,{"data-state":hT(u),"data-disabled":i?"":void 0,...l,ref:t})})});H8.displayName=Dw;var W8="CollapsibleTrigger",G8=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=uT(W8,r);return s.jsx(It.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":hT(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:gt(e.onClick,a.onOpenToggle)})});G8.displayName=W8;var fT="CollapsibleContent",Y8=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=uT(fT,e.__scopeCollapsible);return s.jsx(ei,{present:r||a.open,children:({present:i})=>s.jsx(Moe,{...n,ref:t,present:i})})});Y8.displayName=fT;var Moe=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=uT(fT,r),[l,u]=g.useState(n),f=g.useRef(null),h=Zt(t,f),p=g.useRef(0),x=p.current,y=g.useRef(0),w=y.current,b=o.open||l,N=g.useRef(b),j=g.useRef(void 0);return g.useEffect(()=>{const S=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(S)},[]),Cs(()=>{const S=f.current;if(S){j.current=j.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const A=S.getBoundingClientRect();p.current=A.height,y.current=A.width,N.current||(S.style.transitionDuration=j.current.transitionDuration,S.style.animationName=j.current.animationName),u(n)}},[o.open,n]),s.jsx(It.div,{"data-state":hT(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...i,ref:h,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:b&&a})});function hT(e){return e?"open":"closed"}var Ioe=H8;function Foe({...e}){return s.jsx(Ioe,{"data-slot":"collapsible",...e})}function Loe({...e}){return s.jsx(G8,{"data-slot":"collapsible-trigger",...e})}function Boe({...e}){return s.jsx(Y8,{"data-slot":"collapsible-content",...e})}const Ld={obNavigation:[{title:"Office Bearers",url:"#",icon:TX,isActive:!1,items:[{title:"Chapter Performance",url:"/chapter-performance"},{title:"Customer",url:"/members"},{title:"Visitors",url:"/chapter-visitors"},{title:"Meetings",url:"/chaptermeetings"}]}],roles:{super_admin:{projects:[{title:"Transfers",url:"/admin/transfers",icon:an,groupLabel:"Master"},{title:"Purchases",url:"/admin/purchases",icon:an,groupLabel:"Master"},{title:"Depot Varients",url:"/admin/depot-variants",icon:an,groupLabel:"Master"},{title:"Variant Stock",url:"/admin/variantstock",icon:an,groupLabel:"Master"},{title:"Wastage",url:"/admin/wastages",icon:an,groupLabel:"Master"},{title:"Areas",url:"/admin/areamasters",icon:an,groupLabel:"Master"},{title:"Depots",url:"/admin/depots",icon:an,groupLabel:"Master"},{title:"Farmers",url:"/admin/vendors",icon:Id,groupLabel:"Master"},{title:"Banners",url:"/admin/banners",icon:oO,groupLabel:"Master"},{title:"Purchase Payments",url:"/admin/purchase-payments",icon:an,groupLabel:"Master"},{title:"Categories",url:"/admin/categories",icon:an,groupLabel:"Products"},{title:"Cities",url:"/admin/cities",icon:an,groupLabel:"Master"},{title:"Locations",url:"/admin/locations",icon:an,groupLabel:"Master"},{title:"Products",url:"/admin/products",icon:Id,groupLabel:"Products"},{title:"Delivery Agencies",url:"/admin/agencies",icon:Id,groupLabel:"Indraai"},{title:"Orders",url:"/admin/orders",icon:Id,groupLabel:"Indraai"},{title:"Subscriptions",url:"/admin/subscriptions",icon:Id,groupLabel:"Indraai"},{title:"Delivery",url:"/admin/delivery",icon:an,groupLabel:"Indraai"},{title:"Customer",url:"/admin/members",icon:Id,groupLabel:"Member"},{title:"Users",url:"/admin/users",icon:Id,groupLabel:"System"}],navMain:[]},admin:{projects:[{title:"Master",url:"#",icon:hX,groupLabel:"Master",isActive:!1,items:[{title:"Farmer",url:"/admin/vendors",icon:Id}]}],navMain:[]},member:{projects:[{title:"References",url:"/references",icon:b2,groupLabel:"References",isActive:!1,items:[]},{title:"Done Deals",url:"/member/done-deal",icon:an,groupLabel:"Done Deals",isActive:!1,items:[]},{title:"One To Ones",url:"/member/one-to-ones",groupLabel:"One To Ones",icon:b2,isActive:!1,items:[]},{title:"Requirements",url:"/member/requirements",icon:b2,groupLabel:"Requirements",isActive:!1,items:[{title:"Requirements",url:"/member/requirements"},{title:"View Requirements",url:"/member/viewrequirements"}]}],navMain:[]},VENDOR:{projects:[{title:"Orders",url:"/admin/orders",icon:an,groupLabel:"Farmer Portal"}],navMain:[]},DepotAdmin:{projects:[{title:"Purchases",url:"/admin/purchases",icon:an,groupLabel:"Depot"},{title:"Wastage",url:"/admin/wastages",icon:an,groupLabel:"Depot"},{title:"Depot Variants",url:"/admin/depot-variants",icon:an,groupLabel:"Depot"},{title:"Transfers",url:"/admin/transfers",icon:an,groupLabel:"Depot"}],navMain:[]},AGENCY:{projects:[{title:"Orders",url:"/admin/orders",icon:an,groupLabel:"Agency Portal"},{title:"Delivery",url:"/admin/delivery",icon:an,groupLabel:"Agency Portal"}],navMain:[]},SUPERVISOR:{projects:[{title:"Orders",url:"/admin/orders",icon:an,groupLabel:"Supervisor Portal"}],navMain:[]}},user:{name:"",email:"",avatar:"",avatarName:""},teams:[{name:"Acme Inc",logo:oO,plan:"Enterprise"},{name:"Acme Corp.",logo:_K,plan:"Startup"},{name:"Evil Corp.",logo:aQ,plan:"Free"}]};function $oe(e){const{pathname:t}=Ia(),[r,n]=g.useState({...Ld,projects:[],navMain:[],obNav:[],isOB:!1}),[a,i]=g.useState({});g.useEffect(()=>{var p;const u=localStorage.getItem("user"),f=localStorage.getItem("roles");let h=!1;if(f&&f!=="undefined"&&f.trim()!=="")try{const x=JSON.parse(f);Array.isArray(x)&&(h=x.some(y=>y.role==="OB"&&y.chapters&&y.chapters.length>0))}catch(x){console.error("Failed to parse roles from localStorage",x),localStorage.removeItem("roles")}if(u)try{const x=JSON.parse(u);x.avatarName=((p=x.name)==null?void 0:p.charAt(0).toUpperCase())||"U";let y=x.role||"admin";Ld.roles[y]||(y="super_admin");const w=Ld.roles[y];n(j=>({...j,projects:(w==null?void 0:w.projects)||[],navMain:(w==null?void 0:w.navMain)||[],user:x,obNav:h?Ld.obNavigation:[],isOB:h}));const N=[...new Set(w==null?void 0:w.projects.map(j=>j.groupLabel))].reduce((j,S)=>(j[S]=!0,j),{});i(N)}catch(x){console.error("Failed to parse user from localStorage",x),n(y=>({...y,projects:Ld.roles.super_admin.projects,navMain:Ld.roles.super_admin.navMain,obNav:[],isOB:!1}))}else n(x=>({...x,projects:Ld.roles.super_admin.projects,navMain:Ld.roles.super_admin.navMain,obNav:[],isOB:!1}))},[]);const o=u=>{i(f=>({...f,[u]:!f[u]}))},l=r.projects.reduce((u,f)=>{const h=f.groupLabel||"Other";return u[h]||(u[h]=[]),u[h].push(f),u},{});return s.jsxs(Soe,{collapsible:"icon",...e,className:"bg-[#1d398d] border-r border-[#1d398d]/80",children:[s.jsx(Toe,{className:"border-b border-[#1d398d]/30 bg-[#1d398d]",children:s.jsx(V8,{className:"flex",children:s.jsx(q8,{children:s.jsx(z8,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-2 hover:bg-white/10 transition-colors rounded-lg",children:s.jsx("div",{className:"flex items-center gap-2 justify-between",children:s.jsxs(Or,{to:"/",className:"flex items-center gap-2",children:[s.jsx(YK,{className:"h-5 w-5 text-white"}),s.jsx("span",{className:"text-sm font-medium text-white",children:Kx})]})})})})})}),s.jsxs(koe,{className:"space-y-1 overflow-y-auto [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden bg-[#1d398d]",children:[r.isOB&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"px-3 py-2 text-xs font-medium text-blue-200 border-b border-[#1d398d]/30 mb-2",children:"Office Bearer Menu"}),r.obNav.map(u=>{var f;return s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"px-3 py-2 text-sm font-medium text-blue-200 flex items-center gap-2",children:[s.jsx(u.icon,{className:"h-4 w-4 text-blue-300"}),u.title]}),s.jsx("div",{className:"ml-6",children:(f=u.items)==null?void 0:f.map(h=>s.jsx(Or,{to:h.url,className:Ze("block w-full px-3 py-2 text-sm transition-colors",t===h.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:h.title},h.url))})]},u.title)})]}),s.jsx("div",{className:"space-y-2",children:Object.entries(l).map(([u,f])=>s.jsx("div",{className:"mb-2",children:s.jsxs(Foe,{open:a[u],onOpenChange:()=>o(u),children:[s.jsx(Loe,{className:"w-full",children:s.jsxs("div",{className:"px-3 py-2 flex items-center justify-between text-sm font-medium text-blue-200 hover:bg-white/10 cursor-pointer transition-colors rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ha,{className:`h-4 w-4 transition-transform text-blue-300 ${a[u]?"rotate-0":"-rotate-90"}`}),s.jsx("span",{children:u})]}),s.jsx("span",{className:"text-xs text-blue-100 bg-white/20 px-2 py-1 rounded-full font-medium",children:f.length})]})}),s.jsx(Boe,{children:s.jsx("div",{className:"ml-6 mt-1",children:f.map(h=>s.jsxs(Or,{to:h.url,className:Ze("flex items-center gap-2 px-3 py-2 text-sm transition-colors",t===h.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:[h.icon&&s.jsx(h.icon,{className:Ze("h-4 w-4 flex-shrink-0",t===h.url?"text-[#1d398d]":"text-blue-200")}),s.jsx("span",{children:h.title})]},h.url))})})]})},u))}),r.navMain.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-3 py-2 text-xs font-medium text-blue-200 border-b border-[#1d398d]/30 mt-4 mb-2",children:"Management"}),r.navMain.map(u=>s.jsxs(Or,{to:u.url,className:Ze("flex items-center gap-2 w-full px-3 py-2 text-sm transition-colors",t===u.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:[u.icon&&s.jsx(u.icon,{className:Ze("h-4 w-4",t===u.url?"text-[#1d398d]":"text-blue-200")}),s.jsx("span",{children:u.title})]},u.url))]})]}),s.jsx(_oe,{className:"border-t border-[#1d398d]/30 bg-[#1d398d]",children:s.jsx(Ooe,{user:r.user})}),s.jsx(Aoe,{})]})}const K8=()=>{const[e,t]=g.useState(!1),r=Ia();return g.useEffect(()=>{const n=localStorage.getItem("user");t(!!n)},[r.pathname]),s.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white  border-t  shadow-lg z-50",children:s.jsxs("div",{className:"flex justify-around py-2",children:[s.jsxs(wx,{to:"/",end:!0,className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(TI,{size:24}),s.jsx("span",{className:"text-xs",children:"Home"})]}),e&&s.jsxs(wx,{to:"/member/products",className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(yp,{size:24}),s.jsx("span",{className:"text-xs",children:"Products"})]}),s.jsxs(wx,{to:e?"/member/subscriptions":"/login",className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(ew,{size:24}),s.jsx("span",{className:"text-xs",children:e?"My Subscription":"Login"})]}),s.jsxs(wx,{to:"/about",className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(kI,{size:24}),s.jsx("span",{className:"text-xs",children:"Menu"})]})]})})};function y5(){const e=gr(),[t,r]=g.useState(()=>{const f=localStorage.getItem("theme");return f?f==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});g.useEffect(()=>{document.documentElement.classList.toggle("dark",t)},[t]);const n=localStorage.getItem("user"),a=n?JSON.parse(n):null;g.useEffect(()=>{const f=window.matchMedia("(prefers-color-scheme: dark)"),h=p=>{localStorage.getItem("theme")||r(p.matches)};return f.addEventListener("change",h),()=>f.removeEventListener("change",h)},[]);const i=Ia(),o=()=>{const f=!t;r(f),localStorage.setItem("theme",f?"dark":"light")},[l,u]=g.useState(void 0);return g.useEffect(()=>{var p;const f=localStorage.getItem("user"),h=f?JSON.parse(f):null;u(((p=h==null?void 0:h.role)==null?void 0:p.toString().toUpperCase())||void 0)},[i.pathname]),s.jsxs(joe,{children:[s.jsx($oe,{}),s.jsxs(Coe,{children:[s.jsx("header",{className:"bg-blue-900 sticky top-0 z-20 flex h-16 shrink-0 items-center border-b bg-background shadow-sm transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-13 -ml-[1px] -mt-0",children:s.jsxs("div",{className:"flex items-center justify-between w-full px-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Eoe,{className:"text-white -ml-1"}),s.jsx(pe,{onClick:()=>e(-1),children:"Back"}),s.jsxs("h1",{className:"text-white",children:["Welcome, ",a==null?void 0:a.name," ",s.jsxs("span",{className:"text-blue-200 text-sm",children:["(",a==null?void 0:a.role,")"]})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(pe,{onClick:o,className:"text-white size-7 cursor-pointer",variant:"ghost",size:"icon","aria-label":"Toggle Dark Mode",children:t?s.jsx(qQ,{}):s.jsx(gX,{})})})]})}),s.jsx("main",{className:"pt-2",children:s.jsx(wC,{})})]}),l==="MEMBER"&&s.jsx(K8,{})]})}const Uoe=()=>{console.log("[AuthDebug] useAuth called");const e=localStorage.getItem("authToken"),t=localStorage.getItem("user");if(console.log("[AuthDebug] Token from localStorage:",e),console.log("[AuthDebug] User string from localStorage:",t),e&&t)try{const r=JSON.parse(t);if(console.log("[AuthDebug] Parsed user object:",r),console.log("[AuthDebug] Parsed user role:",r==null?void 0:r.role),r&&typeof r.role=="string"){const n={isAuthenticated:!0,user:r};return console.log("[AuthDebug] useAuth returning (authenticated):",n),n}else{console.error("[AuthDebug] AuthCheck: Parsed user is invalid or role is missing/not a string.",r);const n={isAuthenticated:!1,user:null};return console.log("[AuthDebug] useAuth returning (unauthenticated - bad user data):",n),n}}catch(r){console.error("[AuthDebug] AuthCheck: Failed to parse user from localStorage. Error:",r),console.log("[AuthDebug] Raw userString that failed parsing:",t);const n={isAuthenticated:!1,user:null};return console.log("[AuthDebug] useAuth returning (unauthenticated - parse error):",n),n}else return console.log("[AuthDebug] useAuth returning (unauthenticated - token or userString missing)"),{isAuthenticated:!1,user:null}},Voe=({children:e})=>{const{isAuthenticated:t,user:r}=Uoe();return!t||(r==null?void 0:r.role)==="MEMBER"?s.jsx(NY,{to:"/",replace:!0}):s.jsx(s.Fragment,{children:e})},qoe=15e3;function zoe({isLoggedIn:e}){const t=gr(),[r,n]=g.useState(null),[a,i]=g.useState(!0),[o,l]=g.useState(null);return g.useEffect(()=>{if(!e)return;let u=!0;const f=async()=>{var p,x;i(!0),l(null);try{const y=await ut("/wallet");let w;y&&y.data&&typeof y.data.balance=="number"?w=y.data.balance:typeof y.balance=="number"&&(w=y.balance),u&&(typeof w=="number"?n(w):(console.warn("Unexpected response structure for wallet balance:",y),l("Failed to fetch balance: unexpected data format."),n(0)))}catch(y){if(u){console.error("Failed to fetch wallet balance:",y);const w=((x=(p=y.response)==null?void 0:p.data)==null?void 0:x.message)||y.message||"Failed to fetch wallet balance";l(w),he.error(w),n(0)}}finally{u&&i(!1)}};f();const h=setInterval(f,qoe);return()=>{u=!1,clearInterval(h)}},[e]),e?a?s.jsxs(pe,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg",disabled:!0,children:[s.jsx(Wr,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{className:"font-medium",children:"Loading..."})]}):o&&r===0?s.jsxs(pe,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-destructive text-destructive rounded-lg hover:bg-destructive/10",title:o,onClick:()=>{},children:[s.jsx(Dc,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Error"})]}):s.jsxs(gh,{children:[s.jsx(yh,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[s.jsx(Dc,{className:"w-5 h-5 text-orange-500"}),s.jsxs("span",{className:"font-medium",children:["",r!==null?r.toFixed(2):"N/A"]}),s.jsx(Ha,{className:"w-4 h-4 text-gray-500"})]})}),s.jsxs(vh,{className:"w-56",align:"end",children:[s.jsxs(g8,{className:"flex items-center gap-2",children:[s.jsx(Dc,{className:"w-4 h-4"}),"Wallet Balance: ",r!==null?r.toFixed(2):"N/A"]}),s.jsx(QE,{}),s.jsxs(gn,{onClick:()=>t("/member/wallet"),className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Cn,{className:"w-4 h-4"}),"Add Money"]})]})]}):null}const Hoe="/assets/Sarkhot-Natural-Farms-Png-DTJXlgmL.webp",Woe="/assets/WhatsApp%20Image%202025-06-24%20at%2018.32.39%20(1)%20(1)-M5cSOnyy.png",Q8=({isLoggedIn:e,userName:t,onLogout:r,showWallet:n})=>{const a=g.useRef(null),[i,o]=g.useState(!1),[l,u]=g.useState(!1),[f,h]=g.useState(!0),[p,x]=g.useState(!1),[y,w]=g.useState(()=>{try{const S=localStorage.getItem("user");return S?JSON.parse(S).role:null}catch(S){return console.error("Failed to parse user data from localStorage on init",S),null}}),b=g.useRef(0),N=g.useRef(null);g.useEffect(()=>{try{const S=localStorage.getItem("user"),A=S?JSON.parse(S).role:null;w(A)}catch(S){console.error("Failed to parse user data from localStorage in effect",S),w(null)}},[e]);const j=[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Bharwad Cow",path:"/bharwadcow"},{name:"Products",path:"/member/products/1"},{name:"Contact Us",path:"/contact"}];return g.useEffect(()=>{const S=()=>{const A=window.scrollY;h(!0),x(A>10),b.current=A};return window.addEventListener("scroll",S,{passive:!0}),()=>window.removeEventListener("scroll",S)},[]),g.useEffect(()=>{const S=()=>{if(a.current){const A=a.current.offsetHeight;document.documentElement.style.setProperty("--header-height",`${A}px`)}};return S(),window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S),document.documentElement.style.removeProperty("--header-height")}},[e,t,i,p]),s.jsxs("header",{ref:a,className:`fixed top-0 w-full z-50 transition-all duration-500 ease-out ${f?"translate-y-0":"-translate-y-full"} ${p?"shadow-lg":"shadow-sm"}`,children:[s.jsx("div",{className:"bg-white transition-colors duration-300",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx(Or,{to:"/",className:"flex items-center",children:s.jsx("img",{src:Woe,alt:"Logo",className:"h-10 w-auto object-contain mr-2"})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("a",{href:"/","aria-label":"Sarkhot Logo",children:s.jsx("img",{src:Hoe,alt:"Sarkhot Logo",className:"h-8 w-auto object-contain"})}),s.jsx("a",{target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",href:"https://www.facebook.com/sarkhotnaturalfarms",className:"text-gray-500 hover:text-green-600 transition-colors",children:s.jsx(xQ,{size:18})}),s.jsx("a",{target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",href:"https://www.instagram.com/sarkhotnaturalfarms/",className:"text-gray-500 hover:text-amber-600 transition-colors",children:s.jsx(CQ,{size:18})}),s.jsx("span",{className:"hidden sm:block border-l border-gray-300 h-6 mx-2"}),e?s.jsxs("div",{className:"relative",onMouseEnter:()=>{N.current&&clearTimeout(N.current),u(!0)},onMouseLeave:()=>{N.current=setTimeout(()=>{u(!1)},200)},children:[s.jsxs("button",{className:"flex items-center text-sm text-gray-700 hover:text-green-600 transition-colors",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-amber-500 rounded-full p-0.5 mr-1",children:s.jsx(w2,{size:18,className:"text-white bg-gray-100 rounded-full"})}),s.jsx("span",{className:"hidden sm:inline",children:"Account"})]}),l&&r&&s.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-100",onMouseEnter:()=>{N.current&&clearTimeout(N.current)},onMouseLeave:()=>{N.current=setTimeout(()=>{u(!1)},200)},children:[t&&s.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Signed in as"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:t})]}),y!=="ADMIN"&&s.jsxs(Or,{to:"/member/subscriptions",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",onClick:()=>u(!1),children:[s.jsx(lO,{size:16,className:"mr-2 text-green-600"}),"My Subscriptions"]}),y==="MEMBER"&&s.jsxs(Or,{to:"/member/addresses",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",onClick:()=>u(!1),children:[s.jsx(lO,{size:16,className:"mr-2 text-green-600"}),"Manage Address"]}),s.jsxs("button",{onClick:()=>{r(),u(!1)},className:"w-full flex items-center text-left px-4 py-2 text-sm text-gray-700 hover:bg-red-50 transition-colors",children:[s.jsx(EE,{size:16,className:"mr-2 text-red-500"}),"Sign out"]})]})]}):s.jsxs(Or,{to:"/login",className:"text-sm text-gray-700 hover:text-green-600 transition-colors flex items-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-amber-500 rounded-full p-0.5 mr-1",children:s.jsx(w2,{size:18,className:"text-white bg-gray-100 rounded-full"})}),s.jsx("span",{className:"hidden sm:inline",children:"Account"})]})]})]})})}),s.jsx("div",{className:"bg-primary transition-colors duration-300",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-3",children:[s.jsx("div",{className:"hidden md:flex space-x-6 items-center",children:j.map(S=>s.jsxs(Or,{to:S.path,className:"text-white font-semibold hover:text-white/90 transition-colors relative group",children:[S.name,s.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"})]},S.name))}),s.jsx("div",{className:"flex items-center space-x-4",children:n&&s.jsx(zoe,{isLoggedIn:e})}),s.jsx("div",{className:"md:hidden flex items-center",children:s.jsx("button",{onClick:()=>o(!i),className:`p-2 rounded-full transition-colors text-white hover:bg-white/20 ${i?"bg-white/20":""}`,"aria-label":i?"Close menu":"Open menu",children:i?s.jsx(No,{size:24}):s.jsx(kI,{size:24})})})]})})}),i&&s.jsx("div",{className:"md:hidden bg-white border-t border-gray-200 shadow-inner",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 space-y-2",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"search",placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full text-sm focus:ring-2 focus:ring-green-300 focus:border-green-500"}),s.jsx(Is,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),j.map(S=>s.jsxs(Or,{to:S.path,className:"block py-3 px-4 text-gray-700 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex items-center group",onClick:()=>o(!1),children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),S.name]},S.name)),e&&r?s.jsxs("button",{onClick:()=>{r(),o(!1)},className:"w-full text-left block py-3 px-4 text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors flex items-center group",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(EE,{size:16,className:"mr-2"})," Sign out"]}):s.jsxs(Or,{to:"/login",className:"block py-3 px-4 text-gray-700 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex items-center group",onClick:()=>o(!1),children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(w2,{size:16,className:"mr-2"})," Account"]})]})})]})};function eA({children:e}){var b;const t=Ia(),r=gr(),[n,a]=g.useState(()=>{const N=localStorage.getItem("theme");return N?N==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),i=localStorage.getItem("user"),o=i?JSON.parse(i):null,l=((b=o==null?void 0:o.role)==null?void 0:b.toString().toUpperCase())||void 0,[u,f]=g.useState(!!o),h=(o==null?void 0:o.name)||(o==null?void 0:o.username)||(o==null?void 0:o.email),[p,x]=g.useState(h),y=u&&l==="MEMBER";g.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]),g.useEffect(()=>{const N=()=>{const j=localStorage.getItem("user"),S=j?JSON.parse(j):null;f(!!S),x((S==null?void 0:S.name)||(S==null?void 0:S.username)||(S==null?void 0:S.email)||null)};return window.addEventListener("storage",N),N(),()=>{window.removeEventListener("storage",N)}},[t.pathname]),g.useEffect(()=>{if(!o||t.pathname.startsWith("/member/products"))return;const N=async()=>{try{const j=await ut("/products");let S=[];if(Array.isArray(j)?S=j:j&&j.data&&Array.isArray(j.data)&&(S=j.data),S.length>0){const A=S[0].id;r(`/member/products/${A}`)}else r("/member/products")}catch(j){console.error("Failed to fetch products for redirect:",j),r("/member/products")}};t.pathname==="/dashboard"&&N()},[o,r,t.pathname]),g.useEffect(()=>{const N=window.matchMedia("(prefers-color-scheme: dark)"),j=S=>{localStorage.getItem("theme")||a(S.matches)};return N.addEventListener("change",j),()=>N.removeEventListener("change",j)},[]);const w=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("roles"),localStorage.removeItem("memberId"),he.success("You have been logged out"),r("/")};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx(Q8,{isLoggedIn:u,userName:p,onLogout:w,showWallet:y}),s.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 pb-8",style:{paddingTop:"var(--header-height)"},children:e||s.jsx(wC,{})}),s.jsx(Goe,{}),l==="MEMBER"&&s.jsx(K8,{})]})}const Goe=()=>s.jsxs("footer",{className:"bg-slate-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-8 gap-y-10",children:[s.jsxs("div",{className:"md:col-span-12 lg:col-span-4",children:[s.jsxs("div",{className:"mb-6 flex items-center",children:[s.jsx(qf,{className:"h-10 w-10 text-green-600 mr-3"}),s.jsx("span",{className:"text-2xl font-bold text-green-700 dark:text-green-500",children:"Sarkhot Natural Farms"})]}),s.jsxs("p",{className:"text-sm mb-6 leading-relaxed",children:["Sarkhot Natural farms denote the community of natural farmers. Natural means ",s.jsx("span",{className:"font-semibold text-red-500",children:"%"})," chemical free, preservative free and poison free."]}),s.jsx("h3",{className:"text-[0.9rem] font-semibold mb-3 text-gray-600 dark:text-gray-400",children:"Payment Accepted"}),s.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:["Mastercard","Discover","BitPay","Visa","Stripe"].map(e=>s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-md shadow-sm",children:e},e))})]}),s.jsx("div",{className:"hidden lg:block lg:col-span-1"}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Policies"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/privacy-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/refund-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Refund and Returns Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/shipping-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Shipping and delivery policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/terms-and-conditions",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Terms and Conditions"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Useful Links"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx("a",{href:"/member/products",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Shop"})}),s.jsx("li",{children:s.jsx("a",{href:"/about",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx("a",{href:"/contact",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Contact Us"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-3",children:[s.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Contact"}),s.jsxs("address",{className:"text-sm not-italic space-y-2 leading-relaxed",children:[s.jsx("p",{children:"Sarkhot Natural Farms, Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East - 421201"}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:"Landmark"})," - Near Brahman Sabha hall."]}),s.jsx("p",{children:s.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors break-all",children:"sarkhotnaturalfarms@gmail.com"})}),s.jsx("p",{children:s.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"+91 9920999100"})})]})]})]})}),s.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 py-4 border-t border-gray-300 dark:border-gray-700",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("p",{className:"mb-2 md:mb-0 text-center md:text-left",children:[" ",new Date().getFullYear()," Sarkhot Natural Farms. All Rights Reserved."]}),s.jsxs("p",{className:"text-center md:text-right",children:["Powered by ",s.jsx("a",{href:"https://sanmisha.com/",className:"font-semibold text-green-700 dark:text-green-500 hover:underline",children:"Sanmisha Technologies"})]})]})})]});var Yoe="DismissableLayer",tA="dismissableLayer.update",Koe="dismissableLayer.pointerDownOutside",Qoe="dismissableLayer.focusOutside",v5,X8=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Z8=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(X8),[h,p]=g.useState(null),x=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),w=Zt(t,T=>p(T)),b=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(N),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,_=S>=j,C=Joe(T=>{const O=T.target,R=[...f.branches].some(L=>L.contains(O));!_||R||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},x),k=ele(T=>{const O=T.target;[...f.branches].some(L=>L.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},x);return qp(T=>{S===f.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},x),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(v5=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),b5(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=v5)}},[h,x,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),b5())},[h,f]),g.useEffect(()=>{const T=()=>y({});return document.addEventListener(tA,T),()=>document.removeEventListener(tA,T)},[]),s.jsx(It.div,{...u,ref:w,style:{pointerEvents:A?_?"auto":"none":void 0,...e.style},onFocusCapture:gt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:gt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:gt(e.onPointerDownCapture,C.onPointerDownCapture)})});Z8.displayName=Yoe;var Xoe="DismissableLayerBranch",Zoe=g.forwardRef((e,t)=>{const r=g.useContext(X8),n=g.useRef(null),a=Zt(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(It.div,{...e,ref:a})});Zoe.displayName=Xoe;function Joe(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let u=function(){J8(Koe,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ele(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!n.current&&J8(Qoe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function b5(){const e=new CustomEvent(tA);document.dispatchEvent(e)}function J8(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Yp(a,i):a.dispatchEvent(i)}var q2="focusScope.autoFocusOnMount",z2="focusScope.autoFocusOnUnmount",w5={bubbles:!1,cancelable:!0},tle="FocusScope",e7=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=vs(a),h=vs(i),p=g.useRef(null),x=Zt(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let b=function(A){if(y.paused||!l)return;const _=A.target;l.contains(_)?p.current=_:Gd(p.current,{select:!0})},N=function(A){if(y.paused||!l)return;const _=A.relatedTarget;_!==null&&(l.contains(_)||Gd(p.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const C of A)C.removedNodes.length>0&&Gd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),S.disconnect()}}},[n,l,y.paused]),g.useEffect(()=>{if(l){j5.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(q2,w5);l.addEventListener(q2,f),l.dispatchEvent(j),j.defaultPrevented||(rle(ole(t7(l)),{select:!0}),document.activeElement===b&&Gd(l))}return()=>{l.removeEventListener(q2,f),setTimeout(()=>{const j=new CustomEvent(z2,w5);l.addEventListener(z2,h),l.dispatchEvent(j),j.defaultPrevented||Gd(b??document.body,{select:!0}),l.removeEventListener(z2,h),j5.remove(y)},0)}}},[l,f,h,y]);const w=g.useCallback(b=>{if(!r&&!n||y.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(N&&j){const S=b.currentTarget,[A,_]=sle(S);A&&_?!b.shiftKey&&j===_?(b.preventDefault(),r&&Gd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Gd(_,{select:!0})):j===S&&b.preventDefault()}},[r,n,y.paused]);return s.jsx(It.div,{tabIndex:-1,...o,ref:x,onKeyDown:w})});e7.displayName=tle;function rle(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Gd(n,{select:t}),document.activeElement!==r)return}function sle(e){const t=t7(e),r=N5(t,e),n=N5(t.reverse(),e);return[r,n]}function t7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function N5(e,t){for(const r of e)if(!nle(r,{upTo:t}))return r}function nle(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ale(e){return e instanceof HTMLInputElement&&"select"in e}function Gd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ale(e)&&t&&e.select()}}var j5=ile();function ile(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=S5(e,t),e.unshift(t)},remove(t){var r;e=S5(e,t),(r=e[0])==null||r.resume()}}}function S5(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ole(e){return e.filter(t=>t.tagName!=="A")}var lle="Portal",r7=g.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=g.useState(!1);Cs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(s.jsx(It.div,{...n,ref:t}),o):null});r7.displayName=lle;function cle(e){const t=dle(e),r=g.forwardRef((n,a)=>{const{children:i,...o}=n,l=g.Children.toArray(i),u=l.find(fle);if(u){const f=u.props.children,h=l.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function dle(e){const t=g.forwardRef((r,n)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=mle(a),l=hle(i,a.props);return a.type!==g.Fragment&&(l.ref=n?Jc(n,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s7=Symbol("radix.slottable");function ule(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=s7,t}function fle(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s7}function hle(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function mle(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ow="Dialog",[n7,a7]=da(Ow),[ple,ul]=n7(Ow),i7=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),u=g.useRef(null),[f,h]=Ao({prop:n,defaultProp:a??!1,onChange:i,caller:Ow});return s.jsx(ple,{scope:t,triggerRef:l,contentRef:u,contentId:Ga(),titleId:Ga(),descriptionId:Ga(),open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:o,children:r})};i7.displayName=Ow;var o7="DialogTrigger",l7=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ul(o7,r),i=Zt(t,a.triggerRef);return s.jsx(It.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":xT(a.open),...n,ref:i,onClick:gt(e.onClick,a.onOpenToggle)})});l7.displayName=o7;var mT="DialogPortal",[xle,c7]=n7(mT,{forceMount:void 0}),d7=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ul(mT,t);return s.jsx(xle,{scope:t,forceMount:r,children:g.Children.map(n,o=>s.jsx(ei,{present:r||i.open,children:s.jsx(r7,{asChild:!0,container:a,children:o})}))})};d7.displayName=mT;var fb="DialogOverlay",u7=g.forwardRef((e,t)=>{const r=c7(fb,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ul(fb,e.__scopeDialog);return i.modal?s.jsx(ei,{present:n||i.open,children:s.jsx(yle,{...a,ref:t})}):null});u7.displayName=fb;var gle=cle("DialogOverlay.RemoveScroll"),yle=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ul(fb,r);return s.jsx(uh,{as:gle,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(It.div,{"data-state":xT(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Qf="DialogContent",f7=g.forwardRef((e,t)=>{const r=c7(Qf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ul(Qf,e.__scopeDialog);return s.jsx(ei,{present:n||i.open,children:i.modal?s.jsx(vle,{...a,ref:t}):s.jsx(ble,{...a,ref:t})})});f7.displayName=Qf;var vle=g.forwardRef((e,t)=>{const r=ul(Qf,e.__scopeDialog),n=g.useRef(null),a=Zt(t,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return zp(i)},[]),s.jsx(h7,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:gt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:gt(e.onFocusOutside,i=>i.preventDefault())})}),ble=g.forwardRef((e,t)=>{const r=ul(Qf,e.__scopeDialog),n=g.useRef(!1),a=g.useRef(!1);return s.jsx(h7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),h7=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ul(Qf,r),u=g.useRef(null),f=Zt(t,u);return Jg(),s.jsxs(s.Fragment,{children:[s.jsx(e7,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Z8,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xT(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Nle,{titleId:l.titleId}),s.jsx(Sle,{contentRef:u,descriptionId:l.descriptionId})]})]})}),pT="DialogTitle",m7=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ul(pT,r);return s.jsx(It.h2,{id:a.titleId,...n,ref:t})});m7.displayName=pT;var p7="DialogDescription",x7=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ul(p7,r);return s.jsx(It.p,{id:a.descriptionId,...n,ref:t})});x7.displayName=p7;var g7="DialogClose",y7=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ul(g7,r);return s.jsx(It.button,{type:"button",...n,ref:t,onClick:gt(e.onClick,()=>a.onOpenChange(!1))})});y7.displayName=g7;function xT(e){return e?"open":"closed"}var v7="DialogTitleWarning",[wle,b7]=UI(v7,{contentName:Qf,titleName:pT,docsSlug:"dialog"}),Nle=({titleId:e})=>{const t=b7(v7),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jle="DialogDescriptionWarning",Sle=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${b7(jle).contentName}}.`;return g.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Ele=i7,Ale=l7,Cle=d7,Tle=u7,_le=f7,kle=m7,Dle=x7,w7=y7,N7="AlertDialog",[Ole,RRe]=da(N7,[a7]),ed=a7(),j7=e=>{const{__scopeAlertDialog:t,...r}=e,n=ed(t);return s.jsx(Ele,{...n,...r,modal:!0})};j7.displayName=N7;var Rle="AlertDialogTrigger",S7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ed(r);return s.jsx(Ale,{...a,...n,ref:t})});S7.displayName=Rle;var Ple="AlertDialogPortal",E7=e=>{const{__scopeAlertDialog:t,...r}=e,n=ed(t);return s.jsx(Cle,{...n,...r})};E7.displayName=Ple;var Mle="AlertDialogOverlay",A7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ed(r);return s.jsx(Tle,{...a,...n,ref:t})});A7.displayName=Mle;var Gm="AlertDialogContent",[Ile,Fle]=Ole(Gm),Lle=ule("AlertDialogContent"),C7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=ed(r),o=g.useRef(null),l=Zt(t,o),u=g.useRef(null);return s.jsx(wle,{contentName:Gm,titleName:T7,docsSlug:"alert-dialog",children:s.jsx(Ile,{scope:r,cancelRef:u,children:s.jsxs(_le,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:gt(a.onOpenAutoFocus,f=>{var h;f.preventDefault(),(h=u.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[s.jsx(Lle,{children:n}),s.jsx($le,{contentRef:o})]})})})});C7.displayName=Gm;var T7="AlertDialogTitle",_7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ed(r);return s.jsx(kle,{...a,...n,ref:t})});_7.displayName=T7;var k7="AlertDialogDescription",D7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ed(r);return s.jsx(Dle,{...a,...n,ref:t})});D7.displayName=k7;var Ble="AlertDialogAction",O7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ed(r);return s.jsx(w7,{...a,...n,ref:t})});O7.displayName=Ble;var R7="AlertDialogCancel",P7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Fle(R7,r),i=ed(r),o=Zt(t,a);return s.jsx(w7,{...i,...n,ref:o})});P7.displayName=R7;var $le=({contentRef:e})=>{const t=`\`${Gm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gm}\` by passing a \`${k7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Ule=j7,Vle=S7,qle=E7,zle=A7,Hle=C7,Wle=O7,Gle=P7,Yle=_7,Kle=D7;function ua({...e}){return s.jsx(Ule,{"data-slot":"alert-dialog",...e})}function bh({...e}){return s.jsx(Vle,{"data-slot":"alert-dialog-trigger",...e})}function Qle({...e}){return s.jsx(qle,{"data-slot":"alert-dialog-portal",...e})}function Xle({className:e,...t}){return s.jsx(zle,{"data-slot":"alert-dialog-overlay",className:Ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function fa({className:e,...t}){return s.jsxs(Qle,{children:[s.jsx(Xle,{}),s.jsx(Hle,{"data-slot":"alert-dialog-content",className:Ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function ha({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:Ze("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ma({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:Ze("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function pa({className:e,...t}){return s.jsx(Yle,{"data-slot":"alert-dialog-title",className:Ze("text-lg font-semibold",e),...t})}function xa({className:e,...t}){return s.jsx(Kle,{"data-slot":"alert-dialog-description",className:Ze("text-muted-foreground text-sm",e),...t})}function ga({className:e,...t}){return s.jsx(Wle,{className:Ze(Np(),e),...t})}function ya({className:e,...t}){return s.jsx(Gle,{className:Ze(Np({variant:"outline"}),e),...t})}function Gr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Gi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function zn(e,t){const r=Gr(e);return isNaN(t)?Gi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function al(e,t){const r=Gr(e);if(isNaN(t))return Gi(e,NaN);if(!t)return r;const n=r.getDate(),a=Gi(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const gT=6048e5,Zle=864e5,M7=6e4,I7=36e5;let Jle={};function cy(){return Jle}function Yl(e,t){var l,u,f,h;const r=cy(),n=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,a=Gr(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Xf(e){return Yl(e,{weekStartsOn:1})}function F7(e){const t=Gr(e),r=t.getFullYear(),n=Gi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Xf(n),i=Gi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Xf(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Rc(e){const t=Gr(e);return t.setHours(0,0,0,0),t}function hb(e){const t=Gr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Il(e,t){const r=Rc(e),n=Rc(t),a=+r-hb(r),i=+n-hb(n);return Math.round((a-i)/Zle)}function ece(e){const t=F7(e),r=Gi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Xf(r)}function rA(e,t){const r=t*7;return zn(e,r)}function tce(e,t){return al(e,t*12)}function rce(e){let t;return e.forEach(function(r){const n=Gr(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function sce(e){let t;return e.forEach(r=>{const n=Gr(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function hi(e,t){const r=Rc(e),n=Rc(t);return+r==+n}function yT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nce(e){if(!yT(e)&&typeof e!="number")return!1;const t=Gr(e);return!isNaN(Number(t))}function bg(e,t){const r=Gr(e),n=Gr(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function ace(e,t,r){const n=Yl(e,r),a=Yl(t,r),i=+n-hb(n),o=+a-hb(a);return Math.round((i-o)/gT)}function vT(e){const t=Gr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function gi(e){const t=Gr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function L7(e){const t=Gr(e),r=Gi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function bT(e,t){var l,u,f,h;const r=cy(),n=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,a=Gr(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function B7(e){return bT(e,{weekStartsOn:1})}const ice={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oce=(e,t,r)=>{let n;const a=ice[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function H2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const lce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uce={date:H2({formats:lce,defaultWidth:"full"}),time:H2({formats:cce,defaultWidth:"full"}),dateTime:H2({formats:dce,defaultWidth:"full"})},fce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hce=(e,t,r,n)=>fce[e];function dx(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const mce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bce=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wce={ordinalNumber:bce,era:dx({values:mce,defaultWidth:"wide"}),quarter:dx({values:pce,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dx({values:xce,defaultWidth:"wide"}),day:dx({values:gce,defaultWidth:"wide"}),dayPeriod:dx({values:yce,defaultWidth:"wide",formattingValues:vce,defaultFormattingWidth:"wide"})};function ux(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?jce(l,p=>p.test(o)):Nce(l,p=>p.test(o));let f;f=e.valueCallback?e.valueCallback(u):u,f=r.valueCallback?r.valueCallback(f):f;const h=t.slice(o.length);return{value:f,rest:h}}}function Nce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function jce(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Sce(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Ece=/^(\d+)(th|st|nd|rd)?/i,Ace=/\d+/i,Cce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tce={any:[/^b/i,/^(a|c)/i]},_ce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kce={any:[/1/i,/2/i,/3/i,/4/i]},Dce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Oce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Pce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ice={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fce={ordinalNumber:Sce({matchPattern:Ece,parsePattern:Ace,valueCallback:e=>parseInt(e,10)}),era:ux({matchPatterns:Cce,defaultMatchWidth:"wide",parsePatterns:Tce,defaultParseWidth:"any"}),quarter:ux({matchPatterns:_ce,defaultMatchWidth:"wide",parsePatterns:kce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ux({matchPatterns:Dce,defaultMatchWidth:"wide",parsePatterns:Oce,defaultParseWidth:"any"}),day:ux({matchPatterns:Rce,defaultMatchWidth:"wide",parsePatterns:Pce,defaultParseWidth:"any"}),dayPeriod:ux({matchPatterns:Mce,defaultMatchWidth:"any",parsePatterns:Ice,defaultParseWidth:"any"})},$7={code:"en-US",formatDistance:oce,formatLong:uce,formatRelative:hce,localize:wce,match:Fce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lce(e){const t=Gr(e);return Il(t,L7(t))+1}function U7(e){const t=Gr(e),r=+Xf(t)-+ece(t);return Math.round(r/gT)+1}function V7(e,t){var h,p,x,y;const r=Gr(e),n=r.getFullYear(),a=cy(),i=(t==null?void 0:t.firstWeekContainsDate)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(x=a.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=Gi(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Yl(o,t),u=Gi(e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const f=Yl(u,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function Bce(e,t){var l,u,f,h;const r=cy(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,a=V7(e,t),i=Gi(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Yl(i,t)}function q7(e,t){const r=Gr(e),n=+Yl(r,t)-+Bce(r,t);return Math.round(n/gT)+1}function ms(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Bd={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ms(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ms(r+1,2)},d(e,t){return ms(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ms(e.getHours()%12||12,t.length)},H(e,t){return ms(e.getHours(),t.length)},m(e,t){return ms(e.getMinutes(),t.length)},s(e,t){return ms(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ms(a,t.length)}},gm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},E5={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Bd.y(e,t)},Y:function(e,t,r,n){const a=V7(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ms(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ms(i,t.length)},R:function(e,t){const r=F7(e);return ms(r,t.length)},u:function(e,t){const r=e.getFullYear();return ms(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ms(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ms(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Bd.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ms(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=q7(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ms(a,t.length)},I:function(e,t,r){const n=U7(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ms(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Bd.d(e,t)},D:function(e,t,r){const n=Lce(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ms(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ms(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ms(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ms(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=gm.noon:n===0?a=gm.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=gm.evening:n>=12?a=gm.afternoon:n>=4?a=gm.morning:a=gm.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Bd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Bd.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ms(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ms(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Bd.s(e,t)},S:function(e,t){return Bd.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return C5(n);case"XXXX":case"XX":return bf(n);case"XXXXX":case"XXX":default:return bf(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return C5(n);case"xxxx":case"xx":return bf(n);case"xxxxx":case"xxx":default:return bf(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+A5(n,":");case"OOOO":default:return"GMT"+bf(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+A5(n,":");case"zzzz":default:return"GMT"+bf(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ms(n,t.length)},T:function(e,t,r){const n=e.getTime();return ms(n,t.length)}};function A5(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+ms(i,2)}function C5(e,t){return e%60===0?(e>0?"-":"+")+ms(Math.abs(e)/60,2):bf(e,t)}function bf(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ms(Math.trunc(n/60),2),i=ms(n%60,2);return r+a+t+i}const T5=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},z7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$ce=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return T5(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",T5(n,t)).replace("{{time}}",z7(a,t))},Uce={p:z7,P:$ce},Vce=/^D+$/,qce=/^Y+$/,zce=["D","DD","YY","YYYY"];function Hce(e){return Vce.test(e)}function Wce(e){return qce.test(e)}function Gce(e,t,r){const n=Yce(e,t,r);if(console.warn(n),zce.includes(e))throw new RangeError(n)}function Yce(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xce=/^'([^]*?)'?$/,Zce=/''/g,Jce=/[a-zA-Z]/;function Lt(e,t,r){var h,p,x,y,w,b,N,j;const n=cy(),a=(r==null?void 0:r.locale)??n.locale??$7,i=(r==null?void 0:r.firstWeekContainsDate)??((p=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(x=n.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((b=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((j=(N=n.locale)==null?void 0:N.options)==null?void 0:j.weekStartsOn)??0,l=Gr(e);if(!nce(l))throw new RangeError("Invalid time value");let u=t.match(Qce).map(S=>{const A=S[0];if(A==="p"||A==="P"){const _=Uce[A];return _(S,a.formatLong)}return S}).join("").match(Kce).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const A=S[0];if(A==="'")return{isToken:!1,value:ede(S)};if(E5[A])return{isToken:!0,value:S};if(A.match(Jce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:S}});a.localize.preprocessor&&(u=a.localize.preprocessor(l,u));const f={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return u.map(S=>{if(!S.isToken)return S.value;const A=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Wce(A)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Hce(A))&&Gce(A,t,String(e));const _=E5[A[0]];return _(l,A,a.localize,f)}).join("")}function ede(e){const t=e.match(Xce);return t?t[1].replace(Zce,"'"):e}function tde(e){const t=Gr(e),r=t.getFullYear(),n=t.getMonth(),a=Gi(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function rde(e){return Math.trunc(+Gr(e)/1e3)}function sde(e){const t=Gr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function nde(e,t){return ace(sde(e),gi(e),t)+1}function Ym(e,t){const r=Gr(e),n=Gr(t);return r.getTime()>n.getTime()}function H7(e,t){const r=Gr(e),n=Gr(t);return+r<+n}function wT(e,t){const r=Gr(e),n=Gr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function ade(e,t){const r=Gr(e),n=Gr(t);return r.getFullYear()===n.getFullYear()}function W2(e,t){return zn(e,-t)}function ide(e,t){const n=dde(e);let a;if(n.date){const u=ude(n.date,2);a=fde(u.restDateString,u.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=hde(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=mde(n.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(i+o),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(i+o+l)}const Xv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ode=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lde=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,cde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dde(e){const t={},r=e.split(Xv.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Xv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Xv.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Xv.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function ude(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function fde(e,t){if(t===null)return new Date(NaN);const r=e.match(ode);if(!r)return new Date(NaN);const n=!!r[4],a=fx(r[1]),i=fx(r[2])-1,o=fx(r[3]),l=fx(r[4]),u=fx(r[5])-1;if(n)return vde(t,l,u)?pde(t,l,u):new Date(NaN);{const f=new Date(0);return!gde(t,i,o)||!yde(t,a)?new Date(NaN):(f.setUTCFullYear(t,i,Math.max(a,o)),f)}}function fx(e){return e?parseInt(e):1}function hde(e){const t=e.match(lde);if(!t)return NaN;const r=G2(t[1]),n=G2(t[2]),a=G2(t[3]);return bde(r,n,a)?r*I7+n*M7+a*1e3:NaN}function G2(e){return e&&parseFloat(e.replace(",","."))||0}function mde(e){if(e==="Z")return 0;const t=e.match(cde);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return wde(n,a)?r*(n*I7+a*M7):NaN}function pde(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const xde=[31,null,31,30,31,30,31,31,30,31,30,31];function W7(e){return e%400===0||e%4===0&&e%100!==0}function gde(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(xde[t]||(W7(e)?29:28))}function yde(e,t){return t>=1&&t<=(W7(e)?366:365)}function vde(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function bde(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function wde(e,t){return t>=0&&t<=59}function Y2(e,t){const r=Gr(e),n=r.getFullYear(),a=r.getDate(),i=Gi(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=tde(i);return r.setMonth(t,Math.min(a,o)),r}function _5(e,t){const r=Gr(e);return isNaN(+r)?Gi(e,NaN):(r.setFullYear(t),r)}function At({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:Ze("bg-card text-card-foreground flex flex-col gap-6 rounded-xl py-6 shadow",e),...t})}function Dt({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:Ze("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function rr({className:e,...t}){return s.jsx("div",{"data-slot":"card-title",className:Ze("leading-none font-semibold",e),...t})}function yi({className:e,...t}){return s.jsx("div",{"data-slot":"card-description",className:Ze("text-muted-foreground text-sm",e),...t})}function Tt({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:Ze("px-6",e),...t})}function $u({className:e,...t}){return s.jsx("div",{"data-slot":"card-footer",className:Ze("flex items-center px-6 [.border-t]:pt-6",e),...t})}function Ls({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:Ze("w-full caption-bottom text-sm",e),...t})})}function Bs({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:Ze("[&_tr]:border-b",e),...t})}function $s({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:Ze("[&_tr:last-child]:border-0",e),...t})}function tr({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:Ze("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ye({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:Ze("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Ue({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:Ze("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Nde({className:e,...t}){return s.jsx("caption",{"data-slot":"table-caption",className:Ze("text-muted-foreground mt-4 text-sm",e),...t})}function e0({className:e,...t}){return s.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:Ze("mx-auto flex w-full justify-center",e),...t})}function t0({className:e,...t}){return s.jsx("ul",{"data-slot":"pagination-content",className:Ze("flex flex-row items-center gap-1",e),...t})}function $d({...e}){return s.jsx("li",{"data-slot":"pagination-item",...e})}function Rm({className:e,isActive:t,size:r="icon",...n}){return s.jsx("a",{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:Ze(Np({variant:t?"outline":"ghost",size:r}),e),...n})}function r0({className:e,...t}){return s.jsxs(Rm,{"aria-label":"Go to previous page",size:"default",className:Ze("gap-1 px-2.5 sm:pl-2.5",e),...t,children:[s.jsx(Bp,{}),s.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function s0({className:e,...t}){return s.jsxs(Rm,{"aria-label":"Go to next page",size:"default",className:Ze("gap-1 px-2.5 sm:pr-2.5",e),...t,children:[s.jsx("span",{className:"hidden sm:block",children:"Next"}),s.jsx(Nu,{})]})}var jde="DismissableLayer",sA="dismissableLayer.update",Sde="dismissableLayer.pointerDownOutside",Ede="dismissableLayer.focusOutside",k5,G7=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Y7=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(G7),[h,p]=g.useState(null),x=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),w=Zt(t,T=>p(T)),b=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(N),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,_=S>=j,C=Tde(T=>{const O=T.target,R=[...f.branches].some(L=>L.contains(O));!_||R||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},x),k=_de(T=>{const O=T.target;[...f.branches].some(L=>L.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},x);return qp(T=>{S===f.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},x),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(k5=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),D5(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=k5)}},[h,x,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),D5())},[h,f]),g.useEffect(()=>{const T=()=>y({});return document.addEventListener(sA,T),()=>document.removeEventListener(sA,T)},[]),s.jsx(It.div,{...u,ref:w,style:{pointerEvents:A?_?"auto":"none":void 0,...e.style},onFocusCapture:gt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:gt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:gt(e.onPointerDownCapture,C.onPointerDownCapture)})});Y7.displayName=jde;var Ade="DismissableLayerBranch",Cde=g.forwardRef((e,t)=>{const r=g.useContext(G7),n=g.useRef(null),a=Zt(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(It.div,{...e,ref:a})});Cde.displayName=Ade;function Tde(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let u=function(){K7(Sde,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function _de(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!n.current&&K7(Ede,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function D5(){const e=new CustomEvent(sA);document.dispatchEvent(e)}function K7(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Yp(a,i):a.dispatchEvent(i)}var K2="focusScope.autoFocusOnMount",Q2="focusScope.autoFocusOnUnmount",O5={bubbles:!1,cancelable:!0},kde="FocusScope",Q7=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=vs(a),h=vs(i),p=g.useRef(null),x=Zt(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let b=function(A){if(y.paused||!l)return;const _=A.target;l.contains(_)?p.current=_:Yd(p.current,{select:!0})},N=function(A){if(y.paused||!l)return;const _=A.relatedTarget;_!==null&&(l.contains(_)||Yd(p.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const C of A)C.removedNodes.length>0&&Yd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),S.disconnect()}}},[n,l,y.paused]),g.useEffect(()=>{if(l){P5.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(K2,O5);l.addEventListener(K2,f),l.dispatchEvent(j),j.defaultPrevented||(Dde(Ide(X7(l)),{select:!0}),document.activeElement===b&&Yd(l))}return()=>{l.removeEventListener(K2,f),setTimeout(()=>{const j=new CustomEvent(Q2,O5);l.addEventListener(Q2,h),l.dispatchEvent(j),j.defaultPrevented||Yd(b??document.body,{select:!0}),l.removeEventListener(Q2,h),P5.remove(y)},0)}}},[l,f,h,y]);const w=g.useCallback(b=>{if(!r&&!n||y.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(N&&j){const S=b.currentTarget,[A,_]=Ode(S);A&&_?!b.shiftKey&&j===_?(b.preventDefault(),r&&Yd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Yd(_,{select:!0})):j===S&&b.preventDefault()}},[r,n,y.paused]);return s.jsx(It.div,{tabIndex:-1,...o,ref:x,onKeyDown:w})});Q7.displayName=kde;function Dde(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Yd(n,{select:t}),document.activeElement!==r)return}function Ode(e){const t=X7(e),r=R5(t,e),n=R5(t.reverse(),e);return[r,n]}function X7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function R5(e,t){for(const r of e)if(!Rde(r,{upTo:t}))return r}function Rde(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Pde(e){return e instanceof HTMLInputElement&&"select"in e}function Yd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Pde(e)&&t&&e.select()}}var P5=Mde();function Mde(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=M5(e,t),e.unshift(t)},remove(t){var r;e=M5(e,t),(r=e[0])==null||r.resume()}}}function M5(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ide(e){return e.filter(t=>t.tagName!=="A")}var Fde="Portal",Z7=g.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=g.useState(!1);Cs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(s.jsx(It.div,{...n,ref:t}),o):null});Z7.displayName=Fde;function Lde(e){const t=Bde(e),r=g.forwardRef((n,a)=>{const{children:i,...o}=n,l=g.Children.toArray(i),u=l.find(Ude);if(u){const f=u.props.children,h=l.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Bde(e){const t=g.forwardRef((r,n)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=qde(a),l=Vde(i,a.props);return a.type!==g.Fragment&&(l.ref=n?Jc(n,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $de=Symbol("radix.slottable");function Ude(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$de}function Vde(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function qde(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rw="Popover",[J7,PRe]=da(Rw,[Bu]),dy=Bu(),[zde,Uu]=J7(Rw),e9=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=dy(t),u=g.useRef(null),[f,h]=g.useState(!1),[p,x]=Ao({prop:n,defaultProp:a??!1,onChange:i,caller:Rw});return s.jsx(bw,{...l,children:s.jsx(zde,{scope:t,contentId:Ga(),triggerRef:u,open:p,onOpenChange:x,onOpenToggle:g.useCallback(()=>x(y=>!y),[x]),hasCustomAnchor:f,onCustomAnchorAdd:g.useCallback(()=>h(!0),[]),onCustomAnchorRemove:g.useCallback(()=>h(!1),[]),modal:o,children:r})})};e9.displayName=Rw;var t9="PopoverAnchor",Hde=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Uu(t9,r),i=dy(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return g.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(sy,{...i,...n,ref:t})});Hde.displayName=t9;var r9="PopoverTrigger",s9=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Uu(r9,r),i=dy(r),o=Zt(t,a.triggerRef),l=s.jsx(It.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":l9(a.open),...n,ref:o,onClick:gt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(sy,{asChild:!0,...i,children:l})});s9.displayName=r9;var NT="PopoverPortal",[Wde,Gde]=J7(NT,{forceMount:void 0}),n9=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Uu(NT,t);return s.jsx(Wde,{scope:t,forceMount:r,children:s.jsx(ei,{present:r||i.open,children:s.jsx(Z7,{asChild:!0,container:a,children:n})})})};n9.displayName=NT;var Ep="PopoverContent",a9=g.forwardRef((e,t)=>{const r=Gde(Ep,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Uu(Ep,e.__scopePopover);return s.jsx(ei,{present:n||i.open,children:i.modal?s.jsx(Kde,{...a,ref:t}):s.jsx(Qde,{...a,ref:t})})});a9.displayName=Ep;var Yde=Lde("PopoverContent.RemoveScroll"),Kde=g.forwardRef((e,t)=>{const r=Uu(Ep,e.__scopePopover),n=g.useRef(null),a=Zt(t,n),i=g.useRef(!1);return g.useEffect(()=>{const o=n.current;if(o)return zp(o)},[]),s.jsx(uh,{as:Yde,allowPinchZoom:!0,children:s.jsx(i9,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:gt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:gt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Qde=g.forwardRef((e,t)=>{const r=Uu(Ep,e.__scopePopover),n=g.useRef(!1),a=g.useRef(!1);return s.jsx(i9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),i9=g.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,...p}=e,x=Uu(Ep,r),y=dy(r);return Jg(),s.jsx(Q7,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Y7,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:s.jsx(ww,{"data-state":l9(x.open),role:"dialog",id:x.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),o9="PopoverClose",Xde=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Uu(o9,r);return s.jsx(It.button,{type:"button",...n,ref:t,onClick:gt(e.onClick,()=>a.onOpenChange(!1))})});Xde.displayName=o9;var Zde="PopoverArrow",Jde=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=dy(r);return s.jsx(Nw,{...a,...n,ref:t})});Jde.displayName=Zde;function l9(e){return e?"open":"closed"}var eue=e9,tue=s9,rue=n9,sue=a9;function td({...e}){return s.jsx(eue,{"data-slot":"popover",...e})}function rd({...e}){return s.jsx(tue,{"data-slot":"popover-trigger",...e})}function sd({className:e,align:t="center",sideOffset:r=4,...n}){return s.jsx(rue,{children:s.jsx(sue,{"data-slot":"popover-content",align:t,sideOffset:r,className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}var ur=function(){return ur=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ur.apply(this,arguments)};function nue(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function c9(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function uy(e){return e.mode==="multiple"}function fy(e){return e.mode==="range"}function Pw(e){return e.mode==="single"}var aue={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function iue(e,t){return Lt(e,"LLLL y",t)}function oue(e,t){return Lt(e,"d",t)}function lue(e,t){return Lt(e,"LLLL",t)}function cue(e){return"".concat(e)}function due(e,t){return Lt(e,"cccccc",t)}function uue(e,t){return Lt(e,"yyyy",t)}var fue=Object.freeze({__proto__:null,formatCaption:iue,formatDay:oue,formatMonthCaption:lue,formatWeekNumber:cue,formatWeekdayName:due,formatYearCaption:uue}),hue=function(e,t,r){return Lt(e,"do MMMM (EEEE)",r)},mue=function(){return"Month: "},pue=function(){return"Go to next month"},xue=function(){return"Go to previous month"},gue=function(e,t){return Lt(e,"cccc",t)},yue=function(e){return"Week n. ".concat(e)},vue=function(){return"Year: "},bue=Object.freeze({__proto__:null,labelDay:hue,labelMonthDropdown:mue,labelNext:pue,labelPrevious:xue,labelWeekNumber:yue,labelWeekday:gue,labelYearDropdown:vue});function wue(){var e="buttons",t=aue,r=$7,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:fue,labels:bue,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Nue(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=gi(n):t&&(i=new Date(t,0,1)),a?o=vT(a):r&&(o=new Date(r,11,31)),{fromDate:i?Rc(i):void 0,toDate:o?Rc(o):void 0}}var d9=g.createContext(void 0);function jue(e){var t,r=e.initialProps,n=wue(),a=Nue(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var u;(Pw(r)||uy(r)||fy(r))&&(u=r.onSelect);var f=ur(ur(ur({},n),r),{captionLayout:l,classNames:ur(ur({},n.classNames),r.classNames),components:ur({},r.components),formatters:ur(ur({},n.formatters),r.formatters),fromDate:i,labels:ur(ur({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ur(ur({},n.modifiers),r.modifiers),modifiersClassNames:ur(ur({},n.modifiersClassNames),r.modifiersClassNames),onSelect:u,styles:ur(ur({},n.styles),r.styles),toDate:o});return s.jsx(d9.Provider,{value:f,children:e.children})}function Os(){var e=g.useContext(d9);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function u9(e){var t=Os(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Sue(e){return s.jsx("svg",ur({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function f9(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,u=e.style,f=Os(),h=(r=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Sue;return s.jsxs("div",{className:l,style:u,children:[s.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(h,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function Eue(e){var t,r=Os(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,u=r.classNames,f=r.components,h=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var p=[];if(ade(n,a))for(var x=gi(n),y=n.getMonth();y<=a.getMonth();y++)p.push(Y2(x,y));else for(var x=gi(new Date),y=0;y<=11;y++)p.push(Y2(x,y));var w=function(N){var j=Number(N.target.value),S=Y2(gi(e.displayMonth),j);e.onChange(S)},b=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:f9;return s.jsx(b,{name:"months","aria-label":h(),className:u.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:p.map(function(N){return s.jsx("option",{value:N.getMonth(),children:l(N,{locale:o})},N.getMonth())})})}function Aue(e){var t,r=e.displayMonth,n=Os(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,u=n.classNames,f=n.components,h=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,x=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var y=a.getFullYear(),w=i.getFullYear(),b=y;b<=w;b++)x.push(_5(L7(new Date),b));var N=function(S){var A=_5(gi(r),Number(S.target.value));e.onChange(A)},j=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:f9;return s.jsx(j,{name:"years","aria-label":p(),className:u.dropdown_year,style:l.dropdown_year,onChange:N,value:r.getFullYear(),caption:h(r,{locale:o}),children:x.map(function(S){return s.jsx("option",{value:S.getFullYear(),children:h(S,{locale:o})},S.getFullYear())})})}function Cue(e,t){var r=g.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function Tue(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,u=l===void 0?1:l;if(i&&bg(i,a)<0){var f=-1*(u-1);a=al(i,f)}return o&&bg(a,o)<0&&(a=o),gi(a)}function _ue(){var e=Os(),t=Tue(e),r=Cue(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var u=gi(o);a(u),(l=e.onMonthChange)===null||l===void 0||l.call(e,u)}};return[n,i]}function kue(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=gi(e),i=gi(al(a,n)),o=bg(i,a),l=[],u=0;u<o;u++){var f=al(a,u);l.push(f)}return r&&(l=l.reverse()),l}function Due(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=gi(e);if(!r)return al(l,o);var u=bg(r,e);if(!(u<i))return al(l,o)}}function Oue(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=gi(e);if(!r)return al(l,-o);var u=bg(l,r);if(!(u<=0))return al(l,-o)}}var h9=g.createContext(void 0);function Rue(e){var t=Os(),r=_ue(),n=r[0],a=r[1],i=kue(n,t),o=Due(n,t),l=Oue(n,t),u=function(p){return i.some(function(x){return wT(p,x)})},f=function(p,x){u(p)||(x&&H7(p,x)?a(al(p,1+t.numberOfMonths*-1)):a(p))},h={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:f,previousMonth:l,nextMonth:o,isDateDisplayed:u};return s.jsx(h9.Provider,{value:h,children:e.children})}function hy(){var e=g.useContext(h9);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function I5(e){var t,r=Os(),n=r.classNames,a=r.styles,i=r.components,o=hy().goToMonth,l=function(h){o(al(h,e.displayIndex?-e.displayIndex:0))},u=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:u9,f=s.jsx(u,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:f}),s.jsx(Eue,{onChange:l,displayMonth:e.displayMonth}),s.jsx(Aue,{onChange:l,displayMonth:e.displayMonth})]})}function Pue(e){return s.jsx("svg",ur({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Mue(e){return s.jsx("svg",ur({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var mb=g.forwardRef(function(e,t){var r=Os(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=ur(ur({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",ur({},e,{ref:t,type:"button",className:o,style:l}))});function Iue(e){var t,r,n=Os(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,u=n.labels,f=u.labelPrevious,h=u.labelNext,p=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var x=f(e.previousMonth,{locale:i}),y=[o.nav_button,o.nav_button_previous].join(" "),w=h(e.nextMonth,{locale:i}),b=[o.nav_button,o.nav_button_next].join(" "),N=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:Mue,j=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:Pue;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(mb,{name:"previous-month","aria-label":x,className:y,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(N,{className:o.nav_icon,style:l.nav_icon}):s.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(mb,{name:"next-month","aria-label":w,className:b,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(j,{className:o.nav_icon,style:l.nav_icon}):s.jsx(N,{className:o.nav_icon,style:l.nav_icon})})]})}function F5(e){var t=Os().numberOfMonths,r=hy(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(w){return wT(e.displayMonth,w)}),u=l===0,f=l===o.length-1,h=t>1&&(u||!f),p=t>1&&(f||!u),x=function(){n&&i(n)},y=function(){a&&i(a)};return s.jsx(Iue,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:p,nextMonth:a,previousMonth:n,onPreviousClick:x,onNextClick:y})}function Fue(e){var t,r=Os(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,u=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:u9,f;return a?f=s.jsx(u,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?f=s.jsx(I5,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?f=s.jsxs(s.Fragment,{children:[s.jsx(I5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(F5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=s.jsxs(s.Fragment,{children:[s.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(F5,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:f})}function Lue(e){var t=Os(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function Bue(e,t,r){for(var n=r?Xf(new Date):Yl(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=zn(n,i);a.push(o)}return a}function $ue(){var e=Os(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,f=Bue(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),f.map(function(h,p){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":u(h,{locale:a}),children:l(h,{locale:a})},p)})]})}function Uue(){var e,t=Os(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:$ue;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function Vue(e){var t=Os(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var jT=g.createContext(void 0);function que(e){if(!uy(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(jT.Provider,{value:t,children:e.children})}return s.jsx(zue,{initialProps:e.initialProps,children:e.children})}function zue(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(f,h,p){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,f,h,p);var w=!!(h.selected&&a&&(n==null?void 0:n.length)===a);if(!w){var b=!!(!h.selected&&i&&(n==null?void 0:n.length)===i);if(!b){var N=n?c9([],n):[];if(h.selected){var j=N.findIndex(function(S){return hi(f,S)});N.splice(j,1)}else N.push(f);(y=t.onSelect)===null||y===void 0||y.call(t,N,f,h,p)}}},l={disabled:[]};n&&l.disabled.push(function(f){var h=i&&n.length>i-1,p=n.some(function(x){return hi(x,f)});return!!(h&&!p)});var u={selected:n,onDayClick:o,modifiers:l};return s.jsx(jT.Provider,{value:u,children:r})}function ST(){var e=g.useContext(jT);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Hue(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?hi(a,e)&&hi(n,e)?void 0:hi(a,e)?{from:a,to:void 0}:hi(n,e)?void 0:Ym(n,e)?{from:e,to:a}:{from:n,to:e}:a?Ym(e,a)?{from:a,to:e}:{from:e,to:a}:n?H7(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var ET=g.createContext(void 0);function Wue(e){if(!fy(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(ET.Provider,{value:t,children:e.children})}return s.jsx(Gue,{initialProps:e.initialProps,children:e.children})}function Gue(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,u=t.max,f=function(y,w,b){var N,j;(N=t.onDayClick)===null||N===void 0||N.call(t,y,w,b);var S=Hue(y,n);(j=t.onSelect)===null||j===void 0||j.call(t,S,y,w,b)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(h.range_start=[i],o?(h.range_end=[o],hi(i,o)||(h.range_middle=[{after:i,before:o}])):h.range_end=[i]):o&&(h.range_start=[o],h.range_end=[o]),l&&(i&&!o&&h.disabled.push({after:W2(i,l-1),before:zn(i,l-1)}),i&&o&&h.disabled.push({after:i,before:zn(i,l-1)}),!i&&o&&h.disabled.push({after:W2(o,l-1),before:zn(o,l-1)})),u){if(i&&!o&&(h.disabled.push({before:zn(i,-u+1)}),h.disabled.push({after:zn(i,u-1)})),i&&o){var p=Il(o,i)+1,x=u-p;h.disabled.push({before:W2(i,x)}),h.disabled.push({after:zn(o,x)})}!i&&o&&(h.disabled.push({before:zn(o,-u+1)}),h.disabled.push({after:zn(o,u-1)}))}return s.jsx(ET.Provider,{value:{selected:n,onDayClick:f,modifiers:h},children:r})}function AT(){var e=g.useContext(ET);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function P1(e){return Array.isArray(e)?c9([],e):e!==void 0?[e]:[]}function Yue(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=P1(a)}),t}var il;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(il||(il={}));var Kue=il.Selected,bc=il.Disabled,Que=il.Hidden,Xue=il.Today,X2=il.RangeEnd,Z2=il.RangeMiddle,J2=il.RangeStart,Zue=il.Outside;function Jue(e,t,r){var n,a=(n={},n[Kue]=P1(e.selected),n[bc]=P1(e.disabled),n[Que]=P1(e.hidden),n[Xue]=[e.today],n[X2]=[],n[Z2]=[],n[J2]=[],n[Zue]=[],n);return e.fromDate&&a[bc].push({before:e.fromDate}),e.toDate&&a[bc].push({after:e.toDate}),uy(e)?a[bc]=a[bc].concat(t.modifiers[bc]):fy(e)&&(a[bc]=a[bc].concat(r.modifiers[bc]),a[J2]=r.modifiers[J2],a[Z2]=r.modifiers[Z2],a[X2]=r.modifiers[X2]),a}var m9=g.createContext(void 0);function efe(e){var t=Os(),r=ST(),n=AT(),a=Jue(t,r,n),i=Yue(t.modifiers),o=ur(ur({},a),i);return s.jsx(m9.Provider,{value:o,children:e.children})}function p9(){var e=g.useContext(m9);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function tfe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function rfe(e){return!!(e&&typeof e=="object"&&"from"in e)}function sfe(e){return!!(e&&typeof e=="object"&&"after"in e)}function nfe(e){return!!(e&&typeof e=="object"&&"before"in e)}function afe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ife(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=Il(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=Il(e,n)>=0&&Il(a,e)>=0;return o}return a?hi(a,e):n?hi(n,e):!1}function ofe(e){return yT(e)}function lfe(e){return Array.isArray(e)&&e.every(yT)}function cfe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(ofe(r))return hi(e,r);if(lfe(r))return r.includes(e);if(rfe(r))return ife(e,r);if(afe(r))return r.dayOfWeek.includes(e.getDay());if(tfe(r)){var n=Il(r.before,e),a=Il(r.after,e),i=n>0,o=a<0,l=Ym(r.before,r.after);return l?o&&i:i||o}return sfe(r)?Il(e,r.after)>0:nfe(r)?Il(r.before,e)>0:typeof r=="function"?r(e):!1})}function CT(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return cfe(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!wT(e,r)&&(a.outside=!0),a}function dfe(e,t){for(var r=gi(e[0]),n=vT(e[e.length-1]),a,i,o=r;o<=n;){var l=CT(o,t),u=!l.disabled&&!l.hidden;if(!u){o=zn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=zn(o,1)}return i||a}var ufe=365;function x9(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,u=a.weekStartsOn,f=a.fromDate,h=a.toDate,p=a.locale,x={day:zn,week:rA,month:al,year:tce,startOfWeek:function(N){return a.ISOWeek?Xf(N):Yl(N,{locale:p,weekStartsOn:u})},endOfWeek:function(N){return a.ISOWeek?B7(N):bT(N,{locale:p,weekStartsOn:u})}},y=x[r](e,n==="after"?1:-1);n==="before"&&f?y=rce([f,y]):n==="after"&&h&&(y=sce([h,y]));var w=!0;if(i){var b=CT(y,i);w=!b.disabled&&!b.hidden}return w?y:l.count>ufe?l.lastFocused:x9(y,{moveBy:r,direction:n,context:a,modifiers:i,retry:ur(ur({},l),{count:l.count+1})})}var g9=g.createContext(void 0);function ffe(e){var t=hy(),r=p9(),n=g.useState(),a=n[0],i=n[1],o=g.useState(),l=o[0],u=o[1],f=dfe(t.displayMonths,r),h=a??(l&&t.isDateDisplayed(l))?l:f,p=function(){u(a),i(void 0)},x=function(N){i(N)},y=Os(),w=function(N,j){if(a){var S=x9(a,{moveBy:N,direction:j,context:y,modifiers:r});hi(a,S)||(t.goToDate(S,a),x(S))}},b={focusedDay:a,focusTarget:h,blur:p,focus:x,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return s.jsx(g9.Provider,{value:b,children:e.children})}function TT(){var e=g.useContext(g9);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function hfe(e,t){var r=p9(),n=CT(e,r,t);return n}var _T=g.createContext(void 0);function mfe(e){if(!Pw(e.initialProps)){var t={selected:void 0};return s.jsx(_T.Provider,{value:t,children:e.children})}return s.jsx(pfe,{initialProps:e.initialProps,children:e.children})}function pfe(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var u,f,h;if((u=t.onDayClick)===null||u===void 0||u.call(t,i,o,l),o.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,i,o,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(_T.Provider,{value:a,children:r})}function y9(){var e=g.useContext(_T);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function xfe(e,t){var r=Os(),n=y9(),a=ST(),i=AT(),o=TT(),l=o.focusDayAfter,u=o.focusDayBefore,f=o.focusWeekAfter,h=o.focusWeekBefore,p=o.blur,x=o.focus,y=o.focusMonthBefore,w=o.focusMonthAfter,b=o.focusYearBefore,N=o.focusYearAfter,j=o.focusStartOfWeek,S=o.focusEndOfWeek,A=function(U){var F,W,q,Q;Pw(r)?(F=n.onDayClick)===null||F===void 0||F.call(n,e,t,U):uy(r)?(W=a.onDayClick)===null||W===void 0||W.call(a,e,t,U):fy(r)?(q=i.onDayClick)===null||q===void 0||q.call(i,e,t,U):(Q=r.onDayClick)===null||Q===void 0||Q.call(r,e,t,U)},_=function(U){var F;x(e),(F=r.onDayFocus)===null||F===void 0||F.call(r,e,t,U)},C=function(U){var F;p(),(F=r.onDayBlur)===null||F===void 0||F.call(r,e,t,U)},k=function(U){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,e,t,U)},T=function(U){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,e,t,U)},O=function(U){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,e,t,U)},R=function(U){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,e,t,U)},L=function(U){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,e,t,U)},M=function(U){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,e,t,U)},G=function(U){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,e,t,U)},V=function(U){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,e,t,U)},ie=function(U){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,e,t,U)},le=function(U){var F;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?l():u();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?u():l();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),f();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),h();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?b():y();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?N():w();break;case"Home":U.preventDefault(),U.stopPropagation(),j();break;case"End":U.preventDefault(),U.stopPropagation(),S();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,e,t,U)},B={onClick:A,onFocus:_,onBlur:C,onKeyDown:le,onKeyUp:ie,onMouseEnter:k,onMouseLeave:T,onPointerEnter:O,onPointerLeave:R,onTouchCancel:L,onTouchEnd:M,onTouchMove:G,onTouchStart:V};return B}function gfe(){var e=Os(),t=y9(),r=ST(),n=AT(),a=Pw(e)?t.selected:uy(e)?r.selected:fy(e)?n.selected:void 0;return a}function yfe(e){return Object.values(il).includes(e)}function vfe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(yfe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function bfe(e,t){var r=ur({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=ur(ur({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function wfe(e,t,r){var n,a,i,o=Os(),l=TT(),u=hfe(e,t),f=xfe(e,u),h=gfe(),p=!!(o.onDayClick||o.mode!=="default");g.useEffect(function(){var k;u.outside||l.focusedDay&&p&&hi(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,p,u.outside]);var x=vfe(o,u).join(" "),y=bfe(o,u),w=!!(u.outside&&!o.showOutsideDays||u.hidden),b=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Vue,N=s.jsx(b,{date:e,displayMonth:t,activeModifiers:u}),j={style:y,className:x,children:N,role:"gridcell"},S=l.focusTarget&&hi(l.focusTarget,e)&&!u.outside,A=l.focusedDay&&hi(l.focusedDay,e),_=ur(ur(ur({},j),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=A||S?0:-1,n)),f),C={isButton:p,isHidden:w,activeModifiers:u,selectedDays:h,buttonProps:_,divProps:j};return C}function Nfe(e){var t=g.useRef(null),r=wfe(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(mb,ur({name:"day",ref:t},r.buttonProps)):s.jsx("div",ur({},r.divProps))}function jfe(e){var t=e.number,r=e.dates,n=Os(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,u=n.labels.labelWeekNumber,f=n.formatters.formatWeekNumber,h=f(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:h});var p=u(Number(t),{locale:l}),x=function(y){a(t,r,y)};return s.jsx(mb,{name:"week-number","aria-label":p,className:o.weeknumber,style:i.weeknumber,onClick:x,children:h})}function Sfe(e){var t,r,n=Os(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,u=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Nfe,f=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:jfe,h;return o&&(h=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(f,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[h,e.dates.map(function(p){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(u,{displayMonth:e.displayMonth,date:p})},rde(p))})]})}function L5(e,t,r){for(var n=r!=null&&r.ISOWeek?B7(t):bT(t,r),a=r!=null&&r.ISOWeek?Xf(e):Yl(e,r),i=Il(n,a),o=[],l=0;l<=i;l++)o.push(zn(a,l));var u=o.reduce(function(f,h){var p=r!=null&&r.ISOWeek?U7(h):q7(h,r),x=f.find(function(y){return y.weekNumber===p});return x?(x.dates.push(h),f):(f.push({weekNumber:p,dates:[h]}),f)},[]);return u}function Efe(e,t){var r=L5(gi(e),vT(e),t);if(t!=null&&t.useFixedWeeks){var n=nde(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=rA(i,6-n),l=L5(rA(i,1),o,t);r.push.apply(r,l)}}return r}function Afe(e){var t,r,n,a=Os(),i=a.locale,o=a.classNames,l=a.styles,u=a.hideHead,f=a.fixedWeeks,h=a.components,p=a.weekStartsOn,x=a.firstWeekContainsDate,y=a.ISOWeek,w=Efe(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:y,locale:i,weekStartsOn:p,firstWeekContainsDate:x}),b=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:Uue,N=(r=h==null?void 0:h.Row)!==null&&r!==void 0?r:Sfe,j=(n=h==null?void 0:h.Footer)!==null&&n!==void 0?n:Lue;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&s.jsx(b,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:w.map(function(S){return s.jsx(N,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),s.jsx(j,{displayMonth:e.displayMonth})]})}function Cfe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Tfe=Cfe()?g.useLayoutEffect:g.useEffect,eS=!1,_fe=0;function B5(){return"react-day-picker-".concat(++_fe)}function kfe(e){var t,r=e??(eS?B5():null),n=g.useState(r),a=n[0],i=n[1];return Tfe(function(){a===null&&i(B5())},[]),g.useEffect(function(){eS===!1&&(eS=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Dfe(e){var t,r,n=Os(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,u=hy().displayMonths,f=kfe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),h=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,p=[i.month],x=o.month,y=e.displayIndex===0,w=e.displayIndex===u.length-1,b=!y&&!w;a==="rtl"&&(t=[y,w],w=t[0],y=t[1]),y&&(p.push(i.caption_start),x=ur(ur({},x),o.caption_start)),w&&(p.push(i.caption_end),x=ur(ur({},x),o.caption_end)),b&&(p.push(i.caption_between),x=ur(ur({},x),o.caption_between));var N=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Fue;return s.jsxs("div",{className:p.join(" "),style:x,children:[s.jsx(N,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Afe,{id:h,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function Ofe(e){var t=Os(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function Rfe(e){var t,r,n=e.initialProps,a=Os(),i=TT(),o=hy(),l=g.useState(!1),u=l[0],f=l[1];g.useEffect(function(){a.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),f(!0)))},[a.initialFocus,u,i.focus,i.focusTarget,i]);var h=[a.classNames.root,a.className];a.numberOfMonths>1&&h.push(a.classNames.multiple_months),a.showWeekNumber&&h.push(a.classNames.with_weeknumber);var p=ur(ur({},a.styles.root),a.style),x=Object.keys(n).filter(function(w){return w.startsWith("data-")}).reduce(function(w,b){var N;return ur(ur({},w),(N={},N[b]=n[b],N))},{}),y=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Ofe;return s.jsx("div",ur({className:h.join(" "),style:p,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},x,{children:s.jsx(y,{children:o.displayMonths.map(function(w,b){return s.jsx(Dfe,{displayIndex:b,displayMonth:w},b)})})}))}function Pfe(e){var t=e.children,r=nue(e,["children"]);return s.jsx(jue,{initialProps:r,children:s.jsx(Rue,{children:s.jsx(mfe,{initialProps:r,children:s.jsx(que,{initialProps:r,children:s.jsx(Wue,{initialProps:r,children:s.jsx(efe,{children:s.jsx(ffe,{children:t})})})})})})})}function Mfe(e){return s.jsx(Pfe,ur({},e,{children:s.jsx(Rfe,{initialProps:e})}))}function nd({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(Mfe,{showOutsideDays:r,className:Ze("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Ze(Np({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Ze("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Ze(Np({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-gray-700-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-gray-700-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>s.jsx(Bp,{className:Ze("size-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(Nu,{className:Ze("size-4",a),...i})},...n})}const Ife=()=>{const[e,t]=g.useState(1),r=10,[n,a]=g.useState(""),[i,o]=g.useState(""),[l,u]=g.useState(),f=g.useRef(null),[h,p]=g.useState(null),x=g.useCallback(k=>{a(k.target.value)},[]);g.useEffect(()=>(f.current&&window.clearTimeout(f.current),f.current=window.setTimeout(()=>o(n),400),()=>{f.current&&window.clearTimeout(f.current)}),[n]);const{data:y,isLoading:w,isError:b,refetch:N}=jr({queryKey:["wastages",e,i,l],queryFn:async()=>{let k=`/wastages?page=${e}&limit=${r}`;return i&&(k+=`&search=${i}`),l&&(k+=`&date=${Lt(l,"yyyy-MM-dd")}`),ut(k)}}),j=(y==null?void 0:y.data)||[],S=(y==null?void 0:y.totalPages)||1,A=()=>{a(""),o(""),u(void 0),t(1)},_=k=>k.reduce((T,O)=>T+(O.quantity||0),0),C=async()=>{if(h)try{await Ln(`/wastages/${h}`),he.success("Wastage deleted"),N(),p(null)}catch(k){he.error(k.message||"Failed to delete wastage")}};return w?s.jsx("div",{className:"p-10 text-center",children:"Loading wastages..."}):b?s.jsx("div",{className:"p-10 text-center",children:"Error loading wastages"}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(At,{className:"mb-6",children:[s.jsxs(Dt,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(rr,{className:"text-2xl",children:"Wastage Management"}),s.jsx(Or,{to:"/admin/wastages/create",children:s.jsxs(pe,{children:[s.jsx(Cn,{className:"mr-2 size-4"})," New Wastage"]})})]}),s.jsxs(Tt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(Ge,{placeholder:"Search by wastage no",value:n,onChange:x}),s.jsxs(td,{children:[s.jsx(rd,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:Ze("w-full justify-start",!l&&"text-muted-foreground"),children:[s.jsx(Qn,{className:"mr-2 h-4 w-4"}),l?Lt(l,"dd/MM/yyyy"):"Pick a date"]})}),s.jsx(sd,{className:"w-auto p-0",align:"start",children:s.jsx(nd,{mode:"single",selected:l,onSelect:u})})]}),s.jsx(pe,{variant:"outline",onClick:A,children:"Clear Filters"})]}),j.length===0?s.jsx("div",{className:"py-10 text-center",children:"No wastages found."}):s.jsxs(Ls,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(Bs,{className:"bg-gray-100",children:s.jsxs(tr,{children:[s.jsx(Ye,{className:"px-6 py-3",children:"Wastage No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Wastage Date"}),s.jsx(Ye,{className:"px-6 py-3",children:"Invoice No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Invoice Date"}),s.jsx(Ye,{className:"px-6 py-3 text-right",children:"Total Qty"}),s.jsx(Ye,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx($s,{className:"divide-y",children:j.map(k=>s.jsxs(tr,{className:"hover:bg-gray-50",children:[s.jsx(Ue,{className:"px-6 py-4 font-medium",children:k.wastageNo}),s.jsx(Ue,{className:"px-6 py-4",children:Lt(new Date(k.wastageDate),"dd/MM/yyyy")}),s.jsx(Ue,{className:"px-6 py-4",children:k.invoiceNo}),s.jsx(Ue,{className:"px-6 py-4",children:Lt(new Date(k.invoiceDate),"dd/MM/yyyy")}),s.jsx(Ue,{className:"px-6 py-4 text-right",children:_(k.details)}),s.jsxs(Ue,{className:"px-6 py-4 space-x-2",children:[s.jsx(Or,{to:`/admin/wastages/edit/${k.id}`,children:s.jsx(pe,{size:"icon",variant:"ghost",children:s.jsx(CC,{className:"size-4"})})}),s.jsxs(ua,{children:[s.jsx(bh,{asChild:!0,children:s.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>p(k.id),children:s.jsx(un,{className:"size-4"})})}),s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Are you sure?"}),s.jsx(xa,{children:"This action cannot be undone. This will permanently delete the wastage and remove its data from our servers."})]}),s.jsxs(ma,{children:[s.jsx(ya,{onClick:()=>p(null),children:"Cancel"}),s.jsx(ga,{onClick:C,children:"Continue"})]})]})]})]})]},k.id))})]}),S>1&&s.jsx(e0,{className:"mt-6",children:s.jsxs(t0,{children:[s.jsx(r0,{onClick:()=>t(k=>Math.max(1,k-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",S]}),s.jsx(s0,{onClick:()=>t(k=>Math.min(S,k+1))})]})})]})]})})};var my=e=>e.type==="checkbox",Sf=e=>e instanceof Date,Va=e=>e==null;const v9=e=>typeof e=="object";var bn=e=>!Va(e)&&!Array.isArray(e)&&v9(e)&&!Sf(e),b9=e=>bn(e)&&e.target?my(e.target)?e.target.checked:e.target.value:e,Ffe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,w9=(e,t)=>e.has(Ffe(t)),Lfe=e=>{const t=e.constructor&&e.constructor.prototype;return bn(t)&&t.hasOwnProperty("isPrototypeOf")},kT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ks(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(kT&&(e instanceof Blob||n))&&(r||bn(e)))if(t=r?[]:{},!r&&!Lfe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Ks(e[a]));else return e;return t}var py=e=>Array.isArray(e)?e.filter(Boolean):[],Ps=e=>e===void 0,St=(e,t,r)=>{if(!t||!bn(e))return r;const n=py(t.split(/[,[\].]+?/)).reduce((a,i)=>Va(a)?a:a[i],e);return Ps(n)||n===e?Ps(e[t])?r:e[t]:n},Pi=e=>typeof e=="boolean",DT=e=>/^\w*$/.test(e),N9=e=>py(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Kr=(e,t,r)=>{let n=-1;const a=DT(t)?[t]:N9(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let u=r;if(n!==o){const f=e[l];u=bn(f)||Array.isArray(f)?f:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=u,e=e[l]}};const pb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},go={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},j9=He.createContext(null),xy=()=>He.useContext(j9),Bfe=e=>{const{children:t,...r}=e;return He.createElement(j9.Provider,{value:r},t)};var S9=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==go.all&&(t._proxyFormState[o]=!n||go.all),r&&(r[o]=!0),e[o]}});return a},nA=e=>Va(e)||!v9(e);function Tc(e,t){if(nA(e)||nA(t))return e===t;if(Sf(e)&&Sf(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Sf(i)&&Sf(o)||bn(i)&&bn(o)||Array.isArray(i)&&Array.isArray(o)?!Tc(i,o):i!==o)return!1}}return!0}const E9=(e,t)=>{const r=g.useRef(t);Tc(t,r.current)||(r.current=t),g.useEffect(e,r.current)};function A9(e){const t=xy(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=He.useState(r._formState),u=He.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return E9(()=>r._subscribe({name:a,formState:u.current,exact:i,callback:f=>{!n&&l({...r._formState,...f})}}),[a,n,i]),He.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),He.useMemo(()=>S9(o,r,u.current,!1),[o,r])}var Fl=e=>typeof e=="string",C9=(e,t,r,n,a)=>Fl(e)?(n&&t.watch.add(e),St(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),St(r,i))):(n&&(t.watchAll=!0),r);function $fe(e){const t=xy(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},[l,u]=He.useState(r._getWatch(n,a));return E9(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:f=>!i&&u(C9(n,r._names,f.values||r._formValues,!1,a))}),[n,a,i,o]),He.useEffect(()=>r._removeUnmounted()),l}function Ufe(e){const t=xy(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,o=w9(a._names.array,r),l=$fe({control:a,name:r,defaultValue:St(a._formValues,r,St(a._defaultValues,r,e.defaultValue)),exact:!0}),u=A9({control:a,name:r,exact:!0}),f=He.useRef(e),h=He.useRef(a.register(r,{...e.rules,value:l,...Pi(e.disabled)?{disabled:e.disabled}:{}})),p=He.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!St(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!St(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!St(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!St(u.validatingFields,r)},error:{enumerable:!0,get:()=>St(u.errors,r)}}),[u,r]),x=He.useCallback(N=>h.current.onChange({target:{value:b9(N),name:r},type:pb.CHANGE}),[r]),y=He.useCallback(()=>h.current.onBlur({target:{value:St(a._formValues,r),name:r},type:pb.BLUR}),[r,a._formValues]),w=He.useCallback(N=>{const j=St(a._fields,r);j&&N&&(j._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:S=>N.setCustomValidity(S),reportValidity:()=>N.reportValidity()})},[a._fields,r]),b=He.useMemo(()=>({name:r,value:l,...Pi(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:x,onBlur:y,ref:w}),[r,n,u.disabled,x,y,w,l]);return He.useEffect(()=>{const N=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...Pi(f.current.disabled)?{disabled:f.current.disabled}:{}});const j=(S,A)=>{const _=St(a._fields,S);_&&_._f&&(_._f.mount=A)};if(j(r,!0),N){const S=Ks(St(a._options.defaultValues,r));Kr(a._defaultValues,r,S),Ps(St(a._formValues,r))&&Kr(a._formValues,r,S)}return!o&&a.register(r),()=>{(o?N&&!a._state.action:N)?a.unregister(r):j(r,!1)}},[r,a,o,i]),He.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),He.useMemo(()=>({field:b,formState:u,fieldState:p}),[b,u,p])}const $r=e=>e.render(Ufe(e));var T9=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},mi=e=>Array.isArray(e)?e:[e],$5=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Aa=e=>bn(e)&&!Object.keys(e).length,OT=e=>e.type==="file",Go=e=>typeof e=="function",xb=e=>{if(!kT)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},_9=e=>e.type==="select-multiple",RT=e=>e.type==="radio",Vfe=e=>RT(e)||my(e),tS=e=>xb(e)&&e.isConnected;function qfe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ps(e)?n++:e[t[n++]];return e}function zfe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ps(e[t]))return!1;return!0}function An(e,t){const r=Array.isArray(t)?t:DT(t)?[t]:N9(t),n=r.length===1?e:qfe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(bn(n)&&Aa(n)||Array.isArray(n)&&zfe(n))&&An(e,r.slice(0,-1)),e}var k9=e=>{for(const t in e)if(Go(e[t]))return!0;return!1};function gb(e,t={}){const r=Array.isArray(e);if(bn(e)||r)for(const n in e)Array.isArray(e[n])||bn(e[n])&&!k9(e[n])?(t[n]=Array.isArray(e[n])?[]:{},gb(e[n],t[n])):Va(e[n])||(t[n]=!0);return t}function D9(e,t,r){const n=Array.isArray(e);if(bn(e)||n)for(const a in e)Array.isArray(e[a])||bn(e[a])&&!k9(e[a])?Ps(t)||nA(r[a])?r[a]=Array.isArray(e[a])?gb(e[a],[]):{...gb(e[a])}:D9(e[a],Va(t)?{}:t[a],r[a]):r[a]=!Tc(e[a],t[a]);return r}var hx=(e,t)=>D9(e,t,gb(t));const U5={value:!1,isValid:!1},V5={value:!0,isValid:!0};var O9=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ps(e[0].attributes.value)?Ps(e[0].value)||e[0].value===""?V5:{value:e[0].value,isValid:!0}:V5:U5}return U5},R9=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ps(e)?e:t?e===""?NaN:e&&+e:r&&Fl(e)?new Date(e):n?n(e):e;const q5={isValid:!1,value:null};var P9=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,q5):q5;function z5(e){const t=e.ref;return OT(t)?t.files:RT(t)?P9(e.refs).value:_9(t)?[...t.selectedOptions].map(({value:r})=>r):my(t)?O9(e.refs).value:R9(Ps(t.value)?e.ref.value:t.value,e)}var Hfe=(e,t,r,n)=>{const a={};for(const i of e){const o=St(t,i);o&&Kr(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},yb=e=>e instanceof RegExp,mx=e=>Ps(e)?e:yb(e)?e.source:bn(e)?yb(e.value)?e.value.source:e.value:e,Pm=e=>({isOnSubmit:!e||e===go.onSubmit,isOnBlur:e===go.onBlur,isOnChange:e===go.onChange,isOnAll:e===go.all,isOnTouch:e===go.onTouched});const H5="AsyncFunction";var Wfe=e=>!!e&&!!e.validate&&!!(Go(e.validate)&&e.validate.constructor.name===H5||bn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===H5)),Gfe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),aA=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Km=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=St(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Km(l,t))break}else if(bn(l)&&Km(l,t))break}}};function W5(e,t,r){const n=St(e,r);if(n||DT(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=St(t,i),l=St(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var Yfe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Aa(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||go.all))},Kfe=(e,t,r)=>!e||!t||e===t||mi(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Qfe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Xfe=(e,t)=>!py(St(e,t)).length&&An(e,t),M9=(e,t,r)=>{const n=mi(St(e,r));return Kr(n,"root",t[r]),Kr(e,r,n),e},M1=e=>Fl(e);function G5(e,t,r="validate"){if(M1(e)||Array.isArray(e)&&e.every(M1)||Pi(e)&&!e)return{type:r,message:M1(e)?e:"",ref:t}}var ym=e=>bn(e)&&!yb(e)?e:{value:e,message:""},iA=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:u,maxLength:f,minLength:h,min:p,max:x,pattern:y,validate:w,name:b,valueAsNumber:N,mount:j}=e._f,S=St(r,b);if(!j||t.has(b))return{};const A=l?l[0]:o,_=G=>{a&&A.reportValidity&&(A.setCustomValidity(Pi(G)?"":G||""),A.reportValidity())},C={},k=RT(o),T=my(o),O=k||T,R=(N||OT(o))&&Ps(o.value)&&Ps(S)||xb(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,L=T9.bind(null,b,n,C),M=(G,V,ie,le=wc.maxLength,B=wc.minLength)=>{const U=G?V:ie;C[b]={type:G?le:B,message:U,ref:o,...L(G?le:B,U)}};if(i?!Array.isArray(S)||!S.length:u&&(!O&&(R||Va(S))||Pi(S)&&!S||T&&!O9(l).isValid||k&&!P9(l).isValid)){const{value:G,message:V}=M1(u)?{value:!!u,message:u}:ym(u);if(G&&(C[b]={type:wc.required,message:V,ref:A,...L(wc.required,V)},!n))return _(V),C}if(!R&&(!Va(p)||!Va(x))){let G,V;const ie=ym(x),le=ym(p);if(!Va(S)&&!isNaN(S)){const B=o.valueAsNumber||S&&+S;Va(ie.value)||(G=B>ie.value),Va(le.value)||(V=B<le.value)}else{const B=o.valueAsDate||new Date(S),U=q=>new Date(new Date().toDateString()+" "+q),F=o.type=="time",W=o.type=="week";Fl(ie.value)&&S&&(G=F?U(S)>U(ie.value):W?S>ie.value:B>new Date(ie.value)),Fl(le.value)&&S&&(V=F?U(S)<U(le.value):W?S<le.value:B<new Date(le.value))}if((G||V)&&(M(!!G,ie.message,le.message,wc.max,wc.min),!n))return _(C[b].message),C}if((f||h)&&!R&&(Fl(S)||i&&Array.isArray(S))){const G=ym(f),V=ym(h),ie=!Va(G.value)&&S.length>+G.value,le=!Va(V.value)&&S.length<+V.value;if((ie||le)&&(M(ie,G.message,V.message),!n))return _(C[b].message),C}if(y&&!R&&Fl(S)){const{value:G,message:V}=ym(y);if(yb(G)&&!S.match(G)&&(C[b]={type:wc.pattern,message:V,ref:o,...L(wc.pattern,V)},!n))return _(V),C}if(w){if(Go(w)){const G=await w(S,r),V=G5(G,A);if(V&&(C[b]={...V,...L(wc.validate,V.message)},!n))return _(V.message),C}else if(bn(w)){let G={};for(const V in w){if(!Aa(G)&&!n)break;const ie=G5(await w[V](S,r),A,V);ie&&(G={...ie,...L(V,ie.message)},_(ie.message),n&&(C[b]=G))}if(!Aa(G)&&(C[b]={ref:A,...G},!n))return C}}return _(!0),C};const Zfe={mode:go.onSubmit,reValidateMode:go.onChange,shouldFocusError:!0};function Jfe(e={}){let t={...Zfe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Go(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=bn(t.defaultValues)||bn(t.values)?Ks(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Ks(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,f=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const x={array:$5(),state:$5()},y=Pm(t.mode),w=Pm(t.reValidateMode),b=t.criteriaMode===go.all,N=xe=>Ae=>{clearTimeout(f),f=setTimeout(xe,Ae)},j=async xe=>{if(!t.disabled&&(h.isValid||p.isValid||xe)){const Ae=t.resolver?Aa((await R()).errors):await M(n,!0);Ae!==r.isValid&&x.state.next({isValid:Ae})}},S=(xe,Ae)=>{!t.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((xe||Array.from(l.mount)).forEach(Ie=>{Ie&&(Ae?Kr(r.validatingFields,Ie,Ae):An(r.validatingFields,Ie))}),x.state.next({validatingFields:r.validatingFields,isValidating:!Aa(r.validatingFields)}))},A=(xe,Ae=[],Ie,ft,ht=!0,tt=!0)=>{if(ft&&Ie&&!t.disabled){if(o.action=!0,tt&&Array.isArray(St(n,xe))){const xt=Ie(St(n,xe),ft.argA,ft.argB);ht&&Kr(n,xe,xt)}if(tt&&Array.isArray(St(r.errors,xe))){const xt=Ie(St(r.errors,xe),ft.argA,ft.argB);ht&&Kr(r.errors,xe,xt),Xfe(r.errors,xe)}if((h.touchedFields||p.touchedFields)&&tt&&Array.isArray(St(r.touchedFields,xe))){const xt=Ie(St(r.touchedFields,xe),ft.argA,ft.argB);ht&&Kr(r.touchedFields,xe,xt)}(h.dirtyFields||p.dirtyFields)&&(r.dirtyFields=hx(a,i)),x.state.next({name:xe,isDirty:V(xe,Ae),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Kr(i,xe,Ae)},_=(xe,Ae)=>{Kr(r.errors,xe,Ae),x.state.next({errors:r.errors})},C=xe=>{r.errors=xe,x.state.next({errors:r.errors,isValid:!1})},k=(xe,Ae,Ie,ft)=>{const ht=St(n,xe);if(ht){const tt=St(i,xe,Ps(Ie)?St(a,xe):Ie);Ps(tt)||ft&&ft.defaultChecked||Ae?Kr(i,xe,Ae?tt:z5(ht._f)):B(xe,tt),o.mount&&j()}},T=(xe,Ae,Ie,ft,ht)=>{let tt=!1,xt=!1;const Vt={name:xe};if(!t.disabled){if(!Ie||ft){(h.isDirty||p.isDirty)&&(xt=r.isDirty,r.isDirty=Vt.isDirty=V(),tt=xt!==Vt.isDirty);const ar=Tc(St(a,xe),Ae);xt=!!St(r.dirtyFields,xe),ar?An(r.dirtyFields,xe):Kr(r.dirtyFields,xe,!0),Vt.dirtyFields=r.dirtyFields,tt=tt||(h.dirtyFields||p.dirtyFields)&&xt!==!ar}if(Ie){const ar=St(r.touchedFields,xe);ar||(Kr(r.touchedFields,xe,Ie),Vt.touchedFields=r.touchedFields,tt=tt||(h.touchedFields||p.touchedFields)&&ar!==Ie)}tt&&ht&&x.state.next(Vt)}return tt?Vt:{}},O=(xe,Ae,Ie,ft)=>{const ht=St(r.errors,xe),tt=(h.isValid||p.isValid)&&Pi(Ae)&&r.isValid!==Ae;if(t.delayError&&Ie?(u=N(()=>_(xe,Ie)),u(t.delayError)):(clearTimeout(f),u=null,Ie?Kr(r.errors,xe,Ie):An(r.errors,xe)),(Ie?!Tc(ht,Ie):ht)||!Aa(ft)||tt){const xt={...ft,...tt&&Pi(Ae)?{isValid:Ae}:{},errors:r.errors,name:xe};r={...r,...xt},x.state.next(xt)}},R=async xe=>{S(xe,!0);const Ae=await t.resolver(i,t.context,Hfe(xe||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return S(xe),Ae},L=async xe=>{const{errors:Ae}=await R(xe);if(xe)for(const Ie of xe){const ft=St(Ae,Ie);ft?Kr(r.errors,Ie,ft):An(r.errors,Ie)}else r.errors=Ae;return Ae},M=async(xe,Ae,Ie={valid:!0})=>{for(const ft in xe){const ht=xe[ft];if(ht){const{_f:tt,...xt}=ht;if(tt){const Vt=l.array.has(tt.name),ar=ht._f&&Wfe(ht._f);ar&&h.validatingFields&&S([ft],!0);const Pr=await iA(ht,l.disabled,i,b,t.shouldUseNativeValidation&&!Ae,Vt);if(ar&&h.validatingFields&&S([ft]),Pr[tt.name]&&(Ie.valid=!1,Ae))break;!Ae&&(St(Pr,tt.name)?Vt?M9(r.errors,Pr,tt.name):Kr(r.errors,tt.name,Pr[tt.name]):An(r.errors,tt.name))}!Aa(xt)&&await M(xt,Ae,Ie)}}return Ie.valid},G=()=>{for(const xe of l.unMount){const Ae=St(n,xe);Ae&&(Ae._f.refs?Ae._f.refs.every(Ie=>!tS(Ie)):!tS(Ae._f.ref))&&ee(xe)}l.unMount=new Set},V=(xe,Ae)=>!t.disabled&&(xe&&Ae&&Kr(i,xe,Ae),!Tc(P(),a)),ie=(xe,Ae,Ie)=>C9(xe,l,{...o.mount?i:Ps(Ae)?a:Fl(xe)?{[xe]:Ae}:Ae},Ie,Ae),le=xe=>py(St(o.mount?i:a,xe,t.shouldUnregister?St(a,xe,[]):[])),B=(xe,Ae,Ie={})=>{const ft=St(n,xe);let ht=Ae;if(ft){const tt=ft._f;tt&&(!tt.disabled&&Kr(i,xe,R9(Ae,tt)),ht=xb(tt.ref)&&Va(Ae)?"":Ae,_9(tt.ref)?[...tt.ref.options].forEach(xt=>xt.selected=ht.includes(xt.value)):tt.refs?my(tt.ref)?tt.refs.length>1?tt.refs.forEach(xt=>(!xt.defaultChecked||!xt.disabled)&&(xt.checked=Array.isArray(ht)?!!ht.find(Vt=>Vt===xt.value):ht===xt.value)):tt.refs[0]&&(tt.refs[0].checked=!!ht):tt.refs.forEach(xt=>xt.checked=xt.value===ht):OT(tt.ref)?tt.ref.value="":(tt.ref.value=ht,tt.ref.type||x.state.next({name:xe,values:Ks(i)})))}(Ie.shouldDirty||Ie.shouldTouch)&&T(xe,ht,Ie.shouldTouch,Ie.shouldDirty,!0),Ie.shouldValidate&&Q(xe)},U=(xe,Ae,Ie)=>{for(const ft in Ae){const ht=Ae[ft],tt=`${xe}.${ft}`,xt=St(n,tt);(l.array.has(xe)||bn(ht)||xt&&!xt._f)&&!Sf(ht)?U(tt,ht,Ie):B(tt,ht,Ie)}},F=(xe,Ae,Ie={})=>{const ft=St(n,xe),ht=l.array.has(xe),tt=Ks(Ae);Kr(i,xe,tt),ht?(x.array.next({name:xe,values:Ks(i)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&Ie.shouldDirty&&x.state.next({name:xe,dirtyFields:hx(a,i),isDirty:V(xe,tt)})):ft&&!ft._f&&!Va(tt)?U(xe,tt,Ie):B(xe,tt,Ie),aA(xe,l)&&x.state.next({...r}),x.state.next({name:o.mount?xe:void 0,values:Ks(i)})},W=async xe=>{o.mount=!0;const Ae=xe.target;let Ie=Ae.name,ft=!0;const ht=St(n,Ie),tt=xt=>{ft=Number.isNaN(xt)||Sf(xt)&&isNaN(xt.getTime())||Tc(xt,St(i,Ie,xt))};if(ht){let xt,Vt;const ar=Ae.type?z5(ht._f):b9(xe),Pr=xe.type===pb.BLUR||xe.type===pb.FOCUS_OUT,mt=!Gfe(ht._f)&&!t.resolver&&!St(r.errors,Ie)&&!ht._f.deps||Qfe(Pr,St(r.touchedFields,Ie),r.isSubmitted,w,y),ns=aA(Ie,l,Pr);Kr(i,Ie,ar),Pr?(ht._f.onBlur&&ht._f.onBlur(xe),u&&u(0)):ht._f.onChange&&ht._f.onChange(xe);const os=T(Ie,ar,Pr),Hr=!Aa(os)||ns;if(!Pr&&x.state.next({name:Ie,type:xe.type,values:Ks(i)}),mt)return(h.isValid||p.isValid)&&(t.mode==="onBlur"?Pr&&j():Pr||j()),Hr&&x.state.next({name:Ie,...ns?{}:os});if(!Pr&&ns&&x.state.next({...r}),t.resolver){const{errors:ls}=await R([Ie]);if(tt(ar),ft){const cs=W5(r.errors,n,Ie),Us=W5(ls,n,cs.name||Ie);xt=Us.error,Ie=Us.name,Vt=Aa(ls)}}else S([Ie],!0),xt=(await iA(ht,l.disabled,i,b,t.shouldUseNativeValidation))[Ie],S([Ie]),tt(ar),ft&&(xt?Vt=!1:(h.isValid||p.isValid)&&(Vt=await M(n,!0)));ft&&(ht._f.deps&&Q(ht._f.deps),O(Ie,Vt,xt,os))}},q=(xe,Ae)=>{if(St(r.errors,Ae)&&xe.focus)return xe.focus(),1},Q=async(xe,Ae={})=>{let Ie,ft;const ht=mi(xe);if(t.resolver){const tt=await L(Ps(xe)?xe:ht);Ie=Aa(tt),ft=xe?!ht.some(xt=>St(tt,xt)):Ie}else xe?(ft=(await Promise.all(ht.map(async tt=>{const xt=St(n,tt);return await M(xt&&xt._f?{[tt]:xt}:xt)}))).every(Boolean),!(!ft&&!r.isValid)&&j()):ft=Ie=await M(n);return x.state.next({...!Fl(xe)||(h.isValid||p.isValid)&&Ie!==r.isValid?{}:{name:xe},...t.resolver||!xe?{isValid:Ie}:{},errors:r.errors}),Ae.shouldFocus&&!ft&&Km(n,q,xe?ht:l.mount),ft},P=xe=>{const Ae={...o.mount?i:a};return Ps(xe)?Ae:Fl(xe)?St(Ae,xe):xe.map(Ie=>St(Ae,Ie))},X=(xe,Ae)=>({invalid:!!St((Ae||r).errors,xe),isDirty:!!St((Ae||r).dirtyFields,xe),error:St((Ae||r).errors,xe),isValidating:!!St(r.validatingFields,xe),isTouched:!!St((Ae||r).touchedFields,xe)}),K=xe=>{xe&&mi(xe).forEach(Ae=>An(r.errors,Ae)),x.state.next({errors:xe?r.errors:{}})},H=(xe,Ae,Ie)=>{const ft=(St(n,xe,{_f:{}})._f||{}).ref,ht=St(r.errors,xe)||{},{ref:tt,message:xt,type:Vt,...ar}=ht;Kr(r.errors,xe,{...ar,...Ae,ref:ft}),x.state.next({name:xe,errors:r.errors,isValid:!1}),Ie&&Ie.shouldFocus&&ft&&ft.focus&&ft.focus()},J=(xe,Ae)=>Go(xe)?x.state.subscribe({next:Ie=>xe(ie(void 0,Ae),Ie)}):ie(xe,Ae,!0),ce=xe=>x.state.subscribe({next:Ae=>{Kfe(xe.name,Ae.name,xe.exact)&&Yfe(Ae,xe.formState||h,De,xe.reRenderRoot)&&xe.callback({values:{...i},...r,...Ae})}}).unsubscribe,ae=xe=>(o.mount=!0,p={...p,...xe.formState},ce({...xe,formState:p})),ee=(xe,Ae={})=>{for(const Ie of xe?mi(xe):l.mount)l.mount.delete(Ie),l.array.delete(Ie),Ae.keepValue||(An(n,Ie),An(i,Ie)),!Ae.keepError&&An(r.errors,Ie),!Ae.keepDirty&&An(r.dirtyFields,Ie),!Ae.keepTouched&&An(r.touchedFields,Ie),!Ae.keepIsValidating&&An(r.validatingFields,Ie),!t.shouldUnregister&&!Ae.keepDefaultValue&&An(a,Ie);x.state.next({values:Ks(i)}),x.state.next({...r,...Ae.keepDirty?{isDirty:V()}:{}}),!Ae.keepIsValid&&j()},ne=({disabled:xe,name:Ae})=>{(Pi(xe)&&o.mount||xe||l.disabled.has(Ae))&&(xe?l.disabled.add(Ae):l.disabled.delete(Ae))},ke=(xe,Ae={})=>{let Ie=St(n,xe);const ft=Pi(Ae.disabled)||Pi(t.disabled);return Kr(n,xe,{...Ie||{},_f:{...Ie&&Ie._f?Ie._f:{ref:{name:xe}},name:xe,mount:!0,...Ae}}),l.mount.add(xe),Ie?ne({disabled:Pi(Ae.disabled)?Ae.disabled:t.disabled,name:xe}):k(xe,!0,Ae.value),{...ft?{disabled:Ae.disabled||t.disabled}:{},...t.progressive?{required:!!Ae.required,min:mx(Ae.min),max:mx(Ae.max),minLength:mx(Ae.minLength),maxLength:mx(Ae.maxLength),pattern:mx(Ae.pattern)}:{},name:xe,onChange:W,onBlur:W,ref:ht=>{if(ht){ke(xe,Ae),Ie=St(n,xe);const tt=Ps(ht.value)&&ht.querySelectorAll&&ht.querySelectorAll("input,select,textarea")[0]||ht,xt=Vfe(tt),Vt=Ie._f.refs||[];if(xt?Vt.find(ar=>ar===tt):tt===Ie._f.ref)return;Kr(n,xe,{_f:{...Ie._f,...xt?{refs:[...Vt.filter(tS),tt,...Array.isArray(St(a,xe))?[{}]:[]],ref:{type:tt.type,name:xe}}:{ref:tt}}}),k(xe,!1,void 0,tt)}else Ie=St(n,xe,{}),Ie._f&&(Ie._f.mount=!1),(t.shouldUnregister||Ae.shouldUnregister)&&!(w9(l.array,xe)&&o.action)&&l.unMount.add(xe)}}},we=()=>t.shouldFocusError&&Km(n,q,l.mount),et=xe=>{Pi(xe)&&(x.state.next({disabled:xe}),Km(n,(Ae,Ie)=>{const ft=St(n,Ie);ft&&(Ae.disabled=ft._f.disabled||xe,Array.isArray(ft._f.refs)&&ft._f.refs.forEach(ht=>{ht.disabled=ft._f.disabled||xe}))},0,!1))},Ee=(xe,Ae)=>async Ie=>{let ft;Ie&&(Ie.preventDefault&&Ie.preventDefault(),Ie.persist&&Ie.persist());let ht=Ks(i);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:tt,values:xt}=await R();r.errors=tt,ht=xt}else await M(n);if(l.disabled.size)for(const tt of l.disabled)Kr(ht,tt,void 0);if(An(r.errors,"root"),Aa(r.errors)){x.state.next({errors:{}});try{await xe(ht,Ie)}catch(tt){ft=tt}}else Ae&&await Ae({...r.errors},Ie),we(),setTimeout(we);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Aa(r.errors)&&!ft,submitCount:r.submitCount+1,errors:r.errors}),ft)throw ft},Te=(xe,Ae={})=>{St(n,xe)&&(Ps(Ae.defaultValue)?F(xe,Ks(St(a,xe))):(F(xe,Ae.defaultValue),Kr(a,xe,Ks(Ae.defaultValue))),Ae.keepTouched||An(r.touchedFields,xe),Ae.keepDirty||(An(r.dirtyFields,xe),r.isDirty=Ae.defaultValue?V(xe,Ks(St(a,xe))):V()),Ae.keepError||(An(r.errors,xe),h.isValid&&j()),x.state.next({...r}))},Fe=(xe,Ae={})=>{const Ie=xe?Ks(xe):a,ft=Ks(Ie),ht=Aa(xe),tt=ht?a:ft;if(Ae.keepDefaultValues||(a=Ie),!Ae.keepValues){if(Ae.keepDirtyValues){const xt=new Set([...l.mount,...Object.keys(hx(a,i))]);for(const Vt of Array.from(xt))St(r.dirtyFields,Vt)?Kr(tt,Vt,St(i,Vt)):F(Vt,St(tt,Vt))}else{if(kT&&Ps(xe))for(const xt of l.mount){const Vt=St(n,xt);if(Vt&&Vt._f){const ar=Array.isArray(Vt._f.refs)?Vt._f.refs[0]:Vt._f.ref;if(xb(ar)){const Pr=ar.closest("form");if(Pr){Pr.reset();break}}}}for(const xt of l.mount)F(xt,St(tt,xt))}i=Ks(tt),x.array.next({values:{...tt}}),x.state.next({values:{...tt}})}l={mount:Ae.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!Ae.keepIsValid||!!Ae.keepDirtyValues,o.watch=!!t.shouldUnregister,x.state.next({submitCount:Ae.keepSubmitCount?r.submitCount:0,isDirty:ht?!1:Ae.keepDirty?r.isDirty:!!(Ae.keepDefaultValues&&!Tc(xe,a)),isSubmitted:Ae.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ht?{}:Ae.keepDirtyValues?Ae.keepDefaultValues&&i?hx(a,i):r.dirtyFields:Ae.keepDefaultValues&&xe?hx(a,xe):Ae.keepDirty?r.dirtyFields:{},touchedFields:Ae.keepTouched?r.touchedFields:{},errors:Ae.keepErrors?r.errors:{},isSubmitSuccessful:Ae.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ue=(xe,Ae)=>Fe(Go(xe)?xe(i):xe,Ae),Ce=(xe,Ae={})=>{const Ie=St(n,xe),ft=Ie&&Ie._f;if(ft){const ht=ft.refs?ft.refs[0]:ft.ref;ht.focus&&(ht.focus(),Ae.shouldSelect&&Go(ht.select)&&ht.select())}},De=xe=>{r={...r,...xe}},_t={control:{register:ke,unregister:ee,getFieldState:X,handleSubmit:Ee,setError:H,_subscribe:ce,_runSchema:R,_getWatch:ie,_getDirty:V,_setValid:j,_setFieldArray:A,_setDisabledField:ne,_setErrors:C,_getFieldArray:le,_reset:Fe,_resetDefaultValues:()=>Go(t.defaultValues)&&t.defaultValues().then(xe=>{ue(xe,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:et,_subjects:x,_proxyFormState:h,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(xe){o=xe},get _defaultValues(){return a},get _names(){return l},set _names(xe){l=xe},get _formState(){return r},get _options(){return t},set _options(xe){t={...t,...xe}}},subscribe:ae,trigger:Q,register:ke,handleSubmit:Ee,watch:J,setValue:F,getValues:P,reset:ue,resetField:Te,clearErrors:K,unregister:ee,setError:H,setFocus:Ce,getFieldState:X};return{..._t,formControl:_t}}var Ud=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},rS=(e,t,r={})=>r.shouldFocus||Ps(r.shouldFocus)?r.focusName||`${e}.${Ps(r.focusIndex)?t:r.focusIndex}.`:"",sS=(e,t)=>[...e,...mi(t)],nS=e=>Array.isArray(e)?e.map(()=>{}):void 0;function aS(e,t,r){return[...e.slice(0,t),...mi(r),...e.slice(t)]}var iS=(e,t,r)=>Array.isArray(e)?(Ps(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],oS=(e,t)=>[...mi(t),...mi(e)];function ehe(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return py(n).length?n:[]}var lS=(e,t)=>Ps(t)?[]:ehe(e,mi(t).sort((r,n)=>r-n)),cS=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},Y5=(e,t,r)=>(e[t]=r,e);function gy(e){const t=xy(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i,rules:o}=e,[l,u]=He.useState(r._getFieldArray(n)),f=He.useRef(r._getFieldArray(n).map(Ud)),h=He.useRef(l),p=He.useRef(n),x=He.useRef(!1);p.current=n,h.current=l,r._names.array.add(n),o&&r.register(n,o),He.useEffect(()=>r._subjects.array.subscribe({next:({values:k,name:T})=>{if(T===p.current||!T){const O=St(k,p.current);Array.isArray(O)&&(u(O),f.current=O.map(Ud))}}}).unsubscribe,[r]);const y=He.useCallback(k=>{x.current=!0,r._setFieldArray(n,k)},[r,n]),w=(k,T)=>{const O=mi(Ks(k)),R=sS(r._getFieldArray(n),O);r._names.focus=rS(n,R.length-1,T),f.current=sS(f.current,O.map(Ud)),y(R),u(R),r._setFieldArray(n,R,sS,{argA:nS(k)})},b=(k,T)=>{const O=mi(Ks(k)),R=oS(r._getFieldArray(n),O);r._names.focus=rS(n,0,T),f.current=oS(f.current,O.map(Ud)),y(R),u(R),r._setFieldArray(n,R,oS,{argA:nS(k)})},N=k=>{const T=lS(r._getFieldArray(n),k);f.current=lS(f.current,k),y(T),u(T),!Array.isArray(St(r._fields,n))&&Kr(r._fields,n,void 0),r._setFieldArray(n,T,lS,{argA:k})},j=(k,T,O)=>{const R=mi(Ks(T)),L=aS(r._getFieldArray(n),k,R);r._names.focus=rS(n,k,O),f.current=aS(f.current,k,R.map(Ud)),y(L),u(L),r._setFieldArray(n,L,aS,{argA:k,argB:nS(T)})},S=(k,T)=>{const O=r._getFieldArray(n);cS(O,k,T),cS(f.current,k,T),y(O),u(O),r._setFieldArray(n,O,cS,{argA:k,argB:T},!1)},A=(k,T)=>{const O=r._getFieldArray(n);iS(O,k,T),iS(f.current,k,T),y(O),u(O),r._setFieldArray(n,O,iS,{argA:k,argB:T},!1)},_=(k,T)=>{const O=Ks(T),R=Y5(r._getFieldArray(n),k,O);f.current=[...R].map((L,M)=>!L||M===k?Ud():f.current[M]),y(R),u([...R]),r._setFieldArray(n,R,Y5,{argA:k,argB:O},!0,!1)},C=k=>{const T=mi(Ks(k));f.current=T.map(Ud),y([...T]),u([...T]),r._setFieldArray(n,[...T],O=>O,{},!0,!1)};return He.useEffect(()=>{if(r._state.action=!1,aA(n,r._names)&&r._subjects.state.next({...r._formState}),x.current&&(!Pm(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Pm(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(k=>{const T=St(k.errors,n),O=St(r._formState.errors,n);(O?!T&&O.type||T&&(O.type!==T.type||O.message!==T.message):T&&T.type)&&(T?Kr(r._formState.errors,n,T):An(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const k=St(r._fields,n);k&&k._f&&!(Pm(r._options.reValidateMode).isOnSubmit&&Pm(r._options.mode).isOnSubmit)&&iA(k,r._names.disabled,r._formValues,r._options.criteriaMode===go.all,r._options.shouldUseNativeValidation,!0).then(T=>!Aa(T)&&r._subjects.state.next({errors:M9(r._formState.errors,T,n)}))}r._subjects.state.next({name:n,values:Ks(r._formValues)}),r._names.focus&&Km(r._fields,(k,T)=>{if(r._names.focus&&T.startsWith(r._names.focus)&&k.focus)return k.focus(),1}),r._names.focus="",r._setValid(),x.current=!1},[l,n,r]),He.useEffect(()=>(!St(r._formValues,n)&&r._setFieldArray(n),()=>{const k=(T,O)=>{const R=St(r._fields,T);R&&R._f&&(R._f.mount=O)};r._options.shouldUnregister||i?r.unregister(n):k(n,!1)}),[n,r,a,i]),{swap:He.useCallback(S,[y,n,r]),move:He.useCallback(A,[y,n,r]),prepend:He.useCallback(b,[y,n,r]),append:He.useCallback(w,[y,n,r]),remove:He.useCallback(N,[y,n,r]),insert:He.useCallback(j,[y,n,r]),update:He.useCallback(_,[y,n,r]),replace:He.useCallback(C,[y,n,r]),fields:He.useMemo(()=>l.map((k,T)=>({...k,[a]:f.current[T]||Ud()})),[l,a])}}const the=typeof window<"u"?He.useLayoutEffect:He.useEffect;function en(e={}){const t=He.useRef(void 0),r=He.useRef(void 0),[n,a]=He.useState({isDirty:!1,isValidating:!1,isLoading:Go(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Go(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Jfe(e),formState:n},e.formControl&&e.defaultValues&&!Go(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,the(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),o},[i]),He.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),He.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode),e.errors&&!Aa(e.errors)&&i._setErrors(e.errors)},[i,e.errors,e.mode,e.reValidateMode]),He.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),He.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),He.useEffect(()=>{e.values&&!Tc(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),He.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=S9(n,i),t.current}const K5=(e,t,r)=>{if(e&&"reportValidity"in e){const n=St(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},I9=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?K5(n.ref,r,e):n&&n.refs&&n.refs.forEach(a=>K5(a,r,e))}},rhe=(e,t)=>{t.shouldUseNativeValidation&&I9(e,t);const r={};for(const n in e){const a=St(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(she(t.names||Object.keys(e),n)){const o=Object.assign({},St(r,n));Kr(o,"root",i),Kr(r,n,o)}else Kr(r,n,i)}return r},she=(e,t)=>{const r=Q5(t);return e.some(n=>Q5(n).match(`^${r}\\.\\d+`))};function Q5(e){return e.replace(/\]|\[/g,"")}function nhe(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(p){return e.push(p)})}),t){var u=r[o].types,f=u&&u[n.code];r[o]=T9(o,t,r,a,f?[].concat(f,n.message):n.message)}e.shift()}return r}function tn(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var u=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(f){return i.shouldUseNativeValidation&&I9({},i),{errors:{},values:r.raw?Object.assign({},n):f}})}catch(f){return l(f)}return u&&u.then?u.then(void 0,l):u}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:rhe(nhe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}}function X5(e,[t,r]){return Math.min(r,Math.max(t,e))}var ahe="DismissableLayer",oA="dismissableLayer.update",ihe="dismissableLayer.pointerDownOutside",ohe="dismissableLayer.focusOutside",Z5,F9=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),L9=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(F9),[h,p]=g.useState(null),x=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),w=Zt(t,T=>p(T)),b=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(N),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,_=S>=j,C=dhe(T=>{const O=T.target,R=[...f.branches].some(L=>L.contains(O));!_||R||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},x),k=uhe(T=>{const O=T.target;[...f.branches].some(L=>L.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},x);return qp(T=>{S===f.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},x),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Z5=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),J5(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Z5)}},[h,x,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),J5())},[h,f]),g.useEffect(()=>{const T=()=>y({});return document.addEventListener(oA,T),()=>document.removeEventListener(oA,T)},[]),s.jsx(It.div,{...u,ref:w,style:{pointerEvents:A?_?"auto":"none":void 0,...e.style},onFocusCapture:gt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:gt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:gt(e.onPointerDownCapture,C.onPointerDownCapture)})});L9.displayName=ahe;var lhe="DismissableLayerBranch",che=g.forwardRef((e,t)=>{const r=g.useContext(F9),n=g.useRef(null),a=Zt(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(It.div,{...e,ref:a})});che.displayName=lhe;function dhe(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let u=function(){B9(ihe,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function uhe(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!n.current&&B9(ohe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function J5(){const e=new CustomEvent(oA);document.dispatchEvent(e)}function B9(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Yp(a,i):a.dispatchEvent(i)}var dS="focusScope.autoFocusOnMount",uS="focusScope.autoFocusOnUnmount",eR={bubbles:!1,cancelable:!0},fhe="FocusScope",$9=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=vs(a),h=vs(i),p=g.useRef(null),x=Zt(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let b=function(A){if(y.paused||!l)return;const _=A.target;l.contains(_)?p.current=_:Kd(p.current,{select:!0})},N=function(A){if(y.paused||!l)return;const _=A.relatedTarget;_!==null&&(l.contains(_)||Kd(p.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const C of A)C.removedNodes.length>0&&Kd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),S.disconnect()}}},[n,l,y.paused]),g.useEffect(()=>{if(l){rR.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(dS,eR);l.addEventListener(dS,f),l.dispatchEvent(j),j.defaultPrevented||(hhe(yhe(U9(l)),{select:!0}),document.activeElement===b&&Kd(l))}return()=>{l.removeEventListener(dS,f),setTimeout(()=>{const j=new CustomEvent(uS,eR);l.addEventListener(uS,h),l.dispatchEvent(j),j.defaultPrevented||Kd(b??document.body,{select:!0}),l.removeEventListener(uS,h),rR.remove(y)},0)}}},[l,f,h,y]);const w=g.useCallback(b=>{if(!r&&!n||y.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(N&&j){const S=b.currentTarget,[A,_]=mhe(S);A&&_?!b.shiftKey&&j===_?(b.preventDefault(),r&&Kd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Kd(_,{select:!0})):j===S&&b.preventDefault()}},[r,n,y.paused]);return s.jsx(It.div,{tabIndex:-1,...o,ref:x,onKeyDown:w})});$9.displayName=fhe;function hhe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Kd(n,{select:t}),document.activeElement!==r)return}function mhe(e){const t=U9(e),r=tR(t,e),n=tR(t.reverse(),e);return[r,n]}function U9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tR(e,t){for(const r of e)if(!phe(r,{upTo:t}))return r}function phe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xhe(e){return e instanceof HTMLInputElement&&"select"in e}function Kd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&xhe(e)&&t&&e.select()}}var rR=ghe();function ghe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=sR(e,t),e.unshift(t)},remove(t){var r;e=sR(e,t),(r=e[0])==null||r.resume()}}}function sR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function yhe(e){return e.filter(t=>t.tagName!=="A")}var vhe="Portal",V9=g.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=g.useState(!1);Cs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(s.jsx(It.div,{...n,ref:t}),o):null});V9.displayName=vhe;function bhe(e){const t=whe(e),r=g.forwardRef((n,a)=>{const{children:i,...o}=n,l=g.Children.toArray(i),u=l.find(jhe);if(u){const f=u.props.children,h=l.map(p=>p===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function whe(e){const t=g.forwardRef((r,n)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=Ehe(a),l=She(i,a.props);return a.type!==g.Fragment&&(l.ref=n?Jc(n,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Nhe=Symbol("radix.slottable");function jhe(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Nhe}function She(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Ehe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Mw(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ahe=[" ","Enter","ArrowUp","ArrowDown"],Che=[" ","Enter"],Zf="Select",[Iw,Fw,The]=HC(Zf),[n0,MRe]=da(Zf,[The,Bu]),Lw=Bu(),[_he,Vu]=n0(Zf),[khe,Dhe]=n0(Zf),q9=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:f,name:h,autoComplete:p,disabled:x,required:y,form:w}=e,b=Lw(t),[N,j]=g.useState(null),[S,A]=g.useState(null),[_,C]=g.useState(!1),k=pw(f),[T,O]=Ao({prop:n,defaultProp:a??!1,onChange:i,caller:Zf}),[R,L]=Ao({prop:o,defaultProp:l,onChange:u,caller:Zf}),M=g.useRef(null),G=N?w||!!N.closest("form"):!0,[V,ie]=g.useState(new Set),le=Array.from(V).map(B=>B.props.value).join(";");return s.jsx(bw,{...b,children:s.jsxs(_he,{required:y,scope:t,trigger:N,onTriggerChange:j,valueNode:S,onValueNodeChange:A,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:Ga(),value:R,onValueChange:L,open:T,onOpenChange:O,dir:k,triggerPointerDownPosRef:M,disabled:x,children:[s.jsx(Iw.Provider,{scope:t,children:s.jsx(khe,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(B=>{ie(U=>new Set(U).add(B))},[]),onNativeOptionRemove:g.useCallback(B=>{ie(U=>{const F=new Set(U);return F.delete(B),F})},[]),children:r})}),G?s.jsxs(uB,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:p,value:R,onChange:B=>L(B.target.value),disabled:x,form:w,children:[R===void 0?s.jsx("option",{value:""}):null,Array.from(V)]},le):null]})})};q9.displayName=Zf;var z9="SelectTrigger",H9=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Lw(r),o=Vu(z9,r),l=o.disabled||n,u=Zt(t,o.onTriggerChange),f=Fw(r),h=g.useRef("touch"),[p,x,y]=hB(b=>{const N=f().filter(A=>!A.disabled),j=N.find(A=>A.value===o.value),S=mB(N,b,j);S!==void 0&&o.onValueChange(S.value)}),w=b=>{l||(o.onOpenChange(!0),y()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return s.jsx(sy,{asChild:!0,...i,children:s.jsx(It.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":fB(o.value)?"":void 0,...a,ref:u,onClick:gt(a.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&w(b)}),onPointerDown:gt(a.onPointerDown,b=>{h.current=b.pointerType;const N=b.target;N.hasPointerCapture(b.pointerId)&&N.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:gt(a.onKeyDown,b=>{const N=p.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&x(b.key),!(N&&b.key===" ")&&Ahe.includes(b.key)&&(w(),b.preventDefault())})})})});H9.displayName=z9;var W9="SelectValue",G9=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,u=Vu(W9,r),{onValueNodeHasChildrenChange:f}=u,h=i!==void 0,p=Zt(t,u.onValueNodeChange);return Cs(()=>{f(h)},[f,h]),s.jsx(It.span,{...l,ref:p,style:{pointerEvents:"none"},children:fB(u.value)?s.jsx(s.Fragment,{children:o}):i})});G9.displayName=W9;var Ohe="SelectIcon",Y9=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(It.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Y9.displayName=Ohe;var Rhe="SelectPortal",K9=e=>s.jsx(V9,{asChild:!0,...e});K9.displayName=Rhe;var Jf="SelectContent",Q9=g.forwardRef((e,t)=>{const r=Vu(Jf,e.__scopeSelect),[n,a]=g.useState();if(Cs(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ch.createPortal(s.jsx(X9,{scope:e.__scopeSelect,children:s.jsx(Iw.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(Z9,{...e,ref:t})});Q9.displayName=Jf;var $o=10,[X9,qu]=n0(Jf),Phe="SelectContentImpl",Mhe=bhe("SelectContent.RemoveScroll"),Z9=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:f,alignOffset:h,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:w,hideWhenDetached:b,avoidCollisions:N,...j}=e,S=Vu(Jf,r),[A,_]=g.useState(null),[C,k]=g.useState(null),T=Zt(t,ce=>_(ce)),[O,R]=g.useState(null),[L,M]=g.useState(null),G=Fw(r),[V,ie]=g.useState(!1),le=g.useRef(!1);g.useEffect(()=>{if(A)return zp(A)},[A]),Jg();const B=g.useCallback(ce=>{const[ae,...ee]=G().map(we=>we.ref.current),[ne]=ee.slice(-1),ke=document.activeElement;for(const we of ce)if(we===ke||(we==null||we.scrollIntoView({block:"nearest"}),we===ae&&C&&(C.scrollTop=0),we===ne&&C&&(C.scrollTop=C.scrollHeight),we==null||we.focus(),document.activeElement!==ke))return},[G,C]),U=g.useCallback(()=>B([O,A]),[B,O,A]);g.useEffect(()=>{V&&U()},[V,U]);const{onOpenChange:F,triggerPointerDownPosRef:W}=S;g.useEffect(()=>{if(A){let ce={x:0,y:0};const ae=ne=>{var ke,we;ce={x:Math.abs(Math.round(ne.pageX)-(((ke=W.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((we=W.current)==null?void 0:we.y)??0))}},ee=ne=>{ce.x<=10&&ce.y<=10?ne.preventDefault():A.contains(ne.target)||F(!1),document.removeEventListener("pointermove",ae),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",ee,{capture:!0})}}},[A,F,W]),g.useEffect(()=>{const ce=()=>F(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[F]);const[q,Q]=hB(ce=>{const ae=G().filter(ke=>!ke.disabled),ee=ae.find(ke=>ke.ref.current===document.activeElement),ne=mB(ae,ce,ee);ne&&setTimeout(()=>ne.ref.current.focus())}),P=g.useCallback((ce,ae,ee)=>{const ne=!le.current&&!ee;(S.value!==void 0&&S.value===ae||ne)&&(R(ce),ne&&(le.current=!0))},[S.value]),X=g.useCallback(()=>A==null?void 0:A.focus(),[A]),K=g.useCallback((ce,ae,ee)=>{const ne=!le.current&&!ee;(S.value!==void 0&&S.value===ae||ne)&&M(ce)},[S.value]),H=n==="popper"?lA:J9,J=H===lA?{side:l,sideOffset:u,align:f,alignOffset:h,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:w,hideWhenDetached:b,avoidCollisions:N}:{};return s.jsx(X9,{scope:r,content:A,viewport:C,onViewportChange:k,itemRefCallback:P,selectedItem:O,onItemLeave:X,itemTextRefCallback:K,focusSelectedItem:U,selectedItemText:L,position:n,isPositioned:V,searchRef:q,children:s.jsx(uh,{as:Mhe,allowPinchZoom:!0,children:s.jsx($9,{asChild:!0,trapped:S.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:gt(a,ce=>{var ae;(ae=S.trigger)==null||ae.focus({preventScroll:!0}),ce.preventDefault()}),children:s.jsx(L9,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:s.jsx(H,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:ce=>ce.preventDefault(),...j,...J,onPlaced:()=>ie(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:gt(j.onKeyDown,ce=>{const ae=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!ae&&ce.key.length===1&&Q(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let ne=G().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const ke=ce.target,we=ne.indexOf(ke);ne=ne.slice(we+1)}setTimeout(()=>B(ne)),ce.preventDefault()}})})})})})})});Z9.displayName=Phe;var Ihe="SelectItemAlignedPosition",J9=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Vu(Jf,r),o=qu(Jf,r),[l,u]=g.useState(null),[f,h]=g.useState(null),p=Zt(t,T=>h(T)),x=Fw(r),y=g.useRef(!1),w=g.useRef(!0),{viewport:b,selectedItem:N,selectedItemText:j,focusSelectedItem:S}=o,A=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&f&&b&&N&&j){const T=i.trigger.getBoundingClientRect(),O=f.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),L=j.getBoundingClientRect();if(i.dir!=="rtl"){const ke=L.left-O.left,we=R.left-ke,et=T.left-we,Ee=T.width+et,Te=Math.max(Ee,O.width),Fe=window.innerWidth-$o,ue=X5(we,[$o,Math.max($o,Fe-Te)]);l.style.minWidth=Ee+"px",l.style.left=ue+"px"}else{const ke=O.right-L.right,we=window.innerWidth-R.right-ke,et=window.innerWidth-T.right-we,Ee=T.width+et,Te=Math.max(Ee,O.width),Fe=window.innerWidth-$o,ue=X5(we,[$o,Math.max($o,Fe-Te)]);l.style.minWidth=Ee+"px",l.style.right=ue+"px"}const M=x(),G=window.innerHeight-$o*2,V=b.scrollHeight,ie=window.getComputedStyle(f),le=parseInt(ie.borderTopWidth,10),B=parseInt(ie.paddingTop,10),U=parseInt(ie.borderBottomWidth,10),F=parseInt(ie.paddingBottom,10),W=le+B+V+F+U,q=Math.min(N.offsetHeight*5,W),Q=window.getComputedStyle(b),P=parseInt(Q.paddingTop,10),X=parseInt(Q.paddingBottom,10),K=T.top+T.height/2-$o,H=G-K,J=N.offsetHeight/2,ce=N.offsetTop+J,ae=le+B+ce,ee=W-ae;if(ae<=K){const ke=M.length>0&&N===M[M.length-1].ref.current;l.style.bottom="0px";const we=f.clientHeight-b.offsetTop-b.offsetHeight,et=Math.max(H,J+(ke?X:0)+we+U),Ee=ae+et;l.style.height=Ee+"px"}else{const ke=M.length>0&&N===M[0].ref.current;l.style.top="0px";const et=Math.max(K,le+b.offsetTop+(ke?P:0)+J)+ee;l.style.height=et+"px",b.scrollTop=ae-K+b.offsetTop}l.style.margin=`${$o}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=G+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[x,i.trigger,i.valueNode,l,f,b,N,j,i.dir,n]);Cs(()=>A(),[A]);const[_,C]=g.useState();Cs(()=>{f&&C(window.getComputedStyle(f).zIndex)},[f]);const k=g.useCallback(T=>{T&&w.current===!0&&(A(),S==null||S(),w.current=!1)},[A,S]);return s.jsx(Lhe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:k,children:s.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(It.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});J9.displayName=Ihe;var Fhe="SelectPopperPosition",lA=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=$o,...i}=e,o=Lw(r);return s.jsx(ww,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lA.displayName=Fhe;var[Lhe,PT]=n0(Jf,{}),cA="SelectViewport",eB=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=qu(cA,r),o=PT(cA,r),l=Zt(t,i.onViewportChange),u=g.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Iw.Slot,{scope:r,children:s.jsx(It.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:gt(a.onScroll,f=>{const h=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:x}=o;if(x!=null&&x.current&&p){const y=Math.abs(u.current-h.scrollTop);if(y>0){const w=window.innerHeight-$o*2,b=parseFloat(p.style.minHeight),N=parseFloat(p.style.height),j=Math.max(b,N);if(j<w){const S=j+y,A=Math.min(w,S),_=S-A;p.style.height=A+"px",p.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,p.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});eB.displayName=cA;var tB="SelectGroup",[Bhe,$he]=n0(tB),Uhe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ga();return s.jsx(Bhe,{scope:r,id:a,children:s.jsx(It.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Uhe.displayName=tB;var rB="SelectLabel",Vhe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=$he(rB,r);return s.jsx(It.div,{id:a.id,...n,ref:t})});Vhe.displayName=rB;var vb="SelectItem",[qhe,sB]=n0(vb),nB=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Vu(vb,r),u=qu(vb,r),f=l.value===n,[h,p]=g.useState(i??""),[x,y]=g.useState(!1),w=Zt(t,S=>{var A;return(A=u.itemRefCallback)==null?void 0:A.call(u,S,n,a)}),b=Ga(),N=g.useRef("touch"),j=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(qhe,{scope:r,value:n,disabled:a,textId:b,isSelected:f,onItemTextChange:g.useCallback(S=>{p(A=>A||((S==null?void 0:S.textContent)??"").trim())},[]),children:s.jsx(Iw.ItemSlot,{scope:r,value:n,disabled:a,textValue:h,children:s.jsx(It.div,{role:"option","aria-labelledby":b,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:w,onFocus:gt(o.onFocus,()=>y(!0)),onBlur:gt(o.onBlur,()=>y(!1)),onClick:gt(o.onClick,()=>{N.current!=="mouse"&&j()}),onPointerUp:gt(o.onPointerUp,()=>{N.current==="mouse"&&j()}),onPointerDown:gt(o.onPointerDown,S=>{N.current=S.pointerType}),onPointerMove:gt(o.onPointerMove,S=>{var A;N.current=S.pointerType,a?(A=u.onItemLeave)==null||A.call(u):N.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:gt(o.onPointerLeave,S=>{var A;S.currentTarget===document.activeElement&&((A=u.onItemLeave)==null||A.call(u))}),onKeyDown:gt(o.onKeyDown,S=>{var _;((_=u.searchRef)==null?void 0:_.current)!==""&&S.key===" "||(Che.includes(S.key)&&j(),S.key===" "&&S.preventDefault())})})})})});nB.displayName=vb;var Ex="SelectItemText",aB=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Vu(Ex,r),l=qu(Ex,r),u=sB(Ex,r),f=Dhe(Ex,r),[h,p]=g.useState(null),x=Zt(t,j=>p(j),u.onItemTextChange,j=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,j,u.value,u.disabled)}),y=h==null?void 0:h.textContent,w=g.useMemo(()=>s.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:N}=f;return Cs(()=>(b(w),()=>N(w)),[b,N,w]),s.jsxs(s.Fragment,{children:[s.jsx(It.span,{id:u.textId,...i,ref:x}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ch.createPortal(i.children,o.valueNode):null]})});aB.displayName=Ex;var iB="SelectItemIndicator",oB=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return sB(iB,r).isSelected?s.jsx(It.span,{"aria-hidden":!0,...n,ref:t}):null});oB.displayName=iB;var dA="SelectScrollUpButton",lB=g.forwardRef((e,t)=>{const r=qu(dA,e.__scopeSelect),n=PT(dA,e.__scopeSelect),[a,i]=g.useState(!1),o=Zt(t,n.onScrollButtonChange);return Cs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollTop>0;i(f)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(dB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});lB.displayName=dA;var uA="SelectScrollDownButton",cB=g.forwardRef((e,t)=>{const r=qu(uA,e.__scopeSelect),n=PT(uA,e.__scopeSelect),[a,i]=g.useState(!1),o=Zt(t,n.onScrollButtonChange);return Cs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<f;i(h)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(dB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});cB.displayName=uA;var dB=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=qu("SelectScrollButton",r),o=g.useRef(null),l=Fw(r),u=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>u(),[u]),Cs(()=>{var h;const f=l().find(p=>p.ref.current===document.activeElement);(h=f==null?void 0:f.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(It.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:gt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:gt(a.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:gt(a.onPointerLeave,()=>{u()})})}),zhe="SelectSeparator",Hhe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(It.div,{"aria-hidden":!0,...n,ref:t})});Hhe.displayName=zhe;var fA="SelectArrow",Whe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Lw(r),i=Vu(fA,r),o=qu(fA,r);return i.open&&o.position==="popper"?s.jsx(Nw,{...a,...n,ref:t}):null});Whe.displayName=fA;var Ghe="SelectBubbleInput",uB=g.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=g.useRef(null),i=Zt(n,a),o=Mw(t);return g.useEffect(()=>{const l=a.current;if(!l)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==t&&h){const p=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(p)}},[o,t]),s.jsx(It.select,{...r,style:{...k8,...r.style},ref:i,defaultValue:t})});uB.displayName=Ghe;function fB(e){return e===""||e===void 0}function hB(e){const t=vs(e),r=g.useRef(""),n=g.useRef(0),a=g.useCallback(o=>{const l=r.current+o;t(l),function u(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(l)},[t]),i=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function mB(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Yhe(e,Math.max(i,0));a.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function Yhe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Khe=q9,Qhe=H9,Xhe=G9,Zhe=Y9,Jhe=K9,eme=Q9,tme=eB,rme=nB,sme=aB,nme=oB,ame=lB,ime=cB;function Wt({...e}){return s.jsx(Khe,{"data-slot":"select",...e})}function Gt({...e}){return s.jsx(Xhe,{"data-slot":"select-value",...e})}function Yt({className:e,size:t="default",children:r,...n}){return s.jsxs(Qhe,{"data-slot":"select-trigger","data-size":t,className:Ze("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,s.jsx(Zhe,{asChild:!0,children:s.jsx(Ha,{className:"size-4 opacity-50"})})]})}function Kt({className:e,children:t,position:r="popper",...n}){return s.jsx(Jhe,{children:s.jsxs(eme,{"data-slot":"select-content",className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(ome,{}),s.jsx(tme,{className:Ze("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(lme,{})]})})}function ct({className:e,children:t,...r}){return s.jsxs(rme,{"data-slot":"select-item",className:Ze("focus:bg-accent focus:text-gray-700-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(nme,{children:s.jsx(Jb,{className:"size-4"})})}),s.jsx(sme,{children:t})]})}function ome({className:e,...t}){return s.jsx(ame,{"data-slot":"select-scroll-up-button",className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Pl,{className:"size-4"})})}function lme({className:e,...t}){return s.jsx(ime,{"data-slot":"select-scroll-down-button",className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ha,{className:"size-4"})})}function eh({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:Ze("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const cme=ys({wastageNo:at().optional(),wastageDate:Uc(),invoiceNo:at().min(1,"Invoice number is required"),invoiceDate:Uc(),depotId:at().min(1,"Depot is required"),notes:at().optional(),details:dh(ys({productId:at().min(1,"Product is required"),variantId:at().min(1,"Variant is required"),quantity:bi().min(1,"Quantity must be at least 1")})).min(1,"Add at least one line item")});function fS(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function nR(e){return!!e&&!isNaN(e.getTime())}function aR({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=g.useState(!1),[l,u]=g.useState(e),[f,h]=g.useState(fS(e));return g.useEffect(()=>{h(fS(e)),nR(e)&&u(e)},[e]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(je,{htmlFor:n,children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(Ge,{id:n,value:f,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:p=>{const x=p.target.value;h(x);const y=new Date(x);nR(y)?(t(y),u(y)):t(void 0)}}),s.jsxs(td,{open:i,onOpenChange:o,children:[s.jsx(rd,{asChild:!0,children:s.jsx(pe,{variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 size-6",type:"button",children:s.jsx(Qn,{className:"size-3.5"})})}),s.jsx(sd,{className:"p-0",children:s.jsx(nd,{mode:"single",selected:e,month:l,captionLayout:"dropdown",onMonthChange:u,fromDate:a,onSelect:p=>{t(p),h(fS(p)),o(!1)}})})]})]})]})}const pB=({mode:e,wastageId:t,initialData:r,onSuccess:n})=>{var V;const a=gr(),i=_n(),o=typeof window<"u"?localStorage.getItem("user"):null,l=o?JSON.parse(o):null,{register:u,control:f,handleSubmit:h,setValue:p,watch:x,formState:{errors:y}}=en({resolver:tn(cme),defaultValues:{wastageNo:e==="edit"?r==null?void 0:r.wastageNo:"",wastageDate:e==="edit"&&(r!=null&&r.wastageDate)?new Date(r.wastageDate):new Date,invoiceNo:(r==null?void 0:r.invoiceNo)||"",invoiceDate:e==="edit"&&(r!=null&&r.invoiceDate)?new Date(r.invoiceDate):new Date,depotId:e==="edit"&&(r!=null&&r.depotId)?String(r.depotId):l!=null&&l.depotId?String(l.depotId):"",notes:(r==null?void 0:r.notes)||"",details:e==="edit"&&((V=r==null?void 0:r.details)!=null&&V.length)?r.details.map(ie=>({productId:String(ie.productId),variantId:String(ie.variantId),quantity:ie.quantity})):[{productId:"",variantId:"",quantity:1}]}}),[w,b]=g.useState([]),[N,j]=g.useState([]),[S,A]=g.useState([]);g.useEffect(()=>{x("depotId")||(l!=null&&l.depotId?p("depotId",String(l.depotId)):S.length&&p("depotId",String(S[0].id)))},[S,l==null?void 0:l.depotId]);const[_,C]=g.useState(null);g.useEffect(()=>{(async()=>{try{const ie=await ut("/products");b((ie==null?void 0:ie.data)||ie||[]);const le=await ut("/depots");A((le==null?void 0:le.data)||le||[])}catch{he.error("Failed to fetch reference data")}})()},[]);const k=x("depotId"),T=(l==null?void 0:l.depotId)??k;g.useEffect(()=>{if(!T){j([]);return}(async()=>{try{const ie=await ut(`/depot-product-variants?depotId=${T}&limit=1000`);j((ie==null?void 0:ie.data)||ie||[])}catch{he.error("Failed to fetch depot variants")}})()},[T,l==null?void 0:l.depotId]);const{fields:O,append:R,remove:L}=gy({control:f,name:"details"}),M=Rr({mutationFn:async ie=>{const le={...ie,details:ie.details};return e==="edit"&&t?Js(`/wastages/${t}`,le):Ur("/wastages",le)},onSuccess:()=>{he.success("Wastage saved"),i.invalidateQueries({queryKey:["wastages"]}),a("/admin/wastages"),n==null||n()},onError:ie=>he.error(ie.message||"Error saving wastage")}),G=ie=>M.mutate(ie);return s.jsxs("form",{onSubmit:h(G),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(At,{children:[s.jsx(Dt,{children:s.jsx(rr,{children:"Wastage Details"})}),s.jsxs(Tt,{className:"space-y-4",children:[e==="edit"&&s.jsxs("div",{children:[s.jsx(je,{className:"mb-2",children:"Wastage No"}),s.jsx(Ge,{disabled:!0,...u("wastageNo")})]}),s.jsx($r,{control:f,name:"wastageDate",render:({field:ie})=>s.jsx(aR,{id:"wastageDate",label:"Wastage Date",value:ie.value,onChange:ie.onChange})}),s.jsxs("div",{children:[s.jsx(je,{className:"mb-2",children:"Invoice No"}),s.jsx(Ge,{...u("invoiceNo")}),y.invoiceNo&&s.jsx("p",{className:"text-xs text-red-600",children:y.invoiceNo.message})]}),s.jsx($r,{control:f,name:"invoiceDate",render:({field:ie})=>s.jsx(aR,{id:"invoiceDate",label:"Invoice Date",value:ie.value,onChange:ie.onChange})}),s.jsxs("div",{children:[s.jsx(je,{className:"mb-2",children:"Notes"}),s.jsx(eh,{rows:3,...u("notes")})]})]})]}),s.jsxs(At,{children:[s.jsx(Dt,{children:s.jsx(rr,{children:"Depot"})}),s.jsx(Tt,{className:"space-y-4",children:s.jsx($r,{control:f,name:"depotId",render:({field:ie})=>s.jsxs("div",{children:[s.jsx(je,{className:"mb-2 block w-full",htmlFor:"depotId",children:"Depot"}),s.jsxs(Wt,{value:ie.value,onValueChange:ie.onChange,disabled:!!(l!=null&&l.depotId),children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select depot"})}),s.jsx(Kt,{children:S.map(le=>s.jsx(ct,{value:String(le.id),children:le.name},le.id))})]}),y.depotId&&s.jsx("p",{className:"text-xs text-red-600",children:y.depotId.message})]})})})]})]}),s.jsxs(At,{children:[s.jsxs(Dt,{className:"flex-row items-center justify-between",children:[s.jsx(rr,{children:"Items"}),s.jsxs(pe,{type:"button",size:"sm",onClick:()=>R({productId:"",variantId:"",quantity:1}),children:[s.jsx(Cn,{className:"mr-2 size-4"})," Add Item"]})]}),s.jsxs(Tt,{children:[s.jsx("div",{className:"space-y-4",children:O.map((ie,le)=>{const B=x(`details.${le}.productId`),U=N.filter(F=>String(F.productId)===B);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 border rounded-md items-end",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(je,{children:"Product"}),s.jsx($r,{control:f,name:`details.${le}.productId`,render:({field:F})=>s.jsxs(Wt,{value:F.value,onValueChange:F.onChange,children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select Product"})}),s.jsx(Kt,{children:w.map(W=>s.jsx(ct,{value:String(W.id),children:W.name},W.id))})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(je,{children:"Variant"}),s.jsx($r,{control:f,name:`details.${le}.variantId`,render:({field:F})=>s.jsxs(Wt,{value:F.value,onValueChange:W=>{F.onChange(W)},children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select Variant"})}),s.jsx(Kt,{children:U.map(W=>s.jsx(ct,{value:String(W.id),children:W.name},W.id))})]})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(je,{children:"Quantity"}),s.jsx(Ge,{type:"number",...u(`details.${le}.quantity`,{valueAsNumber:!0})})]}),s.jsx("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:s.jsxs(ua,{children:[s.jsx(bh,{asChild:!0,children:s.jsx(pe,{type:"button",size:"icon",variant:"ghost",children:s.jsx(un,{className:"size-4 text-red-500"})})}),s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Remove item?"}),s.jsx(xa,{children:"This will remove the selected line item from the wastage."})]}),s.jsxs(ma,{children:[s.jsx(ya,{children:"Cancel"}),s.jsx(ga,{onClick:()=>L(le),children:"Continue"})]})]})]})})]},ie.id)})}),y.details&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in y.details?y.details.message:null})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(pe,{type:"submit",disabled:M.isPending,children:"Save Wastage"})})]})};function dme(){return s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{}),s.jsx(Tt,{children:s.jsx(pB,{mode:"create"})})]})})}function ume(){const{id:e}=Xn(),{data:t,isLoading:r,isError:n}=jr({queryKey:["wastage",e],queryFn:()=>ut(`/wastages/${e}`),enabled:!!e});return r?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx(Wr,{className:"animate-spin"})}):n||!t?(he.error("Failed to load wastage"),null):s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{}),s.jsx(Tt,{children:s.jsx(pB,{mode:"edit",wastageId:e,initialData:t})})]})})}const fme=Nr.object({identifier:Nr.string().min(1,"Email or mobile is required"),password:Nr.string().min(1,"Password is required")}),iR=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState(""),[a,i]=g.useState(!1),o=Ia(),l=gr(),u=o.pathname.startsWith("/admin"),f=_n(),h=C=>C&&C.role==="MEMBER"?"/member/products/1":C&&C.role==="DepotAdmin"?"/admin/purchases":C&&C.role==="ADMIN"||C&&C.role==="VENDOR"||C&&C.role==="AGENCY"?"/admin/dashboard":"/",{register:p,handleSubmit:x,setError:y,formState:{errors:w}}=en({resolver:tn(fme)});g.useEffect(()=>{var C;(C=o.state)!=null&&C.unauthorized&&l(o.pathname,{replace:!0,state:{}})},[o,l]);const b=Rr({mutationFn:async C=>await Ur("/auth/login",C),onSuccess:C=>{if(console.log("Login successful:",C),console.log("[Login.tsx] Login API Response Data:",C),console.log("[Login.tsx] Access Token from data:",C.accesstoken,"Type:",typeof C.accesstoken),localStorage.setItem("authToken",C.token||C.accesstoken),localStorage.setItem("refreshToken",C.token),localStorage.setItem("user",JSON.stringify(C.user)),localStorage.setItem("roles",JSON.stringify(C.user.accessibleChapters||[])),C.user.member&&C.user.member.id&&localStorage.setItem("memberId",C.user.member.id.toString()),C.requiresPolicyAcceptance)console.log("Login successful, policy acceptance required. Fetching policy..."),N.mutate();else{he.success("Login successful!"),f.invalidateQueries({queryKey:["user"]});const k=h(C.user);l(k)}},onError:C=>{var R;const T=C.errors&&Array.isArray(C.errors)?(C.errors.forEach(L=>{if(L.path&&L.message&&Array.isArray(L.path)){const M=L.path[L.path.length-1]||L.path[0];typeof M=="string"&&(M==="identifier"||M==="password")&&y(M,{type:"server",message:L.message})}}),!0):!1,O=((R=C.data)==null?void 0:R.message)||C.message;C.status===403&&O&&O.toLowerCase().includes("account is inactive")?he.error(O):(!T||C.status===401)&&he.error(O||"An error occurred during login."),console.error("Login error details:",C)}}),N=Rr({mutationFn:async()=>(i(!0),await ut("/auth/policy-text")),onSuccess:C=>{n(C.policyText),t(!0)},onError:C=>{he.error(C.message||"Failed to load policy."),console.error("Policy fetch error:",C)},onSettled:()=>{i(!1)}}),j=Rr({mutationFn:async()=>await Ja("/auth/accept-policy",{}),onSuccess:C=>{const k=C.user||JSON.parse(localStorage.getItem("user")||"null");localStorage.setItem("user",JSON.stringify(k)),he.success("Policy accepted. Login complete!"),f.invalidateQueries({queryKey:["user"]});const T=h(k);l(T),t(!1)},onError:C=>{he.error(C.message||"Failed to accept policy. Please try again."),console.error("Accept policy error:",C)}}),S=C=>{b.mutate(C)},A=()=>{t(!1)},_=()=>{j.mutate()};return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-border",children:[s.jsx("h2",{className:"text-2xl font-bold text-center",children:"Accept Terms & Conditions"}),s.jsxs("p",{className:"text-center text-muted-foreground mt-2",children:["To continue using ",Kx,", please review and accept our policy"]})]}),s.jsx("div",{className:"p-6 overflow-y-auto flex-grow bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"prose prose-sm max-w-none bg-white dark:bg-gray-800 p-6 rounded-lg border",children:a?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx(Wr,{className:"animate-spin text-primary",size:24})}):s.jsx("div",{dangerouslySetInnerHTML:{__html:r}})})}),s.jsxs("div",{className:"p-6 border-t border-border flex flex-col sm:flex-row justify-end gap-3",children:[s.jsx(pe,{variant:"outline",onClick:A,disabled:a||b.isPending||j.isPending,className:"w-full sm:w-auto",children:"Cancel"}),s.jsxs(pe,{onClick:_,disabled:a||b.isPending||!r||j.isPending,className:"w-full sm:w-auto",children:[j.isPending?s.jsx(Wr,{className:"animate-spin mr-2",size:16}):null,"Agree & Continue"]})]})]})}),s.jsxs("div",{className:"w-full max-w-md mx-auto mt-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[o.pathname!=="/"&&s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome back"}),o.pathname!=="/"&&s.jsxs("p",{className:"text-muted-foreground",children:["Sign in to continue to ",Kx]})]}),s.jsx("form",{onSubmit:x(S),children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"identifier",children:"Email or Mobile"}),s.jsx(Ge,{id:"identifier",type:"text",placeholder:"name@example.com or 9876543210",...p("identifier"),disabled:b.isPending||j.isPending,className:"py-5 px-4"}),w.identifier&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),w.identifier.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(je,{htmlFor:"password",children:"Password"}),s.jsx(Or,{to:u?"/admin/forgot-password":"/forgot-password",className:"text-sm font-medium text-primary hover:underline",children:"Forgot password?"})]}),s.jsx(vn,{id:"password",placeholder:"",...p("password"),disabled:b.isPending||j.isPending,className:"py-5 px-4"}),w.password&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),w.password.message]})]}),s.jsx(pe,{type:"submit",className:"w-full py-5 font-semibold",disabled:b.isPending||j.isPending,children:b.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"animate-spin mr-2",size:20}),"Signing in..."]}):"Sign In"}),o.pathname!=="/"&&s.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6 pt-4 border-t border-border",children:["Don't have an account?"," ",s.jsx(Or,{to:u?"/admin/register":"/register",className:"font-semibold text-primary hover:underline p-0 h-auto",children:"Create account"})]})]})})]})]})},hme=async e=>ut("/variant-stocks",e),xB=async()=>ut("/admin/depots/all-list"),mme=()=>{const[e,t]=g.useState(null),[r,n]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState(1),[u,f]=g.useState(1),[h,p]=g.useState(0),[x,y]=g.useState(""),[w,b]=g.useState(!1),[N,j]=g.useState(!0),S=g.useRef(null),A=g.useCallback(async()=>{j(!0);try{const T=await xB();n(T),T.length&&t(T[0].id)}catch(T){he.error(T.message||"Failed to fetch depots")}finally{j(!1)}},[]),_=g.useCallback(async()=>{if(e){b(!0);try{const T=await hme({depotId:e,page:o,limit:10,search:x});i(T.data),f(T.totalPages||1),p(T.totalRecords||T.data.length)}catch(T){he.error(T.message||"Failed to fetch stocks")}finally{b(!1)}}},[e,o,x]),C=T=>{y(T),l(1)};g.useEffect(()=>{A()},[A]),g.useEffect(()=>(S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{_()},500),()=>{S.current&&clearTimeout(S.current)}),[_]);const k=()=>{y(""),l(1)};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 md:p-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Variant Stock"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[h," variants across ",r.length," depots"]})]}),s.jsxs("div",{className:"w-full md:w-auto flex flex-col-reverse md:flex-row gap-3",children:[s.jsxs("div",{className:"relative w-full md:w-64",children:[s.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx(Ge,{className:"pl-10 pr-10",placeholder:"Search products or variants...",value:x,onChange:T=>C(T.target.value)}),x&&s.jsx(pe,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:bg-transparent",onClick:k,children:s.jsx(No,{size:18})})]}),s.jsx("div",{className:"w-full md:w-48",children:s.jsxs(Wt,{value:e?e.toString():void 0,onValueChange:T=>{t(parseInt(T,10)),l(1)},disabled:N,children:[s.jsx(Yt,{children:N?s.jsx(Ct,{className:"h-5 w-full"}):s.jsx(Gt,{placeholder:"Select depot"})}),s.jsx(Kt,{children:r.map(T=>s.jsx(ct,{value:T.id.toString(),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),T.name]})},T.id))})]})})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ls,{children:[s.jsx(Bs,{className:"bg-gray-50",children:s.jsxs(tr,{children:[s.jsx(Ye,{className:"w-[45%]",children:"Product"}),s.jsx(Ye,{className:"w-[30%]",children:"Variant"}),s.jsx(Ye,{className:"text-right w-[25%]",children:"Closing Quantity"})]})}),s.jsx($s,{children:w?Array.from({length:5}).map((T,O)=>s.jsxs(tr,{children:[s.jsx(Ue,{children:s.jsx(Ct,{className:"h-4 w-3/4"})}),s.jsx(Ue,{children:s.jsx(Ct,{className:"h-4 w-2/3"})}),s.jsx(Ue,{className:"text-right",children:s.jsx(Ct,{className:"h-4 w-1/4 ml-auto"})})]},O)):a.length>0?a.map(T=>s.jsxs(tr,{className:"hover:bg-gray-50",children:[s.jsx(Ue,{className:"font-medium",children:T.product.name}),s.jsx(Ue,{className:"text-gray-600",children:T.variant.name}),s.jsx(Ue,{className:"text-right font-medium",children:s.jsx("span",{className:"bg-blue-50 text-blue-700 py-1 px-3 rounded-full text-sm",children:T.closingQty})})]},T.id)):s.jsx(tr,{children:s.jsx(Ue,{colSpan:3,className:"text-center py-10",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(Is,{size:36,className:"text-gray-400"}),s.jsx("h3",{className:"font-medium text-gray-700",children:"No stock records found"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Try changing your search or depot selection"})]})})})})]})}),u>1&&s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",a.length," of ",h," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>l(T=>Math.max(T-1,1)),disabled:o===1||w,children:[s.jsx(Bp,{size:16,className:"mr-1"})," Previous"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,u)},(T,O)=>{let R;return u<=5||o<=3?R=O+1:o>=u-2?R=u-4+O:R=o-2+O,s.jsx(pe,{variant:o===R?"solid":"ghost",size:"sm",onClick:()=>l(R),disabled:w,children:R},R)}),u>5&&o<u-2&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"px-2",children:"..."}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>l(u),disabled:w,children:u})]})]}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>l(T=>Math.min(T+1,u)),disabled:o===u||w,children:["Next ",s.jsx(Nu,{size:16,className:"ml-1"})]})]})]})]})})};function zc(e,t){console.log("Error from server:",e.errors);const r=e.errors;r&&Object.entries(r).forEach(([n,a])=>{t(n,a)})}const pme=Nr.object({name:Nr.string().nonempty("Name is required"),email:Nr.string().email("Invalid email address").optional(),mobile:Nr.string().regex(/^\d{10}$/,"Mobile must be a 10 digit number").optional(),password:Nr.string().nonempty("Password is required").min(5,"Password must be at least 5 characters long"),confirmPassword:Nr.string().nonempty("Confirm Password is required")}).refine(e=>!!(e.email||e.mobile),{message:"Either email or mobile is required",path:["email"]}).refine(e=>e.password===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),oR=()=>{var f;const e=Ia(),t=gr(),r=e.pathname==="/admin/register",{register:n,handleSubmit:a,setError:i,formState:{errors:o}}=en({resolver:tn(pme)}),l=Rr({mutationFn:h=>Ur("/auth/register",h),onSuccess:()=>{he.success("Registration successful! Please log in."),e.pathname==="/admin/register"&&t("/admin"),e.pathname==="/register"?t("/login"):window.location.reload()},onError:h=>{if(h.status===409){h.message.toLowerCase().includes("mobile")?i("mobile",{type:"manual",message:h.message}):h.message.toLowerCase().includes("email")?i("email",{type:"manual",message:h.message}):he.error(h.message);return}zc(h,i),h.message?he.error(h.message):he.error("An unexpected error occurred")}}),u=h=>{l.mutate(h)};return s.jsxs("div",{className:"w-full max-w-md mx-auto mt-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[e.pathname!=="/"&&s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create your account"}),e.pathname!=="/"&&s.jsxs("p",{className:"text-muted-foreground",children:["Join ",Kx," today to get started."]})]}),s.jsx("form",{onSubmit:a(u),children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"name",children:"Full Name"}),s.jsx(Ge,{id:"name",type:"text",placeholder:"Your full name",...n("name"),disabled:l.isPending,className:"py-5 px-4"}),o.name&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.name.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"email",children:"Email Address"}),s.jsx(Ge,{id:"email",type:"email",placeholder:"name@example.com",...n("email"),disabled:l.isPending,className:"py-5 px-4"}),o.email&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),(f=o.email)==null?void 0:f.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(Ge,{id:"mobile",max:10,maxLength:10,type:"tel",placeholder:"9876543210",...n("mobile"),disabled:l.isPending,className:"py-5 px-4"}),o.mobile&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.mobile.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"password",children:"Password"}),s.jsx(vn,{id:"password",placeholder:"",...n("password"),disabled:l.isPending,className:"py-5 px-4"}),o.password&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.password.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(vn,{id:"confirmPassword",placeholder:"",...n("confirmPassword"),disabled:l.isPending,className:"py-5 px-4"}),o.confirmPassword&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.confirmPassword.message]})]}),s.jsx(pe,{type:"submit",className:"w-full py-5 font-semibold",disabled:l.isPending,children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"animate-spin mr-2",size:20}),"Creating account..."]}):"Create Account"}),e.pathname!=="/"&&s.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6 pt-4 border-t border-border",children:["Already have an account?"," ",s.jsx(Or,{to:r?"/admin":"/login",className:"font-semibold text-primary hover:underline p-0 h-auto",children:"Sign In"})]})]})})]})},xme=Nr.object({email:Nr.string().email("Invalid email address").min(1,"Email is required")}),gme=()=>{const e=gr(),{register:t,handleSubmit:r,setError:n,formState:{errors:a}}=en({resolver:tn(xme)}),i=Rr({mutationFn:l=>Ur("/auth/forgot-password",l),onSuccess:()=>{he.success("Password reset instructions have been sent to your email."),e("/")},onError:l=>{zc(l,n),l.message?he.error(l.message):he.error("An unexpected error occurred")}}),o=l=>{const u=`${window.location.origin}/reset-password`;i.mutate({...l,resetUrl:u})};return s.jsx("form",{className:"p-6 md:p-8",onSubmit:r(o),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Forgot Password"}),s.jsx("p",{className:"text-balance text-muted-foreground",children:"Enter your email address to reset your password"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"email",children:"Email"}),s.jsx(Ge,{id:"email",type:"email",...t("email"),required:!0,disabled:i.isPending}),a.email&&s.jsx("span",{className:"text-red-500",children:a.email.message})]}),s.jsx(pe,{type:"submit",className:"w-full",disabled:i.isPending,children:i.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"}),s.jsxs("div",{className:"text-center text-sm",children:["Remember your password?"," ",s.jsx("a",{href:"/",className:"underline underline-offset-4",children:"Login"})]})]})})},yme=Nr.object({password:Nr.string().min(6,"Password must be at least 6 characters long").min(1,"Password is required"),confirmPassword:Nr.string().min(1,"Confirm Password is required")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),vme=()=>{const{register:e,setError:t,handleSubmit:r,formState:{errors:n}}=en({resolver:tn(yme)}),a=gr(),{token:i}=Xn(),o=Rr({mutationFn:u=>Ur(`/auth/reset-password/${i}`,{password:u.password}),onSuccess:()=>{he.success("Password reset successful!"),a("/")},onError:u=>{zc(u,t),u.message?he.error(u.message):he.error("An unexpected error occurred")}}),l=u=>{if(!i){he.error("Invalid or missing reset token");return}o.mutate({password:u.password})};return s.jsx("form",{className:"p-6 md:p-8",onSubmit:r(l),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Reset Password"}),s.jsx("p",{className:"text-balance text-muted-foreground",children:"Enter your new password to reset your account"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"password",children:"New Password"}),s.jsx(vn,{id:"password",type:"password",...e("password"),required:!0,disabled:o.isPending}),n.password&&s.jsx("span",{className:"text-red-500",children:n.password.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(vn,{id:"confirmPassword",type:"password",...e("confirmPassword"),required:!0,disabled:o.isPending}),n.confirmPassword&&s.jsx("span",{className:"text-red-500",children:n.confirmPassword.message})]}),s.jsx(pe,{type:"submit",className:"w-full",disabled:o.isPending,children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})};function Ms(e){const t="en-US",r="INR";return new Intl.NumberFormat(t,{style:"currency",currency:r}).format(e)}function bme(e){const t="en-US",r=typeof e=="string"?new Date(e):e;return new Intl.DateTimeFormat(t,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}var lR=1,wme=.9,Nme=.8,jme=.17,hS=.1,mS=.999,Sme=.9999,Eme=.99,Ame=/[\\\/_+.#"@\[\(\{&]/,Cme=/[\\\/_+.#"@\[\(\{&]/g,Tme=/[\s-]/,gB=/[\s-]/g;function hA(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?lR:Eme;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var u=n.charAt(i),f=r.indexOf(u,a),h=0,p,x,y,w;f>=0;)p=hA(e,t,r,n,f+1,i+1,o),p>h&&(f===a?p*=lR:Ame.test(e.charAt(f-1))?(p*=Nme,y=e.slice(a,f-1).match(Cme),y&&a>0&&(p*=Math.pow(mS,y.length))):Tme.test(e.charAt(f-1))?(p*=wme,w=e.slice(a,f-1).match(gB),w&&a>0&&(p*=Math.pow(mS,w.length))):(p*=jme,a>0&&(p*=Math.pow(mS,f-a))),e.charAt(f)!==t.charAt(i)&&(p*=Sme)),(p<hS&&r.charAt(f-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(f-1)!==n.charAt(i))&&(x=hA(e,t,r,n,f+1,i+2,o),x*hS>p&&(p=x*hS)),p>h&&(h=p),f=r.indexOf(u,f+1);return o[l]=h,h}function cR(e){return e.toLowerCase().replace(gB," ")}function _me(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,hA(e,t,cR(e),cR(t),0,0,{})}function vu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function dR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ku(...e){return t=>{let r=!1;const n=e.map(a=>{const i=dR(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():dR(e[a],null)}}}}function wh(...e){return g.useCallback(ku(...e),e)}function kme(e,t){const r=g.createContext(t),n=i=>{const{children:o,...l}=i,u=g.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:u,children:o})};n.displayName=e+"Provider";function a(i){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Dme(e,t=[]){let r=[];function n(i,o){const l=g.createContext(o),u=r.length;r=[...r,o];const f=p=>{var j;const{scope:x,children:y,...w}=p,b=((j=x==null?void 0:x[e])==null?void 0:j[u])||l,N=g.useMemo(()=>w,Object.values(w));return s.jsx(b.Provider,{value:N,children:y})};f.displayName=i+"Provider";function h(p,x){var b;const y=((b=x==null?void 0:x[e])==null?void 0:b[u])||l,w=g.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,h]}const a=()=>{const i=r.map(o=>g.createContext(o));return function(l){const u=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return a.scopeName=e,[n,Ome(a,...t)]}function Ome(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:u,scopeName:f})=>{const p=u(i)[`__scope${f}`];return{...l,...p}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Rme=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Pme=dC.useId||(()=>{}),Mme=0;function Pc(e){const[t,r]=g.useState(Pme());return Rme(()=>{r(n=>n??String(Mme++))},[e]),t?`radix-${t}`:""}function yB(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Ime({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Fme({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=yB(r),u=g.useCallback(f=>{if(i){const p=typeof f=="function"?f(e):f;p!==e&&l(p)}else a(f)},[i,e,a,l]);return[o,u]}function Fme({defaultProp:e,onChange:t}){const r=g.useState(e),[n]=r,a=g.useRef(n),i=yB(t);return g.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var vB=g.forwardRef((e,t)=>{const{children:r,...n}=e,a=g.Children.toArray(r),i=a.find(Bme);if(i){const o=i.props.children,l=a.map(u=>u===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:u);return s.jsx(mA,{...n,ref:t,children:g.isValidElement(o)?g.cloneElement(o,void 0,l):null})}return s.jsx(mA,{...n,ref:t,children:r})});vB.displayName="Slot";var mA=g.forwardRef((e,t)=>{const{children:r,...n}=e;if(g.isValidElement(r)){const a=Ume(r),i=$me(n,r.props);return r.type!==g.Fragment&&(i.ref=t?ku(t,a):a),g.cloneElement(r,i)}return g.Children.count(r)>1?g.Children.only(null):null});mA.displayName="SlotClone";var Lme=({children:e})=>s.jsx(s.Fragment,{children:e});function Bme(e){return g.isValidElement(e)&&e.type===Lme}function $me(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Ume(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Vme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],va=Vme.reduce((e,t)=>{const r=g.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?vB:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function qme(e,t){e&&ch.flushSync(()=>e.dispatchEvent(t))}function MT(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function zme(e,t=globalThis==null?void 0:globalThis.document){const r=MT(e);g.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Hme="DismissableLayer",pA="dismissableLayer.update",Wme="dismissableLayer.pointerDownOutside",Gme="dismissableLayer.focusOutside",uR,bB=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wB=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(bB),[h,p]=g.useState(null),x=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),w=wh(t,T=>p(T)),b=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(N),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,_=S>=j,C=Qme(T=>{const O=T.target,R=[...f.branches].some(L=>L.contains(O));!_||R||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},x),k=Xme(T=>{const O=T.target;[...f.branches].some(L=>L.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},x);return zme(T=>{S===f.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},x),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(uR=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),fR(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=uR)}},[h,x,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),fR())},[h,f]),g.useEffect(()=>{const T=()=>y({});return document.addEventListener(pA,T),()=>document.removeEventListener(pA,T)},[]),s.jsx(va.div,{...u,ref:w,style:{pointerEvents:A?_?"auto":"none":void 0,...e.style},onFocusCapture:vu(e.onFocusCapture,k.onFocusCapture),onBlurCapture:vu(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:vu(e.onPointerDownCapture,C.onPointerDownCapture)})});wB.displayName=Hme;var Yme="DismissableLayerBranch",Kme=g.forwardRef((e,t)=>{const r=g.useContext(bB),n=g.useRef(null),a=wh(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(va.div,{...e,ref:a})});Kme.displayName=Yme;function Qme(e,t=globalThis==null?void 0:globalThis.document){const r=MT(e),n=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let u=function(){NB(Wme,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Xme(e,t=globalThis==null?void 0:globalThis.document){const r=MT(e),n=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!n.current&&NB(Gme,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function fR(){const e=new CustomEvent(pA);document.dispatchEvent(e)}function NB(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?qme(a,i):a.dispatchEvent(i)}function hR(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var pS="focusScope.autoFocusOnMount",xS="focusScope.autoFocusOnUnmount",mR={bubbles:!1,cancelable:!0},Zme="FocusScope",jB=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=hR(a),h=hR(i),p=g.useRef(null),x=wh(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let b=function(A){if(y.paused||!l)return;const _=A.target;l.contains(_)?p.current=_:Qd(p.current,{select:!0})},N=function(A){if(y.paused||!l)return;const _=A.relatedTarget;_!==null&&(l.contains(_)||Qd(p.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const C of A)C.removedNodes.length>0&&Qd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),S.disconnect()}}},[n,l,y.paused]),g.useEffect(()=>{if(l){xR.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(pS,mR);l.addEventListener(pS,f),l.dispatchEvent(j),j.defaultPrevented||(Jme(npe(SB(l)),{select:!0}),document.activeElement===b&&Qd(l))}return()=>{l.removeEventListener(pS,f),setTimeout(()=>{const j=new CustomEvent(xS,mR);l.addEventListener(xS,h),l.dispatchEvent(j),j.defaultPrevented||Qd(b??document.body,{select:!0}),l.removeEventListener(xS,h),xR.remove(y)},0)}}},[l,f,h,y]);const w=g.useCallback(b=>{if(!r&&!n||y.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(N&&j){const S=b.currentTarget,[A,_]=epe(S);A&&_?!b.shiftKey&&j===_?(b.preventDefault(),r&&Qd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Qd(_,{select:!0})):j===S&&b.preventDefault()}},[r,n,y.paused]);return s.jsx(va.div,{tabIndex:-1,...o,ref:x,onKeyDown:w})});jB.displayName=Zme;function Jme(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qd(n,{select:t}),document.activeElement!==r)return}function epe(e){const t=SB(e),r=pR(t,e),n=pR(t.reverse(),e);return[r,n]}function SB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pR(e,t){for(const r of e)if(!tpe(r,{upTo:t}))return r}function tpe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rpe(e){return e instanceof HTMLInputElement&&"select"in e}function Qd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&rpe(e)&&t&&e.select()}}var xR=spe();function spe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=gR(e,t),e.unshift(t)},remove(t){var r;e=gR(e,t),(r=e[0])==null||r.resume()}}}function gR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function npe(e){return e.filter(t=>t.tagName!=="A")}var ape=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},ipe="Portal",EB=g.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=g.useState(!1);ape(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(s.jsx(va.div,{...n,ref:t}),o):null});EB.displayName=ipe;var yR=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{};function ope(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var Bw=e=>{const{present:t,children:r}=e,n=lpe(t),a=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=wh(n.ref,cpe(a));return typeof r=="function"||n.isPresent?g.cloneElement(a,{ref:i}):null};Bw.displayName="Presence";function lpe(e){const[t,r]=g.useState(),n=g.useRef({}),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,u]=ope(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const f=Zv(n.current);i.current=l==="mounted"?f:"none"},[l]),yR(()=>{const f=n.current,h=a.current;if(h!==e){const x=i.current,y=Zv(f);e?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(h&&x!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),yR(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,p=y=>{const b=Zv(n.current).includes(y.animationName);if(y.target===t&&b&&(u("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},x=y=>{y.target===t&&(i.current=Zv(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function Zv(e){return(e==null?void 0:e.animationName)||"none"}function cpe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gS=0;function dpe(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vR()),document.body.insertAdjacentElement("beforeend",e[1]??vR()),gS++,()=>{gS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gS--}},[])}function vR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var AB=g.forwardRef((e,t)=>{const{children:r,...n}=e,a=g.Children.toArray(r),i=a.find(fpe);if(i){const o=i.props.children,l=a.map(u=>u===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:u);return s.jsx(xA,{...n,ref:t,children:g.isValidElement(o)?g.cloneElement(o,void 0,l):null})}return s.jsx(xA,{...n,ref:t,children:r})});AB.displayName="Slot";var xA=g.forwardRef((e,t)=>{const{children:r,...n}=e;if(g.isValidElement(r)){const a=mpe(r),i=hpe(n,r.props);return r.type!==g.Fragment&&(i.ref=t?ku(t,a):a),g.cloneElement(r,i)}return g.Children.count(r)>1?g.Children.only(null):null});xA.displayName="SlotClone";var upe=({children:e})=>s.jsx(s.Fragment,{children:e});function fpe(e){return g.isValidElement(e)&&e.type===upe}function hpe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function mpe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var IT="Dialog",[CB,IRe]=Dme(IT),[ppe,fl]=CB(IT),TB=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),u=g.useRef(null),[f=!1,h]=Ime({prop:n,defaultProp:a,onChange:i});return s.jsx(ppe,{scope:t,triggerRef:l,contentRef:u,contentId:Pc(),titleId:Pc(),descriptionId:Pc(),open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:o,children:r})};TB.displayName=IT;var _B="DialogTrigger",xpe=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fl(_B,r),i=wh(t,a.triggerRef);return s.jsx(va.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":BT(a.open),...n,ref:i,onClick:vu(e.onClick,a.onOpenToggle)})});xpe.displayName=_B;var FT="DialogPortal",[gpe,kB]=CB(FT,{forceMount:void 0}),DB=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=fl(FT,t);return s.jsx(gpe,{scope:t,forceMount:r,children:g.Children.map(n,o=>s.jsx(Bw,{present:r||i.open,children:s.jsx(EB,{asChild:!0,container:a,children:o})}))})};DB.displayName=FT;var bb="DialogOverlay",OB=g.forwardRef((e,t)=>{const r=kB(bb,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=fl(bb,e.__scopeDialog);return i.modal?s.jsx(Bw,{present:n||i.open,children:s.jsx(ype,{...a,ref:t})}):null});OB.displayName=bb;var ype=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fl(bb,r);return s.jsx(uh,{as:AB,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(va.div,{"data-state":BT(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),th="DialogContent",RB=g.forwardRef((e,t)=>{const r=kB(th,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=fl(th,e.__scopeDialog);return s.jsx(Bw,{present:n||i.open,children:i.modal?s.jsx(vpe,{...a,ref:t}):s.jsx(bpe,{...a,ref:t})})});RB.displayName=th;var vpe=g.forwardRef((e,t)=>{const r=fl(th,e.__scopeDialog),n=g.useRef(null),a=wh(t,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return zp(i)},[]),s.jsx(PB,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vu(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:vu(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:vu(e.onFocusOutside,i=>i.preventDefault())})}),bpe=g.forwardRef((e,t)=>{const r=fl(th,e.__scopeDialog),n=g.useRef(!1),a=g.useRef(!1);return s.jsx(PB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),PB=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=fl(th,r),u=g.useRef(null),f=wh(t,u);return dpe(),s.jsxs(s.Fragment,{children:[s.jsx(jB,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(wB,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":BT(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Spe,{titleId:l.titleId}),s.jsx(Ape,{contentRef:u,descriptionId:l.descriptionId})]})]})}),LT="DialogTitle",wpe=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fl(LT,r);return s.jsx(va.h2,{id:a.titleId,...n,ref:t})});wpe.displayName=LT;var MB="DialogDescription",Npe=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fl(MB,r);return s.jsx(va.p,{id:a.descriptionId,...n,ref:t})});Npe.displayName=MB;var IB="DialogClose",jpe=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fl(IB,r);return s.jsx(va.button,{type:"button",...n,ref:t,onClick:vu(e.onClick,()=>a.onOpenChange(!1))})});jpe.displayName=IB;function BT(e){return e?"open":"closed"}var FB="DialogTitleWarning",[FRe,LB]=kme(FB,{contentName:th,titleName:LT,docsSlug:"dialog"}),Spe=({titleId:e})=>{const t=LB(FB),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Epe="DialogDescriptionWarning",Ape=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LB(Epe).contentName}}.`;return g.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Cpe=TB,Tpe=DB,_pe=OB,kpe=RB,px='[cmdk-group=""]',yS='[cmdk-group-items=""]',Dpe='[cmdk-group-heading=""]',BB='[cmdk-item=""]',bR=`${BB}:not([aria-disabled="true"])`,gA="cmdk-item-select",jm="data-value",Ope=(e,t,r)=>_me(e,t,r),$B=g.createContext(void 0),yy=()=>g.useContext($B),UB=g.createContext(void 0),$T=()=>g.useContext(UB),VB=g.createContext(void 0),qB=g.forwardRef((e,t)=>{let r=Sm(()=>{var P,X;return{search:"",value:(X=(P=e.value)!=null?P:e.defaultValue)!=null?X:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Sm(()=>new Set),a=Sm(()=>new Map),i=Sm(()=>new Map),o=Sm(()=>new Set),l=zB(e),{label:u,children:f,value:h,onValueChange:p,filter:x,shouldFilter:y,loop:w,disablePointerSelection:b=!1,vimBindings:N=!0,...j}=e,S=Pc(),A=Pc(),_=Pc(),C=g.useRef(null),k=qpe();rh(()=>{if(h!==void 0){let P=h.trim();r.current.value=P,T.emit()}},[h]),rh(()=>{k(6,V)},[]);let T=g.useMemo(()=>({subscribe:P=>(o.current.add(P),()=>o.current.delete(P)),snapshot:()=>r.current,setState:(P,X,K)=>{var H,J,ce,ae;if(!Object.is(r.current[P],X)){if(r.current[P]=X,P==="search")G(),L(),k(1,M);else if(P==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ee=document.getElementById(_);ee?ee.focus():(H=document.getElementById(S))==null||H.focus()}if(k(7,()=>{var ee;r.current.selectedItemId=(ee=ie())==null?void 0:ee.id,T.emit()}),K||k(5,V),((J=l.current)==null?void 0:J.value)!==void 0){let ee=X??"";(ae=(ce=l.current).onValueChange)==null||ae.call(ce,ee);return}}T.emit()}},emit:()=>{o.current.forEach(P=>P())}}),[]),O=g.useMemo(()=>({value:(P,X,K)=>{var H;X!==((H=i.current.get(P))==null?void 0:H.value)&&(i.current.set(P,{value:X,keywords:K}),r.current.filtered.items.set(P,R(X,K)),k(2,()=>{L(),T.emit()}))},item:(P,X)=>(n.current.add(P),X&&(a.current.has(X)?a.current.get(X).add(P):a.current.set(X,new Set([P]))),k(3,()=>{G(),L(),r.current.value||M(),T.emit()}),()=>{i.current.delete(P),n.current.delete(P),r.current.filtered.items.delete(P);let K=ie();k(4,()=>{G(),(K==null?void 0:K.getAttribute("id"))===P&&M(),T.emit()})}),group:P=>(a.current.has(P)||a.current.set(P,new Set),()=>{i.current.delete(P),a.current.delete(P)}),filter:()=>l.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:S,inputId:_,labelId:A,listInnerRef:C}),[]);function R(P,X){var K,H;let J=(H=(K=l.current)==null?void 0:K.filter)!=null?H:Ope;return P?J(P,r.current.search,X):0}function L(){if(!r.current.search||l.current.shouldFilter===!1)return;let P=r.current.filtered.items,X=[];r.current.filtered.groups.forEach(H=>{let J=a.current.get(H),ce=0;J.forEach(ae=>{let ee=P.get(ae);ce=Math.max(ee,ce)}),X.push([H,ce])});let K=C.current;le().sort((H,J)=>{var ce,ae;let ee=H.getAttribute("id"),ne=J.getAttribute("id");return((ce=P.get(ne))!=null?ce:0)-((ae=P.get(ee))!=null?ae:0)}).forEach(H=>{let J=H.closest(yS);J?J.appendChild(H.parentElement===J?H:H.closest(`${yS} > *`)):K.appendChild(H.parentElement===K?H:H.closest(`${yS} > *`))}),X.sort((H,J)=>J[1]-H[1]).forEach(H=>{var J;let ce=(J=C.current)==null?void 0:J.querySelector(`${px}[${jm}="${encodeURIComponent(H[0])}"]`);ce==null||ce.parentElement.appendChild(ce)})}function M(){let P=le().find(K=>K.getAttribute("aria-disabled")!=="true"),X=P==null?void 0:P.getAttribute(jm);T.setState("value",X||void 0)}function G(){var P,X,K,H;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let J=0;for(let ce of n.current){let ae=(X=(P=i.current.get(ce))==null?void 0:P.value)!=null?X:"",ee=(H=(K=i.current.get(ce))==null?void 0:K.keywords)!=null?H:[],ne=R(ae,ee);r.current.filtered.items.set(ce,ne),ne>0&&J++}for(let[ce,ae]of a.current)for(let ee of ae)if(r.current.filtered.items.get(ee)>0){r.current.filtered.groups.add(ce);break}r.current.filtered.count=J}function V(){var P,X,K;let H=ie();H&&(((P=H.parentElement)==null?void 0:P.firstChild)===H&&((K=(X=H.closest(px))==null?void 0:X.querySelector(Dpe))==null||K.scrollIntoView({block:"nearest"})),H.scrollIntoView({block:"nearest"}))}function ie(){var P;return(P=C.current)==null?void 0:P.querySelector(`${BB}[aria-selected="true"]`)}function le(){var P;return Array.from(((P=C.current)==null?void 0:P.querySelectorAll(bR))||[])}function B(P){let X=le()[P];X&&T.setState("value",X.getAttribute(jm))}function U(P){var X;let K=ie(),H=le(),J=H.findIndex(ae=>ae===K),ce=H[J+P];(X=l.current)!=null&&X.loop&&(ce=J+P<0?H[H.length-1]:J+P===H.length?H[0]:H[J+P]),ce&&T.setState("value",ce.getAttribute(jm))}function F(P){let X=ie(),K=X==null?void 0:X.closest(px),H;for(;K&&!H;)K=P>0?Upe(K,px):Vpe(K,px),H=K==null?void 0:K.querySelector(bR);H?T.setState("value",H.getAttribute(jm)):U(P)}let W=()=>B(le().length-1),q=P=>{P.preventDefault(),P.metaKey?W():P.altKey?F(1):U(1)},Q=P=>{P.preventDefault(),P.metaKey?B(0):P.altKey?F(-1):U(-1)};return g.createElement(va.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:P=>{var X;(X=j.onKeyDown)==null||X.call(j,P);let K=P.nativeEvent.isComposing||P.keyCode===229;if(!(P.defaultPrevented||K))switch(P.key){case"n":case"j":{N&&P.ctrlKey&&q(P);break}case"ArrowDown":{q(P);break}case"p":case"k":{N&&P.ctrlKey&&Q(P);break}case"ArrowUp":{Q(P);break}case"Home":{P.preventDefault(),B(0);break}case"End":{P.preventDefault(),W();break}case"Enter":{P.preventDefault();let H=ie();if(H){let J=new Event(gA);H.dispatchEvent(J)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:Hpe},u),$w(e,P=>g.createElement(UB.Provider,{value:T},g.createElement($B.Provider,{value:O},P))))}),Rpe=g.forwardRef((e,t)=>{var r,n;let a=Pc(),i=g.useRef(null),o=g.useContext(VB),l=yy(),u=zB(e),f=(n=(r=u.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;rh(()=>{if(!f)return l.item(a,o==null?void 0:o.id)},[f]);let h=HB(a,i,[e.value,e.children,i],e.keywords),p=$T(),x=Hc(k=>k.value&&k.value===h.current),y=Hc(k=>f||l.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);g.useEffect(()=>{let k=i.current;if(!(!k||e.disabled))return k.addEventListener(gA,w),()=>k.removeEventListener(gA,w)},[y,e.onSelect,e.disabled]);function w(){var k,T;b(),(T=(k=u.current).onSelect)==null||T.call(k,h.current)}function b(){p.setState("value",h.current,!0)}if(!y)return null;let{disabled:N,value:j,onSelect:S,forceMount:A,keywords:_,...C}=e;return g.createElement(va.div,{ref:ku(i,t),...C,id:a,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!x,"data-disabled":!!N,"data-selected":!!x,onPointerMove:N||l.getDisablePointerSelection()?void 0:b,onClick:N?void 0:w},e.children)}),Ppe=g.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Pc(),l=g.useRef(null),u=g.useRef(null),f=Pc(),h=yy(),p=Hc(y=>a||h.filter()===!1?!0:y.search?y.filtered.groups.has(o):!0);rh(()=>h.group(o),[]),HB(o,l,[e.value,e.heading,u]);let x=g.useMemo(()=>({id:o,forceMount:a}),[a]);return g.createElement(va.div,{ref:ku(l,t),...i,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&g.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:f},r),$w(e,y=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?f:void 0},g.createElement(VB.Provider,{value:x},y))))}),Mpe=g.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=g.useRef(null),i=Hc(o=>!o.search);return!r&&!i?null:g.createElement(va.div,{ref:ku(a,t),...n,"cmdk-separator":"",role:"separator"})}),Ipe=g.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=$T(),o=Hc(f=>f.search),l=Hc(f=>f.selectedItemId),u=yy();return g.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),g.createElement(va.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":l,id:u.inputId,type:"text",value:a?e.value:o,onChange:f=>{a||i.setState("search",f.target.value),r==null||r(f.target.value)}})}),Fpe=g.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=g.useRef(null),o=g.useRef(null),l=Hc(f=>f.selectedItemId),u=yy();return g.useEffect(()=>{if(o.current&&i.current){let f=o.current,h=i.current,p,x=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let y=f.offsetHeight;h.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return x.observe(f),()=>{cancelAnimationFrame(p),x.unobserve(f)}}},[]),g.createElement(va.div,{ref:ku(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:u.listId},$w(e,f=>g.createElement("div",{ref:ku(o,u.listInnerRef),"cmdk-list-sizer":""},f)))}),Lpe=g.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return g.createElement(Cpe,{open:r,onOpenChange:n},g.createElement(Tpe,{container:o},g.createElement(_pe,{"cmdk-overlay":"",className:a}),g.createElement(kpe,{"aria-label":e.label,"cmdk-dialog":"",className:i},g.createElement(qB,{ref:t,...l}))))}),Bpe=g.forwardRef((e,t)=>Hc(r=>r.filtered.count===0)?g.createElement(va.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),$pe=g.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return g.createElement(va.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},$w(e,o=>g.createElement("div",{"aria-hidden":!0},o)))}),ri=Object.assign(qB,{List:Fpe,Item:Rpe,Input:Ipe,Group:Ppe,Separator:Mpe,Dialog:Lpe,Empty:Bpe,Loading:$pe});function Upe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Vpe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function zB(e){let t=g.useRef(e);return rh(()=>{t.current=e}),t}var rh=typeof window>"u"?g.useEffect:g.useLayoutEffect;function Sm(e){let t=g.useRef();return t.current===void 0&&(t.current=e()),t}function Hc(e){let t=$T(),r=()=>e(t.snapshot());return g.useSyncExternalStore(t.subscribe,r,r)}function HB(e,t,r,n=[]){let a=g.useRef(),i=yy();return rh(()=>{var o;let l=(()=>{var f;for(let h of r){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(f=h.current.textContent)==null?void 0:f.trim():a.current}})(),u=n.map(f=>f.trim());i.value(e,l,u),(o=t.current)==null||o.setAttribute(jm,l),a.current=l}),a}var qpe=()=>{let[e,t]=g.useState(),r=Sm(()=>new Map);return rh(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function zpe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function $w({asChild:e,children:t},r){return e&&g.isValidElement(t)?g.cloneElement(zpe(t),{ref:t.ref},r(t.props.children)):r(t)}var Hpe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Wpe=lw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-white [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 ",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-gray-700"}},defaultVariants:{variant:"default"}});function Fr({className:e,variant:t,asChild:r=!1,...n}){const a=r?nw:"span";return s.jsx(a,{"data-slot":"badge",className:Ze(Wpe({variant:t}),e),...n})}const WB=g.forwardRef(({className:e,...t},r)=>s.jsx(ri,{ref:r,className:Ze("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));WB.displayName=ri.displayName;const Gpe=g.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Is,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(ri.Input,{ref:r,className:Ze("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Gpe.displayName=ri.Input.displayName;const GB=g.forwardRef(({className:e,...t},r)=>s.jsx(ri.List,{ref:r,className:Ze("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));GB.displayName=ri.List.displayName;const Ype=g.forwardRef((e,t)=>s.jsx(ri.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Ype.displayName=ri.Empty.displayName;const YB=g.forwardRef(({className:e,...t},r)=>s.jsx(ri.Group,{ref:r,className:Ze("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));YB.displayName=ri.Group.displayName;const Kpe=g.forwardRef(({className:e,...t},r)=>s.jsx(ri.Separator,{ref:r,className:Ze("-mx-1 h-px bg-border",e),...t}));Kpe.displayName=ri.Separator.displayName;const Ax=g.forwardRef(({className:e,...t},r)=>s.jsx(ri.Item,{ref:r,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-gray-700-foreground data-[disabled=true]:opacity-50",e),...t}));Ax.displayName=ri.Item.displayName;function Qpe(e,t){const[r,n]=g.useState(e);return g.useEffect(()=>{const a=setTimeout(()=>n(e),t);return()=>{clearTimeout(a)}},[e,t]),r}function Jv(e,t){if(e.length===0)return{};if(!t)return{"":e};const r={};return e.forEach(n=>{const a=n[t]||"";r[a]||(r[a]=[]),r[a].push(n)}),r}function Xpe(e,t){const r=JSON.parse(JSON.stringify(e));for(const[n,a]of Object.entries(r))r[n]=a.filter(i=>!t.find(o=>o.value===i.value));return r}function Zpe(e,t){for(const[,r]of Object.entries(e))if(r.some(n=>t.find(a=>a.value===n.value)))return!0;return!1}const KB=g.forwardRef(({className:e,...t},r)=>Hc(a=>a.filtered.count===0)?s.jsx("div",{ref:r,className:Ze("py-6 text-center text-sm",e),"cmdk-empty":"",role:"presentation",...t}):null);KB.displayName="CommandEmpty";const QB=g.forwardRef(({value:e,onChange:t,placeholder:r,defaultOptions:n=[],options:a,delay:i,onSearch:o,onSearchSync:l,loadingIndicator:u,emptyIndicator:f,maxSelected:h=Number.MAX_SAFE_INTEGER,onMaxSelected:p,hidePlaceholderWhenSelected:x,disabled:y,groupBy:w,className:b,badgeClassName:N,selectFirstItem:j=!0,creatable:S=!1,triggerSearchOnFocus:A=!1,commandProps:_,inputProps:C,hideClearAllButton:k=!1},T)=>{const O=g.useRef(null),[R,L]=g.useState(!1),[M,G]=g.useState(!1),[V,ie]=g.useState(!1),le=g.useRef(null),[B,U]=g.useState(e||[]),[F,W]=g.useState(Jv(n,w)),[q,Q]=g.useState(""),P=Qpe(q,i||500);g.useImperativeHandle(T,()=>({selectedValue:[...B],input:O.current,focus:()=>{var ne;return(ne=O==null?void 0:O.current)==null?void 0:ne.focus()},reset:()=>U([])}),[B]);const X=ne=>{le.current&&!le.current.contains(ne.target)&&O.current&&!O.current.contains(ne.target)&&(L(!1),O.current.blur())},K=g.useCallback(ne=>{const ke=B.filter(we=>we.value!==ne.value);U(ke),t==null||t(ke)},[t,B]),H=g.useCallback(ne=>{const ke=O.current;ke&&((ne.key==="Delete"||ne.key==="Backspace")&&ke.value===""&&B.length>0&&(B[B.length-1].fixed||K(B[B.length-1])),ne.key==="Escape"&&ke.blur())},[K,B]);g.useEffect(()=>(R?(document.addEventListener("mousedown",X),document.addEventListener("touchend",X)):(document.removeEventListener("mousedown",X),document.removeEventListener("touchend",X)),()=>{document.removeEventListener("mousedown",X),document.removeEventListener("touchend",X)}),[R]),g.useEffect(()=>{e&&U(e)},[e]),g.useEffect(()=>{if(!a||o)return;const ne=Jv(a||[],w);JSON.stringify(ne)!==JSON.stringify(F)&&W(ne)},[n,a,w,o,F]),g.useEffect(()=>{const ne=()=>{const we=l==null?void 0:l(P);W(Jv(we||[],w))};(async()=>{!l||!R||(A&&ne(),P&&ne())})()},[P,w,R,A]),g.useEffect(()=>{const ne=async()=>{ie(!0);const we=await(o==null?void 0:o(P));W(Jv(we||[],w)),ie(!1)};(async()=>{!o||!R||(A&&await ne(),P&&await ne())})()},[P,w,R,A]);const J=()=>{if(!S||Zpe(F,[{value:q,label:q}])||B.find(ke=>ke.value===q))return;const ne=s.jsx(Ax,{value:q,className:"cursor-pointer",onMouseDown:ke=>{ke.preventDefault(),ke.stopPropagation()},onSelect:ke=>{if(B.length>=h){p==null||p(B.length);return}Q("");const we=[...B,{value:ke,label:ke}];U(we),t==null||t(we)},children:`Create "${q}"`});if(!o&&q.length>0||o&&P.length>0&&!V)return ne},ce=g.useCallback(()=>{if(f)return o&&!S&&Object.keys(F).length===0?s.jsx(Ax,{value:"-",disabled:!0,children:f}):s.jsx(KB,{children:f})},[S,f,o,F]),ae=g.useMemo(()=>Xpe(F,B),[F,B]),ee=g.useCallback(()=>{if(_!=null&&_.filter)return _.filter;if(S)return(ne,ke)=>ne.toLowerCase().includes(ke.toLowerCase())?1:-1},[S,_==null?void 0:_.filter]);return s.jsxs(WB,{ref:le,..._,onKeyDown:ne=>{var ke;H(ne),(ke=_==null?void 0:_.onKeyDown)==null||ke.call(_,ne)},className:Ze("h-auto overflow-visible bg-transparent",_==null?void 0:_.className),shouldFilter:(_==null?void 0:_.shouldFilter)!==void 0?_.shouldFilter:!o,filter:ee(),children:[s.jsx("div",{className:Ze("min-h-10 rounded-md border border-input text-base ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2 md:text-sm",{"px-3 py-2":B.length!==0,"cursor-text":!y&&B.length!==0},b),onClick:()=>{var ne;y||(ne=O==null?void 0:O.current)==null||ne.focus()},children:s.jsxs("div",{className:"relative flex flex-wrap gap-1",children:[B.map(ne=>s.jsxs(Fr,{className:Ze("data-[disabled]:bg-muted-foreground data-[disabled]:text-muted data-[disabled]:hover:bg-muted-foreground","data-[fixed]:bg-muted-foreground data-[fixed]:text-muted data-[fixed]:hover:bg-muted-foreground",N),"data-fixed":ne.fixed,"data-disabled":y||void 0,children:[ne.label,s.jsx("button",{type:"button",className:Ze("ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",(y||ne.fixed)&&"hidden"),onKeyDown:ke=>{ke.key==="Enter"&&K(ne)},onMouseDown:ke=>{ke.preventDefault(),ke.stopPropagation()},onClick:()=>K(ne),children:s.jsx(No,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},ne.value)),s.jsx(ri.Input,{...C,ref:O,value:q,disabled:y,onValueChange:ne=>{var ke;Q(ne),(ke=C==null?void 0:C.onValueChange)==null||ke.call(C,ne)},onBlur:ne=>{var ke;M||L(!1),(ke=C==null?void 0:C.onBlur)==null||ke.call(C,ne)},onFocus:ne=>{var ke;L(!0),(ke=C==null?void 0:C.onFocus)==null||ke.call(C,ne)},placeholder:x&&B.length!==0?"":r,className:Ze("flex-1 bg-transparent outline-none placeholder:text-muted-foreground",{"w-full":x,"px-3 py-2":B.length===0,"ml-1":B.length!==0},C==null?void 0:C.className)}),s.jsx("button",{type:"button",onClick:()=>{U(B.filter(ne=>ne.fixed)),t==null||t(B.filter(ne=>ne.fixed))},className:Ze("absolute right-0 h-6 w-6 p-0",(k||y||B.length<1||B.filter(ne=>ne.fixed).length===B.length)&&"hidden"),children:s.jsx(No,{})})]})}),s.jsx("div",{className:"relative",children:R&&s.jsx(GB,{className:"absolute top-1 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",onMouseLeave:()=>{G(!1)},onMouseEnter:()=>{G(!0)},onMouseUp:()=>{var ne;(ne=O==null?void 0:O.current)==null||ne.focus()},children:V?s.jsx(s.Fragment,{children:u}):s.jsxs(s.Fragment,{children:[ce(),J(),!j&&s.jsx(Ax,{value:"-",className:"hidden"}),Object.entries(ae).map(([ne,ke])=>s.jsx(YB,{heading:ne,className:"h-full overflow-auto",children:s.jsx(s.Fragment,{children:ke.map(we=>s.jsx(Ax,{value:we.label,disabled:we.disable,onMouseDown:et=>{et.preventDefault(),et.stopPropagation()},onSelect:()=>{if(B.length>=h){p==null||p(B.length);return}Q("");const et=[...B,we];U(et),t==null||t(et)},className:Ze("cursor-pointer",we.disable&&"cursor-default text-muted-foreground"),children:we.label},we.value))})},ne))]})})})]})});QB.displayName="MultipleSelector";const vy=({currentPage:e,totalPages:t,totalRecords:r,recordsPerPage:n,onPageChange:a,onRecordsPerPageChange:i})=>{const o=r===0?0:(e-1)*n+1,l=Math.min(e*n,r);return g.useEffect(()=>{e>t&&t>0&&a(t)},[e,t,a]),s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3 gap-3",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.jsx("span",{className:"font-medium",children:o})," to"," ",s.jsx("span",{className:"font-medium",children:l})," of"," ",s.jsx("span",{className:"font-medium",children:r})," records"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Records per page:"}),s.jsxs(Wt,{value:(n==null?void 0:n.toString())||"10",onValueChange:u=>i(Number(u)),children:[s.jsx(Yt,{className:"w-[70px] h-8",children:s.jsx(Gt,{placeholder:`${n||10}`})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"5",children:"5"}),s.jsx(ct,{value:"10",children:"10"}),s.jsx(ct,{value:"20",children:"20"}),s.jsx(ct,{value:"50",children:"50"}),s.jsx(ct,{value:"100",children:"100"})]})]})]})]}),t>0&&s.jsx("div",{className:"flex justify-center md:justify-end w-full overflow-x-auto py-1",children:s.jsx(e0,{children:s.jsxs(t0,{children:[s.jsx($d,{children:s.jsx(r0,{onClick:()=>e>1&&a(e-1),className:e===1?"pointer-events-none opacity-50":"cursor-pointer"})}),t<=7?Array.from({length:t},(u,f)=>f+1).map(u=>s.jsx($d,{children:s.jsx(Rm,{isActive:e===u,onClick:()=>a(u),children:u})},u)):s.jsxs(s.Fragment,{children:[s.jsx($d,{children:s.jsx(Rm,{isActive:e===1,onClick:()=>a(1),children:"1"})}),e>3&&s.jsx($d,{children:s.jsx("span",{className:"px-4",children:"..."})}),Array.from({length:t},(u,f)=>f+1).filter(u=>u!==1&&u!==t&&(Math.abs(u-e)<2||e<=3&&u<=5||e>=t-2&&u>=t-4)).map(u=>s.jsx($d,{children:s.jsx(Rm,{isActive:e===u,onClick:()=>a(u),children:u})},u)),e<t-2&&s.jsx($d,{children:s.jsx("span",{className:"px-4",children:"..."})}),s.jsx($d,{children:s.jsx(Rm,{isActive:e===t,onClick:()=>a(t),children:t})})]}),s.jsx($d,{children:s.jsx(s0,{onClick:()=>e<t&&a(e+1),className:e>=t?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})};var I1={exports:{}},Jpe=I1.exports,wR;function e0e(){return wR||(wR=1,function(e,t){(function(r,n){n()})(Jpe,function(){function r(f,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function n(f,h,p){var x=new XMLHttpRequest;x.open("GET",f),x.responseType="blob",x.onload=function(){u(x.response,h,p)},x.onerror=function(){console.error("could not download file")},x.send()}function a(f){var h=new XMLHttpRequest;h.open("HEAD",f,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function i(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof bo=="object"&&bo.global===bo?bo:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(f,h,p){var x=o.URL||o.webkitURL,y=document.createElement("a");h=h||f.name||"download",y.download=h,y.rel="noopener",typeof f=="string"?(y.href=f,y.origin===location.origin?i(y):a(y.href)?n(f,h,p):i(y,y.target="_blank")):(y.href=x.createObjectURL(f),setTimeout(function(){x.revokeObjectURL(y.href)},4e4),setTimeout(function(){i(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,h,p){if(h=h||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(r(f,p),h);else if(a(f))n(f,h,p);else{var x=document.createElement("a");x.href=f,x.target="_blank",setTimeout(function(){i(x)})}}:function(f,h,p,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof f=="string")return n(f,h,p);var y=f.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||y&&w||l)&&typeof FileReader<"u"){var N=new FileReader;N.onloadend=function(){var A=N.result;A=b?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=A:location=A,x=null},N.readAsDataURL(f)}else{var j=o.URL||o.webkitURL,S=j.createObjectURL(f);x?x.location=S:location.href=S,x=null,setTimeout(function(){j.revokeObjectURL(S)},4e4)}});o.saveAs=u.saveAs=u,e.exports=u})}(I1)),I1.exports}var t0e=e0e();const r0e=Nr.object({newPassword:Nr.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Nr.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),s0e=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=g.useState(""),[i,o]=g.useState(""),l=Rr({mutationFn:f=>Ja(`/users/${e}/password`,{password:f}),onSuccess:()=>{he.success("Password changed successfully!"),r()},onError:f=>{he.error(f.message||"Failed to change password. Please try again.")}}),u=f=>{var p;f.preventDefault();const h=r0e.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const x=(p=h.error.errors[0])==null?void 0:p.message;he.error(x||"Validation failed");return}l.mutate(n)};return s.jsx(Xr,{open:t,onOpenChange:r,children:s.jsxs(Zr,{className:"sm:max-w-[425px]",children:[s.jsx(rs,{children:s.jsx(ss,{children:"Change Password"})}),s.jsxs("form",{onSubmit:u,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(vn,{value:n,onChange:f=>a(f.target.value),required:!0,className:"w-full"}),s.jsx(vn,{value:i,onChange:f=>o(f.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(pe,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})};var Uw="Switch",[n0e,LRe]=da(Uw),[a0e,i0e]=n0e(Uw),XB=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:u="on",onCheckedChange:f,form:h,...p}=e,[x,y]=g.useState(null),w=Zt(t,A=>y(A)),b=g.useRef(!1),N=x?h||!!x.closest("form"):!0,[j,S]=Ao({prop:a,defaultProp:i??!1,onChange:f,caller:Uw});return s.jsxs(a0e,{scope:r,checked:j,disabled:l,children:[s.jsx(It.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":t$(j),"data-disabled":l?"":void 0,disabled:l,value:u,...p,ref:w,onClick:gt(e.onClick,A=>{S(_=>!_),N&&(b.current=A.isPropagationStopped(),b.current||A.stopPropagation())})}),N&&s.jsx(e$,{control:x,bubbles:!b.current,name:n,value:u,checked:j,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});XB.displayName=Uw;var ZB="SwitchThumb",JB=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=i0e(ZB,r);return s.jsx(It.span,{"data-state":t$(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});JB.displayName=ZB;var o0e="SwitchBubbleInput",e$=g.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=g.useRef(null),l=Zt(o,i),u=Mw(r),f=vw(t);return g.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==r&&y){const w=new Event("click",{bubbles:n});y.call(h,r),h.dispatchEvent(w)}},[u,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});e$.displayName=o0e;function t$(e){return e?"checked":"unchecked"}var l0e=XB,c0e=JB;function wb({className:e,...t}){return s.jsx(l0e,{"data-slot":"switch",className:Ze("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(c0e,{"data-slot":"switch-thumb",className:Ze("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const d0e=e=>e?e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):"",u0e=ys({name:at().min(1,"Name is required"),email:at().email("Invalid email address"),password:at().min(6,"Password must be at least 6 characters long").optional(),role:at().min(1,"Role is required"),active:rl().optional()}),f0e=["VENDOR","AGENCY","ADMIN","MEMBER"],Nb=({mode:e,userId:t,onSuccess:r,className:n})=>{const a=f0e,i=_n(),{id:o}=Xn(),l=t??o,{register:u,handleSubmit:f,setValue:h,watch:p,control:x,setError:y,formState:{errors:w}}=en({resolver:tn(u0e)}),b=p("active");g.useEffect(()=>{e==="edit"&&l&&(async()=>{try{const k=await ut(`/users/${l}`);h("name",k.name),h("email",k.email),h("role",k.role),h("active",k.active)}catch{he.error("Failed to fetch user details")}})()},[l,e,h]);const N=Rr({mutationFn:C=>Ur("/users",C),onSuccess:()=>{he.success("User created successfully"),i.invalidateQueries({queryKey:["users"]}),r==null||r()},onError:C=>{zc(C,y),C.message?he.error(C.message):he.error("Failed to create user")}}),j=Rr({mutationFn:C=>Js(`/users/${l}`,C),onSuccess:()=>{he.success("User updated successfully"),i.invalidateQueries({queryKey:["users"]}),r==null||r()},onError:C=>{zc(C,y),C.message?he.error(C.message):he.error("Failed to update user")}}),S=C=>{e==="create"?N.mutate(C):j.mutate(C)},A=()=>{r&&r()};return s.jsx("div",{className:n,children:s.jsx(_,{})});function _(){return s.jsxs("form",{onSubmit:f(S),className:"space-y-7",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"name",children:"Full Name"}),s.jsx(Ge,{id:"name",type:"text",...u("name")}),w.name&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"email",children:"Email Address"}),s.jsx(Ge,{id:"email",type:"email",...u("email")}),w.email&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.email.message})]}),e==="create"&&s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"password",children:"Password"}),s.jsx(vn,{id:"password",...u("password")}),w.password&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.password.message})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"role",children:"Role"}),s.jsx($r,{name:"role",control:x,render:({field:C})=>s.jsxs(Wt,{value:C.value,onValueChange:C.onChange,children:[s.jsx(Yt,{children:s.jsx(Gt,{})}),s.jsx(Kt,{children:a.map(k=>s.jsxs(ct,{value:k,children:[d0e(k)," "]},k))})]})}),w.role&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.role.message})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{htmlFor:"active",children:"Active"}),s.jsx(wb,{id:"active",checked:b,onCheckedChange:C=>h("active",C)})]})]}),s.jsxs("div",{className:"justify-end flex gap-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:N.isPending||j.isPending,className:"flex items-center justify-center gap-2",children:N.isPending||j.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"animate-spin h-4 w-4"}),"Saving..."]}):e==="create"?"Create":"Update"})]})]})}},h0e=({isOpen:e,onClose:t})=>s.jsx(Xr,{open:e,onOpenChange:t,children:s.jsxs(Zr,{className:"sm:max-w-[600px]",children:[s.jsx(rs,{children:s.jsx(ss,{children:"Create New User"})}),s.jsx(Nb,{mode:"create",onSuccess:t,className:"mt-4"})]})}),m0e=({isOpen:e,onClose:t,userId:r})=>s.jsx(Xr,{open:e,onOpenChange:t,children:s.jsxs(Zr,{className:"sm:max-w-[600px]",children:[s.jsx(rs,{children:s.jsx(ss,{children:"Edit User"})}),s.jsx(Nb,{mode:"edit",userId:r,onSuccess:t,className:"mt-4"})]})}),p0e=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "),x0e=async(e,t,r,n,a,i,o)=>{const l=i.length>0?`&roles=${i.join(",")}`:"";return await ut(`/users?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}${l}&limit=${o}`)},g0e=()=>{const e=_n(),[t,r]=g.useState(1),[n,a]=g.useState(10),[i,o]=g.useState("name"),[l,u]=g.useState("asc"),[f,h]=g.useState(""),[p,x]=g.useState("all"),[y,w]=g.useState([]),[b,N]=g.useState([]),[j,S]=g.useState(!1),[A,_]=g.useState(!1),[C,k]=g.useState(null),[T,O]=g.useState(!1),[R,L]=g.useState(null),[M,G]=g.useState(!1),[V,ie]=g.useState(!1),[le,B]=g.useState(null);gr(),g.useEffect(()=>{(async()=>{})()},[]);const{data:U,isLoading:F,isError:W,refetch:q}=jr({queryKey:["users",t,i,l,f,p,y,n],queryFn:()=>x0e(t,i,l,f,p,y,n)}),Q=(U==null?void 0:U.users)||[],P=(U==null?void 0:U.totalPages)||1,X=(U==null?void 0:U.totalUsers)||0,K=Rr({mutationFn:Ce=>Ln(`/users/${Ce}`),onSuccess:()=>{he.success("User deleted successfully"),e.invalidateQueries(["users"])},onError:()=>{he.error("Failed to delete user")}}),H=Ce=>{L(Ce),O(!0)},J=()=>{R&&(K.mutate(R),O(!1),L(null))},ce=Rr({mutationFn:({userId:Ce,active:De})=>Ja(`/users/${Ce}/status`,{active:De}),onSuccess:()=>{he.success("User status updated successfully"),e.invalidateQueries(["users"])},onError:()=>{he.error("Failed to update user status")}}),ae=(Ce,De)=>{ce.mutate({userId:Ce,active:!De})},ee=Ce=>{i===Ce?u(l==="asc"?"desc":"asc"):(o(Ce),u("asc"))},ne=Ce=>{h(Ce.target.value),r(1)},ke=Ce=>{x(Ce),r(1)},we=Ce=>{w(Ce.map(De=>De.value)),r(1)},et=async()=>{try{const Ce=y.length>0?`roles=${encodeURIComponent(y.join(","))}`:"",Et=`/users?${[`sortBy=${encodeURIComponent(i)}`,`sortOrder=${encodeURIComponent(l)}`,`search=${encodeURIComponent(f)}`,`active=${encodeURIComponent(p)}`,Ce,"export=true"].filter(Boolean).join("&")}`,_t=await ut(Et,null,{responseType:"blob"}),xe=new Blob([_t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});t0e.saveAs(xe,"users.xlsx"),he.success("User data exported successfully")}catch(Ce){console.error("Export Error:",Ce),he.error("Failed to export user data")}},Ee=Ce=>{k(Ce),_(!0)},Te=()=>{k(null),_(!1)},Fe=Ce=>{B(Ce),ie(!0)},ue=()=>{ie(!1),B(null)};return s.jsxs("div",{className:"mt-2 p-4 sm:p-6",children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"User Management"}),s.jsx(At,{className:"mx-auto mt-6 sm:mt-10",children:s.jsxs(Tt,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsx("div",{className:"flex-grow",children:s.jsx(Ge,{value:f,onChange:ne,className:"w-full",icon:s.jsx(Is,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(pe,{variant:j||y.length>0||p!=="all"?"default":"outline",className:`
                  ${j||y.length>0||p!=="all"?"bg-primary hover:bg-primary/90 text-white shadow-sm":"hover:bg-accent"}
                  transition-all duration-200
                `,onClick:()=>S(!j),children:[s.jsx($p,{className:`mr-2 h-4 w-4 ${j?"text-white":""}`}),"Filters",(y.length>0||p!=="all")&&s.jsx("span",{className:"ml-2 bg-white text-primary font-medium rounded-full px-2 py-0.5 text-xs",children:y.length+(p!=="all"?1:0)})]}),s.jsxs(pe,{variant:"outline",onClick:et,disabled:F||Q.length===0,children:[s.jsx(EC,{className:"mr-2 h-4 w-4"}),"Export"]}),s.jsxs(pe,{onClick:()=>G(!0),className:"bg-primary hover:bg-primary/90 text-white shadow-sm transition-all duration-200 hover:shadow-md",children:[s.jsx(Hs,{className:"mr-2 h-5 w-5"}),"Add"]})]})]}),j&&s.jsx(At,{className:"p-4",children:s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),s.jsxs(Wt,{value:p,onValueChange:ke,children:[s.jsx(Yt,{children:s.jsx(Gt,{})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"all",children:"All Users"}),s.jsx(ct,{value:"true",children:"Active Users"}),s.jsx(ct,{value:"false",children:"Inactive Users"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Roles"}),b.length>0?s.jsx(QB,{defaultOptions:b,selectedOptions:y.map(Ce=>({label:p0e(Ce),value:Ce})),onChange:we}):s.jsxs("div",{className:"h-10 flex items-center text-gray-500",children:[s.jsx(gp,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading roles..."]})]}),s.jsx("div",{className:"flex justify-end mt-7",children:s.jsx(pe,{size:"sm",onClick:()=>{h(""),x("all"),w([]),r(1),S(!1)},children:"Clear Filters"})})]})}),s.jsx(E8,{className:"mb-4"}),F?s.jsx("div",{className:"flex justify-center items-center h-32",children:s.jsx(gp,{className:"mr-2 h-8 w-8 animate-spin"})}):W?s.jsx("div",{className:"text-center text-red-500",children:"Failed to load users."}):Q.length>0?s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsxs(tr,{children:[s.jsx(Ye,{onClick:()=>ee("name"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Name"}),i==="name"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Pl,{size:16}):s.jsx(Ha,{size:16})})]})}),s.jsx(Ye,{onClick:()=>ee("email"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Email"}),i==="email"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Pl,{size:16}):s.jsx(Ha,{size:16})})]})}),s.jsx(Ye,{onClick:()=>ee("role"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Role"}),i==="role"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Pl,{size:16}):s.jsx(Ha,{size:16})})]})}),s.jsx(Ye,{onClick:()=>ee("lastLogin"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Last Login"}),i==="lastLogin"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Pl,{size:16}):s.jsx(Ha,{size:16})})]})}),s.jsx(Ye,{onClick:()=>ee("active"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Active"}),i==="active"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Pl,{size:16}):s.jsx(Ha,{size:16})})]})}),s.jsx(Ye,{children:"Actions"})]})}),s.jsx($s,{children:Q.map(Ce=>s.jsxs(tr,{children:[s.jsx(Ue,{children:Ce.name}),s.jsx(Ue,{children:Ce.email}),s.jsx(Ue,{children:s.jsx(Fr,{variant:"outline",children:Ce.role.split(" ").map(De=>De.charAt(0).toUpperCase()+De.slice(1)).join(" ")})}),s.jsx(Ue,{children:Ce.lastLogin?bme(Ce.lastLogin):"Never"}),s.jsx(Ue,{children:Ce.active?s.jsx(Fr,{variant:"outline",children:"Active"}):s.jsx(Fr,{variant:"secondary",children:"Inactive"})}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>Fe(Ce.id.toString()),children:s.jsx(Za,{size:16})}),s.jsx(pe,{variant:"destructive",size:"sm",onClick:()=>H(Ce.id),children:s.jsx(un,{size:16})}),s.jsxs(gh,{modal:!1,children:[s.jsx(yh,{asChild:!0,children:s.jsxs(pe,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(Qg,{className:"h-4 w-4"})]})}),s.jsx(vh,{className:"w-56",children:s.jsxs(Cw,{children:[s.jsx(gn,{onClick:()=>ae(Ce.id,Ce.active),children:s.jsxs("div",{className:"flex items-center gap-2",children:[Ce.active?s.jsx(Vi,{className:"h-4 w-4"}):s.jsx(Ka,{className:"h-4 w-4"}),s.jsxs("span",{children:["Set ",Ce.active?"Inactive":"Active"]})]})}),s.jsx(gn,{onClick:()=>Ee(Ce.id),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(TC,{className:"h-4 w-4"}),s.jsx("span",{children:"Change Password"})]})})]})})]})]})})]},Ce.id))})]}),s.jsx(vy,{currentPage:t,totalPages:P,totalRecords:X,recordsPerPage:n,onPageChange:r,onRecordsPerPageChange:Ce=>{a(Ce),r(1)}})]}):s.jsx("div",{className:"text-center",children:"No users found."})]})}),C&&s.jsx(s0e,{userId:C,isOpen:A,onClose:Te}),s.jsx(Xp,{isOpen:T,title:"Confirm Deletion",description:"Are you sure you want to delete this user? This action cannot be undone.",onCancel:()=>{O(!1),L(null)},onConfirm:J}),s.jsx(h0e,{isOpen:M,onClose:()=>G(!1)}),le&&s.jsx(m0e,{isOpen:V,onClose:ue,userId:le})]})},y0e=ys({name:at().min(1,"Name is required"),email:at().email("Invalid email address"),mobile:at().optional().refine(e=>!e||/^\d{10,15}$/.test(e),{message:"Mobile number must be 10-15 digits if provided."})}),v0e=()=>{const{memberId:e}=Xn(),t=gr(),r=_n(),{register:n,handleSubmit:a,setValue:i,setError:o,formState:{errors:l,isSubmitting:u}}=en({resolver:tn(y0e)});g.useEffect(()=>{e&&(async()=>{var x,y;try{const w=await ut(`/admin/users/${e}`);i("name",w.name),i("email",w.email),w.mobile&&i("mobile",w.mobile.toString())}catch(w){he.error(((y=(x=w.response)==null?void 0:x.data)==null?void 0:y.message)||"Failed to fetch member details"),t("/admin/members")}})()},[e,i,t]);const f=Rr({mutationFn:p=>Js(`/admin/users/${e}`,p),onSuccess:()=>{he.success("Member details updated successfully"),r.invalidateQueries({queryKey:["admin-members-list"]}),r.invalidateQueries({queryKey:["user",e]}),t("/admin/members")},onError:p=>{var x,y;zc(p,o),he.error(((y=(x=p.response)==null?void 0:x.data)==null?void 0:y.message)||"Failed to update member details")}}),h=p=>{f.mutate(p)};return s.jsx("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8 flex justify-center",children:s.jsxs(At,{className:"w-full ",children:[s.jsx(Dt,{children:s.jsx(rr,{children:"Edit Member Details "})}),s.jsxs("form",{onSubmit:a(h),children:[s.jsxs(Tt,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"name",children:"Full Name"}),s.jsx(Ge,{id:"name",type:"text",...n("name")}),l.name&&s.jsx("span",{className:"text-red-500 text-sm mt-1",children:l.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"email",children:"Email Address"}),s.jsx(Ge,{id:"email",type:"email",...n("email")}),l.email&&s.jsx("span",{className:"text-red-500 text-sm mt-1",children:l.email.message})]})]}),s.jsxs($u,{className:"flex justify-end gap-4 pt-6",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>t("/admin/members"),disabled:u||f.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:u||f.isPending,className:"flex items-center justify-center gap-2",children:u||f.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"animate-spin h-4 w-4"}),"Saving..."]}):"Update Customer"})]})]})]})})},b0e=Nr.object({newPassword:Nr.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Nr.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),w0e=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=g.useState(""),[i,o]=g.useState(""),l=Rr({mutationFn:f=>Ja(`/users/${e}/password`,{password:f}),onSuccess:()=>{he.success("Password changed successfully!"),r()},onError:f=>{he.error(f.message||"Failed to change password. Please try again.")}}),u=f=>{var p;f.preventDefault();const h=b0e.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const x=(p=h.error.errors[0])==null?void 0:p.message;he.error(x||"Validation failed");return}l.mutate(n)};return s.jsx(Xr,{open:t,onOpenChange:r,children:s.jsxs(Zr,{className:"sm:max-w-[425px]",children:[s.jsx(rs,{children:s.jsx(ss,{children:"Change Password"})}),s.jsxs("form",{onSubmit:u,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(vn,{value:n,onChange:f=>a(f.target.value),required:!0,className:"w-full"}),s.jsx(vn,{value:i,onChange:f=>o(f.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(pe,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})},N0e=async(e,t,r,n,a,i)=>{const o=await ut(`/vendors?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}&limit=${i}`);return Array.isArray(o),o},j0e=()=>{const e=_n(),t=gr(),[r,n]=g.useState(1),[a,i]=g.useState(10),[o,l]=g.useState("name"),[u,f]=g.useState("asc"),[h,p]=g.useState(""),[x,y]=g.useState("all"),[w,b]=g.useState(!1),[N,j]=g.useState(!1),[S,A]=g.useState(null),[_,C]=g.useState(!1),[k,T]=g.useState(null),{data:O,isLoading:R,isError:L,error:M}=jr({queryKey:["vendors",r,o,u,h,x,a],queryFn:()=>N0e(r,o,u,h,x,a),placeholderData:H=>H}),G=Array.isArray(O)?O:(O==null?void 0:O.data)||[],V=Array.isArray(O)?Math.ceil(O.length/a):(O==null?void 0:O.totalPages)||1,ie=Array.isArray(O)?O.length:(O==null?void 0:O.totalRecords)||0,le=Rr({mutationFn:H=>Ln(`/vendors/${H}`),onSuccess:()=>{he.success("Farmer deleted successfully."),e.invalidateQueries({queryKey:["vendors"]}),C(!1),T(null)},onError:H=>{he.error(`Failed to delete vendor: ${H.message}`),C(!1)}}),B=Rr({mutationFn:({vendorUserId:H,active:J})=>Ja(`/users/${H}/status`,{active:J}),onSuccess:(H,J)=>{he.success(`Farmer user status updated to ${J.active?"Active":"Inactive"}.`),e.invalidateQueries({queryKey:["vendors"]})},onError:H=>{he.error(`Failed to update status: ${H.message}`)}}),U=H=>{o===H?f(u==="asc"?"desc":"asc"):(l(H),f("asc")),n(1)},F=H=>{p(H.target.value),n(1)},W=H=>{y(H),n(1)},q=()=>{A(null),j(!1),e.invalidateQueries({queryKey:["vendors"]})},Q=H=>{T(H),C(!0)},P=()=>{k&&le.mutate(k)},X=H=>{H.user&&H.user.id?B.mutate({vendorUserId:H.user.id,active:!H.user.active}):he.error("User information not available for this vendor.")};if(R)return s.jsxs("div",{className:"flex justify-center items-center h-64",children:[s.jsx(gp,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2 text-lg",children:"Loading farmers..."})]});if(L)return s.jsx("div",{className:"text-center py-10",children:s.jsxs("p",{className:"text-red-500 text-lg",children:["Error loading farmers: ",M==null?void 0:M.message]})});const K=H=>o===H?u==="asc"?s.jsx(Pl,{size:16}):s.jsx(Ha,{size:16}):null;return s.jsxs("div",{className:"container mx-auto py-4 px-2 sm:px-4 md:px-6 lg:px-8",children:[s.jsxs(At,{className:"shadow-lg",children:[s.jsx(Dt,{className:"bg-muted/50 p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[s.jsxs("div",{children:[s.jsx(rr,{className:"text-2xl font-semibold",children:"Farmers"}),s.jsx(yi,{className:"mt-1 text-sm text-muted-foreground",children:"Manage your farmers and their details."})]}),s.jsxs("div",{className:"mt-3 sm:mt-0 flex flex-col sm:flex-row gap-2",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>b(!w),className:"w-full sm:w-auto",children:[s.jsx($p,{size:16,className:"mr-2"}),w?"Hide":"Show"," Filters"]}),s.jsxs(pe,{size:"sm",onClick:()=>t("/admin/vendors/create"),className:"w-full sm:w-auto bg-green-600 hover:bg-primary text-white",children:[s.jsx(Hs,{size:16,className:"mr-2"}),"Add Farmer"]})]})]})}),s.jsxs(Tt,{className:"p-0",children:[w&&s.jsx("div",{className:"p-4 sm:p-6 border-b bg-slate-50",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Farmers"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ge,{id:"search",type:"text",value:h,onChange:F,className:"pl-10"}),s.jsx(Is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"activeFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"User Status"}),s.jsxs(Wt,{value:x,onValueChange:W,children:[s.jsx(Yt,{id:"activeFilter",children:s.jsx(Gt,{})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"all",children:"All Users"}),s.jsx(ct,{value:"true",children:"Active Users"}),s.jsx(ct,{value:"false",children:"Inactive Users"})]})]})]})]})}),G.length>0?s.jsx("div",{className:"overflow-x-auto px-4",children:s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsxs(tr,{children:[s.jsx(Ye,{className:"pl-6 cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>U("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Farmer Name ",K("name")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>U("contactPersonName"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Contact Person ",K("contactPersonName")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>U("email"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Email ",K("email")]})}),s.jsx(Ye,{className:"w-[130px]",children:"Mobile"}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px]",onClick:()=>U("city"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["City ",K("city")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px] text-center",onClick:()=>U("user.active"),children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:["User Active ",K("user.active")]})}),s.jsx(Ye,{className:"w-[150px] text-center pr-6",children:"Actions"})]})}),s.jsx($s,{children:G.map(H=>s.jsxs(tr,{className:"hover:bg-muted/50 transition-colors",children:[s.jsx(Ue,{className:"font-medium",children:H.name}),s.jsx(Ue,{children:H.contactPersonName||"N/A"}),s.jsx(Ue,{children:H.email}),s.jsx(Ue,{children:H.mobile}),s.jsx(Ue,{children:H.city}),s.jsx(Ue,{className:"text-center",children:H.user?s.jsx(Fr,{variant:H.user.active?"default":"destructive",children:H.user.active?"Active":"Inactive"}):s.jsx(Fr,{variant:"outline",children:"No User"})}),s.jsx(Ue,{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>t(`/admin/vendors/edit/${H.id}`),title:"Edit Farmer",children:s.jsx(Za,{size:16})}),s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>Q(H.id),title:"Delete Farmer",children:s.jsx(un,{size:16})}),H.user&&s.jsx(pe,{variant:"outline",size:"icon",className:"h-8 w-8 ml-2",onClick:()=>X(H),disabled:B.isPending,title:H.user.active?"Deactivate Farmer User":"Activate Farmer User",children:H.user.active?s.jsx(Vi,{size:16,className:"text-red-500"}):s.jsx(Ka,{size:16,className:"text-green-500"})})]})})]},H.id))})]})}):s.jsxs("div",{className:"text-center py-10 px-4",children:[s.jsx(Is,{size:48,className:"mx-auto text-gray-400 mb-3"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"No Farmer found."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search or filter criteria, or add a new farmer."})]})]}),G.length>0&&s.jsx($u,{className:"px-4 py-3 border-t",children:s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsx(vy,{currentPage:r,totalPages:V,totalRecords:ie,recordsPerPage:a,onPageChange:n,onRecordsPerPageChange:H=>{i(H),n(1)}})})})]}),S&&s.jsx(w0e,{userId:S,isOpen:N,onClose:q}),s.jsx(Xp,{isOpen:_,title:"Confirm Deletion",description:"Are you sure you want to delete this farmer? This action cannot be undone and might affect related records.",onCancel:()=>{C(!1),T(null)},onConfirm:P,confirmLabel:"Delete Farmer"})]})},S0e=Nr.object({newPassword:Nr.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Nr.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),E0e=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=g.useState(""),[i,o]=g.useState(""),l=Rr({mutationFn:f=>Ja(`/users/${e}/password`,{password:f}),onSuccess:()=>{he.success("Password changed successfully!"),r()},onError:f=>{he.error(f.message||"Failed to change password. Please try again.")}}),u=f=>{var p;f.preventDefault();const h=S0e.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const x=(p=h.error.errors[0])==null?void 0:p.message;he.error(x||"Validation failed");return}l.mutate(n)};return s.jsx(Xr,{open:t,onOpenChange:r,children:s.jsxs(Zr,{className:"sm:max-w-[425px]",children:[s.jsx(rs,{children:s.jsx(ss,{children:"Change Password"})}),s.jsxs("form",{onSubmit:u,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(vn,{value:n,onChange:f=>a(f.target.value),required:!0,className:"w-full"}),s.jsx(vn,{value:i,onChange:f=>o(f.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(pe,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})},A0e=async(e,t,r,n,a,i)=>{const o=await ut(`/agencies?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}&limit=${i}`);return Array.isArray(o),o},C0e=()=>{const e=_n(),t=gr(),[r,n]=g.useState(1),[a,i]=g.useState(10),[o,l]=g.useState("name"),[u,f]=g.useState("asc"),[h,p]=g.useState(""),[x,y]=g.useState("all"),[w,b]=g.useState(!1),[N,j]=g.useState(!1),[S,A]=g.useState(null),[_,C]=g.useState(!1),[k,T]=g.useState(null),{data:O,isLoading:R,isError:L,error:M}=jr({queryKey:["agencies",r,o,u,h,x,a],queryFn:()=>A0e(r,o,u,h,x,a),placeholderData:ee=>ee}),G=Array.isArray(O)?O:(O==null?void 0:O.data)||[],V=Array.isArray(O)?Math.ceil(O.length/a):(O==null?void 0:O.totalPages)||1,ie=Array.isArray(O)?O.length:(O==null?void 0:O.totalRecords)||0,le=Rr({mutationFn:ee=>Ln(`/agencies/${ee}`),onSuccess:()=>{he.success("Agency deleted successfully."),e.invalidateQueries({queryKey:["agencies"]}),C(!1),T(null)},onError:ee=>{he.error(`Failed to delete agency: ${ee.message}`),C(!1)}}),B=Rr({mutationFn:({agencyUserId:ee,active:ne})=>Ja(`/users/${ee}/status`,{active:ne}),onSuccess:(ee,ne)=>{he.success(`Partner user status updated to ${ne.active?"Active":"Inactive"}.`),e.invalidateQueries({queryKey:["agencies"]})},onError:ee=>{he.error(`Failed to update status: ${ee.message}`)}}),U=ee=>{o===ee?f(u==="asc"?"desc":"asc"):(l(ee),f("asc")),n(1)},F=ee=>{p(ee.target.value),n(1)},W=ee=>{y(ee),n(1)},q=ee=>{A(ee),j(!0)},Q=()=>{A(null),j(!1),e.invalidateQueries({queryKey:["agencies"]})},P=ee=>{T(ee),C(!0)},X=()=>{k&&le.mutate(k)},K=ee=>{ee.user&&B.mutate({agencyUserId:ee.user.id,active:!ee.user.active})},H=ee=>o===ee?u==="asc"?s.jsx(Pl,{size:16}):s.jsx(Ha,{size:16}):null,[J,ce]=g.useState({isOpen:!1,title:"",description:"",confirmButtonText:"",onConfirm:null}),ae=ee=>{n(ee)};return L&&M instanceof Error?s.jsx("div",{className:"p-4 text-red-600",children:s.jsxs("p",{children:["Error loading agencies: ",M.message]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(At,{className:"shadow-md",children:[s.jsx(Dt,{className:"pb-2",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(rr,{className:"text-2xl",children:"Delivery Partner"}),s.jsx(yi,{children:"Manage your delivery partner and their details."})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>b(!w),className:"w-full sm:w-auto",children:[s.jsx($p,{size:16,className:"mr-2"}),w?"Hide Filters":"Show Filters"]}),s.jsxs(pe,{size:"sm",onClick:()=>t("/admin/agencies/create"),className:"w-full sm:w-auto bg-green-600 hover:bg-primary text-white",children:[s.jsx(Hs,{size:16,className:"mr-2"}),"Add Delivery Partner"]})]})]})}),s.jsxs(Tt,{children:[w&&s.jsx("div",{className:"bg-muted/30 p-4 rounded-md mb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Is,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Ge,{value:h,onChange:F,className:"pl-8"})]})]}),s.jsxs("div",{className:"w-full sm:w-48",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),s.jsxs(Wt,{value:x,onValueChange:W,children:[s.jsx(Yt,{children:s.jsx(Gt,{})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"all",children:"All Users"}),s.jsx(ct,{value:"true",children:"Active Users"}),s.jsx(ct,{value:"false",children:"Inactive Users"})]})]})]})]})}),G.length>0?s.jsx("div",{className:"overflow-x-auto px-4",children:s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsxs(tr,{children:[s.jsx(Ye,{className:"pl-6 cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>U("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Delivery Partner Name ",H("name")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>U("mobile"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Mobile ",H("mobile")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>U("email"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Email ",H("email")]})}),s.jsx(Ye,{className:"w-[130px]",children:"Mobile"}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px]",onClick:()=>U("city"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["City ",H("city")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px] text-center",onClick:()=>U("user.active"),children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:["User Active ",H("user.active")]})}),s.jsx(Ye,{className:"w-[150px] text-center pr-6",children:"Actions"})]})}),s.jsx($s,{children:G.map(ee=>{var ne;return s.jsxs(tr,{children:[s.jsx(Ue,{className:"font-medium",children:ee.name}),s.jsx(Ue,{children:ee.mobile}),s.jsx(Ue,{children:ee.email}),s.jsx(Ue,{children:ee.mobile}),s.jsx(Ue,{children:ee.city}),s.jsx(Ue,{className:"text-center",children:ee.user&&s.jsx(Fr,{variant:ee.user.active?"default":"destructive",className:"inline-flex items-center justify-center",children:ee.user.active?s.jsxs(s.Fragment,{children:[s.jsx(Ka,{size:14,className:"mr-1"})," Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vi,{size:14,className:"mr-1"})," Inactive"]})})}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>t(`/admin/agencies/edit/${ee.id}`),title:"Edit Partner",children:s.jsx(Za,{size:16})}),s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>P(ee.id),title:"Delete Partner",children:s.jsx(un,{size:16})}),s.jsxs(gh,{modal:!1,children:[s.jsx(yh,{asChild:!0,children:s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Qg,{size:16})})}),s.jsx(vh,{align:"end",children:s.jsxs(Cw,{children:[s.jsx(gn,{onClick:()=>K(ee),disabled:!ee.user||B.isPending,children:(ne=ee.user)!=null&&ne.active?s.jsxs(s.Fragment,{children:[s.jsx(Vi,{size:16,className:"mr-2 text-red-500"})," Set Inactive"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ka,{size:16,className:"mr-2 text-green-500"})," Set Active"]})}),ee.user&&s.jsxs(gn,{onClick:()=>q(ee.user.id),children:[s.jsx(TC,{size:16,className:"mr-2 text-amber-500"})," Change Password"]})]})})]})]})})]},ee.id)})})]})}):R?s.jsx("div",{className:"flex justify-center items-center py-24",children:s.jsx(gp,{size:30,className:"animate-spin"})}):s.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-center",children:[s.jsxs("div",{className:"mb-3 text-muted-foreground",children:[s.jsx(Is,{size:40,className:"mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No Delivery Agencies found"})]}),s.jsx("p",{className:"mb-6 text-muted-foreground max-w-sm",children:h?"Try a different search term or clear filters":"Get started by adding your first Delivery Partner"}),s.jsxs(pe,{onClick:()=>t("/admin/agencies/create"),className:"bg-green-600 hover:bg-primary text-white",children:[s.jsx(Hs,{size:16,className:"mr-2"}),"Add Delivery Partner"]})]}),G.length>0&&s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between items-center",children:[s.jsxs("div",{className:"mb-4 sm:mb-0 text-sm text-muted-foreground",children:["Showing ",G.length>0?(r-1)*a+1:0," to"," ",Math.min(r*a,ie)," of ",ie," records"]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Records per page:"}),s.jsxs(Wt,{value:a.toString(),onValueChange:ee=>{i(Number(ee)),n(1)},children:[s.jsx(Yt,{className:"h-8 w-[70px]",children:s.jsx(Gt,{placeholder:a.toString()})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"5",children:"5"}),s.jsx(ct,{value:"10",children:"10"}),s.jsx(ct,{value:"20",children:"20"}),s.jsx(ct,{value:"50",children:"50"})]})]})]}),V>1&&s.jsx(vy,{currentPage:r,totalPages:V,onPageChange:ae})]})]})]})]}),S&&s.jsx(E0e,{isOpen:N,userId:S,onClose:Q}),s.jsx(Xp,{isOpen:_,title:"Delete Delivery Partner",description:"Are you sure you want to delete this delivery agency? This action cannot be undone.",onCancel:()=>{C(!1),T(null)},onConfirm:X,confirmLabel:"Delete Delivery Partner"})]})},T0e=Nr.object({newPassword:Nr.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Nr.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),_0e=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=g.useState(""),[i,o]=g.useState(""),l=Rr({mutationFn:f=>Ja(`/users/${e}/password`,{password:f}),onSuccess:()=>{he.success("Password changed successfully!"),r()},onError:f=>{he.error(f.message||"Failed to change password. Please try again.")}}),u=f=>{var p;f.preventDefault();const h=T0e.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const x=(p=h.error.errors[0])==null?void 0:p.message;he.error(x||"Validation failed");return}l.mutate(n)};return s.jsx(Xr,{open:t,onOpenChange:r,children:s.jsxs(Zr,{className:"sm:max-w-[425px]",children:[s.jsx(rs,{children:s.jsx(ss,{children:"Change Password"})}),s.jsxs("form",{onSubmit:u,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(vn,{value:n,onChange:f=>a(f.target.value),required:!0,className:"w-full"}),s.jsx(vn,{value:i,onChange:f=>o(f.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(pe,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})},k0e=async(e,t,r,n,a,i)=>{const o=await ut(`/supervisors?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}&limit=${i}`);return Array.isArray(o),o},D0e=()=>{const e=_n(),t=gr(),[r,n]=g.useState(1),[a,i]=g.useState(10),[o,l]=g.useState("name"),[u,f]=g.useState("asc"),[h,p]=g.useState(""),[x,y]=g.useState("all"),[w,b]=g.useState(!1),[N,j]=g.useState(!1),[S,A]=g.useState(null),[_,C]=g.useState(!1),[k,T]=g.useState(null),{data:O,isLoading:R,isError:L,error:M}=jr({queryKey:["supervisors",r,o,u,h,x,a],queryFn:()=>k0e(r,o,u,h,x,a),placeholderData:ee=>ee}),G=Array.isArray(O)?O:(O==null?void 0:O.data)||[],V=Array.isArray(O)?Math.ceil(O.length/a):(O==null?void 0:O.totalPages)||1,ie=Array.isArray(O)?O.length:(O==null?void 0:O.totalRecords)||0,le=Rr({mutationFn:ee=>Ln(`/supervisors/${ee}`),onSuccess:()=>{he.success("Supervisor deleted successfully."),e.invalidateQueries({queryKey:["supervisors"]}),C(!1),T(null)},onError:ee=>{he.error(`Failed to delete supervisor: ${ee.message}`),C(!1)}}),B=Rr({mutationFn:({supervisorUserId:ee,active:ne})=>Ja(`/users/${ee}/status`,{active:ne}),onSuccess:(ee,ne)=>{he.success(`Supervisor user status updated to ${ne.active?"Active":"Inactive"}.`),e.invalidateQueries({queryKey:["supervisors"]})},onError:ee=>{he.error(`Failed to update status: ${ee.message}`)}}),U=ee=>{o===ee?f(u==="asc"?"desc":"asc"):(l(ee),f("asc")),n(1)},F=ee=>{p(ee.target.value),n(1)},W=ee=>{y(ee),n(1)},q=ee=>{A(ee),j(!0)},Q=()=>{A(null),j(!1),e.invalidateQueries({queryKey:["supervisors"]})},P=ee=>{T(ee),C(!0)},X=()=>{k&&le.mutate(k)},K=ee=>{ee.user&&B.mutate({supervisorUserId:ee.user.id,active:!ee.user.active})},H=ee=>o===ee?u==="asc"?s.jsx(Pl,{size:16}):s.jsx(Ha,{size:16}):null,[J,ce]=g.useState({isOpen:!1,title:"",description:"",confirmButtonText:"",onConfirm:null}),ae=ee=>{n(ee)};return L&&M instanceof Error?s.jsx("div",{className:"p-4 text-red-600",children:s.jsxs("p",{children:["Error loading supervisors: ",M.message]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(At,{className:"shadow-md",children:[s.jsx(Dt,{className:"pb-2",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(rr,{className:"text-2xl",children:"Supervisors"}),s.jsx(yi,{children:"Manage your supervisors and their details."})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>b(!w),className:"w-full sm:w-auto",children:[s.jsx($p,{size:16,className:"mr-2"}),w?"Hide Filters":"Show Filters"]}),s.jsxs(pe,{size:"sm",onClick:()=>t("/admin/supervisors/create"),className:"w-full sm:w-auto bg-green-600 hover:bg-primary text-white",children:[s.jsx(Hs,{size:16,className:"mr-2"}),"Add Supervisor"]})]})]})}),s.jsxs(Tt,{children:[w&&s.jsx("div",{className:"bg-muted/30 p-4 rounded-md mb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Is,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Ge,{value:h,onChange:F,className:"pl-8"})]})]}),s.jsxs("div",{className:"w-full sm:w-48",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),s.jsxs(Wt,{value:x,onValueChange:W,children:[s.jsx(Yt,{children:s.jsx(Gt,{})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"all",children:"All Users"}),s.jsx(ct,{value:"true",children:"Active Users"}),s.jsx(ct,{value:"false",children:"Inactive Users"})]})]})]})]})}),G.length>0?s.jsx("div",{className:"overflow-x-auto px-4",children:s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsxs(tr,{children:[s.jsx(Ye,{className:"pl-6 cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>U("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Supervisor Name ",H("name")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>U("email"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Email ",H("email")]})}),s.jsx(Ye,{className:"w-[130px]",children:"Mobile"}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px]",onClick:()=>U("city"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["City ",H("city")]})}),s.jsx(Ye,{className:"w-[150px]",children:"Assigned Depot"}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px] text-center",onClick:()=>U("user.active"),children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:["User Active ",H("user.active")]})}),s.jsx(Ye,{className:"w-[150px] text-center pr-6",children:"Actions"})]})}),s.jsx($s,{children:G.map(ee=>{var ne;return s.jsxs(tr,{children:[s.jsx(Ue,{className:"font-medium",children:ee.name}),s.jsx(Ue,{children:ee.email}),s.jsx(Ue,{children:ee.mobile}),s.jsx(Ue,{children:ee.city}),s.jsx(Ue,{children:ee.depot?s.jsx(Fr,{variant:"outline",className:"text-xs",children:ee.depot.name}):s.jsx("span",{className:"text-gray-400 text-sm",children:"None"})}),s.jsx(Ue,{className:"text-center",children:ee.user&&s.jsx(Fr,{variant:ee.user.active?"default":"destructive",className:"inline-flex items-center justify-center",children:ee.user.active?s.jsxs(s.Fragment,{children:[s.jsx(Ka,{size:14,className:"mr-1"})," Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vi,{size:14,className:"mr-1"})," Inactive"]})})}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>t(`/admin/supervisors/edit/${ee.id}`),title:"Edit Supervisor",children:s.jsx(Za,{size:16})}),s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>P(ee.id),title:"Delete Supervisor",children:s.jsx(un,{size:16})}),s.jsxs(gh,{modal:!1,children:[s.jsx(yh,{asChild:!0,children:s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Qg,{size:16})})}),s.jsx(vh,{align:"end",children:s.jsxs(Cw,{children:[s.jsx(gn,{onClick:()=>K(ee),disabled:!ee.user||B.isPending,children:(ne=ee.user)!=null&&ne.active?s.jsxs(s.Fragment,{children:[s.jsx(Vi,{size:16,className:"mr-2 text-red-500"})," Set Inactive"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ka,{size:16,className:"mr-2 text-green-500"})," Set Active"]})}),ee.user&&s.jsxs(gn,{onClick:()=>q(ee.user.id),children:[s.jsx(TC,{size:16,className:"mr-2 text-amber-500"})," Change Password"]})]})})]})]})})]},ee.id)})})]})}):R?s.jsx("div",{className:"flex justify-center items-center py-24",children:s.jsx(gp,{size:30,className:"animate-spin"})}):s.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-center",children:[s.jsxs("div",{className:"mb-3 text-muted-foreground",children:[s.jsx(Is,{size:40,className:"mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No Supervisors found"})]}),s.jsx("p",{className:"mb-6 text-muted-foreground max-w-sm",children:h?"Try a different search term or clear filters":"Get started by adding your first Supervisor"}),s.jsxs(pe,{onClick:()=>t("/admin/supervisors/create"),className:"bg-green-600 hover:bg-primary text-white",children:[s.jsx(Hs,{size:16,className:"mr-2"}),"Add Supervisor"]})]}),G.length>0&&s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between items-center",children:[s.jsxs("div",{className:"mb-4 sm:mb-0 text-sm text-muted-foreground",children:["Showing ",G.length>0?(r-1)*a+1:0," to"," ",Math.min(r*a,ie)," of ",ie," records"]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Records per page:"}),s.jsxs(Wt,{value:a.toString(),onValueChange:ee=>{i(Number(ee)),n(1)},children:[s.jsx(Yt,{className:"h-8 w-[70px]",children:s.jsx(Gt,{placeholder:a.toString()})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"5",children:"5"}),s.jsx(ct,{value:"10",children:"10"}),s.jsx(ct,{value:"20",children:"20"}),s.jsx(ct,{value:"50",children:"50"})]})]})]}),V>1&&s.jsx(vy,{currentPage:r,totalPages:V,onPageChange:ae})]})]})]})]}),S&&s.jsx(_0e,{isOpen:N,userId:S,onClose:Q}),s.jsx(Xp,{isOpen:_,title:"Delete Supervisor",description:"Are you sure you want to delete this supervisor? This action cannot be undone.",onCancel:()=>{C(!1),T(null)},onConfirm:X,confirmLabel:"Delete Supervisor"})]})};var Vw="Checkbox",[O0e,BRe]=da(Vw),[R0e,P0e]=O0e(Vw),r$=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:u="on",onCheckedChange:f,form:h,...p}=e,[x,y]=g.useState(null),w=Zt(t,_=>y(_)),b=g.useRef(!1),N=x?h||!!x.closest("form"):!0,[j,S]=Ao({prop:a,defaultProp:i??!1,onChange:f,caller:Vw}),A=g.useRef(j);return g.useEffect(()=>{const _=x==null?void 0:x.form;if(_){const C=()=>S(A.current);return _.addEventListener("reset",C),()=>_.removeEventListener("reset",C)}},[x,S]),s.jsxs(R0e,{scope:r,state:j,disabled:l,children:[s.jsx(It.button,{type:"button",role:"checkbox","aria-checked":bu(j)?"mixed":j,"aria-required":o,"data-state":i$(j),"data-disabled":l?"":void 0,disabled:l,value:u,...p,ref:w,onKeyDown:gt(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:gt(e.onClick,_=>{S(C=>bu(C)?!0:!C),N&&(b.current=_.isPropagationStopped(),b.current||_.stopPropagation())})}),N&&s.jsx(a$,{control:x,bubbles:!b.current,name:n,value:u,checked:j,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:bu(i)?!1:i})]})});r$.displayName=Vw;var s$="CheckboxIndicator",n$=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=P0e(s$,r);return s.jsx(ei,{present:n||bu(i.state)||i.state===!0,children:s.jsx(It.span,{"data-state":i$(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});n$.displayName=s$;var M0e="CheckboxBubbleInput",a$=g.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i},o)=>{const l=g.useRef(null),u=Zt(l,o),f=Mw(r),h=vw(t);g.useEffect(()=>{const x=l.current;if(!x)return;const y=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==r&&b){const N=new Event("click",{bubbles:n});x.indeterminate=bu(r),b.call(x,bu(r)?!1:r),x.dispatchEvent(N)}},[f,r,n]);const p=g.useRef(bu(r)?!1:r);return s.jsx(It.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??p.current,...i,tabIndex:-1,ref:u,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});a$.displayName=M0e;function bu(e){return e==="indeterminate"}function i$(e){return bu(e)?"indeterminate":e?"checked":"unchecked"}var I0e=r$,F0e=n$;function Du({className:e,...t}){return s.jsx(I0e,{"data-slot":"checkbox",className:Ze("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(F0e,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Jb,{className:"size-3.5"})})})}const UT=ys({name:at().min(1,"Farmer name is required"),contactPersonName:at().min(1,"Contact person's name is required").optional(),email:at().optional().nullable(),mobile:at().regex(/^\d{10}$/,"Mobile number must be 10 digits"),alternateMobile:$I([zm(""),at().regex(/^\d{10}$/,"Alternate mobile must be 10 digits")]).nullable().optional(),address1:at().min(1,"Address Line 1 is required"),address2:at().nullable().optional(),city:at().optional().nullable(),pincode:yn.number().int("Pincode must be an integer").positive("Pincode must be positive").refine(e=>String(e).length===6,"Pincode must be 6 digits"),isDairySupplier:rl().optional()}),L0e=ys({userLoginEmail:at().email("Invalid login email for user"),userPassword:at().min(6,"Password must be at least 6 characters")});UT.extend({userFullName:at().optional(),userLoginEmail:at().email().optional(),userPassword:at().optional()});const B0e=UT.merge(L0e),$0e=UT,o$=({mode:e,vendorId:t,onSuccess:r,initialData:n,className:a})=>{const i=_n(),{register:o,handleSubmit:l,setValue:u,setError:f,formState:{errors:h,isSubmitting:p},control:x}=en({mode:"onChange",resolver:tn(e==="create"?B0e:$0e),defaultValues:n||{name:"",contactPersonName:"",email:"",mobile:"",alternateMobile:null,address1:"",address2:null,city:"",pincode:void 0,isDairySupplier:!1,...e==="create"?{userFullName:"",userLoginEmail:"",userPassword:""}:{}}});g.useEffect(()=>{e==="edit"&&t&&!n?(async()=>{try{const N=await ut(`/vendors/${t}`);u("name",N.name),u("contactPersonName",N.contactPersonName||""),u("mobile",N.mobile),u("alternateMobile",N.alternateMobile||null),u("address1",N.address1),u("address2",N.address2||null),u("city",N.city),u("pincode",N.pincode),u("email",N.email),u("isDairySupplier",N.isDairySupplier||!1)}catch{he.error("Failed to fetch farmer details")}})():n&&Object.keys(n).forEach(b=>{const N=n[b];u(b,N)})},[t,e,u,n]);const y=Rr({mutationFn:b=>{if(e==="create"){const N={vendorName:b.name,contactPersonName:b.contactPersonName,vendorContactEmail:b.email,mobile:b.mobile,alternateMobile:b.alternateMobile,address1:b.address1,address2:b.address2,city:b.city,pincode:b.pincode,isDairySupplier:b.isDairySupplier,userFullName:b.name,userLoginEmail:b.userLoginEmail,userPassword:b.userPassword,role:"VENDOR"};return Ur("/vendors",N)}else{const{userFullName:N,userLoginEmail:j,userPassword:S,...A}=b,_={name:A.name,contactPersonName:A.contactPersonName,email:A.email,mobile:A.mobile,alternateMobile:A.alternateMobile,address1:A.address1,address2:A.address2,city:A.city,pincode:A.pincode,isDairySupplier:A.isDairySupplier};return Js(`/vendors/${t}`,_)}},onSuccess:()=>{he.success(`Farmer ${e==="create"?"created (with user)":"updated"} successfully`),i.invalidateQueries({queryKey:["vendors"]}),i.invalidateQueries({queryKey:["users"]}),t&&e==="edit"&&i.invalidateQueries({queryKey:["vendor",t]}),r==null||r()},onError:b=>{var j,S;zc(b,f);const N=`Failed to ${e} farmer.`;he.error(((S=(j=b==null?void 0:b.response)==null?void 0:j.data)==null?void 0:S.message)||b.message||N)}}),w=b=>{y.mutate(b)};return s.jsxs("form",{onSubmit:l(w),className:`space-y-6 ${a}`,children:[s.jsx("div",{className:"border-b pb-4 mb-4 mt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Farmer Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"name",children:"Farmer Company Name"}),s.jsx(Ge,{id:"name",type:"text",...o("name"),disabled:p}),h.name&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"contactPersonName",children:"Contact Person Name"}),s.jsx(Ge,{id:"contactPersonName",type:"text",...o("contactPersonName"),disabled:p}),h.contactPersonName&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.contactPersonName.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"email",children:"Contact Person Email"}),s.jsx(Ge,{id:"email",type:"email",...o("email"),disabled:p}),h.email&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.email.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(Ge,{max:10,id:"mobile",type:"tel",...o("mobile"),disabled:p}),h.mobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.mobile.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"alternateMobile",children:"Alternate Mobile (Optional)"}),s.jsx(Ge,{id:"alternateMobile",type:"tel",...o("alternateMobile"),disabled:p}),h.alternateMobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.alternateMobile.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"address1",children:"Address Line 1"}),s.jsx(Ge,{id:"address1",type:"text",...o("address1"),disabled:p}),h.address1&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.address1.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"address2",children:"Address Line 2 (Optional)"}),s.jsx(Ge,{id:"address2",type:"text",...o("address2"),disabled:p}),h.address2&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.address2.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"city",children:"City"}),s.jsx(Ge,{id:"city",type:"text",...o("city"),disabled:p}),h.city&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.city.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"pincode",children:"Pincode"}),s.jsx(Ge,{id:"pincode",type:"number",...o("pincode"),disabled:p}),h.pincode&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.pincode.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 my-4",children:[s.jsx($r,{name:"isDairySupplier",control:x,render:({field:b})=>s.jsx(Du,{id:"isDairySupplier",checked:b.value,onCheckedChange:b.onChange,disabled:p})}),s.jsx(je,{htmlFor:"isDairySupplier",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Is Dairy Supplier?"}),h.isDairySupplier&&s.jsx("span",{className:"text-red-500 text-xs",children:h.isDairySupplier.message})]}),e==="create"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b pb-4 mb-4",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"userLoginEmail",children:"Login Email"}),s.jsx(Ge,{id:"userLoginEmail",type:"email",...o("userLoginEmail"),disabled:p}),h.userLoginEmail&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"userPassword",children:"Password"}),s.jsx(vn,{id:"userPassword",...o("userPassword"),disabled:p}),h.userPassword&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.userPassword.message})]})]}),s.jsx("div",{className:"w-full  flex items-end justify-end",children:s.jsxs(pe,{type:"submit",disabled:p||y.isPending,className:"w-full sm:w-auto right-0",children:[p||y.isPending?s.jsx(Wr,{className:"mr-2 h-4 w-4 animate-spin"}):null,e==="create"?"Create Farmer":"Save Changes"]})})]})},U0e=()=>{const e=gr(),t=()=>{e("/admin/vendors")};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(At,{className:"w-full mx-auto",children:[s.jsx(Dt,{children:s.jsx(rr,{className:"text-2xl font-semibold",children:"Create New Farmer"})}),s.jsxs(Tt,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Fill in the details below to create a new farmer profile and an associated user account."}),s.jsx(o$,{mode:"create",onSuccess:t})]})]})})},V0e=lw("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Wn({className:e,variant:t,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:Ze(V0e({variant:t}),e),...r})}function ka({className:e,...t}){return s.jsx("div",{"data-slot":"alert-title",className:Ze("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function Gn({className:e,...t}){return s.jsx("div",{"data-slot":"alert-description",className:Ze("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const q0e=()=>{var f,h;const e=gr(),{id:t}=Xn(),r=async p=>await ut(`/vendors/${p}`),{data:n,isLoading:a,isError:i,error:o}=jr({queryKey:["vendor",t],queryFn:()=>r(t),enabled:!!t,staleTime:1e3*60*5}),l=()=>{e("/admin/vendors")};if(!t)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Wn,{variant:"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Error"}),s.jsx(Gn,{children:"No Vendor ID provided. Please go back and select a vendor to edit."})]})});if(a)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(At,{className:" mx-auto",children:[s.jsx(Dt,{children:s.jsx(Ct,{className:"h-8 w-1/2"})}),s.jsxs(Tt,{className:"space-y-6",children:[s.jsx(Ct,{className:"h-10 w-full"}),s.jsx(Ct,{className:"h-10 w-full"}),s.jsx(Ct,{className:"h-10 w-full"}),s.jsx(Ct,{className:"h-10 w-1/3 ml-auto"})]})]})});if(i)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Wn,{variant:"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Error Fetching Farmer"}),s.jsxs(Gn,{children:["There was a problem retrieving the farmer details. Error: ",(o==null?void 0:o.message)||"Unknown error"]})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Wn,{variant:"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Error"}),s.jsx(Gn,{children:"Farmer data not found or unavailable."})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Wn,{variant:"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Error"}),s.jsx(Gn,{children:"Farmer data not found or unavailable after loading."})]})});const u={name:n.name,email:n.email,mobile:n.mobile,address1:n.address1,address2:n.address2||null,city:n.city,pincode:n.pincode,contactPersonName:n.contactPersonName||"",alternateMobile:n.alternateMobile||null,userFullName:((f=n.user)==null?void 0:f.name)||"",userLoginEmail:((h=n.user)==null?void 0:h.email)||"",isDairySupplier:n.isDairySupplier||!1};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(At,{className:"mx-auto",children:[s.jsx(Dt,{children:s.jsxs(rr,{children:["Edit Farmer: ",n.name]})}),s.jsx(Tt,{children:s.jsx(o$,{mode:"edit",vendorId:t,initialData:u,onSuccess:l})})]})})},VT=ys({name:at().min(1,"Partner name is required"),contactPersonName:at().optional(),email:at().optional().nullable(),mobile:at().regex(/^\d{10}$/,"Mobile number must be 10 digits"),alternateMobile:hg().nullable().optional(),address1:at().min(1,"Address Line 1 is required"),address2:hg().nullable().optional(),city:at().optional().nullable(),pincode:yn.number().int("Pincode must be an integer").positive("Pincode must be positive").refine(e=>String(e).length===6,"Pincode must be 6 digits"),status:sw(["ACTIVE","INACTIVE"]).default("ACTIVE")}),z0e=ys({userFullName:at().min(1,"User's full name is required"),userLoginEmail:at().email("Invalid login email for user"),userPassword:at().min(6,"User password must be at least 6 characters")});VT.extend({userFullName:at().optional(),userLoginEmail:at().email().optional(),userPassword:at().optional()});const H0e=VT.merge(z0e),W0e=VT,l$=({mode:e,agencyId:t,onSuccess:r,initialData:n,className:a})=>{const i=_n(),{register:o,handleSubmit:l,setValue:u,setError:f,control:h,watch:p,formState:{errors:x,isSubmitting:y}}=en({mode:"onChange",resolver:tn(e==="create"?H0e:W0e),defaultValues:n||{name:"",contactPersonName:"",email:"",mobile:"",alternateMobile:null,address1:"",address2:null,city:"",pincode:void 0,status:"ACTIVE",userFullName:"",userLoginEmail:"",userPassword:""}}),w=p("name");g.useEffect(()=>{e==="create"&&w&&u("userFullName",w)},[w,e,u]),g.useEffect(()=>{e==="edit"&&t&&!n?(async()=>{var S;try{const A=await ut(`/agencies/${t}`);console.log("Partner Data:",A),u("name",A.name),u("contactPersonName",A.contactPersonName||""),u("mobile",A.mobile),u("alternateMobile",A.alternateMobile||null),u("address1",A.address1),u("address2",A.address2||null),u("city",A.city),u("pincode",A.pincode),u("email",A.email),u("status",(S=A.user)!=null&&S.active?"ACTIVE":"INACTIVE")}catch{he.error("Failed to fetch agency details")}})():n&&Object.keys(n).forEach(j=>{u(j,n[j])})},[t,e,u,n]);const b=Rr({mutationFn:async j=>{if(j.contactPersonName=j.name,e==="create"){const S={name:j.name,contactPersonName:j.contactPersonName,email:j.email,mobile:j.mobile,alternateMobile:j.alternateMobile,address1:j.address1,address2:j.address2,city:j.city,pincode:j.pincode,userFullName:j.userFullName,userLoginEmail:j.userLoginEmail,userPassword:j.userPassword,role:"AGENCY",status:j.status};return Ur("/agencies",S)}else{const{userFullName:S,userLoginEmail:A,userPassword:_,...C}=j,k={name:C.name,contactPersonName:C.contactPersonName,email:C.email,mobile:C.mobile,alternateMobile:C.alternateMobile,address1:C.address1,address2:C.address2,city:C.city,pincode:C.pincode,status:C.status};return Js(`/agencies/${t}`,k)}},onSuccess:()=>{he.success(`Partner ${e==="create"?"created (with user)":"updated"} successfully`),i.invalidateQueries({queryKey:["agencies"]}),i.invalidateQueries({queryKey:["users"]}),t&&e==="edit"&&i.invalidateQueries({queryKey:["agency",t]}),r==null||r()},onError:j=>{var A,_;zc(j,f);const S=`Failed to ${e} agency.`;he.error(((_=(A=j==null?void 0:j.response)==null?void 0:A.data)==null?void 0:_.message)||j.message||S)}}),N=j=>{b.mutate(j)};return s.jsxs("form",{onSubmit:l(N),className:`space-y-6 ${a}`,children:[s.jsx("div",{className:"border-b pb-4 mb-4 mt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Delivery Partner Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"name",children:"Delivery Partner Name"}),s.jsx(Ge,{id:"name",type:"text",...o("name"),disabled:y}),x.name&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:x.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"email",children:"Email"}),s.jsx(Ge,{id:"email",type:"email",...o("email"),disabled:y}),x.email&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:x.email.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(Ge,{max:10,maxLength:10,id:"mobile",type:"text",...o("mobile"),disabled:y}),x.mobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:x.mobile.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"alternateMobile",children:"Alternate Mobile (Optional)"}),s.jsx(Ge,{id:"alternateMobile",type:"text",...o("alternateMobile"),disabled:y}),x.alternateMobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:x.alternateMobile.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"address1",children:"Address Line 1"}),s.jsx(Ge,{id:"address1",type:"text",...o("address1"),disabled:y}),x.address1&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:x.address1.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"address2",children:"Address Line 2 (Optional)"}),s.jsx(Ge,{id:"address2",type:"text",...o("address2"),disabled:y}),x.address2&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:x.address2.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"city",children:"City"}),s.jsx(Ge,{id:"city",type:"text",...o("city"),disabled:y}),x.city&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:x.city.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"pincode",children:"Pin Code"}),s.jsx(Ge,{id:"pincode",type:"number",...o("pincode"),disabled:y}),x.pincode&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:x.pincode.message})]})]}),e==="create"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b pb-4 mb-4 pt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"userLoginEmail",children:"Login Email"}),s.jsx(Ge,{id:"userLoginEmail",type:"email",...o("userLoginEmail"),disabled:y}),x.userLoginEmail&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:x.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"userPassword",children:"Password"}),s.jsx(vn,{id:"userPassword",...o("userPassword"),disabled:y}),x.userPassword&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:x.userPassword.message})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(pe,{type:"submit",disabled:y,className:"w-full sm:w-auto",children:y?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"mr-2 h-4 w-4 animate-spin"}),e==="create"?"Creating...":"Updating..."]}):s.jsx(s.Fragment,{children:e==="create"?"Create Delivery Partner":"Update Delivery Partner"})})})]})},G0e=()=>{const e=gr(),t=()=>{e("/admin/agencies")};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(At,{className:" mx-auto",children:[s.jsx(Dt,{children:s.jsx(rr,{className:"text-2xl font-semibold",children:"Create New Delivery Agency"})}),s.jsxs(Tt,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Fill in the details below to create a new delivery agency and an associated user account."}),s.jsx(l$,{mode:"create",onSuccess:t})]})]})})},Y0e=()=>{var f;const{id:e}=Xn(),t=gr(),r=async h=>await ut(`/agencies/${h}`),{data:n,isLoading:a,isError:i,error:o}=jr({queryKey:["agency",e],queryFn:()=>r(e),enabled:!!e,staleTime:1e3*60*5}),l=()=>{t("/admin/agencies")};if(!e)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Wn,{variant:"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Error"}),s.jsx(Gn,{children:"No Delivery Agency ID provided. Please go back and select a delivery agency to edit."})]})});if(a)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(At,{className:" mx-auto",children:[s.jsx(Dt,{children:s.jsx(Ct,{className:"h-8 w-1/2"})}),s.jsxs(Tt,{className:"space-y-6",children:[s.jsx(Ct,{className:"h-10 w-full"}),s.jsx(Ct,{className:"h-10 w-full"}),s.jsx(Ct,{className:"h-10 w-full"}),s.jsx(Ct,{className:"h-10 w-1/3 ml-auto"})]})]})});if(i)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Wn,{variant:"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Error Fetching Delivery Agency"}),s.jsxs(Gn,{children:["There was a problem retrieving the delivery agency details. Error: ",(o==null?void 0:o.message)||"Unknown error"]})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Wn,{variant:"default",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Not Found"}),s.jsx(Gn,{children:"Delivery Agency data could not be loaded or found."})]})});const u={name:n.name,contactPersonName:n.contactPersonName||"",email:n.email||"",mobile:n.mobile,alternateMobile:n.alternateMobile||null,address1:n.address1,address2:n.address2||null,city:n.city,pincode:n.pincode,status:(f=n.user)!=null&&f.active?"ACTIVE":"INACTIVE"};return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(At,{className:"max-w-4xl mx-auto",children:[s.jsx(Dt,{children:s.jsx(rr,{className:"text-2xl font-semibold",children:"Edit Delivery Agency"})}),s.jsx(Tt,{children:s.jsx(l$,{mode:"edit",agencyId:e,initialData:u,onSuccess:l})})]})})},qT=ys({name:at().min(1,"Supervisor name is required"),contactPersonName:at().optional(),email:at().optional().nullable(),mobile:at().regex(/^\d{10}$/,"Mobile number must be 10 digits"),alternateMobile:hg().nullable().optional(),address1:at().min(1,"Address Line 1 is required"),address2:hg().nullable().optional(),city:at().optional().nullable(),pincode:yn.number().int("Pincode must be an integer").positive("Pincode must be positive").refine(e=>String(e).length===6,"Pincode must be 6 digits"),depotId:yn.number().optional().nullable(),agencyId:yn.number().optional().nullable(),status:sw(["ACTIVE","INACTIVE"]).default("ACTIVE")}),K0e=ys({userFullName:at().min(1,"User's full name is required"),userLoginEmail:at().email("Invalid login email for user"),userPassword:at().min(6,"User password must be at least 6 characters")});qT.extend({userFullName:at().optional(),userLoginEmail:at().email().optional(),userPassword:at().optional()});const Q0e=qT.merge(K0e),X0e=qT,c$=({mode:e,supervisorId:t,onSuccess:r,initialData:n,className:a})=>{var A,_,C,k;const i=_n(),{data:o=[]}=jr({queryKey:["depots"],queryFn:async()=>{const T=await ut("/depots");return T.data||T}}),{data:l=[]}=jr({queryKey:["agencies"],queryFn:async()=>{const T=await ut("/agencies");return T.data||T}}),{register:u,handleSubmit:f,setValue:h,setError:p,control:x,watch:y,formState:{errors:w,isSubmitting:b}}=en({mode:"onChange",resolver:tn(e==="create"?Q0e:X0e),defaultValues:n||{name:"",contactPersonName:"",email:"",mobile:"",alternateMobile:null,address1:"",address2:null,city:"",pincode:void 0,depotId:void 0,agencyId:void 0,status:"ACTIVE",userFullName:"",userLoginEmail:"",userPassword:""}}),N=y("name");g.useEffect(()=>{e==="create"&&N&&h("userFullName",N)},[N,e,h]),g.useEffect(()=>{e==="edit"&&t&&!n?(async()=>{var O;try{const R=await ut(`/supervisors/${t}`);h("name",R.name),h("contactPersonName",R.contactPersonName||""),h("mobile",R.mobile),h("alternateMobile",R.alternateMobile||null),h("address1",R.address1),h("address2",R.address2||null),h("city",R.city),h("pincode",R.pincode),h("email",R.email),h("depotId",R.depotId||null),h("agencyId",R.agencyId||null),h("status",(O=R.user)!=null&&O.active?"ACTIVE":"INACTIVE")}catch{he.error("Failed to fetch supervisor details")}})():n&&Object.keys(n).forEach(T=>{h(T,n[T])})},[t,e,h,n]);const j=Rr({mutationFn:async T=>{if(T.contactPersonName=T.name,e==="create"){const O={name:T.name,contactPersonName:T.contactPersonName,email:T.email,mobile:T.mobile,alternateMobile:T.alternateMobile,address1:T.address1,address2:T.address2,city:T.city,pincode:T.pincode,depotId:T.depotId||null,agencyId:T.agencyId||null,userFullName:T.userFullName,userLoginEmail:T.userLoginEmail,userPassword:T.userPassword,role:"SUPERVISOR",status:T.status};return Ur("/supervisors",O)}else{const{userFullName:O,userLoginEmail:R,userPassword:L,...M}=T,G={name:M.name,contactPersonName:M.contactPersonName,email:M.email,mobile:M.mobile,alternateMobile:M.alternateMobile,address1:M.address1,address2:M.address2,city:M.city,pincode:M.pincode,depotId:M.depotId||null,agencyId:M.agencyId||null,status:M.status};return Js(`/supervisors/${t}`,G)}},onSuccess:()=>{he.success(`Supervisor ${e==="create"?"created (with user)":"updated"} successfully`),i.invalidateQueries({queryKey:["supervisors"]}),i.invalidateQueries({queryKey:["users"]}),t&&e==="edit"&&i.invalidateQueries({queryKey:["supervisor",t]}),r==null||r()},onError:T=>{var R,L;zc(T,p);const O=`Failed to ${e} supervisor.`;he.error(((L=(R=T==null?void 0:T.response)==null?void 0:R.data)==null?void 0:L.message)||T.message||O)}}),S=T=>{j.mutate(T)};return s.jsxs("form",{onSubmit:f(S),className:`space-y-6 ${a}`,children:[s.jsx("div",{className:"border-b pb-4 mb-4 mt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Supervisor Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"name",children:"Supervisor Name"}),s.jsx(Ge,{id:"name",type:"text",...u("name"),disabled:b}),w.name&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:w.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"email",children:"Email"}),s.jsx(Ge,{id:"email",type:"email",...u("email"),disabled:b}),w.email&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:w.email.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(Ge,{max:10,maxLength:10,id:"mobile",type:"text",...u("mobile"),disabled:b}),w.mobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:w.mobile.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"alternateMobile",children:"Alternate Mobile (Optional)"}),s.jsx(Ge,{max:10,maxLength:10,id:"alternateMobile",type:"text",...u("alternateMobile"),disabled:b}),w.alternateMobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:(A=w.alternateMobile)==null?void 0:A.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"address1",children:"Address Line 1"}),s.jsx(Ge,{id:"address1",type:"text",...u("address1"),disabled:b}),w.address1&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:w.address1.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"address2",children:"Address Line 2 (Optional)"}),s.jsx(Ge,{id:"address2",type:"text",...u("address2"),disabled:b}),w.address2&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:String((_=w.address2)==null?void 0:_.message)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"city",children:"City"}),s.jsx(Ge,{id:"city",type:"text",...u("city"),disabled:b}),w.city&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:w.city.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"pincode",children:"Pin Code"}),s.jsx(Ge,{id:"pincode",type:"number",...u("pincode"),disabled:b}),w.pincode&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:w.pincode.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"depotId",children:"Assigned Depot (Optional)"}),s.jsx($r,{name:"depotId",control:x,render:({field:T})=>s.jsxs(Wt,{onValueChange:O=>T.onChange(O==="none"?null:Number(O)),value:T.value?String(T.value):"none",disabled:b,children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select depot..."})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"none",children:"No depot assigned"}),o.map(O=>s.jsx(ct,{value:String(O.id),children:O.name},O.id))]})]})}),w.depotId&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:String((C=w.depotId)==null?void 0:C.message)})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"agencyId",children:"Assigned Agency (Optional)"}),s.jsx($r,{name:"agencyId",control:x,render:({field:T})=>s.jsxs(Wt,{onValueChange:O=>T.onChange(O==="none"?null:Number(O)),value:T.value?String(T.value):"none",disabled:b,children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select agency..."})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"none",children:"No agency assigned"}),l.map(O=>s.jsx(ct,{value:String(O.id),children:O.name},O.id))]})]})}),w.agencyId&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:String((k=w.agencyId)==null?void 0:k.message)})]})]}),e==="create"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b pb-4 mb-4 pt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"userLoginEmail",children:"Login Email"}),s.jsx(Ge,{id:"userLoginEmail",type:"email",...u("userLoginEmail"),disabled:b}),w.userLoginEmail&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:w.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(je,{htmlFor:"userPassword",children:"Password"}),s.jsx(vn,{id:"userPassword",...u("userPassword"),disabled:b}),w.userPassword&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:w.userPassword.message})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(pe,{type:"submit",disabled:b,className:"w-full sm:w-auto",children:b?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"mr-2 h-4 w-4 animate-spin"}),e==="create"?"Creating...":"Updating..."]}):s.jsx(s.Fragment,{children:e==="create"?"Create Supervisor":"Update Supervisor"})})})]})},Z0e=()=>{const e=gr(),t=()=>{e("/admin/supervisors")};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(At,{className:" mx-auto",children:[s.jsx(Dt,{children:s.jsx(rr,{className:"text-2xl font-semibold",children:"Create New Supervisor"})}),s.jsxs(Tt,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Fill in the details below to create a new supervisor and an associated user account."}),s.jsx(c$,{mode:"create",onSuccess:t})]})]})})},J0e=()=>{var f;const{id:e}=Xn(),t=gr(),r=async h=>await ut(`/supervisors/${h}`),{data:n,isLoading:a,isError:i,error:o}=jr({queryKey:["supervisor",e],queryFn:()=>r(e),enabled:!!e,staleTime:1e3*60*5}),l=()=>{t("/admin/supervisors")};if(!e)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Wn,{variant:"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Error"}),s.jsx(Gn,{children:"No Supervisor ID provided. Please go back and select a supervisor to edit."})]})});if(a)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(At,{className:" mx-auto",children:[s.jsx(Dt,{children:s.jsx(Ct,{className:"h-8 w-1/2"})}),s.jsxs(Tt,{className:"space-y-6",children:[s.jsx(Ct,{className:"h-10 w-full"}),s.jsx(Ct,{className:"h-10 w-full"}),s.jsx(Ct,{className:"h-10 w-full"}),s.jsx(Ct,{className:"h-10 w-1/3 ml-auto"})]})]})});if(i)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Wn,{variant:"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Error Fetching Supervisor"}),s.jsxs(Gn,{children:["There was a problem retrieving the supervisor details. Error: ",(o==null?void 0:o.message)||"Unknown error"]})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Wn,{variant:"default",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Not Found"}),s.jsx(Gn,{children:"Supervisor data could not be loaded or found."})]})});const u={name:n.name,contactPersonName:n.contactPersonName||"",email:n.email||"",mobile:n.mobile,alternateMobile:n.alternateMobile||null,address1:n.address1,address2:n.address2||null,city:n.city,pincode:n.pincode,depotId:n.depotId||null,status:(f=n.user)!=null&&f.active?"ACTIVE":"INACTIVE"};return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(At,{className:"max-w-4xl mx-auto",children:[s.jsx(Dt,{children:s.jsx(rr,{className:"text-2xl font-semibold",children:"Edit Supervisor"})}),s.jsx(Tt,{children:s.jsx(c$,{mode:"edit",supervisorId:e,initialData:u,onSuccess:l})})]})})},exe=()=>{const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);return{role:(t==null?void 0:t.role)||null,id:(t==null?void 0:t.id)||null}}catch(t){return console.error("Failed to parse user from localStorage",t),{role:null,id:null}}return{role:null,id:null}},NR=()=>{const[e,t]=g.useState(1),[r,n]=g.useState(""),[a,i]=g.useState(""),[o,l]=g.useState(void 0),[u,f]=g.useState(""),h=g.useRef(null),p=10,[x,y]=g.useState(exe()),[w,b]=g.useState(null),[N,j]=g.useState(!1),[S,A]=g.useState(null),[_,C]=g.useState(!1),k=x==null?void 0:x.role,T=g.useCallback(W=>{n(W.target.value)},[]);g.useEffect(()=>{(async()=>{var Q;if(!localStorage.getItem("authToken")){console.error("No auth token found for user");return}if(k==="AGENCY"){j(!0);try{const P=await ut("/users/me");console.log("agencyinfo",P),b(P!=null&&P.agencyId?String(P.agencyId):null)}catch(P){console.error("Failed to fetch agency info:",P),he.error("Could not load agency details."),b(null)}j(!1)}else if(k==="SUPERVISOR"){C(!0);try{const P=await ut("/users/me");console.log("supervisorinfo",P),A((Q=P==null?void 0:P.supervisor)!=null&&Q.agencyId?String(P.supervisor.agencyId):null)}catch(P){console.error("Failed to fetch supervisor info:",P),he.error("Could not load supervisor details."),A(null)}C(!1)}})()},[k]),g.useEffect(()=>{k==="AGENCY"&&u==="PENDING"&&f("")},[k,u]),g.useEffect(()=>(h.current&&window.clearTimeout(h.current),h.current=window.setTimeout(()=>{i(r)},500),()=>{h.current&&window.clearTimeout(h.current)}),[r]);const O=!!k&&(k!=="AGENCY"||k==="AGENCY"&&!N&&w!==void 0)&&(k!=="SUPERVISOR"||k==="SUPERVISOR"&&!_),{data:R,isLoading:L,isError:M,refetch:G}=jr({queryKey:["orders",e,a,o,u,k,w,S],queryFn:async()=>{if(!k)return{data:[],totalPages:0};if(k==="AGENCY"&&!w)return{data:[],totalPages:0};if(k==="SUPERVISOR"&&!S)return{data:[],totalPages:0};let W="/vendor-orders";k==="VENDOR"?W="/vendor-orders/my":k==="AGENCY"?W="/vendor-orders/my-agency-orders":k==="SUPERVISOR"&&(W="/vendor-orders/my-supervisor-orders");let q=`${W}?page=${e}&limit=${p}`;return a&&(q+=`&search=${a}`),o&&(q+=`&date=${Lt(o,"yyyy-MM-dd")}`),u&&(q+=`&status=${u}`),k==="AGENCY"&&(q+="&excludeStatus=PENDING",w&&(q+=`&agencyId=${w}`)),await ut(q)},enabled:O}),V=(R==null?void 0:R.data)||[],ie=(R==null?void 0:R.totalPages)||1,le=async W=>{try{await Ln(`/vendor-orders/${W}`),he.success("Order deleted successfully"),G()}catch{he.error("Failed to delete order")}},B=W=>{switch(W){case"PENDING":return"bg-yellow-500";case"DELIVERED":return"bg-secondary";case"RECEIVED":return"bg-primary";default:return"bg-gray-500"}},U=W=>{if(!W||W.length===0)return{ordered:0,delivered:0,received:0,supervisor:0};const q=W.reduce((K,H)=>K+(H.quantity||0),0),Q=W.reduce((K,H)=>K+(H.deliveredQuantity||0),0),P=W.reduce((K,H)=>K+(H.receivedQuantity||0),0),X=W.reduce((K,H)=>K+(H.supervisorQuantity||0),0);return{ordered:q,delivered:Q,received:P,supervisor:X}},F=()=>{n(""),i(""),l(void 0),f(""),t(1)};return k==="AGENCY"&&N?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Loading agency details..."})}):k==="SUPERVISOR"&&_?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Loading supervisor details..."})}):L&&O?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Loading orders..."})}):M&&O?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Error loading orders. Please try again later."})}):s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[s.jsxs(At,{className:"mb-6 shadow-lg dark:bg-gray-800",children:[s.jsxs(Dt,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(rr,{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Order Management"}),k==="ADMIN"&&s.jsx(Or,{to:"/admin/orders/create",children:s.jsxs(pe,{className:"bg-blue-600 hover:bg-blue-700 text-white dark:bg-secondary dark:hover:bg-blue-600",children:[s.jsx(yp,{className:"mr-2 h-5 w-5"})," Create New Order"]})})]}),s.jsxs(Tt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 min-w-full ",children:[s.jsx(Ge,{placeholder:"Search by PO, Vendor...",value:r,onChange:T,className:"dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 w-full"}),s.jsxs("select",{value:u,onChange:W=>f(W.target.value),className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",children:[s.jsx("option",{value:"",children:"All Status"}),k!=="AGENCY"&&s.jsx("option",{value:"PENDING",children:"Pending"}),s.jsx("option",{value:"DELIVERED",children:"Delivered"}),s.jsx("option",{value:"RECEIVED",children:"Received"})]}),s.jsxs(pe,{onClick:F,variant:"outline",className:"dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600",children:[s.jsx($p,{className:"mr-2 h-4 w-4"})," Clear Filters"]})]}),V.length===0?s.jsxs("div",{className:"text-center py-10",children:[s.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"No orders found."}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Try adjusting your filters or creating a new order."})]}):s.jsxs(Ls,{className:"min-w-full bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:[s.jsx(Bs,{className:"bg-gray-100 dark:bg-gray-700",children:s.jsxs(tr,{children:[s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"PO Number"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Farmer"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Agency/Depot"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Order Date"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Delivery Date"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Total Amount"}),k==="ADMIN"&&s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Quantities (O/D/R/S)"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Status"}),s.jsx(Ye,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Actions"})]})}),s.jsx($s,{className:"divide-y divide-gray-200 dark:divide-gray-700",children:V.map(W=>{var X;const q=k==="AGENCY"&&!!w&&W.status==="RECEIVED"&&!((X=W.recordedByAgencies)!=null&&X.includes(w)),Q=k==="AGENCY"&&!!w&&(W.status==="DELIVERED"||q),P=U(W.items);return s.jsxs(tr,{className:"hover:bg-gray-50 dark:hover:bg-gray-750",children:[s.jsx(Ue,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:W.poNumber}),s.jsx(Ue,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:W.vendor.name}),s.jsx(Ue,{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:(()=>{var ae,ee;const K=((ae=W.items)==null?void 0:ae.map(ne=>ne.agency).filter(Boolean))||[],H=((ee=W.items)==null?void 0:ee.map(ne=>ne.depot).filter(Boolean))||[],J=K.filter((ne,ke,we)=>ne&&we.findIndex(et=>(et==null?void 0:et.id)===ne.id)===ke),ce=H.filter((ne,ke,we)=>ne&&we.findIndex(et=>(et==null?void 0:et.id)===ne.id)===ke);return s.jsxs("div",{className:"space-y-1",children:[J.map(ne=>ne&&s.jsxs("div",{className:"text-xs",children:[s.jsx("div",{className:"font-medium text-blue-600",children:ne.name}),ne.user&&s.jsxs("div",{className:"text-gray-400",children:[ne.user.name,"  ",ne.user.mobile]})]},`agency-${ne.id}`)),ce.map(ne=>ne&&s.jsxs("div",{className:"text-xs",children:[s.jsx("div",{className:"font-medium text-green-600",children:ne.name}),ne.address&&s.jsx("div",{className:"text-gray-400 truncate max-w-xs",children:ne.address})]},`depot-${ne.id}`)),J.length===0&&ce.length===0&&s.jsx("span",{className:"text-gray-400",children:"N/A"})]})})()}),s.jsx(Ue,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Lt(new Date(W.orderDate),"dd/MM/yyyy")}),s.jsx(Ue,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Lt(new Date(W.deliveryDate),"dd/MM/yyyy")}),s.jsx(Ue,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Ms(W.totalAmount)}),k==="ADMIN"&&s.jsx(Ue,{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("div",{className:"flex flex-col space-y-1",children:(()=>{const K=W.items.map(J=>J.depotVariantName).filter((J,ce,ae)=>J&&ae.indexOf(J)===ce),H=K.length>0?` (${K.join(", ")})`:"";return console.log(W.items),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ordered:"})," ",P.ordered,H]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Delivered:"})," ",s.jsx("span",{className:P.delivered<P.ordered?"text-red-500 font-medium":"text-gray-500 dark:text-gray-300",children:P.delivered})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Received:"})," ",s.jsx("span",{className:P.received<P.delivered?"text-red-500 font-medium":"text-gray-500 dark:text-gray-300",children:P.received})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Supervisor:"})," ",s.jsx("span",{className:P.supervisor<P.received?"text-red-500 font-medium":"text-gray-500 dark:text-gray-300",children:P.supervisor})]})]})})()})}),s.jsxs(Ue,{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx(Fr,{className:`${B(W.status)} text-white px-2 py-1 rounded-full text-xs`,children:W.status}),q&&s.jsx(kw,{children:s.jsxs(cb,{children:[s.jsx(db,{asChild:!0,children:s.jsx(gu,{className:"ml-2 h-4 w-4 text-red-500 inline-block"})}),s.jsx(ub,{className:"bg-black text-white p-2 rounded",children:s.jsx("p",{children:"You need to record your quantities for this order."})})]})})]}),s.jsx(Ue,{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs(gh,{modal:!1,children:[s.jsx(yh,{asChild:!0,children:s.jsx(pe,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(Qg,{className:"h-4 w-4"})})}),s.jsxs(vh,{align:"end",className:"dark:bg-gray-800 dark:text-gray-200",children:[k==="ADMIN"&&s.jsxs(s.Fragment,{children:[s.jsx(gn,{asChild:!0,children:s.jsxs(Or,{to:`/admin/orders/${W.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(_c,{className:"mr-2 h-4 w-4"})," View Details"]})}),W.status==="PENDING"&&s.jsxs(gn,{onClick:()=>le(W.id),className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/50 cursor-pointer",children:[s.jsx(un,{className:"mr-2 h-4 w-4"})," Delete"]})]}),k==="VENDOR"&&s.jsxs(s.Fragment,{children:[(W.status==="PENDING"||W.status==="DELIVERED")&&s.jsx(gn,{asChild:!0,children:s.jsxs(Or,{to:`/vendor/orders/${W.id}/record-delivery`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(Mf,{className:"mr-2 h-4 w-4"})," Record Delivery"]})}),s.jsx(gn,{asChild:!0,children:s.jsxs(Or,{to:`/vendor/orders/${W.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(_c,{className:"mr-2 h-4 w-4"})," View Details"]})})]}),k==="AGENCY"&&s.jsxs(s.Fragment,{children:[s.jsx(gn,{asChild:!0,children:s.jsxs(Or,{to:`/admin/orders/${W.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(_c,{className:"mr-2 h-4 w-4"})," View Details"]})}),Q&&s.jsx(gn,{asChild:!0,children:s.jsxs(Or,{to:`/admin/orders/${W.id}/record-receipt`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(Mf,{className:"mr-2 h-4 w-4"}),q?"Record Your Quantities":"Record Receipt"]})})]}),k==="SUPERVISOR"&&s.jsxs(s.Fragment,{children:[s.jsx(gn,{asChild:!0,children:s.jsxs(Or,{to:`/admin/orders/${W.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(_c,{className:"mr-2 h-4 w-4"})," View Details"]})}),(W.status==="DELIVERED"||W.status==="RECEIVED")&&s.jsx(gn,{asChild:!0,children:s.jsxs(Or,{to:`/admin/orders/${W.id}/supervisor-quantity`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(Mf,{className:"mr-2 h-4 w-4"})," Record Supervisor Quantity"]})})]}),k!=="ADMIN"&&k!=="VENDOR"&&k!=="AGENCY"&&k!=="SUPERVISOR"&&s.jsx(gn,{disabled:!0,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-200",children:"No actions available for your role."})]})]})})]},W.id)})})]})]})]}),!L&&!M&&V.length>0&&s.jsx("div",{className:"flex justify-center mt-6",children:s.jsxs(e0,{children:[s.jsx(r0,{onClick:()=>e>1&&t(e-1),className:Ze("cursor-pointer",e<=1&&"pointer-events-none opacity-50")}),s.jsx(t0,{children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",e," of ",ie]})})}),s.jsx(s0,{onClick:()=>e<ie&&t(e+1),className:Ze("cursor-pointer",e>=ie&&"pointer-events-none opacity-50")})]})})]})},txe=ys({poNumber:at().optional(),orderDate:Uc(),deliveryDate:Uc(),contactPersonName:at().min(1,"Contact person name is required"),vendorId:at().min(1,"Farmer is required"),notes:at().optional(),orderItems:dh(ys({depotId:at().min(1,"Depot is required"),agencyId:at().min(1,"Agency is required"),productId:at().min(1,"Product is required"),depotVariantId:at().min(1,"Depot variant is required"),quantity:bi().min(1,"Quantity must be at least 1"),variantUnit:at().optional()})).min(1,"At least one product item is required")});function vS(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function jR(e){return e?!isNaN(e.getTime()):!1}function SR({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=g.useState(!1),[l,u]=g.useState(e),[f,h]=g.useState(vS(e));return g.useEffect(()=>{h(vS(e)),jR(e)&&u(e)},[e]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(je,{htmlFor:n,className:"px-1",children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(Ge,{id:n,value:f,placeholder:"01/06/2025",className:"bg-background pr-10",onChange:p=>{const x=p.target.value;h(x);const y=new Date(x);jR(y)?(t(y),u(y)):t(void 0)},onKeyDown:p=>{p.key==="ArrowDown"&&(p.preventDefault(),o(!0))}}),s.jsxs(td,{open:i,onOpenChange:o,children:[s.jsx(rd,{asChild:!0,children:s.jsxs(pe,{variant:"ghost",className:"absolute top-1/2 right-2 size-6 -translate-y-1/2",children:[s.jsx(Qn,{className:"size-3.5"}),s.jsx("span",{className:"sr-only",children:"Select date"})]})}),s.jsx(sd,{className:"w-auto overflow-hidden p-0",align:"end",alignOffset:-8,sideOffset:10,children:s.jsx(nd,{mode:"single",selected:e,captionLayout:"dropdown",month:l,onMonthChange:u,onSelect:p=>{t(p),h(vS(p)),o(!1)},fromDate:a,initialFocus:!0})})]})]})]})}const d$=({mode:e,orderId:t,initialData:r,onSuccess:n})=>{const a=_n(),[i,o]=g.useState([]),[l,u]=g.useState([]),[f,h]=g.useState([]),[p,x]=g.useState([]),[y,w]=g.useState([]),[b,N]=g.useState(null),[j,S]=g.useState(),[A,_]=g.useState(!1),[C,k]=g.useState(!0),[T,O]=g.useState({}),R=gr(),L=()=>{k(!C)},M=Ee=>{O(Te=>({...Te,[Ee]:!Te[Ee]}))},{register:G,control:V,handleSubmit:ie,setValue:le,watch:B,formState:{errors:U,isSubmitting:F}}=en({resolver:tn(txe),defaultValues:{poNumber:e==="create"?"":(r==null?void 0:r.poNumber)||"",orderDate:e==="edit"&&(r!=null&&r.orderDate)?new Date(r.orderDate):new Date,deliveryDate:e==="edit"&&(r!=null&&r.deliveryDate)?new Date(r.deliveryDate):zn(new Date,1),receivedById:e==="edit"&&(r!=null&&r.receivedById)?r.receivedById:"",contactPersonName:e==="edit"&&(r!=null&&r.contactPersonName)?r.contactPersonName:"",vendorId:e==="edit"&&(r!=null&&r.vendorId)?r.vendorId:"",notes:e==="edit"&&(r!=null&&r.notes)?r.notes:"",orderItems:e==="edit"&&(r!=null&&r.orderItems)&&r.orderItems.length>0?r.orderItems.map(Ee=>({productId:String((Ee==null?void 0:Ee.productId)||""),quantity:Number((Ee==null?void 0:Ee.quantity)||1),agencyId:String((Ee==null?void 0:Ee.agencyId)||""),depotId:String((Ee==null?void 0:Ee.depotId)||""),depotVariantId:String((Ee==null?void 0:Ee.depotVariantId)||"")})):[{productId:"",quantity:1,agencyId:"",depotId:"",depotVariantId:""}]},mode:"onChange"}),W=B("orderItems"),q=JSON.stringify(W),Q=B("deliveryDate"),P=He.useMemo(()=>{console.log("[OrderForm] Recalculating groupedProductSummary. Watched items (stringified for dep):",q,"Product count:",l.length);const Ee={};return!W||W.length===0||!l||l.length===0||(W.forEach(Te=>{if(!Te||!Te.productId||Te.quantity===void 0||Te.quantity===null||Number(Te.quantity)<=0)return;const Fe=l.find(Et=>String(Et.id)===Te.productId),ue=y.find(Et=>String(Et.id)===Te.depotVariantId),Ce=f.find(Et=>String(Et.id)===Te.agencyId),De=p.find(Et=>String(Et.id)===Te.depotId);if(Fe&&ue){const Et=Number(ue.mrp)||Number(ue.buyOncePrice)||0,_t=Number(Te.quantity);Ee[Te.productId]||(Ee[Te.productId]={name:Fe.name,totalQuantity:0,totalPrice:0,variants:{}}),Ee[Te.productId].totalQuantity+=_t,Ee[Te.productId].totalPrice=(Ee[Te.productId].totalPrice||0)+Et*_t,ue&&Te.depotVariantId&&(Ee[Te.productId].variants[Te.depotVariantId]||(Ee[Te.productId].variants[Te.depotVariantId]={name:ue.name,quantity:0,agencies:[],depots:[],unit:ue.unit,price:Et}),Ee[Te.productId].variants[Te.depotVariantId].quantity+=_t,Ce&&!Ee[Te.productId].variants[Te.depotVariantId].agencies.includes(Ce.name)&&Ee[Te.productId].variants[Te.depotVariantId].agencies.push(Ce.name),De&&!Ee[Te.productId].variants[Te.depotVariantId].depots.includes(De.name)&&Ee[Te.productId].variants[Te.depotVariantId].depots.push(De.name))}}),console.log("[OrderForm] Enhanced groupedProductSummary result:",JSON.parse(JSON.stringify(Ee)))),Ee},[q,l,y,f,p]),X=()=>{const Ee={};Object.keys(P).forEach(Te=>{Ee[Te]=!0}),O(Ee)},K=()=>{const Ee={};Object.keys(P).forEach(Te=>{Ee[Te]=!1}),O(Ee)},H=Object.keys(P).length>0&&Object.keys(P).every(Ee=>T[Ee]!==!1),J=Object.keys(P).length>0&&Object.keys(P).every(Ee=>T[Ee]===!1),{fields:ce,append:ae,remove:ee}=gy({control:V,name:"orderItems"});g.useEffect(()=>{console.log("[OrderForm] Fields updated:",ce),console.log("[OrderForm] Fields length:",ce.length)},[ce]),g.useEffect(()=>{(async()=>{try{const Te=await ut("/vendors?limit=1000&dairyOnly=true");Te&&Array.isArray(Te)?o(Te.map(Fe=>({...Fe,id:String(Fe.id)}))):Te&&Te.data&&Array.isArray(Te.data)?o(Te.data.map(Fe=>({...Fe,id:String(Fe.id)}))):(o([]),he.error("Failed to fetch farmer or data is not in expected format."))}catch{he.error("Failed to fetch farmer"),o([])}})()},[]),g.useEffect(()=>{(async()=>{try{const Te=await ut("/products");let Fe=[];if(Te&&Array.isArray(Te)?Fe=Te:Te&&Te.data&&Array.isArray(Te.data)?Fe=Te.data:(console.error("Unexpected product API response structure:",Te),he.error("Products data is not in the expected array format.")),u(Fe),e==="edit"&&(r!=null&&r.orderItems)&&Array.isArray(r.orderItems)&&r.orderItems.length>0&&Fe.length>0&&f.length>0){console.log("Attempting to set order items. initialData.orderItems:",r.orderItems);const ue=r.orderItems.map(De=>({...De,productId:String((De==null?void 0:De.productId)||""),quantity:Number((De==null?void 0:De.quantity)||1),agencyId:String((De==null?void 0:De.agencyId)||""),depotId:String((De==null?void 0:De.depotId)||""),depotVariantId:String((De==null?void 0:De.depotVariantId)||"")}));ue.every(De=>Fe.some(Et=>String(Et.id)===De.productId))||console.warn("Some products in initialData.orderItems do not exist in the fetched products list. Items might not display correctly or be selectable."),le("orderItems",ue),console.log("Order items set in form with:",ue)}}catch(Te){console.error("Error fetching products or setting items:",Te),u([]),he.error("Failed to fetch products")}})()},[e,r,le,f]),g.useEffect(()=>{(async()=>{try{const Te=await ut("/agencies");let Fe=[];Te&&Array.isArray(Te.data)?Fe=Te.data.map(ue=>({...ue,id:String(ue.id)})):Te&&Array.isArray(Te)&&(Fe=Te.map(ue=>({...ue,id:String(ue.id)}))),h(Fe),Fe.length>0||(h([]),console.warn("Fetched agencies data is not an array or is missing:",Te),he.error("Could not load agencies."))}catch(Te){console.error("Error fetching agencies:",Te),he.error("Failed to fetch agencies."),h([])}})()},[]),g.useEffect(()=>{(async()=>{try{const Te=await ut("/depots");let Fe=[];Te&&Array.isArray(Te.data)?Fe=Te.data.map(ue=>({...ue,id:String(ue.id)})):Te&&Array.isArray(Te)&&(Fe=Te.map(ue=>({...ue,id:String(ue.id)}))),x(Fe),Fe.length>0||(x([]),console.warn("Fetched depots data is not an array or is missing:",Te),he.error("Could not load depots."))}catch(Te){console.error("Error fetching depots:",Te),he.error("Failed to fetch depots."),x([])}})()},[]),g.useEffect(()=>{(async()=>{try{const Te=await ut("/depot-product-variants");let Fe=[];Te&&Array.isArray(Te.data)?Fe=Te.data.map(ue=>({...ue,id:String(ue.id)})):Te&&Array.isArray(Te)&&(Fe=Te.map(ue=>({...ue,id:String(ue.id)}))),w(Fe),Fe.length>0||(w([]),console.warn("Fetched depot variants data is not an array or is missing:",Te),he.error("Could not load depot variants."))}catch(Te){console.error("Error fetching depot variants:",Te),he.error("Failed to fetch depot variants."),w([])}})()},[]),g.useEffect(()=>{e==="create"&&Q&&(async()=>{_(!0);try{const Te=Lt(Q,"yyyy-MM-dd");console.log("[OrderForm] Fetching prefill data for date:",Te);const Fe=await ut(`/vendor-orders/get-order-details?date=${Te}`);console.log("[OrderForm] Raw API response:",Fe);const ue=Fe;if(console.log("[OrderForm] Response data:",ue),console.log("[OrderForm] Type of responseData:",typeof ue),console.log("[OrderForm] responseData.data exists:",!!ue.data),console.log("[OrderForm] responseData.data is Array:",Array.isArray(ue.data)),console.log("[OrderForm] responseData.data length:",ue.data?ue.data.length:"N/A"),ue&&ue.data&&Array.isArray(ue.data)&&ue.data.length>0){console.log("[OrderForm] Number of depot-variant groups from API:",ue.data.length),console.log("[OrderForm] Summary:",ue.summary);const Ce=[];ue.data.forEach(De=>{if(console.log("[OrderForm] Processing group:",De),De.depot&&De.variant&&De.product)if(De.agencies&&De.agencies.ids.length>1){const Et={};De.members&&Array.isArray(De.members)&&De.members.forEach(xe=>{});const _t=Math.ceil(De.statistics.totalQuantity/De.agencies.ids.length);De.agencies.ids.forEach((xe,Ae)=>{const Ie={depotId:String(De.depot.id||""),agencyId:String(xe),productId:String(De.product.id||""),depotVariantId:String(De.variant.id||""),quantity:_t};console.log(`[OrderForm] Mapped item for agency ${De.agencies.names[Ae]}:`,Ie),Ie.depotId&&Ie.agencyId&&Ie.productId&&Ie.depotVariantId&&Ie.quantity>0&&Ce.push(Ie)})}else{const Et=De.agencies&&De.agencies.ids.length>0?String(De.agencies.ids[0]):"",_t={depotId:String(De.depot.id||""),agencyId:Et,productId:String(De.product.id||""),depotVariantId:String(De.variant.id||""),quantity:Number(De.statistics.totalQuantity||0)};console.log("[OrderForm] Mapped item:",_t),_t.depotId||console.warn("[OrderForm] Item missing depotId"),_t.agencyId||console.warn("[OrderForm] Item missing agencyId - user will need to select"),_t.productId||console.warn("[OrderForm] Item missing productId"),_t.depotVariantId||console.warn("[OrderForm] Item missing depotVariantId"),_t.quantity<=0&&console.warn("[OrderForm] Item has invalid quantity:",_t.quantity),_t.depotId&&_t.productId&&_t.depotVariantId&&_t.quantity>0&&Ce.push(_t)}}),console.log("[OrderForm] Final mapped order items:",Ce),console.log("[OrderForm] Setting form with",Ce.length,"items"),Ce.length>0?(le("orderItems",Ce,{shouldValidate:!0}),he.success(`${Ce.length} order items prefilled for ${Lt(Q,"dd/MM/yyyy")}. Total quantity: ${ue.summary.totalQuantity} units across ${ue.summary.totalDepots} depots.`)):(console.warn("[OrderForm] No valid items could be mapped from the response"),le("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0}),he.warning(`Data found but could not map items for ${Lt(Q,"dd/MM/yyyy")}.`))}else console.log("[OrderForm] No data found or data format incorrect"),console.log("[OrderForm] responseData:",ue),console.log("[OrderForm] Condition failed:",{hasResponseData:!!ue,hasDataProperty:!!(ue&&ue.data),isDataArray:Array.isArray(ue&&ue.data),dataLength:ue&&ue.data?ue.data.length:0}),le("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0}),he.info(`No scheduled order items found for ${Lt(Q,"dd/MM/yyyy")}.`)}catch(Te){console.error("[OrderForm] Error fetching prefill data:",Te),he.error(Te.message||"Failed to fetch prefill order items."),le("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0})}finally{_(!1)}})()},[Q,e,le,l,f]),g.useEffect(()=>{e==="edit"&&r&&(console.log("Populating basic form fields with initialData:",r),r.poNumber&&le("poNumber",r.poNumber),r.orderDate&&le("orderDate",new Date(r.orderDate)),r.deliveryDate&&le("deliveryDate",new Date(r.deliveryDate)),r.contactPersonName&&le("contactPersonName",r.contactPersonName),r.notes&&le("notes",r.notes))},[e,r,le]),g.useEffect(()=>{if(e==="edit"&&(r!=null&&r.vendorId)&&i.length>0){const Ee=String(r.vendorId);le("vendorId",Ee);const Te=i.find(Fe=>Fe.id===Ee);Te?(N(Te),console.log("Farmer set in form:",r.vendorId,Te)):(console.warn(`Farmer with ID ${r.vendorId} not found in fetched farmer list. Cannot preselect.`),N(null))}},[e,r==null?void 0:r.vendorId,i,le]);const ne=B("vendorId");g.useEffect(()=>{if(ne){const Ee=i.find(Te=>Te.id===ne);N(Ee||null),Ee!=null&&Ee.contactPersonName&&le("contactPersonName",Ee.contactPersonName)}else N(null)},[ne,i,le]);const ke=Rr({mutationFn:async Ee=>e==="edit"&&t?Js(`/vendor-orders/${t}`,Ee):Ur("/vendor-orders",Ee),onSuccess:()=>{he.success("Order created successfully"),a.invalidateQueries({queryKey:["orders"]}),R("/admin/orders"),n&&n()},onError:Ee=>{he.error(Ee.message||"Failed to create order")}}),we=Ee=>{const Te={...Ee,orderItems:Ee.orderItems.map((Fe,ue)=>{const Ce=W[ue];return{productId:Fe.productId,quantity:Fe.quantity,agencyId:Fe.agencyId,depotId:(Ce==null?void 0:Ce.depotId)||Fe.depotId||"",depotVariantId:(Ce==null?void 0:Ce.depotVariantId)||Fe.depotVariantId||""}}),totalAmount:j||0};console.log("[OrderForm] Submitting complete order data:",Te),ke.mutate(Te)};g.useEffect(()=>{console.log("[OrderForm] Recalculating orderTotal. groupedProductSummary:",JSON.parse(JSON.stringify(P)),"Product count:",l.length,"Watched items (stringified for dep):",q);const Ee=Object.values(P).reduce((Te,Fe)=>Te+(Fe.totalPrice||0),0);console.log("[OrderForm] calculatedTotalPrice:",Ee),S(Ee)},[P,l,q]);const et=()=>s.jsxs(He.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx(yp,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),s.jsxs("div",{className:"grid gap-4",children:[e!=="create"&&s.jsxs("div",{className:"relative",children:[s.jsx(je,{htmlFor:"poNumber",className:"text-gray-700 dark:text-gray-300 font-medium",children:"PO Number"}),s.jsx(Ge,{id:"poNumber",className:"bg-white/80 dark:bg-gray-900/80 border-gray-300 dark:border-gray-700",...G("poNumber"),disabled:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx($r,{control:V,name:"orderDate",render:({field:Ee})=>s.jsx(SR,{id:"orderDate",label:"Order Date",value:Ee.value,onChange:Ee.onChange,fromDate:new Date})}),U.orderDate&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:U.orderDate.message})]}),s.jsxs("div",{className:"relative",children:[s.jsx($r,{control:V,name:"deliveryDate",render:({field:Ee})=>s.jsx(SR,{id:"deliveryDate",label:"Delivery Date",value:Ee.value,onChange:Ee.onChange,fromDate:B("orderDate")||new Date})}),U.deliveryDate&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:U.deliveryDate.message}),e==="create"&&s.jsx(s.Fragment,{children:A&&s.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",children:[s.jsx(Wr,{className:"animate-spin h-4 w-4 mr-2"}),"Checking for scheduled items..."]})})]})]}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(je,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Notes / Special Instructions"}),s.jsx(eh,{id:"notes",...G("notes"),rows:3,className:"bg-white/80 dark:bg-gray-900/80 border-gray-300 dark:border-gray-700"}),U.notes&&s.jsx("span",{className:"text-red-500 text-xs mt-1",children:U.notes.message})]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(uu,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Farmer Information"})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(je,{htmlFor:"vendorId",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Select Farmer"}),s.jsx($r,{control:V,name:"vendorId",render:({field:Ee})=>s.jsxs(Wt,{onValueChange:Ee.onChange,value:Ee.value||"",defaultValue:Ee.value||"",children:[s.jsx(Yt,{className:"bg-white dark:bg-gray-700 w-full",children:s.jsx(Gt,{placeholder:"Select a Farmer"})}),s.jsx(Kt,{children:i.map(Te=>s.jsx(ct,{value:Te.id,children:Te.name},Te.id))})]})}),U.vendorId&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:U.vendorId.message})]}),s.jsxs("div",{className:"relative",children:[s.jsx(je,{htmlFor:"contactPersonName",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Contact Person"}),s.jsx(Ge,{id:"contactPersonName",disabled:!0,className:"bg-white/80 dark:bg-gray-900/80 border-emerald-200 dark:border-emerald-800",...G("contactPersonName")}),U.contactPersonName&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:U.contactPersonName.message})]})]}),b&&s.jsxs("div",{className:"mt-4 p-3 bg-white/90 dark:bg-gray-900/90 rounded-md border border-emerald-200 dark:border-emerald-800",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Farmer Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Email:"}),s.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:b.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Phone:"}),s.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:b.mobile})]})]})]})]})]}),s.jsxs(At,{className:"shadow-lg mt-6",children:[s.jsxs(Dt,{className:"bg-gray-50 dark:bg-gray-900",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qi,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),s.jsx(rr,{className:"text-gray-700 dark:text-gray-300",children:"Products & Agencies"})]}),s.jsxs(pe,{type:"button",size:"sm",variant:"outline",onClick:()=>ae({productId:"",quantity:1,agencyId:"",depotId:"",depotVariantId:""}),className:"border-gray-300 mt-4 mb-4 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:[s.jsx(Cn,{className:"h-4 w-4 mr-1"}),"Add Product Item"]})]}),s.jsx(yi,{className:"text-gray-600 dark:text-gray-400",children:"Add products to your order, specify quantities, and assign an agency to each item."})]}),s.jsxs(Tt,{className:"p-6 space-y-6",children:[ce.length===0&&s.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[s.jsx(AE,{className:"h-12 w-12 mx-auto mb-2 text-gray-400 dark:text-gray-500"}),'No products added yet. Click "Add Product Item" to begin.']}),ce.length>0&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Depot"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[150px]",children:"Agency"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[200px]",children:"Product"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Depot Variant"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[80px]",children:"QTY"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[80px]",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:ce.map((Ee,Te)=>{var Ce;console.log(`[OrderForm] Rendering field ${Te}:`,Ee,"Watched item:",W[Te]);const Fe=y.find(De=>{var Et;return String(De.id)===((Et=W[Te])==null?void 0:Et.depotVariantId)});return(Fe&&(Number(Fe.mrp)||Number(Fe.buyOncePrice))||0)*(((Ce=W[Te])==null?void 0:Ce.quantity)||0),s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx($r,{control:V,name:`orderItems.${Te}.depotId`,render:({field:De})=>s.jsxs(Wt,{onValueChange:De.onChange,value:De.value||"",children:[s.jsx(Yt,{className:"h-9 text-sm bg-white dark:bg-gray-700 min-w-full",children:s.jsx(Gt,{placeholder:"Select Depot"})}),s.jsx(Kt,{children:p.map(Et=>s.jsx(ct,{value:Et.id,children:Et.name},Et.id))})]})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx($r,{control:V,name:`orderItems.${Te}.agencyId`,render:({field:De})=>s.jsxs(Wt,{onValueChange:De.onChange,value:De.value||"",children:[s.jsx(Yt,{className:"h-9 text-sm bg-white dark:bg-gray-700 min-w-full",children:s.jsx(Gt,{placeholder:"Select Agency"})}),s.jsx(Kt,{children:f.map(Et=>s.jsx(ct,{value:Et.id,children:Et.name},Et.id))})]})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx($r,{control:V,name:`orderItems.${Te}.productId`,render:({field:De})=>s.jsxs(Wt,{onValueChange:De.onChange,value:De.value||"",children:[s.jsx(Yt,{className:"h-9 text-sm bg-white dark:bg-gray-700/50 border-gray-300 dark:border-gray-600 w-full",children:s.jsx(Gt,{placeholder:"Select Product"})}),s.jsx(Kt,{children:l.map(Et=>s.jsx(ct,{value:String(Et.id),children:Et.name},Et.id))})]})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx($r,{control:V,name:`orderItems.${Te}.depotVariantId`,render:({field:De})=>s.jsxs(Wt,{onValueChange:De.onChange,value:De.value||"",children:[s.jsx(Yt,{className:"h-9 text-sm bg-white dark:bg-gray-700 min-w-full",children:s.jsx(Gt,{placeholder:"Select Depot Variant"})}),s.jsx(Kt,{children:y.map(Et=>s.jsx(ct,{value:Et.id,children:Et.name},Et.id))})]})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[100px]",children:s.jsx(Ge,{id:`orderItems.${Te}.quantity`,type:"number",min:"1",...G(`orderItems.${Te}.quantity`,{valueAsNumber:!0}),className:"h-9 text-sm bg-white dark:bg-gray-700/50 border-gray-300 dark:border-gray-600 w-full"})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:s.jsx(pe,{type:"button",size:"icon",variant:"ghost",onClick:()=>ee(Te),className:"h-8 w-8 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800/50",disabled:ce.length===1,children:s.jsx(un,{className:"h-4 w-4"})})})]},Ee.id)})})]})}),U.orderItems&&typeof U.orderItems=="object"&&"message"in U.orderItems&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:U.orderItems.message}),ce.length>0&&s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-center text-lg",children:[s.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-300",children:"Current Order Total :"}),s.jsx("span",{className:"font-bold text-lg text-gray-800 dark:text-gray-300",children:Ms(j)})]})})]})]}),ce.length>0&&s.jsxs(At,{className:"shadow-lg mt-6 border-2 border-blue-100 dark:border-blue-900",children:[s.jsxs(Dt,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-blue-100/50 dark:hover:bg-blue-900/50 transition-colors rounded p-2 -m-2",onClick:L,onKeyDown:Ee=>{(Ee.key==="Enter"||Ee.key===" ")&&(Ee.preventDefault(),L())},tabIndex:0,role:"button","aria-expanded":C,"aria-label":`${C?"Collapse":"Expand"} order summary`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(PQ,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsx(rr,{className:"text-blue-800 dark:text-blue-200",children:"Order Summary"}),s.jsxs("span",{className:"text-sm text-blue-600 dark:text-blue-400 ml-2",children:["(",Object.keys(P).length," product",Object.keys(P).length!==1?"s":"",")"]})]}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900",children:C?s.jsx(Ha,{className:"h-4 w-4"}):s.jsx(Nu,{className:"h-4 w-4"})})]}),C&&Object.keys(P).length>1&&s.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-blue-200 dark:border-blue-800",children:[s.jsx(yi,{className:"text-blue-600 dark:text-blue-300",children:"Detailed breakdown of products, variants, and distribution."}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{type:"button",variant:"outline",size:"sm",onClick:Ee=>{Ee.stopPropagation(),X()},disabled:H,className:"h-7 text-xs border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/50",children:"Expand All"}),s.jsx(pe,{type:"button",variant:"outline",size:"sm",onClick:Ee=>{Ee.stopPropagation(),K()},disabled:J,className:"h-7 text-xs border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/50",children:"Collapse All"})]})]}),(!C||Object.keys(P).length<=1)&&s.jsx(yi,{className:"text-blue-600 dark:text-blue-300",children:C?"Detailed breakdown of products, variants, and distribution.":`${Object.values(P).reduce((Ee,Te)=>Ee+Te.totalQuantity,0)} total items  ${Ms(j||0)}`})]}),s.jsx("div",{className:Ze("transition-all duration-300 ease-in-out overflow-hidden",C?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"),children:s.jsx(Tt,{className:"p-6",children:(()=>{const Ee=Object.entries(P);if(Ee.length===0){const Te=(W==null?void 0:W.filter(Fe=>Fe.productId&&Number(Fe.quantity)>0))||[];return l.length===0&&Te.length>0?s.jsx("div",{className:"space-y-3",children:Array.from({length:Math.min(Te.length,3)}).map((Fe,ue)=>s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]},`summary-loading-${ue}`))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(AE,{className:"h-12 w-12 mx-auto mb-3 text-gray-400 dark:text-gray-500"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products selected yet"})]})}return s.jsxs("div",{className:"space-y-6",children:[Ee.map(([Te,Fe])=>{const ue=Object.keys(Fe.variants).length>0,Ce=Fe.totalPrice||0,De=T[Te]??!0;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>M(Te),onKeyDown:Et=>{(Et.key==="Enter"||Et.key===" ")&&(Et.preventDefault(),M(Te))},tabIndex:0,role:"button","aria-expanded":De,"aria-label":`${De?"Collapse":"Expand"} ${Fe.name} details`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-8 bg-secondary rounded-full"}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-500 dark:text-gray-400",children:De?s.jsx(Ha,{className:"h-4 w-4"}):s.jsx(Nu,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-800 dark:text-gray-200",children:Fe.name}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:!De&&ue&&s.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded-full",children:[Object.keys(Fe.variants).length," variant",Object.keys(Fe.variants).length!==1?"s":""]})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:[Fe.totalQuantity," items"]}),s.jsx("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:Ms(Ce)})]})]}),De&&ue&&s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-900/50",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-600 pb-2 mb-3",children:"Variant Distribution"}),s.jsx("div",{className:"grid gap-3",children:Object.entries(Fe.variants).map(([Et,_t])=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md p-3 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:_t.name})}),s.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:[_t.quantity," ",_t.unit||"Quantity"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:[_t.agencies.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Agencies:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_t.agencies.map((xe,Ae)=>s.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full text-xs",children:xe},`agency-${Ae}`))})]}),_t.depots.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Depots:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_t.depots.map((xe,Ae)=>s.jsx("span",{className:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 px-2 py-1 rounded-full text-xs",children:xe},`depot-${Ae}`))})]})]})]},`variant-${Et}`))})]}),De&&!ue&&s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-600 bg-yellow-50 dark:bg-yellow-900/20",children:s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"No variant details available for this product"})})]},`summary-group-${Te}`)}),s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-lg p-4 border-2 border-gray-200 dark:border-gray-600",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Items:"}),s.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:[Object.values(P).reduce((Te,Fe)=>Te+Fe.totalQuantity,0)," Quantity"]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Product Types:"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:Object.keys(P).length})]}),s.jsx("div",{className:"border-t border-gray-300 dark:border-gray-500 pt-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Total Order Value:"}),s.jsx("span",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:Ms(j||0)})]})})]})})]})})()})})]})]});return s.jsx("div",{className:"space-y-8 mx-auto p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:e==="create"?"Create New Order":"Edit Order"}),s.jsxs("form",{onSubmit:ie(we),children:[et(),s.jsx("div",{className:"flex justify-end items-center pt-6 border-t dark:border-gray-700",children:s.jsxs(pe,{type:"submit",disabled:F||ke.isPending,className:"bg-gray-600 hover:bg-gray-700 text-white font-semibold px-6 py-2.5 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center gap-2",children:[F||ke.isPending?s.jsx(Wr,{className:"h-5 w-5 animate-spin"}):s.jsx(Up,{className:"h-5 w-5"}),"Submit Order"]})})]})]})})},rxe=()=>s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{}),s.jsx(Tt,{children:s.jsx(d$,{mode:"create"})})]})}),bS=()=>{var x,y,w,b,N;const{id:e}=Xn(),[t,r]=g.useState("details"),{data:n,isLoading:a}=jr({queryKey:["currentUserProfile"],queryFn:async()=>{if(!localStorage.getItem("authToken"))throw new Error("User not authenticated");return ut("/api/users/me")},staleTime:5*60*1e3,enabled:!!localStorage.getItem("authToken")}),{data:i,isLoading:o,isError:l}=jr({queryKey:["order",e],queryFn:async()=>{const j=await ut(`/vendor-orders/${e}`),S=j.items.map(A=>{var _,C,k,T,O,R,L,M;return{id:String(A.id),productId:String(A.productId),productName:((_=A.product)==null?void 0:_.name)||"Unknown Product",priceAtPurchase:Number(A.priceAtPurchase||0),deliveredQuantity:A.deliveredQuantity!==null&&A.deliveredQuantity!==void 0?Number(A.deliveredQuantity):void 0,receivedQuantity:A.receivedQuantity!==null&&A.receivedQuantity!==void 0?Number(A.receivedQuantity):void 0,supervisorQuantity:A.supervisorQuantity!==null&&A.supervisorQuantity!==void 0?Number(A.supervisorQuantity):void 0,quantity:Number(A.quantity||0),agencyId:(C=A.agency)!=null&&C.id?String(A.agency.id):void 0,agencyName:((k=A.agency)==null?void 0:k.name)||void 0,unit:((T=A.product)==null?void 0:T.unit)||void 0,depotId:(O=A.depot)!=null&&O.id?String(A.depot.id):void 0,depotName:((R=A.depot)==null?void 0:R.name)||void 0,depotVariantId:(L=A.depotVariant)!=null&&L.id?String(A.depotVariant.id):void 0,depotVariantName:((M=A.depotVariant)==null?void 0:M.name)||void 0}});return{...j,items:S}}}),u=g.useMemo(()=>i!=null&&i.items?(n==null?void 0:n.role)==="AGENCY"&&n.agencyId!=null?i.items.filter(j=>j.agencyId!=null&&String(j.agencyId)===String(n.agencyId)):i.items:[],[i,n]),f=j=>{switch(j){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"RECEIVED":return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}},h=j=>{switch(j){case"PENDING":return"Pending";case"DELIVERED":return"Delivered";case"RECEIVED":return"Received";default:const S=j;return S?S.charAt(0).toUpperCase()+S.slice(1):"Unknown Status"}},p=j=>{switch(j){case"PENDING":return"Order has been created and is awaiting Farmer action.";case"DELIVERED":return"Order has been marked as delivered by the Farmer.";case"RECEIVED":return"Order has been received and verified.";default:return`Order status is currently ${j||"unknown"}.`}};return o||a?s.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):l?s.jsx("div",{className:"container mx-auto py-10",children:s.jsx("p",{className:"text-center text-red-500",children:"Error loading order details."})}):i?s.jsxs("div",{className:"container mx-auto py-4 md:py-6 space-y-4 md:space-y-6 px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:s.jsx("div",{children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold tracking-tight",children:["Order #",i.poNumber]})})})}),s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsxs("nav",{className:"-mb-px flex flex-wrap space-x-4 sm:space-x-6","aria-label":"Tabs",children:[s.jsx("button",{onClick:()=>r("details"),className:Ze("whitespace-nowrap py-2 md:py-3 px-1 border-b-2 font-medium text-sm",t==="details"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-300":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Order Details"}),(n==null?void 0:n.role)!=="AGENCY"&&s.jsx("button",{onClick:()=>r("timeline"),className:Ze("whitespace-nowrap py-2 md:py-3 px-1 border-b-2 font-medium text-sm",t==="timeline"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-300":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Order Timeline"})]})}),t==="details"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 mt-4 md:mt-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[s.jsxs(At,{children:[s.jsx(Dt,{className:"pb-3",children:s.jsxs(rr,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(yp,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Order Information"]})}),s.jsx(Tt,{children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Order Number"}),s.jsx("p",{className:"mt-1 text-base sm:text-lg font-semibold truncate",children:i.poNumber})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("p",{className:"mt-1",children:s.jsx(Fr,{className:Ze("font-medium border text-xs px-2.5 py-0.5",f(i.status)),children:h(i.status)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900 dark:text-gray-100",children:Lt(new Date(i.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Delivery Date"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900 dark:text-gray-100",children:Lt(new Date(i.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:i.contactPersonName})]})]})})]}),s.jsxs(At,{children:[s.jsx(Dt,{className:"pb-3",children:s.jsxs(rr,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(qi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Order Items"]})}),s.jsx(Tt,{children:s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("div",{className:(n==null?void 0:n.role)==="SUPERVISOR"||(n==null?void 0:n.role)==="ADMIN"?"min-w-[800px]":"min-w-[600px]",children:[s.jsxs("div",{className:Ze("bg-gray-50 dark:bg-gray-900 px-2 sm:px-4 py-3 text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 grid",(n==null?void 0:n.role)==="SUPERVISOR"||(n==null?void 0:n.role)==="ADMIN"?"grid-cols-16":"grid-cols-12"),children:[s.jsx("div",{className:(n==null?void 0:n.role)==="SUPERVISOR"||(n==null?void 0:n.role)==="ADMIN"?"col-span-4":"col-span-6",children:"Product"}),s.jsx("div",{className:"col-span-2 text-right text-xs sm:text-sm",children:"Ordered"}),s.jsx("div",{className:"col-span-2 text-right text-xs sm:text-sm",children:"Delivered"}),s.jsx("div",{className:"col-span-2 text-right text-xs sm:text-sm",children:"Received"}),((n==null?void 0:n.role)==="SUPERVISOR"||(n==null?void 0:n.role)==="ADMIN")&&s.jsx("div",{className:"col-span-2 text-right text-xs sm:text-sm",children:"Supervisor"})]}),s.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:u.map(j=>s.jsxs("div",{className:Ze("px-2 sm:px-4 py-3 sm:py-4 grid items-center",(n==null?void 0:n.role)==="SUPERVISOR"||(n==null?void 0:n.role)==="ADMIN"?"grid-cols-16":"grid-cols-12"),children:[s.jsx("div",{className:(n==null?void 0:n.role)==="SUPERVISOR"||(n==null?void 0:n.role)==="ADMIN"?"col-span-4":"col-span-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 flex-shrink-0 rounded-md bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:s.jsx(qi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-500"})}),s.jsxs("div",{className:"ml-2 sm:ml-4 min-w-0 flex-1",children:[s.jsxs("p",{className:"font-medium text-xs sm:text-sm text-gray-900 dark:text-gray-100 truncate",children:[j.productName," ",j.depotVariantName&&`(${j.depotVariantName})`]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[j.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",j.depotName]}),j.agencyName&&s.jsxs("div",{className:"truncate text-secondary dark:text-blue-400",children:["Agency: ",j.agencyName]})]})]})]})}),s.jsxs("div",{className:"col-span-2 text-right text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:j.quantity}),j.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",j.depotVariantName,")"]})]}),s.jsx("div",{className:"col-span-2 text-right text-xs sm:text-sm",children:typeof j.deliveredQuantity=="number"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:j.deliveredQuantity}),j.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",j.depotVariantName,")"]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx("div",{className:"col-span-2 text-right text-xs sm:text-sm",children:typeof j.receivedQuantity=="number"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:j.receivedQuantity}),j.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",j.depotVariantName,")"]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),((n==null?void 0:n.role)==="SUPERVISOR"||(n==null?void 0:n.role)==="ADMIN")&&s.jsx("div",{className:"col-span-2 text-right text-xs sm:text-sm",children:typeof j.supervisorQuantity=="number"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:j.supervisorQuantity}),j.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",j.depotVariantName,")"]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})})]},j.id))})]})})})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsxs(At,{children:[s.jsx(Dt,{className:"pb-3",children:s.jsxs(rr,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(uu,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Vendor Information"]})}),s.jsxs(Tt,{children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-sm sm:text-lg flex-shrink-0",children:(x=i==null?void 0:i.vendor)==null?void 0:x.name.substring(0,2).toUpperCase()}),s.jsx("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:s.jsx("h3",{className:"font-semibold text-sm sm:text-lg truncate",children:(y=i==null?void 0:i.vendor)==null?void 0:y.name})})]}),s.jsx("div",{className:"space-y-3 text-xs sm:text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block",children:"Email:"}),s.jsx("span",{className:"font-medium break-all",children:(w=i==null?void 0:i.vendor)==null?void 0:w.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block",children:"Phone:"}),s.jsx("span",{className:"font-medium",children:(b=i==null?void 0:i.vendor)==null?void 0:b.mobile})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block",children:"Address:"}),s.jsx("span",{className:"font-medium break-words",children:(N=i==null?void 0:i.vendor)==null?void 0:N.address})]})]})})]})]}),s.jsxs(At,{children:[s.jsx(Dt,{className:"pb-3",children:s.jsxs(rr,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(Mf,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Status Update"]})}),s.jsx(Tt,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"p-3 sm:p-4 rounded-lg bg-gray-50 dark:bg-gray-900",children:[s.jsx("h3",{className:"font-medium mb-2 text-sm sm:text-base",children:"Current Status"}),s.jsx(Fr,{className:Ze("font-medium border text-xs px-2.5 py-0.5",f(i.status)),children:h(i.status)}),s.jsx("p",{className:"mt-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400 leading-relaxed",children:p(i.status)})]})})})]})]})]}),t==="timeline"&&(n==null?void 0:n.role)!=="AGENCY"&&s.jsxs(At,{className:"mt-4 md:mt-6",children:[s.jsx(Dt,{children:s.jsx(rr,{className:"text-base sm:text-lg md:text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Order Progress Timeline"})}),s.jsx(Tt,{children:s.jsx("div",{className:"relative pl-4 sm:pl-6 space-y-4 before:absolute before:inset-y-0 before:left-4 sm:before:left-6 before:w-0.5 before:bg-gray-300 dark:before:bg-gray-700",children:(()=>{const j=["PENDING","DELIVERED","RECEIVED"],S=j.indexOf(i.status);return[{title:"Order Created",icon:s.jsx(yp,{className:"h-5 w-5 text-white"}),iconBg:"bg-secondary",time:Lt(new Date(i.createdAt),"dd/MM/yyyy"),description:`Order #${i.poNumber} was created with ${i.items.length} product(s).`,stepStatus:"PENDING"},{title:"Order Delivered",activeIcon:s.jsx(Jb,{className:"h-5 w-5 text-white"}),activeIconBg:"bg-primary",placeholderIcon:s.jsx(uu,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),placeholderIconBg:"bg-gray-300 dark:bg-gray-700",time:i.status==="DELIVERED"||i.status==="RECEIVED"?Lt(new Date(i.updatedAt),"dd/MM/yyyy HH:mm"):"Awaiting delivery",description:"Order has been marked as delivered by the Farmer.",stepStatus:"DELIVERED"},{title:"Order Received",activeIcon:s.jsx(HQ,{className:"h-5 w-5 text-white"}),activeIconBg:"bg-purple-500",placeholderIcon:s.jsx(qi,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),placeholderIconBg:"bg-gray-300 dark:bg-gray-700",time:i.status==="RECEIVED"?Lt(new Date(i.updatedAt),"dd/MM/yyyy HH:mm"):"Awaiting confirmation",description:"Order has been received and verified.",stepStatus:"RECEIVED"}].map(_=>{const C=j.indexOf(_.stepStatus);let k,T,O,R;return S===C?(k=_.activeIcon||_.icon,T=_.activeIconBg||_.iconBg,O="bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800 shadow-sm",R="font-semibold text-gray-900 dark:text-gray-100"):S>C?(k=_.activeIcon||_.icon,T=_.activeIconBg||_.iconBg,O="bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800 shadow-sm opacity-80",R="font-semibold text-gray-700 dark:text-gray-300"):(k=_.placeholderIcon||_.icon,T=_.placeholderIconBg||_.iconBg,O="bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 border-dashed opacity-70",R="font-semibold text-gray-600 dark:text-gray-400"),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute left-0 top-2 -ml-4 sm:-ml-6 h-8 w-8 sm:h-10 sm:w-10 rounded-full flex items-center justify-center border-2 sm:border-4 border-white dark:border-gray-900 ${T}`,children:s.jsx("div",{className:"h-4 w-4 sm:h-5 sm:w-5",children:k})}),s.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border shadow-sm ml-6 sm:ml-8 ${O}`,children:[s.jsx("h3",{className:`${R} flex items-center text-sm sm:text-base`,children:_.title}),s.jsx("time",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mt-1 mb-2",children:_.time}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:_.description})]})]},_.title)})})()})})]})]}):s.jsx("div",{className:"container mx-auto py-10",children:s.jsx("p",{className:"text-center text-gray-500",children:"Order data not available."})})},sxe=()=>{const{id:e}=Xn(),t=gr(),[r,n]=g.useState(null),{data:a,isLoading:i,isError:o}=jr({queryKey:["order",e],queryFn:async()=>await ut(`/vendor-orders/${e}`)});g.useEffect(()=>{if(a){const u={poNumber:a.poNumber,orderDate:new Date(a.orderDate),deliveryDate:new Date(a.deliveryDate),contactPersonName:a.contactPersonName,vendorId:a.vendorId,notes:a.notes||"",orderItems:a.items.map(f=>({productId:f.productId,quantity:f.quantity,agencyId:f.agencyId||"",depotId:String(f.depotId||""),depotVariantId:String(f.depotVariantId||"")}))};n(u)}},[a]);const l=()=>{t("/admin/orders")};return i?s.jsx("div",{className:"container mx-auto py-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})})}):o?s.jsx("div",{className:"container mx-auto py-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(At,{className:"bg-red-50 dark:bg-red-950 border-red-100 dark:border-red-900",children:s.jsx(Tt,{className:"p-6 text-center",children:s.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Failed to load order details. Please try again."})})})})}):s.jsxs("div",{className:"container mx-auto py-6",children:[s.jsx("div",{className:"max-w-7xl mx-auto w-full mb-6"}),r&&s.jsx(d$,{mode:"edit",orderId:e,initialData:r,onSuccess:l})]})},nxe=()=>{var p,x;const{id:e}=Xn(),t=gr(),[r,n]=g.useState({}),a=Rr({mutationFn:y=>{if(!e)throw new Error("Order ID is missing for delivery submission.");return Js(`/vendor-orders/${e}/record-delivery`,y)},onSuccess:()=>{he.success("Delivery recorded successfully!"),t("/admin/orders")},onError:y=>{var w,b;he.error(((b=(w=y==null?void 0:y.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to record delivery. Please try again."),console.error("Submit delivery error:",y)}}),{data:i,isLoading:o,isError:l}=jr({queryKey:["order",e,"delivery"],queryFn:async()=>{var N;if(!e)throw new Error("Order ID is undefined");const y=await ut(`/vendor-orders/${e}`),w=y.items.map(j=>{var S,A,_,C,k,T,O,R;return{id:String(j.id),productId:String(j.productId),productName:((S=j.product)==null?void 0:S.name)||"Unknown Product",productUnit:((A=j.product)==null?void 0:A.unit)||"",priceAtPurchase:Number(j.priceAtPurchase||0),quantity:Number(j.quantity||0),agencyId:(_=j.agency)!=null&&_.id?String(j.agency.id):void 0,agencyName:((C=j.agency)==null?void 0:C.name)||void 0,depotId:(k=j.depot)!=null&&k.id?String(j.depot.id):void 0,depotName:((T=j.depot)==null?void 0:T.name)||void 0,depotVariantId:(O=j.depotVariant)!=null&&O.id?String(j.depotVariant.id):void 0,depotVariantName:((R=j.depotVariant)==null?void 0:R.name)||void 0}}),b=((N=y.status)==null?void 0:N.toUpperCase())||"PENDING";return{...y,items:w,status:b}},enabled:!!e});g.useEffect(()=>{if(i){const y=i.items.reduce((w,b)=>(w[b.id]=String(b.quantity),w),{});n(y)}},[i]);const u=(y,w)=>{const b=i==null?void 0:i.items.find(N=>N.id===y);if(b){const N=parseInt(w,10);if(!isNaN(N)&&N>b.quantity){he.error(`Delivered quantity for ${b.productName} cannot exceed ordered quantity of ${b.quantity}.`),n(j=>({...j,[y]:String(b.quantity)}));return}}n(N=>({...N,[y]:w}))},f=async()=>{if(!i||!e){he.error("Order details are not available. Cannot submit delivery.");return}const y=i.items.map(w=>({orderItemId:w.id,deliveredQuantity:parseInt(r[w.id]||String(w.quantity),10)}));for(const w of y){const b=i.items.find(N=>N.id===w.orderItemId);if(w.deliveredQuantity<0){he.error(`Delivered quantity for ${(b==null?void 0:b.productName)||"an item"} cannot be negative.`);return}}a.mutate({items:y})},h=(y="")=>{switch(y.toUpperCase()){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"RECEIVED":return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}};return o?s.jsx("div",{className:"p-6",children:"Loading order details..."}):l||!i?s.jsx("div",{className:"p-6 text-red-500",children:"Error loading order details. Please try again."}):s.jsx("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[s.jsxs("div",{className:"lg:w-2/3 space-y-4 md:space-y-6",children:[s.jsxs(At,{children:[s.jsx(Dt,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pb-4 space-y-2 sm:space-y-0",children:s.jsxs(rr,{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800 dark:text-gray-100 leading-tight",children:["Record Delivery for Order #",i.poNumber]})}),s.jsx(Tt,{className:"space-y-4 md:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 md:gap-x-6 gap-y-3 md:gap-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"PO Number"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:i.poNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Lt(new Date(i.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expected Delivery Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Lt(new Date(i.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx(Fr,{className:Ze("text-xs font-semibold px-2 py-0.5 rounded-full",h(i.status)),children:i.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:i.contactPersonName})]})]})})]}),s.jsxs(At,{children:[s.jsx(Dt,{children:s.jsx(rr,{className:"text-base md:text-xl font-medium text-gray-800 dark:text-gray-100",children:"Order Items"})}),s.jsx(Tt,{children:s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 min-w-[600px]",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[150px]",children:"Product"}),s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[100px]",children:"Agency"}),s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[80px]",children:"Ordered Qty"}),s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[120px]",children:"Delivered Qty"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800/50 divide-y divide-gray-200 dark:divide-gray-700",children:i.items.map(y=>{var w;return s.jsxs("tr",{children:[s.jsxs("td",{className:"px-2 sm:px-4 py-3",children:[s.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:y.productName}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[y.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",y.depotName]}),y.depotVariantName&&s.jsxs("div",{className:"truncate",children:["Variant: ",y.depotVariantName]})]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:s.jsx("div",{className:"truncate",children:y.agencyName||"N/A"})}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-xs sm:text-sm text-right text-gray-500 dark:text-gray-400",children:[s.jsx("div",{className:"font-medium",children:y.quantity}),y.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",y.depotVariantName,")"]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3 text-xs sm:text-sm text-right",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center justify-end space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsx(Ge,{type:"number",value:r[y.id]||"",onChange:b=>u(y.id,b.target.value),onFocus:b=>b.target.select(),className:"w-20 sm:w-24 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 text-right text-xs sm:text-sm",min:"0",disabled:((w=i==null?void 0:i.status)==null?void 0:w.toUpperCase())==="DELIVERED"}),y.depotVariantName&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[60px] sm:max-w-none",children:y.depotVariantName})]})})]},y.id)})})]})})}),s.jsxs($u,{className:"flex flex-col items-center sm:items-end pt-4 space-y-3",children:[((p=i==null?void 0:i.status)==null?void 0:p.toUpperCase())==="DELIVERED"&&s.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 text-center sm:text-right",children:"Delivery has already been recorded for this order and cannot be modified."}),s.jsxs(pe,{onClick:f,className:"flex items-center justify-center w-full sm:w-auto",disabled:((x=i==null?void 0:i.status)==null?void 0:x.toUpperCase())==="DELIVERED"||a.isPending,children:[s.jsx(Mf,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:a.isPending?"Submitting...":"Submit Delivery"})]})]})]})]}),s.jsx("div",{className:"lg:w-1/3 space-y-4 md:space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{children:s.jsx(rr,{className:"text-base md:text-xl font-medium text-gray-800 dark:text-gray-100",children:"Farmer Details"})}),s.jsx(Tt,{className:"space-y-3 text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Name"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:i.vendor.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:i.vendor.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Mobile"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm",children:i.vendor.mobile})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm break-words",children:i.vendor.address})]})]})})]})})]})})},axe=e=>{const t={DAYS_7:"7 Days",DAYS_15:"15 Days",DAYS_30:"1 Month",DAYS_90:"3 Months"};if(typeof e=="string"&&t[e])return t[e];const r=String(e),n={7:"7 Days",15:"15 Days",30:"1 Month",90:"3 Months"};return n[r]?n[r]:r.startsWith("DAYS_")?r.replace("DAYS_","")+" Days":isNaN(Number(r))?r:`${r} Days`},ixe=(e,t,r,n)=>{let a="";switch(e){case"DAILY":a="Daily";break;case"ALTERNATE_DAYS":a="Alternate Days";break;case"SELECT_DAYS":a=`Selected Days (${(t==null?void 0:t.map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(", "))||"N/A"})`;break;case"VARYING":a="Varying Quantities";break;default:a=e}return e==="VARYING"&&r&&n?`${a} (${r} / ${n})`:r?`${a} - ${r} unit(s)`:a},oxe=()=>{const{data:e,isLoading:t,error:r}=jr({queryKey:["mySubscriptions"],queryFn:async()=>ut("/subscriptions"),refetchOnWindowFocus:!0,refetchOnMount:!0,staleTime:3e5,gcTime:6e5});return t?s.jsxs("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:[s.jsx(Wr,{className:"h-12 w-12 animate-spin text-primary"}),s.jsx("p",{className:"ml-3 text-lg text-gray-600",children:"Loading your subscriptions..."})]}):r?s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs(Wn,{variant:"destructive",className:"mt-4",children:[s.jsx(ka,{children:"Error Loading Subscriptions"}),s.jsxs(Gn,{children:["We encountered an issue while fetching your subscriptions. Please try again later or contact support if the problem persists.",s.jsxs("p",{className:"mt-2 text-xs",children:["Error: ",r.message]})]})]})}):s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"My Active Subscriptions"}),e&&e.length>0&&s.jsxs("span",{className:"px-3 py-1 text-sm font-semibold text-primary bg-primary-foreground rounded-full",children:[e.length," Active"]})]}),e&&e.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:e==null?void 0:e.map(n=>{var a,i,o;return s.jsxs(At,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300 ease-in-out rounded-lg overflow-hidden flex flex-col",children:[s.jsx(Dt,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:s.jsx(rr,{className:"text-lg font-semibold text-primary",children:n.product.name})}),s.jsxs(Tt,{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300 p-4 flex-grow",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Quantity:"})," ",n.qty," ",n.product.unit,n.qty>1?"s":"",n.altQty?s.jsxs(s.Fragment,{children:[" "," & ",n.altQty," ",n.product.unit,n.altQty>1?"s":""]}):null]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Period:"})," ",axe(n.period)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Starts On:"})," ",Lt(new Date(n.startDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Expires On:"})," ",Lt(new Date(n.expiryDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery:"})," ",ixe(n.deliverySchedule,n.selectedDays,n.qty,n.altQty)]}),n.paymentStatus&&s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," ",s.jsx("span",{className:`capitalize font-medium ${n.paymentStatus==="PAID"?"text-green-600":"text-orange-500"}`,children:n.paymentStatus.toLowerCase()})]}),n.agency&&s.jsxs("p",{children:[s.jsx("strong",{children:"Assigned Agent:"})," ",n.agency.user.name]}),n.deliveryAddress&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivering to:"})," ",`${((a=n.deliveryAddress)==null?void 0:a.streetArea)&&((i=n.deliveryAddress)==null?void 0:i.streetArea)}, ${n.deliveryAddress.landmark&&n.deliveryAddress.landmark}, ${n.deliveryAddress.city}, ${n.deliveryAddress.state} ${n.deliveryAddress.pincode}`]}),n.amount!==void 0&&s.jsxs("p",{className:"font-semibold text-base",children:[s.jsx("strong",{children:"Total Amount:"})," ",n.amount.toFixed(2)]})]}),s.jsx($u,{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-2",children:[n.paymentStatus==="PAID"&&s.jsx(Or,{to:`/manage-subscription/${n.id}`,className:"w-full sm:flex-1",children:s.jsx(pe,{variant:"outline",className:"w-full",children:"Manage"})}),((o=n.productOrder)==null?void 0:o.invoicePath)&&s.jsxs(pe,{onClick:()=>{const u=`https://www.indraai.in///invoices/${n.productOrder.invoicePath}`;window.open(u,"_blank")},variant:"outline",className:"w-full sm:flex-1 flex items-center justify-center gap-2",children:[s.jsx(EC,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Download Invoice"})]})]})})]},n.id)})}):s.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-10 py-12 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-800/30",children:[s.jsx(AE,{className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-500"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900 dark:text-white",children:"No Active Subscriptions Found"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"It looks like you don't have any active subscriptions at the moment."})]})]})},lxe=e=>{const t={DAYS_7:"7 Days",DAYS_15:"15 Days",DAYS_30:"1 Month",DAYS_90:"3 Months"};if(typeof e=="string"&&t[e])return t[e];const r=String(e),n={7:"7 Days",15:"15 Days",30:"1 Month",90:"3 Months"};return n[r]?n[r]:r.startsWith("DAYS_")?r.replace("DAYS_","")+" Days":isNaN(Number(r))?r:`${r} Days`},cxe=(e,t,r,n)=>{let a="";switch(e){case"DAILY":a="Daily";break;case"ALTERNATE_DAYS":a="Alternate Days";break;case"SELECT_DAYS":a=`Selected Days (${(t==null?void 0:t.map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(", "))||"N/A"})`;break;case"VARYING":a="Varying Quantities";break;default:a=e}return e==="VARYING"&&r&&n?`${a} (${r} / ${n})`:r?`${a} - ${r} unit(s)`:a},dxe=async e=>{console.log(`Fetching subscription details for ${e} using apiService...`);try{return await ut(`subscriptions/${e}`)}catch(t){if(t.status===404)return console.warn(t.message),null;throw t}},uxe=()=>{var j,S,A,_,C;const{id:e}=Xn(),[t,r]=g.useState(null),[n,a]=g.useState({}),[i,o]=g.useState({isOpen:!1,deliveryId:null}),[l,u]=g.useState([]),[f,h]=g.useState(!0),[p,x]=g.useState(null),y=Rc(new Date);g.useEffect(()=>{if(!e){x("Subscription ID is missing."),h(!1);return}(async()=>{h(!0);try{const T=await dxe(e);T?(r(T),w(T)):x("Subscription not found.")}catch(T){const O=T;x(O.message||"Failed to load subscription details."),console.error("Error in fetchDetails useEffect:",O)}h(!1)})()},[e]);const w=k=>{if(!k.deliveryScheduleEntries||k.deliveryScheduleEntries.length===0){console.warn("No delivery schedule entries received from backend. Displaying empty schedule."),u([]);return}const T=Rc(new Date),O=k.deliveryScheduleEntries.map(R=>{const L=ide(R.deliveryDate);let M;switch(R.status){case"SKIPPED":M="SKIPPED";break;case"PENDING":M=L.getTime()===T.getTime()?"SCHEDULED":"PENDING";break;case"DELIVERED":M="DELIVERED";break;case"NOT_DELIVERED":M="NOT_DELIVERED";break;case"CANCELLED":M="CANCELLED";break;default:M=L<T?"DELIVERED":L.getTime()===T.getTime()?"SCHEDULED":"PENDING"}return{id:R.id,date:L,status:M,originalQty:R.quantity}});O.sort((R,L)=>R.date.getTime()-L.date.getTime()),u(O)},b=async()=>{var T,O;if(!i.deliveryId)return;const k=i.deliveryId;a(R=>({...R,[k]:!0})),o({isOpen:!1,deliveryId:null});try{const R=await Ja(`/subscriptions/member/deliveries/${k}/skip`,{});u(L=>L.map(M=>M.id===k?{...M,status:"SKIPPED"}:M)),he.success(R.message||"Delivery action processed successfully!")}catch(R){console.error("Failed to process delivery skip/refund:",R);const L=((O=(T=R==null?void 0:R.response)==null?void 0:T.data)==null?void 0:O.message)||R.message||"Could not process delivery action. Please try again.";he.error(L)}a(R=>({...R,[k]:!1}))},N=async k=>{o({isOpen:!0,deliveryId:k})};return f?s.jsxs("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:[s.jsx(Wr,{className:"h-12 w-12 animate-spin text-primary"}),s.jsx("p",{className:"ml-3 text-lg text-gray-600",children:"Loading subscription details..."})]}):p||!t?s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs(Wn,{variant:"destructive",className:"mt-4",children:[s.jsx(ka,{children:"Error"}),s.jsx(Gn,{children:p||"Could not load subscription details."})]})}):s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs(At,{className:"shadow-lg mb-6",children:[s.jsx(Dt,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:s.jsx(rr,{className:"text-xl md:text-2xl font-bold text-primary",children:"Subscription Info"})}),s.jsxs(Tt,{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300 p-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Product:"})," ",t.product.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Quantity:"})," ",t.qty," ",t.product.unit,t.qty>1?"s":"",t.altQty?s.jsxs(s.Fragment,{children:[" "," & ",t.altQty," ",t.product.unit,t.altQty>1?"s":""]}):null]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Period:"})," ",lxe(t.period)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Starts On:"})," ",Lt(new Date(t.startDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Expires On:"})," ",Lt(new Date(t.expiryDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery:"})," ",cxe(t.deliverySchedule,t.selectedDays,t.qty,t.altQty)]}),t.paymentStatus&&s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," ",s.jsx("span",{className:`capitalize font-medium ${t.paymentStatus==="PAID"?"text-green-600":"text-orange-500"}`,children:t.paymentStatus.toLowerCase()})]}),t.agency&&s.jsxs("p",{children:[s.jsx("strong",{children:"Assigned Agent:"})," ",t.agency.user.name]}),t.deliveryAddress&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivering to:"})," ",`${((j=t.deliveryAddress)==null?void 0:j.streetArea)&&((S=t.deliveryAddress)==null?void 0:S.streetArea)}, ${((A=t.deliveryAddress)==null?void 0:A.landmark)&&((_=t.deliveryAddress)==null?void 0:_.landmark)}, ${t.deliveryAddress.city}, ${t.deliveryAddress.state} ${t.deliveryAddress.pincode}`]}),t.amount!==void 0&&s.jsxs("p",{className:"font-semibold text-base",children:[s.jsx("strong",{children:"Total Amount:"})," ",t.amount.toFixed(2)]})]}),((C=t.productOrder)==null?void 0:C.invoicePath)&&s.jsx("div",{className:"px-4 pb-4",children:s.jsxs(pe,{onClick:()=>{const T=`https://www.indraai.in///invoices/${t.productOrder.invoicePath}`;window.open(T,"_blank")},variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[s.jsx(EC,{className:"h-4 w-4"}),"Download Invoice"]})})]}),s.jsxs(At,{className:"shadow-lg",children:[s.jsx(Dt,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:s.jsxs(rr,{className:"text-xl md:text-2xl font-bold text-primary",children:["Manage Subscription: ",t.product.name]})}),s.jsxs(Tt,{className:"p-4 md:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center",children:[s.jsx(jE,{className:"mr-2 h-5 w-5 text-primary"})," Delivery Schedule"]}),l.length>0?s.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:l.map((k,T)=>(console.log(`Rendering delivery - ID: ${JSON.stringify(k)}, Status: ${k.status}, Date: ${k.date?k.date.toISOString():"N/A"}, isAfterToday: ${k.date?Ym(k.date,y):"N/A"}`),s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-md border ${k.status==="SKIPPED"?"bg-red-50 border-red-200 dark:bg-red-900/30 dark:border-red-700":k.status==="DELIVERED"?"bg-green-50 border-green-200 dark:bg-green-900/30 dark:border-green-700":k.date.getTime()===y.getTime()?"bg-blue-50 border-blue-200 dark:bg-blue-900/30 dark:border-blue-700":"bg-gray-50 border-gray-200 dark:bg-gray-700/30 dark:border-gray-600"}`,children:[s.jsxs("div",{className:"flex items-center",children:[k.status==="SKIPPED"&&s.jsx(Vi,{className:"h-5 w-5 mr-2 text-red-500 flex-shrink-0"}),k.status==="DELIVERED"&&s.jsx(Ka,{className:"h-5 w-5 mr-2 text-green-500 flex-shrink-0"}),k.status==="NOT_DELIVERED"&&s.jsx(Vi,{className:"h-5 w-5 mr-2 text-orange-500 flex-shrink-0"}),k.status==="CANCELLED"&&s.jsx(Vi,{className:"h-5 w-5 mr-2 text-gray-400 flex-shrink-0"}),(k.status==="PENDING"||k.status==="SCHEDULED")&&s.jsx(jE,{className:"h-5 w-5 mr-2 text-gray-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:Lt(k.date,"EEE, dd/MM/yyyy")}),s.jsx("span",{className:`ml-2 text-xs font-semibold px-2 py-0.5 rounded-full ${k.status==="SKIPPED"?"bg-red-100 text-red-700 dark:bg-red-700 dark:text-red-100":k.status==="DELIVERED"?"bg-green-100 text-green-700 dark:bg-primary dark:text-green-100":k.status==="NOT_DELIVERED"?"bg-orange-100 text-orange-700 dark:bg-orange-700 dark:text-orange-100":k.status==="CANCELLED"?"bg-gray-200 text-gray-600 dark:bg-gray-600 dark:text-gray-300":k.date.getTime()===y.getTime()&&k.status==="SCHEDULED"?"bg-blue-100 text-blue-700 dark:bg-blue-700 dark:text-blue-100":"bg-gray-100 text-gray-700 dark:bg-gray-600 dark:text-gray-200"}`,children:k.date.getTime()===y.getTime()&&k.status==="SCHEDULED"?"TODAY":k.status})]})]}),Ym(Rc(k.date),y)&&(k.status==="PENDING"||k.status==="SCHEDULED")&&s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>N(k.id),disabled:n[k.id],className:"flex items-center text-sm text-amber-600 hover:bg-amber-50 dark:text-amber-400 dark:hover:bg-amber-900/50 border-amber-300 hover:border-amber-400",children:[n[k.id]?s.jsx(Wr,{className:"mr-1.5 h-4 w-4 animate-spin"}):s.jsx(cX,{className:"mr-1.5 h-4 w-4"}),n[k.id]?"Skipping...":"Skip"]}),k.status==="SKIPPED"&&Ym(k.date,y)&&s.jsx("span",{className:"text-xs text-red-500 italic ml-auto",children:"Skipped by you"})]},T)))}):s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No delivery dates found for this subscription."})]})]}),s.jsx(ua,{open:i.isOpen,onOpenChange:k=>o({...i,isOpen:k}),children:s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Are you sure you want to skip this delivery?"}),s.jsx(xa,{children:"This action cannot be undone. Skipping will prevent the delivery for the selected date. If a refund is applicable for a pre-paid delivery, it will be processed automatically to your wallet."})]}),s.jsxs(ma,{children:[s.jsx(ya,{onClick:()=>o({isOpen:!1,deliveryId:null}),children:"Cancel"}),s.jsx(ga,{onClick:b,children:"Confirm Skip"})]})]})})]})},fxe=()=>{var y,w,b,N;const{id:e}=Xn(),t=gr(),[r,n]=g.useState({}),{data:a,isLoading:i}=jr({queryKey:["currentUserProfile"],queryFn:async()=>{if(!localStorage.getItem("authToken"))throw new Error("User not authenticated");return ut("/api/users/me")},enabled:!!localStorage.getItem("authToken")}),o=Rr({mutationFn:j=>{if(!e)throw new Error("Order ID is missing for receipt submission.");return Js(`/vendor-orders/${e}/record-receipt`,j)},onSuccess:()=>{he.success("Receipt recorded successfully!"),ER.invalidateQueries({queryKey:["order",e]}),ER.invalidateQueries({queryKey:["orders"]}),t("/admin/orders")},onError:j=>{var S,A;he.error(((A=(S=j==null?void 0:j.response)==null?void 0:S.data)==null?void 0:A.message)||"Failed to record receipt. Please try again."),console.error("Submit receipt error:",j)}}),{data:l,isLoading:u,isError:f}=jr({queryKey:["order",e,"receipt"],queryFn:async()=>{var _;if(!e)throw new Error("Order ID is undefined");const j=await ut(`/vendor-orders/${e}`),S=j.items.map(C=>{var k,T,O,R,L,M,G;return{id:String(C.id),productId:String(C.productId),productName:((k=C.product)==null?void 0:k.name)||"Unknown Product",priceAtPurchase:Number(C.priceAtPurchase||0),quantity:Number(C.quantity||0),deliveredQuantity:C.deliveredQuantity!==null&&C.deliveredQuantity!==void 0?Number(C.deliveredQuantity):void 0,agencyId:(T=C.agency)!=null&&T.id?String(C.agency.id):void 0,agencyName:((O=C.agency)==null?void 0:O.name)||void 0,depotId:(R=C.depot)!=null&&R.id?String(C.depot.id):void 0,depotName:((L=C.depot)==null?void 0:L.name)||void 0,depotVariantId:(M=C.depotVariant)!=null&&M.id?String(C.depotVariant.id):void 0,depotVariantName:((G=C.depotVariant)==null?void 0:G.name)||void 0}}),A=((_=j.status)==null?void 0:_.toUpperCase())||"PENDING";return{...j,items:S,status:A}},enabled:!!e});g.useEffect(()=>{if(l){const j=l.items.reduce((S,A)=>(S[A.id]=String(A.deliveredQuantity??A.quantity),S),{});n(j)}},[l]);const h=(j,S)=>{const A=l==null?void 0:l.items.find(_=>_.id===j);if(A&&typeof A.deliveredQuantity<"u"){const _=parseInt(S,10);if(!isNaN(_)&&_>A.deliveredQuantity){he.error(`Received quantity for ${A.productName} cannot exceed delivered quantity of ${A.deliveredQuantity}.`),n(C=>({...C,[j]:String(A.deliveredQuantity)}));return}}n(_=>({..._,[j]:S}))},p=()=>{if(!l||!l.items||!a){he.error("Order data or user profile is not loaded yet.");return}let j=null;a.role==="AGENCY"&&a.agencyId!=null&&(j=new Set(l.items.filter(A=>A.agencyId!=null&&String(A.agencyId)===String(a.agencyId)).map(A=>A.id)));const S=Object.entries(r).filter(([A])=>j?j.has(A):!0).map(([A,_])=>{const C=l.items.find(T=>T.id===A);if(!C)return null;const k=parseInt(_,10);return isNaN(k)||k<0?(he.info(`Invalid quantity for item ${C.productName}. Please enter a valid non-negative number.`),null):C.deliveredQuantity!==void 0&&k>C.deliveredQuantity?(he.info(`Received quantity for ${C.productName} (${k}) cannot exceed delivered quantity (${C.deliveredQuantity}).`),null):{orderItemId:A,receivedQuantity:k}}).filter(A=>A!==null);if(S.length===0){he.info(a.role==="AGENCY"?"No quantities entered for your agency's items, or all quantities are invalid/exceed delivered amounts. Nothing to submit.":"No quantities entered or all quantities are invalid/exceed delivered amounts. Nothing to submit.");return}o.mutate({items:S})},x=(j="")=>{switch(j.toUpperCase()){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800";case"PARTIALLY_RECEIVED":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800";case"RECEIVED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}};return u||i?s.jsx("div",{className:"p-6",children:"Loading order details..."}):f||!l?s.jsx("div",{className:"p-6 text-red-500",children:"Error loading order details. Please try again."}):s.jsx("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[s.jsx("div",{className:"lg:w-2/3 space-y-4 md:space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pb-4 space-y-2 sm:space-y-0",children:s.jsxs(rr,{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800 dark:text-gray-100 leading-tight",children:["Record Receipt for Order #",l.poNumber]})}),s.jsxs(Tt,{className:"space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 md:gap-x-6 gap-y-3 md:gap-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"PO Number"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:l.poNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Lt(new Date(l.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expected Delivery Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Lt(new Date(l.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx(Fr,{className:Ze("text-xs font-semibold px-2 py-0.5 rounded-full",x(l.status)),children:l.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:l.contactPersonName})]})]}),s.jsxs("div",{className:"space-y-2 pt-4",children:[s.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-800 dark:text-gray-100",children:"Order Items"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400",children:"Enter the quantity received for each item."})]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm min-w-[600px]",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 sm:px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[140px]",children:"Product"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Ordered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Delivered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[120px]",children:"Received Qty"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:((a==null?void 0:a.role)==="AGENCY"&&(a==null?void 0:a.agencyId)!=null?((l==null?void 0:l.items)||[]).filter(j=>j.agencyId!=null&&String(j.agencyId)===String(a.agencyId)):(l==null?void 0:l.items)||[]).map(j=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-gray-800 dark:text-gray-200",children:[s.jsx("div",{className:"font-medium text-xs sm:text-sm truncate",children:j.productName}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[j.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",j.depotName]}),j.depotVariantName&&s.jsxs("div",{className:"truncate",children:["Variant: ",j.depotVariantName]}),j.agencyName&&s.jsxs("div",{className:"truncate",children:["Agency: ",j.agencyName]})]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:j.quantity}),j.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",j.depotVariantName,")"]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:j.deliveredQuantity!=null?j.deliveredQuantity:"N/A"}),j.deliveredQuantity!=null&&j.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",j.depotVariantName,")"]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center justify-end space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsx(Ge,{type:"number",value:r[j.id]||"",onChange:S=>h(j.id,S.target.value),className:"w-20 sm:w-24 text-right dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 text-xs sm:text-sm",min:"0"}),j.depotVariantName&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[60px] sm:max-w-none",children:j.depotVariantName})]})})]},j.id))})]})})]}),s.jsxs($u,{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 md:pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs(pe,{variant:"outline",onClick:()=>t(-1),className:"flex-1 sm:flex-none order-2 sm:order-1",disabled:o.isPending||i,children:[s.jsx(xu,{className:"h-4 w-4 mr-1.5"})," Cancel"]}),s.jsxs(pe,{onClick:p,disabled:o.isPending||Object.keys(r).length===0||i,className:"flex items-center justify-center flex-1 sm:flex-none order-1 sm:order-2",children:[s.jsx(Mf,{className:"h-4 w-4 mr-1.5"}),s.jsx("span",{className:"truncate",children:o.isPending?"Submitting...":"Submit Receipt"})]})]})]})}),s.jsx("div",{className:"lg:w-1/3 space-y-4 md:space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{children:s.jsx(rr,{className:"text-base md:text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Farmer Details"})}),s.jsx(Tt,{className:"space-y-3 text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Name"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(y=l==null?void 0:l.vendor)==null?void 0:y.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(w=l==null?void 0:l.vendor)==null?void 0:w.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Mobile"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm",children:(b=l==null?void 0:l.vendor)==null?void 0:b.mobile})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm break-words",children:(N=l==null?void 0:l.vendor)==null?void 0:N.address})]})]})})]})})]})})},ER=new mC,hxe=()=>{var y,w,b,N;const{id:e}=Xn(),t=gr(),[r,n]=g.useState({}),{data:a,isLoading:i}=jr({queryKey:["currentUserProfile"],queryFn:async()=>{if(!localStorage.getItem("authToken"))throw new Error("User not authenticated");return ut("/api/users/me")},enabled:!!localStorage.getItem("authToken")}),o=Rr({mutationFn:j=>{if(!e)throw new Error("Order ID is missing for supervisor quantity submission.");return Js(`/vendor-orders/${e}/record-supervisor-quantity`,j)},onSuccess:()=>{he.success("Supervisor quantity recorded successfully!"),AR.invalidateQueries({queryKey:["order",e]}),AR.invalidateQueries({queryKey:["orders"]}),t("/admin/orders")},onError:j=>{var S,A;he.error(((A=(S=j==null?void 0:j.response)==null?void 0:S.data)==null?void 0:A.message)||"Failed to record supervisor quantity. Please try again."),console.error("Submit supervisor quantity error:",j)}}),{data:l,isLoading:u,isError:f}=jr({queryKey:["order",e,"supervisor-quantity"],queryFn:async()=>{var _;if(!e)throw new Error("Order ID is undefined");const j=await ut(`/vendor-orders/${e}`),S=j.items.map(C=>{var k,T,O,R,L,M,G;return{id:String(C.id),productId:String(C.productId),productName:((k=C.product)==null?void 0:k.name)||"Unknown Product",priceAtPurchase:Number(C.priceAtPurchase||0),quantity:Number(C.quantity||0),deliveredQuantity:C.deliveredQuantity!==null&&C.deliveredQuantity!==void 0?Number(C.deliveredQuantity):void 0,receivedQuantity:C.receivedQuantity!==null&&C.receivedQuantity!==void 0?Number(C.receivedQuantity):void 0,supervisorQuantity:C.supervisorQuantity!==null&&C.supervisorQuantity!==void 0?Number(C.supervisorQuantity):void 0,agencyId:(T=C.agency)!=null&&T.id?String(C.agency.id):void 0,agencyName:((O=C.agency)==null?void 0:O.name)||void 0,depotId:(R=C.depot)!=null&&R.id?String(C.depot.id):void 0,depotName:((L=C.depot)==null?void 0:L.name)||void 0,depotVariantId:(M=C.depotVariant)!=null&&M.id?String(C.depotVariant.id):void 0,depotVariantName:((G=C.depotVariant)==null?void 0:G.name)||void 0}}),A=((_=j.status)==null?void 0:_.toUpperCase())||"PENDING";return{...j,items:S,status:A}},enabled:!!e});g.useEffect(()=>{if(l){const j=l.items.reduce((S,A)=>(S[A.id]=String(A.supervisorQuantity??A.receivedQuantity??0),S),{});n(j)}},[l]);const h=(j,S)=>{const A=l==null?void 0:l.items.find(_=>_.id===j);if(A&&typeof A.receivedQuantity<"u"){const _=parseInt(S,10);if(!isNaN(_)&&_>A.receivedQuantity){he.error(`Supervisor quantity for ${A.productName} cannot exceed received quantity of ${A.receivedQuantity}.`),n(C=>({...C,[j]:String(A.receivedQuantity)}));return}}n(_=>({..._,[j]:S}))},p=()=>{if(!l||!l.items||!a){he.error("Order data or user profile is not loaded yet.");return}const j=Object.entries(r).map(([S,A])=>{const _=l.items.find(k=>k.id===S);if(!_)return null;const C=parseInt(A,10);return isNaN(C)||C<0?(he.info(`Invalid quantity for item ${_.productName}. Please enter a valid non-negative number.`),null):_.receivedQuantity!==void 0&&C>_.receivedQuantity?(he.info(`Supervisor quantity for ${_.productName} (${C}) cannot exceed received quantity (${_.receivedQuantity}).`),null):{orderItemId:S,supervisorQuantity:C}}).filter(S=>S!==null);if(j.length===0){he.info("No quantities entered or all quantities are invalid/exceed received amounts. Nothing to submit.");return}o.mutate({items:j})},x=(j="")=>{switch(j.toUpperCase()){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800";case"PARTIALLY_RECEIVED":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800";case"RECEIVED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}};return u||i?s.jsx("div",{className:"p-6",children:"Loading order details..."}):f||!l?s.jsx("div",{className:"p-6 text-red-500",children:"Error loading order details. Please try again."}):s.jsx("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[s.jsx("div",{className:"lg:w-2/3 space-y-4 md:space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pb-4 space-y-2 sm:space-y-0",children:s.jsxs(rr,{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800 dark:text-gray-100 leading-tight",children:["Record Supervisor Quantity for Order #",l.poNumber]})}),s.jsxs(Tt,{className:"space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 md:gap-x-6 gap-y-3 md:gap-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"PO Number"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:l.poNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Lt(new Date(l.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expected Delivery Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Lt(new Date(l.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx(Fr,{className:Ze("text-xs font-semibold px-2 py-0.5 rounded-full",x(l.status)),children:l.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:l.contactPersonName})]})]}),s.jsxs("div",{className:"space-y-2 pt-4",children:[s.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-800 dark:text-gray-100",children:"Order Items"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400",children:"Enter the supervisor quantity for each item. This cannot exceed the received quantity."})]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 sm:px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[140px]",children:"Product"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Ordered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Delivered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Received"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[120px]",children:"Supervisor Qty"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:((l==null?void 0:l.items)||[]).map(j=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-gray-800 dark:text-gray-200",children:[s.jsx("div",{className:"font-medium text-xs sm:text-sm truncate",children:j.productName}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[j.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",j.depotName]}),j.depotVariantName&&s.jsxs("div",{className:"truncate",children:["Variant: ",j.depotVariantName]}),j.agencyName&&s.jsxs("div",{className:"truncate",children:["Agency: ",j.agencyName]})]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:j.quantity}),j.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",j.depotVariantName,")"]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:j.deliveredQuantity!=null?j.deliveredQuantity:"N/A"}),j.deliveredQuantity!=null&&j.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",j.depotVariantName,")"]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:j.receivedQuantity!=null?j.receivedQuantity:"N/A"}),j.receivedQuantity!=null&&j.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",j.depotVariantName,")"]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center justify-end space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsx(Ge,{type:"number",value:r[j.id]||"",onChange:S=>h(j.id,S.target.value),className:"w-20 sm:w-24 text-right dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 text-xs sm:text-sm",min:"0",max:j.receivedQuantity||void 0}),j.depotVariantName&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[60px] sm:max-w-none",children:j.depotVariantName})]})})]},j.id))})]})})]}),s.jsxs($u,{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 md:pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs(pe,{variant:"outline",onClick:()=>t(-1),className:"flex-1 sm:flex-none order-2 sm:order-1",disabled:o.isPending||i,children:[s.jsx(xu,{className:"h-4 w-4 mr-1.5"})," Cancel"]}),s.jsxs(pe,{onClick:p,disabled:o.isPending||Object.keys(r).length===0||i,className:"flex items-center justify-center flex-1 sm:flex-none order-1 sm:order-2",children:[s.jsx(Mf,{className:"h-4 w-4 mr-1.5"}),s.jsx("span",{className:"truncate",children:o.isPending?"Submitting...":"Submit Supervisor Quantity"})]})]})]})}),s.jsx("div",{className:"lg:w-1/3 space-y-4 md:space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{children:s.jsx(rr,{className:"text-base md:text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Farmer Details"})}),s.jsx(Tt,{className:"space-y-3 text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Name"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(y=l==null?void 0:l.vendor)==null?void 0:y.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(w=l==null?void 0:l.vendor)==null?void 0:w.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Mobile"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm",children:(b=l==null?void 0:l.vendor)==null?void 0:b.mobile})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm break-words",children:(N=l==null?void 0:l.vendor)==null?void 0:N.address})]})]})})]})})]})})},AR=new mC,mxe=async(e,t,r,n,a)=>{const i=await ut(`/products?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&limit=${a}`);return Array.isArray(i),i},pxe=()=>{const e=_n(),t=gr(),n=Ia().pathname.includes("/admin/"),[a,i]=g.useState(1),[o,l]=g.useState(10),[u,f]=g.useState("createdAt"),[h,p]=g.useState("desc"),[x,y]=g.useState(""),[w,b]=g.useState(!1);g.useEffect(()=>{try{const W=localStorage.getItem("user");if(W){const q=JSON.parse(W);q&&q.role==="ADMIN"&&b(!0)}}catch(W){console.error("Failed to parse user data from localStorage",W)}},[]);const[N,j]=g.useState(!1),[S,A]=g.useState(null),{data:_,isLoading:C,isError:k,error:T}=jr({queryKey:["products",a,u,h,x,o],queryFn:()=>mxe(a,u,h,x,o),placeholderData:W=>W}),O=Array.isArray(_)?_:(_==null?void 0:_.data)||[],R=Array.isArray(_)?Math.ceil(_.length/o):(_==null?void 0:_.totalPages)||1,L=Array.isArray(_)?_.length:(_==null?void 0:_.totalRecords)||0,M=Rr({mutationFn:W=>Ln(`/products/${W}`),onSuccess:()=>{he.success("Product deleted successfully!"),e.invalidateQueries({queryKey:["products"]}),j(!1),A(null)},onError:W=>{he.error(`Failed to delete product: ${W.message}`),j(!1),A(null)}}),G=W=>{u===W?p(h==="asc"?"desc":"asc"):(f(W),p("asc")),i(1)},V=W=>{y(W.target.value),i(1)},ie=W=>{A(W),j(!0)},le=()=>{S!==null&&M.mutate(S)},B=W=>u===W?h==="asc"?s.jsx(Pl,{size:16}):s.jsx(Ha,{size:16}):null,U=W=>{i(W)},F=W=>{l(W),i(1)};return k?s.jsxs("div",{className:"text-red-500 p-4",children:["Error fetching products: ",(T==null?void 0:T.message)||"Unknown error"]}):s.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[s.jsxs(At,{children:[s.jsxs(Dt,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(rr,{children:"Products"}),s.jsx(yi,{children:"Manage your product inventory."})]}),s.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[s.jsxs("div",{className:"relative w-full max-w-sm",children:[s.jsx(Is,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Ge,{type:"search",value:x,onChange:V,className:"pl-8 w-full"})]}),s.jsxs(pe,{onClick:()=>t("/admin/products/create"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(Hs,{size:18,className:"mr-2"}),"Add Product"]})]})]}),s.jsxs(Tt,{children:[C&&O.length===0?s.jsx("div",{className:"flex justify-center items-center py-24",children:s.jsx(gp,{size:30,className:"animate-spin text-blue-600"})}):!C&&O.length===0?s.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-center",children:[s.jsxs("div",{className:"mb-3 text-muted-foreground",children:[s.jsx(Is,{size:40,className:"mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No products found"})]}),s.jsx("p",{className:"mb-6 text-muted-foreground max-w-sm",children:x?"Try a different search term.":"Get started by adding your first product."}),s.jsxs(pe,{onClick:()=>t("/admin/products/create"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(Hs,{size:16,className:"mr-2"}),"Add Product"]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsxs(tr,{children:[s.jsxs(Ye,{onClick:()=>G("name"),className:"cursor-pointer hover:bg-muted/50 transition-colors min-w-[150px]",children:["Name ",B("name")]}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>G("price"),children:s.jsxs("div",{className:"flex items-center",children:["Price ",B("price")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>G("rate"),children:s.jsxs("div",{className:"flex items-center",children:["Rate ",B("rate")]})}),s.jsx(Ye,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>G("unit"),children:s.jsxs("div",{className:"flex items-center",children:["Unit ",B("unit")]})}),s.jsx(Ye,{className:"text-right",children:"Actions"})]})}),s.jsx($s,{children:O.map(W=>s.jsxs(tr,{children:[s.jsx(Ue,{className:"font-medium cursor-pointer hover:text-blue-600 hover:underline",title:W.name,onClick:()=>t(n?`/admin/products/${W.id}`:`/member/products/${W.id}`),children:W.name}),s.jsx(Ue,{children:W.price?Ms(parseFloat(W.price)):"N/A"}),s.jsx(Ue,{children:W.rate?Ms(parseFloat(W.rate)):"N/A"}),s.jsx(Ue,{children:W.unit||"N/A"}),s.jsx(Ue,{className:"text-right",children:s.jsxs(gh,{modal:!1,children:[s.jsx(yh,{asChild:!0,children:s.jsx(pe,{variant:"ghost",size:"sm",children:s.jsx(Qg,{size:16})})}),s.jsx(vh,{align:"end",children:s.jsxs(Cw,{children:[s.jsxs(gn,{onClick:()=>t(n?`/admin/products/${W.id}`:`/member/products/${W.id}`),children:[s.jsx(_c,{size:14,className:"mr-2"})," View"]}),s.jsxs(gn,{onClick:()=>t(`/admin/products/edit/${W.id}`),children:[s.jsx(Za,{size:14,className:"mr-2"})," Edit"]}),s.jsxs(gn,{onClick:()=>ie(W.id),className:"text-red-600 hover:!text-red-700",children:[s.jsx(un,{size:14,className:"mr-2"})," Delete"]})]})})]})})]},W.id))})]})}),O.length>0&&s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center",children:[s.jsx("div",{className:"mb-4 sm:mb-0 text-sm text-muted-foreground",children:`Showing ${O.length>0?(a-1)*o+1:0} to ${Math.min(a*o,L)} of ${L} records`}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Rows:"}),s.jsxs(Wt,{value:o.toString(),onValueChange:W=>{const q=parseInt(W,10);isNaN(q)||F(q)},children:[s.jsx(Yt,{className:"h-8 w-[70px]",children:s.jsx(Gt,{placeholder:o.toString()})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"5",children:"5"}),s.jsx(ct,{value:"10",children:"10"}),s.jsx(ct,{value:"20",children:"20"}),s.jsx(ct,{value:"50",children:"50"})]})]})]}),R>1&&s.jsx(vy,{currentPage:a,totalPages:R,onPageChange:U,totalRecords:L,recordsPerPage:o,onRecordsPerPageChange:F})]})]})]})]}),s.jsx(Xp,{isOpen:N,title:"Delete Product",description:"Are you sure you want to delete this product? This action cannot be undone.",onCancel:()=>{j(!1),A(null)},onConfirm:le,confirmLabel:"Delete Product"})]})},zT=g.createContext({});function HT(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const WT=typeof window<"u",u$=WT?g.useLayoutEffect:g.useEffect,qw=g.createContext(null),GT=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class xxe extends g.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=n instanceof HTMLElement&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gxe({children:e,isPresent:t,anchorX:r}){const n=g.useId(),a=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=g.useContext(GT);return g.useInsertionEffect(()=>{const{width:l,height:u,top:f,left:h,right:p}=i.current;if(t||!a.current||!l||!u)return;const x=r==="left"?`left: ${h}`:`right: ${p}`;a.current.dataset.motionPopId=n;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[t]),s.jsx(xxe,{isPresent:t,childRef:a,sizeRef:i,children:g.cloneElement(e,{ref:a})})}const yxe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const u=HT(vxe),f=g.useId();let h=!0,p=g.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:r,custom:a,onExitComplete:x=>{u.set(x,!0);for(const y of u.values())if(!y)return;n&&n()},register:x=>(u.set(x,!1),()=>u.delete(x))}),[r,u,n]);return i&&h&&(p={...p}),g.useMemo(()=>{u.forEach((x,y)=>u.set(y,!1))},[r]),g.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(gxe,{isPresent:r,anchorX:l,children:e})),s.jsx(qw.Provider,{value:p,children:e})};function vxe(){return new Map}function f$(e=!0){const t=g.useContext(qw);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=g.useId();g.useEffect(()=>{if(e)return a(i)},[e]);const o=g.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const e1=e=>e.key||"";function CR(e){const t=[];return g.Children.forEach(e,r=>{g.isValidElement(r)&&t.push(r)}),t}const bxe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[u,f]=f$(o),h=g.useMemo(()=>CR(e),[e]),p=o&&!u?[]:h.map(e1),x=g.useRef(!0),y=g.useRef(h),w=HT(()=>new Map),[b,N]=g.useState(h),[j,S]=g.useState(h);u$(()=>{x.current=!1,y.current=h;for(let C=0;C<j.length;C++){const k=e1(j[C]);p.includes(k)?w.delete(k):w.get(k)!==!0&&w.set(k,!1)}},[j,p.length,p.join("-")]);const A=[];if(h!==b){let C=[...h];for(let k=0;k<j.length;k++){const T=j[k],O=e1(T);p.includes(O)||(C.splice(k,0,T),A.push(T))}return i==="wait"&&A.length&&(C=A),S(CR(C)),N(h),null}const{forceRender:_}=g.useContext(zT);return s.jsx(s.Fragment,{children:j.map(C=>{const k=e1(C),T=o&&!u?!1:h===j||p.includes(k),O=()=>{if(w.has(k))w.set(k,!0);else return;let R=!0;w.forEach(L=>{L||(R=!1)}),R&&(_==null||_(),S(y.current),o&&(f==null||f()),n&&n())};return s.jsx(yxe,{isPresent:T,initial:!x.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:O,anchorX:l,children:C},k)})})};function YT(e,t){e.indexOf(t)===-1&&e.push(t)}function KT(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Wc=(e,t,r)=>r>t?t:r<e?e:r;let QT=()=>{};const Gc={},h$=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),m$=e=>/^0[^.\s]+$/u.test(e);function XT(e){let t;return()=>(t===void 0&&(t=e()),t)}const So=e=>e,wxe=(e,t)=>r=>t(e(r)),by=(...e)=>e.reduce(wxe),wg=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class ZT{constructor(){this.subscriptions=[]}add(t){return YT(this.subscriptions,t),()=>KT(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $l=e=>e*1e3,Ul=e=>e/1e3;function p$(e,t){return t?e*(1e3/t):0}const x$=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Nxe=1e-7,jxe=12;function Sxe(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=x$(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>Nxe&&++l<jxe);return o}function wy(e,t,r,n){if(e===t&&r===n)return So;const a=i=>Sxe(i,0,1,e,r);return i=>i===0||i===1?i:x$(a(i),t,n)}const g$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,y$=e=>t=>1-e(1-t),v$=wy(.33,1.53,.69,.99),JT=y$(v$),b$=g$(JT),w$=e=>(e*=2)<1?.5*JT(e):.5*(2-Math.pow(2,-10*(e-1))),e4=e=>1-Math.sin(Math.acos(e)),N$=y$(e4),j$=g$(e4),Exe=wy(.42,0,1,1),Axe=wy(0,0,.58,1),S$=wy(.42,0,.58,1),Cxe=e=>Array.isArray(e)&&typeof e[0]!="number",E$=e=>Array.isArray(e)&&typeof e[0]=="number",Txe={linear:So,easeIn:Exe,easeInOut:S$,easeOut:Axe,circIn:e4,circInOut:j$,circOut:N$,backIn:JT,backInOut:b$,backOut:v$,anticipate:w$},_xe=e=>typeof e=="string",TR=e=>{if(E$(e)){QT(e.length===4);const[t,r,n,a]=e;return wy(t,r,n,a)}else if(_xe(e))return Txe[e];return e},t1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],_R={value:null};function kxe(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},u=0;function f(p){o.has(p)&&(h.schedule(p),e()),u++,p(l)}const h={schedule:(p,x=!1,y=!1)=>{const b=y&&a?r:n;return x&&o.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),o.delete(p)},process:p=>{if(l=p,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(f),t&&_R.value&&_R.value.frameloop[t].push(u),u=0,r.clear(),a=!1,i&&(i=!1,h.process(p))}};return h}const Dxe=40;function A$(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=t1.reduce((A,_)=>(A[_]=kxe(i,t?_:void 0),A),{}),{setup:l,read:u,resolveKeyframes:f,preUpdate:h,update:p,preRender:x,render:y,postRender:w}=o,b=()=>{const A=Gc.useManualTiming?a.timestamp:performance.now();r=!1,Gc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(A-a.timestamp,Dxe),1)),a.timestamp=A,a.isProcessing=!0,l.process(a),u.process(a),f.process(a),h.process(a),p.process(a),x.process(a),y.process(a),w.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(b))},N=()=>{r=!0,n=!0,a.isProcessing||e(b)};return{schedule:t1.reduce((A,_)=>{const C=o[_];return A[_]=(k,T=!1,O=!1)=>(r||N(),C.schedule(k,T,O)),A},{}),cancel:A=>{for(let _=0;_<t1.length;_++)o[t1[_]].cancel(A)},state:a,steps:o}}const{schedule:Zs,cancel:Ou,state:ra,steps:wS}=A$(typeof requestAnimationFrame<"u"?requestAnimationFrame:So,!0);let F1;function Oxe(){F1=void 0}const pi={now:()=>(F1===void 0&&pi.set(ra.isProcessing||Gc.useManualTiming?ra.timestamp:performance.now()),F1),set:e=>{F1=e,queueMicrotask(Oxe)}},C$=e=>t=>typeof t=="string"&&t.startsWith(e),t4=C$("--"),Rxe=C$("var(--"),r4=e=>Rxe(e)?Pxe.test(e.split("/*")[0].trim()):!1,Pxe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,a0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ng={...a0,transform:e=>Wc(0,1,e)},r1={...a0,default:1},Rx=e=>Math.round(e*1e5)/1e5,s4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mxe(e){return e==null}const Ixe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,n4=(e,t)=>r=>!!(typeof r=="string"&&Ixe.test(r)&&r.startsWith(e)||t&&!Mxe(r)&&Object.prototype.hasOwnProperty.call(r,t)),T$=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(s4);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Fxe=e=>Wc(0,255,e),NS={...a0,transform:e=>Math.round(Fxe(e))},Ef={test:n4("rgb","red"),parse:T$("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+NS.transform(e)+", "+NS.transform(t)+", "+NS.transform(r)+", "+Rx(Ng.transform(n))+")"};function Lxe(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const yA={test:n4("#"),parse:Lxe,transform:Ef.transform},Ny=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xd=Ny("deg"),Vl=Ny("%"),dr=Ny("px"),Bxe=Ny("vh"),$xe=Ny("vw"),kR={...Vl,parse:e=>Vl.parse(e)/100,transform:e=>Vl.transform(e*100)},Mm={test:n4("hsl","hue"),parse:T$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Vl.transform(Rx(t))+", "+Vl.transform(Rx(r))+", "+Rx(Ng.transform(n))+")"},Ca={test:e=>Ef.test(e)||yA.test(e)||Mm.test(e),parse:e=>Ef.test(e)?Ef.parse(e):Mm.test(e)?Mm.parse(e):yA.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ef.transform(e):Mm.transform(e)},Uxe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Vxe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(s4))==null?void 0:t.length)||0)+(((r=e.match(Uxe))==null?void 0:r.length)||0)>0}const _$="number",k$="color",qxe="var",zxe="var(",DR="${}",Hxe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Hxe,u=>(Ca.test(u)?(n.color.push(i),a.push(k$),r.push(Ca.parse(u))):u.startsWith(zxe)?(n.var.push(i),a.push(qxe),r.push(u)):(n.number.push(i),a.push(_$),r.push(parseFloat(u))),++i,DR)).split(DR);return{values:r,split:l,indexes:n,types:a}}function D$(e){return jg(e).values}function O$(e){const{split:t,types:r}=jg(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===_$?i+=Rx(a[o]):l===k$?i+=Ca.transform(a[o]):i+=a[o]}return i}}const Wxe=e=>typeof e=="number"?0:e;function Gxe(e){const t=D$(e);return O$(e)(t.map(Wxe))}const Ru={test:Vxe,parse:D$,createTransformer:O$,getAnimatableNone:Gxe};function jS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Yxe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,u=2*r-l;a=jS(u,l,e+1/3),i=jS(u,l,e),o=jS(u,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function jb(e,t){return r=>r>0?t:e}const Xs=(e,t,r)=>e+(t-e)*r,SS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Kxe=[yA,Ef,Mm],Qxe=e=>Kxe.find(t=>t.test(e));function OR(e){const t=Qxe(e);if(!t)return!1;let r=t.parse(e);return t===Mm&&(r=Yxe(r)),r}const RR=(e,t)=>{const r=OR(e),n=OR(t);if(!r||!n)return jb(e,t);const a={...r};return i=>(a.red=SS(r.red,n.red,i),a.green=SS(r.green,n.green,i),a.blue=SS(r.blue,n.blue,i),a.alpha=Xs(r.alpha,n.alpha,i),Ef.transform(a))},vA=new Set(["none","hidden"]);function Xxe(e,t){return vA.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Zxe(e,t){return r=>Xs(e,t,r)}function a4(e){return typeof e=="number"?Zxe:typeof e=="string"?r4(e)?jb:Ca.test(e)?RR:tge:Array.isArray(e)?R$:typeof e=="object"?Ca.test(e)?RR:Jxe:jb}function R$(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>a4(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function Jxe(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=a4(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function ege(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const tge=(e,t)=>{const r=Ru.createTransformer(t),n=jg(e),a=jg(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?vA.has(e)&&!a.values.length||vA.has(t)&&!n.values.length?Xxe(e,t):by(R$(ege(n,a),a.values),r):jb(e,t)};function P$(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Xs(e,t,r):a4(e)(e,t)}const rge=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Zs.update(t,r),stop:()=>Ou(t),now:()=>ra.isProcessing?ra.timestamp:pi.now()}},M$=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Sb=2e4;function i4(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Sb;)t+=r,n=e.next(t);return t>=Sb?1/0:t}function sge(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(i4(n),Sb);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Ul(a)}}const nge=5;function I$(e,t,r){const n=Math.max(t-nge,0);return p$(r-e(n),t-n)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},PR=.001;function age({duration:e=ln.duration,bounce:t=ln.bounce,velocity:r=ln.velocity,mass:n=ln.mass}){let a,i,o=1-t;o=Wc(ln.minDamping,ln.maxDamping,o),e=Wc(ln.minDuration,ln.maxDuration,Ul(e)),o<1?(a=f=>{const h=f*o,p=h*e,x=h-r,y=bA(f,o),w=Math.exp(-p);return PR-x/y*w},i=f=>{const p=f*o*e,x=p*r+r,y=Math.pow(o,2)*Math.pow(f,2)*e,w=Math.exp(-p),b=bA(Math.pow(f,2),o);return(-a(f)+PR>0?-1:1)*((x-y)*w)/b}):(a=f=>{const h=Math.exp(-f*e),p=(f-r)*e+1;return-.001+h*p},i=f=>{const h=Math.exp(-f*e),p=(r-f)*(e*e);return h*p});const l=5/e,u=oge(a,i,l);if(e=$l(e),isNaN(u))return{stiffness:ln.stiffness,damping:ln.damping,duration:e};{const f=Math.pow(u,2)*n;return{stiffness:f,damping:o*2*Math.sqrt(n*f),duration:e}}}const ige=12;function oge(e,t,r){let n=r;for(let a=1;a<ige;a++)n=n-e(n)/t(n);return n}function bA(e,t){return e*Math.sqrt(1-t*t)}const lge=["duration","bounce"],cge=["stiffness","damping","mass"];function MR(e,t){return t.some(r=>e[r]!==void 0)}function dge(e){let t={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...e};if(!MR(e,cge)&&MR(e,lge))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Wc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ln.mass,stiffness:a,damping:i}}else{const r=age(e);t={...t,...r,mass:ln.mass},t.isResolvedFromDuration=!0}return t}function Eb(e=ln.visualDuration,t=ln.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:f,mass:h,duration:p,velocity:x,isResolvedFromDuration:y}=dge({...r,velocity:-Ul(r.velocity||0)}),w=x||0,b=f/(2*Math.sqrt(u*h)),N=o-i,j=Ul(Math.sqrt(u/h)),S=Math.abs(N)<5;n||(n=S?ln.restSpeed.granular:ln.restSpeed.default),a||(a=S?ln.restDelta.granular:ln.restDelta.default);let A;if(b<1){const C=bA(j,b);A=k=>{const T=Math.exp(-b*j*k);return o-T*((w+b*j*N)/C*Math.sin(C*k)+N*Math.cos(C*k))}}else if(b===1)A=C=>o-Math.exp(-j*C)*(N+(w+j*N)*C);else{const C=j*Math.sqrt(b*b-1);A=k=>{const T=Math.exp(-b*j*k),O=Math.min(C*k,300);return o-T*((w+b*j*N)*Math.sinh(O)+C*N*Math.cosh(O))/C}}const _={calculatedDuration:y&&p||null,next:C=>{const k=A(C);if(y)l.done=C>=p;else{let T=C===0?w:0;b<1&&(T=C===0?$l(w):I$(A,C,k));const O=Math.abs(T)<=n,R=Math.abs(o-k)<=a;l.done=O&&R}return l.value=l.done?o:k,l},toString:()=>{const C=Math.min(i4(_),Sb),k=M$(T=>_.next(C*T).value,C,30);return C+"ms "+k},toTransition:()=>{}};return _}Eb.applyToOptions=e=>{const t=sge(e,100,Eb);return e.ease=t.ease,e.duration=$l(t.duration),e.type="keyframes",e};function wA({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:f=.5,restSpeed:h}){const p=e[0],x={done:!1,value:p},y=O=>l!==void 0&&O<l||u!==void 0&&O>u,w=O=>l===void 0?u:u===void 0||Math.abs(l-O)<Math.abs(u-O)?l:u;let b=r*t;const N=p+b,j=o===void 0?N:o(N);j!==N&&(b=j-p);const S=O=>-b*Math.exp(-O/n),A=O=>j+S(O),_=O=>{const R=S(O),L=A(O);x.done=Math.abs(R)<=f,x.value=x.done?j:L};let C,k;const T=O=>{y(x.value)&&(C=O,k=Eb({keyframes:[x.value,w(x.value)],velocity:I$(A,O,x.value),damping:a,stiffness:i,restDelta:f,restSpeed:h}))};return T(0),{calculatedDuration:null,next:O=>{let R=!1;return!k&&C===void 0&&(R=!0,_(O),T(O)),C!==void 0&&O>=C?k.next(O-C):(!R&&_(O),x)}}}function uge(e,t,r){const n=[],a=r||Gc.mix||P$,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||So:t;l=by(u,l)}n.push(l)}return n}function fge(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(QT(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=uge(t,n,a),u=l.length,f=h=>{if(o&&h<e[0])return t[0];let p=0;if(u>1)for(;p<e.length-2&&!(h<e[p+1]);p++);const x=wg(e[p],e[p+1],h);return l[p](x)};return r?h=>f(Wc(e[0],e[i-1],h)):f}function hge(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=wg(0,t,n);e.push(Xs(r,1,a))}}function mge(e){const t=[0];return hge(t,e.length-1),t}function pge(e,t){return e.map(r=>r*t)}function xge(e,t){return e.map(()=>t||S$).splice(0,e.length-1)}function Px({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=Cxe(n)?n.map(TR):TR(n),i={done:!1,value:t[0]},o=pge(r&&r.length===t.length?r:mge(t),e),l=fge(o,t,{ease:Array.isArray(a)?a:xge(t,a)});return{calculatedDuration:e,next:u=>(i.value=l(u),i.done=u>=e,i)}}const gge=e=>e!==null;function o4(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(gge),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const yge={decay:wA,inertia:wA,tween:Px,keyframes:Px,spring:Eb};function F$(e){typeof e.type=="string"&&(e.type=yge[e.type])}class l4{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const vge=e=>e/100;class c4 extends l4{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==pi.now()&&this.tick(pi.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;F$(t);const{type:r=Px,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const u=r||Px;u!==Px&&typeof l[0]!="number"&&(this.mixKeyframes=by(vge,P$(l[0],l[1])),l=[0,100]);const f=u({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=i4(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=f}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:h,repeat:p,repeatType:x,repeatDelay:y,type:w,onUpdate:b,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const j=this.currentTime-f*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let A=this.currentTime,_=n;if(p){const O=Math.min(this.currentTime,a)/l;let R=Math.floor(O),L=O%1;!L&&O>=1&&(L=1),L===1&&R--,R=Math.min(R,p+1),!!(R%2)&&(x==="reverse"?(L=1-L,y&&(L-=y/l)):x==="mirror"&&(_=o)),A=Wc(0,1,L)*l}const C=S?{done:!1,value:h[0]}:_.next(A);i&&(C.value=i(C.value));let{done:k}=C;!S&&u!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return T&&w!==wA&&(C.value=o4(h,this.options,N,this.speed)),b&&b(C.value),T&&this.finish(),C}then(t,r){return this.finished.then(t,r)}get duration(){return Ul(this.calculatedDuration)}get time(){return Ul(this.currentTime)}set time(t){var r;t=$l(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(pi.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ul(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=rge,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function bge(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Af=e=>e*180/Math.PI,NA=e=>{const t=Af(Math.atan2(e[1],e[0]));return jA(t)},wge={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:NA,rotateZ:NA,skewX:e=>Af(Math.atan(e[1])),skewY:e=>Af(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},jA=e=>(e=e%360,e<0&&(e+=360),e),IR=NA,FR=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),LR=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Nge={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FR,scaleY:LR,scale:e=>(FR(e)+LR(e))/2,rotateX:e=>jA(Af(Math.atan2(e[6],e[5]))),rotateY:e=>jA(Af(Math.atan2(-e[2],e[0]))),rotateZ:IR,rotate:IR,skewX:e=>Af(Math.atan(e[4])),skewY:e=>Af(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function BR(e){return e.includes("scale")?1:0}function SA(e,t){if(!e||e==="none")return BR(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Nge,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=wge,a=l}if(!a)return BR(t);const i=n[t],o=a[1].split(",").map(Sge);return typeof i=="function"?i(o):o[i]}const jge=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return SA(r,t)};function Sge(e){return parseFloat(e.trim())}const i0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],o0=new Set(i0),$R=e=>e===a0||e===dr,Ege=new Set(["x","y","z"]),Age=i0.filter(e=>!Ege.has(e));function Cge(e){const t=[];return Age.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Lf={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>SA(t,"x"),y:(e,{transform:t})=>SA(t,"y")};Lf.translateX=Lf.x;Lf.translateY=Lf.y;const Bf=new Set;let EA=!1,AA=!1,CA=!1;function L$(){if(AA){const e=Array.from(Bf).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Cge(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}AA=!1,EA=!1,Bf.forEach(e=>e.complete(CA)),Bf.clear()}function B$(){Bf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(AA=!0)})}function Tge(){CA=!0,B$(),L$(),CA=!1}class d4{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Bf.add(this),EA||(EA=!0,Zs.read(B$),Zs.resolveKeyframes(L$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}bge(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Bf.delete(this)}cancel(){this.state==="scheduled"&&(Bf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _ge=e=>e.startsWith("--");function kge(e,t,r){_ge(t)?e.style.setProperty(t,r):e.style[t]=r}const Dge=XT(()=>window.ScrollTimeline!==void 0),Oge={};function Rge(e,t){const r=XT(e);return()=>Oge[t]??r()}const $$=Rge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cx=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,UR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cx([0,.65,.55,1]),circOut:Cx([.55,0,1,.45]),backIn:Cx([.31,.01,.66,-.59]),backOut:Cx([.33,1.53,.69,.99])};function U$(e,t){if(e)return typeof e=="function"?$$()?M$(e,t):"ease-out":E$(e)?Cx(e):Array.isArray(e)?e.map(r=>U$(r,t)||UR.easeOut):UR[e]}function Pge(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:u}={},f=void 0){const h={[t]:r};u&&(h.offset=u);const p=U$(l,a);Array.isArray(p)&&(h.easing=p);const x={delay:n,duration:a,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),e.animate(h,x)}function V$(e){return typeof e=="function"&&"applyToOptions"in e}function Mge({type:e,...t}){return V$(e)&&$$()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Ige extends l4{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,QT(typeof t.type!="string");const f=Mge(t);this.animation=Pge(r,n,a,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=o4(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):kge(r,n,h),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ul(Number(t))}get time(){return Ul(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=$l(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Dge()?(this.animation.timeline=t,So):r(this)}}const q$={anticipate:w$,backInOut:b$,circInOut:j$};function Fge(e){return e in q$}function Lge(e){typeof e.ease=="string"&&Fge(e.ease)&&(e.ease=q$[e.ease])}const VR=10;class Bge extends Ige{constructor(t){Lge(t),F$(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new c4({...o,autoplay:!1}),u=$l(this.finishedTime??this.time);r.setWithVelocity(l.sample(u-VR).value,l.sample(u).value,VR),l.stop()}}const qR=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ru.test(e)||e==="0")&&!e.startsWith("url("));function $ge(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Uge(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=qR(a,t),l=qR(i,t);return!o||!l?!1:$ge(e)||(r==="spring"||V$(r))&&n}const Vge=new Set(["opacity","clipPath","filter","transform"]),qge=XT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zge(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return qge()&&r&&Vge.has(r)&&(r!=="transform"||!u)&&!l&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const Hge=40;class Wge extends l4{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:u,motionValue:f,element:h,...p}){var w;super(),this.stop=()=>{var b,N;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=pi.now();const x={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:u,motionValue:f,element:h,...p},y=(h==null?void 0:h.KeyframeResolver)||d4;this.keyframeResolver=new y(l,(b,N,j)=>this.onKeyframesResolved(b,N,x,!j),u,f,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:u,isHandoff:f,onUpdate:h}=n;this.resolvedAt=pi.now(),Uge(t,i,o,l)||((Gc.instantAnimations||!u)&&(h==null||h(o4(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Hge?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},y=!f&&zge(x)?new Bge({...x,element:x.motionValue.owner.current}):new c4(x);y.finished.then(()=>this.notifyFinished()).catch(So),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Tge()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Gge=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yge(e){const t=Gge.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function z$(e,t,r=1){const[n,a]=Yge(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return h$(o)?parseFloat(o):o}return r4(a)?z$(a,t,r+1):a}function u4(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const H$=new Set(["width","height","top","left","right","bottom",...i0]),Kge={test:e=>e==="auto",parse:e=>e},W$=e=>t=>t.test(e),G$=[a0,dr,Vl,Xd,$xe,Bxe,Kge],zR=e=>G$.find(W$(e));function Qge(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||m$(e):!0}const Xge=new Set(["brightness","contrast","saturate","opacity"]);function Zge(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(s4)||[];if(!n)return e;const a=r.replace(n,"");let i=Xge.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Jge=/\b([a-z-]*)\(.*?\)/gu,TA={...Ru,getAnimatableNone:e=>{const t=e.match(Jge);return t?t.map(Zge).join(" "):e}},HR={...a0,transform:Math.round},eye={rotate:Xd,rotateX:Xd,rotateY:Xd,rotateZ:Xd,scale:r1,scaleX:r1,scaleY:r1,scaleZ:r1,skew:Xd,skewX:Xd,skewY:Xd,distance:dr,translateX:dr,translateY:dr,translateZ:dr,x:dr,y:dr,z:dr,perspective:dr,transformPerspective:dr,opacity:Ng,originX:kR,originY:kR,originZ:dr},f4={borderWidth:dr,borderTopWidth:dr,borderRightWidth:dr,borderBottomWidth:dr,borderLeftWidth:dr,borderRadius:dr,radius:dr,borderTopLeftRadius:dr,borderTopRightRadius:dr,borderBottomRightRadius:dr,borderBottomLeftRadius:dr,width:dr,maxWidth:dr,height:dr,maxHeight:dr,top:dr,right:dr,bottom:dr,left:dr,padding:dr,paddingTop:dr,paddingRight:dr,paddingBottom:dr,paddingLeft:dr,margin:dr,marginTop:dr,marginRight:dr,marginBottom:dr,marginLeft:dr,backgroundPositionX:dr,backgroundPositionY:dr,...eye,zIndex:HR,fillOpacity:Ng,strokeOpacity:Ng,numOctaves:HR},tye={...f4,color:Ca,backgroundColor:Ca,outlineColor:Ca,fill:Ca,stroke:Ca,borderColor:Ca,borderTopColor:Ca,borderRightColor:Ca,borderBottomColor:Ca,borderLeftColor:Ca,filter:TA,WebkitFilter:TA},Y$=e=>tye[e];function K$(e,t){let r=Y$(e);return r!==TA&&(r=Ru),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const rye=new Set(["auto","none","0"]);function sye(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!rye.has(i)&&jg(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=K$(r,a)}class nye extends d4{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),r4(f))){const h=z$(f,r.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!H$.has(n)||t.length!==2)return;const[a,i]=t,o=zR(a),l=zR(i);if(o!==l)if($R(o)&&$R(l))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else Lf[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Qge(t[a]))&&n.push(a);n.length&&sye(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Lf[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,f])=>{t.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function aye(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const WR=30,iye=e=>!isNaN(parseFloat(e));class oye{constructor(t,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var o,l;const i=pi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();a&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=pi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=iye(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ZT);const n=this.events[t].add(r);return t==="change"?()=>{n(),Zs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>WR)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,WR);return p$(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ap(e,t){return new oye(e,t)}const Q$=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:h4}=A$(queueMicrotask,!1),Uo={x:!1,y:!1};function X$(){return Uo.x||Uo.y}function lye(e){return e==="x"||e==="y"?Uo[e]?null:(Uo[e]=!0,()=>{Uo[e]=!1}):Uo.x||Uo.y?null:(Uo.x=Uo.y=!0,()=>{Uo.x=Uo.y=!1})}function Z$(e,t){const r=aye(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function GR(e){return!(e.pointerType==="touch"||X$())}function cye(e,t,r={}){const[n,a,i]=Z$(e,r),o=l=>{if(!GR(l))return;const{target:u}=l,f=t(u,l);if(typeof f!="function"||!u)return;const h=p=>{GR(p)&&(f(p),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const J$=(e,t)=>t?e===t?!0:J$(e,t.parentElement):!1,m4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,dye=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uye(e){return dye.has(e.tagName)||e.tabIndex!==-1}const L1=new WeakSet;function YR(e){return t=>{t.key==="Enter"&&e(t)}}function ES(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fye=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=YR(()=>{if(L1.has(r))return;ES(r,"down");const a=YR(()=>{ES(r,"up")}),i=()=>ES(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function KR(e){return m4(e)&&!X$()}function hye(e,t,r={}){const[n,a,i]=Z$(e,r),o=l=>{const u=l.currentTarget;if(!KR(l))return;L1.add(u);const f=t(u,l),h=(y,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",x),L1.has(u)&&L1.delete(u),KR(y)&&typeof f=="function"&&f(y,{success:w})},p=y=>{h(y,u===window||u===document||r.useGlobalTarget||J$(u,y.target))},x=y=>{h(y,!1)};window.addEventListener("pointerup",p,a),window.addEventListener("pointercancel",x,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l instanceof HTMLElement&&(l.addEventListener("focus",f=>fye(f,a)),!uye(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}const mye=[...G$,Ca,Ru],pye=e=>mye.find(W$(e)),eU=g.createContext({strict:!1}),QR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cp={};for(const e in QR)Cp[e]={isEnabled:t=>QR[e].some(r=>!!t[r])};function xye(e){for(const t in e)Cp[t]={...Cp[t],...e[t]}}const gye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ab(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gye.has(e)}let tU=e=>!Ab(e);function yye(e){e&&(tU=t=>t.startsWith("on")?!Ab(t):e(t))}try{yye(require("@emotion/is-prop-valid").default)}catch{}function vye(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(tU(a)||r===!0&&Ab(a)||!t&&!Ab(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function bye(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const zw=g.createContext({});function Hw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Sg(e){return typeof e=="string"||Array.isArray(e)}const p4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],x4=["initial",...p4];function Ww(e){return Hw(e.animate)||x4.some(t=>Sg(e[t]))}function rU(e){return!!(Ww(e)||e.variants)}function wye(e,t){if(Ww(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Sg(r)?r:void 0,animate:Sg(n)?n:void 0}}return e.inherit!==!1?t:{}}function Nye(e){const{initial:t,animate:r}=wye(e,g.useContext(zw));return g.useMemo(()=>({initial:t,animate:r}),[XR(t),XR(r)])}function XR(e){return Array.isArray(e)?e.join(" "):e}const jye=Symbol.for("motionComponentSymbol");function Im(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Sye(e,t,r){return g.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Im(r)&&(r.current=n))},[t])}const g4=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Eye="framerAppearId",sU="data-"+g4(Eye),nU=g.createContext({});function Aye(e,t,r,n,a){var b,N;const{visualElement:i}=g.useContext(zw),o=g.useContext(eU),l=g.useContext(qw),u=g.useContext(GT).reducedMotion,f=g.useRef(null);n=n||o.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,p=g.useContext(nU);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&Cye(f.current,r,a,p);const x=g.useRef(!1);g.useInsertionEffect(()=>{h&&x.current&&h.update(r,l)});const y=r[sU],w=g.useRef(!!y&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,y))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,y)));return u$(()=>{h&&(x.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h4.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,y)}),w.current=!1))}),h}function Cye(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:f,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:aU(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Im(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:u,layoutRoot:f})}function aU(e){if(e)return e.options.allowProjection!==!1?e.projection:aU(e.parent)}function Tye({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&xye(e);function i(l,u){let f;const h={...g.useContext(GT),...l,layoutId:_ye(l)},{isStatic:p}=h,x=Nye(l),y=n(l,p);if(!p&&WT){kye();const w=Dye(h);f=w.MeasureLayout,x.visualElement=Aye(a,y,h,t,w.ProjectionNode)}return s.jsxs(zw.Provider,{value:x,children:[f&&x.visualElement?s.jsx(f,{visualElement:x.visualElement,...h}):null,r(a,l,Sye(y,x.visualElement,u),y,p,x.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const o=g.forwardRef(i);return o[jye]=a,o}function _ye({layoutId:e}){const t=g.useContext(zT).id;return t&&e!==void 0?t+"-"+e:e}function kye(e,t){g.useContext(eU).strict}function Dye(e){const{drag:t,layout:r}=Cp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Eg={};function Oye(e){for(const t in e)Eg[t]=e[t],t4(t)&&(Eg[t].isCSSVariable=!0)}function iU(e,{layout:t,layoutId:r}){return o0.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Eg[e]||e==="opacity")}const Da=e=>!!(e&&e.getVelocity),Rye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pye=i0.length;function Mye(e,t,r){let n="",a=!0;for(let i=0;i<Pye;i++){const o=i0[i],l=e[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||r){const f=Q$(l,f4[o]);if(!u){a=!1;const h=Rye[o]||o;n+=`${h}(${f}) `}r&&(t[o]=f)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function y4(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const u in t){const f=t[u];if(o0.has(u)){o=!0;continue}else if(t4(u)){a[u]=f;continue}else{const h=Q$(f,f4[u]);u.startsWith("origin")?(l=!0,i[u]=h):n[u]=h}}if(t.transform||(o||r?n.transform=Mye(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:f="50%",originZ:h=0}=i;n.transformOrigin=`${u} ${f} ${h}`}}const v4=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oU(e,t,r){for(const n in t)!Da(t[n])&&!iU(n,r)&&(e[n]=t[n])}function Iye({transformTemplate:e},t){return g.useMemo(()=>{const r=v4();return y4(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Fye(e,t){const r=e.style||{},n={};return oU(n,r,e),Object.assign(n,Iye(e,t)),n}function Lye(e,t){const r={},n=Fye(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Bye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b4(e){return typeof e!="string"||e.includes("-")?!1:!!(Bye.indexOf(e)>-1||/[A-Z]/u.test(e))}const $ye={offset:"stroke-dashoffset",array:"stroke-dasharray"},Uye={offset:"strokeDashoffset",array:"strokeDasharray"};function Vye(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?$ye:Uye;e[i.offset]=dr.transform(-n);const o=dr.transform(t),l=dr.transform(r);e[i.array]=`${o} ${l}`}function lU(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},u,f,h){if(y4(e,l,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:x}=e;p.transform&&(x.transform=p.transform,delete p.transform),(x.transform||p.transformOrigin)&&(x.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),x.transform&&(x.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),a!==void 0&&Vye(p,a,i,o,!1)}const cU=()=>({...v4(),attrs:{}}),dU=e=>typeof e=="string"&&e.toLowerCase()==="svg";function qye(e,t,r,n){const a=g.useMemo(()=>{const i=cU();return lU(i,t,dU(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};oU(i,e.style,e),a.style={...i,...a.style}}return a}function zye(e=!1){return(r,n,a,{latestValues:i},o)=>{const u=(b4(r)?qye:Lye)(n,i,o,r),f=vye(n,typeof r=="string",e),h=r!==g.Fragment?{...f,...u,ref:a}:{},{children:p}=n,x=g.useMemo(()=>Da(p)?p.get():p,[p]);return g.createElement(r,{...h,children:x})}}function ZR(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function w4(e,t,r,n){if(typeof t=="function"){const[a,i]=ZR(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=ZR(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function B1(e){return Da(e)?e.get():e}function Hye({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Wye(r,n,a,e),renderState:t()}}const uU=e=>(t,r)=>{const n=g.useContext(zw),a=g.useContext(qw),i=()=>Hye(e,t,n,a);return r?i():HT(i)};function Wye(e,t,r,n){const a={},i=n(e,{});for(const x in i)a[x]=B1(i[x]);let{initial:o,animate:l}=e;const u=Ww(e),f=rU(e);t&&f&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const p=h?l:o;if(p&&typeof p!="boolean"&&!Hw(p)){const x=Array.isArray(p)?p:[p];for(let y=0;y<x.length;y++){const w=w4(e,x[y]);if(w){const{transitionEnd:b,transition:N,...j}=w;for(const S in j){let A=j[S];if(Array.isArray(A)){const _=h?A.length-1:0;A=A[_]}A!==null&&(a[S]=A)}for(const S in b)a[S]=b[S]}}}return a}function N4(e,t,r){var i;const{style:n}=e,a={};for(const o in n)(Da(n[o])||t.style&&Da(t.style[o])||iU(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const Gye={useVisualState:uU({scrapeMotionValuesFromProps:N4,createRenderState:v4})};function fU(e,t,r){const n=N4(e,t,r);for(const a in e)if(Da(e[a])||Da(t[a])){const i=i0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const Yye={useVisualState:uU({scrapeMotionValuesFromProps:fU,createRenderState:cU})};function Kye(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...b4(n)?Yye:Gye,preloadedFeatures:e,useRender:zye(a),createVisualElement:t,Component:n};return Tye(o)}}function Ag(e,t,r){const n=e.getProps();return w4(n,t,r!==void 0?r:n.custom,e)}const _A=e=>Array.isArray(e);function Qye(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ap(r))}function Xye(e){return _A(e)?e[e.length-1]||0:e}function Zye(e,t){const r=Ag(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=Xye(i[o]);Qye(e,o,l)}}function Jye(e){return!!(Da(e)&&e.add)}function kA(e,t){const r=e.getValue("willChange");if(Jye(r))return r.add(t);if(!r&&Gc.WillChange){const n=new Gc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function hU(e){return e.props[sU]}const eve=e=>e!==null;function tve(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(eve),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const rve={type:"spring",stiffness:500,damping:25,restSpeed:10},sve=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nve={type:"keyframes",duration:.8},ave={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ive=(e,{keyframes:t})=>t.length>2?nve:o0.has(e)?e.startsWith("scale")?sve(t[1]):rve:ave;function ove({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:f,...h}){return!!Object.keys(h).length}const j4=(e,t,r,n={},a,i)=>o=>{const l=u4(n,e)||{},u=l.delay||n.delay||0;let{elapsed:f=0}=n;f=f-$l(u);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-f,onUpdate:x=>{t.set(x),l.onUpdate&&l.onUpdate(x)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};ove(l)||Object.assign(h,ive(e,h)),h.duration&&(h.duration=$l(h.duration)),h.repeatDelay&&(h.repeatDelay=$l(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),(Gc.instantAnimations||Gc.skipAnimations)&&(p=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,p&&!i&&t.get()!==void 0){const x=tve(h.keyframes,l);if(x!==void 0){Zs.update(()=>{h.onUpdate(x),h.onComplete()});return}}return l.isSync?new c4(h):new Wge(h)};function lve({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function mU(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const u=[],f=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const p=e.getValue(h,e.latestValues[h]??null),x=l[h];if(x===void 0||f&&lve(f,h))continue;const y={delay:r,...u4(i||{},h)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(x)&&x===w&&!y.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const j=hU(e);if(j){const S=window.MotionHandoffAnimation(j,h,Zs);S!==null&&(y.startTime=S,b=!0)}}kA(e,h),p.start(j4(h,p,x,e.shouldReduceMotion&&H$.has(h)?{type:!1}:y,e,b));const N=p.animation;N&&u.push(N)}return o&&Promise.all(u).then(()=>{Zs.update(()=>{o&&Zye(e,o)})}),u}function DA(e,t,r={}){var u;const n=Ag(e,t,r.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(mU(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:x}=a;return cve(e,t,h+f,p,x,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[f,h]=l==="beforeChildren"?[i,o]:[o,i];return f().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function cve(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,u=a===1?(f=0)=>f*n:(f=0)=>l-f*n;return Array.from(e.variantChildren).sort(dve).forEach((f,h)=>{f.notify("AnimationStart",t),o.push(DA(f,t,{...i,delay:r+u(h)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(o)}function dve(e,t){return e.sortNodePosition(t)}function uve(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>DA(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=DA(e,t,r);else{const a=typeof t=="function"?Ag(e,t,r.custom):t;n=Promise.all(mU(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function pU(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const fve=x4.length;function xU(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?xU(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<fve;r++){const n=x4[r],a=e.props[n];(Sg(a)||a===!1)&&(t[n]=a)}return t}const hve=[...p4].reverse(),mve=p4.length;function pve(e){return t=>Promise.all(t.map(({animation:r,options:n})=>uve(e,r,n)))}function xve(e){let t=pve(e),r=JR(),n=!0;const a=u=>(f,h)=>{var x;const p=Ag(e,h,u==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(p){const{transition:y,transitionEnd:w,...b}=p;f={...f,...b,...w}}return f};function i(u){t=u(e)}function o(u){const{props:f}=e,h=xU(e.parent)||{},p=[],x=new Set;let y={},w=1/0;for(let N=0;N<mve;N++){const j=hve[N],S=r[j],A=f[j]!==void 0?f[j]:h[j],_=Sg(A),C=j===u?S.isActive:null;C===!1&&(w=N);let k=A===h[j]&&A!==f[j]&&_;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),S.protectedKeys={...y},!S.isActive&&C===null||!A&&!S.prevProp||Hw(A)||typeof A=="boolean")continue;const T=gve(S.prevProp,A);let O=T||j===u&&S.isActive&&!k&&_||N>w&&_,R=!1;const L=Array.isArray(A)?A:[A];let M=L.reduce(a(j),{});C===!1&&(M={});const{prevResolvedValues:G={}}=S,V={...G,...M},ie=U=>{O=!0,x.has(U)&&(R=!0,x.delete(U)),S.needsAnimating[U]=!0;const F=e.getValue(U);F&&(F.liveStyle=!1)};for(const U in V){const F=M[U],W=G[U];if(y.hasOwnProperty(U))continue;let q=!1;_A(F)&&_A(W)?q=!pU(F,W):q=F!==W,q?F!=null?ie(U):x.add(U):F!==void 0&&x.has(U)?ie(U):S.protectedKeys[U]=!0}S.prevProp=A,S.prevResolvedValues=M,S.isActive&&(y={...y,...M}),n&&e.blockInitialAnimation&&(O=!1),O&&(!(k&&T)||R)&&p.push(...L.map(U=>({animation:U,options:{type:j}})))}if(x.size){const N={};if(typeof f.initial!="boolean"){const j=Ag(e,Array.isArray(f.initial)?f.initial[0]:f.initial);j&&j.transition&&(N.transition=j.transition)}x.forEach(j=>{const S=e.getBaseTarget(j),A=e.getValue(j);A&&(A.liveStyle=!0),N[j]=S??null}),p.push({animation:N})}let b=!!p.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(p):Promise.resolve()}function l(u,f){var p;if(r[u].isActive===f)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(x=>{var y;return(y=x.animationState)==null?void 0:y.setActive(u,f)}),r[u].isActive=f;const h=o(u);for(const x in r)r[x].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=JR(),n=!0}}}function gve(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!pU(t,e):!1}function gf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JR(){return{animate:gf(!0),whileInView:gf(),whileHover:gf(),whileTap:gf(),whileDrag:gf(),whileFocus:gf(),exit:gf()}}class zu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class yve extends zu{constructor(t){super(t),t.animationState||(t.animationState=xve(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let vve=0;class bve extends zu{constructor(){super(...arguments),this.id=vve++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wve={animation:{Feature:yve},exit:{Feature:bve}};function Cg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function jy(e){return{point:{x:e.pageX,y:e.pageY}}}const Nve=e=>t=>m4(t)&&e(t,jy(t));function Mx(e,t,r,n){return Cg(e,t,Nve(r),n)}function gU({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function jve({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Sve(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const yU=1e-4,Eve=1-yU,Ave=1+yU,vU=.01,Cve=0-vU,Tve=0+vU;function Wa(e){return e.max-e.min}function _ve(e,t,r){return Math.abs(e-t)<=r}function eP(e,t,r,n=.5){e.origin=n,e.originPoint=Xs(t.min,t.max,e.origin),e.scale=Wa(r)/Wa(t),e.translate=Xs(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Eve&&e.scale<=Ave||isNaN(e.scale))&&(e.scale=1),(e.translate>=Cve&&e.translate<=Tve||isNaN(e.translate))&&(e.translate=0)}function Ix(e,t,r,n){eP(e.x,t.x,r.x,n?n.originX:void 0),eP(e.y,t.y,r.y,n?n.originY:void 0)}function tP(e,t,r){e.min=r.min+t.min,e.max=e.min+Wa(t)}function kve(e,t,r){tP(e.x,t.x,r.x),tP(e.y,t.y,r.y)}function rP(e,t,r){e.min=t.min-r.min,e.max=e.min+Wa(t)}function Fx(e,t,r){rP(e.x,t.x,r.x),rP(e.y,t.y,r.y)}const sP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fm=()=>({x:sP(),y:sP()}),nP=()=>({min:0,max:0}),xn=()=>({x:nP(),y:nP()});function co(e){return[e("x"),e("y")]}function AS(e){return e===void 0||e===1}function OA({scale:e,scaleX:t,scaleY:r}){return!AS(e)||!AS(t)||!AS(r)}function wf(e){return OA(e)||bU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bU(e){return aP(e.x)||aP(e.y)}function aP(e){return e&&e!=="0%"}function Cb(e,t,r){const n=e-r,a=t*n;return r+a}function iP(e,t,r,n,a){return a!==void 0&&(e=Cb(e,a,n)),Cb(e,r,n)+t}function RA(e,t=0,r=1,n,a){e.min=iP(e.min,t,r,n,a),e.max=iP(e.max,t,r,n,a)}function wU(e,{x:t,y:r}){RA(e.x,t.translate,t.scale,t.originPoint),RA(e.y,r.translate,r.scale,r.originPoint)}const oP=.999999999999,lP=1.0000000000001;function Dve(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Bm(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,wU(e,o)),n&&wf(i.latestValues)&&Bm(e,i.latestValues))}t.x<lP&&t.x>oP&&(t.x=1),t.y<lP&&t.y>oP&&(t.y=1)}function Lm(e,t){e.min=e.min+t,e.max=e.max+t}function cP(e,t,r,n,a=.5){const i=Xs(e.min,e.max,a);RA(e,t,r,i,n)}function Bm(e,t){cP(e.x,t.x,t.scaleX,t.scale,t.originX),cP(e.y,t.y,t.scaleY,t.scale,t.originY)}function NU(e,t){return gU(Sve(e.getBoundingClientRect(),t))}function Ove(e,t,r){const n=NU(e,r),{scroll:a}=t;return a&&(Lm(n.x,a.offset.x),Lm(n.y,a.offset.y)),n}const jU=({current:e})=>e?e.ownerDocument.defaultView:null,dP=(e,t)=>Math.abs(e-t);function Rve(e,t){const r=dP(e.x,t.x),n=dP(e.y,t.y);return Math.sqrt(r**2+n**2)}class SU{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=TS(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,y=Rve(p.offset,{x:0,y:0})>=3;if(!x&&!y)return;const{point:w}=p,{timestamp:b}=ra;this.history.push({...w,timestamp:b});const{onStart:N,onMove:j}=this.handlers;x||(N&&N(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=CS(x,this.transformPagePoint),Zs.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=TS(p.type==="pointercancel"?this.lastMoveEventInfo:CS(x,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,N),w&&w(p,N)},!m4(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=jy(t),l=CS(o,this.transformPagePoint),{point:u}=l,{timestamp:f}=ra;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,TS(l,this.history)),this.removeListeners=by(Mx(this.contextWindow,"pointermove",this.handlePointerMove),Mx(this.contextWindow,"pointerup",this.handlePointerUp),Mx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ou(this.updatePoint)}}function CS(e,t){return t?{point:t(e.point)}:e}function uP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function TS({point:e},t){return{point:e,delta:uP(e,EU(t)),offset:uP(e,Pve(t)),velocity:Mve(t,.1)}}function Pve(e){return e[0]}function EU(e){return e[e.length-1]}function Mve(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=EU(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>$l(t)));)r--;if(!n)return{x:0,y:0};const i=Ul(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ive(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Xs(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Xs(r,e,n.max):Math.min(e,r)),e}function fP(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Fve(e,{top:t,left:r,bottom:n,right:a}){return{x:fP(e.x,r,a),y:fP(e.y,t,n)}}function hP(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Lve(e,t){return{x:hP(e.x,t.x),y:hP(e.y,t.y)}}function Bve(e,t){let r=.5;const n=Wa(e),a=Wa(t);return a>n?r=wg(t.min,t.max-n,e.min):n>a&&(r=wg(e.min,e.max-a,t.min)),Wc(0,1,r)}function $ve(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const PA=.35;function Uve(e=PA){return e===!1?e=0:e===!0&&(e=PA),{x:mP(e,"left","right"),y:mP(e,"top","bottom")}}function mP(e,t,r){return{min:pP(e,t),max:pP(e,r)}}function pP(e,t){return typeof e=="number"?e:e[t]||0}const Vve=new WeakMap;class qve{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(jy(h).point)},i=(h,p)=>{const{drag:x,dragPropagation:y,onDragStart:w}=this.getProps();if(x&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lye(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),co(N=>{let j=this.getAxisMotionValue(N).get()||0;if(Vl.test(j)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[N];A&&(j=Wa(A)*(parseFloat(j)/100))}}this.originPoint[N]=j}),w&&Zs.postRender(()=>w(h,p)),kA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:x,dragDirectionLock:y,onDirectionLock:w,onDrag:b}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=p;if(y&&this.currentDirection===null){this.currentDirection=zve(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,N),this.updateAxis("y",p.point,N),this.visualElement.render(),b&&b(h,p)},l=(h,p)=>this.stop(h,p),u=()=>co(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new SU(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:jU(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Zs.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!s1(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Ive(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&Im(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Fve(n.layoutBox,t):this.constraints=!1,this.elastic=Uve(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&co(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=$ve(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Im(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Ove(n,a.root,this.visualElement.getTransformPagePoint());let o=Lve(a.layout.layoutBox,i);if(r){const l=r(jve(o));this.hasMutatedConstraints=!!l,l&&(o=gU(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},f=co(h=>{if(!s1(h,r,this.currentDirection))return;let p=u&&u[h]||{};o&&(p={min:0,max:0});const x=a?200:1e6,y=a?40:1e7,w={type:"inertia",velocity:n?t[h]:0,bounceStiffness:x,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(h,w)});return Promise.all(f).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return kA(this.visualElement,t),n.start(j4(t,n,0,r,this.visualElement,!1))}stopAnimation(){co(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){co(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){co(r=>{const{drag:n}=this.getProps();if(!s1(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-Xs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Im(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};co(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();a[o]=Bve({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),co(o=>{if(!s1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:u,max:f}=this.constraints[o];l.set(Xs(u,f,a[o]))})}addListeners(){if(!this.visualElement.current)return;Vve.set(this.visualElement,this);const t=this.visualElement.current,r=Mx(t,"pointerdown",u=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Im(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Zs.read(n);const o=Cg(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(co(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=u[h].translate,p.set(p.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=PA,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function s1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function zve(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Hve extends zu{constructor(t){super(t),this.removeGroupControls=So,this.removeListeners=So,this.controls=new qve(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||So}unmount(){this.removeGroupControls(),this.removeListeners()}}const xP=e=>(t,r)=>{e&&Zs.postRender(()=>e(t,r))};class Wve extends zu{constructor(){super(...arguments),this.removePointerDownListener=So}onPointerDown(t){this.session=new SU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jU(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:xP(t),onStart:xP(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Zs.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Mx(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xx={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(dr.test(e))e=parseFloat(e);else return e;const r=gP(e,t.target.x),n=gP(e,t.target.y);return`${r}% ${n}%`}},Gve={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Ru.parse(e);if(a.length>5)return n;const i=Ru.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,u=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=u;const f=Xs(l,u,.5);return typeof a[2+o]=="number"&&(a[2+o]/=f),typeof a[3+o]=="number"&&(a[3+o]/=f),i(a)}};class Yve extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Oye(Kve),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Zs.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),h4.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function AU(e){const[t,r]=f$(),n=g.useContext(zT);return s.jsx(Yve,{...e,layoutGroup:n,switchLayoutGroup:g.useContext(nU),isPresent:t,safeToRemove:r})}const Kve={borderRadius:{...xx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xx,borderTopRightRadius:xx,borderBottomLeftRadius:xx,borderBottomRightRadius:xx,boxShadow:Gve};function Qve(e,t,r){const n=Da(e)?e:Ap(e);return n.start(j4("",n,t,r)),n.animation}function Xve(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Zve=(e,t)=>e.depth-t.depth;class Jve{constructor(){this.children=[],this.isDirty=!1}add(t){YT(this.children,t),this.isDirty=!0}remove(t){KT(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Zve),this.isDirty=!1,this.children.forEach(t)}}function e1e(e,t){const r=pi.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Ou(n),e(i-t))};return Zs.setup(n,!0),()=>Ou(n)}const CU=["TopLeft","TopRight","BottomLeft","BottomRight"],t1e=CU.length,yP=e=>typeof e=="string"?parseFloat(e):e,vP=e=>typeof e=="number"||dr.test(e);function r1e(e,t,r,n,a,i){a?(e.opacity=Xs(0,r.opacity??1,s1e(n)),e.opacityExit=Xs(t.opacity??1,0,n1e(n))):i&&(e.opacity=Xs(t.opacity??1,r.opacity??1,n));for(let o=0;o<t1e;o++){const l=`border${CU[o]}Radius`;let u=bP(t,l),f=bP(r,l);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||vP(u)===vP(f)?(e[l]=Math.max(Xs(yP(u),yP(f),n),0),(Vl.test(f)||Vl.test(u))&&(e[l]+="%")):e[l]=f}(t.rotate||r.rotate)&&(e.rotate=Xs(t.rotate||0,r.rotate||0,n))}function bP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const s1e=TU(0,.5,N$),n1e=TU(.5,.95,So);function TU(e,t,r){return n=>n<e?0:n>t?1:r(wg(e,t,n))}function wP(e,t){e.min=t.min,e.max=t.max}function io(e,t){wP(e.x,t.x),wP(e.y,t.y)}function NP(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function jP(e,t,r,n,a){return e-=t,e=Cb(e,1/r,n),a!==void 0&&(e=Cb(e,1/a,n)),e}function a1e(e,t=0,r=1,n=.5,a,i=e,o=e){if(Vl.test(t)&&(t=parseFloat(t),t=Xs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Xs(i.min,i.max,n);e===i&&(l-=t),e.min=jP(e.min,t,r,l,a),e.max=jP(e.max,t,r,l,a)}function SP(e,t,[r,n,a],i,o){a1e(e,t[r],t[n],t[a],t.scale,i,o)}const i1e=["x","scaleX","originX"],o1e=["y","scaleY","originY"];function EP(e,t,r,n){SP(e.x,t,i1e,r?r.x:void 0,n?n.x:void 0),SP(e.y,t,o1e,r?r.y:void 0,n?n.y:void 0)}function AP(e){return e.translate===0&&e.scale===1}function _U(e){return AP(e.x)&&AP(e.y)}function CP(e,t){return e.min===t.min&&e.max===t.max}function l1e(e,t){return CP(e.x,t.x)&&CP(e.y,t.y)}function TP(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kU(e,t){return TP(e.x,t.x)&&TP(e.y,t.y)}function _P(e){return Wa(e.x)/Wa(e.y)}function kP(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class c1e{constructor(){this.members=[]}add(t){YT(this.members,t),t.scheduleRender()}remove(t){if(KT(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function d1e(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:f,rotate:h,rotateX:p,rotateY:x,skewX:y,skewY:w}=r;f&&(n=`perspective(${f}px) ${n}`),h&&(n+=`rotate(${h}deg) `),p&&(n+=`rotateX(${p}deg) `),x&&(n+=`rotateY(${x}deg) `),y&&(n+=`skewX(${y}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const _S=["","X","Y","Z"],u1e={visibility:"hidden"},f1e=1e3;let h1e=0;function kS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function DU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=hU(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Zs,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&DU(n)}function OU({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=h1e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(x1e),this.nodes.forEach(w1e),this.nodes.forEach(N1e),this.nodes.forEach(g1e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jve)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ZT),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Xve(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=e1e(p,250),$1.hasAnimatedSinceResize&&($1.hasAnimatedSinceResize=!1,this.nodes.forEach(OP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:x,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||C1e,{onLayoutAnimationStart:b,onLayoutAnimationComplete:N}=f.getProps(),j=!this.targetLayout||!kU(this.targetLayout,y),S=!p&&x;if(this.options.layoutRoot||this.resumeFrom||S||p&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const A={...u4(w,"layout"),onPlay:b,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else p||OP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ou(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j1e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DP);return}this.isUpdating||this.nodes.forEach(v1e),this.isUpdating=!1,this.nodes.forEach(b1e),this.nodes.forEach(m1e),this.nodes.forEach(p1e),this.clearAllSnapshots();const l=pi.now();ra.delta=Wc(0,1e3/60,l-ra.timestamp),ra.timestamp=l,ra.isProcessing=!0,wS.update.process(ra),wS.preRender.process(ra),wS.render.process(ra),ra.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,h4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(y1e),this.sharedNodes.forEach(S1e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wa(this.snapshot.measuredBox.x)&&!Wa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!_U(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;o&&this.instance&&(l||wf(this.latestValues)||h)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),T1e(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return xn();const l=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(_1e))){const{scroll:h}=this.root;h&&(Lm(l.x,h.offset.x),Lm(l.y,h.offset.y))}return l}removeElementScroll(o){var u;const l=xn();if(io(l,o),(u=this.scroll)!=null&&u.wasRoot)return l;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:x}=h;h!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&io(l,o),Lm(l.x,p.offset.x),Lm(l.y,p.offset.y))}return l}applyTransform(o,l=!1){const u=xn();io(u,o);for(let f=0;f<this.path.length;f++){const h=this.path[f];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Bm(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),wf(h.latestValues)&&Bm(u,h.latestValues)}return wf(this.latestValues)&&Bm(u,this.latestValues),u}removeTransform(o){const l=xn();io(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!wf(f.latestValues))continue;OA(f.latestValues)&&f.updateSnapshot();const h=xn(),p=f.measurePageBox();io(h,p),EP(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return wf(this.latestValues)&&EP(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ra.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=ra.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xn(),this.relativeTargetOrigin=xn(),Fx(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xn(),this.targetWithTransforms=xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):io(this.target,this.layout.layoutBox),wU(this.target,this.targetDelta)):io(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xn(),this.relativeTargetOrigin=xn(),Fx(this.relativeTargetOrigin,this.target,y.target),io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||OA(this.parent.latestValues)||bU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ra.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;io(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,x=this.treeScale.y;Dve(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=xn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NP(this.prevProjectionDelta.x,this.projectionDelta.x),NP(this.prevProjectionDelta.y,this.projectionDelta.y)),Ix(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==x||!kP(this.projectionDelta.x,this.prevProjectionDelta.x)||!kP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fm(),this.projectionDelta=Fm(),this.projectionDeltaWithTransform=Fm()}setAnimationOrigin(o,l=!1){const u=this.snapshot,f=u?u.latestValues:{},h={...this.latestValues},p=Fm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=xn(),y=u?u.source:void 0,w=this.layout?this.layout.source:void 0,b=y!==w,N=this.getStack(),j=!N||N.members.length<=1,S=!!(b&&!j&&this.options.crossfade===!0&&!this.path.some(A1e));this.animationProgress=0;let A;this.mixTargetDelta=_=>{const C=_/1e3;RP(p.x,o.x,C),RP(p.y,o.y,C),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fx(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E1e(this.relativeTarget,this.relativeTargetOrigin,x,C),A&&l1e(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=xn()),io(A,this.relativeTarget)),b&&(this.animationValues=h,r1e(h,f,this.latestValues,C,S,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,u,f;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(f=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||f.stop(!1),this.pendingAnimation&&(Ou(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zs.update(()=>{$1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ap(0)),this.currentAnimation=Qve(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(f1e),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:f,latestValues:h}=o;if(!(!l||!u||!f)){if(this!==o&&this.layout&&f&&RU(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||xn();const p=Wa(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const x=Wa(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+x}io(l,u),Bm(l,h),Ix(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new c1e),this.sharedNodes.get(o).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const f={};u.z&&kS("z",o,f,this.animationValues);for(let h=0;h<_S.length;h++)kS(`rotate${_S[h]}`,o,f,this.animationValues),kS(`skew${_S[h]}`,o,f,this.animationValues);o.render();for(const h in f)o.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return u1e;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=B1(o==null?void 0:o.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=B1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!wf(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=d1e(this.projectionDeltaWithTransform,this.treeScale,h),u&&(l.transform=u(h,l.transform));const{x:p,y:x}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,f.animationValues?l.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Eg){if(h[y]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:N}=Eg[y],j=l.transform==="none"?h[y]:w(h[y],f);if(b){const S=b.length;for(let A=0;A<S;A++)l[b[A]]=j}else N?this.options.visualElement.renderState.vars[y]=j:l[y]=j}return this.options.layoutId&&(l.pointerEvents=f===this?B1(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(DP),this.root.sharedNodes.clear()}}}function m1e(e){e.updateLayout()}function p1e(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?co(p=>{const x=o?t.measuredBox[p]:t.layoutBox[p],y=Wa(x);x.min=n[p].min,x.max=x.min+y}):RU(i,t.layoutBox,n)&&co(p=>{const x=o?t.measuredBox[p]:t.layoutBox[p],y=Wa(n[p]);x.max=x.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const l=Fm();Ix(l,n,t.layoutBox);const u=Fm();o?Ix(u,e.applyTransform(a,!0),t.measuredBox):Ix(u,n,t.layoutBox);const f=!_U(l);let h=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:y}=p;if(x&&y){const w=xn();Fx(w,t.layoutBox,x.layoutBox);const b=xn();Fx(b,n,y.layoutBox),kU(w,b)||(h=!0),p.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function x1e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function g1e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function y1e(e){e.clearSnapshot()}function DP(e){e.clearMeasurements()}function v1e(e){e.isLayoutDirty=!1}function b1e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function OP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function w1e(e){e.resolveTargetDelta()}function N1e(e){e.calcProjection()}function j1e(e){e.resetSkewAndRotation()}function S1e(e){e.removeLeadSnapshot()}function RP(e,t,r){e.translate=Xs(t.translate,0,r),e.scale=Xs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function PP(e,t,r,n){e.min=Xs(t.min,r.min,n),e.max=Xs(t.max,r.max,n)}function E1e(e,t,r,n){PP(e.x,t.x,r.x,n),PP(e.y,t.y,r.y,n)}function A1e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const C1e={duration:.45,ease:[.4,0,.1,1]},MP=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),IP=MP("applewebkit/")&&!MP("chrome/")?Math.round:So;function FP(e){e.min=IP(e.min),e.max=IP(e.max)}function T1e(e){FP(e.x),FP(e.y)}function RU(e,t,r){return e==="position"||e==="preserve-aspect"&&!_ve(_P(t),_P(r),.2)}function _1e(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const k1e=OU({attachResizeListener:(e,t)=>Cg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),DS={current:void 0},PU=OU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!DS.current){const e=new k1e({});e.mount(window),e.setOptions({layoutScroll:!0}),DS.current=e}return DS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),D1e={pan:{Feature:Wve},drag:{Feature:Hve,ProjectionNode:PU,MeasureLayout:AU}};function LP(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Zs.postRender(()=>i(t,jy(t)))}class O1e extends zu{mount(){const{current:t}=this.node;t&&(this.unmount=cye(t,(r,n)=>(LP(this.node,n,"Start"),a=>LP(this.node,a,"End"))))}unmount(){}}class R1e extends zu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=by(Cg(this.node.current,"focus",()=>this.onFocus()),Cg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BP(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Zs.postRender(()=>i(t,jy(t)))}class P1e extends zu{mount(){const{current:t}=this.node;t&&(this.unmount=hye(t,(r,n)=>(BP(this.node,n,"Start"),(a,{success:i})=>BP(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const MA=new WeakMap,OS=new WeakMap,M1e=e=>{const t=MA.get(e.target);t&&t(e)},I1e=e=>{e.forEach(M1e)};function F1e({root:e,...t}){const r=e||document;OS.has(r)||OS.set(r,{});const n=OS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(I1e,{root:e,...t})),n[a]}function L1e(e,t,r){const n=F1e(t);return MA.set(e,r),n.observe(e),()=>{MA.delete(e),n.unobserve(e)}}const B1e={some:0,all:1};class $1e extends zu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:B1e[a]},l=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),x=f?h:p;x&&x(u)};return L1e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(U1e(t,r))&&this.startObserver()}unmount(){}}function U1e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const V1e={inView:{Feature:$1e},tap:{Feature:P1e},focus:{Feature:R1e},hover:{Feature:O1e}},q1e={layout:{ProjectionNode:PU,MeasureLayout:AU}},IA={current:null},MU={current:!1};function z1e(){if(MU.current=!0,!!WT)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>IA.current=e.matches;e.addListener(t),t()}else IA.current=!1}const H1e=new WeakMap;function W1e(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Da(a))e.addValue(n,a);else if(Da(i))e.addValue(n,Ap(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Ap(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const $P=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class G1e{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=d4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=pi.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Zs.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ww(r),this.isVariantNode=rU(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in p){const y=p[x];u[x]!==void 0&&Da(y)&&y.set(u[x],!1)}}mount(t){this.current=t,H1e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),MU.current||z1e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:IA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ou(this.notifyUpdate),Ou(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=o0.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Zs.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Cp){const r=Cp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<$P.length;n++){const a=$P[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=W1e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ap(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(h$(n)||m$(n))?n=parseFloat(n):!pye(n)&&Ru.test(r)&&(n=K$(t,r)),this.setBaseTarget(t,Da(n)?n.get():n)),Da(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=w4(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Da(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ZT),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class IU extends G1e{constructor(){super(...arguments),this.KeyframeResolver=nye}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Da(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function FU(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function Y1e(e){return window.getComputedStyle(e)}class K1e extends IU{constructor(){super(...arguments),this.type="html",this.renderInstance=FU}readValueFromInstance(t,r){if(o0.has(r))return jge(t,r);{const n=Y1e(t),a=(t4(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return NU(t,r)}build(t,r,n){y4(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return N4(t,r,n)}}const LU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q1e(e,t,r,n){FU(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(LU.has(a)?a:g4(a),t.attrs[a])}class X1e extends IU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(o0.has(r)){const n=Y$(r);return n&&n.default||0}return r=LU.has(r)?r:g4(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return fU(t,r,n)}build(t,r,n){lU(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){Q1e(t,r,n,a)}mount(t){this.isSVGTag=dU(t.tagName),super.mount(t)}}const Z1e=(e,t)=>b4(e)?new X1e(t):new K1e(t,{allowProjection:e!==g.Fragment}),J1e=Kye({...wve,...V1e,...D1e,...q1e},Z1e),As=bye(J1e),ebe="/assets/indraai%20640%20x%20960-DM1tbB-f.png",tbe=({images:e,subtitle:t="",description:r="",className:n})=>{const[a,i]=g.useState(0),[o,l]=g.useState(!1),[u,f]=g.useState(!1),h=g.useRef(null);gr(),g.useEffect(()=>{const y=setTimeout(()=>l(!0),100);return()=>clearTimeout(y)},[]),g.useEffect(()=>{const y=()=>{f(window.innerWidth<436)};return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[]),g.useEffect(()=>{if(e&&e.length>1)return h.current=setInterval(()=>{i(y=>y===e.length-1?0:y+1)},5e3),()=>{h.current&&clearInterval(h.current)}},[e]);const p=y=>{y===0&&l(!0)},x=()=>{const y=document.getElementById("product-detail-section");y&&y.scrollIntoView({behavior:"smooth",block:"start"})};return!e||e.length===0?s.jsx("section",{className:Ze("relative w-full h-screen overflow-hidden flex items-center justify-center bg-gray-200",n),children:s.jsx("div",{className:"text-center",children:s.jsx("p",{children:"Loading Banners..."})})}):s.jsx("section",{className:Ze("relative w-full overflow-hidden",n),children:s.jsxs("div",{className:"relative w-full mx-auto max-sm:w-full max-sm:h-[16rem] max-[439px]:min-h-[39rem] ",style:{maxWidth:"1920px",aspectRatio:"1584 / 632"},children:[s.jsx("div",{className:"absolute inset-0 ",children:e.map((y,w)=>s.jsx("div",{className:Ze("absolute inset-0 transition-opacity duration-1000 ease-in-out","opacity-100"),children:s.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:s.jsx("img",{src:u?ebe:y.src,alt:y.alt,className:"w-full h-full object-cover max-sm:object-fit max-[380px]:object-fit ",onLoad:()=>p(w),loading:w===0?"eager":"lazy"})})},y.id))}),s.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"text-center max-w-4xl mx-auto",children:s.jsxs(As.div,{initial:{opacity:1,y:30},animate:{opacity:o?1:0,y:o?1:30},transition:{duration:.8,delay:.2},className:"space-y-6",children:[s.jsx(As.h1,{initial:{opacity:1,y:30},animate:{opacity:o?1:0,y:o?1:30},transition:{duration:.8,delay:.6},className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight",children:t}),s.jsx(As.p,{initial:{opacity:1,y:20},animate:{opacity:o?1:0,y:o?1:20},transition:{duration:.6,delay:.8},className:"text-lg sm:text-xl text-white/80 max-w-2xl mx-auto leading-relaxed",children:r})]})})}),e.length>1&&s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20",children:s.jsx("div",{className:"flex space-x-2",children:e.map((y,w)=>s.jsx("button",{onClick:()=>i(w),className:Ze("w-3 h-3 rounded-full transition-all duration-300",w===a?"bg-white scale-110":"bg-white/50 hover:bg-white/70"),"aria-label":`Go to image ${w+1}`},w))})}),s.jsx(As.div,{initial:{opacity:1,y:20},animate:{opacity:o?1:0,y:o?1:20},transition:{duration:.6,delay:1},className:`absolute bottom-20 left-1/2 transform -translate-x-1/2 z-20 
                     lg:bottom-20 
                     md:bottom-16 
                     sm:bottom-12 
                     max-sm:bottom-8`,children:s.jsx("button",{onClick:x,className:`px-8 py-3 bg-primary text-white font-semibold rounded-full hover:bg-red-400/90 transition-colors duration-300 
                       min-w-[240px] 
                       lg:min-w-[240px] lg:px-8 lg:py-3 lg:text-base
                       md:min-w-[200px] md:px-6 md:py-2.5 md:text-sm
                       sm:min-w-[180px] sm:px-5 sm:py-2 sm:text-sm
                       max-sm:min-w-[150px] max-sm:px-4 max-sm:py-2 max-sm:text-xs`,children:"Join Our Milk Club"})})]})})},Gw=[{value:"andhra-pradesh",label:"Andhra Pradesh"},{value:"arunachal-pradesh",label:"Arunachal Pradesh"},{value:"assam",label:"Assam"},{value:"bihar",label:"Bihar"},{value:"chhattisgarh",label:"Chhattisgarh"},{value:"goa",label:"Goa"},{value:"gujarat",label:"Gujarat"},{value:"haryana",label:"Haryana"},{value:"himachal-pradesh",label:"Himachal Pradesh"},{value:"jharkhand",label:"Jharkhand"},{value:"karnataka",label:"Karnataka"},{value:"kerala",label:"Kerala"},{value:"madhya-pradesh",label:"Madhya Pradesh"},{value:"maharashtra",label:"Maharashtra"},{value:"manipur",label:"Manipur"},{value:"meghalaya",label:"Meghalaya"},{value:"mizoram",label:"Mizoram"},{value:"nagaland",label:"Nagaland"},{value:"odisha",label:"Odisha"},{value:"punjab",label:"Punjab"},{value:"rajasthan",label:"Rajasthan"},{value:"sikkim",label:"Sikkim"},{value:"tamil-nadu",label:"Tamil Nadu"},{value:"telangana",label:"Telangana"},{value:"tripura",label:"Tripura"},{value:"uttar-pradesh",label:"Uttar Pradesh"},{value:"uttarakhand",label:"Uttarakhand"},{value:"west-bengal",label:"West Bengal"},{value:"andaman-nicobar",label:"Andaman and Nicobar Islands"},{value:"chandigarh",label:"Chandigarh"},{value:"dadra-nagar-haveli-daman-diu",label:"Dadra and Nagar Haveli and Daman and Diu"},{value:"delhi",label:"Delhi"},{value:"jammu-kashmir",label:"Jammu and Kashmir"},{value:"ladakh",label:"Ladakh"},{value:"lakshadweep",label:"Lakshadweep"},{value:"puducherry",label:"Puducherry"}];var S4="Radio",[rbe,BU]=da(S4),[sbe,nbe]=rbe(S4),$U=g.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:u,form:f,...h}=e,[p,x]=g.useState(null),y=Zt(t,N=>x(N)),w=g.useRef(!1),b=p?f||!!p.closest("form"):!0;return s.jsxs(sbe,{scope:r,checked:a,disabled:o,children:[s.jsx(It.button,{type:"button",role:"radio","aria-checked":a,"data-state":zU(a),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:y,onClick:gt(e.onClick,N=>{a||u==null||u(),b&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})}),b&&s.jsx(qU,{control:p,bubbles:!w.current,name:n,value:l,checked:a,required:i,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});$U.displayName=S4;var UU="RadioIndicator",VU=g.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=nbe(UU,r);return s.jsx(ei,{present:n||i.checked,children:s.jsx(It.span,{"data-state":zU(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});VU.displayName=UU;var abe="RadioBubbleInput",qU=g.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=g.useRef(null),l=Zt(o,i),u=Mw(r),f=vw(t);return g.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==r&&y){const w=new Event("click",{bubbles:n});y.call(h,r),h.dispatchEvent(w)}},[u,r,n]),s.jsx(It.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qU.displayName=abe;function zU(e){return e?"checked":"unchecked"}var ibe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yw="RadioGroup",[obe,URe]=da(Yw,[jw,BU]),HU=jw(),WU=BU(),[lbe,cbe]=obe(Yw),GU=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:u,dir:f,loop:h=!0,onValueChange:p,...x}=e,y=HU(r),w=pw(f),[b,N]=Ao({prop:i,defaultProp:a??"",onChange:p,caller:Yw});return s.jsx(lbe,{scope:r,name:n,required:o,disabled:l,value:b,onValueChange:N,children:s.jsx(ML,{asChild:!0,...y,orientation:u,dir:w,loop:h,children:s.jsx(It.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":l?"":void 0,dir:w,...x,ref:t})})})});GU.displayName=Yw;var YU="RadioGroupItem",KU=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=cbe(YU,r),o=i.disabled||n,l=HU(r),u=WU(r),f=g.useRef(null),h=Zt(t,f),p=i.value===a.value,x=g.useRef(!1);return g.useEffect(()=>{const y=b=>{ibe.includes(b.key)&&(x.current=!0)},w=()=>x.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),s.jsx(IL,{asChild:!0,...l,focusable:!o,active:p,children:s.jsx($U,{disabled:o,required:i.required,checked:p,...u,...a,name:i.name,ref:h,onCheck:()=>i.onValueChange(a.value),onKeyDown:gt(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:gt(a.onFocus,()=>{var y;x.current&&((y=f.current)==null||y.click())})})})});KU.displayName=YU;var dbe="RadioGroupIndicator",QU=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=WU(r);return s.jsx(VU,{...a,...n,ref:t})});QU.displayName=dbe;var ube=GU,fbe=KU,hbe=QU;function Qm({className:e,...t}){return s.jsx(ube,{"data-slot":"radio-group",className:Ze("grid gap-3",e),...t})}function yo({className:e,...t}){return s.jsx(fbe,{"data-slot":"radio-group-item",className:Ze("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(hbe,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:s.jsx(tQ,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const XU="/assets/IMG-20250724-WA0006-BCVILs9C.jpg",mbe="/product-orders",pbe=async e=>Ur(`${mbe}/with-subscriptions`,e);var $m=(e=>(e.HandDelivery="HandDelivery",e.Courier="Courier",e))($m||{});const Kw="/admin/areamasters",xbe=async e=>Ur(Kw,e),gbe=async e=>ut(Kw,e),ybe=async(e,t)=>Js(`${Kw}/${e}`,t),vbe=async e=>Ln(`${Kw}/${e}`),E4=async()=>(await ut("/api/public/area-masters")).data,bbe=e=>{if(!e||e.trim()==="")return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t.map(r=>String(r).trim()).filter(Boolean)}catch{}if(e.includes(","))return e.split(",").map(t=>t.trim()).filter(Boolean);if(e.includes(";"))return e.split(";").map(t=>t.trim()).filter(Boolean);if(e.includes("|"))return e.split("|").map(t=>t.trim()).filter(Boolean);{const t=e.trim().split(/\s+/);return t.length>1?t.filter(Boolean):[e.trim()]}},Tp=(e,t)=>{if(!e||e.length!==6||!/^\d{6}$/.test(e))return{isValid:!1,matchedAreas:[],message:"Please enter a valid 6-digit pincode"};const r=t.filter(n=>bbe(n.pincodes).includes(e));return r.length>0?{isValid:!0,matchedAreas:r,message:`Great! We deliver to ${e}`}:{isValid:!1,matchedAreas:[],message:`We currently do not serve ${e}, but we're expanding!`}},Sy="/api/admin/cities",wbe=async(e={})=>{try{return await ut(Sy,e)}catch(t){throw console.error("Failed to fetch cities:",t),t}},Ey=async()=>{try{const e=await ut(Sy,{limit:1e3});return console.log("Response returned ",e),e.cities}catch(e){throw console.error("Failed to fetch cities list:",e),e}},Nbe=async e=>{try{return await Ur(Sy,e)}catch(t){throw console.error("Failed to create city:",t),t}},jbe=async(e,t)=>{try{return await Js(`${Sy}/${e}`,t)}catch(r){throw console.error(`Failed to update city ${e}:`,r),r}},Sbe=async e=>{try{await Ln(`${Sy}/${e}`)}catch(t){throw console.error(`Failed to delete city ${e}:`,t),t}},A4=async e=>{const t=await Ur("/api/leads",e);if(!t.success||!t.data)throw new Error(t.message||"Failed to create lead");return t.data},Ebe=Bfe,ZU=g.createContext({}),Io=({...e})=>s.jsx(ZU.Provider,{value:{name:e.name},children:s.jsx($r,{...e})}),C4=()=>{const e=g.useContext(ZU),t=g.useContext(JU),{getFieldState:r}=xy(),n=A9({name:e.name}),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},JU=g.createContext({});function li({className:e,...t}){const r=g.useId();return s.jsx(JU.Provider,{value:{id:r},children:s.jsx("div",{"data-slot":"form-item",className:Ze("grid gap-2",e),...t})})}function oo({className:e,...t}){const{error:r,formItemId:n}=C4();return s.jsx(je,{"data-slot":"form-label","data-error":!!r,className:Ze("data-[error=true]:text-destructive",e),htmlFor:n,...t})}function ci({...e}){const{error:t,formItemId:r,formDescriptionId:n,formMessageId:a}=C4();return s.jsx(nw,{"data-slot":"form-control",id:r,"aria-describedby":t?`${n} ${a}`:`${n}`,"aria-invalid":!!t,...e})}function Vd({className:e,...t}){const{error:r,formMessageId:n}=C4(),a=r?String((r==null?void 0:r.message)??""):t.children;return a?s.jsx("p",{"data-slot":"form-message",id:n,className:Ze("text-destructive text-sm",e),...t,children:a}):null}ys({name:at().min(1,"Name is required").min(2,"Name must be at least 2 characters"),mobile:at().min(1,"Mobile number is required").regex(/^\d{10,}$/,"Mobile number must be at least 10 digits and contain only numbers"),email:at().email("Invalid email address").optional().or(zm("")),plotBuilding:at().min(1,"Flat/House/Plot number is required"),streetArea:at().min(1,"Street/Area name is required"),landmark:at().optional(),pincode:at().min(1,"Pincode is required").regex(/^\d{6}$/,"Pincode must be exactly 6 digits"),city:at().min(1,"City is required"),state:at().min(1,"State is required"),notes:at().optional()});const eV=({isOpen:e,onOpenChange:t,productName:r,areaName:n,message:a})=>{const i=()=>{t(!1)};return s.jsx(Xr,{open:e,onOpenChange:t,children:s.jsxs(Zr,{className:"w-full max-w-md mx-auto p-0 max-h-[90vh] overflow-hidden",children:[s.jsxs(rs,{className:"px-6 py-6 text-center bg-gradient-to-r from-green-50 to-blue-50",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(Ka,{className:"h-8 w-8 text-green-600"})})}),s.jsx(ss,{className:"text-xl font-semibold text-gray-900 mb-2",children:"Thank You for Your Interest!"}),s.jsx(la,{className:"text-gray-600 leading-relaxed",children:a||`We're excited about your interest in ${r||"our dairy products"}${n?` for ${n}`:""}!`})]}),s.jsxs("div",{className:"px-6 py-4",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(yu,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"We've noted your location"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Your details have been saved and we're working hard to expand our dairy delivery services to your area."})]})]})}),s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(SE,{className:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-orange-900 mb-1",children:"We'll reach out to you shortly"}),s.jsx("p",{className:"text-sm text-orange-700",children:"Our team will contact you as soon as we begin serving your area. Thank you for your patience!"})]})]})})]}),s.jsx(Xa,{className:"px-6 py-4 bg-gray-50",children:s.jsx(pe,{onClick:i,className:"w-full bg-primary hover:bg-primary/90 text-white",children:"Got it, Thank You!"})})]})})},T4=({isOpen:e,onOpenChange:t,productId:r,productName:n,isDairyProduct:a=!1,message:i,prefilledData:o={},onSuccess:l})=>{const[u,f]=g.useState({name:o.recipientName||"",mobile:o.mobile||"",email:"",plotBuilding:o.plotBuilding||"",streetArea:o.streetArea||"",landmark:o.landmark||"",pincode:o.pincode||"",city:o.city||"Dombivli",state:o.state||"Maharashtra",productId:r,isDairyProduct:a,notes:`Service request for ${n||"product"} in ${o.pincode||"unspecified area"}`}),[h,p]=g.useState({}),[x,y]=g.useState(!1),[w,b]=g.useState(!1);g.useEffect(()=>{f({name:o.recipientName||"",mobile:o.mobile||"",email:"",plotBuilding:o.plotBuilding||"",streetArea:o.streetArea||"",landmark:o.landmark||"",pincode:o.pincode||"",city:o.city||"Dombivli",state:o.state||"Maharashtra",productId:r,isDairyProduct:a,notes:`Service request for ${n||"product"} in ${o.pincode||"unspecified area"}`})},[o,r,n,a]);const N=(_,C)=>{f(k=>({...k,[_]:C})),h[_]&&p(k=>({...k,[_]:""}))},j=()=>{const _={};return u.name.trim()||(_.name="Name is required"),u.mobile.trim()?/^\d{10}$/.test(u.mobile.trim())||(_.mobile="Mobile must be 10 digits"):_.mobile="Mobile is required",u.plotBuilding.trim()||(_.plotBuilding="Plot/Building is required"),u.streetArea.trim()||(_.streetArea="Street/Area is required"),u.pincode.trim()?/^\d{6}$/.test(u.pincode.trim())||(_.pincode="Pincode must be 6 digits"):_.pincode="Pincode is required",u.city.trim()||(_.city="City is required"),u.state.trim()||(_.state="State is required"),p(_),Object.keys(_).length===0},S=async _=>{if(_.preventDefault(),!!j()){y(!0);try{await A4(u),setTimeout(()=>{b(!0),he.success("Thank you! We'll notify you when service is available in your area.")},2e3),setTimeout(()=>{l==null||l(),t(!1)},2e3)}catch(C){console.error("Failed to submit lead:",C),he.error("Failed to submit request. Please try again.")}finally{y(!1)}}},A=()=>{t(!1)};return w?s.jsx(Xr,{open:e,onOpenChange:t,children:s.jsx(Zr,{className:"w-full max-w-lg mx-auto p-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ka,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Request Submitted Successfully!"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Thank you for your interest! We've saved your details and will contact you as soon as we start serving your area."}),n&&s.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["We'll prioritize ",s.jsx("strong",{children:n})," availability in your region."]})]})]})})}):s.jsx(Xr,{open:e,onOpenChange:t,children:s.jsxs(Zr,{className:"w-full max-w-2xl mx-auto p-0 max-h-[90vh] flex flex-col overflow-hidden",children:[s.jsx(rs,{className:"px-6 py-4 border-b bg-gradient-to-r from-blue-50 to-green-50 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(yu,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx(ss,{className:"text-lg font-semibold text-gray-900",children:"Request Service in Your Area"}),s.jsx(la,{className:"text-sm text-gray-600 mt-1",children:i||"Help us prioritize expanding our delivery network to your location"})]})]})}),s.jsx("div",{className:"p-6 space-y-4 overflow-y-auto flex-1",children:s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[n&&s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Product of Interest:"}),s.jsx("span",{className:"text-sm text-blue-700",children:n}),a&&s.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full",children:"Dairy Product"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"name",className:"text-sm font-medium mb-1 block",children:"Full Name *"}),s.jsx(Ge,{id:"name",value:u.name,onChange:_=>N("name",_.target.value),placeholder:"Your full name",className:h.name?"border-red-500":""}),h.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.name})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"mobile",className:"text-sm font-medium mb-1 block",children:"Mobile Number *"}),s.jsx(Ge,{id:"mobile",type:"tel",max:10,value:u.mobile,onChange:_=>{const C=_.target.value.replace(/\D/g,"").slice(0,10);N("mobile",C)},placeholder:"10-digit mobile number",maxLength:10,className:h.mobile?"border-red-500":""}),h.mobile&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.mobile})]})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"email",className:"text-sm font-medium mb-1 block",children:"Email Address (Optional)"}),s.jsx(Ge,{id:"email",type:"email",value:u.email,onChange:_=>N("email",_.target.value),placeholder:"your.email@example.com"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"plotBuilding",className:"text-sm font-medium mb-1 block",children:"Plot/Building *"}),s.jsx(Ge,{id:"plotBuilding",value:u.plotBuilding,onChange:_=>N("plotBuilding",_.target.value),placeholder:"Plot number, building name",className:h.plotBuilding?"border-red-500":""}),h.plotBuilding&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.plotBuilding})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"streetArea",className:"text-sm font-medium mb-1 block",children:"Street/Area *"}),s.jsx(Ge,{id:"streetArea",value:u.streetArea,onChange:_=>N("streetArea",_.target.value),placeholder:"Street name, area",className:h.streetArea?"border-red-500":""}),h.streetArea&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.streetArea})]})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"landmark",className:"text-sm font-medium mb-1 block",children:"Landmark (Optional)"}),s.jsx(Ge,{id:"landmark",value:u.landmark,onChange:_=>N("landmark",_.target.value),placeholder:"Nearby landmark"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"pincode",className:"text-sm font-medium mb-1 block",children:"Pincode *"}),s.jsx(Ge,{id:"pincode",value:u.pincode,onChange:_=>{const C=_.target.value.replace(/\D/g,"").slice(0,6);N("pincode",C)},placeholder:"6-digit pincode",maxLength:6,className:h.pincode?"border-red-500":""}),h.pincode&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.pincode})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"city",className:"text-sm font-medium mb-1 block",children:"City *"}),s.jsx(Ge,{id:"city",value:u.city,onChange:_=>N("city",_.target.value),placeholder:"Your city",className:h.city?"border-red-500":""}),h.city&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.city})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"state",className:"text-sm font-medium mb-1 block",children:"State *"}),s.jsxs(Wt,{value:u.state,onValueChange:_=>N("state",_),children:[s.jsx(Yt,{className:h.state?"border-red-500":"",children:s.jsx(Gt,{placeholder:"Select state"})}),s.jsx(Kt,{className:"max-h-60 overflow-y-auto",children:Gw.map(_=>s.jsx(ct,{value:_.label,children:_.label},_.value))})]}),h.state&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.state})]})]}),s.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:s.jsxs("p",{className:"text-sm text-green-700",children:[s.jsx("strong",{children:"What happens next?"})," We'll review your request and contact you as soon as we expand our delivery services to your area. You'll be among the first customers we serve!"]})})]})}),s.jsx(Xa,{className:"p-6 border-t bg-gray-50 flex-shrink-0",children:s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:A,disabled:x,className:"flex-1",children:"Cancel"}),s.jsx(pe,{type:"button",onClick:S,disabled:x,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:x?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Request"})]})})]})})},_4=({pincode:e,isValid:t,message:r,isValidating:n=!1,showServiceRequest:a=!1,onRequestService:i})=>n?s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Validating pincode..."})]}):!e||e.length<6?s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-gray-50 border border-gray-200 rounded-md",children:[s.jsx(_I,{className:"h-4 w-4 text-gray-500"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Enter your 6-digit pincode to check delivery availability"})]}):t?s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:[s.jsx(Jb,{className:"h-4 w-4 text-green-600"}),s.jsx("p",{className:"text-sm text-green-700",children:r})]}):s.jsxs("div",{className:"mt-2 p-3 bg-orange-50 border border-orange-200 rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Bi,{className:"h-4 w-4 text-orange-600"}),s.jsx("p",{className:"text-sm text-orange-700",children:r})]}),a&&i&&s.jsxs(pe,{type:"button",variant:"outline",size:"sm",onClick:i,className:"mt-2 text-white bg-secondary border-secondary hover:bg-secondary",children:[s.jsx(yu,{className:"h-4 w-4 mr-2"}),"Click Here to Request Service in Your Area"]})]}),tV=({isOpen:e,onOpenChange:t,title:r,message:n,orderDetails:a,subscriptionDetails:i})=>{const o=()=>{t(!1)};return s.jsx(Xr,{open:e,onOpenChange:t,children:s.jsx(Zr,{className:"w-full max-w-md mx-auto p-0 overflow-hidden",children:s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6",children:[s.jsxs(rs,{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ka,{className:"w-8 h-8 text-green-600"})}),s.jsx(ss,{className:"text-xl font-semibold text-green-800",children:r}),s.jsx("p",{className:"text-green-700 text-sm",children:n})]}),a&&s.jsxs("div",{className:"mt-6 bg-white rounded-lg p-4 space-y-3",children:[s.jsxs("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[s.jsx(qi,{className:"w-4 h-4"}),"Order Details"]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.orderId&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Order ID:"}),s.jsx("span",{className:"font-medium",children:a.orderId})]}),a.productName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Product:"}),s.jsx("span",{className:"font-medium",children:a.productName})]}),a.quantity&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Quantity:"}),s.jsx("span",{className:"font-medium",children:a.quantity})]}),a.deliveryDate&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Delivery Date:"}),s.jsxs("span",{className:"font-medium flex items-center gap-1",children:[s.jsx(Qn,{className:"w-3 h-3"}),Lt(a.deliveryDate,"MMM dd, yyyy")]})]}),a.totalAmount&&s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"font-medium",children:"Total Amount:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",a.totalAmount.toFixed(2)]})]})]})]}),i&&s.jsxs("div",{className:"mt-6 bg-white rounded-lg p-4 space-y-3",children:[s.jsxs("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[s.jsx(qi,{className:"w-4 h-4"}),"Subscription Details"]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.subscriptionId&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subscription ID:"}),s.jsx("span",{className:"font-medium",children:i.subscriptionId})]}),i.productName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Product:"}),s.jsx("span",{className:"font-medium",children:i.productName})]}),i.quantity&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Quantity:"}),s.jsx("span",{className:"font-medium",children:i.quantity})]}),i.period&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Period:"}),s.jsx("span",{className:"font-medium",children:i.period})]}),i.startDate&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Start Date:"}),s.jsxs("span",{className:"font-medium flex items-center gap-1",children:[s.jsx(Qn,{className:"w-3 h-3"}),Lt(i.startDate,"MMM dd, yyyy")]})]}),i.totalAmount&&s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"font-medium",children:"Total Amount:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",i.totalAmount.toFixed(2)]})]})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(pe,{onClick:o,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:"Continue Shopping"})})]})})})},n1=[{id:"mon",label:"Mon",fullName:"Monday"},{id:"tue",label:"Tue",fullName:"Tuesday"},{id:"wed",label:"Wed",fullName:"Wednesday"},{id:"thu",label:"Thu",fullName:"Thursday"},{id:"fri",label:"Fri",fullName:"Friday"},{id:"sat",label:"Sat",fullName:"Saturday"},{id:"sun",label:"Sun",fullName:"Sunday"}],RS=[{value:3,label:"3 Days (Trial Pack)"},{value:15,label:"15 Days (Mid Saver Pack)"},{value:30,label:"30 Days (Super Saver Pack)"}],Abe=({isOpen:e,onOpenChange:t,product:r,productId:n,depotId:a,selectedDepot:i})=>{var Pe,Ke,Oe,$e,Ve;const[o,l]=g.useState(1),[u,f]=g.useState(1),[h,p]=g.useState("daily"),[x,y]=g.useState(()=>{const Y=new Date;return Y.setDate(Y.getDate()+3),Y}),[w,b]=g.useState(!1),[N,j]=g.useState(3),[S,A]=g.useState([]),[_,C]=g.useState(!1),[k,T]=g.useState([]),[O,R]=g.useState([]),[L,M]=g.useState(!1),[G,V]=g.useState(null),[ie,le]=g.useState("subscriptionDetails"),[B,U]=g.useState({}),[F,W]=g.useState(""),[q,Q]=g.useState(0),[P,X]=g.useState([]),[K,H]=g.useState(!1),[J,ce]=g.useState(!0),[ae,ee]=g.useState([]),[ne,ke]=g.useState([]),[we,et]=g.useState(null),[Ee,Te]=g.useState([]),[Fe,ue]=g.useState(null),[Ce,De]=g.useState([]),[Et,_t]=g.useState(!1),[xe,Ae]=g.useState(""),[Ie,ft]=g.useState({isValid:!1,message:"",isValidating:!1}),[ht,tt]=g.useState(!1),[xt,Vt]=g.useState(!1),[ar,Pr]=g.useState({});g.useEffect(()=>{const Y=ge=>{const be=N<15&&ge==="alternate-days",Me=N<7&&ge==="day1-day2",qe=N<30&&ge==="select-days";return be||Me||qe?"daily":ge};_?A(ge=>ge.map(be=>({...be,deliveryOption:Y(be.deliveryOption)}))):p(Y(h))},[N,_]);const[mt,ns]=g.useState({recipientName:"",mobile:F||"",plotBuilding:"",streetArea:"",landmark:"",city:"Dombivli",state:"Maharashtra",pincode:"",isDefault:!1,label:"Home",locationId:void 0}),os=(Y,ge)=>{ns(be=>({...be,[Y]:ge})),B[Y]&&U(be=>({...be,[Y]:""})),Y==="pincode"&&typeof ge=="string"&&Fe?Hr(ge):Y==="pincode"&&typeof ge=="string"&&!Fe&&ft({isValid:!1,message:"",isValidating:!1})},Hr=(Y,ge)=>{const be=ge||Fe;if(console.log("validatePincode called with:",{pincode:Y,currentAreaMaster:be==null?void 0:be.name}),!Y||Y.length<6){ft({isValid:!1,message:"",isValidating:!1});return}if(!be){ft({isValid:!1,message:"Please select a delivery area first to validate your pincode",isValidating:!1});return}if(Y.length===6&&/^\d{6}$/.test(Y)){ft({isValid:!1,message:"",isValidating:!0}),console.log("Selected area master pincodes:",be.pincodes);const Me=Tp(Y,[be]);console.log("Pincode validation result:",Me),ft({isValid:Me.isValid,message:Me.isValid?"Great ! We deliver in your location":"Milk Facility is Not available in your pincode. Please check your pincode or select a different area.",isValidating:!1})}else ft({isValid:!1,message:"Please enter a valid 6-digit pincode",isValidating:!1})},ls=()=>{console.log("handleRequestService called with form state:",{pincode:mt.pincode,selectedArea:Fe==null?void 0:Fe.name,city:mt.city});const Y=Fe?`We currently don't serve pincode ${mt.pincode} in ${Fe.name}. Help us prioritize expanding to your area!`:`We currently don't serve pincode ${mt.pincode}. Help us prioritize expanding to your area!`;Ae(Y),tt(!0)},cs=Y=>{const{name:ge,value:be}=Y.target;os(ge,be)},Us=Y=>{os("label",Y)},Vr=Y=>{const ge=Number(Y);return Number.isFinite(ge)&&ge>0?ge:void 0},Dn=Y=>{var ge;return{id:((ge=Y.id)==null?void 0:ge.toString())||Y.id,name:Y.name,mrp:Vr(Y.mrp),buyOncePrice:Vr(Y.buyOncePrice),price3Day:Vr(Y.price3Day),price15Day:Vr(Y.price15Day),price1Month:Vr(Y.price1Month),unit:Y.name,description:Y.description,isAvailable:Y.isAvailable??!0}},Vs=(Y,ge)=>{const be=qe=>Number.isFinite(qe)&&qe>0?qe:void 0;let Me;switch(ge){case 3:Me=be(Y.price3Day);break;case 15:Me=be(Y.price15Day);break;case 30:Me=be(Y.price1Month);break}return Me??Y.buyOncePrice??Y.mrp??0},_e=g.useCallback(async(Y,ge)=>{if(!(!Y||ge==null))try{const be=await ut(`/public/depot-variants/${Y}?depotId=${ge}`),Me=(be==null?void 0:be.data)||be;if(Me&&Array.isArray(Me)&&Me.length>0){const qe=Me.map(lt=>Dn(lt));T(qe),C(!0),S.length===0&&A([{variantId:qe[0].id,quantity:1,quantityVarying2:1,deliveryOption:"daily",selectedDays:[]}])}else T([]),C(!1)}catch(be){console.error("Failed to fetch product variants:",be),he.error("Could not load product variants."),T([]),C(!1)}},[S.length]);g.useEffect(()=>{const Y=async()=>{try{const be=await E4();Te(be),De(be)}catch(be){console.error("Failed to fetch area masters:",be),he.error("Could not load delivery areas.")}},ge=async()=>{try{const be=await Ey();ke(be)}catch(be){console.error("Failed to fetch cities:",be),he.error("Could not load cities.")}};e?(n&&a!=null&&_e(n,a),Y(),ge()):(T([]),C(!1),A([]),et(null),ue(null),le("subscriptionDetails"))},[e,n,a,_e]),g.useEffect(()=>{if(we&&Ee.length>0){const Y=Ee.filter(ge=>{var be;return ge.cityId?ge.cityId===we:(be=ge.city)!=null&&be.id?ge.city.id===we:!1});De(Y)}else De(Ee)},[we,Ee]),g.useEffect(()=>{Fe&&we&&Ce.length>0&&(Ce.some(ge=>ge.id===Fe.id)||(ue(null),ft({isValid:!1,message:"",isValidating:!1})))},[Ce,Fe,we]),g.useEffect(()=>{Fe||ft({isValid:!1,message:"",isValidating:!1})},[Fe]);const wt=(Y,ge)=>{A(be=>be.map(Me=>Me.variantId===Y?{...Me,deliveryOption:ge,selectedDays:ge==="select-days"?Me.selectedDays:[]}:Me))},st=(Y,ge)=>{A(be=>be.map(Me=>{if(Me.variantId===Y){const qe=Me.selectedDays.includes(ge)?Me.selectedDays.filter(lt=>lt!==ge):[...Me.selectedDays,ge];return{...Me,selectedDays:qe}}return Me}))},Nt=(Y,ge,be)=>{A(Me=>Me.map(qe=>qe.variantId===Y?{...qe,[ge]:Math.max(1,be)}:qe))},qt=Y=>{switch(Y.deliveryOption){case"daily":return N;case"select-days":if(Y.selectedDays.length===0)return 0;const ge=Y.selectedDays.map(lt=>{switch(lt){case"mon":return 1;case"tue":return 2;case"wed":return 3;case"thu":return 4;case"fri":return 5;case"sat":return 6;case"sun":return 0;default:return-1}}).filter(lt=>lt>=0);if(!x)return 0;let be=0;const Me=new Date(x),qe=new Date(x);qe.setDate(qe.getDate()+N-1);for(let lt=new Date(Me);lt<=qe;lt.setDate(lt.getDate()+1)){const Rt=lt.getDay();ge.includes(Rt)&&be++}return be;case"day1-day2":return N;case"alternate-days":return x?Math.ceil(N/2):0;default:return N}};g.useEffect(()=>{e&&n&&a!=null?_e(n,a):e||(T([]),C(!1),A([]))},[e,n,a,_e]),g.useEffect(()=>{(async()=>{if(localStorage.getItem("authToken"))try{const be=await ut("/users/me");be&&be.mobile&&W(be.mobile)}catch(be){console.error("Failed to fetch user profile:",be)}})()},[]),g.useEffect(()=>{F&&ns(Y=>({...Y,mobile:F}))},[F]);const mr=()=>{le("subscriptionDetails"),ns({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",city:"Dombivli",state:"Maharashtra",pincode:"",isDefault:!1,label:"Home",locationId:void 0}),U({})},Gs=()=>{var ge,be,Me,qe,lt,Rt,zt,hr,Ss,vr;const Y={};if((ge=mt==null?void 0:mt.recipientName)!=null&&ge.trim()||(Y.recipientName="Recipient name is required."),(be=mt==null?void 0:mt.mobile)!=null&&be.trim()?/^\d{10}$/.test(mt.mobile.trim())||(Y.mobile="Mobile number must be 10 digits."):Y.mobile="Mobile number is required.",(Me=mt==null?void 0:mt.plotBuilding)!=null&&Me.trim()||(Y.plotBuilding="Plot/Building is required."),(qe=mt==null?void 0:mt.streetArea)!=null&&qe.trim()||(Y.streetArea="Street/Area is required."),(lt=mt==null?void 0:mt.pincode)!=null&&lt.trim()?/^\d{6}$/.test(mt.pincode.trim())||(Y.pincode="Pincode must be 6 digits."):Y.pincode="Pincode is required.",(Rt=mt==null?void 0:mt.city)!=null&&Rt.trim()||(Y.city="City is required."),(zt=mt==null?void 0:mt.state)!=null&&zt.trim()||(Y.state="State is required."),(hr=mt==null?void 0:mt.label)!=null&&hr.trim()||(Y.label="Address label is required."),Fe||(Y.areaMaster="Please select a delivery area from our service locations."),(Ss=mt==null?void 0:mt.pincode)!=null&&Ss.trim()&&Fe){const as=Tp(mt.pincode.trim(),[Fe]);console.log("Form validation - pincode check:",{pincode:mt.pincode,areaMaster:Fe.name,isValid:as.isValid,message:as.message}),as.isValid||(Y.pincode=`Pincode ${mt.pincode} is not served by ${Fe.name}. Please select a different area or request service.`)}return(vr=mt==null?void 0:mt.pincode)!=null&&vr.trim()&&!Fe&&Ee.length>0&&(Y.areaMaster="Please select a delivery area first, then enter your pincode to validate coverage."),console.log("Address validation:",{selectedAreaMaster:Fe==null?void 0:Fe.name,pincode:mt==null?void 0:mt.pincode,areaMastersCount:Ee.length,filteredAreaMastersCount:Ce.length,errors:Y}),U(Y),Object.keys(Y).length===0},Jr=()=>{const Y={};if(!x)Y.startDate="Start date is required.";else{const ge=new Date;ge.setDate(ge.getDate()+3),ge.setHours(0,0,0,0),x<ge&&(Y.startDate="Start date must be at least 3 days from today.")}if(_&&S.length>0){let ge=!0;S.forEach(be=>{be.deliveryOption==="select-days"&&be.selectedDays.length===0&&(ge=!1)}),ge||(Y.variantSchedules="Please select delivery days for all variants with 'Select Days' option.")}else h==="select-days"&&P.length===0&&(Y.selectedDays="Please select at least one delivery day.");return i!=null&&i.isOnline?(G==null||String(G).trim()==="")&&(Y.selectedAddressId="Please select a delivery address."):(i==null?void 0:i.address)==null&&(Y.depotAddress="Depot address information is missing. Please contact support."),_&&S.length===0&&(Y.selectedVariants="Please select at least one variant."),U(Y),Object.keys(Y).length===0},Er={getUserAddresses:async()=>{try{M(!0);const Y=await ut("/delivery-addresses"),ge=Array.isArray(Y)?Y.map(be=>({id:be.id.toString(),recipientName:be.recipientName||"",mobile:be.mobile||"",plotBuilding:be.plotBuilding||"",streetArea:be.streetArea||"",landmark:be.landmark||"",city:be.city||"",state:be.state||"",pincode:be.pincode||"",isDefault:be.isDefault||!1,label:be.label||be.type||"Home"})):[];return R(ge),ge.length>0&&!G&&V(ge[0].id),ge}catch(Y){return console.error("Error fetching addresses:",Y),[]}finally{M(!1)}},createUserAddress:async Y=>{try{const ge=await Ur("/delivery-addresses",Y),be={id:ge.id.toString(),recipientName:ge.recipientName||"",mobile:ge.mobile||"",plotBuilding:ge.plotBuilding||"",streetArea:ge.streetArea||"",landmark:ge.landmark||"",city:ge.city||"",state:ge.state||"",pincode:ge.pincode||"",isDefault:ge.isDefault||!1,label:ge.label||ge.type||Y.label||"Home"};return R(Me=>[...Me,be]),V(be.id),be}catch(ge){throw console.error("Error creating address:",ge),ge}}};g.useEffect(()=>{e&&(async()=>{try{const Y=await ut("/api/wallet/balance");let ge=0;typeof Y=="number"?ge=Y:Y&&typeof Y.balance=="number"?ge=Y.balance:Y&&Y.data&&typeof Y.data.balance=="number"&&(ge=Y.data.balance),Q(ge)}catch(Y){console.error("Failed to fetch wallet balance",Y)}})()},[e]),g.useEffect(()=>{e&&ie==="subscriptionDetails"&&(i!=null&&i.isOnline)&&Er.getUserAddresses().then(Y=>{Y.length>0&&!G&&Y.length>0&&V(Y[0].id)}).catch(Y=>console.error("Error loading addresses:",Y)),e||le("subscriptionDetails")},[e,ie,i==null?void 0:i.isOnline]);const ds=async()=>{if(!Gs())return;if((r==null?void 0:r.isDairyProduct)&&Fe&&!Fe.isDairyProduct){const ge={name:mt.recipientName,mobile:mt.mobile,email:"",plotBuilding:mt.plotBuilding,streetArea:mt.streetArea,landmark:mt.landmark||"",pincode:mt.pincode,city:mt.city,state:mt.state,productId:r.id,isDairyProduct:!0,notes:`Lead captured from subscription modal for area: ${Fe.name}`};try{await A4(ge),he.success("Thank you for your interest! We've noted your details and will contact you when we expand dairy delivery to your area."),Ae(`We don't currently serve dairy products in ${Fe.name}. However, we'd love to expand our dairy delivery services to your area! We've saved your details and will notify you when service becomes available.`),_t(!0),ns({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"",state:"",isDefault:!1,label:"Home"}),ue(null),le("subscriptionDetails")}catch(be){console.error("Failed to save lead:",be),he.error("An error occurred while saving your information. Please try again.")}}else{const ge={...mt};try{await Er.createUserAddress(ge),he.success("Address saved successfully!"),le("subscriptionDetails"),ns({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"",state:"",isDefault:!1,label:"Home"})}catch(be){console.error("Failed to save address:",be),he.error("An error occurred while saving your address. Please try again.")}}},Mr=async Y=>{if(console.log("handleAreaMasterSelection called with:",Y.name),ue(Y),B.areaMaster&&U(ge=>({...ge,areaMaster:""})),r!=null&&r.isDairyProduct&&!Y.isDairyProduct){const ge=`We don't currently serve dairy products in ${Y.name}. However, we'd love to expand our dairy delivery services to your area!`;Ae(ge)}else Ae("");mt.pincode&&mt.pincode.length===6&&(console.log("Revalidating pincode against newly selected area:",{pincode:mt.pincode,areaMaster:Y.name}),Hr(mt.pincode,Y))},Ts=Y=>{P.includes(Y)?X(P.filter(ge=>ge!==Y)):X([...P,Y])},Fa=()=>{if(!_&&h==="select-days"&&P.length<3){he.error("Please select at least 3 delivery days.");return}if(_&&S.some(Y=>Y.deliveryOption==="select-days"&&Y.selectedDays.length<3)){he.error("Please select at least 3 delivery days for all selected variants.");return}if(i!=null&&i.isOnline&&G==null){console.error("No address selected. Please select or add an address."),he.error("Please select a delivery address");return}if(!(i!=null&&i.isOnline)&&(i==null?void 0:i.address)==null){he.error("Depot address information is missing. Please contact support.");return}le("confirmation")},wn=(Y,ge)=>{const be=qe=>Number.isFinite(qe)&&qe>0?qe:void 0;let Me;switch(ge){case 3:Me=be(Y.price3Day);break;case 15:Me=be(Y.price15Day);break;case 30:Me=be(Y.price1Month);break}return Me??Y.buyOncePrice??Y.mrp??0},Z=()=>{const Y={mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:0};switch(h){case"daily":return N;case"select-days":{if(!x||P.length===0)return 0;const ge=P.map(qe=>Y[qe]).filter(qe=>qe!==void 0);let be=0;const Me=new Date(x);Me.setDate(Me.getDate()+N-1);for(let qe=new Date(x);qe<=Me;qe.setDate(qe.getDate()+1))ge.includes(qe.getDay())&&be++;return be}case"day1-day2":return N;case"alternate-days":return Math.ceil(N/2);default:return N}},fe=()=>{if(!_||S.length===0){if(!r)return 0;const Me=Z(),qe=r.mrp||r.buyOncePrice||0,lt=wn(r,N);if(lt>=qe)return 0;let Rt=0;if(h==="day1-day2"){const vr=Math.ceil(N/2),as=Math.floor(N/2);Rt=o*vr+u*as}else Rt=o*Me;const zt=qe*Rt,hr=lt*Rt;return Math.max(0,zt-hr)}let Y=0,ge=0;return S.forEach(Me=>{const qe=k.find(Ss=>Ss.id===Me.variantId);if(!qe)return;const lt=qe.mrp||qe.buyOncePrice||0,Rt=Vs(qe,N),zt=qt(Me);let hr=0;switch(Me.deliveryOption){case"daily":case"select-days":case"alternate-days":hr=Me.quantity*zt;break;case"day1-day2":const Ss=Math.ceil(N/2),vr=Math.floor(N/2);hr=Me.quantity*Ss+(Me.quantityVarying2||1)*vr;break}Y+=lt*hr,ge+=Rt*hr}),Math.max(0,Y-ge)},oe=async()=>{var Me,qe;if(!Jr())return;if(r!=null&&r.isDairyProduct&&Fe&&!Fe.isDairyProduct){_t(!0);return}const Y=i!=null&&i.isOnline?G:i==null?void 0:i.address;if(r==null||n==null||Y==null||x==null){const lt=[];r==null&&lt.push("product information"),n==null&&lt.push("product ID"),Y==null&&(i!=null&&i.isOnline?lt.push("delivery address"):lt.push("depot address information")),x==null&&lt.push("start date");const Rt=`Missing: ${lt.join(", ")}. Please ensure all required information is provided.`;he.error(Rt);return}let ge=[];if(_)ge=S.filter(lt=>lt.quantity>0).map(lt=>{const Rt=lt.deliveryOption,zt={productId:parseInt(lt.variantId,10),period:N,startDate:x.toISOString(),deliverySchedule:Rt,qty:lt.quantity,internalScheduleLogicType:Rt};return(Rt==="select-days"||Rt==="SELECT-DAYS")&&(zt.weekdays=lt.selectedDays),Rt==="day1-day2"&&(zt.altQty=lt.quantityVarying2),zt});else{const lt=h,Rt={productId:parseInt(n,10),period:N,startDate:x.toISOString(),deliverySchedule:lt,qty:o,internalScheduleLogicType:lt};(lt==="select-days"||lt==="SELECT-DAYS")&&(Rt.weekdays=P),lt==="day1-day2"&&(Rt.altQty=u),ge.push(Rt)}if(ge.length===0){he.error("Please set a quantity for at least one subscription.");return}const be={subscriptions:ge,deliveryAddressId:String(Y),walletamt:J?de:0};try{H(!0);const lt=await pbe(be),Rt=(se==null?void 0:se.totalPrice)||0,zt=J?Rt-de:Rt;Pr({subscriptionId:(lt==null?void 0:lt.subscriptionId)||`SUB-${Date.now()}`,totalAmount:zt}),Vt(!0),t(!1)}catch(lt){console.error("Failed to create subscription:",lt);const Rt=((qe=(Me=lt.response)==null?void 0:Me.data)==null?void 0:qe.message)||"An unexpected error occurred.";he.error(`Failed to create subscription: ${Rt}`)}finally{H(!1)}},se=g.useMemo(()=>{var Me;if(!r)return null;let Y=0,ge=0,be="";if(_&&S.length>0)S.forEach(qe=>{const lt=k.find(vr=>vr.id===qe.variantId);if(!lt)return;const Rt=qt(qe);let zt=0;switch(qe.deliveryOption){case"daily":case"select-days":zt=qe.quantity*Rt;break;case"day1-day2":const vr=Math.ceil(N/2),as=Math.floor(N/2);zt=qe.quantity*vr+(qe.quantityVarying2||1)*as;break;case"alternate-days":zt=qe.quantity*Math.ceil(N/2);break}const Ss=Vs(lt,N)*zt;Y+=zt,ge+=Ss}),be=`${S.length} variant${S.length>1?"s":""} `;else{let qe=0;switch(h){case"daily":qe=N,Y=o*qe,be=`Daily delivery of ${o} item${o>1?"s":""}`;break;case"select-days":if(P.length===0)qe=0,Y=0,be="No days selected";else{const hr=P.map(vr=>{switch(vr){case"mon":return 1;case"tue":return 2;case"wed":return 3;case"thu":return 4;case"fri":return 5;case"sat":return 6;case"sun":return 0;default:return-1}}).filter(vr=>vr>=0);if(qe=0,x){const vr=new Date(x),as=new Date(x);as.setDate(as.getDate()+N-1);for(let Nn=new Date(vr);Nn<=as;Nn.setDate(Nn.getDate()+1)){const ji=Nn.getDay();hr.includes(ji)&&qe++}}Y=o*qe,be=`On ${n1.filter(vr=>P.includes(vr.id)).map(vr=>vr.label).join(", ")||"selected days"}`}break;case"day1-day2":qe=N;const Rt=Math.ceil(N/2),zt=Math.floor(N/2);Y=o*Rt+u*zt,be=`Day1-Day2: ${o} & ${u} Qty`;break;case"alternate-days":qe=Math.ceil(N/2),Y=o*qe,be="Alternate Day, starting from start date";break}ge=wn(r,N)*Y}return{totalQuantity:Y,deliveryDescription:be,totalPrice:ge,period:((Me=RS.find(qe=>qe.value===N))==null?void 0:Me.label)||`${N} days`,startDate:x&&!isNaN(new Date(x).getTime())?Lt(new Date(x),"dd/MM/yyyy"):"Not set",expiryDate:x&&!isNaN(new Date(x).getTime())?Lt(zn(new Date(x),N-1),"dd/MM/yyyy"):"Not set"}},[r,h,N,o,u,P,x,_,S,k]),de=g.useMemo(()=>!se||!J?0:Math.min(q||0,se.totalPrice||0),[q,se,J]),me=g.useMemo(()=>{if(!se)return 0;const Y=se.totalPrice||0;return J?Y-de:Y},[se,de,J]);return r?s.jsxs(Xr,{open:e,onOpenChange:Y=>{t(Y),Y||le("subscriptionDetails")},children:[s.jsxs(Zr,{className:"max-sm:max-w-[95vw] !flex flex-col h-[95vh] p-0 bg-white min-w-[95vw] max-w-2xl rounded-xl gap-0",onPointerDownOutside:Y=>{const ge=Y.target;(ge.closest("[data-radix-popover-content]")||ge.closest(".rdp")||ge.closest(".calendar-day")||ge.closest('[role="gridcell"]'))&&Y.preventDefault()},children:[s.jsxs(rs,{className:"p-4 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs(ss,{className:"text-lg font-semibold text-gray-800",children:["Create Subscription for ",r==null?void 0:r.name]}),s.jsx(la,{className:"text-sm text-gray-600 mt-1",children:"Set up your subscription preferences and delivery details."})]}),s.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[s.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-4 bg-gray-50 min-h-0",children:ie==="subscriptionDetails"?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-600 mb-2 flex items-center gap-1",children:[s.jsx(Qn,{className:"h-3.5 w-3.5"}),"Subscription Period"]}),s.jsx("div",{className:"flex gap-1.5 bg-gray-50 p-1 rounded-lg",children:RS.map(Y=>s.jsx("button",{type:"button",className:`flex-1 h-9 px-3 rounded-md transition-all duration-200 relative ${N===Y.value?"bg-primary text-white shadow-sm":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200"}`,onClick:()=>j(Y.value),children:s.jsxs("div",{className:"flex items-center justify-center h-full",children:[s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"font-semibold text-base",children:Y.value}),s.jsx("span",{className:`text-sm ${N===Y.value?"text-white/90":"text-gray-500"}`,children:"days"})]}),Y.value===30&&s.jsx("span",{className:"absolute -top-2 -right-1 bg-black text-white text-[9px] px-1.5 py-0.5 rounded-full font-medium",children:"Super Saver"}),Y.value===3&&s.jsx("span",{className:"absolute -top-2 -right-1 bg-black text-white text-[9px] px-1.5 py-0.5 rounded-full font-medium",children:"Trial Pack"}),Y.value===15&&s.jsx("span",{className:"absolute -top-2 -right-1 bg-black text-white text-[9px] px-1.5 py-0.5 rounded-full font-medium",children:"Mid Saver"})]})},Y.value))})]}),_&&k.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[s.jsx(qi,{className:"h-3 w-3"}),"Product Variants"]}),s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>A([]),className:"text-sm h-7",disabled:S.length===0,children:"Clear"})]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:overflow-x-auto sm:pb-2 sm:-mx-2 sm:px-2",children:k.map(Y=>{const ge=S.some(Me=>Me.variantId===Y.id),be=S.find(Me=>Me.variantId===Y.id);return s.jsxs("div",{className:`w-full sm:flex-shrink-0 sm:w-72 border rounded-lg p-3 transition-all ${ge?"border-red-500 bg-red-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mt-0.5 cursor-pointer flex-shrink-0 ${ge?"bg-primary border-primary":"border-gray-300"}`,onClick:()=>{A(ge?Me=>Me.filter(qe=>qe.variantId!==Y.id):Me=>[...Me,{variantId:Y.id,quantity:1,quantityVarying2:1,deliveryOption:"daily",selectedDays:[]}])},children:ge&&s.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:Y.name})]}),s.jsxs(Fr,{variant:"outline",className:"bg-green-50 border-green-600 px-2 py-1",children:[Y.mrp&&Y.mrp>Vs(Y,N)?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["",Y.mrp]}),s.jsxs("span",{className:"text-sm text-green-700 font-bold",children:["",Vs(Y,N)]})]}):s.jsxs("span",{className:"text-sm text-green-700 font-bold",children:["",Vs(Y,N)]}),Y.unit&&s.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:["/",Y.unit]})]})]}),Y.description&&s.jsx("p",{className:"text-sm text-gray-600 ml-7",children:Y.description})]}),ge&&be&&s.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-3",children:[s.jsxs("div",{children:[s.jsxs(je,{className:"text-[10px] font-medium text-gray-700 mb-1 block flex items-center gap-0.5",children:[s.jsx(Xx,{className:"h-2.5 w-2.5"}),"Schedule"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-0.5",children:[s.jsx(pe,{variant:be.deliveryOption==="daily"?"default":"outline",size:"sm",className:`h-6 text-sm px-1 ${be.deliveryOption==="daily"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,onClick:()=>wt(Y.id,"daily"),children:"Daily"}),N>=15&&s.jsx(pe,{variant:be.deliveryOption==="alternate-days"?"default":"outline",size:"sm",className:`h-7 text-sm ${be.deliveryOption==="alternate-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every other day",onClick:()=>wt(Y.id,"alternate-days"),children:"Alternate Days"}),N>=7&&s.jsx(pe,{variant:be.deliveryOption==="day1-day2"?"default":"outline",size:"sm",className:`h-7 text-sm ${be.deliveryOption==="day1-day2"?"bg-secondary hover:bg-blue-600":"border-gray-300"} truncate`,title:"Daily Delivery with Varying Quantities",onClick:()=>wt(Y.id,"day1-day2"),children:"Day 1 - Day 2"}),N>=30&&s.jsx(pe,{variant:be.deliveryOption==="select-days"?"default":"outline",size:"sm",className:`h-7 text-sm ${be.deliveryOption==="select-days"?"bg-secondary hover:bg-blue-600":"border-gray-300"}`,title:"Choose specific days for delivery",onClick:()=>wt(Y.id,"select-days"),children:"Weekdays"})]})]}),be.deliveryOption==="select-days"&&s.jsxs("div",{children:[s.jsx(je,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Select days (min 3):"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:n1.map(Me=>s.jsx(pe,{type:"button",size:"sm",variant:be.selectedDays.includes(Me.id)?"default":"outline",className:`h-6 w-8 p-0 text-sm ${be.selectedDays.includes(Me.id)?"bg-primary":"border-gray-300 text-gray-700"}`,onClick:()=>st(Y.id,Me.id),children:Me.label},Me.id))})]}),(be.deliveryOption==="daily"||be.deliveryOption==="select-days"||be.deliveryOption==="alternate-days")&&s.jsxs("div",{children:[s.jsx(je,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Quantity per delivery:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white w-fit",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Nt(Y.id,"quantity",be.quantity-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(vf,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-3 py-1 text-sm font-medium min-w-[40px] text-center",children:be.quantity}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Nt(Y.id,"quantity",be.quantity+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(Cn,{className:"h-3 w-3"})})]})]}),be.deliveryOption==="day1-day2"&&s.jsxs("div",{children:[s.jsx(je,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Quantities:"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day 1:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Nt(Y.id,"quantity",be.quantity-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(vf,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-2 py-1 text-sm font-medium min-w-[30px] text-center",children:be.quantity}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Nt(Y.id,"quantity",be.quantity+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(Cn,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day 2:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Nt(Y.id,"quantityVarying2",(be.quantityVarying2||1)-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(vf,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-2 py-1 text-sm font-medium min-w-[30px] text-center",children:be.quantityVarying2||1}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Nt(Y.id,"quantityVarying2",(be.quantityVarying2||1)+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(Cn,{className:"h-3 w-3"})})]})]})]})]}),s.jsx("div",{className:"bg-blue-50 px-2 py-1 rounded text-sm text-blue-700 border border-blue-200",children:s.jsxs("span",{className:"font-medium",children:[be.deliveryOption==="daily"&&"Daily delivery",be.deliveryOption==="select-days"&&(be.selectedDays.length>0?`${be.selectedDays.length} days/week`:"Select delivery days"),be.deliveryOption==="alternate-days"&&"Alternate days",be.deliveryOption==="day1-day2"&&"Varying quantities"]})})]})]},Y.id)})}),B.selectedVariants&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:B.selectedVariants}),B.variantSchedules&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:B.variantSchedules})]}),!_&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Xx,{className:"h-4 w-4"}),"Delivery Schedule"]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(pe,{variant:h==="daily"?"default":"outline",className:`h-8 text-sm px-3 ${h==="daily"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every day",onClick:()=>p("daily"),children:"Daily"}),N>=15&&s.jsx(pe,{variant:h==="alternate-days"?"default":"outline",className:`h-8 text-sm px-3 ${h==="alternate-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every other day",onClick:()=>p("alternate-days"),children:"Alternate"}),N>=7&&s.jsx(pe,{variant:h==="day1-day2"?"default":"outline",className:`h-8 text-sm px-3 ${h==="day1-day2"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Customize quantities for Day 1 and Day 2",onClick:()=>p("day1-day2"),children:"Day 1-2"}),N>=30&&s.jsx(pe,{variant:h==="select-days"?"default":"outline",className:`h-8 text-sm px-3 ${h==="select-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Choose specific days for delivery",onClick:()=>p("select-days"),children:"Select Days"})]}),s.jsxs("div",{className:"mt-3",children:[h==="daily"&&s.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Daily delivery - Fresh products every day"}),h==="alternate-days"&&s.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Every other day starting from your selected start date"}),h==="day1-day2"&&s.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Daily delivery with different quantities on alternating days"}),h==="select-days"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Select delivery days (minimum 3):"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:n1.map(Y=>s.jsx(pe,{type:"button",size:"sm",variant:P.includes(Y.id)?"default":"outline",className:`h-7 w-10 p-0 text-sm ${P.includes(Y.id)?"bg-primary":"border-gray-300 text-gray-700"}`,onClick:()=>{Ts(Y.id),B.selectedDays&&U(ge=>({...ge,selectedDays:""}))},children:Y.label},Y.id))}),B.selectedDays&&s.jsx("p",{className:"text-red-500 text-sm",children:B.selectedDays})]})]}),s.jsxs("div",{className:"mt-4 border-t pt-4",children:[(h==="daily"||h==="select-days"||h==="alternate-days")&&s.jsxs("div",{children:[s.jsx(je,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Quantity per delivery:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white w-fit",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(1,o-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(vf,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-4 text-center font-medium min-w-[50px]",children:o}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>l(o+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(Cn,{className:"h-3 w-3"})})]})]}),h==="day1-day2"&&s.jsxs("div",{children:[s.jsx(je,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Quantities:"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day A:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(1,o-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(vf,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-3 text-center font-medium min-w-[40px]",children:o}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>l(o+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(Cn,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day B:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>f(Math.max(1,u-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(vf,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-3 text-center font-medium min-w-[40px]",children:u}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>f(u+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(Cn,{className:"h-3 w-3"})})]})]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:i!=null&&i.isOnline?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[s.jsxs("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Delivery Address"]}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{ns(Y=>({...Y,mobile:F})),le("addressForm")},className:"text-[10px] h-6 px-1.5",children:[s.jsx(Cn,{className:"h-2.5 w-2.5 mr-0.5"})," Add"]})]}),L?s.jsx("div",{className:"flex items-center justify-center py-2",children:s.jsx("span",{className:"text-gray-500 text-[10px]",children:"Loading..."})}):O.length>0?s.jsx("div",{className:"flex gap-1.5 overflow-x-auto pb-1 -mx-1 px-1",children:s.jsx(Qm,{value:G||"",onValueChange:Y=>{V(Y),B.selectedAddressId&&U(ge=>({...ge,selectedAddressId:""}))},className:"flex gap-1.5",children:O.map(Y=>s.jsx("div",{className:`flex-shrink-0 w-52 p-1.5 border rounded cursor-pointer transition-all ${G===Y.id?"border-red-500 bg-red-50 shadow-sm":"border-gray-200 hover:bg-gray-50"}`,children:s.jsxs(je,{htmlFor:`address-item-${Y.id}`,className:"flex items-start space-x-1.5 w-full cursor-pointer",children:[s.jsx(yo,{value:Y.id,id:`address-item-${Y.id}`,className:"mt-0.5 h-3 w-3"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-1 mb-0.5",children:[s.jsx("span",{className:"font-medium text-gray-900 text-[12px] truncate ",children:Y.recipientName}),s.jsx(Fr,{variant:"outline",className:"text-[9px] py-0 px-1 h-3.5",children:Y.label})]}),s.jsxs("p",{className:"text-[10px] text-gray-600 truncate leading-tight",children:[Y.plotBuilding,", ",Y.streetArea]}),s.jsxs("p",{className:"text-[10px] text-gray-600 truncate leading-tight",children:[Y.city," - ",Y.pincode]}),Y.isDefault&&s.jsx("span",{className:"inline-block mt-0.5 px-1 py-0 bg-blue-100 text-blue-800 rounded text-[8px]",children:"Default"})]})]})},Y.id))})}):s.jsxs("div",{className:"text-center py-2",children:[s.jsx("p",{className:"text-gray-500 text-[10px] mb-1",children:"No addresses saved"}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{ns(Y=>({...Y,mobile:F})),le("addressForm")},className:"text-[10px] h-6 px-2",children:[s.jsx(Cn,{className:"h-2.5 w-2.5 mr-0.5"})," Add Address"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-between items-center mb-1.5",children:s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[s.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Pickup Location"]})}),i?s.jsxs("div",{className:"p-1.5 border rounded bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-medium text-gray-900 text-[11px]",children:i.name}),s.jsx(Fr,{variant:"secondary",className:"text-[9px] py-0 px-1 h-3.5",children:"Pickup"})]}),s.jsxs("p",{className:"text-[10px] text-gray-600 mt-0.5",children:[i.address,", ",i.city," - ",i.pincode]}),s.jsx("div",{className:"mt-3 p-1 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("p",{className:"text-[11px] text-blue-700 flex items-start ml-2 ",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5  flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"You will need to pick up your order from this depot location."]})})]}):s.jsx("div",{className:"text-center py-2",children:s.jsx("p",{className:"text-gray-500 text-[10px]",children:"Location address not available"})})]})}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-1.5 flex items-center gap-1",children:[s.jsx(Qn,{className:"h-3 w-3"}),"Start Date"]}),s.jsxs(td,{open:w,onOpenChange:b,children:[s.jsx(rd,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:Ze("w-full justify-start text-left font-normal border-gray-300 rounded h-7 text-sm",!x&&"text-muted-foreground"),children:[s.jsx(Qn,{className:"mr-1.5 h-3 w-3"}),x?Lt(x,"dd/MM/yyyy"):s.jsx("span",{children:"Select date"})]})}),s.jsx(sd,{className:"w-auto p-0 pointer-events-auto",onClick:Y=>Y.stopPropagation(),children:s.jsx(nd,{mode:"single",selected:x,onSelect:Y=>{y(Y),b(!1),B.startDate&&U(ge=>({...ge,startDate:""}))},initialFocus:!0,disabled:Y=>{const ge=new Date;return ge.setDate(ge.getDate()+3),ge.setHours(0,0,0,0),Y<ge}})})]}),B.startDate&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.startDate})]}),se&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[s.jsx(qi,{className:"h-3.5 w-3.5"}),"Order Summary"]}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Period:"}),s.jsx("span",{children:se.period})]}),_&&S.length>0&&s.jsxs("div",{className:"border-t border-gray-500 pt-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx(qi,{className:"h-3 w-3 text-blue-600"}),s.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Variant Details"})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1",children:S.map((Y,ge)=>{const be=k.find(zt=>zt.id===Y.variantId);if(!be)return null;const Me=qt(Y);let qe=0;switch(Y.deliveryOption){case"daily":case"select-days":qe=Y.quantity*Me;break;case"day1-day2":const zt=Math.ceil(N/2),hr=Math.floor(N/2);qe=Y.quantity*zt+(Y.quantityVarying2||1)*hr;break;case"alternate-days":qe=Y.quantity*Math.ceil(N/2);break}const lt=Y.deliveryOption==="daily"?"Daily":Y.deliveryOption==="select-days"?`${Y.selectedDays.length} days/week`:Y.deliveryOption==="alternate-days"?"Alternate Days":"Day1-Day2",Rt=()=>{switch(Y.deliveryOption){case"daily":return"";case"select-days":return"";case"alternate-days":return"";case"day1-day2":return"";default:return""}};return s.jsxs("div",{className:"flex-shrink-0 w-56 border border-gray-200 rounded-md p-2 bg-gradient-to-r from-gray-50 to-blue-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[s.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[s.jsx("span",{className:"text-sm",children:Rt()}),s.jsx("span",{className:"font-medium text-gray-800 text-sm truncate",children:be.name})]}),s.jsx(Fr,{variant:"secondary",className:"text-[11px] bg-blue-100 text-blue-700 border-blue-200 py-0 px-1.5 h-4",children:lt})]}),s.jsxs("div",{className:"text-[11px] space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 text-xs",children:"Qty/delivery:"}),s.jsx("span",{className:"text-gray-900 font-medium text-xs",children:Y.deliveryOption==="day1-day2"?s.jsxs(s.Fragment,{children:[Y.quantity," + ",Y.quantityVarying2||1," - ",be.name||"Quantity",Y.quantity>1||(Y.quantityVarying2||1)>1?"s":""]}):s.jsxs(s.Fragment,{children:[Y.quantity," - ",be.name||"Quantity"]})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 text-xs",children:"Total:"}),s.jsxs("span",{className:"text-gray-900 font-medium text-xs",children:[qe," - ",be.name||"Quantity"]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Price:"}),s.jsxs("span",{className:"text-green-700 font-semibold",children:["",(qe*Vs(be,N)).toFixed(2)]})]})]}),Y.deliveryOption==="select-days"&&Y.selectedDays.length>0&&s.jsx("div",{className:"mt-1 pt-1 border-t border-gray-200",children:s.jsxs("div",{className:"text-[10px] text-gray-600",children:["Days: ",Y.selectedDays.join(", ")]})})]},ge)})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Quantity:"}),s.jsxs("span",{className:"font-medium",children:[se.totalQuantity," ",_?"items":(r==null?void 0:r.name)||""]})]}),fe()>0&&s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 animate-pulse"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/90 via-green-400/90 to-teal-400/90"}),s.jsx("div",{className:"absolute top-2 left-4 animate-bounce delay-75",children:s.jsx(pX,{className:"h-3 w-3 text-yellow-300 fill-yellow-300"})}),s.jsx("div",{className:"absolute top-3 right-6 animate-bounce delay-150",children:s.jsx(OI,{className:"h-2 w-2 text-yellow-200 fill-yellow-200"})}),s.jsx("div",{className:"absolute bottom-2 right-4 animate-bounce delay-300",children:s.jsx(tw,{className:"h-3 w-3 text-yellow-300 fill-yellow-300"})})]}),s.jsx("div",{className:"border-t border-gray-200 pt-1.5 mt-1.5",children:s.jsxs("div",{className:"flex justify-between font-medium text-sm",children:[s.jsx("span",{children:"Total Price:"}),s.jsxs("span",{className:"text-green-600",children:["",se.totalPrice.toFixed(2)]})]})})]})]})]})]})}):ie==="confirmation"?s.jsxs("div",{className:"bg-white p-4 rounded-md space-y-4 w-[50%] mx-auto max-sm:w-full ",children:[s.jsx("h3",{className:"text-lg font-semibold text-center",children:"Confirm Your Subscription"}),s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Product:"}),s.jsx("span",{className:"font-semibold",children:r.name})]}),_&&S.length>0&&s.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[s.jsx("span",{className:"text-sm font-medium block mb-2",children:"Selected Variants & Schedules:"}),s.jsx("div",{className:"space-y-3",children:S.map((Y,ge)=>{const be=k.find(lt=>lt.id===Y.variantId);if(!be)return null;const Me=qt(Y),qe=Y.deliveryOption==="daily"?"Daily delivery":Y.deliveryOption==="select-days"?`On ${Y.selectedDays.map(lt=>{var Rt;return(Rt=n1.find(zt=>zt.id===lt))==null?void 0:Rt.label}).join(", ")}`:Y.deliveryOption==="alternate-days"?"Alternate Day":"Day1-Day2";return s.jsxs("div",{className:"bg-white p-3 rounded border text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"font-medium",children:be.name}),s.jsxs(Fr,{variant:"outline",children:["",Vs(be,N)," ",be.name&&`per ${be.name}`]})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{children:["Schedule: ",qe]}),s.jsxs("div",{children:["Deliveries: ",Me," times"]}),Y.deliveryOption!=="day1-day2"&&s.jsxs("div",{children:["Quantity per delivery:"," ",Y.quantity]})]})]},ge)})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Period:"}),s.jsx("span",{children:se==null?void 0:se.period})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Start Date:"}),s.jsx("span",{children:se==null?void 0:se.startDate})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"End Date:"}),s.jsx("span",{children:se==null?void 0:se.expiryDate})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Total Quantity:"}),s.jsxs("span",{children:[se==null?void 0:se.totalQuantity," ",_?"items":(r==null?void 0:r.name)||""]})]}),s.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Subtotal:"}),s.jsxs("span",{className:"text-sm",children:["",(Pe=se==null?void 0:se.totalPrice)==null?void 0:Pe.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Wallet Credit:"}),s.jsxs("span",{className:"text-sm text-green-600",children:["-",de.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-medium pt-2",children:[s.jsx("span",{className:"text-sm font-semibold",children:"Amount Payable:"}),s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["",me.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs(je,{className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[s.jsx(Dc,{className:"h-4 w-4"})," Use Wallet Balance"]}),s.jsxs("div",{className:"text-sm font-medium",children:["Available: ",q.toFixed(2)]})]}),J&&q>0&&s.jsx("div",{className:"bg-white p-3 rounded border border-blue-300",children:s.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Wallet Balance:"}),s.jsxs("span",{children:["",q.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Amount to be deducted:"}),s.jsxs("span",{className:"font-medium text-green-600",children:["",de.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-medium pt-1 border-t",children:[s.jsx("span",{children:"Remaining in wallet:"}),s.jsxs("span",{children:["",(q-de).toFixed(2)]})]})]})})]}),se&&s.jsx(s.Fragment,{children:me>0?s.jsx("div",{className:"bg-blue-50 p-3 rounded-md border border-blue-100",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),de>0?`${de.toFixed(2)} will be deducted from your wallet. The remaining ${me.toFixed(2)} will be collected via Cash/UPI before delivery.`:`Full amount of ${me.toFixed(2)} will be collected via Cash/UPI before delivery.`]})}):s.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:s.jsxs("p",{className:"text-sm text-green-700 flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Full amount of ",(Ke=se==null?void 0:se.totalPrice)==null?void 0:Ke.toFixed(2)," will be deducted from your wallet."]})})}),s.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:s.jsxs("p",{className:"text-sm text-primary flex items-start",children:["1) Since the milk is sourced from 'Tribal farmers',  all payments are in Advance.",s.jsx("br",{}),s.jsx("br",{}),"2) Both Cash & Online options are available.The plan starts after 2 days from receipt of payment.",s.jsx("br",{}),s.jsx("br",{}),"3) For Cash payments - our person can visit your home OR you may deposit money at our Tilak Road store.                "]})}),s.jsx("img",{src:XU,alt:""}),s.jsxs("p",{children:["1. GPay, UPI - 8850833370  ( Sarkhot Natural Farms) ",s.jsx("br",{}),"2. Bank Transfer: Current Account: Bank of Baroda A/C No.: 76040200002024, ",s.jsx("br",{}),"3. IFSC: BARB0VJDOME ",s.jsx("br",{})," 4. Cash Before Delivery. "]}),i!=null&&i.isOnline?s.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Delivery Address:"}),O.map(Y=>Y.id===G?s.jsxs("div",{className:"text-sm",children:[s.jsx(Fr,{variant:"outline",className:"mt-1 ",children:Y.label}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium ",children:Y.recipientName})," "," ",Y.mobile]}),s.jsxs("p",{children:[Y.plotBuilding,", ",Y.streetArea]}),Y.landmark&&s.jsx("p",{children:Y.landmark}),s.jsxs("p",{children:[Y.city,", ",Y.state," - ",Y.pincode]})]},Y.id):null)]}):s.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Pickup from Location:"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:i==null?void 0:i.name}),s.jsx("p",{children:i==null?void 0:i.address})]})]})]}):s.jsxs("div",{className:"bg-white rounded-md",children:[s.jsx("div",{className:"p-4 border-b bg-white sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>le("subscriptionDetails"),children:s.jsx(xu,{className:"h-4 w-4"})}),s.jsx("h3",{className:"text-lg font-semibold",children:"Add New Address"})]})}),s.jsxs("div",{className:"p-4 space-y-5",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"address-label",className:"text-sm font-medium mb-2 block",children:"Address Label"}),s.jsxs(Qm,{defaultValue:"Home",value:mt.label,onValueChange:Us,className:"flex gap-4 mt-1",id:"address-label",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yo,{value:"Home",id:"type-home",className:"text-green-500"}),s.jsx(je,{htmlFor:"type-home",className:"text-sm",children:"Home"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yo,{value:"Work",id:"type-work",className:"text-green-500"}),s.jsx(je,{htmlFor:"type-work",className:"text-sm",children:"Work"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yo,{value:"Other",id:"label-other"}),s.jsx(je,{htmlFor:"label-other",children:"Other"})]})]}),B.label&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.label})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"recipientName",className:"text-sm font-medium mb-1.5 block",children:"Delivery To*"}),s.jsx("input",{id:"recipientName",name:"recipientName",value:mt.recipientName,onChange:cs,placeholder:"Full name of recipient",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),B.recipientName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.recipientName})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"mobile",className:"text-sm font-medium mb-1.5 block",children:"Mobile*"}),s.jsx("input",{id:"mobile",name:"mobile",max:10,maxLength:10,value:mt.mobile,onChange:cs,placeholder:"Mobile number",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),B.mobile&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.mobile})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"plotBuilding",className:"text-sm font-medium mb-1.5 block",children:"Plot/Building*"}),s.jsx("input",{id:"plotBuilding",name:"plotBuilding",value:mt.plotBuilding,onChange:cs,placeholder:"Plot number, building name",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),B.plotBuilding&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.plotBuilding})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"streetArea",className:"text-sm font-medium mb-1.5 block",children:"Street/Area*"}),s.jsx("input",{id:"streetArea",name:"streetArea",value:mt.streetArea,onChange:cs,placeholder:"Street, area",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),B.streetArea&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.streetArea})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"landmark",className:"text-sm font-medium mb-1.5 block",children:"Nearest Landmark*                    "}),s.jsx(Ge,{id:"landmark",name:"landmark",value:mt.landmark,onChange:cs,placeholder:"Nearby landmark",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"deliveryCity",className:"text-sm font-medium mb-1.5 block",children:"City"}),s.jsxs(Wt,{onValueChange:Y=>{const ge=Y==="all"?null:parseInt(Y);et(ge),ue(null)},value:(we==null?void 0:we.toString())||"all",children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Filter by city (optional)"})}),s.jsxs(Kt,{className:"max-h-60 overflow-y-auto",children:[s.jsx(ct,{value:"all",children:"All Cities"}),ne.sort((Y,ge)=>Y.name.localeCompare(ge.name)).map(Y=>s.jsx(ct,{value:Y.id.toString(),children:Y.name},Y.id))]})]})]}),s.jsxs("div",{children:[s.jsxs(je,{htmlFor:"areaMaster",className:"text-sm font-medium mb-1.5 block",children:["Delivery Area* ",s.jsx("span",{className:"text-xs text-gray-500"})]}),s.jsxs(Wt,{onValueChange:Y=>{var be;const ge=Ce.find(Me=>Me.id===parseInt(Y));ge&&(Mr(ge),(be=ge.city)!=null&&be.name&&os("city",ge.city.name))},value:((Oe=Fe==null?void 0:Fe.id)==null?void 0:Oe.toString())||"",children:[s.jsx(Yt,{className:B.areaMaster?"border-red-500 w-full":"w-full",children:s.jsx(Gt,{placeholder:"Select your delivery area"})}),s.jsx(Kt,{className:"max-h-60 overflow-y-auto",children:Ce.sort((Y,ge)=>Y.name.localeCompare(ge.name)).map(Y=>s.jsx(ct,{value:Y.id.toString(),children:Y.name},Y.id))})]}),s.jsx("div",{children:s.jsxs("p",{className:"text-xs ml-2 mt-2",children:["If your area is not listed above ",s.jsx("a",{onClick:ls,className:"text-primary border border-primary px-2 py-1 rounded max-w-4",children:"Click here"})," to request delivery "]})}),B.areaMaster&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.areaMaster})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"state",className:"text-sm font-medium mb-1.5 block",children:"State*"}),s.jsxs(Wt,{onValueChange:Y=>os("state",Y),value:mt.state,disabled:!0,children:[s.jsx(Yt,{className:B.state?"border-red-500 w-full":"w-full",children:s.jsx(Gt,{placeholder:"Select a state"})}),s.jsx(Kt,{className:"max-h-60 overflow-y-auto",children:Gw.filter(Y=>Y&&typeof Y.label=="string").map(Y=>s.jsx(ct,{value:Y.label,children:Y.label},Y.value))})]}),B.state&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.state})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx(je,{htmlFor:"pincode",className:"text-sm font-medium mb-1.5 block",children:"Pincode*"}),s.jsx(Ge,{id:"pincode",name:"pincode",type:"text",value:mt.pincode,onChange:cs,max:6,placeholder:"Enter your 6-digit pincode",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white",maxLength:6}),B.pincode&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.pincode}),Fe&&s.jsx(_4,{pincode:mt.pincode,isValid:Ie.isValid,message:Ie.message,isValidating:Ie.isValidating,showServiceRequest:!Ie.isValid&&!Ie.isValidating&&mt.pincode.length===6,onRequestService:ls})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:mt.isDefault,onChange:Y=>ns(ge=>({...ge,isDefault:Y.target.checked})),className:"h-4 w-4 text-green-500 focus:ring-green-500 border-gray-300 rounded"}),s.jsx(je,{htmlFor:"isDefault",className:"text-sm",children:"Set as default address"})]})]})]})}),s.jsx("div",{className:"p-4 border-t bg-white",children:ie==="subscriptionDetails"?s.jsxs("div",{className:"space-y-3",children:[fe()>0&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Jx,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:["You Save: ",fe().toFixed(2)]})]}),s.jsx("span",{className:"text-gray-500 text-sm",children:"vs MRP pricing"})]}),s.jsx(pe,{onClick:Fa,disabled:L||!_&&h==="select-days"&&P.length<3||_&&S.some(Y=>Y.deliveryOption==="select-days"&&Y.selectedDays.length<3),className:"w-full bg-primary hover:bg-primary text-white py-2 rounded-md font-medium",children:"Review Subscription"})]}):ie==="addressForm"?s.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[s.jsx(pe,{variant:"outline",onClick:mr,className:"rounded-lg h-11 border-gray-300",children:"Cancel"}),s.jsx(pe,{onClick:ds,className:"bg-primary hover:bg-primary text-white rounded-lg h-11",disabled:!!(B.recipientName||B.mobile||B.plotBuilding||B.streetArea||B.pincode||B.city||B.state||B.label||B.areaMaster),children:"Save Address"})]}):s.jsxs("div",{className:"space-y-3",children:[fe()>0&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Jx,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:["Total Savings: ",fe().toFixed(2)]})]}),s.jsx("span",{className:"text-gray-500 text-sm",children:"vs MRP pricing"})]}),s.jsxs("div",{className:"flex justify-end items-center gap-3 w-full",children:[s.jsx(pe,{variant:"outline",className:"rounded-lg h-11 border-gray-300",onClick:()=>le("subscriptionDetails"),children:"Back"}),s.jsx(pe,{className:"bg-primary hover:bg-primary text-white rounded-lg h-11",onClick:oe,disabled:K||!!(B.startDate||B.selectedDays||B.selectedAddressId||B.variantSchedules),children:K?"Confirming...":"Confirm Subscription"})]})]})})]})]}),s.jsx(eV,{isOpen:Et,onOpenChange:_t,productName:r==null?void 0:r.name,areaName:Fe==null?void 0:Fe.name,message:xe}),s.jsx(T4,{isOpen:ht,onOpenChange:tt,productId:r==null?void 0:r.id,productName:r==null?void 0:r.name,isDairyProduct:r==null?void 0:r.isDairyProduct,message:xe||`We currently do not serve pincode ${mt.pincode}, but we're expanding!`,prefilledData:{recipientName:mt.recipientName,mobile:mt.mobile,plotBuilding:mt.plotBuilding,streetArea:mt.streetArea,landmark:mt.landmark,pincode:mt.pincode,city:mt.city||(($e=Fe==null?void 0:Fe.city)==null?void 0:$e.name)||"",state:mt.state},onSuccess:()=>{tt(!1),ns({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"",state:"Maharashtra",isDefault:!1,label:"Home"}),ue(null),et(null),ft({isValid:!1,message:"",isValidating:!1}),le("subscriptionDetails")}}),s.jsx(tV,{isOpen:xt,onOpenChange:Vt,title:"Subscription Created Successfully!",message:"Your subscription has been set up and will start delivering as scheduled.",subscriptionDetails:{subscriptionId:ar.subscriptionId,productName:r==null?void 0:r.name,quantity:S.reduce((Y,ge)=>Y+ge.quantity,0),period:(Ve=RS.find(Y=>Y.value===N))==null?void 0:Ve.label,startDate:x,totalAmount:ar.totalAmount}})]}):null},Cbe=e=>{switch(e==null?void 0:e.toLowerCase()){case"home":return"Home";case"work":return"Work";case"other":return"Other";default:return e||"Address"}},Tbe=({isOpen:e,onOpenChange:t,product:r,productId:n,selectedDepot:a})=>{var Dn,Vs;const[i,o]=g.useState(1),[l,u]=g.useState(zn(new Date,3)),[f,h]=g.useState([]),[p,x]=g.useState(!1),[y,w]=g.useState(null),[b,N]=g.useState(!1),[j,S]=g.useState(0),[A,_]=g.useState(0),[C,k]=g.useState(0),[T,O]=g.useState(!1),[R,L]=g.useState([]),[M,G]=g.useState(null),[V,ie]=g.useState([]),[le,B]=g.useState([]),[U,F]=g.useState([]),[W,q]=g.useState(null),[Q,P]=g.useState(null),[X,K]=g.useState(!1),[H,J]=g.useState(""),[ce,ae]=g.useState(!1),[ee,ne]=g.useState(!1),[ke,we]=g.useState({}),[et,Ee]=g.useState(!1),[Te,Fe]=g.useState({isValid:!1,message:"",isValidating:!1}),[ue,Ce]=g.useState({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}),[De,Et]=g.useState({});g.useEffect(()=>{e&&(_t(),xe(),q(null),P(null))},[e]);const _t=async()=>{try{const _e=await E4();ie(_e)}catch(_e){console.error("Failed to fetch area masters:",_e),he.error("Could not load delivery areas.")}},xe=async()=>{try{const _e=await Ey();F(_e)}catch(_e){console.error("Failed to fetch cities:",_e),he.error("Could not load cities.")}};g.useEffect(()=>{if(W&&V.length>0){const _e=V.filter(wt=>{var st;return wt.cityId?wt.cityId===W:(st=wt.city)!=null&&st.id?wt.city.id===W:!1});B(_e)}else B(V)},[W,V]);const Ae=async _e=>{var wt;if(console.log("handleAreaMasterSelection called with:",_e.name),P(_e),(wt=_e.city)!=null&&wt.name&&Ie("city",_e.city.name),r!=null&&r.isDairyProduct&&!_e.isDairyProduct){const st=`We don't currently serve dairy products in ${_e.name}. However, we'd love to expand our dairy delivery services to your area!`;J(st)}else J("");ue.pincode&&ue.pincode.length===6&&(console.log("Revalidating pincode against newly selected area:",{pincode:ue.pincode,areaMaster:_e.name}),tt(ue.pincode,_e))},Ie=(_e,wt)=>{Ce(st=>({...st,[_e]:wt}))},ft=_e=>{const{name:wt,value:st,type:Nt,checked:qt}=_e.target;Ce(mr=>({...mr,[wt]:Nt==="checkbox"?qt:st})),wt==="pincode"&&st.length===6&&/^\d{6}$/.test(st)?tt(st):wt==="pincode"&&Fe({isValid:!1,message:"",isValidating:!1})},ht=_e=>{Ce(wt=>({...wt,label:_e}))},tt=(_e,wt)=>{const st=wt||Q;if(console.log("validatePincode called with:",{pincode:_e,currentAreaMaster:st==null?void 0:st.name}),_e.length===6&&/^\d{6}$/.test(_e)){Fe({isValid:!1,message:"",isValidating:!0});const Nt=Tp(_e,[st].filter(Boolean));Fe({isValid:Nt.isValid,message:Nt.isValid?"Great ! We deliver in your location":`We currently don't serve pincode ${_e} in ${(st==null?void 0:st.name)||"this area"}.`,isValidating:!1})}},xt=()=>{console.log("handleRequestService called with form state:",{pincode:ue.pincode,selectedArea:Q==null?void 0:Q.name,city:ue.city});const _e=Q?`We currently don't serve pincode ${ue.pincode} in ${Q.name}. Help us prioritize expanding to your area!`:`We currently don't serve pincode ${ue.pincode}. Help us prioritize expanding to your area!`;J(_e),ae(!0)},Vt=()=>{var wt,st,Nt,qt,mr,Gs,Jr,Er;const _e={};return(wt=ue==null?void 0:ue.recipientName)!=null&&wt.trim()||(_e.recipientName="Recipient name is required."),(st=ue==null?void 0:ue.mobile)!=null&&st.trim()?/^\d{10}$/.test(ue.mobile.trim())||(_e.mobile="Mobile number must be 10 digits."):_e.mobile="Mobile number is required.",(Nt=ue==null?void 0:ue.plotBuilding)!=null&&Nt.trim()||(_e.plotBuilding="Plot/Building is required."),(qt=ue==null?void 0:ue.streetArea)!=null&&qt.trim()||(_e.streetArea="Street/Area is required."),(mr=ue==null?void 0:ue.pincode)!=null&&mr.trim()?/^\d{6}$/.test(ue.pincode.trim())||(_e.pincode="Pincode must be 6 digits."):_e.pincode="Pincode is required.",(Gs=ue==null?void 0:ue.city)!=null&&Gs.trim()||(_e.city="City is required."),(Jr=ue==null?void 0:ue.state)!=null&&Jr.trim()||(_e.state="State is required."),(Er=ue==null?void 0:ue.label)!=null&&Er.trim()||(_e.label="Address label is required."),Q||(_e.areaMaster="Please select a delivery area."),Et(_e),Object.keys(_e).length===0},ar=async()=>{if(!Vt())return;const _e=(r==null?void 0:r.isDairyProduct)&&Q&&!Q.isDairyProduct,st=!(Q?Tp(ue.pincode,[Q]):{isValid:!1}).isValid;if(_e||st){const Nt={name:ue.recipientName,mobile:ue.mobile,email:"",plotBuilding:ue.plotBuilding,streetArea:ue.streetArea,landmark:ue.landmark||"",pincode:ue.pincode,city:ue.city,state:ue.state,productId:r==null?void 0:r.id,isDairyProduct:(r==null?void 0:r.isDairyProduct)||!1,notes:_e?`Lead captured from buy-once modal - Dairy product not available in area: ${Q==null?void 0:Q.name}`:`Lead captured from buy-once modal - Pincode ${ue.pincode} not serviceable in area: ${Q==null?void 0:Q.name}`};try{await A4(Nt),he.success("Thank you for your interest! We've noted your details and will contact you when we expand dairy delivery to your area.");const qt=_e?`We don't currently serve dairy products in ${Q==null?void 0:Q.name}. However, we'd love to expand our dairy delivery services to your area! We've saved your details and will notify you when service becomes available.`:`We don't currently serve pincode ${ue.pincode} in ${Q==null?void 0:Q.name}. However, we're expanding! We've saved your details and will notify you when service becomes available in your area.`;J(qt),K(!0),Ce({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}),P(null),N(!1)}catch(qt){console.error("Failed to save lead:",qt),he.error("An error occurred while saving your information. Please try again.")}}else try{const Nt=await Ur("/delivery-addresses",ue);await mt(),w(Nt.id),N(!1),he.success("Address added successfully!"),Ce({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"})}catch(Nt){console.error("Failed to save address:",Nt),he.error("An error occurred while saving your address. Please try again.")}},Pr=()=>{var _e;return((_e=r==null?void 0:r.depotVariantPricing)==null?void 0:_e.buyOncePrice)||(r==null?void 0:r.price)||0};g.useEffect(()=>{(async()=>{if(!(!e||!n)){O(!0);try{const wt=await ut(`/api/public/depot-variants/${n}`);let st=(wt==null?void 0:wt.data)||[];a&&(st=st.filter(qt=>qt.depot.id===a.id));const Nt=st.map(qt=>({id:parseInt(qt.id,10),name:qt.name,depot:qt.depot,buyOncePrice:parseFloat(qt.buyOncePrice)||0,sellingPrice:parseFloat(qt.buyOncePrice)||parseFloat(qt.mrp)||0,mrp:parseFloat(qt.mrp)||parseFloat(qt.buyOncePrice)||0,minimumQty:qt.minimumQty||0}));if(L(Nt),Nt.length>0){const qt=Nt[0];_(qt.buyOncePrice),k(qt.mrp||qt.sellingPrice||qt.buyOncePrice),G(qt.id)}else _(Pr()),k(Pr()),G(null)}catch(wt){console.error("Failed to fetch depot variant pricing, using default:",wt),_(Pr()),k(Pr()),L([]),G(null)}finally{O(!1)}}})()},[e,n,r,a]),g.useEffect(()=>{(async()=>{var wt;if(e)try{const st=await ut("/api/wallet/balance");console.log("Wallet balance response:",st);let Nt=0;st!=null&&st.success&&((wt=st==null?void 0:st.data)==null?void 0:wt.balance)!==void 0?Nt=st.data.balance:(st==null?void 0:st.balance)!==void 0?Nt=st.balance:typeof st=="number"&&(Nt=st),S(Nt)}catch(st){console.error("Failed to fetch wallet balance",st),S(0)}})()},[e]);const mt=async()=>{x(!0);try{const _e=await ut("/delivery-addresses");h(_e||[]);const wt=_e==null?void 0:_e.find(st=>st.isDefault);wt?w(wt.id):(_e==null?void 0:_e.length)>0&&w(_e[0].id)}catch(_e){console.error("Failed to fetch addresses:",_e),he.error("Could not load your delivery addresses")}finally{x(!1)}};g.useEffect(()=>{var _e;if(e&&M){const wt=R.find(st=>st.id===M);(_e=wt==null?void 0:wt.depot)!=null&&_e.isOnline&&mt()}},[e,M,R]);const ns=_e=>_e?Lt(_e,"yyyy-MM-dd"):"",[os]=g.useState(!0),Hr=g.useMemo(()=>i*A,[i,A]),ls=g.useMemo(()=>os?Math.min(j||0,Hr):0,[j,Hr,os]),cs=g.useMemo(()=>Hr-ls,[Hr,ls]),Us=g.useMemo(()=>{if(!C||C<=A)return 0;const _e=C*i,wt=A*i;return Math.max(0,_e-wt)},[C,A,i]),Vr=async()=>{var Nt,qt;if(!l||!M){he.error("Please select a delivery date and depot variant.");return}const _e=R.find(mr=>mr.id===M);if(!_e){he.error("Invalid depot variant selected.");return}const wt=_e.depot.isOnline?y:_e.depot.address;if(_e.depot.isOnline&&!y){he.error("Please select a delivery address.");return}else if(!_e.depot.isOnline&&!_e.depot.address){he.error("Depot address information is missing. Please contact support.");return}if(!wt){he.error("Address information is missing.");return}const st={subscriptions:[{productId:M,period:1,startDate:l.toISOString(),deliverySchedule:"DAILY",qty:i}],deliveryAddressId:parseInt(String(wt),10),walletamt:os?ls:0};Ee(!0);try{const mr=await Ur("/api/product-orders/with-subscriptions",st);we({orderId:(mr==null?void 0:mr.orderId)||`ORD-${Date.now()}`,totalAmount:Hr-ls}),ne(!0),t(!1)}catch(mr){console.error("Failed to place order:",mr),he.error(((qt=(Nt=mr==null?void 0:mr.response)==null?void 0:Nt.data)==null?void 0:qt.message)||"Failed to place order. Please try again.")}finally{Ee(!1)}};return r?s.jsxs(Xr,{open:e,onOpenChange:t,children:[s.jsxs(Zr,{className:"w-full max-w-4xl mx-auto p-0 flex flex-col max-h-[95vh] overflow-hidden",children:[s.jsxs(rs,{className:"px-4 py-4 sm:px-6 sm:py-6 pb-2 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[s.jsx(Oc,{className:"absolute right-3 top-3 sm:right-4 sm:top-4 z-10 p-2 rounded-full hover:bg-white/80 transition-colors",onClick:()=>t(!1)}),s.jsx(ss,{className:"text-lg sm:text-xl font-bold text-center pr-8",children:b?"Add New Delivery Address":`${r==null?void 0:r.name} - Buy Once`}),!b&&r&&s.jsx("div",{className:"mt-2 flex justify-center",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-4 py-2 border border-green-200",children:[s.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Buy Once Price"}),T?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-green-500 border-t-transparent rounded-full"}),s.jsx("p",{className:"text-sm font-semibold",children:"Loading..."})]}):s.jsx("div",{className:"text-center",children:C&&C>A?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-500 line-through font-medium",children:["",Number(C).toFixed(2)]}),s.jsxs("span",{className:"text-lg font-bold text-green-600",children:["",Number(A||0).toFixed(2)]})]}):s.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",Number(A||0).toFixed(2)]})})]})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 overflow-y-auto flex-grow pb-8",children:b?s.jsxs("div",{className:"bg-white rounded-md",children:[s.jsx("div",{className:"p-4 border-b bg-white sticky top-0 z-10",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Add New Address"})}),s.jsxs("div",{className:"p-4 space-y-5",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"address-label",className:"text-sm font-medium mb-2 block",children:"Address Label"}),s.jsxs(Qm,{defaultValue:"Home",value:ue.label,onValueChange:ht,className:"flex gap-4 mt-1",id:"address-label",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yo,{value:"Home",id:"type-home",className:"text-green-500"}),s.jsx(je,{htmlFor:"type-home",className:"text-sm",children:"Home"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yo,{value:"Work",id:"type-work",className:"text-green-500"}),s.jsx(je,{htmlFor:"type-work",className:"text-sm",children:"Work"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yo,{value:"Other",id:"label-other"}),s.jsx(je,{htmlFor:"label-other",children:"Other"})]})]}),De.label&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.label})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"recipientName",className:"text-sm font-medium mb-1.5 block",children:"Delivery To*"}),s.jsx("input",{id:"recipientName",name:"recipientName",value:ue.recipientName,onChange:ft,placeholder:"Full name of recipient",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),De.recipientName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.recipientName})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"mobile",className:"text-sm font-medium mb-1.5 block",children:"Mobile*"}),s.jsx("input",{id:"mobile",name:"mobile",type:"tel",max:10,value:ue.mobile,onChange:_e=>{const wt=_e.target.value.replace(/\D/g,"").slice(0,10);Ce(st=>({...st,mobile:wt}))},placeholder:"Mobile number",maxLength:10,className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),De.mobile&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.mobile})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"plotBuilding",className:"text-sm font-medium mb-1.5 block",children:"Plot/Building*"}),s.jsx("input",{id:"plotBuilding",name:"plotBuilding",value:ue.plotBuilding,onChange:ft,placeholder:"Plot number, building name",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),De.plotBuilding&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.plotBuilding})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"streetArea",className:"text-sm font-medium mb-1.5 block",children:"Street/Area*"}),s.jsx("input",{id:"streetArea",name:"streetArea",value:ue.streetArea,onChange:ft,placeholder:"Street, area",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),De.streetArea&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.streetArea})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"landmark",className:"text-sm font-medium mb-1.5 block",children:"Nearest Landmark *"}),s.jsx("input",{id:"landmark",name:"landmark",value:ue.landmark,onChange:ft,placeholder:"Nearby landmark",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"deliveryCity",className:"text-sm font-medium mb-1.5 block",children:"Filter by City"}),s.jsxs(Wt,{onValueChange:_e=>{const wt=_e==="all"?null:parseInt(_e);q(wt),P(null)},value:(W==null?void 0:W.toString())||"all",children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Filter by city"})}),s.jsxs(Kt,{className:"max-h-60 overflow-y-auto",children:[s.jsx(ct,{value:"all",children:"All Cities"}),U.sort((_e,wt)=>_e.name.localeCompare(wt.name)).map(_e=>s.jsx(ct,{value:_e.id.toString(),children:_e.name},_e.id))]})]})]}),s.jsxs("div",{children:[s.jsxs(je,{htmlFor:"areaMaster",className:"text-sm font-medium mb-1.5 block",children:["Delivery Areas* ",s.jsx("span",{className:"text-xs text-gray-500"}),(r==null?void 0:r.isDairyProduct)&&s.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Dairy Product"})]}),s.jsxs(Wt,{onValueChange:_e=>{const wt=le.find(st=>st.id===parseInt(_e));wt&&Ae(wt)},value:((Dn=Q==null?void 0:Q.id)==null?void 0:Dn.toString())||"",children:[s.jsx(Yt,{className:De.areaMaster?"border-red-500 w-full":"w-full",children:s.jsx(Gt,{placeholder:"Select your delivery area"})}),s.jsx(Kt,{className:"max-h-60 overflow-y-auto",children:le.sort((_e,wt)=>_e.name.localeCompare(wt.name)).map(_e=>s.jsx(ct,{value:_e.id.toString(),children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:_e.name}),s.jsx("div",{className:"flex gap-1 ml-2"})]})},_e.id))})]}),De.areaMaster&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.areaMaster})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"state",className:"text-sm font-medium mb-1.5 block",children:"State*"}),s.jsxs(Wt,{onValueChange:_e=>Ie("state",_e),value:ue.state,disabled:!0,children:[s.jsx(Yt,{className:De.state?"border-red-500 w-full":"w-full",children:s.jsx(Gt,{placeholder:"Select a state"})}),s.jsx(Kt,{className:"max-h-60 overflow-y-auto",children:Gw.filter(_e=>_e&&typeof _e.label=="string").map(_e=>s.jsx(ct,{value:_e.label,children:_e.label},_e.value))})]}),De.state&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.state})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx(je,{htmlFor:"pincode",className:"text-sm font-medium mb-1.5 block",children:"Pincode*"}),s.jsx("input",{id:"pincode",name:"pincode",type:"text",max:6,value:ue.pincode,onChange:ft,placeholder:"Pincode",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),De.pincode&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.pincode}),Q&&s.jsx(_4,{pincode:ue.pincode,isValid:Te.isValid,message:Te.message,isValidating:Te.isValidating,showServiceRequest:!Te.isValid&&!Te.isValidating&&ue.pincode.length===6,onRequestService:xt})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:ue.isDefault,onChange:_e=>Ce(wt=>({...wt,isDefault:_e.target.checked})),className:"h-4 w-4 text-green-500 focus:ring-green-500 border-gray-300 rounded"}),s.jsx(je,{htmlFor:"isDefault",className:"text-sm",children:"Set as default address"})]})]})]}):s.jsxs(s.Fragment,{children:[(()=>{var st;const _e=R.find(Nt=>Nt.id===M);return((st=_e==null?void 0:_e.depot)==null?void 0:st.isOnline)?s.jsxs("div",{children:[s.jsx(je,{className:"text-sm font-medium mb-2 block",children:"Select delivery address:"}),p?s.jsx("div",{className:"text-center py-4",children:"Loading addresses..."}):f.length>0?s.jsx(Qm,{value:y||"",onValueChange:w,className:"gap-3 mt-2",children:f.map(Nt=>s.jsx("div",{className:`border rounded-lg p-3 cursor-pointer ${y===Nt.id?"border-green-500 bg-green-50":"border-gray-200"}`,onClick:()=>w(Nt.id),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(yo,{value:Nt.id,id:`address-${Nt.id}`,className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs(je,{htmlFor:`address-${Nt.id}`,className:"font-medium cursor-pointer flex items-center gap-1",children:[Nt.label,Nt.isDefault&&s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Default"})]})}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Nt.recipientName,"  ",Nt.mobile]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[Nt.plotBuilding,", ",Nt.streetArea,Nt.landmark?`, ${Nt.landmark}`:"",", ",Nt.city,", ",Nt.state," - ",Nt.pincode]})]})]})},Nt.id))}):s.jsxs("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:[s.jsx(yu,{className:"mx-auto h-6 w-6 text-gray-400 mb-2"}),s.jsx("p",{className:"text-gray-500",children:"No saved addresses found."}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Please add an address in your profile first."})]}),s.jsxs(pe,{variant:"outline",className:"mt-4 text-sm border-orange-500 text-orange-500 w-full hover:bg-orange-50",size:"sm",onClick:()=>{N(!0)},children:[s.jsx(Cn,{className:"h-4 w-4 mr-2"})," Add New Address"]})]}):_e?s.jsxs("div",{children:[s.jsx(je,{className:"text-sm font-medium mb-2 block",children:"Pickup from Location:"}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{className:"h-4 w-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("span",{className:"font-medium",children:_e.depot.name}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Pickup"})]}),_e.depot.address?s.jsxs("p",{className:"text-sm text-gray-600",children:[_e.depot.address,_e.depot.city&&`, ${_e.depot.city}`,_e.depot.pincode&&` - ${_e.depot.pincode}`]}):s.jsx("p",{className:"text-sm text-gray-500 italic",children:"Location address information not available"})]}),s.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"You will need to pick up your order from this depot location."]})})]}):s.jsxs("div",{children:[s.jsx(je,{className:"text-sm font-medium mb-2 block",children:"Delivery/Pickup Address:"}),s.jsx("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:s.jsx("p",{className:"text-gray-500",children:"Please select a depot variant first"})})]})})(),s.jsxs("div",{children:[s.jsx(je,{className:"text-sm font-medium mb-2 block",children:a?`Available variants for ${a.name}:`:"Available depot variants:"}),R.length>0?s.jsx(Qm,{value:(M==null?void 0:M.toString())||"",onValueChange:_e=>{const wt=parseInt(_e,10);G(wt);const st=R.find(Nt=>Nt.id===wt);st&&(_(st.buyOncePrice),k(st.mrp||st.sellingPrice||st.buyOncePrice))},className:"gap-3 mt-2",children:R.map(_e=>s.jsx("div",{className:`border rounded-lg p-3 cursor-pointer ${M===_e.id?"border-green-500 bg-green-50":"border-gray-200"}`,onClick:()=>{G(_e.id),_(_e.buyOncePrice),k(_e.mrp||_e.sellingPrice||_e.buyOncePrice)},children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(yo,{value:_e.id.toString(),id:`variant-${_e.id}`,className:"mt-1"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx(je,{htmlFor:`variant-${_e.id}`,className:"font-medium cursor-pointer flex items-center gap-1",children:_e.name}),s.jsx("div",{className:"text-right",children:_e.mrp&&_e.mrp>_e.buyOncePrice?s.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[s.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["",Number(_e.mrp).toFixed(2)]}),s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["",Number(_e.buyOncePrice||0).toFixed(2)]})]}):s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["",Number(_e.buyOncePrice||0).toFixed(2)]})})]})})]})},_e.id))}):s.jsxs("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:[s.jsx("p",{className:"text-gray-500",children:a?`No variants available for ${a.name}`:"No depot variants available for this product"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Please try selecting a different depot."})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(je,{htmlFor:"quantityBuyOnce",className:"text-sm font-medium block",children:"Quantity:"}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center border-2 border-green-200 rounded-xl overflow-hidden bg-white shadow-sm",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>o(Math.max(1,i-1)),className:"h-12 w-12 p-0 flex items-center justify-center rounded-none hover:bg-green-50 border-r border-green-200 transition-colors",children:s.jsx(vf,{className:"h-5 w-5 text-green-600"})}),s.jsx("span",{className:"px-6 py-3 text-xl font-bold text-green-700 min-w-[80px] text-center",children:i}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>o(i+1),className:"h-12 w-12 p-0 flex items-center justify-center rounded-none hover:bg-green-50 border-l border-green-200 transition-colors",children:s.jsx(Cn,{className:"h-5 w-5 text-green-600"})})]})})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"deliveryDateBuyOnce",className:"text-sm font-medium mb-2 block",children:"Select delivery date:"}),s.jsx("input",{type:"date",id:"deliveryDateBuyOnce",value:ns(l),onChange:_e=>{_e.target.value?u(new Date(_e.target.value+"T00:00:00")):u(void 0)},min:ns(new Date),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"}),!l&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please select a delivery date."})]}),s.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:s.jsxs("p",{className:"text-xs text-primary flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"1) Since the milk is sourced from 'Tribal farmers',  all payments are in Advance. 2) Both Cash & Online options are available.The plan starts after 2 days from receipt of payment. 3) For Cash payments - our person can visit your home OR you may deposit money at our Tilak Road store."]})}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs(je,{className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[s.jsx(Dc,{className:"h-4 w-4"})," Use Wallet Balance"]}),s.jsxs("div",{className:"text-sm font-medium",children:["Available: ",j.toFixed(2)]})]}),os&&j>0&&s.jsx("div",{className:"bg-white p-3 rounded border border-blue-300",children:s.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Wallet Balance:"}),s.jsxs("span",{children:["",j.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Amount to be deducted:"}),s.jsxs("span",{className:"font-medium text-green-600",children:["",ls.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-medium pt-1 border-t",children:[s.jsx("span",{children:"Remaining in wallet:"}),s.jsxs("span",{children:["",(j-ls).toFixed(2)]})]})]})})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Product:"}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:r==null?void 0:r.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Quantity:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[i," ",(r==null?void 0:r.unit)||""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Price per unit:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-800",children:["",Hr.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Date:"}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:l?Lt(l,"dd/MM/yyyy"):"Not selected"})]}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-sm text-gray-600",children:y&&f.find(_e=>_e.id===y)?"Delivery Address:":"Pickup Location:"}),y&&f.find(_e=>_e.id===y)?(()=>{const _e=f.find(wt=>wt.id===y);return s.jsxs("span",{className:"text-sm font-medium text-gray-800 text-right max-w-[65%]",children:[_e.label?`${Cbe(_e.label)}: `:"",_e.plotBuilding,", ",_e.streetArea,", ",_e.city," - ",_e.pincode]})})():s.jsx("span",{className:"text-sm font-medium text-gray-800",children:a==null?void 0:a.address})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Product Total:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-800",children:["",Hr.toFixed(2)]})]}),ls>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Wallet Deduction:"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["-",ls.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-dashed",children:[s.jsx("span",{className:"text-gray-700 font-semibold text-base",children:"Amount Payable:"}),s.jsxs("span",{className:"font-bold text-green-600 text-base",children:["",cs.toFixed(2)]})]}),s.jsx("img",{src:XU,alt:""})]})]})}),b&&s.jsx(Xa,{className:"p-4 sm:p-6 border-t bg-white",children:s.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[s.jsx(pe,{variant:"outline",onClick:()=>N(!1),className:"rounded-lg h-11 border-gray-300",children:"Cancel"}),s.jsx(pe,{onClick:ar,className:"bg-primary hover:bg-primary text-white rounded-lg h-11",disabled:!!(De.recipientName||De.mobile||De.plotBuilding||De.streetArea||De.pincode||De.city||De.state||De.label||De.areaMaster),children:"Save Address"})]})}),!b&&s.jsx(Xa,{className:"p-4 sm:p-6 border-t bg-gray-50",children:s.jsxs("div",{className:"space-y-3 w-full",children:[Us>0&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),s.jsxs("span",{className:"font-medium",children:["You Save: ",Us.toFixed(2)]})]}),s.jsx("span",{className:"text-gray-500 text-xs",children:"vs MRP pricing"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[s.jsx(pe,{variant:"outline",onClick:()=>{t(!1),N(!1)},className:"flex-1 sm:flex-none sm:min-w-[120px] py-3 text-base border-gray-300 hover:bg-gray-100 transition-colors",children:"Cancel"}),s.jsx(pe,{onClick:Vr,disabled:et||(()=>{if(!l||!M||i<1)return!0;const _e=R.find(wt=>wt.id===M);return!!(!_e||_e.depot.isOnline&&!y||!_e.depot.isOnline&&!_e.depot.address)})(),className:"flex-1 sm:flex-auto bg-primary hover:bg-primary/80 text-white py-3 text-base font-semibold rounded-lg shadow-md disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none transition-all duration-200",children:et?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),s.jsx("span",{children:"Processing..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"hidden sm:inline",children:["Confirm Order & Pay ",cs.toFixed(2)]}),s.jsxs("span",{className:"sm:hidden",children:["Pay ",cs.toFixed(2)]})]})})]})]})})]}),s.jsx(eV,{isOpen:X,onOpenChange:K,productName:r==null?void 0:r.name,areaName:Q==null?void 0:Q.name,message:H}),s.jsx(T4,{isOpen:ce,onOpenChange:ae,productId:r==null?void 0:r.id,productName:r==null?void 0:r.name,isDairyProduct:r==null?void 0:r.isDairyProduct,message:H||`We currently do not serve pincode ${ue.pincode}, but we're expanding!`,prefilledData:{recipientName:ue.recipientName,mobile:ue.mobile,plotBuilding:ue.plotBuilding,streetArea:ue.streetArea,landmark:ue.landmark,pincode:ue.pincode,city:ue.city||((Vs=Q==null?void 0:Q.city)==null?void 0:Vs.name)||"",state:ue.state},onSuccess:()=>{ae(!1),he.success("Thank you for your interest! We've saved your details and will contact you when we expand to your area.")}}),s.jsx(tV,{isOpen:ee,onOpenChange:ne,title:"Order Placed Successfully!",message:"Your subscription has been set up and will start delivering as scheduled.",orderDetails:{orderId:ke.orderId,productName:r==null?void 0:r.name,quantity:i,deliveryDate:l,totalAmount:ke.totalAmount}})]}):null},PS=[{value:3,label:"3 Days",description:"Trial Pack",color:"#3B82F6",icon:s.jsx(tw,{className:"h-4 w-4"})},{value:15,label:"15 Days",description:"Mid Saver Pack",color:"#10B981",icon:s.jsx(Xx,{className:"h-4 w-4"})},{value:30,label:"30 Days",description:"Super Saver Pack",color:"#8B5CF6",icon:s.jsx(Qn,{className:"h-4 w-4"})}],_be=({product:e,variants:t,className:r,deliveryPreference:n="home",selectedDepotId:a})=>{var j;const[i,o]=g.useState(!1),l=async()=>e!=null&&e.id?(await ut(`/api/public/depot-variants/${e.id}`)).data||[]:[],{data:u=[],isLoading:f}=jr({queryKey:["depot-variants",e==null?void 0:e.id],queryFn:l,enabled:!!(e!=null&&e.id)}),h=(S,A,_=!1)=>u.filter(C=>{const k=S==="home"?C.depot.isOnline:!C.depot.isOnline;let T=!1;A==="500ml"?T=C.unit==="500ml"||C.name.includes("500ml")||C.name.includes("500 ml"):A==="1L"&&(T=C.unit==="1L"||C.name.includes("1L")||C.name.includes("1 L")||C.name.includes("1 Ltrs")||C.name.includes("1 Ltr")||C.name.includes("1000ml")||C.name.includes("1000 ml"));let O=!0;return _||S==="home"?O=!0:S==="pickup"&&(O=!a||C.depot.id===a),k&&T&&O}),p=()=>{const S=h("home","500ml"),A=h("home","1L"),_=h("pickup","500ml"),C=h("pickup","1L");return console.log("Available variants:",{online500ml:S.map(k=>({name:k.name,unit:k.unit,depot:k.depot.name})),online1L:A.map(k=>({name:k.name,unit:k.unit,depot:k.depot.name})),pickup500ml:_.map(k=>({name:k.name,unit:k.unit,depot:k.depot.name})),pickup1L:C.map(k=>({name:k.name,unit:k.unit,depot:k.depot.name}))}),{online500ml:S,online1L:A,pickup500ml:_,pickup1L:C}},x=(S,A=n,_="500ml",C=!1)=>{const k=h(A,_,C);if(k.length===0)return 0;const T=k[0];if(S==="mrp")return T.mrp||T.price||0;if(S==="buyOnce")return T.buyOncePrice||0;switch(S){case 3:return T.price3Day||0;case 15:return T.price15Day||0;case 30:return T.price1Month||0;default:return 0}},y=(S,A=n,_="500ml",C=!1)=>{const k=x("mrp",A,_,C),T=x(S,A,_,C);if(k===0||T===0)return 0;const O=Math.round((k-T)/k*100);return Math.max(0,O)},w=(S,A=n,_="500ml",C=!1)=>{const k=x("mrp",A,_,C),T=x(S,A,_,C);return k===0||T===0?0:Math.max(0,k-T)},b=()=>{var A;if(!a)return"";const S=(A=u.find(_=>_.depot.id===a))==null?void 0:A.depot;return S?S.name:""},N=S=>[{id:"daily",label:"Daily",description:"Fresh delivery every single day",tooltip:"Receive your order every day, so you never run out.",minPeriod:3},{id:"alternate-days",label:"Alternate Days",description:"Every other day delivery",tooltip:"Get your order every other day (Day1, Day3, Day5). Great if you use it regularly but not daily.",minPeriod:15},{id:"day1-day2",label:"Day1Day2",description:"Varying quantities",tooltip:"On Day1 youll get one quantity, on Day2 a different quantity, then it repeats. Ideal for changing needs.",minPeriod:15},{id:"select-days",label:"Weekdays",description:"Custom days selection",tooltip:"Pick the exact weekdays you want deliveries (e.g., Monday, Wednesday, Friday). Total flexibility.",minPeriod:30}].filter(_=>S>=_.minPeriod);return He.useEffect(()=>{u.length>0&&p()},[u,a]),He.useMemo(()=>PS.map(S=>({period:S.label,periodValue:S.value,price:x(S.value,n),buyOncePrice:x("buyOnce",n),savings:y(S.value,n),color:S.color,description:S.description,icon:S.icon,availableSchedules:N(S.value)})),[n,u,a]),f?s.jsxs(pe,{variant:"outline",disabled:!0,className:"w-full py-3 text-sm border-blue-500 text-blue-600 hover:bg-blue-50 flex items-center justify-center gap-2",children:[s.jsx(Ct,{className:"h-4 w-4 rounded-full"}),"Loading Pricing..."]}):!e&&(!t||t.length===0)&&u.length===0?null:(e!=null&&e.unit||(j=t==null?void 0:t[0])!=null&&j.unit,s.jsxs(s.Fragment,{children:[s.jsxs(pe,{variant:"outline",onClick:()=>o(!0),className:"w-full py-3 text-sm border-blue-500 text-blue-600 hover:bg-blue-50 flex items-center justify-center gap-2",children:[s.jsx(Zx,{className:"h-4 w-4"}),"View Subscription Pricing & Schedules"]}),s.jsx(Xr,{open:i,onOpenChange:o,children:s.jsxs(Zr,{className:"sm:max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs(rs,{children:[s.jsxs(ss,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Jx,{className:"h-5 w-5 text-blue-600"}),"Subscription Pricing & Schedules"]}),s.jsx(Oc,{className:"absolute right-4 top-4",children:s.jsx(No,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[70vh] space-y-6 pr-2",children:[s.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-lg border",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:(e==null?void 0:e.name)||"Product"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-gray-900",children:"Choose the best subscription plan for your needs. Longer periods offer better savings!"}),n==="pickup"&&a&&b()&&s.jsx("div",{className:"bg-green-100 p-2 rounded-md",children:s.jsxs("p",{className:"text-sm text-green-800 font-medium",children:[" Showing prices for: ",b()]})}),n==="home"&&s.jsx("div",{className:"bg-blue-100 p-2 rounded-md",children:s.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" Showing online delivery prices"})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 text-lg",children:["Subscription Pricing for ",n==="home"?"Online Delivery":"Store Pickup"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border border-gray-500 rounded-lg",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700 border-r border-gray-500",children:"Period"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-700 border-r border-gray-500",colSpan:2,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"500ml",s.jsx("span",{className:"text-xs text-gray-500",children:"(55)"})]})}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-700",colSpan:2,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"1L",s.jsx("span",{className:"text-xs text-gray-500",children:"(110)"})]})})]}),s.jsxs("tr",{className:"bg-gray-50 border-t border-gray-500",children:[s.jsx("th",{className:"py-2 px-4 border-r border-gray-500"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Price"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Savings"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Price"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Savings"})]})]}),s.jsxs("tbody",{className:"divide-y divide-gray-500",children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 border-r border-gray-500",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"text-gray-900 font-medium",children:"Buy Once"})})}),s.jsxs("td",{className:"text-center py-3 px-3 font-semibold text-gray-900 border-r border-gray-500",children:["",x("buyOnce",n,"500ml")||"--"]}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:s.jsxs(Fr,{className:"bg-gray-200 text-gray-900 text-xs mb-1",children:[y("buyOnce",n,"500ml"),"% off"]})}),s.jsxs("td",{className:"text-center py-3 px-3 font-semibold text-gray-900 border-r border-gray-500",children:["",x("buyOnce",n,"1L")||"--"]}),s.jsx("td",{className:"text-center py-3 px-3",children:s.jsxs(Fr,{className:"bg-green-200 text-green-800 text-xs mb-1",children:[y("buyOnce",n,"1L"),"% off"]})})]}),PS.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 border-r border-gray-500",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{style:{color:S.color},className:"flex items-center",children:S.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 text-sm",children:S.label}),s.jsx("div",{className:"text-xs text-gray-900",children:S.description})]})]})}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:s.jsxs("span",{className:"font-semibold text-gray-900",children:["",x(S.value,n,"500ml")||"--"]})}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:y(S.value,n,"500ml")>0?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs(Fr,{className:"bg-green-200 text-green-800 text-xs mb-1",children:[y(S.value,n,"500ml"),"% off"]}),s.jsxs("span",{className:"text-xs text-primary-foreground font-medium",children:["Save ",w(S.value,n,"500ml")]})]}):s.jsx("span",{className:"text-xs text-gray-400",children:"No savings"})}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:s.jsxs("span",{className:"font-semibold text-gray-900",children:["",x(S.value,n,"1L")||"--"]})}),s.jsx("td",{className:"text-center py-3 px-3",children:y(S.value,n,"1L")>0?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs(Fr,{className:"bg-green-200 text-green-800 text-xs mb-1",children:[y(S.value,n,"1L"),"% off"]}),s.jsxs("span",{className:"text-xs text-primary-foreground font-medium",children:["Save ",w(S.value,n,"1L")]})]}):s.jsx("span",{className:"text-xs text-gray-400",children:"No savings"})})]},S.value))]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Available Delivery Schedules by Period"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:PS.map(S=>{const A=N(S.value);return s.jsxs("div",{className:"bg-white rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{style:{color:S.color},children:S.icon}),s.jsx("span",{className:"font-medium text-sm",children:S.label})]}),s.jsx("div",{className:"space-y-1",children:A.map(_=>s.jsx(Fr,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200 mr-1 mb-1",children:_.label},_.id))})]},S.value)})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 text-lg flex items-center gap-2",children:[s.jsx(Xx,{className:"h-5 w-5 text-blue-600"}),"Delivery Schedule Details"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N(30).map(S=>s.jsx("div",{className:"border rounded-lg p-4 bg-gradient-to-br from-blue-50/30 to-white hover:shadow-md transition-all duration-200 cursor-help group relative",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-secondary rounded-full mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-1 group-hover:text-blue-700 transition-colors",children:S.label}),s.jsx("p",{className:"text-sm text-gray-900 mb-2",children:S.description}),s.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:["Available for: ",S.id==="daily"?"All periods":S.id==="alternate-days"||S.id==="day1-day2"?"15+ days":"30 days only"]}),s.jsxs("div",{className:"absolute left-4 right-4 top-full mt-2 bg-gray-900 text-white text-xs p-3 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 shadow-lg",children:[s.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-900 rotate-45"}),S.tooltip]})]})]})},S.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:"Subscription Benefits"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Better pricing than one-time purchases"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Flexible delivery schedules"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Pause or modify anytime"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Fresh delivery guaranteed"})]})]})]})]})]})})]}))},kbe=()=>jr({queryKey:["area-masters"],queryFn:async()=>{const t=await ut("/api/public/area-masters");return t.data||t},staleTime:5*60*1e3,cacheTime:10*60*1e3}),UP=({showDeliveryInfo:e=!0,showDairyOnly:t=!1,simple:r=!1})=>{const[n,a]=g.useState(""),{data:i=[],isLoading:o,isError:l}=kbe(),u=g.useMemo(()=>{let p=Array.isArray(i)?i:[];return p=p.filter(x=>x&&x.deliveryType==="HandDelivery"),t&&(p=p.filter(x=>x&&x.isDairyProduct)),n&&(p=p.filter(x=>{var y,w;return x&&(x.name.toLowerCase().includes(n.toLowerCase())||x.pincodes.includes(n)||!!((w=(y=x.depot)==null?void 0:y.name)!=null&&w.toLowerCase().includes(n.toLowerCase())))})),p},[i,n,t]),f=u;return o?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ct,{className:"h-6 w-48"}),s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,p)=>s.jsxs(At,{className:"w-full",children:[s.jsx(Dt,{children:s.jsx(Ct,{className:"h-6 w-32"})}),s.jsxs(Tt,{className:"space-y-2",children:[s.jsx(Ct,{className:"h-4 w-full"}),s.jsx(Ct,{className:"h-4 w-3/4"})]})]},p))})]}):l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(yu,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Failed to load delivery areas"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please try again later"})]}):Array.isArray(i)&&i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(yu,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"No delivery areas available"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"We're expanding our coverage soon"})]}):r?s.jsx("div",{className:"space-y-2",children:f.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(h=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 rounded-md",children:h.name},h.id))}):s.jsx("p",{className:"text-sm text-gray-500",children:"No delivery areas available"})}):s.jsxs("div",{className:"space-y-6",children:[u.length===0&&n&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Is,{className:"mx-auto h-8 w-8 mb-3 text-gray-400"}),s.jsxs("p",{className:"text-gray-500",children:['No areas found for "',n,'"']}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try a different search term or pincode"})]}),f.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:s.jsx(uu,{className:"h-5 w-5 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Home Delivery Areas"}),s.jsxs(Fr,{variant:"secondary",className:"bg-green-100 text-green-700",children:[f.length," areas"]})]}),s.jsx("div",{className:"grid gap-2 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2",children:f.map(h=>s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border border-green-100 bg-green-50/50 hover:bg-green-50 transition-colors",children:[s.jsx(yu,{className:"h-3 w-3 text-green-600 flex-shrink-0"}),s.jsx("span",{className:"text-sm font-medium text-gray-700 flex-wrap",children:h.name})]},h.id))})]})]})},Tg=()=>{const[e,t]=g.useState(null),[r,n]=g.useState("home"),a=1,[i,o]=g.useState(!1),[l,u]=g.useState(!1),[f,h]=g.useState(!1),[p,x]=g.useState(!1),[y,w]=g.useState(!1),[b,N]=g.useState(!1),[j,S]=g.useState(!1);g.useEffect(()=>{try{const U=localStorage.getItem("user");if(U){const F=JSON.parse(U);N(!!F),F&&F.role==="ADMIN"&&S(!0)}else N(!1)}catch(U){console.error("Failed to parse user data from localStorage",U),N(!1)}},[]);const A=async()=>{const U=await ut("/depots?limit=1000");return(U==null?void 0:U.data)??U},{data:_=[],isLoading:C}=jr({queryKey:["depots"],queryFn:A});g.useEffect(()=>{if(b&&_&&_.length>0){let U=_;if(r==="home"?U=_.filter(F=>F.isOnline):r==="pickup"&&(U=_.filter(F=>!F.isOnline)),U.length>0){const F=_.find(q=>q.id===e);F&&(r==="home"&&F.isOnline||r==="pickup"&&!F.isOnline)||t(U[0].id)}else t(null)}else!b&&_&&_.length>0&&!e&&t(_[0].id)},[_,r,b,e]);const k=async U=>await ut(`/products/${U}`),{data:T,isLoading:O,isError:R,error:L}=jr({queryKey:["product",a],queryFn:()=>k(a),enabled:!0}),M=_.find(U=>U.id===e),G=()=>{o(!0)},V=()=>{u(!0)},ie=async U=>{console.log("Subscription Confirmed, preparing to send to backend:",U);try{const F=parseInt(U.selectedAddress,10);if(isNaN(F)){console.error("Invalid deliveryAddressId after parsing:",U.selectedAddress);return}const W={productId:U.productId?Number(U.productId):void 0,deliveryAddressId:F,period:U.selectedPeriod,deliverySchedule:U.deliveryOption.toUpperCase(),weekdays:U.deliveryOption==="select-days"&&U.selectedDays&&U.selectedDays.length>0?U.selectedDays:void 0,qty:U.quantity,altQty:U.deliveryOption==="varying"?U.quantityVarying2:void 0,startDate:U.startDate};console.log("Payload to be sent:",W);const q=await Ur("/subscriptions",W);console.log("Subscription created successfully:",q)}catch(F){console.error("Failed to create subscription:",F)}},le=async U=>{console.log("Buy Once Confirmed, processing as single-day subscription:",{...U,selectedDate:U.selectedDate?Lt(U.selectedDate,"yyyy-MM-dd"):void 0});try{const F=U.selectedAddress,W=parseInt(F,10);if(isNaN(W)){console.error("Invalid deliveryAddressId after parsing:",F),he.error("Invalid delivery address selected");return}const q={productId:U.productId?Number(U.productId):void 0,deliveryAddressId:W,period:1,deliverySchedule:"DAILY",weekdays:void 0,qty:U.quantity,startDate:U.selectedDate?Lt(U.selectedDate,"yyyy-MM-dd"):void 0,altQty:void 0,isOneTimePurchase:!0};console.log("Buy Once payload (sent as subscription):",q);const Q=await Ur("/subscriptions",q);console.log("One-time purchase created as subscription successfully:",Q),he.success("Your order has been placed successfully!")}catch(F){console.error("Failed to create one-time purchase:",F),he.error("Failed to place your order. Please try again.")}};if(O)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsx(Ct,{className:"h-[400px] w-full rounded-2xl"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ct,{className:"h-9 w-3/4"}),s.jsx(Ct,{className:"h-6 w-1/2"}),s.jsxs("div",{className:"space-y-2 mt-6",children:[s.jsx(Ct,{className:"h-5 w-full"}),s.jsx(Ct,{className:"h-5 w-4/5"}),s.jsx(Ct,{className:"h-5 w-3/4"})]}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsx(Ct,{className:"h-12 w-full"}),s.jsx(Ct,{className:"h-12 w-full"})]}),s.jsx(Ct,{className:"h-14 w-full mt-8 rounded-2xl"})]})]})})});if(R||!T)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(Wn,{variant:"destructive",className:"max-w-4xl mx-auto",children:[s.jsx(gu,{className:"h-4 w-4"}),s.jsx(ka,{children:"Error Loading Product"}),s.jsxs(Gn,{children:["There was a problem retrieving the product details. Error: ",(L==null?void 0:L.message)||"Product data not found."]}),s.jsx("div",{className:"mt-4",children:s.jsx(pe,{variant:"outline",onClick:()=>window.location.reload(),className:"text-primary",children:"Try Again"})})]})});const B=[{icon:s.jsx(qf,{className:"w-6 h-6 text-green-600"}),title:"100% Natural",description:"No additives or preservatives"},{icon:s.jsx(uu,{className:"w-6 h-6 text-blue-600"}),title:"Daily Delivery",description:"Fresh to your doorstep every morning"},{icon:s.jsx(Qn,{className:"w-6 h-6 text-purple-600"}),title:"Flexible Schedule",description:"Pause or modify anytime"}];return s.jsx("div",{className:"container min-w-full px-4 py-8 max-sm:py-2 bg-white",children:s.jsxs(As.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[s.jsx("div",{className:"bg-muted/10 rounded-2xl flex items-center justify-center  border border-muted/20 max-h-[558px] max-sm:max-h-[380px]",children:T.attachmentUrl?s.jsx(As.img,{src:`https://www.indraai.in//${T.attachmentUrl}`,alt:T.name,className:"object-cover max-md:object-fit max-sm:object-contain rounded-2xl w-full h-full",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5}}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-gray-700",children:[s.jsx("div",{className:"bg-muted/30 rounded-full p-6 mb-4",children:s.jsx(qf,{className:"w-16 h-16"})}),s.jsx("p",{className:"text-lg",children:"Fresh Milk Image"})]})}),s.jsxs("div",{className:"py-4",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-1",children:T.name}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Description"}),s.jsx("div",{style:{textAlign:"justify"},className:"text-gray-700 leading-relaxed prose",children:T.description?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{maxHeight:"6em",overflow:"hidden",position:"relative",cursor:T.description.length>200?"pointer":"default"},onClick:()=>T.description&&T.description.length>200&&h(!0),dangerouslySetInnerHTML:{__html:T.description}}),T.description.length>200&&s.jsx("span",{onClick:()=>h(!0),className:"text-primary font-medium ml-1 cursor-pointer hover:underline",children:"Read more"})]}):s.jsx("p",{children:"Our premium milk comes from grass-fed cows raised in natural pastures. Rich in calcium and essential nutrients, it's pasteurized for safety while maintaining its natural goodness."})})]}),s.jsx("div",{className:"border-t border-muted/20 my-2"}),s.jsx("h1",{className:"text-xl font-semibold mb-1",children:"Subscribe by making an online payment or by paying in advance."}),s.jsx("div",{className:"border-t border-muted/20 my-2"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-3 font-medium",children:"Delivery Preference:"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"deliveryPreference",value:"home",checked:r==="home",onChange:U=>n(U.target.value),className:"mr-2"}),"Home Delivery"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"deliveryPreference",value:"pickup",checked:r==="pickup",onChange:U=>n(U.target.value),className:"mr-2"}),"Store Pickup"]})]})]}),r==="pickup"&&s.jsx("div",{className:"mb-4",children:C?s.jsx(Ct,{className:"h-10 w-full"}):s.jsxs(Wt,{value:e!=null?e.toString():"",onValueChange:U=>t(parseInt(U,10)),children:[s.jsx(Yt,{className:"w-full mt-2 border-black",children:s.jsx(Gt,{placeholder:"Select a store for pickup"})}),s.jsx(Kt,{children:_.filter(U=>!U.isOnline).map(U=>s.jsxs(ct,{value:U.id.toString(),children:[U.name," - ",U.address]},U.id))})]})}),r==="home"&&s.jsx("div",{className:"mb-4",children:s.jsx(UP,{title:"",showDeliveryInfo:!0,showDairyOnly:T==null?void 0:T.isDairyProduct})}),r==="pickup"&&s.jsx("div",{className:"mb-4",children:s.jsxs(pe,{variant:"outline",onClick:()=>x(!0),className:"w-full py-2 text-sm border-blue-500 text-blue-600 hover:bg-blue-50",children:[s.jsx(uu,{className:"h-4 w-4 mr-2"}),"View Store Pickup Locations"]})}),s.jsx("div",{className:"mt-8",children:s.jsx(_be,{product:T,deliveryPreference:r,selectedDepotId:e})})]}),s.jsx("div",{className:"border-t border-muted/20 my-2"}),s.jsxs("div",{className:"mb-2",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Benefits"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:B.map((U,F)=>s.jsxs(As.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},className:"bg-card p-4 rounded-xl border border-muted/20 flex items-start",children:[s.jsx("div",{className:"mr-3 mt-1",children:U.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:U.title}),s.jsx("p",{className:"text-sm text-gray-700",children:U.description})]})]},F))})]}),s.jsx("div",{className:"mt-8 space-y-4",children:b?s.jsx(s.Fragment,{children:b&&!j&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(As.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:s.jsx(pe,{className:"w-full py-6 text-md sm:text-lg bg-secondary hover:bg-secondary/80 text-white shadow-lg transition-all duration-300 rounded-xl",onClick:V,children:"Buy Once"})}),s.jsx(As.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:s.jsx(pe,{className:"w-full py-6 text-md sm:text-lg bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary text-white shadow-lg transition-all duration-300 rounded-xl",onClick:G,children:"Subscribe Now"})})]})}):s.jsxs("div",{children:[s.jsx(pe,{asChild:!0,className:"mb-2 w-full bg-secondary hover:bg-secondary/80 text-white py-6 rounded-lg text-lg font-semibold transition-transform duration-200 hover:scale-105",children:s.jsx(Or,{to:"/login",children:"Buy Once"})}),s.jsx(pe,{asChild:!0,className:"w-full bg-primary hover:bg-primary/80 text-white py-6 rounded-lg text-lg font-semibold transition-transform duration-200 hover:scale-105",children:s.jsx(Or,{to:"/login",children:"Subscribe"})})]})})]})]}),s.jsx(Abe,{depotId:e,isOpen:i,onOpenChange:o,product:T,productId:a,selectedDepot:M,onSubscribeConfirm:ie}),s.jsx(Tbe,{isOpen:l,onOpenChange:u,selectedDepot:M,product:T,productId:a,onBuyOnceConfirm:le}),s.jsx(Xr,{open:f,onOpenChange:h,children:s.jsxs(Zr,{className:"sm:max-w-2xl",children:[s.jsxs(rs,{children:[s.jsxs(ss,{className:"text-xl font-bold",children:[T.name," - Full Description"]}),s.jsx(Oc,{className:"absolute right-4 top-4",children:s.jsx(No,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-4 max-h-[70vh] overflow-y-auto",children:s.jsx("div",{className:"text-gray-700 leading-relaxed prose",dangerouslySetInnerHTML:{__html:T.description||"Our premium milk comes from grass-fed cows raised in natural pastures. Rich in calcium and essential nutrients, it's pasteurized for safety while maintaining its natural goodness. We source our milk from local farms that prioritize animal welfare and sustainable farming practices. Each bottle undergoes rigorous quality checks to ensure you receive the freshest, most nutritious product possible. The cows are fed a natural diet without hormones or antibiotics, resulting in milk that's both delicious and healthier. Perfect for drinking, cooking, or adding to your morning coffee, our milk is a versatile addition to any kitchen. We're proud to support local farmers and bring you a product that's not only good for you but also good for the environment."}})})]})}),s.jsx(Xr,{open:p,onOpenChange:x,children:s.jsxs(Zr,{className:"w-full max-w-full h-full max-h-full sm:max-w-4xl sm:max-h-[80vh] p-0 sm:p-6 flex flex-col",children:[s.jsxs(rs,{className:"px-4 pt-4 sm:px-0 sm:pt-0",children:[s.jsxs(ss,{className:"text-lg sm:text-xl font-bold flex items-center gap-2",children:[s.jsx(uu,{className:"h-5 w-5 text-blue-600"}),"All Delivery Locations"]}),s.jsx(Oc,{className:"absolute right-4 top-4",children:s.jsx(No,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-4 flex-1 overflow-y-auto px-4 sm:px-0",children:C?s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((U,F)=>s.jsx(Ct,{className:"h-16 w-full"},F))}):s.jsx("div",{className:"overflow-y-auto max-h-[60vh] sm:max-h-[60vh]",children:s.jsx("div",{className:"grid gap-4",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold mb-3 text-orange-600 flex items-center gap-2",children:[s.jsx(Qn,{className:"h-4 w-4"}),"Store Pickup Locations"]}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg overflow-x-auto",children:[s.jsxs("table",{className:"w-full min-w-[600px]",children:[s.jsx("thead",{className:"bg-orange-100 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Store Name"}),s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Address"}),s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Contact Person"}),s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Contact Number"})]})}),s.jsx("tbody",{children:_.filter(U=>!U.isOnline).map((U,F)=>s.jsxs("tr",{className:F%2===0?"bg-white":"bg-orange-25",children:[s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm font-medium text-gray-900",children:U.name}),s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm text-gray-600",children:U.address}),s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm text-gray-600",children:U.contactPerson}),s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm text-gray-600",children:U.contactNumber})]},U.id))})]}),_.filter(U=>!U.isOnline).length===0&&s.jsxs("div",{className:"p-4 sm:p-8 text-center text-gray-500",children:[s.jsx(Qn,{className:"mx-auto h-8 w-8 mb-2 text-gray-400"}),s.jsx("p",{children:"No store pickup locations available"})]})]})]})})})}),s.jsx("div",{className:"mt-6 flex justify-end px-4 sm:px-0 pb-4 sm:pb-0",children:s.jsx(pe,{variant:"outline",onClick:()=>x(!1),className:"w-full sm:w-auto",children:"Close"})})]})}),s.jsx(Xr,{open:y,onOpenChange:w,children:s.jsxs(Zr,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden",children:[s.jsxs(rs,{children:[s.jsxs(ss,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(uu,{className:"h-5 w-5 text-green-600"}),"Home Delivery Areas"]}),s.jsx(Oc,{className:"absolute right-4 top-4",children:s.jsx(No,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:s.jsx(UP,{title:"Home Delivery Areas",showDeliveryInfo:!0,showDairyOnly:T==null?void 0:T.isDairyProduct})})}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx(pe,{variant:"outline",onClick:()=>w(!1),children:"Close"})})]})})]})})};function Dbe(){return s.jsx("div",{className:"w-full bg-primary/20 rounded-lg",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"flex  p-4 mb-2  flex-col items-start",children:[s.jsx("div",{className:"flex flex-col",children:s.jsx("h2",{className:"p-2 ml-4 text-secondary text-xl md:text-3xl tracking-tighter lg:max-w-xl font-regular",children:"Why choose Indraai"})}),s.jsx("div",{className:"flex gap-2 pt-6 flex-col w-full",children:s.jsxs("div",{className:"grid grid-cols-1 items-stretch lg:grid-cols-4 gap-4 overflow-x-auto",children:[s.jsxs("div",{className:"flex flex-row gap-4 min-w-full items-start h-full  min-h-[80px] p-4 mr-2 bg-white rounded-lg",children:[s.jsx(yc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary rounded",children:[s.jsx("p",{className:"font-medium",children:"100% Pure A2 Gir Cow Milk"}),s.jsx("p",{className:"text-muted-foreground text-sm text-wrap",children:"Naturally nutritious and easy to digest"})]})]}),s.jsxs("div",{className:"flex flex-row gap-4 min-w-full items-start h-full  min-h-[80px]  p-4 mr-2 bg-white rounded-lg",children:[s.jsx(yc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Absolutely No Adulteration"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Only clean, untainted milk"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(yc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Free from Antibiotics"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Safe and chemical-free"})]})]}),s.jsxs("div",{className:"flex flex-row gap-4 w-full items-start h-full  min-h-[80px]  p-4 mr-2 bg-white rounded-lg",children:[s.jsx(yc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"No Artificial Insemination"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Ethical, traditional breeding practices"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(yc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Cruelty-Free"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Respectful, humane treatment of animals"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(yc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Hormone-Free"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"No growth hormones or unnatural additives"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(yc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Chemical-Free"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Zero exposure to harmful substances"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(yc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"No Steroids"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Clean, unmodified milk"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(yc,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Free-Grazing Cows"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Open pasture grazing for natural well-being"})]})]})]})})]})})})}const Obe="/assets/cows-DFTGI_QC.png",Rbe=({className:e=""})=>{const t=[{icon:aX,title:"Strengthens Immunity",description:"Supports the body's natural defense system"},{icon:tw,title:"High in Calcium & Protein",description:"Essential nutrients for strong bones and muscles"},{icon:Ka,title:"Gentle on the Stomach",description:"Does not cause bloating or indigestion"},{icon:SE,title:"Anti-Inflammatory Benefits",description:"Helps reduce internal inflammation"},{icon:SE,title:"Supports Heart Health",description:"Promotes cardiovascular well-being"},{icon:OI,title:"Nourishes the Skin",description:"Contributes to healthy, glowing skin"}],r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},n={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},a={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}},i={hidden:{opacity:0,x:50},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}};return s.jsx("div",{className:`py-4 px-4 overflow-x-hidden overflow-y-hidden ${e}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[s.jsxs(As.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center ",variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[s.jsxs(As.div,{className:"relative   ",variants:a,children:[s.jsx("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl",children:s.jsx("img",{src:Obe,alt:"A2 Milk from Indian Desi Cows",className:"w-full h-[400px] lg:h-[500px] object-cover"})}),s.jsxs(As.div,{className:"absolute z-22 -bottom-4 -right-4 bg-primary text-primary-foreground px-4 py-2 rounded-full shadow-lg",initial:{scale:0},animate:{scale:1},transition:{duration:.5},children:[s.jsx(dQ,{className:"w-5 h-5 inline mr-2"}),"Pure A2 Milk"]})]}),s.jsx(As.div,{className:"space-y-6 overflow-hidden",variants:i,children:s.jsxs("div",{children:[s.jsx(Fr,{variant:"outline",className:"mb-4",children:"Premium Quality"}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-6",children:"A2 Milk"}),s.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed text-justify",children:[s.jsx("p",{children:"A2 milk contains the A2 beta-casein protein, which is naturally present in the milk of Indian-origin (Desi) cow breeds such as Gir, Kathiawadi, Dangi, Sahiwal, Hallikar, Konkan Gidda, and others. This protein makes A2 milk lighter on the stomach and easier to digest."}),s.jsx("p",{children:"A2 milk is structurally closer to human mother's milk, making it not only more digestible but also suitable for young children."}),s.jsx("p",{children:"In contrast, regular milk typically comes from hybrid breeds like Holstein Friesian and Jersey cows. While these breeds are preferred in commercial dairies due to their high milk yield, their milk contains A1 beta-casein, which may cause digestive discomfortsuch as bloating, gas, or crampsin some individuals."}),s.jsx("p",{children:"For those sensitive to regular milk, A2 milk offers a gentler, nutrient-rich alternative that supports better digestion and overall well-being."})]})]})})]}),s.jsxs(As.div,{className:"space-y-3 border border-gray-200 p-4 rounded-lg bg-primary/20",variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[s.jsxs(As.div,{className:"text-center space-y-2 ",variants:n,children:[s.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"A2 Milk Benefits"}),s.jsx("p",{className:"text-sm text-gray-700 max-w-2xl mx-auto",children:"Discover the numerous health advantages of choosing A2 milk for you and your family"})]}),s.jsx(As.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",variants:r,children:t.map((o,l)=>s.jsx(As.div,{variants:n,whileHover:{y:-3},transition:{duration:.2},children:s.jsx(At,{className:"h-fit hover:shadow-md transition-all duration-300 border-border/50 hover:border-primary/20",children:s.jsx(Tt,{className:"",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg flex-shrink-0",children:s.jsx(o.icon,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-1 leading-snug",children:o.title}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:o.description})]})]})})})},l))})]})]})})},VP=()=>{const e=gr(),[t,r]=g.useState("login"),[n,a]=g.useState([]),[i,o]=g.useState(!0),[l,u]=g.useState(null),[f,h]=g.useState(!1),[p,x]=g.useState(null),[y,w]=g.useState([]),[b,N]=g.useState(!0),[j,S]=g.useState(null),[A,_]=g.useState(!1),[C,k]=g.useState(null),T={},O="https://www.indraai.in//";g.useEffect(()=>{(async()=>{o(!0),u(null);try{const V=await fetch("/api/products/public");if(!V.ok)throw new Error(`HTTP error! status: ${V.status}`);const ie=await V.json();a(ie)}catch(V){u(V instanceof Error?V.message:"An unknown error occurred")}finally{o(!1)}})();const G=localStorage.getItem("user");if(G)try{const V=JSON.parse(G);V&&(_(!0),k(V.name||V.username||V.email||"User"),V.role&&x(V.role))}catch(V){console.error("Failed to parse user data from localStorage",V),x(null),_(!1),k(null)}else x(null),_(!1),k(null)},[]),g.useEffect(()=>{(async()=>{N(!0),S(null);try{const G=await ut("/api/admin/public/banners",{sortBy:"listOrder",sortOrder:"asc",limit:7});if(G&&G.banners&&G.banners.length>0){const V=G.banners.filter(ie=>ie.imagePath).map(ie=>{const le=T[ie.id]||(ie.mobileImagePath?`${O}${ie.mobileImagePath}`:`${O}${ie.imagePath}`);return{id:ie.id,src:`${O}${ie.imagePath}`,alt:ie.caption||`Indraai Milk Banner ${ie.id}`,title:ie.description||void 0,mobileSrc:le}});w(V)}else w([{id:"unsplash-1",src:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=640&auto=format&fit=crop",alt:"Fresh milk in glass bottles",title:"Pure A2 Milk, Delivered Fresh"},{id:"unsplash-2",src:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=640&auto=format&fit=crop",alt:"Cows grazing in green pasture",title:"From Happy Cows to Your Home"},{id:"unsplash-3",src:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=2080&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=640&auto=format&fit=crop",alt:"Dairy farm at sunrise",title:"Natural, Ethical, Sustainable"}])}catch(G){const V=G instanceof Error?G.message:"Failed to fetch banners for hero section";console.error("Error fetching hero banners:",V),S(V),w([{id:"unsplash-1",src:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=640&auto=format&fit=crop",alt:"Fresh milk in glass bottles",title:"Pure A2 Milk, Delivered Fresh"},{id:"unsplash-2",src:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=640&auto=format&fit=crop",alt:"Cows grazing in green pasture",title:"From Happy Cows to Your Home"},{id:"unsplash-3",src:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=2080&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=640&auto=format&fit=crop",alt:"Dairy farm at sunrise",title:"Natural, Ethical, Sustainable"}])}finally{N(!1)}})()},[]);const R=()=>{localStorage.removeItem("user"),e("/"),window.location.reload()},L=A&&p==="MEMBER";return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[s.jsx(Q8,{isLoggedIn:A,userName:C,onLogout:R,showWallet:L}),s.jsx("section",{className:"relative mt-25",children:s.jsxs("div",{className:"relative w-full",children:[b&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center ",children:s.jsx("p",{children:"Loading images..."})}),!b&&j&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-100",children:s.jsxs("p",{className:"text-red-700",children:["Could not load banner images: ",j]})}),!b&&!j&&y.length>0&&s.jsx(tbe,{images:y})]})}),s.jsx("section",{id:"benefits",className:"py-8 bg-white",children:s.jsxs("div",{className:"container max-w-6xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center text-primary mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight mb-3 text-primary",children:"Indraai"}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"h-1 w-20  rounded-full"})}),s.jsxs("p",{className:"text-lg max-w-7xl text-gray-800 leading-relaxed text-justify",children:["Indraai combines two words Indriya (Senses) that connect the soul - Atma to the physical world and Aai (Mother) - i.e., the food from the mother to nourish the senses.",s.jsx("br",{}),s.jsx("br",{}),"Indraai is a brand of"," ",s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"})," ","that aims to give wholesome pure food, without addition of any artificial substances.",s.jsx("br",{}),s.jsx("br",{}),"The Dairy and Processed products such as A2 ghee, A2 Ghee ladoos, Woodpressed oils, Namkeen etc. are marketed under the brand name of Indraai."]})]}),s.jsx("div",{id:"product-detail-section",children:s.jsx(Tg,{})}),s.jsx("div",{className:"block",children:s.jsx(Dbe,{})}),s.jsx("div",{children:s.jsx(Rbe,{})})]})}),s.jsx("section",{className:"py-6 bg-white",children:s.jsxs("div",{className:"container max-w-6xl mx-auto px-4 bg-white",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:"The way we satisfy the demand of A2 Milk"}),s.jsx("div",{className:"w-32 md:w-48 h-1 bg-primary rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-sm md:text-base text-gray-700 max-w-4xl mx-auto leading-relaxed text-justify",children:"Absolutely nothingwe don't regulate milk supply based on demand. Our milk comes directly from the Bharwad community, who have been rearing Gir cows for generations, without any external chemicals or additives to boost production."}),s.jsx("p",{className:"text-sm md:text-base text-gray-700 max-w-4xl mx-auto leading-relaxed mt-2 text-justify",children:"Instead, the Bharwad community's relationship with Desi Gir cows transcends today's commercial mindset:"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsx("div",{className:"group",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 text-center",children:"Native Heritage"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center",children:"The Desi Gir cow originates in the Gir Forest of Gujarat, India. She's distinguished by a pronounced hump and loose skin around her neck, celebrated for her gentle disposition and remarkable resilience in any climate."})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 text-center",children:"Natural Milking Cycle"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center",children:"On each farm, some Gir cows are in their milking phase while others rest. Calves always feed first; any remaining milk is then collected by the farmer. Cows not lactating receive the same dedicated care until the end of their natural lives."})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 text-center",children:"Essential Bulls"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center",children:"Gir bulls assist with agricultural work and help sustain the herd through natural breeding, ensuring the continuation of the breed's legacy."})]})})]})]})}),s.jsx(Pbe,{})]})},Pbe=()=>s.jsxs("footer",{className:"bg-slate-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-8 gap-y-10",children:[s.jsxs("div",{className:"md:col-span-12 lg:col-span-4",children:[s.jsxs("div",{className:"mb-6 flex items-center",children:[s.jsx(qf,{className:"h-10 w-10 text-green-600 mr-3"}),s.jsx("a",{href:"https://sarkhotnaturalfarms.com/",className:"text-xl font-bold text-green-700 dark:text-green-500",children:"Sarkhot Natural Farms"})]}),s.jsxs("p",{className:"text-sm mb-6 leading-relaxed",children:[s.jsx("a",{href:"https://sarkhotnaturalfarms.com/",className:"  text-green-700 dark:text-green-500 mr-1",children:"Sarkhot Natural Farms"}),"denote the community of natural farmers. Natural means"," ",s.jsx("span",{className:"font-semibold text-red-500",children:"%"})," chemical free, preservative free and poison free."]}),s.jsx("h3",{className:"text-[0.9rem] font-semibold mb-3 text-gray-600 dark:text-gray-400",children:"Payment Accepted"}),s.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:["Mastercard","Discover","BitPay","Visa","Stripe"].map(e=>s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-md shadow-sm",children:e},e))})]}),s.jsx("div",{className:"hidden lg:block lg:col-span-1"}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4    border-b-2 border-primary pb-1 inline-block",children:"Policies"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/privacy-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/refund-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Refund and Returns Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/shipping-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Shipping and delivery policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/terms-conditions",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Terms and Conditions"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4    border-b-2 border-primary pb-1 inline-block",children:"Useful Links"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx("a",{href:"/member/products",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Products"})}),s.jsx("li",{children:s.jsx("a",{href:"/about",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx("a",{href:"/contact",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Contact Us"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-3",children:[s.jsx("h3",{className:"text-md font-semibold mb-4  dark  border-b-2 border-primary pb-1 inline-block",children:"Store Location"}),s.jsxs("address",{className:"text-sm not-italic space-y-2 leading-relaxed",children:[s.jsxs("p",{children:[s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),", Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East - 421201"]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:"Landmark"})," ","- Near Brahman Sabha hall."]}),s.jsx("p",{children:s.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors break-all",children:"sarkhotnaturalfarms@gmail.com"})}),s.jsx("p",{children:s.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"+91 9920999100"})})]})]})]})}),s.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 py-4 border-t border-gray-300 dark:border-gray-700",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("p",{className:"mb-2 md:mb-0 text-center md:text-left",children:[" ",new Date().getFullYear()," ",s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),". All Rights Reserved."]}),s.jsxs("p",{className:"text-center md:text-right",children:["Powered by"," ",s.jsx("a",{href:"https://sanmisha.com/",className:"font-semibold text-primary dark:text-primary hover:underline",children:"Sanmisha Technologies"})]})]})})]}),Mbe=()=>s.jsx("div",{className:"min-h-screen ",children:s.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",style:{textAlign:"justify"},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:s.jsx(qf,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"About Us"})]}),s.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"}),s.jsxs("p",{className:"text-lg text-gray-600 font-medium",children:["Namaste, welcome to ",s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"})," Family."]})]}),s.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed space-y-8",children:[s.jsxs("p",{children:[s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),' is a dedicated one-stop destination for 100% naturally grown farm produce. By "natural," we mean completely chemical-free, preservative-free, and toxin-free food  cultivated using traditional methods passed down through generations.']}),s.jsx("p",{children:"Our farming practices rely solely on desi cow dung and cow urine-based homemade inputs, both at our own farm and among our network of like-minded farmers. This ensures that the food you receive is as pure and wholesome as what your grandparents once enjoyed."}),s.jsx("p",{children:"Located in Kambe village, Shahpur district, Maharashtra, our flagship Sarkhot Farm is rooted in the principles of Natural Farming. In addition to our own produce, we also source from a trusted network of natural farmers across India who share our values."}),s.jsx("p",{children:"Our farmer community is diverse  united by purpose but inspired by various philosophies. While most follow Dr. Subhash Palekar's Natural Farming methods, others draw wisdom from Shri Rajiv Dixit, the Varkari tradition, tribal knowledge, and spiritual teachings. Together, they form a powerful movement dedicated to producing nutritious food  free from harmful chemicals and full of life-giving energy."})]})]})})}),Ibe="/assets/IMG_20240610_080210527-Dwp_T3eN.jpg",Fbe=()=>s.jsx("div",{className:"min-h-screen ",children:s.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",style:{textAlign:"justify"},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:s.jsx(qf,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Bharwad Gir Cow"})]}),s.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[s.jsx("div",{children:s.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg",children:s.jsx("img",{src:Ibe,alt:"Bharwad community with Gir cows",className:"w-full h-[300px] md:h-[400px] object-cover"})})}),s.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed space-y-8",children:[s.jsx("p",{children:"The Bharwad are a nomadic tribe with a long-standing tradition of rearing Desi Gir cows across generations. Our Indraai A2 milk comes from these cherished Gir cows, lovingly raised by the Bharwad community settled near Alephata, Pune."}),s.jsx("p",{children:"Deeply devoted to their cowswhom they revere as mothersthe Bharwads follow only traditional, ethical practices. They use gentle hand-milking and never resort to hormones, artificial insemination, steroids, or chemical interventions."}),s.jsx("p",{children:"With Indraai A2 milk, you receive more than just nourishmentyou experience the pure, natural essence of milk that supports the body, mind, and soul, just as nature intended."})]})]})]})})}),Lbe=()=>{const[e,t]=g.useState({name:"",email:"",message:""}),r=a=>{t({...e,[a.target.name]:a.target.value})},n=a=>{a.preventDefault(),console.log("Form data submitted:",e),alert("Message sent (simulated)!"),t({name:"",email:"",message:""})};return s.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-6 sm:py-8 md:py-12 lg:py-16 bg-gray-50 min-h-screen",children:s.jsx("div",{className:"max-w-5xl mx-auto bg-white p-3 sm:p-6 md:p-10 shadow-xl rounded-xl border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 md:gap-12",children:[s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gray-800 mb-2 sm:mb-4",children:"Our Shop"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3 text-gray-700 text-sm sm:text-base",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(yu,{className:"w-5 h-5 mr-2 sm:mr-3 mt-1 text-green-600 flex-shrink-0"}),s.jsxs("span",{children:["Sarkhot Natural Farms, Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East : 421201",s.jsx("br",{}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"Landmark - Near Brahman Sabha hall."})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(DI,{className:"w-5 h-5 mr-2 sm:mr-3 text-green-600 flex-shrink-0"}),s.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-700 break-all",children:"+91 9920999100"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(AC,{className:"w-5 h-5 mr-2 sm:mr-3 text-green-600 flex-shrink-0"}),s.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-700 break-all",children:"sarkhotnaturalfarms@gmail.com"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gray-800 mb-2 sm:mb-4",children:"Opening Time"}),s.jsx("div",{className:"space-y-1 text-gray-700 text-sm sm:text-base",children:s.jsx("p",{children:"Store time : 7 am - 9 pm (Monday - Sunday)"})})]})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gray-800 mb-1",children:"Get In Touch"}),s.jsx("h3",{className:"text-lg sm:text-xl font-medium text-gray-700 pt-1 sm:pt-2",children:"Write to Us"}),s.jsxs("form",{onSubmit:n,className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"sr-only",children:"Name"}),s.jsx("input",{type:"text",name:"name",id:"name",value:e.name,onChange:r,placeholder:"Name",required:!0,className:"w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm text-sm sm:text-base"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),s.jsx("input",{type:"email",name:"email",id:"email",value:e.email,onChange:r,placeholder:"Email",required:!0,className:"w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm text-sm sm:text-base"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"sr-only",children:"Message"}),s.jsx("textarea",{name:"message",id:"message",rows:4,value:e.message,onChange:r,placeholder:"Message",required:!0,className:"w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm text-sm sm:text-base"})]}),s.jsx("div",{children:s.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center px-4 sm:px-6 py-3 bg-primary text-white font-semibold rounded-md hover:bg-primary focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 shadow-md transition duration-150 ease-in-out text-base",children:[s.jsx(rX,{className:"w-5 h-5 mr-2"})," Send"]})})]})]})]})})})},Bbe=()=>{const e=[{title:"Our Mentor",text:"Shri Prashant Sarkhot, helps us to find the direction and keeps us grounded.",icon:""},{title:"Our dear staff",text:"have spent long hours meeting deadlines. They have kept their calm while delivering items even at odd places and at odd times. They have made sure that the quality control is always at its best and have been receptive and eager to improve with feedback. Our team is our backbone, and we are grateful to have them.",icon:""},{title:"Our consumers",text:"have helped in improving the quality of service, packing, delivery schedules, and adding various products with their valuable feedback which was always constructive. The faith that they have kept in us, their appreciation, and respect have helped us in having the clarity of WHY IS THERE A NEED OF SNF?",icon:""},{title:"Nature (This Universe)",text:"has been so helpful and supportive to make us meet the right people at the right time. It has helped us to get the answers when we were full of doubts and questions.",icon:""},{title:"Swami Vivekanand, Dr. Subhash Palekar, Shri Rajeev Dixit and our Freedom Fighters",text:"Their teachings have shaped SNF as well as the life of many farmers. This farming technique is also spiritual due to the presence of spiritual teachers. Their direction helped us to understand nature more deeply.",icon:""},{title:"Our Network farmers",text:"have been instrumental in supplying naturally grown food. Despite problems, they have made natural farming successful and helped so many of us to lead healthy lives. They have listened to consumer feedback and improved their quality with consistent efforts.",icon:""},{title:"Our Friends & Family",text:"have been instrumental in our growth. Their love keeps us going and is the best example of Unconditional love.",icon:""},{title:"Innumerable People",text:"have met us and influenced us in day-to-day life. Many ideas were generated due to them, and we are grateful to learn from them.",icon:""}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-green-50 py-8 md:py-12 lg:py-16",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-block bg-gradient-to-r from-amber-400 to-green-500 p-1 rounded-full mb-6",children:s.jsx("div",{className:"bg-white rounded-full p-3",children:s.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-green-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:s.jsx("span",{className:"text-3xl text-white",children:""})})})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-amber-600 to-green-700 bg-clip-text text-transparent mb-4",children:"GRATITUDE"}),s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed bg-white/80 backdrop-blur-sm p-4 rounded-lg border border-amber-100 shadow-sm",children:"We have come a long way from where we started. From having a little sense of direction, we now have a clear path that is becoming clearer day by day. This is due to the presence of so many people and we are happy to recognize them."})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>s.jsxs("div",{className:"bg-white rounded-xl border border-amber-100 overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 ease-in-out transform hover:-translate-y-1 flex flex-col h-full",children:[s.jsxs("div",{className:"p-5 pb-4 flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 bg-gradient-to-br from-amber-100 to-green-100 w-12 h-12 rounded-lg flex items-center justify-center mr-4 mt-1",children:s.jsx("span",{className:"text-xl",children:t.icon})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.text})]})]}),s.jsx("div",{className:"mt-auto px-5 pb-4 pt-2",children:s.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-amber-300/30 to-green-400/30 rounded-full"})})]},r))}),s.jsxs("div",{className:"mt-10 text-center text-gray-700",children:[s.jsxs("p",{className:"mb-1",children:["Please drop an email at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"contact@sarkhotnaturalfarms.com"})]}),s.jsxs("p",{className:"mb-1",children:["Connect on WhatsApp / Call: ",s.jsx("span",{className:"font-medium",children:"9920999100"})]}),s.jsx("p",{children:"We will get back to you within 48 hours"})]})]})})})},$be=()=>s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 prose dark:prose-invert max-w-4xl",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Privacy Policy"}),s.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Last updated: August 29, 2022"}),s.jsx("p",{className:"mb-4",children:"Namaste! We are glad to have you here. Sarkhot Natural Farms denotes the community of natural farmers. Natural means chemical-free, preservative-free, and poison-free. Only cow dung and cow urine-based homemade preparations are used by farmers in cultivation. All our products are grown with natural farming practices. Our farm is at Kambe, Shahpur, Maharashtra."}),s.jsx("p",{className:"mb-4",children:"We and our network farmers are inspired by SPNF, SPK, Natural farming, Freedom fighters and teachings of Swami Vivekanand, Shri Rajeev Dixit, Dr. Subhash Palekar and our spiritual Gurus. Visit our Gratitude page to know more about us."}),s.jsxs("p",{className:"mb-4",children:["Our website address is: ",s.jsx("a",{href:"https://sarkhotnaturalfarms.com",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"https://sarkhotnaturalfarms.com"})," and our store is located at B/3, Prabhat Society, Dr Mukherjee Road, Dombivali East  421201. Our website showcases our products, e-commerce shop, services, our work, our engagement with farmers etc."]}),s.jsx("p",{className:"mb-6",children:"At SNF, we understand that when you use our services, you trust us with your information. Our privacy policy helps to explain what information we may gather about you, and how it may be utilized."}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What Data Do We Collect?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"We collect personal information such as your first name, last name, contact details, email, residence address and all such relevant information that is necessary for our engagement with you. We collect information when you buy from us, enquire about us, or engage with us through any mode."})}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Accuracy of information?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"When you share your personal information with us, we assume it to be accurate and up to date."})}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Do we store your details of Banking/Payment?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"You may choose to pay in cash, online or wallet transfer."}),s.jsx("li",{children:"When you make online payments, third party networks or our processing partners may take certain details such as your credit card, debit card, net-banking login etc. We do not access, store, or collect such banking/payment details."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What about engagement on Website and Social media accounts?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"When you engage with us through our social media handles, we collect your personal information such as name, age, location, gender, area of interest etc. This information is collected so that we can work on your feedback, analyze it for market research or suggest relevant products to you or as part of our marketing campaigns."})}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What do we do with your Comments?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"When visitors leave comments on our site/social media handles, we collect the data shown in the comments, visitors IP address and browser user agent string to help spam detection."}),s.jsxs("li",{children:["An anonymized string created from your email address (also called a hash) may be provided to the Gravatar service to see if you are using it. The Gravatar service privacy policy is available here:"," ",s.jsx("a",{href:"https://automatic.com/privacy/",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"https://automatic.com/privacy/"}),"."]}),s.jsx("li",{children:"After approval of your comment, your profile picture is visible to the public in the context of your comment."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What is the use of Media (Image/audio/video etc)?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"If you upload images to the website, you should avoid uploading images with embedded location data (EXIF GPS) included. Visitors to the website can download and extract any location data from images on the website."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What are Cookies?"}),s.jsx("p",{className:"mb-4",children:"Cookies are small text files that are placed on your computer by websites that you visit. These files may be used to record information about your use of the site and thus may help to improve the efficiency of the site."}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If you leave a comment on our site, you may opt-in to saving your name, email address and website in cookies. These are for your convenience so that you do not have to fill in your details again when you leave another comment. These cookies will last for one year."}),s.jsx("li",{children:"If you visit our login page, we will set a temporary cookie to determine if your browser accepts cookies. This cookie contains no personal data and is discarded when you close your browser."}),s.jsx("li",{children:"When you log in, we will also set up several cookies to save your login information and your screen display choices. Login cookies last for two days, and screen options cookies last for a year. If you select Remember Me, your login will persist for two weeks. If you log out of your account, the login cookies will be removed."}),s.jsx("li",{children:"If you edit or publish an article, an additional cookie will be saved in your browser. This cookie includes no personal data and simply indicates the post ID of the article you just edited. It expires after 1 day."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does Web Analytics work?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Our Website uses Google Analytics, a web analytics service. Google Analytics uses cookies, text files that are stored on your computer and enable analysis of your use of the website. The information generated by the cookies is stored on third party (Google) server."}),s.jsx("li",{children:"You may refuse the use of cookies by selecting the relevant settings on your browser software. You can also prevent the data generated by the cookie of your use by installing the Google Analytics Opt-out Browser Add-on."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does Embedded content work?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Articles on this site may include embedded content (e.g. videos, images, articles, etc.). Embedded content from other websites behaves in the exact same way as if the visitor has visited the other website."}),s.jsx("li",{children:"These websites may collect data about you, use cookies, embed additional third-party tracking, and monitor your interaction with that embedded content, including tracking your interaction with the embedded content if you have an account and are logged in to that website."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does E-mail Newsletters work?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"If you have received one of our e-mail newsletters, we may use some additional cookies to enable us to track the open rates of e-mails. This allows us to track the interest levels of our newsletters to ensure we are only sending out relevant information. They only work if you have downloaded the images. All our e-mail newsletters have the option to unsubscribe, so if you no longer wish to receive these e-mails, you can unsubscribe from the list."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What do we do with your data?"}),s.jsx("p",{className:"mb-2",children:"We use the details for the following purposes:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Share product updates, farmer stories, new recipes."}),s.jsx("li",{children:"Create and maintain your unique account on our e-commerce shop;"}),s.jsx("li",{children:"Process your orders"}),s.jsx("li",{children:"Calculate your bill for the products/services"}),s.jsx("li",{children:"Facilitate consumer research"}),s.jsx("li",{children:"Respond to requests, enquiries, complaints, and other customer care related activities,"}),s.jsx("li",{children:"Maintain internal record and comply with our legal or statutory obligations."}),s.jsx("li",{children:"All other relevant activities which facilitate us to achieve the mission of Sarkhot Natural Farms."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Who we share your data with?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"We dont sell, rent, lease, use or share your data with third parties in a way as to reveal any of your personal information."}),s.jsx("li",{children:"Any contact messages received through this website related to hiring and customer service are also never used for marketing purposes or shared with any third parties."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"How long do we retain your data?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If you leave a comment, the comment and its metadata are retained indefinitely. This is so we can recognize and approve any follow-up comments automatically instead of holding them in a moderation queue."}),s.jsx("li",{children:"For users that register on our website (if any), we also store the personal information they provide in their user profiles. All users can see, edit, or delete their personal information at any time (except they cannot change their username). Website administrators can also see and edit that information."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What rights do you have over your data?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"You have the right to access, rectify, modify, restrict or withdraw your consent of our use of your personal information."}),s.jsx("li",{children:"If you have an account on this site or have left comments, you can request to receive an exported file of the personal data we hold about you, including any data you have provided to us."}),s.jsx("li",{children:"You can also request that we erase any personal data we hold about you. This does not include any data we are obliged to keep for administrative, legal, or security purposes."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What security measures do we follow?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Your Personal Information is stored on third-party cloud servers. Although we provide appropriate firewalls and protections, we cannot warrant the security of personal information transmitted as these systems are not hack proof."}),s.jsx("li",{children:"Data pilferage due to unauthorized hacking, virus attacks, technical issues is possible, and we will take necessary measures to mitigate such events."}),s.jsx("li",{children:"You are required to be careful to avoid phishing scams, where someone may send you an e-mail that looks like it is received from us."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Limitation of liability"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"To the extent permissible under the law, we shall not be liable for any direct, indirect, incidental, special, consequential, or exemplary damages, including but not limited to, damages for loss of profits, goodwill, data, information, or other intangible losses arising out of this Privacy Policy."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Governing laws and disputes"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"This Privacy Policy shall be construed and governed by the laws of India. The courts in Kalyan-Dombivali, Maharashtra India shall have exclusive jurisdiction over such disputes."})}),s.jsx("p",{className:"mt-8 mb-4 text-sm text-gray-600 dark:text-gray-400",children:"This Privacy Policy was updated on August 29, 2022."}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Need Help?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsxs("li",{children:[s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"contact@sarkhotnaturalfarms.com"}),"  is our email for general enquiries or for any assistance."]}),s.jsxs("li",{children:[s.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@sarkhotnaturalfarms.com"}),"  is our email for any queries, complaints, or grievances."]}),s.jsxs("li",{children:[s.jsx("a",{href:"tel:+919920999100",className:"text-green-600 hover:underline",children:"9920999100"})," is our contact number both for WhatsApp and call. However, it may not be feasible to meet you always on call and so we request you drop us an SMS or WhatsApp message so that we can get back to you at the earliest."]})]}),s.jsx("p",{className:"mt-8 mb-4",children:"Sarkhot Natural farms denote the community of natural farmers. Natural means % chemical free, preservative free and poison free."})]}),Ube=()=>s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 prose dark:prose-invert max-w-4xl",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Refund and Returns Policy"}),s.jsx("p",{className:"mb-4",children:"All our products are grown with natural farming practices. There is no use of chemicals or heavy machinery which can give similar/standard results. This means two batches can vary in size, taste, etc."}),s.jsx("p",{className:"mb-4",children:"Our promise to you is that we are enthusiastic about our farming practice, which is simple, traditional, and natural. Our network partners are inspired by SPNF, SPK, or Natural farming practices. Only Desi Cow dung and cow urine are used in our farming. No chemical by whatever name is used and so you get pure natural health products."}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"We have a 10 days return policy."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Points to note before jumping to Returns/Refunds policy:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"We recommend you try small size packets first so that you understand if you like the product. Once you are happy, then start bulk buying. This shall reduce your chances of returns/refunds drastically and give you a better consumer experience."}),s.jsxs("li",{children:["If you have doubts about any products, read the information given on our website"," ",s.jsx("a",{href:"https://www.Sarkhotnaturalfarms.com",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"www.Sarkhotnaturalfarms.com"}),". We have used actual photos of products at most places with a humble belief that our product images along with the content will help you in your buying journey. If still, you have questions, kindly reach us on WhatsApp / call  ",s.jsx("a",{href:"tel:9920999100",className:"text-green-600 hover:underline",children:"9920999100"})," or email us at"," ",s.jsx("a",{href:"mailto:Contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Contact@sarkhotnaturalfarms.com"})," before buying any product."]}),s.jsx("li",{children:"We have curated our Refund & Returns policy (given below) so that genuine cases of damage/defect are promptly resolved."}),s.jsx("li",{children:"Refund/return request is eligible only in cases where the items are defective/damaged OR are missing."}),s.jsx("li",{children:"Good faith is a key to being eligible for a refund/replacement. If we come across bad intentions/bad faith or any such setting which tries to take advantage of this policy, we have every right to deny any replacement/refund."}),s.jsx("li",{children:"In cases, where a consumer has purchased something by mistake, returns/refund request is denied as a fair amount of cost has already been incurred in packaging, Quality control, billing & delivery."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Timeline for raising refund/return request:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Dry items such as Grocery, Wood Pressed OR Cold pressed oils, A2 Desi ghee & butter: Within 10 days from the delivery date."}),s.jsx("li",{children:"Fresh Fruits & Vegetables: Within 1 day from the delivery date."}),s.jsx("li",{children:"Fresh Fruits (Delivered in raw form): In the case of Fruits, where the items were delivered in their raw stage, the replacement/refund timeline starts when the fruits start to ripen. However, as these items are at the consumers place, storage care must be taken by the consumer."}),s.jsx("li",{children:"For Items with specific replacement/refund timelines: Specific timelines will precede the general timelines. For Mangoes, if it is mentioned that 2 in every 12 mangoes are assumed to get spoilt and replacement/refund is eligible for 3 mangoes and above. Then this special replacement/refund policy for mangoes precedes our general replacement policy."}),s.jsx("li",{children:"Missing product: If in a package, one or more items are missing, then notify us within 3 days from the delivery date. Here return/replacement will be applicable only for missing items (Not for the whole package)."}),s.jsx("li",{children:"If a consumer reaches out to us within the given timelines, we shall replace/process their refund after our due diligence."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Situations where no refund/replacement is granted:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Items of personal use eg: Panchgavya soap."}),s.jsx("li",{children:"Items with the seal broken/used e.g.: Honey, Kakvi (Blackstrap molasses), Oil, Ghee, etc."}),s.jsx("li",{children:"Any item not in its original condition is damaged or missing parts for reasons not due to our error."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"There are certain situations where only partial refunds are granted:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Items with an obvious sign of usage."}),s.jsx("li",{children:"Any item not in its original condition is damaged or missing parts for reasons not due to our error."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Returns pickup"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If your returns match our delivery to your location, then we may pick it up. But this can take time as arranging separately for a return pickup is not cost-effective and so we normally pick up items when we are delivering to you or nearby locations."}),s.jsx("li",{children:"You may also mail your product to B/3, Prabhat Society, Ground floor, Dr. Mukherjee Road, Near CKP Hall, Dombivali East, 421201. The consumer will bear the shipping costs."}),s.jsx("li",{children:"For perishables, vegetables, fruits, etc., returns might not be possible. Here we rely on clear images, your writeup, and communication with our team."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Refunds"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Once your return/refund request is received and inspected, we will send you an email to notify you that we have received your returned item. In the case of perishables, (Fruits/vegetables), returns are not always possible and so we will carry out due diligence based on clear photos and issue identification by our team."}),s.jsx("li",{children:"We will notify you of the approval or rejection of your refund."}),s.jsx("li",{children:"If you are approved, then your refund will be processed."}),s.jsx("li",{children:"You may choose to get a refund to your bank account or add the money to your website wallet. For credits to your wallet, you get a 1% additional amount added. Other than a wallet, we prefer online transfer among all banking modes, but the refund mode shall depend on the situation at the time of refund."}),s.jsx("li",{children:"Refund will be processed within 10  30 days from the date of approval."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Late or missing refunds"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If you havent received a refund yet, first check your bank account again."}),s.jsx("li",{children:"Next contact your bank. There is often some processing time before a refund is posted."}),s.jsxs("li",{children:["If youve done all of this and you still have not received your refund yet, please contact us at"," ",s.jsx("a",{href:"mailto:support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"support@sarkhotnaturalfarms.com"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Sale items"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"Only regular-priced items may be refunded. Sale items cannot be refunded."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"How to notify us/inform us about a refund/return request?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsxs("li",{children:["WhatsApp us on ",s.jsx("a",{href:"https://wa.me/919920999100",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"9920999100"})," or email us at"," ",s.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@sarkhotnaturalfarms.com"}),"."]}),s.jsx("li",{children:"Mention the Order no, Bill amount, date of delivery, and 3 clear photos of the product with a brief of the issue."}),s.jsx("li",{children:"We understand Marathi, Hindi & English so you may choose to communicate in any of these languages."}),s.jsx("li",{children:"We condemn the use of foul language and welcome those who can communicate their feelings respectfully."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Need help?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsxs("li",{children:["Contact us at"," ",s.jsx("a",{href:"mailto:Support@SarkhotNaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@SarkhotNaturalfarms.com"})," or WhatsApp us at"," ",s.jsx("a",{href:"https://wa.me/919920999100",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"9920999100"}),"."]})}),s.jsx("p",{className:"mt-8 mb-4",children:"Sarkhot Natural farms denote the community of natural farmers. Natural means % chemical free, preservative free and poison free."})]}),Vbe=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-lg p-6 md:p-8 lg:p-10 prose dark:prose-invert max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-green-700 dark:text-green-500",children:"Shipping and Delivery Policy"}),s.jsx("p",{className:"lead text-lg",children:"Namaste! We are glad to have you here. Our Shipping and Delivery Policy will guide you with a clear understanding of how items are shipped, delivery timelines, the nature of goods available, delivery locations, and where to reach out in case of any assistance."}),s.jsx("h2",{children:"Accuracy of Address"}),s.jsx("p",{children:"To ship your items accurately, we require your precise details. Kindly ensure that your pin code, postal address, email ID, and contact number are correct before you place your order."}),s.jsx("h2",{children:"Shipping Mode"}),s.jsx("p",{children:"We deliver through transport vehicles, courier services, train, and traveler van facilities."}),s.jsx("h3",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai, Dombivali & Kalyan"}),s.jsx("p",{children:"We deliver through goods vehicles on most days. Delivery rates are provided separately in the Delivery Charges section."}),s.jsx("p",{children:"In exceptional situations, we may use train, courier, or traveler bus facilities. In such cases, delivery costs may vary from the general rates. We will coordinate with you to decide the best option based on actual shipping rates and feasibility."}),s.jsx("h3",{children:"For Rest of India"}),s.jsx("p",{children:"We use courier, traveler bus, and train facilities to deliver to the Rest of India."}),s.jsx("p",{children:"Dry grocery items are delivered throughout India."}),s.jsx("p",{children:"Some fruits can also be delivered, e.g., Mangoes, Grapes, Pomegranate, Apples, Mosambi (Sweet lime), etc."}),s.jsxs("p",{children:["Drop us an email at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or SMS/WhatsApp us on ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"}),", and we will guide you if delivery of items is possible. We can then decide on the best route and delivery fee together."]}),s.jsx("h2",{children:"Timeline"}),s.jsx("h3",{children:"For Grocery (dry items)"}),s.jsx("p",{children:"Once a product is shipped, it will typically be delivered on the same day for local areas."}),s.jsx("p",{children:"The tentative delivery date is updated on our website. In case of any changes, we shall reach out to you via WhatsApp, call, or email."}),s.jsx("p",{children:"For far-off locations, delivery time will depend on the mode of transport. We will share a tracking link or timeline on WhatsApp/Email for your reference."}),s.jsx("h3",{children:"For Fresh Fruits & Vegetables"}),s.jsx("p",{children:"The availability of fruits and vegetables depends on the climate and their respective harvesting times."}),s.jsx("p",{children:"The tentative delivery date is updated on our website. In case of any changes, we shall reach out to you via WhatsApp, call, or email."}),s.jsx("h2",{children:"Free Shipping"}),s.jsx("p",{children:"Free shipping applies to orders that are above a certain cart value for a specific delivery location. The following limits apply:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"For KDMC (Kalyan-Dombivli Municipal Corporation):"})," Order value of INR 299 and above is eligible for free shipping."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," Order value of INR 799 and above is eligible for free shipping."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Rest of India:"})," At present, there is no free delivery limit. We promise to provide you with the best items at the most effective rates. Email us at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})," to inquire about shipping rates."]})]}),s.jsx("h2",{children:"Delivery Charges"}),s.jsx("p",{children:"Delivery charges apply for order values below the free shipping limits as follows:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"For KDMC:"})," Rs 25/- for order value below INR 299."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," Rs 80/- for order value below INR 799."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Rest of India:"})," Email us at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})," to know the shipping rates. We will update you about the diverse options with rates, considering the safety of the parcel. Delivery charges will be at actuals and will depend on the mode of transport you agree to."]})]}),s.jsx("h2",{children:"Minimum Cart Value to Place Order"}),s.jsx("p",{children:"A minimum cart value is required to accept an order:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"For KDMC:"})," A minimum cart value of INR 99/- is required."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," A minimum cart value of INR 399/- is required."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Rest of India:"})," There is no minimum cart value, but we recommend you buy a decent value to make it cost-effective. Email us at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})," for shipping rates."]})]}),s.jsx("h2",{children:"Summary of Shipping / Delivery Charges"}),s.jsx("div",{className:"overflow-x-auto my-6",children:s.jsxs("table",{className:"min-w-full text-left border-collapse border border-gray-300 dark:border-gray-600",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Location / Type"}),s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Free Delivery Limit (FDL)"}),s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Delivery Fee (Below FDL)"}),s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Minimum Cart Value (MCV)"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"KDMC"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 299"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 25"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 99"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"Mumbai, Mumbai Suburbs, Thane, Navi Mumbai"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 799"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 80"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 399"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"Rest of India"}),s.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 p-2",colSpan:3,children:["Contact ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})]})]})]})]})}),s.jsx("h2",{className:"mt-6",children:"Notes"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Courier mode of delivery:"})," Our courier partners will deliver goods between Monday to Saturday, 9 am to 7 pm. Working days exclude public holidays, festival holidays, and Sundays. Courier cost depends on weight, and we will let you know the options to choose from."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Traveler bus or train mode of delivery:"})," These facilities are far cheaper than courier. However, the delivery is only up to a certain stop, and you will have to pick up the parcel from a train/road location."]}),s.jsx("li",{children:"Delivery time is subject to factors beyond our control, including unexpected travel delays from our courier partners and transporters due to climate conditions or any urgency."}),s.jsx("li",{children:"We shall send you an update as soon as we dispatch your package."})]}),s.jsx("h2",{className:"mt-6",children:"Need Help?"}),s.jsxs("p",{children:[s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"}),"  is our email for general enquiries or for any assistance."]}),s.jsxs("p",{children:[s.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",children:"Support@sarkhotnaturalfarms.com"}),"  is our email for any queries, complaints, or grievances."]}),s.jsxs("p",{children:[s.jsx("strong",{children:s.jsx("a",{href:"tel:9920999100",children:"9920999100"})})," is our contact number for both WhatsApp and calls. However, it may not always be feasible to answer your call immediately, so we request you to drop us an SMS or WhatsApp message so that we can get back to you at the earliest."]}),s.jsx("p",{className:"mt-8 text-sm italic",children:"Sarkhot Natural Farms denotes the community of natural farmers. Natural means % chemical-free, preservative-free, and poison-free."})]})})}),qbe=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-lg p-6 md:p-8 lg:p-10 prose dark:prose-invert max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Terms and Conditions"}),s.jsx("p",{children:"This document is an electronic record in terms of the Information Technology Act, 2000, and the rules thereunder as applicable, including the amended provisions pertaining to electronic records in various statutes as amended by the Information Technology Act, 2000. This electronic record is generated by a computer system and does not require any physical or digital signatures."}),s.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:[s.jsx("p",{children:"This document is published in accordance with the provisions of Rule 3 (1) of the Information Technology (Intermediaries Guidelines) Rules, 2011, that require publishing the rules and regulations, privacy policy, and Terms of Use for access or usage of the domain name sarkhotnaturalfarms.com, including the related mobile site and mobile application (hereinafter referred to as the Platform)."}),s.jsx("p",{children:"The Platform is owned by Sarkhot Natural Farms, a registered entity with its office at (Address of Sarkhot Natural Farms) (hereinafter referred to as Platform Owner, we, us, or our)."}),s.jsx("p",{children:"Your use of the Platform, services, and tools is governed by the following terms and conditions (Terms of Use) as applicable to the Platform, including the applicable policies which are incorporated herein by reference. If you transact on the Platform, you shall be subject to the policies that are applicable to the Platform for such transactions. By merely using the Platform, you shall be contracting with the Platform Owner, and these terms and conditions, including the policies, shall constitute your binding obligations with the Platform Owner."}),s.jsx("p",{children:"These Terms of Use relate to your use of our website, goods (as applicable), or services (as applicable) (collectively, Services). Any terms and conditions proposed by you that are in addition to or conflict with these Terms of Use are expressly rejected by the Platform Owner and shall be of no force or effect."}),s.jsx("p",{children:"These Terms of Use can be modified at any time without assigning any reason. It is your responsibility to periodically review these Terms of Use to stay informed of updates. For the purpose of these Terms of Use, wherever the context so requires, you, your, or user shall mean any natural or legal person who has agreed to become a user/buyer on the Platform."}),s.jsx("p",{className:"font-semibold",children:"ACCESSING, BROWSING, OR OTHERWISE USING THE PLATFORM INDICATES YOUR AGREEMENT TO ALL THE TERMS AND CONDITIONS UNDER THESE TERMS OF USE, SO PLEASE READ THE TERMS OF USE CAREFULLY BEFORE PROCEEDING."}),s.jsx("p",{children:"The use of the Platform and/or availing of our Services is subject to the following Terms of Use:"})]}),s.jsx("p",{children:"This document is published in accordance with the provisions of Rule 3 (1) of the Information Technology (Intermediaries Guidelines) Rules, 2011, that require publishing the rules and regulations, privacy policy, and Terms of Use for access or usage of the domain name sarkhotnaturalfarms.com, including the related mobile site and mobile application (hereinafter referred to as the Platform)."}),s.jsx("p",{children:"The Platform is owned by Sarkhot Natural Farms, a registered entity with its office at (Address of Sarkhot Natural Farms) (hereinafter referred to as Platform Owner, we, us, or our)."}),s.jsx("p",{children:"Your use of the Platform, services, and tools is governed by the following terms and conditions (Terms of Use) as applicable to the Platform, including the applicable policies which are incorporated herein by reference. If you transact on the Platform, you shall be subject to the policies that are applicable to the Platform for such transactions. By merely using the Platform, you shall be contracting with the Platform Owner, and these terms and conditions, including the policies, shall constitute your binding obligations with the Platform Owner."}),s.jsx("p",{children:"These Terms of Use relate to your use of our website, goods (as applicable), or services (as applicable) (collectively, Services). Any terms and conditions proposed by you that are in addition to or conflict with these Terms of Use are expressly rejected by the Platform Owner and shall be of no force or effect."}),s.jsx("p",{children:"These Terms of Use can be modified at any time without assigning any reason. It is your responsibility to periodically review these Terms of Use to stay informed of updates. For the purpose of these Terms of Use, wherever the context so requires, you, your, or user shall mean any natural or legal person who has agreed to become a user/buyer on the Platform."}),s.jsx("p",{className:"font-semibold",children:"ACCESSING, BROWSING, OR OTHERWISE USING THE PLATFORM INDICATES YOUR AGREEMENT TO ALL THE TERMS AND CONDITIONS UNDER THESE TERMS OF USE, SO PLEASE READ THE TERMS OF USE CAREFULLY BEFORE PROCEEDING."}),s.jsx("p",{children:"The use of the Platform and/or availing of our Services is subject to the following Terms of Use:"}),s.jsx("h2",{children:"1. User Registration & Information"}),s.jsx("p",{children:"To access and use the Services, you agree to provide true, accurate, and complete information during registration and after. You shall be responsible for all acts done through the use of your registered account on the Platform."}),s.jsx("h2",{children:"2. No Warranties"}),s.jsx("p",{children:"Neither we nor any third parties provide any warranty or guarantee as to the accuracy, timeliness, performance, completeness, or suitability of the information and materials offered on this website or through the Services, for any specific purpose. You acknowledge that such information and materials may contain inaccuracies or errors, and we expressly exclude liability for any such inaccuracies or errors to the fullest extent permitted by law."}),s.jsx("h2",{children:"3. User Discretion"}),s.jsx("p",{children:"Your use of our Services and the Platform is solely at your own risk and discretion, for which we shall not be liable. You are required to independently assess and ensure that the Services meet your requirements."}),s.jsx("h2",{children:"4. Intellectual Property"}),s.jsx("p",{children:"The contents of the Platform and the Services are proprietary to us and are licensed to us. You will not have any authority to claim any intellectual property rights, title, or interest in its contents, including but not limited to design, layout, look, and graphics."}),s.jsx("h2",{children:"5. Unauthorized Use"}),s.jsx("p",{children:"You acknowledge that unauthorized use of the Platform and/or the Services may lead to action against you as per these Terms of Use and/or applicable laws."}),s.jsx("h2",{children:"6. Payment Obligations"}),s.jsx("p",{children:"You agree to pay us the charges associated with availing of the Services."}),s.jsx("h2",{children:"7. Prohibited Use"}),s.jsx("p",{children:"You agree not to use the Platform and/or Services for any purpose that is unlawful, illegal, or forbidden by these Terms, Indian law, or local laws that might apply to you."}),s.jsx("h2",{children:"8. Third-Party Links"}),s.jsx("p",{children:"The Platform and the Services may contain links to third-party websites. Upon accessing these links, you will be governed by the terms of use, privacy policy, and other policies of such third-party websites. These links are provided for your convenience only."}),s.jsx("h2",{children:"9. Legal Binding"}),s.jsx("p",{children:"Upon initiating a transaction for availing of the Services, you are entering into a legally binding and enforceable contract with the Platform Owner for the Services."}),s.jsx("h2",{children:"10. Indemnity"}),s.jsx("p",{children:"You agree to indemnify and hold harmless the Platform Owner, its affiliates, group companies (as applicable), and their respective officers, directors, agents, and employees, from any claims, demands, or actions, including reasonable attorneys fees, made by any third party arising out of your breach of these Terms of Use, Privacy Policy, other policies, or your violation of any law, rules, or regulations or the rights (including infringement of intellectual property rights) of a third party."}),s.jsx("h2",{children:"11. Limitation of Liability"}),s.jsx("p",{children:"In no event will the Platform Owner be liable for any indirect, consequential, incidental, special, or punitive damages, including without limitation damages for loss of profits or revenues, business interruption, loss of business opportunities, loss of data, or other economic interests, whether in contract, negligence, tort, or otherwise, arising from the use of or inability to use the Services, however caused, and whether arising in contract, tort, negligence, warranty, or otherwise. Our liability shall not exceed the amount paid by you for using the Services, or Rupees One Hundred (Rs. 100), whichever is less."}),s.jsx("h2",{children:"12. Force Majeure"}),s.jsx("p",{children:"Notwithstanding anything contained in these Terms of Use, neither party shall be liable for any failure to perform an obligation under these Terms if performance is prevented or delayed by a force majeure event."}),s.jsx("h2",{children:"13. Governing Law & Jurisdiction"}),s.jsx("p",{children:"These Terms and any disputes or claims relating to them, or their enforceability, shall be governed by and construed in accordance with the laws of India. All disputes arising out of or in connection with these Terms shall be subject to the exclusive jurisdiction of the courts in India."}),s.jsx("h2",{children:"14. Contact Information"}),s.jsx("p",{children:"All concerns or communications relating to these Terms must be communicated to us using the contact information provided on this website."}),s.jsx("p",{children:"Sarkhot Natural farms denote the community of natural farmers. Natural means % chemical free, preservative free and poison free."})]})})});var rV=typeof global=="object"&&global&&global.Object===Object&&global,zbe=typeof self=="object"&&self&&self.Object===Object&&self,Jl=rV||zbe||Function("return this")(),Pu=Jl.Symbol,sV=Object.prototype,Hbe=sV.hasOwnProperty,Wbe=sV.toString,gx=Pu?Pu.toStringTag:void 0;function Gbe(e){var t=Hbe.call(e,gx),r=e[gx];try{e[gx]=void 0;var n=!0}catch{}var a=Wbe.call(e);return n&&(t?e[gx]=r:delete e[gx]),a}var Ybe=Object.prototype,Kbe=Ybe.toString;function Qbe(e){return Kbe.call(e)}var Xbe="[object Null]",Zbe="[object Undefined]",qP=Pu?Pu.toStringTag:void 0;function l0(e){return e==null?e===void 0?Zbe:Xbe:qP&&qP in Object(e)?Gbe(e):Qbe(e)}function Yc(e){return e!=null&&typeof e=="object"}var sh=Array.isArray;function Hu(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function nV(e){return e}var Jbe="[object AsyncFunction]",ewe="[object Function]",twe="[object GeneratorFunction]",rwe="[object Proxy]";function k4(e){if(!Hu(e))return!1;var t=l0(e);return t==ewe||t==twe||t==Jbe||t==rwe}var MS=Jl["__core-js_shared__"],zP=function(){var e=/[^.]+$/.exec(MS&&MS.keys&&MS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function swe(e){return!!zP&&zP in e}var nwe=Function.prototype,awe=nwe.toString;function Nh(e){if(e!=null){try{return awe.call(e)}catch{}try{return e+""}catch{}}return""}var iwe=/[\\^$.*+?()[\]{}|]/g,owe=/^\[object .+?Constructor\]$/,lwe=Function.prototype,cwe=Object.prototype,dwe=lwe.toString,uwe=cwe.hasOwnProperty,fwe=RegExp("^"+dwe.call(uwe).replace(iwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hwe(e){if(!Hu(e)||swe(e))return!1;var t=k4(e)?fwe:owe;return t.test(Nh(e))}function mwe(e,t){return e==null?void 0:e[t]}function jh(e,t){var r=mwe(e,t);return hwe(r)?r:void 0}var FA=jh(Jl,"WeakMap"),HP=Object.create,pwe=function(){function e(){}return function(t){if(!Hu(t))return{};if(HP)return HP(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function xwe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function gwe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var ywe=800,vwe=16,bwe=Date.now;function wwe(e){var t=0,r=0;return function(){var n=bwe(),a=vwe-(n-r);if(r=n,a>0){if(++t>=ywe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Nwe(e){return function(){return e}}var Tb=function(){try{var e=jh(Object,"defineProperty");return e({},"",{}),e}catch{}}(),jwe=Tb?function(e,t){return Tb(e,"toString",{configurable:!0,enumerable:!1,value:Nwe(t),writable:!0})}:nV,Swe=wwe(jwe);function Ewe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Awe=9007199254740991,Cwe=/^(?:0|[1-9]\d*)$/;function aV(e,t){var r=typeof e;return t=t??Awe,!!t&&(r=="number"||r!="symbol"&&Cwe.test(e))&&e>-1&&e%1==0&&e<t}function D4(e,t,r){t=="__proto__"&&Tb?Tb(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Ay(e,t){return e===t||e!==e&&t!==t}var Twe=Object.prototype,_we=Twe.hasOwnProperty;function iV(e,t,r){var n=e[t];(!(_we.call(e,t)&&Ay(n,r))||r===void 0&&!(t in e))&&D4(e,t,r)}function kwe(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var l=t[i],u=void 0;u===void 0&&(u=e[l]),a?D4(r,l,u):iV(r,l,u)}return r}var WP=Math.max;function Dwe(e,t,r){return t=WP(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=WP(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),xwe(e,this,l)}}function Owe(e,t){return Swe(Dwe(e,t,nV),e+"")}var Rwe=9007199254740991;function oV(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Rwe}function Qw(e){return e!=null&&oV(e.length)&&!k4(e)}function Pwe(e,t,r){if(!Hu(r))return!1;var n=typeof t;return(n=="number"?Qw(r)&&aV(t,r.length):n=="string"&&t in r)?Ay(r[t],e):!1}function Mwe(e){return Owe(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&Pwe(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var l=r[n];l&&e(t,l,n,i)}return t})}var Iwe=Object.prototype;function O4(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Iwe;return e===r}function Fwe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Lwe="[object Arguments]";function GP(e){return Yc(e)&&l0(e)==Lwe}var lV=Object.prototype,Bwe=lV.hasOwnProperty,$we=lV.propertyIsEnumerable,LA=GP(function(){return arguments}())?GP:function(e){return Yc(e)&&Bwe.call(e,"callee")&&!$we.call(e,"callee")};function Uwe(){return!1}var cV=typeof $i=="object"&&$i&&!$i.nodeType&&$i,YP=cV&&typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,Vwe=YP&&YP.exports===cV,KP=Vwe?Jl.Buffer:void 0,qwe=KP?KP.isBuffer:void 0,_g=qwe||Uwe,zwe="[object Arguments]",Hwe="[object Array]",Wwe="[object Boolean]",Gwe="[object Date]",Ywe="[object Error]",Kwe="[object Function]",Qwe="[object Map]",Xwe="[object Number]",Zwe="[object Object]",Jwe="[object RegExp]",eNe="[object Set]",tNe="[object String]",rNe="[object WeakMap]",sNe="[object ArrayBuffer]",nNe="[object DataView]",aNe="[object Float32Array]",iNe="[object Float64Array]",oNe="[object Int8Array]",lNe="[object Int16Array]",cNe="[object Int32Array]",dNe="[object Uint8Array]",uNe="[object Uint8ClampedArray]",fNe="[object Uint16Array]",hNe="[object Uint32Array]",Rs={};Rs[aNe]=Rs[iNe]=Rs[oNe]=Rs[lNe]=Rs[cNe]=Rs[dNe]=Rs[uNe]=Rs[fNe]=Rs[hNe]=!0;Rs[zwe]=Rs[Hwe]=Rs[sNe]=Rs[Wwe]=Rs[nNe]=Rs[Gwe]=Rs[Ywe]=Rs[Kwe]=Rs[Qwe]=Rs[Xwe]=Rs[Zwe]=Rs[Jwe]=Rs[eNe]=Rs[tNe]=Rs[rNe]=!1;function mNe(e){return Yc(e)&&oV(e.length)&&!!Rs[l0(e)]}function R4(e){return function(t){return e(t)}}var dV=typeof $i=="object"&&$i&&!$i.nodeType&&$i,Lx=dV&&typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,pNe=Lx&&Lx.exports===dV,IS=pNe&&rV.process,_p=function(){try{var e=Lx&&Lx.require&&Lx.require("util").types;return e||IS&&IS.binding&&IS.binding("util")}catch{}}(),QP=_p&&_p.isTypedArray,P4=QP?R4(QP):mNe,xNe=Object.prototype,gNe=xNe.hasOwnProperty;function uV(e,t){var r=sh(e),n=!r&&LA(e),a=!r&&!n&&_g(e),i=!r&&!n&&!a&&P4(e),o=r||n||a||i,l=o?Fwe(e.length,String):[],u=l.length;for(var f in e)(t||gNe.call(e,f))&&!(o&&(f=="length"||a&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||aV(f,u)))&&l.push(f);return l}function fV(e,t){return function(r){return e(t(r))}}var yNe=fV(Object.keys,Object),vNe=Object.prototype,bNe=vNe.hasOwnProperty;function wNe(e){if(!O4(e))return yNe(e);var t=[];for(var r in Object(e))bNe.call(e,r)&&r!="constructor"&&t.push(r);return t}function NNe(e){return Qw(e)?uV(e):wNe(e)}function jNe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var SNe=Object.prototype,ENe=SNe.hasOwnProperty;function ANe(e){if(!Hu(e))return jNe(e);var t=O4(e),r=[];for(var n in e)n=="constructor"&&(t||!ENe.call(e,n))||r.push(n);return r}function hV(e){return Qw(e)?uV(e,!0):ANe(e)}var kg=jh(Object,"create");function CNe(){this.__data__=kg?kg(null):{},this.size=0}function TNe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _Ne="__lodash_hash_undefined__",kNe=Object.prototype,DNe=kNe.hasOwnProperty;function ONe(e){var t=this.__data__;if(kg){var r=t[e];return r===_Ne?void 0:r}return DNe.call(t,e)?t[e]:void 0}var RNe=Object.prototype,PNe=RNe.hasOwnProperty;function MNe(e){var t=this.__data__;return kg?t[e]!==void 0:PNe.call(t,e)}var INe="__lodash_hash_undefined__";function FNe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=kg&&t===void 0?INe:t,this}function nh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nh.prototype.clear=CNe;nh.prototype.delete=TNe;nh.prototype.get=ONe;nh.prototype.has=MNe;nh.prototype.set=FNe;function LNe(){this.__data__=[],this.size=0}function Xw(e,t){for(var r=e.length;r--;)if(Ay(e[r][0],t))return r;return-1}var BNe=Array.prototype,$Ne=BNe.splice;function UNe(e){var t=this.__data__,r=Xw(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():$Ne.call(t,r,1),--this.size,!0}function VNe(e){var t=this.__data__,r=Xw(t,e);return r<0?void 0:t[r][1]}function qNe(e){return Xw(this.__data__,e)>-1}function zNe(e,t){var r=this.__data__,n=Xw(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ad(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ad.prototype.clear=LNe;ad.prototype.delete=UNe;ad.prototype.get=VNe;ad.prototype.has=qNe;ad.prototype.set=zNe;var Dg=jh(Jl,"Map");function HNe(){this.size=0,this.__data__={hash:new nh,map:new(Dg||ad),string:new nh}}function WNe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Zw(e,t){var r=e.__data__;return WNe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function GNe(e){var t=Zw(this,e).delete(e);return this.size-=t?1:0,t}function YNe(e){return Zw(this,e).get(e)}function KNe(e){return Zw(this,e).has(e)}function QNe(e,t){var r=Zw(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Sh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sh.prototype.clear=HNe;Sh.prototype.delete=GNe;Sh.prototype.get=YNe;Sh.prototype.has=KNe;Sh.prototype.set=QNe;function XNe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var mV=fV(Object.getPrototypeOf,Object),ZNe="[object Object]",JNe=Function.prototype,eje=Object.prototype,pV=JNe.toString,tje=eje.hasOwnProperty,rje=pV.call(Object);function sje(e){if(!Yc(e)||l0(e)!=ZNe)return!1;var t=mV(e);if(t===null)return!0;var r=tje.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&pV.call(r)==rje}function nje(){this.__data__=new ad,this.size=0}function aje(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function ije(e){return this.__data__.get(e)}function oje(e){return this.__data__.has(e)}var lje=200;function cje(e,t){var r=this.__data__;if(r instanceof ad){var n=r.__data__;if(!Dg||n.length<lje-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Sh(n)}return r.set(e,t),this.size=r.size,this}function ql(e){var t=this.__data__=new ad(e);this.size=t.size}ql.prototype.clear=nje;ql.prototype.delete=aje;ql.prototype.get=ije;ql.prototype.has=oje;ql.prototype.set=cje;var xV=typeof $i=="object"&&$i&&!$i.nodeType&&$i,XP=xV&&typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,dje=XP&&XP.exports===xV,ZP=dje?Jl.Buffer:void 0,JP=ZP?ZP.allocUnsafe:void 0;function gV(e,t){if(t)return e.slice();var r=e.length,n=JP?JP(r):new e.constructor(r);return e.copy(n),n}function uje(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function fje(){return[]}var hje=Object.prototype,mje=hje.propertyIsEnumerable,eM=Object.getOwnPropertySymbols,pje=eM?function(e){return e==null?[]:(e=Object(e),uje(eM(e),function(t){return mje.call(e,t)}))}:fje;function xje(e,t,r){var n=t(e);return sh(e)?n:XNe(n,r(e))}function BA(e){return xje(e,NNe,pje)}var $A=jh(Jl,"DataView"),UA=jh(Jl,"Promise"),VA=jh(Jl,"Set"),tM="[object Map]",gje="[object Object]",rM="[object Promise]",sM="[object Set]",nM="[object WeakMap]",aM="[object DataView]",yje=Nh($A),vje=Nh(Dg),bje=Nh(UA),wje=Nh(VA),Nje=Nh(FA),Wo=l0;($A&&Wo(new $A(new ArrayBuffer(1)))!=aM||Dg&&Wo(new Dg)!=tM||UA&&Wo(UA.resolve())!=rM||VA&&Wo(new VA)!=sM||FA&&Wo(new FA)!=nM)&&(Wo=function(e){var t=l0(e),r=t==gje?e.constructor:void 0,n=r?Nh(r):"";if(n)switch(n){case yje:return aM;case vje:return tM;case bje:return rM;case wje:return sM;case Nje:return nM}return t});var jje=Object.prototype,Sje=jje.hasOwnProperty;function Eje(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Sje.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var _b=Jl.Uint8Array;function M4(e){var t=new e.constructor(e.byteLength);return new _b(t).set(new _b(e)),t}function Aje(e,t){var r=M4(e.buffer);return new e.constructor(r,e.byteOffset,e.byteLength)}var Cje=/\w*$/;function Tje(e){var t=new e.constructor(e.source,Cje.exec(e));return t.lastIndex=e.lastIndex,t}var iM=Pu?Pu.prototype:void 0,oM=iM?iM.valueOf:void 0;function _je(e){return oM?Object(oM.call(e)):{}}function yV(e,t){var r=t?M4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var kje="[object Boolean]",Dje="[object Date]",Oje="[object Map]",Rje="[object Number]",Pje="[object RegExp]",Mje="[object Set]",Ije="[object String]",Fje="[object Symbol]",Lje="[object ArrayBuffer]",Bje="[object DataView]",$je="[object Float32Array]",Uje="[object Float64Array]",Vje="[object Int8Array]",qje="[object Int16Array]",zje="[object Int32Array]",Hje="[object Uint8Array]",Wje="[object Uint8ClampedArray]",Gje="[object Uint16Array]",Yje="[object Uint32Array]";function Kje(e,t,r){var n=e.constructor;switch(t){case Lje:return M4(e);case kje:case Dje:return new n(+e);case Bje:return Aje(e);case $je:case Uje:case Vje:case qje:case zje:case Hje:case Wje:case Gje:case Yje:return yV(e,r);case Oje:return new n;case Rje:case Ije:return new n(e);case Pje:return Tje(e);case Mje:return new n;case Fje:return _je(e)}}function vV(e){return typeof e.constructor=="function"&&!O4(e)?pwe(mV(e)):{}}var Qje="[object Map]";function Xje(e){return Yc(e)&&Wo(e)==Qje}var lM=_p&&_p.isMap,Zje=lM?R4(lM):Xje,Jje="[object Set]";function e2e(e){return Yc(e)&&Wo(e)==Jje}var cM=_p&&_p.isSet,t2e=cM?R4(cM):e2e,r2e=1,bV="[object Arguments]",s2e="[object Array]",n2e="[object Boolean]",a2e="[object Date]",i2e="[object Error]",wV="[object Function]",o2e="[object GeneratorFunction]",l2e="[object Map]",c2e="[object Number]",NV="[object Object]",d2e="[object RegExp]",u2e="[object Set]",f2e="[object String]",h2e="[object Symbol]",m2e="[object WeakMap]",p2e="[object ArrayBuffer]",x2e="[object DataView]",g2e="[object Float32Array]",y2e="[object Float64Array]",v2e="[object Int8Array]",b2e="[object Int16Array]",w2e="[object Int32Array]",N2e="[object Uint8Array]",j2e="[object Uint8ClampedArray]",S2e="[object Uint16Array]",E2e="[object Uint32Array]",Ds={};Ds[bV]=Ds[s2e]=Ds[p2e]=Ds[x2e]=Ds[n2e]=Ds[a2e]=Ds[g2e]=Ds[y2e]=Ds[v2e]=Ds[b2e]=Ds[w2e]=Ds[l2e]=Ds[c2e]=Ds[NV]=Ds[d2e]=Ds[u2e]=Ds[f2e]=Ds[h2e]=Ds[N2e]=Ds[j2e]=Ds[S2e]=Ds[E2e]=!0;Ds[i2e]=Ds[wV]=Ds[m2e]=!1;function U1(e,t,r,n,a,i){var o,l=t&r2e;if(o!==void 0)return o;if(!Hu(e))return e;var u=sh(e);if(u)o=Eje(e);else{var f=Wo(e),h=f==wV||f==o2e;if(_g(e))return gV(e,l);if(f==NV||f==bV||h&&!a)o=h?{}:vV(e);else{if(!Ds[f])return a?e:{};o=Kje(e,f,l)}}i||(i=new ql);var p=i.get(e);if(p)return p;i.set(e,o),t2e(e)?e.forEach(function(w){o.add(U1(w,t,r,w,e,i))}):Zje(e)&&e.forEach(function(w,b){o.set(b,U1(w,t,r,b,e,i))});var x=BA,y=u?void 0:x(e);return Ewe(y||e,function(w,b){y&&(b=w,w=e[b]),iV(o,b,U1(w,t,r,b,e,i))}),o}var A2e=1,C2e=4;function Xm(e){return U1(e,A2e|C2e)}var T2e="__lodash_hash_undefined__";function _2e(e){return this.__data__.set(e,T2e),this}function k2e(e){return this.__data__.has(e)}function kb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Sh;++t<r;)this.add(e[t])}kb.prototype.add=kb.prototype.push=_2e;kb.prototype.has=k2e;function D2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function O2e(e,t){return e.has(t)}var R2e=1,P2e=2;function jV(e,t,r,n,a,i){var o=r&R2e,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var f=i.get(e),h=i.get(t);if(f&&h)return f==t&&h==e;var p=-1,x=!0,y=r&P2e?new kb:void 0;for(i.set(e,t),i.set(t,e);++p<l;){var w=e[p],b=t[p];if(n)var N=o?n(b,w,p,t,e,i):n(w,b,p,e,t,i);if(N!==void 0){if(N)continue;x=!1;break}if(y){if(!D2e(t,function(j,S){if(!O2e(y,S)&&(w===j||a(w,j,r,n,i)))return y.push(S)})){x=!1;break}}else if(!(w===b||a(w,b,r,n,i))){x=!1;break}}return i.delete(e),i.delete(t),x}function M2e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}function I2e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var F2e=1,L2e=2,B2e="[object Boolean]",$2e="[object Date]",U2e="[object Error]",V2e="[object Map]",q2e="[object Number]",z2e="[object RegExp]",H2e="[object Set]",W2e="[object String]",G2e="[object Symbol]",Y2e="[object ArrayBuffer]",K2e="[object DataView]",dM=Pu?Pu.prototype:void 0,FS=dM?dM.valueOf:void 0;function Q2e(e,t,r,n,a,i,o){switch(r){case K2e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Y2e:return!(e.byteLength!=t.byteLength||!i(new _b(e),new _b(t)));case B2e:case $2e:case q2e:return Ay(+e,+t);case U2e:return e.name==t.name&&e.message==t.message;case z2e:case W2e:return e==t+"";case V2e:var l=M2e;case H2e:var u=n&F2e;if(l||(l=I2e),e.size!=t.size&&!u)return!1;var f=o.get(e);if(f)return f==t;n|=L2e,o.set(e,t);var h=jV(l(e),l(t),n,a,i,o);return o.delete(e),h;case G2e:if(FS)return FS.call(e)==FS.call(t)}return!1}var X2e=1,Z2e=Object.prototype,J2e=Z2e.hasOwnProperty;function eSe(e,t,r,n,a,i){var o=r&X2e,l=BA(e),u=l.length,f=BA(t),h=f.length;if(u!=h&&!o)return!1;for(var p=u;p--;){var x=l[p];if(!(o?x in t:J2e.call(t,x)))return!1}var y=i.get(e),w=i.get(t);if(y&&w)return y==t&&w==e;var b=!0;i.set(e,t),i.set(t,e);for(var N=o;++p<u;){x=l[p];var j=e[x],S=t[x];if(n)var A=o?n(S,j,x,t,e,i):n(j,S,x,e,t,i);if(!(A===void 0?j===S||a(j,S,r,n,i):A)){b=!1;break}N||(N=x=="constructor")}if(b&&!N){var _=e.constructor,C=t.constructor;_!=C&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof C=="function"&&C instanceof C)&&(b=!1)}return i.delete(e),i.delete(t),b}var tSe=1,uM="[object Arguments]",fM="[object Array]",a1="[object Object]",rSe=Object.prototype,hM=rSe.hasOwnProperty;function sSe(e,t,r,n,a,i){var o=sh(e),l=sh(t),u=o?fM:Wo(e),f=l?fM:Wo(t);u=u==uM?a1:u,f=f==uM?a1:f;var h=u==a1,p=f==a1,x=u==f;if(x&&_g(e)){if(!_g(t))return!1;o=!0,h=!1}if(x&&!h)return i||(i=new ql),o||P4(e)?jV(e,t,r,n,a,i):Q2e(e,t,u,r,n,a,i);if(!(r&tSe)){var y=h&&hM.call(e,"__wrapped__"),w=p&&hM.call(t,"__wrapped__");if(y||w){var b=y?e.value():e,N=w?t.value():t;return i||(i=new ql),a(b,N,r,n,i)}}return x?(i||(i=new ql),eSe(e,t,r,n,a,i)):!1}function SV(e,t,r,n,a){return e===t?!0:e==null||t==null||!Yc(e)&&!Yc(t)?e!==e&&t!==t:sSe(e,t,r,n,SV,a)}function nSe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var u=o[++a];if(r(i[u],u,i)===!1)break}return t}}var aSe=nSe();function qA(e,t,r){(r!==void 0&&!Ay(e[t],r)||r===void 0&&!(t in e))&&D4(e,t,r)}function iSe(e){return Yc(e)&&Qw(e)}function zA(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function oSe(e){return kwe(e,hV(e))}function lSe(e,t,r,n,a,i,o){var l=zA(e,r),u=zA(t,r),f=o.get(u);if(f){qA(e,r,f);return}var h=i?i(l,u,r+"",e,t,o):void 0,p=h===void 0;if(p){var x=sh(u),y=!x&&_g(u),w=!x&&!y&&P4(u);h=u,x||y||w?sh(l)?h=l:iSe(l)?h=gwe(l):y?(p=!1,h=gV(u,!0)):w?(p=!1,h=yV(u,!0)):h=[]:sje(u)||LA(u)?(h=l,LA(l)?h=oSe(l):(!Hu(l)||k4(l))&&(h=vV(u))):p=!1}p&&(o.set(u,h),a(h,u,n,i,o),o.delete(u)),qA(e,r,h)}function EV(e,t,r,n,a){e!==t&&aSe(t,function(i,o){if(a||(a=new ql),Hu(i))lSe(e,t,o,r,EV,n,a);else{var l=n?n(zA(e,o),i,o+"",e,t,a):void 0;l===void 0&&(l=i),qA(e,o,l)}},hV)}function eu(e,t){return SV(e,t)}var wu=Mwe(function(e,t,r){EV(e,t,r)}),Xt=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Xt||{});class Kl{constructor(t,r,n={}){this.attrName=t,this.keyName=r;const a=Xt.TYPE&Xt.ATTRIBUTE;this.scope=n.scope!=null?n.scope&Xt.LEVEL|a:Xt.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(r=>r.name)}add(t,r){return this.canAdd(t,r)?(t.setAttribute(this.keyName,r),!0):!1}canAdd(t,r){return this.whitelist==null?!0:typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const r=t.getAttribute(this.keyName);return this.canAdd(t,r)&&r?r:""}}class Zm extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const AV=class HA{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,r=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(r){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,r)}return null}create(t,r,n){const a=this.query(r);if(a==null)throw new Zm(`Unable to create ${r} blot`);const i=a,o=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:i.create(n),l=new i(t,o,n);return HA.blots.set(l.domNode,l),l}find(t,r=!1){return HA.find(t,r)}query(t,r=Xt.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&Xt.LEVEL&Xt.BLOCK?n=this.types.block:t&Xt.LEVEL&Xt.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(a=>(n=this.classes[a],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&r&Xt.LEVEL&n.scope&&r&Xt.TYPE&n.scope?n:null}register(...t){return t.map(r=>{const n="blotName"in r,a="attrName"in r;if(!n&&!a)throw new Zm("Invalid definition");if(n&&r.blotName==="abstract")throw new Zm("Cannot register abstract class");const i=n?r.blotName:a?r.attrName:void 0;return this.types[i]=r,a?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):n&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(o=>o.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(o=>{(this.tags[o]==null||r.className==null)&&(this.tags[o]=r)}))),r})}};AV.blots=new WeakMap;let kp=AV;function mM(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${t}-`)===0)}class cSe extends Kl{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(r=>r.split("-").slice(0,-1).join("-"))}add(t,r){return this.canAdd(t,r)?(this.remove(t),t.classList.add(`${this.keyName}-${r}`),!0):!1}remove(t){mM(t,this.keyName).forEach(r=>{t.classList.remove(r)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const r=(mM(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,r)?r:""}}const hl=cSe;function LS(e){const t=e.split("-"),r=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+r}class dSe extends Kl{static keys(t){return(t.getAttribute("style")||"").split(";").map(r=>r.split(":")[0].trim())}add(t,r){return this.canAdd(t,r)?(t.style[LS(this.keyName)]=r,!0):!1}remove(t){t.style[LS(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const r=t.style[LS(this.keyName)];return this.canAdd(t,r)?r:""}}const Wu=dSe;class uSe{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,r){r?t.add(this.domNode,r)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=kp.find(this.domNode);if(t==null)return;const r=Kl.keys(this.domNode),n=hl.keys(this.domNode),a=Wu.keys(this.domNode);r.concat(n).concat(a).forEach(i=>{const o=t.scroll.query(i,Xt.ATTRIBUTE);o instanceof Kl&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(r=>{const n=this.attributes[r].value(this.domNode);t.format(r,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(r=>{this.attributes[r].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,r)=>(t[r]=this.attributes[r].value(this.domNode),t),{})}}const Jw=uSe,CV=class{constructor(t,r){this.scroll=t,this.domNode=r,kp.blots.set(r,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Zm("Blot definition missing tagName");let r,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?r=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?r=document.createElement(n):r=document.createElement(this.tagName[0])):r=document.createElement(this.tagName),this.className&&r.classList.add(this.className),r}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),kp.blots.delete(this.domNode)}deleteAt(t,r){this.isolate(t,r).remove()}formatAt(t,r,n,a){const i=this.isolate(t,r);if(this.scroll.query(n,Xt.BLOT)!=null&&a)i.wrap(n,a);else if(this.scroll.query(n,Xt.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(n,a)}}insertAt(t,r,n){const a=n==null?this.scroll.create("text",r):this.scroll.create(r,n),i=this.split(t);this.parent.insertBefore(a,i||void 0)}isolate(t,r){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(r),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,r){return t===0?this:this.next}update(t,r){}wrap(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new Zm(`Cannot wrap ${t}`);return n.appendChild(this),n}};CV.blotName="abstract";let TV=CV;const _V=class extends TV{static value(t){return!0}index(t,r){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1}position(t,r){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};_V.scope=Xt.INLINE_BLOT;let fSe=_V;const _a=fSe;class hSe{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const r=t.slice(1);this.append(...r)}}at(t){const r=this.iterator();let n=r();for(;n&&t>0;)t-=1,n=r();return n}contains(t){const r=this.iterator();let n=r();for(;n;){if(n===t)return!0;n=r()}return!1}indexOf(t){const r=this.iterator();let n=r(),a=0;for(;n;){if(n===t)return a;a+=1,n=r()}return-1}insertBefore(t,r){t!=null&&(this.remove(t),t.next=r,r!=null?(t.prev=r.prev,r.prev!=null&&(r.prev.next=t),r.prev=t,r===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let r=0,n=this.head;for(;n!=null;){if(n===t)return r;r+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const r=t;return t!=null&&(t=t.next),r}}find(t,r=!1){const n=this.iterator();let a=n();for(;a;){const i=a.length();if(t<i||r&&t===i&&(a.next==null||a.next.length()!==0))return[a,t];t-=i,a=n()}return[null,0]}forEach(t){const r=this.iterator();let n=r();for(;n;)t(n),n=r()}forEachAt(t,r,n){if(r<=0)return;const[a,i]=this.find(t);let o=t-i;const l=this.iterator(a);let u=l();for(;u&&o<t+r;){const f=u.length();t>o?n(u,t-o,Math.min(r,o+f-t)):n(u,0,Math.min(f,t+r-o)),o+=f,u=l()}}map(t){return this.reduce((r,n)=>(r.push(t(n)),r),[])}reduce(t,r){const n=this.iterator();let a=n();for(;a;)r=t(r,a),a=n();return r}}function pM(e,t){const r=t.find(e);if(r)return r;try{return t.create(e)}catch{const n=t.create(Xt.INLINE);return Array.from(e.childNodes).forEach(a=>{n.domNode.appendChild(a)}),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach(),n}}const kV=class Zd extends TV{constructor(t,r){super(t,r),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Zd.uiClass&&this.uiNode.classList.add(Zd.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new hSe,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const r=pM(t,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof Zm)return;throw r}})}deleteAt(t,r){if(t===0&&r===this.length())return this.remove();this.children.forEachAt(t,r,(n,a,i)=>{n.deleteAt(a,i)})}descendant(t,r=0){const[n,a]=this.children.find(r);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,a]:n instanceof Zd?n.descendant(t,a):[null,-1]}descendants(t,r=0,n=Number.MAX_VALUE){let a=[],i=n;return this.children.forEachAt(r,n,(o,l,u)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&a.push(o),o instanceof Zd&&(a=a.concat(o.descendants(t,l,i))),i-=u}),a}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(r=>{t||this.statics.allowedChildren.some(n=>r instanceof n)||(r.statics.scope===Xt.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),t=!0):r instanceof Zd?r.unwrap():r.remove())})}formatAt(t,r,n,a){this.children.forEachAt(t,r,(i,o,l)=>{i.formatAt(o,l,n,a)})}insertAt(t,r,n){const[a,i]=this.children.find(t);if(a)a.insertAt(i,r,n);else{const o=n==null?this.scroll.create("text",r):this.scroll.create(r,n);this.appendChild(o)}}insertBefore(t,r){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,r||null),t.parent=this,r!=null&&(n=r.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,r)=>t+r.length(),0)}moveChildren(t,r){this.children.forEach(n=>{t.insertBefore(n,r)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(t,r=!1){const[n,a]=this.children.find(t,r),i=[[this,t]];return n instanceof Zd?i.concat(n.path(a,r)):(n!=null&&i.push([n,a]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;return n instanceof Zd&&this.moveChildren(n),super.replaceWith(n)}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(a,i,o)=>{const l=a.split(i,r);l!=null&&n.appendChild(l)}),n}splitAfter(t){const r=this.clone();for(;t.next!=null;)r.appendChild(t.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,r){const n=[],a=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(n.push(...i.addedNodes),a.push(...i.removedNodes))}),a.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),n.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const l=pM(i,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};kV.uiClass="";let mSe=kV;const Jo=mSe;function pSe(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}const Em=class Am extends Jo{static create(t){return super.create(t)}static formats(t,r){const n=r.query(Am.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new Jw(this.domNode)}format(t,r){if(t===this.statics.blotName&&!r)this.children.forEach(n=>{n instanceof Am||(n=n.wrap(Am.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,Xt.INLINE);if(n==null)return;n instanceof Kl?this.attributes.attribute(n,r):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r)}}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,n,a){this.formats()[n]!=null||this.scroll.query(n,Xt.ATTRIBUTE)?this.isolate(t,r).format(n,a):super.formatAt(t,r,n,a)}optimize(t){super.optimize(t);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const n=this.next;n instanceof Am&&n.prev===this&&pSe(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,r){const n=super.replaceWith(t,r);return this.attributes.copy(n),n}update(t,r){super.update(t,r),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,r){const n=super.wrap(t,r);return n instanceof Am&&this.attributes.move(n),n}};Em.allowedChildren=[Em,_a],Em.blotName="inline",Em.scope=Xt.INLINE_BLOT,Em.tagName="SPAN";let xSe=Em;const I4=xSe,Cm=class WA extends Jo{static create(t){return super.create(t)}static formats(t,r){const n=r.query(WA.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new Jw(this.domNode)}format(t,r){const n=this.scroll.query(t,Xt.BLOCK);n!=null&&(n instanceof Kl?this.attributes.attribute(n,r):t===this.statics.blotName&&!r?this.replaceWith(WA.blotName):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r))}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,n,a){this.scroll.query(n,Xt.BLOCK)!=null?this.format(n,a):super.formatAt(t,r,n,a)}insertAt(t,r,n){if(n==null||this.scroll.query(r,Xt.INLINE)!=null)super.insertAt(t,r,n);else{const a=this.split(t);if(a!=null){const i=this.scroll.create(r,n);a.parent.insertBefore(i,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,r){const n=super.replaceWith(t,r);return this.attributes.copy(n),n}update(t,r){super.update(t,r),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Cm.blotName="block",Cm.scope=Xt.BLOCK_BLOT,Cm.tagName="P",Cm.allowedChildren=[I4,Cm,_a];let gSe=Cm;const Og=gSe,GA=class extends Jo{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,r){super.deleteAt(t,r),this.enforceAllowedChildren()}formatAt(t,r,n,a){super.formatAt(t,r,n,a),this.enforceAllowedChildren()}insertAt(t,r,n){super.insertAt(t,r,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};GA.blotName="container",GA.scope=Xt.BLOCK_BLOT;let ySe=GA;const eN=ySe;class vSe extends _a{static formats(t,r){}format(t,r){super.formatAt(0,this.length(),t,r)}formatAt(t,r,n,a){t===0&&r===this.length()?this.format(n,a):super.formatAt(t,r,n,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Ki=vSe,bSe={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},wSe=100,Tm=class extends Jo{constructor(t,r){super(null,r),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,bSe),this.attach()}create(t,r){return this.registry.create(this,t,r)}find(t,r=!1){const n=this.registry.find(t,r);return n?n.scroll===this?n:r?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,r=Xt.ANY){return this.registry.query(t,r)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,r){this.update(),t===0&&r===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,r)}formatAt(t,r,n,a){this.update(),super.formatAt(t,r,n,a)}insertAt(t,r,n){this.update(),super.insertAt(t,r,n)}optimize(t=[],r={}){super.optimize(r);const n=r.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)t.push(a.pop());const i=(u,f=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(n.has(u.domNode)||n.set(u.domNode,[]),f&&i(u.parent))},o=u=>{n.has(u.domNode)&&(u instanceof Jo&&u.children.forEach(o),n.delete(u.domNode),u.optimize(r))};let l=t;for(let u=0;l.length>0;u+=1){if(u>=wSe)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(f=>{const h=this.find(f.target,!0);h!=null&&(h.domNode===f.target&&(f.type==="childList"?(i(this.find(f.previousSibling,!1)),Array.from(f.addedNodes).forEach(p=>{const x=this.find(p,!1);i(x,!1),x instanceof Jo&&x.children.forEach(y=>{i(y,!1)})})):f.type==="attributes"&&i(h.prev)),i(h))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),a=l.slice();a.length>0;)t.push(a.pop())}}update(t,r={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(a=>{const i=this.find(a.target,!0);return i==null?null:n.has(i.domNode)?(n.get(i.domNode).push(a),null):(n.set(i.domNode,[a]),i)}).forEach(a=>{a!=null&&a!==this&&n.has(a.domNode)&&a.update(n.get(a.domNode)||[],r)}),r.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),r),this.optimize(t,r)}};Tm.blotName="scroll",Tm.defaultChild=Og,Tm.allowedChildren=[Og,eN],Tm.scope=Xt.BLOCK_BLOT,Tm.tagName="DIV";let NSe=Tm;const F4=NSe,YA=class DV extends _a{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,r){super(t,r),this.text=this.statics.value(this.domNode)}deleteAt(t,r){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+r)}index(t,r){return this.domNode===t?r:-1}insertAt(t,r,n){n==null?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,r,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof DV&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,r=!1){return[this.domNode,t]}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,r){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};YA.blotName="text",YA.scope=Xt.INLINE_BLOT;let jSe=YA;const Db=jSe,SSe=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Kl,AttributorStore:Jw,BlockBlot:Og,ClassAttributor:hl,ContainerBlot:eN,EmbedBlot:Ki,InlineBlot:I4,LeafBlot:_a,ParentBlot:Jo,Registry:kp,Scope:Xt,ScrollBlot:F4,StyleAttributor:Wu,TextBlot:Db},Symbol.toStringTag,{value:"Module"}));var i1={exports:{}},BS,xM;function ESe(){if(xM)return BS;xM=1;var e=-1,t=1,r=0;function n(M,G,V,ie,le){if(M===G)return M?[[r,M]]:[];if(V!=null){var B=R(M,G,V);if(B)return B}var U=l(M,G),F=M.substring(0,U);M=M.substring(U),G=G.substring(U),U=f(M,G);var W=M.substring(M.length-U);M=M.substring(0,M.length-U),G=G.substring(0,G.length-U);var q=a(M,G);return F&&q.unshift([r,F]),W&&q.push([r,W]),S(q,le),ie&&p(q),q}function a(M,G){var V;if(!M)return[[t,G]];if(!G)return[[e,M]];var ie=M.length>G.length?M:G,le=M.length>G.length?G:M,B=ie.indexOf(le);if(B!==-1)return V=[[t,ie.substring(0,B)],[r,le],[t,ie.substring(B+le.length)]],M.length>G.length&&(V[0][0]=V[2][0]=e),V;if(le.length===1)return[[e,M],[t,G]];var U=h(M,G);if(U){var F=U[0],W=U[1],q=U[2],Q=U[3],P=U[4],X=n(F,q),K=n(W,Q);return X.concat([[r,P]],K)}return i(M,G)}function i(M,G){for(var V=M.length,ie=G.length,le=Math.ceil((V+ie)/2),B=le,U=2*le,F=new Array(U),W=new Array(U),q=0;q<U;q++)F[q]=-1,W[q]=-1;F[B+1]=0,W[B+1]=0;for(var Q=V-ie,P=Q%2!==0,X=0,K=0,H=0,J=0,ce=0;ce<le;ce++){for(var ae=-ce+X;ae<=ce-K;ae+=2){var ee=B+ae,ne;ae===-ce||ae!==ce&&F[ee-1]<F[ee+1]?ne=F[ee+1]:ne=F[ee-1]+1;for(var ke=ne-ae;ne<V&&ke<ie&&M.charAt(ne)===G.charAt(ke);)ne++,ke++;if(F[ee]=ne,ne>V)K+=2;else if(ke>ie)X+=2;else if(P){var we=B+Q-ae;if(we>=0&&we<U&&W[we]!==-1){var et=V-W[we];if(ne>=et)return o(M,G,ne,ke)}}}for(var Ee=-ce+H;Ee<=ce-J;Ee+=2){var we=B+Ee,et;Ee===-ce||Ee!==ce&&W[we-1]<W[we+1]?et=W[we+1]:et=W[we-1]+1;for(var Te=et-Ee;et<V&&Te<ie&&M.charAt(V-et-1)===G.charAt(ie-Te-1);)et++,Te++;if(W[we]=et,et>V)J+=2;else if(Te>ie)H+=2;else if(!P){var ee=B+Q-Ee;if(ee>=0&&ee<U&&F[ee]!==-1){var ne=F[ee],ke=B+ne-ee;if(et=V-et,ne>=et)return o(M,G,ne,ke)}}}}return[[e,M],[t,G]]}function o(M,G,V,ie){var le=M.substring(0,V),B=G.substring(0,ie),U=M.substring(V),F=G.substring(ie),W=n(le,B),q=n(U,F);return W.concat(q)}function l(M,G){if(!M||!G||M.charAt(0)!==G.charAt(0))return 0;for(var V=0,ie=Math.min(M.length,G.length),le=ie,B=0;V<le;)M.substring(B,le)==G.substring(B,le)?(V=le,B=V):ie=le,le=Math.floor((ie-V)/2+V);return A(M.charCodeAt(le-1))&&le--,le}function u(M,G){var V=M.length,ie=G.length;if(V==0||ie==0)return 0;V>ie?M=M.substring(V-ie):V<ie&&(G=G.substring(0,V));var le=Math.min(V,ie);if(M==G)return le;for(var B=0,U=1;;){var F=M.substring(le-U),W=G.indexOf(F);if(W==-1)return B;U+=W,(W==0||M.substring(le-U)==G.substring(0,U))&&(B=U,U++)}}function f(M,G){if(!M||!G||M.slice(-1)!==G.slice(-1))return 0;for(var V=0,ie=Math.min(M.length,G.length),le=ie,B=0;V<le;)M.substring(M.length-le,M.length-B)==G.substring(G.length-le,G.length-B)?(V=le,B=V):ie=le,le=Math.floor((ie-V)/2+V);return _(M.charCodeAt(M.length-le))&&le--,le}function h(M,G){var V=M.length>G.length?M:G,ie=M.length>G.length?G:M;if(V.length<4||ie.length*2<V.length)return null;function le(K,H,J){for(var ce=K.substring(J,J+Math.floor(K.length/4)),ae=-1,ee="",ne,ke,we,et;(ae=H.indexOf(ce,ae+1))!==-1;){var Ee=l(K.substring(J),H.substring(ae)),Te=f(K.substring(0,J),H.substring(0,ae));ee.length<Te+Ee&&(ee=H.substring(ae-Te,ae)+H.substring(ae,ae+Ee),ne=K.substring(0,J-Te),ke=K.substring(J+Ee),we=H.substring(0,ae-Te),et=H.substring(ae+Ee))}return ee.length*2>=K.length?[ne,ke,we,et,ee]:null}var B=le(V,ie,Math.ceil(V.length/4)),U=le(V,ie,Math.ceil(V.length/2)),F;if(!B&&!U)return null;U?B?F=B[4].length>U[4].length?B:U:F=U:F=B;var W,q,Q,P;M.length>G.length?(W=F[0],q=F[1],Q=F[2],P=F[3]):(Q=F[0],P=F[1],W=F[2],q=F[3]);var X=F[4];return[W,q,Q,P,X]}function p(M){for(var G=!1,V=[],ie=0,le=null,B=0,U=0,F=0,W=0,q=0;B<M.length;)M[B][0]==r?(V[ie++]=B,U=W,F=q,W=0,q=0,le=M[B][1]):(M[B][0]==t?W+=M[B][1].length:q+=M[B][1].length,le&&le.length<=Math.max(U,F)&&le.length<=Math.max(W,q)&&(M.splice(V[ie-1],0,[e,le]),M[V[ie-1]+1][0]=t,ie--,ie--,B=ie>0?V[ie-1]:-1,U=0,F=0,W=0,q=0,le=null,G=!0)),B++;for(G&&S(M),j(M),B=1;B<M.length;){if(M[B-1][0]==e&&M[B][0]==t){var Q=M[B-1][1],P=M[B][1],X=u(Q,P),K=u(P,Q);X>=K?(X>=Q.length/2||X>=P.length/2)&&(M.splice(B,0,[r,P.substring(0,X)]),M[B-1][1]=Q.substring(0,Q.length-X),M[B+1][1]=P.substring(X),B++):(K>=Q.length/2||K>=P.length/2)&&(M.splice(B,0,[r,Q.substring(0,K)]),M[B-1][0]=t,M[B-1][1]=P.substring(0,P.length-K),M[B+1][0]=e,M[B+1][1]=Q.substring(K),B++),B++}B++}}var x=/[^a-zA-Z0-9]/,y=/\s/,w=/[\r\n]/,b=/\n\r?\n$/,N=/^\r?\n\r?\n/;function j(M){function G(K,H){if(!K||!H)return 6;var J=K.charAt(K.length-1),ce=H.charAt(0),ae=J.match(x),ee=ce.match(x),ne=ae&&J.match(y),ke=ee&&ce.match(y),we=ne&&J.match(w),et=ke&&ce.match(w),Ee=we&&K.match(b),Te=et&&H.match(N);return Ee||Te?5:we||et?4:ae&&!ne&&ke?3:ne||ke?2:ae||ee?1:0}for(var V=1;V<M.length-1;){if(M[V-1][0]==r&&M[V+1][0]==r){var ie=M[V-1][1],le=M[V][1],B=M[V+1][1],U=f(ie,le);if(U){var F=le.substring(le.length-U);ie=ie.substring(0,ie.length-U),le=F+le.substring(0,le.length-U),B=F+B}for(var W=ie,q=le,Q=B,P=G(ie,le)+G(le,B);le.charAt(0)===B.charAt(0);){ie+=le.charAt(0),le=le.substring(1)+B.charAt(0),B=B.substring(1);var X=G(ie,le)+G(le,B);X>=P&&(P=X,W=ie,q=le,Q=B)}M[V-1][1]!=W&&(W?M[V-1][1]=W:(M.splice(V-1,1),V--),M[V][1]=q,Q?M[V+1][1]=Q:(M.splice(V+1,1),V--))}V++}}function S(M,G){M.push([r,""]);for(var V=0,ie=0,le=0,B="",U="",F;V<M.length;){if(V<M.length-1&&!M[V][1]){M.splice(V,1);continue}switch(M[V][0]){case t:le++,U+=M[V][1],V++;break;case e:ie++,B+=M[V][1],V++;break;case r:var W=V-le-ie-1;if(G){if(W>=0&&k(M[W][1])){var q=M[W][1].slice(-1);if(M[W][1]=M[W][1].slice(0,-1),B=q+B,U=q+U,!M[W][1]){M.splice(W,1),V--;var Q=W-1;M[Q]&&M[Q][0]===t&&(le++,U=M[Q][1]+U,Q--),M[Q]&&M[Q][0]===e&&(ie++,B=M[Q][1]+B,Q--),W=Q}}if(C(M[V][1])){var q=M[V][1].charAt(0);M[V][1]=M[V][1].slice(1),B+=q,U+=q}}if(V<M.length-1&&!M[V][1]){M.splice(V,1);break}if(B.length>0||U.length>0){B.length>0&&U.length>0&&(F=l(U,B),F!==0&&(W>=0?M[W][1]+=U.substring(0,F):(M.splice(0,0,[r,U.substring(0,F)]),V++),U=U.substring(F),B=B.substring(F)),F=f(U,B),F!==0&&(M[V][1]=U.substring(U.length-F)+M[V][1],U=U.substring(0,U.length-F),B=B.substring(0,B.length-F)));var P=le+ie;B.length===0&&U.length===0?(M.splice(V-P,P),V=V-P):B.length===0?(M.splice(V-P,P,[t,U]),V=V-P+1):U.length===0?(M.splice(V-P,P,[e,B]),V=V-P+1):(M.splice(V-P,P,[e,B],[t,U]),V=V-P+2)}V!==0&&M[V-1][0]===r?(M[V-1][1]+=M[V][1],M.splice(V,1)):V++,le=0,ie=0,B="",U="";break}}M[M.length-1][1]===""&&M.pop();var X=!1;for(V=1;V<M.length-1;)M[V-1][0]===r&&M[V+1][0]===r&&(M[V][1].substring(M[V][1].length-M[V-1][1].length)===M[V-1][1]?(M[V][1]=M[V-1][1]+M[V][1].substring(0,M[V][1].length-M[V-1][1].length),M[V+1][1]=M[V-1][1]+M[V+1][1],M.splice(V-1,1),X=!0):M[V][1].substring(0,M[V+1][1].length)==M[V+1][1]&&(M[V-1][1]+=M[V+1][1],M[V][1]=M[V][1].substring(M[V+1][1].length)+M[V+1][1],M.splice(V+1,1),X=!0)),V++;X&&S(M,G)}function A(M){return M>=55296&&M<=56319}function _(M){return M>=56320&&M<=57343}function C(M){return _(M.charCodeAt(0))}function k(M){return A(M.charCodeAt(M.length-1))}function T(M){for(var G=[],V=0;V<M.length;V++)M[V][1].length>0&&G.push(M[V]);return G}function O(M,G,V,ie){return k(M)||C(ie)?null:T([[r,M],[e,G],[t,V],[r,ie]])}function R(M,G,V){var ie=typeof V=="number"?{index:V,length:0}:V.oldRange,le=typeof V=="number"?null:V.newRange,B=M.length,U=G.length;if(ie.length===0&&(le===null||le.length===0)){var F=ie.index,W=M.slice(0,F),q=M.slice(F),Q=le?le.index:null;e:{var P=F+U-B;if(Q!==null&&Q!==P||P<0||P>U)break e;var X=G.slice(0,P),K=G.slice(P);if(K!==q)break e;var H=Math.min(F,P),J=W.slice(0,H),ce=X.slice(0,H);if(J!==ce)break e;var ae=W.slice(H),ee=X.slice(H);return O(J,ae,ee,q)}e:{if(Q!==null&&Q!==F)break e;var ne=F,X=G.slice(0,ne),K=G.slice(ne);if(X!==W)break e;var ke=Math.min(B-ne,U-ne),we=q.slice(q.length-ke),et=K.slice(K.length-ke);if(we!==et)break e;var ae=q.slice(0,q.length-ke),ee=K.slice(0,K.length-ke);return O(W,ae,ee,we)}}if(ie.length>0&&le&&le.length===0)e:{var J=M.slice(0,ie.index),we=M.slice(ie.index+ie.length),H=J.length,ke=we.length;if(U<H+ke)break e;var ce=G.slice(0,H),et=G.slice(U-ke);if(J!==ce||we!==et)break e;var ae=M.slice(H,B-ke),ee=G.slice(H,U-ke);return O(J,ae,ee,we)}return null}function L(M,G,V,ie){return n(M,G,V,ie,!0)}return L.INSERT=t,L.DELETE=e,L.EQUAL=r,BS=L,BS}var Tx={exports:{}};Tx.exports;var gM;function OV(){return gM||(gM=1,function(e,t){var r=200,n="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",o="[object Array]",l="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",x="[object Map]",y="[object Number]",w="[object Object]",b="[object Promise]",N="[object RegExp]",j="[object Set]",S="[object String]",A="[object Symbol]",_="[object WeakMap]",C="[object ArrayBuffer]",k="[object DataView]",T="[object Float32Array]",O="[object Float64Array]",R="[object Int8Array]",L="[object Int16Array]",M="[object Int32Array]",G="[object Uint8Array]",V="[object Uint8ClampedArray]",ie="[object Uint16Array]",le="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,U=/\w*$/,F=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,q={};q[i]=q[o]=q[C]=q[k]=q[l]=q[u]=q[T]=q[O]=q[R]=q[L]=q[M]=q[x]=q[y]=q[w]=q[N]=q[j]=q[S]=q[A]=q[G]=q[V]=q[ie]=q[le]=!0,q[f]=q[h]=q[_]=!1;var Q=typeof bo=="object"&&bo&&bo.Object===Object&&bo,P=typeof self=="object"&&self&&self.Object===Object&&self,X=Q||P||Function("return this")(),K=t&&!t.nodeType&&t,H=K&&!0&&e&&!e.nodeType&&e,J=H&&H.exports===K;function ce(I,re){return I.set(re[0],re[1]),I}function ae(I,re){return I.add(re),I}function ee(I,re){for(var ve=-1,Xe=I?I.length:0;++ve<Xe&&re(I[ve],ve,I)!==!1;);return I}function ne(I,re){for(var ve=-1,Xe=re.length,or=I.length;++ve<Xe;)I[or+ve]=re[ve];return I}function ke(I,re,ve,Xe){for(var or=-1,Jt=I?I.length:0;++or<Jt;)ve=re(ve,I[or],or,I);return ve}function we(I,re){for(var ve=-1,Xe=Array(I);++ve<I;)Xe[ve]=re(ve);return Xe}function et(I,re){return I==null?void 0:I[re]}function Ee(I){var re=!1;if(I!=null&&typeof I.toString!="function")try{re=!!(I+"")}catch{}return re}function Te(I){var re=-1,ve=Array(I.size);return I.forEach(function(Xe,or){ve[++re]=[or,Xe]}),ve}function Fe(I,re){return function(ve){return I(re(ve))}}function ue(I){var re=-1,ve=Array(I.size);return I.forEach(function(Xe){ve[++re]=Xe}),ve}var Ce=Array.prototype,De=Function.prototype,Et=Object.prototype,_t=X["__core-js_shared__"],xe=function(){var I=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}(),Ae=De.toString,Ie=Et.hasOwnProperty,ft=Et.toString,ht=RegExp("^"+Ae.call(Ie).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=J?X.Buffer:void 0,xt=X.Symbol,Vt=X.Uint8Array,ar=Fe(Object.getPrototypeOf,Object),Pr=Object.create,mt=Et.propertyIsEnumerable,ns=Ce.splice,os=Object.getOwnPropertySymbols,Hr=tt?tt.isBuffer:void 0,ls=Fe(Object.keys,Object),cs=Bn(X,"DataView"),Us=Bn(X,"Map"),Vr=Bn(X,"Promise"),Dn=Bn(X,"Set"),Vs=Bn(X,"WeakMap"),_e=Bn(Object,"create"),wt=rn(cs),st=rn(Us),Nt=rn(Vr),qt=rn(Dn),mr=rn(Vs),Gs=xt?xt.prototype:void 0,Jr=Gs?Gs.valueOf:void 0;function Er(I){var re=-1,ve=I?I.length:0;for(this.clear();++re<ve;){var Xe=I[re];this.set(Xe[0],Xe[1])}}function ds(){this.__data__=_e?_e(null):{}}function Mr(I){return this.has(I)&&delete this.__data__[I]}function Ts(I){var re=this.__data__;if(_e){var ve=re[I];return ve===n?void 0:ve}return Ie.call(re,I)?re[I]:void 0}function Fa(I){var re=this.__data__;return _e?re[I]!==void 0:Ie.call(re,I)}function wn(I,re){var ve=this.__data__;return ve[I]=_e&&re===void 0?n:re,this}Er.prototype.clear=ds,Er.prototype.delete=Mr,Er.prototype.get=Ts,Er.prototype.has=Fa,Er.prototype.set=wn;function Z(I){var re=-1,ve=I?I.length:0;for(this.clear();++re<ve;){var Xe=I[re];this.set(Xe[0],Xe[1])}}function fe(){this.__data__=[]}function oe(I){var re=this.__data__,ve=Ss(re,I);if(ve<0)return!1;var Xe=re.length-1;return ve==Xe?re.pop():ns.call(re,ve,1),!0}function se(I){var re=this.__data__,ve=Ss(re,I);return ve<0?void 0:re[ve][1]}function de(I){return Ss(this.__data__,I)>-1}function me(I,re){var ve=this.__data__,Xe=Ss(ve,I);return Xe<0?ve.push([I,re]):ve[Xe][1]=re,this}Z.prototype.clear=fe,Z.prototype.delete=oe,Z.prototype.get=se,Z.prototype.has=de,Z.prototype.set=me;function Pe(I){var re=-1,ve=I?I.length:0;for(this.clear();++re<ve;){var Xe=I[re];this.set(Xe[0],Xe[1])}}function Ke(){this.__data__={hash:new Er,map:new(Us||Z),string:new Er}}function Oe(I){return gl(this,I).delete(I)}function $e(I){return gl(this,I).get(I)}function Ve(I){return gl(this,I).has(I)}function Y(I,re){return gl(this,I).set(I,re),this}Pe.prototype.clear=Ke,Pe.prototype.delete=Oe,Pe.prototype.get=$e,Pe.prototype.has=Ve,Pe.prototype.set=Y;function ge(I){this.__data__=new Z(I)}function be(){this.__data__=new Z}function Me(I){return this.__data__.delete(I)}function qe(I){return this.__data__.get(I)}function lt(I){return this.__data__.has(I)}function Rt(I,re){var ve=this.__data__;if(ve instanceof Z){var Xe=ve.__data__;if(!Us||Xe.length<r-1)return Xe.push([I,re]),this;ve=this.__data__=new Pe(Xe)}return ve.set(I,re),this}ge.prototype.clear=be,ge.prototype.delete=Me,ge.prototype.get=qe,ge.prototype.has=lt,ge.prototype.set=Rt;function zt(I,re){var ve=dd(I)||yl(I)?we(I.length,String):[],Xe=ve.length,or=!!Xe;for(var Jt in I)Ie.call(I,Jt)&&!(or&&(Jt=="length"||p0(Jt,Xe)))&&ve.push(Jt);return ve}function hr(I,re,ve){var Xe=I[re];(!(Ie.call(I,re)&&Zu(Xe,ve))||ve===void 0&&!(re in I))&&(I[re]=ve)}function Ss(I,re){for(var ve=I.length;ve--;)if(Zu(I[ve][0],re))return ve;return-1}function vr(I,re){return I&&rc(re,fd(re),I)}function as(I,re,ve,Xe,or,Jt,Ir){var _r;if(Xe&&(_r=Jt?Xe(I,or,Jt,Ir):Xe(I)),_r!==void 0)return _r;if(!ni(I))return I;var _s=dd(I);if(_s){if(_r=Ih(I),!re)return Ph(I,_r)}else{var Lr=Xi(I),On=Lr==h||Lr==p;if(ud(I))return ec(I,re);if(Lr==w||Lr==i||On&&!Jt){if(Ee(I))return Jt?I:{};if(_r=si(On?{}:I),!re)return xl(I,vr(_r,I))}else{if(!q[Lr])return Jt?I:{};_r=m0(I,Lr,as,re)}}Ir||(Ir=new ge);var Na=Ir.get(I);if(Na)return Na;if(Ir.set(I,_r),!_s)var fn=ve?Mh(I):fd(I);return ee(fn||I,function($n,hn){fn&&(hn=$n,$n=I[hn]),hr(_r,hn,as($n,re,ve,Xe,hn,I,Ir))}),_r}function Nn(I){return ni(I)?Pr(I):{}}function ji(I,re,ve){var Xe=re(I);return dd(I)?Xe:ne(Xe,ve(I))}function La(I){return ft.call(I)}function Rh(I){if(!ni(I)||Xu(I))return!1;var re=Do(I)||Ee(I)?ht:F;return re.test(rn(I))}function ba(I){if(!cd(I))return ls(I);var re=[];for(var ve in Object(I))Ie.call(I,ve)&&ve!="constructor"&&re.push(ve);return re}function ec(I,re){if(re)return I.slice();var ve=new I.constructor(I.length);return I.copy(ve),ve}function Yu(I){var re=new I.constructor(I.byteLength);return new Vt(re).set(new Vt(I)),re}function Qi(I,re){var ve=re?Yu(I.buffer):I.buffer;return new I.constructor(ve,I.byteOffset,I.byteLength)}function Ku(I,re,ve){var Xe=re?ve(Te(I),!0):Te(I);return ke(Xe,ce,new I.constructor)}function tc(I){var re=new I.constructor(I.source,U.exec(I));return re.lastIndex=I.lastIndex,re}function h0(I,re,ve){var Xe=re?ve(ue(I),!0):ue(I);return ke(Xe,ae,new I.constructor)}function wa(I){return Jr?Object(Jr.call(I)):{}}function Qu(I,re){var ve=re?Yu(I.buffer):I.buffer;return new I.constructor(ve,I.byteOffset,I.length)}function Ph(I,re){var ve=-1,Xe=I.length;for(re||(re=Array(Xe));++ve<Xe;)re[ve]=I[ve];return re}function rc(I,re,ve,Xe){ve||(ve={});for(var or=-1,Jt=re.length;++or<Jt;){var Ir=re[or],_r=void 0;hr(ve,Ir,_r===void 0?I[Ir]:_r)}return ve}function xl(I,re){return rc(I,_o(I),re)}function Mh(I){return ji(I,fd,_o)}function gl(I,re){var ve=I.__data__;return ld(re)?ve[typeof re=="string"?"string":"hash"]:ve.map}function Bn(I,re){var ve=et(I,re);return Rh(ve)?ve:void 0}var _o=os?Fe(os,Object):hd,Xi=La;(cs&&Xi(new cs(new ArrayBuffer(1)))!=k||Us&&Xi(new Us)!=x||Vr&&Xi(Vr.resolve())!=b||Dn&&Xi(new Dn)!=j||Vs&&Xi(new Vs)!=_)&&(Xi=function(I){var re=ft.call(I),ve=re==w?I.constructor:void 0,Xe=ve?rn(ve):void 0;if(Xe)switch(Xe){case wt:return k;case st:return x;case Nt:return b;case qt:return j;case mr:return _}return re});function Ih(I){var re=I.length,ve=I.constructor(re);return re&&typeof I[0]=="string"&&Ie.call(I,"index")&&(ve.index=I.index,ve.input=I.input),ve}function si(I){return typeof I.constructor=="function"&&!cd(I)?Nn(ar(I)):{}}function m0(I,re,ve,Xe){var or=I.constructor;switch(re){case C:return Yu(I);case l:case u:return new or(+I);case k:return Qi(I,Xe);case T:case O:case R:case L:case M:case G:case V:case ie:case le:return Qu(I,Xe);case x:return Ku(I,Xe,ve);case y:case S:return new or(I);case N:return tc(I);case j:return h0(I,Xe,ve);case A:return wa(I)}}function p0(I,re){return re=re??a,!!re&&(typeof I=="number"||W.test(I))&&I>-1&&I%1==0&&I<re}function ld(I){var re=typeof I;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?I!=="__proto__":I===null}function Xu(I){return!!xe&&xe in I}function cd(I){var re=I&&I.constructor,ve=typeof re=="function"&&re.prototype||Et;return I===ve}function rn(I){if(I!=null){try{return Ae.call(I)}catch{}try{return I+""}catch{}}return""}function ko(I){return as(I,!0,!0)}function Zu(I,re){return I===re||I!==I&&re!==re}function yl(I){return Si(I)&&Ie.call(I,"callee")&&(!mt.call(I,"callee")||ft.call(I)==i)}var dd=Array.isArray;function Zi(I){return I!=null&&Ei(I.length)&&!Do(I)}function Si(I){return sc(I)&&Zi(I)}var ud=Hr||md;function Do(I){var re=ni(I)?ft.call(I):"";return re==h||re==p}function Ei(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=a}function ni(I){var re=typeof I;return!!I&&(re=="object"||re=="function")}function sc(I){return!!I&&typeof I=="object"}function fd(I){return Zi(I)?zt(I):ba(I)}function hd(){return[]}function md(){return!1}e.exports=ko}(Tx,Tx.exports)),Tx.exports}var _x={exports:{}};_x.exports;var yM;function RV(){return yM||(yM=1,function(e,t){var r=200,n="__lodash_hash_undefined__",a=1,i=2,o=9007199254740991,l="[object Arguments]",u="[object Array]",f="[object AsyncFunction]",h="[object Boolean]",p="[object Date]",x="[object Error]",y="[object Function]",w="[object GeneratorFunction]",b="[object Map]",N="[object Number]",j="[object Null]",S="[object Object]",A="[object Promise]",_="[object Proxy]",C="[object RegExp]",k="[object Set]",T="[object String]",O="[object Symbol]",R="[object Undefined]",L="[object WeakMap]",M="[object ArrayBuffer]",G="[object DataView]",V="[object Float32Array]",ie="[object Float64Array]",le="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",F="[object Uint8Array]",W="[object Uint8ClampedArray]",q="[object Uint16Array]",Q="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,H={};H[V]=H[ie]=H[le]=H[B]=H[U]=H[F]=H[W]=H[q]=H[Q]=!0,H[l]=H[u]=H[M]=H[h]=H[G]=H[p]=H[x]=H[y]=H[b]=H[N]=H[S]=H[C]=H[k]=H[T]=H[L]=!1;var J=typeof bo=="object"&&bo&&bo.Object===Object&&bo,ce=typeof self=="object"&&self&&self.Object===Object&&self,ae=J||ce||Function("return this")(),ee=t&&!t.nodeType&&t,ne=ee&&!0&&e&&!e.nodeType&&e,ke=ne&&ne.exports===ee,we=ke&&J.process,et=function(){try{return we&&we.binding&&we.binding("util")}catch{}}(),Ee=et&&et.isTypedArray;function Te(I,re){for(var ve=-1,Xe=I==null?0:I.length,or=0,Jt=[];++ve<Xe;){var Ir=I[ve];re(Ir,ve,I)&&(Jt[or++]=Ir)}return Jt}function Fe(I,re){for(var ve=-1,Xe=re.length,or=I.length;++ve<Xe;)I[or+ve]=re[ve];return I}function ue(I,re){for(var ve=-1,Xe=I==null?0:I.length;++ve<Xe;)if(re(I[ve],ve,I))return!0;return!1}function Ce(I,re){for(var ve=-1,Xe=Array(I);++ve<I;)Xe[ve]=re(ve);return Xe}function De(I){return function(re){return I(re)}}function Et(I,re){return I.has(re)}function _t(I,re){return I==null?void 0:I[re]}function xe(I){var re=-1,ve=Array(I.size);return I.forEach(function(Xe,or){ve[++re]=[or,Xe]}),ve}function Ae(I,re){return function(ve){return I(re(ve))}}function Ie(I){var re=-1,ve=Array(I.size);return I.forEach(function(Xe){ve[++re]=Xe}),ve}var ft=Array.prototype,ht=Function.prototype,tt=Object.prototype,xt=ae["__core-js_shared__"],Vt=ht.toString,ar=tt.hasOwnProperty,Pr=function(){var I=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}(),mt=tt.toString,ns=RegExp("^"+Vt.call(ar).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=ke?ae.Buffer:void 0,Hr=ae.Symbol,ls=ae.Uint8Array,cs=tt.propertyIsEnumerable,Us=ft.splice,Vr=Hr?Hr.toStringTag:void 0,Dn=Object.getOwnPropertySymbols,Vs=os?os.isBuffer:void 0,_e=Ae(Object.keys,Object),wt=_o(ae,"DataView"),st=_o(ae,"Map"),Nt=_o(ae,"Promise"),qt=_o(ae,"Set"),mr=_o(ae,"WeakMap"),Gs=_o(Object,"create"),Jr=rn(wt),Er=rn(st),ds=rn(Nt),Mr=rn(qt),Ts=rn(mr),Fa=Hr?Hr.prototype:void 0,wn=Fa?Fa.valueOf:void 0;function Z(I){var re=-1,ve=I==null?0:I.length;for(this.clear();++re<ve;){var Xe=I[re];this.set(Xe[0],Xe[1])}}function fe(){this.__data__=Gs?Gs(null):{},this.size=0}function oe(I){var re=this.has(I)&&delete this.__data__[I];return this.size-=re?1:0,re}function se(I){var re=this.__data__;if(Gs){var ve=re[I];return ve===n?void 0:ve}return ar.call(re,I)?re[I]:void 0}function de(I){var re=this.__data__;return Gs?re[I]!==void 0:ar.call(re,I)}function me(I,re){var ve=this.__data__;return this.size+=this.has(I)?0:1,ve[I]=Gs&&re===void 0?n:re,this}Z.prototype.clear=fe,Z.prototype.delete=oe,Z.prototype.get=se,Z.prototype.has=de,Z.prototype.set=me;function Pe(I){var re=-1,ve=I==null?0:I.length;for(this.clear();++re<ve;){var Xe=I[re];this.set(Xe[0],Xe[1])}}function Ke(){this.__data__=[],this.size=0}function Oe(I){var re=this.__data__,ve=ec(re,I);if(ve<0)return!1;var Xe=re.length-1;return ve==Xe?re.pop():Us.call(re,ve,1),--this.size,!0}function $e(I){var re=this.__data__,ve=ec(re,I);return ve<0?void 0:re[ve][1]}function Ve(I){return ec(this.__data__,I)>-1}function Y(I,re){var ve=this.__data__,Xe=ec(ve,I);return Xe<0?(++this.size,ve.push([I,re])):ve[Xe][1]=re,this}Pe.prototype.clear=Ke,Pe.prototype.delete=Oe,Pe.prototype.get=$e,Pe.prototype.has=Ve,Pe.prototype.set=Y;function ge(I){var re=-1,ve=I==null?0:I.length;for(this.clear();++re<ve;){var Xe=I[re];this.set(Xe[0],Xe[1])}}function be(){this.size=0,this.__data__={hash:new Z,map:new(st||Pe),string:new Z}}function Me(I){var re=Bn(this,I).delete(I);return this.size-=re?1:0,re}function qe(I){return Bn(this,I).get(I)}function lt(I){return Bn(this,I).has(I)}function Rt(I,re){var ve=Bn(this,I),Xe=ve.size;return ve.set(I,re),this.size+=ve.size==Xe?0:1,this}ge.prototype.clear=be,ge.prototype.delete=Me,ge.prototype.get=qe,ge.prototype.has=lt,ge.prototype.set=Rt;function zt(I){var re=-1,ve=I==null?0:I.length;for(this.__data__=new ge;++re<ve;)this.add(I[re])}function hr(I){return this.__data__.set(I,n),this}function Ss(I){return this.__data__.has(I)}zt.prototype.add=zt.prototype.push=hr,zt.prototype.has=Ss;function vr(I){var re=this.__data__=new Pe(I);this.size=re.size}function as(){this.__data__=new Pe,this.size=0}function Nn(I){var re=this.__data__,ve=re.delete(I);return this.size=re.size,ve}function ji(I){return this.__data__.get(I)}function La(I){return this.__data__.has(I)}function Rh(I,re){var ve=this.__data__;if(ve instanceof Pe){var Xe=ve.__data__;if(!st||Xe.length<r-1)return Xe.push([I,re]),this.size=++ve.size,this;ve=this.__data__=new ge(Xe)}return ve.set(I,re),this.size=ve.size,this}vr.prototype.clear=as,vr.prototype.delete=Nn,vr.prototype.get=ji,vr.prototype.has=La,vr.prototype.set=Rh;function ba(I,re){var ve=yl(I),Xe=!ve&&Zu(I),or=!ve&&!Xe&&Zi(I),Jt=!ve&&!Xe&&!or&&sc(I),Ir=ve||Xe||or||Jt,_r=Ir?Ce(I.length,String):[],_s=_r.length;for(var Lr in I)ar.call(I,Lr)&&!(Ir&&(Lr=="length"||or&&(Lr=="offset"||Lr=="parent")||Jt&&(Lr=="buffer"||Lr=="byteLength"||Lr=="byteOffset")||m0(Lr,_s)))&&_r.push(Lr);return _r}function ec(I,re){for(var ve=I.length;ve--;)if(ko(I[ve][0],re))return ve;return-1}function Yu(I,re,ve){var Xe=re(I);return yl(I)?Xe:Fe(Xe,ve(I))}function Qi(I){return I==null?I===void 0?R:j:Vr&&Vr in Object(I)?Xi(I):cd(I)}function Ku(I){return ni(I)&&Qi(I)==l}function tc(I,re,ve,Xe,or){return I===re?!0:I==null||re==null||!ni(I)&&!ni(re)?I!==I&&re!==re:h0(I,re,ve,Xe,tc,or)}function h0(I,re,ve,Xe,or,Jt){var Ir=yl(I),_r=yl(re),_s=Ir?u:si(I),Lr=_r?u:si(re);_s=_s==l?S:_s,Lr=Lr==l?S:Lr;var On=_s==S,Na=Lr==S,fn=_s==Lr;if(fn&&Zi(I)){if(!Zi(re))return!1;Ir=!0,On=!1}if(fn&&!On)return Jt||(Jt=new vr),Ir||sc(I)?rc(I,re,ve,Xe,or,Jt):xl(I,re,_s,ve,Xe,or,Jt);if(!(ve&a)){var $n=On&&ar.call(I,"__wrapped__"),hn=Na&&ar.call(re,"__wrapped__");if($n||hn){var vl=$n?I.value():I,Oo=hn?re.value():re;return Jt||(Jt=new vr),or(vl,Oo,ve,Xe,Jt)}}return fn?(Jt||(Jt=new vr),Mh(I,re,ve,Xe,or,Jt)):!1}function wa(I){if(!Ei(I)||ld(I))return!1;var re=ud(I)?ns:X;return re.test(rn(I))}function Qu(I){return ni(I)&&Do(I.length)&&!!H[Qi(I)]}function Ph(I){if(!Xu(I))return _e(I);var re=[];for(var ve in Object(I))ar.call(I,ve)&&ve!="constructor"&&re.push(ve);return re}function rc(I,re,ve,Xe,or,Jt){var Ir=ve&a,_r=I.length,_s=re.length;if(_r!=_s&&!(Ir&&_s>_r))return!1;var Lr=Jt.get(I);if(Lr&&Jt.get(re))return Lr==re;var On=-1,Na=!0,fn=ve&i?new zt:void 0;for(Jt.set(I,re),Jt.set(re,I);++On<_r;){var $n=I[On],hn=re[On];if(Xe)var vl=Ir?Xe(hn,$n,On,re,I,Jt):Xe($n,hn,On,I,re,Jt);if(vl!==void 0){if(vl)continue;Na=!1;break}if(fn){if(!ue(re,function(Oo,nc){if(!Et(fn,nc)&&($n===Oo||or($n,Oo,ve,Xe,Jt)))return fn.push(nc)})){Na=!1;break}}else if(!($n===hn||or($n,hn,ve,Xe,Jt))){Na=!1;break}}return Jt.delete(I),Jt.delete(re),Na}function xl(I,re,ve,Xe,or,Jt,Ir){switch(ve){case G:if(I.byteLength!=re.byteLength||I.byteOffset!=re.byteOffset)return!1;I=I.buffer,re=re.buffer;case M:return!(I.byteLength!=re.byteLength||!Jt(new ls(I),new ls(re)));case h:case p:case N:return ko(+I,+re);case x:return I.name==re.name&&I.message==re.message;case C:case T:return I==re+"";case b:var _r=xe;case k:var _s=Xe&a;if(_r||(_r=Ie),I.size!=re.size&&!_s)return!1;var Lr=Ir.get(I);if(Lr)return Lr==re;Xe|=i,Ir.set(I,re);var On=rc(_r(I),_r(re),Xe,or,Jt,Ir);return Ir.delete(I),On;case O:if(wn)return wn.call(I)==wn.call(re)}return!1}function Mh(I,re,ve,Xe,or,Jt){var Ir=ve&a,_r=gl(I),_s=_r.length,Lr=gl(re),On=Lr.length;if(_s!=On&&!Ir)return!1;for(var Na=_s;Na--;){var fn=_r[Na];if(!(Ir?fn in re:ar.call(re,fn)))return!1}var $n=Jt.get(I);if($n&&Jt.get(re))return $n==re;var hn=!0;Jt.set(I,re),Jt.set(re,I);for(var vl=Ir;++Na<_s;){fn=_r[Na];var Oo=I[fn],nc=re[fn];if(Xe)var Fy=Ir?Xe(nc,Oo,fn,re,I,Jt):Xe(Oo,nc,fn,I,re,Jt);if(!(Fy===void 0?Oo===nc||or(Oo,nc,ve,Xe,Jt):Fy)){hn=!1;break}vl||(vl=fn=="constructor")}if(hn&&!vl){var Fh=I.constructor,Ju=re.constructor;Fh!=Ju&&"constructor"in I&&"constructor"in re&&!(typeof Fh=="function"&&Fh instanceof Fh&&typeof Ju=="function"&&Ju instanceof Ju)&&(hn=!1)}return Jt.delete(I),Jt.delete(re),hn}function gl(I){return Yu(I,fd,Ih)}function Bn(I,re){var ve=I.__data__;return p0(re)?ve[typeof re=="string"?"string":"hash"]:ve.map}function _o(I,re){var ve=_t(I,re);return wa(ve)?ve:void 0}function Xi(I){var re=ar.call(I,Vr),ve=I[Vr];try{I[Vr]=void 0;var Xe=!0}catch{}var or=mt.call(I);return Xe&&(re?I[Vr]=ve:delete I[Vr]),or}var Ih=Dn?function(I){return I==null?[]:(I=Object(I),Te(Dn(I),function(re){return cs.call(I,re)}))}:hd,si=Qi;(wt&&si(new wt(new ArrayBuffer(1)))!=G||st&&si(new st)!=b||Nt&&si(Nt.resolve())!=A||qt&&si(new qt)!=k||mr&&si(new mr)!=L)&&(si=function(I){var re=Qi(I),ve=re==S?I.constructor:void 0,Xe=ve?rn(ve):"";if(Xe)switch(Xe){case Jr:return G;case Er:return b;case ds:return A;case Mr:return k;case Ts:return L}return re});function m0(I,re){return re=re??o,!!re&&(typeof I=="number"||K.test(I))&&I>-1&&I%1==0&&I<re}function p0(I){var re=typeof I;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?I!=="__proto__":I===null}function ld(I){return!!Pr&&Pr in I}function Xu(I){var re=I&&I.constructor,ve=typeof re=="function"&&re.prototype||tt;return I===ve}function cd(I){return mt.call(I)}function rn(I){if(I!=null){try{return Vt.call(I)}catch{}try{return I+""}catch{}}return""}function ko(I,re){return I===re||I!==I&&re!==re}var Zu=Ku(function(){return arguments}())?Ku:function(I){return ni(I)&&ar.call(I,"callee")&&!cs.call(I,"callee")},yl=Array.isArray;function dd(I){return I!=null&&Do(I.length)&&!ud(I)}var Zi=Vs||md;function Si(I,re){return tc(I,re)}function ud(I){if(!Ei(I))return!1;var re=Qi(I);return re==y||re==w||re==f||re==_}function Do(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=o}function Ei(I){var re=typeof I;return I!=null&&(re=="object"||re=="function")}function ni(I){return I!=null&&typeof I=="object"}var sc=Ee?De(Ee):Qu;function fd(I){return dd(I)?ba(I):Ph(I)}function hd(){return[]}function md(){return!1}e.exports=Si}(_x,_x.exports)),_x.exports}var o1={},vM;function ASe(){if(vM)return o1;vM=1,Object.defineProperty(o1,"__esModule",{value:!0});const e=OV(),t=RV();var r;return function(n){function a(u={},f={},h=!1){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});let p=e(f);h||(p=Object.keys(p).reduce((x,y)=>(p[y]!=null&&(x[y]=p[y]),x),{}));for(const x in u)u[x]!==void 0&&f[x]===void 0&&(p[x]=u[x]);return Object.keys(p).length>0?p:void 0}n.compose=a;function i(u={},f={}){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});const h=Object.keys(u).concat(Object.keys(f)).reduce((p,x)=>(t(u[x],f[x])||(p[x]=f[x]===void 0?null:f[x]),p),{});return Object.keys(h).length>0?h:void 0}n.diff=i;function o(u={},f={}){u=u||{};const h=Object.keys(f).reduce((p,x)=>(f[x]!==u[x]&&u[x]!==void 0&&(p[x]=f[x]),p),{});return Object.keys(u).reduce((p,x)=>(u[x]!==f[x]&&f[x]===void 0&&(p[x]=null),p),h)}n.invert=o;function l(u,f,h=!1){if(typeof u!="object")return f;if(typeof f!="object")return;if(!h)return f;const p=Object.keys(f).reduce((x,y)=>(u[y]===void 0&&(x[y]=f[y]),x),{});return Object.keys(p).length>0?p:void 0}n.transform=l}(r||(r={})),o1.default=r,o1}var l1={},bM;function PV(){if(bM)return l1;bM=1,Object.defineProperty(l1,"__esModule",{value:!0});var e;return function(t){function r(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=r}(e||(e={})),l1.default=e,l1}var c1={},wM;function CSe(){if(wM)return c1;wM=1,Object.defineProperty(c1,"__esModule",{value:!0});const e=PV();class t{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const a=this.ops[this.index];if(a){const i=this.offset,o=e.default.length(a);if(n>=o-i?(n=o-i,this.index+=1,this.offset=0):this.offset+=n,typeof a.delete=="number")return{delete:n};{const l={};return a.attributes&&(l.attributes=a.attributes),typeof a.retain=="number"?l.retain=n:typeof a.retain=="object"&&a.retain!==null?l.retain=a.retain:typeof a.insert=="string"?l.insert=a.insert.substr(i,n):l.insert=a.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,a=this.index,i=this.next(),o=this.ops.slice(this.index);return this.offset=n,this.index=a,[i].concat(o)}}else return[]}}return c1.default=t,c1}var NM;function TSe(){return NM||(NM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const r=ESe(),n=OV(),a=RV(),i=ASe();t.AttributeMap=i.default;const o=PV();t.Op=o.default;const l=CSe();t.OpIterator=l.default;const u="\0",f=(p,x)=>{if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);if(typeof x!="object"||x===null)throw new Error(`cannot retain a ${typeof x}`);const y=Object.keys(p)[0];if(!y||y!==Object.keys(x)[0])throw new Error(`embed types not matched: ${y} != ${Object.keys(x)[0]}`);return[y,p[y],x[y]]};class h{constructor(x){Array.isArray(x)?this.ops=x:x!=null&&Array.isArray(x.ops)?this.ops=x.ops:this.ops=[]}static registerEmbed(x,y){this.handlers[x]=y}static unregisterEmbed(x){delete this.handlers[x]}static getHandler(x){const y=this.handlers[x];if(!y)throw new Error(`no handlers for embed type "${x}"`);return y}insert(x,y){const w={};return typeof x=="string"&&x.length===0?this:(w.insert=x,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(w.attributes=y),this.push(w))}delete(x){return x<=0?this:this.push({delete:x})}retain(x,y){if(typeof x=="number"&&x<=0)return this;const w={retain:x};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(w.attributes=y),this.push(w)}push(x){let y=this.ops.length,w=this.ops[y-1];if(x=n(x),typeof w=="object"){if(typeof x.delete=="number"&&typeof w.delete=="number")return this.ops[y-1]={delete:w.delete+x.delete},this;if(typeof w.delete=="number"&&x.insert!=null&&(y-=1,w=this.ops[y-1],typeof w!="object"))return this.ops.unshift(x),this;if(a(x.attributes,w.attributes)){if(typeof x.insert=="string"&&typeof w.insert=="string")return this.ops[y-1]={insert:w.insert+x.insert},typeof x.attributes=="object"&&(this.ops[y-1].attributes=x.attributes),this;if(typeof x.retain=="number"&&typeof w.retain=="number")return this.ops[y-1]={retain:w.retain+x.retain},typeof x.attributes=="object"&&(this.ops[y-1].attributes=x.attributes),this}}return y===this.ops.length?this.ops.push(x):this.ops.splice(y,0,x),this}chop(){const x=this.ops[this.ops.length-1];return x&&typeof x.retain=="number"&&!x.attributes&&this.ops.pop(),this}filter(x){return this.ops.filter(x)}forEach(x){this.ops.forEach(x)}map(x){return this.ops.map(x)}partition(x){const y=[],w=[];return this.forEach(b=>{(x(b)?y:w).push(b)}),[y,w]}reduce(x,y){return this.ops.reduce(x,y)}changeLength(){return this.reduce((x,y)=>y.insert?x+o.default.length(y):y.delete?x-y.delete:x,0)}length(){return this.reduce((x,y)=>x+o.default.length(y),0)}slice(x=0,y=1/0){const w=[],b=new l.default(this.ops);let N=0;for(;N<y&&b.hasNext();){let j;N<x?j=b.next(x-N):(j=b.next(y-N),w.push(j)),N+=o.default.length(j)}return new h(w)}compose(x){const y=new l.default(this.ops),w=new l.default(x.ops),b=[],N=w.peek();if(N!=null&&typeof N.retain=="number"&&N.attributes==null){let S=N.retain;for(;y.peekType()==="insert"&&y.peekLength()<=S;)S-=y.peekLength(),b.push(y.next());N.retain-S>0&&w.next(N.retain-S)}const j=new h(b);for(;y.hasNext()||w.hasNext();)if(w.peekType()==="insert")j.push(w.next());else if(y.peekType()==="delete")j.push(y.next());else{const S=Math.min(y.peekLength(),w.peekLength()),A=y.next(S),_=w.next(S);if(_.retain){const C={};if(typeof A.retain=="number")C.retain=typeof _.retain=="number"?S:_.retain;else if(typeof _.retain=="number")A.retain==null?C.insert=A.insert:C.retain=A.retain;else{const T=A.retain==null?"insert":"retain",[O,R,L]=f(A[T],_.retain),M=h.getHandler(O);C[T]={[O]:M.compose(R,L,T==="retain")}}const k=i.default.compose(A.attributes,_.attributes,typeof A.retain=="number");if(k&&(C.attributes=k),j.push(C),!w.hasNext()&&a(j.ops[j.ops.length-1],C)){const T=new h(y.rest());return j.concat(T).chop()}}else typeof _.delete=="number"&&(typeof A.retain=="number"||typeof A.retain=="object"&&A.retain!==null)&&j.push(_)}return j.chop()}concat(x){const y=new h(this.ops.slice());return x.ops.length>0&&(y.push(x.ops[0]),y.ops=y.ops.concat(x.ops.slice(1))),y}diff(x,y){if(this.ops===x.ops)return new h;const w=[this,x].map(A=>A.map(_=>{if(_.insert!=null)return typeof _.insert=="string"?_.insert:u;const C=A===x?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")),b=new h,N=r(w[0],w[1],y,!0),j=new l.default(this.ops),S=new l.default(x.ops);return N.forEach(A=>{let _=A[1].length;for(;_>0;){let C=0;switch(A[0]){case r.INSERT:C=Math.min(S.peekLength(),_),b.push(S.next(C));break;case r.DELETE:C=Math.min(_,j.peekLength()),j.next(C),b.delete(C);break;case r.EQUAL:C=Math.min(j.peekLength(),S.peekLength(),_);const k=j.next(C),T=S.next(C);a(k.insert,T.insert)?b.retain(C,i.default.diff(k.attributes,T.attributes)):b.push(T).delete(C);break}_-=C}}),b.chop()}eachLine(x,y=`
`){const w=new l.default(this.ops);let b=new h,N=0;for(;w.hasNext();){if(w.peekType()!=="insert")return;const j=w.peek(),S=o.default.length(j)-w.peekLength(),A=typeof j.insert=="string"?j.insert.indexOf(y,S)-S:-1;if(A<0)b.push(w.next());else if(A>0)b.push(w.next(A));else{if(x(b,w.next(1).attributes||{},N)===!1)return;N+=1,b=new h}}b.length()>0&&x(b,{},N)}invert(x){const y=new h;return this.reduce((w,b)=>{if(b.insert)y.delete(o.default.length(b));else{if(typeof b.retain=="number"&&b.attributes==null)return y.retain(b.retain),w+b.retain;if(b.delete||typeof b.retain=="number"){const N=b.delete||b.retain;return x.slice(w,w+N).forEach(S=>{b.delete?y.push(S):b.retain&&b.attributes&&y.retain(o.default.length(S),i.default.invert(b.attributes,S.attributes))}),w+N}else if(typeof b.retain=="object"&&b.retain!==null){const N=x.slice(w,w+1),j=new l.default(N.ops).next(),[S,A,_]=f(b.retain,j.insert),C=h.getHandler(S);return y.retain({[S]:C.invert(A,_)},i.default.invert(b.attributes,j.attributes)),w+1}}return w},0),y.chop()}transform(x,y=!1){if(y=!!y,typeof x=="number")return this.transformPosition(x,y);const w=x,b=new l.default(this.ops),N=new l.default(w.ops),j=new h;for(;b.hasNext()||N.hasNext();)if(b.peekType()==="insert"&&(y||N.peekType()!=="insert"))j.retain(o.default.length(b.next()));else if(N.peekType()==="insert")j.push(N.next());else{const S=Math.min(b.peekLength(),N.peekLength()),A=b.next(S),_=N.next(S);if(A.delete)continue;if(_.delete)j.push(_);else{const C=A.retain,k=_.retain;let T=typeof k=="object"&&k!==null?k:S;if(typeof C=="object"&&C!==null&&typeof k=="object"&&k!==null){const O=Object.keys(C)[0];if(O===Object.keys(k)[0]){const R=h.getHandler(O);R&&(T={[O]:R.transform(C[O],k[O],y)})}}j.retain(T,i.default.transform(A.attributes,_.attributes,y))}}return j.chop()}transformPosition(x,y=!1){y=!!y;const w=new l.default(this.ops);let b=0;for(;w.hasNext()&&b<=x;){const N=w.peekLength(),j=w.peekType();if(w.next(),j==="delete"){x-=Math.min(N,x-b);continue}else j==="insert"&&(b<x||!y)&&(x+=N);b+=N}return x}}h.Op=o.default,h.OpIterator=l.default,h.AttributeMap=i.default,h.handlers={},t.default=h,e.exports=h,e.exports.default=h}(i1,i1.exports)),i1.exports}var wo=TSe();const Ht=Wb(wo);class ml extends Ki{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ml.blotName="break";ml.tagName="BR";let ol=class extends Db{};const _Se={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tN(e){return e.replace(/[&<>"']/g,t=>_Se[t])}const kl=class kl extends I4{static compare(t,r){const n=kl.order.indexOf(t),a=kl.order.indexOf(r);return n>=0||a>=0?n-a:t===r?0:t<r?-1:1}formatAt(t,r,n,a){if(kl.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Xt.BLOT)){const i=this.isolate(t,r);a&&i.wrap(n,a)}else super.formatAt(t,r,n,a)}optimize(t){if(super.optimize(t),this.parent instanceof kl&&kl.compare(this.statics.blotName,this.parent.statics.blotName)>0){const r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}};Ot(kl,"allowedChildren",[kl,ml,Ki,ol]),Ot(kl,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Ql=kl;const jM=1;class ia extends Og{constructor(){super(...arguments);Ot(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=MV(this)),this.cache.delta}deleteAt(r,n){super.deleteAt(r,n),this.cache={}}formatAt(r,n,a,i){n<=0||(this.scroll.query(a,Xt.BLOCK)?r+n===this.length()&&this.format(a,i):super.formatAt(r,Math.min(n,this.length()-r-1),a,i),this.cache={})}insertAt(r,n,a){if(a!=null){super.insertAt(r,n,a),this.cache={};return}if(n.length===0)return;const i=n.split(`
`),o=i.shift();o.length>0&&(r<this.length()-1||this.children.tail==null?super.insertAt(Math.min(r,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;i.reduce((u,f)=>(l=l.split(u,!0),l.insertAt(0,f),f.length),r+o.length)}insertBefore(r,n){const{head:a}=this.children;super.insertBefore(r,n),a instanceof ml&&a.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+jM),this.cache.length}moveChildren(r,n){super.moveChildren(r,n),this.cache={}}optimize(r){super.optimize(r),this.cache={}}path(r){return super.path(r,!0)}removeChild(r){super.removeChild(r),this.cache={}}split(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(r===0||r>=this.length()-jM)){const i=this.clone();return r===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const a=super.split(r,n);return this.cache={},a}}ia.blotName="block";ia.tagName="P";ia.defaultChild=ml;ia.allowedChildren=[ml,Ql,Ki,ol];class vo extends Ki{attach(){super.attach(),this.attributes=new Jw(this.domNode)}delta(){return new Ht().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,r){const n=this.scroll.query(t,Xt.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,r)}formatAt(t,r,n,a){this.format(n,a)}insertAt(t,r,n){if(n!=null){super.insertAt(t,r,n);return}const a=r.split(`
`),i=a.pop(),o=a.map(u=>{const f=this.scroll.create(ia.blotName);return f.insertAt(0,u),f}),l=this.split(t);o.forEach(u=>{this.parent.insertBefore(u,l)}),i&&this.parent.insertBefore(this.scroll.create("text",i),l)}}vo.scope=Xt.BLOCK_BLOT;function MV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(_a).reduce((r,n)=>n.length()===0?r:r.insert(n.value(),po(n,{},t)),new Ht).insert(`
`,po(e))}function po(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(t={...t,...e.formats()},r&&delete t["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?t:po(e.parent,t,r)}const uo=class uo extends Ki{static value(){}constructor(t,r,n){super(t,r),this.selection=n,this.textNode=document.createTextNode(uo.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,r){if(this.savedLength!==0){super.format(t,r);return}let n=this,a=0;for(;n!=null&&n.statics.scope!==Xt.BLOCK_BLOT;)a+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=uo.CONTENTS.length,n.optimize(),n.formatAt(a,uo.CONTENTS.length,t,r),this.savedLength=0)}index(t,r){return t===this.textNode?0:super.index(t,r)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const r=this.prev instanceof ol?this.prev:null,n=r?r.length():0,a=this.next instanceof ol?this.next:null,i=a?a.text:"",{textNode:o}=this,l=o.data.split(uo.CONTENTS).join("");o.data=uo.CONTENTS;let u;if(r)u=r,(l||a)&&(r.insertAt(r.length(),l+i),a&&a.remove());else if(a)u=a,a.insertAt(0,l);else{const f=document.createTextNode(l);u=this.scroll.create(f),this.parent.insertBefore(u,this)}if(this.remove(),t){const f=(x,y)=>r&&x===r.domNode?y:x===o?n+y-1:a&&x===a.domNode?n+l.length+y:null,h=f(t.start.node,t.start.offset),p=f(t.end.node,t.end.offset);if(h!==null&&p!==null)return{startNode:u.domNode,startOffset:h,endNode:u.domNode,endOffset:p}}return null}update(t,r){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(r.range=n)}}optimize(t){super.optimize(t);let{parent:r}=this;for(;r;){if(r.domNode.tagName==="A"){this.savedLength=uo.CONTENTS.length,r.isolate(this.offset(r),this.length()).unwrap(),this.savedLength=0;break}r=r.parent}}value(){return""}};Ot(uo,"blotName","cursor"),Ot(uo,"className","ql-cursor"),Ot(uo,"tagName","span"),Ot(uo,"CONTENTS","\uFEFF");let Dp=uo;var $S={exports:{}},SM;function kSe(){return SM||(SM=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,p,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new a(h,p||u,x),w=r?r+f:f;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],y]:u._events[w].push(y):(u._events[w]=y,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=r?r+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,y=p.length,w=new Array(y);x<y;x++)w[x]=p[x].fn;return w},l.prototype.listenerCount=function(f){var h=r?r+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,x,y,w){var b=r?r+f:f;if(!this._events[b])return!1;var N=this._events[b],j=arguments.length,S,A;if(N.fn){switch(N.once&&this.removeListener(f,N.fn,void 0,!0),j){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,h),!0;case 3:return N.fn.call(N.context,h,p),!0;case 4:return N.fn.call(N.context,h,p,x),!0;case 5:return N.fn.call(N.context,h,p,x,y),!0;case 6:return N.fn.call(N.context,h,p,x,y,w),!0}for(A=1,S=new Array(j-1);A<j;A++)S[A-1]=arguments[A];N.fn.apply(N.context,S)}else{var _=N.length,C;for(A=0;A<_;A++)switch(N[A].once&&this.removeListener(f,N[A].fn,void 0,!0),j){case 1:N[A].fn.call(N[A].context);break;case 2:N[A].fn.call(N[A].context,h);break;case 3:N[A].fn.call(N[A].context,h,p);break;case 4:N[A].fn.call(N[A].context,h,p,x);break;default:if(!S)for(C=1,S=new Array(j-1);C<j;C++)S[C-1]=arguments[C];N[A].fn.apply(N[A].context,S)}}return!0},l.prototype.on=function(f,h,p){return i(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return i(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,x){var y=r?r+f:f;if(!this._events[y])return this;if(!h)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!x||w.once)&&(!p||w.context===p)&&o(this,y);else{for(var b=0,N=[],j=w.length;b<j;b++)(w[b].fn!==h||x&&!w[b].once||p&&w[b].context!==p)&&N.push(w[b]);N.length?this._events[y]=N.length===1?N[0]:N:o(this,y)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l}($S)),$S.exports}var DSe=kSe();const OSe=Wb(DSe),KA=new WeakMap,QA=["error","warn","log","info"];let XA="warn";function IV(e){if(XA&&QA.indexOf(e)<=QA.indexOf(XA)){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console[e](...r)}}function id(e){return QA.reduce((t,r)=>(t[r]=IV.bind(console,r,e),t),{})}id.level=e=>{XA=e};IV.level=id.level;const US=id("quill:events"),RSe=["selectionchange","mousedown","mouseup","click"];RSe.forEach(e=>{document.addEventListener(e,function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const i=KA.get(a);i&&i.emitter&&i.emitter.handleDOM(...r)})})});class Ft extends OSe{constructor(){super(),this.domListeners={},this.on("error",US.error)}emit(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return US.log.call(US,...r),super.emit(...r)}handleDOM(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(this.domListeners[t.type]||[]).forEach(i=>{let{node:o,handler:l}=i;(t.target===o||o.contains(t.target))&&l(t,...n)})}listenDOM(t,r,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:r,handler:n})}}Ot(Ft,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Ot(Ft,"sources",{API:"api",SILENT:"silent",USER:"user"});const VS=id("quill:selection");class ah{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=r}}class PSe{constructor(t,r){this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new ah(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ft.sources.USER),1)}),this.emitter.on(Ft.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(Ft.events.SCROLL_UPDATE,(a,i)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const o=i.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?Ft.sources.SILENT:a)}catch{}})}),this.emitter.on(Ft.events.SCROLL_OPTIMIZE,(n,a)=>{if(a.range){const{startNode:i,startOffset:o,endNode:l,endOffset:u}=a.range;this.setNativeRange(i,o,l,u),this.update(Ft.sources.SILENT)}}),this.update(Ft.sources.SILENT)}handleComposition(){this.emitter.on(Ft.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ft.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ft.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,r){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,Xt.BLOCK))){if(n.start.node!==this.cursor.textNode){const a=this.scroll.find(n.start.node,!1);if(a==null)return;if(a instanceof _a){const i=a.split(n.start.offset);a.parent.insertBefore(this.cursor,i)}else a.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),r=Math.min(t+r,n-1)-t;let a,[i,o]=this.scroll.leaf(t);if(i==null)return null;if(r>0&&o===i.length()){const[h]=this.scroll.leaf(t+1);if(h){const[p]=this.scroll.line(t),[x]=this.scroll.line(t+1);p===x&&(i=h,o=0)}}[a,o]=i.position(o,!0);const l=document.createRange();if(r>0)return l.setStart(a,o),[i,o]=this.scroll.leaf(t+r),i==null?null:([a,o]=i.position(o,!0),l.setEnd(a,o),l.getBoundingClientRect());let u="left",f;if(a instanceof Text){if(!a.data.length)return null;o<a.data.length?(l.setStart(a,o),l.setEnd(a,o+1)):(l.setStart(a,o-1),l.setEnd(a,o),u="right"),f=l.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;f=i.domNode.getBoundingClientRect(),o>0&&(u="right")}return{bottom:f.top+f.height,height:f.height,left:f[u],right:f[u],top:f.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const r=t.getRangeAt(0);if(r==null)return null;const n=this.normalizeNative(r);return VS.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const r=this.getNativeRange();return r==null?[null,null]:[this.normalizedToRange(r),r]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&qS(this.root,document.activeElement)}normalizedToRange(t){const r=[[t.start.node,t.start.offset]];t.native.collapsed||r.push([t.end.node,t.end.offset]);const n=r.map(o=>{const[l,u]=o,f=this.scroll.find(l,!0),h=f.offset(this.scroll);return u===0?h:f instanceof _a?h+f.index(l,u):h+f.length()}),a=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(a,...n);return new ah(i,a-i)}normalizeNative(t){if(!qS(this.root,t.startContainer)||!t.collapsed&&!qS(this.root,t.endContainer))return null;const r={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[r.start,r.end].forEach(n=>{let{node:a,offset:i}=n;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>i)a=a.childNodes[i],i=0;else if(a.childNodes.length===i)a=a.lastChild,a instanceof Text?i=a.data.length:a.childNodes.length>0?i=a.childNodes.length:i=a.childNodes.length+1;else break;n.node=a,n.offset=i}),r}rangeToNative(t){const r=this.scroll.length(),n=(a,i)=>{a=Math.min(r-1,a);const[o,l]=this.scroll.leaf(a);return o?o.position(l,i):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(VS.info("setNativeRange",t,r,n,a),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||i||t!==l.startContainer||r!==l.startOffset||n!==l.endContainer||a!==l.endOffset){t instanceof Element&&t.tagName==="BR"&&(r=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(a=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const u=document.createRange();u.setStart(t,r),u.setEnd(n,a),o.removeAllRanges(),o.addRange(u)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ft.sources.API;if(typeof r=="string"&&(n=r,r=!1),VS.info("setRange",t),t!=null){const a=this.rangeToNative(t);this.setNativeRange(...a,r)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ft.sources.USER;const r=this.lastRange,[n,a]=this.getRange();if(this.lastRange=n,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!eu(r,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[Ft.events.SELECTION_CHANGE,Xm(this.lastRange),Xm(r),t];this.emitter.emit(Ft.events.EDITOR_CHANGE,...i),t!==Ft.sources.SILENT&&this.emitter.emit(...i)}}}function qS(e,t){try{t.parentNode}catch{return!1}return e.contains(t)}const MSe=/^[ -~]*$/;class ISe{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const n=EM(t),a=new Ht;return LSe(n.ops.slice()).reduce((o,l)=>{const u=wo.Op.length(l);let f=l.attributes||{},h=!1,p=!1;if(l.insert!=null){if(a.retain(u),typeof l.insert=="string"){const w=l.insert;p=!w.endsWith(`
`)&&(r<=o||!!this.scroll.descendant(vo,o)[0]),this.scroll.insertAt(o,w);const[b,N]=this.scroll.line(o);let j=wu({},po(b));if(b instanceof ia){const[S]=b.descendant(_a,N);S&&(j=wu(j,po(S)))}f=wo.AttributeMap.diff(j,f)||{}}else if(typeof l.insert=="object"){const w=Object.keys(l.insert)[0];if(w==null)return o;const b=this.scroll.query(w,Xt.INLINE)!=null;if(b)(r<=o||this.scroll.descendant(vo,o)[0])&&(p=!0);else if(o>0){const[N,j]=this.scroll.descendant(_a,o-1);N instanceof ol?N.value()[j]!==`
`&&(h=!0):N instanceof Ki&&N.statics.scope===Xt.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,w,l.insert[w]),b){const[N]=this.scroll.descendant(_a,o);if(N){const j=wu({},po(N));f=wo.AttributeMap.diff(j,f)||{}}}}r+=u}else if(a.push(l),l.retain!==null&&typeof l.retain=="object"){const w=Object.keys(l.retain)[0];if(w==null)return o;this.scroll.updateEmbedAt(o,w,l.retain[w])}Object.keys(f).forEach(w=>{this.scroll.formatAt(o,u,w,f[w])});const x=h?1:0,y=p?1:0;return r+=x+y,a.retain(x),a.delete(y),o+u+x+y},0),a.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+wo.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,r){return this.scroll.deleteAt(t,r),this.update(new Ht().retain(t).delete(r))}formatLine(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(i=>{this.scroll.lines(t,Math.max(r,1)).forEach(o=>{o.format(i,n[i])})}),this.scroll.optimize();const a=new Ht().retain(t).retain(r,Xm(n));return this.update(a)}formatText(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(i=>{this.scroll.formatAt(t,r,i,n[i])});const a=new Ht().retain(t).retain(r,Xm(n));return this.update(a)}getContents(t,r){return this.delta.slice(t,t+r)}getDelta(){return this.scroll.lines().reduce((t,r)=>t.concat(r.delta()),new Ht)}getFormat(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],a=[];r===0?this.scroll.path(t).forEach(l=>{const[u]=l;u instanceof ia?n.push(u):u instanceof _a&&a.push(u)}):(n=this.scroll.lines(t,r),a=this.scroll.descendants(_a,t,r));const[i,o]=[n,a].map(l=>{const u=l.shift();if(u==null)return{};let f=po(u);for(;Object.keys(f).length>0;){const h=l.shift();if(h==null)return f;f=FSe(po(h),f)}return f});return{...i,...o}}getHTML(t,r){const[n,a]=this.scroll.line(t);if(n){const i=n.length();return n.length()>=a+r&&!(a===0&&r===i)?Rg(n,a,r,!0):Rg(this.scroll,t,r,!0)}return""}getText(t,r){return this.getContents(t,r).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,r){const n=EM(r),a=new Ht().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(a)}insertEmbed(t,r,n){return this.scroll.insertAt(t,r,n),this.update(new Ht().retain(t).insert({[r]:n}))}insertText(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,r),Object.keys(n).forEach(a=>{this.scroll.formatAt(t,r.length,a,n[a])}),this.update(new Ht().retain(t).insert(r,Xm(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==ia.blotName)return!1;const r=t;return r.children.length>1?!1:r.children.head instanceof ml}removeFormat(t,r){const n=this.getText(t,r),[a,i]=this.scroll.line(t+r);let o=0,l=new Ht;a!=null&&(o=a.length()-i,l=a.delta().slice(i,i+o-1).insert(`
`));const f=this.getContents(t,r+o).diff(new Ht().insert(n).concat(l)),h=new Ht().retain(t).concat(f);return this.applyDelta(h)}update(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(MSe)&&this.scroll.find(r[0].target)){const i=this.scroll.find(r[0].target),o=po(i),l=i.offset(this.scroll),u=r[0].oldValue.replace(Dp.CONTENTS,""),f=new Ht().insert(u),h=new Ht().insert(i.value()),p=n&&{oldRange:AM(n.oldRange,-l),newRange:AM(n.newRange,-l)};t=new Ht().retain(l).concat(f.diff(h,p)).reduce((y,w)=>w.insert?y.insert(w.insert,o):y.push(w),new Ht),this.delta=a.compose(t)}else this.delta=this.getDelta(),(!t||!eu(a.compose(t),this.delta))&&(t=a.diff(this.delta,n));return t}}function _m(e,t,r){if(e.length===0){const[y]=zS(r.pop());return t<=0?`</li></${y}>`:`</li></${y}>${_m([],t-1,r)}`}const[{child:n,offset:a,length:i,indent:o,type:l},...u]=e,[f,h]=zS(l);if(o>t)return r.push(l),o===t+1?`<${f}><li${h}>${Rg(n,a,i)}${_m(u,o,r)}`:`<${f}><li>${_m(e,t+1,r)}`;const p=r[r.length-1];if(o===t&&l===p)return`</li><li${h}>${Rg(n,a,i)}${_m(u,o,r)}`;const[x]=zS(r.pop());return`</li></${x}>${_m(e,t-1,r)}`}function Rg(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(t,r);if(e instanceof ol)return tN(e.value().slice(t,t+r)).replaceAll(" ","&nbsp;");if(e instanceof Jo){if(e.statics.blotName==="list-container"){const f=[];return e.children.forEachAt(t,r,(h,p,x)=>{const y="formats"in h&&typeof h.formats=="function"?h.formats():{};f.push({child:h,offset:p,length:x,indent:y.indent||0,type:y.list})}),_m(f,-1,[])}const a=[];if(e.children.forEachAt(t,r,(f,h,p)=>{a.push(Rg(f,h,p))}),n||e.statics.blotName==="list")return a.join("");const{outerHTML:i,innerHTML:o}=e.domNode,[l,u]=i.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${u}`:`${l}>${a.join("")}<${u}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function FSe(e,t){return Object.keys(t).reduce((r,n)=>{if(e[n]==null)return r;const a=t[n];return a===e[n]?r[n]=a:Array.isArray(a)?a.indexOf(e[n])<0?r[n]=a.concat([e[n]]):r[n]=a:r[n]=[a,e[n]],r},{})}function zS(e){const t=e==="ordered"?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function EM(e){return e.reduce((t,r)=>{if(typeof r.insert=="string"){const n=r.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,r.attributes)}return t.push(r)},new Ht)}function AM(e,t){let{index:r,length:n}=e;return new ah(r+t,n)}function LSe(e){const t=[];return e.forEach(r=>{typeof r.insert=="string"?r.insert.split(`
`).forEach((a,i)=>{i&&t.push({insert:`
`,attributes:r.attributes}),a&&t.push({insert:a,attributes:r.attributes})}):t.push(r)}),t}class pl{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=r}}Ot(pl,"DEFAULTS",{});const d1="\uFEFF";class L4 extends Ki{constructor(t,r){super(t,r),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(d1),this.rightGuard=document.createTextNode(d1),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,r){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,r)}restore(t){let r=null,n;const a=t.data.split(d1).join("");if(t===this.leftGuard)if(this.prev instanceof ol){const i=this.prev.length();this.prev.insertAt(i,a),r={startNode:this.prev.domNode,startOffset:i+a.length}}else n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this),r={startNode:n,startOffset:a.length};else t===this.rightGuard&&(this.next instanceof ol?(this.next.insertAt(0,a),r={startNode:this.next.domNode,startOffset:a.length}):(n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this.next),r={startNode:n,startOffset:a.length}));return t.data=d1,r}update(t,r){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const a=this.restore(n.target);a&&(r.range=a)}})}}class BSe{constructor(t,r){Ot(this,"isComposing",!1);this.scroll=t,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const r=t.target instanceof Node?this.scroll.find(t.target,!0):null;r&&!(r instanceof L4)&&(this.emitter.emit(Ft.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(Ft.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(Ft.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(Ft.events.COMPOSITION_END,t),this.isComposing=!1}}const Wx=class Wx{constructor(t,r){Ot(this,"modules",{});this.quill=t,this.options=r}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const r=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new r(this.quill,this.options.modules[t]||{}),this.modules[t]}};Ot(Wx,"DEFAULTS",{modules:{}}),Ot(Wx,"themes",{default:Wx});let Op=Wx;const $Se=e=>e.parentElement||e.getRootNode().host||null,USe=e=>{const t=e.getBoundingClientRect(),r="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,n="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*r,bottom:t.top+e.clientHeight*n,left:t.left}},u1=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},CM=(e,t,r,n,a,i)=>e<r&&t>n?0:e<r?-(r-e+a):t>n?t-e>n-r?e+a-r:t-n+i:0,VSe=(e,t)=>{var i,o,l;const r=e.ownerDocument;let n=t,a=e;for(;a;){const u=a===r.body,f=u?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??r.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??r.documentElement.clientHeight,left:0}:USe(a),h=getComputedStyle(a),p=CM(n.left,n.right,f.left,f.right,u1(h.scrollPaddingLeft),u1(h.scrollPaddingRight)),x=CM(n.top,n.bottom,f.top,f.bottom,u1(h.scrollPaddingTop),u1(h.scrollPaddingBottom));if(p||x)if(u)(l=r.defaultView)==null||l.scrollBy(p,x);else{const{scrollLeft:y,scrollTop:w}=a;x&&(a.scrollTop+=x),p&&(a.scrollLeft+=p);const b=a.scrollLeft-y,N=a.scrollTop-w;n={left:n.left-b,top:n.top-N,right:n.right-b,bottom:n.bottom-N}}a=u||h.position==="fixed"?null:$Se(a)}},qSe=100,zSe=["block","break","cursor","inline","scroll","text"],HSe=(e,t,r)=>{const n=new kp;return zSe.forEach(a=>{const i=t.query(a);i&&n.register(i)}),e.forEach(a=>{let i=t.query(a);i||r.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>qSe){r.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),n},Jm=id("quill"),f1=new kp;Jo.uiClass="ql-ui";const Vo=class Vo{static debug(t){t===!0&&(t="log"),id.level(t)}static find(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return KA.get(t)||f1.find(t,r)}static import(t){return this.imports[t]==null&&Jm.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],r=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,r):Object.keys(t).forEach(a=>{this.register(a,t[a],r)})}else{const t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&Jm.warn(`Overwriting ${t} with`,r),this.imports[t]=r,(t.startsWith("blots/")||t.startsWith("formats/"))&&r&&typeof r!="boolean"&&r.blotName!=="abstract"&&f1.register(r),typeof r.register=="function"&&r.register(f1)}}constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=WSe(t,r),this.container=this.options.container,this.container==null){Jm.error("Invalid Quill container",t);return}this.options.debug&&Vo.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",KA.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ft;const a=F4.blotName,i=this.options.registry.query(a);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new ISe(this.scroll),this.selection=new PSe(this.scroll,this.emitter),this.composition=new BSe(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ft.events.EDITOR_CHANGE,o=>{o===Ft.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ft.events.SCROLL_UPDATE,(o,l)=>{const u=this.selection.lastRange,[f]=this.selection.getRange(),h=u&&f?{oldRange:u,newRange:f}:void 0;Fo.call(this,()=>this.editor.update(null,l,h),o)}),this.emitter.on(Ft.events.SCROLL_EMBED_UPDATE,(o,l)=>{const u=this.selection.lastRange,[f]=this.selection.getRange(),h=u&&f?{oldRange:u,newRange:f}:void 0;Fo.call(this,()=>{const p=new Ht().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(p,[],h)},Vo.sources.USER)}),n){const o=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,r),t}blur(){this.selection.setRange(null)}deleteText(t,r,n){return[t,r,,n]=Nc(t,r,n),Fo.call(this,()=>this.editor.deleteText(t,r),n,t,-1*r)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const r=t();return this.allowReadOnlyEdits=!1,r}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ft.sources.API;return Fo.call(this,()=>{const a=this.getSelection(!0);let i=new Ht;if(a==null)return i;if(this.scroll.query(t,Xt.BLOCK))i=this.editor.formatLine(a.index,a.length,{[t]:r});else{if(a.length===0)return this.selection.format(t,r),i;i=this.editor.formatText(a.index,a.length,{[t]:r})}return this.setSelection(a,Ft.sources.SILENT),i},n)}formatLine(t,r,n,a,i){let o;return[t,r,o,i]=Nc(t,r,n,a,i),Fo.call(this,()=>this.editor.formatLine(t,r,o),i,t,0)}formatText(t,r,n,a,i){let o;return[t,r,o,i]=Nc(t,r,n,a,i),Fo.call(this,()=>this.editor.formatText(t,r,o),i,t,0)}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,r):n=this.selection.getBounds(t.index,t.length),!n)return null;const a=this.container.getBoundingClientRect();return{bottom:n.bottom-a.top,height:n.height,left:n.left-a.left,right:n.right-a.left,top:n.top-a.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,r]=Nc(t,r),this.editor.getContents(t,r)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,r):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,r)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=Nc(t,r),this.editor.getHTML(t,r)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=Nc(t,r),this.editor.getText(t,r)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Vo.sources.API;return Fo.call(this,()=>this.editor.insertEmbed(t,r,n),a,t)}insertText(t,r,n,a,i){let o;return[t,,o,i]=Nc(t,0,n,a,i),Fo.call(this,()=>this.editor.insertText(t,r,o),i,t,r.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,r,n){return[t,r,,n]=Nc(t,r,n),Fo.call(this,()=>this.editor.removeFormat(t,r),n,t)}scrollRectIntoView(t){VSe(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,r=t&&this.selection.getBounds(t.index,t.length);r&&this.scrollRectIntoView(r)}setContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ft.sources.API;return Fo.call(this,()=>{t=new Ht(t);const n=this.getLength(),a=this.editor.deleteText(0,n),i=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return a.compose(i).compose(o)},r)}setSelection(t,r,n){t==null?this.selection.setRange(null,r||Vo.sources.API):([t,r,,n]=Nc(t,r,n),this.selection.setRange(new ah(Math.max(0,t),r),n),n!==Ft.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ft.sources.API;const n=new Ht().insert(t);return this.setContents(n,r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ft.sources.USER;const r=this.scroll.update(t);return this.selection.update(t),r}updateContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ft.sources.API;return Fo.call(this,()=>(t=new Ht(t),this.editor.applyDelta(t)),r,!0)}};Ot(Vo,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:f1,theme:"default"}),Ot(Vo,"events",Ft.events),Ot(Vo,"sources",Ft.sources),Ot(Vo,"version","2.0.3"),Ot(Vo,"imports",{delta:Ht,parchment:SSe,"core/module":pl,"core/theme":Op});let it=Vo;function TM(e){return typeof e=="string"?document.querySelector(e):e}function HS(e){return Object.entries(e??{}).reduce((t,r)=>{let[n,a]=r;return{...t,[n]:a===!0?{}:a}},{})}function _M(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function WSe(e,t){const r=TM(e);if(!r)throw new Error("Invalid Quill container");const a=!t.theme||t.theme===it.DEFAULTS.theme?Op:it.import(`themes/${t.theme}`);if(!a)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...o}=it.DEFAULTS,{modules:l,...u}=a.DEFAULTS;let f=HS(t.modules);f!=null&&f.toolbar&&f.toolbar.constructor!==Object&&(f={...f,toolbar:{container:f.toolbar}});const h=wu({},HS(i),HS(l),f),p={...o,..._M(u),..._M(t)};let x=t.registry;return x?t.formats&&Jm.warn('Ignoring "formats" option because "registry" is specified'):x=t.formats?HSe(t.formats,p.registry,Jm):p.registry,{...p,registry:x,container:r,theme:a,modules:Object.entries(h).reduce((y,w)=>{let[b,N]=w;if(!N)return y;const j=it.import(`modules/${b}`);return j==null?(Jm.error(`Cannot load ${b} module. Are you sure you registered it?`),y):{...y,[b]:wu({},j.DEFAULTS||{},N)}},{}),bounds:TM(p.bounds)}}function Fo(e,t,r,n){if(!this.isEnabled()&&t===Ft.sources.USER&&!this.allowReadOnlyEdits)return new Ht;let a=r==null?null:this.getSelection();const i=this.editor.delta,o=e();if(a!=null&&(r===!0&&(r=a.index),n==null?a=kM(a,o,t):n!==0&&(a=kM(a,r,n,t)),this.setSelection(a,Ft.sources.SILENT)),o.length()>0){const l=[Ft.events.TEXT_CHANGE,o,i,t];this.emitter.emit(Ft.events.EDITOR_CHANGE,...l),t!==Ft.sources.SILENT&&this.emitter.emit(...l)}return o}function Nc(e,t,r,n,a){let i={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(a=n,n=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(a=n,n=r,r=t,t=0),typeof r=="object"?(i=r,a=n):typeof r=="string"&&(n!=null?i[r]=n:a=r),a=a||Ft.sources.API,[e,t,i,a]}function kM(e,t,r,n){const a=typeof r=="number"?r:0;if(e==null)return null;let i,o;return t&&typeof t.transformPosition=="function"?[i,o]=[e.index,e.index+e.length].map(l=>t.transformPosition(l,n!==Ft.sources.USER)):[i,o]=[e.index,e.index+e.length].map(l=>l<t||l===t&&n===Ft.sources.USER?l:a>=0?l+a:Math.max(t,l+a)),new ah(i,o-i)}class Eh extends eN{}function DM(e){return e instanceof ia||e instanceof vo}function OM(e){return typeof e.updateContent=="function"}class km extends F4{constructor(t,r,n){let{emitter:a}=n;super(t,r),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(Ft.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Ft.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,r){this.emitter.emit(Ft.events.SCROLL_EMBED_UPDATE,t,r)}deleteAt(t,r){const[n,a]=this.line(t),[i]=this.line(t+r);if(super.deleteAt(t,r),i!=null&&n!==i&&a>0){if(n instanceof vo||i instanceof vo){this.optimize();return}const o=i.children.head instanceof ml?null:i.children.head;n.moveChildren(i,o),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,r,n,a){super.formatAt(t,r,n,a),this.optimize()}insertAt(t,r,n){if(t>=this.length())if(n==null||this.scroll.query(r,Xt.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),n==null&&r.endsWith(`
`)?a.insertAt(0,r.slice(0,-1),n):a.insertAt(0,r,n)}else{const a=this.scroll.create(r,n);this.appendChild(a)}else super.insertAt(t,r,n);this.optimize()}insertBefore(t,r){if(t.statics.scope===Xt.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,r)}else super.insertBefore(t,r)}insertContents(t,r){const n=this.deltaToRenderBlocks(r.concat(new Ht().insert(`
`))),a=n.pop();if(a==null)return;this.batchStart();const i=n.shift();if(i){const u=i.type==="block"&&(i.delta.length()===0||!this.descendant(vo,t)[0]&&t<this.length()),f=i.type==="block"?i.delta:new Ht().insert({[i.key]:i.value});WS(this,t,f);const h=i.type==="block"?1:0,p=t+f.length()+h;u&&this.insertAt(p-1,`
`);const x=po(this.line(t)[0]),y=wo.AttributeMap.diff(x,i.attributes)||{};Object.keys(y).forEach(w=>{this.formatAt(p-1,1,w,y[w])}),t=p}let[o,l]=this.children.find(t);if(n.length&&(o&&(o=o.split(l),l=0),n.forEach(u=>{if(u.type==="block"){const f=this.createBlock(u.attributes,o||void 0);WS(f,0,u.delta)}else{const f=this.create(u.key,u.value);this.insertBefore(f,o||void 0),Object.keys(u.attributes).forEach(h=>{f.format(h,u.attributes[h])})}})),a.type==="block"&&a.delta.length()){const u=o?o.offset(o.scroll)+l:this.length();WS(this,u,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const r=this.path(t).pop();if(!r)return[null,-1];const[n,a]=r;return n instanceof _a?[n,a]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(DM,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(a,i,o)=>{let l=[],u=o;return a.children.forEachAt(i,o,(f,h,p)=>{DM(f)?l.push(f):f instanceof eN&&(l=l.concat(n(f,h,u))),u-=p}),l};return n(this,t,r)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,r),t.length>0&&this.emitter.emit(Ft.events.SCROLL_OPTIMIZE,t,r))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let r=Ft.sources.USER;typeof t=="string"&&(r=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:a}=n;const i=this.find(a,!0);return i&&!OM(i)}),t.length>0&&this.emitter.emit(Ft.events.SCROLL_BEFORE_UPDATE,r,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(Ft.events.SCROLL_UPDATE,r,t)}updateEmbedAt(t,r,n){const[a]=this.descendant(i=>i instanceof vo,t);a&&a.statics.blotName===r&&OM(a)&&a.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const r=[];let n=new Ht;return t.forEach(a=>{const i=a==null?void 0:a.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(u=>{n.insert(u,a.attributes),r.push({type:"block",delta:n,attributes:a.attributes??{}}),n=new Ht});const l=o[o.length-1];l&&n.insert(l,a.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,Xt.INLINE)?n.push(a):(n.length()&&r.push({type:"block",delta:n,attributes:{}}),n=new Ht,r.push({type:"blockEmbed",key:o,value:i[o],attributes:a.attributes??{}}))}}),n.length()&&r.push({type:"block",delta:n,attributes:{}}),r}createBlock(t,r){let n;const a={};Object.entries(t).forEach(l=>{let[u,f]=l;this.query(u,Xt.BLOCK&Xt.BLOT)!=null?n=u:a[u]=f});const i=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(i,r||void 0);const o=i.length();return Object.entries(a).forEach(l=>{let[u,f]=l;i.formatAt(0,o,u,f)}),i}}Ot(km,"blotName","scroll"),Ot(km,"className","ql-editor"),Ot(km,"tagName","DIV"),Ot(km,"defaultChild",ia),Ot(km,"allowedChildren",[ia,vo,Eh]);function WS(e,t,r){r.reduce((n,a)=>{const i=wo.Op.length(a);let o=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const l=a.insert;e.insertAt(n,l);const[u]=e.descendant(_a,n),f=po(u);o=wo.AttributeMap.diff(f,o)||{}}else if(typeof a.insert=="object"){const l=Object.keys(a.insert)[0];if(l==null)return n;if(e.insertAt(n,l,a.insert[l]),e.scroll.query(l,Xt.INLINE)!=null){const[f]=e.descendant(_a,n),h=po(f);o=wo.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(l=>{e.formatAt(n,i,l,o[l])}),n+i},t)}const B4={scope:Xt.BLOCK,whitelist:["right","center","justify"]},GSe=new Kl("align","align",B4),FV=new hl("align","ql-align",B4),LV=new Wu("align","text-align",B4);class BV extends Wu{value(t){let r=super.value(t);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${r.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):r}}const YSe=new hl("color","ql-color",{scope:Xt.INLINE}),$4=new BV("color","color",{scope:Xt.INLINE}),KSe=new hl("background","ql-bg",{scope:Xt.INLINE}),U4=new BV("background","background-color",{scope:Xt.INLINE});class Ah extends Eh{static create(t){const r=super.create(t);return r.setAttribute("spellcheck","false"),r}code(t,r){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+r)}html(t,r){return`<pre>
${tN(this.code(t,r))}
</pre>`}}class Oa extends ia{static register(){it.register(Ah)}}Ot(Oa,"TAB","  ");class V4 extends Ql{}V4.blotName="code";V4.tagName="CODE";Oa.blotName="code-block";Oa.className="ql-code-block";Oa.tagName="DIV";Ah.blotName="code-block-container";Ah.className="ql-code-block-container";Ah.tagName="DIV";Ah.allowedChildren=[Oa];Oa.allowedChildren=[ol,ml,Dp];Oa.requiredContainer=Ah;const q4={scope:Xt.BLOCK,whitelist:["rtl"]},$V=new Kl("direction","dir",q4),UV=new hl("direction","ql-direction",q4),VV=new Wu("direction","direction",q4),qV={scope:Xt.INLINE,whitelist:["serif","monospace"]},zV=new hl("font","ql-font",qV);class QSe extends Wu{value(t){return super.value(t).replace(/["']/g,"")}}const HV=new QSe("font","font-family",qV),WV=new hl("size","ql-size",{scope:Xt.INLINE,whitelist:["small","large","huge"]}),GV=new Wu("size","font-size",{scope:Xt.INLINE,whitelist:["10px","18px","32px"]}),XSe=id("quill:keyboard"),ZSe=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class rN extends pl{static match(t,r){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!r[n]!==t[n]&&r[n]!==null)?!1:r.key===t.key||r.key===t.which}constructor(t,r){super(t,r),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=eEe(t);if(a==null){XSe.warn("Attempted to add invalid keyboard binding",a);return}typeof r=="function"&&(r={handler:r}),typeof n=="function"&&(n={handler:n}),(Array.isArray(a.key)?a.key:[a.key]).forEach(o=>{const l={...a,key:o,...r,...n};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const a=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(j=>rN.match(t,j));if(a.length===0)return;const i=it.find(t.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,u]=this.quill.getLine(o.index),[f,h]=this.quill.getLeaf(o.index),[p,x]=o.length===0?[f,h]:this.quill.getLeaf(o.index+o.length),y=f instanceof Db?f.value().slice(0,h):"",w=p instanceof Db?p.value().slice(x):"",b={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:u,prefix:y,suffix:w,event:t};a.some(j=>{if(j.collapsed!=null&&j.collapsed!==b.collapsed||j.empty!=null&&j.empty!==b.empty||j.offset!=null&&j.offset!==b.offset)return!1;if(Array.isArray(j.format)){if(j.format.every(S=>b.format[S]==null))return!1}else if(typeof j.format=="object"&&!Object.keys(j.format).every(S=>j.format[S]===!0?b.format[S]!=null:j.format[S]===!1?b.format[S]==null:eu(j.format[S],b.format[S])))return!1;return j.prefix!=null&&!j.prefix.test(b.prefix)||j.suffix!=null&&!j.suffix.test(b.suffix)?!1:j.handler.call(this,o,b,j)!==!0})&&t.preventDefault()})}handleBackspace(t,r){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(r.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let a={};const[i]=this.quill.getLine(t.index);let o=new Ht().retain(t.index-n).delete(n);if(r.offset===0){const[l]=this.quill.getLine(t.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const f=i.formats(),h=this.quill.getFormat(t.index-1,1);if(a=wo.AttributeMap.diff(f,h)||{},Object.keys(a).length>0){const p=new Ht().retain(t.index+i.length()-2).retain(1,a);o=o.compose(p)}}}this.quill.updateContents(o,it.sources.USER),this.quill.focus()}handleDelete(t,r){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(r.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let a={};const[i]=this.quill.getLine(t.index);let o=new Ht().retain(t.index).delete(n);if(r.offset>=i.length()-1){const[l]=this.quill.getLine(t.index+1);if(l){const u=i.formats(),f=this.quill.getFormat(t.index,1);a=wo.AttributeMap.diff(u,f)||{},Object.keys(a).length>0&&(o=o.retain(l.length()-1).retain(1,a))}}this.quill.updateContents(o,it.sources.USER),this.quill.focus()}handleDeleteRange(t){z4({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,r){const n=Object.keys(r.format).reduce((i,o)=>(this.quill.scroll.query(o,Xt.BLOCK)&&!Array.isArray(r.format[o])&&(i[o]=r.format[o]),i),{}),a=new Ht().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(a,it.sources.USER),this.quill.setSelection(t.index+1,it.sources.SILENT),this.quill.focus()}}const JSe={bindings:{bold:GS("bold"),italic:GS("italic"),underline:GS("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",it.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",it.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){t.format.indent!=null?this.quill.format("indent","-1",it.sources.USER):t.format.list!=null&&this.quill.format("list",!1,it.sources.USER)}},"indent code-block":RM(!0),"outdent code-block":RM(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,it.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const r=new Ht().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(r,it.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,it.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,it.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const r={list:!1};t.format.indent&&(r.indent=!1),this.quill.formatLine(e.index,e.length,r,it.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,r]=this.quill.getLine(e.index),n={...t.formats(),list:"checked"},a=new Ht().retain(e.index).insert(`
`,n).retain(t.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,it.sources.USER),this.quill.setSelection(e.index+1,it.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[r,n]=this.quill.getLine(e.index),a=new Ht().retain(e.index).insert(`
`,t.format).retain(r.length()-n-1).retain(1,{header:null});this.quill.updateContents(a,it.sources.USER),this.quill.setSelection(e.index+1,it.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[r,n,a,i]=t.getTable(e),o=tEe(r,n,a,i);if(o==null)return;let l=r.offset();if(o<0){const u=new Ht().retain(l).insert(`
`);this.quill.updateContents(u,it.sources.USER),this.quill.setSelection(e.index+1,e.length,it.sources.SILENT)}else if(o>0){l+=r.length();const u=new Ht().retain(l).insert(`
`);this.quill.updateContents(u,it.sources.USER),this.quill.setSelection(l,it.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:r,line:n}=t,a=n.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(a-1,it.sources.USER):this.quill.setSelection(a+n.length(),it.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query("list")==null)return!0;const{length:r}=t.prefix,[n,a]=this.quill.getLine(e.index);if(a>r)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(e.index," ",it.sources.USER),this.quill.history.cutoff();const o=new Ht().retain(e.index-a).delete(r+1).retain(n.length()-2-a).retain(1,{list:i});return this.quill.updateContents(o,it.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,it.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,r]=this.quill.getLine(e.index);let n=2,a=t;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,n-=1,n<=0){const i=new Ht().retain(e.index+t.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,it.sources.USER),this.quill.setSelection(e.index-1,it.sources.SILENT),!1}return!0}},"embed left":h1("ArrowLeft",!1),"embed left shift":h1("ArrowLeft",!0),"embed right":h1("ArrowRight",!1),"embed right shift":h1("ArrowRight",!0),"table down":PM(!1),"table up":PM(!0)}};rN.DEFAULTS=JSe;function RM(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,r){let{event:n}=r;const a=this.quill.scroll.query("code-block"),{TAB:i}=a;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,i,it.sources.USER),this.quill.setSelection(t.index+i.length,it.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:u}=t;o.forEach((f,h)=>{e?(f.insertAt(0,i),h===0?l+=i.length:u+=i.length):f.domNode.textContent.startsWith(i)&&(f.deleteAt(0,i.length),h===0?l-=i.length:u-=i.length)}),this.quill.update(it.sources.USER),this.quill.setSelection(l,u,it.sources.SILENT)}}}function h1(e,t){return{key:e,shiftKey:t,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:a}=n;e==="ArrowRight"&&(a+=n.length+1);const[i]=this.quill.getLeaf(a);return i instanceof Ki?(e==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,it.sources.USER):this.quill.setSelection(n.index-1,it.sources.USER):t?this.quill.setSelection(n.index,n.length+1,it.sources.USER):this.quill.setSelection(n.index+n.length+1,it.sources.USER),!1):!0}}}function GS(e){return{key:e[0],shortKey:!0,handler(t,r){this.quill.format(e,!r.format[e],it.sources.USER)}}}function PM(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,r){const n=e?"prev":"next",a=r.line,i=a.parent[n];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,l=a;for(;l.prev!=null;)l=l.prev,o=o.next;const u=o.offset(this.quill.scroll)+Math.min(r.offset,o.length()-1);this.quill.setSelection(u,0,it.sources.USER)}}else{const o=a.table()[n];o!=null&&(e?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,it.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,it.sources.USER))}return!1}}}function eEe(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=Xm(e);else return null;return e.shortKey&&(e[ZSe]=e.shortKey,delete e.shortKey),e}function z4(e){let{quill:t,range:r}=e;const n=t.getLines(r);let a={};if(n.length>1){const i=n[0].formats(),o=n[n.length-1].formats();a=wo.AttributeMap.diff(o,i)||{}}t.deleteText(r,it.sources.USER),Object.keys(a).length>0&&t.formatLine(r.index,1,a,it.sources.USER),t.setSelection(r.index,it.sources.SILENT)}function tEe(e,t,r,n){return t.prev==null&&t.next==null?r.prev==null&&r.next==null?n===0?-1:1:r.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const rEe=/font-weight:\s*normal/,sEe=["P","OL","UL"],MM=e=>e&&sEe.includes(e.tagName),nEe=e=>{Array.from(e.querySelectorAll("br")).filter(t=>MM(t.previousElementSibling)&&MM(t.nextElementSibling)).forEach(t=>{var r;(r=t.parentNode)==null||r.removeChild(t)})},aEe=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var r;return(r=t.getAttribute("style"))==null?void 0:r.match(rEe)}).forEach(t=>{var n;const r=e.createDocumentFragment();r.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(r,t)})};function iEe(e){e.querySelector('[id^="docs-internal-guid-"]')&&(aEe(e),nEe(e))}const oEe=/\bmso-list:[^;]*ignore/i,lEe=/\bmso-list:[^;]*\bl(\d+)/i,cEe=/\bmso-list:[^;]*\blevel(\d+)/i,dEe=(e,t)=>{const r=e.getAttribute("style"),n=r==null?void 0:r.match(lEe);if(!n)return null;const a=Number(n[1]),i=r==null?void 0:r.match(cEe),o=i?Number(i[1]):1,l=new RegExp(`@list l${a}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=t.match(l),f=u&&u[1]==="bullet"?"bullet":"ordered";return{id:a,indent:o,type:f,element:e}},uEe=e=>{var o,l;const t=Array.from(e.querySelectorAll("[style*=mso-list]")),r=[],n=[];t.forEach(u=>{(u.getAttribute("style")||"").match(oEe)?r.push(u):n.push(u)}),r.forEach(u=>{var f;return(f=u.parentNode)==null?void 0:f.removeChild(u)});const a=e.documentElement.innerHTML,i=n.map(u=>dEe(u,a)).filter(u=>u);for(;i.length;){const u=[];let f=i.shift();for(;f;)u.push(f),f=i.length&&((o=i[0])==null?void 0:o.element)===f.element.nextElementSibling&&i[0].id===f.id?i.shift():null;const h=document.createElement("ul");u.forEach(y=>{const w=document.createElement("li");w.setAttribute("data-list",y.type),y.indent>1&&w.setAttribute("class",`ql-indent-${y.indent-1}`),w.innerHTML=y.element.innerHTML,h.appendChild(w)});const p=(l=u[0])==null?void 0:l.element,{parentNode:x}=p??{};p&&(x==null||x.replaceChild(h,p)),u.slice(1).forEach(y=>{let{element:w}=y;x==null||x.removeChild(w)})}};function fEe(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&uEe(e)}const hEe=[fEe,iEe],mEe=e=>{e.documentElement&&hEe.forEach(t=>{t(e)})},pEe=id("quill:clipboard"),xEe=[[Node.TEXT_NODE,TEe],[Node.TEXT_NODE,FM],["br",wEe],[Node.ELEMENT_NODE,FM],[Node.ELEMENT_NODE,bEe],[Node.ELEMENT_NODE,vEe],[Node.ELEMENT_NODE,AEe],["li",SEe],["ol, ul",EEe],["pre",NEe],["tr",CEe],["b",YS("bold")],["i",YS("italic")],["strike",YS("strike")],["style",jEe]],gEe=[GSe,$V].reduce((e,t)=>(e[t.keyName]=t,e),{}),IM=[LV,U4,$4,VV,HV,GV].reduce((e,t)=>(e[t.keyName]=t,e),{});class YV extends pl{constructor(t,r){super(t,r),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],xEe.concat(this.options.matchers??[]).forEach(n=>{let[a,i]=n;this.addMatcher(a,i)})}addMatcher(t,r){this.matchers.push([t,r])}convert(t){let{html:r,text:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[Oa.blotName])return new Ht().insert(n||"",{[Oa.blotName]:a[Oa.blotName]});if(!r)return new Ht().insert(n||"",a);const i=this.convertHTML(r);return Cy(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||a.table)?i.compose(new Ht().retain(i.length()-1).delete(1)):i}normalizeHTML(t){mEe(t)}convertHTML(t){const r=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(r);const n=r.body,a=new WeakMap,[i,o]=this.prepareMatching(n,a);return H4(this.quill.scroll,n,i,o,a)}dangerouslyPasteHTML(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:it.sources.API;if(typeof t=="string"){const a=this.convert({html:t,text:""});this.quill.setContents(a,r),this.quill.setSelection(0,it.sources.SILENT)}else{const a=this.convert({html:r,text:""});this.quill.updateContents(new Ht().retain(t).concat(a),n),this.quill.setSelection(t+a.length(),it.sources.SILENT)}}onCaptureCopy(t){var o,l;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:a,text:i}=this.onCopy(n,r);(o=t.clipboardData)==null||o.setData("text/plain",i),(l=t.clipboardData)==null||l.setData("text/html",a),r&&z4({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(r=>r[0]!=="#").join(`
`)}onCapturePaste(t){var o,l,u,f,h;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const r=this.quill.getSelection(!0);if(r==null)return;const n=(o=t.clipboardData)==null?void 0:o.getData("text/html");let a=(l=t.clipboardData)==null?void 0:l.getData("text/plain");if(!n&&!a){const p=(u=t.clipboardData)==null?void 0:u.getData("text/uri-list");p&&(a=this.normalizeURIList(p))}const i=Array.from(((f=t.clipboardData)==null?void 0:f.files)||[]);if(!n&&i.length>0){this.quill.uploader.upload(r,i);return}if(n&&i.length>0){const p=new DOMParser().parseFromString(n,"text/html");if(p.body.childElementCount===1&&((h=p.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(r,i);return}}this.onPaste(r,{html:n,text:a})}onCopy(t){const r=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:r}}onPaste(t,r){let{text:n,html:a}=r;const i=this.quill.getFormat(t.index),o=this.convert({text:n,html:a},i);pEe.log("onPaste",o,{text:n,html:a});const l=new Ht().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(l,it.sources.USER),this.quill.setSelection(l.length()-t.length,it.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,r){const n=[],a=[];return this.matchers.forEach(i=>{const[o,l]=i;switch(o){case Node.TEXT_NODE:a.push(l);break;case Node.ELEMENT_NODE:n.push(l);break;default:Array.from(t.querySelectorAll(o)).forEach(u=>{if(r.has(u)){const f=r.get(u);f==null||f.push(l)}else r.set(u,[l])});break}}),[n,a]}}Ot(YV,"DEFAULTS",{matchers:[]});function Ch(e,t,r,n){return n.query(t)?e.reduce((a,i)=>{if(!i.insert)return a;if(i.attributes&&i.attributes[t])return a.push(i);const o=r?{[t]:r}:{};return a.insert(i.insert,{...o,...i.attributes})},new Ht):e}function Cy(e,t){let r="";for(let n=e.ops.length-1;n>=0&&r.length<t.length;--n){const a=e.ops[n];if(typeof a.insert!="string")break;r=a.insert+r}return r.slice(-1*t.length)===t}function fu(e,t){if(!(e instanceof Element))return!1;const r=t.query(e);return r&&r.prototype instanceof Ki?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function yEe(e,t){return e.previousElementSibling&&e.nextElementSibling&&!fu(e.previousElementSibling,t)&&!fu(e.nextElementSibling,t)}const m1=new WeakMap;function KV(e){return e==null?!1:(m1.has(e)||(e.tagName==="PRE"?m1.set(e,!0):m1.set(e,KV(e.parentNode))),m1.get(e))}function H4(e,t,r,n,a){return t.nodeType===t.TEXT_NODE?n.reduce((i,o)=>o(t,i,e),new Ht):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,o)=>{let l=H4(e,o,r,n,a);return o.nodeType===t.ELEMENT_NODE&&(l=r.reduce((u,f)=>f(o,u,e),l),l=(a.get(o)||[]).reduce((u,f)=>f(o,u,e),l)),i.concat(l)},new Ht):new Ht}function YS(e){return(t,r,n)=>Ch(r,e,!0,n)}function vEe(e,t,r){const n=Kl.keys(e),a=hl.keys(e),i=Wu.keys(e),o={};return n.concat(a).concat(i).forEach(l=>{let u=r.query(l,Xt.ATTRIBUTE);u!=null&&(o[u.attrName]=u.value(e),o[u.attrName])||(u=gEe[l],u!=null&&(u.attrName===l||u.keyName===l)&&(o[u.attrName]=u.value(e)||void 0),u=IM[l],u!=null&&(u.attrName===l||u.keyName===l)&&(u=IM[l],o[u.attrName]=u.value(e)||void 0))}),Object.entries(o).reduce((l,u)=>{let[f,h]=u;return Ch(l,f,h,r)},t)}function bEe(e,t,r){const n=r.query(e);if(n==null)return t;if(n.prototype instanceof Ki){const a={},i=n.value(e);if(i!=null)return a[n.blotName]=i,new Ht().insert(a,n.formats(e,r))}else if(n.prototype instanceof Og&&!Cy(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Ch(t,n.blotName,n.formats(e,r),r);return t}function wEe(e,t){return Cy(t,`
`)||t.insert(`
`),t}function NEe(e,t,r){const n=r.query("code-block"),a=n&&"formats"in n&&typeof n.formats=="function"?n.formats(e,r):!0;return Ch(t,"code-block",a,r)}function jEe(){return new Ht}function SEe(e,t,r){const n=r.query(e);if(n==null||n.blotName!=="list"||!Cy(t,`
`))return t;let a=-1,i=e.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(a+=1),i=i.parentNode;return a<=0?t:t.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:a,...l.attributes||{}}):o,new Ht)}function EEe(e,t,r){const n=e;let a=n.tagName==="OL"?"ordered":"bullet";const i=n.getAttribute("data-checked");return i&&(a=i==="true"?"checked":"unchecked"),Ch(t,"list",a,r)}function FM(e,t,r){if(!Cy(t,`
`)){if(fu(e,r)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&e.nextSibling){let n=e.nextSibling;for(;n!=null;){if(fu(n,r))return t.insert(`
`);const a=r.query(n);if(a&&a.prototype instanceof vo)return t.insert(`
`);n=n.firstChild}}}return t}function AEe(e,t,r){var i;const n={},a=e.style||{};return a.fontStyle==="italic"&&(n.italic=!0),a.textDecoration==="underline"&&(n.underline=!0),a.textDecoration==="line-through"&&(n.strike=!0),((i=a.fontWeight)!=null&&i.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((o,l)=>{let[u,f]=l;return Ch(o,u,f,r)},t),parseFloat(a.textIndent||0)>0?new Ht().insert("	").concat(t):t}function CEe(e,t,r){var a,i;const n=((a=e.parentElement)==null?void 0:a.tagName)==="TABLE"?e.parentElement:(i=e.parentElement)==null?void 0:i.parentElement;if(n!=null){const l=Array.from(n.querySelectorAll("tr")).indexOf(e)+1;return Ch(t,"table",l,r)}return t}function TEe(e,t,r){var a;let n=e.data;if(((a=e.parentElement)==null?void 0:a.tagName)==="O:P")return t.insert(n.trim());if(!KV(e)){if(n.trim().length===0&&n.includes(`
`)&&!yEe(e,r))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&fu(e.parentElement,r)||e.previousSibling instanceof Element&&fu(e.previousSibling,r))&&(n=n.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&fu(e.parentElement,r)||e.nextSibling instanceof Element&&fu(e.nextSibling,r))&&(n=n.replace(/ $/,"")),n=n.replaceAll(""," ")}return t.insert(n)}class QV extends pl{constructor(r,n){super(r,n);Ot(this,"lastRecorded",0);Ot(this,"ignoreChange",!1);Ot(this,"stack",{undo:[],redo:[]});Ot(this,"currentRange",null);this.quill.on(it.events.EDITOR_CHANGE,(a,i,o,l)=>{a===it.events.SELECTION_CHANGE?i&&l!==it.sources.SILENT&&(this.currentRange=i):a===it.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===it.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=ZA(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",a=>{a.inputType==="historyUndo"?(this.undo(),a.preventDefault()):a.inputType==="historyRedo"&&(this.redo(),a.preventDefault())})}change(r,n){if(this.stack[r].length===0)return;const a=this.stack[r].pop();if(!a)return;const i=this.quill.getContents(),o=a.delta.invert(i);this.stack[n].push({delta:o,range:ZA(a.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(a.delta,it.sources.USER),this.ignoreChange=!1,this.restoreSelection(a)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,n){if(r.ops.length===0)return;this.stack.redo=[];let a=r.invert(n),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(a=a.compose(l.delta),i=l.range)}else this.lastRecorded=o;a.length()!==0&&(this.stack.undo.push({delta:a,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){LM(this.stack.undo,r),LM(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,it.sources.USER);else{const n=kEe(this.quill.scroll,r.delta);this.quill.setSelection(n,it.sources.USER)}}}Ot(QV,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function LM(e,t){let r=t;for(let n=e.length-1;n>=0;n-=1){const a=e[n];e[n]={delta:r.transform(a.delta,!0),range:a.range&&ZA(a.range,r)},r=a.delta.transform(r),e[n].delta.length()===0&&e.splice(n,1)}}function _Ee(e,t){const r=t.ops[t.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(n=>e.query(n,Xt.BLOCK)!=null):!1}function kEe(e,t){const r=t.reduce((a,i)=>a+(i.delete||0),0);let n=t.length()-r;return _Ee(e,t)&&(n-=1),n}function ZA(e,t){if(!e)return e;const r=t.transformPosition(e.index),n=t.transformPosition(e.index+e.length);return{index:r,length:n-r}}class XV extends pl{constructor(t,r){super(t,r),t.root.addEventListener("drop",n=>{var o;n.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(n.clientX,n.clientY);a=document.createRange(),a.setStart(l.offsetNode,l.offset),a.setEnd(l.offsetNode,l.offset)}const i=a&&t.selection.normalizeNative(a);if(i){const l=t.selection.normalizedToRange(i);(o=n.dataTransfer)!=null&&o.files&&this.upload(l,n.dataTransfer.files)}})}upload(t,r){const n=[];Array.from(r).forEach(a=>{var i;a&&((i=this.options.mimetypes)!=null&&i.includes(a.type))&&n.push(a)}),n.length>0&&this.options.handler.call(this,t,n)}}XV.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const r=t.map(n=>new Promise(a=>{const i=new FileReader;i.onload=()=>{a(i.result)},i.readAsDataURL(n)}));Promise.all(r).then(n=>{const a=n.reduce((i,o)=>i.insert({image:o}),new Ht().retain(e.index).delete(e.length));this.quill.updateContents(a,Ft.sources.USER),this.quill.setSelection(e.index+n.length,Ft.sources.SILENT)})}};const DEe=["insertText","insertReplacementText"];class OEe extends pl{constructor(t,r){super(t,r),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(it.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){z4({range:t,quill:this.quill})}replaceText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(r){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Ht().retain(t.index).insert(r,n),it.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+r.length,0,it.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!DEe.includes(t.inputType))return;const r=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!r||r.collapsed===!0)return;const n=REe(t);if(n==null)return;const a=this.quill.selection.normalizeNative(r),i=a?this.quill.selection.normalizedToRange(a):null;i&&this.replaceText(i,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function REe(e){var t;return typeof e.data=="string"?e.data:(t=e.dataTransfer)!=null&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const PEe=/Mac/i.test(navigator.platform),MEe=100,IEe=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||PEe&&e.key==="a"&&e.ctrlKey===!0);class FEe extends pl{constructor(r,n){super(r,n);Ot(this,"isListening",!1);Ot(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,n){let{line:a,event:i}=n;if(!(a instanceof Jo)||!a.uiNode)return!0;const o=getComputedStyle(a.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(r.index-1,r.length+(i.shiftKey?1:0),it.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",r=>{!r.defaultPrevented&&IEe(r)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+MEe,this.isListening)return;this.isListening=!0;const r=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",r,{once:!0})}handleSelectionChange(){const r=document.getSelection();if(!r)return;const n=r.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const a=this.quill.scroll.find(n.startContainer);if(!(a instanceof Jo)||!a.uiNode)return;const i=document.createRange();i.setStartAfter(a.uiNode),i.setEndAfter(a.uiNode),r.removeAllRanges(),r.addRange(i)}}it.register({"blots/block":ia,"blots/block/embed":vo,"blots/break":ml,"blots/container":Eh,"blots/cursor":Dp,"blots/embed":L4,"blots/inline":Ql,"blots/scroll":km,"blots/text":ol,"modules/clipboard":YV,"modules/history":QV,"modules/keyboard":rN,"modules/uploader":XV,"modules/input":OEe,"modules/uiNode":FEe});class LEe extends hl{add(t,r){let n=0;if(r==="+1"||r==="-1"){const a=this.value(t)||0;n=r==="+1"?a+1:a-1}else typeof r=="number"&&(n=r);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,r){return super.canAdd(t,r)||super.canAdd(t,parseInt(r,10))}value(t){return parseInt(super.value(t),10)||void 0}}const BEe=new LEe("indent","ql-indent",{scope:Xt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class JA extends ia{}Ot(JA,"blotName","blockquote"),Ot(JA,"tagName","blockquote");class eC extends ia{static formats(t){return this.tagName.indexOf(t.tagName)+1}}Ot(eC,"blotName","header"),Ot(eC,"tagName",["H1","H2","H3","H4","H5","H6"]);class Ty extends Eh{}Ty.blotName="list-container";Ty.tagName="OL";class _y extends ia{static create(t){const r=super.create();return r.setAttribute("data-list",t),r}static formats(t){return t.getAttribute("data-list")||void 0}static register(){it.register(Ty)}constructor(t,r){super(t,r);const n=r.ownerDocument.createElement("span"),a=i=>{if(!t.isEnabled())return;const o=this.statics.formats(r,t);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};n.addEventListener("mousedown",a),n.addEventListener("touchstart",a),this.attachUI(n)}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-list",r):super.format(t,r)}}_y.blotName="list";_y.tagName="LI";Ty.allowedChildren=[_y];_y.requiredContainer=Ty;class Pg extends Ql{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Ot(Pg,"blotName","bold"),Ot(Pg,"tagName",["STRONG","B"]);class tC extends Pg{}Ot(tC,"blotName","italic"),Ot(tC,"tagName",["EM","I"]);class hu extends Ql{static create(t){const r=super.create(t);return r.setAttribute("href",this.sanitize(t)),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(t){return t.getAttribute("href")}static sanitize(t){return ZV(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,r){t!==this.statics.blotName||!r?super.format(t,r):this.domNode.setAttribute("href",this.constructor.sanitize(r))}}Ot(hu,"blotName","link"),Ot(hu,"tagName","A"),Ot(hu,"SANITIZED_URL","about:blank"),Ot(hu,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function ZV(e,t){const r=document.createElement("a");r.href=e;const n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}class rC extends Ql{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}Ot(rC,"blotName","script"),Ot(rC,"tagName",["SUB","SUP"]);class sC extends Pg{}Ot(sC,"blotName","strike"),Ot(sC,"tagName",["S","STRIKE"]);class nC extends Ql{}Ot(nC,"blotName","underline"),Ot(nC,"tagName","U");class V1 extends L4{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const r=super.create(t);return typeof t=="string"&&(window.katex.render(t,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",t)),r}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}Ot(V1,"blotName","formula"),Ot(V1,"className","ql-formula"),Ot(V1,"tagName","SPAN");const BM=["alt","height","width"];class aC extends Ki{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("src",this.sanitize(t)),r}static formats(t){return BM.reduce((r,n)=>(t.hasAttribute(n)&&(r[n]=t.getAttribute(n)),r),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return ZV(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,r){BM.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}}Ot(aC,"blotName","image"),Ot(aC,"tagName","IMG");const $M=["height","width"];class q1 extends vo{static create(t){const r=super.create(t);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("src",this.sanitize(t)),r}static formats(t){return $M.reduce((r,n)=>(t.hasAttribute(n)&&(r[n]=t.getAttribute(n)),r),{})}static sanitize(t){return hu.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,r){$M.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}Ot(q1,"blotName","video"),Ot(q1,"className","ql-video"),Ot(q1,"tagName","IFRAME");const kx=new hl("code-token","hljs",{scope:Xt.INLINE});class Kc extends Ql{static formats(t,r){for(;t!=null&&t!==r.domNode;){if(t.classList&&t.classList.contains(Oa.className))return super.formats(t,r);t=t.parentNode}}constructor(t,r,n){super(t,r,n),kx.add(this.domNode,n)}format(t,r){t!==Kc.blotName?super.format(t,r):r?kx.add(this.domNode,r):(kx.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),kx.value(this.domNode)||this.unwrap()}}Kc.blotName="code-token";Kc.className="ql-token";class xo extends Oa{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("data-language",t),r}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-language",r):super.format(t,r)}replaceWith(t,r){return this.formatAt(0,this.length(),Kc.blotName,!1),super.replaceWith(t,r)}}class Bx extends Ah{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,r){t===xo.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,r)}))}formatAt(t,r,n,a){n===xo.blotName&&(this.forceNext=!0),super.formatAt(t,r,n,a)}highlight(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=xo.formats(this.children.head.domNode);if(r||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const o=this.children.reduce((u,f)=>u.concat(MV(f,!1)),new Ht),l=t(a,i);o.diff(l).reduce((u,f)=>{let{retain:h,attributes:p}=f;return h?(p&&Object.keys(p).forEach(x=>{[xo.blotName,Kc.blotName].includes(x)&&this.formatAt(u,h,x,p[x])}),u+h):u},0)}this.cachedText=a,this.forceNext=!1}}html(t,r){const[n]=this.children.find(t);return`<pre data-language="${n?xo.formats(n.domNode):"plain"}">
${tN(this.code(t,r))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const r=xo.formats(this.children.head.domNode);r!==this.uiNode.value&&(this.uiNode.value=r)}}}Bx.allowedChildren=[xo];xo.requiredContainer=Bx;xo.allowedChildren=[Kc,Dp,ol,ml];const $Ee=(e,t,r)=>{if(typeof e.versionString=="string"){const n=e.versionString.split(".")[0];if(parseInt(n,10)>=11)return e.highlight(r,{language:t}).value}return e.highlight(t,r).value};class JV extends pl{static register(){it.register(Kc,!0),it.register(xo,!0),it.register(Bx,!0)}constructor(t,r){if(super(t,r),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,a)=>{let{key:i}=a;return n[i]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(it.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Bx))return;const r=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:a,label:i}=n;const o=r.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",a),r.appendChild(o)}),r.addEventListener("change",()=>{t.format(xo.blotName,r.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(r),t.children.head&&(r.value=xo.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(it.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(it.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Bx):[t]).forEach(i=>{i.highlight(this.highlightBlot,r)}),this.quill.update(it.sources.SILENT),n!=null&&this.quill.setSelection(n,it.sources.SILENT)}highlightBlot(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(r=this.languages[r]?r:"plain",r==="plain")return tN(t).split(`
`).reduce((a,i,o)=>(o!==0&&a.insert(`
`,{[Oa.blotName]:r}),a.insert(i)),new Ht);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Oa.className),n.innerHTML=$Ee(this.options.hljs,r,t),H4(this.quill.scroll,n,[(a,i)=>{const o=kx.value(a);return o?i.compose(new Ht().retain(i.length(),{[Kc.blotName]:o})):i}],[(a,i)=>a.data.split(`
`).reduce((o,l,u)=>(u!==0&&o.insert(`
`,{[Oa.blotName]:r}),o.insert(l)),i)],new WeakMap)}}JV.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Gx=class Gx extends ia{static create(t){const r=super.create();return t?r.setAttribute("data-row",t):r.setAttribute("data-row",W4()),r}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,r){t===Gx.blotName&&r?this.domNode.setAttribute("data-row",r):super.format(t,r)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Ot(Gx,"blotName","table"),Ot(Gx,"tagName","TD");let Yo=Gx;class Qc extends Eh{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),r=this.children.tail.formats(),n=this.next.children.head.formats(),a=this.next.children.tail.formats();return t.table===r.table&&t.table===n.table&&t.table===a.table}return!1}optimize(t){super.optimize(t),this.children.forEach(r=>{if(r.next==null)return;const n=r.formats(),a=r.next.formats();if(n.table!==a.table){const i=this.splitAfter(r);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Ot(Qc,"blotName","table-row"),Ot(Qc,"tagName","TR");class zl extends Eh{}Ot(zl,"blotName","table-body"),Ot(zl,"tagName","TBODY");class Rp extends Eh{balanceCells(){const t=this.descendants(Qc),r=t.reduce((n,a)=>Math.max(a.children.length,n),0);t.forEach(n=>{new Array(r-n.children.length).fill(0).forEach(()=>{let a;n.children.head!=null&&(a=Yo.formats(n.children.head.domNode));const i=this.scroll.create(Yo.blotName,a);n.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(r=>r.children.at(t))}deleteColumn(t){const[r]=this.descendant(zl);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(t);a!=null&&a.remove()})}insertColumn(t){const[r]=this.descendant(zl);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(t),i=Yo.formats(n.children.head.domNode),o=this.scroll.create(Yo.blotName,i);n.insertBefore(o,a)})}insertRow(t){const[r]=this.descendant(zl);if(r==null||r.children.head==null)return;const n=W4(),a=this.scroll.create(Qc.blotName);r.children.head.children.forEach(()=>{const o=this.scroll.create(Yo.blotName,n);a.appendChild(o)});const i=r.children.at(t);r.insertBefore(a,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(r=>r)}}Ot(Rp,"blotName","table-container"),Ot(Rp,"tagName","TABLE");Rp.allowedChildren=[zl];zl.requiredContainer=Rp;zl.allowedChildren=[Qc];Qc.requiredContainer=zl;Qc.allowedChildren=[Yo];Yo.requiredContainer=Qc;function W4(){return`row-${Math.random().toString(36).slice(2,6)}`}class UEe extends pl{static register(){it.register(Yo),it.register(Qc),it.register(zl),it.register(Rp)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Rp).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,r]=this.getTable();r!=null&&(t.deleteColumn(r.cellOffset()),this.quill.update(it.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(it.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const r=t.offset();t.remove(),this.quill.update(it.sources.USER),this.quill.setSelection(r,it.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[r,n]=this.quill.getLine(t.index);if(r==null||r.statics.blotName!==Yo.blotName)return[null,null,null,-1];const a=r.parent;return[a.parent.parent,a,r,n]}insertColumn(t){const r=this.quill.getSelection();if(!r)return;const[n,a,i]=this.getTable(r);if(i==null)return;const o=i.cellOffset();n.insertColumn(o+t),this.quill.update(it.sources.USER);let l=a.rowOffset();t===0&&(l+=1),this.quill.setSelection(r.index+l,r.length,it.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const r=this.quill.getSelection();if(!r)return;const[n,a,i]=this.getTable(r);if(i==null)return;const o=a.rowOffset();n.insertRow(o+t),this.quill.update(it.sources.USER),t>0?this.quill.setSelection(r,it.sources.SILENT):this.quill.setSelection(r.index+a.children.length,r.length,it.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,r){const n=this.quill.getSelection();if(n==null)return;const a=new Array(t).fill(0).reduce(i=>{const o=new Array(r).fill(`
`).join("");return i.insert(o,{table:W4()})},new Ht().retain(n.index));this.quill.updateContents(a,it.sources.USER),this.quill.setSelection(n.index,it.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(it.events.SCROLL_OPTIMIZE,t=>{t.some(r=>["TD","TR","TBODY","TABLE"].includes(r.target.tagName)?(this.quill.once(it.events.TEXT_CHANGE,(n,a,i)=>{i===it.sources.USER&&this.balanceTables()}),!0):!1)})}}const UM=id("quill:toolbar");class G4 extends pl{constructor(t,r){var n,a;if(super(t,r),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),VEe(i,this.options.container),(a=(n=t.container)==null?void 0:n.parentNode)==null||a.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){UM.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var l;const o=(l=this.options.handlers)==null?void 0:l[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(it.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,r){this.handlers[t]=r}attach(t){let r=Array.from(t.classList).find(a=>a.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[r]==null&&this.quill.scroll.query(r)==null){UM.warn("ignoring attaching to nonexistent format",r,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,a=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const l=t.options[t.selectedIndex];l.hasAttribute("selected")?i=!1:i=l.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),a.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,i);else if(this.quill.scroll.query(r).prototype instanceof Ki){if(i=prompt(`Enter ${r}`),!i)return;this.quill.updateContents(new Ht().retain(o.index).delete(o.length).insert({[r]:i}),it.sources.USER)}else this.quill.format(r,i,it.sources.USER);this.update(o)}),this.controls.push([r,t])}update(t){const r=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[a,i]=n;if(i.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(r[a]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(r[a])){let l=r[a];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${l}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=r[a],l=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",l),i.setAttribute("aria-pressed",l.toString())}else{const o=r[a]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}G4.DEFAULTS={};function VM(e,t,r){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),r!=null?(n.value=r,n.setAttribute("aria-label",`${t}: ${r}`)):n.setAttribute("aria-label",t),e.appendChild(n)}function VEe(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(r=>{const n=document.createElement("span");n.classList.add("ql-formats"),r.forEach(a=>{if(typeof a=="string")VM(n,a);else{const i=Object.keys(a)[0],o=a[i];Array.isArray(o)?qEe(n,i,o):VM(n,i,o)}}),e.appendChild(n)})}function qEe(e,t,r){const n=document.createElement("select");n.classList.add(`ql-${t}`),r.forEach(a=>{const i=document.createElement("option");a!==!1?i.setAttribute("value",String(a)):i.setAttribute("selected","selected"),n.appendChild(i)}),e.appendChild(n)}G4.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(r=>{this.quill.scroll.query(r,Xt.INLINE)!=null&&this.quill.format(r,!1,it.sources.USER)})}else this.quill.removeFormat(e.index,e.length,it.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();e==="rtl"&&t==null?this.quill.format("align","right",it.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,it.sources.USER),this.quill.format("direction",e,it.sources.USER)},indent(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0,10);if(e==="+1"||e==="-1"){let a=e==="+1"?1:-1;r.direction==="rtl"&&(a*=-1),this.quill.format("indent",n+a,it.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,it.sources.USER)},list(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t);e==="check"?r.list==="checked"||r.list==="unchecked"?this.quill.format("list",!1,it.sources.USER):this.quill.format("list","unchecked",it.sources.USER):this.quill.format("list",e,it.sources.USER)}}};const zEe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',HEe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',WEe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',GEe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',YEe='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',KEe='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',QEe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',XEe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',qM='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',ZEe='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',JEe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',eAe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',tAe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',rAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',sAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',nAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',aAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',iAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',oAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',lAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',cAe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',dAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',uAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',fAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',hAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',mAe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',pAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',xAe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',gAe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',yAe='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',vAe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',bAe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',wAe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Mg={align:{"":zEe,center:HEe,right:WEe,justify:GEe},background:YEe,blockquote:KEe,bold:QEe,clean:XEe,code:qM,"code-block":qM,color:ZEe,direction:{"":JEe,rtl:eAe},formula:tAe,header:{1:rAe,2:sAe,3:nAe,4:aAe,5:iAe,6:oAe},italic:lAe,image:cAe,indent:{"+1":dAe,"-1":uAe},link:fAe,list:{bullet:hAe,check:mAe,ordered:pAe},script:{sub:xAe,super:gAe},strike:yAe,table:vAe,underline:bAe,video:wAe},NAe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let zM=0;function HM(e,t){e.setAttribute(t,`${e.getAttribute(t)!=="true"}`)}class sN{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),r.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),HM(this.label,"aria-expanded"),HM(this.options,"aria-hidden")}buildItem(t){const r=document.createElement("span");r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&r.setAttribute("data-value",n),t.textContent&&r.setAttribute("data-label",t.textContent),r.addEventListener("click",()=>{this.selectItem(r,!0)}),r.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(r,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),r}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=NAe,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${zM}`,zM+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(r=>{const n=this.buildItem(r);t.appendChild(n),r.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),r&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const r=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}class eq extends sN{constructor(t,r){super(t),this.label.innerHTML=r,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const r=super.buildItem(t);return r.style.backgroundColor=t.getAttribute("value")||"",r}selectItem(t,r){super.selectItem(t,r);const n=this.label.querySelector(".ql-color-label"),a=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=a:n.style.fill=a)}}class tq extends sN{constructor(t,r){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=r[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,r){super.selectItem(t,r);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const jAe=e=>{const{overflowY:t}=getComputedStyle(e,null);return t!=="visible"&&t!=="clip"};class rq{constructor(t,r){this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,jAe(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const r=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${r}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>a.right&&(o=a.right-i.right,this.root.style.left=`${r+o}px`),i.left<a.left&&(o=a.left-i.left,this.root.style.left=`${r+o}px`),i.bottom>a.bottom){const l=i.bottom-i.top,u=t.bottom-t.top+l;this.root.style.top=`${n-u}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const SAe=[!1,"center","right","justify"],EAe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],AAe=[!1,"serif","monospace"],CAe=["1","2","3",!1],TAe=["small",!1,"large","huge"];class ky extends Op{constructor(t,r){super(t,r);const n=a=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(a.target)||i.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const r=super.addModule(t);return t==="toolbar"&&this.extendToolbar(r),r}buildButtons(t,r){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),r[i]!=null))if(i==="direction")n.innerHTML=r[i][""]+r[i].rtl;else if(typeof r[i]=="string")n.innerHTML=r[i];else{const o=n.value||"";o!=null&&r[i][o]&&(n.innerHTML=r[i][o])}})})}buildPickers(t,r){this.pickers=Array.from(t).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&yx(a,SAe),typeof r.align=="object"))return new tq(a,r.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const i=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&yx(a,EAe,i==="background"?"#ffffff":"#000000"),new eq(a,r[i])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?yx(a,AAe):a.classList.contains("ql-header")?yx(a,CAe):a.classList.contains("ql-size")&&yx(a,TAe)),new sN(a)});const n=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(Ft.events.EDITOR_CHANGE,n)}}ky.DEFAULTS=wu({},Op.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class sq extends rq{constructor(t,r){super(t,r),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;r!=null?this.textbox.value=r:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:r}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,Ft.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,Ft.sources.USER)),this.quill.root.scrollTop=r;break}case"video":t=_Ae(t);case"formula":{if(!t)break;const r=this.quill.getSelection(!0);if(r!=null){const n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,Ft.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",Ft.sources.USER),this.quill.setSelection(n+2,Ft.sources.USER)}break}}this.textbox.value="",this.hide()}}function _Ae(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}function yx(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const a=document.createElement("option");n===r?a.setAttribute("selected","selected"):a.setAttribute("value",String(n)),e.appendChild(a)})}const kAe=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class nq extends sq{constructor(t,r){super(t,r),this.quill.on(Ft.events.EDITOR_CHANGE,(n,a,i,o)=>{if(n===Ft.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&o===Ft.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(a.index,a.length);if(l.length===1){const u=this.quill.getBounds(a);u!=null&&this.position(u)}else{const u=l[l.length-1],f=this.quill.getIndex(u),h=Math.min(u.length()-1,a.index+a.length-f),p=this.quill.getBounds(new ah(f,h));p!=null&&this.position(p)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ft.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const r=this.quill.getBounds(t);r!=null&&this.position(r)}},1)})}cancel(){this.show()}position(t){const r=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",r!==0&&(n.style.marginLeft=`${-1*r-n.offsetWidth/2}px`),r}}Ot(nq,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class aq extends ky{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=kAe),super(t,r),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new nq(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Mg),this.buildPickers(t.container.querySelectorAll("select"),Mg))}}aq.DEFAULTS=wu({},ky.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,it.sources.USER)}}}}});const DAe=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class iq extends sq{constructor(){super(...arguments);Ot(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",r=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),r.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",r=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,Ft.sources.USER),delete this.linkRange}r.preventDefault(),this.hide()}),this.quill.on(Ft.events.SELECTION_CHANGE,(r,n,a)=>{if(r!=null){if(r.length===0&&a===Ft.sources.USER){const[i,o]=this.quill.scroll.descendant(hu,r.index);if(i!=null){this.linkRange=new ah(r.index-o,i.length());const l=hu.formats(i.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Ot(iq,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class oq extends ky{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=DAe),super(t,r),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Mg),this.buildPickers(t.container.querySelectorAll("select"),Mg),this.tooltip=new iq(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(r,n)=>{t.handlers.link.call(t,!n.format.link)}))}}oq.DEFAULTS=wu({},ky.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const t=this.quill.getSelection();if(t==null||t.length===0)return;let r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0&&(r=`mailto:${r}`);const{tooltip:n}=this.quill.theme;n.edit("link",r)}else this.quill.format("link",!1,it.sources.USER)}}}}});it.register({"attributors/attribute/direction":$V,"attributors/class/align":FV,"attributors/class/background":KSe,"attributors/class/color":YSe,"attributors/class/direction":UV,"attributors/class/font":zV,"attributors/class/size":WV,"attributors/style/align":LV,"attributors/style/background":U4,"attributors/style/color":$4,"attributors/style/direction":VV,"attributors/style/font":HV,"attributors/style/size":GV},!0);it.register({"formats/align":FV,"formats/direction":UV,"formats/indent":BEe,"formats/background":U4,"formats/color":$4,"formats/font":zV,"formats/size":WV,"formats/blockquote":JA,"formats/code-block":Oa,"formats/header":eC,"formats/list":_y,"formats/bold":Pg,"formats/code":V4,"formats/italic":tC,"formats/link":hu,"formats/script":rC,"formats/strike":sC,"formats/underline":nC,"formats/formula":V1,"formats/image":aC,"formats/video":q1,"modules/syntax":JV,"modules/table":UEe,"modules/toolbar":G4,"themes/bubble":aq,"themes/snow":oq,"ui/icons":Mg,"ui/picker":sN,"ui/icon-picker":tq,"ui/color-picker":eq,"ui/tooltip":rq},!0);class nN extends He.Component{constructor(t){super(t),this.editingAreaRef=g.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(n,a,i,o)=>{var l,u;n==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,a,o,this.unprivilegedEditor):n==="selection-change"&&((u=this.onEditorChangeSelection)==null||u.call(this,a,o,this.unprivilegedEditor))};const r=this.isControlled()?t.value:t.defaultValue;this.value=r??""}validateProps(t){if(He.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(He.Children.count(t.children)){const r=He.Children.only(t.children);if((r==null?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(t,r){if(this.validateProps(t),!this.editor||this.state.generation!==r.generation)return!0;if("value"in t){const n=this.getEditorContents(),a=t.value??"";this.isEqualValue(a,n)||this.setEditorContents(this.editor,a)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),[...this.cleanProps,...this.dirtyProps].some(n=>!eu(t[n],this.props[n]))}shouldComponentRegenerate(t){return this.dirtyProps.some(r=>!eu(t[r],this.props[r]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(t,r){if(this.editor&&this.shouldComponentRegenerate(t)){const n=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){const{delta:n,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const i=this.editor;i.setContents(n),WM(()=>this.setEditorSelection(i,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var n;if(!this.editor)return;this.unhookEditor(this.editor);const t=(n=this.props.modules)==null?void 0:n.toolbar;if(!(typeof t=="object"&&t&&"container"in t&&typeof t.container=="string"||typeof t=="string")){const a=document.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(t,r){const n=new it(t,r);return r.tabIndex!=null&&this.setEditorTabIndex(n,r.tabIndex),this.hookEditor(n),n}hookEditor(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)}unhookEditor(t){t.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(t){return t&&t.ops}isEqualValue(t,r){return this.isDelta(t)&&this.isDelta(r)?eu(t.ops,r.ops):eu(t,r)}setEditorContents(t,r){this.value=r;const n=this.getEditorSelection();typeof r=="string"?t.setContents(t.clipboard.convert({html:r})):t.setContents(r),WM(()=>this.setEditorSelection(t,n))}setEditorSelection(t,r){if(this.selection=r,r){const n=t.getLength();r.index=Math.max(0,Math.min(r.index,n-1)),r.length=Math.max(0,Math.min(r.length,n-1-r.index)),t.setSelection(r)}}setEditorTabIndex(t,r){var n;(n=t==null?void 0:t.scroll)!=null&&n.domNode&&(t.scroll.domNode.tabIndex=r)}setEditorReadOnly(t,r){r?t.disable():t.enable()}makeUnprivilegedEditor(t){const r=t;return{getHTML:()=>r.root.innerHTML,getSemanticHTML:r.getSemanticHTML.bind(r),getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}}getEditingArea(){const t=this.editingAreaRef.current;if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t}renderEditingArea(){const{children:t,preserveWhitespace:r}=this.props,{generation:n}=this.state,a={key:n,ref:this.editingAreaRef};return He.Children.count(t)?He.cloneElement(He.Children.only(t),a):r?He.createElement("pre",{...a}):He.createElement("div",{...a})}render(){return He.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(t,r,n,a){var o,l;if(!this.editor)return;const i=this.isDelta(this.value)?a.getContents():a.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=i,(l=(o=this.props).onChange)==null||l.call(o,t,r,n,a))}onEditorChangeSelection(t,r,n){var l,u,f,h,p,x;if(!this.editor)return;const a=this.getEditorSelection(),i=!a&&t,o=a&&!t;eu(t,a)||(this.selection=t,(u=(l=this.props).onChangeSelection)==null||u.call(l,t,r,n),i?(h=(f=this.props).onFocus)==null||h.call(f,t,r,n):o&&((x=(p=this.props).onBlur)==null||x.call(p,a,r,n)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}nN.displayName="React Quill";nN.Quill=it;nN.defaultProps={theme:"snow",modules:{},readOnly:!1};function WM(e){Promise.resolve().then(e)}const OAe=async()=>(await ut("/admin/categories?limit=1000")).categories,RAe=(e,t)=>Ur(`/products/${e}/variants/bulk`,{variants:t}),PAe=5*1024*1024,lq=["image/jpeg","image/jpg","image/png","image/webp","image/gif"],MAe=ys({id:bi().optional(),hsnCode:at().optional().nullable(),mrp:yn.number().positive("MRP must be positive"),sellingPrice:yn.number().positive("Selling price must be positive"),purchasePrice:yn.number().positive("Purchase price must be positive"),name:at().min(1,"Variant name is required"),gstRate:yn.number().min(0,"GST rate cannot be negative")}),IAe=ys({maintainStock:rl().default(!1),name:at().min(1,"Product name is required"),price:yn.number().positive({message:"Price must be a positive number"}),rate:yn.number().positive({message:"Rate must be a positive number"}),unit:at().optional().nullable(),description:at().optional().nullable(),isDairyProduct:rl().default(!1),categoryId:yn.number().positive("Please select a category").optional().nullable(),attachmentUrl:DC(FileList).optional().nullable().refine(e=>!e||e.length===0||e[0].size<=PAe,"Max image size is 5MB.").refine(e=>!e||e.length===0||lq.includes(e[0].type),"Only .jpg, .jpeg, .png, .webp and .gif formats are supported."),variants:dh(MAe).optional()}),cq=({mode:e,productId:t,initialData:r,onSuccess:n,className:a})=>{const i=_n(),{data:o,isLoading:l}=jr({queryKey:["categories"],queryFn:OAe}),[u,f]=g.useState(null),[h,p]=g.useState(""),x=en({resolver:tn(IAe),defaultValues:{name:"",price:void 0,rate:void 0,unit:null,description:"",isDairyProduct:!1,maintainStock:!1,attachmentUrl:null,variants:[],categoryId:null}}),{register:y,handleSubmit:w,reset:b,control:N,formState:{errors:j,isDirty:S}}=x;gy({control:N,name:"variants"}),g.useEffect(()=>{if(e==="edit"&&r&&o){const C={name:r.name||"",price:r.price!==void 0?Number(r.price):void 0,rate:r.rate!==void 0?Number(r.rate):void 0,unit:r.unit||null,description:r.description||"",isDairyProduct:r.isDairyProduct||!1,maintainStock:r.maintainStock||!1,variants:r.variants||[],categoryId:r.categoryId||null};if(b(C),r.attachmentUrl){const k=`https://www.indraai.in//${r==null?void 0:r.attachmentUrl}`;f(k)}else f(null)}else e==="create"&&(b(),f(null),p(""))},[r,e,b,o]);const A=Rr({mutationFn:async({productData:C,variants:k})=>{const T=e==="create"?"/products":`/products/${t}`,O=e==="create"?Ur:Js;if(e==="edit"&&!t)throw new Error("Product ID is required for update.");const R=await O(T,C),L=(R==null?void 0:R.id)||t;if(!L)throw new Error("Failed to get product ID.");return k&&k.length>0&&await RAe(L,k),R},onSuccess:C=>{he.success(`Product ${e==="create"?"created":"updated"} successfully!`),i.invalidateQueries({queryKey:["products"]});const k=(C==null?void 0:C.id)||t;k&&i.invalidateQueries({queryKey:["product",k]}),n&&n()},onError:C=>{var T,O;const k=((O=(T=C.response)==null?void 0:T.data)==null?void 0:O.message)||C.message||"An unexpected error occurred";he.error(`Failed to save product: ${k}`)}}),_=C=>{console.log("Submitting variants:",C.variants);const k=new FormData;k.append("name",C.name),k.append("price",String(C.price)),k.append("rate",String(C.rate)),k.append("isDairyProduct",String(C.isDairyProduct)),k.append("maintainStock",String(C.maintainStock)),C.unit&&k.append("unit",C.unit),C.description&&k.append("description",C.description),C.categoryId&&k.append("categoryId",String(C.categoryId)),C.attachmentUrl&&C.attachmentUrl.length>0?k.append("productAttachment",C.attachmentUrl[0],C.attachmentUrl[0].name):r!=null&&r.attachmentUrl&&u===null&&k.append("attachmentUrl",""),A.mutate({productData:k,variants:C.variants||[]})};return s.jsxs("form",{onSubmit:w(_),className:Ze("space-y-8",a),children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Product Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(je,{htmlFor:"name",children:"Product Name"}),s.jsx(Ge,{id:"name",type:"text",...y("name"),disabled:A.isPending}),j.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"categoryId",children:"Category"}),s.jsx($r,{name:"categoryId",control:N,render:({field:C})=>s.jsxs(Wt,{onValueChange:C.onChange,value:C.value?String(C.value):"",disabled:A.isPending||l,children:[s.jsx(Yt,{children:s.jsx(Gt,{placeholder:l?"Loading...":"Select a category"})}),s.jsx(Kt,{children:o==null?void 0:o.map(k=>s.jsx(ct,{value:String(k.id),children:k.name},k.id))})]},C.value)}),j.categoryId&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.categoryId.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($r,{name:"maintainStock",control:N,render:({field:C})=>s.jsx(Du,{id:"maintainStock",checked:C.value,onCheckedChange:C.onChange,disabled:A.isPending})}),s.jsx(je,{htmlFor:"maintainStock",children:"Maintain Stock"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(je,{htmlFor:"description",children:"Description"}),s.jsx($r,{name:"description",control:N,render:({field:C})=>s.jsx(nN,{theme:"snow",value:C.value||"",onChange:C.onChange,onBlur:C.onBlur})}),j.description&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.description.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"price",children:"Price"}),s.jsx(Ge,{id:"price",type:"number",step:"0.01",...y("price"),disabled:A.isPending}),j.price&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.price.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"rate",children:"Rate"}),s.jsx(Ge,{id:"rate",type:"number",step:"0.01",...y("rate"),disabled:A.isPending}),j.rate&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.rate.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"unit",children:"Unit"}),s.jsx(Ge,{id:"unit",type:"text",...y("unit"),disabled:A.isPending}),j.unit&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.unit.message})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[s.jsx($r,{name:"isDairyProduct",control:N,render:({field:C})=>s.jsx(Du,{id:"isDairyProduct",checked:C.value,onCheckedChange:C.onChange,disabled:A.isPending})}),s.jsx(je,{htmlFor:"isDairyProduct",children:"Is this a Dairy Product?"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(je,{htmlFor:"attachmentUrl",children:"Product Image"}),s.jsx(Ge,{id:"attachmentUrl",type:"file",accept:lq.join(","),...y("attachmentUrl",{onChange:C=>{var T;const k=(T=C.target.files)==null?void 0:T[0];if(k){const O=URL.createObjectURL(k);f(O),p(k.name)}else f(null),p("")}}),disabled:A.isPending}),h&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",h]}),j.attachmentUrl&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.attachmentUrl.message}),u&&s.jsxs("div",{className:"mt-4 relative w-48 h-48 border rounded-md overflow-hidden",children:[s.jsx("img",{src:u,alt:"Preview",className:"w-full h-full object-cover"}),s.jsx(pe,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>{f(null),p(""),x.setValue("attachmentUrl",null,{shouldDirty:!0})},children:"X"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>n==null?void 0:n(),disabled:A.isPending,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:A.isPending||!S,children:[A.isPending?s.jsx(Wr,{className:"animate-spin mr-2"}):null,e==="create"?"Create Product":"Save Changes"]})]})]})},FAe=()=>{const e=gr(),t=()=>{e("/admin/products")};return s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(xu,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(At,{className:" mx-auto",children:[s.jsxs(Dt,{children:[s.jsx(rr,{className:"text-2xl font-semibold",children:"Create New Product"}),s.jsx(yi,{children:"Fill in the details below to add a new product to the inventory."})]}),s.jsx(Tt,{children:s.jsx(cq,{mode:"create",onSuccess:t})})]})]})},LAe=()=>{const e=gr(),{id:t}=Xn(),r=async f=>await ut(`/products/${f}`),{data:n,isLoading:a,isError:i,error:o}=jr({queryKey:["product",t],queryFn:()=>r(t),enabled:!!t,staleTime:1e3*60*2}),l=()=>{e("/admin/products")};if(!t)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Wn,{variant:"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Error"}),s.jsx(Gn,{children:"No Product ID provided. Please go back and select a product to edit."})]})});if(a)return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(xu,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(At,{className:"max-w-4xl mx-auto",children:[s.jsxs(Dt,{children:[s.jsx(Ct,{className:"h-8 w-3/4 mb-2"}),s.jsx(Ct,{className:"h-4 w-1/2"})]}),s.jsxs(Tt,{className:"space-y-6 pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Ct,{className:"h-10 w-full"}),s.jsx(Ct,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Ct,{className:"h-10 w-full"}),s.jsx(Ct,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"flex justify-end pt-4",children:[s.jsx(Ct,{className:"h-10 w-24 mr-2"}),s.jsx(Ct,{className:"h-10 w-32"})]})]})]})]});if(i||!n)return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(xu,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(Wn,{variant:"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(ka,{children:"Error Fetching Product"}),s.jsxs(Gn,{children:["There was a problem retrieving the product details. Error: ",(o==null?void 0:o.message)||"Product data not found."]})]})]});const u={...n,date:n.date?new Date(n.date):void 0,categoryId:n.categoryId??null};return s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(xu,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(At,{className:" mx-auto",children:[s.jsxs(Dt,{children:[s.jsx(rr,{className:"text-2xl font-semibold",children:"Edit Product"}),s.jsx(yi,{children:"Update the details"})]}),s.jsx(Tt,{children:s.jsx(cq,{mode:"edit",productId:t,initialData:u,onSuccess:l})})]})]})},BAe=()=>{const[e,t]=g.useState(null),[r,n]=g.useState(!0);return g.useEffect(()=>{const a=localStorage.getItem("user");if(a)try{const i=JSON.parse(a);t(i.role)}catch(i){console.error("Error parsing user data from localStorage:",i),t(null)}else t(null);n(!1)},[]),r?s.jsx("div",{children:"Loading..."}):e==="MEMBER"?s.jsx(eA,{children:s.jsx(Tg,{})}):s.jsx(Tg,{})},$Ae=async()=>{const e=await ut("/products");return Array.isArray(e)?e.map(t=>({...t,price:t.rate})):e&&e.data?e.data.map(t=>({...t,price:t.rate})):[]},UAe=({product:e,onViewDetails:t})=>{const[r,n]=g.useState(!1),[a,i]=g.useState(!1),o={rest:{scale:1,y:0,boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)"},hover:{scale:1.03,y:-5,boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.2)",transition:{type:"spring",stiffness:350,damping:25}}},l={rest:{scale:1},hover:{scale:1.05}},u={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:20}}};return s.jsx(As.div,{variants:o,initial:"rest",whileHover:"hover",animate:"rest",onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),onClick:()=>t(e.id),className:"h-full rounded-xl overflow-hidden cursor-pointer",children:s.jsxs(At,{className:"relative h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 transition-all duration-300 group",children:[s.jsxs("div",{className:"relative h-52 sm:h-56 overflow-hidden",children:[s.jsx(As.div,{variants:l,className:"h-full w-full",children:e.attachmentUrl?s.jsx("img",{src:e.attachmentUrl.startsWith("http")?e.attachmentUrl:`https://www.indraai.in//${e.attachmentUrl}`,alt:e.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}):s.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-700",children:s.jsx("span",{className:"mt-2 text-xs text-gray-700 dark:text-gray-400",children:"No Image Available"})})}),s.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-black/30 to-transparent"}),s.jsxs(As.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,type:"spring",stiffness:200},className:"absolute top-3 left-3 bg-primary text-white px-3 py-1.5 rounded-full text-xs font-semibold shadow-lg flex items-center",children:[s.jsx(tw,{size:14,className:"mr-1"})," Fresh"]}),s.jsx(bxe,{children:a&&s.jsx(As.div,{variants:u,initial:"hidden",animate:"visible",exit:"hidden",className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex flex-col items-center justify-center p-4",onClick:f=>{f.stopPropagation(),t(e.id)},children:s.jsxs(As.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1,transition:{delay:.1}},className:"text-white text-center",children:[s.jsx(_c,{className:"w-10 h-10 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-base font-semibold",children:"Subscribe"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Click to subscribe"})]})})})]}),s.jsxs(Dt,{className:"pb-0 pt-4 px-4",children:[" ",s.jsxs("div",{className:"flex items-start justify-between space-x-2",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx(rr,{className:"text-base sm:text-lg font-semibold leading-tight line-clamp-2 text-gray-700 dark:text-gray-100 group-hover:text-primary dark:group-hover:text-primary transition-colors duration-200",children:e.name})}),s.jsx("div",{className:"flex-shrink-0 pt-1"})]})]}),s.jsxs(Tt,{className:"flex-grow pt-0 pb-3 px-4",children:[s.jsxs("div",{className:"space-y-2.5",children:[s.jsx("div",{className:"flex items-baseline space-x-1.5",children:s.jsx("span",{className:"text-xl sm:text-2xl font-bold text-primary dark:text-primary",children:Ms(e.price)})}),e.description&&s.jsx("div",{className:"mt-2 text-xs text-gray-700 dark:text-gray-400 prose prose-sm dark:prose-invert max-w-full",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden",textOverflow:"ellipsis",maxHeight:"4.5em"},dangerouslySetInnerHTML:{__html:e.description}}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-3",children:[s.jsxs("div",{className:"bg-primary/10 dark:bg-primary/20 rounded-md p-2 text-center flex flex-col items-center justify-center",children:[s.jsx(qf,{size:16,className:"text-primary dark:text-primary mb-0.5"}),s.jsx("div",{className:"text-xs font-medium text-primary dark:text-primary",children:"Organic"})]}),s.jsxs("div",{className:"bg-primary/10 dark:bg-primary/20 rounded-md p-2 text-center flex flex-col items-center justify-center",children:[s.jsx(Ka,{size:16,className:"text-primary dark:text-primary mb-0.5"}),s.jsx("div",{className:"text-xs font-medium text-primary dark:text-primary",children:"Certified"})]})]})]})," "]}),s.jsx($u,{className:"pt-2 pb-4 px-4",children:s.jsx(As.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full",children:s.jsxs(pe,{className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold py-2.5 sm:py-3 shadow-md hover:shadow-lg transition-all duration-200 group text-sm sm:text-base rounded-lg",onClick:f=>{f.stopPropagation(),t(e.id)},"aria-label":`Subscribe for ${e.name}`,children:[s.jsx(_c,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 transition-transform duration-200 group-hover:scale-110"}),"Subscribe"]})})})]})})},VAe=()=>{const e=gr(),{data:t,isLoading:r,isError:n,error:a}=jr({queryKey:["memberPublicProducts"],queryFn:$Ae}),i=t||[],o=u=>{e(`/member/products/${u}`)},l=()=>s.jsxs(At,{className:"overflow-hidden bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg",children:[s.jsx(Ct,{className:"h-52 sm:h-56 w-full bg-gray-200 dark:bg-gray-700"}),s.jsxs(Dt,{className:"pb-2 pt-4",children:[s.jsx(Ct,{className:"h-5 w-3/4 mb-2 bg-gray-200 dark:bg-gray-700"}),s.jsx(Ct,{className:"h-3 w-1/2 bg-gray-200 dark:bg-gray-700"})]}),s.jsxs(Tt,{className:"pt-2 pb-3",children:[s.jsx(Ct,{className:"h-6 w-1/3 mb-2 bg-gray-200 dark:bg-gray-700"}),s.jsx(Ct,{className:"h-3 w-full mb-1 bg-gray-200 dark:bg-gray-700"}),s.jsx(Ct,{className:"h-3 w-5/6 mb-3 bg-gray-200 dark:bg-gray-700"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[s.jsx(Ct,{className:"h-10 rounded-md bg-gray-200 dark:bg-gray-700"}),s.jsx(Ct,{className:"h-10 rounded-md bg-gray-200 dark:bg-gray-700"})]})]}),s.jsx($u,{className:"pt-2 pb-4 px-4",children:s.jsx(Ct,{className:"h-10 sm:h-12 w-full rounded-lg bg-gray-200 dark:bg-gray-700"})})]});return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-gray-850 dark:to-gray-900 py-8 sm:py-12",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[s.jsx(Ct,{className:"h-10 sm:h-12 w-3/5 sm:w-1/2 mx-auto mb-4 bg-gray-300 dark:bg-gray-700"}),s.jsx(Ct,{className:"h-5 sm:h-6 w-4/5 sm:w-2/3 mx-auto bg-gray-300 dark:bg-gray-700"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:[...Array(8)].map((u,f)=>s.jsx(l,{},f))})]})}):n&&a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(Wn,{variant:"destructive",className:"max-w-lg mx-auto bg-red-100 dark:bg-red-900/50 border-red-500 dark:border-red-700 p-6 rounded-lg shadow-xl",children:[s.jsx(gu,{className:"h-6 w-6 text-red-700 dark:text-red-400"}),s.jsx(ka,{className:"text-xl font-semibold text-red-800 dark:text-red-300",children:"Oops! Something went wrong."}),s.jsx(Gn,{className:"text-gray-700 dark:text-red-400 mt-1",children:(a==null?void 0:a.message)||"We couldn't fetch the products at this moment. Please try refreshing the page or check back later."}),s.jsx(pe,{variant:"outline",className:"mt-4 border-primary text-primary hover:bg-primary/10 dark:border-primary dark:text-primary dark:hover:bg-primary/20",onClick:()=>window.location.reload(),children:"Refresh Page"})]})})}):i.length===0?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:s.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:s.jsxs(As.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},children:[s.jsx(Is,{size:72,className:"mx-auto mb-6 text-primary dark:text-primary"}),s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-3 text-gray-700 dark:text-gray-100",children:"No Products Found"}),s.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-400 max-w-md mx-auto",children:"It seems we're all out of stock for now! Please check back soon for fresh arrivals."}),s.jsx(pe,{className:"mt-8 bg-primary hover:bg-primary/90 text-white",onClick:()=>window.location.reload(),children:"Check Again"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-slate-800 dark:to-gray-900 selection:bg-primary selection:text-white",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-10 sm:py-16",children:[s.jsxs(As.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"mb-12 sm:mb-20",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:s.jsx(qi,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:"Our Products"})]}),s.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"}),s.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-700 dark:text-gray-300 max-w-xl lg:max-w-2xl leading-relaxed",children:"Explore a curated selection of farm-fresh dairy, organic groceries, and artisanal goods. Subscribe for convenience and quality, delivered to your door."})]}),s.jsx(As.div,{initial:"hidden",animate:"visible",variants:{visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.2}},hidden:{opacity:0}},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:i.map(u=>s.jsx(As.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},children:s.jsx(UAe,{product:u,onViewDetails:o})},u.id))})]})})},qAe=({selectable:e=!1,onSelect:t,selectedAddressId:r})=>{const n=gr(),a=_n(),[i,o]=g.useState(null),{data:l,isLoading:u,isError:f,error:h}=jr({queryKey:["addresses"],queryFn:async()=>await ut("/delivery-addresses")}),p=Rr({mutationFn:async j=>await Ja(`/delivery-addresses/${j}/set-default`,{}),onSuccess:()=>{a.invalidateQueries({queryKey:["addresses"]}),he.success("Default address updated successfully")},onError:j=>{he.error(j.message||"Failed to update default address")}}),x=Rr({mutationFn:async j=>await Ln(`/delivery-addresses/${j}`),onSuccess:()=>{a.invalidateQueries({queryKey:["addresses"]}),he.success("Address deleted successfully"),o(null)},onError:j=>{he.error(j.message||"Failed to delete address")}}),y=j=>{p.mutate(j)},w=()=>{i&&x.mutate(i)},b=j=>{n(`/member/addresses/edit/${j}`)},N=j=>{e&&t&&t(j)};return u?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((j,S)=>s.jsx(At,{className:"w-full",children:s.jsx(Tt,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ct,{className:"h-4 w-3/4"}),s.jsx(Ct,{className:"h-4 w-1/2"}),s.jsx(Ct,{className:"h-4 w-5/6"})]})})},S))}):f?s.jsxs("div",{className:"text-center p-4 text-red-500",children:["Error loading addresses: ",(h==null?void 0:h.message)||"Unknown error"]}):!l||l.length===0?s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"mb-4",children:"You don't have any saved addresses yet."}),s.jsxs(pe,{onClick:()=>n("/member/addresses/create"),children:[s.jsx(Hs,{className:"mr-2 h-4 w-4"})," Add New Delivery Address"]})]}):s.jsxs("div",{className:"space-y-4",children:[!e&&s.jsx("div",{className:"flex justify-between items-center mb-4"}),l.map(j=>s.jsx(At,{className:`w-full transition-all ${e?"cursor-pointer hover:border-primary hover:shadow-md":""} ${r===j.id?"border-2 border-primary shadow-md":""}`,onClick:()=>e&&N(j),children:s.jsx(Tt,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-medium text-base sm:text-lg truncate",children:j.recipientName}),j.label&&s.jsx(Fr,{variant:"secondary",className:"mr-2 font-normal ",children:j.label}),j.isDefault&&s.jsxs(Fr,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[s.jsx(TI,{className:"h-3 w-3 mr-1"}),"Default"]})]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[j.plotBuilding,", ",j.streetArea,j.landmark&&`, Near ${j.landmark}`]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[j.city,", ",j.state," - ",j.pincode]}),s.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:["Mobile: ",j.mobile]})]}),!e&&s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 sm:mt-0",children:[!j.isDefault&&s.jsxs(pe,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",onClick:S=>{S.stopPropagation(),y(j.id)},children:[s.jsx(Ka,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Set Default"}),s.jsx("span",{className:"sm:hidden",children:"Default"})]}),s.jsxs(pe,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",onClick:S=>{S.stopPropagation(),b(j.id)},children:[s.jsx(Za,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"ml-1 hidden sm:inline",children:"Edit"})]})]})]})})},j.id)),s.jsx(ua,{open:!!i,onOpenChange:j=>!j&&o(null),children:s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Are you sure?"}),s.jsx(xa,{children:"This will permanently delete this address. This action cannot be undone."})]}),s.jsxs(ma,{children:[s.jsx(ya,{children:"Cancel"}),s.jsx(ga,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},zAe=()=>{const e=gr();return s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 max-sm:flex-col",children:[s.jsxs("div",{className:"",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Delivery Addresses"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your delivery addresses"})]}),s.jsxs(pe,{onClick:()=>e("/member/addresses/create"),children:[s.jsx(Hs,{className:"mr-2 h-4 w-4"})," Add New Delivery Address"]})]}),s.jsx(qAe,{})]})},HAe=ys({recipientName:at().min(1,"Recipient name is required"),mobile:at().min(1,"Mobile number is required").regex(/^\d{10,}$/,"Mobile number must be at least 10 digits and contain only numbers"),plotBuilding:at().min(1,"Flat/House/Plot number is required"),streetArea:at().min(1,"Street/Area name is required"),landmark:at().min(1,"Landmark is required"),pincode:at().min(1,"Pincode is required").regex(/^\d{6}$/,"Pincode must be exactly 6 numeric digits"),city:at().min(1,"City is required"),state:at().min(1,"State is required"),isDefault:rl().default(!1),label:sw(["Home","Work","Other"]).optional().default("Home"),locationId:at().optional()}),dq=({mode:e,addressId:t,initialData:r,onSuccess:n,onCancel:a,onBack:i,depotId:o,locations:l})=>{var X,K,H,J,ce;const u=gr(),f=e==="edit",[h,p]=g.useState(l||[]),[x,y]=g.useState(!1),[w,b]=g.useState([]),[N,j]=g.useState([]),[S,A]=g.useState([]),[_,C]=g.useState(null),[k,T]=g.useState(null),[O,R]=g.useState({isValid:!1,message:"",isValidating:!1}),[L,M]=g.useState(!1),[G,V]=g.useState(""),[ie,le]=g.useState(!1);g.useEffect(()=>{(async()=>{if(l&&l.length>0){p(l);return}y(!0);try{const ee=await ut("/public/locations");ee&&ee.data&&Array.isArray(ee.data.locations)?p(ee.data.locations):ee&&Array.isArray(ee)&&p(ee)}catch(ee){console.error("Failed to fetch locations:",ee),he.error("Could not load locations.")}finally{y(!1)}})()},[l]),g.useEffect(()=>{B(),U()},[]);const B=async()=>{try{const ae=await E4();b(ae)}catch(ae){console.error("Failed to fetch area masters:",ae),he.error("Could not load delivery areas.")}},U=async()=>{try{const ae=await Ey();A(ae)}catch(ae){console.error("Failed to fetch cities:",ae),he.error("Could not load cities.")}};g.useEffect(()=>{if(_&&w.length>0){const ae=w.filter(ee=>{var ne;return ee.cityId?ee.cityId===_:(ne=ee.city)!=null&&ne.id?ee.city.id===_:!1});j(ae)}else j(w)},[_,w]);const F=ae=>{var ne;T(ae),(ne=ae.city)!=null&&ne.name&&Q.setValue("city",ae.city.name);const ee=Q.getValues("pincode");ee&&ee.length===6&&W(ee,ae)},W=(ae,ee)=>{const ne=ee||k;if(console.log("validatePincode called with:",{pincode:ae,currentAreaMaster:ne==null?void 0:ne.name}),ae.length===6&&/^\d{6}$/.test(ae)){R({isValid:!1,message:"",isValidating:!0});const we=Tp(ae,[ne].filter(Boolean)).isValid;R({isValid:we,message:we?"Great ! We deliver in your location":`We currently don't serve pincode ${ae} in ${(ne==null?void 0:ne.name)||"this area"}.`,isValidating:!1}),le(!we&&ae.length===6)}},q=()=>{const ae=Q.getValues(),ee=k?`We currently don't serve pincode ${ae.pincode} in ${k.name}. Help us prioritize expanding to your area!`:`We currently don't serve pincode ${ae.pincode}. Help us prioritize expanding to your area!`;V(ee),M(!0)},Q=en({resolver:tn(HAe),defaultValues:r?{recipientName:r.recipientName,mobile:r.mobile,plotBuilding:r.plotBuilding,streetArea:r.streetArea,locationId:r.locationId?String(r.locationId):void 0,landmark:r.landmark||"",pincode:r.pincode,city:r.city,state:r.state,isDefault:r.isDefault,label:r.label==="Home"||r.label==="Work"||r.label==="Other"?r.label:"Home"}:{recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}});g.useEffect(()=>{r&&(console.log("Initial data:",r),console.log("LocationId from initial data:",r.locationId),console.log("Converted locationId:",r.locationId?String(r.locationId):void 0),Q.reset({recipientName:r.recipientName,mobile:r.mobile,plotBuilding:r.plotBuilding,streetArea:r.streetArea,locationId:r.locationId?String(r.locationId):void 0,landmark:r.landmark||"",pincode:r.pincode,city:r.city,state:r.state,isDefault:r.isDefault,label:r.label==="Home"||r.label==="Work"||r.label==="Other"?r.label:"Home"}))},[r,Q]),g.useEffect(()=>{if(r&&w.length>0&&S.length>0&&!k){console.log("Looking for matching area master for existing address:",{city:r.city,pincode:r.pincode});const ae=S.find(ee=>ee.name.toLowerCase()===r.city.toLowerCase());if(ae){console.log("Found matching city:",ae.name),C(ae.id);const ee=w.find(ne=>{var et;return ne.cityId===ae.id||((et=ne.city)==null?void 0:et.id)===ae.id?Tp(r.pincode,[ne]).isValid:!1});if(ee)console.log("Found matching area master for editing:",ee.name),T(ee),r.pincode&&r.pincode.length===6&&W(r.pincode,ee);else{console.log("No matching area master found for existing address");const ne=w.find(ke=>{var we;return ke.cityId===ae.id||((we=ke.city)==null?void 0:we.id)===ae.id});ne&&(console.log("Using fallback area master from same city:",ne.name),T(ne),r.pincode&&r.pincode.length===6&&W(r.pincode,ne))}}}},[r,w,S,k]);const P=async ae=>{if(ie){he.error('This address cannot be saved with an invalid pincode. Please use "Request Service in Your Area" instead.');return}try{if(k&&ae.pincode&&ae.pincode.length===6&&!O.isValid){he.error(`Cannot save address: Pincode ${ae.pincode} is not served by ${k.name}. Please select a different area or correct the pincode.`);return}if(!k){he.error("Please select a delivery area before saving the address.");return}let ee;const{locationId:ne,...ke}=ae,we={...ke,depotId:o,...ne&&!isNaN(Number(ne))?{locationId:Number(ne)}:{}};f&&t?(ee=await Js(`/delivery-addresses/${t}`,we),he.success("Address updated successfully")):(ee=await Ur("/delivery-addresses",we),he.success("Address created successfully")),n?n(ee):u("/member/addresses")}catch(ee){he.error(ee.message||"An error occurred while saving the address")}};return s.jsxs(s.Fragment,{children:[s.jsxs(At,{className:"w-full mx-auto",children:[s.jsx(Dt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[(i||a)&&s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{i?i():a?a():u(-1)},children:s.jsx(xu,{className:"h-4 w-4"})}),s.jsx(rr,{className:"text-lg sm:text-xl",children:f?"Edit Address":"Add New Delivery Address"})]})}),s.jsx(Tt,{className:"px-4 sm:px-6 max-h-[70vh] overflow-y-auto",children:s.jsx(Ebe,{...Q,children:s.jsxs("form",{onSubmit:ae=>{if(ae.preventDefault(),!k){he.error("Please select a delivery area before saving the address.");return}const ee=Q.getValues("pincode");if(ee&&ee.length===6){if(O.isValidating){he.error("Please wait for pincode validation to complete.");return}if(!O.isValid){he.error(`Cannot save address: Pincode ${ee} is not served by ${k.name}. Please click "Request Service in Your Area" if you need delivery to this location.`);return}}Q.handleSubmit(P)(ae)},className:"space-y-6",children:[s.jsx(Io,{control:Q.control,name:"label",render:({field:ae})=>s.jsxs(li,{className:"mb-4",children:[s.jsx(oo,{children:"Label As"}),s.jsx(ci,{children:s.jsxs(Qm,{onValueChange:ae.onChange,defaultValue:ae.value,className:"flex flex-wrap gap-3 sm:gap-4 pt-2",children:[s.jsxs(li,{className:"flex items-center space-x-2 space-y-0",children:[s.jsx(ci,{children:s.jsx(yo,{value:"Home"})}),s.jsx(oo,{className:"font-normal",children:"Home"})]}),s.jsxs(li,{className:"flex items-center space-x-2 space-y-0",children:[s.jsx(ci,{children:s.jsx(yo,{value:"Work"})}),s.jsx(oo,{className:"font-normal",children:"Work"})]}),s.jsxs(li,{className:"flex items-center space-x-2 space-y-0",children:[s.jsx(ci,{children:s.jsx(yo,{value:"Other"})}),s.jsx(oo,{className:"font-normal",children:"Other"})]})]})}),s.jsx(Vd,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(Io,{control:Q.control,name:"recipientName",render:({field:ae})=>s.jsxs(li,{children:[s.jsx(oo,{children:"Recipient Name*"}),s.jsx(ci,{children:s.jsx(Ge,{placeholder:"Enter recipient name",...ae})}),s.jsx(Vd,{})]})}),s.jsx(Io,{control:Q.control,name:"mobile",render:({field:ae})=>s.jsxs(li,{children:[s.jsx(oo,{children:"Mobile Number*"}),s.jsx(ci,{children:s.jsx(Ge,{max:10,maxLength:10,placeholder:"Enter mobile number",...ae})}),s.jsx(Vd,{})]})})]}),s.jsx(Io,{control:Q.control,name:"plotBuilding",render:({field:ae})=>s.jsxs(li,{children:[s.jsx(oo,{children:"Flat, House, Plot Number*"}),s.jsx(ci,{children:s.jsx(Ge,{placeholder:"Enter flat, house, or plot number",...ae})}),s.jsx(Vd,{})]})}),s.jsx(Io,{control:Q.control,name:"streetArea",render:({field:ae})=>s.jsxs(li,{children:[s.jsx(oo,{children:"Street/Area Name*"}),s.jsx(ci,{children:s.jsx(Ge,{placeholder:"Enter street or area name",...ae})}),s.jsx(Vd,{})]})}),s.jsx(Io,{control:Q.control,name:"landmark",render:({field:ae})=>s.jsxs(li,{children:[s.jsx(oo,{children:"Landmark (Optional)"}),s.jsx(ci,{children:s.jsx(Ge,{placeholder:"Enter landmark",...ae})}),s.jsx(Vd,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Filter by City"}),s.jsxs(Wt,{onValueChange:ae=>{const ee=ae==="all"?null:parseInt(ae);C(ee),T(null)},value:(_==null?void 0:_.toString())||"all",children:[s.jsx(Yt,{children:s.jsx(Gt,{placeholder:"Filter by city"})}),s.jsxs(Kt,{className:"max-h-60 overflow-y-auto",children:[s.jsx(ct,{value:"all",children:"All Cities"}),S.sort((ae,ee)=>ae.name.localeCompare(ee.name)).map(ae=>s.jsx(ct,{value:ae.id.toString(),children:ae.name},ae.id))]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium mb-1.5 block",children:["Delivery Areas* ",s.jsx("span",{className:"text-xs text-gray-500"})]}),s.jsxs(Wt,{onValueChange:ae=>{const ee=N.find(ne=>ne.id===parseInt(ae));ee&&F(ee)},value:((X=k==null?void 0:k.id)==null?void 0:X.toString())||"",children:[s.jsx(Yt,{children:s.jsx(Gt,{placeholder:"Select your delivery area"})}),s.jsx(Kt,{className:"max-h-60 overflow-y-auto",children:N.sort((ae,ee)=>ae.name.localeCompare(ee.name)).map(ae=>s.jsx(ct,{value:ae.id.toString(),children:ae.name},ae.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(Io,{control:Q.control,name:"pincode",render:({field:ae})=>s.jsxs(li,{children:[s.jsx(oo,{children:"Pincode*"}),s.jsx(ci,{children:s.jsx(Ge,{type:"text",placeholder:"Enter pincode",max:6,...ae,onChange:ee=>{ae.onChange(ee);const ne=ee.target.value;ne.length===6&&/^\d{6}$/.test(ne)?W(ne):R({isValid:!1,message:"",isValidating:!1})},onBlur:ee=>{const ne=ee.target.value;ne.length===6&&/^\d{6}$/.test(ne)&&k&&W(ne)}})}),s.jsx(Vd,{})]})}),s.jsx(Io,{control:Q.control,name:"state",render:({field:ae})=>s.jsxs(li,{children:[s.jsx(oo,{children:"State*"}),s.jsxs(Wt,{onValueChange:ae.onChange,value:ae.value,children:[s.jsx(ci,{children:s.jsx(Yt,{children:s.jsx(Gt,{placeholder:"Select a state"})})}),s.jsx(Kt,{className:"max-h-60 overflow-y-auto",children:Gw.map(ee=>s.jsx(ct,{value:ee.label,children:ee.label},ee.value))})]}),s.jsx(Vd,{})]})})]}),k&&s.jsx(_4,{pincode:Q.watch("pincode")||"",isValid:O.isValid,message:O.message,isValidating:O.isValidating,showServiceRequest:!O.isValid&&!O.isValidating&&((K=Q.watch("pincode"))==null?void 0:K.length)===6,onRequestService:q}),s.jsx(Io,{control:Q.control,name:"city",render:({field:ae})=>s.jsx(li,{className:"hidden",children:s.jsx(ci,{children:s.jsx(Ge,{...ae})})})}),s.jsx(Io,{control:Q.control,name:"locationId",render:({field:ae})=>s.jsx(li,{className:"hidden",children:s.jsx(ci,{children:s.jsx(Ge,{...ae})})})}),s.jsx(Io,{control:Q.control,name:"isDefault",render:({field:ae})=>s.jsxs(li,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[s.jsx(ci,{children:s.jsx(Du,{checked:ae.value,onCheckedChange:ae.onChange})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(oo,{children:"Set as Default Address"})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 mt-6",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>{a?a():u("/member/addresses")},disabled:Q.formState.isSubmitting,className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:Q.formState.isSubmitting||!k||O.isValidating||!!k&&((H=Q.watch("pincode"))==null?void 0:H.length)===6&&!O.isValid,className:"w-full sm:w-auto order-1 sm:order-2",title:k?((J=Q.watch("pincode"))==null?void 0:J.length)===6&&!O.isValid?`Pincode ${Q.watch("pincode")} is not Serviceable in this area`:void 0:"Please select a delivery area",children:Q.formState.isSubmitting?f?"Saving...":"Adding...":f?"Save Changes":"Add Address"})]})]})})})]}),s.jsx(T4,{isOpen:L,onOpenChange:M,message:G||"We currently do not serve this area, but we're expanding!",prefilledData:{recipientName:Q.watch("recipientName")||"",mobile:Q.watch("mobile")||"",plotBuilding:Q.watch("plotBuilding")||"",streetArea:Q.watch("streetArea")||"",landmark:Q.watch("landmark")||"",pincode:Q.watch("pincode")||"",city:Q.watch("city")||((ce=k==null?void 0:k.city)==null?void 0:ce.name)||"",state:Q.watch("state")||""},onSuccess:()=>{M(!1),he.success("Thank you for your interest! We've saved your details and will contact you when we expand to your area.")}})]})},WAe=()=>{const e=gr(),t=()=>{e("/member/addresses")};return s.jsxs("div",{className:"container py-8 flex max-sm:flex-col",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Add New Delivery Address"}),s.jsx("p",{className:"text-muted-foreground",children:"Create a new delivery address for your account"})]}),s.jsx(dq,{mode:"create",onSuccess:t})]})},GAe=()=>{const{id:e}=Xn(),t=gr(),{data:r,isLoading:n,isError:a,error:i}=jr({queryKey:["address",e],queryFn:async()=>{if(!e)throw new Error("Address ID is required");return await ut(`/delivery-addresses/${e}`)}}),o=()=>{t("/member/addresses")};if(n)return s.jsxs("div",{className:"container py-8",children:[s.jsx(Ct,{className:"h-8 w-1/4 mb-4"}),s.jsx(Ct,{className:"h-4 w-1/3 mb-8"}),s.jsx("div",{className:"space-y-6 max-w-3xl mx-auto",children:s.jsx(Ct,{className:"h-[400px] w-full rounded-lg"})})]});if(a||!r){const l=(i==null?void 0:i.message)||"Failed to load address";return he.error(l),s.jsxs("div",{className:"container py-8 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Address"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:l}),s.jsx("button",{onClick:()=>t("/addresses"),className:"bg-primary text-white px-4 py-2 rounded-md",children:"Return to Address List"})]})}return s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Delivery Address"}),s.jsx("p",{className:"text-muted-foreground",children:"Update your delivery address details"})]}),s.jsx(dq,{mode:"edit",addressId:e,initialData:r,onSuccess:o})]})},YAe=({isOpen:e,onOpenChange:t,subscriptions:r,agencies:n,isLoadingAgencies:a,onBulkUpdateSubscriptions:i})=>{const[o,l]=g.useState(new Set),[u,f]=g.useState(""),[h,p]=g.useState("unassigned"),[x,y]=g.useState(!1),w=g.useMemo(()=>r.filter(O=>{if(O.paymentStatus!=="PAID")return!1;switch(h){case"unassigned":return!O.agencyId;case"assigned":return!!O.agencyId;default:return!0}}),[r,h]),b=(O,R)=>{const L=new Set(o);R?L.add(O):L.delete(O),l(L)},N=O=>{if(O){const R=new Set(w.map(L=>L.id));l(R)}else l(new Set)},j=async()=>{if(o.size===0){he.error("Please select at least one subscription");return}if(!u){he.error("Please select an agency");return}y(!0);try{const O=u==="NONE"?null:parseInt(u,10);await i(Array.from(o),O),he.success(`Successfully assigned agency to ${o.size} subscription(s)`),l(new Set),f(""),t(!1)}catch(O){console.error("Bulk assignment failed:",O),he.error("Failed to assign agencies. Please try again.")}finally{y(!1)}},S=O=>{var R;return O?((R=O.user)==null?void 0:R.name)||O.name:"Unassigned"},A=r.filter(O=>O.paymentStatus==="PAID").length,_=r.filter(O=>O.paymentStatus==="PAID"&&!O.agencyId).length,C=r.filter(O=>O.paymentStatus==="PAID"&&O.agencyId).length,k=w.length>0&&o.size===w.length,T=o.size>0&&o.size<w.length;return s.jsx(Xr,{open:e,onOpenChange:t,children:s.jsxs(Zr,{className:"max-w-5xl max-sm:max-w-[95vw] max-h-[90vh] max-sm:max-h-[95vh] flex flex-col p-0 sm:p-6",children:[s.jsxs(rs,{className:"px-4 py-3 sm:px-6 sm:py-4",children:[s.jsxs(ss,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[s.jsx(RI,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Bulk Agency Assignment"]}),s.jsx(la,{className:"text-sm",children:"Assign delivery agencies to multiple subscriptions at once"})]}),s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col px-4 sm:px-0",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 p-3 sm:p-4 bg-gray-50 rounded-lg mb-3 sm:mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:A}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Total Paid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-red-600",children:_}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Unassigned"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-green-600",children:C}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Assigned"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:o.size}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Selected"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-3 sm:mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($p,{className:"h-4 w-4 flex-shrink-0"}),s.jsx(je,{className:"text-sm",children:"Filter:"}),s.jsxs(Wt,{value:h,onValueChange:O=>p(O),children:[s.jsx(Yt,{className:"w-32 sm:w-40",children:s.jsx(Gt,{})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"unassigned",children:"Unassigned Only"}),s.jsx(ct,{value:"assigned",children:"Assigned Only"}),s.jsx(ct,{value:"all",children:"All Paid"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{className:"text-sm",children:"Assign to:"}),s.jsxs(Wt,{value:u,onValueChange:f,disabled:a,children:[s.jsx(Yt,{className:"w-40 sm:w-48",children:s.jsx(Gt,{placeholder:a?"Loading...":"Select agency"})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"NONE",children:"Remove Assignment"}),n.map(O=>s.jsx(ct,{value:O.id.toString(),children:S(O)},O.id))]})]})]})]}),s.jsx("div",{className:"flex-1 border rounded-md overflow-hidden",children:s.jsx("div",{className:"max-h-[400px] overflow-y-auto overflow-x-auto",children:s.jsxs(Ls,{className:"min-w-[700px] w-full",children:[s.jsx(Bs,{children:s.jsxs(tr,{children:[s.jsx(Ye,{className:"w-10 sm:w-12 px-2 sm:px-4",children:s.jsx(Du,{checked:k,ref:O=>{O&&(O.indeterminate=T)},onCheckedChange:N})}),s.jsx(Ye,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[100px]",children:"Product"}),s.jsx(Ye,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[120px]",children:"Member"}),s.jsx(Ye,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[150px] md:min-w-[200px]",children:"Location"}),s.jsx(Ye,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[100px]",children:"Agency"}),s.jsx(Ye,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[120px]",children:"Period"})]})}),s.jsxs($s,{children:[w.map(O=>{var R,L,M;return s.jsxs(tr,{children:[s.jsx(Ue,{className:"px-2 sm:px-4",children:s.jsx(Du,{checked:o.has(O.id),onCheckedChange:G=>b(O.id,G)})}),s.jsx(Ue,{className:"px-2 sm:px-4 font-medium text-xs sm:text-sm",children:s.jsx("div",{className:"max-w-[80px] sm:max-w-none truncate",children:O.product.name})}),s.jsx(Ue,{className:"px-2 sm:px-4 text-xs sm:text-sm",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-medium truncate max-w-[100px] sm:max-w-none",children:((L=(R=O.member)==null?void 0:R.user)==null?void 0:L.name)||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500 md:hidden",children:((M=O.deliveryAddress)==null?void 0:M.recipientName)&&s.jsx("div",{className:"truncate",children:O.deliveryAddress.recipientName})})]})}),s.jsx(Ue,{className:"px-2 sm:px-4",children:s.jsx("div",{className:"text-xs",children:O.deliveryAddress?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium truncate",children:O.deliveryAddress.recipientName||"No Recipient"}),s.jsx("div",{className:"text-gray-500 truncate sm:hidden",children:O.deliveryAddress.mobile}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("div",{className:"text-gray-500",children:O.deliveryAddress.mobile}),s.jsxs("div",{className:"text-xs text-gray-400 mt-1 truncate",children:[O.deliveryAddress.plotBuilding,", ",O.deliveryAddress.streetArea,O.deliveryAddress.landmark&&`, ${O.deliveryAddress.landmark}`]}),s.jsxs("div",{className:"text-xs text-gray-400 truncate",children:[O.deliveryAddress.city,", ",O.deliveryAddress.state," - ",O.deliveryAddress.pincode]})]}),O.deliveryAddress.location&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1 truncate",children:[" ",O.deliveryAddress.location.name]})]}):s.jsx("div",{className:"text-gray-400 italic",children:"No Address"})})}),s.jsx(Ue,{className:"px-2 sm:px-4",children:O.agency?s.jsx(Fr,{variant:"secondary",className:"text-xs",children:s.jsx("span",{className:"truncate max-w-[60px] sm:max-w-none",children:S(O.agency)})}):s.jsx(Fr,{variant:"outline",className:"text-xs",children:"Unassigned"})}),s.jsxs(Ue,{className:"px-2 sm:px-4 text-xs sm:text-sm",children:[s.jsx("div",{children:new Date(O.startDate).toLocaleDateString()}),s.jsxs("div",{className:"text-gray-500",children:["to ",new Date(O.expiryDate).toLocaleDateString()]})]})]},O.id)}),w.length===0&&s.jsx(tr,{children:s.jsx(Ue,{colSpan:6,className:"text-center py-8 text-gray-500 text-sm",children:"No subscriptions match the current filter"})})]})]})})})]}),s.jsxs(Xa,{className:"flex flex-col sm:flex-row sm:justify-between gap-3 px-4 py-3 sm:px-6 sm:py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-600 order-2 sm:order-1",children:[s.jsx(Ka,{className:"h-3 w-3 sm:h-4 sm:w-4"}),o.size," subscription(s) selected"]}),s.jsxs("div",{className:"flex gap-2 order-1 sm:order-2",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1 sm:flex-none",children:"Cancel"}),s.jsx(pe,{type:"button",onClick:j,disabled:x||o.size===0||!u,className:"flex-1 sm:flex-none text-xs sm:text-sm",children:x?"Assigning...":`Assign (${o.size})`})]})]})]})})},KAe=[{value:"ONLINE",label:"Online"},{value:"CASH",label:"Cash"},{value:"UPI",label:"UPI"},{value:"BANK",label:"Bank Transfer"}],QAe=({isOpen:e,onOpenChange:t,order:r,onUpdateOrder:n})=>{const[a,i]=g.useState(""),[o,l]=g.useState(""),[u,f]=g.useState(""),[h,p]=g.useState(""),[x,y]=g.useState({}),[w,b]=g.useState(""),[N,j]=g.useState(""),S=(r==null?void 0:r.paymentStatus)==="PAID";g.useEffect(()=>{var C,k;r?(console.log("Payment Modal Data:",{orderId:r.id,totalAmount:r.totalAmount,walletamt:r.walletamt,payableamt:r.payableamt,currentStatus:r.paymentStatus}),i(r.paymentMode||""),l(r.paymentReferenceNo||""),f(r.paymentDate?Lt(new Date(r.paymentDate),"yyyy-MM-dd"):""),p(r.paymentStatus||""),j(((C=r.payableamt)==null?void 0:C.toString())||"0"),b(((k=r.payableamt)==null?void 0:k.toString())||"0")):(i(""),l(""),f(""),p(""),j(""),b(""))},[r]);const A=()=>{const C={};return h||(C.paymentStatus="Payment status is required"),y(C),Object.keys(C).length===0},_=async()=>{if(!r||S||!A())return;const C=parseFloat(w);if(isNaN(C)||C<=0){he.error("Please enter a valid received amount.");return}const k=r.payableamt??0,T=r.totalAmount??0;if(console.log("payable",k,"total",T),h==="PAID"&&!(C===k||k===0&&C===T)){const L=k===0&&T>0?T:k;he.error(`Received amount (${C.toFixed(2)}) must equal the payable amount (${L.toFixed(2)}) to mark as PAID.`);return}if(h!=="PAID"&&h!=="FAILED"){he.error("Payment Status is Required");return}const O={orderId:r.id,paymentMode:a,paymentReference:o,paymentDate:u,paymentStatus:h,receivedAmount:C};try{await n(O)&&t(!1)}catch(R){console.error("Failed to update payment:",R)}};return!e||!r?null:s.jsx(Xr,{open:e,onOpenChange:t,children:s.jsxs(Zr,{className:"sm:max-w-lg",children:[s.jsxs(rs,{children:[s.jsxs(ss,{children:["Update Payment for Order: ",r.orderNo]}),s.jsx(la,{children:"Modify payment details for the entire order."})]}),s.jsx(Oc,{className:"absolute right-4 top-4 z-10",onClick:()=>t(!1),children:s.jsx(No,{className:"h-4 w-4"})}),s.jsx("div",{className:"grid gap-6 py-4",children:s.jsxs("fieldset",{disabled:S,className:"grid gap-4 border p-4 rounded-md",children:[s.jsxs("legend",{className:"text-sm font-medium px-1",children:["Payment Information ",S?`(Status: ${r.paymentStatus} - Disabled)`:""]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(je,{htmlFor:"paymentMode",className:"text-right col-span-1",children:["Payment Mode ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Wt,{value:a,onValueChange:C=>i(C),disabled:S,children:[s.jsx(Yt,{id:"paymentMode",className:"col-span-3 mt-1",children:s.jsx(Gt,{placeholder:"Select payment mode"})}),s.jsx(Kt,{children:KAe.map(C=>s.jsx(ct,{value:C.value,children:C.label},C.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(je,{htmlFor:"payment-reference",className:"text-right col-span-1",children:"Reference #"}),s.jsx(Ge,{id:"payment-reference",value:o,onChange:C=>l(C.target.value),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(je,{htmlFor:"payment-date",className:"text-right col-span-1",children:"Payment Date"}),s.jsx(Ge,{type:"date",id:"payment-date",value:u,onChange:C=>f(C.target.value),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(je,{htmlFor:"payable-amount",className:"text-right col-span-1",children:"Payable Amount"}),s.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[s.jsx(Zx,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{id:"payable-amount",className:"font-semibold",children:N})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(je,{htmlFor:"received-amount",className:"text-right col-span-1",children:["Received Amount ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ge,{id:"received-amount",type:"number",value:w,onChange:C=>b(C.target.value),className:"col-span-3",placeholder:"Enter amount received"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(je,{className:"text-right col-span-1",htmlFor:"payment-status-modal",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[s.jsxs(Wt,{value:h,onValueChange:C=>{if(p(C),C){const k={...x};delete k.paymentStatus,y(k)}},children:[s.jsx(Yt,{id:"payment-status-modal",className:x.paymentStatus?"border-red-500":"",children:s.jsx(Gt,{placeholder:"Select status"})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"PAID",children:"Paid"}),s.jsx(ct,{value:"FAILED",children:"Failed"})]})]}),x.paymentStatus&&s.jsx("p",{className:"text-xs text-red-500",children:x.paymentStatus})]})]})]})}),s.jsxs(Xa,{children:[s.jsx(pe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(pe,{onClick:_,disabled:S,children:"Save Changes"})]})]})})},XAe=({isOpen:e,onOpenChange:t,subscription:r,agencies:n,isLoadingAgencies:a,onUpdateSubscription:i})=>{var p,x,y,w,b,N,j,S;const[o,l]=g.useState("NONE");g.useEffect(()=>{var A;l(r&&((A=r.agencyId)==null?void 0:A.toString())||"NONE")},[r]);const u=async()=>{if(!r)return;const A={subscriptionId:r.id,agencyId:o!=="NONE"?parseInt(o,10):null};try{await i(A),t(!1)}catch(_){console.error("Failed to update subscription in modal:",_)}};if(!e||!r)return null;const f=(A,_)=>{switch(A){case"DAILY":return"Daily";case"WEEKDAYS":return"Weekdays (Mon-Fri)";case"ALTERNATE_DAYS":return"Alternate Days";case"SELECT_DAYS":try{return _?`Selected Days: ${JSON.parse(_).join(", ")}`:"Selected Days"}catch{return"Selected Days"}case"VARYING":return"Varying Schedule";default:return A}},h=A=>A?new Date(A).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"Not set";return s.jsx(Xr,{open:e,onOpenChange:t,children:s.jsxs(Zr,{className:"sm:max-w-xl max-h-[85vh] flex flex-col",children:[s.jsxs(rs,{children:[s.jsxs(ss,{children:["Assign Agent for: ",r.product.name]}),s.jsxs(la,{children:["Subscription for ",((x=(p=r.member)==null?void 0:p.user)==null?void 0:x.name)||"Unknown Member"]})]}),s.jsx(Oc,{className:"absolute right-4 top-4 z-10",onClick:()=>t(!1),children:s.jsx(No,{className:"h-4 w-4"})}),s.jsxs("div",{className:"grid gap-6 py-4 px-1 overflow-y-auto flex-grow",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Subscription Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Product"}),s.jsx("p",{className:"font-medium",children:r.product.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Quantity"}),s.jsx("p",{className:"font-medium",children:r.deliverySchedule==="ALTERNATE_DAYS"?`${r.qty} / ${r.altQty??"-"}`:r.qty})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Delivery Schedule"}),s.jsx("p",{className:"font-medium",children:f(r.deliverySchedule,r.weekdays)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Start Date"}),s.jsx("p",{className:"font-medium",children:h(r.startDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Expiry Date"}),s.jsx("p",{className:"font-medium",children:h(r.expiryDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Payment Status"}),s.jsx("p",{className:"font-medium",children:s.jsx("span",{className:`inline-block px-2 py-0.5 rounded ${r.paymentStatus==="PAID"?"bg-green-100 text-green-800":r.paymentStatus==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.paymentStatus})})]})]})]}),r.deliveryAddress&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Delivery Address"}),s.jsxs("div",{className:"grid gap-1 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:r.deliveryAddress.recipientName}),r.deliveryAddress.label&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded",children:r.deliveryAddress.label})]}),s.jsxs("p",{children:[r.deliveryAddress.plotBuilding,", ",r.deliveryAddress.streetArea]}),r.deliveryAddress.landmark&&s.jsx("p",{children:r.deliveryAddress.landmark}),s.jsxs("p",{children:[r.deliveryAddress.city,", ",r.deliveryAddress.state," - ",r.deliveryAddress.pincode]}),s.jsxs("p",{className:"text-blue-600",children:["Mobile: ",r.deliveryAddress.mobile]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Member Details"}),s.jsxs("div",{className:"grid gap-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Name:"})," ",((w=(y=r.member)==null?void 0:y.user)==null?void 0:w.name)||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Email:"})," ",((N=(b=r.member)==null?void 0:b.user)==null?void 0:N.email)||"N/A"]}),((S=(j=r.member)==null?void 0:j.user)==null?void 0:S.mobile)&&s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Mobile:"})," ",r.member.user.mobile]})]})]}),s.jsxs("fieldset",{className:"grid gap-4 border p-4 rounded-md",children:[s.jsx("legend",{className:"text-sm font-medium px-1",children:"Delivery Agent"}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(je,{htmlFor:"delivery-agent",className:"text-right col-span-1",children:"Agent"}),s.jsxs(Wt,{value:o,onValueChange:l,disabled:a,children:[s.jsx(Yt,{id:"delivery-agent",className:"col-span-3",children:s.jsx(Gt,{placeholder:a?"Loading agents...":"Select agent"})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"NONE",children:"Unassign / Not Assigned"}),n.map(A=>{var _;return s.jsx(ct,{value:A.id.toString(),children:((_=A.user)==null?void 0:_.name)||A.name},A.id)}),n.length===0&&!a&&s.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"No agents available."})]})]})]})]})]}),s.jsxs(Xa,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(pe,{type:"button",onClick:u,disabled:a,children:a?"Loading...":"Assign Agent"})]})]})})},ZAe=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(1),[a,i]=g.useState(10),[o,l]=g.useState(0),[u,f]=g.useState(!0),[h,p]=g.useState(null),[x,y]=g.useState(null),[w,b]=g.useState(!1),[N,j]=g.useState(!1),[S,A]=g.useState(!1),[_,C]=g.useState([]),[k,T]=g.useState(!1),[O]=g.useState(!1),[R,L]=g.useState(!1),[M,G]=g.useState({searchTerm:"",memberName:"",subscriptionDate:"",paymentStatus:"ALL",deliveryStatus:"",agencyId:"",productId:""}),V=g.useCallback(async(J=r,ce=10,ae=M)=>{var Ee,Te;f(!0);const ee=J!==void 0?J:r!==void 0?r:1,ne=ce!==void 0?ce:a!==void 0?a:10,ke=ae||M||{},we={};for(const[Fe,ue]of Object.entries(ke)){if(ue==null)continue;const Ce=String(ue).trim();Ce===""||Ce.toLowerCase()==="all"||(Fe==="memberName"?we.searchTerm=Ce:Fe==="subscriptionDate"?we.startDate=Ce:we[Fe]=Ce)}const et=new URLSearchParams({page:ee.toString(),limit:ne.toString(),...we}).toString();try{const Fe=await ut(`/product-orders?${et}`);t(Fe.data||[]),l(Fe.totalPages),n(Fe.currentPage)}catch(Fe){console.error("Failed to fetch subscriptions:",Fe);const ue=((Te=(Ee=Fe.response)==null?void 0:Ee.data)==null?void 0:Te.message)||Fe.message||"Failed to fetch subscriptions.";he.error(ue),t([])}finally{f(!1)}},[r,a,M]),ie=g.useCallback(async()=>{var J,ce;T(!0);try{const ae=await ut("/agencies");C(ae.data||[])}catch(ae){console.error("Failed to fetch agencies:",ae);const ee=((ce=(J=ae.response)==null?void 0:J.data)==null?void 0:ce.message)||ae.message||"Failed to load delivery agents.";he.error(ee),C([])}finally{T(!1)}},[]);g.useEffect(()=>{V(r,a,M)},[V,r,a,M]),g.useEffect(()=>{ie()},[ie]);const le=J=>{n(J),V(J,a,M)},B=J=>{i(J),n(1),V(1,J,M)},U=async J=>{var ee,ne;if(!h)return he.error("No order selected for update."),!1;const{orderId:ce,...ae}=J;try{return await Js(`/product-orders/${h.id}/payment`,ae),he.success("Payment updated successfully!"),V(),!0}catch(ke){const we=((ne=(ee=ke.response)==null?void 0:ee.data)==null?void 0:ne.message)||"Failed to update payment.";return he.error(we),console.error("Error updating payment:",ke),!1}},F=async J=>{if(!x)return;const{subscriptionId:ce,agencyId:ae}=J,ee={agencyId:ae===void 0?null:Number(ae)};try{await Js(`/subscriptions/${ce}/assign-agent`,ee),he.success("Agent assigned successfully!"),V()}catch(ne){he.error("Failed to assign agent."),console.error("Error assigning agent:",ne)}},W=J=>{J&&(p(J),b(!0))},q=J=>{J&&(y(J),j(!0),ie())},Q=()=>{A(!0),ie()},P=async(J,ce)=>{try{await Ur("/subscriptions/bulk-assign-agency",{subscriptionIds:J,agencyId:ce}),he.success(`Successfully assigned agency to ${J.length} subscription(s)`),V()}catch(ae){throw console.error("Bulk agency assignment failed:",ae),he.error("Failed to assign agencies. Please try again."),ae}},X=J=>({MONDAY:"Mon",TUESDAY:"Tue",WEDNESDAY:"Wed",THURSDAY:"Thu",FRIDAY:"Fri",SATURDAY:"Sat",SUNDAY:"Sun"})[J.toUpperCase()]||J,K=(J,ce)=>{const ae=J.replace(/_/g," ").replace(/\b\w/g,ke=>ke.toUpperCase());let ee=[],ne=!1;if((J==="WEEKDAYS"||J==="SELECT_DAYS"||J==="VARYING")&&(ne=!0,ce))try{const ke=JSON.parse(ce);Array.isArray(ke)&&ke.length>0&&(ee=ke.map(we=>we.toString().toUpperCase()))}catch(ke){console.error("Error parsing weekdays JSON:",ce,ke)}return{scheduleType:ae,weekdaysArray:ee,isSpecificDays:ne}},H=(J=12)=>{const ce=[];for(let ae=0;ae<a;ae++){const ee=[];for(let ne=0;ne<J;ne++){const ke=ne===J-1?"w-[80px]":"w-full";ee.push(s.jsx(Ue,{children:s.jsx(Ct,{className:`h-4 ${ke}`})},`skeleton-cell-${ae}-${ne}`))}ce.push(s.jsx(tr,{children:ee},`skeleton-row-${ae}`))}return ce};return s.jsxs("div",{className:"container mx-auto p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 max-sm:flex-col",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin - Subscriptions Management"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{variant:R?"default":"outline",onClick:()=>L(!R),className:"flex items-center gap-2",children:[s.jsx(cO,{className:"h-4 w-4"}),R?"Show All":"Unassigned Only"]}),s.jsxs(pe,{onClick:Q,className:"flex items-center gap-2",children:[s.jsx(RI,{className:"h-4 w-4"}),"Bulk Assign Agencies"]})]})]}),!1,s.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm",children:"Items per page:"}),s.jsxs(Wt,{value:a.toString(),onValueChange:J=>B(Number(J)),children:[s.jsx(Yt,{className:"w-20",children:s.jsx(Gt,{placeholder:a.toString()})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"10",children:"10"}),s.jsx(ct,{value:"20",children:"20"}),s.jsx(ct,{value:"50",children:"50"}),s.jsx(ct,{value:"100",children:"100"})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden",children:s.jsxs(Ls,{className:"min-w-full",children:[s.jsx(Bs,{className:"bg-gray-50",children:s.jsxs(tr,{className:"border-b border-gray-200",children:[s.jsx(Ye,{className:"px-4 py-3 font-medium text-gray-700",children:"Member"}),s.jsx(Ye,{className:"px-4 py-3 font-medium text-gray-700",children:"Subscription Details"}),s.jsx(Ye,{className:"px-4 py-3 font-medium text-gray-700",children:"Delivery"}),s.jsx(Ye,{className:"px-4 py-3 font-medium text-gray-700",children:"Payment"}),s.jsx(Ye,{className:"px-4 py-3 font-medium text-gray-700",children:"Dates"}),s.jsx(Ye,{className:"px-4 py-3 font-medium text-gray-700",children:"Agent"}),s.jsx(Ye,{className:"px-4 py-3 font-medium text-gray-700 text-right",children:"Actions"})]})}),s.jsx($s,{children:u?H(7):e.length>0?e.filter(J=>R?(console.log("order",J),J.subscriptions.some(ce=>!ce.agencyId)):!0).map(J=>{var ae,ee,ne,ke,we,et,Ee,Te,Fe;const ce=J.subscriptions[0];return s.jsxs(tr,{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[s.jsx(Ue,{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-gray-100 border-2 border-dashed rounded-xl w-10 h-10 flex items-center justify-center",children:s.jsx(ew,{className:"h-5 w-5 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:((ee=(ae=J.member)==null?void 0:ae.user)==null?void 0:ee.name)||"N/A"}),s.jsxs("div",{className:"flex flex-col gap-1 mt-1 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(DI,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:((ke=(ne=J==null?void 0:J.member)==null?void 0:ne.user)==null?void 0:ke.mobile)||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(AC,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"truncate max-w-[120px]",children:((et=(we=J.member)==null?void 0:we.user)==null?void 0:et.email)||"N/A"})]})]})]})]})}),s.jsx(Ue,{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"flex flex-wrap gap-1.5",children:J.subscriptions.map(ue=>{var Ce,De;return s.jsxs("div",{className:"bg-blue-50 text-blue-700 px-2.5 py-1 rounded-full flex items-center gap-1.5 text-xs",children:[s.jsx(qi,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"font-medium",children:(Ce=ue.product)==null?void 0:Ce.name}),s.jsx("span",{children:ue.deliverySchedule==="ALTERNATE_DAYS"?`${ue.qty}/${ue.altQty??"-"}`:`${ue.qty}`}),s.jsx("span",{className:"text-blue-600",children:((De=ue.depotProductVariant)==null?void 0:De.name)||""})]},ue.id)})}),s.jsxs("div",{className:"flex items-center gap-3 text-sm mt-1",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-1 rounded",children:[s.jsx(yp,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{children:[J.subscriptions.length," item",J.subscriptions.length>1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx(Zx,{className:"h-4 w-4"}),s.jsx("span",{children:(J.payableamt||0).toFixed(2)})]})]})]})}),s.jsx(Ue,{className:"px-4 py-3",children:s.jsx("div",{className:"flex flex-col gap-1.5",children:J.subscriptions.map(ue=>{var xe,Ae,Ie,ft,ht;const{weekdaysArray:Ce,isSpecificDays:De}=K(ue.deliverySchedule,ue.weekdays),Et=ue.deliverySchedule==="DAILY"?"Daily":ue.deliverySchedule==="WEEKDAYS"?"Weekdays Only":ue.deliverySchedule==="WEEKENDS"?"Weekends":ue.deliverySchedule==="ALTERNATE_DAYS"?"Alternate_days":ue.deliverySchedule==="DAY1_DAY2"?"Daily (Varying Qty)":"Custom",_t={1:"Buy Once",3:"Trial Pack",7:"Mid Saver Pack",15:"Mid Saver Pack",30:"Super Saver Pack"};return s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-700 mb-1",children:`${Et} - ${_t[ue.period]}`}),ue.deliverySchedule==="ALTERNATE_DAYS"&&(ue.qty||ue.altQty)?s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-secondary rounded-full"}),s.jsxs("span",{className:"text-blue-700 font-medium",children:[ue.qty," - ",((xe=ue.depotProductVariant)==null?void 0:xe.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),s.jsxs("span",{className:"text-green-700 font-medium",children:[ue.altQty," - ",((Ae=ue.depotProductVariant)==null?void 0:Ae.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400 text-xs italic ml-1",children:"skip day pattern"})]}):ue.deliverySchedule==="DAY1_DAY2"&&(ue.qty||ue.altQty)?s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-secondary rounded-full"}),s.jsxs("span",{className:"text-blue-700 font-medium",children:[ue.qty," - ",((Ie=ue.depotProductVariant)==null?void 0:Ie.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),s.jsxs("span",{className:"text-green-700 font-medium",children:[ue.altQty," - ",((ft=ue.depotProductVariant)==null?void 0:ft.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400 text-xs italic ml-1",children:"daily rotation"})]}):ue.qty&&s.jsxs("div",{className:"text-xs text-gray-600",children:[ue.qty," - ",((ht=ue.depotProductVariant)==null?void 0:ht.name)||"units",ue.deliverySchedule==="DAILY"?" daily":ue.deliverySchedule==="WEEKDAYS"?" on weekdays":ue.deliverySchedule==="WEEKENDS"?" on weekends":" per delivery"]}),De&&Ce.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Ce.map((tt,xt)=>s.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded bg-blue-100 text-blue-700",children:X(tt)},xt))})]},ue.id)})})}),s.jsx(Ue,{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${J.paymentStatus==="PAID"?"bg-green-100 text-green-800":J.paymentStatus==="PENDING"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:J.paymentStatus}),console.log("order",J==null?void 0:J.subscriptions[0].deliveryAddressId),s.jsx("p",{children:(J==null?void 0:J.subscriptions[0].deliveryAddressId)!==null?"Home Delivery":"Store Pickup"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:J.paymentStatus==="PAID"?"Payment completed":J.paymentStatus==="PENDING"?"Processing payment":"Payment required"})]})}),s.jsx(Ue,{className:"px-4 py-3",children:ce?s.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Start"}),s.jsx("span",{children:Lt(new Date(ce.startDate),"dd MMM yyyy")})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(RK,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"End Date"}),s.jsx("span",{children:ce.expiryDate?Lt(new Date(ce.expiryDate),"dd MMM yyyy"):"N/A"})]})]})]}):s.jsx("span",{className:"text-sm text-gray-500",children:"No subscription"})}),s.jsx(Ue,{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-1.5",children:s.jsx(SX,{className:"h-4 w-4 text-gray-500"})}),s.jsx("span",{className:"text-sm",children:((Te=(Ee=ce==null?void 0:ce.agency)==null?void 0:Ee.user)==null?void 0:Te.name)||((Fe=ce==null?void 0:ce.agency)==null?void 0:Fe.name)||s.jsx("span",{className:"text-gray-400",children:"Unassigned"})})]})}),s.jsx(Ue,{className:"px-4 py-3 text-right",children:s.jsx("div",{className:"flex justify-end gap-1.5",children:s.jsxs(kw,{children:[s.jsxs(cb,{children:[s.jsx(db,{asChild:!0,children:s.jsx(pe,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full bg-white hover:bg-gray-50",onClick:()=>W(J),disabled:J.paymentStatus==="PAID",children:s.jsx(qi,{className:"h-4 w-4"})})}),s.jsx(ub,{side:"top",children:s.jsx("p",{children:"Update Payment"})})]}),s.jsxs(cb,{children:[s.jsx(db,{asChild:!0,children:s.jsx(pe,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full bg-white hover:bg-gray-50",onClick:()=>q(ce),disabled:(ce==null?void 0:ce.paymentStatus)!=="PAID"||!!(ce!=null&&ce.agencyId),children:s.jsx(cO,{className:"h-4 w-4"})})}),s.jsx(ub,{side:"top",children:s.jsx("p",{children:ce!=null&&ce.agencyId?"Agent assigned":(ce==null?void 0:ce.paymentStatus)!=="PAID"?"Complete payment first":"Assign Agent"})})]})]})})})]},J.id)}):s.jsx(tr,{children:s.jsx(Ue,{colSpan:7,className:"px-4 py-12 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(qi,{className:"h-10 w-10 text-gray-300"}),s.jsx("div",{className:"text-gray-600",children:"No subscriptions found"}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Start by creating a new subscription"})]})})})})]})}),o>1&&s.jsxs("div",{className:"mt-6 flex justify-center items-center space-x-2",children:[s.jsx(pe,{onClick:()=>le(r-1),disabled:r===1,variant:"outline",children:"Previous"}),s.jsxs("span",{className:"text-sm",children:["Page ",r," of ",o]}),s.jsx(pe,{onClick:()=>le(r+1),disabled:r===o,variant:"outline",children:"Next"})]}),h&&s.jsx(QAe,{isOpen:w,onOpenChange:b,order:h,onUpdateOrder:U}),x&&s.jsx(XAe,{isOpen:N,onOpenChange:j,subscription:x,agencies:_,isLoadingAgencies:k,onUpdateSubscription:F}),s.jsx(YAe,{isOpen:S,onOpenChange:A,subscriptions:e.flatMap(J=>J.subscriptions),agencies:_,isLoadingAgencies:k,onBulkUpdateSubscriptions:P})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ob={};Ob.version="0.18.5";var uq=1252,JAe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],fq=function(e){JAe.indexOf(e)!=-1&&(uq=e)};function eCe(){fq(1252)}var Ig=function(e){fq(e)};function tCe(){Ig(1200),eCe()}var p1=function(t){return String.fromCharCode(t)},GM=function(t){return String.fromCharCode(t)},YM,mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Fg(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),i=r>>2,n=e.charCodeAt(f++),o=(r&3)<<4|n>>4,a=e.charCodeAt(f++),l=(n&15)<<2|a>>6,u=a&63,isNaN(n)?l=u=64:isNaN(a)&&(u=64),t+=mu.charAt(i)+mu.charAt(o)+mu.charAt(l)+mu.charAt(u);return t}function Xc(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)i=mu.indexOf(e.charAt(f++)),o=mu.indexOf(e.charAt(f++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=mu.indexOf(e.charAt(f++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),u=mu.indexOf(e.charAt(f++)),a=(l&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var ts=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),od=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ih(e){return ts?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function KM(e){return ts?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ko=function(t){return ts?od(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function aN(e){if(typeof ArrayBuffer>"u")return Ko(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Dy(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function rCe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var na=ts?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:od(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function sCe(e){for(var t=[],r=0,n=e.length+250,a=ih(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=ih(65535),n=65530)}return t.push(a.slice(0,r)),na(t)}var $x=/\u0000/g,x1=/[\u0001-\u0006]/g;function ep(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Xo(e,t){var r=""+e;return r.length>=t?r:cn("0",t-r.length)+r}function Y4(e,t){var r=""+e;return r.length>=t?r:cn(" ",t-r.length)+r}function Rb(e,t){var r=""+e;return r.length>=t?r:r+cn(" ",t-r.length)}function nCe(e,t){var r=""+Math.round(e);return r.length>=t?r:cn("0",t-r.length)+r}function aCe(e,t){var r=""+e;return r.length>=t?r:cn("0",t-r.length)+r}var QM=Math.pow(2,32);function vm(e,t){if(e>QM||e<-QM)return nCe(e,t);var r=Math.round(e);return aCe(r,t)}function Pb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var XM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],KS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function iCe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var dn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ZM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},oCe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Mb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,u=1,f=0,h=0,p=Math.floor(a);f<t&&(p=Math.floor(a),l=p*o+i,h=p*f+u,!(a-p<5e-8));)a=1/(a-p),i=o,o=l,u=f,f=h;if(h>t&&(f>t?(h=u,l=i):(h=f,l=o)),!r)return[0,n*l,h];var x=Math.floor(n*l/h);return[x,n*l-x*h,h]}function g1(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),n<60&&(i=(i+6)%7),r&&(i=mCe(u,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var hq=new Date(1899,11,31,0,0,0),lCe=hq.getTime(),cCe=new Date(1900,2,1,0,0,0);function mq(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=cCe&&(r+=24*60*60*1e3),(r-(lCe+(e.getTimezoneOffset()-hq.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function K4(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function dCe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function uCe(e){var t=e<0?12:11,r=K4(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function fCe(e){var t=K4(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function hCe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=uCe(e):t===10?r=e.toFixed(10).substr(0,12):r=fCe(e),K4(dCe(r.toUpperCase()))}function iC(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):hCe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Mu(14,mq(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function mCe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function pCe(e,t,r,n){var a="",i=0,o=0,l=r.y,u,f=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:u=l%100,f=2;break;default:u=l%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return KS[r.m-1][1];case 5:return KS[r.m-1][0];default:return KS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return XM[r.q][0];default:return XM[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Xo(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=Xo(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=l,f=1;break}var h=f>0?Xo(u,f):"";return h}function pu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var pq=/%/g;function xCe(e,t,r){var n=t.replace(pq,""),a=t.length-n.length;return Mc(e,n,r*Math.pow(10,2*a))+cn("%",a)}function gCe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Mc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function xq(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+xq(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var gq=/# (\?+)( ?)\/( ?)(\d+)/;function yCe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?cn(" ",e[1].length+1+e[4].length):Y4(o,e[1].length)+e[2]+"/"+e[3]+Xo(l,e[4].length))}function vCe(e,t,r){return r+(t===0?"":""+t)+cn(" ",e[1].length+2+e[4].length)}var yq=/^#*0*\.([0#]+)/,vq=/\).*[0#]/,bq=/\(###\) ###\\?-####/;function qa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function JM(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function e6(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function bCe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function wCe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function lo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(vq)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?lo("n",n,r):"("+lo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return gCe(e,t,r);if(t.indexOf("%")!==-1)return xCe(e,t,r);if(t.indexOf("E")!==-1)return xq(t,r);if(t.charCodeAt(0)===36)return"$"+lo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+vm(u,t.length);if(t.match(/^[#?]+$/))return a=vm(r,0),a==="0"&&(a=""),a.length>t.length?a:qa(t.substr(0,t.length-a.length))+a;if(i=t.match(gq))return yCe(i,u,f);if(t.match(/^#+0+$/))return f+vm(u,t.length-t.indexOf("0"));if(i=t.match(yq))return a=JM(r,i[1].length).replace(/^([^\.]+)$/,"$1."+qa(i[1])).replace(/\.$/,"."+qa(i[1])).replace(/\.(\d*)$/,function(w,b){return"."+b+cn("0",qa(i[1]).length-b.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+JM(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+pu(vm(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+lo(e,t,-r):pu(""+(Math.floor(r)+bCe(r,i[1].length)))+"."+Xo(e6(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return lo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ep(lo(e,t.replace(/[\\-]/g,""),r)),o=0,ep(ep(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<a.length?a.charAt(o++):w==="0"?"0":""}));if(t.match(bq))return a=lo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Mb(u,Math.pow(10,o)-1,!1),a=""+f,h=Mc("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Rb(l[2],o),h.length<i[4].length&&(h=qa(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Mb(u,Math.pow(10,o)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Y4(l[1],o)+i[2]+"/"+i[3]+Rb(l[2],o):cn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=vm(r,0),t.length<=a.length?a:qa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var p=t.indexOf(".")-o,x=t.length-a.length-p;return qa(t.substr(0,p)+a+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=e6(r,i[1].length),r<0?"-"+lo(e,t,-r):pu(wCe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Xo(0,3-w.length):"")+w})+"."+Xo(o,i[1].length);switch(t){case"###,##0.00":return lo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var y=pu(vm(u,0));return y!=="0"?f+y:"";case"###,###.00":return lo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return lo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function NCe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Mc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function jCe(e,t,r){var n=t.replace(pq,""),a=t.length-n.length;return Mc(e,n,r*Math.pow(10,2*a))+cn("%",a)}function wq(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+wq(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Tl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(vq)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Tl("n",n,r):"("+Tl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return NCe(e,t,r);if(t.indexOf("%")!==-1)return jCe(e,t,r);if(t.indexOf("E")!==-1)return wq(t,r);if(t.charCodeAt(0)===36)return"$"+Tl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Xo(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:qa(t.substr(0,t.length-a.length))+a;if(i=t.match(gq))return vCe(i,u,f);if(t.match(/^#+0+$/))return f+Xo(u,t.length-t.indexOf("0"));if(i=t.match(yq))return a=(""+r).replace(/^([^\.]+)$/,"$1."+qa(i[1])).replace(/\.$/,"."+qa(i[1])),a=a.replace(/\.(\d*)$/,function(w,b){return"."+b+cn("0",qa(i[1]).length-b.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+pu(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Tl(e,t,-r):pu(""+r)+"."+cn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Tl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ep(Tl(e,t.replace(/[\\-]/g,""),r)),o=0,ep(ep(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<a.length?a.charAt(o++):w==="0"?"0":""}));if(t.match(bq))return a=Tl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Mb(u,Math.pow(10,o)-1,!1),a=""+f,h=Mc("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Rb(l[2],o),h.length<i[4].length&&(h=qa(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Mb(u,Math.pow(10,o)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Y4(l[1],o)+i[2]+"/"+i[3]+Rb(l[2],o):cn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:qa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var p=t.indexOf(".")-o,x=t.length-a.length-p;return qa(t.substr(0,p)+a+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Tl(e,t,-r):pu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Xo(0,3-w.length):"")+w})+"."+Xo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var y=pu(""+u);return y!=="0"?f+y:"";default:if(t.match(/\.[0#?]*$/))return Tl(e,t.slice(0,t.lastIndexOf(".")),r)+qa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Mc(e,t,r){return(r|0)===r?Tl(e,t,r):lo(e,t,r)}function SCe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Nq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function jq(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Pb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Nq))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function ECe(e,t,r,n){for(var a=[],i="",o=0,l="",u="t",f,h,p,x="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Pb(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(p=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(p);a[a.length]={t:"t",v:i},++o;break;case"\\":var y=e.charAt(++o),w=y==="("||y===")"?y:"t";a[a.length]={t:w,v:y},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(f==null&&(f=g1(t,r,e.charAt(o+1)==="2"),f==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},u=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=g1(t,r),f==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=x),a[a.length]={t:l,v:i},u=l;break;case"A":case"a":case"":var b={t:l,v:l};if(f==null&&(f=g1(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(f!=null&&(b.v=f.H>=12?"P":"A"),b.t="T",x="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(f!=null&&(b.v=f.H>=12?"PM":"AM"),b.t="T",o+=5,x="h"):e.substr(o,5).toUpperCase()==="/"?(f!=null&&(b.v=f.H>=12?"":""),b.t="T",o+=5,x="h"):(b.t="t",++o),f==null&&b.t==="T")return"";a[a.length]=b,u=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Nq)){if(f==null&&(f=g1(t,r),f==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",jq(e)||(a[a.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},u=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var N=0,j=0,S;for(o=a.length-1,u="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=x,u="h",N<1&&(N=1);break;case"s":(S=a[o].v.match(/\.0+$/))&&(j=Math.max(j,S[0].length-1)),N<3&&(N=3);case"d":case"y":case"M":case"e":u=a[o].t;break;case"m":u==="s"&&(a[o].t="M",N<2&&(N=2));break;case"X":break;case"Z":N<1&&a[o].v.match(/[Hh]/)&&(N=1),N<2&&a[o].v.match(/[Mm]/)&&(N=2),N<3&&a[o].v.match(/[Ss]/)&&(N=3)}switch(N){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var A="",_;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=pCe(a[o].t.charCodeAt(0),a[o].v,f,j),a[o].t="t";break;case"n":case"?":for(_=o+1;a[_]!=null&&((l=a[_].t)==="?"||l==="D"||(l===" "||l==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[o].v+=a[_].v,a[_]={v:"",t:";"},++_;A+=a[o].v,o=_-1;break;case"G":a[o].t="t",a[o].v=iC(t,r);break}var C="",k,T;if(A.length>0){A.charCodeAt(0)==40?(k=t<0&&A.charCodeAt(0)===45?-t:t,T=Mc("n",A,k)):(k=t<0&&n>1?-t:t,T=Mc("n",A,k),k<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),_=T.length-1;var O=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){O=o;break}var R=a.length;if(O===a.length&&T.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(_>=a[o].v.length-1?(_-=a[o].v.length,a[o].v=T.substr(_+1,a[o].v.length)):_<0?a[o].v="":(a[o].v=T.substr(0,_+1),_=-1),a[o].t="t",R=o);_>=0&&R<a.length&&(a[R].v=T.substr(0,_+1)+a[R].v)}else if(O!==a.length&&T.indexOf("E")===-1){for(_=T.indexOf(".")-1,o=O;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(h=a[o].v.indexOf(".")>-1&&o===O?a[o].v.indexOf(".")-1:a[o].v.length-1,C=a[o].v.substr(h+1);h>=0;--h)_>=0&&(a[o].v.charAt(h)==="0"||a[o].v.charAt(h)==="#")&&(C=T.charAt(_--)+C);a[o].v=C,a[o].t="t",R=o}for(_>=0&&R<a.length&&(a[R].v=T.substr(0,_+1)+a[R].v),_=T.indexOf(".")+1,o=O;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==O)){for(h=a[o].v.indexOf(".")>-1&&o===O?a[o].v.indexOf(".")+1:0,C=a[o].v.substr(0,h);h<a[o].v.length;++h)_<T.length&&(C+=T.charAt(_++));a[o].v=C,a[o].t="t",R=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(k=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Mc(a[o].t,a[o].v,k),a[o].t="t");var L="";for(o=0;o!==a.length;++o)a[o]!=null&&(L+=a[o].v);return L}var t6=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function r6(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function ACe(e,t){var r=SCe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(t6),l=r[1].match(t6);return r6(t,o)?[n,r[0]]:r6(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function Mu(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:dn)[e],n==null&&(n=r.table&&r.table[ZM[e]]||dn[ZM[e]]),n==null&&(n=oCe[e]||"General");break}if(Pb(n,0))return iC(t,r);t instanceof Date&&(t=mq(t,r.date1904));var a=ACe(n,t);if(Pb(a[1]))return iC(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return ECe(a[1],t,r,a[0])}function Sq(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(dn[r]==null){t<0&&(t=r);continue}if(dn[r]==e){t=r;break}}t<0&&(t=391)}return dn[t]=e,t}function iN(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Sq(e[t],t)}function oN(){dn=iCe()}var Eq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function CCe(e){var t=typeof e=="number"?dn[e]:e;return t=t.replace(Eq,"(\\d+)"),new RegExp("^"+t+"$")}function TCe(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,u=-1;(t.match(Eq)||[]).forEach(function(p,x){var y=parseInt(r[x+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=y;break;case"d":i=y;break;case"h":o=y;break;case"s":u=y;break;case"m":o>=0?l=y:a=y;break}}),u>=0&&l==-1&&a>=0&&(l=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&l==-1&&u==-1?f:n==-1&&a==-1&&i==-1?h:f+"T"+h}var _Ce=function(){var e={};e.version="1.2.0";function t(){for(var T=0,O=new Array(256),R=0;R!=256;++R)T=R,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,O[R]=T;return typeof Int32Array<"u"?new Int32Array(O):O}var r=t();function n(T){var O=0,R=0,L=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)M[L]=T[L];for(L=0;L!=256;++L)for(R=T[L],O=256+L;O<4096;O+=256)R=M[O]=R>>>8^T[R&255];var G=[];for(L=1;L!=16;++L)G[L-1]=typeof Int32Array<"u"?M.subarray(L*256,L*256+256):M.slice(L*256,L*256+256);return G}var a=n(r),i=a[0],o=a[1],l=a[2],u=a[3],f=a[4],h=a[5],p=a[6],x=a[7],y=a[8],w=a[9],b=a[10],N=a[11],j=a[12],S=a[13],A=a[14];function _(T,O){for(var R=O^-1,L=0,M=T.length;L<M;)R=R>>>8^r[(R^T.charCodeAt(L++))&255];return~R}function C(T,O){for(var R=O^-1,L=T.length-15,M=0;M<L;)R=A[T[M++]^R&255]^S[T[M++]^R>>8&255]^j[T[M++]^R>>16&255]^N[T[M++]^R>>>24]^b[T[M++]]^w[T[M++]]^y[T[M++]]^x[T[M++]]^p[T[M++]]^h[T[M++]]^f[T[M++]]^u[T[M++]]^l[T[M++]]^o[T[M++]]^i[T[M++]]^r[T[M++]];for(L+=15;M<L;)R=R>>>8^r[(R^T[M++])&255];return~R}function k(T,O){for(var R=O^-1,L=0,M=T.length,G=0,V=0;L<M;)G=T.charCodeAt(L++),G<128?R=R>>>8^r[(R^G)&255]:G<2048?(R=R>>>8^r[(R^(192|G>>6&31))&255],R=R>>>8^r[(R^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,V=T.charCodeAt(L++)&1023,R=R>>>8^r[(R^(240|G>>8&7))&255],R=R>>>8^r[(R^(128|G>>2&63))&255],R=R>>>8^r[(R^(128|V>>6&15|(G&3)<<4))&255],R=R>>>8^r[(R^(128|V&63))&255]):(R=R>>>8^r[(R^(224|G>>12&15))&255],R=R>>>8^r[(R^(128|G>>6&63))&255],R=R>>>8^r[(R^(128|G&63))&255]);return~R}return e.table=r,e.bstr=_,e.buf=C,e.str=k,e}(),js=function(){var t={};t.version="1.2.1";function r(Z,fe){for(var oe=Z.split("/"),se=fe.split("/"),de=0,me=0,Pe=Math.min(oe.length,se.length);de<Pe;++de){if(me=oe[de].length-se[de].length)return me;if(oe[de]!=se[de])return oe[de]<se[de]?-1:1}return oe.length-se.length}function n(Z){if(Z.charAt(Z.length-1)=="/")return Z.slice(0,-1).indexOf("/")===-1?Z:n(Z.slice(0,-1));var fe=Z.lastIndexOf("/");return fe===-1?Z:Z.slice(0,fe+1)}function a(Z){if(Z.charAt(Z.length-1)=="/")return a(Z.slice(0,-1));var fe=Z.lastIndexOf("/");return fe===-1?Z:Z.slice(fe+1)}function i(Z,fe){typeof fe=="string"&&(fe=new Date(fe));var oe=fe.getHours();oe=oe<<6|fe.getMinutes(),oe=oe<<5|fe.getSeconds()>>>1,Z.write_shift(2,oe);var se=fe.getFullYear()-1980;se=se<<4|fe.getMonth()+1,se=se<<5|fe.getDate(),Z.write_shift(2,se)}function o(Z){var fe=Z.read_shift(2)&65535,oe=Z.read_shift(2)&65535,se=new Date,de=oe&31;oe>>>=5;var me=oe&15;oe>>>=4,se.setMilliseconds(0),se.setFullYear(oe+1980),se.setMonth(me-1),se.setDate(de);var Pe=fe&31;fe>>>=5;var Ke=fe&63;return fe>>>=6,se.setHours(fe),se.setMinutes(Ke),se.setSeconds(Pe<<1),se}function l(Z){Mi(Z,0);for(var fe={},oe=0;Z.l<=Z.length-4;){var se=Z.read_shift(2),de=Z.read_shift(2),me=Z.l+de,Pe={};switch(se){case 21589:oe=Z.read_shift(1),oe&1&&(Pe.mtime=Z.read_shift(4)),de>5&&(oe&2&&(Pe.atime=Z.read_shift(4)),oe&4&&(Pe.ctime=Z.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3));break}Z.l=me,fe[se]=Pe}return fe}var u;function f(){return u||(u={})}function h(Z,fe){if(Z[0]==80&&Z[1]==75)return Dn(Z,fe);if((Z[0]|32)==109&&(Z[1]|32)==105)return Jr(Z,fe);if(Z.length<512)throw new Error("CFB file size "+Z.length+" < 512");var oe=3,se=512,de=0,me=0,Pe=0,Ke=0,Oe=0,$e=[],Ve=Z.slice(0,512);Mi(Ve,0);var Y=p(Ve);switch(oe=Y[0],oe){case 3:se=512;break;case 4:se=4096;break;case 0:if(Y[1]==0)return Dn(Z,fe);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}se!==512&&(Ve=Z.slice(0,se),Mi(Ve,28));var ge=Z.slice(0,se);x(Ve,oe);var be=Ve.read_shift(4,"i");if(oe===3&&be!==0)throw new Error("# Directory Sectors: Expected 0 saw "+be);Ve.l+=4,Pe=Ve.read_shift(4,"i"),Ve.l+=4,Ve.chk("00100000","Mini Stream Cutoff Size: "),Ke=Ve.read_shift(4,"i"),de=Ve.read_shift(4,"i"),Oe=Ve.read_shift(4,"i"),me=Ve.read_shift(4,"i");for(var Me=-1,qe=0;qe<109&&(Me=Ve.read_shift(4,"i"),!(Me<0));++qe)$e[qe]=Me;var lt=y(Z,se);N(Oe,me,lt,se,$e);var Rt=S(lt,Pe,$e,se);Rt[Pe].name="!Directory",de>0&&Ke!==V&&(Rt[Ke].name="!MiniFAT"),Rt[$e[0]].name="!FAT",Rt.fat_addrs=$e,Rt.ssz=se;var zt={},hr=[],Ss=[],vr=[];A(Pe,Rt,lt,hr,de,zt,Ss,Ke),w(Ss,vr,hr),hr.shift();var as={FileIndex:Ss,FullPaths:vr};return fe&&fe.raw&&(as.raw={header:ge,sectors:lt}),as}function p(Z){if(Z[Z.l]==80&&Z[Z.l+1]==75)return[0,0];Z.chk(ie,"Header Signature: "),Z.l+=16;var fe=Z.read_shift(2,"u");return[Z.read_shift(2,"u"),fe]}function x(Z,fe){var oe=9;switch(Z.l+=2,oe=Z.read_shift(2)){case 9:if(fe!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(fe!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}Z.chk("0600","Mini Sector Shift: "),Z.chk("000000000000","Reserved: ")}function y(Z,fe){for(var oe=Math.ceil(Z.length/fe)-1,se=[],de=1;de<oe;++de)se[de-1]=Z.slice(de*fe,(de+1)*fe);return se[oe-1]=Z.slice(oe*fe),se}function w(Z,fe,oe){for(var se=0,de=0,me=0,Pe=0,Ke=0,Oe=oe.length,$e=[],Ve=[];se<Oe;++se)$e[se]=Ve[se]=se,fe[se]=oe[se];for(;Ke<Ve.length;++Ke)se=Ve[Ke],de=Z[se].L,me=Z[se].R,Pe=Z[se].C,$e[se]===se&&(de!==-1&&$e[de]!==de&&($e[se]=$e[de]),me!==-1&&$e[me]!==me&&($e[se]=$e[me])),Pe!==-1&&($e[Pe]=se),de!==-1&&se!=$e[se]&&($e[de]=$e[se],Ve.lastIndexOf(de)<Ke&&Ve.push(de)),me!==-1&&se!=$e[se]&&($e[me]=$e[se],Ve.lastIndexOf(me)<Ke&&Ve.push(me));for(se=1;se<Oe;++se)$e[se]===se&&(me!==-1&&$e[me]!==me?$e[se]=$e[me]:de!==-1&&$e[de]!==de&&($e[se]=$e[de]));for(se=1;se<Oe;++se)if(Z[se].type!==0){if(Ke=se,Ke!=$e[Ke])do Ke=$e[Ke],fe[se]=fe[Ke]+"/"+fe[se];while(Ke!==0&&$e[Ke]!==-1&&Ke!=$e[Ke]);$e[se]=-1}for(fe[0]+="/",se=1;se<Oe;++se)Z[se].type!==2&&(fe[se]+="/")}function b(Z,fe,oe){for(var se=Z.start,de=Z.size,me=[],Pe=se;oe&&de>0&&Pe>=0;)me.push(fe.slice(Pe*G,Pe*G+G)),de-=G,Pe=Nf(oe,Pe*4);return me.length===0?Je(0):na(me).slice(0,Z.size)}function N(Z,fe,oe,se,de){var me=V;if(Z===V){if(fe!==0)throw new Error("DIFAT chain shorter than expected")}else if(Z!==-1){var Pe=oe[Z],Ke=(se>>>2)-1;if(!Pe)return;for(var Oe=0;Oe<Ke&&(me=Nf(Pe,Oe*4))!==V;++Oe)de.push(me);N(Nf(Pe,se-4),fe-1,oe,se,de)}}function j(Z,fe,oe,se,de){var me=[],Pe=[];de||(de=[]);var Ke=se-1,Oe=0,$e=0;for(Oe=fe;Oe>=0;){de[Oe]=!0,me[me.length]=Oe,Pe.push(Z[Oe]);var Ve=oe[Math.floor(Oe*4/se)];if($e=Oe*4&Ke,se<4+$e)throw new Error("FAT boundary crossed: "+Oe+" 4 "+se);if(!Z[Ve])break;Oe=Nf(Z[Ve],$e)}return{nodes:me,data:d6([Pe])}}function S(Z,fe,oe,se){var de=Z.length,me=[],Pe=[],Ke=[],Oe=[],$e=se-1,Ve=0,Y=0,ge=0,be=0;for(Ve=0;Ve<de;++Ve)if(Ke=[],ge=Ve+fe,ge>=de&&(ge-=de),!Pe[ge]){Oe=[];var Me=[];for(Y=ge;Y>=0;){Me[Y]=!0,Pe[Y]=!0,Ke[Ke.length]=Y,Oe.push(Z[Y]);var qe=oe[Math.floor(Y*4/se)];if(be=Y*4&$e,se<4+be)throw new Error("FAT boundary crossed: "+Y+" 4 "+se);if(!Z[qe]||(Y=Nf(Z[qe],be),Me[Y]))break}me[ge]={nodes:Ke,data:d6([Oe])}}return me}function A(Z,fe,oe,se,de,me,Pe,Ke){for(var Oe=0,$e=se.length?2:0,Ve=fe[Z].data,Y=0,ge=0,be;Y<Ve.length;Y+=128){var Me=Ve.slice(Y,Y+128);Mi(Me,64),ge=Me.read_shift(2),be=e_(Me,0,ge-$e),se.push(be);var qe={name:be,type:Me.read_shift(1),color:Me.read_shift(1),L:Me.read_shift(4,"i"),R:Me.read_shift(4,"i"),C:Me.read_shift(4,"i"),clsid:Me.read_shift(16),state:Me.read_shift(4,"i"),start:0,size:0},lt=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);lt!==0&&(qe.ct=_(Me,Me.l-8));var Rt=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);Rt!==0&&(qe.mt=_(Me,Me.l-8)),qe.start=Me.read_shift(4,"i"),qe.size=Me.read_shift(4,"i"),qe.size<0&&qe.start<0&&(qe.size=qe.type=0,qe.start=V,qe.name=""),qe.type===5?(Oe=qe.start,de>0&&Oe!==V&&(fe[Oe].name="!StreamData")):qe.size>=4096?(qe.storage="fat",fe[qe.start]===void 0&&(fe[qe.start]=j(oe,qe.start,fe.fat_addrs,fe.ssz)),fe[qe.start].name=qe.name,qe.content=fe[qe.start].data.slice(0,qe.size)):(qe.storage="minifat",qe.size<0?qe.size=0:Oe!==V&&qe.start!==V&&fe[Oe]&&(qe.content=b(qe,fe[Oe].data,(fe[Ke]||{}).data))),qe.content&&Mi(qe.content,0),me[be]=qe,Pe.push(qe)}}function _(Z,fe){return new Date((Li(Z,fe+4)/1e7*Math.pow(2,32)+Li(Z,fe)/1e7-11644473600)*1e3)}function C(Z,fe){return f(),h(u.readFileSync(Z),fe)}function k(Z,fe){var oe=fe&&fe.type;switch(oe||ts&&Buffer.isBuffer(Z)&&(oe="buffer"),oe||"base64"){case"file":return C(Z,fe);case"base64":return h(Ko(Xc(Z)),fe);case"binary":return h(Ko(Z),fe)}return h(Z,fe)}function T(Z,fe){var oe=fe||{},se=oe.root||"Root Entry";if(Z.FullPaths||(Z.FullPaths=[]),Z.FileIndex||(Z.FileIndex=[]),Z.FullPaths.length!==Z.FileIndex.length)throw new Error("inconsistent CFB structure");Z.FullPaths.length===0&&(Z.FullPaths[0]=se+"/",Z.FileIndex[0]={name:se,type:5}),oe.CLSID&&(Z.FileIndex[0].clsid=oe.CLSID),O(Z)}function O(Z){var fe="Sh33tJ5";if(!js.find(Z,"/"+fe)){var oe=Je(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,Z.FileIndex.push({name:fe,type:2,content:oe,size:4,L:69,R:69,C:69}),Z.FullPaths.push(Z.FullPaths[0]+fe),R(Z)}}function R(Z,fe){T(Z);for(var oe=!1,se=!1,de=Z.FullPaths.length-1;de>=0;--de){var me=Z.FileIndex[de];switch(me.type){case 0:se?oe=!0:(Z.FileIndex.pop(),Z.FullPaths.pop());break;case 1:case 2:case 5:se=!0,isNaN(me.R*me.L*me.C)&&(oe=!0),me.R>-1&&me.L>-1&&me.R==me.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!fe)){var Pe=new Date(1987,1,19),Ke=0,Oe=Object.create?Object.create(null):{},$e=[];for(de=0;de<Z.FullPaths.length;++de)Oe[Z.FullPaths[de]]=!0,Z.FileIndex[de].type!==0&&$e.push([Z.FullPaths[de],Z.FileIndex[de]]);for(de=0;de<$e.length;++de){var Ve=n($e[de][0]);se=Oe[Ve],se||($e.push([Ve,{name:a(Ve).replace("/",""),type:1,clsid:B,ct:Pe,mt:Pe,content:null}]),Oe[Ve]=!0)}for($e.sort(function(be,Me){return r(be[0],Me[0])}),Z.FullPaths=[],Z.FileIndex=[],de=0;de<$e.length;++de)Z.FullPaths[de]=$e[de][0],Z.FileIndex[de]=$e[de][1];for(de=0;de<$e.length;++de){var Y=Z.FileIndex[de],ge=Z.FullPaths[de];if(Y.name=a(ge).replace("/",""),Y.L=Y.R=Y.C=-(Y.color=1),Y.size=Y.content?Y.content.length:0,Y.start=0,Y.clsid=Y.clsid||B,de===0)Y.C=$e.length>1?1:-1,Y.size=0,Y.type=5;else if(ge.slice(-1)=="/"){for(Ke=de+1;Ke<$e.length&&n(Z.FullPaths[Ke])!=ge;++Ke);for(Y.C=Ke>=$e.length?-1:Ke,Ke=de+1;Ke<$e.length&&n(Z.FullPaths[Ke])!=n(ge);++Ke);Y.R=Ke>=$e.length?-1:Ke,Y.type=1}else n(Z.FullPaths[de+1]||"")==n(ge)&&(Y.R=de+1),Y.type=2}}}function L(Z,fe){var oe=fe||{};if(oe.fileType=="mad")return Er(Z,oe);switch(R(Z),oe.fileType){case"zip":return _e(Z,oe)}var se=function(be){for(var Me=0,qe=0,lt=0;lt<be.FileIndex.length;++lt){var Rt=be.FileIndex[lt];if(Rt.content){var zt=Rt.content.length;zt>0&&(zt<4096?Me+=zt+63>>6:qe+=zt+511>>9)}}for(var hr=be.FullPaths.length+3>>2,Ss=Me+7>>3,vr=Me+127>>7,as=Ss+qe+hr+vr,Nn=as+127>>7,ji=Nn<=109?0:Math.ceil((Nn-109)/127);as+Nn+ji+127>>7>Nn;)ji=++Nn<=109?0:Math.ceil((Nn-109)/127);var La=[1,ji,Nn,vr,hr,qe,Me,0];return be.FileIndex[0].size=Me<<6,La[7]=(be.FileIndex[0].start=La[0]+La[1]+La[2]+La[3]+La[4]+La[5])+(La[6]+7>>3),La}(Z),de=Je(se[7]<<9),me=0,Pe=0;{for(me=0;me<8;++me)de.write_shift(1,le[me]);for(me=0;me<8;++me)de.write_shift(2,0);for(de.write_shift(2,62),de.write_shift(2,3),de.write_shift(2,65534),de.write_shift(2,9),de.write_shift(2,6),me=0;me<3;++me)de.write_shift(2,0);for(de.write_shift(4,0),de.write_shift(4,se[2]),de.write_shift(4,se[0]+se[1]+se[2]+se[3]-1),de.write_shift(4,0),de.write_shift(4,4096),de.write_shift(4,se[3]?se[0]+se[1]+se[2]-1:V),de.write_shift(4,se[3]),de.write_shift(-4,se[1]?se[0]-1:V),de.write_shift(4,se[1]),me=0;me<109;++me)de.write_shift(-4,me<se[2]?se[1]+me:-1)}if(se[1])for(Pe=0;Pe<se[1];++Pe){for(;me<236+Pe*127;++me)de.write_shift(-4,me<se[2]?se[1]+me:-1);de.write_shift(-4,Pe===se[1]-1?V:Pe+1)}var Ke=function(be){for(Pe+=be;me<Pe-1;++me)de.write_shift(-4,me+1);be&&(++me,de.write_shift(-4,V))};for(Pe=me=0,Pe+=se[1];me<Pe;++me)de.write_shift(-4,U.DIFSECT);for(Pe+=se[2];me<Pe;++me)de.write_shift(-4,U.FATSECT);Ke(se[3]),Ke(se[4]);for(var Oe=0,$e=0,Ve=Z.FileIndex[0];Oe<Z.FileIndex.length;++Oe)Ve=Z.FileIndex[Oe],Ve.content&&($e=Ve.content.length,!($e<4096)&&(Ve.start=Pe,Ke($e+511>>9)));for(Ke(se[6]+7>>3);de.l&511;)de.write_shift(-4,U.ENDOFCHAIN);for(Pe=me=0,Oe=0;Oe<Z.FileIndex.length;++Oe)Ve=Z.FileIndex[Oe],Ve.content&&($e=Ve.content.length,!(!$e||$e>=4096)&&(Ve.start=Pe,Ke($e+63>>6)));for(;de.l&511;)de.write_shift(-4,U.ENDOFCHAIN);for(me=0;me<se[4]<<2;++me){var Y=Z.FullPaths[me];if(!Y||Y.length===0){for(Oe=0;Oe<17;++Oe)de.write_shift(4,0);for(Oe=0;Oe<3;++Oe)de.write_shift(4,-1);for(Oe=0;Oe<12;++Oe)de.write_shift(4,0);continue}Ve=Z.FileIndex[me],me===0&&(Ve.start=Ve.size?Ve.start-1:V);var ge=me===0&&oe.root||Ve.name;if($e=2*(ge.length+1),de.write_shift(64,ge,"utf16le"),de.write_shift(2,$e),de.write_shift(1,Ve.type),de.write_shift(1,Ve.color),de.write_shift(-4,Ve.L),de.write_shift(-4,Ve.R),de.write_shift(-4,Ve.C),Ve.clsid)de.write_shift(16,Ve.clsid,"hex");else for(Oe=0;Oe<4;++Oe)de.write_shift(4,0);de.write_shift(4,Ve.state||0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,Ve.start),de.write_shift(4,Ve.size),de.write_shift(4,0)}for(me=1;me<Z.FileIndex.length;++me)if(Ve=Z.FileIndex[me],Ve.size>=4096)if(de.l=Ve.start+1<<9,ts&&Buffer.isBuffer(Ve.content))Ve.content.copy(de,de.l,0,Ve.size),de.l+=Ve.size+511&-512;else{for(Oe=0;Oe<Ve.size;++Oe)de.write_shift(1,Ve.content[Oe]);for(;Oe&511;++Oe)de.write_shift(1,0)}for(me=1;me<Z.FileIndex.length;++me)if(Ve=Z.FileIndex[me],Ve.size>0&&Ve.size<4096)if(ts&&Buffer.isBuffer(Ve.content))Ve.content.copy(de,de.l,0,Ve.size),de.l+=Ve.size+63&-64;else{for(Oe=0;Oe<Ve.size;++Oe)de.write_shift(1,Ve.content[Oe]);for(;Oe&63;++Oe)de.write_shift(1,0)}if(ts)de.l=de.length;else for(;de.l<de.length;)de.write_shift(1,0);return de}function M(Z,fe){var oe=Z.FullPaths.map(function(Oe){return Oe.toUpperCase()}),se=oe.map(function(Oe){var $e=Oe.split("/");return $e[$e.length-(Oe.slice(-1)=="/"?2:1)]}),de=!1;fe.charCodeAt(0)===47?(de=!0,fe=oe[0].slice(0,-1)+fe):de=fe.indexOf("/")!==-1;var me=fe.toUpperCase(),Pe=de===!0?oe.indexOf(me):se.indexOf(me);if(Pe!==-1)return Z.FileIndex[Pe];var Ke=!me.match(x1);for(me=me.replace($x,""),Ke&&(me=me.replace(x1,"!")),Pe=0;Pe<oe.length;++Pe)if((Ke?oe[Pe].replace(x1,"!"):oe[Pe]).replace($x,"")==me||(Ke?se[Pe].replace(x1,"!"):se[Pe]).replace($x,"")==me)return Z.FileIndex[Pe];return null}var G=64,V=-2,ie="d0cf11e0a1b11ae1",le=[208,207,17,224,161,177,26,225],B="00000000000000000000000000000000",U={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:ie,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:B,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function F(Z,fe,oe){f();var se=L(Z,oe);u.writeFileSync(fe,se)}function W(Z){for(var fe=new Array(Z.length),oe=0;oe<Z.length;++oe)fe[oe]=String.fromCharCode(Z[oe]);return fe.join("")}function q(Z,fe){var oe=L(Z,fe);switch(fe&&fe.type||"buffer"){case"file":return f(),u.writeFileSync(fe.filename,oe),oe;case"binary":return typeof oe=="string"?oe:W(oe);case"base64":return Fg(typeof oe=="string"?oe:W(oe));case"buffer":if(ts)return Buffer.isBuffer(oe)?oe:od(oe);case"array":return typeof oe=="string"?Ko(oe):oe}return oe}var Q;function P(Z){try{var fe=Z.InflateRaw,oe=new fe;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)Q=Z;else throw new Error("zlib does not expose bytesRead")}catch(se){console.error("cannot use native zlib: "+(se.message||se))}}function X(Z,fe){if(!Q)return Us(Z,fe);var oe=Q.InflateRaw,se=new oe,de=se._processChunk(Z.slice(Z.l),se._finishFlushFlag);return Z.l+=se.bytesRead,de}function K(Z){return Q?Q.deflateRawSync(Z):ar(Z)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ae(Z){var fe=(Z<<1|Z<<11)&139536|(Z<<5|Z<<15)&558144;return(fe>>16|fe>>8|fe)&255}for(var ee=typeof Uint8Array<"u",ne=ee?new Uint8Array(256):[],ke=0;ke<256;++ke)ne[ke]=ae(ke);function we(Z,fe){var oe=ne[Z&255];return fe<=8?oe>>>8-fe:(oe=oe<<8|ne[Z>>8&255],fe<=16?oe>>>16-fe:(oe=oe<<8|ne[Z>>16&255],oe>>>24-fe))}function et(Z,fe){var oe=fe&7,se=fe>>>3;return(Z[se]|(oe<=6?0:Z[se+1]<<8))>>>oe&3}function Ee(Z,fe){var oe=fe&7,se=fe>>>3;return(Z[se]|(oe<=5?0:Z[se+1]<<8))>>>oe&7}function Te(Z,fe){var oe=fe&7,se=fe>>>3;return(Z[se]|(oe<=4?0:Z[se+1]<<8))>>>oe&15}function Fe(Z,fe){var oe=fe&7,se=fe>>>3;return(Z[se]|(oe<=3?0:Z[se+1]<<8))>>>oe&31}function ue(Z,fe){var oe=fe&7,se=fe>>>3;return(Z[se]|(oe<=1?0:Z[se+1]<<8))>>>oe&127}function Ce(Z,fe,oe){var se=fe&7,de=fe>>>3,me=(1<<oe)-1,Pe=Z[de]>>>se;return oe<8-se||(Pe|=Z[de+1]<<8-se,oe<16-se)||(Pe|=Z[de+2]<<16-se,oe<24-se)||(Pe|=Z[de+3]<<24-se),Pe&me}function De(Z,fe,oe){var se=fe&7,de=fe>>>3;return se<=5?Z[de]|=(oe&7)<<se:(Z[de]|=oe<<se&255,Z[de+1]=(oe&7)>>8-se),fe+3}function Et(Z,fe,oe){var se=fe&7,de=fe>>>3;return oe=(oe&1)<<se,Z[de]|=oe,fe+1}function _t(Z,fe,oe){var se=fe&7,de=fe>>>3;return oe<<=se,Z[de]|=oe&255,oe>>>=8,Z[de+1]=oe,fe+8}function xe(Z,fe,oe){var se=fe&7,de=fe>>>3;return oe<<=se,Z[de]|=oe&255,oe>>>=8,Z[de+1]=oe&255,Z[de+2]=oe>>>8,fe+16}function Ae(Z,fe){var oe=Z.length,se=2*oe>fe?2*oe:fe+5,de=0;if(oe>=fe)return Z;if(ts){var me=KM(se);if(Z.copy)Z.copy(me);else for(;de<Z.length;++de)me[de]=Z[de];return me}else if(ee){var Pe=new Uint8Array(se);if(Pe.set)Pe.set(Z);else for(;de<oe;++de)Pe[de]=Z[de];return Pe}return Z.length=se,Z}function Ie(Z){for(var fe=new Array(Z),oe=0;oe<Z;++oe)fe[oe]=0;return fe}function ft(Z,fe,oe){var se=1,de=0,me=0,Pe=0,Ke=0,Oe=Z.length,$e=ee?new Uint16Array(32):Ie(32);for(me=0;me<32;++me)$e[me]=0;for(me=Oe;me<oe;++me)Z[me]=0;Oe=Z.length;var Ve=ee?new Uint16Array(Oe):Ie(Oe);for(me=0;me<Oe;++me)$e[de=Z[me]]++,se<de&&(se=de),Ve[me]=0;for($e[0]=0,me=1;me<=se;++me)$e[me+16]=Ke=Ke+$e[me-1]<<1;for(me=0;me<Oe;++me)Ke=Z[me],Ke!=0&&(Ve[me]=$e[Ke+16]++);var Y=0;for(me=0;me<Oe;++me)if(Y=Z[me],Y!=0)for(Ke=we(Ve[me],se)>>se-Y,Pe=(1<<se+4-Y)-1;Pe>=0;--Pe)fe[Ke|Pe<<Y]=Y&15|me<<4;return se}var ht=ee?new Uint16Array(512):Ie(512),tt=ee?new Uint16Array(32):Ie(32);if(!ee){for(var xt=0;xt<512;++xt)ht[xt]=0;for(xt=0;xt<32;++xt)tt[xt]=0}(function(){for(var Z=[],fe=0;fe<32;fe++)Z.push(5);ft(Z,tt,32);var oe=[];for(fe=0;fe<=143;fe++)oe.push(8);for(;fe<=255;fe++)oe.push(9);for(;fe<=279;fe++)oe.push(7);for(;fe<=287;fe++)oe.push(8);ft(oe,ht,288)})();var Vt=function(){for(var fe=ee?new Uint8Array(32768):[],oe=0,se=0;oe<ce.length-1;++oe)for(;se<ce[oe+1];++se)fe[se]=oe;for(;se<32768;++se)fe[se]=29;var de=ee?new Uint8Array(259):[];for(oe=0,se=0;oe<J.length-1;++oe)for(;se<J[oe+1];++se)de[se]=oe;function me(Ke,Oe){for(var $e=0;$e<Ke.length;){var Ve=Math.min(65535,Ke.length-$e),Y=$e+Ve==Ke.length;for(Oe.write_shift(1,+Y),Oe.write_shift(2,Ve),Oe.write_shift(2,~Ve&65535);Ve-- >0;)Oe[Oe.l++]=Ke[$e++]}return Oe.l}function Pe(Ke,Oe){for(var $e=0,Ve=0,Y=ee?new Uint16Array(32768):[];Ve<Ke.length;){var ge=Math.min(65535,Ke.length-Ve);if(ge<10){for($e=De(Oe,$e,+(Ve+ge==Ke.length)),$e&7&&($e+=8-($e&7)),Oe.l=$e/8|0,Oe.write_shift(2,ge),Oe.write_shift(2,~ge&65535);ge-- >0;)Oe[Oe.l++]=Ke[Ve++];$e=Oe.l*8;continue}$e=De(Oe,$e,+(Ve+ge==Ke.length)+2);for(var be=0;ge-- >0;){var Me=Ke[Ve];be=(be<<5^Me)&32767;var qe=-1,lt=0;if((qe=Y[be])&&(qe|=Ve&-32768,qe>Ve&&(qe-=32768),qe<Ve))for(;Ke[qe+lt]==Ke[Ve+lt]&&lt<250;)++lt;if(lt>2){Me=de[lt],Me<=22?$e=_t(Oe,$e,ne[Me+1]>>1)-1:(_t(Oe,$e,3),$e+=5,_t(Oe,$e,ne[Me-23]>>5),$e+=3);var Rt=Me<8?0:Me-4>>2;Rt>0&&(xe(Oe,$e,lt-J[Me]),$e+=Rt),Me=fe[Ve-qe],$e=_t(Oe,$e,ne[Me]>>3),$e-=3;var zt=Me<4?0:Me-2>>1;zt>0&&(xe(Oe,$e,Ve-qe-ce[Me]),$e+=zt);for(var hr=0;hr<lt;++hr)Y[be]=Ve&32767,be=(be<<5^Ke[Ve])&32767,++Ve;ge-=lt-1}else Me<=143?Me=Me+48:$e=Et(Oe,$e,1),$e=_t(Oe,$e,ne[Me]),Y[be]=Ve&32767,++Ve}$e=_t(Oe,$e,0)-1}return Oe.l=($e+7)/8|0,Oe.l}return function(Oe,$e){return Oe.length<8?me(Oe,$e):Pe(Oe,$e)}}();function ar(Z){var fe=Je(50+Math.floor(Z.length*1.1)),oe=Vt(Z,fe);return fe.slice(0,oe)}var Pr=ee?new Uint16Array(32768):Ie(32768),mt=ee?new Uint16Array(32768):Ie(32768),ns=ee?new Uint16Array(128):Ie(128),os=1,Hr=1;function ls(Z,fe){var oe=Fe(Z,fe)+257;fe+=5;var se=Fe(Z,fe)+1;fe+=5;var de=Te(Z,fe)+4;fe+=4;for(var me=0,Pe=ee?new Uint8Array(19):Ie(19),Ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Oe=1,$e=ee?new Uint8Array(8):Ie(8),Ve=ee?new Uint8Array(8):Ie(8),Y=Pe.length,ge=0;ge<de;++ge)Pe[H[ge]]=me=Ee(Z,fe),Oe<me&&(Oe=me),$e[me]++,fe+=3;var be=0;for($e[0]=0,ge=1;ge<=Oe;++ge)Ve[ge]=be=be+$e[ge-1]<<1;for(ge=0;ge<Y;++ge)(be=Pe[ge])!=0&&(Ke[ge]=Ve[be]++);var Me=0;for(ge=0;ge<Y;++ge)if(Me=Pe[ge],Me!=0){be=ne[Ke[ge]]>>8-Me;for(var qe=(1<<7-Me)-1;qe>=0;--qe)ns[be|qe<<Me]=Me&7|ge<<3}var lt=[];for(Oe=1;lt.length<oe+se;)switch(be=ns[ue(Z,fe)],fe+=be&7,be>>>=3){case 16:for(me=3+et(Z,fe),fe+=2,be=lt[lt.length-1];me-- >0;)lt.push(be);break;case 17:for(me=3+Ee(Z,fe),fe+=3;me-- >0;)lt.push(0);break;case 18:for(me=11+ue(Z,fe),fe+=7;me-- >0;)lt.push(0);break;default:lt.push(be),Oe<be&&(Oe=be);break}var Rt=lt.slice(0,oe),zt=lt.slice(oe);for(ge=oe;ge<286;++ge)Rt[ge]=0;for(ge=se;ge<30;++ge)zt[ge]=0;return os=ft(Rt,Pr,286),Hr=ft(zt,mt,30),fe}function cs(Z,fe){if(Z[0]==3&&!(Z[1]&3))return[ih(fe),2];for(var oe=0,se=0,de=KM(fe||1<<18),me=0,Pe=de.length>>>0,Ke=0,Oe=0;(se&1)==0;){if(se=Ee(Z,oe),oe+=3,se>>>1)se>>1==1?(Ke=9,Oe=5):(oe=ls(Z,oe),Ke=os,Oe=Hr);else{oe&7&&(oe+=8-(oe&7));var $e=Z[oe>>>3]|Z[(oe>>>3)+1]<<8;if(oe+=32,$e>0)for(!fe&&Pe<me+$e&&(de=Ae(de,me+$e),Pe=de.length);$e-- >0;)de[me++]=Z[oe>>>3],oe+=8;continue}for(;;){!fe&&Pe<me+32767&&(de=Ae(de,me+32767),Pe=de.length);var Ve=Ce(Z,oe,Ke),Y=se>>>1==1?ht[Ve]:Pr[Ve];if(oe+=Y&15,Y>>>=4,(Y>>>8&255)===0)de[me++]=Y;else{if(Y==256)break;Y-=257;var ge=Y<8?0:Y-4>>2;ge>5&&(ge=0);var be=me+J[Y];ge>0&&(be+=Ce(Z,oe,ge),oe+=ge),Ve=Ce(Z,oe,Oe),Y=se>>>1==1?tt[Ve]:mt[Ve],oe+=Y&15,Y>>>=4;var Me=Y<4?0:Y-2>>1,qe=ce[Y];for(Me>0&&(qe+=Ce(Z,oe,Me),oe+=Me),!fe&&Pe<be&&(de=Ae(de,be+100),Pe=de.length);me<be;)de[me]=de[me-qe],++me}}}return fe?[de,oe+7>>>3]:[de.slice(0,me),oe+7>>>3]}function Us(Z,fe){var oe=Z.slice(Z.l||0),se=cs(oe,fe);return Z.l+=se[1],se[0]}function Vr(Z,fe){if(Z)typeof console<"u"&&console.error(fe);else throw new Error(fe)}function Dn(Z,fe){var oe=Z;Mi(oe,0);var se=[],de=[],me={FileIndex:se,FullPaths:de};T(me,{root:fe.root});for(var Pe=oe.length-4;(oe[Pe]!=80||oe[Pe+1]!=75||oe[Pe+2]!=5||oe[Pe+3]!=6)&&Pe>=0;)--Pe;oe.l=Pe+4,oe.l+=4;var Ke=oe.read_shift(2);oe.l+=6;var Oe=oe.read_shift(4);for(oe.l=Oe,Pe=0;Pe<Ke;++Pe){oe.l+=20;var $e=oe.read_shift(4),Ve=oe.read_shift(4),Y=oe.read_shift(2),ge=oe.read_shift(2),be=oe.read_shift(2);oe.l+=8;var Me=oe.read_shift(4),qe=l(oe.slice(oe.l+Y,oe.l+Y+ge));oe.l+=Y+ge+be;var lt=oe.l;oe.l=Me+4,Vs(oe,$e,Ve,me,qe),oe.l=lt}return me}function Vs(Z,fe,oe,se,de){Z.l+=2;var me=Z.read_shift(2),Pe=Z.read_shift(2),Ke=o(Z);if(me&8257)throw new Error("Unsupported ZIP encryption");for(var Oe=Z.read_shift(4),$e=Z.read_shift(4),Ve=Z.read_shift(4),Y=Z.read_shift(2),ge=Z.read_shift(2),be="",Me=0;Me<Y;++Me)be+=String.fromCharCode(Z[Z.l++]);if(ge){var qe=l(Z.slice(Z.l,Z.l+ge));(qe[21589]||{}).mt&&(Ke=qe[21589].mt),((de||{})[21589]||{}).mt&&(Ke=de[21589].mt)}Z.l+=ge;var lt=Z.slice(Z.l,Z.l+$e);switch(Pe){case 8:lt=X(Z,Ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var Rt=!1;me&8&&(Oe=Z.read_shift(4),Oe==134695760&&(Oe=Z.read_shift(4),Rt=!0),$e=Z.read_shift(4),Ve=Z.read_shift(4)),$e!=fe&&Vr(Rt,"Bad compressed size: "+fe+" != "+$e),Ve!=oe&&Vr(Rt,"Bad uncompressed size: "+oe+" != "+Ve),Mr(se,be,lt,{unsafe:!0,mt:Ke})}function _e(Z,fe){var oe=fe||{},se=[],de=[],me=Je(1),Pe=oe.compression?8:0,Ke=0,Oe=0,$e=0,Ve=0,Y=0,ge=Z.FullPaths[0],be=ge,Me=Z.FileIndex[0],qe=[],lt=0;for(Oe=1;Oe<Z.FullPaths.length;++Oe)if(be=Z.FullPaths[Oe].slice(ge.length),Me=Z.FileIndex[Oe],!(!Me.size||!Me.content||be=="Sh33tJ5")){var Rt=Ve,zt=Je(be.length);for($e=0;$e<be.length;++$e)zt.write_shift(1,be.charCodeAt($e)&127);zt=zt.slice(0,zt.l),qe[Y]=_Ce.buf(Me.content,0);var hr=Me.content;Pe==8&&(hr=K(hr)),me=Je(30),me.write_shift(4,67324752),me.write_shift(2,20),me.write_shift(2,Ke),me.write_shift(2,Pe),Me.mt?i(me,Me.mt):me.write_shift(4,0),me.write_shift(-4,qe[Y]),me.write_shift(4,hr.length),me.write_shift(4,Me.content.length),me.write_shift(2,zt.length),me.write_shift(2,0),Ve+=me.length,se.push(me),Ve+=zt.length,se.push(zt),Ve+=hr.length,se.push(hr),me=Je(46),me.write_shift(4,33639248),me.write_shift(2,0),me.write_shift(2,20),me.write_shift(2,Ke),me.write_shift(2,Pe),me.write_shift(4,0),me.write_shift(-4,qe[Y]),me.write_shift(4,hr.length),me.write_shift(4,Me.content.length),me.write_shift(2,zt.length),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(4,0),me.write_shift(4,Rt),lt+=me.l,de.push(me),lt+=zt.length,de.push(zt),++Y}return me=Je(22),me.write_shift(4,101010256),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,Y),me.write_shift(2,Y),me.write_shift(4,lt),me.write_shift(4,Ve),me.write_shift(2,0),na([na(se),na(de),me])}var wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function st(Z,fe){if(Z.ctype)return Z.ctype;var oe=Z.name||"",se=oe.match(/\.([^\.]+)$/);return se&&wt[se[1]]||fe&&(se=(oe=fe).match(/[\.\\]([^\.\\])+$/),se&&wt[se[1]])?wt[se[1]]:"application/octet-stream"}function Nt(Z){for(var fe=Fg(Z),oe=[],se=0;se<fe.length;se+=76)oe.push(fe.slice(se,se+76));return oe.join(`\r
`)+`\r
`}function qt(Z){var fe=Z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function($e){var Ve=$e.charCodeAt(0).toString(16).toUpperCase();return"="+(Ve.length==1?"0"+Ve:Ve)});fe=fe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),fe.charAt(0)==`
`&&(fe="=0D"+fe.slice(1)),fe=fe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],se=fe.split(`\r
`),de=0;de<se.length;++de){var me=se[de];if(me.length==0){oe.push("");continue}for(var Pe=0;Pe<me.length;){var Ke=76,Oe=me.slice(Pe,Pe+Ke);Oe.charAt(Ke-1)=="="?Ke--:Oe.charAt(Ke-2)=="="?Ke-=2:Oe.charAt(Ke-3)=="="&&(Ke-=3),Oe=me.slice(Pe,Pe+Ke),Pe+=Ke,Pe<me.length&&(Oe+="="),oe.push(Oe)}}return oe.join(`\r
`)}function mr(Z){for(var fe=[],oe=0;oe<Z.length;++oe){for(var se=Z[oe];oe<=Z.length&&se.charAt(se.length-1)=="=";)se=se.slice(0,se.length-1)+Z[++oe];fe.push(se)}for(var de=0;de<fe.length;++de)fe[de]=fe[de].replace(/[=][0-9A-Fa-f]{2}/g,function(me){return String.fromCharCode(parseInt(me.slice(1),16))});return Ko(fe.join(`\r
`))}function Gs(Z,fe,oe){for(var se="",de="",me="",Pe,Ke=0;Ke<10;++Ke){var Oe=fe[Ke];if(!Oe||Oe.match(/^\s*$/))break;var $e=Oe.match(/^(.*?):\s*([^\s].*)$/);if($e)switch($e[1].toLowerCase()){case"content-location":se=$e[2].trim();break;case"content-type":me=$e[2].trim();break;case"content-transfer-encoding":de=$e[2].trim();break}}switch(++Ke,de.toLowerCase()){case"base64":Pe=Ko(Xc(fe.slice(Ke).join("")));break;case"quoted-printable":Pe=mr(fe.slice(Ke));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+de)}var Ve=Mr(Z,se.slice(oe.length),Pe,{unsafe:!0});me&&(Ve.ctype=me)}function Jr(Z,fe){if(W(Z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=fe&&fe.root||"",se=(ts&&Buffer.isBuffer(Z)?Z.toString("binary"):W(Z)).split(`\r
`),de=0,me="";for(de=0;de<se.length;++de)if(me=se[de],!!/^Content-Location:/i.test(me)&&(me=me.slice(me.indexOf("file")),oe||(oe=me.slice(0,me.lastIndexOf("/")+1)),me.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),me.slice(0,oe.length)!=oe););var Pe=(se[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var Ke="--"+(Pe[1]||""),Oe=[],$e=[],Ve={FileIndex:Oe,FullPaths:$e};T(Ve);var Y,ge=0;for(de=0;de<se.length;++de){var be=se[de];be!==Ke&&be!==Ke+"--"||(ge++&&Gs(Ve,se.slice(Y,de),oe),Y=de)}return Ve}function Er(Z,fe){var oe=fe||{},se=oe.boundary||"SheetJS";se="------="+se;for(var de=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+se.slice(2)+'"',"","",""],me=Z.FullPaths[0],Pe=me,Ke=Z.FileIndex[0],Oe=1;Oe<Z.FullPaths.length;++Oe)if(Pe=Z.FullPaths[Oe].slice(me.length),Ke=Z.FileIndex[Oe],!(!Ke.size||!Ke.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(lt){return"_x"+lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(lt){return"_u"+lt.charCodeAt(0).toString(16)+"_"});for(var $e=Ke.content,Ve=ts&&Buffer.isBuffer($e)?$e.toString("binary"):W($e),Y=0,ge=Math.min(1024,Ve.length),be=0,Me=0;Me<=ge;++Me)(be=Ve.charCodeAt(Me))>=32&&be<128&&++Y;var qe=Y>=ge*4/5;de.push(se),de.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+Pe),de.push("Content-Transfer-Encoding: "+(qe?"quoted-printable":"base64")),de.push("Content-Type: "+st(Ke,Pe)),de.push(""),de.push(qe?qt(Ve):Nt(Ve))}return de.push(se+`--\r
`),de.join(`\r
`)}function ds(Z){var fe={};return T(fe,Z),fe}function Mr(Z,fe,oe,se){var de=se&&se.unsafe;de||T(Z);var me=!de&&js.find(Z,fe);if(!me){var Pe=Z.FullPaths[0];fe.slice(0,Pe.length)==Pe?Pe=fe:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+fe).replace("//","/")),me={name:a(fe),type:2},Z.FileIndex.push(me),Z.FullPaths.push(Pe),de||js.utils.cfb_gc(Z)}return me.content=oe,me.size=oe?oe.length:0,se&&(se.CLSID&&(me.clsid=se.CLSID),se.mt&&(me.mt=se.mt),se.ct&&(me.ct=se.ct)),me}function Ts(Z,fe){T(Z);var oe=js.find(Z,fe);if(oe){for(var se=0;se<Z.FileIndex.length;++se)if(Z.FileIndex[se]==oe)return Z.FileIndex.splice(se,1),Z.FullPaths.splice(se,1),!0}return!1}function Fa(Z,fe,oe){T(Z);var se=js.find(Z,fe);if(se){for(var de=0;de<Z.FileIndex.length;++de)if(Z.FileIndex[de]==se)return Z.FileIndex[de].name=a(oe),Z.FullPaths[de]=oe,!0}return!1}function wn(Z){R(Z,!0)}return t.find=M,t.read=k,t.parse=h,t.write=q,t.writeFile=F,t.utils={cfb_new:ds,cfb_add:Mr,cfb_del:Ts,cfb_mov:Fa,cfb_gc:wn,ReadShift:Vx,CheckField:qq,prep_blob:Mi,bconcat:na,use_zlib:P,_deflateRaw:ar,_inflateRaw:Us,consts:U},t}();function kCe(e){return typeof e=="string"?aN(e):Array.isArray(e)?rCe(e):e}function Oy(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=aN(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Bg(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([kCe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Dy(t)),l.write(t),l.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function ca(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function s6(e,t){for(var r=[],n=ca(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function Q4(e){for(var t=[],r=ca(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function lN(e){for(var t=[],r=ca(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function DCe(e){for(var t=[],r=ca(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Ib=new Date(1899,11,30,0,0,0);function wi(e,t){var r=e.getTime(),n=Ib.getTime()+(e.getTimezoneOffset()-Ib.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Aq=new Date,OCe=Ib.getTime()+(Aq.getTimezoneOffset()-Ib.getTimezoneOffset())*6e4,n6=Aq.getTimezoneOffset();function Cq(e){var t=new Date;return t.setTime(e*24*60*60*1e3+OCe),t.getTimezoneOffset()!==n6&&t.setTime(t.getTime()+(t.getTimezoneOffset()-n6)*6e4),t}var a6=new Date("2017-02-19T19:06:09.000Z"),Tq=isNaN(a6.getFullYear())?new Date("2/19/17"):a6,RCe=Tq.getFullYear()==2017;function Ya(e,t){var r=new Date(e);if(RCe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Tq.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function cN(e,t){if(ts&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ni(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ni(e[r]));return t}function cn(e,t){for(var r="";r.length<t;)r+=e;return r}function Ic(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var PCe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Lg(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&PCe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function wr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return ts?n=od(r):n=sCe(r),js.utils.cfb_add(e,t,n)}js.utils.cfb_add(e,t,r)}else e.file(t,r)}function X4(){return js.utils.cfb_new()}var kn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,MCe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Z4=Q4(MCe),J4=/[&<>'"]/g,ICe=/[\u0000-\u0008\u000b-\u001f]/g;function xs(e){var t=e+"";return t.replace(J4,function(r){return Z4[r]}).replace(ICe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function i6(e){return xs(e).replace(/ /g,"_x0020_")}var _q=/[\u0000-\u001f]/g;function FCe(e){var t=e+"";return t.replace(J4,function(r){return Z4[r]}).replace(/\n/g,"<br/>").replace(_q,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function LCe(e){var t=e+"";return t.replace(J4,function(r){return Z4[r]}).replace(_q,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function BCe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function $Ce(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function QS(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function o6(e){var t=ih(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function l6(e){return od(e,"binary").toString("utf8")}var y1="foo bar baz",Ux=ts&&(l6(y1)==QS(y1)&&l6||o6(y1)==QS(y1)&&o6)||QS,Bg=ts?function(e){return od(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},UCe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),kq=/(^\s|\s$|\n)/;function aa(e,t){return"<"+e+(t.match(kq)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function $g(e){return ca(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function bt(e,t,r){return"<"+e+(r!=null?$g(r):"")+(t!=null?(t.match(kq)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function oC(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function VCe(e,t){switch(typeof e){case"string":var r=bt("vt:lpwstr",xs(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return bt((e|0)==e?"vt:i4":"vt:r8",xs(String(e)));case"boolean":return bt("vt:bool",e?"true":"false")}if(e instanceof Date)return bt("vt:filetime",oC(e));throw new Error("Unable to serialize "+e)}var Hn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},c0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Fi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function qCe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function zCe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var c6=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},d6=ts?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:od(t)})):c6(e)}:c6,u6=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Dx(e,a)));return n.join("").replace($x,"")},e_=ts?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace($x,""):u6(e,t,r)}:u6,f6=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Dq=ts?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):f6(e,t,r)}:f6,h6=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Dm(e,a)));return n.join("")},Ry=ts?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):h6(t,r,n)}:h6,Oq=function(e,t){var r=Li(e,t);return r>0?Ry(e,t+4,t+4+r-1):""},Rq=Oq,Pq=function(e,t){var r=Li(e,t);return r>0?Ry(e,t+4,t+4+r-1):""},Mq=Pq,Iq=function(e,t){var r=2*Li(e,t);return r>0?Ry(e,t+4,t+4+r-1):""},Fq=Iq,Lq=function(t,r){var n=Li(t,r);return n>0?e_(t,r+4,r+4+n):""},Bq=Lq,$q=function(e,t){var r=Li(e,t);return r>0?Ry(e,t+4,t+4+r):""},Uq=$q,Vq=function(e,t){return qCe(e,t)},Fb=Vq,t_=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ts&&(Rq=function(t,r){if(!Buffer.isBuffer(t))return Oq(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Mq=function(t,r){if(!Buffer.isBuffer(t))return Pq(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Fq=function(t,r){if(!Buffer.isBuffer(t))return Iq(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Bq=function(t,r){if(!Buffer.isBuffer(t))return Lq(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Uq=function(t,r){if(!Buffer.isBuffer(t))return $q(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Fb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Vq(t,r)},t_=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Dm=function(e,t){return e[t]},Dx=function(e,t){return e[t+1]*256+e[t]},HCe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Li=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Nf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},WCe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Vx(e,t){var r="",n,a,i=[],o,l,u,f;switch(t){case"dbcs":if(f=this.l,ts&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(Dx(this,f)),f+=2;e*=2;break;case"utf8":r=Ry(this,this.l,this.l+e);break;case"utf16le":e*=2,r=e_(this,this.l,this.l+e);break;case"wstr":return Vx.call(this,e,"dbcs");case"lpstr-ansi":r=Rq(this,this.l),e=4+Li(this,this.l);break;case"lpstr-cp":r=Mq(this,this.l),e=4+Li(this,this.l);break;case"lpwstr":r=Fq(this,this.l),e=4+2*Li(this,this.l);break;case"lpp4":e=4+Li(this,this.l),r=Bq(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Li(this,this.l),r=Uq(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Dm(this,this.l+e++))!==0;)i.push(p1(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Dx(this,this.l+e))!==0;)i.push(p1(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Dm(this,f),this.l=f+1,l=Vx.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(p1(Dx(this,f))),f+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Dm(this,f),this.l=f+1,l=Vx.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(p1(Dm(this,f))),f+=1}r=i.join("");break;default:switch(e){case 1:return n=Dm(this,this.l),this.l++,n;case 2:return n=(t==="i"?HCe:Dx)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Nf:WCe)(this,this.l),this.l+=4,n):(a=Li(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Fb(this,this.l):a=Fb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Dq(this,this.l,e);break}}return this.l+=e,r}var GCe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},YCe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},KCe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function QCe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)KCe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,GCe(this,t,this.l);break;case 8:if(n=8,r==="f"){zCe(this,t,this.l);break}case 16:break;case-4:n=4,YCe(this,t,this.l);break}return this.l+=n,this}function qq(e,t){var r=Dq(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Mi(e,t){e.l=t,e.read_shift=Vx,e.chk=qq,e.write_shift=QCe}function Xl(e,t){e.l+=t}function Je(e){var t=ih(e);return Mi(t,0),t}function vi(){var e=[],t=ts?256:2048,r=function(f){var h=Je(f);return Mi(h,0),h},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(f){return n&&f<n.length-n.l?n:(a(),n=r(Math.max(f+1,t)))},o=function(){return a(),na(e)},l=function(f){a(),n=f,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function dt(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=qDe[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&t_(r)&&e.push(r)}}function qx(e,t,r){var n=Ni(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function m6(e,t,r){var n=Ni(e);return n.s=qx(n.s,t.s,r),n.e=qx(n.e,t.s,r),n}function zx(e,t){if(e.cRel&&e.c<0)for(e=Ni(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ni(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=gs(e);return!e.cRel&&e.cRel!=null&&(r=JCe(r)),!e.rRel&&e.rRel!=null&&(r=XCe(r)),r}function XS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ra(e.s.c)+":"+(e.e.cRel?"":"$")+Ra(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+oa(e.s.r)+":"+(e.e.rRel?"":"$")+oa(e.e.r):zx(e.s,t.biff)+":"+zx(e.e,t.biff)}function r_(e){return parseInt(ZCe(e),10)-1}function oa(e){return""+(e+1)}function XCe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ZCe(e){return e.replace(/\$(\d+)$/,"$1")}function s_(e){for(var t=eTe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ra(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function JCe(e){return e.replace(/^([A-Z])/,"$$$1")}function eTe(e){return e.replace(/^\$([A-Z])/,"$1")}function tTe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Yn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function gs(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Yi(e){var t=e.indexOf(":");return t==-1?{s:Yn(e),e:Yn(e)}:{s:Yn(e.slice(0,t)),e:Yn(e.slice(t+1))}}function Tn(e,t){return typeof t>"u"||typeof t=="number"?Tn(e.s,e.e):(typeof e!="string"&&(e=gs(e)),typeof t!="string"&&(t=gs(t)),e==t?e:e+":"+t)}function Fs(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function p6(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Mu(e.z,r?wi(t):t)}catch{}try{return e.w=Mu((e.XF||{}).numFmtId||(r?14:0),r?wi(t):t)}catch{return""+t}}function Zc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Py[e.v]||e.v:t==null?p6(e,e.v):p6(e,t))}function Th(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function zq(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var u=typeof n.origin=="string"?Yn(n.origin):n.origin;o=u.r,l=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Fs(i["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(f.e.r=o=h.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=t[p].length;++x)if(!(typeof t[p][x]>"u")){var y={v:t[p][x]},w=o+p,b=l+x;if(f.s.r>w&&(f.s.r=w),f.s.c>b&&(f.s.c=b),f.e.r<w&&(f.e.r=w),f.e.c<b&&(f.e.c=b),t[p][x]&&typeof t[p][x]=="object"&&!Array.isArray(t[p][x])&&!(t[p][x]instanceof Date))y=t[p][x];else if(Array.isArray(y.v)&&(y.f=t[p][x][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(n.nullError)y.t="e",y.v=0;else if(n.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=n.dateNF||dn[14],n.cellDates?(y.t="d",y.w=Mu(y.z,wi(y.v))):(y.t="n",y.v=wi(y.v),y.w=Mu(y.z,y.v))):y.t="s";if(a)i[w]||(i[w]=[]),i[w][b]&&i[w][b].z&&(y.z=i[w][b].z),i[w][b]=y;else{var N=gs({c:b,r:w});i[N]&&i[N].z&&(y.z=i[N].z),i[N]=y}}}return f.s.c<1e7&&(i["!ref"]=Tn(f)),i}function d0(e,t){return zq(null,e,t)}function rTe(e){return e.read_shift(4,"i")}function el(e,t){return t||(t=Je(4)),t.write_shift(4,e),t}function Pa(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Kn(e,t){var r=!1;return t==null&&(r=!0,t=Je(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function sTe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function nTe(e,t){return t||(t=Je(4)),t.write_shift(2,0),t.write_shift(2,0),t}function n_(e,t){var r=e.l,n=e.read_shift(1),a=Pa(e),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),u=0;u!=l;++u)i.push(sTe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function aTe(e,t){var r=!1;return t==null&&(r=!0,t=Je(15+4*e.t.length)),t.write_shift(1,0),Kn(e.t,t),r?t.slice(0,t.l):t}var iTe=n_;function oTe(e,t){var r=!1;return t==null&&(r=!0,t=Je(23+4*e.t.length)),t.write_shift(1,1),Kn(e.t,t),t.write_shift(4,1),nTe({},t),r?t.slice(0,t.l):t}function To(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function _h(e,t){return t==null&&(t=Je(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function kh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Dh(e,t){return t==null&&(t=Je(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var lTe=Pa,Hq=Kn;function a_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Lb(e,t){var r=!1;return t==null&&(r=!0,t=Je(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var cTe=Pa,lC=a_,i_=Lb;function Wq(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Fb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Nf(t,0)>>2;return r?a/100:a}function Gq(e,t){t==null&&(t=Je(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Yq(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function dTe(e,t){return t||(t=Je(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Oh=Yq,u0=dTe;function f0(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function oh(e,t){return(t||Je(8)).write_shift(8,e,"f")}function uTe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var f=bTe[a];f&&(t.rgb=A6(f));break;case 2:t.rgb=A6([o,l,u]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Bb(e,t){if(t||(t=Je(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function fTe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function hTe(e,t){t||(t=Je(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var Kq=2,Ri=3,v1=11,$b=19,b1=64,mTe=65,pTe=71,xTe=4108,gTe=4126,sa=80,x6={1:{n:"CodePage",t:Kq},2:{n:"Category",t:sa},3:{n:"PresentationFormat",t:sa},4:{n:"ByteCount",t:Ri},5:{n:"LineCount",t:Ri},6:{n:"ParagraphCount",t:Ri},7:{n:"SlideCount",t:Ri},8:{n:"NoteCount",t:Ri},9:{n:"HiddenCount",t:Ri},10:{n:"MultimediaClipCount",t:Ri},11:{n:"ScaleCrop",t:v1},12:{n:"HeadingPairs",t:xTe},13:{n:"TitlesOfParts",t:gTe},14:{n:"Manager",t:sa},15:{n:"Company",t:sa},16:{n:"LinksUpToDate",t:v1},17:{n:"CharacterCount",t:Ri},19:{n:"SharedDoc",t:v1},22:{n:"HyperlinksChanged",t:v1},23:{n:"AppVersion",t:Ri,p:"version"},24:{n:"DigSig",t:mTe},26:{n:"ContentType",t:sa},27:{n:"ContentStatus",t:sa},28:{n:"Language",t:sa},29:{n:"Version",t:sa},255:{},2147483648:{n:"Locale",t:$b},2147483651:{n:"Behavior",t:$b},1919054434:{}},g6={1:{n:"CodePage",t:Kq},2:{n:"Title",t:sa},3:{n:"Subject",t:sa},4:{n:"Author",t:sa},5:{n:"Keywords",t:sa},6:{n:"Comments",t:sa},7:{n:"Template",t:sa},8:{n:"LastAuthor",t:sa},9:{n:"RevNumber",t:sa},10:{n:"EditTime",t:b1},11:{n:"LastPrinted",t:b1},12:{n:"CreatedDate",t:b1},13:{n:"ModifiedDate",t:b1},14:{n:"PageCount",t:Ri},15:{n:"WordCount",t:Ri},16:{n:"CharCount",t:Ri},17:{n:"Thumbnail",t:pTe},18:{n:"Application",t:sa},19:{n:"DocSecurity",t:Ri},255:{},2147483648:{n:"Locale",t:$b},2147483651:{n:"Behavior",t:$b},1919054434:{}};function yTe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var vTe=yTe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),bTe=Ni(vTe),Py={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},wTe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},w1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Qq(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Xq(e,t){var r=DCe(wTe),n=[],a;n[n.length]=kn,n[n.length]=bt("Types",null,{xmlns:Hn.CT,"xmlns:xsd":Hn.xsd,"xmlns:xsi":Hn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return bt("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(a=e[u][0],n[n.length]=bt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:w1[u][t.bookType]||w1[u].xlsx}))},o=function(u){(e[u]||[]).forEach(function(f){n[n.length]=bt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:w1[u][t.bookType]||w1[u].xlsx})})},l=function(u){(e[u]||[]).forEach(function(f){n[n.length]=bt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[u][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Qr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Zq(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function tp(e){var t=[kn,bt("Relationships",null,{xmlns:Hn.RELS})];return ca(e["!id"]).forEach(function(r){t[t.length]=bt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ps(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Qr.HLINK,Qr.XPATH,Qr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function NTe(e){var t=[kn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function y6(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function jTe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function STe(e){var t=[kn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(y6(e[r][0],e[r][1])),t.push(jTe("",e[r][0]));return t.push(y6("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Jq(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ob.version+"</meta:generator></office:meta></office:document-meta>"}var $f=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function ZS(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=xs(t),n[n.length]=r?bt(e,t,r):aa(e,t))}function ez(e,t){var r=t||{},n=[kn,bt("cp:coreProperties",null,{"xmlns:cp":Hn.CORE_PROPS,"xmlns:dc":Hn.dc,"xmlns:dcterms":Hn.dcterms,"xmlns:dcmitype":Hn.dcmitype,"xmlns:xsi":Hn.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&ZS("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:oC(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&ZS("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:oC(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=$f.length;++i){var o=$f[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&ZS(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var rp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],tz=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function rz(e){var t=[],r=bt;return e||(e={}),e.Application="SheetJS",t[t.length]=kn,t[t.length]=bt("Properties",null,{xmlns:Hn.EXT_PROPS,"xmlns:vt":Hn.vt}),rp.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=xs(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+xs(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function sz(e){var t=[kn,bt("Properties",null,{xmlns:Hn.CUST_PROPS,"xmlns:vt":Hn.vt})];if(!e)return t.join("");var r=1;return ca(e).forEach(function(a){++r,t[t.length]=bt("property",VCe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:xs(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var v6={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function ETe(e,t){var r=[];return ca(v6).map(function(n){for(var a=0;a<$f.length;++a)if($f[a][1]==n)return $f[a];for(a=0;a<rp.length;++a)if(rp[a][1]==n)return rp[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(aa(v6[n[1]]||n[1],a))}}),bt("DocumentProperties",r.join(""),{xmlns:Fi.o})}function ATe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&ca(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<$f.length;++o)if(i==$f[o][1])return;for(o=0;o<rp.length;++o)if(i==rp[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l=String(l),a.push(bt(i6(i),l,{"dt:dt":u}))}}),t&&ca(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(bt(i6(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Fi.o+'">'+a.join("")+"</"+n+">"}function CTe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=Je(8);return o.write_shift(4,n),o.write_shift(4,a),o}function b6(e,t){var r=Je(4),n=Je(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Je(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=CTe(t);break;case 31:case 80:for(n=Je(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return na([r,n])}var nz=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function TTe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function w6(e,t,r){var n=Je(8),a=[],i=[],o=8,l=0,u=Je(8),f=Je(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),i.push(u),a.push(f),o+=8+u.length,!t){f=Je(8),f.write_shift(4,0),a.unshift(f);var h=[Je(4)];for(h[0].write_shift(4,e.length),l=0;l<e.length;++l){var p=e[l][0];for(u=Je(8+2*(p.length+1)+(p.length%2?0:2)),u.write_shift(4,l+2),u.write_shift(4,p.length+1),u.write_shift(0,p,"dbcs");u.l!=u.length;)u.write_shift(1,0);h.push(u)}u=na(h),i.unshift(u),o+=8+u.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(nz.indexOf(e[l][0])>-1||tz.indexOf(e[l][0])>-1)&&e[l][1]!=null){var x=e[l][1],y=0;if(t){y=+t[e[l][0]];var w=r[y];if(w.p=="version"&&typeof x=="string"){var b=x.split(".");x=(+b[0]<<16)+(+b[1]||0)}u=b6(w.t,x)}else{var N=TTe(x);N==-1&&(N=31,x=String(x)),u=b6(N,x)}i.push(u),f=Je(8),f.write_shift(4,t?y:2+l),a.push(f),o+=8+u.length}var j=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,j),j+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),na([n].concat(a).concat(i))}function N6(e,t,r,n,a,i){var o=Je(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,js.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var u=w6(e,r,n);if(l.push(u),a){var f=w6(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+u.length),l.push(f)}return na(l)}function _Te(e,t){t||(t=Je(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function kTe(e,t){return e.read_shift(t)===1}function za(e,t){return t||(t=Je(2)),t.write_shift(2,+!!e),t}function az(e){return e.read_shift(2,"u")}function mo(e,t){return t||(t=Je(2)),t.write_shift(2,e),t}function iz(e,t,r){return r||(r=Je(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function oz(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function DTe(e){var t=e.t||"",r=Je(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Je(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return na(a)}function OTe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function RTe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):OTe(e,n,r)}function PTe(e,t,r){if(r.biff>5)return RTe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function lz(e,t,r){return r||(r=Je(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function j6(e,t){t||(t=Je(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function MTe(e){var t=Je(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),j6(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&j6(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var u=0;n.slice(u*3,u*3+3)=="../"||n.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,n.length-3*u+1),r=0;r<n.length-3*u;++r)t.write_shift(1,n.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function lh(e,t,r,n){return n||(n=Je(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function ITe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function FTe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function cz(e,t){return t||(t=Je(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function o_(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Je(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function LTe(e,t){var r=!t||t.biff==8,n=Je(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function BTe(e,t){var r=!t||t.biff>=8?2:1,n=Je(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function $Te(e,t){var r=Je(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=DTe(e[a]);var i=na([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function UTe(){var e=Je(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function VTe(e){var t=Je(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function qTe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Je(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function zTe(e,t,r,n){var a=Je(10);return lh(e,t,n,a),a.write_shift(4,r),a}function HTe(e,t,r,n,a){var i=!a||a.biff==8,o=Je(8+ +i+(1+i)*r.length);return lh(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function WTe(e,t,r,n){var a=r&&r.biff==5;n||(n=Je(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function GTe(e,t){var r=t.biff==8||!t.biff?4:2,n=Je(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function S6(e,t,r,n){var a=r&&r.biff==5;n||(n=Je(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function YTe(e){var t=Je(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function KTe(e,t,r,n,a,i){var o=Je(8);return lh(e,t,n,o),iz(r,i,o),o}function QTe(e,t,r,n){var a=Je(14);return lh(e,t,n,a),oh(r,a),a}function XTe(e,t,r){if(r.biff<8)return ZTe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(ITe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function ZTe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=oz(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function JTe(e){var t=Je(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)cz(e[r],t);return t}function e4e(e){var t=Je(24),r=Yn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return na([t,MTe(e[1])])}function t4e(e){var t=e[1].Tooltip,r=Je(10+2*(t.length+1));r.write_shift(2,2048);var n=Yn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function r4e(e){return e||(e=Je(4)),e.write_shift(2,1),e.write_shift(2,1),e}function s4e(e,t,r){if(!r.cellStyles)return Xl(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var f={s:a,e:i,w:o,ixfe:l,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function n4e(e,t){var r=Je(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function a4e(e){for(var t=Je(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function i4e(e,t,r){var n=Je(15);return Iy(n,e,t),n.write_shift(8,r,"f"),n}function o4e(e,t,r){var n=Je(9);return Iy(n,e,t),n.write_shift(2,r),n}var l4e=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Q4({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,u){var f=[],h=ih(1);switch(u.type){case"base64":h=Ko(Xc(l));break;case"binary":h=Ko(l);break;case"buffer":case"array":h=l;break}Mi(h,0);var p=h.read_shift(1),x=!!(p&136),y=!1,w=!1;switch(p){case 2:break;case 3:break;case 48:y=!0,x=!0;break;case 49:y=!0,x=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var b=0,N=521;p==2&&(b=h.read_shift(2)),h.l+=3,p!=2&&(b=h.read_shift(4)),b>1048576&&(b=1e6),p!=2&&(N=h.read_shift(2));var j=h.read_shift(2),S=u.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(S=e[h[h.l]]),h.l+=1,h.l+=2),w&&(h.l+=36);for(var A=[],_={},C=Math.min(h.length,p==2?521:N-10-(y?264:0)),k=w?32:11;h.l<C&&h[h.l]!=13;)switch(_={},_.name=YM.utils.decode(S,h.slice(h.l,h.l+k)).replace(/[\u0000\r\n].*$/g,""),h.l+=k,_.type=String.fromCharCode(h.read_shift(1)),p!=2&&!w&&(_.offset=h.read_shift(4)),_.len=h.read_shift(1),p==2&&(_.offset=h.read_shift(2)),_.dec=h.read_shift(1),_.name.length&&A.push(_),p!=2&&(h.l+=w?13:14),_.type){case"B":(!y||_.len!=8)&&u.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(h[h.l]!==13&&(h.l=N-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=N;var T=0,O=0;for(f[0]=[],O=0;O!=A.length;++O)f[0][O]=A[O].name;for(;b-- >0;){if(h[h.l]===42){h.l+=j;continue}for(++h.l,f[++T]=[],O=0,O=0;O!=A.length;++O){var R=h.slice(h.l,h.l+A[O].len);h.l+=A[O].len,Mi(R,0);var L=YM.utils.decode(S,R);switch(A[O].type){case"C":L.trim().length&&(f[T][O]=L.replace(/\s+$/,""));break;case"D":L.length===8?f[T][O]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):f[T][O]=L;break;case"F":f[T][O]=parseFloat(L.trim());break;case"+":case"I":f[T][O]=w?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":f[T][O]=!0;break;case"N":case"F":f[T][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[T][O]="##MEMO##"+(w?parseInt(L.trim(),10):R.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(f[T][O]=+L||0);break;case"@":f[T][O]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":f[T][O]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":f[T][O]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[T][O]=-R.read_shift(-8,"f");break;case"B":if(y&&A[O].len==8){f[T][O]=R.read_shift(8,"f");break}case"G":case"P":R.l+=A[O].len;break;case"0":if(A[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[O].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=A,f}function n(l,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var h=d0(r(l,f),f);return h["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,h}function a(l,u){try{return Th(n(l,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,u){var f=u||{};if(+f.codepage>=0&&Ig(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=vi(),p=Hb(l,{header:1,raw:!0,cellDates:!0}),x=p[0],y=p.slice(1),w=l["!cols"]||[],b=0,N=0,j=0,S=1;for(b=0;b<x.length;++b){if(((w[b]||{}).DBF||{}).name){x[b]=w[b].DBF.name,++j;continue}if(x[b]!=null){if(++j,typeof x[b]=="number"&&(x[b]=x[b].toString(10)),typeof x[b]!="string")throw new Error("DBF Invalid column name "+x[b]+" |"+typeof x[b]+"|");if(x.indexOf(x[b])!==b){for(N=0;N<1024;++N)if(x.indexOf(x[b]+"_"+N)==-1){x[b]+="_"+N;break}}}}var A=Fs(l["!ref"]),_=[],C=[],k=[];for(b=0;b<=A.e.c-A.s.c;++b){var T="",O="",R=0,L=[];for(N=0;N<y.length;++N)y[N][b]!=null&&L.push(y[N][b]);if(L.length==0||x[b]==null){_[b]="?";continue}for(N=0;N<L.length;++N){switch(typeof L[N]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=L[N]instanceof Date?"D":"C";break;default:O="C"}R=Math.max(R,String(L[N]).length),T=T&&T!=O?"C":O}R>250&&(R=250),O=((w[b]||{}).DBF||{}).type,O=="C"&&w[b].DBF.len>R&&(R=w[b].DBF.len),T=="B"&&O=="N"&&(T="N",k[b]=w[b].DBF.dec,R=w[b].DBF.len),C[b]=T=="C"||O=="N"?R:i[T]||0,S+=C[b],_[b]=T}var M=h.next(32);for(M.write_shift(4,318902576),M.write_shift(4,y.length),M.write_shift(2,296+32*j),M.write_shift(2,S),b=0;b<4;++b)M.write_shift(4,0);for(M.write_shift(4,0|(+t[uq]||3)<<8),b=0,N=0;b<x.length;++b)if(x[b]!=null){var G=h.next(32),V=(x[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,V,"sbcs"),G.write_shift(1,_[b]=="?"?"C":_[b],"sbcs"),G.write_shift(4,N),G.write_shift(1,C[b]||i[_[b]]||0),G.write_shift(1,k[b]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),N+=C[b]||i[_[b]]||0}var ie=h.next(264);for(ie.write_shift(4,13),b=0;b<65;++b)ie.write_shift(4,0);for(b=0;b<y.length;++b){var le=h.next(S);for(le.write_shift(1,0),N=0;N<x.length;++N)if(x[N]!=null)switch(_[N]){case"L":le.write_shift(1,y[b][N]==null?63:y[b][N]?84:70);break;case"B":le.write_shift(8,y[b][N]||0,"f");break;case"N":var B="0";for(typeof y[b][N]=="number"&&(B=y[b][N].toFixed(k[N]||0)),j=0;j<C[N]-B.length;++j)le.write_shift(1,32);le.write_shift(1,B,"sbcs");break;case"D":y[b][N]?(le.write_shift(4,("0000"+y[b][N].getFullYear()).slice(-4),"sbcs"),le.write_shift(2,("00"+(y[b][N].getMonth()+1)).slice(-2),"sbcs"),le.write_shift(2,("00"+y[b][N].getDate()).slice(-2),"sbcs")):le.write_shift(8,"00000000","sbcs");break;case"C":var U=String(y[b][N]!=null?y[b][N]:"").slice(0,C[N]);for(le.write_shift(1,U,"sbcs"),j=0;j<C[N]-U.length;++j)le.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),c4e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ca(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(x,y){var w=e[y];return typeof w=="number"?GM(w):w},n=function(x,y,w){var b=y.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return b==59?x:GM(b)};e["|"]=254;function a(x,y){switch(y.type){case"base64":return i(Xc(x),y);case"binary":return i(x,y);case"buffer":return i(ts&&Buffer.isBuffer(x)?x.toString("binary"):Dy(x),y);case"array":return i(cN(x),y)}throw new Error("Unrecognized type "+y.type)}function i(x,y){var w=x.split(/[\n\r]+/),b=-1,N=-1,j=0,S=0,A=[],_=[],C=null,k={},T=[],O=[],R=[],L=0,M;for(+y.codepage>=0&&Ig(+y.codepage);j!==w.length;++j){L=0;var G=w[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),V=G.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),ie=V[0],le;if(G.length>0)switch(ie){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&_.push(G.slice(3).replace(/;;/g,";"));break;case"C":var B=!1,U=!1,F=!1,W=!1,q=-1,Q=-1;for(S=1;S<V.length;++S)switch(V[S].charAt(0)){case"A":break;case"X":N=parseInt(V[S].slice(1))-1,U=!0;break;case"Y":for(b=parseInt(V[S].slice(1))-1,U||(N=0),M=A.length;M<=b;++M)A[M]=[];break;case"K":le=V[S].slice(1),le.charAt(0)==='"'?le=le.slice(1,le.length-1):le==="TRUE"?le=!0:le==="FALSE"?le=!1:isNaN(Ic(le))?isNaN(Lg(le).getDate())||(le=Ya(le)):(le=Ic(le),C!==null&&jq(C)&&(le=Cq(le))),B=!0;break;case"E":W=!0;var P=o_e(V[S].slice(1),{r:b,c:N});A[b][N]=[A[b][N],P];break;case"S":F=!0,A[b][N]=[A[b][N],"S5S"];break;case"G":break;case"R":q=parseInt(V[S].slice(1))-1;break;case"C":Q=parseInt(V[S].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+G)}if(B&&(A[b][N]&&A[b][N].length==2?A[b][N][0]=le:A[b][N]=le,C=null),F){if(W)throw new Error("SYLK shared formula cannot have own formula");var X=q>-1&&A[q][Q];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");A[b][N][1]=l_e(X[1],{r:b-q,c:N-Q})}break;case"F":var K=0;for(S=1;S<V.length;++S)switch(V[S].charAt(0)){case"X":N=parseInt(V[S].slice(1))-1,++K;break;case"Y":for(b=parseInt(V[S].slice(1))-1,M=A.length;M<=b;++M)A[M]=[];break;case"M":L=parseInt(V[S].slice(1))/20;break;case"F":break;case"G":break;case"P":C=_[parseInt(V[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=V[S].slice(1).split(" "),M=parseInt(R[0],10);M<=parseInt(R[1],10);++M)L=parseInt(R[2],10),O[M-1]=L===0?{hidden:!0}:{wch:L},l_(O[M-1]);break;case"C":N=parseInt(V[S].slice(1))-1,O[N]||(O[N]={});break;case"R":b=parseInt(V[S].slice(1))-1,T[b]||(T[b]={}),L>0?(T[b].hpt=L,T[b].hpx=mz(L)):L===0&&(T[b].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+G)}K<1&&(C=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+G)}}return T.length>0&&(k["!rows"]=T),O.length>0&&(k["!cols"]=O),y&&y.sheetRows&&(A=A.slice(0,y.sheetRows)),[A,k]}function o(x,y){var w=a(x,y),b=w[0],N=w[1],j=d0(b,y);return ca(N).forEach(function(S){j[S]=N[S]}),j}function l(x,y){return Th(o(x,y),y)}function u(x,y,w,b){var N="C;Y"+(w+1)+";X"+(b+1)+";K";switch(x.t){case"n":N+=x.v||0,x.f&&!x.F&&(N+=";E"+d_(x.f,{r:w,c:b}));break;case"b":N+=x.v?"TRUE":"FALSE";break;case"e":N+=x.w||x.v;break;case"d":N+='"'+(x.w||x.v)+'"';break;case"s":N+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return N}function f(x,y){y.forEach(function(w,b){var N="F;W"+(b+1)+" "+(b+1)+" ";w.hidden?N+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=Ub(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=Vb(w.wpx)),typeof w.wch=="number"&&(N+=Math.round(w.wch))),N.charAt(N.length-1)!=" "&&x.push(N)})}function h(x,y){y.forEach(function(w,b){var N="F;";w.hidden?N+="M0;":w.hpt?N+="M"+20*w.hpt+";":w.hpx&&(N+="M"+20*qb(w.hpx)+";"),N.length>2&&x.push(N+"R"+(b+1))})}function p(x,y){var w=["ID;PWXL;N;E"],b=[],N=Fs(x["!ref"]),j,S=Array.isArray(x),A=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),x["!cols"]&&f(w,x["!cols"]),x["!rows"]&&h(w,x["!rows"]),w.push("B;Y"+(N.e.r-N.s.r+1)+";X"+(N.e.c-N.s.c+1)+";D"+[N.s.c,N.s.r,N.e.c,N.e.r].join(" "));for(var _=N.s.r;_<=N.e.r;++_)for(var C=N.s.c;C<=N.e.c;++C){var k=gs({r:_,c:C});j=S?(x[_]||[])[C]:x[k],!(!j||j.v==null&&(!j.f||j.F))&&b.push(u(j,x,_,C))}return w.join(A)+A+b.join(A)+A+"E"+A}return{to_workbook:l,to_sheet:o,from_sheet:p}}(),d4e=function(){function e(i,o){switch(o.type){case"base64":return t(Xc(i),o);case"binary":return t(i,o);case"buffer":return t(ts&&Buffer.isBuffer(i)?i.toString("binary"):Dy(i),o);case"array":return t(cN(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),u=-1,f=-1,h=0,p=[];h!==l.length;++h){if(l[h].trim()==="BOT"){p[++u]=[],f=0;continue}if(!(u<0)){var x=l[h].trim().split(","),y=x[0],w=x[1];++h;for(var b=l[h]||"";(b.match(/["]/g)||[]).length&1&&h<l.length-1;)b+=`
`+l[++h];switch(b=b.trim(),+y){case-1:if(b==="BOT"){p[++u]=[],f=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?p[u][f]=!0:b==="FALSE"?p[u][f]=!1:isNaN(Ic(w))?isNaN(Lg(w).getDate())?p[u][f]=w:p[u][f]=Ya(w):p[u][f]=Ic(w),++f;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),p[u][f++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(i,o){return d0(e(i,o),o)}function n(i,o){return Th(r(i,o),o)}var a=function(){var i=function(u,f,h,p,x){u.push(f),u.push(h+","+p),u.push('"'+x.replace(/"/g,'""')+'"')},o=function(u,f,h,p){u.push(f+","+h),u.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(u){var f=[],h=Fs(u["!ref"]),p,x=Array.isArray(u);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,h.e.r-h.s.r+1,""),i(f,"TUPLES",0,h.e.c-h.s.c+1,""),i(f,"DATA",0,0,"");for(var y=h.s.r;y<=h.e.r;++y){o(f,-1,0,"BOT");for(var w=h.s.c;w<=h.e.c;++w){var b=gs({r:y,c:w});if(p=x?(u[y]||[])[w]:u[b],!p){o(f,1,0,"");continue}switch(p.t){case"n":var N=p.w;!N&&p.v!=null&&(N=p.v),N==null?p.f&&!p.F?o(f,1,0,"="+p.f):o(f,1,0,""):o(f,0,N,"V");break;case"b":o(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Mu(p.z||dn[14],wi(Ya(p.v)))),o(f,0,p.w,"V");break;default:o(f,1,0,"")}}}o(f,-1,0,"EOD");var j=`\r
`,S=f.join(j);return S}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),dz=function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,x){for(var y=p.split(`
`),w=-1,b=-1,N=0,j=[];N!==y.length;++N){var S=y[N].trim().split(":");if(S[0]==="cell"){var A=Yn(S[1]);if(j.length<=A.r)for(w=j.length;w<=A.r;++w)j[w]||(j[w]=[]);switch(w=A.r,b=A.c,S[2]){case"t":j[w][b]=e(S[3]);break;case"v":j[w][b]=+S[3];break;case"vtf":var _=S[S.length-1];case"vtc":switch(S[3]){case"nl":j[w][b]=!!+S[4];break;default:j[w][b]=+S[4];break}S[2]=="vtf"&&(j[w][b]=[j[w][b],_])}}}return x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),j}function n(p,x){return d0(r(p,x),x)}function a(p,x){return Th(n(p,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var x=[],y=[],w,b="",N=Yi(p["!ref"]),j=Array.isArray(p),S=N.s.r;S<=N.e.r;++S)for(var A=N.s.c;A<=N.e.c;++A)if(b=gs({r:S,c:A}),w=j?(p[S]||[])[A]:p[b],!(!w||w.v==null||w.t==="z")){switch(y=["cell",b,"t"],w.t){case"s":case"str":y.push(t(w.v));break;case"n":w.f?(y[2]="vtf",y[3]="n",y[4]=w.v,y[5]=t(w.f)):(y[2]="v",y[3]=w.v);break;case"b":y[2]="vt"+(w.f?"f":"c"),y[3]="nl",y[4]=w.v?"1":"0",y[5]=t(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var _=wi(Ya(w.v));y[2]="vtc",y[3]="nd",y[4]=""+_,y[5]=w.w||Mu(w.z||dn[14],_);break;case"e":continue}x.push(y.join(":"))}return x.push("sheet:c:"+(N.e.c-N.s.c+1)+":r:"+(N.e.r-N.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function h(p){return[i,o,l,o,f(p),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}}(),u4e=function(){function e(h,p,x,y,w){w.raw?p[x][y]=h:h===""||(h==="TRUE"?p[x][y]=!0:h==="FALSE"?p[x][y]=!1:isNaN(Ic(h))?isNaN(Lg(h).getDate())?p[x][y]=h:p[x][y]=Ya(h):p[x][y]=Ic(h))}function t(h,p){var x=p||{},y=[];if(!h||h.length===0)return y;for(var w=h.split(/[\r\n]/),b=w.length-1;b>=0&&w[b].length===0;)--b;for(var N=10,j=0,S=0;S<=b;++S)j=w[S].indexOf(" "),j==-1?j=w[S].length:j++,N=Math.max(N,j);for(S=0;S<=b;++S){y[S]=[];var A=0;for(e(w[S].slice(0,N).trim(),y,S,A,x),A=1;A<=(w[S].length-N)/10+1;++A)e(w[S].slice(N+(A-1)*10,N+A*10).trim(),y,S,A,x)}return x.sheetRows&&(y=y.slice(0,x.sheetRows)),y}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var p={},x=!1,y=0,w=0;y<h.length;++y)(w=h.charCodeAt(y))==34?x=!x:!x&&w in r&&(p[w]=(p[w]||0)+1);w=[];for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&w.push([p[y],y]);if(!w.length){p=n;for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&w.push([p[y],y])}return w.sort(function(b,N){return b[0]-N[0]||n[b[1]]-n[N[1]]}),r[w.pop()[1]]||44}function i(h,p){var x=p||{},y="",w=x.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(y=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(y=h.charAt(4),h=h.slice(6)):y=a(h.slice(0,1024)):x&&x.FS?y=x.FS:y=a(h.slice(0,1024));var N=0,j=0,S=0,A=0,_=0,C=y.charCodeAt(0),k=!1,T=0,O=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var R=x.dateNF!=null?CCe(x.dateNF):null;function L(){var M=h.slice(A,_),G={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)G.t="z";else if(x.raw)G.t="s",G.v=M;else if(M.trim().length===0)G.t="s",G.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(G.t="s",G.v=M.slice(2,-1).replace(/""/g,'"')):c_e(M)?(G.t="n",G.f=M.slice(1)):(G.t="s",G.v=M);else if(M=="TRUE")G.t="b",G.v=!0;else if(M=="FALSE")G.t="b",G.v=!1;else if(!isNaN(S=Ic(M)))G.t="n",x.cellText!==!1&&(G.w=M),G.v=S;else if(!isNaN(Lg(M).getDate())||R&&M.match(R)){G.z=x.dateNF||dn[14];var V=0;R&&M.match(R)&&(M=TCe(M,x.dateNF,M.match(R)||[]),V=1),x.cellDates?(G.t="d",G.v=Ya(M,V)):(G.t="n",G.v=wi(Ya(M,V))),x.cellText!==!1&&(G.w=Mu(G.z,G.v instanceof Date?wi(G.v):G.v)),x.cellNF||delete G.z}else G.t="s",G.v=M;if(G.t=="z"||(x.dense?(w[N]||(w[N]=[]),w[N][j]=G):w[gs({c:j,r:N})]=G),A=_+1,O=h.charCodeAt(A),b.e.c<j&&(b.e.c=j),b.e.r<N&&(b.e.r=N),T==C)++j;else if(j=0,++N,x.sheetRows&&x.sheetRows<=N)return!0}e:for(;_<h.length;++_)switch(T=h.charCodeAt(_)){case 34:O===34&&(k=!k);break;case C:case 10:case 13:if(!k&&L())break e;break}return _-A>0&&L(),w["!ref"]=Tn(b),w}function o(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,p):d0(t(h,p),p)}function l(h,p){var x="",y=p.type=="string"?[0,0,0,0]:jOe(h,p);switch(p.type){case"base64":x=Xc(h);break;case"binary":x=h;break;case"buffer":p.codepage==65001?x=h.toString("utf8"):(p.codepage,x=ts&&Buffer.isBuffer(h)?h.toString("binary"):Dy(h));break;case"array":x=cN(h);break;case"string":x=h;break;default:throw new Error("Unrecognized type "+p.type)}return y[0]==239&&y[1]==187&&y[2]==191?x=Ux(x.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?x=Ux(x):p.type=="binary",x.slice(0,19)=="socialcalc:version:"?dz.to_sheet(p.type=="string"?x:Ux(x),p):o(x,p)}function u(h,p){return Th(l(h,p),p)}function f(h){for(var p=[],x=Fs(h["!ref"]),y,w=Array.isArray(h),b=x.s.r;b<=x.e.r;++b){for(var N=[],j=x.s.c;j<=x.e.c;++j){var S=gs({r:b,c:j});if(y=w?(h[b]||[])[j]:h[S],!y||y.v==null){N.push("          ");continue}for(var A=(y.w||(Zc(y),y.w)||"").slice(0,10);A.length<10;)A+=" ";N.push(A+(j===0?" ":""))}p.push(N.join(""))}return p.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:f}}(),E6=function(){function e(P,X,K){if(P){Mi(P,P.l||0);for(var H=K.Enum||q;P.l<P.length;){var J=P.read_shift(2),ce=H[J]||H[65535],ae=P.read_shift(2),ee=P.l+ae,ne=ce.f&&ce.f(P,ae,K);if(P.l=ee,X(ne,ce,J))return}}}function t(P,X){switch(X.type){case"base64":return r(Ko(Xc(P)),X);case"binary":return r(Ko(P),X);case"buffer":case"array":return r(P,X)}throw"Unsupported type "+X.type}function r(P,X){if(!P)return P;var K=X||{},H=K.dense?[]:{},J="Sheet1",ce="",ae=0,ee={},ne=[],ke=[],we={s:{r:0,c:0},e:{r:0,c:0}},et=K.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)K.Enum=q,e(P,function(ue,Ce,De){switch(De){case 0:K.vers=ue,ue>=4096&&(K.qpro=!0);break;case 6:we=ue;break;case 204:ue&&(ce=ue);break;case 222:ce=ue;break;case 15:case 51:K.qpro||(ue[1].v=ue[1].v.slice(1));case 13:case 14:case 16:De==14&&(ue[2]&112)==112&&(ue[2]&15)>1&&(ue[2]&15)<15&&(ue[1].z=K.dateNF||dn[14],K.cellDates&&(ue[1].t="d",ue[1].v=Cq(ue[1].v))),K.qpro&&ue[3]>ae&&(H["!ref"]=Tn(we),ee[J]=H,ne.push(J),H=K.dense?[]:{},we={s:{r:0,c:0},e:{r:0,c:0}},ae=ue[3],J=ce||"Sheet"+(ae+1),ce="");var Et=K.dense?(H[ue[0].r]||[])[ue[0].c]:H[gs(ue[0])];if(Et){Et.t=ue[1].t,Et.v=ue[1].v,ue[1].z!=null&&(Et.z=ue[1].z),ue[1].f!=null&&(Et.f=ue[1].f);break}K.dense?(H[ue[0].r]||(H[ue[0].r]=[]),H[ue[0].r][ue[0].c]=ue[1]):H[gs(ue[0])]=ue[1];break}},K);else if(P[2]==26||P[2]==14)K.Enum=Q,P[2]==14&&(K.qpro=!0,P.l=0),e(P,function(ue,Ce,De){switch(De){case 204:J=ue;break;case 22:ue[1].v=ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ue[3]>ae&&(H["!ref"]=Tn(we),ee[J]=H,ne.push(J),H=K.dense?[]:{},we={s:{r:0,c:0},e:{r:0,c:0}},ae=ue[3],J="Sheet"+(ae+1)),et>0&&ue[0].r>=et)break;K.dense?(H[ue[0].r]||(H[ue[0].r]=[]),H[ue[0].r][ue[0].c]=ue[1]):H[gs(ue[0])]=ue[1],we.e.c<ue[0].c&&(we.e.c=ue[0].c),we.e.r<ue[0].r&&(we.e.r=ue[0].r);break;case 27:ue[14e3]&&(ke[ue[14e3][0]]=ue[14e3][1]);break;case 1537:ke[ue[0]]=ue[1],ue[0]==ae&&(J=ue[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(H["!ref"]=Tn(we),ee[ce||J]=H,ne.push(ce||J),!ke.length)return{SheetNames:ne,Sheets:ee};for(var Ee={},Te=[],Fe=0;Fe<ke.length;++Fe)ee[ne[Fe]]?(Te.push(ke[Fe]||ne[Fe]),Ee[ke[Fe]]=ee[ke[Fe]]||ee[ne[Fe]]):(Te.push(ke[Fe]),Ee[ke[Fe]]={"!ref":"A1"});return{SheetNames:Te,Sheets:Ee}}function n(P,X){var K=X||{};if(+K.codepage>=0&&Ig(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var H=vi(),J=Fs(P["!ref"]),ce=Array.isArray(P),ae=[];jt(H,0,i(1030)),jt(H,6,u(J));for(var ee=Math.min(J.e.r,8191),ne=J.s.r;ne<=ee;++ne)for(var ke=oa(ne),we=J.s.c;we<=J.e.c;++we){ne===J.s.r&&(ae[we]=Ra(we));var et=ae[we]+ke,Ee=ce?(P[ne]||[])[we]:P[et];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")(Ee.v|0)==Ee.v&&Ee.v>=-32768&&Ee.v<=32767?jt(H,13,y(ne,we,Ee.v)):jt(H,14,b(ne,we,Ee.v));else{var Te=Zc(Ee);jt(H,15,p(ne,we,Te.slice(0,239)))}}return jt(H,1),H.end()}function a(P,X){var K=X||{};if(+K.codepage>=0&&Ig(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var H=vi();jt(H,0,o(P));for(var J=0,ce=0;J<P.SheetNames.length;++J)(P.Sheets[P.SheetNames[J]]||{})["!ref"]&&jt(H,27,W(P.SheetNames[J],ce++));var ae=0;for(J=0;J<P.SheetNames.length;++J){var ee=P.Sheets[P.SheetNames[J]];if(!(!ee||!ee["!ref"])){for(var ne=Fs(ee["!ref"]),ke=Array.isArray(ee),we=[],et=Math.min(ne.e.r,8191),Ee=ne.s.r;Ee<=et;++Ee)for(var Te=oa(Ee),Fe=ne.s.c;Fe<=ne.e.c;++Fe){Ee===ne.s.r&&(we[Fe]=Ra(Fe));var ue=we[Fe]+Te,Ce=ke?(ee[Ee]||[])[Fe]:ee[ue];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")jt(H,23,L(Ee,Fe,ae,Ce.v));else{var De=Zc(Ce);jt(H,22,T(Ee,Fe,ae,De.slice(0,239)))}}++ae}}return jt(H,1),H.end()}function i(P){var X=Je(2);return X.write_shift(2,P),X}function o(P){var X=Je(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var K=0,H=0,J=0,ce=0;ce<P.SheetNames.length;++ce){var ae=P.SheetNames[ce],ee=P.Sheets[ae];if(!(!ee||!ee["!ref"])){++J;var ne=Yi(ee["!ref"]);K<ne.e.r&&(K=ne.e.r),H<ne.e.c&&(H=ne.e.c)}}return K>8191&&(K=8191),X.write_shift(2,K),X.write_shift(1,J),X.write_shift(1,H),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function l(P,X,K){var H={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&K.qpro?(H.s.c=P.read_shift(1),P.l++,H.s.r=P.read_shift(2),H.e.c=P.read_shift(1),P.l++,H.e.r=P.read_shift(2),H):(H.s.c=P.read_shift(2),H.s.r=P.read_shift(2),X==12&&K.qpro&&(P.l+=2),H.e.c=P.read_shift(2),H.e.r=P.read_shift(2),X==12&&K.qpro&&(P.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function u(P){var X=Je(8);return X.write_shift(2,P.s.c),X.write_shift(2,P.s.r),X.write_shift(2,P.e.c),X.write_shift(2,P.e.r),X}function f(P,X,K){var H=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(H[0].c=P.read_shift(1),H[3]=P.read_shift(1),H[0].r=P.read_shift(2),P.l+=2):(H[2]=P.read_shift(1),H[0].c=P.read_shift(2),H[0].r=P.read_shift(2)),H}function h(P,X,K){var H=P.l+X,J=f(P,X,K);if(J[1].t="s",K.vers==20768){P.l++;var ce=P.read_shift(1);return J[1].v=P.read_shift(ce,"utf8"),J}return K.qpro&&P.l++,J[1].v=P.read_shift(H-P.l,"cstr"),J}function p(P,X,K){var H=Je(7+K.length);H.write_shift(1,255),H.write_shift(2,X),H.write_shift(2,P),H.write_shift(1,39);for(var J=0;J<H.length;++J){var ce=K.charCodeAt(J);H.write_shift(1,ce>=128?95:ce)}return H.write_shift(1,0),H}function x(P,X,K){var H=f(P,X,K);return H[1].v=P.read_shift(2,"i"),H}function y(P,X,K){var H=Je(7);return H.write_shift(1,255),H.write_shift(2,X),H.write_shift(2,P),H.write_shift(2,K,"i"),H}function w(P,X,K){var H=f(P,X,K);return H[1].v=P.read_shift(8,"f"),H}function b(P,X,K){var H=Je(13);return H.write_shift(1,255),H.write_shift(2,X),H.write_shift(2,P),H.write_shift(8,K,"f"),H}function N(P,X,K){var H=P.l+X,J=f(P,X,K);if(J[1].v=P.read_shift(8,"f"),K.qpro)P.l=H;else{var ce=P.read_shift(2);_(P.slice(P.l,P.l+ce),J),P.l+=ce}return J}function j(P,X,K){var H=X&32768;return X&=-32769,X=(H?P:0)+(X>=8192?X-16384:X),(H?"":"$")+(K?Ra(X):oa(X))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(P,X){Mi(P,0);for(var K=[],H=0,J="",ce="",ae="",ee="";P.l<P.length;){var ne=P[P.l++];switch(ne){case 0:K.push(P.read_shift(8,"f"));break;case 1:ce=j(X[0].c,P.read_shift(2),!0),J=j(X[0].r,P.read_shift(2),!1),K.push(ce+J);break;case 2:{var ke=j(X[0].c,P.read_shift(2),!0),we=j(X[0].r,P.read_shift(2),!1);ce=j(X[0].c,P.read_shift(2),!0),J=j(X[0].r,P.read_shift(2),!1),K.push(ke+we+":"+ce+J)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(P.read_shift(2));break;case 6:{for(var et="";ne=P[P.l++];)et+=String.fromCharCode(ne);K.push('"'+et.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:ee=K.pop(),ae=K.pop(),K.push(["AND","OR"][ne-20]+"("+ae+","+ee+")");break;default:if(ne<32&&A[ne])ee=K.pop(),ae=K.pop(),K.push(ae+A[ne]+ee);else if(S[ne]){if(H=S[ne][1],H==69&&(H=P[P.l++]),H>K.length){console.error("WK1 bad formula parse 0x"+ne.toString(16)+":|"+K.join("|")+"|");return}var Ee=K.slice(-H);K.length-=H,K.push(S[ne][0]+"("+Ee.join(",")+")")}else return ne<=7?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=24?console.error("WK1 unsupported op "+ne.toString(16)):ne<=30?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=115?console.error("WK1 unsupported function opcode "+ne.toString(16)):console.error("WK1 unrecognized opcode "+ne.toString(16))}}K.length==1?X[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function C(P){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=P.read_shift(2),X[3]=P[P.l++],X[0].c=P[P.l++],X}function k(P,X){var K=C(P);return K[1].t="s",K[1].v=P.read_shift(X-4,"cstr"),K}function T(P,X,K,H){var J=Je(6+H.length);J.write_shift(2,P),J.write_shift(1,K),J.write_shift(1,X),J.write_shift(1,39);for(var ce=0;ce<H.length;++ce){var ae=H.charCodeAt(ce);J.write_shift(1,ae>=128?95:ae)}return J.write_shift(1,0),J}function O(P,X){var K=C(P);K[1].v=P.read_shift(2);var H=K[1].v>>1;if(K[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return K[1].v=H,K}function R(P,X){var K=C(P),H=P.read_shift(4),J=P.read_shift(4),ce=P.read_shift(2);if(ce==65535)return H===0&&J===3221225472?(K[1].t="e",K[1].v=15):H===0&&J===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var ae=ce&32768;return ce=(ce&32767)-16446,K[1].v=(1-ae*2)*(J*Math.pow(2,ce+32)+H*Math.pow(2,ce)),K}function L(P,X,K,H){var J=Je(14);if(J.write_shift(2,P),J.write_shift(1,K),J.write_shift(1,X),H==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var ce=0,ae=0,ee=0,ne=0;return H<0&&(ce=1,H=-H),ae=Math.log2(H)|0,H/=Math.pow(2,ae-31),ne=H>>>0,(ne&2147483648)==0&&(H/=2,++ae,ne=H>>>0),H-=ne,ne|=2147483648,ne>>>=0,H*=Math.pow(2,32),ee=H>>>0,J.write_shift(4,ee),J.write_shift(4,ne),ae+=16383+(ce?32768:0),J.write_shift(2,ae),J}function M(P,X){var K=R(P);return P.l+=X-14,K}function G(P,X){var K=C(P),H=P.read_shift(4);return K[1].v=H>>6,K}function V(P,X){var K=C(P),H=P.read_shift(8,"f");return K[1].v=H,K}function ie(P,X){var K=V(P);return P.l+=X-10,K}function le(P,X){return P[P.l+X-1]==0?P.read_shift(X,"cstr"):""}function B(P,X){var K=P[P.l++];K>X-1&&(K=X-1);for(var H="";H.length<K;)H+=String.fromCharCode(P[P.l++]);return H}function U(P,X,K){if(!(!K.qpro||X<21)){var H=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var J=P.read_shift(X-21,"cstr");return[H,J]}}function F(P,X){for(var K={},H=P.l+X;P.l<H;){var J=P.read_shift(2);if(J==14e3){for(K[J]=[0,""],K[J][0]=P.read_shift(2);P[P.l];)K[J][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return K}function W(P,X){var K=Je(5+P.length);K.write_shift(2,14e3),K.write_shift(2,X);for(var H=0;H<P.length;++H){var J=P.charCodeAt(H);K[K.l++]=J>127?95:J}return K[K.l++]=0,K}var q={0:{n:"BOF",f:az},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:N},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:le},222:{n:"SHEETNAMELP",f:B},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:F},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:U},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),f4e=/^\s|\s$|[\t\n\r]/;function uz(e,t){if(!t.bookSST)return"";var r=[kn];r[r.length]=bt("sst",null,{xmlns:c0[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(f4e)&&(i+=' xml:space="preserve"'),i+=">"+xs(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function h4e(e){return[e.read_shift(4),e.read_shift(4)]}function m4e(e,t){return t||(t=Je(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var p4e=aTe;function x4e(e){var t=vi();dt(t,159,m4e(e));for(var r=0;r<e.length;++r)dt(t,19,p4e(e[r]));return dt(t,160),t.end()}function g4e(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function fz(e){var t=0,r,n=g4e(e),a=n.length+1,i,o,l,u,f;for(r=ih(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,u=t<<1&32767,f=l|u,t=f^o;return t^52811}var y4e=function(){function e(a,i){switch(i.type){case"base64":return t(Xc(a),i);case"binary":return t(a,i);case"buffer":return t(ts&&Buffer.isBuffer(a)?a.toString("binary"):Dy(a),i);case"array":return t(cN(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,p){Array.isArray(l)&&(l[p]=[]);for(var x=/\\\w+\b/g,y=0,w,b=-1;w=x.exec(h);){switch(w[0]){case"\\cell":var N=h.slice(y,x.lastIndex-w[0].length);if(N[0]==" "&&(N=N.slice(1)),++b,N.length){var j={v:N,t:"s"};Array.isArray(l)?l[p][b]=j:l[gs({r:p,c:b})]=j}break}y=x.lastIndex}b>f.e.c&&(f.e.c=b)}),l["!ref"]=Tn(f),l}function r(a,i){return Th(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Fs(a["!ref"]),l,u=Array.isArray(a),f=o.s.r;f<=o.e.r;++f){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var p=gs({r:f,c:h});l=u?(a[f]||[])[h]:a[p],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Zc(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function A6(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var v4e=6,Fc=v4e;function Ub(e){return Math.floor((e+Math.round(128/Fc)/256)*Fc)}function Vb(e){return Math.floor((e-5)/Fc*100+.5)/100}function cC(e){return Math.round((e*Fc+5)/Fc*256)/256}function l_(e){e.width?(e.wpx=Ub(e.width),e.wch=Vb(e.wpx),e.MDW=Fc):e.wpx?(e.wch=Vb(e.wpx),e.width=cC(e.wch),e.MDW=Fc):typeof e.wch=="number"&&(e.width=cC(e.wch),e.wpx=Ub(e.width),e.MDW=Fc),e.customWidth&&delete e.customWidth}var b4e=96,hz=b4e;function qb(e){return e*96/hz}function mz(e){return e*hz/96}function w4e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=bt("numFmt",null,{numFmtId:n,formatCode:xs(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=bt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function N4e(e){var t=[];return t[t.length]=bt("cellXfs",null),e.forEach(function(r){t[t.length]=bt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=bt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function pz(e,t){var r=[kn,bt("styleSheet",null,{xmlns:c0[0],"xmlns:vt":Hn.vt})],n;return e.SSF&&(n=w4e(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=N4e(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function j4e(e,t){var r=e.read_shift(2),n=Pa(e);return[r,n]}function S4e(e,t,r){r||(r=Je(6+4*t.length)),r.write_shift(2,e),Kn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function E4e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=fTe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=uTe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Pa(e),n}function A4e(e,t){t||(t=Je(25+4*32)),t.write_shift(2,e.sz*20),hTe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Bb(e.color,t);var n=0;return n=2,t.write_shift(1,n),Kn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var C4e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],JS,T4e=Xl;function C6(e,t){t||(t=Je(4*3+8*7+16*1)),JS||(JS=Q4(C4e));var r=JS[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Bb({auto:1},t),Bb({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function _4e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function xz(e,t,r){r||(r=Je(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function vx(e,t){return t||(t=Je(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var k4e=Xl;function D4e(e,t){return t||(t=Je(51)),t.write_shift(1,0),vx(null,t),vx(null,t),vx(null,t),vx(null,t),vx(null,t),t.length>t.l?t.slice(0,t.l):t}function O4e(e,t){return t||(t=Je(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Lb(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function R4e(e,t,r){var n=Je(2052);return n.write_shift(4,e),Lb(t,n),Lb(r,n),n.length>n.l?n.slice(0,n.l):n}function P4e(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(dt(e,615,el(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&dt(e,44,S4e(a,t[a]))}),dt(e,616))}}function M4e(e){var t=1;dt(e,611,el(t)),dt(e,43,A4e({sz:12,color:{theme:1},name:"Calibri",family:2})),dt(e,612)}function I4e(e){var t=2;dt(e,603,el(t)),dt(e,45,C6({patternType:"none"})),dt(e,45,C6({patternType:"gray125"})),dt(e,604)}function F4e(e){var t=1;dt(e,613,el(t)),dt(e,46,D4e()),dt(e,614)}function L4e(e){var t=1;dt(e,626,el(t)),dt(e,47,xz({numFmtId:0},65535)),dt(e,627)}function B4e(e,t){dt(e,617,el(t.length)),t.forEach(function(r){dt(e,47,xz(r,0))}),dt(e,618)}function $4e(e){var t=1;dt(e,619,el(t)),dt(e,48,O4e({xfId:0,name:"Normal"})),dt(e,620)}function U4e(e){var t=0;dt(e,505,el(t)),dt(e,506)}function V4e(e){var t=0;dt(e,508,R4e(t,"TableStyleMedium9","PivotStyleMedium4")),dt(e,509)}function q4e(e,t){var r=vi();return dt(r,278),P4e(r,e.SSF),M4e(r),I4e(r),F4e(r),L4e(r),B4e(r,t.cellXfs),$4e(r),U4e(r),V4e(r),dt(r,279),r.end()}function gz(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[kn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function z4e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Pa(e)}}function H4e(e){var t=Je(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Kn(e.name,t),t.slice(0,t.l)}function W4e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function G4e(e){var t=Je(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Y4e(e,t){var r=Je(8+2*t.length);return r.write_shift(4,e),Kn(t,r),r.slice(0,r.l)}function K4e(e){return e.l+=4,e.read_shift(4)!=0}function Q4e(e,t){var r=Je(8);return r.write_shift(4,e),r.write_shift(4,1),r}function X4e(){var e=vi();return dt(e,332),dt(e,334,el(1)),dt(e,335,H4e({name:"XLDAPR",version:12e4,flags:3496657072})),dt(e,336),dt(e,339,Y4e(1,"XLDAPR")),dt(e,52),dt(e,35,el(514)),dt(e,4096,el(0)),dt(e,4097,mo(1)),dt(e,36),dt(e,53),dt(e,340),dt(e,337,Q4e(1)),dt(e,51,G4e([[1,0]])),dt(e,338),dt(e,333),e.end()}function yz(){var e=[kn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Z4e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=gs(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Um=1024;function vz(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[bt("xml",null,{"xmlns:v":Fi.v,"xmlns:o":Fi.o,"xmlns:x":Fi.x,"xmlns:mv":Fi.mv}).replace(/\/>/,">"),bt("o:shapelayout",bt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),bt("v:shapetype",[bt("v:stroke",null,{joinstyle:"miter"}),bt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Um<e*1e3;)Um+=1e3;return t.forEach(function(i){var o=Yn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var u=l.type=="gradient"?bt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=bt("v:fill",u,l),h={on:"t",obscured:"t"};++Um,a=a.concat(["<v:shape"+$g({id:"_x0000_s"+Um,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,bt("v:shadow",null,h),bt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",aa("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),aa("x:AutoFill","False"),aa("x:Row",String(o.r)),aa("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function bz(e){var t=[kn,bt("comments",null,{xmlns:c0[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=xs(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(u){u.a&&(a=r.indexOf(xs(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(aa("t",xs(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(aa("t",xs(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function J4e(e,t,r){var n=[kn,bt("ThreadedComments",null,{xmlns:Hn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var u={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=u.id:u.parentId=i,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(bt("threadedComment",aa("text",o.t||""),u))})}),n.push("</ThreadedComments>"),n.join("")}function e_e(e){var t=[kn,bt("personList",null,{xmlns:Hn.TCMNT,"xmlns:x":c0[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(bt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function t_e(e){var t={};t.iauthor=e.read_shift(4);var r=Oh(e);return t.rfx=r.s,t.ref=gs(r.s),e.l+=16,t}function r_e(e,t){return t==null&&(t=Je(36)),t.write_shift(4,e[1].iauthor),u0(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var s_e=Pa;function n_e(e){return Kn(e.slice(0,54))}function a_e(e){var t=vi(),r=[];return dt(t,628),dt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),dt(t,632,n_e(a.a)))})}),dt(t,631),dt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Yn(n[0]),e:Yn(n[0])};dt(t,635,r_e([i,a])),a.t&&a.t.length>0&&dt(t,637,oTe(a)),dt(t,636),delete a.iauthor})}),dt(t,634),dt(t,629),t.end()}function i_e(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&js.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var wz=["xlsb","xlsm","xlam","biff8","xla"],o_e=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return l?h+=t.c:--h,u?f+=t.r:--f,a+(l?"":"$")+Ra(h)+(u?"":"$")+oa(f)}return function(a,i){return t=i,a.replace(e,r)}}(),c_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,d_=function(){return function(t,r){return t.replace(c_,function(n,a,i,o,l,u){var f=s_(o)-(i?0:r.c),h=r_(u)-(l?0:r.r),p=h==0?"":l?h+1:"["+h+"]",x=f==0?"":i?f+1:"["+f+"]";return a+"R"+p+"C"+x})}}();function l_e(e,t){return e.replace(c_,function(r,n,a,i,o,l){return n+(a=="$"?a+i:Ra(s_(i)+t.c))+(o=="$"?o+l:oa(r_(l)+t.r))})}function c_e(e){return e.length!=1}function En(e){e.l+=1}function Iu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Nz(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return jz(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Iu(e),l=Iu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function jz(e){var t=Iu(e),r=Iu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function d_e(e,t,r){if(r.biff<8)return jz(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Iu(e),o=Iu(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Sz(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return u_e(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Iu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function u_e(e){var t=Iu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function f_e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function h_e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return m_e(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function m_e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function p_e(e,t,r){var n=(e[e.l++]&96)>>5,a=Nz(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function x_e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Nz(e,i,r);return[n,a,o]}function g_e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function y_e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function v_e(e,t,r){var n=(e[e.l++]&96)>>5,a=d_e(e,t-1,r);return[n,a]}function b_e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function T6(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function w_e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function N_e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function j_e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function S_e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function E_e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Ez(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function A_e(e){return e.read_shift(2),Ez(e)}function C_e(e){return e.read_shift(2),Ez(e)}function T_e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Sz(e,0,r);return[n,a]}function __e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=h_e(e,0,r);return[n,a]}function k_e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Sz(e,0,r);return[n,a,i]}function D_e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Dke[a],Tz[a],n]}function O_e(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:R_e(e);return[a,(i[0]===0?Tz:kke)[i[1]]]}function R_e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function P_e(e,t,r){e.l+=r&&r.biff==2?3:4}function M_e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function I_e(e){return e.l++,Py[e.read_shift(1)]}function F_e(e){return e.l++,e.read_shift(2)}function L_e(e){return e.l++,e.read_shift(1)!==0}function B_e(e){return e.l++,f0(e)}function $_e(e,t,r){return e.l++,oz(e,t-1,r)}function U_e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=kTe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Py[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=f0(e);break;case 2:r[1]=PTe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function V_e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Oh:FTe)(e));return a}function q_e(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=U_e(e,r.biff);return o}function z_e(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function H_e(e,t,r){if(r.biff==5)return W_e(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function W_e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function G_e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Y_e(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function K_e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Q_e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var X_e=Xl,Z_e=Xl,J_e=Xl;function My(e,t,r){return e.l+=2,[f_e(e)]}function u_(e){return e.l+=6,[]}var eke=My,tke=u_,rke=u_,ske=My;function Az(e){return e.l+=2,[az(e),e.read_shift(2)&1]}var nke=My,ake=Az,ike=u_,oke=My,lke=My,cke=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function dke(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=cke[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function uke(e){return e.l+=2,[e.read_shift(4)]}function fke(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function hke(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function mke(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function pke(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function xke(e){return e.l+=4,[0,0]}var _6={1:{n:"PtgExp",f:M_e},2:{n:"PtgTbl",f:J_e},3:{n:"PtgAdd",f:En},4:{n:"PtgSub",f:En},5:{n:"PtgMul",f:En},6:{n:"PtgDiv",f:En},7:{n:"PtgPower",f:En},8:{n:"PtgConcat",f:En},9:{n:"PtgLt",f:En},10:{n:"PtgLe",f:En},11:{n:"PtgEq",f:En},12:{n:"PtgGe",f:En},13:{n:"PtgGt",f:En},14:{n:"PtgNe",f:En},15:{n:"PtgIsect",f:En},16:{n:"PtgUnion",f:En},17:{n:"PtgRange",f:En},18:{n:"PtgUplus",f:En},19:{n:"PtgUminus",f:En},20:{n:"PtgPercent",f:En},21:{n:"PtgParen",f:En},22:{n:"PtgMissArg",f:En},23:{n:"PtgStr",f:$_e},26:{n:"PtgSheet",f:fke},27:{n:"PtgEndSheet",f:hke},28:{n:"PtgErr",f:I_e},29:{n:"PtgBool",f:L_e},30:{n:"PtgInt",f:F_e},31:{n:"PtgNum",f:B_e},32:{n:"PtgArray",f:b_e},33:{n:"PtgFunc",f:D_e},34:{n:"PtgFuncVar",f:O_e},35:{n:"PtgName",f:z_e},36:{n:"PtgRef",f:T_e},37:{n:"PtgArea",f:p_e},38:{n:"PtgMemArea",f:G_e},39:{n:"PtgMemErr",f:X_e},40:{n:"PtgMemNoMem",f:Z_e},41:{n:"PtgMemFunc",f:Y_e},42:{n:"PtgRefErr",f:K_e},43:{n:"PtgAreaErr",f:g_e},44:{n:"PtgRefN",f:__e},45:{n:"PtgAreaN",f:v_e},46:{n:"PtgMemAreaN",f:mke},47:{n:"PtgMemNoMemN",f:pke},57:{n:"PtgNameX",f:H_e},58:{n:"PtgRef3d",f:k_e},59:{n:"PtgArea3d",f:x_e},60:{n:"PtgRefErr3d",f:Q_e},61:{n:"PtgAreaErr3d",f:y_e},255:{}},gke={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},yke={1:{n:"PtgElfLel",f:Az},2:{n:"PtgElfRw",f:oke},3:{n:"PtgElfCol",f:eke},6:{n:"PtgElfRwV",f:lke},7:{n:"PtgElfColV",f:ske},10:{n:"PtgElfRadical",f:nke},11:{n:"PtgElfRadicalS",f:ike},13:{n:"PtgElfColS",f:tke},15:{n:"PtgElfColSV",f:rke},16:{n:"PtgElfRadicalLel",f:ake},25:{n:"PtgList",f:dke},29:{n:"PtgSxName",f:uke},255:{}},vke={0:{n:"PtgAttrNoop",f:xke},1:{n:"PtgAttrSemi",f:E_e},2:{n:"PtgAttrIf",f:j_e},4:{n:"PtgAttrChoose",f:w_e},8:{n:"PtgAttrGoto",f:N_e},16:{n:"PtgAttrSum",f:P_e},32:{n:"PtgAttrBaxcel",f:T6},33:{n:"PtgAttrBaxcel",f:T6},64:{n:"PtgAttrSpace",f:A_e},65:{n:"PtgAttrSpaceSemi",f:C_e},128:{n:"PtgAttrIfError",f:S_e},255:{}};function bke(e,t,r,n){if(n.biff<8)return Xl(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=q_e(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=V_e(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Xl(e,t)),i}function wke(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=_6[i]||_6[gke[i]],(i===24||i===25)&&(a=(i===24?yke:vke)[e[e.l+1]]),!a||!a.f?Xl(e,t):o.push([a.n,a.f(e,t,r)]);return o}function Nke(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var jke={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Ske(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Cz(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function k6(e,t,r){var n=Cz(e,t,r);return n=="#REF"?n:Ske(n,r)}function Pp(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],u,f,h,p=0,x=0,y,w="";if(!e[0]||!e[0][0])return"";for(var b=-1,N="",j=0,S=e[0].length;j<S;++j){var A=e[0][j];switch(A[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),f=l.pop(),b>=0){switch(e[0][b][1][0]){case 0:N=cn(" ",e[0][b][1][1]);break;case 1:N=cn("\r",e[0][b][1][1]);break;default:if(N="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}f=f+N,b=-1}l.push(f+jke[A[0]]+u);break;case"PtgIsect":u=l.pop(),f=l.pop(),l.push(f+" "+u);break;case"PtgUnion":u=l.pop(),f=l.pop(),l.push(f+","+u);break;case"PtgRange":u=l.pop(),f=l.pop(),l.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=qx(A[1][1],o,a),l.push(zx(h,i));break;case"PtgRefN":h=r?qx(A[1][1],r,a):A[1][1],l.push(zx(h,i));break;case"PtgRef3d":p=A[1][1],h=qx(A[1][2],o,a),w=k6(n,p,a),l.push(w+"!"+zx(h,i));break;case"PtgFunc":case"PtgFuncVar":var _=A[1][0],C=A[1][1];_||(_=0),_&=127;var k=_==0?[]:l.slice(-_);l.length-=_,C==="User"&&(C=k.shift()),l.push(C+"("+k.join(",")+")");break;case"PtgBool":l.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(A[1]);break;case"PtgNum":l.push(String(A[1]));break;case"PtgStr":l.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(A[1]);break;case"PtgAreaN":y=m6(A[1][1],r?{s:r}:o,a),l.push(XS(y,a));break;case"PtgArea":y=m6(A[1][1],o,a),l.push(XS(y,a));break;case"PtgArea3d":p=A[1][1],y=A[1][2],w=k6(n,p,a),l.push(w+"!"+XS(y,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=A[1][2];var T=(n.names||[])[x-1]||(n[0]||[])[x],O=T?T.Name:"SH33TJSNAME"+String(x);O&&O.slice(0,6)=="_xlfn."&&!a.xlfn&&(O=O.slice(6)),l.push(O);break;case"PtgNameX":var R=A[1][1];x=A[1][2];var L;if(a.biff<=5)R<0&&(R=-R),n[R]&&(L=n[R][x]);else{var M="";if(((n[R]||[])[0]||[])[0]==14849||(((n[R]||[])[0]||[])[0]==1025?n[R][x]&&n[R][x].itab>0&&(M=n.SheetNames[n[R][x].itab-1]+"!"):M=n.SheetNames[x-1]+"!"),n[R]&&n[R][x])M+=n[R][x].Name;else if(n[0]&&n[0][x])M+=n[0][x].Name;else{var G=(Cz(n,R,a)||"").split(";;");G[x-1]?M=G[x-1]:M+="SH33TJSERRX"}l.push(M);break}L||(L={Name:"SH33TJSERRY"}),l.push(L.Name);break;case"PtgParen":var V="(",ie=")";if(b>=0){switch(N="",e[0][b][1][0]){case 2:V=cn(" ",e[0][b][1][1])+V;break;case 3:V=cn("\r",e[0][b][1][1])+V;break;case 4:ie=cn(" ",e[0][b][1][1])+ie;break;case 5:ie=cn("\r",e[0][b][1][1])+ie;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}l.push(V+l.pop()+ie);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":h={c:A[1][1],r:A[1][0]};var le={c:r.c,r:r.r};if(n.sharedf[gs(h)]){var B=n.sharedf[gs(h)];l.push(Pp(B,o,le,n,a))}else{var U=!1;for(u=0;u!=n.arrayf.length;++u)if(f=n.arrayf[u],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){l.push(Pp(f[1],o,le,n,a)),U=!0;break}U||l.push(A[1])}break;case"PtgArray":l.push("{"+Nke(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var F=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&b>=0&&F.indexOf(e[0][j][0])==-1){A=e[0][b];var W=!0;switch(A[1][0]){case 4:W=!1;case 0:N=cn(" ",A[1][1]);break;case 5:W=!1;case 1:N=cn("\r",A[1][1]);break;default:if(N="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}l.push((W?N:"")+l.pop()+(W?"":N)),b=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function Eke(e){if(e==null){var t=Je(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return oh(e);return oh(0)}function Ake(e,t,r,n,a){var i=lh(t,r,a),o=Eke(e.v),l=Je(6),u=33;l.write_shift(2,u),l.write_shift(4,0);for(var f=Je(e.bf.length),h=0;h<e.bf.length;++h)f[h]=e.bf[h];var p=na([i,o,l,f]);return p}function dN(e,t,r){var n=e.read_shift(4),a=wke(e,n,r),i=e.read_shift(4),o=i>0?bke(e,i,a,r):null;return[a,o]}var Cke=dN,uN=dN,Tke=dN,_ke=dN,kke={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Tz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Dke={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Oke(e){var t="of:="+e.replace(c_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Rke(e){return e.replace(/\./,"!")}var Hx=typeof Map<"u";function f_(e,t,r){var n=0,a=e.length;if(r){if(Hx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Hx?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Hx?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function fN(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Fc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Vb(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=cC(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function _z(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Gu(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Sq(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Pke(e,t,r){if(e&&e["!ref"]){var n=Fs(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Mke(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Tn(e[r])+'"/>';return t+"</mergeCells>"}function Ike(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,o.codeName=Bg(xs(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),l=(l||"")+bt("outlinePr",null,f)}!i&&!l||(a[a.length]=bt("sheetPr",l,o))}var Fke=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Lke=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Bke(e){var t={sheet:1};return Fke.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Lke.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=fz(e.password).toString(16).toUpperCase()),bt("sheetProtection",null,t)}function $ke(e){return _z(e),bt("pageMargins",null,e)}function Uke(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=bt("col",null,fN(a,n)));return r[r.length]="</cols>",r.join("")}function Vke(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Tn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Yi(a);o.s.r==o.e.r&&(o.e.r=Yi(t["!ref"]).e.r,a=Tn(o));for(var l=0;l<i.length;++l){var u=i[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),bt("autoFilter",null,{ref:a})}function qke(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),bt("sheetViews",bt("sheetView",null,a),{})}function zke(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Py[e.v];break;case"d":n&&n.cellDates?a=Ya(e.v,-1).toISOString():(e=Ni(e),e.t="n",a=""+(e.v=wi(Ya(e.v)))),typeof e.z>"u"&&(e.z=dn[14]);break;default:a=e.v;break}var l=aa("v",xs(a)),u={r:t},f=Gu(n.cellXfs,e,n);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=aa("v",""+f_(n.Strings,e.v,n.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=bt("f",xs(e.f),h)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),bt("c",l,u)}function Hke(e,t,r,n){var a=[],i=[],o=Fs(e["!ref"]),l="",u,f="",h=[],p=0,x=0,y=e["!rows"],w=Array.isArray(e),b={r:f},N,j=-1;for(x=o.s.c;x<=o.e.c;++x)h[x]=Ra(x);for(p=o.s.r;p<=o.e.r;++p){for(i=[],f=oa(p),x=o.s.c;x<=o.e.c;++x){u=h[x]+f;var S=w?(e[p]||[])[x]:e[u];S!==void 0&&(l=zke(S,u,e,t))!=null&&i.push(l)}(i.length>0||y&&y[p])&&(b={r:f},y&&y[p]&&(N=y[p],N.hidden&&(b.hidden=1),j=-1,N.hpx?j=qb(N.hpx):N.hpt&&(j=N.hpt),j>-1&&(b.ht=j,b.customHeight=1),N.level&&(b.outlineLevel=N.level)),a[a.length]=bt("row",i.join(""),b))}if(y)for(;p<y.length;++p)y&&y[p]&&(b={r:p+1},N=y[p],N.hidden&&(b.hidden=1),j=-1,N.hpx?j=qb(N.hpx):N.hpt&&(j=N.hpt),j>-1&&(b.ht=j,b.customHeight=1),N.level&&(b.outlineLevel=N.level),a[a.length]=bt("row","",b));return a.join("")}function kz(e,t,r,n){var a=[kn,bt("worksheet",null,{xmlns:c0[0],"xmlns:r":Hn.r})],i=r.SheetNames[e],o=0,l="",u=r.Sheets[i];u==null&&(u={});var f=u["!ref"]||"A1",h=Fs(f);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=Tn(h)}n||(n={}),u["!comments"]=[];var p=[];Ike(u,r,e,t,a),a[a.length]=bt("dimension",null,{ref:f}),a[a.length]=qke(u,t,e,r),t.sheetFormat&&(a[a.length]=bt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(a[a.length]=Uke(u,u["!cols"])),a[o=a.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(l=Hke(u,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),u["!protect"]&&(a[a.length]=Bke(u["!protect"])),u["!autofilter"]!=null&&(a[a.length]=Vke(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(a[a.length]=Mke(u["!merges"]));var x=-1,y,w=-1;return u["!links"].length>0&&(a[a.length]="<hyperlinks>",u["!links"].forEach(function(b){b[1].Target&&(y={ref:b[0]},b[1].Target.charAt(0)!="#"&&(w=ps(n,-1,xs(b[1].Target).replace(/#.*$/,""),Qr.HLINK),y["r:id"]="rId"+w),(x=b[1].Target.indexOf("#"))>-1&&(y.location=xs(b[1].Target.slice(x+1))),b[1].Tooltip&&(y.tooltip=xs(b[1].Tooltip)),a[a.length]=bt("hyperlink",null,y))}),a[a.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(a[a.length]=$ke(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=aa("ignoredErrors",bt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),p.length>0&&(w=ps(n,-1,"../drawings/drawing"+(e+1)+".xml",Qr.DRAW),a[a.length]=bt("drawing",null,{"r:id":"rId"+w}),u["!drawing"]=p),u["!comments"].length>0&&(w=ps(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Qr.VML),a[a.length]=bt("legacyDrawing",null,{"r:id":"rId"+w}),u["!legacy"]=w),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Wke(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Gke(e,t,r){var n=Je(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=qb(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,u=n.l;n.l+=4;for(var f={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var p=-1,x=-1,y=h<<10;y<h+1<<10;++y){f.c=y;var w=Array.isArray(r)?(r[f.r]||[])[f.c]:r[gs(f)];w&&(p<0&&(p=y),x=y)}p<0||(++l,n.write_shift(4,p),n.write_shift(4,x))}var b=n.l;return n.l=u,n.write_shift(4,l),n.l=b,n.length>n.l?n.slice(0,n.l):n}function Yke(e,t,r,n){var a=Gke(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&dt(e,0,a)}var Kke=Oh,Qke=u0;function Xke(){}function Zke(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=lTe(e),r}function Jke(e,t,r){r==null&&(r=Je(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Bb({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Hq(e,r),r.slice(0,r.l)}function e3e(e){var t=To(e);return[t]}function t3e(e,t,r){return r==null&&(r=Je(8)),_h(t,r)}function r3e(e){var t=kh(e);return[t]}function s3e(e,t,r){return r==null&&(r=Je(4)),Dh(t,r)}function n3e(e){var t=To(e),r=e.read_shift(1);return[t,r,"b"]}function a3e(e,t,r){return r==null&&(r=Je(9)),_h(t,r),r.write_shift(1,e.v?1:0),r}function i3e(e){var t=kh(e),r=e.read_shift(1);return[t,r,"b"]}function o3e(e,t,r){return r==null&&(r=Je(5)),Dh(t,r),r.write_shift(1,e.v?1:0),r}function l3e(e){var t=To(e),r=e.read_shift(1);return[t,r,"e"]}function c3e(e,t,r){return r==null&&(r=Je(9)),_h(t,r),r.write_shift(1,e.v),r}function d3e(e){var t=kh(e),r=e.read_shift(1);return[t,r,"e"]}function u3e(e,t,r){return r==null&&(r=Je(8)),Dh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function f3e(e){var t=To(e),r=e.read_shift(4);return[t,r,"s"]}function h3e(e,t,r){return r==null&&(r=Je(12)),_h(t,r),r.write_shift(4,t.v),r}function m3e(e){var t=kh(e),r=e.read_shift(4);return[t,r,"s"]}function p3e(e,t,r){return r==null&&(r=Je(8)),Dh(t,r),r.write_shift(4,t.v),r}function x3e(e){var t=To(e),r=f0(e);return[t,r,"n"]}function g3e(e,t,r){return r==null&&(r=Je(16)),_h(t,r),oh(e.v,r),r}function y3e(e){var t=kh(e),r=f0(e);return[t,r,"n"]}function v3e(e,t,r){return r==null&&(r=Je(12)),Dh(t,r),oh(e.v,r),r}function b3e(e){var t=To(e),r=Wq(e);return[t,r,"n"]}function w3e(e,t,r){return r==null&&(r=Je(12)),_h(t,r),Gq(e.v,r),r}function N3e(e){var t=kh(e),r=Wq(e);return[t,r,"n"]}function j3e(e,t,r){return r==null&&(r=Je(8)),Dh(t,r),Gq(e.v,r),r}function S3e(e){var t=To(e),r=n_(e);return[t,r,"is"]}function E3e(e){var t=To(e),r=Pa(e);return[t,r,"str"]}function A3e(e,t,r){return r==null&&(r=Je(12+4*e.v.length)),_h(t,r),Kn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function C3e(e){var t=kh(e),r=Pa(e);return[t,r,"str"]}function T3e(e,t,r){return r==null&&(r=Je(8+4*e.v.length)),Dh(t,r),Kn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function _3e(e,t,r){var n=e.l+t,a=To(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=uN(e,n-e.l,r);o[3]=Pp(l,null,a,r.supbooks,r)}else e.l=n;return o}function k3e(e,t,r){var n=e.l+t,a=To(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=uN(e,n-e.l,r);o[3]=Pp(l,null,a,r.supbooks,r)}else e.l=n;return o}function D3e(e,t,r){var n=e.l+t,a=To(e);a.r=r["!row"];var i=f0(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=uN(e,n-e.l,r);o[3]=Pp(l,null,a,r.supbooks,r)}else e.l=n;return o}function O3e(e,t,r){var n=e.l+t,a=To(e);a.r=r["!row"];var i=Pa(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=uN(e,n-e.l,r);o[3]=Pp(l,null,a,r.supbooks,r)}else e.l=n;return o}var R3e=Oh,P3e=u0;function M3e(e,t){return t==null&&(t=Je(4)),t.write_shift(4,e),t}function I3e(e,t){var r=e.l+t,n=Oh(e),a=a_(e),i=Pa(e),o=Pa(e),l=Pa(e);e.l=r;var u={rfx:n,relId:a,loc:i,display:l};return o&&(u.Tooltip=o),u}function F3e(e,t){var r=Je(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));u0({s:Yn(e[0]),e:Yn(e[0])},r),i_("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Kn(a||"",r),Kn(e[1].Tooltip||"",r),Kn("",r),r.slice(0,r.l)}function L3e(){}function B3e(e,t,r){var n=e.l+t,a=Yq(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=Cke(e,n-e.l,r);o[1]=l}else e.l=n;return o}function $3e(e,t,r){var n=e.l+t,a=Oh(e),i=[a];if(r.cellFormula){var o=_ke(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function U3e(e,t,r){r==null&&(r=Je(18));var n=fN(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Dz=["left","right","top","bottom","header","footer"];function V3e(e){var t={};return Dz.forEach(function(r){t[r]=f0(e)}),t}function q3e(e,t){return t==null&&(t=Je(6*8)),_z(e),Dz.forEach(function(r){oh(e[r],t)}),t}function z3e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function H3e(e,t,r){r==null&&(r=Je(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function W3e(e){var t=Je(24);return t.write_shift(4,4),t.write_shift(4,1),u0(e,t),t}function G3e(e,t){return t==null&&(t=Je(16*4+2)),t.write_shift(2,e.password?fz(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Y3e(){}function K3e(){}function Q3e(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Ni(t),t.z=t.z||dn[14],t.v=wi(Ya(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var u={r,c:n};switch(u.s=Gu(a.cellXfs,t,a),t.l&&i["!links"].push([gs(u),t.l]),t.c&&i["!comments"].push([gs(u),t.c]),t.t){case"s":case"str":return a.bookSST?(l=f_(a.Strings,t.v,a.revStrings),u.t="s",u.v=l,o?dt(e,18,p3e(t,u)):dt(e,7,h3e(t,u))):(u.t="str",o?dt(e,17,T3e(t,u)):dt(e,6,A3e(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?dt(e,13,j3e(t,u)):dt(e,2,w3e(t,u)):o?dt(e,16,v3e(t,u)):dt(e,5,g3e(t,u)),!0;case"b":return u.t="b",o?dt(e,15,o3e(t,u)):dt(e,4,a3e(t,u)),!0;case"e":return u.t="e",o?dt(e,14,u3e(t,u)):dt(e,3,c3e(t,u)),!0}return o?dt(e,12,s3e(t,u)):dt(e,1,t3e(t,u)),!0}function X3e(e,t,r,n){var a=Fs(t["!ref"]||"A1"),i,o="",l=[];dt(e,145);var u=Array.isArray(t),f=a.e.r;t["!rows"]&&(f=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=f;++h){o=oa(h),Yke(e,t,a,h);var p=!1;if(h<=a.e.r)for(var x=a.s.c;x<=a.e.c;++x){h===a.s.r&&(l[x]=Ra(x)),i=l[x]+o;var y=u?(t[h]||[])[x]:t[i];if(!y){p=!1;continue}p=Q3e(e,y,h,x,n,t,p)}}dt(e,146)}function Z3e(e,t){!t||!t["!merges"]||(dt(e,177,M3e(t["!merges"].length)),t["!merges"].forEach(function(r){dt(e,176,P3e(r))}),dt(e,178))}function J3e(e,t){!t||!t["!cols"]||(dt(e,390),t["!cols"].forEach(function(r,n){r&&dt(e,60,U3e(n,r))}),dt(e,391))}function eDe(e,t){!t||!t["!ref"]||(dt(e,648),dt(e,649,W3e(Fs(t["!ref"]))),dt(e,650))}function tDe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=ps(r,-1,n[1].Target.replace(/#.*$/,""),Qr.HLINK);dt(e,494,F3e(n,a))}}),delete t["!links"]}function rDe(e,t,r,n){if(t["!comments"].length>0){var a=ps(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Qr.VML);dt(e,551,i_("rId"+a)),t["!legacy"]=a}}function sDe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Tn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Yi(i);l.s.r==l.e.r&&(l.e.r=Yi(t["!ref"]).e.r,i=Tn(l));for(var u=0;u<o.length;++u){var f=o[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+i;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),dt(e,161,u0(Fs(i))),dt(e,162)}}function nDe(e,t,r){dt(e,133),dt(e,137,H3e(t,r)),dt(e,138),dt(e,134)}function aDe(e,t){t["!protect"]&&dt(e,535,G3e(t["!protect"]))}function iDe(e,t,r,n){var a=vi(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var u=Fs(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],dt(a,129),(r.vbaraw||o["!outline"])&&dt(a,147,Jke(l,o["!outline"])),dt(a,148,Qke(u)),nDe(a,o,r.Workbook),J3e(a,o),X3e(a,o,e,t),aDe(a,o),sDe(a,o,r,e),Z3e(a,o),tDe(a,o,n),o["!margins"]&&dt(a,476,q3e(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&eDe(a,o),rDe(a,o,e,n),dt(a,130),a.end()}function oDe(e,t){e.l+=10;var r=Pa(e);return{name:r}}var lDe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function cDe(e){return!e.Workbook||!e.Workbook.WBProps?"false":$Ce(e.Workbook.WBProps.date1904)?"true":"false"}var dDe="][*?/\\".split("");function Oz(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return dDe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function uDe(e,t,r){e.forEach(function(n,a){Oz(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function fDe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];uDe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Pke(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function Rz(e){var t=[kn];t[t.length]=bt("workbook",null,{xmlns:c0[0],"xmlns:r":Hn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(lDe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=bt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:xs(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=bt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var u={name:l.Name};l.Comment&&(u.comment=l.Comment),l.Sheet!=null&&(u.localSheetId=""+l.Sheet),l.Hidden&&(u.hidden="1"),l.Ref&&(t[t.length]=bt("definedName",xs(l.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function hDe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=lC(e),r.name=Pa(e),r}function mDe(e,t){return t||(t=Je(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),i_(e.strRelID,t),Kn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function pDe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Pa(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function xDe(e,t){t||(t=Je(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Hq(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function gDe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=cTe(e),o=Tke(e,0,r),l=a_(e);e.l=n;var u={Name:i,Ptg:o};return a<268435455&&(u.Sheet=a),l&&(u.Comment=l),u}function yDe(e,t){dt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};dt(e,156,mDe(a))}dt(e,144)}function vDe(e,t){t||(t=Je(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Kn("SheetJS",t),Kn(Ob.version,t),Kn(Ob.version,t),Kn("7262",t),t.length>t.l?t.slice(0,t.l):t}function bDe(e,t){t||(t=Je(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function wDe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(dt(e,135),dt(e,158,bDe(a)),dt(e,136))}}function NDe(e,t){var r=vi();return dt(r,131),dt(r,128,vDe()),dt(r,153,xDe(e.Workbook&&e.Workbook.WBProps||null)),wDe(r,e),yDe(r,e),dt(r,132),r.end()}function jDe(e,t,r){return(t.slice(-4)===".bin"?NDe:Rz)(e)}function SDe(e,t,r,n,a){return(t.slice(-4)===".bin"?iDe:kz)(e,r,n,a)}function EDe(e,t,r){return(t.slice(-4)===".bin"?q4e:pz)(e,r)}function ADe(e,t,r){return(t.slice(-4)===".bin"?x4e:uz)(e,r)}function CDe(e,t,r){return(t.slice(-4)===".bin"?a_e:bz)(e)}function TDe(e){return(e.slice(-4)===".bin"?X4e:yz)()}function _De(e,t){var r=[];return e.Props&&r.push(ETe(e.Props,t)),e.Custprops&&r.push(ATe(e.Props,e.Custprops)),r.join("")}function kDe(){return""}function DDe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(bt("NumberFormat",null,{"ss:Format":xs(dn[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(bt("Style",i.join(""),o))}),bt("Styles",r.join(""))}function Pz(e){return bt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+d_(e.Ref,{r:0,c:0})})}function ODe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Pz(a)))}return bt("Names",r.join(""))}function RDe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(Pz(l)))}return i.join("")}function PDe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(bt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(bt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(bt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(bt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(aa("ProtectContents","True")),e["!protect"].objects&&a.push(aa("ProtectObjects","True")),e["!protect"].scenarios&&a.push(aa("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(aa("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(aa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":bt("WorksheetOptions",a.join(""),{xmlns:Fi.x})}function MDe(e){return e.map(function(t){var r=BCe(t.t||""),n=bt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return bt("Comment",n,{"ss:Author":t.a})}).join("")}function IDe(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+xs(d_(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var u=Yn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=xs(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=xs(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],h=0;h!=f.length;++h)f[h].s.c!=o.c||f[h].s.r!=o.r||(f[h].e.c>f[h].s.c&&(l["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(l["ss:MergeDown"]=f[h].e.r-f[h].s.r));var p="",x="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",x=String(e.v);break;case"b":p="Boolean",x=e.v?"1":"0";break;case"e":p="Error",x=Py[e.v];break;case"d":p="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||dn[14]);break;case"s":p="String",x=LCe(e.v||"");break}var y=Gu(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+y),l["ss:Index"]=o.c+1;var w=e.v!=null?x:"",b=e.t=="z"?"":'<Data ss:Type="'+p+'">'+w+"</Data>";return(e.c||[]).length>0&&(b+=MDe(e.c)),bt("Cell",b,l)}function FDe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=mz(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function LDe(e,t,r,n){if(!e["!ref"])return"";var a=Fs(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(N,j){l_(N);var S=!!N.width,A=fN(j,N),_={"ss:Index":j+1};S&&(_["ss:Width"]=Ub(A.width)),N.hidden&&(_["ss:Hidden"]="1"),l.push(bt("Column",null,_))});for(var u=Array.isArray(e),f=a.s.r;f<=a.e.r;++f){for(var h=[FDe(f,(e["!rows"]||[])[f])],p=a.s.c;p<=a.e.c;++p){var x=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>p)&&!(i[o].s.r>f)&&!(i[o].e.c<p)&&!(i[o].e.r<f)){(i[o].s.c!=p||i[o].s.r!=f)&&(x=!0);break}if(!x){var y={r:f,c:p},w=gs(y),b=u?(e[f]||[])[p]:e[w];h.push(IDe(b,w,e,t,r,n,y))}}h.push("</Row>"),h.length>2&&l.push(h.join(""))}return l.join("")}function BDe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?RDe(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?LDe(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(PDe(i,t,e,r)),n.join("")}function $De(e,t){t||(t={}),e.SSF||(e.SSF=Ni(dn)),e.SSF&&(oN(),iN(e.SSF),t.revssf=lN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Gu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(_De(e,t)),r.push(kDe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(bt("Worksheet",BDe(n,t,e),{"ss:Name":xs(e.SheetNames[n])}));return r[2]=DDe(e,t),r[3]=ODe(e),kn+bt("Workbook",r.join(""),{xmlns:Fi.ss,"xmlns:o":Fi.o,"xmlns:x":Fi.x,"xmlns:ss":Fi.ss,"xmlns:dt":Fi.dt,"xmlns:html":Fi.html})}var eE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function UDe(e,t){var r=[],n=[],a=[],i=0,o,l=s6(x6,"n"),u=s6(g6,"n");if(e.Props)for(o=ca(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(u,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=ca(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(u,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var f=[];for(i=0;i<a.length;++i)nz.indexOf(a[i][0])>-1||tz.indexOf(a[i][0])>-1||a[i][1]!=null&&f.push(a[i]);n.length&&js.utils.cfb_add(t,"/SummaryInformation",N6(n,eE.SI,u,g6)),(r.length||f.length)&&js.utils.cfb_add(t,"/DocumentSummaryInformation",N6(r,eE.DSI,l,x6,f.length?f:null,eE.UDI))}function VDe(e,t){var r=t||{},n=js.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return js.utils.cfb_add(n,a,Mz(e,r)),r.biff==8&&(e.Props||e.Custprops)&&UDe(e,n),r.biff==8&&e.vbaraw&&i_e(n,js.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var qDe={0:{f:Wke},1:{f:e3e},2:{f:b3e},3:{f:l3e},4:{f:n3e},5:{f:x3e},6:{f:E3e},7:{f:f3e},8:{f:O3e},9:{f:D3e},10:{f:_3e},11:{f:k3e},12:{f:r3e},13:{f:N3e},14:{f:d3e},15:{f:i3e},16:{f:y3e},17:{f:C3e},18:{f:m3e},19:{f:n_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:gDe},40:{},42:{},43:{f:E4e},44:{f:j4e},45:{f:T4e},46:{f:k4e},47:{f:_4e},48:{},49:{f:rTe},50:{},51:{f:W4e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:s4e},62:{f:S3e},63:{f:Z4e},64:{f:Y3e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Xl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:z3e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Zke},148:{f:Kke,p:16},151:{f:L3e},152:{},153:{f:pDe},154:{},155:{},156:{f:hDe},157:{},158:{},159:{T:1,f:h4e},160:{T:-1},161:{T:1,f:Oh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:R3e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:z4e},336:{T:-1},337:{f:K4e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:lC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:XTe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:B3e},427:{f:$3e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:V3e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Xke},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:I3e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:lC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:s_e},633:{T:1},634:{T:-1},635:{T:1,f:t_e},636:{T:-1},637:{f:iTe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:oDe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:K3e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function jt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&t_(r)&&e.push(r)}}function zDe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return jt(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,u=0,f=0;f+(o[l]||8224)<=8224;)f+=o[l]||8224,l++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f;u<a;){for(h=e.next(4),h.write_shift(2,60),f=0;f+(o[l]||8224)<=8224;)f+=o[l]||8224,l++;h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f}}}function Iy(e,t,r){return e||(e=Je(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function HDe(e,t,r,n){var a=Je(9);return Iy(a,e,t),iz(r,n||"b",a),a}function WDe(e,t,r){var n=Je(8+2*r.length);return Iy(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function GDe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?wi(Ya(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?jt(e,2,o4e(r,n,a)):jt(e,3,i4e(r,n,a));return;case"b":case"e":jt(e,5,HDe(r,n,t.v,t.t));return;case"s":case"str":jt(e,4,WDe(r,n,(t.v||"").slice(0,255)));return}jt(e,1,Iy(null,r,n))}function YDe(e,t,r,n){var a=Array.isArray(t),i=Fs(t["!ref"]||"A1"),o,l="",u=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Tn(i)}for(var f=i.s.r;f<=i.e.r;++f){l=oa(f);for(var h=i.s.c;h<=i.e.c;++h){f===i.s.r&&(u[h]=Ra(h)),o=u[h]+l;var p=a?(t[f]||[])[h]:t[o];p&&GDe(e,p,f,h)}}}function KDe(e,t){for(var r=t||{},n=vi(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return jt(n,r.biff==4?1033:r.biff==3?521:9,o_(e,16,r)),YDe(n,e.Sheets[e.SheetNames[a]],a,r),jt(n,10),n.end()}function QDe(e,t,r){jt(e,49,qTe({sz:12,name:"Arial"},r))}function XDe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&jt(e,1054,WTe(a,t[a],r))})}function ZDe(e,t){var r=Je(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),jt(e,2151,r),r=Je(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),cz(Fs(t["!ref"]||"A1"),r),r.write_shift(4,4),jt(e,2152,r)}function JDe(e,t){for(var r=0;r<16;++r)jt(e,224,S6({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){jt(e,224,S6(n,0,t))})}function eOe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];jt(e,440,e4e(n)),n[1].Tooltip&&jt(e,2048,t4e(n))}delete t["!links"]}function tOe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&jt(e,125,n4e(fN(a,n),a))})}}function rOe(e,t,r,n,a){var i=16+Gu(a.cellXfs,t,a);if(t.v==null&&!t.bf){jt(e,513,lh(r,n,i));return}if(t.bf)jt(e,6,Ake(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?wi(Ya(t.v)):t.v;jt(e,515,QTe(r,n,o,i));break;case"b":case"e":jt(e,517,KTe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=f_(a.Strings,t.v,a.revStrings);jt(e,253,zTe(r,n,l,i))}else jt(e,516,HTe(r,n,(t.v||"").slice(0,255),i,a));break;default:jt(e,513,lh(r,n,i))}}function sOe(e,t,r){var n=vi(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},u=Array.isArray(i),f=t.biff==8,h,p="",x=[],y=Fs(i["!ref"]||"A1"),w=f?65536:16384;if(y.e.c>255||y.e.r>=w){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,w-1)}jt(n,2057,o_(r,16,t)),jt(n,13,mo(1)),jt(n,12,mo(100)),jt(n,15,za(!0)),jt(n,17,za(!1)),jt(n,16,oh(.001)),jt(n,95,za(!0)),jt(n,42,za(!1)),jt(n,43,za(!1)),jt(n,130,mo(1)),jt(n,128,YTe()),jt(n,131,za(!1)),jt(n,132,za(!1)),f&&tOe(n,i["!cols"]),jt(n,512,GTe(y,t)),f&&(i["!links"]=[]);for(var b=y.s.r;b<=y.e.r;++b){p=oa(b);for(var N=y.s.c;N<=y.e.c;++N){b===y.s.r&&(x[N]=Ra(N)),h=x[N]+p;var j=u?(i[b]||[])[N]:i[h];j&&(rOe(n,j,b,N,t),f&&j.l&&i["!links"].push([h,j.l]))}}var S=l.CodeName||l.name||a;return f&&jt(n,574,VTe((o.Views||[])[0])),f&&(i["!merges"]||[]).length&&jt(n,229,JTe(i["!merges"])),f&&eOe(n,i),jt(n,442,lz(S)),f&&ZDe(n,i),jt(n,10),n.end()}function nOe(e,t,r){var n=vi(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,u=r.biff==5;if(jt(n,2057,o_(e,5,r)),r.bookType=="xla"&&jt(n,135),jt(n,225,l?mo(1200):null),jt(n,193,_Te(2)),u&&jt(n,191),u&&jt(n,192),jt(n,226),jt(n,92,LTe("SheetJS",r)),jt(n,66,mo(l?1200:1252)),l&&jt(n,353,mo(0)),l&&jt(n,448),jt(n,317,a4e(e.SheetNames.length)),l&&e.vbaraw&&jt(n,211),l&&e.vbaraw){var f=o.CodeName||"ThisWorkbook";jt(n,442,lz(f))}jt(n,156,mo(17)),jt(n,25,za(!1)),jt(n,18,za(!1)),jt(n,19,mo(0)),l&&jt(n,431,za(!1)),l&&jt(n,444,mo(0)),jt(n,61,UTe()),jt(n,64,za(!1)),jt(n,141,mo(0)),jt(n,34,za(cDe(e)=="true")),jt(n,14,za(!0)),l&&jt(n,439,za(!1)),jt(n,218,mo(0)),QDe(n,e,r),XDe(n,e.SSF,r),JDe(n,r),l&&jt(n,352,za(!1));var h=n.end(),p=vi();l&&jt(p,140,r4e()),l&&r.Strings&&zDe(p,252,$Te(r.Strings)),jt(p,10);var x=p.end(),y=vi(),w=0,b=0;for(b=0;b<e.SheetNames.length;++b)w+=(l?12:11)+(l?2:1)*e.SheetNames[b].length;var N=h.length+w+x.length;for(b=0;b<e.SheetNames.length;++b){var j=i[b]||{};jt(y,133,BTe({pos:N,hs:j.Hidden||0,dt:0,name:e.SheetNames[b]},r)),N+=t[b].length}var S=y.end();if(w!=S.length)throw new Error("BS8 "+w+" != "+S.length);var A=[];return h.length&&A.push(h),S.length&&A.push(S),x.length&&A.push(x),na(A)}function aOe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Ni(dn)),e&&e.SSF&&(oN(),iN(e.SSF),r.revssf=lN(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,h_(r),r.cellXfs=[],Gu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=sOe(a,r,e);return n.unshift(nOe(e,n,r)),na(n)}function Mz(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Yi(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return aOe(e,t);case 4:case 3:case 2:return KDe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function iOe(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,u=0,f=0;f<a.length;++f)if(!(a[f].s.r>r||a[f].s.c>o)&&!(a[f].e.r<r||a[f].e.c<o)){if(a[f].s.r<r||a[f].s.c<o){l=-1;break}l=a[f].e.r-a[f].s.r+1,u=a[f].e.c-a[f].s.c+1;break}if(!(l<0)){var h=gs({r,c:o}),p=n.dense?(e[r]||[])[o]:e[h],x=p&&p.v!=null&&(p.h||FCe(p.w||(Zc(p),p.w)||""))||"",y={};l>1&&(y.rowspan=l),u>1&&(y.colspan=u),n.editable?x='<span contenteditable="true">'+x+"</span>":p&&(y["data-t"]=p&&p.t||"z",p.v!=null&&(y["data-v"]=p.v),p.z!=null&&(y["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+p.l.Target+'">'+x+"</a>")),y.id=(n.id||"sjs")+"-"+h,i.push(bt("td",x,y))}}var w="<tr>";return w+i.join("")+"</tr>"}var oOe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lOe="</body></html>";function cOe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Iz(e,t){var r=t||{},n=r.header!=null?r.header:oOe,a=r.footer!=null?r.footer:lOe,i=[n],o=Yi(e["!ref"]);r.dense=Array.isArray(e),i.push(cOe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(iOe(e,o,l,r));return i.push("</table>"+a),i.join("")}function Fz(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Yn(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,l.length),f={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=Yi(e["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),a==-1&&(f.e.r=a=h.e.r+1)}var p=[],x=0,y=e["!rows"]||(e["!rows"]=[]),w=0,b=0,N=0,j=0,S=0,A=0;for(e["!cols"]||(e["!cols"]=[]);w<l.length&&b<u;++w){var _=l[w];if(D6(_)){if(n.display)continue;y[b]={hidden:!0}}var C=_.children;for(N=j=0;N<C.length;++N){var k=C[N];if(!(n.display&&D6(k))){var T=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):UCe(k.innerHTML),O=k.getAttribute("data-z")||k.getAttribute("z");for(x=0;x<p.length;++x){var R=p[x];R.s.c==j+i&&R.s.r<b+a&&b+a<=R.e.r&&(j=R.e.c+1-i,x=-1)}A=+k.getAttribute("colspan")||1,((S=+k.getAttribute("rowspan")||1)>1||A>1)&&p.push({s:{r:b+a,c:j+i},e:{r:b+a+(S||1)-1,c:j+i+(A||1)-1}});var L={t:"s",v:T},M=k.getAttribute("data-t")||k.getAttribute("t")||"";T!=null&&(T.length==0?L.t=M||"z":n.raw||T.trim().length==0||M=="s"||(T==="TRUE"?L={t:"b",v:!0}:T==="FALSE"?L={t:"b",v:!1}:isNaN(Ic(T))?isNaN(Lg(T).getDate())||(L={t:"d",v:Ya(T)},n.cellDates||(L={t:"n",v:wi(L.v)}),L.z=n.dateNF||dn[14]):L={t:"n",v:Ic(T)})),L.z===void 0&&O!=null&&(L.z=O);var G="",V=k.getElementsByTagName("A");if(V&&V.length)for(var ie=0;ie<V.length&&!(V[ie].hasAttribute("href")&&(G=V[ie].getAttribute("href"),G.charAt(0)!="#"));++ie);G&&G.charAt(0)!="#"&&(L.l={Target:G}),n.dense?(e[b+a]||(e[b+a]=[]),e[b+a][j+i]=L):e[gs({c:j+i,r:b+a})]=L,f.e.c<j+i&&(f.e.c=j+i),j+=A}}++b}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,b-1+a),e["!ref"]=Tn(f),b>=u&&(e["!fullref"]=Tn((f.e.r=l.length-w+b-1+a,f))),e}function Lz(e,t){var r=t||{},n=r.dense?[]:{};return Fz(n,e,t)}function dOe(e,t){return Th(Lz(e,t),t)}function D6(e){var t="",r=uOe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function uOe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var fOe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+$g({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return kn+t}}(),O6=function(){var e=function(i){return xs(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var u=[];u.push('      <table:table table:name="'+xs(o.SheetNames[l])+`" table:style-name="ta1">
`);var f=0,h=0,p=Yi(i["!ref"]||"A1"),x=i["!merges"]||[],y=0,w=Array.isArray(i);if(i["!cols"])for(h=0;h<=p.e.c;++h)u.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var b="",N=i["!rows"]||[];for(f=0;f<p.s.r;++f)b=N[f]?' table:style-name="ro'+N[f].ods+'"':"",u.push("        <table:table-row"+b+`></table:table-row>
`);for(;f<=p.e.r;++f){for(b=N[f]?' table:style-name="ro'+N[f].ods+'"':"",u.push("        <table:table-row"+b+`>
`),h=0;h<p.s.c;++h)u.push(t);for(;h<=p.e.c;++h){var j=!1,S={},A="";for(y=0;y!=x.length;++y)if(!(x[y].s.c>h)&&!(x[y].s.r>f)&&!(x[y].e.c<h)&&!(x[y].e.r<f)){(x[y].s.c!=h||x[y].s.r!=f)&&(j=!0),S["table:number-columns-spanned"]=x[y].e.c-x[y].s.c+1,S["table:number-rows-spanned"]=x[y].e.r-x[y].s.r+1;break}if(j){u.push(r);continue}var _=gs({r:f,c:h}),C=w?(i[f]||[])[h]:i[_];if(C&&C.f&&(S["table:formula"]=xs(Oke(C.f)),C.F&&C.F.slice(0,_.length)==_)){var k=Yi(C.F);S["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,S["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!C){u.push(t);continue}switch(C.t){case"b":A=C.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=C.v?"true":"false";break;case"n":A=C.w||String(C.v||0),S["office:value-type"]="float",S["office:value"]=C.v||0;break;case"s":case"str":A=C.v==null?"":C.v,S["office:value-type"]="string";break;case"d":A=C.w||Ya(C.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=Ya(C.v).toISOString(),S["table:style-name"]="ce1";break;default:u.push(t);continue}var T=e(A);if(C.l&&C.l.Target){var O=C.l.Target;O=O.charAt(0)=="#"?"#"+Rke(O.slice(1)):O,O.charAt(0)!="#"&&!O.match(/^\w+:/)&&(O="../"+O),T=bt("text:a",T,{"xlink:href":O.replace(/&/g,"&amp;")})}u.push("          "+bt("table:table-cell",bt("text:p",T,{}),S)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var p=f["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;l_(p),p.ods=l;var x=f["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),i.push(`  </style:style>
`),++l}}});var u=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=u;var p=f["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var u=[kn],f=$g({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=$g({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(u.push("<office:document"+f+h+`>
`),u.push(Jq().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),a(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)u.push(n(o.Sheets[o.SheetNames[p]],o,p));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),l.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function Bz(e,t){if(t.bookType=="fods")return O6(e,t);var r=X4(),n="",a=[],i=[];return n="mimetype",wr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",wr(r,n,O6(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",wr(r,n,fOe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",wr(r,n,kn+Jq()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",wr(r,n,STe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",wr(r,n,NTe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function zb(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function hOe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ko(Bg(e))}function mOe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Fu(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function pOe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Ug(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function hs(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function sp(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function In(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Ug(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var u=r[0];e[r[0]++]>=128;);l=e.slice(u,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Ug(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var f={data:l,type:i};t[a]==null?t[a]=[f]:t[a].push(f)}return t}function ta(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(hs(n*8+a.type)),a.type==2&&t.push(hs(a.data.length)),t.push(a.data))})}),Fu(t)}function Lo(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Ug(e,n),i=In(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:sp(i[1][0].data),messages:[]};i[2].forEach(function(l){var u=In(l.data),f=sp(u[3][0].data);o.messages.push({meta:u,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(t=i[3])!=null&&t[0]&&(o.merge=sp(i[3][0].data)>>>0>0),r.push(o)}return r}function bm(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:hs(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:hs(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:hs(o.data.length)}],n[2].push({data:ta(o.meta),type:2})});var i=ta(n);t.push(hs(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Fu(t)}function xOe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Ug(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var u=0,f=0;if(i==1?(f=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,i==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Fu(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(a.push(a[0].slice(-u)),f-=u;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-u,-u+f))}}var h=Fu(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function Bo(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(xOe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Fu(t)}function wm(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=hs(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Fu(t)}function tE(e,t){var r=new Uint8Array(32),n=zb(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,pOe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function rE(e,t){var r=new Uint8Array(32),n=zb(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function qd(e){var t=In(e);return Ug(t[1][0].data)}function gOe(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&sp(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var u=0,f=zb(e[7][0].data),h=0,p=[],x=zb(e[4][0].data),y=0,w=[],b=0;b<t.length;++b){if(t[b]==null){f.setUint16(b*2,65535,!0),x.setUint16(b*2,65535);continue}f.setUint16(b*2,h,!0),x.setUint16(b*2,y,!0);var N,j;switch(typeof t[b]){case"string":N=tE({t:"s",v:t[b]},r),j=rE({t:"s",v:t[b]},r);break;case"number":N=tE({t:"n",v:t[b]},r),j=rE({t:"n",v:t[b]},r);break;case"boolean":N=tE({t:"b",v:t[b]},r),j=rE({t:"b",v:t[b]},r);break;default:throw new Error("Unsupported value "+t[b])}p.push(N),h+=N.length,w.push(j),y+=j.length,++u}for(e[2][0].data=hs(u);b<e[7][0].data.length/2;++b)f.setUint16(b*2,65535,!0),x.setUint16(b*2,65535,!0);return e[6][0].data=Fu(p),e[3][0].data=Fu(w),u}function yOe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Yi(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Tn(n)));var i=Hb(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(X){return X.forEach(function(K){typeof K=="string"&&o.push(K)})});var l={},u=[],f=js.read(t.numbers,{type:"base64"});f.FileIndex.map(function(X,K){return[X,f.FullPaths[K]]}).forEach(function(X){var K=X[0],H=X[1];if(K.type==2&&K.name.match(/\.iwa/)){var J=K.content,ce=Bo(J),ae=Lo(ce);ae.forEach(function(ee){u.push(ee.id),l[ee.id]={deps:[],location:H,type:sp(ee.messages[0].meta[1][0].data)}})}}),u.sort(function(X,K){return X-K});var h=u.filter(function(X){return X>1}).map(function(X){return[X,hs(X)]});f.FileIndex.map(function(X,K){return[X,f.FullPaths[K]]}).forEach(function(X){var K=X[0];if(X[1],!!K.name.match(/\.iwa/)){var H=Lo(Bo(K.content));H.forEach(function(J){J.messages.forEach(function(ce){h.forEach(function(ae){J.messages.some(function(ee){return sp(ee.meta[1][0].data)!=11006&&mOe(ee.data,ae[1])})&&l[ae[0]].deps.push(J.id)})})})}});for(var p=js.find(f,l[1].location),x=Lo(Bo(p.content)),y,w=0;w<x.length;++w){var b=x[w];b.id==1&&(y=b)}var N=qd(In(y.messages[0].data)[1][0].data);for(p=js.find(f,l[N].location),x=Lo(Bo(p.content)),w=0;w<x.length;++w)b=x[w],b.id==N&&(y=b);for(N=qd(In(y.messages[0].data)[2][0].data),p=js.find(f,l[N].location),x=Lo(Bo(p.content)),w=0;w<x.length;++w)b=x[w],b.id==N&&(y=b);for(N=qd(In(y.messages[0].data)[2][0].data),p=js.find(f,l[N].location),x=Lo(Bo(p.content)),w=0;w<x.length;++w)b=x[w],b.id==N&&(y=b);var j=In(y.messages[0].data);{j[6][0].data=hs(n.e.r+1),j[7][0].data=hs(n.e.c+1);var S=qd(j[46][0].data),A=js.find(f,l[S].location),_=Lo(Bo(A.content));{for(var C=0;C<_.length&&_[C].id!=S;++C);if(_[C].id!=S)throw"Bad ColumnRowUIDMapArchive";var k=In(_[C].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var T=0;T<=n.e.c;++T){var O=[];O[1]=O[2]=[{type:0,data:hs(T+420690)}],k[1].push({type:2,data:ta(O)}),k[2].push({type:0,data:hs(T)}),k[3].push({type:0,data:hs(T)})}k[4]=[],k[5]=[],k[6]=[];for(var R=0;R<=n.e.r;++R)O=[],O[1]=O[2]=[{type:0,data:hs(R+726270)}],k[4].push({type:2,data:ta(O)}),k[5].push({type:0,data:hs(R)}),k[6].push({type:0,data:hs(R)});_[C].messages[0].data=ta(k)}A.content=wm(bm(_)),A.size=A.content.length,delete j[46];var L=In(j[4][0].data);{L[7][0].data=hs(n.e.r+1);var M=In(L[1][0].data),G=qd(M[2][0].data);A=js.find(f,l[G].location),_=Lo(Bo(A.content));{if(_[0].id!=G)throw"Bad HeaderStorageBucket";var V=In(_[0].messages[0].data);for(R=0;R<i.length;++R){var ie=In(V[2][0].data);ie[1][0].data=hs(R),ie[4][0].data=hs(i[R].length),V[2][R]={type:V[2][0].type,data:ta(ie)}}_[0].messages[0].data=ta(V)}A.content=wm(bm(_)),A.size=A.content.length;var le=qd(L[2][0].data);A=js.find(f,l[le].location),_=Lo(Bo(A.content));{if(_[0].id!=le)throw"Bad HeaderStorageBucket";for(V=In(_[0].messages[0].data),T=0;T<=n.e.c;++T)ie=In(V[2][0].data),ie[1][0].data=hs(T),ie[4][0].data=hs(n.e.r+1),V[2][T]={type:V[2][0].type,data:ta(ie)};_[0].messages[0].data=ta(V)}A.content=wm(bm(_)),A.size=A.content.length;var B=qd(L[4][0].data);(function(){for(var X=js.find(f,l[B].location),K=Lo(Bo(X.content)),H,J=0;J<K.length;++J){var ce=K[J];ce.id==B&&(H=ce)}var ae=In(H.messages[0].data);{ae[3]=[];var ee=[];o.forEach(function(we,et){ee[1]=[{type:0,data:hs(et)}],ee[2]=[{type:0,data:hs(1)}],ee[3]=[{type:2,data:hOe(we)}],ae[3].push({type:2,data:ta(ee)})})}H.messages[0].data=ta(ae);var ne=bm(K),ke=wm(ne);X.content=ke,X.size=X.content.length})();var U=In(L[3][0].data);{var F=U[1][0];delete U[2];var W=In(F.data);{var q=qd(W[2][0].data);(function(){for(var X=js.find(f,l[q].location),K=Lo(Bo(X.content)),H,J=0;J<K.length;++J){var ce=K[J];ce.id==q&&(H=ce)}var ae=In(H.messages[0].data);{delete ae[6],delete U[7];var ee=new Uint8Array(ae[5][0].data);ae[5]=[];for(var ne=0,ke=0;ke<=n.e.r;++ke){var we=In(ee);ne+=gOe(we,i[ke],o),we[1][0].data=hs(ke),ae[5].push({data:ta(we),type:2})}ae[1]=[{type:0,data:hs(n.e.c+1)}],ae[2]=[{type:0,data:hs(n.e.r+1)}],ae[3]=[{type:0,data:hs(ne)}],ae[4]=[{type:0,data:hs(n.e.r+1)}]}H.messages[0].data=ta(ae);var et=bm(K),Ee=wm(et);X.content=Ee,X.size=X.content.length})()}F.data=ta(W)}L[3][0].data=ta(U)}j[4][0].data=ta(L)}y.messages[0].data=ta(j);var Q=bm(x),P=wm(Q);return p.content=P,p.size=p.content.length,f}function vOe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function h_(e){vOe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function bOe(e,t){return t.bookType=="ods"?Bz(e,t):t.bookType=="numbers"?yOe(e,t):t.bookType=="xlsb"?wOe(e,t):NOe(e,t)}function wOe(e,t){Um=1024,e&&!e.SSF&&(e.SSF=Ni(dn)),e&&e.SSF&&(oN(),iN(e.SSF),t.revssf=lN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=wz.indexOf(t.bookType)>-1,a=Qq();h_(t=t||{});var i=X4(),o="",l=0;if(t.cellXfs=[],Gu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",wr(i,o,ez(e.Props,t)),a.coreprops.push(o),ps(t.rels,2,o,Qr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,wr(i,o,rz(e.Props)),a.extprops.push(o),ps(t.rels,3,o,Qr.EXT_PROPS),e.Custprops!==e.Props&&ca(e.Custprops||{}).length>0&&(o="docProps/custom.xml",wr(i,o,sz(e.Custprops)),a.custprops.push(o),ps(t.rels,4,o,Qr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},p=e.Sheets[e.SheetNames[l-1]],x=(p||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,wr(i,o,SDe(l-1,o,t,e,h)),a.sheets.push(o),ps(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Qr.WS[0])}if(p){var y=p["!comments"],w=!1,b="";y&&y.length>0&&(b="xl/comments"+l+"."+r,wr(i,b,CDe(y,b)),a.comments.push(b),ps(h,-1,"../comments"+l+"."+r,Qr.CMNT),w=!0),p["!legacy"]&&w&&wr(i,"xl/drawings/vmlDrawing"+l+".vml",vz(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&wr(i,Zq(o),tp(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,wr(i,o,ADe(t.Strings,o,t)),a.strs.push(o),ps(t.wbrels,-1,"sharedStrings."+r,Qr.SST)),o="xl/workbook."+r,wr(i,o,jDe(e,o)),a.workbooks.push(o),ps(t.rels,1,o,Qr.WB),o="xl/theme/theme1.xml",wr(i,o,gz(e.Themes,t)),a.themes.push(o),ps(t.wbrels,-1,"theme/theme1.xml",Qr.THEME),o="xl/styles."+r,wr(i,o,EDe(e,o,t)),a.styles.push(o),ps(t.wbrels,-1,"styles."+r,Qr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",wr(i,o,e.vbaraw),a.vba.push(o),ps(t.wbrels,-1,"vbaProject.bin",Qr.VBA)),o="xl/metadata."+r,wr(i,o,TDe(o)),a.metadata.push(o),ps(t.wbrels,-1,"metadata."+r,Qr.XLMETA),wr(i,"[Content_Types].xml",Xq(a,t)),wr(i,"_rels/.rels",tp(t.rels)),wr(i,"xl/_rels/workbook."+r+".rels",tp(t.wbrels)),delete t.revssf,delete t.ssf,i}function NOe(e,t){Um=1024,e&&!e.SSF&&(e.SSF=Ni(dn)),e&&e.SSF&&(oN(),iN(e.SSF),t.revssf=lN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=wz.indexOf(t.bookType)>-1,a=Qq();h_(t=t||{});var i=X4(),o="",l=0;if(t.cellXfs=[],Gu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",wr(i,o,ez(e.Props,t)),a.coreprops.push(o),ps(t.rels,2,o,Qr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,wr(i,o,rz(e.Props)),a.extprops.push(o),ps(t.rels,3,o,Qr.EXT_PROPS),e.Custprops!==e.Props&&ca(e.Custprops||{}).length>0&&(o="docProps/custom.xml",wr(i,o,sz(e.Custprops)),a.custprops.push(o),ps(t.rels,4,o,Qr.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var p={"!id":{}},x=e.Sheets[e.SheetNames[l-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,wr(i,o,kz(l-1,t,e,p)),a.sheets.push(o),ps(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Qr.WS[0])}if(x){var w=x["!comments"],b=!1,N="";if(w&&w.length>0){var j=!1;w.forEach(function(S){S[1].forEach(function(A){A.T==!0&&(j=!0)})}),j&&(N="xl/threadedComments/threadedComment"+l+"."+r,wr(i,N,J4e(w,h,t)),a.threadedcomments.push(N),ps(p,-1,"../threadedComments/threadedComment"+l+"."+r,Qr.TCMNT)),N="xl/comments"+l+"."+r,wr(i,N,bz(w)),a.comments.push(N),ps(p,-1,"../comments"+l+"."+r,Qr.CMNT),b=!0}x["!legacy"]&&b&&wr(i,"xl/drawings/vmlDrawing"+l+".vml",vz(l,x["!comments"])),delete x["!comments"],delete x["!legacy"]}p["!id"].rId1&&wr(i,Zq(o),tp(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,wr(i,o,uz(t.Strings,t)),a.strs.push(o),ps(t.wbrels,-1,"sharedStrings."+r,Qr.SST)),o="xl/workbook."+r,wr(i,o,Rz(e)),a.workbooks.push(o),ps(t.rels,1,o,Qr.WB),o="xl/theme/theme1.xml",wr(i,o,gz(e.Themes,t)),a.themes.push(o),ps(t.wbrels,-1,"theme/theme1.xml",Qr.THEME),o="xl/styles."+r,wr(i,o,pz(e,t)),a.styles.push(o),ps(t.wbrels,-1,"styles."+r,Qr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",wr(i,o,e.vbaraw),a.vba.push(o),ps(t.wbrels,-1,"vbaProject.bin",Qr.VBA)),o="xl/metadata."+r,wr(i,o,yz()),a.metadata.push(o),ps(t.wbrels,-1,"metadata."+r,Qr.XLMETA),h.length>1&&(o="xl/persons/person.xml",wr(i,o,e_e(h)),a.people.push(o),ps(t.wbrels,-1,"persons/person.xml",Qr.PEOPLE)),wr(i,"[Content_Types].xml",Xq(a,t)),wr(i,"_rels/.rels",tp(t.rels)),wr(i,"xl/_rels/workbook."+r+".rels",tp(t.wbrels)),delete t.revssf,delete t.ssf,i}function jOe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Xc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function $z(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Oy(t.file,js.write(e,{type:ts?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return js.write(e,t)}function SOe(e,t){var r=Ni(t||{}),n=bOe(e,r);return EOe(n,r)}function EOe(e,t){var r={},n=ts?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?js.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(aN(a))}return t.password&&typeof encrypt_agile<"u"?$z(encrypt_agile(a,t.password),t):t.type==="file"?Oy(t.file,a):t.type=="string"?Ux(a):a}function AOe(e,t){var r=t||{},n=VDe(e,r);return $z(n,r)}function _l(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Fg(Bg(n));case"binary":return Bg(n);case"string":return e;case"file":return Oy(t.file,n,"utf8");case"buffer":return ts?od(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):_l(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function COe(e,t){switch(t.type){case"base64":return Fg(e);case"binary":return e;case"string":return e;case"file":return Oy(t.file,e,"binary");case"buffer":return ts?od(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function N1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Fg(r):t.type=="string"?Ux(r):r;case"file":return Oy(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Uz(e,t){tCe(),fDe(e);var r=Ni(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Uz(e,r);return r.type="array",aN(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return _l($De(e,r),r);case"slk":case"sylk":return _l(c4e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return _l(Iz(e.Sheets[e.SheetNames[a]],r),r);case"txt":return COe(Vz(e.Sheets[e.SheetNames[a]],r),r);case"csv":return _l(m_(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return _l(d4e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return N1(l4e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return _l(u4e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return _l(y4e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return _l(dz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return _l(Bz(e,r),r);case"wk1":return N1(E6.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return N1(E6.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),N1(Mz(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),AOe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return SOe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function TOe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function _Oe(e,t,r){var n={};return n.type="file",n.file=t,TOe(n),Uz(e,n)}function kOe(e,t,r,n,a,i,o,l){var u=oa(r),f=l.defval,h=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,x=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:r,enumerable:!1})}catch{x.__rowNum__=r}else x.__rowNum__=r;if(!o||e[r])for(var y=t.s.c;y<=t.e.c;++y){var w=o?e[r][y]:e[n[y]+u];if(w===void 0||w.t===void 0){if(f===void 0)continue;i[y]!=null&&(x[i[y]]=f);continue}var b=w.v;switch(w.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[y]!=null){if(b==null)if(w.t=="e"&&b===null)x[i[y]]=null;else if(f!==void 0)x[i[y]]=f;else if(h&&b===null)x[i[y]]=null;else continue;else x[i[y]]=h&&(w.t!=="n"||w.t==="n"&&l.rawNumbers!==!1)?b:Zc(w,b,l);b!=null&&(p=!1)}}return{row:x,isempty:p}}function Hb(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},h=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":u=Fs(h);break;case"number":u=Fs(e["!ref"]),u.s.r=h;break;default:u=h}n>0&&(a=0);var p=oa(u.s.r),x=[],y=[],w=0,b=0,N=Array.isArray(e),j=u.s.r,S=0,A={};N&&!e[j]&&(e[j]=[]);var _=f.skipHidden&&e["!cols"]||[],C=f.skipHidden&&e["!rows"]||[];for(S=u.s.c;S<=u.e.c;++S)if(!(_[S]||{}).hidden)switch(x[S]=Ra(S),r=N?e[j][S]:e[x[S]+p],n){case 1:i[S]=S-u.s.c;break;case 2:i[S]=x[S];break;case 3:i[S]=f.header[S-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Zc(r,null,f),b=A[o]||0,!b)A[o]=1;else{do l=o+"_"+b++;while(A[l]);A[o]=b,A[l]=1}i[S]=l}for(j=u.s.r+a;j<=u.e.r;++j)if(!(C[j]||{}).hidden){var k=kOe(e,u,j,x,n,i,N,f);(k.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(y[w++]=k.row)}return y.length=w,y}var R6=/"/g;function DOe(e,t,r,n,a,i,o,l){for(var u=!0,f=[],h="",p=oa(r),x=t.s.c;x<=t.e.c;++x)if(n[x]){var y=l.dense?(e[r]||[])[x]:e[n[x]+p];if(y==null)h="";else if(y.v!=null){u=!1,h=""+(l.rawNumbers&&y.t=="n"?y.v:Zc(y,null,l));for(var w=0,b=0;w!==h.length;++w)if((b=h.charCodeAt(w))===a||b===i||b===34||l.forceQuotes){h='"'+h.replace(R6,'""')+'"';break}h=="ID"&&(h='"ID"')}else y.f!=null&&!y.F?(u=!1,h="="+y.f,h.indexOf(",")>=0&&(h='"'+h.replace(R6,'""')+'"')):h="";f.push(h)}return l.blankrows===!1&&u?null:f.join(o)}function m_(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Fs(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,u=l.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),h="",p=[];n.dense=Array.isArray(e);for(var x=n.skipHidden&&e["!cols"]||[],y=n.skipHidden&&e["!rows"]||[],w=a.s.c;w<=a.e.c;++w)(x[w]||{}).hidden||(p[w]=Ra(w));for(var b=0,N=a.s.r;N<=a.e.r;++N)(y[N]||{}).hidden||(h=DOe(e,a,N,p,o,u,i,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&r.push((b++?l:"")+h)));return delete n.dense,r.join("")}function Vz(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=m_(e,t);return r}function OOe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Fs(e["!ref"]),i="",o=[],l,u=[],f=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=Ra(l);for(var h=a.s.r;h<=a.e.r;++h)for(i=oa(h),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=f?(e[h]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=t+"="+n}return u}function qz(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var u=typeof n.origin=="string"?Yn(n.origin):n.origin;o=u.r,l=u.c}var f,h={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var p=Fs(i["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(o=p.e.r+1,h.e.r=o+t.length-1+a)}else o==-1&&(o=0,h.e.r=t.length-1+a);var x=n.header||[],y=0;t.forEach(function(b,N){ca(b).forEach(function(j){(y=x.indexOf(j))==-1&&(x[y=x.length]=j);var S=b[j],A="z",_="",C=gs({c:l+y,r:o+N+a});f=Vg(i,C),S&&typeof S=="object"&&!(S instanceof Date)?i[C]=S:(typeof S=="number"?A="n":typeof S=="boolean"?A="b":typeof S=="string"?A="s":S instanceof Date?(A="d",n.cellDates||(A="n",S=wi(S)),_=n.dateNF||dn[14]):S===null&&n.nullError&&(A="e",S=0),f?(f.t=A,f.v=S,delete f.w,delete f.R,_&&(f.z=_)):i[C]=f={t:A,v:S},_&&(f.z=_))})}),h.e.c=Math.max(h.e.c,l+x.length-1);var w=oa(o);if(a)for(y=0;y<x.length;++y)i[Ra(y+l)+w]={t:"s",v:x[y]};return i["!ref"]=Tn(h),i}function ROe(e,t){return qz(null,e,t)}function Vg(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Yn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Vg(e,gs(t)):Vg(e,gs({r:t,c:r||0}))}function POe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function MOe(){return{SheetNames:[],Sheets:{}}}function IOe(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Oz(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function FOe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=POe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function LOe(e,t){return e.z=t,e}function zz(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function BOe(e,t,r){return zz(e,"#"+t,r)}function $Oe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function UOe(e,t,r,n){for(var a=typeof t!="string"?t:Fs(t),i=typeof t=="string"?t:Tn(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var u=Vg(e,o,l);u.t="n",u.F=i,delete u.v,o==a.s.r&&l==a.s.c&&(u.f=r,n&&(u.D=!0))}return e}var sE={encode_col:Ra,encode_row:oa,encode_cell:gs,encode_range:Tn,decode_col:s_,decode_row:r_,split_cell:tTe,decode_cell:Yn,decode_range:Yi,format_cell:Zc,sheet_add_aoa:zq,sheet_add_json:qz,sheet_add_dom:Fz,aoa_to_sheet:d0,json_to_sheet:ROe,table_to_sheet:Lz,table_to_book:dOe,sheet_to_csv:m_,sheet_to_txt:Vz,sheet_to_json:Hb,sheet_to_html:Iz,sheet_to_formulae:OOe,sheet_to_row_object_array:Hb,sheet_get_cell:Vg,book_new:MOe,book_append_sheet:IOe,book_set_sheet_visibility:FOe,cell_set_number_format:LOe,cell_set_hyperlink:zz,cell_set_internal_link:BOe,cell_add_comment:$Oe,sheet_set_array_formula:UOe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const VOe=()=>{console.log("[StorageDebug] Attempting to get user details...");const e=localStorage.getItem("user"),t=localStorage.getItem("agencyId");console.log("[StorageDebug] Raw localStorage.getItem('user'):",e),console.log("[StorageDebug] Raw localStorage.getItem('agencyId'):",t);let r=t,n=null,a=null,i=null;if(e)try{const o=JSON.parse(e);console.log("[StorageDebug] Parsed userObject:",o),n=o.role||null,a=o.id?String(o.id):null,i=o.name||null;const l=o.agencyId?String(o.agencyId):null;console.log("[StorageDebug] agencyId found in userObject:",l),!r&&l&&(console.log("[StorageDebug] Using agencyId from userObject as primary source was empty."),r=l)}catch(o){console.error("[StorageDebug] Failed to parse user details from localStorage:",o)}return console.log("[StorageDebug] Final determined values for return: role=",n,"userId=",a,"name=",i,"agencyId=",r),{role:n,userId:a,agencyId:r,name:i}},j1=({size:e="md",color:t="blue",className:r=""})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"},a={white:"border-white",blue:"border-blue-500",gray:"border-gray-500"};return s.jsx("div",{className:Jd("animate-spin rounded-full border-t-2 border-b-2",n[e],a[t],r),style:{borderTopColor:"transparent"}})},qOe=()=>{const[e,t]=g.useState(null),[r,n]=g.useState([]),[a,i]=g.useState(null),[o,l]=g.useState(!1),[u,f]=g.useState([]),[h,p]=g.useState(new Date().toISOString().split("T")[0]),[x,y]=g.useState(!1),[w,b]=g.useState(null),[N,j]=g.useState({}),S=g.useCallback(async(k,T)=>{if(console.log(`[fetchDeliveries] Called. Date: ${k}, AdminAgencyID: ${T}, UserRole: ${e==null?void 0:e.role}`),!e){console.warn("[fetchDeliveries] currentUser is null. Aborting."),b("User information is not available."),f([]);return}let O="";if(e.role==="ADMIN"){if(!T){console.warn("[fetchDeliveries] Admin role but no agencyIdForAdmin provided. Clearing deliveries."),f([]);return}O=`/delivery-schedules/agency/by-date?date=${k}&agencyId=${T}&paymentStatus=PAID`}else if(e.role==="AGENCY")console.log("[fetchDeliveries] AGENCY role. Backend will infer agencyId."),O=`/delivery-schedules/agency/by-date?date=${k}&paymentStatus=PAID`;else{console.warn("[fetchDeliveries] User role is not ADMIN or AGENCY. Role:",e.role),b("You do not have permission to view this page."),f([]);return}console.log("[fetchDeliveries] Attempting to fetch from URL:",O),y(!0),b(null);try{const R=await ut(O);console.log("[fetchDeliveries] Raw data received:",R),f(R||[])}catch(R){console.error("[fetchDeliveries] Error fetching deliveries:",R),b(R.message||"Failed to fetch deliveries."),f([])}finally{y(!1)}},[e,f,b,y]);g.useEffect(()=>{const k=VOe();console.log(k),t(k),k.role==="ADMIN"&&(async()=>{l(!0);try{const O=await ut("/agencies");console.log("Raw /agencies response:",O);let R=[];Array.isArray(O)?R=O:O&&Array.isArray(O.data)?R=O.data:O&&Array.isArray(O.agencies)?R=O.agencies:O&&typeof O=="object"&&O!==null&&console.warn("/agencies endpoint did not return an array or a known wrapped array structure."),n(R.map(L=>{var M;return{id:L.id,name:((M=L.user)==null?void 0:M.name)||L.name||`Agency ${L.id}`}}))}catch(O){b(O.message||"Failed to fetch agencies.")}l(!1)})()},[]),g.useEffect(()=>{(e==null?void 0:e.role)==="ADMIN"&&(console.log("[ADMIN Effect for FetchDeliveries] Triggered. Date:",h,"SelectedAdminAgencyID:",a),a?S(h,a):f([]))},[h,a,e,S]),g.useEffect(()=>{(e==null?void 0:e.role)==="AGENCY"&&h?(console.log("[AGENCY Effect for FetchDeliveries] Triggered. Date:",h,"Role:",e.role),S(h)):(e==null?void 0:e.role)==="AGENCY"&&!h&&(console.log("[AGENCY Effect for FetchDeliveries] AGENCY role, but no date selected. Clearing deliveries."),f([]))},[h,e,S]);const A=()=>{if(!u.length){alert("No delivery data available to download for the selected date.");return}const k=u.map(L=>({"Customer Name":L.member.name,"Product Name":L.product.name,Quantity:L.quantity,"Delivery Address":`${L.deliveryAddress.plotBuilding||""}${L.deliveryAddress.plotBuilding&&L.deliveryAddress.streetArea?", ":""}${L.deliveryAddress.streetArea||""}, ${L.deliveryAddress.city}, ${L.deliveryAddress.pincode}${L.member.phoneNumber?` (Phone: ${L.member.phoneNumber})`:""}`,Status:L.status,Phone:L.deliveryAddress.mobile||"N/A"})),T=sE.json_to_sheet(k),O=sE.book_new();sE.book_append_sheet(O,T,"Deliveries");const R=[{wch:20},{wch:25},{wch:10},{wch:40},{wch:15},{wch:15},{wch:30}];T["!cols"]=R,_Oe(O,`delivery_schedule_${h}.xlsx`)},_=k=>{switch(k){case Cl.PENDING:return"bg-yellow-100 text-yellow-800";case Cl.DELIVERED:return"bg-green-100 text-green-800";case Cl.NOT_DELIVERED:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=g.useCallback(async(k,T)=>{var O,R;if(console.log(`[UpdateStatus] Attempting to update delivery ${k} to ${T}`),(e==null?void 0:e.role)==="ADMIN"){b("Admins cannot update delivery status."),console.warn("[UpdateStatus] Admin role detected, update forbidden by frontend logic.");return}j(L=>({...L,[k]:!0})),b(null);try{await Js(`/delivery-schedules/${k}/status`,{status:T}),console.log(`[UpdateStatus] Successfully updated status for ${k} to ${T}`),f(L=>L.map(M=>M.id===k?{...M,status:T}:M))}catch(L){console.error(`[UpdateStatus] Error updating status for ${k}:`,L),b(((R=(O=L.response)==null?void 0:O.data)==null?void 0:R.error)||L.message||"Failed to update delivery status.")}j(L=>({...L,[k]:!1}))},[e,f,b,j]);return s.jsxs("div",{className:"p-4 md:p-6 lg:p-8 bg-gray-100 min-h-screen font-sans",children:[s.jsxs("header",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:(e==null?void 0:e.role)==="ADMIN"?"Admin Delivery Management":"Agency Delivery Schedule"}),(e==null?void 0:e.role)==="ADMIN"&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Viewing as Admin: ",e.name||"Admin User"]}),(e==null?void 0:e.role)==="AGENCY"&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Agency: ",e.name||`Agency ${e.agencyId}`]})]}),s.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{htmlFor:"deliveryDate",className:"font-semibold text-gray-700 whitespace-nowrap",children:"Select Date:"}),s.jsx("input",{id:"deliveryDate",type:"date",value:h,onChange:k=>{console.log("[DateChange] New date:",k.target.value),p(k.target.value)},className:"border border-gray-300 rounded-md p-2 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(e==null?void 0:e.role)==="ADMIN"&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{htmlFor:"agencySelect",className:"font-semibold text-gray-700 whitespace-nowrap",children:"Select Agency:"}),s.jsxs(Wt,{value:a||"",onValueChange:k=>{const T=k==="NONE"?null:k;console.log("[AgencyChange] New agency ID:",T),i(T)},disabled:o||r.length===0,children:[s.jsx(Yt,{id:"agencySelect",className:"min-w-[200px]",children:s.jsx(Gt,{placeholder:o?"Loading agencies...":"Select an agency"})}),s.jsxs(Kt,{children:[r.length===0&&!o&&s.jsx(ct,{value:"NONE",disabled:!0,children:"No agencies found"}),r.map(k=>s.jsx(ct,{value:k.id,children:k.name},k.id))]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-3 sm:mt-0",children:[s.jsxs("button",{onClick:()=>S(h,a??void 0),disabled:x||Object.values(N).some(k=>k===!0),className:Jd("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",x||Object.values(N).some(k=>k===!0)?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 focus-visible:outline-indigo-600"),children:[x&&!Object.values(N).some(k=>k===!0)&&!w?s.jsx(j1,{size:"sm",color:"white",className:"mr-2"}):null,"Refresh Deliveries"]}),s.jsxs("button",{onClick:A,disabled:u.length===0||x,className:Jd("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",u.length===0||x?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-primary focus-visible:outline-green-600"),children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 mr-2",children:[s.jsx("path",{d:"M10.75 2.75a.75.75 0 0 0-1.5 0v8.614L6.295 8.235a.75.75 0 1 0-1.09 1.03l4.25 4.5a.75.75 0 0 0 1.09 0l4.25-4.5a.75.75 0 0 0-1.09-1.03l-2.955 3.129V2.75Z"}),s.jsx("path",{d:"M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z"})]}),"Download Excel"]})]})]}),x&&u.length===0&&!w&&s.jsx("div",{className:"flex justify-center items-center p-10",children:s.jsx(j1,{size:"lg"})}),w&&s.jsxs("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg border border-red-300",role:"alert",children:[s.jsx("span",{className:"font-medium",children:"Error:"})," ",w]}),!x&&u.length===0&&!w&&s.jsx("div",{className:"p-4 text-sm text-gray-700 bg-blue-100 rounded-lg border border-blue-300",role:"alert",children:"No deliveries scheduled for this date."}),u.length>0&&s.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(e==null?void 0:e.role)==="AGENCY"&&s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(k=>{var T,O,R;return s.jsxs("tr",{className:N[k.id]?"opacity-50":"",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.member.name}),s.jsx("div",{className:"text-xs text-gray-500",children:((T=k.deliveryAddress)==null?void 0:T.mobile)||"N/A"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:k.product.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:k.quantity})}),s.jsxs("td",{className:"px-6 py-4 whitespace-normal max-w-xs",children:[" ",s.jsx("div",{className:"text-sm text-gray-900",children:(O=k.deliveryAddress)==null?void 0:O.recipientName}),s.jsx("div",{className:"text-sm text-gray-900",children:k.deliveryAddress&&`${k.deliveryAddress.plotBuilding||""}${k.deliveryAddress.plotBuilding&&k.deliveryAddress.streetArea?", ":""}${k.deliveryAddress.streetArea||""}`}),s.jsx("div",{className:"text-sm text-gray-500",children:k.deliveryAddress?`${k.deliveryAddress.city}, ${k.deliveryAddress.pincode}`:"Offline Depot Delivery"}),k.member.phoneNumber&&s.jsxs("div",{className:"text-sm text-blue-600 mt-1",children:["Phone: ",k.member.phoneNumber]}),((R=k.deliveryAddress)==null?void 0:R.deliveryNotes)&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1 italic",children:["Notes: ",k.deliveryAddress.deliveryNotes]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:Jd("px-2 inline-flex text-xs leading-5 font-semibold rounded-full",_(k.status)),children:k.status.replace("_"," ")})}),(e==null?void 0:e.role)==="AGENCY"&&s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-1 text-center",children:[s.jsxs("button",{onClick:()=>C(k.id,Cl.DELIVERED),disabled:k.status!==Cl.PENDING||N[k.id],className:Jd("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",k.status!==Cl.PENDING||N[k.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary focus:ring-green-400"),title:"Mark as Delivered",children:[N[k.id]?s.jsx(j1,{size:"sm",color:"white",className:"mr-1 inline-block align-middle"}):null,"Delivered"]}),s.jsxs("button",{onClick:()=>C(k.id,Cl.NOT_DELIVERED),disabled:k.status!==Cl.PENDING||N[k.id],className:Jd("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",k.status!==Cl.PENDING||N[k.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600 focus:ring-red-400"),title:"Mark as Not Delivered",children:[N[k.id]?s.jsx(j1,{size:"sm",color:"white",className:"mr-1 inline-block align-middle"}):null,"Not Delivered"]})]})]},k.id)})})]})})]})},nE=e=>{const t=new Map;return e.forEach(r=>{t.has(r.id)||t.set(r.id,r)}),Array.from(t.values())},zOe=()=>{var Ee,Te,Fe,ue;const[e,t]=g.useState(""),[r,n]=g.useState(""),[a,i]=g.useState(""),[o,l]=g.useState(""),[u,f]=g.useState([]),[h,p]=g.useState(null),[x,y]=g.useState(null),[w,b]=g.useState(!1),[N,j]=g.useState(!1),[S,A]=g.useState(!1),[_,C]=g.useState(null),[k,T]=g.useState(!1),[O,R]=g.useState(null),[L,M]=g.useState(!1),[G,V]=g.useState(null),[ie,le]=g.useState(""),[B,U]=g.useState(""),[F,W]=g.useState(""),[q,Q]=g.useState(!1),[P,X]=g.useState({}),[K]=JY(),H=g.useRef(null),[J,ce]=g.useState({});g.useEffect(()=>{(async()=>{b(!0),C(null);try{const De=await ut("/admin/wallets");f(De==null?void 0:De.data)}catch(De){C(De.message||"Failed to load members."),f([])}b(!1)})()},[]);const ae=g.useCallback(async Ce=>{var De,Et;if(p(Ce),y(null),C(null),Ce){j(!0);try{const _t=await ut(`/admin/wallets/${Ce}`);(Et=(De=_t==null?void 0:_t.data)==null?void 0:De.wallet)!=null&&Et.transactions&&(_t.data.wallet.transactions=nE(_t.data.wallet.transactions)),y(_t==null?void 0:_t.data)}catch(_t){C(_t.message||`Failed to load wallet for member ${Ce}.`),y(null)}j(!1)}else y(null)},[p,y,C,j]);g.useEffect(()=>{const Ce=K.get("memberId");Ce&&u.length>0?Ce!==H.current&&(u.some(Et=>String(Et.memberId)===Ce)&&ae(Ce),H.current=Ce):!Ce&&H.current&&(H.current=null)},[K,u,ae]);const ee=Ce=>{if(!h||!x){C("Please select a customer first to modify their balance.");return}t(""),n(""),i(""),l(""),ce({}),R(Ce),T(!0)},ne=Ce=>{V(Ce),Ce.paymentMethod==="PENDING"&&(le(""),U(""),W(""),X({})),M(!0)},ke=async()=>{var De,Et,_t,xe;if(!G||!h)return;const Ce={};if(ie||(Ce.paymentMethod="Payment method is required for approval."),ie&&ie!=="CASH"&&!B.trim()&&(Ce.referenceNumber="Reference number is required for this payment method."),Object.keys(Ce).length>0){X(Ce);return}X({}),Q(!0);try{const Ae={paymentMethod:ie,referenceNumber:B.trim(),notes:F.trim()};if(await Ur(`/admin/wallets/transactions/${G.id}/approve`,Ae),h){const Ie=await ut(`/admin/wallets/${h}`);(Et=(De=Ie==null?void 0:Ie.data)==null?void 0:De.wallet)!=null&&Et.transactions&&(Ie.data.wallet.transactions=nE(Ie.data.wallet.transactions)),y(Ie.data)}M(!1),he.success("Transaction approved successfully!",{icon:s.jsx(Ox,{className:"h-4 w-4"}),duration:5e3})}catch(Ae){console.error("Failed to approve transaction:",Ae);const Ie=((xe=(_t=Ae.response)==null?void 0:_t.data)==null?void 0:xe.message)||Ae.message||"Failed to approve transaction. Please try again.";X({notes:Ie}),he.error(`Error approving transaction: ${Ie}`,{icon:s.jsx(gu,{className:"h-4 w-4"}),duration:5e3})}finally{Q(!1)}},we=async()=>{var _t,xe;if(!h||!O){C("No member selected or transaction type missing.");return}const Ce=parseFloat(e);let De={};if((isNaN(Ce)||Ce<=0)&&(De.amount="Amount must be a positive number."),r.trim()||(De.paymentMethod="Payment method is required."),Object.keys(De).length>0){ce(De);return}ce({}),A(!0),C(null);const Et={amount:Ce,paymentMethod:r.trim(),referenceNumber:a.trim()||void 0,notes:o.trim()||void 0};try{if(O==="CREDIT"?await Ur(`/admin/wallets/${h}/add-funds`,Et):await Ur(`/admin/wallets/${h}/remove-funds`,Et),h){const Ae=await ut(`/admin/wallets/${h}`);(xe=(_t=Ae==null?void 0:Ae.data)==null?void 0:_t.wallet)!=null&&xe.transactions&&(Ae.data.wallet.transactions=nE(Ae.data.wallet.transactions)),y(Ae.data)}T(!1),t(""),n(""),i(""),l("")}catch(Ae){C(Ae.message||"Failed to process transaction.")}A(!1)},et=()=>{const Ce={},De=Number.parseFloat(e);return e.trim()?(isNaN(De)||De<=0)&&(Ce.amount="Please enter a valid positive amount."):Ce.amount="Amount is required.",r.trim()||(Ce.paymentMethod="Payment method is required."),r!=="CASH"&&r!=="PENDING"&&!a.trim()&&(Ce.referenceNumber="Reference number is required."),ce(Ce),Object.keys(Ce).length===0};return g.useEffect(()=>{et()},[e,r,a]),s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl space-y-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Wallet Management"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage customer wallet balances and view transaction history"})]}),x&&!N&&s.jsx(At,{className:"p-6 rounded-xl shadow-sm border bg-card transition-all hover:shadow-md",children:s.jsxs("div",{className:"flex items-start gap-5",children:[s.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:s.jsx(ew,{className:"h-8 w-8 text-primary flex-shrink-0"})}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-foreground tracking-tight",children:x.memberName}),x.memberEmail&&s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(AC,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("a",{href:`mailto:${x.memberEmail}`,className:"text-muted-foreground hover:text-primary hover:underline transition-colors",children:x.memberEmail})]})]})})]})}),N&&s.jsx(At,{className:"p-4 text-center mt-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Wr,{className:"h-4 w-4 animate-spin"}),"Loading wallet details..."]})}),x&&!N&&s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Dc,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current Balance (",x==null?void 0:x.memberName,")"]}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:x?Ms(((Ee=x==null?void 0:x.wallet)==null?void 0:Ee.balance)??0):"N/A"})]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>ee("CREDIT"),size:"sm",className:"bg-green-600 hover:bg-primary text-white",children:[s.jsx(CE,{className:"mr-1 h-4 w-4"}),"Deposit"]}),s.jsxs(pe,{onClick:()=>ee("DEBIT"),variant:"destructive",size:"sm",children:[s.jsx(Jx,{className:"mr-1 h-4 w-4"}),"Withdrawn"]})]})]})})," ",s.jsxs(At,{className:"mt-4",children:[s.jsx(Dt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(rr,{className:"text-lg",children:"Transaction History"})}),((Te=x==null?void 0:x.wallet)==null?void 0:Te.transactions)&&s.jsxs(Fr,{variant:"secondary",className:"text-xs",children:[x.wallet.transactions.length," transaction(s)"]})]})}),s.jsx(Tt,{className:"pt-0",children:(Fe=x==null?void 0:x.wallet)!=null&&Fe.transactions&&x.wallet.transactions.length>0?s.jsx("div",{className:"rounded-md border",children:s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsxs(tr,{className:"text-xs uppercase bg-muted/50",children:[s.jsx(Ye,{className:"px-3 py-2",children:"Date"}),s.jsx(Ye,{className:"text-right",children:"Credited"}),s.jsx(Ye,{className:"text-right",children:"Debited"}),s.jsx(Ye,{className:"px-3 py-2",children:"Payment Method"}),s.jsx(Ye,{className:"px-3 py-2",children:"Reference"}),s.jsx(Ye,{className:"px-3 py-2",children:"Admin"}),s.jsx(Ye,{className:"px-3 py-2",children:"Status"}),s.jsx(Ye,{className:"text-right px-3 py-2",children:"Actions"})]})}),s.jsx($s,{children:x.wallet.transactions.map(Ce=>s.jsxs(tr,{className:"text-sm hover:bg-muted/50",children:[s.jsx(Ue,{className:"text-xs px-3 py-2 text-muted-foreground whitespace-nowrap",children:typeof Ce.timestamp=="string"&&Ce.timestamp?Lt(Ce.timestamp,"dd/MM/yyyy"):s.jsx("span",{className:"text-muted-foreground",children:"Date N/A"})}),s.jsx(Ue,{className:`text-right ${Ce.type==="CREDIT"?"text-green-500":"text-muted-foreground"}`,children:Ce.type==="CREDIT"?Ms(Ce.amount):s.jsx("span",{className:"text-muted-foreground",children:"0"})}),s.jsx(Ue,{className:`text-right ${Ce.type==="DEBIT"?"text-red-500":"text-muted-foreground"}`,children:Ce.type==="DEBIT"?Ms(Ce.amount):s.jsx("span",{className:"text-muted-foreground",children:"0"})}),s.jsx(Ue,{className:"text-xs px-3 py-2",children:Ce.paymentMethod||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Ue,{className:"text-xs px-3 py-2 font-mono",children:Ce.referenceNumber||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Ue,{className:"text-xs px-3 py-2 text-muted-foreground",children:Ce.adminName||s.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),s.jsx(Ue,{className:"text-xs px-3 py-2",children:Ce.status||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Ue,{className:"text-right px-3 py-2",children:s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>ne(Ce),disabled:Ce.status!=="PENDING",children:"View Details"})})]},String(Ce.id)))})]})}):s.jsx("div",{className:"text-center py-10 text-sm text-muted-foreground",children:"No transactions found for this customer."})})]})]}),s.jsx(Xr,{open:k,onOpenChange:Ce=>{T(Ce),Ce||(t(""),n(""),i(""),l(""),ce({}),R(null),C(null))},children:s.jsxs(Zr,{className:"sm:max-w-md",children:[s.jsxs(rs,{children:[s.jsxs(ss,{className:"flex items-center",children:[O==="CREDIT"?s.jsx(CE,{className:"mr-2 h-5 w-5 text-green-600"}):s.jsx(Jx,{className:"mr-2 h-5 w-5 text-red-600"}),O==="CREDIT"?"Add Funds to Wallet":"Remove Funds from Wallet"]}),x&&s.jsxs(la,{children:["For ",x==null?void 0:x.memberName,". Current balance: ",Ms(((ue=x==null?void 0:x.wallet)==null?void 0:ue.balance)??0)]})]}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(je,{htmlFor:"amount",children:O==="CREDIT"?"Amount to Credit":"Amount to Debit"}),s.jsx(Ge,{id:"amount",type:"number",placeholder:"e.g., 50.00",value:e,onChange:Ce=>t(Ce.target.value),className:J.amount?"border-destructive focus-visible:ring-destructive":""}),J.amount&&s.jsx("p",{className:"text-xs text-destructive pt-1",children:J.amount})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(je,{htmlFor:"paymentMethod",className:J.paymentMethod?"text-destructive":"",children:"Payment Method"}),s.jsxs(Wt,{value:r,onValueChange:n,children:[s.jsx(Yt,{className:J.paymentMethod?"border-destructive focus-visible:ring-destructive":"",children:s.jsx(Gt,{placeholder:"Select a payment method"})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"CASH",children:"Cash"}),s.jsx(ct,{value:"UPI",children:"UPI"}),s.jsx(ct,{value:"Bank",children:"Bank Transfer"})]})]}),J.paymentMethod&&s.jsx("p",{className:"text-xs text-destructive pt-1",children:J.paymentMethod})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(je,{htmlFor:"referenceNumber",children:["Reference Number ",s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),s.jsx(Ge,{id:"referenceNumber",placeholder:"e.g., INV-12345, Txn ID",value:a,disabled:r==="CASH",onChange:Ce=>i(Ce.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(je,{htmlFor:"notes",children:["Notes ",s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),s.jsx(eh,{id:"notes",placeholder:"e.g., Monthly deposit, Refund for order #XYZ",value:o,onChange:Ce=>l(Ce.target.value),rows:3})]})]}),_&&!J.amount&&!J.paymentMethod&&s.jsxs("div",{className:"bg-destructive/15 text-destructive px-3 py-2 rounded-md text-sm",children:["Error: ",_]}),s.jsx(Xa,{className:"sm:justify-start pt-2",children:s.jsx(pe,{type:"button",onClick:we,disabled:S||Object.keys(J).length>0,className:`w-full ${O==="CREDIT"?"bg-green-600 hover:bg-primary text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:S?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):O==="CREDIT"?"Credit Wallet":"Debit Wallet"})})]})}),L&&G&&s.jsx(Xr,{open:L,onOpenChange:Ce=>{!Ce&&q||M(Ce)},children:s.jsxs(Zr,{className:"sm:max-w-lg",children:[s.jsxs(rs,{children:[s.jsx(ss,{children:G.status==="PENDING"?"Approve Transaction":"Transaction Details"}),s.jsx(la,{children:G.status==="PENDING"?"Complete the details below to approve this pending transaction.":"Review the details of this transaction."})]}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Transaction ID:"})}),s.jsx("div",{children:G.id}),s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Date:"})}),s.jsx("div",{children:Lt(new Date(G.timestamp),"dd/MM/yyyy")}),s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Type:"})}),s.jsx("div",{children:s.jsx(Fr,{variant:G.type==="CREDIT"?"default":"destructive",className:`${G.type==="CREDIT"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:G.type})}),s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Amount:"})}),s.jsx("div",{className:`font-semibold ${G.type==="CREDIT"?"text-green-600":"text-red-600"}`,children:Ms(G.amount)})]}),G.status!=="PENDING"&&s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm pt-2 border-t",children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"})}),s.jsx("div",{children:s.jsx(Fr,{variant:G.status==="COMPLETED"?"default":G.status==="FAILED"?"destructive":"outline",className:`capitalize ${G.status==="COMPLETED"?"bg-green-100 text-green-700":G.status==="FAILED"?"bg-red-100 text-red-700":"border-gray-300 text-gray-500"}`,children:G.status?G.status.toLowerCase():"N/A"})}),G.status&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Payment Method:"})}),s.jsx("div",{children:G.paymentMethod})]}),G.referenceNumber&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Reference No:"})}),s.jsx("div",{children:G.referenceNumber})]})]}),G.notes&&G.paymentMethod!=="PENDING"&&s.jsxs("div",{className:"text-sm pt-2 border-t",children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Notes:"}),s.jsx("p",{className:"p-2 bg-muted/50 rounded-md whitespace-pre-wrap",children:G.notes})]})]}),G.status==="PENDING"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsx("h3",{className:"text-md font-semibold text-foreground",children:"Approval Details"}),s.jsxs("div",{children:[s.jsxs(je,{htmlFor:"approvalPaymentMethod",children:["Payment Method ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Wt,{value:ie,onValueChange:le,disabled:q,children:[s.jsx(Yt,{id:"approvalPaymentMethod",children:s.jsx(Gt,{placeholder:"Select actual payment method"})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"CASH",children:"Cash"}),s.jsx(ct,{value:"UPI",children:"UPI"}),s.jsx(ct,{value:"Bank Transfer",children:"Bank Transfer"})]})]}),P.paymentMethod&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:P.paymentMethod})]}),s.jsxs("div",{children:[s.jsxs(je,{htmlFor:"approvalReferenceNumber",children:["Reference Number ",ie!=="CASH"&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ge,{id:"approvalReferenceNumber",value:B,onChange:Ce=>U(Ce.target.value),placeholder:"Enter reference number",disabled:q||!ie||ie==="CASH"}),P.referenceNumber&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:P.referenceNumber})]}),s.jsxs("div",{children:[s.jsx(je,{htmlFor:"approvalNotes",children:"Notes"}),s.jsx(eh,{id:"approvalNotes",value:F,onChange:Ce=>W(Ce.target.value),placeholder:"Add any notes for this approval (optional)",disabled:q}),P.notes&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:P.notes})]})]}),s.jsx(Xa,{className:"mt-2",children:G.status==="PENDING"?s.jsxs(s.Fragment,{children:[s.jsx(pe,{variant:"outline",onClick:()=>M(!1),disabled:q,children:"Cancel"}),s.jsx(pe,{onClick:ke,disabled:q||!ie,children:q?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"mr-2 h-4 w-4 animate-spin"})," Approving..."]}):"Approve Payment"})]}):s.jsx(pe,{variant:"outline",onClick:()=>M(!1),children:"Close"})})]})})]})};function HOe(e,t){const[r,n]=g.useState(e);return g.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}const WOe=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(null),[o,l]=g.useState(1),[u,f]=g.useState(0),[h,p]=g.useState(10),[x,y]=g.useState(""),[w,b]=g.useState("name"),[N,j]=g.useState("asc"),S=HOe(x,500),A=async(L,M)=>{var G,V;try{await Ja(`/admin/members/${L}/status`,{active:!M}),t(ie=>ie.map(le=>le._id===L?{...le,active:!M}:le))}catch(ie){i(((V=(G=ie.response)==null?void 0:G.data)==null?void 0:V.message)||ie.message||"Failed to update member status"),console.error("Failed to update member status:",ie)}},_=async(L=o,M=h,G=S,V=w,ie=N)=>{var le,B;n(!0),i(null);try{const U=new URLSearchParams;U.append("page",L.toString()),U.append("limit",M.toString()),G&&U.append("search",G),U.append("sortBy",V),U.append("sortOrder",ie);const F=await ut(`/admin/members?${U.toString()}`);t(F.members),l(F.page),f(F.totalPages)}catch(U){i(((B=(le=U.response)==null?void 0:le.data)==null?void 0:B.message)||U.message||"Failed to fetch members"),console.error("Failed to fetch members:",U),t([]),f(0)}n(!1)};g.useEffect(()=>{_(o,h,S,w,N)},[o,h,S,w,N]);const C=L=>{y(L.target.value),l(1)},k=()=>{l(L=>Math.max(L-1,1))},T=()=>{l(L=>Math.min(L+1,u))},O=L=>{w===L?j(N==="asc"?"desc":"asc"):(b(L),j("asc")),l(1)},R=L=>{p(Number(L)),l(1)};return r?s.jsxs("div",{className:"flex items-center justify-center h-40",children:[s.jsx(Wr,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2",children:"Loading members..."})]}):a?s.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-red-600",children:[s.jsx(gu,{className:"h-8 w-8 mb-2"}),s.jsxs("p",{children:["Error: ",a]})]}):s.jsx("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8",children:s.jsxs(At,{children:[s.jsx(Dt,{}),s.jsxs(Tt,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin - Customer Wallets"}),s.jsxs("div",{className:"flex  justify-end items-center gap-4 mb-4",children:[s.jsx(Ge,{type:"text",placeholder:"Search customer by name or email...",value:x,onChange:C,className:"max-w-sm flex-grow"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show:"}),s.jsxs(Wt,{value:h.toString(),onValueChange:R,children:[s.jsx(Yt,{className:"w-[80px]",children:s.jsx(Gt,{placeholder:h.toString()})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"10",children:"10"}),s.jsx(ct,{value:"25",children:"25"}),s.jsx(ct,{value:"50",children:"50"}),s.jsx(ct,{value:"100",children:"100"})]})]})]})]})]}),e.length===0&&!r?s.jsx("p",{className:"text-center text-gray-500 py-4",children:"No Customer found."}):s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsxs(tr,{children:[s.jsxs(Ye,{onClick:()=>O("name"),className:"cursor-pointer",children:["Name ",w==="name"&&(N==="asc"?"":"")]}),s.jsxs(Ye,{onClick:()=>O("email"),className:"cursor-pointer",children:["Email ",w==="email"&&(N==="asc"?"":"")]}),s.jsxs(Ye,{onClick:()=>O("walletBalance"),className:"cursor-pointer",children:["Wallet Balance ",w==="walletBalance"&&(N==="asc"?"":"")]}),s.jsxs(Ye,{onClick:()=>O("active"),className:"cursor-pointer",children:["Status ",w==="active"&&(N==="asc"?"":"")]}),s.jsx(Ye,{className:"text-center",children:"Actions"})]})}),s.jsx($s,{children:e.map(L=>s.jsxs(tr,{children:[s.jsx(Ue,{children:L.name}),s.jsx(Ue,{children:L.email}),s.jsxs(Ue,{children:["",L.walletBalance.toFixed(2)]}),s.jsx(Ue,{children:L.active===void 0?s.jsx("span",{className:"text-gray-500",children:"Unknown"}):L.active?s.jsx("span",{className:"text-green-600 font-semibold",children:"Active"}):s.jsx("span",{className:"text-red-600 font-semibold",children:"Inactive"})}),s.jsxs(Ue,{className:"text-center space-x-1",children:[s.jsx(pe,{asChild:!0,variant:"outline",size:"sm",children:s.jsx(Or,{to:`/admin/wallet?memberId=${L._id}`,children:s.jsx(Dc,{className:"h-4 w-4"})})}),s.jsx(pe,{asChild:!0,variant:"outline",size:"sm",className:"ml-2",title:"Edit Customer Details",children:s.jsxs(Or,{to:`/admin/members/${L._id}/edit`,children:[" ",s.jsx(Za,{className:"h-4 w-4"})]})}),L.active!==void 0&&s.jsx(pe,{variant:"outline",size:"sm",className:"ml-2",onClick:()=>A(L._id,L.active),title:L.active?"Deactivate Customer":"Activate Customer",children:L.active?s.jsx(Vi,{className:"h-4 w-4 text-red-500"}):s.jsx(Ox,{className:"h-4 w-4 text-green-500"})})]})]},L._id))})]}),u>0&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsx(pe,{onClick:k,disabled:o<=1||r,variant:"outline",children:"Previous"}),s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",o," of ",u]}),s.jsx(pe,{onClick:T,disabled:o>=u||r,variant:"outline",children:"Next"})]})]})]})})},GOe=({initialData:e,onClose:t,onSuccess:r})=>{var k;const[n,a]=g.useState({name:"",pincodes:"",depotId:"",cityId:null,deliveryType:$m.HandDelivery,isDairyProduct:!1}),[i,o]=g.useState(!1),[l,u]=g.useState([]),[f,h]=g.useState([]),[p,x]=g.useState({}),[y,w]=g.useState([]);g.useEffect(()=>{e&&l.length>0&&f.length>0?a({name:e.name,pincodes:e.pincodes,depotId:e.depotId?String(e.depotId):"",cityId:e.cityId||null,deliveryType:e.deliveryType||$m.HandDelivery,isDairyProduct:e.isDairyProduct||!1}):e||a({name:"",pincodes:"",depotId:"",cityId:null,deliveryType:$m.HandDelivery,isDairyProduct:!1})},[e,l,f]),g.useEffect(()=>{const T=async()=>{try{const R=await xB();u(R)}catch(R){console.error("Failed to fetch depots",R),he.error("Failed to load depots for selection.")}},O=async()=>{try{const R=await Ey();h(R)}catch(R){console.error("Failed to fetch cities",R),he.error("Failed to load cities for selection.")}};T(),O()},[]),g.useEffect(()=>{const T=n.pincodes||(e==null?void 0:e.pincodes)||"";N(T)},[n.pincodes,e==null?void 0:e.pincodes]);const b=T=>T.trim()?/^\d{6}(\s*,\s*\d{6})*$/.test(T.trim())?null:T.trim().endsWith(",")?"Remove trailing comma from pincodes.":T.split(",").map(R=>R.trim()).some(R=>!/^\d{6}$/.test(R)&&R!=="")?"Each pincode must be exactly 6 digits.":"Enter valid 6-digit pincodes, comma-separated (e.g., 123456, 789012).":"Pincodes are required",N=T=>{const O=T.split(",").map(R=>R.trim()).filter(R=>/^\d{6}$/.test(R));w(Array.from(new Set(O)))},j=()=>{const T={};n.name.trim()||(T.name="Name is required");const O=b(n.pincodes);return O&&(T.pincodes=O),n.deliveryType||(T.deliveryType="Delivery type is required"),x(T),Object.keys(T).length===0},S=T=>{const{name:O,value:R}=T.target,L={...n,[O]:R};if(a(L),O==="pincodes"){const M=b(R);x(G=>({...G,pincodes:M||""})),N(R)}},A=(T,O)=>{a(R=>({...R,[T]:T==="depotId"?O:T==="cityId"?O?parseInt(O):null:String(O)})),T==="deliveryType"&&!O?x(R=>({...R,deliveryType:"Delivery type is required"})):T==="deliveryType"&&x(R=>({...R,deliveryType:""}))},_=(T,O)=>{a(R=>({...R,[T]:O}))},C=async T=>{var O,R;if(T.preventDefault(),!j()){he.error("Please correct the form errors.");return}o(!0);try{const L={...n,depotId:n.depotId};e&&e.id?(await ybe(e.id,L),he.success("Area master updated successfully!")):(await xbe(L),he.success("Area master created successfully!")),r()}catch(L){const M=((O=L.data)==null?void 0:O.message)||L.message||(e?"Failed to update area master":"Failed to create area master");if(he.error(M),(R=L.data)!=null&&R.errors){const G={};for(const V of L.data.errors)V.path&&V.message&&(G[V.path[0]]=V.message);x(V=>({...V,...G}))}}o(!1)};return s.jsxs("form",{onSubmit:C,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(je,{htmlFor:"name",children:["Area Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ge,{type:"text",name:"name",id:"name",value:n.name,onChange:S,className:`${p.name?"border-red-500":""}`}),p.name&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:p.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(je,{htmlFor:"pincodes",children:["Pincodes (comma-separated) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ge,{type:"text",name:"pincodes",id:"pincodes",value:n.pincodes,onChange:S,placeholder:"e.g., 110001, 110002",className:`${p.pincodes?"border-red-500":""}`}),p.pincodes&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:p.pincodes}),y.length>0&&!p.pincodes&&s.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[y.slice(0,5).map(T=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:T},T)),y.length>5&&s.jsxs("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 text-xs font-medium rounded-full cursor-help",title:`All pincodes: ${y.join(", ")}`,children:["+",y.length-5," more"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"cityId",children:"Associated City (Optional)"}),s.jsxs(Wt,{name:"cityId",value:((k=n.cityId)==null?void 0:k.toString())||"none",onValueChange:T=>A("cityId",T==="none"?null:T),children:[s.jsx(Yt,{id:"cityId",children:s.jsx(Gt,{placeholder:"Select a city (optional)"})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"none",children:"No City Association"}),f.map(T=>s.jsx(ct,{value:String(T.id),children:T.name},T.id))]})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Associate this area with a specific city to help users filter delivery areas."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"depotId",children:"Depot (Optional)"}),s.jsxs(Wt,{name:"depotId",value:n.depotId||"none",onValueChange:T=>A("depotId",T==="none"?null:T),children:[s.jsx(Yt,{id:"depotId",children:s.jsx(Gt,{placeholder:"Select a depot (optional)"})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"none",children:"No Depot Assignment"}),l.map(T=>s.jsx(ct,{value:String(T.id),children:T.name},T.id))]})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Optionally assign this area to a specific depot for inventory management."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(je,{htmlFor:"deliveryType",children:["Delivery Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Wt,{name:"deliveryType",value:n.deliveryType,onValueChange:T=>A("deliveryType",T),children:[s.jsx(Yt,{id:"deliveryType",className:`${p.deliveryType?"border-red-500":""}`,children:s.jsx(Gt,{placeholder:"Select delivery type"})}),s.jsx(Kt,{children:Object.values($m).map(T=>s.jsxs(ct,{value:T,children:[T.replace(/([A-Z])/g," $1").trim()," "]},T))})]}),p.deliveryType&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:p.deliveryType})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Du,{id:"isDairyProduct",checked:n.isDairyProduct,onCheckedChange:T=>_("isDairyProduct",!!T)}),s.jsx(je,{htmlFor:"isDairyProduct",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Supports Dairy Products"})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Check this if this delivery area can handle dairy products that require special handling/temperature control."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:i,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:i,children:i?e?"Updating...":"Creating...":e?"Update Area Master":"Create Area Master"})]})]})},yf="...",S1=(e,t)=>{let r=t-e+1;return Array.from({length:r},(n,a)=>a+e)},hN=({currentPage:e,totalPages:t,onPageChange:r,totalRecords:n,limit:a,onLimitChange:i,siblingCount:o=1})=>{const l=He.useMemo(()=>{if(o+5>=t)return S1(1,t);const y=Math.max(e-o,1),w=Math.min(e+o,t),b=y>2,N=w<t-2,j=1,S=t;if(!b&&N){let A=3+2*o;return[...S1(1,A),yf,t]}if(b&&!N){let A=3+2*o,_=S1(t-A+1,t);return[j,yf,..._]}if(b&&N){let A=S1(y,w);return[j,yf,...A,yf,S]}return[]},[t,o,e]);if(t===0||t===1)return null;const u=()=>{r(e+1)},f=()=>{r(e-1)},h=(e-1)*a+1,p=Math.min(e*a,n);return s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",h," - ",p," of ",n," records"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[i&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),s.jsxs(Wt,{value:`${a}`,onValueChange:x=>{i(Number(x))},children:[s.jsx(Yt,{className:"h-8 w-[70px]",children:s.jsx(Gt,{placeholder:`${a}`})}),s.jsx(Kt,{side:"top",children:[10,20,30,40,50].map(x=>s.jsx(ct,{value:`${x}`,children:x},x))})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>r(1),disabled:e===1,className:"h-8 w-8",children:s.jsx(VK,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"outline",size:"icon",onClick:f,disabled:e===1,className:"h-8 w-8",children:s.jsx(Bp,{className:"h-4 w-4"})}),l.map((x,y)=>x===yf?s.jsx("span",{className:"px-2 py-1",children:yf},`${yf}-${y}`):s.jsx(pe,{variant:e===x?"default":"outline",size:"icon",onClick:()=>r(x),className:"h-8 w-8",children:x},x)),s.jsx(pe,{variant:"outline",size:"icon",onClick:u,disabled:e===t,className:"h-8 w-8",children:s.jsx(Nu,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>r(t),disabled:e===t,className:"h-8 w-8",children:s.jsx(zK,{className:"h-4 w-4"})})]})]})},YOe=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!1),[a,i]=g.useState(null),[o,l]=g.useState(1),[u,f]=g.useState(1),[h,p]=g.useState(0),x=10,[y,w]=g.useState(""),[b,N]=g.useState("name"),[j,S]=g.useState("asc"),[A,_]=g.useState(!1),[C,k]=g.useState(null),[T,O]=g.useState(!1),[R,L]=g.useState([]),[M,G]=g.useState({top:0,left:0}),[V,ie]=g.useState(null),le=g.useRef(null),[B,U]=g.useState(!1),[F,W]=g.useState(null),q=g.useCallback(async()=>{n(!0),i(null);try{const we=await gbe({page:o,limit:x,search:y,sortBy:b,sortOrder:j});t(we.areaMasters||[]),f(we.totalPages||1),p(we.totalRecords||0),we.message&&we.areaMasters.length}catch(we){const et=we.message||"Failed to fetch area masters";i(et),he.error(et),t([])}finally{n(!1)}},[o,x,y,b,j]);g.useEffect(()=>{q()},[q]);const Q=we=>{w(we.target.value),l(1)},P=we=>{let et=we;we==="Depot"?et="depot.name":we==="city.name"?et="city.name":et=we.toLowerCase().replace(/\s+/g,""),b===et?S(j==="asc"?"desc":"asc"):(N(et),S("asc")),l(1)},X=({column:we})=>{let et=we;return we==="Depot"?et="depot.name":we==="city.name"?et="city.name":et=we.toLowerCase().replace(/\s+/g,""),b!==et?s.jsx(Kg,{className:"ml-2 h-4 w-4 opacity-50"}):j==="asc"?s.jsx(Zb,{className:"ml-2 h-4 w-4 text-blue-600"}):s.jsx(Xb,{className:"ml-2 h-4 w-4 text-blue-600"})},K=()=>{k(null)},H=we=>{k(we),_(!0)},J=we=>{W(we),U(!0)},ce=async()=>{if(F!==null)try{const we=await vbe(F);he.success(we.message||"Area Master deleted successfully!"),q(),U(!1),W(null)}catch(we){const et=we.message||"Failed to delete area master";he.error(et),U(!1)}},ae=()=>{_(!1),k(null)},ee=(we,et=3)=>{const Ee=we.split(",").map(De=>De.trim()).filter(De=>De.length===6);if(Ee.length===0)return s.jsx("span",{className:"text-gray-400",children:"N/A"});const Te=Ee.slice(0,et),Fe=Ee.length-et,ue=(De,Et)=>{G({top:De.pageY+10,left:De.pageX-310}),L(Et),O(!0)},Ce=()=>{V&&clearTimeout(V);const De=setTimeout(()=>{O(!1)},300);ie(De)};return s.jsxs("div",{className:"flex flex-wrap items-center gap-1 py-1",children:[Te.map(De=>s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:De},De)),Fe>0&&s.jsxs("span",{ref:le,className:"px-2 py-0.5 bg-gray-200 text-gray-700 text-xs font-medium rounded-full cursor-help",onMouseEnter:De=>ue(De,Ee),onMouseLeave:Ce,children:["+",Fe," more"]})]})},ne=()=>{ae(),l(1),q()},ke=()=>!T||R.length===0?null:s.jsx("div",{style:{position:"absolute",top:`${M.top}px`,left:`${M.left}px`,zIndex:1e3},className:"p-2 bg-white border border-gray-300 rounded-md shadow-lg max-w-xs max-h-48 overflow-y-auto",onMouseEnter:()=>{V&&clearTimeout(V)},onMouseLeave:()=>{O(!1)},children:s.jsx("div",{className:"flex flex-wrap gap-1",children:R.map(we=>s.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:we},`tooltip-${we}`))})});return s.jsxs("div",{className:"p-4 md:p-6",children:[s.jsxs(Xr,{open:A,onOpenChange:we=>{_(we),we||k(null)},children:[s.jsxs(At,{className:"shadow-xl",children:[s.jsx(Dt,{className:"px-4 sm:px-6 py-4 sm:py-5 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx(rr,{className:"text-xl sm:text-2xl font-semibold text-slate-800 dark:text-slate-100",children:"Area Master Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[s.jsx(Ge,{type:"text",placeholder:"Search areas...",value:y,onChange:Q,className:"pl-10 pr-4 py-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200"}),s.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400 dark:text-slate-500"})]}),s.jsx(Gp,{asChild:!0,children:s.jsxs(pe,{onClick:K,className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap",children:[s.jsx(Hs,{className:"mr-2 h-5 w-5"})," Add New Area"]})})]})]})}),s.jsxs(Tt,{className:"p-0",children:[a&&s.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error: ",a,". Please try refreshing the page."]}),!a&&r&&s.jsx("div",{className:"p-4 sm:p-6",children:s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((we,et)=>s.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[s.jsx(Ct,{className:"h-8 w-2/6"}),s.jsx(Ct,{className:"h-8 w-2/6"}),s.jsx(Ct,{className:"h-8 w-1/6"}),s.jsx(Ct,{className:"h-8 w-1/6"}),s.jsx(Ct,{className:"h-8 w-10"})]},et))})}),!a&&!r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ls,{className:"min-w-full",children:[s.jsx(Bs,{className:"bg-slate-50 dark:bg-slate-800/50",children:s.jsxs(tr,{children:[s.jsx(Ye,{onClick:()=>P("name"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Name ",s.jsx(X,{column:"name"})]})}),s.jsx(Ye,{onClick:()=>P("city.name"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["City ",s.jsx(X,{column:"city.name"})]})}),s.jsx(Ye,{className:"px-4 py-3 whitespace-nowrap font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Pincodes"}),s.jsx(Ye,{onClick:()=>P("depot.name"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Depot ",s.jsx(X,{column:"depot.name"})]})}),s.jsx(Ye,{onClick:()=>P("deliveryType"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Delivery Type ",s.jsx(X,{column:"deliveryType"})]})}),s.jsx(Ye,{onClick:()=>P("isDairyProduct"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Dairy Support ",s.jsx(X,{column:"isDairyProduct"})]})}),s.jsx(Ye,{className:"text-right px-4 py-3 whitespace-nowrap font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Actions"})]})}),s.jsx($s,{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.length===0?s.jsx(tr,{children:s.jsxs(Ue,{colSpan:7,className:"text-center py-10 text-slate-500 dark:text-slate-400",children:["No area masters found. ",y?"Try adjusting your search.":"Click 'Add New Area' to create one."]})}):e.map(we=>{var et,Ee;return s.jsxs(tr,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 border-b last:border-b-0",children:[s.jsx(Ue,{className:"font-medium px-4 py-3 whitespace-nowrap text-sm text-slate-700 dark:text-slate-200",children:we.name}),s.jsx(Ue,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:((et=we.city)==null?void 0:et.name)??s.jsx("span",{className:"text-slate-400",children:"No City"})}),s.jsx(Ue,{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 max-w-xs",children:ee(we.pincodes)}),s.jsx(Ue,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:((Ee=we.depot)==null?void 0:Ee.name)??s.jsx("span",{className:"text-slate-400",children:"N/A"})}),s.jsx(Ue,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${we.deliveryType===$m.HandDelivery?"bg-green-100 text-green-700 dark:bg-primary/20 dark:text-green-400":"bg-purple-100 text-purple-700 dark:bg-purple-700/20 dark:text-purple-400"}`,children:we.deliveryType.replace(/([A-Z])/g," $1").trim()})}),s.jsx(Ue,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${we.isDairyProduct?"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/20 dark:text-yellow-400":"bg-gray-100 text-gray-700 dark:bg-gray-700/20 dark:text-gray-400"}`,children:we.isDairyProduct?"Dairy Available":"No Dairy"})}),s.jsxs(Ue,{className:"flex justify-end space-x-2 px-4 py-3 whitespace-nowrap",children:[s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>H(we),className:"hover:bg-slate-100 dark:hover:bg-slate-700",title:"Edit Area",children:s.jsx(Za,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>J(we.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 dark:text-red-500 dark:hover:text-red-400",title:"Delete Area",children:s.jsx(un,{className:"h-4 w-4"})})]})]},we.id)})})]})}),u>1&&s.jsx("div",{className:"p-4 sm:p-6 border-t dark:border-slate-700",children:s.jsx(hN,{currentPage:o,totalPages:u,onPageChange:l,totalRecords:h,limit:x})})]})]})]}),s.jsxs(Zr,{className:"sm:max-w-[525px] max-h-[90vh] overflow-y-auto dark:bg-slate-800",children:[s.jsxs(rs,{children:[s.jsx(ss,{className:"dark:text-slate-100",children:C?"Edit Area Master":"Add New Area Master"}),s.jsx(la,{className:"dark:text-slate-400",children:C?"Update the details of the area master.":"Fill in the details to create a new area master."})]}),s.jsx(GOe,{initialData:C,onClose:()=>_(!1),onSuccess:ne})]})]}),s.jsx(ua,{open:B,onOpenChange:U,children:s.jsxs(fa,{className:"dark:bg-slate-800",children:[s.jsxs(ha,{children:[s.jsx(pa,{className:"dark:text-slate-100",children:"Are you absolutely sure?"}),s.jsx(xa,{className:"dark:text-slate-400",children:"This action cannot be undone. This will permanently delete the area master and remove its data from our servers."})]}),s.jsxs(ma,{children:[s.jsx(ya,{className:"dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700",children:"Cancel"}),s.jsx(ga,{onClick:ce,className:"bg-red-600 hover:bg-red-700 text-white dark:bg-red-700 dark:hover:bg-red-800",children:"Delete"})]})]})}),ke()]})},mN="/admin/categories",KOe=async(e={})=>{try{return await ut(mN,e)}catch(t){throw console.error("Failed to fetch categories:",t),t}},QOe=async e=>{try{return await Ur(mN,e)}catch(t){throw console.error("Failed to create category:",t),t}},XOe=async(e,t)=>{try{return await Js(`${mN}/${e}`,t)}catch(r){throw console.error(`Failed to update category ${e}:`,r),r}},ZOe=async e=>{try{await Ln(`${mN}/${e}`)}catch(t){throw console.error(`Failed to delete category ${e}:`,t),t}},JOe=5*1024*1024,e5e=["image/jpeg","image/jpg","image/png","image/webp"],t5e=ys({name:at().min(1,"Category name is required").max(100,"Name must be 100 characters or less"),isDairy:rl().default(!1),attachment:kC().optional().nullable().transform(e=>e&&e.length>0?e[0]:null).refine(e=>!e||e instanceof File,{message:"Attachment must be a valid file."}).refine(e=>!e||e.size<=JOe,{message:"Max file size is 5MB."}).refine(e=>!e||e5e.includes(e.type),{message:"Only .jpeg, .jpg, .png, and .webp formats are supported."}),imageUrl:at().optional().nullable()}),r5e=({initialData:e,onClose:t,onSuccess:r})=>{const[n,a]=g.useState((e==null?void 0:e.imageUrl)||null),{register:i,handleSubmit:o,reset:l,setValue:u,watch:f,formState:{errors:h,isSubmitting:p}}=en({resolver:tn(t5e),defaultValues:{name:(e==null?void 0:e.name)||"",isDairy:(e==null?void 0:e.isDairy)||!1,attachment:null,imageUrl:(e==null?void 0:e.imageUrl)||null}}),x=f("attachment"),y=f("imageUrl");g.useEffect(()=>{e?(l({name:e.name,isDairy:e.isDairy||!1,attachment:null,imageUrl:e.imageUrl||null}),a(e.imageUrl?`https://www.indraai.in//${e.imageUrl}`:null)):(l({name:"",isDairy:!1,attachment:null,imageUrl:null}),a(null))},[e,l]),g.useEffect(()=>{if(x&&x instanceof File){const N=new FileReader;N.onloadend=()=>{a(N.result)},N.readAsDataURL(x)}else y?a(y.startsWith("data:")?y:`https://www.indraai.in//${y}`):x||a(null)},[x,y,"https://www.indraai.in//"]);const w=()=>{u("attachment",null,{shouldValidate:!0}),u("imageUrl",null),a(null)},b=async N=>{var S,A;const j=new FormData;j.append("name",N.name),j.append("isDairy",String(N.isDairy)),N.attachment&&j.append("attachment",N.attachment),e!=null&&e.id&&N.imageUrl===null&&e.imageUrl&&j.append("removeImage","true");try{let _;e&&e.id?(_=await XOe(e.id,j),he.success("Category updated successfully!")):(_=await QOe(j),he.success("Category created successfully!")),r(_)}catch(_){const C=((A=(S=_.response)==null?void 0:S.data)==null?void 0:A.message)||_.message||(e?"Failed to update category":"Failed to create category");he.error(C)}};return s.jsxs("form",{onSubmit:o(b),className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(je,{htmlFor:"name",children:["Category Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ge,{id:"name",...i("name"),autoFocus:!0}),h.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.name.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wb,{id:"isDairy",checked:f("isDairy"),onCheckedChange:N=>u("isDairy",N)}),s.jsx(je,{htmlFor:"isDairy",children:"Is Dairy?"}),h.isDairy&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.isDairy.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"attachment",children:"Category Image"}),s.jsx(Ge,{id:"attachment",type:"file",accept:"image/*",...i("attachment")}),h.attachment&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.attachment.message})]}),n&&s.jsxs("div",{className:"mt-4 relative w-32 h-32 border rounded-md overflow-hidden group",children:[s.jsx("img",{src:n.startsWith("data:")||n.startsWith("http")?n:`https://www.indraai.in//${n}`,alt:"Preview",className:"w-full h-full object-cover"}),s.jsx(pe,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity p-1 h-6 w-6",onClick:w,children:s.jsx(Vi,{className:"h-4 w-4"})})]}),!n&&s.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"No image selected."}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:p,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:p,className:"gap-2",children:[p?s.jsx(Wr,{className:"h-4 w-4 animate-spin"}):e!=null&&e.id?s.jsx(Up,{className:"h-4 w-4"}):s.jsx(Hs,{className:"h-4 w-4"}),p?e!=null&&e.id?"Updating...":"Creating...":e!=null&&e.id?"Update Category":"Create Category"]})]})]})},s5e=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!1),[a,i]=g.useState(null),[o,l]=g.useState(1),[u,f]=g.useState(1),[h,p]=g.useState(0),[x,y]=g.useState(""),[w,b]=g.useState("name"),[N,j]=g.useState("asc"),[S,A]=g.useState(!1),[_,C]=g.useState(null),[k,T]=g.useState(!1),[O,R]=g.useState(null),L=10,M=g.useCallback(async()=>{n(!0),i(null);try{const Q=await KOe({page:o,limit:L,search:x,sortBy:w,sortOrder:N});t(Q.categories),f(Q.totalPages),p(Q.totalRecords)}catch(Q){const P=Q.message||"Failed to fetch categories";i(P),he.error(P)}n(!1)},[o,x,w,N]);g.useEffect(()=>{M()},[M]);const G=Q=>{y(Q.target.value),l(1)},V=Q=>{w===Q?j(N==="asc"?"desc":"asc"):(b(Q),j("asc")),l(1)},ie=()=>{C(null),A(!0)},le=Q=>{C(Q),A(!0)},B=Q=>{R(Q),T(!0)},U=async()=>{if(O!==null){try{await ZOe(O),he.success("Category deleted successfully"),e.length===1&&o>1?l(o-1):M()}catch(Q){const P=Q.message||"Failed to delete category";he.error(P)}T(!1),R(null)}},F=()=>{A(!1),M()},W=()=>{if(u<=1)return null;const Q=[];for(let P=1;P<=u;P++)Q.push(P);return s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>l(P=>Math.max(P-1,1)),disabled:o===1,children:[s.jsx(Bp,{size:16,className:"mr-1"})," Previous"]}),Q.map(P=>s.jsx(pe,{variant:o===P?"default":"outline",size:"sm",onClick:()=>l(P),children:P},P)),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>l(P=>Math.min(P+1,u)),disabled:o===u,children:["Next ",s.jsx(Nu,{size:16,className:"ml-1"})]})]})},q=["Image","Category Name","Actions"];return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(Xr,{open:S,onOpenChange:Q=>{A(Q),Q||C(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Category Master"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(Ge,{type:"text",placeholder:"Search by category name...",value:x,onChange:G,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),s.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(Gp,{asChild:!0,children:s.jsxs(pe,{variant:"default",size:"lg",onClick:ie,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[s.jsx(Hs,{size:20,className:""})," Add New Category"]})})]})]}),r&&s.jsx("p",{className:"text-center py-6 text-gray-600",children:"Loading categories..."}),a&&s.jsxs("p",{className:"text-center py-6 text-red-600 font-medium",children:["Error: ",a]}),!r&&!a&&e.length===0&&s.jsxs("p",{className:"text-center py-10 text-gray-500",children:["No categories found. ",x?"Try adjusting your search.":'Click "Add New Category" to create one.']}),!r&&!a&&e.length>0&&s.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 bg-white",children:s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsx(tr,{className:"bg-gray-100 hover:bg-gray-100",children:q.map(Q=>s.jsxs(Ye,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>Q!=="Actions"&&Q!=="Image"&&V(Q==="Category Name"?"name":Q.toLowerCase()),children:[Q,Q!=="Image"&&w===(Q==="Category Name"?"name":Q.toLowerCase())&&s.jsx("span",{className:"ml-1",children:N==="asc"?"":""})]},Q))})}),s.jsx($s,{className:"divide-y divide-gray-200",children:e.map(Q=>s.jsxs(tr,{className:"hover:bg-gray-50 transition-colors",children:[s.jsx(Ue,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Q.imageUrl?s.jsx("img",{src:`${Yb}${Q.imageUrl}`,alt:Q.name,className:"h-10 w-10 rounded-md object-cover"}):s.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center text-xs text-gray-400",children:"No Image"})}),s.jsx(Ue,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800",children:Q.name}),s.jsxs(Ue,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-3",children:[s.jsx("button",{onClick:()=>le(Q),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Edit",children:s.jsx(Za,{size:18})}),s.jsx("button",{onClick:()=>B(Q.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Delete",children:s.jsx(un,{size:18})})]})]},Q.id))})]})}),h>0&&W()]}),s.jsxs(Zr,{className:"sm:max-w-[425px]",children:[s.jsxs(rs,{children:[s.jsx(ss,{children:_?"Edit Category":"Add New Category"}),s.jsx(la,{children:_?"Update the details of the category.":"Fill in the details to add a new category."})]}),s.jsx(r5e,{initialData:_,onClose:()=>A(!1),onSuccess:F})]})]}),s.jsx(ua,{open:k,onOpenChange:T,children:s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Are you absolutely sure?"}),s.jsx(xa,{children:"This action cannot be undone. This will permanently delete the category."})]}),s.jsxs(ma,{children:[s.jsx(ya,{onClick:()=>R(null),children:"Cancel"}),s.jsx(ga,{onClick:U,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},n5e=ys({name:at().min(1,"City name is required").max(100,"Name must be 100 characters or less")}),a5e=({initialData:e,onClose:t,onSuccess:r})=>{const{register:n,handleSubmit:a,reset:i,formState:{errors:o,isSubmitting:l}}=en({resolver:tn(n5e),defaultValues:{name:(e==null?void 0:e.name)||""}});g.useEffect(()=>{i(e?{name:e.name}:{name:""})},[e,i]);const u=async f=>{var h,p;try{let x;e&&e.id?(x=await jbe(e.id,f),he.success("City updated successfully!")):(x=await Nbe(f),he.success("City created successfully!")),r(x)}catch(x){const y=((p=(h=x.response)==null?void 0:h.data)==null?void 0:p.message)||x.message||(e?"Failed to update city":"Failed to create city");he.error(y)}};return s.jsxs("form",{onSubmit:a(u),className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(je,{htmlFor:"name",children:["City Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ge,{id:"name",...n("name"),autoFocus:!0}),o.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.name.message})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:l,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:l,className:"gap-2",children:[l?s.jsx(Wr,{className:"h-4 w-4 animate-spin"}):s.jsx(Up,{className:"h-4 w-4"}),l?"Saving...":"Save"]})]})]})},i5e=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!1),[a,i]=g.useState(null),[o,l]=g.useState(1),[u,f]=g.useState(""),[h,p]=g.useState(!1),[x,y]=g.useState(null),[w,b]=g.useState(!1),[N,j]=g.useState(null),S=10,A=g.useCallback(async()=>{n(!0),i(null);try{const L=await wbe({page:o,limit:S,search:u});t(L.cities)}catch(L){const M=L.message||"Failed to fetch cities";i(M),he.error(M)}n(!1)},[o,u]);g.useEffect(()=>{A()},[A]);const _=L=>{f(L.target.value),l(1)},C=()=>{y(null),p(!0)},k=L=>{y(L),p(!0)},T=L=>{j(L),b(!0)},O=async()=>{if(N!==null){try{await Sbe(N),he.success("City deleted successfully"),e.length===1&&o>1?l(o-1):A()}catch(L){const M=L.message||"Failed to delete city";he.error(M)}b(!1),j(null)}},R=()=>{p(!1),A()};return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(Xr,{open:h,onOpenChange:L=>{p(L),L||y(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"City Master"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(Ge,{type:"text",placeholder:"Search by city name...",value:u,onChange:_,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),s.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(Gp,{asChild:!0,children:s.jsxs(pe,{variant:"default",size:"lg",onClick:C,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[s.jsx(Hs,{size:20,className:"mr-2"})," Add New City"]})})]})]}),r&&s.jsx("p",{children:"Loading..."}),a&&s.jsx("p",{className:"text-red-500",children:a}),s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsxs(tr,{children:[s.jsx(Ye,{children:"City Name"}),s.jsx(Ye,{children:"Actions"})]})}),s.jsx($s,{children:e.map(L=>s.jsxs(tr,{children:[s.jsx(Ue,{children:L.name}),s.jsxs(Ue,{children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>k(L),children:s.jsx(Za,{size:16})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>T(L.id),children:s.jsx(un,{size:16})})]})]},L.id))})]})]}),s.jsxs(Zr,{children:[s.jsx(rs,{children:s.jsx(ss,{children:x?"Edit City":"Create City"})}),s.jsx(a5e,{initialData:x,onClose:()=>p(!1),onSuccess:R})]})]}),s.jsx(ua,{open:w,onOpenChange:b,children:s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Are you sure?"}),s.jsx(xa,{children:"This action cannot be undone. This will permanently delete the city."})]}),s.jsxs(ma,{children:[s.jsx(ya,{children:"Cancel"}),s.jsx(ga,{onClick:O,children:"Delete"})]})]})})]})},pN="/api/admin/locations",o5e=async(e={})=>{try{return await ut(pN,e)}catch(t){throw console.error("Failed to fetch locations:",t),t}},l5e=async e=>{try{return await Ur(pN,e)}catch(t){throw console.error("Failed to create location:",t),t}},c5e=async(e,t)=>{try{return await Js(`${pN}/${e}`,t)}catch(r){throw console.error(`Failed to update location ${e}:`,r),r}},d5e=async e=>{try{await Ln(`${pN}/${e}`)}catch(t){throw console.error(`Failed to delete location ${e}:`,t),t}},u5e=async()=>{const e=await ut("/agencies",{params:{limit:1e3}});return e.data.data||e.data},f5e=ys({name:at().min(1,"Name is required"),cityId:bi({required_error:"City is required"}).min(1,"City is required"),agencyId:bi().nullable().optional()}),h5e=({initialData:e,onClose:t,onSuccess:r})=>{var N;const[n,a]=g.useState([]),[i,o]=g.useState([]),l=en({resolver:tn(f5e),defaultValues:{name:(e==null?void 0:e.name)||"",cityId:e==null?void 0:e.cityId,agencyId:(e==null?void 0:e.agencyId)||null}}),{register:u,handleSubmit:f,reset:h,setValue:p,watch:x,formState:{errors:y,isSubmitting:w}}=l;g.useEffect(()=>{(async()=>{try{const[S,A]=await Promise.all([Ey(),u5e()]);a(S),o(A)}catch{he.error("Failed to fetch cities or agencies")}})()},[]),g.useEffect(()=>{h(e?{name:e.name,cityId:e.cityId,agencyId:e.agencyId||null}:{name:"",cityId:void 0,agencyId:null})},[e,h]);const b=async j=>{var S,A;try{const _=await(e!=null&&e.id?c5e(e.id,j):l5e(j));he.success(`Location ${e!=null&&e.id?"updated":"created"} successfully!`),r(_)}catch(_){const C=((A=(S=_.response)==null?void 0:S.data)==null?void 0:A.message)||_.message||"An unexpected error occurred";he.error(C)}};return s.jsxs("form",{onSubmit:f(b),className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(je,{htmlFor:"name",children:["Location Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ge,{id:"name",...u("name"),autoFocus:!0}),y.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.name.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(je,{htmlFor:"cityId",children:["City ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Wt,{onValueChange:j=>p("cityId",parseInt(j,10)),value:((N=x("cityId"))==null?void 0:N.toString())||"",children:[s.jsx(Yt,{children:s.jsx(Gt,{placeholder:"Select a city"})}),s.jsx(Kt,{children:n.map(j=>s.jsx(ct,{value:j.id.toString(),children:j.name},j.id))})]}),y.cityId&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.cityId.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{children:"Agency"}),s.jsxs(Wt,{onValueChange:j=>p("agencyId",j==="null"?null:parseInt(j,10)),value:x("agencyId")!=null?String(x("agencyId")):"null",children:[s.jsx(Yt,{children:s.jsx(Gt,{placeholder:"Select an agency"})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"null",children:"None"}),i.map(j=>s.jsx(ct,{value:j.id.toString(),children:j.name},j.id))]})]}),y.agencyId&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.agencyId.message})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:w,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:w,className:"gap-2",children:[w?s.jsx(Wr,{className:"h-4 w-4 animate-spin"}):s.jsx(Up,{className:"h-4 w-4"}),w?"Saving...":"Save"]})]})]})},m5e=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!1),[a,i]=g.useState(null),[o,l]=g.useState(1),[u,f]=g.useState(""),[h,p]=g.useState(!1),[x,y]=g.useState(null),[w,b]=g.useState(!1),[N,j]=g.useState(null),S=10,A=g.useCallback(async()=>{n(!0),i(null);try{const L=await o5e({page:o,limit:S,search:u});t(L.locations)}catch(L){const M=L.message||"Failed to fetch locations";i(M),he.error(M)}n(!1)},[o,u]);g.useEffect(()=>{A()},[A]);const _=L=>{f(L.target.value),l(1)},C=()=>{y(null),p(!0)},k=L=>{y(L),p(!0)},T=L=>{j(L),b(!0)},O=async()=>{if(N!==null){try{await d5e(N),he.success("Location deleted successfully"),e.length===1&&o>1?l(o-1):A()}catch(L){const M=L.message||"Failed to delete location";he.error(M)}b(!1),j(null)}},R=()=>{p(!1),A()};return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(Xr,{open:h,onOpenChange:L=>{p(L),L||y(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Location Master"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(Ge,{type:"text",placeholder:"Search by location name...",value:u,onChange:_,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),s.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(Gp,{asChild:!0,children:s.jsxs(pe,{variant:"default",size:"lg",onClick:C,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[s.jsx(Hs,{size:20,className:"mr-2"})," Add New Location"]})})]})]}),r&&s.jsx("p",{children:"Loading..."}),a&&s.jsx("p",{className:"text-red-500",children:a}),s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsxs(tr,{children:[s.jsx(Ye,{children:"Location Name"}),s.jsx(Ye,{children:"City"}),s.jsx(Ye,{children:"Actions"})]})}),s.jsx($s,{children:e.map(L=>s.jsxs(tr,{children:[s.jsx(Ue,{children:L.name}),s.jsx(Ue,{children:L.city.name}),s.jsxs(Ue,{children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>k(L),children:s.jsx(Za,{size:16})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>T(L.id),children:s.jsx(un,{size:16})})]})]},L.id))})]})]}),s.jsxs(Zr,{children:[s.jsx(rs,{children:s.jsx(ss,{children:x?"Edit Location":"Create Location"})}),s.jsx(h5e,{initialData:x,onClose:()=>p(!1),onSuccess:R})]})]}),s.jsx(ua,{open:w,onOpenChange:b,children:s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Are you sure?"}),s.jsx(xa,{children:"This action cannot be undone. This will permanently delete the location."})]}),s.jsxs(ma,{children:[s.jsx(ya,{children:"Cancel"}),s.jsx(ga,{onClick:O,children:"Delete"})]})]})})]})},p5e=ys({name:at().min(1,"Depot name is required").max(100,"Name must be 100 characters or less"),address:at().min(1,"Address is required").max(255,"Address must be 255 characters or less"),contactPerson:at().max(100,"Contact person must be 100 characters or less").optional().or(zm("")),contactNumber:at().max(20,"Contact number must be 20 characters or less").optional().or(zm("")),userFullName:at().optional(),userLoginEmail:at().email("Invalid email address").optional().or(zm("")),userPassword:at().optional(),isOnline:rl().optional(),agencyId:OC(e=>e?Number(e):null,bi().optional().nullable())}),x5e=({isOpen:e,onClose:t,onSubmitSuccess:r,initialData:n})=>{const a=!!(n!=null&&n.id),i=p5e.superRefine((b,N)=>{a||((!b.userFullName||b.userFullName.length<2)&&N.addIssue({code:pt.custom,message:"Admin full name is required",path:["userFullName"]}),(!b.userPassword||b.userPassword.length<6)&&N.addIssue({code:pt.custom,message:"Password must be at least 6 characters",path:["userPassword"]}))}),[o,l]=g.useState([]),{register:u,handleSubmit:f,reset:h,control:p,formState:{errors:x,isSubmitting:y}}=en({context:{isEditMode:a},resolver:tn(i)});g.useEffect(()=>{e&&(async()=>{try{const N=await ut("/agencies");l(N.data||[])}catch(N){console.error("Failed to fetch agencies:",N),he.error("Failed to load agencies for selection.")}})()},[e]),g.useEffect(()=>{if(e){const b={name:"",address:"",contactPerson:"",contactNumber:"",userFullName:"",userLoginEmail:"",userPassword:"",isOnline:!1,agencyId:null};h(n?{...b,...n}:b)}},[o,n,e,h]);const w=async b=>{console.log("Submitting data:",b);try{if(n!=null&&n.id){const{userFullName:N,userLoginEmail:j,userPassword:S,...A}=b;console.log("Payload for PUT request:",A),await Js(`/admin/depots/${n.id}`,A),he.success("Depot updated successfully.")}else await Ur("/admin/depots",b),he.success("Depot created successfully.");r(),t()}catch(N){console.error("Failed to save depot:",N),he.error(N.message||"An unknown error occurred while saving the depot.")}};return e?s.jsx(Xr,{open:e,onOpenChange:b=>!b&&t(),children:s.jsxs(Zr,{className:"sm:max-w-lg h-[550px] overflow-y-auto",children:[s.jsxs(rs,{children:[s.jsx(ss,{children:n!=null&&n.id?"Edit Depot":"Add New Depot"}),s.jsx(la,{children:n!=null&&n.id?"Update the details of this depot.":"Fill in the form below to create a new depot."})]}),s.jsxs("form",{onSubmit:f(w),className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(je,{htmlFor:"name",children:["Depot Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ge,{id:"name",...u("name"),placeholder:"e.g. Central Warehouse"}),x.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.name.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(je,{htmlFor:"address",children:["Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ge,{id:"address",...u("address"),placeholder:"e.g. 123 Main St, Anytown"}),x.address&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.address.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"contactPerson",children:"Contact Person"}),s.jsx(Ge,{id:"contactPerson",...u("contactPerson"),placeholder:"e.g. John Doe"}),x.contactPerson&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.contactPerson.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"contactNumber",children:"Contact Number"}),s.jsx(Ge,{id:"contactNumber",...u("contactNumber"),placeholder:"e.g. +1-555-123-4567"}),x.contactNumber&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.contactNumber.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($r,{name:"isOnline",control:p,render:({field:b})=>s.jsx(Du,{id:"isOnline",checked:b.value,onCheckedChange:b.onChange})}),s.jsx(je,{htmlFor:"isOnline",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Depot is Online"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"agencyId",children:"Assign Agency"}),s.jsx($r,{name:"agencyId",control:p,render:({field:b})=>s.jsxs(Wt,{onValueChange:N=>b.onChange(N==="null"?null:N),value:b.value?String(b.value):"null",children:[s.jsx(Yt,{children:s.jsx(Gt,{placeholder:"Select an agency"})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"null",children:"None"}),o.map(N=>s.jsx(ct,{value:String(N.id),children:N.name},N.id))]})]})}),x.agencyId&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.agencyId.message})]}),!(n!=null&&n.id)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(je,{htmlFor:"userFullName",children:["Admin Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ge,{id:"userFullName",...u("userFullName"),placeholder:"e.g. Jane Admin"}),x.userFullName&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.userFullName.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"userLoginEmail",children:"Admin Email"}),s.jsx(Ge,{id:"userLoginEmail",...u("userLoginEmail"),placeholder:"e.g. depot@company.com"}),x.userLoginEmail&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(je,{htmlFor:"userPassword",children:["Admin Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ge,{id:"userPassword",type:"password",...u("userPassword"),placeholder:"Min 6 characters"}),x.userPassword&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.userPassword.message})]})]}),s.jsxs(Xa,{className:"mt-2",children:[s.jsx(Oc,{asChild:!0,children:s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:y,children:"Cancel"})}),s.jsxs(pe,{type:"submit",disabled:y,className:"gap-2",children:[y?s.jsx(Wr,{className:"h-4 w-4 animate-spin"}):n!=null&&n.id?s.jsx(Up,{className:"h-4 w-4"}):s.jsx(Hs,{className:"h-4 w-4"}),y?n!=null&&n.id?"Saving...":"Creating...":n!=null&&n.id?"Save Changes":"Create Depot"]})]})]})]})}):null},P6="/admin/depots",g5e=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!1),[a,i]=g.useState(void 0),[o,l]=g.useState(!1),[u,f]=g.useState(null),[h,p]=g.useState(!0),[x,y]=g.useState(""),[w,b]=g.useState(1),[N,j]=g.useState(1),[S,A]=g.useState(0),[_,C]=g.useState("name"),[k,T]=g.useState("asc"),O=10,R=g.useRef(null),L=g.useCallback(async()=>{p(!0);try{const F=await ut(P6,{page:w,limit:O,search:x,sortBy:_,sortOrder:k});t(F.depots||[]),j(F.totalPages||1),A(F.totalRecords||0)}catch(F){console.error("Failed to fetch depots:",F),he.error(F.message||"Failed to fetch depots."),t([])}finally{p(!1)}},[w,x,_,k]);g.useEffect(()=>(R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{L()},300),()=>{R.current&&clearTimeout(R.current)}),[L,x]);const M=()=>{i(void 0),n(!0)},G=F=>{var q;const W={...F,agencyId:(q=F.agency)==null?void 0:q.id};i(W),n(!0)},V=F=>{f(F),l(!0)},ie=async()=>{if(u)try{await Ln(`${P6}/${u.id}`),he.success("Depot deleted successfully."),L(),l(!1),f(null)}catch(F){console.error("Failed to delete depot:",F),he.error(F.message||"Failed to delete depot."),l(!1)}},le=()=>{L()},B=F=>{_===F?T(k==="asc"?"desc":"asc"):(C(F),T("asc")),b(1)},U=({column:F})=>_!==F?s.jsx(Kg,{className:"ml-2 h-4 w-4 opacity-50"}):k==="asc"?s.jsx(Zb,{className:"ml-2 h-4 w-4"}):s.jsx(Xb,{className:"ml-2 h-4 w-4"});return s.jsx("div",{className:"container mx-auto p-4 max-w-7xl",children:s.jsxs(At,{className:"border-0 shadow-sm",children:[s.jsx(Dt,{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx(rr,{className:"text-2xl font-semibold",children:"Depot Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[s.jsx(Is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ge,{placeholder:"Search depots...",value:x,onChange:F=>{y(F.target.value),b(1)},className:"pl-10 w-full sm:w-64 md:w-80"})]}),s.jsxs(pe,{onClick:M,className:"gap-2 whitespace-nowrap",children:[s.jsx(Hs,{className:"h-4 w-4"})," Add Depot"]})]})]})}),s.jsxs(Tt,{className:"p-0 sm:p-6",children:[h?s.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((F,W)=>s.jsx(Ct,{className:"h-12 w-full rounded-md"},W))}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:s.jsx(Is,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:x?"No Matching Depots Found":"No Depots Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:x?"Try adjusting your search criteria or add a new depot.":"Get started by adding your first depot. Its quick and easy!"}),!x&&s.jsxs(pe,{onClick:M,className:"gap-2",children:[s.jsx(Hs,{className:"h-4 w-4"})," Add New Depot"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ls,{className:"min-w-full",children:[s.jsx(Bs,{className:"bg-slate-50 dark:bg-slate-800",children:s.jsxs(tr,{children:[s.jsx(Ye,{onClick:()=>B("name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Name ",s.jsx(U,{column:"name"})]})}),s.jsx(Ye,{onClick:()=>B("address"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Address ",s.jsx(U,{column:"address"})]})}),s.jsx(Ye,{className:"px-4 py-3 whitespace-nowrap",children:"Contact Person"}),s.jsx(Ye,{className:"px-4 py-3 whitespace-nowrap",children:"Contact Number"}),s.jsx(Ye,{onClick:()=>B("createdAt"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Created At ",s.jsx(U,{column:"createdAt"})]})}),s.jsx(Ye,{className:"text-right px-4 py-3 whitespace-nowrap",children:"Actions"})]})}),s.jsx($s,{children:e.map(F=>s.jsxs(tr,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 border-b last:border-b-0",children:[s.jsx(Ue,{className:"font-medium px-4 py-3 whitespace-nowrap",children:F.name}),s.jsx(Ue,{className:"px-4 py-3 whitespace-nowrap",children:F.address}),s.jsx(Ue,{className:"px-4 py-3 whitespace-nowrap",children:F.contactPerson||"-"}),s.jsx(Ue,{className:"px-4 py-3 whitespace-nowrap",children:F.contactNumber||"-"}),s.jsx(Ue,{className:"px-4 py-3 whitespace-nowrap",children:new Date(F.createdAt).toLocaleDateString()}),s.jsxs(Ue,{className:"flex justify-end space-x-2 px-4 py-3 whitespace-nowrap",children:[s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>G(F),className:"hover:bg-slate-100 dark:hover:bg-slate-700",title:"Edit Depot",children:s.jsx(Za,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>V(F),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 dark:text-red-500 dark:hover:text-red-400",title:"Delete Depot",children:s.jsx(un,{className:"h-4 w-4"})})]})]},F.id))})]})}),N>1&&s.jsx("div",{className:"p-4 sm:p-6 border-t",children:s.jsx(hN,{currentPage:w,totalPages:N,onPageChange:b,totalRecords:S,limit:O})})]}),s.jsx(x5e,{isOpen:r,onClose:()=>n(!1),onSubmitSuccess:le,initialData:a}),s.jsx(ua,{open:o,onOpenChange:l,children:s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Confirm Deletion"}),s.jsx(xa,{children:"Are you sure you want to delete this depot? This action cannot be undone and the depot data will be permanently lost."})]}),s.jsxs(ma,{children:[s.jsx(ya,{onClick:()=>f(null),children:"Cancel"}),s.jsx(ga,{onClick:ie,className:"bg-red-600 hover:bg-red-700 text-white dark:bg-red-700 dark:hover:bg-red-800",children:"Delete Depot"})]})]})})]})]})})},xN="/admin/depot-product-variants",y5e=async(e={})=>await ut(xN,e),v5e=async e=>await Ur(xN,e),b5e=async(e,t)=>await Js(`${xN}/${e}`,t),w5e=async e=>{await Ln(`${xN}/${e}`)},N5e=async()=>{const e=await ut("/products",{select:"id,name",limit:1e3});return e.data??e},j5e=ys({productId:yn.number().int().positive({message:"Product ID is required"}),name:at().min(1,"Variant name is required"),hsnCode:at().optional(),mrp:yn.number({invalid_type_error:"MRP must be a number"}).nonnegative(),minimumQty:yn.number().int().nonnegative(),price3Day:yn.number({invalid_type_error:"3-day price must be a number"}).nonnegative().optional(),price7Day:yn.number({invalid_type_error:"7-day price must be a number"}).nonnegative().optional(),price15Day:yn.number({invalid_type_error:"15-day price must be a number"}).nonnegative().optional(),price1Month:yn.number({invalid_type_error:"1-month price must be a number"}).nonnegative().optional(),notInStock:rl().default(!1),isHidden:rl().default(!1),buyOncePrice:yn.number().nonnegative().optional()}),S5e=({initialData:e,onClose:t,onSuccess:r})=>{const[n,a]=g.useState([]),{register:i,handleSubmit:o,reset:l,setValue:u,watch:f,formState:{errors:h,isSubmitting:p}}=en({resolver:tn(j5e),defaultValues:{productId:(e==null?void 0:e.productId)||0,name:(e==null?void 0:e.name)||"",hsnCode:(e==null?void 0:e.hsnCode)||"",mrp:(e==null?void 0:e.mrp)||0,minimumQty:(e==null?void 0:e.minimumQty)||0,notInStock:(e==null?void 0:e.notInStock)||!1,price3Day:(e==null?void 0:e.price3Day)??0,price7Day:(e==null?void 0:e.price7Day)??0,price15Day:(e==null?void 0:e.price15Day)??0,price1Month:(e==null?void 0:e.price1Month)??0,isHidden:(e==null?void 0:e.isHidden)||!1,buyOncePrice:(e==null?void 0:e.buyOncePrice)??0}});g.useEffect(()=>{(async()=>{try{const y=await N5e();a(y)}catch(y){console.error("Failed to load products",y)}})()},[]),g.useEffect(()=>{e&&l({productId:e.productId,name:e.name,hsnCode:e.hsnCode??"",mrp:e.mrp,minimumQty:e.minimumQty,notInStock:e.notInStock,isHidden:e.isHidden,price3Day:e.price3Day??0,price7Day:e.price7Day??0,price15Day:e.price15Day??0,price1Month:e.price1Month??0,buyOncePrice:e.buyOncePrice??0})},[e,l]);const x=async y=>{try{e?(await b5e(e.id,y),he.success("Variant updated")):(await v5e(y),he.success("Variant created")),r()}catch(w){he.error(w.message||"Error saving variant")}};return s.jsxs("form",{onSubmit:o(x),className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"productId",children:"Product *"}),s.jsxs(Wt,{value:f("productId")?String(f("productId")):void 0,onValueChange:y=>u("productId",Number(y),{shouldValidate:!0}),children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select product"})}),s.jsx(Kt,{children:n.map(y=>s.jsx(ct,{value:String(y.id),children:y.name},y.id))})]}),h.productId&&s.jsx("p",{className:"text-sm text-red-600",children:h.productId.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"name",children:"Variant Name *"}),s.jsx(Ge,{id:"name",...i("name")}),h.name&&s.jsx("p",{className:"text-sm text-red-600",children:h.name.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"hsnCode",children:"HSN Code"}),s.jsx(Ge,{id:"hsnCode",...i("hsnCode")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"mrp",children:"MRP *"}),s.jsx(Ge,{type:"number",step:"0.01",id:"mrp",...i("mrp")}),h.mrp&&s.jsx("p",{className:"text-sm text-red-600",children:h.mrp.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"minimumQty",children:"Minimum Qty *"}),s.jsx(Ge,{type:"number",id:"minimumQty",...i("minimumQty")}),h.minimumQty&&s.jsx("p",{className:"text-sm text-red-600",children:h.minimumQty.message})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"price3Day",children:"Price  3 Day"}),s.jsx(Ge,{type:"number",step:"0.01",id:"price3Day",...i("price3Day")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"price7Day",children:"Price  7 Day"}),s.jsx(Ge,{type:"number",step:"0.01",id:"price7Day",...i("price7Day")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"price15Day",children:"Price  15 Day"}),s.jsx(Ge,{type:"number",step:"0.01",id:"price15Day",...i("price15Day")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"price1Month",children:"Price  1 Month"}),s.jsx(Ge,{type:"number",step:"0.01",id:"price1Month",...i("price1Month")})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(je,{htmlFor:"buyOncePrice",children:"Buy Once Price"}),s.jsx(Ge,{id:"buyOncePrice",type:"number",...i("buyOncePrice")}),h.buyOncePrice&&s.jsx("p",{className:"text-sm text-red-500",children:h.buyOncePrice.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wb,{id:"notInStock",checked:f("notInStock"),onCheckedChange:y=>u("notInStock",y)}),s.jsx(je,{htmlFor:"notInStock",children:"Not In Stock"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wb,{id:"isHidden",checked:f("isHidden"),onCheckedChange:y=>u("isHidden",y)}),s.jsx(je,{htmlFor:"isHidden",children:"Hidden?"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:p,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:p,className:"gap-2",children:[p?s.jsx(Wr,{className:"h-4 w-4 animate-spin"}):e?s.jsx(Up,{className:"h-4 w-4"}):s.jsx(Hs,{className:"h-4 w-4"}),p?e?"Updating":"Creating":e?"Update":"Create"]})]})]})},E5e=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(1),[a,i]=g.useState(1),[o,l]=g.useState(""),u=10,[f,h]=g.useState(!1),[p,x]=g.useState(null),[y,w]=g.useState(!1),[b,N]=g.useState(null),j=g.useCallback(async()=>{try{const T=await y5e({page:r,limit:u});t(T.data),i(T.totalPages)}catch(T){he.error(T.message||"Failed to fetch variants")}},[r]);g.useEffect(()=>{j()},[j]);const S=()=>{x(null),h(!0)},A=T=>{x(T),h(!0)},_=T=>{N(T),w(!0)},C=async()=>{if(b!=null){try{await w5e(b),he.success("Variant deleted"),j()}catch(T){he.error(T.message||"Failed to delete variant")}w(!1),N(null)}},k=()=>{if(a<=1)return null;const T=Array.from({length:a},(O,R)=>R+1);return s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>n(O=>Math.max(O-1,1)),disabled:r===1,children:[s.jsx(Bp,{size:16,className:"mr-1"})," Previous"]}),T.map(O=>s.jsx(pe,{variant:r===O?"default":"outline",size:"sm",onClick:()=>n(O),children:O},O)),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>n(O=>Math.min(O+1,a)),disabled:r===a,children:["Next ",s.jsx(Nu,{size:16,className:"ml-1"})]})]})};return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(Xr,{open:f,onOpenChange:T=>{h(T),T||x(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"Depot Product Variants"}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-2 items-center",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(Ge,{placeholder:"Search...",value:o,onChange:T=>l(T.target.value),className:"pl-10 min-h-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx(Is,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(Gp,{asChild:!0,children:s.jsxs(pe,{variant:"default",size:"lg",onClick:S,className:"gap-2 shadow-md",children:[s.jsx(Hs,{size:20})," Add New Variant"]})})]})]}),s.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 bg-white",children:s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsx(tr,{className:"bg-gray-100",children:["Depot","Product","Name","Closing Qty","Actions"].map(T=>s.jsx(Ye,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:T},T))})}),s.jsx($s,{className:"divide-y divide-gray-200",children:e.map(T=>{var O,R;return s.jsxs(tr,{className:"hover:bg-gray-50",children:[s.jsx(Ue,{className:"px-6 py-4 text-sm",children:((O=T==null?void 0:T.depot)==null?void 0:O.name)??T.depotId}),s.jsx(Ue,{className:"px-6 py-4 text-sm",children:(R=T==null?void 0:T.product)==null?void 0:R.name}),s.jsx(Ue,{className:"px-6 py-4 text-sm font-medium",children:T.name}),s.jsx(Ue,{className:"px-6 py-4 text-sm",children:T.closingQty}),s.jsxs(Ue,{className:"px-6 py-4 text-sm space-x-3",children:[s.jsx("button",{onClick:()=>A(T),className:"text-blue-600 hover:text-blue-800",children:s.jsx(Za,{size:18})}),s.jsx("button",{onClick:()=>_(T.id),className:"text-red-600 hover:text-red-800",children:s.jsx(un,{size:18})})]})]},T.id)})})]})}),k()]}),s.jsxs(Zr,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(rs,{children:[s.jsx(ss,{children:p?"Edit Variant":"Add New Variant"}),s.jsx(la,{children:p?"Update variant details":"Fill details to create variant"})]}),s.jsx(S5e,{initialData:p,onClose:()=>h(!1),onSuccess:()=>{h(!1),j()}})]})]}),s.jsx(ua,{open:y,onOpenChange:w,children:s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Are you sure?"}),s.jsx(xa,{children:"This action will delete the variant."})]}),s.jsxs(ma,{children:[s.jsx(ya,{children:"Cancel"}),s.jsx(ga,{className:"bg-red-600 hover:bg-red-700",onClick:C,children:"Delete"})]})]})})]})},A5e=({searchTerm:e,onEditUser:t,refreshKey:r})=>{const[n,a]=g.useState([]),[i,o]=g.useState(!1),[l,u]=g.useState(null),[f,h]=g.useState(!0),[p,x]=g.useState(1),[y,w]=g.useState(1),[b,N]=g.useState(0),[j,S]=g.useState("name"),[A,_]=g.useState("asc"),C=10,k=g.useRef(null),T=g.useCallback(async()=>{h(!0);try{const V=await ut("/teams/users",{page:p,limit:C,search:e,sortBy:j,sortOrder:A});a(V.users||[]),w(V.totalPages||1),N(V.totalRecords||0)}catch(V){console.error("Failed to fetch users:",V),he.error(V.message||"Failed to fetch users."),a([])}finally{h(!1)}},[p,e,j,A,r]);g.useEffect(()=>(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{T()},300),()=>{k.current&&clearTimeout(k.current)}),[T,e]);const O=V=>{u(V),o(!0)},R=async()=>{if(l)try{await Ln(`/teams/users/${l.id}`),he.success("User deleted successfully."),T(),o(!1),u(null)}catch(V){console.error("Failed to delete user:",V),he.error(V.message||"Failed to delete user."),o(!1)}},L=async V=>{try{await Ja(`/teams/users/${V.id}/status`,{}),he.success(`User ${V.active?"deactivated":"activated"} successfully.`),T()}catch(ie){console.error("Failed to change user status:",ie),he.error(ie.message||"Failed to change user status.")}},M=V=>{j===V?_(A==="asc"?"desc":"asc"):(S(V),_("asc")),x(1)},G=({column:V})=>j!==V?s.jsx(Kg,{className:"ml-2 h-4 w-4 opacity-50"}):A==="asc"?s.jsx(Zb,{className:"ml-2 h-4 w-4"}):s.jsx(Xb,{className:"ml-2 h-4 w-4"});return s.jsxs(s.Fragment,{children:[f?s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((V,ie)=>s.jsx(Ct,{className:"h-12 w-full rounded-md"},ie))}):n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:s.jsx(Is,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e?"No Matching Users Found":"No Users Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:e?"Try adjusting your search criteria or add a new user.":"Get started by adding your first user."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ls,{className:"min-w-full",children:[s.jsx(Bs,{className:"bg-slate-50 dark:bg-slate-800",children:s.jsxs(tr,{children:[s.jsx(Ye,{onClick:()=>M("name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Name ",s.jsx(G,{column:"name"})]})}),s.jsx(Ye,{onClick:()=>M("email"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Email ",s.jsx(G,{column:"email"})]})}),s.jsx(Ye,{onClick:()=>M("mobile"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Phone ",s.jsx(G,{column:"mobile"})]})}),s.jsx(Ye,{onClick:()=>M("role"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Role ",s.jsx(G,{column:"role"})]})}),s.jsx(Ye,{onClick:()=>M("depot.name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Depot ",s.jsx(G,{column:"depot.name"})]})}),s.jsx(Ye,{onClick:()=>M("joiningDate"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Joining Date ",s.jsx(G,{column:"joiningDate"})]})}),s.jsx(Ye,{onClick:()=>M("active"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Status ",s.jsx(G,{column:"active"})]})}),s.jsx(Ye,{className:"px-4 py-3",children:"Actions"})]})}),s.jsx($s,{children:n.map(V=>{var ie;return s.jsxs(tr,{className:"border-b hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[s.jsx(Ue,{className:"px-4 py-3 font-medium",children:V.name}),s.jsx(Ue,{className:"px-4 py-3",children:V.email}),s.jsx(Ue,{className:"px-4 py-3",children:V.mobile||"N/A"}),s.jsx(Ue,{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${V.role==="ADMIN"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:V.role})}),s.jsx(Ue,{className:"px-4 py-3",children:((ie=V.depot)==null?void 0:ie.name)||"N/A"}),s.jsx(Ue,{className:"px-4 py-3",children:new Date(V.joiningDate).toLocaleDateString()}),s.jsx(Ue,{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${V.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:V.active?"Active":"Inactive"})}),s.jsx(Ue,{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>t(V),children:s.jsx(Za,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>L(V),title:V.active?"Deactivate":"Activate",children:V.active?s.jsx(Vi,{className:"h-4 w-4 text-red-500"}):s.jsx(Ka,{className:"h-4 w-4 text-green-500"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>O(V),children:s.jsx(un,{className:"h-4 w-4 text-red-500"})})]})})]},V.id)})})]})}),s.jsx(hN,{currentPage:p,totalPages:y,totalRecords:b,limit:C,onPageChange:x})]}),s.jsx(ua,{open:i,onOpenChange:o,children:s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Are you sure?"}),s.jsx(xa,{children:"This action cannot be undone. This will permanently delete the user."})]}),s.jsxs(ma,{children:[s.jsx(ya,{onClick:()=>o(!1),children:"Cancel"}),s.jsx(ga,{onClick:R,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},C5e=({isOpen:e,onOpenChange:t,onFormSubmitSuccess:r,userToEdit:n})=>{var b;const[a,i]=g.useState([]),o=!!n,l=g.useMemo(()=>Nr.object({name:Nr.string().min(1,"Name is required"),email:Nr.string().email("Invalid email address"),password:o?Nr.string().min(8,"Password must be at least 8 characters").optional().or(Nr.literal("")):Nr.string().min(8,"Password is required and must be at least 8 characters"),mobile:Nr.string().optional().or(Nr.literal("")).refine(N=>!N||/^\d{10}$/.test(N),{message:"Phone number must be 10 digits"}),depotId:Nr.string().optional(),joiningDate:Nr.string().optional()}),[o]),{register:u,handleSubmit:f,reset:h,setValue:p,formState:{errors:x,isSubmitting:y}}=en({resolver:tn(l),mode:"onChange"});g.useEffect(()=>{(async()=>{try{const j=await ut("/admin/depots/all-list");i(j||[])}catch(j){console.error("Failed to fetch depots",j),he.error(j.message||"Failed to fetch depots")}})()},[]),g.useEffect(()=>{var N;h(n?{name:n.name,email:n.email,mobile:n.mobile||"",password:"",depotId:((N=n.depot)==null?void 0:N.id)||void 0,joiningDate:n.joiningDate?Lt(new Date(n.joiningDate),"yyyy-MM-dd"):""}:{name:"",email:"",mobile:"",password:"",depotId:void 0,joiningDate:Lt(new Date,"yyyy-MM-dd")})},[n,h,e]);const w=async N=>{try{const j={...N};o&&!j.password&&delete j.password,o?(await Ja(`/teams/users/${n==null?void 0:n.id}`,j),he.success("User updated successfully!")):(await Ur("/teams/users",j),he.success("User created successfully!")),r()}catch(j){console.error(j);const S=j.message||`Failed to ${o?"update":"create"} user.`;he.error(S)}};return s.jsx(Xr,{open:e,onOpenChange:t,children:s.jsxs(Zr,{className:"sm:max-w-[425px]",children:[s.jsxs(rs,{children:[s.jsx(ss,{children:o?"Edit User":"Create New User"}),s.jsx(la,{children:o?"Update the user's details below.":"Fill in the form to add a new team member."})]}),s.jsxs("form",{onSubmit:f(w),className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"name",children:"Name"}),s.jsx(Ge,{id:"name",...u("name")}),x.name&&s.jsx("p",{className:"text-sm text-red-500",children:x.name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"email",children:"Email"}),s.jsx(Ge,{id:"email",type:"email",...u("email")}),x.email&&s.jsx("p",{className:"text-sm text-red-500",children:x.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"mobile",children:"Phone (10-digits)"}),s.jsx(Ge,{id:"mobile",...u("mobile")}),x.mobile&&s.jsx("p",{className:"text-sm text-red-500",children:x.mobile.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"password",children:"Password"}),s.jsx(Ge,{id:"password",type:"password",...u("password"),placeholder:o?"Leave blank to keep unchanged":""}),x.password&&s.jsx("p",{className:"text-sm text-red-500",children:x.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"depotId",children:"Depot (Optional)"}),s.jsxs(Wt,{onValueChange:N=>p("depotId",N==="admin-role"?void 0:N),defaultValue:(b=n==null?void 0:n.depot)==null?void 0:b.id,children:[s.jsx(Yt,{id:"depotId",children:s.jsx(Gt,{placeholder:"Assign as Admin"})}),s.jsxs(Kt,{children:[s.jsx(ct,{value:"admin-role",children:"Assign as Admin"}),a.map(N=>s.jsx(ct,{value:N.id,children:N.name},N.id))]})]}),x.depotId&&s.jsx("p",{className:"text-sm text-red-500",children:x.depotId.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"joiningDate",children:"Joining Date"}),s.jsx(Ge,{id:"joiningDate",type:"date",...u("joiningDate")}),x.joiningDate&&s.jsx("p",{className:"text-sm text-red-500",children:x.joiningDate.message})]}),s.jsxs(Xa,{className:"pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:y,children:y?o?"Updating...":"Creating...":o?"Update User":"Create User"})]})]})]})})},T5e=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState(null),[a,i]=g.useState(""),[o,l]=g.useState(0),u=(x=null)=>{n(x),t(!0)},f=()=>{t(!1),n(null)},h=()=>{f(),l(x=>x+1)},p=x=>u(x);return s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[s.jsxs(At,{className:"border-0 shadow-sm",children:[s.jsx(Dt,{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx(rr,{className:"text-2xl font-semibold",children:"Team Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[s.jsx(Is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ge,{placeholder:"Search users...",value:a,onChange:x=>i(x.target.value),className:"pl-10 w-full sm:w-64 md:w-80"})]}),s.jsxs(pe,{onClick:()=>u(),className:"gap-2 whitespace-nowrap",children:[s.jsx(Hs,{className:"h-4 w-4"})," Add User"]})]})]})}),s.jsx(Tt,{className:"p-0",children:s.jsx(A5e,{searchTerm:a,onEditUser:p,refreshKey:o},o)})]}),e&&s.jsx(C5e,{isOpen:e,onOpenChange:t,onFormSubmitSuccess:h,userToEdit:r})]})},M6="/api/admin/banners",_5e="https://www.indraai.in//",Hz=["image/jpeg","image/jpg","image/png","image/webp"],k5e=ys({caption:at().optional().default(""),description:at().optional().default(""),bannerImageFile:DC(FileList).optional().refine(e=>{var t;return!e||e.length===0||((t=e==null?void 0:e[0])==null?void 0:t.size)<=5e6},"Max image size is 5MB.").refine(e=>{var t;return!e||e.length===0||Hz.includes((t=e==null?void 0:e[0])==null?void 0:t.type)},"Only .jpg, .jpeg, .png and .webp formats are supported."),listOrder:OC(e=>typeof e=="string"?parseInt(e,10):e,bi().int("List order must be an integer.").min(0,"List order must be a positive number."))}),D5e=({isOpen:e,onClose:t,onSubmitSuccess:r,initialData:n})=>{const a=_n(),i=n?"edit":"create",{register:o,handleSubmit:l,formState:{errors:u,isSubmitting:f},reset:h}=en({resolver:tn(k5e),defaultValues:n?{caption:n.caption||"",description:n.description||"",listOrder:n.listOrder,bannerImageFile:void 0}:{caption:"",description:"",listOrder:void 0,bannerImageFile:void 0}});g.useEffect(()=>{e&&h(n?{caption:n.caption||"",description:n.description||"",listOrder:n.listOrder,bannerImageFile:void 0}:{caption:"",description:"",listOrder:void 0,bannerImageFile:void 0})},[e,n,h]);const p=Rr({mutationFn:async y=>i==="edit"&&(n!=null&&n.id)?kre(`${M6}/${n.id}`,y):_re(M6,y),onSuccess:()=>{he.success(`Banner ${i==="create"?"created":"updated"} successfully.`),a.invalidateQueries({queryKey:["banners"]}),r(),t()},onError:y=>{var N,j,S,A,_,C;const w=`Failed to ${i} banner.`,b=((j=(N=y==null?void 0:y.response)==null?void 0:N.data)==null?void 0:j.message)||((A=(S=y==null?void 0:y.response)==null?void 0:S.data)==null?void 0:A.error);if((C=(_=y==null?void 0:y.response)==null?void 0:_.data)!=null&&C.errors){let T=y.response.data.errors.map(O=>O.message).join(", ");he.error(T||w)}else he.error(b||y.message||w);console.error(`Failed to ${i} banner:`,y)}}),x=async y=>{if(i==="create"&&(!y.bannerImageFile||y.bannerImageFile.length===0)){he.error("Banner image is required to create a new banner.");return}const w=new FormData;w.append("caption",y.caption||""),w.append("description",y.description||""),w.append("listOrder",y.listOrder.toString()),y.bannerImageFile&&y.bannerImageFile.length>0&&w.append("bannerImage",y.bannerImageFile[0]),p.mutate(w)};return s.jsx(Xr,{open:e,onOpenChange:y=>!y&&t(),children:s.jsxs(Zr,{className:"sm:max-w-[525px]",children:[s.jsxs(rs,{children:[s.jsx(ss,{children:i==="create"?"Add New Banner":"Edit Banner"}),s.jsx(la,{children:i==="create"?"Fill in the details for the new banner.":"Update the details for this banner."})]}),s.jsxs("form",{onSubmit:l(x),className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(je,{htmlFor:"listOrder",className:"mb-2",children:"List Order"}),s.jsx(Ge,{id:"listOrder",type:"number",...o("listOrder")}),u.listOrder&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.listOrder.message})]}),s.jsxs("div",{children:[s.jsx(je,{className:"mb-2",htmlFor:"caption",children:"Caption (Optional)"}),s.jsx(Ge,{id:"caption",...o("caption")}),u.caption&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.caption.message})]}),s.jsxs("div",{children:[s.jsx(je,{className:"mb-2",htmlFor:"description",children:"Description (Optional)"}),s.jsx(eh,{id:"description",...o("description")}),u.description&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.description.message})]}),s.jsxs("div",{children:[s.jsx(je,{className:"mb-2",htmlFor:"bannerImageFile",children:"Banner Image"}),s.jsx(Ge,{id:"bannerImageFile",type:"file",accept:Hz.join(","),...o("bannerImageFile")}),u.bannerImageFile&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.bannerImageFile.message}),i==="edit"&&(n==null?void 0:n.imagePath)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Current image:"}),n.imagePath.startsWith("http")||n.imagePath.startsWith("/")?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:n.imagePath.startsWith("http")?n.imagePath:`${_5e}${n.imagePath}`,alt:n.caption||"Current banner image",className:"mt-1 h-20 w-auto object-contain border rounded shadow-sm",onError:y=>{const w=y.target;w.style.display="none";const b=w.nextElementSibling;b&&b.classList.remove("hidden")}}),s.jsx("p",{className:"text-xs text-red-500 hidden",children:"Unable to load image preview."})]}):s.jsx("p",{className:"text-xs font-medium",children:n.imagePath})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i==="create"?"Select an image file.":"Select a new image file to change the existing one."})]}),s.jsxs(Xa,{children:[s.jsx(Oc,{asChild:!0,children:s.jsx(pe,{type:"button",variant:"outline",onClick:t,disabled:f,children:"Cancel"})}),s.jsxs(pe,{type:"submit",disabled:f,children:[f&&s.jsx(Wr,{className:"mr-2 h-4 w-4 animate-spin"}),i==="create"?"Create Banner":"Save Changes"]})]})]})]})})},I6="/api/admin/banners",O5e="",R5e=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!1),[a,i]=g.useState(void 0),[o,l]=g.useState(!1),[u,f]=g.useState(null),[h,p]=g.useState(!0),[x,y]=g.useState(""),[w,b]=g.useState(1),[N,j]=g.useState(1),[S,A]=g.useState(0),[_,C]=g.useState("listOrder"),[k,T]=g.useState("asc"),O=10,R=g.useRef(null),L=g.useCallback(async()=>{p(!0);try{const W=await ut(I6,{page:w,limit:O,search:x,sortBy:_,sortOrder:k});console.log("API Response Data in fetchBanners:",W),t(W.banners||[]),j(W.totalPages||1),A(W.totalRecords||0)}catch(F){console.error("Failed to fetch banners. Full error object:",F);let W="Failed to fetch banners.";F&&F.message&&(W=F.message),F&&F.response&&F.response.data&&F.response.data.message&&(W=F.response.data.message),he.error(W),t([]),j(1),A(0)}finally{p(!1)}},[w,x,_,k]);g.useEffect(()=>(R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{L()},300),()=>{R.current&&clearTimeout(R.current)}),[L,x]);const M=()=>{i(void 0),n(!0)},G=F=>{i(F),n(!0)},V=F=>{f(F),l(!0)},ie=async()=>{if(u)try{await Ln(`${I6}/${u.id}`),he.success("Banner deleted successfully."),L(),l(!1),f(null)}catch(F){console.error("Failed to delete banner:",F),he.error("Failed to delete banner."),l(!1)}},le=()=>{L()},B=F=>{_===F?T(k==="asc"?"desc":"asc"):(C(F),T("asc")),b(1)},U=({column:F})=>_!==F?s.jsx(Kg,{className:"ml-2 h-4 w-4 opacity-50"}):k==="asc"?s.jsx(Zb,{className:"ml-2 h-4 w-4"}):s.jsx(Xb,{className:"ml-2 h-4 w-4"});return s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[s.jsxs(At,{className:"border-0 shadow-sm",children:[s.jsx(Dt,{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx(rr,{className:"text-2xl font-semibold",children:"Banner Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[s.jsx(Is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ge,{placeholder:"Search banners...",value:x,onChange:F=>{y(F.target.value),b(1)},className:"pl-10 w-full sm:w-64 md:w-80"})]}),s.jsxs(pe,{onClick:M,className:"gap-2 whitespace-nowrap",children:[s.jsx(Hs,{className:"h-4 w-4"})," Add Banner"]})]})]})}),s.jsx(Tt,{className:"p-0 sm:p-6",children:h?s.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((F,W)=>s.jsx(Ct,{className:"h-12 w-full rounded-md"},W))}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:s.jsx(jQ,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:x?"No Matching Banners Found":"No Banners Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:x?"Try adjusting your search criteria or add a new banner.":"Get started by adding your first banner. Its quick and easy!"}),!x&&s.jsxs(pe,{onClick:M,className:"gap-2",children:[s.jsx(Hs,{className:"h-4 w-4"})," Add New Banner"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ls,{className:"min-w-full",children:[s.jsx(Bs,{className:"bg-slate-50 dark:bg-slate-800",children:s.jsxs(tr,{children:[s.jsx(Ye,{onClick:()=>B("listOrder"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Order ",s.jsx(U,{column:"listOrder"})]})}),s.jsx(Ye,{className:"px-4 py-3 whitespace-nowrap",children:"Image"}),s.jsx(Ye,{onClick:()=>B("caption"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Caption ",s.jsx(U,{column:"caption"})]})}),s.jsx(Ye,{className:"px-4 py-3 whitespace-nowrap",children:"Description"}),s.jsx(Ye,{onClick:()=>B("createdAt"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Created At ",s.jsx(U,{column:"createdAt"})]})}),s.jsx(Ye,{className:"text-right px-4 py-3 whitespace-nowrap",children:"Actions"})]})}),s.jsx($s,{children:e.map(F=>s.jsxs(tr,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50",children:[s.jsx(Ue,{className:"px-4 py-3 font-medium",children:F.listOrder}),s.jsx(Ue,{className:"px-4 py-3",children:F.imagePath?s.jsx("img",{src:`${O5e}${F.imagePath}`,alt:F.caption||"Banner image",className:"h-10 w-16 object-cover rounded"}):s.jsx("span",{className:"text-xs text-muted-foreground",children:"No image"})}),s.jsx(Ue,{className:"px-4 py-3",children:F.caption||"-"}),s.jsx(Ue,{className:"px-4 py-3 truncate max-w-xs",children:F.description||"-"}),s.jsx(Ue,{className:"px-4 py-3",children:new Date(F.createdAt).toLocaleDateString()}),s.jsxs(Ue,{className:"text-right px-4 py-3",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>G(F),className:"hover:text-blue-600",children:s.jsx(Za,{className:"h-4 w-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>V(F),className:"hover:text-red-600",children:s.jsx(un,{className:"h-4 w-4"})})]})]},F.id))})]})}),N>1&&s.jsx(hN,{currentPage:w,totalPages:N,onPageChange:b,totalRecords:S,limit:O})]})})]}),r&&s.jsx(D5e,{isOpen:r,onClose:()=>n(!1),onSubmitSuccess:le,initialData:a}),o&&u&&s.jsx(ua,{open:o,onOpenChange:l,children:s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Are you sure?"}),s.jsxs(xa,{children:['This action cannot be undone. This will permanently delete the banner "',s.jsx("strong",{children:u.caption||"this banner"}),'".']})]}),s.jsxs(ma,{children:[s.jsx(ya,{onClick:()=>f(null),children:"Cancel"}),s.jsx(ga,{onClick:ie,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},P5e=e=>{const t=new Map;return e.forEach(r=>{t.has(r.id)||t.set(r.id,r)}),Array.from(t.values())},M5e=15e3;function I5e(){const[e,t]=g.useState(0),[r,n]=g.useState([]),[a,i]=g.useState(""),[o,l]=g.useState(!1),[u,f]=g.useState(""),[h,p]=g.useState(!0),[x,y]=g.useState(null),w=g.useRef(null),b=g.useRef(!1),N=C=>{if(!C.trim())return"Amount is required";const k=Number.parseFloat(C);return isNaN(k)?"Please enter a valid number":k<=0?"Amount must be greater than 0":k>1e4?"Maximum amount is 10,000":null},j=async C=>{if(C.preventDefault(),b.current)return;f("");const k=N(a);if(k){f(k);return}b.current=!0,l(!0);try{const T=Number.parseFloat(a);await Ur("/wallet/transactions",{amount:T}),i(""),_(),he.success(`Top-up request for ${Ms(T)} submitted. It will reflect in your balance after approval.`,{duration:7e3,icon:s.jsx(Ox,{className:"h-4 w-4"})})}catch(T){const O=T instanceof Error?T.message:"An unexpected error occurred";f(O),he.error(`Transaction Failed: ${O}`,{duration:5e3,icon:s.jsx(gu,{className:"h-4 w-4"})})}finally{b.current=!1,l(!1)}},S=C=>{const k=C.target.value;i(k),u&&f("")},A=[25,50,100,250],_=async()=>{p(!0),y(null);try{const C=await ut("/wallet");if(C!=null&&C.data){const k=C.data;typeof k.balance=="number"&&t(k.balance),Array.isArray(k.transactions)?n(P5e(k.transactions)):n([])}}catch(C){y(C.message||"Failed to load wallet details."),n([])}finally{p(!1)}};return g.useEffect(()=>{_()},[]),g.useEffect(()=>(_(),w.current=setInterval(()=>{_()},M5e),()=>{w.current&&clearInterval(w.current)}),[]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-6",children:s.jsxs("div",{className:"mx-auto  space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(Dc,{className:"h-8 w-8 text-primary"}),s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Wallet"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your wallet balance and add funds securely"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(At,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-cyan-50"}),s.jsxs(Dt,{className:"relative z-10",children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(Zx,{className:"h-5 w-5 text-green-600"}),"Current Balance"]}),s.jsx(yi,{children:"Available funds in your wallet"})]}),console.log(e),s.jsxs(Tt,{className:"relative",children:[s.jsx("div",{className:"text-4xl font-bold text-green-600 mb-4",children:h?s.jsx("span",{className:"text-2xl",children:"Loading..."}):x?s.jsx("span",{className:"text-2xl text-destructive",children:"Error"}):Ms(e)}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(CE,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Available for transactions"})]})]})]}),s.jsxs(At,{children:[s.jsxs(Dt,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"h-5 w-5"}),"Add Balance"]}),s.jsx(yi,{children:"Add funds to your wallet instantly"})]}),s.jsx(Tt,{children:s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{htmlFor:"amount",children:"Amount to Add"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zx,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(Ge,{id:"amount",type:"text",placeholder:"0.00",value:a,onChange:S,className:`pl-10 ${u?"border-destructive focus-visible:ring-destructive":""}`,disabled:o,"aria-describedby":u?"amount-error":void 0})]}),u&&s.jsxs(Wn,{variant:"destructive",id:"amount-error",children:[s.jsx(gu,{className:"h-4 w-4"}),s.jsx(Gn,{children:u})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(je,{className:"text-sm text-muted-foreground",children:"Quick Add"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:A.map(C=>s.jsxs(pe,{type:"button",variant:"outline",size:"sm",onClick:()=>{i(C.toString()),f("")},disabled:o,className:"text-sm",children:["",C]},C))})]}),s.jsx(E8,{}),s.jsx(pe,{type:"submit",className:"w-full",disabled:o||!a.trim(),size:"lg",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(CI,{className:"mr-2 h-4 w-4"}),"Add Balance"]})})]})})]})]}),s.jsxs(At,{children:[s.jsxs(Dt,{children:[s.jsx(rr,{children:"Recent Activity"}),s.jsx(yi,{children:"Your latest wallet transactions"})]}),s.jsx(Tt,{children:h?s.jsx("p",{children:"Loading transactions..."}):x?s.jsxs(Wn,{variant:"destructive",children:[s.jsx(gu,{className:"h-4 w-4"}),s.jsx(Gn,{children:x})]}):r.length===0?s.jsx("p",{className:"text-muted-foreground text-center",children:"No recent activity to display."}):s.jsx("div",{className:"space-y-3",children:r.map(C=>{var V;const k=C.type==="CREDIT",T=((V=C.status)==null?void 0:V.toUpperCase())||"UNKNOWN";let O=s.jsx(Ox,{className:"h-5 w-5 text-gray-500"}),R="bg-gray-100",L=k?"text-green-600":"text-red-600",M=C.description||(k?"Funds Added":"Funds Withdrawn");const G=T.charAt(0)+T.slice(1).toLowerCase();return T==="COMPLETED"||T==="PAID"?(O=s.jsx(Ox,{className:`h-5 w-5 ${k?"text-green-600":"text-red-500"}`}),R=k?"bg-green-100":"bg-red-100"):T==="PENDING"?(O=s.jsx(Xx,{className:"h-5 w-5 text-yellow-600"}),R="bg-yellow-100",L="text-yellow-700"):T==="FAILED"&&(O=s.jsx(Vi,{className:"h-5 w-5 text-red-600"}),R="bg-red-100",L="text-red-700"),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${R}`,children:O}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:M}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(C.timestamp).toLocaleDateString()," ",new Date(C.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-semibold ${L}`,children:[k?"+":"-",Ms(C.amount)]}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:G})]})]},C.id)})})})]})]})})}const F5e=()=>{const e=typeof window<"u"?localStorage.getItem("user"):null,t=e?JSON.parse(e):null,r=(t==null?void 0:t.role)==="DepotAdmin",[n,a]=g.useState(1),i=10,[o,l]=g.useState(""),[u,f]=g.useState(""),[h,p]=g.useState(),x=g.useRef(null),[y,w]=g.useState(null),b=g.useCallback(R=>{l(R.target.value)},[]);g.useEffect(()=>(x.current&&window.clearTimeout(x.current),x.current=window.setTimeout(()=>f(o),400),()=>{x.current&&window.clearTimeout(x.current)}),[o]);const{data:N,isLoading:j,isError:S,refetch:A}=jr({queryKey:["purchases",n,u,h],queryFn:async()=>{let R=`/purchases?page=${n}&limit=${i}`;return r&&(t!=null&&t.depotId)&&(R+=`&depotId=${t.depotId}`),u&&(R+=`&search=${u}`),h&&(R+=`&date=${Lt(h,"yyyy-MM-dd")}`),ut(R)}}),_=(N==null?void 0:N.data)||[],C=(N==null?void 0:N.totalPages)||1,k=()=>{l(""),f(""),p(void 0),a(1)},T=R=>R.reduce((L,M)=>L+(M.purchaseRate||0)*(M.quantity||0),0),O=async()=>{if(y)try{await Ln(`/purchases/${y}`),he.success("Purchase deleted"),A(),w(null)}catch(R){he.error(R.message||"Failed to delete purchase")}};return j?s.jsx("div",{className:"p-10 text-center",children:"Loading purchases..."}):S?s.jsx("div",{className:"p-10 text-center",children:"Error loading purchases"}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(At,{className:"mb-6",children:[s.jsxs(Dt,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(rr,{className:"text-2xl",children:"Purchase Management"}),s.jsx(Or,{to:"/admin/purchases/create",children:s.jsxs(pe,{children:[s.jsx(Cn,{className:"mr-2 size-4"})," New Purchase"]})})]}),s.jsxs(Tt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(Ge,{placeholder:"Search by purchase no / Farmer",value:o,onChange:b}),s.jsxs(td,{children:[s.jsx(rd,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:Ze("w-full justify-start",!h&&"text-muted-foreground"),children:[s.jsx(Qn,{className:"mr-2 h-4 w-4"}),h?Lt(h,"dd/MM/yyyy"):"Pick a date"]})}),s.jsx(sd,{className:"w-auto p-0",align:"start",children:s.jsx(nd,{mode:"single",selected:h,onSelect:p})})]}),s.jsx(pe,{variant:"outline",onClick:k,children:"Clear Filters"})]}),_.length===0?s.jsx("div",{className:"py-10 text-center",children:"No purchases found."}):s.jsxs(Ls,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(Bs,{className:"bg-gray-100",children:s.jsxs(tr,{children:[s.jsx(Ye,{className:"px-6 py-3",children:"Purchase No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Farmer"}),s.jsx(Ye,{className:"px-6 py-3",children:"Purchase Date"}),s.jsx(Ye,{className:"px-6 py-3",children:"Invoice No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Invoice Date"}),s.jsx(Ye,{className:"px-6 py-3 text-right",children:"Total Amount"}),s.jsx(Ye,{className:"px-6 py-3 text-right",children:"Paid Amount"}),s.jsx(Ye,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx($s,{className:"divide-y",children:_.map(R=>{var L;return s.jsxs(tr,{className:"hover:bg-gray-50",children:[s.jsx(Ue,{className:"px-6 py-4 font-medium",children:R.purchaseNo}),s.jsx(Ue,{className:"px-6 py-4",children:(L=R.vendor)==null?void 0:L.name}),s.jsx(Ue,{className:"px-6 py-4",children:Lt(new Date(R.purchaseDate),"dd/MM/yyyy")}),s.jsx(Ue,{className:"px-6 py-4",children:R.invoiceNo}),s.jsx(Ue,{className:"px-6 py-4",children:Lt(new Date(R.invoiceDate),"dd/MM/yyyy")}),s.jsx(Ue,{className:"px-6 py-4 text-right",children:Ms(T(R.purchaseDetails))}),s.jsx(Ue,{className:"px-6 py-4 text-right",children:Ms(R.paidAmt||0)}),s.jsxs(Ue,{className:"px-6 py-4 space-x-2",children:[s.jsx(Or,{to:`/admin/purchases/edit/${R.id}`,children:s.jsx(pe,{size:"icon",variant:"ghost",children:s.jsx(CC,{className:"size-4"})})}),s.jsxs(ua,{children:[s.jsx(bh,{asChild:!0,children:s.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>w(R.id),children:s.jsx(un,{className:"size-4"})})}),s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Are you sure?"}),s.jsx(xa,{children:"This action cannot be undone. This will permanently delete the purchase and remove its data from our servers."})]}),s.jsxs(ma,{children:[s.jsx(ya,{onClick:()=>w(null),children:"Cancel"}),s.jsx(ga,{onClick:O,children:"Continue"})]})]})]})]})]},R.id)})})]}),C>1&&s.jsx(e0,{className:"mt-6",children:s.jsxs(t0,{children:[s.jsx(r0,{onClick:()=>a(R=>Math.max(1,R-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",n," of ",C]}),s.jsx(s0,{onClick:()=>a(R=>Math.min(C,R+1))})]})})]})]})})},L5e=ys({purchaseNo:at().optional(),purchaseDate:Uc(),invoiceNo:at().min(1,"Invoice number is required"),invoiceDate:Uc(),vendorId:at().min(1,"Vendor is required"),depotId:at().min(1,"Depot is required"),notes:at().optional(),purchaseDetails:dh(ys({productId:at().min(1,"Product is required"),variantId:at().min(1,"Variant is required"),quantity:bi().min(1,"Quantity must be at least 1"),purchaseRate:bi().min(0,"Rate must not be negative")})).min(1,"Add at least one line item")});function aE(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function F6(e){return!!e&&!isNaN(e.getTime())}function L6({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=g.useState(!1),[l,u]=g.useState(e),[f,h]=g.useState(aE(e)),[p,x]=g.useState();return g.useEffect(()=>{h(aE(e)),F6(e)&&u(e)},[e]),g.useEffect(()=>{(async()=>{const w=await ut("/vendors");x(w.data)})()},[]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(je,{htmlFor:n,children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(Ge,{id:n,value:f,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:y=>{const w=y.target.value;h(w);const b=new Date(w);F6(b)?(t(b),u(b)):t(void 0)}}),s.jsxs(td,{open:i,onOpenChange:o,children:[s.jsx(rd,{asChild:!0,children:s.jsx(pe,{variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 size-6",type:"button",children:s.jsx(Qn,{className:"size-3.5"})})}),s.jsx(sd,{className:"p-0",children:s.jsx(nd,{mode:"single",selected:e,month:l,captionLayout:"dropdown",onMonthChange:u,fromDate:a,onSelect:y=>{t(y),h(aE(y)),o(!1)}})})]})]})]})}const Wz=({mode:e,purchaseId:t,initialData:r,onSuccess:n})=>{var U;const a=gr(),i=_n(),o=typeof window<"u"?localStorage.getItem("user"):null,l=o?JSON.parse(o):null;console.log("PurchaseForm initial data",r);const{register:u,control:f,handleSubmit:h,setValue:p,watch:x,formState:{errors:y}}=en({resolver:tn(L5e),defaultValues:{purchaseNo:e==="edit"?r==null?void 0:r.purchaseNo:"",purchaseDate:e==="edit"&&(r!=null&&r.purchaseDate)?new Date(r.purchaseDate):new Date,invoiceNo:(r==null?void 0:r.invoiceNo)||"",invoiceDate:e==="edit"&&(r!=null&&r.invoiceDate)?new Date(r.invoiceDate):new Date,vendorId:r!=null&&r.vendorId?String(r.vendorId):"",depotId:e==="edit"&&(r!=null&&r.depotId)?String(r.depotId):l!=null&&l.depotId?String(l.depotId):"",notes:(r==null?void 0:r.notes)||"",purchaseDetails:e==="edit"&&((U=r==null?void 0:r.purchaseDetails)!=null&&U.length)?r.purchaseDetails.map(F=>({productId:String(F.productId),variantId:String(F.variantId),quantity:F.quantity,purchaseRate:F.purchaseRate})):[{productId:"",variantId:"",quantity:1,purchaseRate:0}]}}),[w,b]=g.useState([]),[N,j]=g.useState([]),[S,A]=g.useState([]),[_,C]=g.useState([]);g.useEffect(()=>{x("depotId")||(l!=null&&l.depotId?p("depotId",String(l.depotId)):_.length&&p("depotId",String(_[0].id)))},[_,l==null?void 0:l.depotId]);const[k,T]=g.useState(null);g.useEffect(()=>{(async()=>{try{const F=await ut("/products");b((F==null?void 0:F.data)||F||[]);const W=await ut("/vendors?limit=1000");A((W==null?void 0:W.data)||W||[]);const q=await ut("/depots");C((q==null?void 0:q.data)||q||[])}catch{he.error("Failed to fetch reference data")}})()},[]);const O=x("depotId"),R=(l==null?void 0:l.depotId)??O;g.useEffect(()=>{if(!R){j([]);return}(async()=>{try{const F=await ut(`/depot-product-variants?depotId=${R}&limit=1000`);j((F==null?void 0:F.data)||F||[])}catch{he.error("Failed to fetch depot variants")}})()},[R,l==null?void 0:l.depotId]);const{fields:L,append:M,remove:G}=gy({control:f,name:"purchaseDetails"}),V=x("purchaseDetails"),ie=V.reduce((F,W)=>F+(W.purchaseRate||0)*(W.quantity||0),0),le=Rr({mutationFn:async F=>e==="edit"&&t?Js(`/purchases/${t}`,F):Ur("/purchases",F),onSuccess:()=>{he.success("Purchase saved"),i.invalidateQueries({queryKey:["purchases"]}),a("/admin/purchases"),n==null||n()},onError:F=>he.error(F.message||"Error saving purchase")}),B=F=>{(l==null?void 0:l.role)==="DepotAdmin"&&(F.depotId=String(l==null?void 0:l.depotId)),le.mutate(F)};return s.jsxs("form",{onSubmit:h(B),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(At,{children:[s.jsx(Dt,{children:s.jsx(rr,{children:"Purchase Details"})}),s.jsxs(Tt,{className:"space-y-4",children:[e==="edit"&&s.jsxs("div",{children:[s.jsx(je,{className:"mb-2",children:"Purchase No"}),s.jsx(Ge,{disabled:!0,...u("purchaseNo")})]}),s.jsx($r,{control:f,name:"purchaseDate",render:({field:F})=>s.jsx(L6,{id:"purchaseDate",label:"Purchase Date",value:F.value,onChange:F.onChange})}),s.jsxs("div",{children:[s.jsx(je,{className:"mb-2",children:"Invoice No"}),s.jsx(Ge,{...u("invoiceNo")}),y.invoiceNo&&s.jsx("p",{className:"text-xs text-red-600",children:y.invoiceNo.message})]}),s.jsx($r,{control:f,name:"invoiceDate",render:({field:F})=>s.jsx(L6,{id:"invoiceDate",label:"Invoice Date",value:F.value,onChange:F.onChange})}),s.jsxs("div",{children:[s.jsx(je,{className:"mb-2",children:"Notes"}),s.jsx(eh,{rows:3,...u("notes")})]})]})]}),s.jsxs(At,{children:[s.jsx(Dt,{children:s.jsx(rr,{children:"Farmer & Depot"})}),s.jsxs(Tt,{className:"space-y-4",children:[s.jsx($r,{control:f,name:"vendorId",render:({field:F})=>s.jsxs("div",{children:[s.jsx(je,{className:"mb-2",children:"Farmer"}),s.jsxs(Wt,{value:F.value,onValueChange:F.onChange,children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select Farmer"})}),s.jsx(Kt,{children:S.map(W=>s.jsx(ct,{value:String(W.id),children:W.name},W.id))})]}),y.vendorId&&s.jsx("p",{className:"text-xs text-red-600",children:y.vendorId.message})]})}),s.jsx($r,{control:f,name:"depotId",render:({field:F})=>s.jsxs("div",{children:[s.jsx(je,{className:"mb-2 block w-full",htmlFor:"depotId",children:"Depot"}),s.jsxs(Wt,{value:F.value,onValueChange:F.onChange,disabled:(l==null?void 0:l.role)==="DepotAdmin",children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select depot"})}),s.jsx(Kt,{children:_.map(W=>s.jsx(ct,{value:String(W.id),children:W.name},W.id))})]}),y.depotId&&s.jsx("p",{className:"text-xs text-red-600",children:y.depotId.message})]})})]})]})]}),s.jsxs(At,{children:[s.jsxs(Dt,{className:"flex-row items-center justify-between",children:[s.jsx(rr,{children:"Items"}),s.jsxs(pe,{type:"button",size:"sm",onClick:()=>M({productId:"",variantId:"",quantity:1,purchaseRate:0}),children:[s.jsx(Cn,{className:"mr-2 size-4"})," Add Item"]})]}),s.jsxs(Tt,{children:[s.jsx("div",{className:"space-y-4",children:L.map((F,W)=>{var X,K,H;const q=(X=V[W])==null?void 0:X.productId,Q=N.filter(J=>String(J.productId)===q),P=(((K=V[W])==null?void 0:K.purchaseRate)||0)*(((H=V[W])==null?void 0:H.quantity)||0);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 border rounded-md items-end",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(je,{className:"mb-2",children:"Product"}),s.jsx($r,{control:f,name:`purchaseDetails.${W}.productId`,render:({field:J})=>s.jsxs(Wt,{value:J.value,onValueChange:J.onChange,children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select Product"})}),s.jsx(Kt,{children:w.map(ce=>s.jsx(ct,{value:String(ce.id),children:ce.name},ce.id))})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(je,{className:"mb-2",children:"Variant"}),s.jsx($r,{control:f,name:`purchaseDetails.${W}.variantId`,render:({field:J})=>s.jsxs(Wt,{value:J.value,onValueChange:ce=>{J.onChange(ce);const ae=Q.find(ee=>String(ee.id)===ce);ae&&ae.purchasePrice!=null&&p(`purchaseDetails.${W}.purchaseRate`,Number(ae.purchasePrice))},children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select Variant"})}),s.jsx(Kt,{children:Q.map(ce=>s.jsx(ct,{value:String(ce.id),children:ce.name},ce.id))})]})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(je,{className:"mb-2",children:"Quantity"}),s.jsx(Ge,{type:"number",...u(`purchaseDetails.${W}.quantity`,{valueAsNumber:!0})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(je,{className:"mb-2",children:"Rate"}),s.jsx(Ge,{type:"number",step:"0.01",...u(`purchaseDetails.${W}.purchaseRate`,{valueAsNumber:!0})})]}),s.jsxs("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx(je,{className:"mb-2",children:"Total"}),s.jsx("p",{className:"font-medium h-10 flex items-center",children:Ms(P)})]}),s.jsxs(ua,{children:[s.jsx(bh,{asChild:!0,children:s.jsx(pe,{type:"button",size:"icon",variant:"ghost",children:s.jsx(un,{className:"size-4 text-red-500"})})}),s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Remove item?"}),s.jsx(xa,{children:"This will remove the selected line item from the purchase."})]}),s.jsxs(ma,{children:[s.jsx(ya,{children:"Cancel"}),s.jsx(ga,{onClick:()=>G(W),children:"Continue"})]})]})]})]})]},F.id)})}),y.purchaseDetails&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in y.purchaseDetails?y.purchaseDetails.message:null}),s.jsxs("div",{className:"text-right font-semibold mt-4",children:["Grand Total: ",Ms(ie)]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(pe,{type:"submit",disabled:le.isPending,children:"Save Purchase"})})]})};function B5e(){return s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{}),s.jsx(Tt,{children:s.jsx(Wz,{mode:"create"})})]})})}function $5e(){const{id:e}=Xn(),{data:t,isLoading:r,isError:n}=jr({queryKey:["purchase",e],queryFn:()=>ut(`/purchases/${e}`),enabled:!!e});return r?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx(Wr,{className:"animate-spin"})}):n||!t?(he.error("Failed to load purchase"),null):s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{}),s.jsx(Tt,{children:s.jsx(Wz,{mode:"edit",purchaseId:e,initialData:t})})]})})}const U5e=e=>Ur("/api/admin/purchase-payments",e).then(t=>t.data),V5e=e=>ut("/api/admin/purchase-payments",{params:e}).then(t=>t),q5e=e=>ut(`/api/admin/purchase-payments/${e}`).then(t=>t),z5e=e=>Ln(`/api/admin/purchase-payments/${e}`).then(t=>t.data),Gz=(e,t={})=>ut(`/api/admin/vendors/${e}/purchases`,{params:t}).then(r=>r),H5e=()=>{const[e,t]=g.useState(1),r=10,[n,a]=g.useState(""),[i,o]=g.useState(""),l=g.useRef(null),[u,f]=g.useState(null),h=g.useCallback(S=>{o(S.target.value)},[]);l.current&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>a(i),400);const{data:p,isLoading:x,isError:y,refetch:w}=jr({queryKey:["purchase-payments",e,n],queryFn:()=>V5e({page:e,limit:r,search:n}),placeholderData:{payments:[],totalPages:1}}),b=p.payments||[];console.log("Payment is here",b);const N=(p==null?void 0:p.totalPages)||1,j=async()=>{if(u)try{await z5e(u),he.success("Payment deleted"),w(),f(null)}catch(S){he.error(S.message||"Failed to delete payment")}};return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(At,{className:"mb-6",children:[s.jsxs(Dt,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(rr,{className:"text-2xl",children:"Purchase Payments"}),s.jsx(Or,{to:"/admin/purchase-payments/create",children:s.jsxs(pe,{children:[s.jsx(Cn,{className:"mr-2 size-4"})," New Payment"]})})]}),s.jsxs(Tt,{children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx(Ge,{value:i,onChange:h,placeholder:"Search by farmer/mode...",className:"max-w-sm"})}),x&&s.jsx("div",{className:"p-10 text-center",children:"Loading..."}),y&&s.jsx("div",{className:"p-10 text-center",children:"Error loading payments"}),!x&&!y&&s.jsxs(Ls,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(Bs,{className:"bg-gray-100",children:s.jsxs(tr,{children:[s.jsx(Ye,{className:"px-6 py-3",children:"Payment No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Date"}),s.jsx(Ye,{className:"px-6 py-3",children:"Farmer"}),s.jsx(Ye,{className:"px-6 py-3",children:"Mode"}),s.jsx(Ye,{className:"px-6 py-3 text-right",children:"Total"}),s.jsx(Ye,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx($s,{className:"divide-y",children:b&&(b==null?void 0:b.map(S=>{var A;return s.jsxs(tr,{className:"hover:bg-gray-50",children:[s.jsx(Ue,{className:"px-6 py-4",children:S.paymentno}),s.jsx(Ue,{className:"px-6 py-4",children:Lt(new Date(S.paymentDate),"dd/MM/yyyy")}),s.jsx(Ue,{className:"px-6 py-4",children:(A=S.vendor)==null?void 0:A.name}),s.jsx(Ue,{className:"px-6 py-4",children:S.mode}),s.jsx(Ue,{className:"px-6 py-4 text-right",children:Ms(S.totalAmount)}),s.jsxs(Ue,{className:"px-6 py-4",children:[s.jsx(Or,{to:`/admin/purchase-payments/${S.id}`,children:s.jsx(pe,{variant:"ghost",size:"icon",children:s.jsx(_c,{className:"h-4 w-4"})})}),s.jsxs(ua,{children:[s.jsx(bh,{asChild:!0,children:s.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>f(S.id),children:s.jsx(un,{className:"size-4"})})}),s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Delete Payment?"}),s.jsx(xa,{children:"This will permanently delete the payment."})]}),s.jsxs(ma,{children:[s.jsx(ya,{onClick:()=>f(null),children:"Cancel"}),s.jsx(ga,{onClick:j,children:"Delete"})]})]})]})]})]},S.id)}))})]}),N>1&&s.jsx(e0,{className:"mt-6",children:s.jsxs(t0,{children:[s.jsx(r0,{onClick:()=>t(S=>Math.max(1,S-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",N]}),s.jsx(s0,{onClick:()=>t(S=>Math.min(N,S+1))})]})})]})]})})},W5e=ys({paymentDate:Uc({required_error:"Payment date required"}),vendorId:at().min(1,"Vendor is required"),mode:at().min(1,"Payment mode is required"),referenceNo:at().min(1,"Reference no is required"),notes:at().optional(),details:dh(ys({purchaseId:bi(),amount:bi().nonnegative()})).nonempty("Enter at least one purchase payment")}),G5e=["CASH","NEFT","CHEQUE","UPI"],Y5e=({onSuccess:e})=>{const t=gr(),{register:r,handleSubmit:n,setValue:a,watch:i,control:o,formState:{errors:l,isSubmitting:u}}=en({resolver:tn(W5e),defaultValues:{paymentDate:new Date,vendorId:"",mode:"",referenceNo:"",notes:"",details:[]}}),[f,h]=g.useState([]),[p,x]=g.useState([]),y=i("vendorId");g.useEffect(()=>{(async()=>{try{const _=await ut("/vendors"),C=Array.isArray(_==null?void 0:_.data)?_.data:Array.isArray(_)?_:[];console.log("list",C,_),h(C)}catch(_){he.error(_.message||"Failed to load vendors")}})()},[]);const w=i("paymentDate");g.useEffect(()=>{if(!y)return;(async()=>{try{const _=Lt(w,"yyyy-MM-dd"),k=await Gz(parseInt(y),{startDate:_,endDate:_})||[];x(k),console.log("purchases",k),a("details",k.map(T=>({purchaseId:T.id,amount:T.outstanding??0})))}catch(_){he.error(_.message||"Failed to load purchases")}})()},[y,w,a]);const b=i("details"),N=g.useMemo(()=>b==null?void 0:b.reduce((A,_)=>A+(_.amount||0),0),[b]),j=async A=>{if(N<=0){he.error("Enter at least one payment amount");return}for(const _ of A.details){const C=p.find(k=>k.id===_.purchaseId);if(C&&_.amount>(C.outstanding??0)){he.error(`Amount for purchase ${C.purchaseNo} exceeds outstanding balance`);return}}try{const _={paymentDate:Lt(A.paymentDate,"yyyy-MM-dd"),vendorId:parseInt(A.vendorId),mode:A.mode,referenceNo:A.referenceNo||void 0,notes:A.notes||void 0,totalAmount:N,details:A.details.filter(C=>C.amount>0)};await U5e(_),he.success("Payment recorded"),e==null||e(),t("/admin/purchase-payments")}catch(_){he.error(_.message||"Failed to create payment")}},S=(A,_)=>{var O;const C=((O=p[A])==null?void 0:O.outstanding)??0;let k=_;_>C&&(he.warning("Amount exceeds outstanding balance"),k=C);const T=[...b];T[A].amount=isNaN(k)?0:k,a("details",T)};return s.jsxs("form",{onSubmit:n(j),className:"space-y-6 max-w-7xl m-auto mt-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6 max-w-7xl",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Details"}),s.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[s.jsx($r,{control:o,name:"paymentDate",render:({field:A})=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Payment Date"}),s.jsxs(td,{children:[s.jsx(rd,{asChild:!0,children:s.jsxs(pe,{type:"button",variant:"outline",className:"w-full justify-start",children:[s.jsx(Qn,{className:"mr-2 h-4 w-4"}),Lt(A.value??new Date,"dd/MM/yyyy")]})}),s.jsx(sd,{className:"p-0",align:"start",children:s.jsx(nd,{mode:"single",selected:A.value,onSelect:_=>A.onChange(_),initialFocus:!0})})]}),l.paymentDate&&s.jsx("p",{className:"text-xs text-red-500",children:l.paymentDate.message})]})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Farmer"}),s.jsxs(Wt,{value:y,onValueChange:A=>a("vendorId",A),children:[s.jsx(Yt,{children:s.jsx(Gt,{placeholder:"Select farmer"})}),s.jsx(Kt,{children:f.map(A=>s.jsx(ct,{value:A.id.toString(),children:A.name},A.id))})]}),l.vendorId&&s.jsx("p",{className:"text-xs text-red-500",children:l.vendorId.message})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Purchases"}),p.length>0?s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left",children:"Purchase No"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Invoice No"}),s.jsx("th",{className:"px-4 py-2 text-center",children:"Purchase Date"}),s.jsx("th",{className:"px-4 py-2 text-center",children:"Invoice Date"}),s.jsx("th",{className:"px-4 py-2 text-right",children:"Amount"}),s.jsx("th",{className:"px-4 py-2 text-right",children:"Pay Amount"})]})}),s.jsx("tbody",{children:p.map((A,_)=>{var C;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2",children:A.purchaseNo}),s.jsx("td",{className:"px-4 py-2",children:A.invoiceNo}),s.jsx("td",{className:"px-4 py-2 text-center",children:Lt(new Date(A.purchaseDate),"dd/MM/yyyy")}),s.jsx("td",{className:"px-4 py-2 text-center",children:Lt(new Date(A.invoiceDate),"dd/MM/yyyy")}),s.jsx("td",{className:"px-4 py-2 text-right",children:(A.totalAmount??0).toFixed(2)}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("div",{className:"flex justify-end",children:s.jsx(Ge,{type:"number",step:"0.01",value:((C=b[_])==null?void 0:C.amount)||0,onChange:k=>S(_,parseFloat(k.target.value)),className:"w-32 text-right px-2 py-1 border rounded"})})})]},A.id)})})]})}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No purchases found"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Summary"}),s.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Mode"}),s.jsxs(Wt,{value:i("mode"),onValueChange:A=>a("mode",A),children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select mode"})}),s.jsx(Kt,{children:G5e.map(A=>s.jsx(ct,{value:A,children:A},A))})]}),l.mode&&s.jsx("p",{className:"text-xs text-red-500",children:l.mode.message})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Reference No"}),s.jsx(Ge,{...r("referenceNo")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Notes"}),s.jsx(Ge,{...r("notes")})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>t(-1),disabled:u,children:"Cancel"}),s.jsxs(pe,{type:"submit",disabled:u,className:"gap-2",children:[u?s.jsx(Wr,{className:"h-4 w-4 animate-spin"}):s.jsx(Hs,{className:"h-4 w-4"}),u?"Saving...":"Save Payment"]})]})]})},K5e=()=>{var p;const{id:e}=Xn(),{data:t,isLoading:r,isError:n}=jr({queryKey:["purchase-payment",e],queryFn:()=>q5e(Number(e)),enabled:!!e}),a=t==null?void 0:t.vendor.id,{data:i=[],isLoading:o}=jr({queryKey:["vendor-payments",a],enabled:!!a,queryFn:async()=>{const x=await ut("/api/admin/purchase-payments",{vendorId:a,limit:1e3});return Array.isArray(x)?x:(x==null?void 0:x.payments)||[]}}),{data:l=[],isLoading:u}=jr({queryKey:["vendor-purchases",a],enabled:!!a,queryFn:()=>Gz(a)});(()=>{if(!a||o||u)return null;const x=i.reduce((b,N)=>b+parseFloat(N.totalAmount||"0"),0),y=i.reduce((b,N)=>{const j=new Date(N.paymentDate);return!b||j>b?j:b},null),w=l.reduce((b,N)=>{let j=0;N.totalAmt?j=parseFloat(N.totalAmt):Array.isArray(N.details)&&(j=N.details.reduce((A,_)=>A+parseFloat(_.purchaseRate||_.rate||"0")*(_.quantity||1),0));const S=parseFloat(N.paidAmt||"0");return b+Math.max(j-S,0)},0);return{totalPaid:x,lastPaymentDate:y,outstanding:w}})();const f=x=>x?x.totalAmt?parseFloat(x.totalAmt):Array.isArray(x.details)?x.details.reduce((y,w)=>y+parseFloat(w.purchaseRate||w.rate||"0")*(w.quantity||1),0):0:0;if(r)return s.jsx(Q5e,{});if(n||!t)return s.jsx("div",{className:"container mx-auto p-6 text-destructive",children:"Error fetching payment details or payment not found."});const h=(()=>{if(Array.isArray(t.details)&&t.details.length>0){const x=t.details.reduce((y,w)=>{const b=w.purchase;return b&&b.paidAmt!==void 0&&b.paidAmt!==null?y+Number(b.paidAmt):y},0);if(x>0)return x}return parseFloat(t.totalAmount??"0")})();return s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Payment Details"})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsxs(At,{className:"lg:col-span-2",children:[s.jsx(Dt,{className:"bg-muted/50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(Dc,{className:"h-6 w-6 text-primary"}),t.paymentno]}),s.jsx(yi,{className:"mt-2",children:"Payment Information"})]}),s.jsx(Fr,{className:"text-sm px-3 py-1",children:t.mode})]})}),s.jsxs(Tt,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(ew,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),s.jsx("p",{className:"font-medium",children:t.vendor.name})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(jE,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment Date"}),s.jsx("p",{className:"font-medium",children:Lt(new Date(t.paymentDate),"dd/MM/yyyy")})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(DQ,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsx("p",{className:"font-medium text-xl",children:Ms(h)})]})]}),t.referenceNo&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(CI,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reference No"}),s.jsx("p",{className:"font-medium",children:t.referenceNo})]})]})]})]}),t.notes&&s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(_I,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Notes"}),s.jsx("p",{className:"text-sm bg-muted/30 rounded-lg p-4",children:t.notes})]})]})})]})]})}),s.jsxs(At,{className:"mt-6",children:[s.jsxs(Dt,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(an,{className:"h-5 w-5"}),"Invoices"]}),s.jsx(yi,{children:"Applied to purchase invoices"})]}),s.jsx(Tt,{children:s.jsxs(Ls,{children:[s.jsx(Bs,{className:"bg-muted/50",children:s.jsxs(tr,{children:[s.jsx(Ye,{children:"Invoice No"}),s.jsx(Ye,{children:"Invoice Date"}),s.jsx(Ye,{children:"Purchase No"}),s.jsx(Ye,{className:"text-right",children:"Invoice Amount"}),s.jsx(Ye,{className:"text-right",children:"Amount Paid"})]})}),s.jsx($s,{children:(p=t==null?void 0:t.details)==null?void 0:p.map(x=>{const y=l.find(N=>N.id===x.purchase.id),w=f(y||x.purchase),b=parseFloat(x.amount??"0");return s.jsxs(tr,{className:"hover:bg-muted/30",children:[s.jsx(Ue,{className:"font-medium",children:x.purchase.invoiceNo||x.purchase.purchaseNo}),s.jsx(Ue,{children:Lt(new Date(x.purchase.invoiceDate||x.purchase.purchaseDate),"dd/MM/yyyy")}),s.jsx(Ue,{children:x.purchase.purchaseNo}),s.jsx(Ue,{className:"text-right",children:Ms(w)}),s.jsx(Ue,{className:"text-right font-medium",children:Ms(b)})]},x.id)})}),s.jsx(Nde,{className:"bg-muted/30",children:s.jsxs(tr,{className:"w-full justify-center",children:[s.jsx(Ue,{colSpan:3,className:"text-center font-medium",children:"Total"}),s.jsx(Ue,{className:"text-center font-bold",children:Ms(parseFloat(t.totalAmount??"0"))}),s.jsx(Ue,{})]})})]})})]})]})},Q5e=()=>s.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx(Ct,{className:"h-8 w-64"}),s.jsx(Ct,{className:"h-6 w-32"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(At,{className:"lg:col-span-2",children:[s.jsxs(Dt,{className:"bg-muted/50",children:[s.jsx(Ct,{className:"h-6 w-3/4"}),s.jsx(Ct,{className:"h-4 w-1/2 mt-2"})]}),s.jsx(Tt,{className:"pt-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(4)].map((e,t)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ct,{className:"h-4 w-1/3"}),s.jsx(Ct,{className:"h-6 w-full"})]},t))})})]}),s.jsxs(At,{children:[s.jsx(Dt,{children:s.jsx(Ct,{className:"h-6 w-2/3"})}),s.jsx(Tt,{children:[...Array(3)].map((e,t)=>s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx(Ct,{className:"h-4 w-1/2"}),s.jsx(Ct,{className:"h-5 w-3/4"})]},t))})]})]}),s.jsxs(At,{className:"mt-6",children:[s.jsxs(Dt,{children:[s.jsx(Ct,{className:"h-6 w-1/4"}),s.jsx(Ct,{className:"h-4 w-1/3 mt-2"})]}),s.jsx(Tt,{children:s.jsx(Ct,{className:"h-64 w-full"})})]})]}),X5e=()=>{const[e,t]=g.useState(1),r=10,[n,a]=g.useState(""),[i,o]=g.useState(""),l=g.useRef(null),[u,f]=g.useState(null),h=g.useCallback(_=>{a(_.target.value)},[]);g.useEffect(()=>(l.current&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>o(n),400),()=>{l.current&&window.clearTimeout(l.current)}),[n]);const{data:p,isLoading:x,isError:y,refetch:w}=jr({queryKey:["transfers",e,i],queryFn:async()=>{let _=`/transfers?page=${e}&pageSize=${r}`;return i&&(_+=`&searchTerm=${i}`),ut(_)}}),b=(p==null?void 0:p.data)||[],N=(p==null?void 0:p.totalPages)||1,j=()=>{a(""),o(""),t(1)},S=_=>_.reduce((C,k)=>C+(k.quantity||0),0),A=async()=>{if(u)try{await Ln(`/transfers/${u}`),he.success("Transfer deleted successfully"),w(),f(null)}catch(_){he.error(_.message||"Failed to delete transfer")}};return x?s.jsx("div",{className:"p-10 text-center",children:"Loading transfers..."}):y?s.jsx("div",{className:"p-10 text-center",children:"Error loading transfers"}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(At,{className:"mb-6",children:[s.jsxs(Dt,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(rr,{className:"text-2xl",children:"Transfer Management"}),s.jsx(Or,{to:"/admin/transfers/create",children:s.jsxs(pe,{children:[s.jsx(Cn,{className:"mr-2 size-4"})," New Transfer"]})})]}),s.jsxs(Tt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsx(Ge,{placeholder:"Search by TFR no, from/to depot...",value:n,onChange:h}),s.jsx(pe,{onClick:j,variant:"outline",children:"Clear Filters"})]}),b.length===0?s.jsx("div",{className:"py-10 text-center",children:"No transfers found."}):s.jsxs(Ls,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(Bs,{className:"bg-gray-100",children:s.jsxs(tr,{children:[s.jsx(Ye,{className:"px-6 py-3",children:"Transfer No"}),s.jsx(Ye,{className:"px-6 py-3",children:"Date"}),s.jsx(Ye,{className:"px-6 py-3",children:"From Depot"}),s.jsx(Ye,{className:"px-6 py-3",children:"To Depot"}),s.jsx(Ye,{className:"px-6 py-3 text-right",children:"Total Qty"}),s.jsx(Ye,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx($s,{className:"divide-y",children:b.map(_=>s.jsxs(tr,{className:"hover:bg-gray-50",children:[s.jsx(Ue,{className:"px-6 py-4 font-medium",children:_.transferNo}),s.jsx(Ue,{className:"px-6 py-4",children:Lt(new Date(_.transferDate),"dd/MM/yyyy")}),s.jsx(Ue,{className:"px-6 py-4",children:_.fromDepot.name}),s.jsx(Ue,{className:"px-6 py-4",children:_.toDepot.name}),s.jsx(Ue,{className:"px-6 py-4 text-right",children:S(_.details)}),s.jsxs(Ue,{className:"px-6 py-4 space-x-2",children:[s.jsx(Or,{to:`/admin/transfers/edit/${_.id}`,children:s.jsx(pe,{size:"icon",variant:"ghost",children:s.jsx(CC,{className:"size-4"})})}),s.jsxs(ua,{children:[s.jsx(bh,{asChild:!0,children:s.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>f(_.id),children:s.jsx(un,{className:"size-4"})})}),s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Are you sure?"}),s.jsx(xa,{children:"This action cannot be undone. This will permanently delete the transfer and remove its data from our servers."})]}),s.jsxs(ma,{children:[s.jsx(ya,{onClick:()=>f(null),children:"Cancel"}),s.jsx(ga,{onClick:A,children:"Continue"})]})]})]})]})]},_.id))})]}),N>1&&s.jsx(e0,{className:"mt-6",children:s.jsxs(t0,{children:[s.jsx(r0,{onClick:()=>t(_=>Math.max(1,_-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",N]}),s.jsx(s0,{onClick:()=>t(_=>Math.min(N,_+1))})]})})]})]})})},Yz=e=>ys({transferDate:Uc(),fromDepotId:e?at().optional():at().min(1,"Origin depot is required"),toDepotId:at().min(1,"Destination depot is required"),notes:at().optional(),details:dh(ys({fromDepotVariantId:at().min(1,"Source variant is required"),toDepotVariantId:at().min(1,"Destination variant is required"),quantity:bi().min(1,"Quantity must be at least 1")})).min(1,"Add at least one line item")}).refine(t=>t.fromDepotId!==t.toDepotId,{message:"Origin and destination depots cannot be the same",path:["toDepotId"]});Yz(!0);function B6(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function $6(e){return!!e&&!isNaN(e.getTime())}function Z5e({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=g.useState(!1),[l,u]=g.useState(e),[f,h]=g.useState(B6(e));return g.useEffect(()=>{h(B6(e)),$6(e)&&u(e)},[e]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(je,{htmlFor:n,children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(Ge,{id:n,value:f,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:p=>{const x=p.target.value;h(x);const y=new Date(x);$6(y)?(t(y),u(y)):t(void 0)}}),s.jsxs(td,{open:i,onOpenChange:o,children:[s.jsx(rd,{asChild:!0,children:s.jsx(pe,{variant:"ghost",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8",children:s.jsx(Qn,{className:"size-4"})})}),s.jsx(sd,{className:"w-auto p-0",children:s.jsx(nd,{mode:"single",selected:e,onSelect:p=>{t(p),o(!1)},initialFocus:!0,month:l,onMonthChange:u,fromDate:a})})]})]})]})}const Kz=({mode:e,transferId:t,initialData:r,onSuccess:n})=>{var F;const a=_n(),i=gr(),o=localStorage.getItem("user"),l=o?JSON.parse(o):null,u=((F=l==null?void 0:l.role)==null?void 0:F.toLowerCase().includes("depot"))??!1,f=l!=null&&l.depotId?String(l.depotId):"",[h,p]=g.useState([]),[x,y]=g.useState([]),[w,b]=g.useState([]),{control:N,handleSubmit:j,register:S,watch:A,setValue:_,formState:{errors:C}}=en({resolver:tn(Yz(u)),defaultValues:{transferDate:new Date,details:[{fromDepotVariantId:"",toDepotVariantId:"",quantity:1}],...r,fromDepotId:u?f:(r==null?void 0:r.fromDepotId)||""}}),{fields:k,append:T,remove:O}=gy({control:N,name:"details"}),R=A("fromDepotId"),L=A("toDepotId"),M=h.filter(W=>String(W.id)!==R);g.useEffect(()=>{R&&R===L&&_("toDepotId","")},[R,L,_]),g.useEffect(()=>{(async()=>{try{const q=await ut("/depots");p(q.data||[])}catch(q){console.error("Failed to fetch depots",q),he.error("Failed to load depots.")}})()},[]),g.useEffect(()=>{if(!R){y([]),k.forEach((q,Q)=>{_(`details.${Q}.fromDepotVariantId`,""),_(`details.${Q}.toDepotVariantId`,"")});return}(async()=>{try{const Q=((await ut(`/depot-product-variants?depotId=${R}&include=product,stock`)).data||[]).map(P=>({id:P.id,name:P.name,productId:P.productId,productName:P.product?P.product.name:"N/A",closingStock:P.closingQty??0}));y(Q)}catch(q){console.error("Failed to fetch source variants",q),he.error("Failed to load variants for the source depot."),y([])}})()},[R]),g.useEffect(()=>{if(!L){b([]),k.forEach((q,Q)=>{_(`details.${Q}.toDepotVariantId`,"")});return}(async()=>{var q;try{const Q=await ut(`/depot-product-variants?depotId=${L}&include=product,stock`),P=Array.isArray(Q.data)?Q.data:((q=Q.data)==null?void 0:q.data)||[],X=P==null?void 0:P.map(K=>({id:K.id,name:K.name,productId:K.productId,productName:K.product?K.product.name:"N/A",closingStock:K.closingQty??0}));b(X)}catch(Q){console.error("Failed to fetch destination variants",Q),he.error("Failed to load variants for the destination depot."),b([])}})()},[L]);const G=W=>W?`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`:void 0,B=Rr({mutationFn:W=>{const q=e==="edit"?`/transfers/${t}`:"/transfers";return(e==="edit"?Js:Ur)(q,{...W,fromDepotId:u?f:W.fromDepotId,transferDate:G(W.transferDate),details:W.details.map(P=>({...P,fromDepotVariantId:Number(P.fromDepotVariantId),toDepotVariantId:Number(P.toDepotVariantId),quantity:Number(P.quantity)}))})},onSuccess:()=>{a.invalidateQueries({queryKey:["transfers"]}),he.success(`Transfer ${e==="edit"?"updated":"created"} successfully.`),n&&n(),i("/admin/transfers")},onError:W=>{var q,Q;he.error(((Q=(q=W.response)==null?void 0:q.data)==null?void 0:Q.message)||"An error occurred.")}}),U=W=>{for(const q of W.details){const Q=x.find(P=>String(P.id)===q.fromDepotVariantId);if(Q&&q.quantity>Q.closingStock){he.error(`Quantity for ${Q.productName} - ${Q.name} exceeds available stock.`);return}}B.mutate(W)};return s.jsxs("form",{onSubmit:j(U),className:"space-y-6",children:[s.jsxs(At,{children:[s.jsx(Dt,{children:s.jsx(rr,{children:"General Information"})}),s.jsxs(Tt,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx($r,{control:N,name:"transferDate",render:({field:W})=>s.jsx(Z5e,{value:W.value,onChange:W.onChange,label:"Transfer Date",id:"transferDate"})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(je,{children:"From Depot"}),s.jsx($r,{control:N,name:"fromDepotId",render:({field:W})=>s.jsxs(Wt,{value:W.value,onValueChange:W.onChange,disabled:u,children:[s.jsx(Yt,{children:s.jsx(Gt,{placeholder:"Select Origin Depot"})}),s.jsx(Kt,{children:h.map(q=>s.jsx(ct,{value:String(q.id),children:q.name},q.id))})]})}),C.fromDepotId&&s.jsx("p",{className:"text-sm text-red-600",children:C.fromDepotId.message})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(je,{children:"To Depot"}),s.jsx($r,{control:N,name:"toDepotId",render:({field:W})=>s.jsxs(Wt,{value:W.value,onValueChange:W.onChange,children:[s.jsx(Yt,{children:s.jsx(Gt,{placeholder:"Select Destination Depot"})}),s.jsx(Kt,{children:M.map(q=>s.jsx(ct,{value:String(q.id),children:q.name},q.id))})]})}),C.toDepotId&&s.jsx("p",{className:"text-sm text-red-600",children:C.toDepotId.message})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:col-span-2",children:[s.jsx(je,{htmlFor:"notes",children:"Notes"}),s.jsx(eh,{id:"notes",...S("notes")})]})]})]}),s.jsxs(At,{children:[s.jsxs(Dt,{className:"flex-row items-center justify-between",children:[s.jsx(rr,{children:"Items"}),s.jsxs(pe,{type:"button",variant:"outline",size:"sm",onClick:()=>T({fromDepotVariantId:"",toDepotVariantId:"",quantity:1}),children:[s.jsx(Cn,{className:"size-4 mr-2"})," Add Item"]})]}),s.jsxs(Tt,{children:[s.jsx("div",{className:"space-y-4",children:k.map((W,q)=>{const Q=A(`details.${q}.fromDepotVariantId`),P=x.find(K=>String(K.id)===Q),X=P?w.filter(K=>K.productId===P.productId):[];return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 border p-4 rounded-md",children:[s.jsxs("div",{className:"md:col-span-5",children:[s.jsx(je,{className:"mb-2",children:"Source Variant"}),s.jsx($r,{control:N,name:`details.${q}.fromDepotVariantId`,render:({field:K})=>s.jsxs(Wt,{value:K.value,onValueChange:K.onChange,children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select Source Variant"})}),s.jsx(Kt,{children:x.map(H=>s.jsx(ct,{value:String(H.id),children:`${H.productName} - ${H.name} (Stock: ${H.closingStock})`},H.id))})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(je,{className:"mb-2",children:"Destination Variant"}),s.jsx($r,{control:N,name:`details.${q}.toDepotVariantId`,render:({field:K})=>s.jsxs(Wt,{value:K.value,onValueChange:K.onChange,disabled:!P,children:[s.jsx(Yt,{className:"w-full",children:s.jsx(Gt,{placeholder:"Select Destination Variant"})}),s.jsx(Kt,{children:X.map(H=>s.jsx(ct,{value:String(H.id),children:`${H.productName} - ${H.name} (Stock: ${H.closingStock})`},H.id))})]})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(je,{className:"mb-2",children:"Quantity"}),s.jsx(Ge,{type:"number",...S(`details.${q}.quantity`,{valueAsNumber:!0})})]}),s.jsx("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:s.jsxs(ua,{children:[s.jsx(bh,{asChild:!0,children:s.jsx(pe,{type:"button",size:"icon",variant:"ghost",children:s.jsx(un,{className:"size-4 text-red-500"})})}),s.jsxs(fa,{children:[s.jsxs(ha,{children:[s.jsx(pa,{children:"Remove item?"}),s.jsx(xa,{children:"This will remove the selected line item from the transfer."})]}),s.jsxs(ma,{children:[s.jsx(ya,{children:"Cancel"}),s.jsx(ga,{onClick:()=>O(q),children:"Continue"})]})]})]})})]},W.id)})}),C.details&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in C.details?C.details.message:null})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(pe,{type:"submit",disabled:B.isPending,children:"Save Transfer"})})]})};function J5e(){return s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{}),s.jsx(Tt,{children:s.jsx(Kz,{mode:"create"})})]})})}function eRe(e){return e?{transferNo:e.transferNo,transferDate:e.transferDate?new Date(e.transferDate):void 0,fromDepotId:String(e.fromDepotId),toDepotId:String(e.toDepotId),notes:e.notes||"",details:(e.details||[]).map(t=>({fromDepotVariantId:String(t.fromDepotVariantId),toDepotVariantId:String(t.toDepotVariantId),quantity:t.quantity}))}:{}}function tRe(){const{id:e}=Xn(),{data:t,isLoading:r,isError:n}=jr({queryKey:["transfer",e],queryFn:()=>ut(`/transfers/${e}`),enabled:!!e});return r?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx(Wr,{className:"animate-spin"})}):n||!t?(he.error("Failed to load transfer"),null):s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(At,{children:[s.jsx(Dt,{}),s.jsx(Tt,{children:e&&s.jsx(Kz,{mode:"edit",transferId:e,initialData:eRe(t.data)})})]})})}const rRe=()=>{const[e,t]=g.useState(new Date),{data:r,isLoading:n,error:a}=jr({queryKey:["depotOrderDetails",e],queryFn:async()=>{if(!e)return[];const o=Lt(e,"yyyy-MM-dd");return(await Ws.get(`/api/vendor-orders/details?date=${o}`)).data},enabled:!!e}),i=(r==null?void 0:r.reduce((o,l)=>{const{depotName:u}=l;return o[u]||(o[u]=[]),o[u].push(l),o},{}))??{};return s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs(At,{children:[s.jsx(Dt,{children:s.jsx(rr,{children:"Depot Order Details by Date"})}),s.jsxs(Tt,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs(td,{children:[s.jsx(rd,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:"w-[280px] justify-start text-left font-normal",children:[s.jsx(Qn,{className:"mr-2 h-4 w-4"}),e?Lt(e,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(sd,{className:"w-auto p-0",children:s.jsx(nd,{mode:"single",selected:e,onSelect:t,initialFocus:!0})})]})}),n&&s.jsx("p",{children:"Loading..."}),a&&s.jsxs("p",{children:["Error fetching data: ",a.message]}),Object.entries(i).map(([o,l])=>s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:o}),s.jsxs(Ls,{children:[s.jsx(Bs,{children:s.jsxs(tr,{children:[s.jsx(Ye,{children:"Product"}),s.jsx(Ye,{children:"Variant"}),s.jsx(Ye,{children:"Effective Price"}),s.jsx(Ye,{children:"Total Quantity"})]})}),s.jsx($s,{children:l.map(u=>s.jsxs(tr,{children:[s.jsx(Ue,{children:u.productName}),s.jsx(Ue,{children:u.variantName}),s.jsx(Ue,{children:u.effectivePrice!==null?u.effectivePrice:"N/A"}),s.jsx(Ue,{children:u.totalQuantity})]},u.depotVariantId))})]})]},o))]})]})})},sRe=()=>(g.useEffect(()=>{document.title=Kx},[]),s.jsxs(xK,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:[s.jsx(yK,{}),s.jsx(sse,{richColors:!0,position:"top-center"}),s.jsx(KY,{children:s.jsxs(SY,{children:[s.jsx(vt,{path:"/",element:s.jsx(VP,{}),children:s.jsx(vt,{path:"products/:id",element:s.jsx(BAe,{})})}),s.jsxs(vt,{element:s.jsx(vK,{}),children:[s.jsx(vt,{path:"/admin",element:s.jsx(iR,{})}),s.jsx(vt,{path:"/admin/register",element:s.jsx(oR,{})})," ",s.jsx(vt,{path:"/forgot-password",element:s.jsx(gme,{})}),s.jsx(vt,{path:"/reset-password/:token",element:s.jsx(vme,{})})]}),s.jsxs(vt,{element:s.jsx(eA,{}),children:[s.jsx(vt,{path:"/",element:s.jsx(VP,{})}),s.jsx(vt,{path:"/login",element:s.jsx(iR,{})}),s.jsx(vt,{path:"/about",element:s.jsx(Mbe,{})}),s.jsx(vt,{path:"/bharwadcow",element:s.jsx(Fbe,{})}),s.jsx(vt,{path:"/contact",element:s.jsx(Lbe,{})}),s.jsx(vt,{path:"/gratitude",element:s.jsx(Bbe,{})}),s.jsx(vt,{path:"/privacy-policy",element:s.jsx($be,{})}),s.jsx(vt,{path:"/refund-policy",element:s.jsx(Ube,{})}),s.jsx(vt,{path:"/shipping-policy",element:s.jsx(Vbe,{})}),s.jsx(vt,{path:"/terms-and-conditions",element:s.jsx(qbe,{})}),s.jsx(vt,{path:"/register",element:s.jsx(oR,{})})]}),s.jsxs(vt,{element:s.jsx(Voe,{children:s.jsx(y5,{})}),children:[s.jsx(vt,{path:"/admin/dashboard",element:s.jsxs("div",{className:"space-y-4 ml-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),s.jsx("p",{children:"Welcome to your dashboard. Here you can manage orders."})]})}),s.jsx(vt,{path:"/admin/users",element:s.jsx(g0e,{})}),s.jsx(vt,{path:"/admin/variantstock",element:s.jsx(mme,{})}),s.jsx(vt,{path:"/admin/users/create",element:s.jsx(Nb,{mode:"create"})}),s.jsx(vt,{path:"/admin/users/edit/:id",element:s.jsx(Nb,{mode:"edit"})}),s.jsx(vt,{path:"/admin/vendors",element:s.jsx(j0e,{})}),s.jsx(vt,{path:"/admin/wastages",element:s.jsx(Ife,{})}),s.jsx(vt,{path:"/admin/wastages/create",element:s.jsx(dme,{})}),s.jsx(vt,{path:"/admin/wastages/edit/:id",element:s.jsx(ume,{})}),s.jsx(vt,{path:"/admin/transfers",element:s.jsx(X5e,{})}),s.jsx(vt,{path:"/admin/transfers/create",element:s.jsx(J5e,{})}),s.jsx(vt,{path:"/admin/transfers/edit/:id",element:s.jsx(tRe,{})}),s.jsx(vt,{path:"/admin/vendors/create",element:s.jsx(U0e,{})}),s.jsx(vt,{path:"/admin/vendors/edit/:id",element:s.jsx(q0e,{})}),s.jsx(vt,{path:"/admin/agencies",element:s.jsx(C0e,{})}),s.jsx(vt,{path:"/admin/agencies/create",element:s.jsx(G0e,{})}),s.jsx(vt,{path:"/admin/agencies/edit/:id",element:s.jsx(Y0e,{})}),s.jsx(vt,{path:"/admin/supervisors",element:s.jsx(D0e,{})}),s.jsx(vt,{path:"/admin/supervisors/create",element:s.jsx(Z0e,{})}),s.jsx(vt,{path:"/admin/supervisors/edit/:id",element:s.jsx(J0e,{})}),s.jsx(vt,{path:"/admin/orders",element:s.jsx(NR,{})}),s.jsx(vt,{path:"/admin/orders/create",element:s.jsx(rxe,{})}),s.jsx(vt,{path:"/admin/orders/:id",element:s.jsx(bS,{})}),s.jsx(vt,{path:"/admin/orders/:id/edit",element:s.jsx(sxe,{})}),s.jsx(vt,{path:"/admin/orders/:id/record-receipt",element:s.jsx(fxe,{})})," ",s.jsx(vt,{path:"/admin/orders/:id/supervisor-quantity",element:s.jsx(hxe,{})})," ",s.jsx(vt,{path:"/admin/purchases",element:s.jsx(F5e,{})}),s.jsx(vt,{path:"/admin/purchases/create",element:s.jsx(B5e,{})}),s.jsx(vt,{path:"/admin/purchases/edit/:id",element:s.jsx($5e,{})}),s.jsx(vt,{path:"/admin/purchase-payments",element:s.jsx(H5e,{})}),s.jsx(vt,{path:"/admin/purchase-payments/create",element:s.jsx(Y5e,{})}),s.jsx(vt,{path:"/admin/purchase-payments/:id",element:s.jsx(K5e,{})}),s.jsx(vt,{path:"/admin/products",element:s.jsx(pxe,{})}),s.jsx(vt,{path:"/admin/wallet",element:s.jsx(zOe,{})}),s.jsx(vt,{path:"/admin/members",element:s.jsx(WOe,{})})," ",s.jsx(vt,{path:"/admin/members/:memberId/edit",element:s.jsx(v0e,{})})," ",s.jsx(vt,{path:"/admin/products/create",element:s.jsx(FAe,{})}),s.jsx(vt,{path:"/admin/products/edit/:id",element:s.jsx(LAe,{})}),s.jsx(vt,{path:"/admin/products/:id",element:s.jsx(Tg,{})})," ",s.jsx(vt,{path:"/admin/subscriptions",element:s.jsx(ZAe,{})}),s.jsx(vt,{path:"/depot-order-details",element:s.jsx(rRe,{})})," ",s.jsx(vt,{path:"/admin/delivery",element:s.jsx(qOe,{})})," ",s.jsx(vt,{path:"/admin/categories",element:s.jsx(s5e,{})})," ",s.jsx(vt,{path:"/admin/cities",element:s.jsx(i5e,{})}),s.jsx(vt,{path:"/admin/locations",element:s.jsx(m5e,{})}),s.jsx(vt,{path:"/admin/areamasters",element:s.jsx(YOe,{})})," ",s.jsx(vt,{path:"/admin/depots",element:s.jsx(g5e,{})})," ",s.jsx(vt,{path:"/admin/teams",element:s.jsx(T5e,{})})," ",s.jsx(vt,{path:"/admin/banners",element:s.jsx(R5e,{})})," ",s.jsx(vt,{path:"/admin/depot-variants",element:s.jsx(E5e,{})})," "]}),s.jsxs(vt,{element:s.jsx(y5,{}),children:[s.jsx(vt,{path:"/vendor/orders/:id",element:s.jsx(bS,{})}),s.jsx(vt,{path:"/vendor/orders/:id/record-delivery",element:s.jsx(nxe,{})})]}),s.jsxs(vt,{element:s.jsx(eA,{}),children:[s.jsx(vt,{path:"/member/orders",element:s.jsx(NR,{})}),s.jsx(vt,{path:"/member/orders/:id",element:s.jsx(bS,{})}),s.jsx(vt,{path:"/member/products",element:s.jsx(VAe,{})})," ",s.jsx(vt,{path:"/member/products/:id",element:s.jsx(Tg,{})})," ",s.jsx(vt,{path:"/member/profile",element:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Profile Management"}),s.jsx("p",{children:"Manage your personal information and preferences here."})]})}),s.jsx(vt,{path:"/member/addresses",element:s.jsx(zAe,{})}),s.jsx(vt,{path:"/member/wallet",element:s.jsx(I5e,{})}),s.jsx(vt,{path:"/member/addresses/create",element:s.jsx(WAe,{})}),s.jsx(vt,{path:"/member/addresses/edit/:id",element:s.jsx(GAe,{})}),s.jsx(vt,{path:"/member/subscriptions",element:s.jsx(oxe,{})}),s.jsx(vt,{path:"/manage-subscription/:id",element:s.jsx(uxe,{})})]})]})})]})),nRe=new mC;JW.createRoot(document.getElementById("root")).render(s.jsx(g.StrictMode,{children:s.jsx(vG,{client:nRe,children:s.jsx(sRe,{})})}))});export default aRe();
