import{R as _,j as e,r as p,L as X,c as ne,S as ie,X as oe,C as le,M as ce,P as de,B as J,d as me,b as ue,I as pe}from"./index-CbLoiRZv.js";import{u as he,a as xe,H as ge,p as Y,F as fe}from"./Footer-Cb69ot-i.js";const ye=()=>{const m=[{title:"Fresh groceries, delivered to your door",description:"Handpicked fruits, crisp vegetables, dairy, and daily essentials. Fast delivery, great prices, and quality you can trust.",primaryLabel:"Shop now",primaryHref:"#products",secondaryLabel:"View deals",secondaryHref:"#deals",image:"https://images.unsplash.com/photo-1542838132-92c53300491e?q=80&w=1200&auto=format&fit=crop",alt:"Fresh produce assortment including fruits and vegetables",badge:"Up to 30% off today"},{title:"Daily essentials, right when you need them",description:"Milk, bread, eggs, snacks, and more — delivered fast with freshness guaranteed.",primaryLabel:"Browse essentials",primaryHref:"#essentials",secondaryLabel:"Today’s offers",secondaryHref:"#offers",image:"https://images.unsplash.com/photo-1506806732259-39c2d0268443?q=80&w=1200&auto=format&fit=crop",alt:"Assorted vegetables and herbs on a table",badge:"Fresh arrivals daily",imageOnly:!0},{title:"Quality you can trust",description:"Locally sourced produce and top brands — curated for your kitchen.",primaryLabel:"Explore categories",primaryHref:"#categories",secondaryLabel:"Best sellers",secondaryHref:"#bestsellers",image:"https://images.unsplash.com/photo-1511690656952-34342bb7c2f2?q=80&w=1200&auto=format&fit=crop",alt:"Grocery basket with assorted products",badge:"Top picks this week",imageOnly:!0}],[j,v]=_.useState(0),g=_.useRef(null),P=()=>{typeof window<"u"&&g.current!==null&&(window.clearInterval(g.current),g.current=null)},w=()=>{typeof window>"u"||(P(),g.current=window.setInterval(()=>{v(l=>(l+1)%m.length)},5e3))};_.useEffect(()=>(w(),P),[]);const $=()=>v(l=>(l-1+m.length)%m.length),N=()=>v(l=>(l+1)%m.length);return e.jsx("section",{className:"relative bg-gradient-to-br from-green-600 via-green-500 to-emerald-500 text-white",children:e.jsx("div",{className:"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] p-0",children:e.jsxs("div",{className:"relative overflow-hidden h-[22rem] sm:h-[26rem] md:h-[30rem] lg:h-[36rem] group",onMouseEnter:P,onMouseLeave:w,role:"region","aria-roledescription":"carousel","aria-label":"Hero promotions",children:[m.map((l,x)=>e.jsx("div",{className:`absolute inset-0 transition-all duration-700 ease-in-out transform ${x===j?"opacity-100 translate-x-0":"opacity-0 translate-x-6 pointer-events-none"}`,"aria-hidden":x!==j,children:l.imageOnly?e.jsx("img",{className:"w-full h-full object-cover",src:l.image,alt:l.alt,loading:x===j?"eager":"lazy",decoding:"async"}):e.jsxs("div",{className:"p-4 grid md:grid-cols-2 gap-8 items-center h-full",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold tracking-tight leading-tight",children:l.title}),e.jsx("p",{className:"mt-4 text-white/90 text-base md:text-lg",children:l.description}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[e.jsx("a",{href:l.primaryHref,className:"inline-flex items-center justify-center rounded-md bg-white text-green-700 font-medium h-10 px-6 shadow hover:shadow-md transition","aria-label":l.primaryLabel,children:l.primaryLabel}),e.jsx("a",{href:l.secondaryHref,className:"inline-flex items-center justify-center rounded-md border border-white/80 text-white font-medium h-10 px-6 hover:bg-white/10 transition","aria-label":l.secondaryLabel,children:l.secondaryLabel})]})]}),e.jsxs("div",{className:"relative h-full",children:[e.jsx("img",{className:"w-full h-full max-w-2xl max-h-2xl object-cover rounded-lg shadow-lg",src:l.image,alt:l.alt,loading:x===j?"eager":"lazy",decoding:"async"}),e.jsx("div",{className:"absolute -bottom-4 -right-4 bg-white/90 text-green-700 px-4 py-2 rounded shadow md:text-lg font-semibold",children:l.badge})]})]})},l.title)),e.jsx("button",{type:"button","aria-label":"Previous slide",onClick:$,className:"hidden sm:flex absolute inset-y-0 left-2 z-10 items-center justify-center w-10 text-white/90 hover:text-white transition-opacity opacity-0 group-hover:opacity-100 focus:opacity-100",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:e.jsx("path",{d:"M15 6l-6 6 6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("button",{type:"button","aria-label":"Next slide",onClick:N,className:"hidden sm:flex absolute inset-y-0 right-2 z-10 items-center justify-center w-10 text-white/90 hover:text-white transition-opacity opacity-0 group-hover:opacity-100 focus:opacity-100",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:e.jsx("path",{d:"M9 6l6 6-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex items-center gap-2 z-10",children:m.map((l,x)=>e.jsx("button",{type:"button","aria-label":`Go to slide ${x+1}`,onClick:()=>v(x),"aria-current":x===j,className:`h-2.5 w-2.5 rounded-full transition-all ${x===j?"bg-white":"bg-white/50 hover:bg-white/70"}`},x))})]})})})},be=4,ve=({product:m,onAddToCart:j,initialVariantId:v=null})=>{var y;const[g,P]=p.useState(v),[w,$]=p.useState(!1),[N,l]=p.useState(""),[x,H]=p.useState(1),M=p.useRef(null),z=p.useRef(null),T=p.useRef(null);p.useEffect(()=>{const t=c=>{M.current&&!M.current.contains(c.target)&&$(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const u=m.variants??[],C=p.useMemo(()=>u.length>0?u.filter(t=>!t.isHidden&&!t.notInStock):[],[u]),d=p.useMemo(()=>g?u.find(t=>t.id===g)??C[0]??u[0]:C[0]??u[0],[g,C,u]),E=p.useMemo(()=>{if(d)return d.buyOncePrice||d.mrp||0;if(u&&u.length>0){const t=u.filter(c=>!c.isHidden&&!c.notInStock).map(c=>c.buyOncePrice||c.mrp||0).filter(c=>typeof c=="number"&&isFinite(c)&&c>0);return t.length>0?Math.min(...t):0}return 0},[d,u]),I=(d==null?void 0:d.mrp)||0,R=I>E?(I-E)/I:0,q=!1,B=((u==null?void 0:u.length)||0)>1,s=B&&u.length<=be,n=t=>{P(t),$(!1)},a=()=>{if(d){j(m,d,x);try{const t=z.current,c=T.current,k=document.getElementById("snf-cart-button");if(!c||!k)return;const S=c.style.transform,F=c.style.transition;c.style.transition=`${F?F+", ":""}transform 120ms ease`,c.style.transform="scale(0.97)",setTimeout(()=>{c.style.transform=S,c.style.transition=F},140);const L=c.getBoundingClientRect(),A=k.getBoundingClientRect(),o=document.createElement("img");o.src=(t==null?void 0:t.src)||"",o.setAttribute("aria-hidden","true");const Q=56;o.style.position="fixed",o.style.left=`${L.left+L.width/2-Q/2}px`,o.style.top=`${L.top+L.height/2-Q/2}px`,o.style.width=`${Q}px`,o.style.height=`${Q}px`,o.style.objectFit="cover",o.style.zIndex="9999",o.style.borderRadius="8px",o.style.pointerEvents="none",o.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)",document.body.appendChild(o);const D=A.left+A.width/2-(L.left+L.width/2),V=A.top+A.height/2-(L.top+L.height/2),K=D*.2,Z=V*.2-20;o.style.transition="transform 180ms ease-out, opacity 180ms ease-out",o.style.transform="translate(0px, 0px) scale(0.9)",o.style.opacity="0.9",requestAnimationFrame(()=>{o.style.transform=`translate(${K}px, ${Z}px) scale(1.02)`});const W=ee=>{if(ee.propertyName!=="transform")return;o.removeEventListener("transitionend",W),o.style.transition="transform 520ms cubic-bezier(0.22, 1, 0.36, 1), opacity 520ms ease",o.style.transform=`translate(${D}px, ${V}px) scale(0.4) rotate(8deg)`,o.style.opacity="0.25";const G=te=>{if(te.propertyName!=="transform")return;o.removeEventListener("transitionend",G);const se=getComputedStyle(k).color,b=document.createElement("span"),re=A.left+A.width/2,ae=A.top+A.height/2,U=14;b.style.position="fixed",b.style.left=`${re-U}px`,b.style.top=`${ae-U}px`,b.style.width=`${U*2}px`,b.style.height=`${U*2}px`,b.style.border=`2px solid ${se}`,b.style.borderRadius="9999px",b.style.opacity="0.5",b.style.pointerEvents="none",b.style.zIndex="9999",b.style.transform="scale(0.4)",b.style.transition="transform 420ms ease, opacity 420ms ease",document.body.appendChild(b),requestAnimationFrame(()=>{b.style.transform="scale(1.8)",b.style.opacity="0"}),setTimeout(()=>b.remove(),460),o&&o.parentNode&&o.parentNode.removeChild(o)};o.addEventListener("transitionend",G)};o.addEventListener("transitionend",W)}catch{}}},r=()=>H(t=>Math.min(99,t+1)),i=()=>H(t=>Math.max(1,t-1)),h=p.useMemo(()=>{const t=N.trim().toLowerCase();return t?u.filter(c=>{var F,L;const k=((F=c.name)==null?void 0:F.toLowerCase())||"",S=((L=c.sku)==null?void 0:L.toLowerCase())||"";return k.includes(t)||S.includes(t)}):u},[u,N]),f=(y=m==null?void 0:m.product)==null?void 0:y.attachmentUrl,O=f?`https://www.indraai.in${f}`:"";return e.jsxs("article",{className:"group rounded-md border border-border/60 bg-card text-card-foreground overflow-hidden shadow-sm hover:shadow-md hover:border-border transition-all duration-200 h-full flex flex-col",children:[e.jsxs(X,{to:`/snf/product/${m.product.id}`,className:"block relative aspect-square min-h-[88px] sm:min-h-[96px] bg-muted/30 overflow-hidden",children:[e.jsx("img",{ref:z,src:O&&O.trim().length>0?O:"https://images.unsplash.com/photo-1546470427-0fd2788c37e3?auto=format&fit=crop&w=400&q=80",alt:m.product.name,loading:"lazy",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]"}),R>0&&e.jsxs("div",{className:"absolute left-2 top-2 rounded-full bg-destructive/90 text-white text-xs px-2.5 py-1 shadow-sm font-medium",children:["-",Math.round(R*100),"%"]}),q]}),e.jsxs("div",{className:"p-2 md:p-2.5 space-y-2 md:space-y-2.5 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-semibold text-[12px] md:text-[13px] leading-tight line-clamp-1 min-h-[1.25rem]",children:e.jsx(X,{to:`/snf/product/${m.product.id}`,className:"hover:text-primary transition-colors",children:m.product.name})}),B&&e.jsx(e.Fragment,{children:s?e.jsx("div",{className:"flex flex-wrap gap-1 md:gap-1.5",children:u.map(t=>{const c=t.buyOncePrice||t.mrp||0,k=t.id===(d==null?void 0:d.id),S=!t.isHidden&&!t.notInStock;return e.jsxs("button",{onClick:()=>n(t.id),disabled:!S,className:["inline-flex items-center gap-1 rounded-full border px-2 py-1 text-[11px] transition-colors",k?"bg-primary/10 border-primary text-primary":"hover:bg-accent",S?"":"opacity-50 cursor-not-allowed"].join(" "),"aria-pressed":k,children:[e.jsx("span",{className:"font-medium",children:t.name}),e.jsxs("span",{className:"text-muted-foreground",children:["₹",c.toFixed(0)]}),!S&&e.jsx("span",{className:"text-muted-foreground",children:"(OOS)"})]},t.id)})}):e.jsxs("div",{className:"relative",ref:M,children:[e.jsxs("button",{onClick:()=>$(t=>!t),className:"w-full flex items-center justify-between px-2 py-1.5 border rounded-md text-[13px] hover:bg-accent transition-colors","aria-expanded":w,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:d?d.name:"Select variant"}),d&&E>0&&e.jsxs("span",{className:"text-muted-foreground",children:["₹",E.toFixed(2)]})]}),e.jsx(ne,{className:`h-4 w-4 transition-transform ${w?"rotate-180":""}`})]}),w&&e.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-popover border rounded-md shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-1.5 p-1.5 border-b bg-background",children:[e.jsx(ie,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("input",{value:N,onChange:t=>l(t.target.value),placeholder:"Search variant...",className:"w-full bg-transparent text-sm outline-none"}),N&&e.jsx("button",{className:"p-1 rounded hover:bg-accent",onClick:()=>l(""),"aria-label":"Clear search",children:e.jsx(oe,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"max-h-48 overflow-y-auto",children:h.length===0?e.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"No variants found"}):h.map(t=>{const c=t.buyOncePrice||t.mrp||0,k=t.id===(d==null?void 0:d.id),S=!t.isHidden&&!t.notInStock&&(t.closingQty===void 0||t.closingQty>0),F=t.closingQty!==void 0&&t.closingQty>0&&t.closingQty<=10;return e.jsxs("button",{onClick:()=>n(t.id),disabled:!S,className:["w-full px-2 py-1.5 text-left hover:bg-accent transition-colors flex items-center justify-between",S?"":"opacity-50 cursor-not-allowed",k?"bg-accent":""].join(" "),children:[e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"font-medium text-sm",children:t.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:F?`Only ${t.closingQty} left`:S?"In Stock":"Out of stock"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-semibold",children:["₹",c.toFixed(2)]}),k&&e.jsx(le,{className:"h-4 w-4 text-primary"})]})]},t.id)})})]})]})}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-sm md:text-base font-semibold",children:["₹",E>0?E.toFixed(2):"N/A"]}),R>0&&I>0&&e.jsxs("span",{className:"text-xs md:text-sm text-muted-foreground line-through",children:["₹",I.toFixed(2)]})]}),e.jsx("div",{className:"mt-auto flex items-stretch w-full relative z-10",children:e.jsxs("div",{className:"flex items-center border rounded-md w-full overflow-hidden",children:[e.jsx("button",{type:"button",className:"px-2 py-1 hover:bg-accent disabled:opacity-50",onClick:t=>{t.stopPropagation(),t.preventDefault(),i()},disabled:x<=1,"aria-label":"Decrease quantity",children:e.jsx(ce,{className:"h-3 w-3"})}),e.jsx("div",{className:"flex-1 min-w-0 text-center text-[12px] md:text-sm font-medium select-none py-1",children:x}),e.jsx("button",{type:"button",className:"px-2 py-1 hover:bg-accent disabled:opacity-50",onClick:t=>{t.stopPropagation(),t.preventDefault(),r()},"aria-label":"Increase quantity",disabled:(d==null?void 0:d.closingQty)!=null&&d.closingQty>0?x>=d.closingQty:!1,children:e.jsx(de,{className:"h-3 w-3"})})]})}),e.jsx("div",{className:"flex items-center gap-1 pt-1 mt-1",children:e.jsx(J,{ref:T,className:"flex-1 h-7 text-[12px]",onClick:a,disabled:q,variant:"default",children:"Add to Cart"})})]})]})},je=({products:m,onAddToCart:j,isLoading:v=!1})=>v?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-x-4 gap-y-6 sm:gap-x-5 sm:gap-y-8",children:Array.from({length:12}).map((g,P)=>e.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground overflow-hidden",children:[e.jsx("div",{className:"aspect-[4/3] bg-muted/30 animate-pulse"}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded animate-pulse w-3/4"}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsx("div",{className:"h-5 bg-muted rounded animate-pulse w-16"}),e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-20"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-8 bg-muted rounded animate-pulse flex-1"}),e.jsx("div",{className:"h-8 bg-muted rounded animate-pulse flex-1"})]})]})]},P))}):e.jsxs("div",{id:"products",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-x-4 gap-y-6 sm:gap-x-5 sm:gap-y-8",children:[m.map(g=>e.jsx(ve,{product:g,onAddToCart:j},g.product.id)),m.length===0&&e.jsx("div",{className:"col-span-full text-center text-muted-foreground py-10",children:"No products found. Try adjusting filters or search."})]}),we=()=>{const[m,j]=p.useState(""),[v,g]=p.useState([]),[P]=p.useState("relevance"),[w,$]=p.useState(null),N=me(),l=ue(),[x,H]=p.useState([]),[M,z]=p.useState(!1),[T,u]=p.useState(null),{state:C}=he(),{addItem:d,state:E}=xe(),I=C.products.map(s=>{const n=C.depotVariants.filter(y=>y.productId===s.id),a=n.filter(y=>!y.notInStock&&!y.isHidden),r=a.map(y=>{const t=y.buyOncePrice||y.mrp||0;return typeof t=="number"&&isFinite(t)&&t>0?t:0}).filter(y=>y>0),i=r.length>0?Math.min(...r):0,h=a.length>0,f=a.map(y=>{const t=y.mrp||0;return typeof t=="number"&&isFinite(t)&&t>0?t:0}).filter(y=>y>0),O=f.length>0?Math.max(...f):0;return{product:s,variants:n,buyOncePrice:i,mrp:O,inStock:h,deliveryTime:"Same day delivery"}}),R=C.isLoading;p.useEffect(()=>{(async()=>{z(!0),u(null);try{const n=await Y.getCategories(),r=[...(Array.isArray(n)?n:[]).map(i=>({id:String(i.id??i._id??i.slug??""),name:i.name||i.title||"Category",imageUrl:i.imageUrl||i.attachmentUrl||i.iconUrl||i.url||void 0}))].sort((i,h)=>{const f=typeof i.name=="string"&&i.name.toLowerCase().includes("milk")?1:0,O=typeof h.name=="string"&&h.name.toLowerCase().includes("milk")?1:0;return f!==O?O-f:(i.name||"").localeCompare(h.name||"")});H(r)}catch(n){u((n==null?void 0:n.message)||"Failed to load categories")}finally{z(!1)}})()},[]),p.useEffect(()=>{!C.userLocation&&C.isLoading},[C.userLocation,C.isLoading]),p.useEffect(()=>{const s=(N.hash||"").replace("#","");if(!s)return;if(s.startsWith("category-")){const r=s.slice(9),i=parseInt(r,10);Number.isFinite(i)&&g([i])}const n=()=>{const r=document.getElementById(s);r&&r.scrollIntoView({behavior:"smooth",block:"start"})};n();const a=setTimeout(n,150);return()=>clearTimeout(a)},[N.hash,M,x.length]),p.useEffect(()=>{const n=new URLSearchParams(N.search||"").get("tag");if(!n){$(null);return}const a=n.toLowerCase().trim();if(a.startsWith("category:")){const h=a.split(":")[1],f=parseInt(h||"",10);Number.isFinite(f)&&g([f]),$(null)}else $(a);const r=()=>{const h=document.getElementById("products");h&&h.scrollIntoView({behavior:"smooth",block:"start"})};r();const i=setTimeout(r,120);return()=>clearTimeout(i)},[N.search]);const q=p.useMemo(()=>{let s=I;if(m.trim()){const a=m.trim().toLowerCase();s=s.filter(r=>r.product.name.toLowerCase().includes(a)||(r.product.description?r.product.description.toLowerCase().includes(a):!1))}if(v.length>0&&(s=s.filter(a=>v.includes(a.product.categoryId||0))),w)if(w==="non-dairy")s=s.filter(a=>!a.product.isDairyProduct);else if(w==="contains-dairy")s=s.filter(a=>!!a.product.isDairyProduct);else{const a=w.toLowerCase().trim();s=s.filter(r=>{const i=r.product.tags;if(!i)return!1;const h=i.split(",").map(f=>f.trim().toLowerCase()).filter(Boolean);return a==="pasteurized"||a==="pasturized"?h.includes("pasteurized")||h.includes("pasturized"):h.includes(a)})}const n=[...s];switch(P){case"price_asc":n.sort((a,r)=>a.buyOncePrice-r.buyOncePrice);break;case"price_desc":n.sort((a,r)=>r.buyOncePrice-a.buyOncePrice);break;case"popularity_desc":n.sort((a,r)=>(r.product.id||0)-(a.product.id||0));break;case"relevance":default:n.sort((a,r)=>a.buyOncePrice!==r.buyOncePrice?a.buyOncePrice-r.buyOncePrice:(a.product.id||0)-(r.product.id||0));break}return n},[I,m,v,P,w]),B=(s,n,a)=>{n&&d(s,n,a||1)};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(ge,{cartCount:E.items.reduce((s,n)=>s+n.quantity,0),onSearch:j}),e.jsxs("main",{className:"flex-1",children:[e.jsx(ye,{}),e.jsxs("section",{className:"container mx-auto px-4 md:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-semibold",children:"Browse by Category"}),T&&e.jsx(J,{size:"sm",variant:"outline",onClick:()=>{z(!0),Y.getCategories().then(s=>{const a=[...(Array.isArray(s)?s:[]).map(r=>({id:String(r.id??r._id??r.slug??""),name:r.name||r.title||"Category",imageUrl:r.imageUrl||r.attachmentUrl||r.iconUrl||r.url||void 0}))].sort((r,i)=>{const h=typeof r.name=="string"&&r.name.toLowerCase().includes("milk")?1:0,f=typeof i.name=="string"&&i.name.toLowerCase().includes("milk")?1:0;return h!==f?f-h:(r.name||"").localeCompare(i.name||"")});H(a),u(null)}).catch(s=>u((s==null?void 0:s.message)||"Failed to load categories")).finally(()=>z(!1))},children:"Retry"})]}),M?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:Array.from({length:12}).map((s,n)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-square w-full rounded-lg bg-muted/30"}),e.jsx("div",{className:"h-3 w-2/3 bg-muted/40 rounded mt-3"})]},n))}):e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsxs("button",{id:"category-all",type:"button",onClick:()=>{g([]),$(null);const s=new URLSearchParams(N.search||"");s.delete("tag"),l({search:s.toString()?`?${s.toString()}`:""},{replace:!0})},className:"group text-left","aria-label":"Show all products",children:[e.jsx("div",{className:`relative aspect-square w-full overflow-hidden rounded-full border bg-accent/10 ${v.length===0?"ring-2 ring-primary border-primary":""}`,children:e.jsx("div",{className:"h-full w-full grid place-items-center text-muted-foreground bg-gradient-to-br from-muted/30 to-transparent rounded-full",children:"All"})}),e.jsx("div",{className:"mt-3 text-center",children:e.jsx("p",{className:`text-sm font-medium line-clamp-2 transition-colors ${v.length===0?"text-primary":"group-hover:text-primary"}`,children:"All"})})]},"all"),x.map(s=>{var r;const n=parseInt(s.id,10),a=v.includes(n);return e.jsxs("button",{id:`category-${n}`,type:"button",onClick:()=>{g(i=>i.includes(n)?i.filter(h=>h!==n):[n])},className:"group text-left","aria-label":`Filter by category ${s.name}`,children:[e.jsx("div",{className:`relative aspect-square w-full overflow-hidden rounded-full border bg-accent/10 ${a?"ring-2 ring-primary border-primary":""}`,children:s.imageUrl?e.jsx("img",{src:`https://www.indraai.in${s.imageUrl}`,alt:s.name,className:" h-full w-full  object-cover rounded-full transition-transform duration-300 group-hover:scale-[1.03]",loading:"lazy"}):e.jsx("div",{className:"h-full w-full grid place-items-center text-muted-foreground bg-gradient-to-br from-muted/30 to-transparent rounded-full",children:((r=s.name)==null?void 0:r.charAt(0))||"C"})}),e.jsx("div",{className:"mt-3 text-center",children:e.jsx("p",{className:`text-sm font-medium line-clamp-2 transition-colors ${a?"text-primary":"group-hover:text-primary"}`,children:s.name})})]},s.id)}),x.length===0&&!T&&e.jsx("p",{className:"col-span-2 sm:col-span-3 lg:col-span-6 text-muted-foreground",children:"No categories available."})]})]}),e.jsxs("section",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:[e.jsx("div",{className:"h-px w-full bg-border/60"}),e.jsx("div",{className:"flex items-end justify-between py-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-semibold",children:"Products"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click a category above to filter products below"})]})})]}),e.jsxs("section",{id:"products",className:"container mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx(pe,{value:m,onChange:s=>j(s.target.value),placeholder:"Search products","aria-label":"Search products"})}),R&&I.length===0?e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((s,n)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-[4/3] w-full rounded-lg bg-muted/30"}),e.jsx("div",{className:"h-3 w-3/4 bg-muted/40 rounded mt-3"})]},n))})}):e.jsx("div",{className:"",children:e.jsx(je,{products:q,onAddToCart:B,isLoading:R})})]})]}),e.jsx(fe,{})]})},ke=()=>e.jsx(we,{});export{ke as default};
