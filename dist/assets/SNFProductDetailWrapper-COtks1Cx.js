import{j as e,B as z,u as te,a as se,b as re,r as c,L as W,C as ne,I as ae}from"./index-BmDtSaNJ.js";import{u as H,a as _,b as G,H as ie,F as oe,p as M,P as ce,C as le}from"./Footer-CvPjhctH.js";import{u as de}from"./useProducts-Ly_T-ruz.js";import{P as ue}from"./ProductCard-yFBtx7_L.js";const E=({loading:a,disabled:o,fullWidth:i,iconLeft:d,iconRight:l,className:g="",sizeVariant:t="md",children:y,...m})=>{const N=t==="sm"?"h-9 px-3 text-sm":t==="lg"?"h-12 px-6 text-base":"h-10 px-4 text-sm",w=i?"w-full":"";return e.jsxs(z,{className:`${N} ${w} inline-flex items-center justify-center gap-2 ${g}`,disabled:o||a,"aria-disabled":o||a||void 0,"aria-busy":a||void 0,...m,children:[a&&e.jsx("span",{className:"inline-block size-4 rounded-full border-2 border-current border-t-transparent animate-spin","aria-hidden":"true"}),d&&e.jsx("span",{"aria-hidden":"true",children:d}),e.jsx("span",{children:y}),l&&e.jsx("span",{"aria-hidden":"true",children:l})]})},me=a=>{const o=`https://www.indraai.in${a}`,i=d=>`${o}${o.includes("?")?"&":"?"}w=${d}`;return[{src:i(1200),alt:"Product image"},{src:i(800),alt:"Product image alt"},{src:i(600),alt:"Product close-up"}]},pe=()=>{const{id:a}=te(),[o]=se(),i=re(),d=c.useRef(null),{currentDepotId:l}=H(),{state:g}=_(),{product:t,error:y,isLoading:m}=de(a?parseInt(a):void 0,l),[N,w]=c.useState(o.get("variant")?parseInt(o.get("variant")):null),[h,F]=c.useState(1),R=c.useRef(null),b=c.useRef(null),{addItem:k}=G(),n=c.useMemo(()=>t?N?t.variants.find(s=>s.id===N):t.variants.find(s=>!s.notInStock&&!s.isHidden)||t.variants[0]:null,[N,t]),L=n&&(n.buyOncePrice||n.mrp)||0,u=(n==null?void 0:n.mrp)||0,j=u>L?(u-L)/u:0,$=c.useMemo(()=>t?me(t.product.attachmentUrl||""):[],[t]),T=c.useMemo(()=>{var A;if(!t)return[];const s=new Set;if(t.product.tags){const S=t.product.tags.split(",").map(r=>r.trim()).filter(r=>r.length>0),x=S.some(r=>{const I=r.toLowerCase();return I.includes("dairy")||I.includes("vegan")||I.includes("vegetarian")||I.includes("pasteurized")||I.includes("organic")||I.includes("fresh")});S.forEach(r=>{r.toLowerCase()==="milk"&&x||s.add(r)})}return(A=t.product.category)!=null&&A.name&&!s.has(t.product.category.name)&&s.add(t.product.category.name),Array.from(s).some(S=>{const x=S.toLowerCase();return x.includes("dairy")||x.includes("vegan")||x.includes("vegetarian")||x.includes("pasteurized")||x==="milk"})||(t.product.isDairyProduct?s.add("Contains Dairy"):s.add("Non-Dairy")),Array.from(s)},[t]),P=c.useMemo(()=>{if(!t)return"";const s=t.product.attachmentUrl||"";return s?`https://www.indraai.in${s}`:"https://images.unsplash.com/photo-1546470427-0fd2788c37e3?auto=format&fit=crop&w=400&q=80"},[t]);c.useEffect(()=>{var s;!m&&(t||y)&&((s=d.current)==null||s.focus())},[m,t,y]),c.useEffect(()=>{if(t&&!N){const s=t.variants.find(p=>!p.notInStock&&!p.isHidden);s&&w(s.id)}},[t,N]);const D=s=>{if(!(!t||!n)){try{k(t,n,h)}catch{}try{const p=document.getElementById("snf-cart-button");if(!s||!p)return;const C=s.style.transform,A=s.style.transition;s.style.transition=`${A?A+", ":""}transform 120ms ease`,s.style.transform="scale(0.97)",setTimeout(()=>{s.style.transform=C,s.style.transition=A},140);const S=s.getBoundingClientRect(),x=p.getBoundingClientRect(),r=document.createElement("img");r.src=P||"",r.setAttribute("aria-hidden","true");const I=56;r.style.position="fixed",r.style.left=`${S.left+S.width/2-I/2}px`,r.style.top=`${S.top+S.height/2-I/2}px`,r.style.width=`${I}px`,r.style.height=`${I}px`,r.style.objectFit="cover",r.style.zIndex="9999",r.style.borderRadius="8px",r.style.pointerEvents="none",r.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)",document.body.appendChild(r);const B=x.left+x.width/2-(S.left+S.width/2),O=x.top+x.height/2-(S.top+S.height/2),Y=B*.2,Z=O*.2-20;r.style.transition="transform 180ms ease-out, opacity 180ms ease-out",r.style.transform="translate(0px, 0px) scale(0.9)",r.style.opacity="0.9",requestAnimationFrame(()=>{r.style.transform=`translate(${Y}px, ${Z}px) scale(1.02)`});const U=X=>{if(X.propertyName!=="transform")return;r.removeEventListener("transitionend",U),r.style.transition="transform 520ms cubic-bezier(0.22, 1, 0.36, 1), opacity 520ms ease",r.style.transform=`translate(${B}px, ${O}px) scale(0.4) rotate(8deg)`,r.style.opacity="0.25";const Q=J=>{if(J.propertyName!=="transform")return;r.removeEventListener("transitionend",Q);const K=getComputedStyle(p).color,f=document.createElement("span"),V=x.left+x.width/2,ee=x.top+x.height/2,q=14;f.style.position="fixed",f.style.left=`${V-q}px`,f.style.top=`${ee-q}px`,f.style.width=`${q*2}px`,f.style.height=`${q*2}px`,f.style.border=`2px solid ${K}`,f.style.borderRadius="9999px",f.style.opacity="0.5",f.style.pointerEvents="none",f.style.zIndex="9999",f.style.transform="scale(0.4)",f.style.transition="transform 420ms ease, opacity 420ms ease",document.body.appendChild(f),requestAnimationFrame(()=>{f.style.transform="scale(1.8)",f.style.opacity="0"}),setTimeout(()=>f.remove(),460),r&&r.parentNode&&r.parentNode.removeChild(r)};r.addEventListener("transitionend",Q)};r.addEventListener("transitionend",U)}catch{}}},v=e.jsx("nav",{className:"text-sm text-muted-foreground mb-3","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center gap-1",children:[e.jsx("li",{children:e.jsx(W,{to:"/snf",className:"hover:underline",children:"Home"})}),e.jsx("li",{"aria-hidden":"true",children:"/"}),e.jsx("li",{children:e.jsx("a",{href:"/snf#products",className:"hover:underline",children:"Products"})}),t!=null&&t.product.categoryId?e.jsxs(e.Fragment,{children:[e.jsx("li",{"aria-hidden":"true",children:"/"}),e.jsx("li",{children:e.jsx("a",{href:`/snf#category-${t.product.categoryId}`,className:"hover:underline capitalize",children:"Category"})})]}):null]})});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("a",{href:"#snf-main",className:"sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-50 focus:bg-background focus:text-foreground focus:ring-2 focus:ring-ring px-3 py-2 rounded",children:"Skip to content"}),e.jsx("header",{role:"banner",className:"sticky top-0 z-40 bg-background/80 backdrop-blur border-b",children:e.jsx(ie,{cartCount:0,onSearch:()=>{}})}),e.jsxs("main",{id:"snf-main",role:"main",className:"container mx-auto px-4 md:px-6 lg:px-8 py-4",children:[v,e.jsx("h1",{ref:d,tabIndex:-1,className:"sr-only",children:"Product details"}),m&&e.jsx(be,{}),y&&e.jsxs("div",{className:"border rounded-md p-6 text-center",children:[e.jsx("p",{className:"text-lg font-semibold mb-2",children:"Unable to load product"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:y.message||"Unknown error"}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx(E,{onClick:()=>i(0),"aria-label":"Retry loading product",children:"Retry"}),e.jsx(E,{variant:"outline",onClick:()=>i("/snf"),"aria-label":"Back to listing",children:"Back to listing"})]})]}),!m&&t&&e.jsxs(e.Fragment,{children:[e.jsxs("article",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("section",{"aria-label":"Product image gallery",children:e.jsx(ye,{gallery:$,title:t.product.name,tags:T,tagHref:s=>{const p=t.product.categoryId,C=s.trim().toLowerCase();return p?`/snf/category/${p}?tag=${encodeURIComponent(C)}`:`/snf?tag=${encodeURIComponent(C)}`}})}),e.jsxs("section",{"aria-label":"Product summary",className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-semibold",children:t.product.name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["₹",L.toFixed(2)]}),j>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-sm text-muted-foreground line-through",children:["₹",u.toFixed(2)]}),e.jsxs("span",{className:"bg-destructive/10 text-destructive px-2 py-1 rounded text-sm font-medium",children:[Math.round(j*100),"% OFF"]})]})]}),t.variants.length>1&&e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Variant"}),e.jsx("div",{role:"radiogroup","aria-label":"Select Variant",className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:t.variants.map(s=>{const p=s.id===(n==null?void 0:n.id),C=!s.notInStock&&!s.isHidden,A=s.closingQty!==void 0&&s.closingQty>0&&s.closingQty<=10;return e.jsxs("button",{role:"radio","aria-checked":p,disabled:!C,onClick:()=>w(s.id),title:`${s.name}${A?` • Only ${s.closingQty} left`:""}`,className:`relative h-10 min-w-[3rem] inline-flex items-center justify-center rounded-md border px-2 text-xs font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring hover:bg-accent ${p?"ring-2 ring-primary border-primary bg-accent":"bg-background"} ${C?"":"opacity-50 cursor-not-allowed line-through"}`,children:[e.jsx("span",{className:"truncate max-w-[6rem]",children:s.name}),p&&e.jsx(ne,{className:"absolute -top-1 -right-1 h-4 w-4 text-primary bg-background rounded-full"}),!C&&e.jsx("span",{className:"absolute bottom-1 text-[10px] text-muted-foreground",children:"Out"}),A&&C&&e.jsx("span",{className:"absolute top-0.5 right-0.5 text-[10px] text-orange-600",children:"Low"})]},s.id)})})]}),e.jsx("div",{className:"flex items-center gap-3 text-sm",children:n&&!n.notInStock?e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-green-600 font-medium",children:"✓ In Stock"})}):e.jsx("span",{className:"text-red-600 font-medium",children:!1})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"qty",className:"text-sm font-medium",children:"Quantity"}),e.jsxs("div",{className:"inline-flex items-center rounded border ml-5",children:[e.jsx(z,{onClick:()=>F(s=>Math.max(1,s-1)),variant:"ghost",className:"px-3 py-2 hover:bg-accent transition-colors","aria-label":"Decrease quantity",children:"-"}),e.jsx(ae,{id:"qty",type:"number",className:"[&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [appearance:textfield] w-16 text-center bg-transparent outline-none border-none",value:h,onChange:s=>F(Math.max(1,Number(s.target.value)||1)),min:"1",max:(n==null?void 0:n.closingQty)||99}),e.jsx(z,{onClick:()=>F(s=>s+1),variant:"ghost",className:"px-3 py-2 hover:bg-accent transition-colors","aria-label":"Increase quantity",children:"+"})]})]}),e.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[e.jsx("li",{children:"Quality checked and packed with care"}),e.jsx("li",{children:"Free delivery on qualifying orders"})]}),e.jsxs("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:[e.jsx("h3",{children:"Description"}),e.jsx("div",{dangerouslySetInnerHTML:{__html:t.product.description||"No description available"}})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[e.jsx("div",{ref:R,className:"flex-1",children:e.jsx(E,{className:"w-full",disabled:!n||n.notInStock,"aria-label":`Add ${t.product.name} to cart`,fullWidth:!0,onClick:()=>R.current&&D(R.current),children:n!=null&&n.notInStock?"Out of Stock":"Add to Cart"})}),e.jsx(E,{className:"flex-1 hover:bg-black",variant:"secondary",disabled:!n||n.notInStock,"aria-label":"Buy now",fullWidth:!0,onClick:()=>{if(!t||!n)return;const s=new URLSearchParams({productId:t.product.id.toString(),variantId:n.id.toString(),quantity:h.toString()});i(`/snf/buy-now?${s.toString()}`)},children:"Buy Now"})]})]})]}),e.jsxs("section",{className:"mt-10 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsx(ge,{})}),e.jsxs("aside",{className:"lg:col-span-1 space-y-6",children:[e.jsx(he,{}),e.jsx(xe,{})]})]}),e.jsxs("section",{className:"mt-12",children:[e.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Related products"}),e.jsx(fe,{currentId:t.product.id,currentProduct:t})]})]})]}),!m&&t&&n&&e.jsx("div",{className:"sticky bottom-0 inset-x-0 bg-background border-t shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6 lg:px-8 py-3 flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:t.product.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.name," • ₹",L.toFixed(2)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{ref:b,children:e.jsx(E,{disabled:n.notInStock,"aria-label":`Add ${t.product.name} to cart (sticky)`,onClick:()=>b.current&&D(b.current),children:n.notInStock?"Out of Stock":"Add to Cart"})}),e.jsx(E,{className:"hover:bg-black",variant:"secondary",disabled:n.notInStock,"aria-label":"Buy now (sticky)",onClick:()=>{if(!t||!n)return;const s=new URLSearchParams({productId:t.product.id.toString(),variantId:n.id.toString(),quantity:h.toString()});i(`/snf/buy-now?${s.toString()}`)},children:"Buy Now"})]})]})}),e.jsx("footer",{role:"contentinfo",className:"mt-10 border-t",children:e.jsx(oe,{})}),e.jsx(je,{product:t})]})},ge=()=>e.jsx("div",{className:"divide-y rounded-md border",children:[{title:"Features & Specs",content:"Farm fresh, handpicked quality. Nutritional values and storage tips included."},{title:"Materials/Care",content:"Keep refrigerated. Rinse before use. Store in a cool, dry place."},{title:"Size Guide",content:"Regular pack: 500g, Large: 1kg, Family: 2kg."},{title:"Shipping & Returns",content:"Fast delivery. Returns accepted within 3 days if unopened."},{title:"FAQs",content:"Q: Is it organic? A: Yes, sourced from trusted farms."}].map((a,o)=>e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"flex cursor-pointer items-center justify-between p-4 font-medium hover:bg-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[e.jsx("span",{children:a.title}),e.jsx("span",{"aria-hidden":"true",className:"transition-transform group-open:rotate-180",children:"⌄"})]}),e.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:a.content})]},o))}),he=()=>e.jsxs("div",{className:"rounded-md border p-4 space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Why shop with SNF"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"✓ Secure checkout"}),e.jsx("li",{children:"✓ Freshness guarantee"}),e.jsx("li",{children:"✓ Free delivery over ₹299"})]})]}),xe=()=>{const[a,o]=c.useState(""),[i,d]=c.useState(!1),[l,g]=c.useState(null);return e.jsxs("div",{className:"rounded-md border p-4 space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Delivery/Pickup Estimator"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:a,onChange:t=>o(t.target.value),className:"flex-1 rounded border px-3 py-2 bg-background",placeholder:"Enter ZIP","aria-label":"Enter ZIP code"}),e.jsx(E,{onClick:()=>{d(!0),setTimeout(()=>{g("Tomorrow, 10am - 12pm"),d(!1)},600)},loading:i,"aria-label":"Estimate delivery",children:"Check"})]}),l&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Estimated delivery: ",l]})]})},fe=({currentId:a,currentProduct:o})=>{const[i,d]=c.useState([]),[l,g]=c.useState(!1),{state:t}=_(),{addItem:y}=G(),{currentDepotId:m}=H();c.useEffect(()=>{(async()=>{if(o){g(!0);try{const h=await M.getProducts(m),F=await M.getDepotVariants(m),R=h.filter(u=>u.id!==a).map(u=>{const j=F.filter(v=>v.productId===u.id),$=j.reduce((v,s)=>{if(!v)return s;const p=v.buyOncePrice??v.mrp;return(s.buyOncePrice??s.mrp)<p?s:v},null),T=($==null?void 0:$.buyOncePrice)??($==null?void 0:$.mrp),P=($==null?void 0:$.mrp)??0;let D=0;return T&&T<P&&(D=(P-T)/P),{product:u,variants:j,buyOncePrice:T||0,mrp:P,discount:D>0?D:void 0,inStock:j.some(v=>!v.notInStock&&v.closingQty>0),deliveryTime:j.some(v=>!v.notInStock&&v.closingQty>0)?"Same day delivery":"Out of stock"}}).filter(u=>u.variants.length>0),b=o.product.categoryId,k=o.product.tags?o.product.tags.split(",").map(u=>u.trim().toLowerCase()):[],L=R.map(u=>{let j=0;if(u.product.categoryId===b&&(j+=10),u.product.tags){const T=u.product.tags.split(",").map(P=>P.trim().toLowerCase()).filter(P=>k.includes(P));j+=T.length*3}return u.product.isDairyProduct===o.product.isDairyProduct&&(j+=2),{...u,score:j}}).sort((u,j)=>j.score-u.score).slice(0,6);d(L)}catch(h){console.error("Error fetching related products:",h)}finally{g(!1)}}})()},[a,o,m]);const N=(w,h,F=1)=>{try{y(w,h,F)}catch(R){console.error("Error adding to cart:",R)}};return l?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-4",children:Array.from({length:6}).map((w,h)=>e.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden animate-pulse",children:[e.jsx("div",{className:"aspect-square bg-muted/30"}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded"}),e.jsx("div",{className:"h-3 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-5 bg-muted rounded w-16"}),e.jsx("div",{className:"h-8 bg-muted rounded"})]})]},h))}):i.length===0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-4",children:e.jsx("div",{className:"col-span-full text-center text-muted-foreground py-8",children:"No related products found"})}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-4",children:i.map(w=>e.jsx(ue,{product:w,onAddToCart:N,showVariants:!1},w.product.id))})},ye=({gallery:a,title:o,tags:i=[],tagHref:d})=>{const[l,g]=c.useState(0),[t,y]=c.useState(null),[m,N]=c.useState(!1),[w,h]=c.useState(!0),F=a[l];c.useEffect(()=>{const b=requestAnimationFrame(()=>h(!0));return()=>cancelAnimationFrame(b)},[]);const R=b=>{b!==l&&(y(l),g(b),N(!1),h(!1),requestAnimationFrame(()=>{N(!0),h(!0)}),setTimeout(()=>{y(null),N(!1)},400))};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative rounded-md overflow-hidden border h-[360px] md:h-[420px]",children:[e.jsx("img",{src:F.src,alt:`${o} - image ${l+1}`,className:`absolute inset-0 w-full h-full object-cover transition-[opacity,transform] duration-300 ease-out cursor-zoom-in ${w?"opacity-100 scale-100":"opacity-0 scale-[1.02]"}`,width:1200,height:420,loading:"lazy",decoding:"async"},l),t!==null&&e.jsx("img",{src:a[t].src,alt:`${o} - previous image ${t+1}`,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-300 ease-out ${m?"opacity-0":"opacity-100"}`,width:1200,height:420,"aria-hidden":"true"},`prev-${t}`)]}),e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:a.map((b,k)=>e.jsx("button",{onClick:()=>R(k),className:`relative h-16 rounded border overflow-hidden focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring ${k===l?"ring-2 ring-primary":""}`,"aria-label":`Show image ${k+1}`,children:e.jsx("img",{src:b.src,alt:`${o} thumbnail ${k+1}`,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"})},`thumb-${k}`))}),i.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 pt-1",children:i.map((b,k)=>e.jsx(W,{to:d?d(b,k):"/category/#",className:"px-2.5 py-1 rounded-full border text-xs bg-background hover:bg-accent transition-colors",children:b},`p-tag-${k}`))})]})},be=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-pulse",children:[e.jsx("div",{className:"h-[420px] bg-muted/40 rounded-md"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-6 bg-muted/40 rounded w-2/3"}),e.jsx("div",{className:"h-4 bg-muted/40 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-muted/40 rounded w-1/2"}),e.jsx("div",{className:"h-24 bg-muted/40 rounded"}),e.jsx("div",{className:"h-10 bg-muted/40 rounded w-1/2"})]})]}),je=({product:a})=>(c.useEffect(()=>{const o=document.title,i=(a==null?void 0:a.product)||a;i&&(document.title=`${i.name||"Product"} | SNF`);let d=document.querySelector('link[rel="canonical"]');d||(d=document.createElement("link"),d.rel="canonical",document.head.appendChild(d)),d.href=window.location.href;const l=(t,y)=>{let m=document.querySelector(`meta[property="${t}"]`);m||(m=document.createElement("meta"),m.setAttribute("property",t),document.head.appendChild(m)),m.content=y};i&&(l("og:title",i.name||"Product"),l("og:type","product"),l("og:url",window.location.href),l("og:image",i.attachmentUrl?`${i.attachmentUrl}&w=1200`:""),l("og:description",i.description||""));let g=document.getElementById("snf-product-jsonld");if(g||(g=document.createElement("script"),g.id="snf-product-jsonld",g.type="application/ld+json",document.head.appendChild(g)),a){const t=(a==null?void 0:a.product)||a,y={"@context":"https://schema.org/","@type":"Product",name:(t==null?void 0:t.name)||"Product",image:t!=null&&t.attachmentUrl?[`${t.attachmentUrl}&w=1200`]:[],description:(t==null?void 0:t.description)||"",sku:`SNF-${(t==null?void 0:t.id)||1}`,aggregateRating:{"@type":"AggregateRating",ratingValue:4.5.toFixed(1),reviewCount:128},offers:{"@type":"Offer",priceCurrency:"INR",price:50 .toFixed(2),availability:"https://schema.org/InStock",url:window.location.href}};g.text=JSON.stringify(y)}return()=>{document.title=o}},[a]),null),ke=()=>e.jsx(ce,{children:e.jsx(le,{children:e.jsx(pe,{})})});export{ke as default};
