const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SNFLandingPage-CaMqO8Gk.js","assets/Footer-DwSgdFzh.js","assets/ProductGrid-CYFRGzUV.js","assets/ProductCard-Bk96mEqx.js","assets/SNFProductDetailWrapper-3-8qRQ86.js","assets/useProducts-DAKYUUpP.js","assets/SNFWrapper-BpsIgoVj.js","assets/SNFCheckoutWrapper-CDQ8CNqp.js","assets/AddressSelector-CX6XtFrd.js","assets/SNFBuyNowWrapper-Cd82csGk.js","assets/SNFCartDebugWrapper-BWG8H0NW.js","assets/SNFAddressWrapper-CPFOsmQd.js","assets/SNFCategoryPageWrapper-BPZwzCwU.js"])))=>i.map(i=>d[i]);
var tZ=Object.defineProperty;var bO=e=>{throw TypeError(e)};var rZ=(e,t,r)=>t in e?tZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sr=(e,t,r)=>rZ(e,typeof t!="symbol"?t+"":t,r),CA=(e,t,r)=>t.has(e)||bO("Cannot "+r);var Je=(e,t,r)=>(CA(e,t,"read from private field"),r?r.call(e):t.get(e)),ds=(e,t,r)=>t.has(e)?bO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Or=(e,t,r,n)=>(CA(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Us=(e,t,r)=>(CA(e,t,"access private method"),r);var fN=(e,t,r,n)=>({set _(a){Or(e,t,a,r)},get _(){return Je(e,t,n)}});function sZ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _A={exports:{}},C1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO;function nZ(){if(wO)return C1;wO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:o,ref:a!==void 0?a:null,props:i}}return C1.Fragment=t,C1.jsx=r,C1.jsxs=r,C1}var NO;function aZ(){return NO||(NO=1,_A.exports=nZ()),_A.exports}var s=aZ(),kA={exports:{}},Ms={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO;function iZ(){if(jO)return Ms;jO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function p(J){return J===null||typeof J!="object"?null:(J=m&&J[m]||J["@@iterator"],typeof J=="function"?J:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function v(J,ae,D){this.props=J,this.context=ae,this.refs=b,this.updater=D||g}v.prototype.isReactComponent={},v.prototype.setState=function(J,ae){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,ae,"setState")},v.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function N(){}N.prototype=v.prototype;function S(J,ae,D){this.props=J,this.context=ae,this.refs=b,this.updater=D||g}var A=S.prototype=new N;A.constructor=S,w(A,v.prototype),A.isPureReactComponent=!0;var E=Array.isArray,C={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function P(J,ae,D,H,K,W){return D=W.ref,{$$typeof:e,type:J,key:ae,ref:D!==void 0?D:null,props:W}}function F(J,ae){return P(J.type,ae,void 0,void 0,void 0,J.props)}function k(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function z(J){var ae={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(D){return ae[D]})}var O=/\/+/g;function M(J,ae){return typeof J=="object"&&J!==null&&J.key!=null?z(""+J.key):ae.toString(36)}function R(){}function B(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(R,R):(J.status="pending",J.then(function(ae){J.status==="pending"&&(J.status="fulfilled",J.value=ae)},function(ae){J.status==="pending"&&(J.status="rejected",J.reason=ae)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function Y(J,ae,D,H,K){var W=typeof J;(W==="undefined"||W==="boolean")&&(J=null);var re=!1;if(J===null)re=!0;else switch(W){case"bigint":case"string":case"number":re=!0;break;case"object":switch(J.$$typeof){case e:case t:re=!0;break;case h:return re=J._init,Y(re(J._payload),ae,D,H,K)}}if(re)return K=K(J),re=H===""?"."+M(J,0):H,E(K)?(D="",re!=null&&(D=re.replace(O,"$&/")+"/"),Y(K,ae,D,"",function(se){return se})):K!=null&&(k(K)&&(K=F(K,D+(K.key==null||J&&J.key===K.key?"":(""+K.key).replace(O,"$&/")+"/")+re)),ae.push(K)),1;re=0;var te=H===""?".":H+":";if(E(J))for(var ie=0;ie<J.length;ie++)H=J[ie],W=te+M(H,ie),re+=Y(H,ae,D,W,K);else if(ie=p(J),typeof ie=="function")for(J=ie.call(J),ie=0;!(H=J.next()).done;)H=H.value,W=te+M(H,ie++),re+=Y(H,ae,D,W,K);else if(W==="object"){if(typeof J.then=="function")return Y(B(J),ae,D,H,K);throw ae=String(J),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return re}function U(J,ae,D){if(J==null)return J;var H=[],K=0;return Y(J,H,"","",function(W){return ae.call(D,W,K++)}),H}function Q(J){if(J._status===-1){var ae=J._result;ae=ae(),ae.then(function(D){(J._status===0||J._status===-1)&&(J._status=1,J._result=D)},function(D){(J._status===0||J._status===-1)&&(J._status=2,J._result=D)}),J._status===-1&&(J._status=0,J._result=ae)}if(J._status===1)return J._result.default;throw J._result}var V=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)};function Z(){}return Ms.Children={map:U,forEach:function(J,ae,D){U(J,function(){ae.apply(this,arguments)},D)},count:function(J){var ae=0;return U(J,function(){ae++}),ae},toArray:function(J){return U(J,function(ae){return ae})||[]},only:function(J){if(!k(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Ms.Component=v,Ms.Fragment=r,Ms.Profiler=a,Ms.PureComponent=S,Ms.StrictMode=n,Ms.Suspense=c,Ms.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ms.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ms.cache=function(J){return function(){return J.apply(null,arguments)}},Ms.cloneElement=function(J,ae,D){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var H=w({},J.props),K=J.key,W=void 0;if(ae!=null)for(re in ae.ref!==void 0&&(W=void 0),ae.key!==void 0&&(K=""+ae.key),ae)!I.call(ae,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&ae.ref===void 0||(H[re]=ae[re]);var re=arguments.length-2;if(re===1)H.children=D;else if(1<re){for(var te=Array(re),ie=0;ie<re;ie++)te[ie]=arguments[ie+2];H.children=te}return P(J.type,K,void 0,void 0,W,H)},Ms.createContext=function(J){return J={$$typeof:o,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:i,_context:J},J},Ms.createElement=function(J,ae,D){var H,K={},W=null;if(ae!=null)for(H in ae.key!==void 0&&(W=""+ae.key),ae)I.call(ae,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(K[H]=ae[H]);var re=arguments.length-2;if(re===1)K.children=D;else if(1<re){for(var te=Array(re),ie=0;ie<re;ie++)te[ie]=arguments[ie+2];K.children=te}if(J&&J.defaultProps)for(H in re=J.defaultProps,re)K[H]===void 0&&(K[H]=re[H]);return P(J,W,void 0,void 0,null,K)},Ms.createRef=function(){return{current:null}},Ms.forwardRef=function(J){return{$$typeof:l,render:J}},Ms.isValidElement=k,Ms.lazy=function(J){return{$$typeof:h,_payload:{_status:-1,_result:J},_init:Q}},Ms.memo=function(J,ae){return{$$typeof:d,type:J,compare:ae===void 0?null:ae}},Ms.startTransition=function(J){var ae=C.T,D={};C.T=D;try{var H=J(),K=C.S;K!==null&&K(D,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(Z,V)}catch(W){V(W)}finally{C.T=ae}},Ms.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ms.use=function(J){return C.H.use(J)},Ms.useActionState=function(J,ae,D){return C.H.useActionState(J,ae,D)},Ms.useCallback=function(J,ae){return C.H.useCallback(J,ae)},Ms.useContext=function(J){return C.H.useContext(J)},Ms.useDebugValue=function(){},Ms.useDeferredValue=function(J,ae){return C.H.useDeferredValue(J,ae)},Ms.useEffect=function(J,ae){return C.H.useEffect(J,ae)},Ms.useId=function(){return C.H.useId()},Ms.useImperativeHandle=function(J,ae,D){return C.H.useImperativeHandle(J,ae,D)},Ms.useInsertionEffect=function(J,ae){return C.H.useInsertionEffect(J,ae)},Ms.useLayoutEffect=function(J,ae){return C.H.useLayoutEffect(J,ae)},Ms.useMemo=function(J,ae){return C.H.useMemo(J,ae)},Ms.useOptimistic=function(J,ae){return C.H.useOptimistic(J,ae)},Ms.useReducer=function(J,ae,D){return C.H.useReducer(J,ae,D)},Ms.useRef=function(J){return C.H.useRef(J)},Ms.useState=function(J){return C.H.useState(J)},Ms.useSyncExternalStore=function(J,ae,D){return C.H.useSyncExternalStore(J,ae,D)},Ms.useTransition=function(){return C.H.useTransition()},Ms.version="19.0.0",Ms}var SO;function fk(){return SO||(SO=1,kA.exports=iZ()),kA.exports}var y=fk();const We=z5(y),mk=sZ({__proto__:null,default:We},[y]);var TA={exports:{}},_1={},DA={exports:{}},PA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO;function oZ(){return AO||(AO=1,function(e){function t(U,Q){var V=U.length;U.push(Q);e:for(;0<V;){var Z=V-1>>>1,J=U[Z];if(0<a(J,Q))U[Z]=Q,U[V]=J,V=Z;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var Q=U[0],V=U.pop();if(V!==Q){U[0]=V;e:for(var Z=0,J=U.length,ae=J>>>1;Z<ae;){var D=2*(Z+1)-1,H=U[D],K=D+1,W=U[K];if(0>a(H,V))K<J&&0>a(W,H)?(U[Z]=W,U[K]=V,Z=K):(U[Z]=H,U[D]=V,Z=D);else if(K<J&&0>a(W,V))U[Z]=W,U[K]=V,Z=K;else break e}}return Q}function a(U,Q){var V=U.sortIndex-Q.sortIndex;return V!==0?V:U.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,p=3,g=!1,w=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(U){for(var Q=r(d);Q!==null;){if(Q.callback===null)n(d);else if(Q.startTime<=U)n(d),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=r(d)}}function E(U){if(b=!1,A(U),!w)if(r(c)!==null)w=!0,B();else{var Q=r(d);Q!==null&&Y(E,Q.startTime-U)}}var C=!1,I=-1,P=5,F=-1;function k(){return!(e.unstable_now()-F<P)}function z(){if(C){var U=e.unstable_now();F=U;var Q=!0;try{e:{w=!1,b&&(b=!1,N(I),I=-1),g=!0;var V=p;try{t:{for(A(U),m=r(c);m!==null&&!(m.expirationTime>U&&k());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,p=m.priorityLevel;var J=Z(m.expirationTime<=U);if(U=e.unstable_now(),typeof J=="function"){m.callback=J,A(U),Q=!0;break t}m===r(c)&&n(c),A(U)}else n(c);m=r(c)}if(m!==null)Q=!0;else{var ae=r(d);ae!==null&&Y(E,ae.startTime-U),Q=!1}}break e}finally{m=null,p=V,g=!1}Q=void 0}}finally{Q?O():C=!1}}}var O;if(typeof S=="function")O=function(){S(z)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,R=M.port2;M.port1.onmessage=z,O=function(){R.postMessage(null)}}else O=function(){v(z,0)};function B(){C||(C=!0,O())}function Y(U,Q){I=v(function(){U(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,B())},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var V=p;p=Q;try{return U()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=p;p=U;try{return Q()}finally{p=V}},e.unstable_scheduleCallback=function(U,Q,V){var Z=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Z+V:Z):V=Z,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=V+J,U={id:h++,callback:Q,priorityLevel:U,startTime:V,expirationTime:J,sortIndex:-1},V>Z?(U.sortIndex=V,t(d,U),r(c)===null&&U===r(d)&&(b?(N(I),I=-1):b=!0,Y(E,V-Z))):(U.sortIndex=J,t(c,U),w||g||(w=!0,B())),U},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(U){var Q=p;return function(){var V=p;p=Q;try{return U.apply(this,arguments)}finally{p=V}}}}(PA)),PA}var EO;function lZ(){return EO||(EO=1,DA.exports=oZ()),DA.exports}var OA={exports:{}},el={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO;function cZ(){if(CO)return el;CO=1;var e=fk();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return el.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,el.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,h)},el.flushSync=function(c){var d=o.T,h=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=d,n.p=h,n.d.f()}},el.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(c,d))},el.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},el.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,g=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?n.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:g}):h==="script"&&n.d.X(c,{crossOrigin:m,integrity:p,fetchPriority:g,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},el.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);n.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(c)},el.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);n.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},el.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=l(d.as,d.crossOrigin);n.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(c)},el.requestFormReset=function(c){n.d.r(c)},el.unstable_batchedUpdates=function(c,d){return c(d)},el.useFormState=function(c,d,h){return o.H.useFormState(c,d,h)},el.useFormStatus=function(){return o.H.useHostTransitionStatus()},el.version="19.0.0",el}var _O;function z7(){if(_O)return OA.exports;_O=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),OA.exports=cZ(),OA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO;function dZ(){if(kO)return _1;kO=1;var e=lZ(),t=fk(),r=z7();function n(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var i=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),g=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),E=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function I(u){return u===null||typeof u!="object"?null:(u=C&&u[C]||u["@@iterator"],typeof u=="function"?u:null)}var P=Symbol.for("react.client.reference");function F(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===P?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case c:return"Fragment";case l:return"Portal";case h:return"Profiler";case d:return"StrictMode";case b:return"Suspense";case v:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case g:return(u.displayName||"Context")+".Provider";case p:return(u._context.displayName||"Context")+".Consumer";case w:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case N:return f=u.displayName||null,f!==null?f:F(u.type)||"Memo";case S:f=u._payload,u=u._init;try{return F(u(f))}catch{}}return null}var k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,O,M;function R(u){if(O===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);O=f&&f[1]||"",M=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+u+M}var B=!1;function Y(u,f){if(!u||B)return"";B=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(f){var ir=function(){throw Error()};if(Object.defineProperty(ir.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ir,[])}catch(Bt){var At=Bt}Reflect.construct(u,[],ir)}else{try{ir.call()}catch(Bt){At=Bt}u.call(ir.prototype)}}else{try{throw Error()}catch(Bt){At=Bt}(ir=u())&&typeof ir.catch=="function"&&ir.catch(function(){})}}catch(Bt){if(Bt&&At&&typeof Bt.stack=="string")return[Bt.stack,At.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=j.DetermineComponentFrameRoot(),oe=q[0],je=q[1];if(oe&&je){var Ge=oe.split(`
`),at=je.split(`
`);for(T=j=0;j<Ge.length&&!Ge[j].includes("DetermineComponentFrameRoot");)j++;for(;T<at.length&&!at[T].includes("DetermineComponentFrameRoot");)T++;if(j===Ge.length||T===at.length)for(j=Ge.length-1,T=at.length-1;1<=j&&0<=T&&Ge[j]!==at[T];)T--;for(;1<=j&&0<=T;j--,T--)if(Ge[j]!==at[T]){if(j!==1||T!==1)do if(j--,T--,0>T||Ge[j]!==at[T]){var Ut=`
`+Ge[j].replace(" at new "," at ");return u.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",u.displayName)),Ut}while(1<=j&&0<=T);break}}}finally{B=!1,Error.prepareStackTrace=x}return(x=u?u.displayName||u.name:"")?R(x):""}function U(u){switch(u.tag){case 26:case 27:case 5:return R(u.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return u=Y(u.type,!1),u;case 11:return u=Y(u.type.render,!1),u;case 1:return u=Y(u.type,!0),u;default:return""}}function Q(u){try{var f="";do f+=U(u),u=u.return;while(u);return f}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function V(u){var f=u,x=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(x=f.return),u=f.return;while(u)}return f.tag===3?x:null}function Z(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function J(u){if(V(u)!==u)throw Error(n(188))}function ae(u){var f=u.alternate;if(!f){if(f=V(u),f===null)throw Error(n(188));return f!==u?null:u}for(var x=u,j=f;;){var T=x.return;if(T===null)break;var q=T.alternate;if(q===null){if(j=T.return,j!==null){x=j;continue}break}if(T.child===q.child){for(q=T.child;q;){if(q===x)return J(T),u;if(q===j)return J(T),f;q=q.sibling}throw Error(n(188))}if(x.return!==j.return)x=T,j=q;else{for(var oe=!1,je=T.child;je;){if(je===x){oe=!0,x=T,j=q;break}if(je===j){oe=!0,j=T,x=q;break}je=je.sibling}if(!oe){for(je=q.child;je;){if(je===x){oe=!0,x=q,j=T;break}if(je===j){oe=!0,j=q,x=T;break}je=je.sibling}if(!oe)throw Error(n(189))}}if(x.alternate!==j)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?u:f}function D(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=D(u),f!==null)return f;u=u.sibling}return null}var H=Array.isArray,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},re=[],te=-1;function ie(u){return{current:u}}function se(u){0>te||(u.current=re[te],re[te]=null,te--)}function le(u,f){te++,re[te]=u.current,u.current=f}var Ce=ie(null),De=ie(null),Ze=ie(null),ke=ie(null);function ce(u,f){switch(le(Ze,f),le(De,u),le(Ce,null),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?KP(f):0;break;default:if(u=u===8?f.parentNode:f,f=u.tagName,u=u.namespaceURI)u=KP(u),f=QP(u,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}se(Ce),le(Ce,f)}function Me(){se(Ce),se(De),se(Ze)}function be(u){u.memoizedState!==null&&le(ke,u);var f=Ce.current,x=QP(f,u.type);f!==x&&(le(De,u),le(Ce,x))}function ge(u){De.current===u&&(se(Ce),se(De)),ke.current===u&&(se(ke),N1._currentValue=W)}var Ye=Object.prototype.hasOwnProperty,ze=e.unstable_scheduleCallback,Pe=e.unstable_cancelCallback,me=e.unstable_shouldYield,we=e.unstable_requestPaint,qe=e.unstable_now,xt=e.unstable_getCurrentPriorityLevel,pt=e.unstable_ImmediatePriority,ct=e.unstable_UserBlockingPriority,ft=e.unstable_NormalPriority,Mt=e.unstable_LowPriority,Xt=e.unstable_IdlePriority,ur=e.log,es=e.unstable_setDisableYieldValue,Qr=null,mt=null;function Er(u){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Qr,u,void 0,(u.current.flags&128)===128)}catch{}}function tr(u){if(typeof ur=="function"&&es(u),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(Qr,u)}catch{}}var fr=Math.clz32?Math.clz32:Tr,Lr=Math.log,Pt=Math.LN2;function Tr(u){return u>>>=0,u===0?32:31-(Lr(u)/Pt|0)|0}var Cr=128,mr=4194304;function ar(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Gt(u,f){var x=u.pendingLanes;if(x===0)return 0;var j=0,T=u.suspendedLanes,q=u.pingedLanes,oe=u.warmLanes;u=u.finishedLanes!==0;var je=x&134217727;return je!==0?(x=je&~T,x!==0?j=ar(x):(q&=je,q!==0?j=ar(q):u||(oe=je&~oe,oe!==0&&(j=ar(oe))))):(je=x&~T,je!==0?j=ar(je):q!==0?j=ar(q):u||(oe=x&~oe,oe!==0&&(j=ar(oe)))),j===0?0:f!==0&&f!==j&&(f&T)===0&&(T=j&-j,oe=f&-f,T>=oe||T===32&&(oe&4194176)!==0)?f:j}function Mr(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function ts(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ss(){var u=Cr;return Cr<<=1,(Cr&4194176)===0&&(Cr=128),u}function Xe(){var u=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),u}function lt(u){for(var f=[],x=0;31>x;x++)f.push(u);return f}function Ct(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function lr(u,f,x,j,T,q){var oe=u.pendingLanes;u.pendingLanes=x,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=x,u.entangledLanes&=x,u.errorRecoveryDisabledLanes&=x,u.shellSuspendCounter=0;var je=u.entanglements,Ge=u.expirationTimes,at=u.hiddenUpdates;for(x=oe&~x;0<x;){var Ut=31-fr(x),ir=1<<Ut;je[Ut]=0,Ge[Ut]=-1;var At=at[Ut];if(At!==null)for(at[Ut]=null,Ut=0;Ut<At.length;Ut++){var Bt=At[Ut];Bt!==null&&(Bt.lane&=-536870913)}x&=~ir}j!==0&&_r(u,j,0),q!==0&&T===0&&u.tag!==0&&(u.suspendedLanes|=q&~(oe&~f))}function _r(u,f,x){u.pendingLanes|=f,u.suspendedLanes&=~f;var j=31-fr(f);u.entangledLanes|=f,u.entanglements[j]=u.entanglements[j]|1073741824|x&4194218}function ks(u,f){var x=u.entangledLanes|=f;for(u=u.entanglements;x;){var j=31-fr(x),T=1<<j;T&f|u[j]&f&&(u[j]|=f),x&=~T}}function Xr(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Ns(){var u=K.p;return u!==0?u:(u=window.event,u===void 0?32:mO(u.type))}function fe(u,f){var x=K.p;try{return K.p=u,f()}finally{K.p=x}}var Re=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Re,Ae="__reactProps$"+Re,Ie="__reactContainer$"+Re,Te="__reactEvents$"+Re,st="__reactListeners$"+Re,Et="__reactHandles$"+Re,ht="__reactResources$"+Re,dt="__reactMarker$"+Re;function yt(u){delete u[Ne],delete u[Ae],delete u[Te],delete u[st],delete u[Et]}function Vt(u){var f=u[Ne];if(f)return f;for(var x=u.parentNode;x;){if(f=x[Ie]||x[Ne]){if(x=f.alternate,f.child!==null||x!==null&&x.child!==null)for(u=JP(u);u!==null;){if(x=u[Ne])return x;u=JP(u)}return f}u=x,x=u.parentNode}return null}function Zt(u){if(u=u[Ne]||u[Ie]){var f=u.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return u}return null}function de(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(n(33))}function Ve(u){var f=u[ht];return f||(f=u[ht]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function He(u){u[dt]=!0}var kt=new Set,Kt={};function Jt(u,f){Dr(u,f),Dr(u+"Capture",f)}function Dr(u,f){for(Kt[u]=f,u=0;u<f.length;u++)kt.add(f[u])}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tn={},xs={};function _n(u){return Ye.call(xs,u)?!0:Ye.call(tn,u)?!1:bs.test(u)?xs[u]=!0:(tn[u]=!0,!1)}function kn(u,f,x){if(_n(f))if(x===null)u.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var j=f.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+x)}}function Bl(u,f,x){if(x===null)u.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+x)}}function un(u,f,x,j){if(j===null)u.removeAttribute(x);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(x);return}u.setAttributeNS(f,x,""+j)}}function va(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function mc(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Mi(u){var f=mc(u)?"checked":"value",x=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),j=""+u[f];if(!u.hasOwnProperty(f)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var T=x.get,q=x.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return T.call(this)},set:function(oe){j=""+oe,q.call(this,oe)}}),Object.defineProperty(u,f,{enumerable:x.enumerable}),{getValue:function(){return j},setValue:function(oe){j=""+oe},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function go(u){u._valueTracker||(u._valueTracker=Mi(u))}function Fi(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var x=f.getValue(),j="";return u&&(j=mc(u)?u.checked?"true":"false":u.value),u=j,u!==x?(f.setValue(u),!0):!1}function zo(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Qn=/[\n"\\]/g;function Ba(u){return u.replace(Qn,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function zd(u,f,x,j,T,q,oe,je){u.name="",oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?u.type=oe:u.removeAttribute("type"),f!=null?oe==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+va(f)):u.value!==""+va(f)&&(u.value=""+va(f)):oe!=="submit"&&oe!=="reset"||u.removeAttribute("value"),f!=null?Hd(u,oe,va(f)):x!=null?Hd(u,oe,va(x)):j!=null&&u.removeAttribute("value"),T==null&&q!=null&&(u.defaultChecked=!!q),T!=null&&(u.checked=T&&typeof T!="function"&&typeof T!="symbol"),je!=null&&typeof je!="function"&&typeof je!="symbol"&&typeof je!="boolean"?u.name=""+va(je):u.removeAttribute("name")}function Zc(u,f,x,j,T,q,oe,je){if(q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(u.type=q),f!=null||x!=null){if(!(q!=="submit"&&q!=="reset"||f!=null))return;x=x!=null?""+va(x):"",f=f!=null?""+va(f):x,je||f===u.value||(u.value=f),u.defaultValue=f}j=j??T,j=typeof j!="function"&&typeof j!="symbol"&&!!j,u.checked=je?u.checked:!!j,u.defaultChecked=!!j,oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"&&(u.name=oe)}function Hd(u,f,x){f==="number"&&zo(u.ownerDocument)===u||u.defaultValue===""+x||(u.defaultValue=""+x)}function ei(u,f,x,j){if(u=u.options,f){f={};for(var T=0;T<x.length;T++)f["$"+x[T]]=!0;for(x=0;x<u.length;x++)T=f.hasOwnProperty("$"+u[x].value),u[x].selected!==T&&(u[x].selected=T),T&&j&&(u[x].defaultSelected=!0)}else{for(x=""+va(x),f=null,T=0;T<u.length;T++){if(u[T].value===x){u[T].selected=!0,j&&(u[T].defaultSelected=!0);return}f!==null||u[T].disabled||(f=u[T])}f!==null&&(f.selected=!0)}}function vl(u,f,x){if(f!=null&&(f=""+va(f),f!==u.value&&(u.value=f),x==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=x!=null?""+va(x):""}function Bi(u,f,x,j){if(f==null){if(j!=null){if(x!=null)throw Error(n(92));if(H(j)){if(1<j.length)throw Error(n(93));j=j[0]}x=j}x==null&&(x=""),f=x}x=va(f),u.defaultValue=x,j=u.textContent,j===x&&j!==""&&j!==null&&(u.value=j)}function la(u,f){if(f){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=f;return}}u.textContent=f}var xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zu(u,f,x){var j=f.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?j?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":j?u.setProperty(f,x):typeof x!="number"||x===0||xo.has(f)?f==="float"?u.cssFloat=x:u[f]=(""+x).trim():u[f]=x+"px"}function yo(u,f,x){if(f!=null&&typeof f!="object")throw Error(n(62));if(u=u.style,x!=null){for(var j in x)!x.hasOwnProperty(j)||f!=null&&f.hasOwnProperty(j)||(j.indexOf("--")===0?u.setProperty(j,""):j==="float"?u.cssFloat="":u[j]="");for(var T in f)j=f[T],f.hasOwnProperty(T)&&x[T]!==j&&Zu(u,T,j)}else for(var q in f)f.hasOwnProperty(q)&&Zu(u,q,f[q])}function Wd(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(u){return pc.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Jc=null;function Xn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var bo=null,is=null;function gc(u){var f=Zt(u);if(f&&(u=f.stateNode)){var x=u[Ae]||null;e:switch(u=f.stateNode,f.type){case"input":if(zd(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),f=x.name,x.type==="radio"&&f!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Ba(""+f)+'"][type="radio"]'),f=0;f<x.length;f++){var j=x[f];if(j!==u&&j.form===u.form){var T=j[Ae]||null;if(!T)throw Error(n(90));zd(j,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(f=0;f<x.length;f++)j=x[f],j.form===u.form&&Fi(j)}break e;case"textarea":vl(u,x.value,x.defaultValue);break e;case"select":f=x.value,f!=null&&ei(u,!!x.multiple,f,!1)}}}var xc=!1;function yc(u,f,x){if(xc)return u(f,x);xc=!0;try{var j=u(f);return j}finally{if(xc=!1,(bo!==null||is!==null)&&(Gw(),bo&&(f=bo,u=is,is=bo=null,gc(f),u)))for(f=0;f<u.length;f++)gc(u[f])}}function vc(u,f){var x=u.stateNode;if(x===null)return null;var j=x[Ae]||null;if(j===null)return null;x=j[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(u=u.type,j=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!j;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(n(231,f,typeof x));return x}var to=!1;if(as)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){to=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{to=!1}var wo=null,ro=null,Ho=null;function Ul(){if(Ho)return Ho;var u,f=ro,x=f.length,j,T="value"in wo?wo.value:wo.textContent,q=T.length;for(u=0;u<x&&f[u]===T[u];u++);var oe=x-u;for(j=1;j<=oe&&f[x-j]===T[q-j];j++);return Ho=T.slice(u,1<j?1-j:void 0)}function Wo(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function bl(){return!0}function ee(){return!1}function ye(u){function f(x,j,T,q,oe){this._reactName=x,this._targetInst=T,this.type=j,this.nativeEvent=q,this.target=oe,this.currentTarget=null;for(var je in u)u.hasOwnProperty(je)&&(x=u[je],this[je]=x?x(q):q[je]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?bl:ee,this.isPropagationStopped=ee,this}return z(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),f}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tt=ye(Ke),os=z({},Ke,{view:0,detail:0}),Fr=ye(os),Ps,js,bn,Ts=z({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:an,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==bn&&(bn&&u.type==="mousemove"?(Ps=u.screenX-bn.screenX,js=u.screenY-bn.screenY):js=Ps=0,bn=u),Ps)},movementY:function(u){return"movementY"in u?u.movementY:js}}),ca=ye(Ts),Ua=z({},Ts,{dataTransfer:0}),nn=ye(Ua),Ln=z({},os,{relatedTarget:0}),G=ye(Ln),ue=z({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Le=ye(ue),Qe=z({},Ke,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),it=ye(Qe),Rt=z({},Ke,{data:0}),Ht=ye(Rt),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ss(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=hs[u])?!!f[u]:!1}function an(){return Ss}var da=z({},os,{key:function(u){if(u.key){var f=Br[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=Wo(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Yr[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:an,charCode:function(u){return u.type==="keypress"?Wo(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Wo(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),$a=ye(da),Tn=z({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Va=ye(Tn),qa=z({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:an}),Ui=ye(qa),Yd=z({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ju=ye(Yd),Mv=z({},Ts,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Vg=ye(Mv),Qh=z({},Ke,{newState:0,oldState:0}),bc=ye(Qh),Vp=[9,13,27,32],eh=as&&"CompositionEvent"in window,$l=null;as&&"documentMode"in document&&($l=document.documentMode);var Ni=as&&"TextEvent"in window&&!$l,ed=as&&(!eh||$l&&8<$l&&11>=$l),td=" ",Xh=!1;function nm(u,f){switch(u){case"keyup":return Vp.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Kd=!1;function am(u,f){switch(u){case"compositionend":return so(f);case"keypress":return f.which!==32?null:(Xh=!0,td);case"textInput":return u=f.data,u===td&&Xh?null:u;default:return null}}function qg(u,f){if(Kd)return u==="compositionend"||!eh&&nm(u,f)?(u=Ul(),Ho=ro=wo=null,Kd=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return ed&&f.locale!=="ko"?null:f.data;default:return null}}var ri={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wl(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!ri[u.type]:f==="textarea"}function im(u,f,x,j){bo?is?is.push(j):is=[j]:bo=j,f=Zw(f,"onChange"),0<f.length&&(x=new Tt("onChange","change",null,x,j),u.push({event:x,listeners:f}))}var Qd=null,Vl=null;function om(u){zP(u,0)}function $i(u){var f=de(u);if(Fi(f))return u}function No(u,f){if(u==="change")return f}var th=!1;if(as){var ql;if(as){var rd="oninput"in document;if(!rd){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),rd=typeof lm.oninput=="function"}ql=rd}else ql=!1;th=ql&&(!document.documentMode||9<document.documentMode)}function Xd(){Qd&&(Qd.detachEvent("onpropertychange",ba),Vl=Qd=null)}function ba(u){if(u.propertyName==="value"&&$i(Vl)){var f=[];im(f,Vl,u,Xn(u)),yc(om,f)}}function Fv(u,f,x){u==="focusin"?(Xd(),Qd=f,Vl=x,Qd.attachEvent("onpropertychange",ba)):u==="focusout"&&Xd()}function sd(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return $i(Vl)}function nd(u,f){if(u==="click")return $i(f)}function cm(u,f){if(u==="input"||u==="change")return $i(f)}function qp(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var ji=typeof Object.is=="function"?Object.is:qp;function ad(u,f){if(ji(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var x=Object.keys(u),j=Object.keys(f);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var T=x[j];if(!Ye.call(f,T)||!ji(u[T],f[T]))return!1}return!0}function rh(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function sh(u,f){var x=rh(u);u=0;for(var j;x;){if(x.nodeType===3){if(j=u+x.textContent.length,u<=f&&j>=f)return{node:x,offset:f-u};u=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=rh(x)}}function id(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?id(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function dm(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=zo(u.document);f instanceof u.HTMLIFrameElement;){try{var x=typeof f.contentWindow.location.href=="string"}catch{x=!1}if(x)u=f.contentWindow;else break;f=zo(u.document)}return f}function jo(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function od(u,f){var x=dm(f);f=u.focusedElem;var j=u.selectionRange;if(x!==f&&f&&f.ownerDocument&&id(f.ownerDocument.documentElement,f)){if(j!==null&&jo(f)){if(u=j.start,x=j.end,x===void 0&&(x=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(x,f.value.length);else if(x=(u=f.ownerDocument||document)&&u.defaultView||window,x.getSelection){x=x.getSelection();var T=f.textContent.length,q=Math.min(j.start,T);j=j.end===void 0?q:Math.min(j.end,T),!x.extend&&q>j&&(T=j,j=q,q=T),T=sh(f,q);var oe=sh(f,j);T&&oe&&(x.rangeCount!==1||x.anchorNode!==T.node||x.anchorOffset!==T.offset||x.focusNode!==oe.node||x.focusOffset!==oe.offset)&&(u=u.createRange(),u.setStart(T.node,T.offset),x.removeAllRanges(),q>j?(x.addRange(u),x.extend(oe.node,oe.offset)):(u.setEnd(oe.node,oe.offset),x.addRange(u)))}}for(u=[],x=f;x=x.parentNode;)x.nodeType===1&&u.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)x=u[f],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var Wn=as&&"documentMode"in document&&11>=document.documentMode,pn=null,ua=null,Zn=null,wc=!1;function Zh(u,f,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;wc||pn==null||pn!==zo(j)||(j=pn,"selectionStart"in j&&jo(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Zn&&ad(Zn,j)||(Zn=j,j=Zw(ua,"onSelect"),0<j.length&&(f=new Tt("onSelect","select",null,f,x),u.push({event:f,listeners:j}),f.target=pn)))}function no(u,f){var x={};return x[u.toLowerCase()]=f.toLowerCase(),x["Webkit"+u]="webkit"+f,x["Moz"+u]="moz"+f,x}var ld={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionrun:no("Transition","TransitionRun"),transitionstart:no("Transition","TransitionStart"),transitioncancel:no("Transition","TransitionCancel"),transitionend:no("Transition","TransitionEnd")},zg={},Bv={};as&&(Bv=document.createElement("div").style,"AnimationEvent"in window||(delete ld.animationend.animation,delete ld.animationiteration.animation,delete ld.animationstart.animation),"TransitionEvent"in window||delete ld.transitionend.transition);function nh(u){if(zg[u])return zg[u];if(!ld[u])return u;var f=ld[u],x;for(x in f)if(f.hasOwnProperty(x)&&x in Bv)return zg[u]=f[x];return u}var Uv=nh("animationend"),$v=nh("animationiteration"),Vv=nh("animationstart"),bw=nh("transitionrun"),ww=nh("transitionstart"),Nw=nh("transitioncancel"),qv=nh("transitionend"),zv=new Map,Hv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function So(u,f){zv.set(u,f),Jt(f,[u])}var Nl=[],Jh=0,Hg=0;function zp(){for(var u=Jh,f=Hg=Jh=0;f<u;){var x=Nl[f];Nl[f++]=null;var j=Nl[f];Nl[f++]=null;var T=Nl[f];Nl[f++]=null;var q=Nl[f];if(Nl[f++]=null,j!==null&&T!==null){var oe=j.pending;oe===null?T.next=T:(T.next=oe.next,oe.next=T),j.pending=T}q!==0&&Wv(x,T,q)}}function Hp(u,f,x,j){Nl[Jh++]=u,Nl[Jh++]=f,Nl[Jh++]=x,Nl[Jh++]=j,Hg|=j,u.lanes|=j,u=u.alternate,u!==null&&(u.lanes|=j)}function Wg(u,f,x,j){return Hp(u,f,x,j),um(u)}function Zd(u,f){return Hp(u,null,null,f),um(u)}function Wv(u,f,x){u.lanes|=x;var j=u.alternate;j!==null&&(j.lanes|=x);for(var T=!1,q=u.return;q!==null;)q.childLanes|=x,j=q.alternate,j!==null&&(j.childLanes|=x),q.tag===22&&(u=q.stateNode,u===null||u._visibility&1||(T=!0)),u=q,q=q.return;T&&f!==null&&u.tag===3&&(q=u.stateNode,T=31-fr(x),q=q.hiddenUpdates,u=q[T],u===null?q[T]=[f]:u.push(f),f.lane=x|536870912)}function um(u){if(50<p1)throw p1=0,X4=null,Error(n(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var Jd={},Go=new WeakMap;function ha(u,f){if(typeof u=="object"&&u!==null){var x=Go.get(u);return x!==void 0?x:(f={value:u,source:f,stack:Q(f)},Go.set(u,f),f)}return{value:u,source:f,stack:Q(f)}}var eu=[],tu=0,Wp=null,ef=0,Ao=[],Yo=0,ah=null,Nc=1,jc="";function cd(u,f){eu[tu++]=ef,eu[tu++]=Wp,Wp=u,ef=f}function Gg(u,f,x){Ao[Yo++]=Nc,Ao[Yo++]=jc,Ao[Yo++]=ah,ah=u;var j=Nc;u=jc;var T=32-fr(j)-1;j&=~(1<<T),x+=1;var q=32-fr(f)+T;if(30<q){var oe=T-T%5;q=(j&(1<<oe)-1).toString(32),j>>=oe,T-=oe,Nc=1<<32-fr(f)+T|x<<T|j,jc=q+u}else Nc=1<<q|x<<T|j,jc=u}function Gv(u){u.return!==null&&(cd(u,1),Gg(u,1,0))}function Yv(u){for(;u===Wp;)Wp=eu[--tu],eu[tu]=null,ef=eu[--tu],eu[tu]=null;for(;u===ah;)ah=Ao[--Yo],Ao[Yo]=null,jc=Ao[--Yo],Ao[Yo]=null,Nc=Ao[--Yo],Ao[Yo]=null}var ao=null,Vi=null,hn=!1,Sc=null,dd=!1,Kv=Error(n(519));function ru(u){var f=Error(n(418,""));throw fm(ha(f,u)),Kv}function Yg(u){var f=u.stateNode,x=u.type,j=u.memoizedProps;switch(f[Ne]=u,f[Ae]=j,x){case"dialog":on("cancel",f),on("close",f);break;case"iframe":case"object":case"embed":on("load",f);break;case"video":case"audio":for(x=0;x<x1.length;x++)on(x1[x],f);break;case"source":on("error",f);break;case"img":case"image":case"link":on("error",f),on("load",f);break;case"details":on("toggle",f);break;case"input":on("invalid",f),Zc(f,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0),go(f);break;case"select":on("invalid",f);break;case"textarea":on("invalid",f),Bi(f,j.value,j.defaultValue,j.children),go(f)}x=j.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||f.textContent===""+x||j.suppressHydrationWarning===!0||YP(f.textContent,x)?(j.popover!=null&&(on("beforetoggle",f),on("toggle",f)),j.onScroll!=null&&on("scroll",f),j.onScrollEnd!=null&&on("scrollend",f),j.onClick!=null&&(f.onclick=Jw),f=!0):f=!1,f||ru(u)}function hm(u){for(ao=u.return;ao;)switch(ao.tag){case 3:case 27:dd=!0;return;case 5:case 13:dd=!1;return;default:ao=ao.return}}function Gp(u){if(u!==ao)return!1;if(!hn)return hm(u),hn=!0,!1;var f=!1,x;if((x=u.tag!==3&&u.tag!==27)&&((x=u.tag===5)&&(x=u.type,x=!(x!=="form"&&x!=="button")||mA(u.type,u.memoizedProps)),x=!x),x&&(f=!0),f&&Vi&&ru(u),hm(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8)if(x=u.data,x==="/$"){if(f===0){Vi=du(u.nextSibling);break e}f--}else x!=="$"&&x!=="$!"&&x!=="$?"||f++;u=u.nextSibling}Vi=null}}else Vi=ao?du(u.stateNode.nextSibling):null;return!0}function Yp(){Vi=ao=null,hn=!1}function fm(u){Sc===null?Sc=[u]:Sc.push(u)}var Kp=Error(n(460)),jw=Error(n(474)),Qv={then:function(){}};function Sw(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Ac(){}function zl(u,f,x){switch(x=u[x],x===void 0?u.push(f):x!==f&&(f.then(Ac,Ac),f=x),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===Kp?Error(n(483)):u;default:if(typeof f.status=="string")f.then(Ac,Ac);else{if(u=sa,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=f,u.status="pending",u.then(function(j){if(f.status==="pending"){var T=f;T.status="fulfilled",T.value=j}},function(j){if(f.status==="pending"){var T=f;T.status="rejected",T.reason=j}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===Kp?Error(n(483)):u}throw jl=f,Kp}}var jl=null;function Aw(){if(jl===null)throw Error(n(459));var u=jl;return jl=null,u}var tf=null,Hl=0;function Eo(u){var f=Hl;return Hl+=1,tf===null&&(tf=[]),zl(tf,u,f)}function Qp(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function Kg(u,f){throw f.$$typeof===i?Error(n(525)):(u=Object.prototype.toString.call(f),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function Xv(u){var f=u._init;return f(u._payload)}function Zv(u){function f(ut,nt){if(u){var bt=ut.deletions;bt===null?(ut.deletions=[nt],ut.flags|=16):bt.push(nt)}}function x(ut,nt){if(!u)return null;for(;nt!==null;)f(ut,nt),nt=nt.sibling;return null}function j(ut){for(var nt=new Map;ut!==null;)ut.key!==null?nt.set(ut.key,ut):nt.set(ut.index,ut),ut=ut.sibling;return nt}function T(ut,nt){return ut=Em(ut,nt),ut.index=0,ut.sibling=null,ut}function q(ut,nt,bt){return ut.index=bt,u?(bt=ut.alternate,bt!==null?(bt=bt.index,bt<nt?(ut.flags|=33554434,nt):bt):(ut.flags|=33554434,nt)):(ut.flags|=1048576,nt)}function oe(ut){return u&&ut.alternate===null&&(ut.flags|=33554434),ut}function je(ut,nt,bt,Yt){return nt===null||nt.tag!==6?(nt=q4(bt,ut.mode,Yt),nt.return=ut,nt):(nt=T(nt,bt),nt.return=ut,nt)}function Ge(ut,nt,bt,Yt){var qr=bt.type;return qr===c?Ut(ut,nt,bt.props.children,Yt,bt.key):nt!==null&&(nt.elementType===qr||typeof qr=="object"&&qr!==null&&qr.$$typeof===S&&Xv(qr)===nt.type)?(nt=T(nt,bt.props),Qp(nt,bt),nt.return=ut,nt):(nt=Vw(bt.type,bt.key,bt.props,null,ut.mode,Yt),Qp(nt,bt),nt.return=ut,nt)}function at(ut,nt,bt,Yt){return nt===null||nt.tag!==4||nt.stateNode.containerInfo!==bt.containerInfo||nt.stateNode.implementation!==bt.implementation?(nt=z4(bt,ut.mode,Yt),nt.return=ut,nt):(nt=T(nt,bt.children||[]),nt.return=ut,nt)}function Ut(ut,nt,bt,Yt,qr){return nt===null||nt.tag!==7?(nt=c0(bt,ut.mode,Yt,qr),nt.return=ut,nt):(nt=T(nt,bt),nt.return=ut,nt)}function ir(ut,nt,bt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return nt=q4(""+nt,ut.mode,bt),nt.return=ut,nt;if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case o:return bt=Vw(nt.type,nt.key,nt.props,null,ut.mode,bt),Qp(bt,nt),bt.return=ut,bt;case l:return nt=z4(nt,ut.mode,bt),nt.return=ut,nt;case S:var Yt=nt._init;return nt=Yt(nt._payload),ir(ut,nt,bt)}if(H(nt)||I(nt))return nt=c0(nt,ut.mode,bt,null),nt.return=ut,nt;if(typeof nt.then=="function")return ir(ut,Eo(nt),bt);if(nt.$$typeof===g)return ir(ut,Bw(ut,nt),bt);Kg(ut,nt)}return null}function At(ut,nt,bt,Yt){var qr=nt!==null?nt.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return qr!==null?null:je(ut,nt,""+bt,Yt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case o:return bt.key===qr?Ge(ut,nt,bt,Yt):null;case l:return bt.key===qr?at(ut,nt,bt,Yt):null;case S:return qr=bt._init,bt=qr(bt._payload),At(ut,nt,bt,Yt)}if(H(bt)||I(bt))return qr!==null?null:Ut(ut,nt,bt,Yt,null);if(typeof bt.then=="function")return At(ut,nt,Eo(bt),Yt);if(bt.$$typeof===g)return At(ut,nt,Bw(ut,bt),Yt);Kg(ut,bt)}return null}function Bt(ut,nt,bt,Yt,qr){if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number"||typeof Yt=="bigint")return ut=ut.get(bt)||null,je(nt,ut,""+Yt,qr);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case o:return ut=ut.get(Yt.key===null?bt:Yt.key)||null,Ge(nt,ut,Yt,qr);case l:return ut=ut.get(Yt.key===null?bt:Yt.key)||null,at(nt,ut,Yt,qr);case S:var Js=Yt._init;return Yt=Js(Yt._payload),Bt(ut,nt,bt,Yt,qr)}if(H(Yt)||I(Yt))return ut=ut.get(bt)||null,Ut(nt,ut,Yt,qr,null);if(typeof Yt.then=="function")return Bt(ut,nt,bt,Eo(Yt),qr);if(Yt.$$typeof===g)return Bt(ut,nt,bt,Bw(nt,Yt),qr);Kg(nt,Yt)}return null}function rs(ut,nt,bt,Yt){for(var qr=null,Js=null,ls=nt,us=nt=0,lo=null;ls!==null&&us<bt.length;us++){ls.index>us?(lo=ls,ls=null):lo=ls.sibling;var Nn=At(ut,ls,bt[us],Yt);if(Nn===null){ls===null&&(ls=lo);break}u&&ls&&Nn.alternate===null&&f(ut,ls),nt=q(Nn,nt,us),Js===null?qr=Nn:Js.sibling=Nn,Js=Nn,ls=lo}if(us===bt.length)return x(ut,ls),hn&&cd(ut,us),qr;if(ls===null){for(;us<bt.length;us++)ls=ir(ut,bt[us],Yt),ls!==null&&(nt=q(ls,nt,us),Js===null?qr=ls:Js.sibling=ls,Js=ls);return hn&&cd(ut,us),qr}for(ls=j(ls);us<bt.length;us++)lo=Bt(ls,ut,us,bt[us],Yt),lo!==null&&(u&&lo.alternate!==null&&ls.delete(lo.key===null?us:lo.key),nt=q(lo,nt,us),Js===null?qr=lo:Js.sibling=lo,Js=lo);return u&&ls.forEach(function(Om){return f(ut,Om)}),hn&&cd(ut,us),qr}function Es(ut,nt,bt,Yt){if(bt==null)throw Error(n(151));for(var qr=null,Js=null,ls=nt,us=nt=0,lo=null,Nn=bt.next();ls!==null&&!Nn.done;us++,Nn=bt.next()){ls.index>us?(lo=ls,ls=null):lo=ls.sibling;var Om=At(ut,ls,Nn.value,Yt);if(Om===null){ls===null&&(ls=lo);break}u&&ls&&Om.alternate===null&&f(ut,ls),nt=q(Om,nt,us),Js===null?qr=Om:Js.sibling=Om,Js=Om,ls=lo}if(Nn.done)return x(ut,ls),hn&&cd(ut,us),qr;if(ls===null){for(;!Nn.done;us++,Nn=bt.next())Nn=ir(ut,Nn.value,Yt),Nn!==null&&(nt=q(Nn,nt,us),Js===null?qr=Nn:Js.sibling=Nn,Js=Nn);return hn&&cd(ut,us),qr}for(ls=j(ls);!Nn.done;us++,Nn=bt.next())Nn=Bt(ls,ut,us,Nn.value,Yt),Nn!==null&&(u&&Nn.alternate!==null&&ls.delete(Nn.key===null?us:Nn.key),nt=q(Nn,nt,us),Js===null?qr=Nn:Js.sibling=Nn,Js=Nn);return u&&ls.forEach(function(eZ){return f(ut,eZ)}),hn&&cd(ut,us),qr}function Wa(ut,nt,bt,Yt){if(typeof bt=="object"&&bt!==null&&bt.type===c&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case o:e:{for(var qr=bt.key;nt!==null;){if(nt.key===qr){if(qr=bt.type,qr===c){if(nt.tag===7){x(ut,nt.sibling),Yt=T(nt,bt.props.children),Yt.return=ut,ut=Yt;break e}}else if(nt.elementType===qr||typeof qr=="object"&&qr!==null&&qr.$$typeof===S&&Xv(qr)===nt.type){x(ut,nt.sibling),Yt=T(nt,bt.props),Qp(Yt,bt),Yt.return=ut,ut=Yt;break e}x(ut,nt);break}else f(ut,nt);nt=nt.sibling}bt.type===c?(Yt=c0(bt.props.children,ut.mode,Yt,bt.key),Yt.return=ut,ut=Yt):(Yt=Vw(bt.type,bt.key,bt.props,null,ut.mode,Yt),Qp(Yt,bt),Yt.return=ut,ut=Yt)}return oe(ut);case l:e:{for(qr=bt.key;nt!==null;){if(nt.key===qr)if(nt.tag===4&&nt.stateNode.containerInfo===bt.containerInfo&&nt.stateNode.implementation===bt.implementation){x(ut,nt.sibling),Yt=T(nt,bt.children||[]),Yt.return=ut,ut=Yt;break e}else{x(ut,nt);break}else f(ut,nt);nt=nt.sibling}Yt=z4(bt,ut.mode,Yt),Yt.return=ut,ut=Yt}return oe(ut);case S:return qr=bt._init,bt=qr(bt._payload),Wa(ut,nt,bt,Yt)}if(H(bt))return rs(ut,nt,bt,Yt);if(I(bt)){if(qr=I(bt),typeof qr!="function")throw Error(n(150));return bt=qr.call(bt),Es(ut,nt,bt,Yt)}if(typeof bt.then=="function")return Wa(ut,nt,Eo(bt),Yt);if(bt.$$typeof===g)return Wa(ut,nt,Bw(ut,bt),Yt);Kg(ut,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint"?(bt=""+bt,nt!==null&&nt.tag===6?(x(ut,nt.sibling),Yt=T(nt,bt),Yt.return=ut,ut=Yt):(x(ut,nt),Yt=q4(bt,ut.mode,Yt),Yt.return=ut,ut=Yt),oe(ut)):x(ut,nt)}return function(ut,nt,bt,Yt){try{Hl=0;var qr=Wa(ut,nt,bt,Yt);return tf=null,qr}catch(ls){if(ls===Kp)throw ls;var Js=pd(29,ls,null,ut.mode);return Js.lanes=Yt,Js.return=ut,Js}finally{}}}var ih=Zv(!0),Jv=Zv(!1),mm=ie(null),rf=ie(0);function Xp(u,f){u=mf,le(rf,u),le(mm,f),mf=u|f.baseLanes}function sf(){le(rf,mf),le(mm,mm.current)}function Zp(){mf=rf.current,se(mm),se(rf)}var Wl=ie(null),Ec=null;function oh(u){var f=u.alternate;le(si,si.current&1),le(Wl,u),Ec===null&&(f===null||mm.current!==null||f.memoizedState!==null)&&(Ec=u)}function Ew(u){if(u.tag===22){if(le(si,si.current),le(Wl,u),Ec===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(Ec=u)}}else lh()}function lh(){le(si,si.current),le(Wl,Wl.current)}function su(u){se(Wl),Ec===u&&(Ec=null),se(si)}var si=ie(0);function Qg(u){for(var f=u;f!==null;){if(f.tag===13){var x=f.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Cw=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(x,j){u.push(j)}};this.abort=function(){f.aborted=!0,u.forEach(function(x){return x()})}},Xg=e.unstable_scheduleCallback,y4=e.unstable_NormalPriority,ni={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zg(){return{controller:new Cw,data:new Map,refCount:0}}function _(u){u.refCount--,u.refCount===0&&Xg(y4,function(){u.controller.abort()})}var L=null,X=0,ne=0,he=null;function pe(u,f){if(L===null){var x=L=[];X=0,ne=aA(),he={status:"pending",value:void 0,then:function(j){x.push(j)}}}return X++,f.then(xe,xe),f}function xe(){if(--X===0&&L!==null){he!==null&&(he.status="fulfilled");var u=L;L=null,ne=0,he=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function Se(u,f){var x=[],j={status:"pending",value:null,reason:null,then:function(T){x.push(T)}};return u.then(function(){j.status="fulfilled",j.value=f;for(var T=0;T<x.length;T++)(0,x[T])(f)},function(T){for(j.status="rejected",j.reason=T,T=0;T<x.length;T++)(0,x[T])(void 0)}),j}var _e=k.S;k.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&pe(u,f),_e!==null&&_e(u,f)};var Fe=ie(null);function tt(){var u=Fe.current;return u!==null?u:sa.pooledCache}function vt(u,f){f===null?le(Fe,Fe.current):le(Fe,f.pool)}function Ue(){var u=tt();return u===null?null:{parent:ni._currentValue,pool:u}}var rt=0,et=null,Nt=null,ot=null,Ot=!1,Lt=!1,rr=!1,Qt=0,$r=0,Pr=null,Ds=0;function jr(){throw Error(n(321))}function Ys(u,f){if(f===null)return!1;for(var x=0;x<f.length&&x<u.length;x++)if(!ji(u[x],f[x]))return!1;return!0}function _a(u,f,x,j,T,q){return rt=q,et=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,k.H=u===null||u.memoizedState===null?nf:Kl,rr=!1,q=x(j,T),rr=!1,Lt&&(q=Vr(f,x,j,T)),As(u),q}function As(u){k.H=Cc;var f=Nt!==null&&Nt.next!==null;if(rt=0,ot=Nt=et=null,Ot=!1,$r=0,Pr=null,f)throw Error(n(300));u===null||io||(u=u.dependencies,u!==null&&Fw(u)&&(io=!0))}function Vr(u,f,x,j){et=u;var T=0;do{if(Lt&&(Pr=null),$r=0,Lt=!1,25<=T)throw Error(n(301));if(T+=1,ot=Nt=null,u.updateQueue!=null){var q=u.updateQueue;q.lastEffect=null,q.events=null,q.stores=null,q.memoCache!=null&&(q.memoCache.index=0)}k.H=iu,q=f(x,j)}while(Lt);return q}function Ar(){var u=k.H,f=u.useState()[0];return f=typeof f.then=="function"?Gn(f):f,u=u.useState()[0],(Nt!==null?Nt.memoizedState:null)!==u&&(et.flags|=1024),f}function fa(){var u=Qt!==0;return Qt=0,u}function ys(u,f,x){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~x}function Qs(u){if(Ot){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Ot=!1}rt=0,ot=Nt=et=null,Lt=!1,$r=Qt=0,Pr=null}function Bs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?et.memoizedState=ot=u:ot=ot.next=u,ot}function Xs(){if(Nt===null){var u=et.alternate;u=u!==null?u.memoizedState:null}else u=Nt.next;var f=ot===null?et.memoizedState:ot.next;if(f!==null)ot=f,Nt=u;else{if(u===null)throw et.alternate===null?Error(n(467)):Error(n(310));Nt=u,u={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},ot===null?et.memoizedState=ot=u:ot=ot.next=u}return ot}var Si;Si=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Gn(u){var f=$r;return $r+=1,Pr===null&&(Pr=[]),u=zl(Pr,u,f),f=et,(ot===null?f.memoizedState:ot.next)===null&&(f=f.alternate,k.H=f===null||f.memoizedState===null?nf:Kl),u}function ai(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Gn(u);if(u.$$typeof===g)return Jo(u)}throw Error(n(438,String(u)))}function qi(u){var f=null,x=et.updateQueue;if(x!==null&&(f=x.memoCache),f==null){var j=et.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(f={data:j.data.map(function(T){return T.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),x===null&&(x=Si(),et.updateQueue=x),x.memoCache=f,x=f.data[f.index],x===void 0)for(x=f.data[f.index]=Array(u),j=0;j<u;j++)x[j]=E;return f.index++,x}function Mn(u,f){return typeof f=="function"?f(u):f}function Zs(u){var f=Xs();return gn(f,Nt,u)}function gn(u,f,x){var j=u.queue;if(j===null)throw Error(n(311));j.lastRenderedReducer=x;var T=u.baseQueue,q=j.pending;if(q!==null){if(T!==null){var oe=T.next;T.next=q.next,q.next=oe}f.baseQueue=T=q,j.pending=null}if(q=u.baseState,T===null)u.memoizedState=q;else{f=T.next;var je=oe=null,Ge=null,at=f,Ut=!1;do{var ir=at.lane&-536870913;if(ir!==at.lane?(fn&ir)===ir:(rt&ir)===ir){var At=at.revertLane;if(At===0)Ge!==null&&(Ge=Ge.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),ir===ne&&(Ut=!0);else if((rt&At)===At){at=at.next,At===ne&&(Ut=!0);continue}else ir={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ge===null?(je=Ge=ir,oe=q):Ge=Ge.next=ir,et.lanes|=At,Cm|=At;ir=at.action,rr&&x(q,ir),q=at.hasEagerState?at.eagerState:x(q,ir)}else At={lane:ir,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ge===null?(je=Ge=At,oe=q):Ge=Ge.next=At,et.lanes|=ir,Cm|=ir;at=at.next}while(at!==null&&at!==f);if(Ge===null?oe=q:Ge.next=je,!ji(q,u.memoizedState)&&(io=!0,Ut&&(x=he,x!==null)))throw x;u.memoizedState=q,u.baseState=oe,u.baseQueue=Ge,j.lastRenderedState=q}return T===null&&(j.lanes=0),[u.memoizedState,j.dispatch]}function ra(u){var f=Xs(),x=f.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=u;var j=x.dispatch,T=x.pending,q=f.memoizedState;if(T!==null){x.pending=null;var oe=T=T.next;do q=u(q,oe.action),oe=oe.next;while(oe!==T);ji(q,f.memoizedState)||(io=!0),f.memoizedState=q,f.baseQueue===null&&(f.baseState=q),x.lastRenderedState=q}return[q,j]}function wn(u,f,x){var j=et,T=Xs(),q=hn;if(q){if(x===void 0)throw Error(n(407));x=x()}else x=f();var oe=!ji((Nt||T).memoizedState,x);if(oe&&(T.memoizedState=x,io=!0),T=T.queue,t0(wa.bind(null,j,T,u),[u]),T.getSnapshot!==f||oe||ot!==null&&ot.memoizedState.tag&1){if(j.flags|=2048,dh(9,Gl.bind(null,j,T,x,f),{destroy:void 0},null),sa===null)throw Error(n(349));q||(rt&60)!==0||Ai(j,f,x)}return x}function Ai(u,f,x){u.flags|=16384,u={getSnapshot:f,value:x},f=et.updateQueue,f===null?(f=Si(),et.updateQueue=f,f.stores=[u]):(x=f.stores,x===null?f.stores=[u]:x.push(u))}function Gl(u,f,x,j){f.value=x,f.getSnapshot=j,Co(f)&&Dn(u)}function wa(u,f,x){return x(function(){Co(f)&&Dn(u)})}function Co(u){var f=u.getSnapshot;u=u.value;try{var x=f();return!ji(u,x)}catch{return!0}}function Dn(u){var f=Zd(u,2);f!==null&&Sl(f,u,2)}function ka(u){var f=Bs();if(typeof u=="function"){var x=u;if(u=x(),rr){tr(!0);try{x()}finally{tr(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:u},f}function Ko(u,f,x,j){return u.baseState=x,gn(u,Nt,typeof j=="function"?j:Mn)}function _o(u,f,x,j,T){if(ix(u))throw Error(n(485));if(u=f.action,u!==null){var q={payload:T,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(oe){q.listeners.push(oe)}};k.T!==null?x(!0):q.isTransition=!1,j(q),x=f.pending,x===null?(q.next=f.pending=q,Qo(f,q)):(q.next=x.next,f.pending=x.next=q)}}function Qo(u,f){var x=f.action,j=f.payload,T=u.state;if(f.isTransition){var q=k.T,oe={};k.T=oe;try{var je=x(T,j),Ge=k.S;Ge!==null&&Ge(oe,je),Xo(u,f,je)}catch(at){To(u,f,at)}finally{k.T=q}}else try{q=x(T,j),Xo(u,f,q)}catch(at){To(u,f,at)}}function Xo(u,f,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(j){ko(u,f,j)},function(j){return To(u,f,j)}):ko(u,f,x)}function ko(u,f,x){f.status="fulfilled",f.value=x,Fn(f),u.state=x,f=u.pending,f!==null&&(x=f.next,x===f?u.pending=null:(x=x.next,f.next=x,Qo(u,x)))}function To(u,f,x){var j=u.pending;if(u.pending=null,j!==null){j=j.next;do f.status="rejected",f.reason=x,Fn(f),f=f.next;while(f!==j)}u.action=null}function Fn(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function Zo(u,f){return f}function Yl(u,f){if(hn){var x=sa.formState;if(x!==null){e:{var j=et;if(hn){if(Vi){t:{for(var T=Vi,q=dd;T.nodeType!==8;){if(!q){T=null;break t}if(T=du(T.nextSibling),T===null){T=null;break t}}q=T.data,T=q==="F!"||q==="F"?T:null}if(T){Vi=du(T.nextSibling),j=T.data==="F!";break e}}ru(j)}j=!1}j&&(f=x[0])}}return x=Bs(),x.memoizedState=x.baseState=f,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:f},x.queue=j,x=Iw.bind(null,et,j),j.dispatch=x,j=ka(!1),q=hh.bind(null,et,!1,j.queue),j=Bs(),T={state:f,dispatch:null,action:u,pending:null},j.queue=T,x=_o.bind(null,et,T,q,x),T.dispatch=x,j.memoizedState=u,[f,x,!1]}function ch(u){var f=Xs();return ud(f,Nt,u)}function ud(u,f,x){f=gn(u,f,Zo)[0],u=Zs(Mn)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Gn(f):f;var j=Xs(),T=j.queue,q=T.dispatch;return x!==j.memoizedState&&(et.flags|=2048,dh(9,zi.bind(null,T,x),{destroy:void 0},null)),[f,q,u]}function zi(u,f){u.action=f}function Jp(u){var f=Xs(),x=Nt;if(x!==null)return ud(f,x,u);Xs(),f=f.memoizedState,x=Xs();var j=x.queue.dispatch;return x.memoizedState=u,[f,j,!1]}function dh(u,f,x,j){return u={tag:u,create:f,inst:x,deps:j,next:null},f=et.updateQueue,f===null&&(f=Si(),et.updateQueue=f),x=f.lastEffect,x===null?f.lastEffect=u.next=u:(j=x.next,x.next=u,u.next=j,f.lastEffect=u),u}function e0(){return Xs().memoizedState}function uh(u,f,x,j){var T=Bs();et.flags|=u,T.memoizedState=dh(1|f,x,{destroy:void 0},j===void 0?null:j)}function Jg(u,f,x,j){var T=Xs();j=j===void 0?null:j;var q=T.memoizedState.inst;Nt!==null&&j!==null&&Ys(j,Nt.memoizedState.deps)?T.memoizedState=dh(f,x,q,j):(et.flags|=u,T.memoizedState=dh(1|f,x,q,j))}function _w(u,f){uh(8390656,8,u,f)}function t0(u,f){Jg(2048,8,u,f)}function nu(u,f){return Jg(4,2,u,f)}function kw(u,f){return Jg(4,4,u,f)}function Tw(u,f){if(typeof f=="function"){u=u();var x=f(u);return function(){typeof x=="function"?x():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function Dw(u,f,x){x=x!=null?x.concat([u]):null,Jg(4,4,Tw.bind(null,f,u),x)}function ex(){}function r0(u,f){var x=Xs();f=f===void 0?null:f;var j=x.memoizedState;return f!==null&&Ys(f,j[1])?j[0]:(x.memoizedState=[u,f],u)}function e1(u,f){var x=Xs();f=f===void 0?null:f;var j=x.memoizedState;if(f!==null&&Ys(f,j[1]))return j[0];if(j=u(),rr){tr(!0);try{u()}finally{tr(!1)}}return x.memoizedState=[j,f],j}function tx(u,f,x){return x===void 0||(rt&1073741824)!==0?u.memoizedState=f:(u.memoizedState=x,u=EP(),et.lanes|=u,Cm|=u,x)}function s0(u,f,x,j){return ji(x,f)?x:mm.current!==null?(u=tx(u,x,j),ji(u,f)||(io=!0),u):(rt&42)===0?(io=!0,u.memoizedState=x):(u=EP(),et.lanes|=u,Cm|=u,f)}function rx(u,f,x,j,T){var q=K.p;K.p=q!==0&&8>q?q:8;var oe=k.T,je={};k.T=je,hh(u,!1,f,x);try{var Ge=T(),at=k.S;if(at!==null&&at(je,Ge),Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var Ut=Se(Ge,j);pm(u,f,Ut,Pc(u))}else pm(u,f,j,Pc(u))}catch(ir){pm(u,f,{then:function(){},status:"rejected",reason:ir},Pc())}finally{K.p=q,k.T=oe}}function n0(){}function sx(u,f,x,j){if(u.tag!==5)throw Error(n(476));var T=Pw(u).queue;rx(u,T,f,W,x===null?n0:function(){return a0(u),x(j)})}function Pw(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:W},next:null};var x={};return f.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:x},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function a0(u){var f=Pw(u).next.queue;pm(u,f,{},Pc())}function nx(){return Jo(N1)}function ax(){return Xs().memoizedState}function au(){return Xs().memoizedState}function Ow(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var x=Pc();u=wm(x);var j=Nm(f,u,x);j!==null&&(Sl(j,f,x),a1(j,f,x)),f={cache:Zg()},u.payload=f;return}f=f.return}}function Rw(u,f,x){var j=Pc();x={lane:j,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},ix(u)?t1(f,x):(x=Wg(u,f,x,j),x!==null&&(Sl(x,u,j),Lw(x,f,j)))}function Iw(u,f,x){var j=Pc();pm(u,f,x,j)}function pm(u,f,x,j){var T={lane:j,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(ix(u))t1(f,T);else{var q=u.alternate;if(u.lanes===0&&(q===null||q.lanes===0)&&(q=f.lastRenderedReducer,q!==null))try{var oe=f.lastRenderedState,je=q(oe,x);if(T.hasEagerState=!0,T.eagerState=je,ji(je,oe))return Hp(u,f,T,0),sa===null&&zp(),!1}catch{}finally{}if(x=Wg(u,f,T,j),x!==null)return Sl(x,u,j),Lw(x,f,j),!0}return!1}function hh(u,f,x,j){if(j={lane:2,revertLane:aA(),action:j,hasEagerState:!1,eagerState:null,next:null},ix(u)){if(f)throw Error(n(479))}else f=Wg(u,x,j,2),f!==null&&Sl(f,u,2)}function ix(u){var f=u.alternate;return u===et||f!==null&&f===et}function t1(u,f){Lt=Ot=!0;var x=u.pending;x===null?f.next=f:(f.next=x.next,x.next=f),u.pending=f}function Lw(u,f,x){if((x&4194176)!==0){var j=f.lanes;j&=u.pendingLanes,x|=j,f.lanes=x,ks(u,x)}}var Cc={readContext:Jo,use:ai,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useInsertionEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useSyncExternalStore:jr,useId:jr};Cc.useCacheRefresh=jr,Cc.useMemoCache=jr,Cc.useHostTransitionStatus=jr,Cc.useFormState=jr,Cc.useActionState=jr,Cc.useOptimistic=jr;var nf={readContext:Jo,use:ai,useCallback:function(u,f){return Bs().memoizedState=[u,f===void 0?null:f],u},useContext:Jo,useEffect:_w,useImperativeHandle:function(u,f,x){x=x!=null?x.concat([u]):null,uh(4194308,4,Tw.bind(null,f,u),x)},useLayoutEffect:function(u,f){return uh(4194308,4,u,f)},useInsertionEffect:function(u,f){uh(4,2,u,f)},useMemo:function(u,f){var x=Bs();f=f===void 0?null:f;var j=u();if(rr){tr(!0);try{u()}finally{tr(!1)}}return x.memoizedState=[j,f],j},useReducer:function(u,f,x){var j=Bs();if(x!==void 0){var T=x(f);if(rr){tr(!0);try{x(f)}finally{tr(!1)}}}else T=f;return j.memoizedState=j.baseState=T,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:T},j.queue=u,u=u.dispatch=Rw.bind(null,et,u),[j.memoizedState,u]},useRef:function(u){var f=Bs();return u={current:u},f.memoizedState=u},useState:function(u){u=ka(u);var f=u.queue,x=Iw.bind(null,et,f);return f.dispatch=x,[u.memoizedState,x]},useDebugValue:ex,useDeferredValue:function(u,f){var x=Bs();return tx(x,u,f)},useTransition:function(){var u=ka(!1);return u=rx.bind(null,et,u.queue,!0,!1),Bs().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,x){var j=et,T=Bs();if(hn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=f(),sa===null)throw Error(n(349));(fn&60)!==0||Ai(j,f,x)}T.memoizedState=x;var q={value:x,getSnapshot:f};return T.queue=q,_w(wa.bind(null,j,q,u),[u]),j.flags|=2048,dh(9,Gl.bind(null,j,q,x,f),{destroy:void 0},null),x},useId:function(){var u=Bs(),f=sa.identifierPrefix;if(hn){var x=jc,j=Nc;x=(j&~(1<<32-fr(j)-1)).toString(32)+x,f=":"+f+"R"+x,x=Qt++,0<x&&(f+="H"+x.toString(32)),f+=":"}else x=Ds++,f=":"+f+"r"+x.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return Bs().memoizedState=Ow.bind(null,et)}};nf.useMemoCache=qi,nf.useHostTransitionStatus=nx,nf.useFormState=Yl,nf.useActionState=Yl,nf.useOptimistic=function(u){var f=Bs();f.memoizedState=f.baseState=u;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=x,f=hh.bind(null,et,!0,x),x.dispatch=f,[u,f]};var Kl={readContext:Jo,use:ai,useCallback:r0,useContext:Jo,useEffect:t0,useImperativeHandle:Dw,useInsertionEffect:nu,useLayoutEffect:kw,useMemo:e1,useReducer:Zs,useRef:e0,useState:function(){return Zs(Mn)},useDebugValue:ex,useDeferredValue:function(u,f){var x=Xs();return s0(x,Nt.memoizedState,u,f)},useTransition:function(){var u=Zs(Mn)[0],f=Xs().memoizedState;return[typeof u=="boolean"?u:Gn(u),f]},useSyncExternalStore:wn,useId:ax};Kl.useCacheRefresh=au,Kl.useMemoCache=qi,Kl.useHostTransitionStatus=nx,Kl.useFormState=ch,Kl.useActionState=ch,Kl.useOptimistic=function(u,f){var x=Xs();return Ko(x,Nt,u,f)};var iu={readContext:Jo,use:ai,useCallback:r0,useContext:Jo,useEffect:t0,useImperativeHandle:Dw,useInsertionEffect:nu,useLayoutEffect:kw,useMemo:e1,useReducer:ra,useRef:e0,useState:function(){return ra(Mn)},useDebugValue:ex,useDeferredValue:function(u,f){var x=Xs();return Nt===null?tx(x,u,f):s0(x,Nt.memoizedState,u,f)},useTransition:function(){var u=ra(Mn)[0],f=Xs().memoizedState;return[typeof u=="boolean"?u:Gn(u),f]},useSyncExternalStore:wn,useId:ax};iu.useCacheRefresh=au,iu.useMemoCache=qi,iu.useHostTransitionStatus=nx,iu.useFormState=Jp,iu.useActionState=Jp,iu.useOptimistic=function(u,f){var x=Xs();return Nt!==null?Ko(x,Nt,u,f):(x.baseState=u,[u,x.queue.dispatch])};function gm(u,f,x,j){f=u.memoizedState,x=x(j,f),x=x==null?f:z({},f,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var _c={isMounted:function(u){return(u=u._reactInternals)?V(u)===u:!1},enqueueSetState:function(u,f,x){u=u._reactInternals;var j=Pc(),T=wm(j);T.payload=f,x!=null&&(T.callback=x),f=Nm(u,T,j),f!==null&&(Sl(f,u,j),a1(f,u,j))},enqueueReplaceState:function(u,f,x){u=u._reactInternals;var j=Pc(),T=wm(j);T.tag=1,T.payload=f,x!=null&&(T.callback=x),f=Nm(u,T,j),f!==null&&(Sl(f,u,j),a1(f,u,j))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var x=Pc(),j=wm(x);j.tag=2,f!=null&&(j.callback=f),f=Nm(u,j,x),f!==null&&(Sl(f,u,x),a1(f,u,x))}};function ou(u,f,x,j,T,q,oe){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(j,q,oe):f.prototype&&f.prototype.isPureReactComponent?!ad(x,j)||!ad(T,q):!0}function lu(u,f,x,j){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(x,j),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(x,j),f.state!==u&&_c.enqueueReplaceState(f,f.state,null)}function hd(u,f){var x=f;if("ref"in f){x={};for(var j in f)j!=="ref"&&(x[j]=f[j])}if(u=u.defaultProps){x===f&&(x=z({},x));for(var T in u)x[T]===void 0&&(x[T]=u[T])}return x}var xm=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function r1(u){xm(u)}function Mw(u){console.error(u)}function ox(u){xm(u)}function ym(u,f){try{var x=u.onUncaughtError;x(f.value,{componentStack:f.stack})}catch(j){setTimeout(function(){throw j})}}function BD(u,f,x){try{var j=u.onCaughtError;j(x.value,{componentStack:x.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function v4(u,f,x){return x=wm(x),x.tag=3,x.payload={element:null},x.callback=function(){ym(u,f)},x}function UD(u){return u=wm(u),u.tag=3,u}function $D(u,f,x,j){var T=x.type.getDerivedStateFromError;if(typeof T=="function"){var q=j.value;u.payload=function(){return T(q)},u.callback=function(){BD(f,x,j)}}var oe=x.stateNode;oe!==null&&typeof oe.componentDidCatch=="function"&&(u.callback=function(){BD(f,x,j),typeof T!="function"&&(_m===null?_m=new Set([this]):_m.add(this));var je=j.stack;this.componentDidCatch(j.value,{componentStack:je!==null?je:""})})}function JQ(u,f,x,j,T){if(x.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(f=x.alternate,f!==null&&n1(f,x,T,!0),x=Wl.current,x!==null){switch(x.tag){case 13:return Ec===null?eA():x.alternate===null&&Ha===0&&(Ha=3),x.flags&=-257,x.flags|=65536,x.lanes=T,j===Qv?x.flags|=16384:(f=x.updateQueue,f===null?x.updateQueue=new Set([j]):f.add(j),rA(u,j,T)),!1;case 22:return x.flags|=65536,j===Qv?x.flags|=16384:(f=x.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([j])},x.updateQueue=f):(x=f.retryQueue,x===null?f.retryQueue=new Set([j]):x.add(j)),rA(u,j,T)),!1}throw Error(n(435,x.tag))}return rA(u,j,T),eA(),!1}if(hn)return f=Wl.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=T,j!==Kv&&(u=Error(n(422),{cause:j}),fm(ha(u,x)))):(j!==Kv&&(f=Error(n(423),{cause:j}),fm(ha(f,x))),u=u.current.alternate,u.flags|=65536,T&=-T,u.lanes|=T,j=ha(j,x),T=v4(u.stateNode,j,T),R4(u,T),Ha!==4&&(Ha=2)),!1;var q=Error(n(520),{cause:j});if(q=ha(q,x),f1===null?f1=[q]:f1.push(q),Ha!==4&&(Ha=2),f===null)return!0;j=ha(j,x),x=f;do{switch(x.tag){case 3:return x.flags|=65536,u=T&-T,x.lanes|=u,u=v4(x.stateNode,j,u),R4(x,u),!1;case 1:if(f=x.type,q=x.stateNode,(x.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(_m===null||!_m.has(q))))return x.flags|=65536,T&=-T,x.lanes|=T,T=UD(T),$D(T,u,x,j),R4(x,T),!1}x=x.return}while(x!==null);return!1}var VD=Error(n(461)),io=!1;function Do(u,f,x,j){f.child=u===null?Jv(f,null,x,j):ih(f,u.child,x,j)}function qD(u,f,x,j,T){x=x.render;var q=f.ref;if("ref"in j){var oe={};for(var je in j)je!=="ref"&&(oe[je]=j[je])}else oe=j;return o0(f),j=_a(u,f,x,oe,q,T),je=fa(),u!==null&&!io?(ys(u,f,T),af(u,f,T)):(hn&&je&&Gv(f),f.flags|=1,Do(u,f,j,T),f.child)}function zD(u,f,x,j,T){if(u===null){var q=x.type;return typeof q=="function"&&!V4(q)&&q.defaultProps===void 0&&x.compare===null?(f.tag=15,f.type=q,HD(u,f,q,j,T)):(u=Vw(x.type,null,j,f,f.mode,T),u.ref=f.ref,u.return=f,f.child=u)}if(q=u.child,!_4(u,T)){var oe=q.memoizedProps;if(x=x.compare,x=x!==null?x:ad,x(oe,j)&&u.ref===f.ref)return af(u,f,T)}return f.flags|=1,u=Em(q,j),u.ref=f.ref,u.return=f,f.child=u}function HD(u,f,x,j,T){if(u!==null){var q=u.memoizedProps;if(ad(q,j)&&u.ref===f.ref)if(io=!1,f.pendingProps=j=q,_4(u,T))(u.flags&131072)!==0&&(io=!0);else return f.lanes=u.lanes,af(u,f,T)}return b4(u,f,x,j,T)}function WD(u,f,x){var j=f.pendingProps,T=j.children,q=(f.stateNode._pendingVisibility&2)!==0,oe=u!==null?u.memoizedState:null;if(s1(u,f),j.mode==="hidden"||q){if((f.flags&128)!==0){if(j=oe!==null?oe.baseLanes|x:x,u!==null){for(T=f.child=u.child,q=0;T!==null;)q=q|T.lanes|T.childLanes,T=T.sibling;f.childLanes=q&~j}else f.childLanes=0,f.child=null;return GD(u,f,j,x)}if((x&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&vt(f,oe!==null?oe.cachePool:null),oe!==null?Xp(f,oe):sf(),Ew(f);else return f.lanes=f.childLanes=536870912,GD(u,f,oe!==null?oe.baseLanes|x:x,x)}else oe!==null?(vt(f,oe.cachePool),Xp(f,oe),lh(),f.memoizedState=null):(u!==null&&vt(f,null),sf(),lh());return Do(u,f,T,x),f.child}function GD(u,f,x,j){var T=tt();return T=T===null?null:{parent:ni._currentValue,pool:T},f.memoizedState={baseLanes:x,cachePool:T},u!==null&&vt(f,null),sf(),Ew(f),u!==null&&n1(u,f,j,!0),null}function s1(u,f){var x=f.ref;if(x===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(u===null||u.ref!==x)&&(f.flags|=2097664)}}function b4(u,f,x,j,T){return o0(f),x=_a(u,f,x,j,void 0,T),j=fa(),u!==null&&!io?(ys(u,f,T),af(u,f,T)):(hn&&j&&Gv(f),f.flags|=1,Do(u,f,x,T),f.child)}function YD(u,f,x,j,T,q){return o0(f),f.updateQueue=null,x=Vr(f,j,x,T),As(u),j=fa(),u!==null&&!io?(ys(u,f,q),af(u,f,q)):(hn&&j&&Gv(f),f.flags|=1,Do(u,f,x,q),f.child)}function KD(u,f,x,j,T){if(o0(f),f.stateNode===null){var q=Jd,oe=x.contextType;typeof oe=="object"&&oe!==null&&(q=Jo(oe)),q=new x(j,q),f.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=_c,f.stateNode=q,q._reactInternals=f,q=f.stateNode,q.props=j,q.state=f.memoizedState,q.refs={},P4(f),oe=x.contextType,q.context=typeof oe=="object"&&oe!==null?Jo(oe):Jd,q.state=f.memoizedState,oe=x.getDerivedStateFromProps,typeof oe=="function"&&(gm(f,x,oe,j),q.state=f.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(oe=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),oe!==q.state&&_c.enqueueReplaceState(q,q.state,null),o1(f,j,q,T),i1(),q.state=f.memoizedState),typeof q.componentDidMount=="function"&&(f.flags|=4194308),j=!0}else if(u===null){q=f.stateNode;var je=f.memoizedProps,Ge=hd(x,je);q.props=Ge;var at=q.context,Ut=x.contextType;oe=Jd,typeof Ut=="object"&&Ut!==null&&(oe=Jo(Ut));var ir=x.getDerivedStateFromProps;Ut=typeof ir=="function"||typeof q.getSnapshotBeforeUpdate=="function",je=f.pendingProps!==je,Ut||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(je||at!==oe)&&lu(f,q,j,oe),bm=!1;var At=f.memoizedState;q.state=At,o1(f,j,q,T),i1(),at=f.memoizedState,je||At!==at||bm?(typeof ir=="function"&&(gm(f,x,ir,j),at=f.memoizedState),(Ge=bm||ou(f,x,Ge,j,At,at,oe))?(Ut||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(f.flags|=4194308)):(typeof q.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=j,f.memoizedState=at),q.props=j,q.state=at,q.context=oe,j=Ge):(typeof q.componentDidMount=="function"&&(f.flags|=4194308),j=!1)}else{q=f.stateNode,O4(u,f),oe=f.memoizedProps,Ut=hd(x,oe),q.props=Ut,ir=f.pendingProps,At=q.context,at=x.contextType,Ge=Jd,typeof at=="object"&&at!==null&&(Ge=Jo(at)),je=x.getDerivedStateFromProps,(at=typeof je=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(oe!==ir||At!==Ge)&&lu(f,q,j,Ge),bm=!1,At=f.memoizedState,q.state=At,o1(f,j,q,T),i1();var Bt=f.memoizedState;oe!==ir||At!==Bt||bm||u!==null&&u.dependencies!==null&&Fw(u.dependencies)?(typeof je=="function"&&(gm(f,x,je,j),Bt=f.memoizedState),(Ut=bm||ou(f,x,Ut,j,At,Bt,Ge)||u!==null&&u.dependencies!==null&&Fw(u.dependencies))?(at||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(j,Bt,Ge),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(j,Bt,Ge)),typeof q.componentDidUpdate=="function"&&(f.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof q.componentDidUpdate!="function"||oe===u.memoizedProps&&At===u.memoizedState||(f.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||oe===u.memoizedProps&&At===u.memoizedState||(f.flags|=1024),f.memoizedProps=j,f.memoizedState=Bt),q.props=j,q.state=Bt,q.context=Ge,j=Ut):(typeof q.componentDidUpdate!="function"||oe===u.memoizedProps&&At===u.memoizedState||(f.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||oe===u.memoizedProps&&At===u.memoizedState||(f.flags|=1024),j=!1)}return q=j,s1(u,f),j=(f.flags&128)!==0,q||j?(q=f.stateNode,x=j&&typeof x.getDerivedStateFromError!="function"?null:q.render(),f.flags|=1,u!==null&&j?(f.child=ih(f,u.child,null,T),f.child=ih(f,null,x,T)):Do(u,f,x,T),f.memoizedState=q.state,u=f.child):u=af(u,f,T),u}function QD(u,f,x,j){return Yp(),f.flags|=256,Do(u,f,x,j),f.child}var w4={dehydrated:null,treeContext:null,retryLane:0};function N4(u){return{baseLanes:u,cachePool:Ue()}}function j4(u,f,x){return u=u!==null?u.childLanes&~x:0,f&&(u|=gd),u}function XD(u,f,x){var j=f.pendingProps,T=!1,q=(f.flags&128)!==0,oe;if((oe=q)||(oe=u!==null&&u.memoizedState===null?!1:(si.current&2)!==0),oe&&(T=!0,f.flags&=-129),oe=(f.flags&32)!==0,f.flags&=-33,u===null){if(hn){if(T?oh(f):lh(),hn){var je=Vi,Ge;if(Ge=je){e:{for(Ge=je,je=dd;Ge.nodeType!==8;){if(!je){je=null;break e}if(Ge=du(Ge.nextSibling),Ge===null){je=null;break e}}je=Ge}je!==null?(f.memoizedState={dehydrated:je,treeContext:ah!==null?{id:Nc,overflow:jc}:null,retryLane:536870912},Ge=pd(18,null,null,0),Ge.stateNode=je,Ge.return=f,f.child=Ge,ao=f,Vi=null,Ge=!0):Ge=!1}Ge||ru(f)}if(je=f.memoizedState,je!==null&&(je=je.dehydrated,je!==null))return je.data==="$!"?f.lanes=16:f.lanes=536870912,null;su(f)}return je=j.children,j=j.fallback,T?(lh(),T=f.mode,je=A4({mode:"hidden",children:je},T),j=c0(j,T,x,null),je.return=f,j.return=f,je.sibling=j,f.child=je,T=f.child,T.memoizedState=N4(x),T.childLanes=j4(u,oe,x),f.memoizedState=w4,j):(oh(f),S4(f,je))}if(Ge=u.memoizedState,Ge!==null&&(je=Ge.dehydrated,je!==null)){if(q)f.flags&256?(oh(f),f.flags&=-257,f=E4(u,f,x)):f.memoizedState!==null?(lh(),f.child=u.child,f.flags|=128,f=null):(lh(),T=j.fallback,je=f.mode,j=A4({mode:"visible",children:j.children},je),T=c0(T,je,x,null),T.flags|=2,j.return=f,T.return=f,j.sibling=T,f.child=j,ih(f,u.child,null,x),j=f.child,j.memoizedState=N4(x),j.childLanes=j4(u,oe,x),f.memoizedState=w4,f=T);else if(oh(f),je.data==="$!"){if(oe=je.nextSibling&&je.nextSibling.dataset,oe)var at=oe.dgst;oe=at,j=Error(n(419)),j.stack="",j.digest=oe,fm({value:j,source:null,stack:null}),f=E4(u,f,x)}else if(io||n1(u,f,x,!1),oe=(x&u.childLanes)!==0,io||oe){if(oe=sa,oe!==null){if(j=x&-x,(j&42)!==0)j=1;else switch(j){case 2:j=1;break;case 8:j=4;break;case 32:j=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:j=64;break;case 268435456:j=134217728;break;default:j=0}if(j=(j&(oe.suspendedLanes|x))!==0?0:j,j!==0&&j!==Ge.retryLane)throw Ge.retryLane=j,Zd(u,j),Sl(oe,u,j),VD}je.data==="$?"||eA(),f=E4(u,f,x)}else je.data==="$?"?(f.flags|=128,f.child=u.child,f=mX.bind(null,u),je._reactRetry=f,f=null):(u=Ge.treeContext,Vi=du(je.nextSibling),ao=f,hn=!0,Sc=null,dd=!1,u!==null&&(Ao[Yo++]=Nc,Ao[Yo++]=jc,Ao[Yo++]=ah,Nc=u.id,jc=u.overflow,ah=f),f=S4(f,j.children),f.flags|=4096);return f}return T?(lh(),T=j.fallback,je=f.mode,Ge=u.child,at=Ge.sibling,j=Em(Ge,{mode:"hidden",children:j.children}),j.subtreeFlags=Ge.subtreeFlags&31457280,at!==null?T=Em(at,T):(T=c0(T,je,x,null),T.flags|=2),T.return=f,j.return=f,j.sibling=T,f.child=j,j=T,T=f.child,je=u.child.memoizedState,je===null?je=N4(x):(Ge=je.cachePool,Ge!==null?(at=ni._currentValue,Ge=Ge.parent!==at?{parent:at,pool:at}:Ge):Ge=Ue(),je={baseLanes:je.baseLanes|x,cachePool:Ge}),T.memoizedState=je,T.childLanes=j4(u,oe,x),f.memoizedState=w4,j):(oh(f),x=u.child,u=x.sibling,x=Em(x,{mode:"visible",children:j.children}),x.return=f,x.sibling=null,u!==null&&(oe=f.deletions,oe===null?(f.deletions=[u],f.flags|=16):oe.push(u)),f.child=x,f.memoizedState=null,x)}function S4(u,f){return f=A4({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function A4(u,f){return jP(u,f,0,null)}function E4(u,f,x){return ih(f,u.child,null,x),u=S4(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function ZD(u,f,x){u.lanes|=f;var j=u.alternate;j!==null&&(j.lanes|=f),T4(u.return,f,x)}function C4(u,f,x,j,T){var q=u.memoizedState;q===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:T}:(q.isBackwards=f,q.rendering=null,q.renderingStartTime=0,q.last=j,q.tail=x,q.tailMode=T)}function JD(u,f,x){var j=f.pendingProps,T=j.revealOrder,q=j.tail;if(Do(u,f,j.children,x),j=si.current,(j&2)!==0)j=j&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&ZD(u,x,f);else if(u.tag===19)ZD(u,x,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}j&=1}switch(le(si,j),T){case"forwards":for(x=f.child,T=null;x!==null;)u=x.alternate,u!==null&&Qg(u)===null&&(T=x),x=x.sibling;x=T,x===null?(T=f.child,f.child=null):(T=x.sibling,x.sibling=null),C4(f,!1,T,x,q);break;case"backwards":for(x=null,T=f.child,f.child=null;T!==null;){if(u=T.alternate,u!==null&&Qg(u)===null){f.child=T;break}u=T.sibling,T.sibling=x,x=T,T=u}C4(f,!0,x,null,q);break;case"together":C4(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function af(u,f,x){if(u!==null&&(f.dependencies=u.dependencies),Cm|=f.lanes,(x&f.childLanes)===0)if(u!==null){if(n1(u,f,x,!1),(x&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(n(153));if(f.child!==null){for(u=f.child,x=Em(u,u.pendingProps),f.child=x,x.return=f;u.sibling!==null;)u=u.sibling,x=x.sibling=Em(u,u.pendingProps),x.return=f;x.sibling=null}return f.child}function _4(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&Fw(u)))}function eX(u,f,x){switch(f.tag){case 3:ce(f,f.stateNode.containerInfo),vm(f,ni,u.memoizedState.cache),Yp();break;case 27:case 5:be(f);break;case 4:ce(f,f.stateNode.containerInfo);break;case 10:vm(f,f.type,f.memoizedProps.value);break;case 13:var j=f.memoizedState;if(j!==null)return j.dehydrated!==null?(oh(f),f.flags|=128,null):(x&f.child.childLanes)!==0?XD(u,f,x):(oh(f),u=af(u,f,x),u!==null?u.sibling:null);oh(f);break;case 19:var T=(u.flags&128)!==0;if(j=(x&f.childLanes)!==0,j||(n1(u,f,x,!1),j=(x&f.childLanes)!==0),T){if(j)return JD(u,f,x);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),le(si,si.current),j)break;return null;case 22:case 23:return f.lanes=0,WD(u,f,x);case 24:vm(f,ni,u.memoizedState.cache)}return af(u,f,x)}function eP(u,f,x){if(u!==null)if(u.memoizedProps!==f.pendingProps)io=!0;else{if(!_4(u,x)&&(f.flags&128)===0)return io=!1,eX(u,f,x);io=(u.flags&131072)!==0}else io=!1,hn&&(f.flags&1048576)!==0&&Gg(f,ef,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var j=f.elementType,T=j._init;if(j=T(j._payload),f.type=j,typeof j=="function")V4(j)?(u=hd(j,u),f.tag=1,f=KD(null,f,j,u,x)):(f.tag=0,f=b4(null,f,j,u,x));else{if(j!=null){if(T=j.$$typeof,T===w){f.tag=11,f=qD(null,f,j,u,x);break e}else if(T===N){f.tag=14,f=zD(null,f,j,u,x);break e}}throw f=F(j)||j,Error(n(306,f,""))}}return f;case 0:return b4(u,f,f.type,f.pendingProps,x);case 1:return j=f.type,T=hd(j,f.pendingProps),KD(u,f,j,T,x);case 3:e:{if(ce(f,f.stateNode.containerInfo),u===null)throw Error(n(387));var q=f.pendingProps;T=f.memoizedState,j=T.element,O4(u,f),o1(f,q,null,x);var oe=f.memoizedState;if(q=oe.cache,vm(f,ni,q),q!==T.cache&&D4(f,[ni],x,!0),i1(),q=oe.element,T.isDehydrated)if(T={element:q,isDehydrated:!1,cache:oe.cache},f.updateQueue.baseState=T,f.memoizedState=T,f.flags&256){f=QD(u,f,q,x);break e}else if(q!==j){j=ha(Error(n(424)),f),fm(j),f=QD(u,f,q,x);break e}else for(Vi=du(f.stateNode.containerInfo.firstChild),ao=f,hn=!0,Sc=null,dd=!0,x=Jv(f,null,q,x),f.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Yp(),q===j){f=af(u,f,x);break e}Do(u,f,q,x)}f=f.child}return f;case 26:return s1(u,f),u===null?(x=sO(f.type,null,f.pendingProps,null))?f.memoizedState=x:hn||(x=f.type,u=f.pendingProps,j=eN(Ze.current).createElement(x),j[Ne]=f,j[Ae]=u,Po(j,x,u),He(j),f.stateNode=j):f.memoizedState=sO(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return be(f),u===null&&hn&&(j=f.stateNode=eO(f.type,f.pendingProps,Ze.current),ao=f,dd=!0,Vi=du(j.firstChild)),j=f.pendingProps.children,u!==null||hn?Do(u,f,j,x):f.child=ih(f,null,j,x),s1(u,f),f.child;case 5:return u===null&&hn&&((T=j=Vi)&&(j=TX(j,f.type,f.pendingProps,dd),j!==null?(f.stateNode=j,ao=f,Vi=du(j.firstChild),dd=!1,T=!0):T=!1),T||ru(f)),be(f),T=f.type,q=f.pendingProps,oe=u!==null?u.memoizedProps:null,j=q.children,mA(T,q)?j=null:oe!==null&&mA(T,oe)&&(f.flags|=32),f.memoizedState!==null&&(T=_a(u,f,Ar,null,null,x),N1._currentValue=T),s1(u,f),Do(u,f,j,x),f.child;case 6:return u===null&&hn&&((u=x=Vi)&&(x=DX(x,f.pendingProps,dd),x!==null?(f.stateNode=x,ao=f,Vi=null,u=!0):u=!1),u||ru(f)),null;case 13:return XD(u,f,x);case 4:return ce(f,f.stateNode.containerInfo),j=f.pendingProps,u===null?f.child=ih(f,null,j,x):Do(u,f,j,x),f.child;case 11:return qD(u,f,f.type,f.pendingProps,x);case 7:return Do(u,f,f.pendingProps,x),f.child;case 8:return Do(u,f,f.pendingProps.children,x),f.child;case 12:return Do(u,f,f.pendingProps.children,x),f.child;case 10:return j=f.pendingProps,vm(f,f.type,j.value),Do(u,f,j.children,x),f.child;case 9:return T=f.type._context,j=f.pendingProps.children,o0(f),T=Jo(T),j=j(T),f.flags|=1,Do(u,f,j,x),f.child;case 14:return zD(u,f,f.type,f.pendingProps,x);case 15:return HD(u,f,f.type,f.pendingProps,x);case 19:return JD(u,f,x);case 22:return WD(u,f,x);case 24:return o0(f),j=Jo(ni),u===null?(T=tt(),T===null&&(T=sa,q=Zg(),T.pooledCache=q,q.refCount++,q!==null&&(T.pooledCacheLanes|=x),T=q),f.memoizedState={parent:j,cache:T},P4(f),vm(f,ni,T)):((u.lanes&x)!==0&&(O4(u,f),o1(f,null,null,x),i1()),T=u.memoizedState,q=f.memoizedState,T.parent!==j?(T={parent:j,cache:j},f.memoizedState=T,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=T),vm(f,ni,j)):(j=q.cache,vm(f,ni,j),j!==T.cache&&D4(f,[ni],x,!0))),Do(u,f,f.pendingProps.children,x),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}var k4=ie(null),i0=null,of=null;function vm(u,f,x){le(k4,f._currentValue),f._currentValue=x}function lf(u){u._currentValue=k4.current,se(k4)}function T4(u,f,x){for(;u!==null;){var j=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,j!==null&&(j.childLanes|=f)):j!==null&&(j.childLanes&f)!==f&&(j.childLanes|=f),u===x)break;u=u.return}}function D4(u,f,x,j){var T=u.child;for(T!==null&&(T.return=u);T!==null;){var q=T.dependencies;if(q!==null){var oe=T.child;q=q.firstContext;e:for(;q!==null;){var je=q;q=T;for(var Ge=0;Ge<f.length;Ge++)if(je.context===f[Ge]){q.lanes|=x,je=q.alternate,je!==null&&(je.lanes|=x),T4(q.return,x,u),j||(oe=null);break e}q=je.next}}else if(T.tag===18){if(oe=T.return,oe===null)throw Error(n(341));oe.lanes|=x,q=oe.alternate,q!==null&&(q.lanes|=x),T4(oe,x,u),oe=null}else oe=T.child;if(oe!==null)oe.return=T;else for(oe=T;oe!==null;){if(oe===u){oe=null;break}if(T=oe.sibling,T!==null){T.return=oe.return,oe=T;break}oe=oe.return}T=oe}}function n1(u,f,x,j){u=null;for(var T=f,q=!1;T!==null;){if(!q){if((T.flags&524288)!==0)q=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var oe=T.alternate;if(oe===null)throw Error(n(387));if(oe=oe.memoizedProps,oe!==null){var je=T.type;ji(T.pendingProps.value,oe.value)||(u!==null?u.push(je):u=[je])}}else if(T===ke.current){if(oe=T.alternate,oe===null)throw Error(n(387));oe.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(u!==null?u.push(N1):u=[N1])}T=T.return}u!==null&&D4(f,u,x,j),f.flags|=262144}function Fw(u){for(u=u.firstContext;u!==null;){if(!ji(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function o0(u){i0=u,of=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Jo(u){return tP(i0,u)}function Bw(u,f){return i0===null&&o0(u),tP(u,f)}function tP(u,f){var x=f._currentValue;if(f={context:f,memoizedValue:x,next:null},of===null){if(u===null)throw Error(n(308));of=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else of=of.next=f;return x}var bm=!1;function P4(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function O4(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function wm(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Nm(u,f,x){var j=u.updateQueue;if(j===null)return null;if(j=j.shared,(Da&2)!==0){var T=j.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),j.pending=f,f=um(u),Wv(u,null,x),f}return Hp(u,j,f,x),um(u)}function a1(u,f,x){if(f=f.updateQueue,f!==null&&(f=f.shared,(x&4194176)!==0)){var j=f.lanes;j&=u.pendingLanes,x|=j,f.lanes=x,ks(u,x)}}function R4(u,f){var x=u.updateQueue,j=u.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var T=null,q=null;if(x=x.firstBaseUpdate,x!==null){do{var oe={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};q===null?T=q=oe:q=q.next=oe,x=x.next}while(x!==null);q===null?T=q=f:q=q.next=f}else T=q=f;x={baseState:j.baseState,firstBaseUpdate:T,lastBaseUpdate:q,shared:j.shared,callbacks:j.callbacks},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=f:u.next=f,x.lastBaseUpdate=f}var I4=!1;function i1(){if(I4){var u=he;if(u!==null)throw u}}function o1(u,f,x,j){I4=!1;var T=u.updateQueue;bm=!1;var q=T.firstBaseUpdate,oe=T.lastBaseUpdate,je=T.shared.pending;if(je!==null){T.shared.pending=null;var Ge=je,at=Ge.next;Ge.next=null,oe===null?q=at:oe.next=at,oe=Ge;var Ut=u.alternate;Ut!==null&&(Ut=Ut.updateQueue,je=Ut.lastBaseUpdate,je!==oe&&(je===null?Ut.firstBaseUpdate=at:je.next=at,Ut.lastBaseUpdate=Ge))}if(q!==null){var ir=T.baseState;oe=0,Ut=at=Ge=null,je=q;do{var At=je.lane&-536870913,Bt=At!==je.lane;if(Bt?(fn&At)===At:(j&At)===At){At!==0&&At===ne&&(I4=!0),Ut!==null&&(Ut=Ut.next={lane:0,tag:je.tag,payload:je.payload,callback:null,next:null});e:{var rs=u,Es=je;At=f;var Wa=x;switch(Es.tag){case 1:if(rs=Es.payload,typeof rs=="function"){ir=rs.call(Wa,ir,At);break e}ir=rs;break e;case 3:rs.flags=rs.flags&-65537|128;case 0:if(rs=Es.payload,At=typeof rs=="function"?rs.call(Wa,ir,At):rs,At==null)break e;ir=z({},ir,At);break e;case 2:bm=!0}}At=je.callback,At!==null&&(u.flags|=64,Bt&&(u.flags|=8192),Bt=T.callbacks,Bt===null?T.callbacks=[At]:Bt.push(At))}else Bt={lane:At,tag:je.tag,payload:je.payload,callback:je.callback,next:null},Ut===null?(at=Ut=Bt,Ge=ir):Ut=Ut.next=Bt,oe|=At;if(je=je.next,je===null){if(je=T.shared.pending,je===null)break;Bt=je,je=Bt.next,Bt.next=null,T.lastBaseUpdate=Bt,T.shared.pending=null}}while(!0);Ut===null&&(Ge=ir),T.baseState=Ge,T.firstBaseUpdate=at,T.lastBaseUpdate=Ut,q===null&&(T.shared.lanes=0),Cm|=oe,u.lanes=oe,u.memoizedState=ir}}function rP(u,f){if(typeof u!="function")throw Error(n(191,u));u.call(f)}function sP(u,f){var x=u.callbacks;if(x!==null)for(u.callbacks=null,u=0;u<x.length;u++)rP(x[u],f)}function l1(u,f){try{var x=f.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var T=j.next;x=T;do{if((x.tag&u)===u){j=void 0;var q=x.create,oe=x.inst;j=q(),oe.destroy=j}x=x.next}while(x!==T)}}catch(je){Jn(f,f.return,je)}}function jm(u,f,x){try{var j=f.updateQueue,T=j!==null?j.lastEffect:null;if(T!==null){var q=T.next;j=q;do{if((j.tag&u)===u){var oe=j.inst,je=oe.destroy;if(je!==void 0){oe.destroy=void 0,T=f;var Ge=x;try{je()}catch(at){Jn(T,Ge,at)}}}j=j.next}while(j!==q)}}catch(at){Jn(f,f.return,at)}}function nP(u){var f=u.updateQueue;if(f!==null){var x=u.stateNode;try{sP(f,x)}catch(j){Jn(u,u.return,j)}}}function aP(u,f,x){x.props=hd(u.type,u.memoizedProps),x.state=u.memoizedState;try{x.componentWillUnmount()}catch(j){Jn(u,f,j)}}function l0(u,f){try{var x=u.ref;if(x!==null){var j=u.stateNode;switch(u.tag){case 26:case 27:case 5:var T=j;break;default:T=j}typeof x=="function"?u.refCleanup=x(T):x.current=T}}catch(q){Jn(u,f,q)}}function kc(u,f){var x=u.ref,j=u.refCleanup;if(x!==null)if(typeof j=="function")try{j()}catch(T){Jn(u,f,T)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(T){Jn(u,f,T)}else x.current=null}function iP(u){var f=u.type,x=u.memoizedProps,j=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":x.autoFocus&&j.focus();break e;case"img":x.src?j.src=x.src:x.srcSet&&(j.srcset=x.srcSet)}}catch(T){Jn(u,u.return,T)}}function oP(u,f,x){try{var j=u.stateNode;AX(j,u.type,x,f),j[Ae]=f}catch(T){Jn(u,u.return,T)}}function lP(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function L4(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||lP(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function M4(u,f,x){var j=u.tag;if(j===5||j===6)u=u.stateNode,f?x.nodeType===8?x.parentNode.insertBefore(u,f):x.insertBefore(u,f):(x.nodeType===8?(f=x.parentNode,f.insertBefore(u,x)):(f=x,f.appendChild(u)),x=x._reactRootContainer,x!=null||f.onclick!==null||(f.onclick=Jw));else if(j!==4&&j!==27&&(u=u.child,u!==null))for(M4(u,f,x),u=u.sibling;u!==null;)M4(u,f,x),u=u.sibling}function Uw(u,f,x){var j=u.tag;if(j===5||j===6)u=u.stateNode,f?x.insertBefore(u,f):x.appendChild(u);else if(j!==4&&j!==27&&(u=u.child,u!==null))for(Uw(u,f,x),u=u.sibling;u!==null;)Uw(u,f,x),u=u.sibling}var cf=!1,za=!1,F4=!1,cP=typeof WeakSet=="function"?WeakSet:Set,oo=null,dP=!1;function tX(u,f){if(u=u.containerInfo,hA=iN,u=dm(u),jo(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var T=j.anchorOffset,q=j.focusNode;j=j.focusOffset;try{x.nodeType,q.nodeType}catch{x=null;break e}var oe=0,je=-1,Ge=-1,at=0,Ut=0,ir=u,At=null;t:for(;;){for(var Bt;ir!==x||T!==0&&ir.nodeType!==3||(je=oe+T),ir!==q||j!==0&&ir.nodeType!==3||(Ge=oe+j),ir.nodeType===3&&(oe+=ir.nodeValue.length),(Bt=ir.firstChild)!==null;)At=ir,ir=Bt;for(;;){if(ir===u)break t;if(At===x&&++at===T&&(je=oe),At===q&&++Ut===j&&(Ge=oe),(Bt=ir.nextSibling)!==null)break;ir=At,At=ir.parentNode}ir=Bt}x=je===-1||Ge===-1?null:{start:je,end:Ge}}else x=null}x=x||{start:0,end:0}}else x=null;for(fA={focusedElem:u,selectionRange:x},iN=!1,oo=f;oo!==null;)if(f=oo,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,oo=u;else for(;oo!==null;){switch(f=oo,q=f.alternate,u=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&q!==null){u=void 0,x=f,T=q.memoizedProps,q=q.memoizedState,j=x.stateNode;try{var rs=hd(x.type,T,x.elementType===x.type);u=j.getSnapshotBeforeUpdate(rs,q),j.__reactInternalSnapshotBeforeUpdate=u}catch(Es){Jn(x,x.return,Es)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,x=u.nodeType,x===9)xA(u);else if(x===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":xA(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(n(163))}if(u=f.sibling,u!==null){u.return=f.return,oo=u;break}oo=f.return}return rs=dP,dP=!1,rs}function uP(u,f,x){var j=x.flags;switch(x.tag){case 0:case 11:case 15:uf(u,x),j&4&&l1(5,x);break;case 1:if(uf(u,x),j&4)if(u=x.stateNode,f===null)try{u.componentDidMount()}catch(je){Jn(x,x.return,je)}else{var T=hd(x.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(T,f,u.__reactInternalSnapshotBeforeUpdate)}catch(je){Jn(x,x.return,je)}}j&64&&nP(x),j&512&&l0(x,x.return);break;case 3:if(uf(u,x),j&64&&(j=x.updateQueue,j!==null)){if(u=null,x.child!==null)switch(x.child.tag){case 27:case 5:u=x.child.stateNode;break;case 1:u=x.child.stateNode}try{sP(j,u)}catch(je){Jn(x,x.return,je)}}break;case 26:uf(u,x),j&512&&l0(x,x.return);break;case 27:case 5:uf(u,x),f===null&&j&4&&iP(x),j&512&&l0(x,x.return);break;case 12:uf(u,x);break;case 13:uf(u,x),j&4&&mP(u,x);break;case 22:if(T=x.memoizedState!==null||cf,!T){f=f!==null&&f.memoizedState!==null||za;var q=cf,oe=za;cf=T,(za=f)&&!oe?Sm(u,x,(x.subtreeFlags&8772)!==0):uf(u,x),cf=q,za=oe}j&512&&(x.memoizedProps.mode==="manual"?l0(x,x.return):kc(x,x.return));break;default:uf(u,x)}}function hP(u){var f=u.alternate;f!==null&&(u.alternate=null,hP(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&yt(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Ei=null,Tc=!1;function df(u,f,x){for(x=x.child;x!==null;)fP(u,f,x),x=x.sibling}function fP(u,f,x){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Qr,x)}catch{}switch(x.tag){case 26:za||kc(x,f),df(u,f,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:za||kc(x,f);var j=Ei,T=Tc;for(Ei=x.stateNode,df(u,f,x),x=x.stateNode,f=x.attributes;f.length;)x.removeAttributeNode(f[0]);yt(x),Ei=j,Tc=T;break;case 5:za||kc(x,f);case 6:T=Ei;var q=Tc;if(Ei=null,df(u,f,x),Ei=T,Tc=q,Ei!==null)if(Tc)try{u=Ei,j=x.stateNode,u.nodeType===8?u.parentNode.removeChild(j):u.removeChild(j)}catch(oe){Jn(x,f,oe)}else try{Ei.removeChild(x.stateNode)}catch(oe){Jn(x,f,oe)}break;case 18:Ei!==null&&(Tc?(f=Ei,x=x.stateNode,f.nodeType===8?gA(f.parentNode,x):f.nodeType===1&&gA(f,x),E1(f)):gA(Ei,x.stateNode));break;case 4:j=Ei,T=Tc,Ei=x.stateNode.containerInfo,Tc=!0,df(u,f,x),Ei=j,Tc=T;break;case 0:case 11:case 14:case 15:za||jm(2,x,f),za||jm(4,x,f),df(u,f,x);break;case 1:za||(kc(x,f),j=x.stateNode,typeof j.componentWillUnmount=="function"&&aP(x,f,j)),df(u,f,x);break;case 21:df(u,f,x);break;case 22:za||kc(x,f),za=(j=za)||x.memoizedState!==null,df(u,f,x),za=j;break;default:df(u,f,x)}}function mP(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{E1(u)}catch(x){Jn(f,f.return,x)}}function rX(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new cP),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new cP),f;default:throw Error(n(435,u.tag))}}function B4(u,f){var x=rX(u);f.forEach(function(j){var T=pX.bind(null,u,j);x.has(j)||(x.add(j),j.then(T,T))})}function fd(u,f){var x=f.deletions;if(x!==null)for(var j=0;j<x.length;j++){var T=x[j],q=u,oe=f,je=oe;e:for(;je!==null;){switch(je.tag){case 27:case 5:Ei=je.stateNode,Tc=!1;break e;case 3:Ei=je.stateNode.containerInfo,Tc=!0;break e;case 4:Ei=je.stateNode.containerInfo,Tc=!0;break e}je=je.return}if(Ei===null)throw Error(n(160));fP(q,oe,T),Ei=null,Tc=!1,q=T.alternate,q!==null&&(q.return=null),T.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)pP(f,u),f=f.sibling}var cu=null;function pP(u,f){var x=u.alternate,j=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:fd(f,u),md(u),j&4&&(jm(3,u,u.return),l1(3,u),jm(5,u,u.return));break;case 1:fd(f,u),md(u),j&512&&(za||x===null||kc(x,x.return)),j&64&&cf&&(u=u.updateQueue,u!==null&&(j=u.callbacks,j!==null&&(x=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=x===null?j:x.concat(j))));break;case 26:var T=cu;if(fd(f,u),md(u),j&512&&(za||x===null||kc(x,x.return)),j&4){var q=x!==null?x.memoizedState:null;if(j=u.memoizedState,x===null)if(j===null)if(u.stateNode===null){e:{j=u.type,x=u.memoizedProps,T=T.ownerDocument||T;t:switch(j){case"title":q=T.getElementsByTagName("title")[0],(!q||q[dt]||q[Ne]||q.namespaceURI==="http://www.w3.org/2000/svg"||q.hasAttribute("itemprop"))&&(q=T.createElement(j),T.head.insertBefore(q,T.querySelector("head > title"))),Po(q,j,x),q[Ne]=u,He(q),j=q;break e;case"link":var oe=iO("link","href",T).get(j+(x.href||""));if(oe){for(var je=0;je<oe.length;je++)if(q=oe[je],q.getAttribute("href")===(x.href==null?null:x.href)&&q.getAttribute("rel")===(x.rel==null?null:x.rel)&&q.getAttribute("title")===(x.title==null?null:x.title)&&q.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){oe.splice(je,1);break t}}q=T.createElement(j),Po(q,j,x),T.head.appendChild(q);break;case"meta":if(oe=iO("meta","content",T).get(j+(x.content||""))){for(je=0;je<oe.length;je++)if(q=oe[je],q.getAttribute("content")===(x.content==null?null:""+x.content)&&q.getAttribute("name")===(x.name==null?null:x.name)&&q.getAttribute("property")===(x.property==null?null:x.property)&&q.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&q.getAttribute("charset")===(x.charSet==null?null:x.charSet)){oe.splice(je,1);break t}}q=T.createElement(j),Po(q,j,x),T.head.appendChild(q);break;default:throw Error(n(468,j))}q[Ne]=u,He(q),j=q}u.stateNode=j}else oO(T,u.type,u.stateNode);else u.stateNode=aO(T,j,u.memoizedProps);else q!==j?(q===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):q.count--,j===null?oO(T,u.type,u.stateNode):aO(T,j,u.memoizedProps)):j===null&&u.stateNode!==null&&oP(u,u.memoizedProps,x.memoizedProps)}break;case 27:if(j&4&&u.alternate===null){T=u.stateNode,q=u.memoizedProps;try{for(var Ge=T.firstChild;Ge;){var at=Ge.nextSibling,Ut=Ge.nodeName;Ge[dt]||Ut==="HEAD"||Ut==="BODY"||Ut==="SCRIPT"||Ut==="STYLE"||Ut==="LINK"&&Ge.rel.toLowerCase()==="stylesheet"||T.removeChild(Ge),Ge=at}for(var ir=u.type,At=T.attributes;At.length;)T.removeAttributeNode(At[0]);Po(T,ir,q),T[Ne]=u,T[Ae]=q}catch(rs){Jn(u,u.return,rs)}}case 5:if(fd(f,u),md(u),j&512&&(za||x===null||kc(x,x.return)),u.flags&32){T=u.stateNode;try{la(T,"")}catch(rs){Jn(u,u.return,rs)}}j&4&&u.stateNode!=null&&(T=u.memoizedProps,oP(u,T,x!==null?x.memoizedProps:T)),j&1024&&(F4=!0);break;case 6:if(fd(f,u),md(u),j&4){if(u.stateNode===null)throw Error(n(162));j=u.memoizedProps,x=u.stateNode;try{x.nodeValue=j}catch(rs){Jn(u,u.return,rs)}}break;case 3:if(sN=null,T=cu,cu=tN(f.containerInfo),fd(f,u),cu=T,md(u),j&4&&x!==null&&x.memoizedState.isDehydrated)try{E1(f.containerInfo)}catch(rs){Jn(u,u.return,rs)}F4&&(F4=!1,gP(u));break;case 4:j=cu,cu=tN(u.stateNode.containerInfo),fd(f,u),md(u),cu=j;break;case 12:fd(f,u),md(u);break;case 13:fd(f,u),md(u),u.child.flags&8192&&u.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Y4=qe()),j&4&&(j=u.updateQueue,j!==null&&(u.updateQueue=null,B4(u,j)));break;case 22:if(j&512&&(za||x===null||kc(x,x.return)),Ge=u.memoizedState!==null,at=x!==null&&x.memoizedState!==null,Ut=cf,ir=za,cf=Ut||Ge,za=ir||at,fd(f,u),za=ir,cf=Ut,md(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,j&8192&&(f._visibility=Ge?f._visibility&-2:f._visibility|1,Ge&&(f=cf||za,x===null||at||f||lx(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(x=null,f=u;;){if(f.tag===5||f.tag===26||f.tag===27){if(x===null){at=x=f;try{if(T=at.stateNode,Ge)q=T.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{oe=at.stateNode,je=at.memoizedProps.style;var Bt=je!=null&&je.hasOwnProperty("display")?je.display:null;oe.style.display=Bt==null||typeof Bt=="boolean"?"":(""+Bt).trim()}}catch(rs){Jn(at,at.return,rs)}}}else if(f.tag===6){if(x===null){at=f;try{at.stateNode.nodeValue=Ge?"":at.memoizedProps}catch(rs){Jn(at,at.return,rs)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;x===f&&(x=null),f=f.return}x===f&&(x=null),f.sibling.return=f.return,f=f.sibling}j&4&&(j=u.updateQueue,j!==null&&(x=j.retryQueue,x!==null&&(j.retryQueue=null,B4(u,x))));break;case 19:fd(f,u),md(u),j&4&&(j=u.updateQueue,j!==null&&(u.updateQueue=null,B4(u,j)));break;case 21:break;default:fd(f,u),md(u)}}function md(u){var f=u.flags;if(f&2){try{if(u.tag!==27){e:{for(var x=u.return;x!==null;){if(lP(x)){var j=x;break e}x=x.return}throw Error(n(160))}switch(j.tag){case 27:var T=j.stateNode,q=L4(u);Uw(u,q,T);break;case 5:var oe=j.stateNode;j.flags&32&&(la(oe,""),j.flags&=-33);var je=L4(u);Uw(u,je,oe);break;case 3:case 4:var Ge=j.stateNode.containerInfo,at=L4(u);M4(u,at,Ge);break;default:throw Error(n(161))}}}catch(Ut){Jn(u,u.return,Ut)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function gP(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;gP(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function uf(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)uP(u,f.alternate,f),f=f.sibling}function lx(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:jm(4,f,f.return),lx(f);break;case 1:kc(f,f.return);var x=f.stateNode;typeof x.componentWillUnmount=="function"&&aP(f,f.return,x),lx(f);break;case 26:case 27:case 5:kc(f,f.return),lx(f);break;case 22:kc(f,f.return),f.memoizedState===null&&lx(f);break;default:lx(f)}u=u.sibling}}function Sm(u,f,x){for(x=x&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var j=f.alternate,T=u,q=f,oe=q.flags;switch(q.tag){case 0:case 11:case 15:Sm(T,q,x),l1(4,q);break;case 1:if(Sm(T,q,x),j=q,T=j.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(at){Jn(j,j.return,at)}if(j=q,T=j.updateQueue,T!==null){var je=j.stateNode;try{var Ge=T.shared.hiddenCallbacks;if(Ge!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Ge.length;T++)rP(Ge[T],je)}catch(at){Jn(j,j.return,at)}}x&&oe&64&&nP(q),l0(q,q.return);break;case 26:case 27:case 5:Sm(T,q,x),x&&j===null&&oe&4&&iP(q),l0(q,q.return);break;case 12:Sm(T,q,x);break;case 13:Sm(T,q,x),x&&oe&4&&mP(T,q);break;case 22:q.memoizedState===null&&Sm(T,q,x),l0(q,q.return);break;default:Sm(T,q,x)}f=f.sibling}}function U4(u,f){var x=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==x&&(u!=null&&u.refCount++,x!=null&&_(x))}function $4(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&_(u))}function Am(u,f,x,j){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)xP(u,f,x,j),f=f.sibling}function xP(u,f,x,j){var T=f.flags;switch(f.tag){case 0:case 11:case 15:Am(u,f,x,j),T&2048&&l1(9,f);break;case 3:Am(u,f,x,j),T&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&_(u)));break;case 12:if(T&2048){Am(u,f,x,j),u=f.stateNode;try{var q=f.memoizedProps,oe=q.id,je=q.onPostCommit;typeof je=="function"&&je(oe,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ge){Jn(f,f.return,Ge)}}else Am(u,f,x,j);break;case 23:break;case 22:q=f.stateNode,f.memoizedState!==null?q._visibility&4?Am(u,f,x,j):c1(u,f):q._visibility&4?Am(u,f,x,j):(q._visibility|=4,cx(u,f,x,j,(f.subtreeFlags&10256)!==0)),T&2048&&U4(f.alternate,f);break;case 24:Am(u,f,x,j),T&2048&&$4(f.alternate,f);break;default:Am(u,f,x,j)}}function cx(u,f,x,j,T){for(T=T&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var q=u,oe=f,je=x,Ge=j,at=oe.flags;switch(oe.tag){case 0:case 11:case 15:cx(q,oe,je,Ge,T),l1(8,oe);break;case 23:break;case 22:var Ut=oe.stateNode;oe.memoizedState!==null?Ut._visibility&4?cx(q,oe,je,Ge,T):c1(q,oe):(Ut._visibility|=4,cx(q,oe,je,Ge,T)),T&&at&2048&&U4(oe.alternate,oe);break;case 24:cx(q,oe,je,Ge,T),T&&at&2048&&$4(oe.alternate,oe);break;default:cx(q,oe,je,Ge,T)}f=f.sibling}}function c1(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var x=u,j=f,T=j.flags;switch(j.tag){case 22:c1(x,j),T&2048&&U4(j.alternate,j);break;case 24:c1(x,j),T&2048&&$4(j.alternate,j);break;default:c1(x,j)}f=f.sibling}}var d1=8192;function dx(u){if(u.subtreeFlags&d1)for(u=u.child;u!==null;)yP(u),u=u.sibling}function yP(u){switch(u.tag){case 26:dx(u),u.flags&d1&&u.memoizedState!==null&&zX(cu,u.memoizedState,u.memoizedProps);break;case 5:dx(u);break;case 3:case 4:var f=cu;cu=tN(u.stateNode.containerInfo),dx(u),cu=f;break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=d1,d1=16777216,dx(u),d1=f):dx(u));break;default:dx(u)}}function vP(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function u1(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var j=f[x];oo=j,wP(j,u)}vP(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)bP(u),u=u.sibling}function bP(u){switch(u.tag){case 0:case 11:case 15:u1(u),u.flags&2048&&jm(9,u,u.return);break;case 3:u1(u);break;case 12:u1(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,$w(u)):u1(u);break;default:u1(u)}}function $w(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var j=f[x];oo=j,wP(j,u)}vP(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:jm(8,f,f.return),$w(f);break;case 22:x=f.stateNode,x._visibility&4&&(x._visibility&=-5,$w(f));break;default:$w(f)}u=u.sibling}}function wP(u,f){for(;oo!==null;){var x=oo;switch(x.tag){case 0:case 11:case 15:jm(8,x,f);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var j=x.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:_(x.memoizedState.cache)}if(j=x.child,j!==null)j.return=x,oo=j;else e:for(x=u;oo!==null;){j=oo;var T=j.sibling,q=j.return;if(hP(j),j===x){oo=null;break e}if(T!==null){T.return=q,oo=T;break e}oo=q}}}function sX(u,f,x,j){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pd(u,f,x,j){return new sX(u,f,x,j)}function V4(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Em(u,f){var x=u.alternate;return x===null?(x=pd(u.tag,f,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=f,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&31457280,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,f=u.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x.refCleanup=u.refCleanup,x}function NP(u,f){u.flags&=31457282;var x=u.alternate;return x===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=x.childLanes,u.lanes=x.lanes,u.child=x.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=x.memoizedProps,u.memoizedState=x.memoizedState,u.updateQueue=x.updateQueue,u.type=x.type,f=x.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Vw(u,f,x,j,T,q){var oe=0;if(j=u,typeof u=="function")V4(u)&&(oe=1);else if(typeof u=="string")oe=VX(u,x,Ce.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case c:return c0(x.children,T,q,f);case d:oe=8,T|=24;break;case h:return u=pd(12,x,f,T|2),u.elementType=h,u.lanes=q,u;case b:return u=pd(13,x,f,T),u.elementType=b,u.lanes=q,u;case v:return u=pd(19,x,f,T),u.elementType=v,u.lanes=q,u;case A:return jP(x,T,q,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:case g:oe=10;break e;case p:oe=9;break e;case w:oe=11;break e;case N:oe=14;break e;case S:oe=16,j=null;break e}oe=29,x=Error(n(130,u===null?"null":typeof u,"")),j=null}return f=pd(oe,x,f,T),f.elementType=u,f.type=j,f.lanes=q,f}function c0(u,f,x,j){return u=pd(7,u,j,f),u.lanes=x,u}function jP(u,f,x,j){u=pd(22,u,j,f),u.elementType=A,u.lanes=x;var T={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var q=T._current;if(q===null)throw Error(n(456));if((T._pendingVisibility&2)===0){var oe=Zd(q,2);oe!==null&&(T._pendingVisibility|=2,Sl(oe,q,2))}},attach:function(){var q=T._current;if(q===null)throw Error(n(456));if((T._pendingVisibility&2)!==0){var oe=Zd(q,2);oe!==null&&(T._pendingVisibility&=-3,Sl(oe,q,2))}}};return u.stateNode=T,u}function q4(u,f,x){return u=pd(6,u,null,f),u.lanes=x,u}function z4(u,f,x){return f=pd(4,u.children!==null?u.children:[],u.key,f),f.lanes=x,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function hf(u){u.flags|=4}function SP(u,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!lO(f)){if(f=Wl.current,f!==null&&((fn&4194176)===fn?Ec!==null:(fn&62914560)!==fn&&(fn&536870912)===0||f!==Ec))throw jl=Qv,jw;u.flags|=8192}}function qw(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?Xe():536870912,u.lanes|=f,hx|=f)}function h1(u,f){if(!hn)switch(u.tailMode){case"hidden":f=u.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:j.sibling=null}}function Ta(u){var f=u.alternate!==null&&u.alternate.child===u.child,x=0,j=0;if(f)for(var T=u.child;T!==null;)x|=T.lanes|T.childLanes,j|=T.subtreeFlags&31457280,j|=T.flags&31457280,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)x|=T.lanes|T.childLanes,j|=T.subtreeFlags,j|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=j,u.childLanes=x,f}function nX(u,f,x){var j=f.pendingProps;switch(Yv(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ta(f),null;case 1:return Ta(f),null;case 3:return x=f.stateNode,j=null,u!==null&&(j=u.memoizedState.cache),f.memoizedState.cache!==j&&(f.flags|=2048),lf(ni),Me(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(u===null||u.child===null)&&(Gp(f)?hf(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Sc!==null&&(Z4(Sc),Sc=null))),Ta(f),null;case 26:return x=f.memoizedState,u===null?(hf(f),x!==null?(Ta(f),SP(f,x)):(Ta(f),f.flags&=-16777217)):x?x!==u.memoizedState?(hf(f),Ta(f),SP(f,x)):(Ta(f),f.flags&=-16777217):(u.memoizedProps!==j&&hf(f),Ta(f),f.flags&=-16777217),null;case 27:ge(f),x=Ze.current;var T=f.type;if(u!==null&&f.stateNode!=null)u.memoizedProps!==j&&hf(f);else{if(!j){if(f.stateNode===null)throw Error(n(166));return Ta(f),null}u=Ce.current,Gp(f)?Yg(f):(u=eO(T,j,x),f.stateNode=u,hf(f))}return Ta(f),null;case 5:if(ge(f),x=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==j&&hf(f);else{if(!j){if(f.stateNode===null)throw Error(n(166));return Ta(f),null}if(u=Ce.current,Gp(f))Yg(f);else{switch(T=eN(Ze.current),u){case 1:u=T.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:u=T.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":u=T.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":u=T.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":u=T.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof j.is=="string"?T.createElement("select",{is:j.is}):T.createElement("select"),j.multiple?u.multiple=!0:j.size&&(u.size=j.size);break;default:u=typeof j.is=="string"?T.createElement(x,{is:j.is}):T.createElement(x)}}u[Ne]=f,u[Ae]=j;e:for(T=f.child;T!==null;){if(T.tag===5||T.tag===6)u.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===f)break e;for(;T.sibling===null;){if(T.return===null||T.return===f)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}f.stateNode=u;e:switch(Po(u,x,j),x){case"button":case"input":case"select":case"textarea":u=!!j.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&hf(f)}}return Ta(f),f.flags&=-16777217,null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==j&&hf(f);else{if(typeof j!="string"&&f.stateNode===null)throw Error(n(166));if(u=Ze.current,Gp(f)){if(u=f.stateNode,x=f.memoizedProps,j=null,T=ao,T!==null)switch(T.tag){case 27:case 5:j=T.memoizedProps}u[Ne]=f,u=!!(u.nodeValue===x||j!==null&&j.suppressHydrationWarning===!0||YP(u.nodeValue,x)),u||ru(f)}else u=eN(u).createTextNode(j),u[Ne]=f,f.stateNode=u}return Ta(f),null;case 13:if(j=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(T=Gp(f),j!==null&&j.dehydrated!==null){if(u===null){if(!T)throw Error(n(318));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Ne]=f}else Yp(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Ta(f),T=!1}else Sc!==null&&(Z4(Sc),Sc=null),T=!0;if(!T)return f.flags&256?(su(f),f):(su(f),null)}if(su(f),(f.flags&128)!==0)return f.lanes=x,f;if(x=j!==null,u=u!==null&&u.memoizedState!==null,x){j=f.child,T=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(T=j.alternate.memoizedState.cachePool.pool);var q=null;j.memoizedState!==null&&j.memoizedState.cachePool!==null&&(q=j.memoizedState.cachePool.pool),q!==T&&(j.flags|=2048)}return x!==u&&x&&(f.child.flags|=8192),qw(f,f.updateQueue),Ta(f),null;case 4:return Me(),u===null&&cA(f.stateNode.containerInfo),Ta(f),null;case 10:return lf(f.type),Ta(f),null;case 19:if(se(si),T=f.memoizedState,T===null)return Ta(f),null;if(j=(f.flags&128)!==0,q=T.rendering,q===null)if(j)h1(T,!1);else{if(Ha!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(q=Qg(u),q!==null){for(f.flags|=128,h1(T,!1),u=q.updateQueue,f.updateQueue=u,qw(f,u),f.subtreeFlags=0,u=x,x=f.child;x!==null;)NP(x,u),x=x.sibling;return le(si,si.current&1|2),f.child}u=u.sibling}T.tail!==null&&qe()>zw&&(f.flags|=128,j=!0,h1(T,!1),f.lanes=4194304)}else{if(!j)if(u=Qg(q),u!==null){if(f.flags|=128,j=!0,u=u.updateQueue,f.updateQueue=u,qw(f,u),h1(T,!0),T.tail===null&&T.tailMode==="hidden"&&!q.alternate&&!hn)return Ta(f),null}else 2*qe()-T.renderingStartTime>zw&&x!==536870912&&(f.flags|=128,j=!0,h1(T,!1),f.lanes=4194304);T.isBackwards?(q.sibling=f.child,f.child=q):(u=T.last,u!==null?u.sibling=q:f.child=q,T.last=q)}return T.tail!==null?(f=T.tail,T.rendering=f,T.tail=f.sibling,T.renderingStartTime=qe(),f.sibling=null,u=si.current,le(si,j?u&1|2:u&1),f):(Ta(f),null);case 22:case 23:return su(f),Zp(),j=f.memoizedState!==null,u!==null?u.memoizedState!==null!==j&&(f.flags|=8192):j&&(f.flags|=8192),j?(x&536870912)!==0&&(f.flags&128)===0&&(Ta(f),f.subtreeFlags&6&&(f.flags|=8192)):Ta(f),x=f.updateQueue,x!==null&&qw(f,x.retryQueue),x=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),j=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(j=f.memoizedState.cachePool.pool),j!==x&&(f.flags|=2048),u!==null&&se(Fe),null;case 24:return x=null,u!==null&&(x=u.memoizedState.cache),f.memoizedState.cache!==x&&(f.flags|=2048),lf(ni),Ta(f),null;case 25:return null}throw Error(n(156,f.tag))}function aX(u,f){switch(Yv(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return lf(ni),Me(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return ge(f),null;case 13:if(su(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Yp()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return se(si),null;case 4:return Me(),null;case 10:return lf(f.type),null;case 22:case 23:return su(f),Zp(),u!==null&&se(Fe),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return lf(ni),null;case 25:return null;default:return null}}function AP(u,f){switch(Yv(f),f.tag){case 3:lf(ni),Me();break;case 26:case 27:case 5:ge(f);break;case 4:Me();break;case 13:su(f);break;case 19:se(si);break;case 10:lf(f.type);break;case 22:case 23:su(f),Zp(),u!==null&&se(Fe);break;case 24:lf(ni)}}var iX={getCacheForType:function(u){var f=Jo(ni),x=f.data.get(u);return x===void 0&&(x=u(),f.data.set(u,x)),x}},oX=typeof WeakMap=="function"?WeakMap:Map,Da=0,sa=null,rn=null,fn=0,na=0,Dc=null,ff=!1,ux=!1,H4=!1,mf=0,Ha=0,Cm=0,d0=0,W4=0,gd=0,hx=0,f1=null,fh=null,G4=!1,Y4=0,zw=1/0,Hw=null,_m=null,Ww=!1,u0=null,m1=0,K4=0,Q4=null,p1=0,X4=null;function Pc(){if((Da&2)!==0&&fn!==0)return fn&-fn;if(k.T!==null){var u=ne;return u!==0?u:aA()}return Ns()}function EP(){gd===0&&(gd=(fn&536870912)===0||hn?ss():536870912);var u=Wl.current;return u!==null&&(u.flags|=32),gd}function Sl(u,f,x){(u===sa&&na===2||u.cancelPendingCommit!==null)&&(fx(u,0),pf(u,fn,gd,!1)),Ct(u,x),((Da&2)===0||u!==sa)&&(u===sa&&((Da&2)===0&&(d0|=x),Ha===4&&pf(u,fn,gd,!1)),mh(u))}function CP(u,f,x){if((Da&6)!==0)throw Error(n(327));var j=!x&&(f&60)===0&&(f&u.expiredLanes)===0||Mr(u,f),T=j?dX(u,f):tA(u,f,!0),q=j;do{if(T===0){ux&&!j&&pf(u,f,0,!1);break}else if(T===6)pf(u,f,0,!ff);else{if(x=u.current.alternate,q&&!lX(x)){T=tA(u,f,!1),q=!1;continue}if(T===2){if(q=f,u.errorRecoveryDisabledLanes&q)var oe=0;else oe=u.pendingLanes&-536870913,oe=oe!==0?oe:oe&536870912?536870912:0;if(oe!==0){f=oe;e:{var je=u;T=f1;var Ge=je.current.memoizedState.isDehydrated;if(Ge&&(fx(je,oe).flags|=256),oe=tA(je,oe,!1),oe!==2){if(H4&&!Ge){je.errorRecoveryDisabledLanes|=q,d0|=q,T=4;break e}q=fh,fh=T,q!==null&&Z4(q)}T=oe}if(q=!1,T!==2)continue}}if(T===1){fx(u,0),pf(u,f,0,!0);break}e:{switch(j=u,T){case 0:case 1:throw Error(n(345));case 4:if((f&4194176)===f){pf(j,f,gd,!ff);break e}break;case 2:fh=null;break;case 3:case 5:break;default:throw Error(n(329))}if(j.finishedWork=x,j.finishedLanes=f,(f&62914560)===f&&(q=Y4+300-qe(),10<q)){if(pf(j,f,gd,!ff),Gt(j,0)!==0)break e;j.timeoutHandle=XP(_P.bind(null,j,x,fh,Hw,G4,f,gd,d0,hx,ff,2,-0,0),q);break e}_P(j,x,fh,Hw,G4,f,gd,d0,hx,ff,0,-0,0)}}break}while(!0);mh(u)}function Z4(u){fh===null?fh=u:fh.push.apply(fh,u)}function _P(u,f,x,j,T,q,oe,je,Ge,at,Ut,ir,At){var Bt=f.subtreeFlags;if((Bt&8192||(Bt&16785408)===16785408)&&(w1={stylesheets:null,count:0,unsuspend:qX},yP(f),f=HX(),f!==null)){u.cancelPendingCommit=f(IP.bind(null,u,x,j,T,oe,je,Ge,1,ir,At)),pf(u,q,oe,!at);return}IP(u,x,j,T,oe,je,Ge,Ut,ir,At)}function lX(u){for(var f=u;;){var x=f.tag;if((x===0||x===11||x===15)&&f.flags&16384&&(x=f.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var j=0;j<x.length;j++){var T=x[j],q=T.getSnapshot;T=T.value;try{if(!ji(q(),T))return!1}catch{return!1}}if(x=f.child,f.subtreeFlags&16384&&x!==null)x.return=f,f=x;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function pf(u,f,x,j){f&=~W4,f&=~d0,u.suspendedLanes|=f,u.pingedLanes&=~f,j&&(u.warmLanes|=f),j=u.expirationTimes;for(var T=f;0<T;){var q=31-fr(T),oe=1<<q;j[q]=-1,T&=~oe}x!==0&&_r(u,x,f)}function Gw(){return(Da&6)===0?(g1(0),!1):!0}function J4(){if(rn!==null){if(na===0)var u=rn.return;else u=rn,of=i0=null,Qs(u),tf=null,Hl=0,u=rn;for(;u!==null;)AP(u.alternate,u),u=u.return;rn=null}}function fx(u,f){u.finishedWork=null,u.finishedLanes=0;var x=u.timeoutHandle;x!==-1&&(u.timeoutHandle=-1,CX(x)),x=u.cancelPendingCommit,x!==null&&(u.cancelPendingCommit=null,x()),J4(),sa=u,rn=x=Em(u.current,null),fn=f,na=0,Dc=null,ff=!1,ux=Mr(u,f),H4=!1,hx=gd=W4=d0=Cm=Ha=0,fh=f1=null,G4=!1,(f&8)!==0&&(f|=f&32);var j=u.entangledLanes;if(j!==0)for(u=u.entanglements,j&=f;0<j;){var T=31-fr(j),q=1<<T;f|=u[T],j&=~q}return mf=f,zp(),x}function kP(u,f){et=null,k.H=Cc,f===Kp?(f=Aw(),na=3):f===jw?(f=Aw(),na=4):na=f===VD?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Dc=f,rn===null&&(Ha=1,ym(u,ha(f,u.current)))}function TP(){var u=k.H;return k.H=Cc,u===null?Cc:u}function DP(){var u=k.A;return k.A=iX,u}function eA(){Ha=4,ff||(fn&4194176)!==fn&&Wl.current!==null||(ux=!0),(Cm&134217727)===0&&(d0&134217727)===0||sa===null||pf(sa,fn,gd,!1)}function tA(u,f,x){var j=Da;Da|=2;var T=TP(),q=DP();(sa!==u||fn!==f)&&(Hw=null,fx(u,f)),f=!1;var oe=Ha;e:do try{if(na!==0&&rn!==null){var je=rn,Ge=Dc;switch(na){case 8:J4(),oe=6;break e;case 3:case 2:case 6:Wl.current===null&&(f=!0);var at=na;if(na=0,Dc=null,mx(u,je,Ge,at),x&&ux){oe=0;break e}break;default:at=na,na=0,Dc=null,mx(u,je,Ge,at)}}cX(),oe=Ha;break}catch(Ut){kP(u,Ut)}while(!0);return f&&u.shellSuspendCounter++,of=i0=null,Da=j,k.H=T,k.A=q,rn===null&&(sa=null,fn=0,zp()),oe}function cX(){for(;rn!==null;)PP(rn)}function dX(u,f){var x=Da;Da|=2;var j=TP(),T=DP();sa!==u||fn!==f?(Hw=null,zw=qe()+500,fx(u,f)):ux=Mr(u,f);e:do try{if(na!==0&&rn!==null){f=rn;var q=Dc;t:switch(na){case 1:na=0,Dc=null,mx(u,f,q,1);break;case 2:if(Sw(q)){na=0,Dc=null,OP(f);break}f=function(){na===2&&sa===u&&(na=7),mh(u)},q.then(f,f);break e;case 3:na=7;break e;case 4:na=5;break e;case 7:Sw(q)?(na=0,Dc=null,OP(f)):(na=0,Dc=null,mx(u,f,q,7));break;case 5:var oe=null;switch(rn.tag){case 26:oe=rn.memoizedState;case 5:case 27:var je=rn;if(!oe||lO(oe)){na=0,Dc=null;var Ge=je.sibling;if(Ge!==null)rn=Ge;else{var at=je.return;at!==null?(rn=at,Yw(at)):rn=null}break t}}na=0,Dc=null,mx(u,f,q,5);break;case 6:na=0,Dc=null,mx(u,f,q,6);break;case 8:J4(),Ha=6;break e;default:throw Error(n(462))}}uX();break}catch(Ut){kP(u,Ut)}while(!0);return of=i0=null,k.H=j,k.A=T,Da=x,rn!==null?0:(sa=null,fn=0,zp(),Ha)}function uX(){for(;rn!==null&&!me();)PP(rn)}function PP(u){var f=eP(u.alternate,u,mf);u.memoizedProps=u.pendingProps,f===null?Yw(u):rn=f}function OP(u){var f=u,x=f.alternate;switch(f.tag){case 15:case 0:f=YD(x,f,f.pendingProps,f.type,void 0,fn);break;case 11:f=YD(x,f,f.pendingProps,f.type.render,f.ref,fn);break;case 5:Qs(f);default:AP(x,f),f=rn=NP(f,mf),f=eP(x,f,mf)}u.memoizedProps=u.pendingProps,f===null?Yw(u):rn=f}function mx(u,f,x,j){of=i0=null,Qs(f),tf=null,Hl=0;var T=f.return;try{if(JQ(u,T,f,x,fn)){Ha=1,ym(u,ha(x,u.current)),rn=null;return}}catch(q){if(T!==null)throw rn=T,q;Ha=1,ym(u,ha(x,u.current)),rn=null;return}f.flags&32768?(hn||j===1?u=!0:ux||(fn&536870912)!==0?u=!1:(ff=u=!0,(j===2||j===3||j===6)&&(j=Wl.current,j!==null&&j.tag===13&&(j.flags|=16384))),RP(f,u)):Yw(f)}function Yw(u){var f=u;do{if((f.flags&32768)!==0){RP(f,ff);return}u=f.return;var x=nX(f.alternate,f,mf);if(x!==null){rn=x;return}if(f=f.sibling,f!==null){rn=f;return}rn=f=u}while(f!==null);Ha===0&&(Ha=5)}function RP(u,f){do{var x=aX(u.alternate,u);if(x!==null){x.flags&=32767,rn=x;return}if(x=u.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!f&&(u=u.sibling,u!==null)){rn=u;return}rn=u=x}while(u!==null);Ha=6,rn=null}function IP(u,f,x,j,T,q,oe,je,Ge,at){var Ut=k.T,ir=K.p;try{K.p=2,k.T=null,hX(u,f,x,j,ir,T,q,oe,je,Ge,at)}finally{k.T=Ut,K.p=ir}}function hX(u,f,x,j,T,q,oe,je){do px();while(u0!==null);if((Da&6)!==0)throw Error(n(327));var Ge=u.finishedWork;if(j=u.finishedLanes,Ge===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ge===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var at=Ge.lanes|Ge.childLanes;if(at|=Hg,lr(u,j,at,q,oe,je),u===sa&&(rn=sa=null,fn=0),(Ge.subtreeFlags&10256)===0&&(Ge.flags&10256)===0||Ww||(Ww=!0,K4=at,Q4=x,gX(ft,function(){return px(),null})),x=(Ge.flags&15990)!==0,(Ge.subtreeFlags&15990)!==0||x?(x=k.T,k.T=null,q=K.p,K.p=2,oe=Da,Da|=4,tX(u,Ge),pP(Ge,u),od(fA,u.containerInfo),iN=!!hA,fA=hA=null,u.current=Ge,uP(u,Ge.alternate,Ge),we(),Da=oe,K.p=q,k.T=x):u.current=Ge,Ww?(Ww=!1,u0=u,m1=j):LP(u,at),at=u.pendingLanes,at===0&&(_m=null),Er(Ge.stateNode),mh(u),f!==null)for(T=u.onRecoverableError,Ge=0;Ge<f.length;Ge++)at=f[Ge],T(at.value,{componentStack:at.stack});return(m1&3)!==0&&px(),at=u.pendingLanes,(j&4194218)!==0&&(at&42)!==0?u===X4?p1++:(p1=0,X4=u):p1=0,g1(0),null}function LP(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,_(f)))}function px(){if(u0!==null){var u=u0,f=K4;K4=0;var x=Xr(m1),j=k.T,T=K.p;try{if(K.p=32>x?32:x,k.T=null,u0===null)var q=!1;else{x=Q4,Q4=null;var oe=u0,je=m1;if(u0=null,m1=0,(Da&6)!==0)throw Error(n(331));var Ge=Da;if(Da|=4,bP(oe.current),xP(oe,oe.current,je,x),Da=Ge,g1(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Qr,oe)}catch{}q=!0}return q}finally{K.p=T,k.T=j,LP(u,f)}}return!1}function MP(u,f,x){f=ha(x,f),f=v4(u.stateNode,f,2),u=Nm(u,f,2),u!==null&&(Ct(u,2),mh(u))}function Jn(u,f,x){if(u.tag===3)MP(u,u,x);else for(;f!==null;){if(f.tag===3){MP(f,u,x);break}else if(f.tag===1){var j=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(_m===null||!_m.has(j))){u=ha(x,u),x=UD(2),j=Nm(f,x,2),j!==null&&($D(x,j,f,u),Ct(j,2),mh(j));break}}f=f.return}}function rA(u,f,x){var j=u.pingCache;if(j===null){j=u.pingCache=new oX;var T=new Set;j.set(f,T)}else T=j.get(f),T===void 0&&(T=new Set,j.set(f,T));T.has(x)||(H4=!0,T.add(x),u=fX.bind(null,u,f,x),f.then(u,u))}function fX(u,f,x){var j=u.pingCache;j!==null&&j.delete(f),u.pingedLanes|=u.suspendedLanes&x,u.warmLanes&=~x,sa===u&&(fn&x)===x&&(Ha===4||Ha===3&&(fn&62914560)===fn&&300>qe()-Y4?(Da&2)===0&&fx(u,0):W4|=x,hx===fn&&(hx=0)),mh(u)}function FP(u,f){f===0&&(f=Xe()),u=Zd(u,f),u!==null&&(Ct(u,f),mh(u))}function mX(u){var f=u.memoizedState,x=0;f!==null&&(x=f.retryLane),FP(u,x)}function pX(u,f){var x=0;switch(u.tag){case 13:var j=u.stateNode,T=u.memoizedState;T!==null&&(x=T.retryLane);break;case 19:j=u.stateNode;break;case 22:j=u.stateNode._retryCache;break;default:throw Error(n(314))}j!==null&&j.delete(f),FP(u,x)}function gX(u,f){return ze(u,f)}var Kw=null,gx=null,sA=!1,Qw=!1,nA=!1,h0=0;function mh(u){u!==gx&&u.next===null&&(gx===null?Kw=gx=u:gx=gx.next=u),Qw=!0,sA||(sA=!0,yX(xX))}function g1(u,f){if(!nA&&Qw){nA=!0;do for(var x=!1,j=Kw;j!==null;){if(u!==0){var T=j.pendingLanes;if(T===0)var q=0;else{var oe=j.suspendedLanes,je=j.pingedLanes;q=(1<<31-fr(42|u)+1)-1,q&=T&~(oe&~je),q=q&201326677?q&201326677|1:q?q|2:0}q!==0&&(x=!0,$P(j,q))}else q=fn,q=Gt(j,j===sa?q:0),(q&3)===0||Mr(j,q)||(x=!0,$P(j,q));j=j.next}while(x);nA=!1}}function xX(){Qw=sA=!1;var u=0;h0!==0&&(EX()&&(u=h0),h0=0);for(var f=qe(),x=null,j=Kw;j!==null;){var T=j.next,q=BP(j,f);q===0?(j.next=null,x===null?Kw=T:x.next=T,T===null&&(gx=x)):(x=j,(u!==0||(q&3)!==0)&&(Qw=!0)),j=T}g1(u)}function BP(u,f){for(var x=u.suspendedLanes,j=u.pingedLanes,T=u.expirationTimes,q=u.pendingLanes&-62914561;0<q;){var oe=31-fr(q),je=1<<oe,Ge=T[oe];Ge===-1?((je&x)===0||(je&j)!==0)&&(T[oe]=ts(je,f)):Ge<=f&&(u.expiredLanes|=je),q&=~je}if(f=sa,x=fn,x=Gt(u,u===f?x:0),j=u.callbackNode,x===0||u===f&&na===2||u.cancelPendingCommit!==null)return j!==null&&j!==null&&Pe(j),u.callbackNode=null,u.callbackPriority=0;if((x&3)===0||Mr(u,x)){if(f=x&-x,f===u.callbackPriority)return f;switch(j!==null&&Pe(j),Xr(x)){case 2:case 8:x=ct;break;case 32:x=ft;break;case 268435456:x=Xt;break;default:x=ft}return j=UP.bind(null,u),x=ze(x,j),u.callbackPriority=f,u.callbackNode=x,f}return j!==null&&j!==null&&Pe(j),u.callbackPriority=2,u.callbackNode=null,2}function UP(u,f){var x=u.callbackNode;if(px()&&u.callbackNode!==x)return null;var j=fn;return j=Gt(u,u===sa?j:0),j===0?null:(CP(u,j,f),BP(u,qe()),u.callbackNode!=null&&u.callbackNode===x?UP.bind(null,u):null)}function $P(u,f){if(px())return null;CP(u,f,!0)}function yX(u){_X(function(){(Da&6)!==0?ze(pt,u):u()})}function aA(){return h0===0&&(h0=ss()),h0}function VP(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:vo(""+u)}function qP(u,f){var x=f.ownerDocument.createElement("input");return x.name=f.name,x.value=f.value,u.id&&x.setAttribute("form",u.id),f.parentNode.insertBefore(x,f),u=new FormData(u),x.parentNode.removeChild(x),u}function vX(u,f,x,j,T){if(f==="submit"&&x&&x.stateNode===T){var q=VP((T[Ae]||null).action),oe=j.submitter;oe&&(f=(f=oe[Ae]||null)?VP(f.formAction):oe.getAttribute("formAction"),f!==null&&(q=f,oe=null));var je=new Tt("action","action",null,j,T);u.push({event:je,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(h0!==0){var Ge=oe?qP(T,oe):new FormData(T);sx(x,{pending:!0,data:Ge,method:T.method,action:q},null,Ge)}}else typeof q=="function"&&(je.preventDefault(),Ge=oe?qP(T,oe):new FormData(T),sx(x,{pending:!0,data:Ge,method:T.method,action:q},q,Ge))},currentTarget:T}]})}}for(var iA=0;iA<Hv.length;iA++){var oA=Hv[iA],bX=oA.toLowerCase(),wX=oA[0].toUpperCase()+oA.slice(1);So(bX,"on"+wX)}So(Uv,"onAnimationEnd"),So($v,"onAnimationIteration"),So(Vv,"onAnimationStart"),So("dblclick","onDoubleClick"),So("focusin","onFocus"),So("focusout","onBlur"),So(bw,"onTransitionRun"),So(ww,"onTransitionStart"),So(Nw,"onTransitionCancel"),So(qv,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var x1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(x1));function zP(u,f){f=(f&4)!==0;for(var x=0;x<u.length;x++){var j=u[x],T=j.event;j=j.listeners;e:{var q=void 0;if(f)for(var oe=j.length-1;0<=oe;oe--){var je=j[oe],Ge=je.instance,at=je.currentTarget;if(je=je.listener,Ge!==q&&T.isPropagationStopped())break e;q=je,T.currentTarget=at;try{q(T)}catch(Ut){xm(Ut)}T.currentTarget=null,q=Ge}else for(oe=0;oe<j.length;oe++){if(je=j[oe],Ge=je.instance,at=je.currentTarget,je=je.listener,Ge!==q&&T.isPropagationStopped())break e;q=je,T.currentTarget=at;try{q(T)}catch(Ut){xm(Ut)}T.currentTarget=null,q=Ge}}}}function on(u,f){var x=f[Te];x===void 0&&(x=f[Te]=new Set);var j=u+"__bubble";x.has(j)||(HP(f,u,2,!1),x.add(j))}function lA(u,f,x){var j=0;f&&(j|=4),HP(x,u,j,f)}var Xw="_reactListening"+Math.random().toString(36).slice(2);function cA(u){if(!u[Xw]){u[Xw]=!0,kt.forEach(function(x){x!=="selectionchange"&&(NX.has(x)||lA(x,!1,u),lA(x,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[Xw]||(f[Xw]=!0,lA("selectionchange",!1,f))}}function HP(u,f,x,j){switch(mO(f)){case 2:var T=YX;break;case 8:T=KX;break;default:T=NA}x=T.bind(null,f,x,u),T=void 0,!to||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),j?T!==void 0?u.addEventListener(f,x,{capture:!0,passive:T}):u.addEventListener(f,x,!0):T!==void 0?u.addEventListener(f,x,{passive:T}):u.addEventListener(f,x,!1)}function dA(u,f,x,j,T){var q=j;if((f&1)===0&&(f&2)===0&&j!==null)e:for(;;){if(j===null)return;var oe=j.tag;if(oe===3||oe===4){var je=j.stateNode.containerInfo;if(je===T||je.nodeType===8&&je.parentNode===T)break;if(oe===4)for(oe=j.return;oe!==null;){var Ge=oe.tag;if((Ge===3||Ge===4)&&(Ge=oe.stateNode.containerInfo,Ge===T||Ge.nodeType===8&&Ge.parentNode===T))return;oe=oe.return}for(;je!==null;){if(oe=Vt(je),oe===null)return;if(Ge=oe.tag,Ge===5||Ge===6||Ge===26||Ge===27){j=q=oe;continue e}je=je.parentNode}}j=j.return}yc(function(){var at=q,Ut=Xn(x),ir=[];e:{var At=zv.get(u);if(At!==void 0){var Bt=Tt,rs=u;switch(u){case"keypress":if(Wo(x)===0)break e;case"keydown":case"keyup":Bt=$a;break;case"focusin":rs="focus",Bt=G;break;case"focusout":rs="blur",Bt=G;break;case"beforeblur":case"afterblur":Bt=G;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Bt=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Bt=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Bt=Ui;break;case Uv:case $v:case Vv:Bt=Le;break;case qv:Bt=Ju;break;case"scroll":case"scrollend":Bt=Fr;break;case"wheel":Bt=Vg;break;case"copy":case"cut":case"paste":Bt=it;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Bt=Va;break;case"toggle":case"beforetoggle":Bt=bc}var Es=(f&4)!==0,Wa=!Es&&(u==="scroll"||u==="scrollend"),ut=Es?At!==null?At+"Capture":null:At;Es=[];for(var nt=at,bt;nt!==null;){var Yt=nt;if(bt=Yt.stateNode,Yt=Yt.tag,Yt!==5&&Yt!==26&&Yt!==27||bt===null||ut===null||(Yt=vc(nt,ut),Yt!=null&&Es.push(y1(nt,Yt,bt))),Wa)break;nt=nt.return}0<Es.length&&(At=new Bt(At,rs,null,x,Ut),ir.push({event:At,listeners:Es}))}}if((f&7)===0){e:{if(At=u==="mouseover"||u==="pointerover",Bt=u==="mouseout"||u==="pointerout",At&&x!==Jc&&(rs=x.relatedTarget||x.fromElement)&&(Vt(rs)||rs[Ie]))break e;if((Bt||At)&&(At=Ut.window===Ut?Ut:(At=Ut.ownerDocument)?At.defaultView||At.parentWindow:window,Bt?(rs=x.relatedTarget||x.toElement,Bt=at,rs=rs?Vt(rs):null,rs!==null&&(Wa=V(rs),Es=rs.tag,rs!==Wa||Es!==5&&Es!==27&&Es!==6)&&(rs=null)):(Bt=null,rs=at),Bt!==rs)){if(Es=ca,Yt="onMouseLeave",ut="onMouseEnter",nt="mouse",(u==="pointerout"||u==="pointerover")&&(Es=Va,Yt="onPointerLeave",ut="onPointerEnter",nt="pointer"),Wa=Bt==null?At:de(Bt),bt=rs==null?At:de(rs),At=new Es(Yt,nt+"leave",Bt,x,Ut),At.target=Wa,At.relatedTarget=bt,Yt=null,Vt(Ut)===at&&(Es=new Es(ut,nt+"enter",rs,x,Ut),Es.target=bt,Es.relatedTarget=Wa,Yt=Es),Wa=Yt,Bt&&rs)t:{for(Es=Bt,ut=rs,nt=0,bt=Es;bt;bt=xx(bt))nt++;for(bt=0,Yt=ut;Yt;Yt=xx(Yt))bt++;for(;0<nt-bt;)Es=xx(Es),nt--;for(;0<bt-nt;)ut=xx(ut),bt--;for(;nt--;){if(Es===ut||ut!==null&&Es===ut.alternate)break t;Es=xx(Es),ut=xx(ut)}Es=null}else Es=null;Bt!==null&&WP(ir,At,Bt,Es,!1),rs!==null&&Wa!==null&&WP(ir,Wa,rs,Es,!0)}}e:{if(At=at?de(at):window,Bt=At.nodeName&&At.nodeName.toLowerCase(),Bt==="select"||Bt==="input"&&At.type==="file")var qr=No;else if(wl(At))if(th)qr=cm;else{qr=sd;var Js=Fv}else Bt=At.nodeName,!Bt||Bt.toLowerCase()!=="input"||At.type!=="checkbox"&&At.type!=="radio"?at&&Wd(at.elementType)&&(qr=No):qr=nd;if(qr&&(qr=qr(u,at))){im(ir,qr,x,Ut);break e}Js&&Js(u,At,at),u==="focusout"&&at&&At.type==="number"&&at.memoizedProps.value!=null&&Hd(At,"number",At.value)}switch(Js=at?de(at):window,u){case"focusin":(wl(Js)||Js.contentEditable==="true")&&(pn=Js,ua=at,Zn=null);break;case"focusout":Zn=ua=pn=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Zh(ir,x,Ut);break;case"selectionchange":if(Wn)break;case"keydown":case"keyup":Zh(ir,x,Ut)}var ls;if(eh)e:{switch(u){case"compositionstart":var us="onCompositionStart";break e;case"compositionend":us="onCompositionEnd";break e;case"compositionupdate":us="onCompositionUpdate";break e}us=void 0}else Kd?nm(u,x)&&(us="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(us="onCompositionStart");us&&(ed&&x.locale!=="ko"&&(Kd||us!=="onCompositionStart"?us==="onCompositionEnd"&&Kd&&(ls=Ul()):(wo=Ut,ro="value"in wo?wo.value:wo.textContent,Kd=!0)),Js=Zw(at,us),0<Js.length&&(us=new Ht(us,u,null,x,Ut),ir.push({event:us,listeners:Js}),ls?us.data=ls:(ls=so(x),ls!==null&&(us.data=ls)))),(ls=Ni?am(u,x):qg(u,x))&&(us=Zw(at,"onBeforeInput"),0<us.length&&(Js=new Ht("onBeforeInput","beforeinput",null,x,Ut),ir.push({event:Js,listeners:us}),Js.data=ls)),vX(ir,u,at,x,Ut)}zP(ir,f)})}function y1(u,f,x){return{instance:u,listener:f,currentTarget:x}}function Zw(u,f){for(var x=f+"Capture",j=[];u!==null;){var T=u,q=T.stateNode;T=T.tag,T!==5&&T!==26&&T!==27||q===null||(T=vc(u,x),T!=null&&j.unshift(y1(u,T,q)),T=vc(u,f),T!=null&&j.push(y1(u,T,q))),u=u.return}return j}function xx(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function WP(u,f,x,j,T){for(var q=f._reactName,oe=[];x!==null&&x!==j;){var je=x,Ge=je.alternate,at=je.stateNode;if(je=je.tag,Ge!==null&&Ge===j)break;je!==5&&je!==26&&je!==27||at===null||(Ge=at,T?(at=vc(x,q),at!=null&&oe.unshift(y1(x,at,Ge))):T||(at=vc(x,q),at!=null&&oe.push(y1(x,at,Ge)))),x=x.return}oe.length!==0&&u.push({event:f,listeners:oe})}var jX=/\r\n?/g,SX=/\u0000|\uFFFD/g;function GP(u){return(typeof u=="string"?u:""+u).replace(jX,`
`).replace(SX,"")}function YP(u,f){return f=GP(f),GP(u)===f}function Jw(){}function Yn(u,f,x,j,T,q){switch(x){case"children":typeof j=="string"?f==="body"||f==="textarea"&&j===""||la(u,j):(typeof j=="number"||typeof j=="bigint")&&f!=="body"&&la(u,""+j);break;case"className":Bl(u,"class",j);break;case"tabIndex":Bl(u,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":Bl(u,x,j);break;case"style":yo(u,j,q);break;case"data":if(f!=="object"){Bl(u,"data",j);break}case"src":case"href":if(j===""&&(f!=="a"||x!=="href")){u.removeAttribute(x);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){u.removeAttribute(x);break}j=vo(""+j),u.setAttribute(x,j);break;case"action":case"formAction":if(typeof j=="function"){u.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof q=="function"&&(x==="formAction"?(f!=="input"&&Yn(u,f,"name",T.name,T,null),Yn(u,f,"formEncType",T.formEncType,T,null),Yn(u,f,"formMethod",T.formMethod,T,null),Yn(u,f,"formTarget",T.formTarget,T,null)):(Yn(u,f,"encType",T.encType,T,null),Yn(u,f,"method",T.method,T,null),Yn(u,f,"target",T.target,T,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){u.removeAttribute(x);break}j=vo(""+j),u.setAttribute(x,j);break;case"onClick":j!=null&&(u.onclick=Jw);break;case"onScroll":j!=null&&on("scroll",u);break;case"onScrollEnd":j!=null&&on("scrollend",u);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(x=j.__html,x!=null){if(T.children!=null)throw Error(n(60));u.innerHTML=x}}break;case"multiple":u.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":u.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){u.removeAttribute("xlink:href");break}x=vo(""+j),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?u.setAttribute(x,""+j):u.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?u.setAttribute(x,""):u.removeAttribute(x);break;case"capture":case"download":j===!0?u.setAttribute(x,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?u.setAttribute(x,j):u.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?u.setAttribute(x,j):u.removeAttribute(x);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?u.removeAttribute(x):u.setAttribute(x,j);break;case"popover":on("beforetoggle",u),on("toggle",u),kn(u,"popover",j);break;case"xlinkActuate":un(u,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":un(u,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":un(u,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":un(u,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":un(u,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":un(u,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":un(u,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":un(u,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":un(u,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":kn(u,"is",j);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Gd.get(x)||x,kn(u,x,j))}}function uA(u,f,x,j,T,q){switch(x){case"style":yo(u,j,q);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(x=j.__html,x!=null){if(T.children!=null)throw Error(n(60));u.innerHTML=x}}break;case"children":typeof j=="string"?la(u,j):(typeof j=="number"||typeof j=="bigint")&&la(u,""+j);break;case"onScroll":j!=null&&on("scroll",u);break;case"onScrollEnd":j!=null&&on("scrollend",u);break;case"onClick":j!=null&&(u.onclick=Jw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kt.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(T=x.endsWith("Capture"),f=x.slice(2,T?x.length-7:void 0),q=u[Ae]||null,q=q!=null?q[x]:null,typeof q=="function"&&u.removeEventListener(f,q,T),typeof j=="function")){typeof q!="function"&&q!==null&&(x in u?u[x]=null:u.hasAttribute(x)&&u.removeAttribute(x)),u.addEventListener(f,j,T);break e}x in u?u[x]=j:j===!0?u.setAttribute(x,""):kn(u,x,j)}}}function Po(u,f,x){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",u),on("load",u);var j=!1,T=!1,q;for(q in x)if(x.hasOwnProperty(q)){var oe=x[q];if(oe!=null)switch(q){case"src":j=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Yn(u,f,q,oe,x,null)}}T&&Yn(u,f,"srcSet",x.srcSet,x,null),j&&Yn(u,f,"src",x.src,x,null);return;case"input":on("invalid",u);var je=q=oe=T=null,Ge=null,at=null;for(j in x)if(x.hasOwnProperty(j)){var Ut=x[j];if(Ut!=null)switch(j){case"name":T=Ut;break;case"type":oe=Ut;break;case"checked":Ge=Ut;break;case"defaultChecked":at=Ut;break;case"value":q=Ut;break;case"defaultValue":je=Ut;break;case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(n(137,f));break;default:Yn(u,f,j,Ut,x,null)}}Zc(u,q,je,Ge,at,oe,T,!1),go(u);return;case"select":on("invalid",u),j=oe=q=null;for(T in x)if(x.hasOwnProperty(T)&&(je=x[T],je!=null))switch(T){case"value":q=je;break;case"defaultValue":oe=je;break;case"multiple":j=je;default:Yn(u,f,T,je,x,null)}f=q,x=oe,u.multiple=!!j,f!=null?ei(u,!!j,f,!1):x!=null&&ei(u,!!j,x,!0);return;case"textarea":on("invalid",u),q=T=j=null;for(oe in x)if(x.hasOwnProperty(oe)&&(je=x[oe],je!=null))switch(oe){case"value":j=je;break;case"defaultValue":T=je;break;case"children":q=je;break;case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(91));break;default:Yn(u,f,oe,je,x,null)}Bi(u,j,T,q),go(u);return;case"option":for(Ge in x)if(x.hasOwnProperty(Ge)&&(j=x[Ge],j!=null))switch(Ge){case"selected":u.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Yn(u,f,Ge,j,x,null)}return;case"dialog":on("cancel",u),on("close",u);break;case"iframe":case"object":on("load",u);break;case"video":case"audio":for(j=0;j<x1.length;j++)on(x1[j],u);break;case"image":on("error",u),on("load",u);break;case"details":on("toggle",u);break;case"embed":case"source":case"link":on("error",u),on("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in x)if(x.hasOwnProperty(at)&&(j=x[at],j!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Yn(u,f,at,j,x,null)}return;default:if(Wd(f)){for(Ut in x)x.hasOwnProperty(Ut)&&(j=x[Ut],j!==void 0&&uA(u,f,Ut,j,x,void 0));return}}for(je in x)x.hasOwnProperty(je)&&(j=x[je],j!=null&&Yn(u,f,je,j,x,null))}function AX(u,f,x,j){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,q=null,oe=null,je=null,Ge=null,at=null,Ut=null;for(Bt in x){var ir=x[Bt];if(x.hasOwnProperty(Bt)&&ir!=null)switch(Bt){case"checked":break;case"value":break;case"defaultValue":Ge=ir;default:j.hasOwnProperty(Bt)||Yn(u,f,Bt,null,j,ir)}}for(var At in j){var Bt=j[At];if(ir=x[At],j.hasOwnProperty(At)&&(Bt!=null||ir!=null))switch(At){case"type":q=Bt;break;case"name":T=Bt;break;case"checked":at=Bt;break;case"defaultChecked":Ut=Bt;break;case"value":oe=Bt;break;case"defaultValue":je=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(n(137,f));break;default:Bt!==ir&&Yn(u,f,At,Bt,j,ir)}}zd(u,oe,je,Ge,at,Ut,q,T);return;case"select":Bt=oe=je=At=null;for(q in x)if(Ge=x[q],x.hasOwnProperty(q)&&Ge!=null)switch(q){case"value":break;case"multiple":Bt=Ge;default:j.hasOwnProperty(q)||Yn(u,f,q,null,j,Ge)}for(T in j)if(q=j[T],Ge=x[T],j.hasOwnProperty(T)&&(q!=null||Ge!=null))switch(T){case"value":At=q;break;case"defaultValue":je=q;break;case"multiple":oe=q;default:q!==Ge&&Yn(u,f,T,q,j,Ge)}f=je,x=oe,j=Bt,At!=null?ei(u,!!x,At,!1):!!j!=!!x&&(f!=null?ei(u,!!x,f,!0):ei(u,!!x,x?[]:"",!1));return;case"textarea":Bt=At=null;for(je in x)if(T=x[je],x.hasOwnProperty(je)&&T!=null&&!j.hasOwnProperty(je))switch(je){case"value":break;case"children":break;default:Yn(u,f,je,null,j,T)}for(oe in j)if(T=j[oe],q=x[oe],j.hasOwnProperty(oe)&&(T!=null||q!=null))switch(oe){case"value":At=T;break;case"defaultValue":Bt=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==q&&Yn(u,f,oe,T,j,q)}vl(u,At,Bt);return;case"option":for(var rs in x)if(At=x[rs],x.hasOwnProperty(rs)&&At!=null&&!j.hasOwnProperty(rs))switch(rs){case"selected":u.selected=!1;break;default:Yn(u,f,rs,null,j,At)}for(Ge in j)if(At=j[Ge],Bt=x[Ge],j.hasOwnProperty(Ge)&&At!==Bt&&(At!=null||Bt!=null))switch(Ge){case"selected":u.selected=At&&typeof At!="function"&&typeof At!="symbol";break;default:Yn(u,f,Ge,At,j,Bt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Es in x)At=x[Es],x.hasOwnProperty(Es)&&At!=null&&!j.hasOwnProperty(Es)&&Yn(u,f,Es,null,j,At);for(at in j)if(At=j[at],Bt=x[at],j.hasOwnProperty(at)&&At!==Bt&&(At!=null||Bt!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(n(137,f));break;default:Yn(u,f,at,At,j,Bt)}return;default:if(Wd(f)){for(var Wa in x)At=x[Wa],x.hasOwnProperty(Wa)&&At!==void 0&&!j.hasOwnProperty(Wa)&&uA(u,f,Wa,void 0,j,At);for(Ut in j)At=j[Ut],Bt=x[Ut],!j.hasOwnProperty(Ut)||At===Bt||At===void 0&&Bt===void 0||uA(u,f,Ut,At,j,Bt);return}}for(var ut in x)At=x[ut],x.hasOwnProperty(ut)&&At!=null&&!j.hasOwnProperty(ut)&&Yn(u,f,ut,null,j,At);for(ir in j)At=j[ir],Bt=x[ir],!j.hasOwnProperty(ir)||At===Bt||At==null&&Bt==null||Yn(u,f,ir,At,j,Bt)}var hA=null,fA=null;function eN(u){return u.nodeType===9?u:u.ownerDocument}function KP(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QP(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function mA(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var pA=null;function EX(){var u=window.event;return u&&u.type==="popstate"?u===pA?!1:(pA=u,!0):(pA=null,!1)}var XP=typeof setTimeout=="function"?setTimeout:void 0,CX=typeof clearTimeout=="function"?clearTimeout:void 0,ZP=typeof Promise=="function"?Promise:void 0,_X=typeof queueMicrotask=="function"?queueMicrotask:typeof ZP<"u"?function(u){return ZP.resolve(null).then(u).catch(kX)}:XP;function kX(u){setTimeout(function(){throw u})}function gA(u,f){var x=f,j=0;do{var T=x.nextSibling;if(u.removeChild(x),T&&T.nodeType===8)if(x=T.data,x==="/$"){if(j===0){u.removeChild(T),E1(f);return}j--}else x!=="$"&&x!=="$?"&&x!=="$!"||j++;x=T}while(x);E1(f)}function xA(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var x=f;switch(f=f.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":xA(x),yt(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}u.removeChild(x)}}function TX(u,f,x,j){for(;u.nodeType===1;){var T=x;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!j&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(j){if(!u[dt])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(q=u.getAttribute("rel"),q==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(q!==T.rel||u.getAttribute("href")!==(T.href==null?null:T.href)||u.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||u.getAttribute("title")!==(T.title==null?null:T.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(q=u.getAttribute("src"),(q!==(T.src==null?null:T.src)||u.getAttribute("type")!==(T.type==null?null:T.type)||u.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&q&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var q=T.name==null?null:""+T.name;if(T.type==="hidden"&&u.getAttribute("name")===q)return u}else return u;if(u=du(u.nextSibling),u===null)break}return null}function DX(u,f,x){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!x||(u=du(u.nextSibling),u===null))return null;return u}function du(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return u}function JP(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"){if(f===0)return u;f--}else x==="/$"&&f++}u=u.previousSibling}return null}function eO(u,f,x){switch(f=eN(x),u){case"html":if(u=f.documentElement,!u)throw Error(n(452));return u;case"head":if(u=f.head,!u)throw Error(n(453));return u;case"body":if(u=f.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}var xd=new Map,tO=new Set;function tN(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var gf=K.d;K.d={f:PX,r:OX,D:RX,C:IX,L:LX,m:MX,X:BX,S:FX,M:UX};function PX(){var u=gf.f(),f=Gw();return u||f}function OX(u){var f=Zt(u);f!==null&&f.tag===5&&f.type==="form"?a0(f):gf.r(u)}var yx=typeof document>"u"?null:document;function rO(u,f,x){var j=yx;if(j&&typeof f=="string"&&f){var T=Ba(f);T='link[rel="'+u+'"][href="'+T+'"]',typeof x=="string"&&(T+='[crossorigin="'+x+'"]'),tO.has(T)||(tO.add(T),u={rel:u,crossOrigin:x,href:f},j.querySelector(T)===null&&(f=j.createElement("link"),Po(f,"link",u),He(f),j.head.appendChild(f)))}}function RX(u){gf.D(u),rO("dns-prefetch",u,null)}function IX(u,f){gf.C(u,f),rO("preconnect",u,f)}function LX(u,f,x){gf.L(u,f,x);var j=yx;if(j&&u&&f){var T='link[rel="preload"][as="'+Ba(f)+'"]';f==="image"&&x&&x.imageSrcSet?(T+='[imagesrcset="'+Ba(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(T+='[imagesizes="'+Ba(x.imageSizes)+'"]')):T+='[href="'+Ba(u)+'"]';var q=T;switch(f){case"style":q=vx(u);break;case"script":q=bx(u)}xd.has(q)||(u=z({rel:"preload",href:f==="image"&&x&&x.imageSrcSet?void 0:u,as:f},x),xd.set(q,u),j.querySelector(T)!==null||f==="style"&&j.querySelector(v1(q))||f==="script"&&j.querySelector(b1(q))||(f=j.createElement("link"),Po(f,"link",u),He(f),j.head.appendChild(f)))}}function MX(u,f){gf.m(u,f);var x=yx;if(x&&u){var j=f&&typeof f.as=="string"?f.as:"script",T='link[rel="modulepreload"][as="'+Ba(j)+'"][href="'+Ba(u)+'"]',q=T;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":q=bx(u)}if(!xd.has(q)&&(u=z({rel:"modulepreload",href:u},f),xd.set(q,u),x.querySelector(T)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(b1(q)))return}j=x.createElement("link"),Po(j,"link",u),He(j),x.head.appendChild(j)}}}function FX(u,f,x){gf.S(u,f,x);var j=yx;if(j&&u){var T=Ve(j).hoistableStyles,q=vx(u);f=f||"default";var oe=T.get(q);if(!oe){var je={loading:0,preload:null};if(oe=j.querySelector(v1(q)))je.loading=5;else{u=z({rel:"stylesheet",href:u,"data-precedence":f},x),(x=xd.get(q))&&yA(u,x);var Ge=oe=j.createElement("link");He(Ge),Po(Ge,"link",u),Ge._p=new Promise(function(at,Ut){Ge.onload=at,Ge.onerror=Ut}),Ge.addEventListener("load",function(){je.loading|=1}),Ge.addEventListener("error",function(){je.loading|=2}),je.loading|=4,rN(oe,f,j)}oe={type:"stylesheet",instance:oe,count:1,state:je},T.set(q,oe)}}}function BX(u,f){gf.X(u,f);var x=yx;if(x&&u){var j=Ve(x).hoistableScripts,T=bx(u),q=j.get(T);q||(q=x.querySelector(b1(T)),q||(u=z({src:u,async:!0},f),(f=xd.get(T))&&vA(u,f),q=x.createElement("script"),He(q),Po(q,"link",u),x.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},j.set(T,q))}}function UX(u,f){gf.M(u,f);var x=yx;if(x&&u){var j=Ve(x).hoistableScripts,T=bx(u),q=j.get(T);q||(q=x.querySelector(b1(T)),q||(u=z({src:u,async:!0,type:"module"},f),(f=xd.get(T))&&vA(u,f),q=x.createElement("script"),He(q),Po(q,"link",u),x.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},j.set(T,q))}}function sO(u,f,x,j){var T=(T=Ze.current)?tN(T):null;if(!T)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(f=vx(x.href),x=Ve(T).hoistableStyles,j=x.get(f),j||(j={type:"style",instance:null,count:0,state:null},x.set(f,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){u=vx(x.href);var q=Ve(T).hoistableStyles,oe=q.get(u);if(oe||(T=T.ownerDocument||T,oe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},q.set(u,oe),(q=T.querySelector(v1(u)))&&!q._p&&(oe.instance=q,oe.state.loading=5),xd.has(u)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},xd.set(u,x),q||$X(T,u,x,oe.state))),f&&j===null)throw Error(n(528,""));return oe}if(f&&j!==null)throw Error(n(529,""));return null;case"script":return f=x.async,x=x.src,typeof x=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=bx(x),x=Ve(T).hoistableScripts,j=x.get(f),j||(j={type:"script",instance:null,count:0,state:null},x.set(f,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function vx(u){return'href="'+Ba(u)+'"'}function v1(u){return'link[rel="stylesheet"]['+u+"]"}function nO(u){return z({},u,{"data-precedence":u.precedence,precedence:null})}function $X(u,f,x,j){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?j.loading=1:(f=u.createElement("link"),j.preload=f,f.addEventListener("load",function(){return j.loading|=1}),f.addEventListener("error",function(){return j.loading|=2}),Po(f,"link",x),He(f),u.head.appendChild(f))}function bx(u){return'[src="'+Ba(u)+'"]'}function b1(u){return"script[async]"+u}function aO(u,f,x){if(f.count++,f.instance===null)switch(f.type){case"style":var j=u.querySelector('style[data-href~="'+Ba(x.href)+'"]');if(j)return f.instance=j,He(j),j;var T=z({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return j=(u.ownerDocument||u).createElement("style"),He(j),Po(j,"style",T),rN(j,x.precedence,u),f.instance=j;case"stylesheet":T=vx(x.href);var q=u.querySelector(v1(T));if(q)return f.state.loading|=4,f.instance=q,He(q),q;j=nO(x),(T=xd.get(T))&&yA(j,T),q=(u.ownerDocument||u).createElement("link"),He(q);var oe=q;return oe._p=new Promise(function(je,Ge){oe.onload=je,oe.onerror=Ge}),Po(q,"link",j),f.state.loading|=4,rN(q,x.precedence,u),f.instance=q;case"script":return q=bx(x.src),(T=u.querySelector(b1(q)))?(f.instance=T,He(T),T):(j=x,(T=xd.get(q))&&(j=z({},x),vA(j,T)),u=u.ownerDocument||u,T=u.createElement("script"),He(T),Po(T,"link",j),u.head.appendChild(T),f.instance=T);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(j=f.instance,f.state.loading|=4,rN(j,x.precedence,u));return f.instance}function rN(u,f,x){for(var j=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=j.length?j[j.length-1]:null,q=T,oe=0;oe<j.length;oe++){var je=j[oe];if(je.dataset.precedence===f)q=je;else if(q!==T)break}q?q.parentNode.insertBefore(u,q.nextSibling):(f=x.nodeType===9?x.head:x,f.insertBefore(u,f.firstChild))}function yA(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function vA(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var sN=null;function iO(u,f,x){if(sN===null){var j=new Map,T=sN=new Map;T.set(x,j)}else T=sN,j=T.get(x),j||(j=new Map,T.set(x,j));if(j.has(u))return j;for(j.set(u,null),x=x.getElementsByTagName(u),T=0;T<x.length;T++){var q=x[T];if(!(q[dt]||q[Ne]||u==="link"&&q.getAttribute("rel")==="stylesheet")&&q.namespaceURI!=="http://www.w3.org/2000/svg"){var oe=q.getAttribute(f)||"";oe=u+oe;var je=j.get(oe);je?je.push(q):j.set(oe,[q])}}return j}function oO(u,f,x){u=u.ownerDocument||u,u.head.insertBefore(x,f==="title"?u.querySelector("head > title"):null)}function VX(u,f,x){if(x===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function lO(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var w1=null;function qX(){}function zX(u,f,x){if(w1===null)throw Error(n(475));var j=w1;if(f.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var T=vx(x.href),q=u.querySelector(v1(T));if(q){u=q._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(j.count++,j=nN.bind(j),u.then(j,j)),f.state.loading|=4,f.instance=q,He(q);return}q=u.ownerDocument||u,x=nO(x),(T=xd.get(T))&&yA(x,T),q=q.createElement("link"),He(q);var oe=q;oe._p=new Promise(function(je,Ge){oe.onload=je,oe.onerror=Ge}),Po(q,"link",x),f.instance=q}j.stylesheets===null&&(j.stylesheets=new Map),j.stylesheets.set(f,u),(u=f.state.preload)&&(f.state.loading&3)===0&&(j.count++,f=nN.bind(j),u.addEventListener("load",f),u.addEventListener("error",f))}}function HX(){if(w1===null)throw Error(n(475));var u=w1;return u.stylesheets&&u.count===0&&bA(u,u.stylesheets),0<u.count?function(f){var x=setTimeout(function(){if(u.stylesheets&&bA(u,u.stylesheets),u.unsuspend){var j=u.unsuspend;u.unsuspend=null,j()}},6e4);return u.unsuspend=f,function(){u.unsuspend=null,clearTimeout(x)}}:null}function nN(){if(this.count--,this.count===0){if(this.stylesheets)bA(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var aN=null;function bA(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,aN=new Map,f.forEach(WX,u),aN=null,nN.call(u))}function WX(u,f){if(!(f.state.loading&4)){var x=aN.get(u);if(x)var j=x.get(null);else{x=new Map,aN.set(u,x);for(var T=u.querySelectorAll("link[data-precedence],style[data-precedence]"),q=0;q<T.length;q++){var oe=T[q];(oe.nodeName==="LINK"||oe.getAttribute("media")!=="not all")&&(x.set(oe.dataset.precedence,oe),j=oe)}j&&x.set(null,j)}T=f.instance,oe=T.getAttribute("data-precedence"),q=x.get(oe)||j,q===j&&x.set(null,T),x.set(oe,T),this.count++,j=nN.bind(this),T.addEventListener("load",j),T.addEventListener("error",j),q?q.parentNode.insertBefore(T,q.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(T,u.firstChild)),f.state.loading|=4}}var N1={$$typeof:g,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function GX(u,f,x,j,T,q,oe,je){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lt(0),this.hiddenUpdates=lt(null),this.identifierPrefix=j,this.onUncaughtError=T,this.onCaughtError=q,this.onRecoverableError=oe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=je,this.incompleteTransitions=new Map}function cO(u,f,x,j,T,q,oe,je,Ge,at,Ut,ir){return u=new GX(u,f,x,oe,je,Ge,at,ir),f=1,q===!0&&(f|=24),q=pd(3,null,null,f),u.current=q,q.stateNode=u,f=Zg(),f.refCount++,u.pooledCache=f,f.refCount++,q.memoizedState={element:j,isDehydrated:x,cache:f},P4(q),u}function dO(u){return u?(u=Jd,u):Jd}function uO(u,f,x,j,T,q){T=dO(T),j.context===null?j.context=T:j.pendingContext=T,j=wm(f),j.payload={element:x},q=q===void 0?null:q,q!==null&&(j.callback=q),x=Nm(u,j,f),x!==null&&(Sl(x,u,f),a1(x,u,f))}function hO(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<f?x:f}}function wA(u,f){hO(u,f),(u=u.alternate)&&hO(u,f)}function fO(u){if(u.tag===13){var f=Zd(u,67108864);f!==null&&Sl(f,u,67108864),wA(u,67108864)}}var iN=!0;function YX(u,f,x,j){var T=k.T;k.T=null;var q=K.p;try{K.p=2,NA(u,f,x,j)}finally{K.p=q,k.T=T}}function KX(u,f,x,j){var T=k.T;k.T=null;var q=K.p;try{K.p=8,NA(u,f,x,j)}finally{K.p=q,k.T=T}}function NA(u,f,x,j){if(iN){var T=jA(j);if(T===null)dA(u,f,j,oN,x),pO(u,j);else if(XX(T,u,f,x,j))j.stopPropagation();else if(pO(u,j),f&4&&-1<QX.indexOf(u)){for(;T!==null;){var q=Zt(T);if(q!==null)switch(q.tag){case 3:if(q=q.stateNode,q.current.memoizedState.isDehydrated){var oe=ar(q.pendingLanes);if(oe!==0){var je=q;for(je.pendingLanes|=2,je.entangledLanes|=2;oe;){var Ge=1<<31-fr(oe);je.entanglements[1]|=Ge,oe&=~Ge}mh(q),(Da&6)===0&&(zw=qe()+500,g1(0))}}break;case 13:je=Zd(q,2),je!==null&&Sl(je,q,2),Gw(),wA(q,2)}if(q=jA(j),q===null&&dA(u,f,j,oN,x),q===T)break;T=q}T!==null&&j.stopPropagation()}else dA(u,f,j,null,x)}}function jA(u){return u=Xn(u),SA(u)}var oN=null;function SA(u){if(oN=null,u=Vt(u),u!==null){var f=V(u);if(f===null)u=null;else{var x=f.tag;if(x===13){if(u=Z(f),u!==null)return u;u=null}else if(x===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return oN=u,null}function mO(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case pt:return 2;case ct:return 8;case ft:case Mt:return 32;case Xt:return 268435456;default:return 32}default:return 32}}var AA=!1,km=null,Tm=null,Dm=null,j1=new Map,S1=new Map,Pm=[],QX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pO(u,f){switch(u){case"focusin":case"focusout":km=null;break;case"dragenter":case"dragleave":Tm=null;break;case"mouseover":case"mouseout":Dm=null;break;case"pointerover":case"pointerout":j1.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":S1.delete(f.pointerId)}}function A1(u,f,x,j,T,q){return u===null||u.nativeEvent!==q?(u={blockedOn:f,domEventName:x,eventSystemFlags:j,nativeEvent:q,targetContainers:[T]},f!==null&&(f=Zt(f),f!==null&&fO(f)),u):(u.eventSystemFlags|=j,f=u.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),u)}function XX(u,f,x,j,T){switch(f){case"focusin":return km=A1(km,u,f,x,j,T),!0;case"dragenter":return Tm=A1(Tm,u,f,x,j,T),!0;case"mouseover":return Dm=A1(Dm,u,f,x,j,T),!0;case"pointerover":var q=T.pointerId;return j1.set(q,A1(j1.get(q)||null,u,f,x,j,T)),!0;case"gotpointercapture":return q=T.pointerId,S1.set(q,A1(S1.get(q)||null,u,f,x,j,T)),!0}return!1}function gO(u){var f=Vt(u.target);if(f!==null){var x=V(f);if(x!==null){if(f=x.tag,f===13){if(f=Z(x),f!==null){u.blockedOn=f,fe(u.priority,function(){if(x.tag===13){var j=Pc(),T=Zd(x,j);T!==null&&Sl(T,x,j),wA(x,j)}});return}}else if(f===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function lN(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var x=jA(u.nativeEvent);if(x===null){x=u.nativeEvent;var j=new x.constructor(x.type,x);Jc=j,x.target.dispatchEvent(j),Jc=null}else return f=Zt(x),f!==null&&fO(f),u.blockedOn=x,!1;f.shift()}return!0}function xO(u,f,x){lN(u)&&x.delete(f)}function ZX(){AA=!1,km!==null&&lN(km)&&(km=null),Tm!==null&&lN(Tm)&&(Tm=null),Dm!==null&&lN(Dm)&&(Dm=null),j1.forEach(xO),S1.forEach(xO)}function cN(u,f){u.blockedOn===f&&(u.blockedOn=null,AA||(AA=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ZX)))}var dN=null;function yO(u){dN!==u&&(dN=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dN===u&&(dN=null);for(var f=0;f<u.length;f+=3){var x=u[f],j=u[f+1],T=u[f+2];if(typeof j!="function"){if(SA(j||x)===null)continue;break}var q=Zt(x);q!==null&&(u.splice(f,3),f-=3,sx(q,{pending:!0,data:T,method:x.method,action:j},j,T))}}))}function E1(u){function f(Ge){return cN(Ge,u)}km!==null&&cN(km,u),Tm!==null&&cN(Tm,u),Dm!==null&&cN(Dm,u),j1.forEach(f),S1.forEach(f);for(var x=0;x<Pm.length;x++){var j=Pm[x];j.blockedOn===u&&(j.blockedOn=null)}for(;0<Pm.length&&(x=Pm[0],x.blockedOn===null);)gO(x),x.blockedOn===null&&Pm.shift();if(x=(u.ownerDocument||u).$$reactFormReplay,x!=null)for(j=0;j<x.length;j+=3){var T=x[j],q=x[j+1],oe=T[Ae]||null;if(typeof q=="function")oe||yO(x);else if(oe){var je=null;if(q&&q.hasAttribute("formAction")){if(T=q,oe=q[Ae]||null)je=oe.formAction;else if(SA(T)!==null)continue}else je=oe.action;typeof je=="function"?x[j+1]=je:(x.splice(j,3),j-=3),yO(x)}}}function EA(u){this._internalRoot=u}uN.prototype.render=EA.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(n(409));var x=f.current,j=Pc();uO(x,j,u,f,null,null)},uN.prototype.unmount=EA.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;u.tag===0&&px(),uO(u.current,2,null,u,null,null),Gw(),f[Ie]=null}};function uN(u){this._internalRoot=u}uN.prototype.unstable_scheduleHydration=function(u){if(u){var f=Ns();u={blockedOn:null,target:u,priority:f};for(var x=0;x<Pm.length&&f!==0&&f<Pm[x].priority;x++);Pm.splice(x,0,u),x===0&&gO(u)}};var vO=t.version;if(vO!=="19.0.0")throw Error(n(527,vO,"19.0.0"));K.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=ae(f),u=u!==null?D(u):null,u=u===null?null:u.stateNode,u};var JX={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:Vt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hN=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hN.isDisabled&&hN.supportsFiber)try{Qr=hN.inject(JX),mt=hN}catch{}}return _1.createRoot=function(u,f){if(!a(u))throw Error(n(299));var x=!1,j="",T=r1,q=Mw,oe=ox,je=null;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(j=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(q=f.onCaughtError),f.onRecoverableError!==void 0&&(oe=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(je=f.unstable_transitionCallbacks)),f=cO(u,1,!1,null,null,x,j,T,q,oe,je,null),u[Ie]=f.current,cA(u.nodeType===8?u.parentNode:u),new EA(f)},_1.hydrateRoot=function(u,f,x){if(!a(u))throw Error(n(299));var j=!1,T="",q=r1,oe=Mw,je=ox,Ge=null,at=null;return x!=null&&(x.unstable_strictMode===!0&&(j=!0),x.identifierPrefix!==void 0&&(T=x.identifierPrefix),x.onUncaughtError!==void 0&&(q=x.onUncaughtError),x.onCaughtError!==void 0&&(oe=x.onCaughtError),x.onRecoverableError!==void 0&&(je=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(Ge=x.unstable_transitionCallbacks),x.formState!==void 0&&(at=x.formState)),f=cO(u,1,!0,f,x??null,j,T,q,oe,je,Ge,at),f.context=dO(null),x=f.current,j=Pc(),T=wm(j),T.callback=null,Nm(x,T,j),f.current.lanes=j,Ct(f,j),mh(f),u[Ie]=f.current,cA(u),new uN(f)},_1.version="19.0.0",_1}var TO;function uZ(){if(TO)return TA.exports;TO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),TA.exports=dZ(),TA.exports}var hZ=uZ(),nv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},H0=typeof window>"u"||"Deno"in globalThis;function Ad(){}function fZ(e,t){return typeof e=="function"?e(t):e}function V3(e){return typeof e=="number"&&e>=0&&e!==1/0}function H7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ny(e,t){return typeof e=="function"?e(t):e}function Nu(e,t){return typeof e=="function"?e(t):e}function DO(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==pk(o,t.options))return!1}else if(!Nb(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function PO(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(W0(t.options.mutationKey)!==W0(i))return!1}else if(!Nb(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function pk(e,t){return((t==null?void 0:t.queryKeyHashFn)||W0)(e)}function W0(e){return JSON.stringify(e,(t,r)=>q3(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Nb(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Nb(e[r],t[r])):!1}function W7(e,t){if(e===t)return e;const r=OO(e)&&OO(t);if(r||q3(e)&&q3(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const h=r?d:i[d];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=W7(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Lj(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function OO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function q3(e){if(!RO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!RO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function RO(e){return Object.prototype.toString.call(e)==="[object Object]"}function mZ(e){return new Promise(t=>{setTimeout(t,e)})}function z3(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?W7(e,t):t}function pZ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function gZ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var gk=Symbol();function G7(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var k0,Qm,Sy,R7,xZ=(R7=class extends nv{constructor(){super();ds(this,k0);ds(this,Qm);ds(this,Sy);Or(this,Sy,t=>{if(!H0&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Je(this,Qm)||this.setEventListener(Je(this,Sy))}onUnsubscribe(){var t;this.hasListeners()||((t=Je(this,Qm))==null||t.call(this),Or(this,Qm,void 0))}setEventListener(t){var r;Or(this,Sy,t),(r=Je(this,Qm))==null||r.call(this),Or(this,Qm,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Je(this,k0)!==t&&(Or(this,k0,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Je(this,k0)=="boolean"?Je(this,k0):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},k0=new WeakMap,Qm=new WeakMap,Sy=new WeakMap,R7),xk=new xZ,Ay,Xm,Ey,I7,yZ=(I7=class extends nv{constructor(){super();ds(this,Ay,!0);ds(this,Xm);ds(this,Ey);Or(this,Ey,t=>{if(!H0&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Je(this,Xm)||this.setEventListener(Je(this,Ey))}onUnsubscribe(){var t;this.hasListeners()||((t=Je(this,Xm))==null||t.call(this),Or(this,Xm,void 0))}setEventListener(t){var r;Or(this,Ey,t),(r=Je(this,Xm))==null||r.call(this),Or(this,Xm,t(this.setOnline.bind(this)))}setOnline(t){Je(this,Ay)!==t&&(Or(this,Ay,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Je(this,Ay)}},Ay=new WeakMap,Xm=new WeakMap,Ey=new WeakMap,I7),Mj=new yZ;function H3(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function vZ(e){return Math.min(1e3*2**e,3e4)}function Y7(e){return(e??"online")==="online"?Mj.isOnline():!0}var K7=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function RA(e){return e instanceof K7}function Q7(e){let t=!1,r=0,n=!1,a;const i=H3(),o=b=>{var v;n||(p(new K7(b)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>xk.isFocused()&&(e.networkMode==="always"||Mj.isOnline())&&e.canRun(),h=()=>Y7(e.networkMode)&&e.canRun(),m=b=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,b),a==null||a(),i.resolve(b))},p=b=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,b),a==null||a(),i.reject(b))},g=()=>new Promise(b=>{var v;a=N=>{(n||d())&&b(N)},(v=e.onPause)==null||v.call(e)}).then(()=>{var b;a=void 0,n||(b=e.onContinue)==null||b.call(e)}),w=()=>{if(n)return;let b;const v=r===0?e.initialPromise:void 0;try{b=v??e.fn()}catch(N){b=Promise.reject(N)}Promise.resolve(b).then(m).catch(N=>{var I;if(n)return;const S=e.retry??(H0?0:3),A=e.retryDelay??vZ,E=typeof A=="function"?A(r,N):A,C=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,N);if(t||!C){p(N);return}r++,(I=e.onFail)==null||I.call(e,r,N),mZ(E).then(()=>d()?void 0:g()).then(()=>{t?p(N):w()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?w():g().then(w),i)}}var bZ=e=>setTimeout(e,0);function wZ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=bZ;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Yi=wZ(),T0,L7,X7=(L7=class{constructor(){ds(this,T0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),V3(this.gcTime)&&Or(this,T0,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(H0?1/0:5*60*1e3))}clearGcTimeout(){Je(this,T0)&&(clearTimeout(Je(this,T0)),Or(this,T0,void 0))}},T0=new WeakMap,L7),Cy,_y,Sd,D0,al,b2,P0,bu,jf,M7,NZ=(M7=class extends X7{constructor(t){super();ds(this,bu);ds(this,Cy);ds(this,_y);ds(this,Sd);ds(this,D0);ds(this,al);ds(this,b2);ds(this,P0);Or(this,P0,!1),Or(this,b2,t.defaultOptions),this.setOptions(t.options),this.observers=[],Or(this,D0,t.client),Or(this,Sd,Je(this,D0).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Or(this,Cy,jZ(this.options)),this.state=t.state??Je(this,Cy),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Je(this,al))==null?void 0:t.promise}setOptions(t){this.options={...Je(this,b2),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Je(this,Sd).remove(this)}setData(t,r){const n=z3(this.state.data,t,this.options);return Us(this,bu,jf).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Us(this,bu,jf).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=Je(this,al))==null?void 0:n.promise;return(a=Je(this,al))==null||a.cancel(t),r?r.then(Ad).catch(Ad):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Je(this,Cy))}isActive(){return this.observers.some(t=>Nu(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!H7(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Je(this,al))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Je(this,al))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Je(this,Sd).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Je(this,al)&&(Je(this,P0)?Je(this,al).cancel({revert:!0}):Je(this,al).cancelRetry()),this.scheduleGc()),Je(this,Sd).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Us(this,bu,jf).call(this,{type:"invalidate"})}fetch(t,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Je(this,al))return Je(this,al).continueRetry(),Je(this,al).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Or(this,P0,!0),n.signal)})},i=()=>{const m=G7(this.options,r),p={client:Je(this,D0),queryKey:this.queryKey,meta:this.meta};return a(p),Or(this,P0,!1),this.options.persister?this.options.persister(m,p,this):m(p)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Je(this,D0),state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),Or(this,_y,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Us(this,bu,jf).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=m=>{var p,g,w,b;RA(m)&&m.silent||Us(this,bu,jf).call(this,{type:"error",error:m}),RA(m)||((g=(p=Je(this,Sd).config).onError)==null||g.call(p,m,this),(b=(w=Je(this,Sd).config).onSettled)==null||b.call(w,this.state.data,m,this)),this.scheduleGc()};return Or(this,al,Q7({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,g,w,b;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){l(v);return}(g=(p=Je(this,Sd).config).onSuccess)==null||g.call(p,m,this),(b=(w=Je(this,Sd).config).onSettled)==null||b.call(w,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,p)=>{Us(this,bu,jf).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{Us(this,bu,jf).call(this,{type:"pause"})},onContinue:()=>{Us(this,bu,jf).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Je(this,al).start()}},Cy=new WeakMap,_y=new WeakMap,Sd=new WeakMap,D0=new WeakMap,al=new WeakMap,b2=new WeakMap,P0=new WeakMap,bu=new WeakSet,jf=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Z7(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return RA(a)&&a.revert&&Je(this,_y)?{...Je(this,_y),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Yi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Je(this,Sd).notify({query:this,type:"updated",action:t})})},M7);function Z7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jZ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Nh,F7,SZ=(F7=class extends nv{constructor(t={}){super();ds(this,Nh);this.config=t,Or(this,Nh,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??pk(a,r);let o=this.get(i);return o||(o=new NZ({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Je(this,Nh).has(t.queryHash)||(Je(this,Nh).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Je(this,Nh).get(t.queryHash);r&&(t.destroy(),r===t&&Je(this,Nh).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Yi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Je(this,Nh).get(t)}getAll(){return[...Je(this,Nh).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>DO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>DO(t,n)):r}notify(t){Yi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Yi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Yi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Nh=new WeakMap,F7),jh,Al,O0,Sh,Vm,B7,AZ=(B7=class extends X7{constructor(t){super();ds(this,Sh);ds(this,jh);ds(this,Al);ds(this,O0);this.mutationId=t.mutationId,Or(this,Al,t.mutationCache),Or(this,jh,[]),this.state=t.state||J7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Je(this,jh).includes(t)||(Je(this,jh).push(t),this.clearGcTimeout(),Je(this,Al).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Or(this,jh,Je(this,jh).filter(r=>r!==t)),this.scheduleGc(),Je(this,Al).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Je(this,jh).length||(this.state.status==="pending"?this.scheduleGc():Je(this,Al).remove(this))}continue(){var t;return((t=Je(this,O0))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,h,m,p,g,w,b,v,N,S,A,E,C,I,P;Or(this,O0,Q7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,k)=>{Us(this,Sh,Vm).call(this,{type:"failed",failureCount:F,error:k})},onPause:()=>{Us(this,Sh,Vm).call(this,{type:"pause"})},onContinue:()=>{Us(this,Sh,Vm).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Je(this,Al).canRun(this)}));const r=this.state.status==="pending",n=!Je(this,O0).canStart();try{if(!r){Us(this,Sh,Vm).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(a=Je(this,Al).config).onMutate)==null?void 0:i.call(a,t,this));const k=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));k!==this.state.context&&Us(this,Sh,Vm).call(this,{type:"pending",context:k,variables:t,isPaused:n})}const F=await Je(this,O0).start();return await((d=(c=Je(this,Al).config).onSuccess)==null?void 0:d.call(c,F,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,F,t,this.state.context)),await((g=(p=Je(this,Al).config).onSettled)==null?void 0:g.call(p,F,null,this.state.variables,this.state.context,this)),await((b=(w=this.options).onSettled)==null?void 0:b.call(w,F,null,t,this.state.context)),Us(this,Sh,Vm).call(this,{type:"success",data:F}),F}catch(F){try{throw await((N=(v=Je(this,Al).config).onError)==null?void 0:N.call(v,F,t,this.state.context,this)),await((A=(S=this.options).onError)==null?void 0:A.call(S,F,t,this.state.context)),await((C=(E=Je(this,Al).config).onSettled)==null?void 0:C.call(E,void 0,F,this.state.variables,this.state.context,this)),await((P=(I=this.options).onSettled)==null?void 0:P.call(I,void 0,F,t,this.state.context)),F}finally{Us(this,Sh,Vm).call(this,{type:"error",error:F})}}finally{Je(this,Al).runNext(this)}}},jh=new WeakMap,Al=new WeakMap,O0=new WeakMap,Sh=new WeakSet,Vm=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Yi.batch(()=>{Je(this,jh).forEach(n=>{n.onMutationUpdate(t)}),Je(this,Al).notify({mutation:this,type:"updated",action:t})})},B7);function J7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cf,wu,w2,U7,EZ=(U7=class extends nv{constructor(t={}){super();ds(this,Cf);ds(this,wu);ds(this,w2);this.config=t,Or(this,Cf,new Set),Or(this,wu,new Map),Or(this,w2,0)}build(t,r,n){const a=new AZ({mutationCache:this,mutationId:++fN(this,w2)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){Je(this,Cf).add(t);const r=mN(t);if(typeof r=="string"){const n=Je(this,wu).get(r);n?n.push(t):Je(this,wu).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Je(this,Cf).delete(t)){const r=mN(t);if(typeof r=="string"){const n=Je(this,wu).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&Je(this,wu).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=mN(t);if(typeof r=="string"){const n=Je(this,wu).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=mN(t);if(typeof r=="string"){const a=(n=Je(this,wu).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Yi.batch(()=>{Je(this,Cf).forEach(t=>{this.notify({type:"removed",mutation:t})}),Je(this,Cf).clear(),Je(this,wu).clear()})}getAll(){return Array.from(Je(this,Cf))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>PO(r,n))}findAll(t={}){return this.getAll().filter(r=>PO(t,r))}notify(t){Yi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Yi.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ad))))}},Cf=new WeakMap,wu=new WeakMap,w2=new WeakMap,U7);function mN(e){var t;return(t=e.options.scope)==null?void 0:t.id}function IO(e){return{onFetch:(t,r)=>{var h,m,p,g,w;const n=t.options,a=(p=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const v=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},N=G7(t.options,t.fetchOptions),S=async(A,E,C)=>{if(b)return Promise.reject();if(E==null&&A.pages.length)return Promise.resolve(A);const I={client:t.client,queryKey:t.queryKey,pageParam:E,direction:C?"backward":"forward",meta:t.options.meta};v(I);const P=await N(I),{maxPages:F}=t.options,k=C?gZ:pZ;return{pages:k(A.pages,P,F),pageParams:k(A.pageParams,E,F)}};if(a&&i.length){const A=a==="backward",E=A?CZ:LO,C={pages:i,pageParams:o},I=E(n,C);l=await S(C,I,A)}else{const A=e??i.length;do{const E=c===0?o[0]??n.initialPageParam:LO(n,l);if(c>0&&E==null)break;l=await S(l,E),c++}while(c<A)}return l};t.options.persister?t.fetchFn=()=>{var b,v;return(v=(b=t.options).persister)==null?void 0:v.call(b,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function LO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function CZ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ga,Zm,Jm,ky,Ty,ep,Dy,Py,$7,yk=($7=class{constructor(e={}){ds(this,Ga);ds(this,Zm);ds(this,Jm);ds(this,ky);ds(this,Ty);ds(this,ep);ds(this,Dy);ds(this,Py);Or(this,Ga,e.queryCache||new SZ),Or(this,Zm,e.mutationCache||new EZ),Or(this,Jm,e.defaultOptions||{}),Or(this,ky,new Map),Or(this,Ty,new Map),Or(this,ep,0)}mount(){fN(this,ep)._++,Je(this,ep)===1&&(Or(this,Dy,xk.subscribe(async e=>{e&&(await this.resumePausedMutations(),Je(this,Ga).onFocus())})),Or(this,Py,Mj.subscribe(async e=>{e&&(await this.resumePausedMutations(),Je(this,Ga).onOnline())})))}unmount(){var e,t;fN(this,ep)._--,Je(this,ep)===0&&((e=Je(this,Dy))==null||e.call(this),Or(this,Dy,void 0),(t=Je(this,Py))==null||t.call(this),Or(this,Py,void 0))}isFetching(e){return Je(this,Ga).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Je(this,Zm).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Je(this,Ga).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Je(this,Ga).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ny(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Je(this,Ga).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=Je(this,Ga).get(n.queryHash),i=a==null?void 0:a.state.data,o=fZ(t,i);if(o!==void 0)return Je(this,Ga).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Yi.batch(()=>Je(this,Ga).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Je(this,Ga).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Je(this,Ga);Yi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Je(this,Ga);return Yi.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Yi.batch(()=>Je(this,Ga).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ad).catch(Ad)}invalidateQueries(e,t={}){return Yi.batch(()=>(Je(this,Ga).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Yi.batch(()=>Je(this,Ga).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ad)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ad)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Je(this,Ga).build(this,t);return r.isStaleByTime(ny(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ad).catch(Ad)}fetchInfiniteQuery(e){return e.behavior=IO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ad).catch(Ad)}ensureInfiniteQueryData(e){return e.behavior=IO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mj.isOnline()?Je(this,Zm).resumePausedMutations():Promise.resolve()}getQueryCache(){return Je(this,Ga)}getMutationCache(){return Je(this,Zm)}getDefaultOptions(){return Je(this,Jm)}setDefaultOptions(e){Or(this,Jm,e)}setQueryDefaults(e,t){Je(this,ky).set(W0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Je(this,ky).values()],r={};return t.forEach(n=>{Nb(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Je(this,Ty).set(W0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Je(this,Ty).values()],r={};return t.forEach(n=>{Nb(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Je(this,Jm).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Je(this,Jm).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Je(this,Ga).clear(),Je(this,Zm).clear()}},Ga=new WeakMap,Zm=new WeakMap,Jm=new WeakMap,ky=new WeakMap,Ty=new WeakMap,ep=new WeakMap,Dy=new WeakMap,Py=new WeakMap,$7),Zl,ln,N2,El,R0,Oy,tp,Ah,j2,Ry,Iy,I0,L0,rp,Ly,Rn,W1,W3,G3,Y3,K3,Q3,X3,Z3,e9,V7,_Z=(V7=class extends nv{constructor(t,r){super();ds(this,Rn);ds(this,Zl);ds(this,ln);ds(this,N2);ds(this,El);ds(this,R0);ds(this,Oy);ds(this,tp);ds(this,Ah);ds(this,j2);ds(this,Ry);ds(this,Iy);ds(this,I0);ds(this,L0);ds(this,rp);ds(this,Ly,new Set);this.options=r,Or(this,Zl,t),Or(this,Ah,null),Or(this,tp,H3()),this.options.experimental_prefetchInRender||Je(this,tp).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Je(this,ln).addObserver(this),MO(Je(this,ln),this.options)?Us(this,Rn,W1).call(this):this.updateResult(),Us(this,Rn,K3).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return J3(Je(this,ln),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return J3(Je(this,ln),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Us(this,Rn,Q3).call(this),Us(this,Rn,X3).call(this),Je(this,ln).removeObserver(this)}setOptions(t){const r=this.options,n=Je(this,ln);if(this.options=Je(this,Zl).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nu(this.options.enabled,Je(this,ln))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Us(this,Rn,Z3).call(this),Je(this,ln).setOptions(this.options),r._defaulted&&!Lj(this.options,r)&&Je(this,Zl).getQueryCache().notify({type:"observerOptionsUpdated",query:Je(this,ln),observer:this});const a=this.hasListeners();a&&FO(Je(this,ln),n,this.options,r)&&Us(this,Rn,W1).call(this),this.updateResult(),a&&(Je(this,ln)!==n||Nu(this.options.enabled,Je(this,ln))!==Nu(r.enabled,Je(this,ln))||ny(this.options.staleTime,Je(this,ln))!==ny(r.staleTime,Je(this,ln)))&&Us(this,Rn,W3).call(this);const i=Us(this,Rn,G3).call(this);a&&(Je(this,ln)!==n||Nu(this.options.enabled,Je(this,ln))!==Nu(r.enabled,Je(this,ln))||i!==Je(this,rp))&&Us(this,Rn,Y3).call(this,i)}getOptimisticResult(t){const r=Je(this,Zl).getQueryCache().build(Je(this,Zl),t),n=this.createResult(r,t);return TZ(this,n)&&(Or(this,El,n),Or(this,Oy,this.options),Or(this,R0,Je(this,ln).state)),n}getCurrentResult(){return Je(this,El)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){Je(this,Ly).add(t)}getCurrentQuery(){return Je(this,ln)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Je(this,Zl).defaultQueryOptions(t),n=Je(this,Zl).getQueryCache().build(Je(this,Zl),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Us(this,Rn,W1).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Je(this,El)))}createResult(t,r){var F;const n=Je(this,ln),a=this.options,i=Je(this,El),o=Je(this,R0),l=Je(this,Oy),d=t!==n?t.state:Je(this,N2),{state:h}=t;let m={...h},p=!1,g;if(r._optimisticResults){const k=this.hasListeners(),z=!k&&MO(t,r),O=k&&FO(t,n,r,a);(z||O)&&(m={...m,...Z7(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:w,errorUpdatedAt:b,status:v}=m;if(r.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&r.select===Je(this,j2))g=Je(this,Ry);else try{Or(this,j2,r.select),g=r.select(m.data),g=z3(i==null?void 0:i.data,g,r),Or(this,Ry,g),Or(this,Ah,null)}catch(k){Or(this,Ah,k)}else g=m.data;if(r.placeholderData!==void 0&&g===void 0&&v==="pending"){let k;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))k=i.data;else if(k=typeof r.placeholderData=="function"?r.placeholderData((F=Je(this,Iy))==null?void 0:F.state.data,Je(this,Iy)):r.placeholderData,r.select&&k!==void 0)try{k=r.select(k),Or(this,Ah,null)}catch(z){Or(this,Ah,z)}k!==void 0&&(v="success",g=z3(i==null?void 0:i.data,k,r),p=!0)}Je(this,Ah)&&(w=Je(this,Ah),g=Je(this,Ry),b=Date.now(),v="error");const N=m.fetchStatus==="fetching",S=v==="pending",A=v==="error",E=S&&N,C=g!==void 0,P={status:v,fetchStatus:m.fetchStatus,isPending:S,isSuccess:v==="success",isError:A,isInitialLoading:E,isLoading:E,data:g,dataUpdatedAt:m.dataUpdatedAt,error:w,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:N,isRefetching:N&&!S,isLoadingError:A&&!C,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&C,isStale:vk(t,r),refetch:this.refetch,promise:Je(this,tp)};if(this.options.experimental_prefetchInRender){const k=M=>{P.status==="error"?M.reject(P.error):P.data!==void 0&&M.resolve(P.data)},z=()=>{const M=Or(this,tp,P.promise=H3());k(M)},O=Je(this,tp);switch(O.status){case"pending":t.queryHash===n.queryHash&&k(O);break;case"fulfilled":(P.status==="error"||P.data!==O.value)&&z();break;case"rejected":(P.status!=="error"||P.error!==O.reason)&&z();break}}return P}updateResult(){const t=Je(this,El),r=this.createResult(Je(this,ln),this.options);if(Or(this,R0,Je(this,ln).state),Or(this,Oy,this.options),Je(this,R0).data!==void 0&&Or(this,Iy,Je(this,ln)),Lj(r,t))return;Or(this,El,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Je(this,Ly).size)return!0;const o=new Set(i??Je(this,Ly));return this.options.throwOnError&&o.add("error"),Object.keys(Je(this,El)).some(l=>{const c=l;return Je(this,El)[c]!==t[c]&&o.has(c)})};Us(this,Rn,e9).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Us(this,Rn,K3).call(this)}},Zl=new WeakMap,ln=new WeakMap,N2=new WeakMap,El=new WeakMap,R0=new WeakMap,Oy=new WeakMap,tp=new WeakMap,Ah=new WeakMap,j2=new WeakMap,Ry=new WeakMap,Iy=new WeakMap,I0=new WeakMap,L0=new WeakMap,rp=new WeakMap,Ly=new WeakMap,Rn=new WeakSet,W1=function(t){Us(this,Rn,Z3).call(this);let r=Je(this,ln).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ad)),r},W3=function(){Us(this,Rn,Q3).call(this);const t=ny(this.options.staleTime,Je(this,ln));if(H0||Je(this,El).isStale||!V3(t))return;const n=H7(Je(this,El).dataUpdatedAt,t)+1;Or(this,I0,setTimeout(()=>{Je(this,El).isStale||this.updateResult()},n))},G3=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Je(this,ln)):this.options.refetchInterval)??!1},Y3=function(t){Us(this,Rn,X3).call(this),Or(this,rp,t),!(H0||Nu(this.options.enabled,Je(this,ln))===!1||!V3(Je(this,rp))||Je(this,rp)===0)&&Or(this,L0,setInterval(()=>{(this.options.refetchIntervalInBackground||xk.isFocused())&&Us(this,Rn,W1).call(this)},Je(this,rp)))},K3=function(){Us(this,Rn,W3).call(this),Us(this,Rn,Y3).call(this,Us(this,Rn,G3).call(this))},Q3=function(){Je(this,I0)&&(clearTimeout(Je(this,I0)),Or(this,I0,void 0))},X3=function(){Je(this,L0)&&(clearInterval(Je(this,L0)),Or(this,L0,void 0))},Z3=function(){const t=Je(this,Zl).getQueryCache().build(Je(this,Zl),this.options);if(t===Je(this,ln))return;const r=Je(this,ln);Or(this,ln,t),Or(this,N2,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},e9=function(t){Yi.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Je(this,El))}),Je(this,Zl).getQueryCache().notify({query:Je(this,ln),type:"observerResultsUpdated"})})},V7);function kZ(e,t){return Nu(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function MO(e,t){return kZ(e,t)||e.state.data!==void 0&&J3(e,t,t.refetchOnMount)}function J3(e,t,r){if(Nu(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&vk(e,t)}return!1}function FO(e,t,r,n){return(e!==t||Nu(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&vk(e,r)}function vk(e,t){return Nu(t.enabled,e)!==!1&&e.isStaleByTime(ny(t.staleTime,e))}function TZ(e,t){return!Lj(e.getCurrentResult(),t)}var sp,np,Jl,_f,Mf,uj,eC,q7,DZ=(q7=class extends nv{constructor(r,n){super();ds(this,Mf);ds(this,sp);ds(this,np);ds(this,Jl);ds(this,_f);Or(this,sp,r),this.setOptions(n),this.bindMethods(),Us(this,Mf,uj).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=Je(this,sp).defaultMutationOptions(r),Lj(this.options,n)||Je(this,sp).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Je(this,Jl),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&W0(n.mutationKey)!==W0(this.options.mutationKey)?this.reset():((a=Je(this,Jl))==null?void 0:a.state.status)==="pending"&&Je(this,Jl).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Je(this,Jl))==null||r.removeObserver(this)}onMutationUpdate(r){Us(this,Mf,uj).call(this),Us(this,Mf,eC).call(this,r)}getCurrentResult(){return Je(this,np)}reset(){var r;(r=Je(this,Jl))==null||r.removeObserver(this),Or(this,Jl,void 0),Us(this,Mf,uj).call(this),Us(this,Mf,eC).call(this)}mutate(r,n){var a;return Or(this,_f,n),(a=Je(this,Jl))==null||a.removeObserver(this),Or(this,Jl,Je(this,sp).getMutationCache().build(Je(this,sp),this.options)),Je(this,Jl).addObserver(this),Je(this,Jl).execute(r)}},sp=new WeakMap,np=new WeakMap,Jl=new WeakMap,_f=new WeakMap,Mf=new WeakSet,uj=function(){var n;const r=((n=Je(this,Jl))==null?void 0:n.state)??J7();Or(this,np,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},eC=function(r){Yi.batch(()=>{var n,a,i,o,l,c,d,h;if(Je(this,_f)&&this.hasListeners()){const m=Je(this,np).variables,p=Je(this,np).context;(r==null?void 0:r.type)==="success"?((a=(n=Je(this,_f)).onSuccess)==null||a.call(n,r.data,m,p),(o=(i=Je(this,_f)).onSettled)==null||o.call(i,r.data,null,m,p)):(r==null?void 0:r.type)==="error"&&((c=(l=Je(this,_f)).onError)==null||c.call(l,r.error,m,p),(h=(d=Je(this,_f)).onSettled)==null||h.call(d,void 0,r.error,m,p))}this.listeners.forEach(m=>{m(Je(this,np))})})},q7),t9=y.createContext(void 0),Ja=e=>{const t=y.useContext(t9);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},PZ=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(t9.Provider,{value:e,children:t})),r9=y.createContext(!1),OZ=()=>y.useContext(r9);r9.Provider;function RZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var IZ=y.createContext(RZ()),LZ=()=>y.useContext(IZ);function s9(e,t){return typeof e=="function"?e(...t):!!e}function tC(){}var MZ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},FZ=e=>{y.useEffect(()=>{e.clearReset()},[e])},BZ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||s9(r,[e.error,n])),UZ=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},$Z=(e,t)=>e.isLoading&&e.isFetching&&!t,VZ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,BO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function qZ(e,t,r){var m,p,g,w,b;const n=Ja(),a=OZ(),i=LZ(),o=n.defaultQueryOptions(e);(p=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||p.call(m,o),o._optimisticResults=a?"isRestoring":"optimistic",UZ(o),MZ(o,i),FZ(i);const l=!n.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new t(n,o)),d=c.getOptimisticResult(o),h=!a&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(v=>{const N=h?c.subscribe(Yi.batchCalls(v)):tC;return c.updateResult(),N},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o)},[o,c]),VZ(o,d))throw BO(o,c,i);if(BZ({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((w=(g=n.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||w.call(g,o,d),o.experimental_prefetchInRender&&!H0&&$Z(d,a)){const v=l?BO(o,c,i):(b=n.getQueryCache().get(o.queryHash))==null?void 0:b.promise;v==null||v.catch(tC).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function cs(e,t){return qZ(e,_Z)}function Ks(e,t){const r=Ja(),[n]=y.useState(()=>new DZ(r,e));y.useEffect(()=>{n.setOptions(e)},[n,e]);const a=y.useSyncExternalStore(y.useCallback(o=>n.subscribe(Yi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=y.useCallback((o,l)=>{n.mutate(o,l).catch(tC)},[n]);if(a.error&&s9(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const zZ="modulepreload",HZ=function(e){return"/"+e},UO={},vu=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=HZ(c),c in UO)return;UO[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":zZ,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((p,g)=>{m.addEventListener("load",p),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},jb="Indraai",WZ=()=>"https://snf.3.7.237.251.sslip.io",Vu=WZ();var k1={},$O;function GZ(){if($O)return k1;$O=1,Object.defineProperty(k1,"__esModule",{value:!0}),k1.parse=o,k1.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,g){const w=new i,b=p.length;if(b<2)return w;const v=(g==null?void 0:g.decode)||h;let N=0;do{const S=p.indexOf("=",N);if(S===-1)break;const A=p.indexOf(";",N),E=A===-1?b:A;if(S>E){N=p.lastIndexOf(";",S-1)+1;continue}const C=l(p,N,S),I=c(p,S,C),P=p.slice(C,I);if(w[P]===void 0){let F=l(p,S+1,E),k=c(p,E,F);const z=v(p.slice(F,k));w[P]=z}N=E+1}while(N<b);return w}function l(p,g,w){do{const b=p.charCodeAt(g);if(b!==32&&b!==9)return g}while(++g<w);return w}function c(p,g,w){for(;g>w;){const b=p.charCodeAt(--g);if(b!==32&&b!==9)return g+1}return w}function d(p,g,w){const b=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(p))throw new TypeError(`argument name is invalid: ${p}`);const v=b(g);if(!t.test(v))throw new TypeError(`argument val is invalid: ${g}`);let N=p+"="+v;if(!w)return N;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);N+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);N+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);N+="; Path="+w.path}if(w.expires){if(!m(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);N+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(N+="; HttpOnly"),w.secure&&(N+="; Secure"),w.partitioned&&(N+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return N}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function m(p){return a.call(p)==="[object Date]"}return k1}GZ();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VO="popstate";function YZ(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return rC("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Sb(a)}return QZ(t,r,null,e)}function ja(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Md(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KZ(){return Math.random().toString(36).substring(2,10)}function qO(e,t){return{usr:e.state,key:e.key,idx:t}}function rC(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?av(t):t,state:r,key:t&&t.key||n||KZ()}}function Sb({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function av(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function QZ(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function m(){l="POP";let v=h(),N=v==null?null:v-d;d=v,c&&c({action:l,location:b.location,delta:N})}function p(v,N){l="PUSH";let S=rC(b.location,v,N);d=h()+1;let A=qO(S,d),E=b.createHref(S);try{o.pushState(A,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(E)}i&&c&&c({action:l,location:b.location,delta:1})}function g(v,N){l="REPLACE";let S=rC(b.location,v,N);d=h();let A=qO(S,d),E=b.createHref(S);o.replaceState(A,"",E),i&&c&&c({action:l,location:b.location,delta:0})}function w(v){let N=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof v=="string"?v:Sb(v);return S=S.replace(/ $/,"%20"),ja(N,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,N)}let b={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(VO,m),c=v,()=>{a.removeEventListener(VO,m),c=null}},createHref(v){return t(a,v)},createURL:w,encodeLocation(v){let N=w(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:p,replace:g,go(v){return o.go(v)}};return b}function n9(e,t,r="/"){return XZ(e,t,r,!1)}function XZ(e,t,r,n){let a=typeof t=="string"?av(t):t,i=Ff(a.pathname||"/",r);if(i==null)return null;let o=a9(e);ZZ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=cJ(i);l=oJ(o[c],d,n)}return l}function a9(e,t=[],r=[],n=""){let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ja(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let d=Df([n,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(ja(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),a9(i.children,t,h,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:aJ(d,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of i9(i.path))a(i,o,c)}),t}function i9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=i9(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ZZ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:iJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var JZ=/^:[\w-]+$/,eJ=3,tJ=2,rJ=1,sJ=10,nJ=-2,zO=e=>e==="*";function aJ(e,t){let r=e.split("/"),n=r.length;return r.some(zO)&&(n+=nJ),t&&(n+=tJ),r.filter(a=>!zO(a)).reduce((a,i)=>a+(JZ.test(i)?eJ:i===""?rJ:sJ),n)}function iJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function oJ(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Fj({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=Fj({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:Df([i,m.pathname]),pathnameBase:fJ(Df([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Df([i,m.pathnameBase]))}return o}function Fj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=lJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:m},p)=>{if(h==="*"){let w=l[p]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const g=l[p];return m&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function lJ(e,t=!1,r=!0){Md(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function cJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Md(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ff(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function dJ(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?av(e):e;return{pathname:r?r.startsWith("/")?r:uJ(r,t):t,search:mJ(n),hash:pJ(a)}}function uJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function IA(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bk(e){let t=hJ(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function wk(e,t,r,n=!1){let a;typeof e=="string"?a=av(e):(a={...e},ja(!a.pathname||!a.pathname.includes("?"),IA("?","pathname","search",a)),ja(!a.pathname||!a.pathname.includes("#"),IA("#","pathname","hash",a)),ja(!a.search||!a.search.includes("#"),IA("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}l=m>=0?t[m]:"/"}let c=dJ(a,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Df=e=>e.join("/").replace(/\/\/+/g,"/"),fJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var o9=["POST","PUT","PATCH","DELETE"];new Set(o9);var xJ=["GET",...o9];new Set(xJ);var iv=y.createContext(null);iv.displayName="DataRouter";var H5=y.createContext(null);H5.displayName="DataRouterState";var l9=y.createContext({isTransitioning:!1});l9.displayName="ViewTransition";var yJ=y.createContext(new Map);yJ.displayName="Fetchers";var vJ=y.createContext(null);vJ.displayName="Await";var qu=y.createContext(null);qu.displayName="Navigation";var S2=y.createContext(null);S2.displayName="Location";var $d=y.createContext({outlet:null,matches:[],isDataRoute:!1});$d.displayName="Route";var Nk=y.createContext(null);Nk.displayName="RouteError";function bJ(e,{relative:t}={}){ja(ov(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(qu),{hash:a,pathname:i,search:o}=A2(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:Df([r,i])),n.createHref({pathname:l,search:o,hash:a})}function ov(){return y.useContext(S2)!=null}function xl(){return ja(ov(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(S2).location}var c9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d9(e){y.useContext(qu).static||y.useLayoutEffect(e)}function Ls(){let{isDataRoute:e}=y.useContext($d);return e?IJ():wJ()}function wJ(){ja(ov(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(iv),{basename:t,navigator:r}=y.useContext(qu),{matches:n}=y.useContext($d),{pathname:a}=xl(),i=JSON.stringify(bk(n)),o=y.useRef(!1);return d9(()=>{o.current=!0}),y.useCallback((c,d={})=>{if(Md(o.current,c9),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=wk(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Df([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,i,a,e])}var NJ=y.createContext(null);function jJ(e){let t=y.useContext($d).outlet;return t&&y.createElement(NJ.Provider,{value:e},t)}function Ji(){let{matches:e}=y.useContext($d),t=e[e.length-1];return t?t.params:{}}function A2(e,{relative:t}={}){let{matches:r}=y.useContext($d),{pathname:n}=xl(),a=JSON.stringify(bk(r));return y.useMemo(()=>wk(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function SJ(e,t){return u9(e,t)}function u9(e,t,r,n){var S;ja(ov(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=y.useContext(qu),{matches:o}=y.useContext($d),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let A=m&&m.path||"";h9(d,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=xl(),g;if(t){let A=typeof t=="string"?av(t):t;ja(h==="/"||((S=A.pathname)==null?void 0:S.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),g=A}else g=p;let w=g.pathname||"/",b=w;if(h!=="/"){let A=h.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let v=!i&&r&&r.matches&&r.matches.length>0?r.matches:n9(e,{pathname:b});Md(m||v!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Md(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=kJ(v&&v.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:Df([h,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:Df([h,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,r,n);return t&&N?y.createElement(S2.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},N):N}function AJ(){let e=RJ(),t=gJ(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,o)}var EJ=y.createElement(AJ,null),CJ=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?y.createElement($d.Provider,{value:this.props.routeContext},y.createElement(Nk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _J({routeContext:e,match:t,children:r}){let n=y.useContext(iv);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement($d.Provider,{value:e},r)}function kJ(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let c=a.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);ja(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:m}=r,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||p){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,d,h)=>{let m,p=!1,g=null,w=null;r&&(m=i&&d.route.id?i[d.route.id]:void 0,g=d.route.errorElement||EJ,o&&(l<0&&h===0?(h9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):l===h&&(p=!0,w=d.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,h+1)),v=()=>{let N;return m?N=g:p?N=w:d.route.Component?N=y.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=c,y.createElement(_J,{match:d,routeContext:{outlet:c,matches:b,isDataRoute:r!=null},children:N})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(CJ,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}function jk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TJ(e){let t=y.useContext(iv);return ja(t,jk(e)),t}function DJ(e){let t=y.useContext(H5);return ja(t,jk(e)),t}function PJ(e){let t=y.useContext($d);return ja(t,jk(e)),t}function Sk(e){let t=PJ(e),r=t.matches[t.matches.length-1];return ja(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function OJ(){return Sk("useRouteId")}function RJ(){var n;let e=y.useContext(Nk),t=DJ("useRouteError"),r=Sk("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function IJ(){let{router:e}=TJ("useNavigate"),t=Sk("useNavigate"),r=y.useRef(!1);return d9(()=>{r.current=!0}),y.useCallback(async(a,i={})=>{Md(r.current,c9),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var HO={};function h9(e,t,r){!t&&!HO[e]&&(HO[e]=!0,Md(!1,r))}y.memo(LJ);function LJ({routes:e,future:t,state:r}){return u9(e,void 0,r,t)}function MJ({to:e,replace:t,state:r,relative:n}){ja(ov(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=y.useContext(qu);Md(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=y.useContext($d),{pathname:o}=xl(),l=Ls(),c=wk(e,bk(i),o,n==="path"),d=JSON.stringify(c);return y.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:n})},[l,d,n,t,r]),null}function Ak(e){return jJ(e.context)}function nr(e){ja(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FJ({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){ja(!ov(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=y.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=av(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:p="default"}=r,g=y.useMemo(()=>{let w=Ff(c,o);return w==null?null:{location:{pathname:w,search:d,hash:h,state:m,key:p},navigationType:n}},[o,c,d,h,m,p,n]);return Md(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:y.createElement(qu.Provider,{value:l},y.createElement(S2.Provider,{children:t,value:g}))}function BJ({children:e,location:t}){return SJ(sC(e),t)}function sC(e,t=[]){let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let i=[...t,a];if(n.type===y.Fragment){r.push.apply(r,sC(n.props.children,i));return}ja(n.type===nr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ja(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=sC(n.props.children,i)),r.push(o)}),r}var hj="get",fj="application/x-www-form-urlencoded";function W5(e){return e!=null&&typeof e.tagName=="string"}function UJ(e){return W5(e)&&e.tagName.toLowerCase()==="button"}function $J(e){return W5(e)&&e.tagName.toLowerCase()==="form"}function VJ(e){return W5(e)&&e.tagName.toLowerCase()==="input"}function qJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zJ(e,t){return e.button===0&&(!t||t==="_self")&&!qJ(e)}function nC(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function HJ(e,t){let r=nC(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var pN=null;function WJ(){if(pN===null)try{new FormData(document.createElement("form"),0),pN=!1}catch{pN=!0}return pN}var GJ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function LA(e){return e!=null&&!GJ.has(e)?(Md(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fj}"`),null):e}function YJ(e,t){let r,n,a,i,o;if($J(e)){let l=e.getAttribute("action");n=l?Ff(l,t):null,r=e.getAttribute("method")||hj,a=LA(e.getAttribute("enctype"))||fj,i=new FormData(e)}else if(UJ(e)||VJ(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Ff(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||hj,a=LA(e.getAttribute("formenctype"))||LA(l.getAttribute("enctype"))||fj,i=new FormData(l,e),!WJ()){let{name:d,type:h,value:m}=e;if(h==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,m)}}else{if(W5(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=hj,n=null,a=fj,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}function Ek(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function KJ(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QJ(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function XJ(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await KJ(i,r);return o.links?o.links():[]}return[]}));return tee(n.flat(1).filter(QJ).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function WO(e,t,r,n,a,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var h;return r[d].pathname!==c.pathname||((h=r[d].route.path)==null?void 0:h.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?t.filter((c,d)=>{var m;let h=n.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function ZJ(e,t,{includeHydrateFallback:r}={}){return JJ(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function JJ(e){return[...new Set(e)]}function eee(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function tee(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(eee(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function ree(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Ff(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function f9(){let e=y.useContext(iv);return Ek(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function see(){let e=y.useContext(H5);return Ek(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ck=y.createContext(void 0);Ck.displayName="FrameworkContext";function m9(){let e=y.useContext(Ck);return Ek(e,"You must render this element inside a <HydratedRouter> element"),e}function nee(e,t){let r=y.useContext(Ck),[n,a]=y.useState(!1),[i,o]=y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,p=y.useRef(null);y.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=N=>{N.forEach(S=>{o(S.isIntersecting)})},v=new IntersectionObserver(b,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[e]),y.useEffect(()=>{if(n){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[n]);let g=()=>{a(!0)},w=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:T1(l,g),onBlur:T1(c,w),onMouseEnter:T1(d,g),onMouseLeave:T1(h,w),onTouchStart:T1(m,g)}]:[!1,p,{}]}function T1(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function aee({page:e,...t}){let{router:r}=f9(),n=y.useMemo(()=>n9(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(oee,{page:e,matches:n,...t}):null}function iee(e){let{manifest:t,routeModules:r}=m9(),[n,a]=y.useState([]);return y.useEffect(()=>{let i=!1;return XJ(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function oee({page:e,matches:t,...r}){let n=xl(),{manifest:a,routeModules:i}=m9(),{basename:o}=f9(),{loaderData:l,matches:c}=see(),d=y.useMemo(()=>WO(e,t,c,a,n,"data"),[e,t,c,a,n]),h=y.useMemo(()=>WO(e,t,c,a,n,"assets"),[e,t,c,a,n]),m=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,b=!1;if(t.forEach(N=>{var A;let S=a.routes[N.route.id];!S||!S.hasLoader||(!d.some(E=>E.route.id===N.route.id)&&N.route.id in l&&((A=i[N.route.id])!=null&&A.shouldRevalidate)||S.hasClientLoader?b=!0:w.add(N.route.id))}),w.size===0)return[];let v=ree(e,o);return b&&w.size>0&&v.searchParams.set("_routes",t.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[v.pathname+v.search]},[o,l,n,a,d,t,e,i]),p=y.useMemo(()=>ZJ(h,a),[h,a]),g=iee(h);return y.createElement(y.Fragment,null,m.map(w=>y.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),p.map(w=>y.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),g.map(({key:w,link:b})=>y.createElement("link",{key:w,...b})))}function lee(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var p9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p9&&(window.__reactRouterVersion="7.4.0")}catch{}function cee({basename:e,children:t,window:r}){let n=y.useRef();n.current==null&&(n.current=YZ({window:r,v5Compat:!0}));let a=n.current,[i,o]=y.useState({action:a.action,location:a.location}),l=y.useCallback(c=>{y.startTransition(()=>o(c))},[o]);return y.useLayoutEffect(()=>a.listen(l),[a,l]),y.createElement(FJ,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var g9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rs=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m,...p},g){let{basename:w}=y.useContext(qu),b=typeof d=="string"&&g9.test(d),v,N=!1;if(typeof d=="string"&&b&&(v=d,p9))try{let k=new URL(window.location.href),z=d.startsWith("//")?new URL(k.protocol+d):new URL(d),O=Ff(z.pathname,w);z.origin===k.origin&&O!=null?d=O+z.search+z.hash:N=!0}catch{Md(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=bJ(d,{relative:a}),[A,E,C]=nee(n,p),I=hee(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:m});function P(k){t&&t(k),k.defaultPrevented||I(k)}let F=y.createElement("a",{...p,...C,href:v||S,onClick:N||i?t:P,ref:lee(g,E),target:c,"data-discover":!b&&r==="render"?"true":void 0});return A&&!b?y.createElement(y.Fragment,null,F,y.createElement(aee,{page:S})):F});Rs.displayName="Link";var G1=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},h){let m=A2(o,{relative:d.relative}),p=xl(),g=y.useContext(H5),{navigator:w,basename:b}=y.useContext(qu),v=g!=null&&yee(m)&&l===!0,N=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,S=p.pathname,A=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(S=S.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&b&&(A=Ff(A,b)||A);const E=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let C=S===N||!a&&S.startsWith(N)&&S.charAt(E)==="/",I=A!=null&&(A===N||!a&&A.startsWith(N)&&A.charAt(N.length)==="/"),P={isActive:C,isPending:I,isTransitioning:v},F=C?t:void 0,k;typeof n=="function"?k=n(P):k=[n,C?"active":null,I?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(P):i;return y.createElement(Rs,{...d,"aria-current":F,className:k,ref:h,style:z,to:o,viewTransition:l},typeof c=="function"?c(P):c)});G1.displayName="NavLink";var dee=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=hj,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...p},g)=>{let w=gee(),b=xee(l,{relative:d}),v=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&g9.test(l),S=A=>{if(c&&c(A),A.defaultPrevented)return;A.preventDefault();let E=A.nativeEvent.submitter,C=(E==null?void 0:E.getAttribute("formmethod"))||o;w(E||A.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:a,state:i,relative:d,preventScrollReset:h,viewTransition:m})};return y.createElement("form",{ref:g,method:v,action:b,onSubmit:n?c:S,...p,"data-discover":!N&&e==="render"?"true":void 0})});dee.displayName="Form";function uee(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x9(e){let t=y.useContext(iv);return ja(t,uee(e)),t}function hee(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=Ls(),c=xl(),d=A2(e,{relative:i});return y.useCallback(h=>{if(zJ(h,t)){h.preventDefault();let m=r!==void 0?r:Sb(c)===Sb(d);l(e,{replace:m,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,r,n,t,e,a,i,o])}function fee(e){Md(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(nC(e)),r=y.useRef(!1),n=xl(),a=y.useMemo(()=>HJ(n.search,r.current?null:t.current),[n.search]),i=Ls(),o=y.useCallback((l,c)=>{const d=nC(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}var mee=0,pee=()=>`__${String(++mee)}__`;function gee(){let{router:e}=x9("useSubmit"),{basename:t}=y.useContext(qu),r=OJ();return y.useCallback(async(n,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=YJ(n,t);if(a.navigate===!1){let h=a.fetcherKey||pee();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function xee(e,{relative:t}={}){let{basename:r}=y.useContext(qu),n=y.useContext($d);ja(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...A2(e||".",{relative:t})},o=xl();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Df([r,i.pathname])),Sb(i)}function yee(e,t={}){let r=y.useContext(l9);ja(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=x9("useViewTransitionState"),a=A2(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Ff(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ff(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Fj(a.pathname,o)!=null||Fj(a.pathname,i)!=null}new TextEncoder;var lv=z7();const _k=z5(lv);var vee=(e,t,r,n,a,i,o,l)=>{let c=document.documentElement,d=["light","dark"];function h(g){(Array.isArray(e)?e:[e]).forEach(w=>{let b=w==="class",v=b&&i?a.map(N=>i[N]||N):a;b?(c.classList.remove(...v),c.classList.add(i&&i[g]?i[g]:g)):c.setAttribute(w,g)}),m(g)}function m(g){l&&d.includes(g)&&(c.style.colorScheme=g)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)h(n);else try{let g=localStorage.getItem(t)||r,w=o&&g==="system"?p():g;h(w)}catch{}},GO=["light","dark"],y9="(prefers-color-scheme: dark)",bee=typeof window>"u",kk=y.createContext(void 0),wee={setTheme:e=>{},themes:[]},Nee=()=>{var e;return(e=y.useContext(kk))!=null?e:wee},jee=e=>y.useContext(kk)?y.createElement(y.Fragment,null,e.children):y.createElement(Aee,{...e}),See=["light","dark"],Aee=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=See,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:h,scriptProps:m})=>{let[p,g]=y.useState(()=>Cee(a,o)),[w,b]=y.useState(()=>p==="system"?MA():p),v=c?Object.values(c):i,N=y.useCallback(C=>{let I=C;if(!I)return;C==="system"&&r&&(I=MA());let P=c?c[I]:I,F=t?_ee(h):null,k=document.documentElement,z=O=>{O==="class"?(k.classList.remove(...v),P&&k.classList.add(P)):O.startsWith("data-")&&(P?k.setAttribute(O,P):k.removeAttribute(O))};if(Array.isArray(l)?l.forEach(z):z(l),n){let O=GO.includes(o)?o:null,M=GO.includes(I)?I:O;k.style.colorScheme=M}F==null||F()},[h]),S=y.useCallback(C=>{let I=typeof C=="function"?C(p):C;g(I);try{localStorage.setItem(a,I)}catch{}},[p]),A=y.useCallback(C=>{let I=MA(C);b(I),p==="system"&&r&&!e&&N("system")},[p,e]);y.useEffect(()=>{let C=window.matchMedia(y9);return C.addListener(A),A(C),()=>C.removeListener(A)},[A]),y.useEffect(()=>{let C=I=>{I.key===a&&(I.newValue?g(I.newValue):S(o))};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[S]),y.useEffect(()=>{N(e??p)},[e,p]);let E=y.useMemo(()=>({theme:p,setTheme:S,forcedTheme:e,resolvedTheme:p==="system"?w:p,themes:r?[...i,"system"]:i,systemTheme:r?w:void 0}),[p,S,e,w,r,i]);return y.createElement(kk.Provider,{value:E},y.createElement(Eee,{forcedTheme:e,storageKey:a,attribute:l,enableSystem:r,enableColorScheme:n,defaultTheme:o,value:c,themes:i,nonce:h,scriptProps:m}),d)},Eee=y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:c,scriptProps:d})=>{let h=JSON.stringify([r,t,i,e,l,o,n,a]).slice(1,-1);return y.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${vee.toString()})(${h})`}})}),Cee=(e,t)=>{if(bee)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},_ee=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},MA=e=>(e||(e=window.matchMedia(y9)),e.matches?"dark":"light");const kee={theme:"system",setTheme:()=>null};y.createContext(kee);function Tee({children:e,...t}){const[r,n]=y.useState(!1),[a,i]=y.useState(void 0);return y.useEffect(()=>{n(!0);const o=()=>{const c=navigator.userAgent||navigator.vendor||window.opera,d=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(c.toLowerCase()),h="ontouchstart"in window||navigator.maxTouchPoints>0,m=window.innerWidth<=768;return d||h&&m};o()&&(i("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"));const l=()=>{o()?(i("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")):i(void 0)};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[]),r?s.jsx(jee,{...t,forcedTheme:a,defaultTheme:"light",enableSystem:!a,disableTransitionOnChange:!0,children:e}):null}const Dee=()=>{const{setTheme:e,theme:t,resolvedTheme:r}=Nee();return y.useEffect(()=>{const n=()=>{const i=navigator.userAgent||navigator.vendor||window.opera,o=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(i.toLowerCase()),l="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,c=window.innerWidth<=768,d=window.matchMedia("(pointer: coarse)").matches||window.matchMedia("(hover: none)").matches;if(o||l&&c||d){e("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),document.documentElement.style.colorScheme="light";const m=document.querySelector('meta[name="theme-color"]');if(m)m.setAttribute("content","#ffffff");else{const p=document.createElement("meta");p.name="theme-color",p.content="#ffffff",document.head.appendChild(p)}}};n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n);const a=new MutationObserver(i=>{i.forEach(o=>{if(o.type==="attributes"&&o.attributeName==="class"){const l=o.target;l===document.documentElement&&l.classList.contains("dark")&&n()}})});return a.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n),a.disconnect()}},[e]),{theme:t,resolvedTheme:r}},Pee=()=>(Dee(),null),Oee=()=>s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-muted/40 p-4",children:s.jsx(Ak,{})});/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Iee=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),YO=e=>{const t=Iee(e);return t.charAt(0).toUpperCase()+t.slice(1)},v9=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Lee=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...Mee,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:v9("lucide",a),...!i&&!Lee(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=(e,t)=>{const r=y.forwardRef(({className:n,...a},i)=>y.createElement(Fee,{ref:i,iconNode:t,className:v9(`lucide-${Ree(YO(e))}`,`lucide-${e}`,n),...a}));return r.displayName=YO(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],G5=or("arrow-down",Bee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ku=or("arrow-left",Uee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],KO=or("arrow-right-left",$ee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Y5=or("arrow-up",Vee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]],zee=or("audio-waveform",qee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],FA=or("book-open",Hee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],qm=or("briefcase",Wee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Yee=or("calculator",Gee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Qee=or("calendar-check",Kee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],aC=or("calendar-days",Xee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ma=or("calendar",Zee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Oo=or("chart-column",Jee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cv=or("check",ete);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ia=or("chevron-down",tte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dv=or("chevron-left",rte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cc=or("chevron-right",ste);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Eh=or("chevron-up",nte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],ite=or("chevrons-left",ate);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],lte=or("chevrons-right",ote);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],E2=or("chevrons-up-down",cte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tu=or("circle-alert",dte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],hte=or("circle-arrow-up",ute);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ol=or("circle-check-big",fte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],M0=or("circle-check",mte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],xa=or("circle-plus",pte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],BA=or("circle-user",gte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ic=or("circle-x",xte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vte=or("circle",yte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],F0=or("clipboard-check",bte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],G0=or("clock",wte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],jte=or("command",Nte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Tk=or("credit-card",Ste);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],b9=or("dollar-sign",Ate);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zc=or("download",Ete);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],xf=or("droplet",Cte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],kte=or("droplets",_te);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],uv=or("ellipsis",Tte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Pte=or("eye-off",Dte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kf=or("eye",Ote);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Ite=or("facebook",Rte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Mte=or("file-spreadsheet",Lte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ia=or("file-text",Fte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Qc=or("funnel",Bte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]],QO=or("gallery-vertical-end",Ute);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],iC=or("heart",$te);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],qte=or("history",Vte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Dk=or("house",zte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Wte=or("image",Hte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Ab=or("indian-rupee",Gte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],w9=or("info",Yte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Qte=or("instagram",Kte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Zte=or("key-round",Xte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z",key:"165ttr"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814",key:"1ubxi2"}]],ere=or("key-square",Jte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],rre=or("landmark",tre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Y0=or("leaf",sre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],are=or("list-ordered",nre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ws=or("loader-circle",ire);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],My=or("loader",ore);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oC=or("log-out",lre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Pk=or("mail",cre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Rd=or("map-pin",dre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],N9=or("menu",ure);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],fre=or("message-square",hre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["path",{d:"M5 12h14",key:"1ays0h"}]],x0=or("minus",mre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],gre=or("moon",pre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],yre=or("package-check",xre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],lC=or("package-search",vre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],po=or("package",bre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Nre=or("panel-left",wre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ok=or("pencil",jre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],j9=or("phone",Sre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],li=or("plus",Are);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Cre=or("refresh-cw",Ere);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hv=or("save",_re);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Hn=or("search",kre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Dre=or("send",Tre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]],Rk=or("shield-ellipsis",Pre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rre=or("shield",Ore);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],XO=or("shopping-bag",Ire);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],gp=or("shopping-cart",Lre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],Fre=or("skip-forward",Mre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],S9=or("sparkles",Bre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yl=or("square-pen",Ure);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],Vre=or("square-terminal",$re);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zre=or("star",qre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Wre=or("sun",Hre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Sa=or("trash-2",Gre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Fy=or("trending-down",Yre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Eb=or("trending-up",Kre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tc=or("triangle-alert",Qre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ap=or("truck",Xre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],A9=or("user-check",Zre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ZO=or("user-plus",Jre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],K5=or("user",ese);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],JO=or("users-round",tse);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Q5=or("users",rse);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Dh=or("wallet",sse);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ul=or("x",nse);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],X5=or("zap",ase);var mn;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(mn||(mn={}));var cC;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(cC||(cC={}));const Ir=mn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Af=e=>{switch(typeof e){case"undefined":return Ir.undefined;case"string":return Ir.string;case"number":return isNaN(e)?Ir.nan:Ir.number;case"boolean":return Ir.boolean;case"function":return Ir.function;case"bigint":return Ir.bigint;case"symbol":return Ir.symbol;case"object":return Array.isArray(e)?Ir.array:e===null?Ir.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ir.promise:typeof Map<"u"&&e instanceof Map?Ir.map:typeof Set<"u"&&e instanceof Set?Ir.set:typeof Date<"u"&&e instanceof Date?Ir.date:Ir.object;default:return Ir.unknown}},cr=mn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ise=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class $c extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(t){if(!(t instanceof $c))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,mn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}$c.create=e=>new $c(e);const By=(e,t)=>{let r;switch(e.code){case cr.invalid_type:e.received===Ir.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case cr.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,mn.jsonStringifyReplacer)}`;break;case cr.unrecognized_keys:r=`Unrecognized key(s) in object: ${mn.joinValues(e.keys,", ")}`;break;case cr.invalid_union:r="Invalid input";break;case cr.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${mn.joinValues(e.options)}`;break;case cr.invalid_enum_value:r=`Invalid enum value. Expected ${mn.joinValues(e.options)}, received '${e.received}'`;break;case cr.invalid_arguments:r="Invalid function arguments";break;case cr.invalid_return_type:r="Invalid function return type";break;case cr.invalid_date:r="Invalid date";break;case cr.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:mn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case cr.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case cr.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case cr.custom:r="Invalid input";break;case cr.invalid_intersection_types:r="Intersection results could not be merged";break;case cr.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case cr.not_finite:r="Number must be finite";break;default:r=t.defaultError,mn.assertNever(e)}return{message:r}};let E9=By;function ose(e){E9=e}function Bj(){return E9}const Uj=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},lse=[];function kr(e,t){const r=Bj(),n=Uj({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===By?void 0:By].filter(a=>!!a)});e.common.issues.push(n)}class gl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return gs;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return gl.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return gs;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const gs=Object.freeze({status:"aborted"}),Hx=e=>({status:"dirty",value:e}),Rl=e=>({status:"valid",value:e}),dC=e=>e.status==="aborted",uC=e=>e.status==="dirty",K0=e=>e.status==="valid",Cb=e=>typeof Promise<"u"&&e instanceof Promise;function $j(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function C9(e,t,r,n,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Zr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Zr||(Zr={}));var Y1,K1;class Bh{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const e8=(e,t)=>{if(K0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new $c(e.common.issues);return this._error=r,this._error}}};function Is(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:h}=e;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(c=h??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=h??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class Gs{get description(){return this._def.description}_getType(t){return Af(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Af(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new gl,ctx:{common:t.parent.common,data:t.data,parsedType:Af(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Cb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Af(t)},i=this._parseSync({data:t,path:a.path,parent:a});return e8(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Af(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return K0(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>K0(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Af(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Cb(a)?a:Promise.resolve(a));return e8(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:cr.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Ru({schema:this,typeName:fs.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ph.create(this,this._def)}nullable(){return bp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Du.create(this)}promise(){return $y.create(this,this._def)}or(t){return Db.create([this,t],this._def)}and(t){return Pb.create(this,t,this._def)}transform(t){return new Ru({...Is(this._def),schema:this,typeName:fs.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Mb({...Is(this._def),innerType:this,defaultValue:r,typeName:fs.ZodDefault})}brand(){return new Ik({typeName:fs.ZodBranded,type:this,...Is(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Fb({...Is(this._def),innerType:this,catchValue:r,typeName:fs.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return C2.create(this,t)}readonly(){return Bb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cse=/^c[^\s-]{8,}$/i,dse=/^[0-9a-z]+$/,use=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fse=/^[a-z0-9_-]{21}$/i,mse=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,pse=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gse=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let UA;const yse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Nse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jse=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_9="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Sse=new RegExp(`^${_9}$`);function k9(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Ase(e){return new RegExp(`^${k9(e)}$`)}function T9(e){let t=`${_9}T${k9(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Ese(e,t){return!!((t==="v4"||!t)&&yse.test(e)||(t==="v6"||!t)&&bse.test(e))}function Cse(e,t){if(!mse.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function _se(e,t){return!!((t==="v4"||!t)&&vse.test(e)||(t==="v6"||!t)&&wse.test(e))}class Cu extends Gs{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ir.string){const i=this._getOrReturnCtx(t);return kr(i,{code:cr.invalid_type,expected:Ir.string,received:i.parsedType}),gs}const n=new gl;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),kr(a,{code:cr.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),kr(a,{code:cr.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?kr(a,{code:cr.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&kr(a,{code:cr.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")gse.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"email",code:cr.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")UA||(UA=new RegExp(xse,"u")),UA.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"emoji",code:cr.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")hse.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"uuid",code:cr.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")fse.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"nanoid",code:cr.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")cse.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"cuid",code:cr.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")dse.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"cuid2",code:cr.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")use.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"ulid",code:cr.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),kr(a,{validation:"url",code:cr.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"regex",code:cr.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),kr(a,{code:cr.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),kr(a,{code:cr.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),kr(a,{code:cr.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?T9(i).test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{code:cr.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Sse.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{code:cr.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Ase(i).test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{code:cr.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?pse.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"duration",code:cr.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Ese(t.data,i.version)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"ip",code:cr.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Cse(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"jwt",code:cr.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?_se(t.data,i.version)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"cidr",code:cr.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Nse.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"base64",code:cr.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?jse.test(t.data)||(a=this._getOrReturnCtx(t,a),kr(a,{validation:"base64url",code:cr.invalid_string,message:i.message}),n.dirty()):mn.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:cr.invalid_string,...Zr.errToObj(n)})}_addCheck(t){return new Cu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Zr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Zr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Zr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Zr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Zr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Zr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Zr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Zr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Zr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Zr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Zr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Zr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Zr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Zr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Zr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Zr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Zr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Zr.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Zr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Zr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Zr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Zr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Zr.errToObj(r)})}nonempty(t){return this.min(1,Zr.errToObj(t))}trim(){return new Cu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Cu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Cu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Cu.create=e=>{var t;return new Cu({checks:[],typeName:fs.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Is(e)})};function kse(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class xp extends Gs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ir.number){const i=this._getOrReturnCtx(t);return kr(i,{code:cr.invalid_type,expected:Ir.number,received:i.parsedType}),gs}let n;const a=new gl;for(const i of this._def.checks)i.kind==="int"?mn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),kr(n,{code:cr.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),kr(n,{code:cr.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),kr(n,{code:cr.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?kse(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),kr(n,{code:cr.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),kr(n,{code:cr.not_finite,message:i.message}),a.dirty()):mn.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Zr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Zr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Zr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Zr.toString(r))}setLimit(t,r,n,a){return new xp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Zr.toString(a)}]})}_addCheck(t){return new xp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Zr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Zr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Zr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Zr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Zr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Zr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Zr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Zr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Zr.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&mn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}xp.create=e=>new xp({checks:[],typeName:fs.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Is(e)});class yp extends Gs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ir.bigint)return this._getInvalidInput(t);let n;const a=new gl;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),kr(n,{code:cr.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),kr(n,{code:cr.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),kr(n,{code:cr.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):mn.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return kr(r,{code:cr.invalid_type,expected:Ir.bigint,received:r.parsedType}),gs}gte(t,r){return this.setLimit("min",t,!0,Zr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Zr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Zr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Zr.toString(r))}setLimit(t,r,n,a){return new yp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Zr.toString(a)}]})}_addCheck(t){return new yp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Zr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Zr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Zr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Zr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Zr.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}yp.create=e=>{var t;return new yp({checks:[],typeName:fs.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Is(e)})};class _b extends Gs{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ir.boolean){const n=this._getOrReturnCtx(t);return kr(n,{code:cr.invalid_type,expected:Ir.boolean,received:n.parsedType}),gs}return Rl(t.data)}}_b.create=e=>new _b({typeName:fs.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Is(e)});class Q0 extends Gs{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ir.date){const i=this._getOrReturnCtx(t);return kr(i,{code:cr.invalid_type,expected:Ir.date,received:i.parsedType}),gs}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return kr(i,{code:cr.invalid_date}),gs}const n=new gl;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),kr(a,{code:cr.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),kr(a,{code:cr.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):mn.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Q0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Zr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Zr.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Q0.create=e=>new Q0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:fs.ZodDate,...Is(e)});class Vj extends Gs{_parse(t){if(this._getType(t)!==Ir.symbol){const n=this._getOrReturnCtx(t);return kr(n,{code:cr.invalid_type,expected:Ir.symbol,received:n.parsedType}),gs}return Rl(t.data)}}Vj.create=e=>new Vj({typeName:fs.ZodSymbol,...Is(e)});class kb extends Gs{_parse(t){if(this._getType(t)!==Ir.undefined){const n=this._getOrReturnCtx(t);return kr(n,{code:cr.invalid_type,expected:Ir.undefined,received:n.parsedType}),gs}return Rl(t.data)}}kb.create=e=>new kb({typeName:fs.ZodUndefined,...Is(e)});class Tb extends Gs{_parse(t){if(this._getType(t)!==Ir.null){const n=this._getOrReturnCtx(t);return kr(n,{code:cr.invalid_type,expected:Ir.null,received:n.parsedType}),gs}return Rl(t.data)}}Tb.create=e=>new Tb({typeName:fs.ZodNull,...Is(e)});class Uy extends Gs{constructor(){super(...arguments),this._any=!0}_parse(t){return Rl(t.data)}}Uy.create=e=>new Uy({typeName:fs.ZodAny,...Is(e)});class B0 extends Gs{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Rl(t.data)}}B0.create=e=>new B0({typeName:fs.ZodUnknown,...Is(e)});class Bf extends Gs{_parse(t){const r=this._getOrReturnCtx(t);return kr(r,{code:cr.invalid_type,expected:Ir.never,received:r.parsedType}),gs}}Bf.create=e=>new Bf({typeName:fs.ZodNever,...Is(e)});class qj extends Gs{_parse(t){if(this._getType(t)!==Ir.undefined){const n=this._getOrReturnCtx(t);return kr(n,{code:cr.invalid_type,expected:Ir.void,received:n.parsedType}),gs}return Rl(t.data)}}qj.create=e=>new qj({typeName:fs.ZodVoid,...Is(e)});class Du extends Gs{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ir.array)return kr(r,{code:cr.invalid_type,expected:Ir.array,received:r.parsedType}),gs;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(kr(r,{code:o?cr.too_big:cr.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(kr(r,{code:cr.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(kr(r,{code:cr.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Bh(r,o,r.path,l)))).then(o=>gl.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Bh(r,o,r.path,l)));return gl.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Du({...this._def,minLength:{value:t,message:Zr.toString(r)}})}max(t,r){return new Du({...this._def,maxLength:{value:t,message:Zr.toString(r)}})}length(t,r){return new Du({...this._def,exactLength:{value:t,message:Zr.toString(r)}})}nonempty(t){return this.min(1,t)}}Du.create=(e,t)=>new Du({type:e,minLength:null,maxLength:null,exactLength:null,typeName:fs.ZodArray,...Is(t)});function Ox(e){if(e instanceof Ra){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ph.create(Ox(n))}return new Ra({...e._def,shape:()=>t})}else return e instanceof Du?new Du({...e._def,type:Ox(e.element)}):e instanceof Ph?Ph.create(Ox(e.unwrap())):e instanceof bp?bp.create(Ox(e.unwrap())):e instanceof Uh?Uh.create(e.items.map(t=>Ox(t))):e}class Ra extends Gs{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=mn.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Ir.object){const d=this._getOrReturnCtx(t);return kr(d,{code:cr.invalid_type,expected:Ir.object,received:d.parsedType}),gs}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Bf&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=i[d],m=a.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Bh(a,m,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Bf){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(d==="strict")l.length>0&&(kr(a,{code:cr.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const m=a.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Bh(a,m,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const m=await h.key,p=await h.value;d.push({key:m,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>gl.mergeObjectSync(n,d)):gl.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Zr.errToObj,new Ra({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Zr.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ra({...this._def,unknownKeys:"strip"})}passthrough(){return new Ra({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ra({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ra({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:fs.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ra({...this._def,catchall:t})}pick(t){const r={};return mn.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ra({...this._def,shape:()=>r})}omit(t){const r={};return mn.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ra({...this._def,shape:()=>r})}deepPartial(){return Ox(this)}partial(t){const r={};return mn.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new Ra({...this._def,shape:()=>r})}required(t){const r={};return mn.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ph;)i=i._def.innerType;r[n]=i}}),new Ra({...this._def,shape:()=>r})}keyof(){return D9(mn.objectKeys(this.shape))}}Ra.create=(e,t)=>new Ra({shape:()=>e,unknownKeys:"strip",catchall:Bf.create(),typeName:fs.ZodObject,...Is(t)});Ra.strictCreate=(e,t)=>new Ra({shape:()=>e,unknownKeys:"strict",catchall:Bf.create(),typeName:fs.ZodObject,...Is(t)});Ra.lazycreate=(e,t)=>new Ra({shape:e,unknownKeys:"strip",catchall:Bf.create(),typeName:fs.ZodObject,...Is(t)});class Db extends Gs{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new $c(l.ctx.common.issues));return kr(r,{code:cr.invalid_union,unionErrors:o}),gs}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new $c(c));return kr(r,{code:cr.invalid_union,unionErrors:l}),gs}}get options(){return this._def.options}}Db.create=(e,t)=>new Db({options:e,typeName:fs.ZodUnion,...Is(t)});const Sf=e=>e instanceof Rb?Sf(e.schema):e instanceof Ru?Sf(e.innerType()):e instanceof Ib?[e.value]:e instanceof vp?e.options:e instanceof Lb?mn.objectValues(e.enum):e instanceof Mb?Sf(e._def.innerType):e instanceof kb?[void 0]:e instanceof Tb?[null]:e instanceof Ph?[void 0,...Sf(e.unwrap())]:e instanceof bp?[null,...Sf(e.unwrap())]:e instanceof Ik||e instanceof Bb?Sf(e.unwrap()):e instanceof Fb?Sf(e._def.innerType):[];class Z5 extends Gs{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ir.object)return kr(r,{code:cr.invalid_type,expected:Ir.object,received:r.parsedType}),gs;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(kr(r,{code:cr.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),gs)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=Sf(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Z5({typeName:fs.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Is(n)})}}function hC(e,t){const r=Af(e),n=Af(t);if(e===t)return{valid:!0,data:e};if(r===Ir.object&&n===Ir.object){const a=mn.objectKeys(t),i=mn.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=hC(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ir.array&&n===Ir.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=hC(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ir.date&&n===Ir.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Pb extends Gs{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(dC(i)||dC(o))return gs;const l=hC(i.value,o.value);return l.valid?((uC(i)||uC(o))&&r.dirty(),{status:r.value,value:l.data}):(kr(n,{code:cr.invalid_intersection_types}),gs)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Pb.create=(e,t,r)=>new Pb({left:e,right:t,typeName:fs.ZodIntersection,...Is(r)});class Uh extends Gs{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ir.array)return kr(n,{code:cr.invalid_type,expected:Ir.array,received:n.parsedType}),gs;if(n.data.length<this._def.items.length)return kr(n,{code:cr.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gs;!this._def.rest&&n.data.length>this._def.items.length&&(kr(n,{code:cr.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Bh(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>gl.mergeArray(r,o)):gl.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Uh({...this._def,rest:t})}}Uh.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Uh({items:e,typeName:fs.ZodTuple,rest:null,...Is(t)})};class Ob extends Gs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ir.object)return kr(n,{code:cr.invalid_type,expected:Ir.object,received:n.parsedType}),gs;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new Bh(n,l,n.path,l)),value:o._parse(new Bh(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?gl.mergeObjectAsync(r,a):gl.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Gs?new Ob({keyType:t,valueType:r,typeName:fs.ZodRecord,...Is(n)}):new Ob({keyType:Cu.create(),valueType:t,typeName:fs.ZodRecord,...Is(r)})}}class zj extends Gs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ir.map)return kr(n,{code:cr.invalid_type,expected:Ir.map,received:n.parsedType}),gs;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new Bh(n,l,n.path,[d,"key"])),value:i._parse(new Bh(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return gs;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return gs;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}}}}zj.create=(e,t,r)=>new zj({valueType:t,keyType:e,typeName:fs.ZodMap,...Is(r)});class X0 extends Gs{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ir.set)return kr(n,{code:cr.invalid_type,expected:Ir.set,received:n.parsedType}),gs;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(kr(n,{code:cr.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(kr(n,{code:cr.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return gs;h.status==="dirty"&&r.dirty(),d.add(h.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new Bh(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new X0({...this._def,minSize:{value:t,message:Zr.toString(r)}})}max(t,r){return new X0({...this._def,maxSize:{value:t,message:Zr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}X0.create=(e,t)=>new X0({valueType:e,minSize:null,maxSize:null,typeName:fs.ZodSet,...Is(t)});class ay extends Gs{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ir.function)return kr(r,{code:cr.invalid_type,expected:Ir.function,received:r.parsedType}),gs;function n(l,c){return Uj({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Bj(),By].filter(d=>!!d),issueData:{code:cr.invalid_arguments,argumentsError:c}})}function a(l,c){return Uj({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Bj(),By].filter(d=>!!d),issueData:{code:cr.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof $y){const l=this;return Rl(async function(...c){const d=new $c([]),h=await l._def.args.parseAsync(c,i).catch(g=>{throw d.addIssue(n(c,g)),d}),m=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(m,i).catch(g=>{throw d.addIssue(a(m,g)),d})})}else{const l=this;return Rl(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new $c([n(c,d.error)]);const h=Reflect.apply(o,this,d.data),m=l._def.returns.safeParse(h,i);if(!m.success)throw new $c([a(h,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ay({...this._def,args:Uh.create(t).rest(B0.create())})}returns(t){return new ay({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new ay({args:t||Uh.create([]).rest(B0.create()),returns:r||B0.create(),typeName:fs.ZodFunction,...Is(n)})}}class Rb extends Gs{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Rb.create=(e,t)=>new Rb({getter:e,typeName:fs.ZodLazy,...Is(t)});class Ib extends Gs{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return kr(r,{received:r.data,code:cr.invalid_literal,expected:this._def.value}),gs}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ib.create=(e,t)=>new Ib({value:e,typeName:fs.ZodLiteral,...Is(t)});function D9(e,t){return new vp({values:e,typeName:fs.ZodEnum,...Is(t)})}class vp extends Gs{constructor(){super(...arguments),Y1.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return kr(r,{expected:mn.joinValues(n),received:r.parsedType,code:cr.invalid_type}),gs}if($j(this,Y1)||C9(this,Y1,new Set(this._def.values)),!$j(this,Y1).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return kr(r,{received:r.data,code:cr.invalid_enum_value,options:n}),gs}return Rl(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return vp.create(t,{...this._def,...r})}exclude(t,r=this._def){return vp.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Y1=new WeakMap;vp.create=D9;class Lb extends Gs{constructor(){super(...arguments),K1.set(this,void 0)}_parse(t){const r=mn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ir.string&&n.parsedType!==Ir.number){const a=mn.objectValues(r);return kr(n,{expected:mn.joinValues(a),received:n.parsedType,code:cr.invalid_type}),gs}if($j(this,K1)||C9(this,K1,new Set(mn.getValidEnumValues(this._def.values))),!$j(this,K1).has(t.data)){const a=mn.objectValues(r);return kr(n,{received:n.data,code:cr.invalid_enum_value,options:a}),gs}return Rl(t.data)}get enum(){return this._def.values}}K1=new WeakMap;Lb.create=(e,t)=>new Lb({values:e,typeName:fs.ZodNativeEnum,...Is(t)});class $y extends Gs{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ir.promise&&r.common.async===!1)return kr(r,{code:cr.invalid_type,expected:Ir.promise,received:r.parsedType}),gs;const n=r.parsedType===Ir.promise?r.data:Promise.resolve(r.data);return Rl(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}$y.create=(e,t)=>new $y({type:e,typeName:fs.ZodPromise,...Is(t)});class Ru extends Gs{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fs.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{kr(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return gs;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?gs:c.status==="dirty"||r.value==="dirty"?Hx(c.value):c});{if(r.value==="aborted")return gs;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?gs:l.status==="dirty"||r.value==="dirty"?Hx(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?gs:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?gs:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!K0(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>K0(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);mn.assertNever(a)}}Ru.create=(e,t,r)=>new Ru({schema:e,typeName:fs.ZodEffects,effect:t,...Is(r)});Ru.createWithPreprocess=(e,t,r)=>new Ru({schema:t,effect:{type:"preprocess",transform:e},typeName:fs.ZodEffects,...Is(r)});class Ph extends Gs{_parse(t){return this._getType(t)===Ir.undefined?Rl(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ph.create=(e,t)=>new Ph({innerType:e,typeName:fs.ZodOptional,...Is(t)});class bp extends Gs{_parse(t){return this._getType(t)===Ir.null?Rl(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bp.create=(e,t)=>new bp({innerType:e,typeName:fs.ZodNullable,...Is(t)});class Mb extends Gs{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ir.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Mb.create=(e,t)=>new Mb({innerType:e,typeName:fs.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Is(t)});class Fb extends Gs{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Cb(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $c(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new $c(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Fb.create=(e,t)=>new Fb({innerType:e,typeName:fs.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Is(t)});class Hj extends Gs{_parse(t){if(this._getType(t)!==Ir.nan){const n=this._getOrReturnCtx(t);return kr(n,{code:cr.invalid_type,expected:Ir.nan,received:n.parsedType}),gs}return{status:"valid",value:t.data}}}Hj.create=e=>new Hj({typeName:fs.ZodNaN,...Is(e)});const Tse=Symbol("zod_brand");class Ik extends Gs{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class C2 extends Gs{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?gs:i.status==="dirty"?(r.dirty(),Hx(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?gs:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new C2({in:t,out:r,typeName:fs.ZodPipeline})}}class Bb extends Gs{_parse(t){const r=this._def.innerType._parse(t),n=a=>(K0(a)&&(a.value=Object.freeze(a.value)),a);return Cb(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Bb.create=(e,t)=>new Bb({innerType:e,typeName:fs.ZodReadonly,...Is(t)});function t8(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Lk(e,t={},r){return e?Uy.create().superRefine((n,a)=>{var i,o;const l=e(n);if(l instanceof Promise)return l.then(c=>{var d,h;if(!c){const m=t8(t,n),p=(h=(d=m.fatal)!==null&&d!==void 0?d:r)!==null&&h!==void 0?h:!0;a.addIssue({code:"custom",...m,fatal:p})}});if(!l){const c=t8(t,n),d=(o=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:d})}}):Uy.create()}const Dse={object:Ra.lazycreate};var fs;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(fs||(fs={}));const Mk=(e,t={message:`Input not instance of ${e.name}`})=>Lk(r=>r instanceof e,t),Ft=Cu.create,dc=xp.create,Pse=Hj.create,Ose=yp.create,Fd=_b.create,Uf=Q0.create,Rse=Vj.create,P9=kb.create,O9=Tb.create,Ub=Uy.create,Ise=B0.create,Lse=Bf.create,Mse=qj.create,fg=Du.create,In=Ra.create,Fse=Ra.strictCreate,Fk=Db.create,Bse=Z5.create,Use=Pb.create,$se=Uh.create,Vse=Ob.create,qse=zj.create,zse=X0.create,Hse=ay.create,Wse=Rb.create,iy=Ib.create,_2=vp.create,Gse=Lb.create,Yse=$y.create,r8=Ru.create,Kse=Ph.create,Qse=bp.create,R9=Ru.createWithPreprocess,Xse=C2.create,Zse=()=>Ft().optional(),Jse=()=>dc().optional(),ene=()=>Fd().optional(),Ti={string:e=>Cu.create({...e,coerce:!0}),number:e=>xp.create({...e,coerce:!0}),boolean:e=>_b.create({...e,coerce:!0}),bigint:e=>yp.create({...e,coerce:!0}),date:e=>Q0.create({...e,coerce:!0})},tne=gs;var Vs=Object.freeze({__proto__:null,defaultErrorMap:By,setErrorMap:ose,getErrorMap:Bj,makeIssue:Uj,EMPTY_PATH:lse,addIssueToContext:kr,ParseStatus:gl,INVALID:gs,DIRTY:Hx,OK:Rl,isAborted:dC,isDirty:uC,isValid:K0,isAsync:Cb,get util(){return mn},get objectUtil(){return cC},ZodParsedType:Ir,getParsedType:Af,ZodType:Gs,datetimeRegex:T9,ZodString:Cu,ZodNumber:xp,ZodBigInt:yp,ZodBoolean:_b,ZodDate:Q0,ZodSymbol:Vj,ZodUndefined:kb,ZodNull:Tb,ZodAny:Uy,ZodUnknown:B0,ZodNever:Bf,ZodVoid:qj,ZodArray:Du,ZodObject:Ra,ZodUnion:Db,ZodDiscriminatedUnion:Z5,ZodIntersection:Pb,ZodTuple:Uh,ZodRecord:Ob,ZodMap:zj,ZodSet:X0,ZodFunction:ay,ZodLazy:Rb,ZodLiteral:Ib,ZodEnum:vp,ZodNativeEnum:Lb,ZodPromise:$y,ZodEffects:Ru,ZodTransformer:Ru,ZodOptional:Ph,ZodNullable:bp,ZodDefault:Mb,ZodCatch:Fb,ZodNaN:Hj,BRAND:Tse,ZodBranded:Ik,ZodPipeline:C2,ZodReadonly:Bb,custom:Lk,Schema:Gs,ZodSchema:Gs,late:Dse,get ZodFirstPartyTypeKind(){return fs},coerce:Ti,any:Ub,array:fg,bigint:Ose,boolean:Fd,date:Uf,discriminatedUnion:Bse,effect:r8,enum:_2,function:Hse,instanceof:Mk,intersection:Use,lazy:Wse,literal:iy,map:qse,nan:Pse,nativeEnum:Gse,never:Lse,null:O9,nullable:Qse,number:dc,object:In,oboolean:ene,onumber:Jse,optional:Kse,ostring:Zse,pipeline:Xse,preprocess:R9,promise:Yse,record:Vse,set:zse,strictObject:Fse,string:Ft,symbol:Rse,transformer:r8,tuple:$se,undefined:P9,union:Fk,unknown:Ise,void:Mse,NEVER:tne,ZodIssueCode:cr,quotelessJson:ise,ZodError:$c});function fp(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function s8(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rne(...e){return t=>{let r=!1;const n=e.map(a=>{const i=s8(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():s8(e[a],null)}}}}function mg(...e){return y.useCallback(rne(...e),e)}function sne(e,t){const r=y.createContext(t),n=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function nne(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o),c=r.length;r=[...r,o];const d=m=>{var N;const{scope:p,children:g,...w}=m,b=((N=p==null?void 0:p[e])==null?void 0:N[c])||l,v=y.useMemo(()=>w,Object.values(w));return s.jsx(b.Provider,{value:v,children:g})};d.displayName=i+"Provider";function h(m,p){var b;const g=((b=p==null?void 0:p[e])==null?void 0:b[c])||l,w=y.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,h]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,ane(a,...t)]}function ane(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var $b=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},ine=mk[" useId ".trim().toString()]||(()=>{}),one=0;function $A(e){const[t,r]=y.useState(ine());return $b(()=>{r(n=>n??String(one++))},[e]),e||(t?`radix-${t}`:"")}var lne=mk[" useInsertionEffect ".trim().toString()]||$b;function cne({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=dne({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const h=y.useRef(e!==void 0);y.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const d=y.useCallback(h=>{var m;if(l){const p=une(h)?h(e):h;p!==e&&((m=o.current)==null||m.call(o,p))}else i(h)},[l,e,i,o]);return[c,d]}function dne({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return lne(()=>{i.current=t},[t]),y.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function une(e){return typeof e=="function"}function n8(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hne(...e){return t=>{let r=!1;const n=e.map(a=>{const i=n8(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():n8(e[a],null)}}}}function Bk(e){const t=fne(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(pne);if(c){const d=c.props.children,h=l.map(m=>m===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:a,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var J5=Bk("Slot");function fne(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=xne(a),l=gne(i,a.props);return a.type!==y.Fragment&&(l.ref=n?hne(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mne=Symbol("radix.slottable");function pne(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mne}function gne(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function xne(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var yne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jf=yne.reduce((e,t)=>{const r=Bk(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function vne(e,t){e&&lv.flushSync(()=>e.dispatchEvent(t))}function Vb(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bne(e,t=globalThis==null?void 0:globalThis.document){const r=Vb(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var wne="DismissableLayer",fC="dismissableLayer.update",Nne="dismissableLayer.pointerDownOutside",jne="dismissableLayer.focusOutside",a8,I9=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),L9=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=y.useContext(I9),[h,m]=y.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),w=mg(t,P=>m(P)),b=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(v),S=h?b.indexOf(h):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,E=S>=N,C=Ene(P=>{const F=P.target,k=[...d.branches].some(z=>z.contains(F));!E||k||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},p),I=Cne(P=>{const F=P.target;[...d.branches].some(z=>z.contains(F))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},p);return bne(P=>{S===d.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},p),y.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(a8=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),i8(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=a8)}},[h,p,r,d]),y.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),i8())},[h,d]),y.useEffect(()=>{const P=()=>g({});return document.addEventListener(fC,P),()=>document.removeEventListener(fC,P)},[]),s.jsx(Jf.div,{...c,ref:w,style:{pointerEvents:A?E?"auto":"none":void 0,...e.style},onFocusCapture:fp(e.onFocusCapture,I.onFocusCapture),onBlurCapture:fp(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:fp(e.onPointerDownCapture,C.onPointerDownCapture)})});L9.displayName=wne;var Sne="DismissableLayerBranch",Ane=y.forwardRef((e,t)=>{const r=y.useContext(I9),n=y.useRef(null),a=mg(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Jf.div,{...e,ref:a})});Ane.displayName=Sne;function Ene(e,t=globalThis==null?void 0:globalThis.document){const r=Vb(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){M9(Nne,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Cne(e,t=globalThis==null?void 0:globalThis.document){const r=Vb(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&M9(jne,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function i8(){const e=new CustomEvent(fC);document.dispatchEvent(e)}function M9(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?vne(a,i):a.dispatchEvent(i)}var VA="focusScope.autoFocusOnMount",qA="focusScope.autoFocusOnUnmount",o8={bubbles:!1,cancelable:!0},_ne="FocusScope",F9=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),d=Vb(a),h=Vb(i),m=y.useRef(null),p=mg(t,b=>c(b)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let b=function(A){if(g.paused||!l)return;const E=A.target;l.contains(E)?m.current=E:zm(m.current,{select:!0})},v=function(A){if(g.paused||!l)return;const E=A.relatedTarget;E!==null&&(l.contains(E)||zm(m.current,{select:!0}))},N=function(A){if(document.activeElement===document.body)for(const C of A)C.removedNodes.length>0&&zm(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",v);const S=new MutationObserver(N);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",v),S.disconnect()}}},[n,l,g.paused]),y.useEffect(()=>{if(l){c8.add(g);const b=document.activeElement;if(!l.contains(b)){const N=new CustomEvent(VA,o8);l.addEventListener(VA,d),l.dispatchEvent(N),N.defaultPrevented||(kne(Rne(B9(l)),{select:!0}),document.activeElement===b&&zm(l))}return()=>{l.removeEventListener(VA,d),setTimeout(()=>{const N=new CustomEvent(qA,o8);l.addEventListener(qA,h),l.dispatchEvent(N),N.defaultPrevented||zm(b??document.body,{select:!0}),l.removeEventListener(qA,h),c8.remove(g)},0)}}},[l,d,h,g]);const w=y.useCallback(b=>{if(!r&&!n||g.paused)return;const v=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(v&&N){const S=b.currentTarget,[A,E]=Tne(S);A&&E?!b.shiftKey&&N===E?(b.preventDefault(),r&&zm(A,{select:!0})):b.shiftKey&&N===A&&(b.preventDefault(),r&&zm(E,{select:!0})):N===S&&b.preventDefault()}},[r,n,g.paused]);return s.jsx(Jf.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});F9.displayName=_ne;function kne(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(zm(n,{select:t}),document.activeElement!==r)return}function Tne(e){const t=B9(e),r=l8(t,e),n=l8(t.reverse(),e);return[r,n]}function B9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function l8(e,t){for(const r of e)if(!Dne(r,{upTo:t}))return r}function Dne(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Pne(e){return e instanceof HTMLInputElement&&"select"in e}function zm(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Pne(e)&&t&&e.select()}}var c8=One();function One(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=d8(e,t),e.unshift(t)},remove(t){var r;e=d8(e,t),(r=e[0])==null||r.resume()}}}function d8(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Rne(e){return e.filter(t=>t.tagName!=="A")}var Ine="Portal",U9=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=y.useState(!1);$b(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?_k.createPortal(s.jsx(Jf.div,{...n,ref:t}),o):null});U9.displayName=Ine;function Lne(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var eS=e=>{const{present:t,children:r}=e,n=Mne(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=mg(n.ref,Fne(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};eS.displayName="Presence";function Mne(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Lne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=gN(n.current);i.current=l==="mounted"?d:"none"},[l]),$b(()=>{const d=n.current,h=a.current;if(h!==e){const p=i.current,g=gN(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),$b(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,m=g=>{const b=gN(n.current).includes(g.animationName);if(g.target===t&&b&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=g=>{g.target===t&&(i.current=gN(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function gN(e){return(e==null?void 0:e.animationName)||"none"}function Fne(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zA=0;function Bne(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??u8()),document.body.insertAdjacentElement("beforeend",e[1]??u8()),zA++,()=>{zA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),zA--}},[])}function u8(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ch=function(){return Ch=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ch.apply(this,arguments)};function $9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Une(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var mj="right-scroll-bar-position",pj="width-before-scroll-bar",$ne="with-scroll-bars-hidden",Vne="--removed-body-scroll-bar-size";function HA(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qne(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var zne=typeof window<"u"?y.useLayoutEffect:y.useEffect,h8=new WeakMap;function Hne(e,t){var r=qne(null,function(n){return e.forEach(function(a){return HA(a,n)})});return zne(function(){var n=h8.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||HA(l,null)}),i.forEach(function(l){a.has(l)||HA(l,o)})}h8.set(r,e)},[e]),r}function Wne(e){return e}function Gne(e,t){t===void 0&&(t=Wne);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),r}}}};return a}function Yne(e){e===void 0&&(e={});var t=Gne(null);return t.options=Ch({async:!0,ssr:!1},e),t}var V9=function(e){var t=e.sideCar,r=$9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Ch({},r))};V9.isSideCarExport=!0;function Kne(e,t){return e.useMedium(t),V9}var q9=Yne(),WA=function(){},tS=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:WA,onWheelCapture:WA,onTouchMoveCapture:WA}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,m=e.shards,p=e.sideCar,g=e.noIsolation,w=e.inert,b=e.allowPinchZoom,v=e.as,N=v===void 0?"div":v,S=e.gapMode,A=$9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,C=Hne([r,t]),I=Ch(Ch({},A),a);return y.createElement(y.Fragment,null,h&&y.createElement(E,{sideCar:q9,removeScrollBar:d,shards:m,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:S}),o?y.cloneElement(y.Children.only(l),Ch(Ch({},I),{ref:C})):y.createElement(N,Ch({},I,{className:c,ref:C}),l))});tS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tS.classNames={fullWidth:pj,zeroRight:mj};var Qne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Xne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qne();return t&&e.setAttribute("nonce",t),e}function Zne(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Jne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var eae=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Xne())&&(Zne(t,r),Jne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tae=function(){var e=eae();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},z9=function(){var e=tae(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},rae={left:0,top:0,right:0,gap:0},GA=function(e){return parseInt(e||"",10)||0},sae=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[GA(r),GA(n),GA(a)]},nae=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return rae;var t=sae(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},aae=z9(),oy="data-scroll-locked",iae=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat($ne,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(oy,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mj,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(pj,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(mj," .").concat(mj,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pj," .").concat(pj,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(oy,`] {
    `).concat(Vne,": ").concat(l,`px;
  }
`)},f8=function(){var e=parseInt(document.body.getAttribute(oy)||"0",10);return isFinite(e)?e:0},oae=function(){y.useEffect(function(){return document.body.setAttribute(oy,(f8()+1).toString()),function(){var e=f8()-1;e<=0?document.body.removeAttribute(oy):document.body.setAttribute(oy,e.toString())}},[])},lae=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;oae();var i=y.useMemo(function(){return nae(a)},[a]);return y.createElement(aae,{styles:iae(i,!t,a,r?"":"!important")})},mC=!1;if(typeof window<"u")try{var xN=Object.defineProperty({},"passive",{get:function(){return mC=!0,!0}});window.addEventListener("test",xN,xN),window.removeEventListener("test",xN,xN)}catch{mC=!1}var wx=mC?{passive:!1}:!1,cae=function(e){return e.tagName==="TEXTAREA"},H9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!cae(e)&&r[t]==="visible")},dae=function(e){return H9(e,"overflowY")},uae=function(e){return H9(e,"overflowX")},m8=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=W9(e,n);if(a){var i=G9(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hae=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},fae=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},W9=function(e,t){return e==="v"?dae(t):uae(t)},G9=function(e,t){return e==="v"?hae(t):fae(t)},mae=function(e,t){return e==="h"&&t==="rtl"?-1:1},pae=function(e,t,r,n,a){var i=mae(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,h=o>0,m=0,p=0;do{var g=G9(e,l),w=g[0],b=g[1],v=g[2],N=b-v-i*w;(w||N)&&W9(e,l)&&(m+=N,p+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(m)<1||!h&&Math.abs(p)<1)&&(d=!0),d},yN=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},p8=function(e){return[e.deltaX,e.deltaY]},g8=function(e){return e&&"current"in e?e.current:e},gae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yae=0,Nx=[];function vae(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(yae++)[0],i=y.useState(z9)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=Une([e.lockRef.current],(e.shards||[]).map(g8),!0).filter(Boolean);return b.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(b,v){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var N=yN(b),S=r.current,A="deltaX"in b?b.deltaX:S[0]-N[0],E="deltaY"in b?b.deltaY:S[1]-N[1],C,I=b.target,P=Math.abs(A)>Math.abs(E)?"h":"v";if("touches"in b&&P==="h"&&I.type==="range")return!1;var F=m8(P,I);if(!F)return!0;if(F?C=P:(C=P==="v"?"h":"v",F=m8(P,I)),!F)return!1;if(!n.current&&"changedTouches"in b&&(A||E)&&(n.current=C),!C)return!0;var k=n.current||C;return pae(k,v,b,k==="h"?A:E)},[]),c=y.useCallback(function(b){var v=b;if(!(!Nx.length||Nx[Nx.length-1]!==i)){var N="deltaY"in v?p8(v):yN(v),S=t.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&gae(C.delta,N)})[0];if(S&&S.should){v.cancelable&&v.preventDefault();return}if(!S){var A=(o.current.shards||[]).map(g8).filter(Boolean).filter(function(C){return C.contains(v.target)}),E=A.length>0?l(v,A[0]):!o.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),d=y.useCallback(function(b,v,N,S){var A={name:b,delta:v,target:N,should:S,shadowParent:bae(N)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(E){return E!==A})},1)},[]),h=y.useCallback(function(b){r.current=yN(b),n.current=void 0},[]),m=y.useCallback(function(b){d(b.type,p8(b),b.target,l(b,e.lockRef.current))},[]),p=y.useCallback(function(b){d(b.type,yN(b),b.target,l(b,e.lockRef.current))},[]);y.useEffect(function(){return Nx.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,wx),document.addEventListener("touchmove",c,wx),document.addEventListener("touchstart",h,wx),function(){Nx=Nx.filter(function(b){return b!==i}),document.removeEventListener("wheel",c,wx),document.removeEventListener("touchmove",c,wx),document.removeEventListener("touchstart",h,wx)}},[]);var g=e.removeScrollBar,w=e.inert;return y.createElement(y.Fragment,null,w?y.createElement(i,{styles:xae(a)}):null,g?y.createElement(lae,{gapMode:e.gapMode}):null)}function bae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wae=Kne(q9,vae);var fv=y.forwardRef(function(e,t){return y.createElement(tS,Ch({},e,{ref:t,sideCar:wae}))});fv.classNames=tS.classNames;var Nae=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jx=new WeakMap,vN=new WeakMap,bN={},YA=0,Y9=function(e){return e&&(e.host||Y9(e.parentNode))},jae=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Y9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Sae=function(e,t,r,n){var a=jae(t,Array.isArray(e)?e:[e]);bN[r]||(bN[r]=new WeakMap);var i=bN[r],o=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))h(p);else try{var g=p.getAttribute(n),w=g!==null&&g!=="false",b=(jx.get(p)||0)+1,v=(i.get(p)||0)+1;jx.set(p,b),i.set(p,v),o.push(p),b===1&&w&&vN.set(p,!0),v===1&&p.setAttribute(r,"true"),w||p.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",p,N)}})};return h(t),l.clear(),YA++,function(){o.forEach(function(m){var p=jx.get(m)-1,g=i.get(m)-1;jx.set(m,p),i.set(m,g),p||(vN.has(m)||m.removeAttribute(n),vN.delete(m)),g||m.removeAttribute(r)}),YA--,YA||(jx=new WeakMap,jx=new WeakMap,vN=new WeakMap,bN={})}},k2=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Nae(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Sae(n,a,r,"aria-hidden")):function(){return null}},rS="Dialog",[K9,S7e]=nne(rS),[Aae,zu]=K9(rS),Q9=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[d,h]=cne({prop:n,defaultProp:a??!1,onChange:i,caller:rS});return s.jsx(Aae,{scope:t,triggerRef:l,contentRef:c,contentId:$A(),titleId:$A(),descriptionId:$A(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),modal:o,children:r})};Q9.displayName=rS;var X9="DialogTrigger",Z9=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zu(X9,r),i=mg(t,a.triggerRef);return s.jsx(Jf.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Vk(a.open),...n,ref:i,onClick:fp(e.onClick,a.onOpenToggle)})});Z9.displayName=X9;var Uk="DialogPortal",[Eae,J9]=K9(Uk,{forceMount:void 0}),eB=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=zu(Uk,t);return s.jsx(Eae,{scope:t,forceMount:r,children:y.Children.map(n,o=>s.jsx(eS,{present:r||i.open,children:s.jsx(U9,{asChild:!0,container:a,children:o})}))})};eB.displayName=Uk;var Wj="DialogOverlay",tB=y.forwardRef((e,t)=>{const r=J9(Wj,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=zu(Wj,e.__scopeDialog);return i.modal?s.jsx(eS,{present:n||i.open,children:s.jsx(_ae,{...a,ref:t})}):null});tB.displayName=Wj;var Cae=Bk("DialogOverlay.RemoveScroll"),_ae=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zu(Wj,r);return s.jsx(fv,{as:Cae,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Jf.div,{"data-state":Vk(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Z0="DialogContent",rB=y.forwardRef((e,t)=>{const r=J9(Z0,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=zu(Z0,e.__scopeDialog);return s.jsx(eS,{present:n||i.open,children:i.modal?s.jsx(kae,{...a,ref:t}):s.jsx(Tae,{...a,ref:t})})});rB.displayName=Z0;var kae=y.forwardRef((e,t)=>{const r=zu(Z0,e.__scopeDialog),n=y.useRef(null),a=mg(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return k2(i)},[]),s.jsx(sB,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fp(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fp(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:fp(e.onFocusOutside,i=>i.preventDefault())})}),Tae=y.forwardRef((e,t)=>{const r=zu(Z0,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(sB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),sB=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=zu(Z0,r),c=y.useRef(null),d=mg(t,c);return Bne(),s.jsxs(s.Fragment,{children:[s.jsx(F9,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(L9,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Vk(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Dae,{titleId:l.titleId}),s.jsx(Oae,{contentRef:c,descriptionId:l.descriptionId})]})]})}),$k="DialogTitle",nB=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zu($k,r);return s.jsx(Jf.h2,{id:a.titleId,...n,ref:t})});nB.displayName=$k;var aB="DialogDescription",iB=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zu(aB,r);return s.jsx(Jf.p,{id:a.descriptionId,...n,ref:t})});iB.displayName=aB;var oB="DialogClose",lB=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=zu(oB,r);return s.jsx(Jf.button,{type:"button",...n,ref:t,onClick:fp(e.onClick,()=>a.onOpenChange(!1))})});lB.displayName=oB;function Vk(e){return e?"open":"closed"}var cB="DialogTitleWarning",[A7e,dB]=sne(cB,{contentName:Z0,titleName:$k,docsSlug:"dialog"}),Dae=({titleId:e})=>{const t=dB(cB),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Pae="DialogDescriptionWarning",Oae=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dB(Pae).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},sS=Q9,uB=Z9,nS=eB,T2=tB,D2=rB,aS=nB,iS=iB,oS=lB;function hB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=hB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function jd(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=hB(e))&&(n&&(n+=" "),n+=t);return n}const qk="-",Rae=e=>{const t=Lae(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(qk);return l[0]===""&&l.length!==1&&l.shift(),fB(l,t)||Iae(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},fB=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?fB(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(qk);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},x8=/^\[(.+)\]$/,Iae=e=>{if(x8.test(e)){const t=x8.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Lae=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)pC(r[a],n,a,t);return n},pC=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:y8(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Mae(a)){pC(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{pC(o,y8(t,i),r,n)})})},y8=(e,t)=>{let r=e;return t.split(qk).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Mae=e=>e.isThemeGetter,Fae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},gC="!",xC=":",Bae=xC.length,Uae=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,d;for(let w=0;w<a.length;w++){let b=a[w];if(o===0&&l===0){if(b===xC){i.push(a.slice(c,w)),c=w+Bae;continue}if(b==="/"){d=w;continue}}b==="["?o++:b==="]"?o--:b==="("?l++:b===")"&&l--}const h=i.length===0?a:a.substring(c),m=$ae(h),p=m!==h,g=d&&d>c?d-c:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};if(t){const a=t+xC,i=n;n=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},$ae=e=>e.endsWith(gC)?e.substring(0,e.length-1):e.startsWith(gC)?e.substring(1):e,Vae=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},qae=e=>({cache:Fae(e.cacheSize),parseClassName:Uae(e),sortModifiers:Vae(e),...Rae(e)}),zae=/\s+/,Hae=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(zae);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:m,modifiers:p,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:b}=r(h);if(m){c=h+(c.length>0?" "+c:c);continue}let v=!!b,N=n(v?w.substring(0,b):w);if(!N){if(!v){c=h+(c.length>0?" "+c:c);continue}if(N=n(w),!N){c=h+(c.length>0?" "+c:c);continue}v=!1}const S=i(p).join(":"),A=g?S+gC:S,E=A+N;if(o.includes(E))continue;o.push(E);const C=a(N,v);for(let I=0;I<C.length;++I){const P=C[I];o.push(A+P)}c=h+(c.length>0?" "+c:c)}return c};function Wae(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=mB(t))&&(n&&(n+=" "),n+=r);return n}const mB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=mB(e[n]))&&(r&&(r+=" "),r+=t);return r};function Gae(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((h,m)=>m(h),e());return r=qae(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const h=Hae(c,r);return a(c,h),h}return function(){return i(Wae.apply(null,arguments))}}const co=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},pB=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gB=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Yae=/^\d+\/\d+$/,Kae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sx=e=>Yae.test(e),sn=e=>!!e&&!Number.isNaN(Number(e)),f0=e=>!!e&&Number.isInteger(Number(e)),v8=e=>e.endsWith("%")&&sn(e.slice(0,-1)),Rm=e=>Kae.test(e),eie=()=>!0,tie=e=>Qae.test(e)&&!Xae.test(e),zk=()=>!1,rie=e=>Zae.test(e),sie=e=>Jae.test(e),nie=e=>!Hr(e)&&!Wr(e),aie=e=>mv(e,vB,zk),Hr=e=>pB.test(e),m0=e=>mv(e,bB,tie),KA=e=>mv(e,gie,sn),iie=e=>mv(e,xB,zk),oie=e=>mv(e,yB,sie),lie=e=>mv(e,zk,rie),Wr=e=>gB.test(e),wN=e=>pv(e,bB),cie=e=>pv(e,xie),die=e=>pv(e,xB),uie=e=>pv(e,vB),hie=e=>pv(e,yB),fie=e=>pv(e,yie,!0),mv=(e,t,r)=>{const n=pB.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},pv=(e,t,r=!1)=>{const n=gB.exec(e);return n?n[1]?t(n[1]):r:!1},xB=e=>e==="position",mie=new Set(["image","url"]),yB=e=>mie.has(e),pie=new Set(["length","size","percentage"]),vB=e=>pie.has(e),bB=e=>e==="length",gie=e=>e==="number",xie=e=>e==="family-name",yie=e=>e==="shadow",vie=()=>{const e=co("color"),t=co("font"),r=co("text"),n=co("font-weight"),a=co("tracking"),i=co("leading"),o=co("breakpoint"),l=co("container"),c=co("spacing"),d=co("radius"),h=co("shadow"),m=co("inset-shadow"),p=co("drop-shadow"),g=co("blur"),w=co("perspective"),b=co("aspect"),v=co("ease"),N=co("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],I=()=>[Wr,Hr,c],P=()=>[Sx,"full","auto",...I()],F=()=>[f0,"none","subgrid",Wr,Hr],k=()=>["auto",{span:["full",f0,Wr,Hr]},Wr,Hr],z=()=>[f0,"auto",Wr,Hr],O=()=>["auto","min","max","fr",Wr,Hr],M=()=>["start","end","center","between","around","evenly","stretch","baseline"],R=()=>["start","end","center","stretch"],B=()=>["auto",...I()],Y=()=>[Sx,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],U=()=>[e,Wr,Hr],Q=()=>[v8,m0],V=()=>["","none","full",d,Wr,Hr],Z=()=>["",sn,wN,m0],J=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["","none",g,Wr,Hr],H=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Wr,Hr],K=()=>["none",sn,Wr,Hr],W=()=>["none",sn,Wr,Hr],re=()=>[sn,Wr,Hr],te=()=>[Sx,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Rm],breakpoint:[Rm],color:[eie],container:[Rm],"drop-shadow":[Rm],ease:["in","out","in-out"],font:[nie],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Rm],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Rm],shadow:[Rm],spacing:["px",sn],text:[Rm],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Sx,Hr,Wr,b]}],container:["container"],columns:[{columns:[sn,Hr,Wr,l]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),Hr,Wr]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[f0,"auto",Wr,Hr]}],basis:[{basis:[Sx,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[sn,Sx,"auto","initial","none",Hr]}],grow:[{grow:["",sn,Wr,Hr]}],shrink:[{shrink:["",sn,Wr,Hr]}],order:[{order:[f0,"first","last","none",Wr,Hr]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...R(),"normal"]}],"justify-self":[{"justify-self":["auto",...R()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...R(),"baseline"]}],"align-self":[{self:["auto",...R(),"baseline"]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...R(),"baseline"]}],"place-self":[{"place-self":["auto",...R()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[l,"screen",...Y()]}],"min-w":[{"min-w":[l,"screen","none",...Y()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...Y()]}],h:[{h:["screen",...Y()]}],"min-h":[{"min-h":["screen","none",...Y()]}],"max-h":[{"max-h":["screen",...Y()]}],"font-size":[{text:["base",r,wN,m0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Wr,KA]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",v8,Hr]}],"font-family":[{font:[cie,Hr,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Wr,Hr]}],"line-clamp":[{"line-clamp":[sn,"none",Wr,KA]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",Wr,Hr]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Wr,Hr]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[sn,"from-font","auto",Wr,m0]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[sn,"auto",Wr,Hr]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Wr,Hr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Wr,Hr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),die,iie]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",uie,aie]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},f0,Wr,Hr],radial:["",Wr,Hr],conic:[f0,Wr,Hr]},hie,oie]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[sn,Wr,Hr]}],"outline-w":[{outline:["",sn,wN,m0]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",h,fie,lie]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",Wr,Hr,m]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[sn,m0]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":U()}],opacity:[{opacity:[sn,Wr,Hr]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none",Wr,Hr]}],blur:[{blur:D()}],brightness:[{brightness:[sn,Wr,Hr]}],contrast:[{contrast:[sn,Wr,Hr]}],"drop-shadow":[{"drop-shadow":["","none",p,Wr,Hr]}],grayscale:[{grayscale:["",sn,Wr,Hr]}],"hue-rotate":[{"hue-rotate":[sn,Wr,Hr]}],invert:[{invert:["",sn,Wr,Hr]}],saturate:[{saturate:[sn,Wr,Hr]}],sepia:[{sepia:["",sn,Wr,Hr]}],"backdrop-filter":[{"backdrop-filter":["","none",Wr,Hr]}],"backdrop-blur":[{"backdrop-blur":D()}],"backdrop-brightness":[{"backdrop-brightness":[sn,Wr,Hr]}],"backdrop-contrast":[{"backdrop-contrast":[sn,Wr,Hr]}],"backdrop-grayscale":[{"backdrop-grayscale":["",sn,Wr,Hr]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[sn,Wr,Hr]}],"backdrop-invert":[{"backdrop-invert":["",sn,Wr,Hr]}],"backdrop-opacity":[{"backdrop-opacity":[sn,Wr,Hr]}],"backdrop-saturate":[{"backdrop-saturate":[sn,Wr,Hr]}],"backdrop-sepia":[{"backdrop-sepia":["",sn,Wr,Hr]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Wr,Hr]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[sn,"initial",Wr,Hr]}],ease:[{ease:["linear","initial",v,Wr,Hr]}],delay:[{delay:[sn,Wr,Hr]}],animate:[{animate:["none",N,Wr,Hr]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Wr,Hr]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:W()}],"scale-x":[{"scale-x":W()}],"scale-y":[{"scale-y":W()}],"scale-z":[{"scale-z":W()}],"scale-3d":["scale-3d"],skew:[{skew:re()}],"skew-x":[{"skew-x":re()}],"skew-y":[{"skew-y":re()}],transform:[{transform:[Wr,Hr,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:te()}],"translate-x":[{"translate-x":te()}],"translate-y":[{"translate-y":te()}],"translate-z":[{"translate-z":te()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Wr,Hr]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Wr,Hr]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[sn,wN,m0,KA]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},bie=Gae(vie);function jt(...e){return bie(jd(e))}const xn=sS,gv=uB,wie=nS,Pf=oS,wB=y.forwardRef(({className:e,...t},r)=>s.jsx(T2,{ref:r,className:jt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));wB.displayName=T2.displayName;const yn=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(wie,{children:[s.jsx(wB,{}),s.jsxs(D2,{ref:n,className:jt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(oS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(ul,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yn.displayName=D2.displayName;const An=({className:e,...t})=>s.jsx("div",{className:jt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});An.displayName="DialogHeader";const Il=({className:e,...t})=>s.jsx("div",{className:jt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Il.displayName="DialogFooter";const En=y.forwardRef(({className:e,...t},r)=>s.jsx(aS,{ref:r,className:jt("text-lg font-semibold leading-none tracking-tight",e),...t}));En.displayName=aS.displayName;const Vo=y.forwardRef(({className:e,...t},r)=>s.jsx(iS,{ref:r,className:jt("text-sm text-muted-foreground",e),...t}));Vo.displayName=iS.displayName;const b8=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,w8=jd,P2=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return w8(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const h=r==null?void 0:r[d],m=i==null?void 0:i[d];if(h===null)return null;const p=b8(h)||b8(m);return a[d][p]}),l=r&&Object.entries(r).reduce((d,h)=>{let[m,p]=h;return p===void 0||(d[m]=p),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:m,className:p,...g}=h;return Object.entries(g).every(w=>{let[b,v]=w;return Array.isArray(v)?v.includes({...i,...l}[b]):{...i,...l}[b]===v})?[...d,m,p]:d},[]);return w8(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},Vy=P2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 ",outline:"border bg-background shadow-xs hover:bg-accent hover:text-gray-700-foreground ",secondary:"bg-secondary text-white  shadow-xs hover:bg-white/80",ghost:"hover:bg-accent hover:text-gray-700-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ee({className:e,variant:t,size:r,asChild:n=!1,...a}){const i=n?J5:"button";return s.jsx(i,{"data-slot":"button",className:jt(Vy({variant:t,size:r,className:e})),...a})}function gt({className:e,type:t,...r}){return s.jsx("input",{type:t,"data-slot":"input",className:jt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}const hi=y.forwardRef(({className:e,onChange:t,onBlur:r,...n},a)=>{const[i,o]=y.useState(!1);return s.jsxs("div",{className:"relative",children:[s.jsx(gt,{type:i?"text":"password",className:jt("hide-password-toggle pr-10",e),ref:a,onChange:t,onBlur:r,autoComplete:"new-password",...n}),s.jsxs(Ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>{o(l=>!l)},children:[i?s.jsx(Pte,{className:"h-4 w-4","aria-hidden":"true"}):s.jsx(kf,{className:"h-4 w-4","aria-hidden":"true"}),s.jsx("span",{className:"sr-only",children:i?"Hide password":"Show password"})]}),s.jsx("style",{children:`
          .hide-password-toggle::-ms-reveal,
          .hide-password-toggle::-ms-clear {
            visibility: hidden;
            pointer-events: none;
            display: none;
          }
        `})]})});hi.displayName="PasswordInput";function N8(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ll(...e){return t=>{let r=!1;const n=e.map(a=>{const i=N8(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():N8(e[a],null)}}}}function _s(...e){return y.useCallback(Ll(...e),e)}var NB=y.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.Children.toArray(r),i=a.find(jie);if(i){const o=i.props.children,l=a.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return s.jsx(yC,{...n,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return s.jsx(yC,{...n,ref:t,children:r})});NB.displayName="Slot";var yC=y.forwardRef((e,t)=>{const{children:r,...n}=e;if(y.isValidElement(r)){const a=Aie(r),i=Sie(n,r.props);return r.type!==y.Fragment&&(i.ref=t?Ll(t,a):a),y.cloneElement(r,i)}return y.Children.count(r)>1?y.Children.only(null):null});yC.displayName="SlotClone";var Nie=({children:e})=>s.jsx(s.Fragment,{children:e});function jie(e){return y.isValidElement(e)&&e.type===Nie}function Sie(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Aie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Eie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Rr=Eie.reduce((e,t)=>{const r=y.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?NB:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function jB(e,t){e&&lv.flushSync(()=>e.dispatchEvent(t))}var Cie="Label",SB=y.forwardRef((e,t)=>s.jsx(Rr.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));SB.displayName=Cie;var _ie=SB;function Be({className:e,...t}){return s.jsx(_ie,{"data-slot":"label",className:jt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function AB(e,t){return function(){return e.apply(t,arguments)}}const{toString:kie}=Object.prototype,{getPrototypeOf:Hk}=Object,lS=(e=>t=>{const r=kie.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Hu=e=>(e=e.toLowerCase(),t=>lS(t)===e),cS=e=>t=>typeof t===e,{isArray:xv}=Array,qb=cS("undefined");function Tie(e){return e!==null&&!qb(e)&&e.constructor!==null&&!qb(e.constructor)&&Vc(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const EB=Hu("ArrayBuffer");function Die(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&EB(e.buffer),t}const Pie=cS("string"),Vc=cS("function"),CB=cS("number"),dS=e=>e!==null&&typeof e=="object",Oie=e=>e===!0||e===!1,gj=e=>{if(lS(e)!=="object")return!1;const t=Hk(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Rie=Hu("Date"),Iie=Hu("File"),Lie=Hu("Blob"),Mie=Hu("FileList"),Fie=e=>dS(e)&&Vc(e.pipe),Bie=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Vc(e.append)&&((t=lS(e))==="formdata"||t==="object"&&Vc(e.toString)&&e.toString()==="[object FormData]"))},Uie=Hu("URLSearchParams"),[$ie,Vie,qie,zie]=["ReadableStream","Request","Response","Headers"].map(Hu),Hie=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function O2(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),xv(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function _B(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const j0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kB=e=>!qb(e)&&e!==j0;function vC(){const{caseless:e}=kB(this)&&this||{},t={},r=(n,a)=>{const i=e&&_B(t,a)||a;gj(t[i])&&gj(n)?t[i]=vC(t[i],n):gj(n)?t[i]=vC({},n):xv(n)?t[i]=n.slice():t[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&O2(arguments[n],r);return t}const Wie=(e,t,r,{allOwnKeys:n}={})=>(O2(t,(a,i)=>{r&&Vc(a)?e[i]=AB(a,r):e[i]=a},{allOwnKeys:n}),e),Gie=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Yie=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Kie=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Hk(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Qie=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Xie=e=>{if(!e)return null;if(xv(e))return e;let t=e.length;if(!CB(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Zie=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hk(Uint8Array)),Jie=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},eoe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},toe=Hu("HTMLFormElement"),roe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),j8=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),soe=Hu("RegExp"),TB=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};O2(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},noe=e=>{TB(e,(t,r)=>{if(Vc(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Vc(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},aoe=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return xv(e)?n(e):n(String(e).split(t)),r},ioe=()=>{},ooe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function loe(e){return!!(e&&Vc(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const coe=e=>{const t=new Array(10),r=(n,a)=>{if(dS(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const i=xv(n)?[]:{};return O2(n,(o,l)=>{const c=r(o,a+1);!qb(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},doe=Hu("AsyncFunction"),uoe=e=>e&&(dS(e)||Vc(e))&&Vc(e.then)&&Vc(e.catch),DB=((e,t)=>e?setImmediate:t?((r,n)=>(j0.addEventListener("message",({source:a,data:i})=>{a===j0&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),j0.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Vc(j0.postMessage)),hoe=typeof queueMicrotask<"u"?queueMicrotask.bind(j0):typeof process<"u"&&process.nextTick||DB,Dt={isArray:xv,isArrayBuffer:EB,isBuffer:Tie,isFormData:Bie,isArrayBufferView:Die,isString:Pie,isNumber:CB,isBoolean:Oie,isObject:dS,isPlainObject:gj,isReadableStream:$ie,isRequest:Vie,isResponse:qie,isHeaders:zie,isUndefined:qb,isDate:Rie,isFile:Iie,isBlob:Lie,isRegExp:soe,isFunction:Vc,isStream:Fie,isURLSearchParams:Uie,isTypedArray:Zie,isFileList:Mie,forEach:O2,merge:vC,extend:Wie,trim:Hie,stripBOM:Gie,inherits:Yie,toFlatObject:Kie,kindOf:lS,kindOfTest:Hu,endsWith:Qie,toArray:Xie,forEachEntry:Jie,matchAll:eoe,isHTMLForm:toe,hasOwnProperty:j8,hasOwnProp:j8,reduceDescriptors:TB,freezeMethods:noe,toObjectSet:aoe,toCamelCase:roe,noop:ioe,toFiniteNumber:ooe,findKey:_B,global:j0,isContextDefined:kB,isSpecCompliantForm:loe,toJSONObject:coe,isAsyncFn:doe,isThenable:uoe,setImmediate:DB,asap:hoe};function Os(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Dt.inherits(Os,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Dt.toJSONObject(this.config),code:this.code,status:this.status}}});const PB=Os.prototype,OB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{OB[e]={value:e}});Object.defineProperties(Os,OB);Object.defineProperty(PB,"isAxiosError",{value:!0});Os.from=(e,t,r,n,a,i)=>{const o=Object.create(PB);return Dt.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Os.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const foe=null;function bC(e){return Dt.isPlainObject(e)||Dt.isArray(e)}function RB(e){return Dt.endsWith(e,"[]")?e.slice(0,-2):e}function S8(e,t,r){return e?e.concat(t).map(function(a,i){return a=RB(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function moe(e){return Dt.isArray(e)&&!e.some(bC)}const poe=Dt.toFlatObject(Dt,{},null,function(t){return/^is[A-Z]/.test(t)});function uS(e,t,r){if(!Dt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Dt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!Dt.isUndefined(v[b])});const n=r.metaTokens,a=r.visitor||h,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Dt.isSpecCompliantForm(t);if(!Dt.isFunction(a))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(Dt.isDate(w))return w.toISOString();if(!c&&Dt.isBlob(w))throw new Os("Blob is not supported. Use a Buffer instead.");return Dt.isArrayBuffer(w)||Dt.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,b,v){let N=w;if(w&&!v&&typeof w=="object"){if(Dt.endsWith(b,"{}"))b=n?b:b.slice(0,-2),w=JSON.stringify(w);else if(Dt.isArray(w)&&moe(w)||(Dt.isFileList(w)||Dt.endsWith(b,"[]"))&&(N=Dt.toArray(w)))return b=RB(b),N.forEach(function(A,E){!(Dt.isUndefined(A)||A===null)&&t.append(o===!0?S8([b],E,i):o===null?b:b+"[]",d(A))}),!1}return bC(w)?!0:(t.append(S8(v,b,i),d(w)),!1)}const m=[],p=Object.assign(poe,{defaultVisitor:h,convertValue:d,isVisitable:bC});function g(w,b){if(!Dt.isUndefined(w)){if(m.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(w),Dt.forEach(w,function(N,S){(!(Dt.isUndefined(N)||N===null)&&a.call(t,N,Dt.isString(S)?S.trim():S,b,p))===!0&&g(N,b?b.concat(S):[S])}),m.pop()}}if(!Dt.isObject(e))throw new TypeError("data must be an object");return g(e),t}function A8(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Wk(e,t){this._pairs=[],e&&uS(e,this,t)}const IB=Wk.prototype;IB.append=function(t,r){this._pairs.push([t,r])};IB.toString=function(t){const r=t?function(n){return t.call(this,n,A8)}:A8;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function goe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function LB(e,t,r){if(!t)return e;const n=r&&r.encode||goe;Dt.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Dt.isURLSearchParams(t)?t.toString():new Wk(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class E8{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Dt.forEach(this.handlers,function(n){n!==null&&t(n)})}}const MB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xoe=typeof URLSearchParams<"u"?URLSearchParams:Wk,yoe=typeof FormData<"u"?FormData:null,voe=typeof Blob<"u"?Blob:null,boe={isBrowser:!0,classes:{URLSearchParams:xoe,FormData:yoe,Blob:voe},protocols:["http","https","file","blob","url","data"]},Gk=typeof window<"u"&&typeof document<"u",wC=typeof navigator=="object"&&navigator||void 0,woe=Gk&&(!wC||["ReactNative","NativeScript","NS"].indexOf(wC.product)<0),Noe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",joe=Gk&&window.location.href||"http://localhost",Soe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gk,hasStandardBrowserEnv:woe,hasStandardBrowserWebWorkerEnv:Noe,navigator:wC,origin:joe},Symbol.toStringTag,{value:"Module"})),ll={...Soe,...boe};function Aoe(e,t){return uS(e,new ll.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return ll.isNode&&Dt.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Eoe(e){return Dt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Coe(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function FB(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&Dt.isArray(a)?a.length:o,c?(Dt.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!Dt.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&Dt.isArray(a[o])&&(a[o]=Coe(a[o])),!l)}if(Dt.isFormData(e)&&Dt.isFunction(e.entries)){const r={};return Dt.forEachEntry(e,(n,a)=>{t(Eoe(n),a,r,0)}),r}return null}function _oe(e,t,r){if(Dt.isString(e))try{return(t||JSON.parse)(e),Dt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const R2={transitional:MB,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=Dt.isObject(t);if(i&&Dt.isHTMLForm(t)&&(t=new FormData(t)),Dt.isFormData(t))return a?JSON.stringify(FB(t)):t;if(Dt.isArrayBuffer(t)||Dt.isBuffer(t)||Dt.isStream(t)||Dt.isFile(t)||Dt.isBlob(t)||Dt.isReadableStream(t))return t;if(Dt.isArrayBufferView(t))return t.buffer;if(Dt.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Aoe(t,this.formSerializer).toString();if((l=Dt.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return uS(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),_oe(t)):t}],transformResponse:[function(t){const r=this.transitional||R2.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Dt.isResponse(t)||Dt.isReadableStream(t))return t;if(t&&Dt.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?Os.from(l,Os.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ll.classes.FormData,Blob:ll.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Dt.forEach(["delete","get","head","post","put","patch"],e=>{R2.headers[e]={}});const koe=Dt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Toe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&koe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},C8=Symbol("internals");function D1(e){return e&&String(e).trim().toLowerCase()}function xj(e){return e===!1||e==null?e:Dt.isArray(e)?e.map(xj):String(e)}function Doe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Poe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function QA(e,t,r,n,a){if(Dt.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Dt.isString(t)){if(Dt.isString(n))return t.indexOf(n)!==-1;if(Dt.isRegExp(n))return n.test(t)}}function Ooe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Roe(e,t){const r=Dt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let oc=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,d){const h=D1(c);if(!h)throw new Error("header name must be a non-empty string");const m=Dt.findKey(a,h);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=xj(l))}const o=(l,c)=>Dt.forEach(l,(d,h)=>i(d,h,c));if(Dt.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Dt.isString(t)&&(t=t.trim())&&!Poe(t))o(Toe(t),r);else if(Dt.isHeaders(t))for(const[l,c]of t.entries())i(c,l,n);else t!=null&&i(r,t,n);return this}get(t,r){if(t=D1(t),t){const n=Dt.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Doe(a);if(Dt.isFunction(r))return r.call(this,a,n);if(Dt.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=D1(t),t){const n=Dt.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||QA(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=D1(o),o){const l=Dt.findKey(n,o);l&&(!r||QA(n,n[l],l,r))&&(delete n[l],a=!0)}}return Dt.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||QA(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return Dt.forEach(this,(a,i)=>{const o=Dt.findKey(n,i);if(o){r[o]=xj(a),delete r[i];return}const l=t?Ooe(i):String(i).trim();l!==i&&delete r[i],r[l]=xj(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Dt.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Dt.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[C8]=this[C8]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=D1(o);n[l]||(Roe(a,o),n[l]=!0)}return Dt.isArray(t)?t.forEach(i):i(t),this}};oc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Dt.reduceDescriptors(oc.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Dt.freezeMethods(oc);function XA(e,t){const r=this||R2,n=t||r,a=oc.from(n.headers);let i=n.data;return Dt.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function BB(e){return!!(e&&e.__CANCEL__)}function yv(e,t,r){Os.call(this,e??"canceled",Os.ERR_CANCELED,t,r),this.name="CanceledError"}Dt.inherits(yv,Os,{__CANCEL__:!0});function UB(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Os("Request failed with status code "+r.status,[Os.ERR_BAD_REQUEST,Os.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ioe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Loe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),h=n[i];o||(o=d),r[a]=c,n[a]=d;let m=i,p=0;for(;m!==a;)p+=r[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const g=h&&d-h;return g?Math.round(p*1e3/g):void 0}}function Moe(e,t){let r=0,n=1e3/t,a,i;const o=(d,h=Date.now())=>{r=h,a=null,i&&(clearTimeout(i),i=null),e.apply(null,d)};return[(...d)=>{const h=Date.now(),m=h-r;m>=n?o(d,h):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},n-m)))},()=>a&&o(a)]}const Gj=(e,t,r=3)=>{let n=0;const a=Loe(50,250);return Moe(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=a(c),h=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},_8=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},k8=e=>(...t)=>Dt.asap(()=>e(...t)),Foe=ll.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ll.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ll.origin),ll.navigator&&/(msie|trident)/i.test(ll.navigator.userAgent)):()=>!0,Boe=ll.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const o=[e+"="+encodeURIComponent(t)];Dt.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Dt.isString(n)&&o.push("path="+n),Dt.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Uoe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $oe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $B(e,t,r){let n=!Uoe(t);return e&&(n||r==!1)?$oe(e,t):t}const T8=e=>e instanceof oc?{...e}:e;function J0(e,t){t=t||{};const r={};function n(d,h,m,p){return Dt.isPlainObject(d)&&Dt.isPlainObject(h)?Dt.merge.call({caseless:p},d,h):Dt.isPlainObject(h)?Dt.merge({},h):Dt.isArray(h)?h.slice():h}function a(d,h,m,p){if(Dt.isUndefined(h)){if(!Dt.isUndefined(d))return n(void 0,d,m,p)}else return n(d,h,m,p)}function i(d,h){if(!Dt.isUndefined(h))return n(void 0,h)}function o(d,h){if(Dt.isUndefined(h)){if(!Dt.isUndefined(d))return n(void 0,d)}else return n(void 0,h)}function l(d,h,m){if(m in t)return n(d,h);if(m in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,h,m)=>a(T8(d),T8(h),m,!0)};return Dt.forEach(Object.keys(Object.assign({},e,t)),function(h){const m=c[h]||a,p=m(e[h],t[h],h);Dt.isUndefined(p)&&m!==l||(r[h]=p)}),r}const VB=e=>{const t=J0({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=oc.from(o),t.url=LB($B(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Dt.isFormData(r)){if(ll.hasStandardBrowserEnv||ll.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...h]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...h].join("; "))}}if(ll.hasStandardBrowserEnv&&(n&&Dt.isFunction(n)&&(n=n(t)),n||n!==!1&&Foe(t.url))){const d=a&&i&&Boe.read(i);d&&o.set(a,d)}return t},Voe=typeof XMLHttpRequest<"u",qoe=Voe&&function(e){return new Promise(function(r,n){const a=VB(e);let i=a.data;const o=oc.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,h,m,p,g,w;function b(){g&&g(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function N(){if(!v)return;const A=oc.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:A,config:e,request:v};UB(function(P){r(P),b()},function(P){n(P),b()},C),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(n(new Os("Request aborted",Os.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new Os("Network Error",Os.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||MB;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),n(new Os(E,C.clarifyTimeoutError?Os.ETIMEDOUT:Os.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&Dt.forEach(o.toJSON(),function(E,C){v.setRequestHeader(C,E)}),Dt.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),d&&([p,w]=Gj(d,!0),v.addEventListener("progress",p)),c&&v.upload&&([m,g]=Gj(c),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(h=A=>{v&&(n(!A||A.type?new yv(null,e,v):A),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const S=Ioe(a.url);if(S&&ll.protocols.indexOf(S)===-1){n(new Os("Unsupported protocol "+S+":",Os.ERR_BAD_REQUEST,e));return}v.send(i||null)})},zoe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,l();const h=d instanceof Error?d:this.reason;n.abort(h instanceof Os?h:new yv(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new Os(`timeout ${t} of ms exceeded`,Os.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>Dt.asap(l),c}},Hoe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Woe=async function*(e,t){for await(const r of Goe(e))yield*Hoe(r,t)},Goe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},D8=(e,t,r,n)=>{const a=Woe(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await a.next();if(d){l(),c.close();return}let m=h.byteLength;if(r){let p=i+=m;r(p)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},hS=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qB=hS&&typeof ReadableStream=="function",Yoe=hS&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),zB=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Koe=qB&&zB(()=>{let e=!1;const t=new Request(ll.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),P8=64*1024,NC=qB&&zB(()=>Dt.isReadableStream(new Response("").body)),Yj={stream:NC&&(e=>e.body)};hS&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Yj[t]&&(Yj[t]=Dt.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Os(`Response type '${t}' is not supported`,Os.ERR_NOT_SUPPORT,n)})})})(new Response);const Qoe=async e=>{if(e==null)return 0;if(Dt.isBlob(e))return e.size;if(Dt.isSpecCompliantForm(e))return(await new Request(ll.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Dt.isArrayBufferView(e)||Dt.isArrayBuffer(e))return e.byteLength;if(Dt.isURLSearchParams(e)&&(e=e+""),Dt.isString(e))return(await Yoe(e)).byteLength},Xoe=async(e,t)=>{const r=Dt.toFiniteNumber(e.getContentLength());return r??Qoe(t)},Zoe=hS&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:m="same-origin",fetchOptions:p}=VB(e);d=d?(d+"").toLowerCase():"text";let g=zoe([a,i&&i.toAbortSignal()],o),w;const b=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let v;try{if(c&&Koe&&r!=="get"&&r!=="head"&&(v=await Xoe(h,n))!==0){let C=new Request(t,{method:"POST",body:n,duplex:"half"}),I;if(Dt.isFormData(n)&&(I=C.headers.get("content-type"))&&h.setContentType(I),C.body){const[P,F]=_8(v,Gj(k8(c)));n=D8(C.body,P8,P,F)}}Dt.isString(m)||(m=m?"include":"omit");const N="credentials"in Request.prototype;w=new Request(t,{...p,signal:g,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:N?m:void 0});let S=await fetch(w);const A=NC&&(d==="stream"||d==="response");if(NC&&(l||A&&b)){const C={};["status","statusText","headers"].forEach(k=>{C[k]=S[k]});const I=Dt.toFiniteNumber(S.headers.get("content-length")),[P,F]=l&&_8(I,Gj(k8(l),!0))||[];S=new Response(D8(S.body,P8,P,()=>{F&&F(),b&&b()}),C)}d=d||"text";let E=await Yj[Dt.findKey(Yj,d)||"text"](S,e);return!A&&b&&b(),await new Promise((C,I)=>{UB(C,I,{data:E,headers:oc.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:w})})}catch(N){throw b&&b(),N&&N.name==="TypeError"&&/fetch/i.test(N.message)?Object.assign(new Os("Network Error",Os.ERR_NETWORK,e,w),{cause:N.cause||N}):Os.from(N,N&&N.code,e,w)}}),jC={http:foe,xhr:qoe,fetch:Zoe};Dt.forEach(jC,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const O8=e=>`- ${e}`,Joe=e=>Dt.isFunction(e)||e===null||e===!1,HB={getAdapter:e=>{e=Dt.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!Joe(r)&&(n=jC[(o=String(r)).toLowerCase()],n===void 0))throw new Os(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+i]=n}if(!n){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(O8).join(`
`):" "+O8(i[0]):"as no adapter specified";throw new Os("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:jC};function ZA(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yv(null,e)}function R8(e){return ZA(e),e.headers=oc.from(e.headers),e.data=XA.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),HB.getAdapter(e.adapter||R2.adapter)(e).then(function(n){return ZA(e),n.data=XA.call(e,e.transformResponse,n),n.headers=oc.from(n.headers),n},function(n){return BB(n)||(ZA(e),n&&n.response&&(n.response.data=XA.call(e,e.transformResponse,n.response),n.response.headers=oc.from(n.response.headers))),Promise.reject(n)})}const WB="1.8.4",fS={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fS[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const I8={};fS.transitional=function(t,r,n){function a(i,o){return"[Axios v"+WB+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Os(a(o," has been removed"+(r?" in "+r:"")),Os.ERR_DEPRECATED);return r&&!I8[o]&&(I8[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};fS.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function ele(e,t,r){if(typeof e!="object")throw new Os("options must be an object",Os.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Os("option "+i+" must be "+c,Os.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Os("Unknown option "+i,Os.ERR_BAD_OPTION)}}const yj={assertOptions:ele,validators:fS},ph=yj.validators;let U0=class{constructor(t){this.defaults=t,this.interceptors={request:new E8,response:new E8}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=J0(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&yj.assertOptions(n,{silentJSONParsing:ph.transitional(ph.boolean),forcedJSONParsing:ph.transitional(ph.boolean),clarifyTimeoutError:ph.transitional(ph.boolean)},!1),a!=null&&(Dt.isFunction(a)?r.paramsSerializer={serialize:a}:yj.assertOptions(a,{encode:ph.function,serialize:ph.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),yj.assertOptions(r,{baseUrl:ph.spelling("baseURL"),withXsrfToken:ph.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Dt.merge(i.common,i[r.method]);i&&Dt.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),r.headers=oc.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let h,m=0,p;if(!c){const w=[R8.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,d),p=w.length,h=Promise.resolve(r);m<p;)h=h.then(w[m++],w[m++]);return h}p=l.length;let g=r;for(m=0;m<p;){const w=l[m++],b=l[m++];try{g=w(g)}catch(v){b.call(this,v);break}}try{h=R8.call(this,g)}catch(w){return Promise.reject(w)}for(m=0,p=d.length;m<p;)h=h.then(d[m++],d[m++]);return h}getUri(t){t=J0(this.defaults,t);const r=$B(t.baseURL,t.url,t.allowAbsoluteUrls);return LB(r,t.params,t.paramsSerializer)}};Dt.forEach(["delete","get","head","options"],function(t){U0.prototype[t]=function(r,n){return this.request(J0(n||{},{method:t,url:r,data:(n||{}).data}))}});Dt.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(J0(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}U0.prototype[t]=r(),U0.prototype[t+"Form"]=r(!0)});let tle=class GB{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new yv(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new GB(function(a){t=a}),cancel:t}}};function rle(e){return function(r){return e.apply(null,r)}}function sle(e){return Dt.isObject(e)&&e.isAxiosError===!0}const SC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(SC).forEach(([e,t])=>{SC[t]=e});function YB(e){const t=new U0(e),r=AB(U0.prototype.request,t);return Dt.extend(r,U0.prototype,t,{allOwnKeys:!0}),Dt.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return YB(J0(e,a))},r}const dn=YB(R2);dn.Axios=U0;dn.CanceledError=yv;dn.CancelToken=tle;dn.isCancel=BB;dn.VERSION=WB;dn.toFormData=uS;dn.AxiosError=Os;dn.Cancel=dn.CanceledError;dn.all=function(t){return Promise.all(t)};dn.spread=rle;dn.isAxiosError=sle;dn.mergeConfig=J0;dn.AxiosHeaders=oc;dn.formToJSON=e=>FB(Dt.isHTMLForm(e)?new FormData(e):e);dn.getAdapter=HB.getAdapter;dn.HttpStatusCode=SC;dn.default=dn;const{Axios:_7e,AxiosError:k7e,CanceledError:T7e,isCancel:D7e,CancelToken:P7e,VERSION:O7e,all:R7e,Cancel:I7e,isAxiosError:L7e,spread:M7e,toFormData:F7e,AxiosHeaders:B7e,HttpStatusCode:U7e,formToJSON:$7e,getAdapter:V7e,mergeConfig:q7e}=dn,KB=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken"),localStorage.removeItem("memberId"),localStorage.removeItem("roles"),localStorage.removeItem("agencyId")},nle=e=>{KB(),e!=null&&e.startsWith("/admin")?window.location.href="/admin":window.location.href="/login"},pg=dn.create({baseURL:Vu});pg.interceptors.response.use(e=>e,e=>{var r,n,a,i,o,l,c,d;const t=(r=e.response)==null?void 0:r.status;if((i=(a=(n=e.response)==null?void 0:n.data)==null?void 0:a.error)!=null&&i.message||((l=(o=e.response)==null?void 0:o.data)==null||l.message),t===401||t===403){const h=window.location.pathname,m=h==="/login"||h==="/admin"||h==="/admin/login"||h.includes("/forgot-password")||h.includes("/reset-password")||h.includes("/register"),p=h==="/"&&((d=(c=e.config)==null?void 0:c.url)==null?void 0:d.includes("/users/me"));return!m&&!p&&nle(h),Promise.reject(e)}return Promise.reject(e)});const gg=e=>e.startsWith("/api")?e:`/api${e.startsWith("/")?"":"/"}${e}`,xg=e=>{var r,n,a,i,o,l,c,d,h,m,p,g,w;const t=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||((o=(i=(a=e.response)==null?void 0:a.data)==null?void 0:i.error)==null?void 0:o.message)||((d=(c=(l=e.response)==null?void 0:l.data)==null?void 0:c.errors)==null?void 0:d.message)||((g=(p=(m=(h=e.response)==null?void 0:h.data)==null?void 0:m.errors)==null?void 0:p[0])==null?void 0:g.message)||e.message||"Request failed";return(w=e.response)!=null&&w.status?`${{400:"Bad Request: ",401:"Unauthorized: ",403:"Forbidden: ",404:"Not Found: ",409:"Conflict: ",422:"Validation Error: ",500:"Server Error: "}[e.response.status]||`Error ${e.response.status}: `}${t}`:t};pg.interceptors.request.use(e=>{var r;const t=localStorage.getItem("authToken");return(r=e.url)!=null&&r.includes("/users/me")&&!t?(console.warn("Blocking /users/me request for non-authenticated user"),Promise.reject(new Error("Authentication required for /users/me endpoint"))):(t&&(e.headers.Authorization=`Bearer ${t}`),e)});const $t=async(e,t,r)=>{var n,a,i,o,l;try{const c={params:t,...r},d=await pg.get(gg(e),c);return(r==null?void 0:r.responseType)==="blob"?d:d.data}catch(c){throw console.error("GET request error details:",(n=c.response)==null?void 0:n.data),{status:(a=c.response)==null?void 0:a.status,errors:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:xg(c),data:(l=c.response)==null?void 0:l.data,originalError:c}}},en=async(e,t,r)=>{var n,a,i,o,l;try{const c=await pg.post(gg(e),t,r);return(r==null?void 0:r.responseType)==="blob"?c:c.data}catch(c){throw console.error("POST request error details:",(n=c.response)==null?void 0:n.data),{status:(a=c.response)==null?void 0:a.status,errors:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:xg(c),data:(l=c.response)==null?void 0:l.data,originalError:c}}},Aa=async(e,t)=>{var r,n,a,i,o;try{return(await pg.put(gg(e),t)).data}catch(l){throw console.error("PUT request error details:",(r=l.response)==null?void 0:r.data),{status:(n=l.response)==null?void 0:n.status,errors:((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.errors)||[],message:xg(l),data:(o=l.response)==null?void 0:o.data,originalError:l}}},Oi=async(e,t)=>{var r,n,a,i,o;try{return(await pg.patch(gg(e),t)).data}catch(l){throw console.error("PATCH request error details:",(r=l.response)==null?void 0:r.data),{status:(n=l.response)==null?void 0:n.status,errors:((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.errors)||[],message:xg(l),data:(o=l.response)==null?void 0:o.data,originalError:l}}},mi=async e=>{var t,r,n,a,i;try{return(await pg.delete(gg(e))).data}catch(o){throw console.error("DELETE request error details:",(t=o.response)==null?void 0:t.data),{status:(r=o.response)==null?void 0:r.status,errors:((a=(n=o.response)==null?void 0:n.data)==null?void 0:a.errors)||[],message:xg(o),data:(i=o.response)==null?void 0:i.data,originalError:o}}},ale=async(e,t,r)=>{var n,a,i,o,l;try{const c=dn.create({baseURL:Vu});return c.interceptors.request.use(h=>{const m=localStorage.getItem("authToken");return m&&(h.headers.Authorization=`Bearer ${m}`),h}),(await c.post(gg(e),t,r)).data}catch(c){throw console.error("POST UPLOAD request error details:",(n=c.response)==null?void 0:n.data),{status:(a=c.response)==null?void 0:a.status,errors:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:xg(c),data:(l=c.response)==null?void 0:l.data,originalError:c}}},ile=async(e,t,r)=>{var n,a,i,o,l;try{const c=dn.create({baseURL:Vu});return c.interceptors.request.use(h=>{const m=localStorage.getItem("authToken");return m&&(h.headers.Authorization=`Bearer ${m}`),h}),(await c.put(gg(e),t,r)).data}catch(c){throw console.error("PUT UPLOAD request error details:",(n=c.response)==null?void 0:n.data),{status:(a=c.response)==null?void 0:a.status,errors:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:xg(c),data:(l=c.response)==null?void 0:l.data,originalError:c}}};var cn=(e=>(e.PENDING="PENDING",e.DELIVERED="DELIVERED",e.NOT_DELIVERED="NOT_DELIVERED",e.CANCELLED="CANCELLED",e.SKIPPED="SKIPPED",e.SKIP_BY_CUSTOMER="SKIP_BY_CUSTOMER",e.INDRAAI_DELIVERY="INDRAAI_DELIVERY",e.TRANSFER_TO_AGENT="TRANSFER_TO_AGENT",e))(cn||{});function ole(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const lle=e=>{switch(e){case"success":return ule;case"info":return fle;case"warning":return hle;case"error":return mle;default:return null}},cle=Array(12).fill(0),dle=({visible:e,className:t})=>We.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},We.createElement("div",{className:"sonner-spinner"},cle.map((r,n)=>We.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ule=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hle=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fle=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mle=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ple=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},We.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),We.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gle=()=>{const[e,t]=We.useState(document.hidden);return We.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let AC=1;class xle{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:AC++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=a.then(async d=>{if(o=["resolve",d],We.isValidElement(d))i=!1,this.create({id:n,type:"default",message:d});else if(vle(d)&&!d.ok){i=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description,w=typeof m=="object"&&!We.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...w})}else if(d instanceof Error){i=!1;const m=typeof r.error=="function"?await r.error(d):r.error,p=typeof r.description=="function"?await r.description(d):r.description,w=typeof m=="object"&&!We.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...w})}else if(r.success!==void 0){i=!1;const m=typeof r.success=="function"?await r.success(d):r.success,p=typeof r.description=="function"?await r.description(d):r.description,w=typeof m=="object"&&!We.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:p,...w})}}).catch(async d=>{if(o=["reject",d],r.error!==void 0){i=!1;const h=typeof r.error=="function"?await r.error(d):r.error,m=typeof r.description=="function"?await r.description(d):r.description,g=typeof h=="object"&&!We.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...g})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||AC++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ec=new xle,yle=(e,t)=>{const r=(t==null?void 0:t.id)||AC++;return ec.addToast({title:e,...t,id:r}),r},vle=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ble=yle,wle=()=>ec.toasts,Nle=()=>ec.getActiveToasts(),ve=Object.assign(ble,{success:ec.success,info:ec.info,warning:ec.warning,error:ec.error,custom:ec.custom,message:ec.message,promise:ec.promise,dismiss:ec.dismiss,loading:ec.loading},{getHistory:wle,getToasts:Nle});ole("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function NN(e){return e.label!==void 0}const jle=3,Sle="24px",Ale="16px",L8=4e3,Ele=356,Cle=14,_le=45,kle=200;function gh(...e){return e.filter(Boolean).join(" ")}function Tle(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const Dle=e=>{var t,r,n,a,i,o,l,c,d;const{invert:h,toast:m,unstyled:p,interacting:g,setHeights:w,visibleToasts:b,heights:v,index:N,toasts:S,expanded:A,removeToast:E,defaultRichColors:C,closeButton:I,style:P,cancelButtonStyle:F,actionButtonStyle:k,className:z="",descriptionClassName:O="",duration:M,position:R,gap:B,expandByDefault:Y,classNames:U,icons:Q,closeButtonAriaLabel:V="Close toast"}=e,[Z,J]=We.useState(null),[ae,D]=We.useState(null),[H,K]=We.useState(!1),[W,re]=We.useState(!1),[te,ie]=We.useState(!1),[se,le]=We.useState(!1),[Ce,De]=We.useState(!1),[Ze,ke]=We.useState(0),[ce,Me]=We.useState(0),be=We.useRef(m.duration||M||L8),ge=We.useRef(null),Ye=We.useRef(null),ze=N===0,Pe=N+1<=b,me=m.type,we=m.dismissible!==!1,qe=m.className||"",xt=m.descriptionClassName||"",pt=We.useMemo(()=>v.findIndex(Gt=>Gt.toastId===m.id)||0,[v,m.id]),ct=We.useMemo(()=>{var Gt;return(Gt=m.closeButton)!=null?Gt:I},[m.closeButton,I]),ft=We.useMemo(()=>m.duration||M||L8,[m.duration,M]),Mt=We.useRef(0),Xt=We.useRef(0),ur=We.useRef(0),es=We.useRef(null),[Qr,mt]=R.split("-"),Er=We.useMemo(()=>v.reduce((Gt,Mr,ts)=>ts>=pt?Gt:Gt+Mr.height,0),[v,pt]),tr=gle(),fr=m.invert||h,Lr=me==="loading";Xt.current=We.useMemo(()=>pt*B+Er,[pt,Er]),We.useEffect(()=>{be.current=ft},[ft]),We.useEffect(()=>{K(!0)},[]),We.useEffect(()=>{const Gt=Ye.current;if(Gt){const Mr=Gt.getBoundingClientRect().height;return Me(Mr),w(ts=>[{toastId:m.id,height:Mr,position:m.position},...ts]),()=>w(ts=>ts.filter(ss=>ss.toastId!==m.id))}},[w,m.id]),We.useLayoutEffect(()=>{if(!H)return;const Gt=Ye.current,Mr=Gt.style.height;Gt.style.height="auto";const ts=Gt.getBoundingClientRect().height;Gt.style.height=Mr,Me(ts),w(ss=>ss.find(lt=>lt.toastId===m.id)?ss.map(lt=>lt.toastId===m.id?{...lt,height:ts}:lt):[{toastId:m.id,height:ts,position:m.position},...ss])},[H,m.title,m.description,w,m.id]);const Pt=We.useCallback(()=>{re(!0),ke(Xt.current),w(Gt=>Gt.filter(Mr=>Mr.toastId!==m.id)),setTimeout(()=>{E(m)},kle)},[m,E,w,Xt]);We.useEffect(()=>{if(m.promise&&me==="loading"||m.duration===1/0||m.type==="loading")return;let Gt;return A||g||tr?(()=>{if(ur.current<Mt.current){const ss=new Date().getTime()-Mt.current;be.current=be.current-ss}ur.current=new Date().getTime()})():(()=>{be.current!==1/0&&(Mt.current=new Date().getTime(),Gt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Pt()},be.current))})(),()=>clearTimeout(Gt)},[A,g,m,me,tr,Pt]),We.useEffect(()=>{m.delete&&Pt()},[Pt,m.delete]);function Tr(){var Gt;if(Q!=null&&Q.loading){var Mr;return We.createElement("div",{className:gh(U==null?void 0:U.loader,m==null||(Mr=m.classNames)==null?void 0:Mr.loader,"sonner-loader"),"data-visible":me==="loading"},Q.loading)}return We.createElement(dle,{className:gh(U==null?void 0:U.loader,m==null||(Gt=m.classNames)==null?void 0:Gt.loader),visible:me==="loading"})}const Cr=m.icon||(Q==null?void 0:Q[me])||lle(me);var mr,ar;return We.createElement("li",{tabIndex:0,ref:Ye,className:gh(z,qe,U==null?void 0:U.toast,m==null||(t=m.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[me],m==null||(r=m.classNames)==null?void 0:r[me]),"data-sonner-toast":"","data-rich-colors":(mr=m.richColors)!=null?mr:C,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":H,"data-promise":!!m.promise,"data-swiped":Ce,"data-removed":W,"data-visible":Pe,"data-y-position":Qr,"data-x-position":mt,"data-index":N,"data-front":ze,"data-swiping":te,"data-dismissible":we,"data-type":me,"data-invert":fr,"data-swipe-out":se,"data-swipe-direction":ae,"data-expanded":!!(A||Y&&H),style:{"--index":N,"--toasts-before":N,"--z-index":S.length-N,"--offset":`${W?Ze:Xt.current}px`,"--initial-height":Y?"auto":`${ce}px`,...P,...m.style},onDragEnd:()=>{ie(!1),J(null),es.current=null},onPointerDown:Gt=>{Lr||!we||(ge.current=new Date,ke(Xt.current),Gt.target.setPointerCapture(Gt.pointerId),Gt.target.tagName!=="BUTTON"&&(ie(!0),es.current={x:Gt.clientX,y:Gt.clientY}))},onPointerUp:()=>{var Gt,Mr,ts;if(se||!we)return;es.current=null;const ss=Number(((Gt=Ye.current)==null?void 0:Gt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xe=Number(((Mr=Ye.current)==null?void 0:Mr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lt=new Date().getTime()-((ts=ge.current)==null?void 0:ts.getTime()),Ct=Z==="x"?ss:Xe,lr=Math.abs(Ct)/lt;if(Math.abs(Ct)>=_le||lr>.11){ke(Xt.current),m.onDismiss==null||m.onDismiss.call(m,m),D(Z==="x"?ss>0?"right":"left":Xe>0?"down":"up"),Pt(),le(!0);return}else{var _r,ks;(_r=Ye.current)==null||_r.style.setProperty("--swipe-amount-x","0px"),(ks=Ye.current)==null||ks.style.setProperty("--swipe-amount-y","0px")}De(!1),ie(!1),J(null)},onPointerMove:Gt=>{var Mr,ts,ss;if(!es.current||!we||((Mr=window.getSelection())==null?void 0:Mr.toString().length)>0)return;const lt=Gt.clientY-es.current.y,Ct=Gt.clientX-es.current.x;var lr;const _r=(lr=e.swipeDirections)!=null?lr:Tle(R);!Z&&(Math.abs(Ct)>1||Math.abs(lt)>1)&&J(Math.abs(Ct)>Math.abs(lt)?"x":"y");let ks={x:0,y:0};const Xr=Ns=>1/(1.5+Math.abs(Ns)/20);if(Z==="y"){if(_r.includes("top")||_r.includes("bottom"))if(_r.includes("top")&&lt<0||_r.includes("bottom")&&lt>0)ks.y=lt;else{const Ns=lt*Xr(lt);ks.y=Math.abs(Ns)<Math.abs(lt)?Ns:lt}}else if(Z==="x"&&(_r.includes("left")||_r.includes("right")))if(_r.includes("left")&&Ct<0||_r.includes("right")&&Ct>0)ks.x=Ct;else{const Ns=Ct*Xr(Ct);ks.x=Math.abs(Ns)<Math.abs(Ct)?Ns:Ct}(Math.abs(ks.x)>0||Math.abs(ks.y)>0)&&De(!0),(ts=Ye.current)==null||ts.style.setProperty("--swipe-amount-x",`${ks.x}px`),(ss=Ye.current)==null||ss.style.setProperty("--swipe-amount-y",`${ks.y}px`)}},ct&&!m.jsx&&me!=="loading"?We.createElement("button",{"aria-label":V,"data-disabled":Lr,"data-close-button":!0,onClick:Lr||!we?()=>{}:()=>{Pt(),m.onDismiss==null||m.onDismiss.call(m,m)},className:gh(U==null?void 0:U.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(ar=Q==null?void 0:Q.close)!=null?ar:ple):null,(me||m.icon||m.promise)&&m.icon!==null&&((Q==null?void 0:Q[me])!==null||m.icon)?We.createElement("div",{"data-icon":"",className:gh(U==null?void 0:U.icon,m==null||(a=m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Tr():null,m.type!=="loading"?Cr:null):null,We.createElement("div",{"data-content":"",className:gh(U==null?void 0:U.content,m==null||(i=m.classNames)==null?void 0:i.content)},We.createElement("div",{"data-title":"",className:gh(U==null?void 0:U.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?We.createElement("div",{"data-description":"",className:gh(O,xt,U==null?void 0:U.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),We.isValidElement(m.cancel)?m.cancel:m.cancel&&NN(m.cancel)?We.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||F,onClick:Gt=>{NN(m.cancel)&&we&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Gt),Pt())},className:gh(U==null?void 0:U.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,We.isValidElement(m.action)?m.action:m.action&&NN(m.action)?We.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||k,onClick:Gt=>{NN(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Gt),!Gt.defaultPrevented&&Pt())},className:gh(U==null?void 0:U.actionButton,m==null||(d=m.classNames)==null?void 0:d.actionButton)},m.action.label):null)};function M8(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Ple(e,t){const r={};return[e,t].forEach((n,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",l=i?Ale:Sle;function c(d){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}const QB=We.forwardRef(function(t,r){const{invert:n,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:d,mobileOffset:h,theme:m="light",richColors:p,duration:g,style:w,visibleToasts:b=jle,toastOptions:v,dir:N=M8(),gap:S=Cle,icons:A,containerAriaLabel:E="Notifications"}=t,[C,I]=We.useState([]),P=We.useMemo(()=>Array.from(new Set([a].concat(C.filter(ae=>ae.position).map(ae=>ae.position)))),[C,a]),[F,k]=We.useState([]),[z,O]=We.useState(!1),[M,R]=We.useState(!1),[B,Y]=We.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=We.useRef(null),Q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=We.useRef(null),Z=We.useRef(!1),J=We.useCallback(ae=>{I(D=>{var H;return(H=D.find(K=>K.id===ae.id))!=null&&H.delete||ec.dismiss(ae.id),D.filter(({id:K})=>K!==ae.id)})},[]);return We.useEffect(()=>ec.subscribe(ae=>{if(ae.dismiss){requestAnimationFrame(()=>{I(D=>D.map(H=>H.id===ae.id?{...H,delete:!0}:H))});return}setTimeout(()=>{_k.flushSync(()=>{I(D=>{const H=D.findIndex(K=>K.id===ae.id);return H!==-1?[...D.slice(0,H),{...D[H],...ae},...D.slice(H+1)]:[ae,...D]})})})}),[C]),We.useEffect(()=>{if(m!=="system"){Y(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;const ae=window.matchMedia("(prefers-color-scheme: dark)");try{ae.addEventListener("change",({matches:D})=>{Y(D?"dark":"light")})}catch{ae.addListener(({matches:H})=>{try{Y(H?"dark":"light")}catch(K){console.error(K)}})}},[m]),We.useEffect(()=>{C.length<=1&&O(!1)},[C]),We.useEffect(()=>{const ae=D=>{var H;if(i.every(re=>D[re]||D.code===re)){var W;O(!0),(W=U.current)==null||W.focus()}D.code==="Escape"&&(document.activeElement===U.current||(H=U.current)!=null&&H.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[i]),We.useEffect(()=>{if(U.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,Z.current=!1)}},[U.current]),We.createElement("section",{ref:r,"aria-label":`${E} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((ae,D)=>{var H;const[K,W]=ae.split("-");return C.length?We.createElement("ol",{key:ae,dir:N==="auto"?M8():N,tabIndex:-1,ref:U,className:c,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":K,"data-lifted":z&&C.length>1&&!o,"data-x-position":W,style:{"--front-toast-height":`${((H=F[0])==null?void 0:H.height)||0}px`,"--width":`${Ele}px`,"--gap":`${S}px`,...w,...Ple(d,h)},onBlur:re=>{Z.current&&!re.currentTarget.contains(re.relatedTarget)&&(Z.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,V.current=re.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{M||O(!1)},onDragEnd:()=>O(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},C.filter(re=>!re.position&&D===0||re.position===ae).map((re,te)=>{var ie,se;return We.createElement(Dle,{key:re.id,icons:A,index:te,toast:re,defaultRichColors:p,duration:(ie=v==null?void 0:v.duration)!=null?ie:g,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:b,closeButton:(se=v==null?void 0:v.closeButton)!=null?se:l,interacting:M,position:ae,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,closeButtonAriaLabel:v==null?void 0:v.closeButtonAriaLabel,removeToast:J,toasts:C.filter(le=>le.position==re.position),heights:F.filter(le=>le.position==re.position),setHeights:k,expandByDefault:o,gap:S,expanded:z,swipeDirections:t.swipeDirections})})):null}))}),z7e=Object.freeze(Object.defineProperty({__proto__:null,Toaster:QB,toast:ve},Symbol.toStringTag,{value:"Module"})),Ole=Vs.object({currentPassword:Vs.string().min(1,"Current Password is required"),newPassword:Vs.string().min(6,"New password must be at least 6 characters long"),confirmPassword:Vs.string().min(1,"Confirm New Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"New passwords must match",path:["confirmPassword"]}),XB=({isOpen:e,onClose:t})=>{const[r,n]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,i]=y.useState({});y.useEffect(()=>{e||(n({currentPassword:"",newPassword:"",confirmPassword:""}),i({}))},[e]);const o=Ks({mutationFn:d=>Oi("/auth/change-password",d),onSuccess:()=>{ve.success("Password changed successfully!"),t()},onError:d=>{var m,p,g,w;const h=((p=(m=d.response)==null?void 0:m.data)==null?void 0:p.message)||d.message;if(ve.error(h||"Failed to change password. Please try again."),(w=(g=d.response)==null?void 0:g.data)!=null&&w.errors){const b={};d.response.data.errors.forEach(v=>{v.path&&v.path.length>0&&(b[v.path[v.path.length-1]]=v.message)}),i(b)}else h&&h.toLowerCase().includes("current password")&&i({currentPassword:h})}}),l=d=>{const{name:h,value:m}=d.target;n(p=>({...p,[h]:m})),a[h]&&i(p=>({...p,[h]:""}))},c=d=>{d.preventDefault(),i({});const h=Ole.safeParse(r);if(!h.success){const m={};h.error.errors.forEach(p=>{p.path.length>0&&(m[p.path[0]]=p.message)}),i(m);return}o.mutate({currentPassword:h.data.currentPassword,newPassword:h.data.newPassword})};return s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"sm:max-w-[450px]",children:[s.jsxs(An,{children:[s.jsx(En,{children:"Change Your Password"}),s.jsx(Vo,{children:"Enter your current password and a new password below."})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(hi,{id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:l,autoComplete:"current-password",disabled:o.isPending}),a.currentPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.currentPassword})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{htmlFor:"newPassword",children:"New Password"}),s.jsx(hi,{id:"newPassword",name:"newPassword",value:r.newPassword,onChange:l,autoComplete:"new-password",disabled:o.isPending}),a.newPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.newPassword})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(hi,{id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:l,autoComplete:"new-password",disabled:o.isPending}),a.confirmPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.confirmPassword})]}),s.jsxs(Il,{className:"pt-4",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:t,disabled:o.isPending,children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:o.isPending,children:o.isPending?"Changing...":"Change Password"})]})]})]})})},vv=({isOpen:e,title:t,description:r,confirmLabel:n="Confirm",cancelLabel:a="Cancel",onConfirm:i,onCancel:o,children:l})=>{console.log("[confirm-dialog.tsx] ConfirmDialog rendered. isOpen:",e);const c=s.jsxs(yn,{className:"sm:max-w-[425px]",children:[s.jsxs(An,{children:[s.jsx(En,{children:t}),s.jsx(Vo,{children:r})]}),s.jsxs(Il,{children:[s.jsx(Ee,{variant:"secondary",onClick:o,children:a}),s.jsx(Ee,{variant:"destructive",onClick:i,children:n})]})]});return l?s.jsxs(xn,{open:e,onOpenChange:o,modal:!1,children:[s.jsx(gv,{asChild:!0,children:l}),c]}):s.jsx(xn,{open:e,onOpenChange:o,modal:!0,children:e&&c})};function wr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Rle(e,t){const r=y.createContext(t),n=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function eo(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o),c=r.length;r=[...r,o];const d=m=>{var N;const{scope:p,children:g,...w}=m,b=((N=p==null?void 0:p[e])==null?void 0:N[c])||l,v=y.useMemo(()=>w,Object.values(w));return s.jsx(b.Provider,{value:v,children:g})};d.displayName=i+"Provider";function h(m,p){var b;const g=((b=p==null?void 0:p[e])==null?void 0:b[c])||l,w=y.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,h]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Ile(a,...t)]}function Ile(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Di(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Bd({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Lle({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Di(r),c=y.useCallback(d=>{if(i){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else a(d)},[i,e,a,l]);return[o,c]}function Lle({defaultProp:e,onChange:t}){const r=y.useState(e),[n]=r,a=y.useRef(n),i=Di(t);return y.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var EC=y.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.Children.toArray(r),i=a.find(Fle);if(i){const o=i.props.children,l=a.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return s.jsx(CC,{...n,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return s.jsx(CC,{...n,ref:t,children:r})});EC.displayName="Slot";var CC=y.forwardRef((e,t)=>{const{children:r,...n}=e;if(y.isValidElement(r)){const a=Ule(r),i=Ble(n,r.props);return r.type!==y.Fragment&&(i.ref=t?Ll(t,a):a),y.cloneElement(r,i)}return y.Children.count(r)>1?y.Children.only(null):null});CC.displayName="SlotClone";var Mle=({children:e})=>s.jsx(s.Fragment,{children:e});function Fle(e){return y.isValidElement(e)&&e.type===Mle}function Ble(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Ule(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Yk(e){const t=e+"CollectionProvider",[r,n]=eo(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:b}=g,v=We.useRef(null),N=We.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:N,collectionRef:v,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=We.forwardRef((g,w)=>{const{scope:b,children:v}=g,N=i(l,b),S=_s(w,N.collectionRef);return s.jsx(EC,{ref:S,children:v})});c.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=We.forwardRef((g,w)=>{const{scope:b,children:v,...N}=g,S=We.useRef(null),A=_s(w,S),E=i(d,b);return We.useEffect(()=>(E.itemMap.set(S,{ref:S,...N}),()=>void E.itemMap.delete(S))),s.jsx(EC,{[h]:"",ref:A,children:v})});m.displayName=d;function p(g){const w=i(e+"CollectionConsumer",g);return We.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const N=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((E,C)=>N.indexOf(E.ref.current)-N.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},p,n]}var $le=y.createContext(void 0);function bv(e){const t=y.useContext($le);return e||t||"ltr"}function Vle(e,t=globalThis==null?void 0:globalThis.document){const r=Di(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var qle="DismissableLayer",_C="dismissableLayer.update",zle="dismissableLayer.pointerDownOutside",Hle="dismissableLayer.focusOutside",F8,ZB=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wv=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=y.useContext(ZB),[h,m]=y.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),w=_s(t,P=>m(P)),b=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(v),S=h?b.indexOf(h):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,E=S>=N,C=Yle(P=>{const F=P.target,k=[...d.branches].some(z=>z.contains(F));!E||k||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},p),I=Kle(P=>{const F=P.target;[...d.branches].some(z=>z.contains(F))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},p);return Vle(P=>{S===d.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},p),y.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(F8=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),B8(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=F8)}},[h,p,r,d]),y.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),B8())},[h,d]),y.useEffect(()=>{const P=()=>g({});return document.addEventListener(_C,P),()=>document.removeEventListener(_C,P)},[]),s.jsx(Rr.div,{...c,ref:w,style:{pointerEvents:A?E?"auto":"none":void 0,...e.style},onFocusCapture:wr(e.onFocusCapture,I.onFocusCapture),onBlurCapture:wr(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:wr(e.onPointerDownCapture,C.onPointerDownCapture)})});wv.displayName=qle;var Wle="DismissableLayerBranch",Gle=y.forwardRef((e,t)=>{const r=y.useContext(ZB),n=y.useRef(null),a=_s(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Rr.div,{...e,ref:a})});Gle.displayName=Wle;function Yle(e,t=globalThis==null?void 0:globalThis.document){const r=Di(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){JB(zle,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Kle(e,t=globalThis==null?void 0:globalThis.document){const r=Di(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&JB(Hle,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function B8(){const e=new CustomEvent(_C);document.dispatchEvent(e)}function JB(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?jB(a,i):a.dispatchEvent(i)}var JA=0;function mS(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??U8()),document.body.insertAdjacentElement("beforeend",e[1]??U8()),JA++,()=>{JA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),JA--}},[])}function U8(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var eE="focusScope.autoFocusOnMount",tE="focusScope.autoFocusOnUnmount",$8={bubbles:!1,cancelable:!0},Qle="FocusScope",I2=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),d=Di(a),h=Di(i),m=y.useRef(null),p=_s(t,b=>c(b)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let b=function(A){if(g.paused||!l)return;const E=A.target;l.contains(E)?m.current=E:Hm(m.current,{select:!0})},v=function(A){if(g.paused||!l)return;const E=A.relatedTarget;E!==null&&(l.contains(E)||Hm(m.current,{select:!0}))},N=function(A){if(document.activeElement===document.body)for(const C of A)C.removedNodes.length>0&&Hm(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",v);const S=new MutationObserver(N);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",v),S.disconnect()}}},[n,l,g.paused]),y.useEffect(()=>{if(l){q8.add(g);const b=document.activeElement;if(!l.contains(b)){const N=new CustomEvent(eE,$8);l.addEventListener(eE,d),l.dispatchEvent(N),N.defaultPrevented||(Xle(rce(eU(l)),{select:!0}),document.activeElement===b&&Hm(l))}return()=>{l.removeEventListener(eE,d),setTimeout(()=>{const N=new CustomEvent(tE,$8);l.addEventListener(tE,h),l.dispatchEvent(N),N.defaultPrevented||Hm(b??document.body,{select:!0}),l.removeEventListener(tE,h),q8.remove(g)},0)}}},[l,d,h,g]);const w=y.useCallback(b=>{if(!r&&!n||g.paused)return;const v=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(v&&N){const S=b.currentTarget,[A,E]=Zle(S);A&&E?!b.shiftKey&&N===E?(b.preventDefault(),r&&Hm(A,{select:!0})):b.shiftKey&&N===A&&(b.preventDefault(),r&&Hm(E,{select:!0})):N===S&&b.preventDefault()}},[r,n,g.paused]);return s.jsx(Rr.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});I2.displayName=Qle;function Xle(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Hm(n,{select:t}),document.activeElement!==r)return}function Zle(e){const t=eU(e),r=V8(t,e),n=V8(t.reverse(),e);return[r,n]}function eU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function V8(e,t){for(const r of e)if(!Jle(r,{upTo:t}))return r}function Jle(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ece(e){return e instanceof HTMLInputElement&&"select"in e}function Hm(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ece(e)&&t&&e.select()}}var q8=tce();function tce(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=z8(e,t),e.unshift(t)},remove(t){var r;e=z8(e,t),(r=e[0])==null||r.resume()}}}function z8(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function rce(e){return e.filter(t=>t.tagName!=="A")}var Zi=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},sce=mk.useId||(()=>{}),nce=0;function Xi(e){const[t,r]=y.useState(sce());return Zi(()=>{r(n=>n??String(nce++))},[e]),t?`radix-${t}`:""}const ace=["top","right","bottom","left"],wp=Math.min,Mc=Math.max,Kj=Math.round,jN=Math.floor,Oh=e=>({x:e,y:e}),ice={left:"right",right:"left",bottom:"top",top:"bottom"},oce={start:"end",end:"start"};function kC(e,t,r){return Mc(e,wp(t,r))}function $f(e,t){return typeof e=="function"?e(t):e}function Vf(e){return e.split("-")[0]}function Nv(e){return e.split("-")[1]}function Kk(e){return e==="x"?"y":"x"}function Qk(e){return e==="y"?"height":"width"}function Np(e){return["top","bottom"].includes(Vf(e))?"y":"x"}function Xk(e){return Kk(Np(e))}function lce(e,t,r){r===void 0&&(r=!1);const n=Nv(e),a=Xk(e),i=Qk(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Qj(o)),[o,Qj(o)]}function cce(e){const t=Qj(e);return[TC(e),t,TC(t)]}function TC(e){return e.replace(/start|end/g,t=>oce[t])}function dce(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function uce(e,t,r,n){const a=Nv(e);let i=dce(Vf(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(TC)))),i}function Qj(e){return e.replace(/left|right|bottom|top/g,t=>ice[t])}function hce(e){return{top:0,right:0,bottom:0,left:0,...e}}function tU(e){return typeof e!="number"?hce(e):{top:e,right:e,bottom:e,left:e}}function Xj(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function H8(e,t,r){let{reference:n,floating:a}=e;const i=Np(t),o=Xk(t),l=Qk(o),c=Vf(t),d=i==="y",h=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,p=n[l]/2-a[l]/2;let g;switch(c){case"top":g={x:h,y:n.y-a.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:m};break;case"left":g={x:n.x-a.width,y:m};break;default:g={x:n.x,y:n.y}}switch(Nv(t)){case"start":g[o]-=p*(r&&d?-1:1);break;case"end":g[o]+=p*(r&&d?-1:1);break}return g}const fce=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:m}=H8(d,n,c),p=n,g={},w=0;for(let b=0;b<l.length;b++){const{name:v,fn:N}=l[b],{x:S,y:A,data:E,reset:C}=await N({x:h,y:m,initialPlacement:n,placement:p,strategy:a,middlewareData:g,rects:d,platform:o,elements:{reference:e,floating:t}});h=S??h,m=A??m,g={...g,[v]:{...g[v],...E}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:h,y:m}=H8(d,p,c)),b=-1)}return{x:h,y:m,placement:p,strategy:a,middlewareData:g}};async function zb(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:g=0}=$f(t,e),w=tU(g),v=l[p?m==="floating"?"reference":"floating":m],N=Xj(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),S=m==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},C=Xj(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:A,strategy:c}):S);return{top:(N.top-C.top+w.top)/E.y,bottom:(C.bottom-N.bottom+w.bottom)/E.y,left:(N.left-C.left+w.left)/E.x,right:(C.right-N.right+w.right)/E.x}}const mce=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=$f(e,t)||{};if(d==null)return{};const m=tU(h),p={x:r,y:n},g=Xk(a),w=Qk(g),b=await o.getDimensions(d),v=g==="y",N=v?"top":"left",S=v?"bottom":"right",A=v?"clientHeight":"clientWidth",E=i.reference[w]+i.reference[g]-p[g]-i.floating[w],C=p[g]-i.reference[g],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=I?I[A]:0;(!P||!await(o.isElement==null?void 0:o.isElement(I)))&&(P=l.floating[A]||i.floating[w]);const F=E/2-C/2,k=P/2-b[w]/2-1,z=wp(m[N],k),O=wp(m[S],k),M=z,R=P-b[w]-O,B=P/2-b[w]/2+F,Y=kC(M,B,R),U=!c.arrow&&Nv(a)!=null&&B!==Y&&i.reference[w]/2-(B<M?z:O)-b[w]/2<0,Q=U?B<M?B-M:B-R:0;return{[g]:p[g]+Q,data:{[g]:Y,centerOffset:B-Y-Q,...U&&{alignmentOffset:Q}},reset:U}}}),pce=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...v}=$f(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=Vf(a),S=Np(l),A=Vf(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=p||(A||!b?[Qj(l)]:cce(l)),I=w!=="none";!p&&I&&C.push(...uce(l,b,w,E));const P=[l,...C],F=await zb(t,v),k=[];let z=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&k.push(F[N]),m){const B=lce(a,o,E);k.push(F[B[0]],F[B[1]])}if(z=[...z,{placement:a,overflows:k}],!k.every(B=>B<=0)){var O,M;const B=(((O=i.flip)==null?void 0:O.index)||0)+1,Y=P[B];if(Y)return{data:{index:B,overflows:z},reset:{placement:Y}};let U=(M=z.filter(Q=>Q.overflows[0]<=0).sort((Q,V)=>Q.overflows[1]-V.overflows[1])[0])==null?void 0:M.placement;if(!U)switch(g){case"bestFit":{var R;const Q=(R=z.filter(V=>{if(I){const Z=Np(V.placement);return Z===S||Z==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Z=>Z>0).reduce((Z,J)=>Z+J,0)]).sort((V,Z)=>V[1]-Z[1])[0])==null?void 0:R[0];Q&&(U=Q);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function W8(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function G8(e){return ace.some(t=>e[t]>=0)}const gce=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=$f(e,t);switch(n){case"referenceHidden":{const i=await zb(t,{...a,elementContext:"reference"}),o=W8(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:G8(o)}}}case"escaped":{const i=await zb(t,{...a,altBoundary:!0}),o=W8(i,r.floating);return{data:{escapedOffsets:o,escaped:G8(o)}}}default:return{}}}}};async function xce(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Vf(r),l=Nv(r),c=Np(r)==="y",d=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,m=$f(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof w=="number"&&(g=l==="end"?w*-1:w),c?{x:g*h,y:p*d}:{x:p*d,y:g*h}}const yce=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await xce(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},vce=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:N,y:S}=v;return{x:N,y:S}}},...c}=$f(e,t),d={x:r,y:n},h=await zb(t,c),m=Np(Vf(a)),p=Kk(m);let g=d[p],w=d[m];if(i){const v=p==="y"?"top":"left",N=p==="y"?"bottom":"right",S=g+h[v],A=g-h[N];g=kC(S,g,A)}if(o){const v=m==="y"?"top":"left",N=m==="y"?"bottom":"right",S=w+h[v],A=w-h[N];w=kC(S,w,A)}const b=l.fn({...t,[p]:g,[m]:w});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[p]:i,[m]:o}}}}}},bce=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=$f(e,t),h={x:r,y:n},m=Np(a),p=Kk(m);let g=h[p],w=h[m];const b=$f(l,t),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const A=p==="y"?"height":"width",E=i.reference[p]-i.floating[A]+v.mainAxis,C=i.reference[p]+i.reference[A]-v.mainAxis;g<E?g=E:g>C&&(g=C)}if(d){var N,S;const A=p==="y"?"width":"height",E=["top","left"].includes(Vf(a)),C=i.reference[m]-i.floating[A]+(E&&((N=o.offset)==null?void 0:N[m])||0)+(E?0:v.crossAxis),I=i.reference[m]+i.reference[A]+(E?0:((S=o.offset)==null?void 0:S[m])||0)-(E?v.crossAxis:0);w<C?w=C:w>I&&(w=I)}return{[p]:g,[m]:w}}}},wce=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=$f(e,t),h=await zb(t,d),m=Vf(a),p=Nv(a),g=Np(a)==="y",{width:w,height:b}=i.floating;let v,N;m==="top"||m==="bottom"?(v=m,N=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=m,v=p==="end"?"top":"bottom");const S=b-h.top-h.bottom,A=w-h.left-h.right,E=wp(b-h[v],S),C=wp(w-h[N],A),I=!t.middlewareData.shift;let P=E,F=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(F=A),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=S),I&&!p){const z=Mc(h.left,0),O=Mc(h.right,0),M=Mc(h.top,0),R=Mc(h.bottom,0);g?F=w-2*(z!==0||O!==0?z+O:Mc(h.left,h.right)):P=b-2*(M!==0||R!==0?M+R:Mc(h.top,h.bottom))}await c({...t,availableWidth:F,availableHeight:P});const k=await o.getDimensions(l.floating);return w!==k.width||b!==k.height?{reset:{rects:!0}}:{}}}};function pS(){return typeof window<"u"}function jv(e){return rU(e)?(e.nodeName||"").toLowerCase():"#document"}function qc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wh(e){var t;return(t=(rU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rU(e){return pS()?e instanceof Node||e instanceof qc(e).Node:!1}function Iu(e){return pS()?e instanceof Element||e instanceof qc(e).Element:!1}function $h(e){return pS()?e instanceof HTMLElement||e instanceof qc(e).HTMLElement:!1}function Y8(e){return!pS()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qc(e).ShadowRoot}function L2(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Lu(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function Nce(e){return["table","td","th"].includes(jv(e))}function gS(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Zk(e){const t=Jk(),r=Iu(e)?Lu(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function jce(e){let t=jp(e);for(;$h(t)&&!qy(t);){if(Zk(t))return t;if(gS(t))return null;t=jp(t)}return null}function Jk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qy(e){return["html","body","#document"].includes(jv(e))}function Lu(e){return qc(e).getComputedStyle(e)}function xS(e){return Iu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function jp(e){if(jv(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Y8(e)&&e.host||Wh(e);return Y8(t)?t.host:t}function sU(e){const t=jp(e);return qy(t)?e.ownerDocument?e.ownerDocument.body:e.body:$h(t)&&L2(t)?t:sU(t)}function Hb(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=sU(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=qc(a);if(i){const l=DC(o);return t.concat(o,o.visualViewport||[],L2(a)?a:[],l&&r?Hb(l):[])}return t.concat(a,Hb(a,[],r))}function DC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nU(e){const t=Lu(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=$h(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Kj(r)!==i||Kj(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function eT(e){return Iu(e)?e:e.contextElement}function ly(e){const t=eT(e);if(!$h(t))return Oh(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=nU(t);let o=(i?Kj(r.width):r.width)/n,l=(i?Kj(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Sce=Oh(0);function aU(e){const t=qc(e);return!Jk()||!t.visualViewport?Sce:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ace(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==qc(e)?!1:t}function eg(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=eT(e);let o=Oh(1);t&&(n?Iu(n)&&(o=ly(n)):o=ly(e));const l=Ace(i,r,n)?aU(i):Oh(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,h=a.width/o.x,m=a.height/o.y;if(i){const p=qc(i),g=n&&Iu(n)?qc(n):n;let w=p,b=DC(w);for(;b&&n&&g!==w;){const v=ly(b),N=b.getBoundingClientRect(),S=Lu(b),A=N.left+(b.clientLeft+parseFloat(S.paddingLeft))*v.x,E=N.top+(b.clientTop+parseFloat(S.paddingTop))*v.y;c*=v.x,d*=v.y,h*=v.x,m*=v.y,c+=A,d+=E,w=qc(b),b=DC(w)}}return Xj({width:h,height:m,x:c,y:d})}function tT(e,t){const r=xS(e).scrollLeft;return t?t.left+r:eg(Wh(e)).left+r}function iU(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:tT(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Ece(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Wh(n),l=t?gS(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Oh(1);const h=Oh(0),m=$h(n);if((m||!m&&!i)&&((jv(n)!=="body"||L2(o))&&(c=xS(n)),$h(n))){const g=eg(n);d=ly(n),h.x=g.x+n.clientLeft,h.y=g.y+n.clientTop}const p=o&&!m&&!i?iU(o,c,!0):Oh(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:r.y*d.y-c.scrollTop*d.y+h.y+p.y}}function Cce(e){return Array.from(e.getClientRects())}function _ce(e){const t=Wh(e),r=xS(e),n=e.ownerDocument.body,a=Mc(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Mc(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+tT(e);const l=-r.scrollTop;return Lu(n).direction==="rtl"&&(o+=Mc(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function kce(e,t){const r=qc(e),n=Wh(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Jk();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Tce(e,t){const r=eg(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=$h(e)?ly(e):Oh(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function K8(e,t,r){let n;if(t==="viewport")n=kce(e,r);else if(t==="document")n=_ce(Wh(e));else if(Iu(t))n=Tce(t,r);else{const a=aU(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Xj(n)}function oU(e,t){const r=jp(e);return r===t||!Iu(r)||qy(r)?!1:Lu(r).position==="fixed"||oU(r,t)}function Dce(e,t){const r=t.get(e);if(r)return r;let n=Hb(e,[],!1).filter(l=>Iu(l)&&jv(l)!=="body"),a=null;const i=Lu(e).position==="fixed";let o=i?jp(e):e;for(;Iu(o)&&!qy(o);){const l=Lu(o),c=Zk(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||L2(o)&&!c&&oU(e,o))?n=n.filter(h=>h!==o):a=l,o=jp(o)}return t.set(e,n),n}function Pce(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?gS(t)?[]:Dce(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,h)=>{const m=K8(t,h,a);return d.top=Mc(m.top,d.top),d.right=wp(m.right,d.right),d.bottom=wp(m.bottom,d.bottom),d.left=Mc(m.left,d.left),d},K8(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Oce(e){const{width:t,height:r}=nU(e);return{width:t,height:r}}function Rce(e,t,r){const n=$h(t),a=Wh(t),i=r==="fixed",o=eg(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Oh(0);if(n||!n&&!i)if((jv(t)!=="body"||L2(a))&&(l=xS(t)),n){const p=eg(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&(c.x=tT(a));const d=a&&!n&&!i?iU(a,l):Oh(0),h=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:o.width,height:o.height}}function rE(e){return Lu(e).position==="static"}function Q8(e,t){if(!$h(e)||Lu(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Wh(e)===r&&(r=r.ownerDocument.body),r}function lU(e,t){const r=qc(e);if(gS(e))return r;if(!$h(e)){let a=jp(e);for(;a&&!qy(a);){if(Iu(a)&&!rE(a))return a;a=jp(a)}return r}let n=Q8(e,t);for(;n&&Nce(n)&&rE(n);)n=Q8(n,t);return n&&qy(n)&&rE(n)&&!Zk(n)?r:n||jce(e)||r}const Ice=async function(e){const t=this.getOffsetParent||lU,r=this.getDimensions,n=await r(e.floating);return{reference:Rce(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Lce(e){return Lu(e).direction==="rtl"}const Mce={convertOffsetParentRelativeRectToViewportRelativeRect:Ece,getDocumentElement:Wh,getClippingRect:Pce,getOffsetParent:lU,getElementRects:Ice,getClientRects:Cce,getDimensions:Oce,getScale:ly,isElement:Iu,isRTL:Lce};function cU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Fce(e,t){let r=null,n;const a=Wh(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:h,top:m,width:p,height:g}=d;if(l||t(),!p||!g)return;const w=jN(m),b=jN(a.clientWidth-(h+p)),v=jN(a.clientHeight-(m+g)),N=jN(h),A={rootMargin:-w+"px "+-b+"px "+-v+"px "+-N+"px",threshold:Mc(0,wp(1,c))||1};let E=!0;function C(I){const P=I[0].intersectionRatio;if(P!==c){if(!E)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!cU(d,e.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(C,{...A,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,A)}r.observe(e)}return o(!0),i}function Bce(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=eT(e),h=a||i?[...d?Hb(d):[],...Hb(t)]:[];h.forEach(N=>{a&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const m=d&&l?Fce(d,r):null;let p=-1,g=null;o&&(g=new ResizeObserver(N=>{let[S]=N;S&&S.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var A;(A=g)==null||A.observe(t)})),r()}),d&&!c&&g.observe(d),g.observe(t));let w,b=c?eg(e):null;c&&v();function v(){const N=eg(e);b&&!cU(b,N)&&r(),b=N,w=requestAnimationFrame(v)}return r(),()=>{var N;h.forEach(S=>{a&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),m==null||m(),(N=g)==null||N.disconnect(),g=null,c&&cancelAnimationFrame(w)}}const Uce=yce,$ce=vce,Vce=pce,qce=wce,zce=gce,X8=mce,Hce=bce,Wce=(e,t,r)=>{const n=new Map,a={platform:Mce,...r},i={...a.platform,_c:n};return fce(e,t,{...a,platform:i})};var vj=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Zj(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Zj(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Zj(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function dU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Z8(e,t){const r=dU(e);return Math.round(t*r)/r}function sE(e){const t=y.useRef(e);return vj(()=>{t.current=e}),t}function Gce(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,m]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=y.useState(n);Zj(p,n)||g(n);const[w,b]=y.useState(null),[v,N]=y.useState(null),S=y.useCallback(V=>{V!==I.current&&(I.current=V,b(V))},[]),A=y.useCallback(V=>{V!==P.current&&(P.current=V,N(V))},[]),E=i||w,C=o||v,I=y.useRef(null),P=y.useRef(null),F=y.useRef(h),k=c!=null,z=sE(c),O=sE(a),M=sE(d),R=y.useCallback(()=>{if(!I.current||!P.current)return;const V={placement:t,strategy:r,middleware:p};O.current&&(V.platform=O.current),Wce(I.current,P.current,V).then(Z=>{const J={...Z,isPositioned:M.current!==!1};B.current&&!Zj(F.current,J)&&(F.current=J,lv.flushSync(()=>{m(J)}))})},[p,t,r,O,M]);vj(()=>{d===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,m(V=>({...V,isPositioned:!1})))},[d]);const B=y.useRef(!1);vj(()=>(B.current=!0,()=>{B.current=!1}),[]),vj(()=>{if(E&&(I.current=E),C&&(P.current=C),E&&C){if(z.current)return z.current(E,C,R);R()}},[E,C,R,z,k]);const Y=y.useMemo(()=>({reference:I,floating:P,setReference:S,setFloating:A}),[S,A]),U=y.useMemo(()=>({reference:E,floating:C}),[E,C]),Q=y.useMemo(()=>{const V={position:r,left:0,top:0};if(!U.floating)return V;const Z=Z8(U.floating,h.x),J=Z8(U.floating,h.y);return l?{...V,transform:"translate("+Z+"px, "+J+"px)",...dU(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:J}},[r,l,U.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:R,refs:Y,elements:U,floatingStyles:Q}),[h,R,Y,U,Q])}const Yce=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?X8({element:n.current,padding:a}).fn(r):{}:n?X8({element:n,padding:a}).fn(r):{}}}},Kce=(e,t)=>({...Uce(e),options:[e,t]}),Qce=(e,t)=>({...$ce(e),options:[e,t]}),Xce=(e,t)=>({...Hce(e),options:[e,t]}),Zce=(e,t)=>({...Vce(e),options:[e,t]}),Jce=(e,t)=>({...qce(e),options:[e,t]}),ede=(e,t)=>({...zce(e),options:[e,t]}),tde=(e,t)=>({...Yce(e),options:[e,t]});var rde="Arrow",uU=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Rr.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});uU.displayName=rde;var sde=uU;function yS(e){const[t,r]=y.useState(void 0);return Zi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var rT="Popper",[hU,Pp]=eo(rT),[nde,fU]=hU(rT),mU=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return s.jsx(nde,{scope:t,anchor:n,onAnchorChange:a,children:r})};mU.displayName=rT;var pU="PopperAnchor",gU=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=fU(pU,r),o=y.useRef(null),l=_s(t,o);return y.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Rr.div,{...a,ref:l})});gU.displayName=pU;var sT="PopperContent",[ade,ide]=hU(sT),xU=y.forwardRef((e,t)=>{var te,ie,se,le,Ce,De;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...b}=e,v=fU(sT,r),[N,S]=y.useState(null),A=_s(t,Ze=>S(Ze)),[E,C]=y.useState(null),I=yS(E),P=(I==null?void 0:I.width)??0,F=(I==null?void 0:I.height)??0,k=n+(i!=="center"?"-"+i:""),z=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(d)?d:[d],M=O.length>0,R={padding:z,boundary:O.filter(lde),altBoundary:M},{refs:B,floatingStyles:Y,placement:U,isPositioned:Q,middlewareData:V}=Gce({strategy:"fixed",placement:k,whileElementsMounted:(...Ze)=>Bce(...Ze,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[Kce({mainAxis:a+F,alignmentAxis:o}),c&&Qce({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Xce():void 0,...R}),c&&Zce({...R}),Jce({...R,apply:({elements:Ze,rects:ke,availableWidth:ce,availableHeight:Me})=>{const{width:be,height:ge}=ke.reference,Ye=Ze.floating.style;Ye.setProperty("--radix-popper-available-width",`${ce}px`),Ye.setProperty("--radix-popper-available-height",`${Me}px`),Ye.setProperty("--radix-popper-anchor-width",`${be}px`),Ye.setProperty("--radix-popper-anchor-height",`${ge}px`)}}),E&&tde({element:E,padding:l}),cde({arrowWidth:P,arrowHeight:F}),p&&ede({strategy:"referenceHidden",...R})]}),[Z,J]=bU(U),ae=Di(w);Zi(()=>{Q&&(ae==null||ae())},[Q,ae]);const D=(te=V.arrow)==null?void 0:te.x,H=(ie=V.arrow)==null?void 0:ie.y,K=((se=V.arrow)==null?void 0:se.centerOffset)!==0,[W,re]=y.useState();return Zi(()=>{N&&re(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:Q?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(le=V.transformOrigin)==null?void 0:le.x,(Ce=V.transformOrigin)==null?void 0:Ce.y].join(" "),...((De=V.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(ade,{scope:r,placedSide:Z,onArrowChange:C,arrowX:D,arrowY:H,shouldHideArrow:K,children:s.jsx(Rr.div,{"data-side":Z,"data-align":J,...b,ref:A,style:{...b.style,animation:Q?void 0:"none"}})})})});xU.displayName=sT;var yU="PopperArrow",ode={top:"bottom",right:"left",bottom:"top",left:"right"},vU=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=ide(yU,n),o=ode[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(sde,{...a,ref:r,style:{...a.style,display:"block"}})})});vU.displayName=yU;function lde(e){return e!==null}var cde=e=>({name:"transformOrigin",options:e,fn(t){var v,N,S;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,h]=bU(r),m={start:"0%",center:"50%",end:"100%"}[h],p=(((N=a.arrow)==null?void 0:N.x)??0)+l/2,g=(((S=a.arrow)==null?void 0:S.y)??0)+c/2;let w="",b="";return d==="bottom"?(w=o?m:`${p}px`,b=`${-c}px`):d==="top"?(w=o?m:`${p}px`,b=`${n.floating.height+c}px`):d==="right"?(w=`${-c}px`,b=o?m:`${g}px`):d==="left"&&(w=`${n.floating.width+c}px`,b=o?m:`${g}px`),{data:{x:w,y:b}}}});function bU(e){const[t,r="center"]=e.split("-");return[t,r]}var vS=mU,M2=gU,bS=xU,wS=vU,dde="Portal",Sv=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=y.useState(!1);Zi(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?_k.createPortal(s.jsx(Rr.div,{...n,ref:t}),o):null});Sv.displayName=dde;function ude(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Ri=e=>{const{present:t,children:r}=e,n=hde(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=_s(n.ref,fde(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};Ri.displayName="Presence";function hde(e){const[t,r]=y.useState(),n=y.useRef({}),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ude(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=SN(n.current);i.current=l==="mounted"?d:"none"},[l]),Zi(()=>{const d=n.current,h=a.current;if(h!==e){const p=i.current,g=SN(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Zi(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,m=g=>{const b=SN(n.current).includes(g.animationName);if(g.target===t&&b&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=g=>{g.target===t&&(i.current=SN(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function SN(e){return(e==null?void 0:e.animationName)||"none"}function fde(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nE="rovingFocusGroup.onEntryFocus",mde={bubbles:!1,cancelable:!0},NS="RovingFocusGroup",[PC,wU,pde]=Yk(NS),[gde,Av]=eo(NS,[pde]),[xde,yde]=gde(NS),NU=y.forwardRef((e,t)=>s.jsx(PC.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(PC.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(vde,{...e,ref:t})})}));NU.displayName=NS;var vde=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=e,p=y.useRef(null),g=_s(t,p),w=bv(i),[b=null,v]=Bd({prop:o,defaultProp:l,onChange:c}),[N,S]=y.useState(!1),A=Di(d),E=wU(r),C=y.useRef(!1),[I,P]=y.useState(0);return y.useEffect(()=>{const F=p.current;if(F)return F.addEventListener(nE,A),()=>F.removeEventListener(nE,A)},[A]),s.jsx(xde,{scope:r,orientation:n,dir:w,loop:a,currentTabStopId:b,onItemFocus:y.useCallback(F=>v(F),[v]),onItemShiftTab:y.useCallback(()=>S(!0),[]),onFocusableItemAdd:y.useCallback(()=>P(F=>F+1),[]),onFocusableItemRemove:y.useCallback(()=>P(F=>F-1),[]),children:s.jsx(Rr.div,{tabIndex:N||I===0?-1:0,"data-orientation":n,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:wr(e.onMouseDown,()=>{C.current=!0}),onFocus:wr(e.onFocus,F=>{const k=!C.current;if(F.target===F.currentTarget&&k&&!N){const z=new CustomEvent(nE,mde);if(F.currentTarget.dispatchEvent(z),!z.defaultPrevented){const O=E().filter(U=>U.focusable),M=O.find(U=>U.active),R=O.find(U=>U.id===b),Y=[M,R,...O].filter(Boolean).map(U=>U.ref.current);AU(Y,h)}}C.current=!1}),onBlur:wr(e.onBlur,()=>S(!1))})})}),jU="RovingFocusGroupItem",SU=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...o}=e,l=Xi(),c=i||l,d=yde(jU,r),h=d.currentTabStopId===c,m=wU(r),{onFocusableItemAdd:p,onFocusableItemRemove:g}=d;return y.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),s.jsx(PC.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(Rr.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:wr(e.onMouseDown,w=>{n?d.onItemFocus(c):w.preventDefault()}),onFocus:wr(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:wr(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=Nde(w,d.orientation,d.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let N=m().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")N.reverse();else if(b==="prev"||b==="next"){b==="prev"&&N.reverse();const S=N.indexOf(w.currentTarget);N=d.loop?jde(N,S+1):N.slice(S+1)}setTimeout(()=>AU(N))}})})})});SU.displayName=jU;var bde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wde(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Nde(e,t,r){const n=wde(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return bde[n]}function AU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function jde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var nT=NU,aT=SU,EU=y.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.Children.toArray(r),i=a.find(Ade);if(i){const o=i.props.children,l=a.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return s.jsx(OC,{...n,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return s.jsx(OC,{...n,ref:t,children:r})});EU.displayName="Slot";var OC=y.forwardRef((e,t)=>{const{children:r,...n}=e;if(y.isValidElement(r)){const a=Cde(r),i=Ede(n,r.props);return r.type!==y.Fragment&&(i.ref=t?Ll(t,a):a),y.cloneElement(r,i)}return y.Children.count(r)>1?y.Children.only(null):null});OC.displayName="SlotClone";var Sde=({children:e})=>s.jsx(s.Fragment,{children:e});function Ade(e){return y.isValidElement(e)&&e.type===Sde}function Ede(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Cde(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var RC=["Enter"," "],_de=["ArrowDown","PageUp","Home"],CU=["ArrowUp","PageDown","End"],kde=[..._de,...CU],Tde={ltr:[...RC,"ArrowRight"],rtl:[...RC,"ArrowLeft"]},Dde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},F2="Menu",[Wb,Pde,Ode]=Yk(F2),[yg,_U]=eo(F2,[Ode,Pp,Av]),jS=Pp(),kU=Av(),[Rde,vg]=yg(F2),[Ide,B2]=yg(F2),TU=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=jS(t),[c,d]=y.useState(null),h=y.useRef(!1),m=Di(i),p=bv(a);return y.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(vS,{...l,children:s.jsx(Rde,{scope:t,open:r,onOpenChange:m,content:c,onContentChange:d,children:s.jsx(Ide,{scope:t,onClose:y.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:p,modal:o,children:n})})})};TU.displayName=F2;var Lde="MenuAnchor",iT=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=jS(r);return s.jsx(M2,{...a,...n,ref:t})});iT.displayName=Lde;var oT="MenuPortal",[Mde,DU]=yg(oT,{forceMount:void 0}),PU=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=vg(oT,t);return s.jsx(Mde,{scope:t,forceMount:r,children:s.jsx(Ri,{present:r||i.open,children:s.jsx(Sv,{asChild:!0,container:a,children:n})})})};PU.displayName=oT;var Id="MenuContent",[Fde,lT]=yg(Id),OU=y.forwardRef((e,t)=>{const r=DU(Id,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=vg(Id,e.__scopeMenu),o=B2(Id,e.__scopeMenu);return s.jsx(Wb.Provider,{scope:e.__scopeMenu,children:s.jsx(Ri,{present:n||i.open,children:s.jsx(Wb.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Bde,{...a,ref:t}):s.jsx(Ude,{...a,ref:t})})})})}),Bde=y.forwardRef((e,t)=>{const r=vg(Id,e.__scopeMenu),n=y.useRef(null),a=_s(t,n);return y.useEffect(()=>{const i=n.current;if(i)return k2(i)},[]),s.jsx(cT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:wr(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Ude=y.forwardRef((e,t)=>{const r=vg(Id,e.__scopeMenu);return s.jsx(cT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),cT=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...b}=e,v=vg(Id,r),N=B2(Id,r),S=jS(r),A=kU(r),E=Pde(r),[C,I]=y.useState(null),P=y.useRef(null),F=_s(t,P,v.onContentChange),k=y.useRef(0),z=y.useRef(""),O=y.useRef(0),M=y.useRef(null),R=y.useRef("right"),B=y.useRef(0),Y=w?fv:y.Fragment,U=w?{as:EU,allowPinchZoom:!0}:void 0,Q=Z=>{var te,ie;const J=z.current+Z,ae=E().filter(se=>!se.disabled),D=document.activeElement,H=(te=ae.find(se=>se.ref.current===D))==null?void 0:te.textValue,K=ae.map(se=>se.textValue),W=Zde(K,J,H),re=(ie=ae.find(se=>se.textValue===W))==null?void 0:ie.ref.current;(function se(le){z.current=le,window.clearTimeout(k.current),le!==""&&(k.current=window.setTimeout(()=>se(""),1e3))})(J),re&&setTimeout(()=>re.focus())};y.useEffect(()=>()=>window.clearTimeout(k.current),[]),mS();const V=y.useCallback(Z=>{var ae,D;return R.current===((ae=M.current)==null?void 0:ae.side)&&eue(Z,(D=M.current)==null?void 0:D.area)},[]);return s.jsx(Fde,{scope:r,searchRef:z,onItemEnter:y.useCallback(Z=>{V(Z)&&Z.preventDefault()},[V]),onItemLeave:y.useCallback(Z=>{var J;V(Z)||((J=P.current)==null||J.focus(),I(null))},[V]),onTriggerLeave:y.useCallback(Z=>{V(Z)&&Z.preventDefault()},[V]),pointerGraceTimerRef:O,onPointerGraceIntentChange:y.useCallback(Z=>{M.current=Z},[]),children:s.jsx(Y,{...U,children:s.jsx(I2,{asChild:!0,trapped:a,onMountAutoFocus:wr(i,Z=>{var J;Z.preventDefault(),(J=P.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(wv,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:g,children:s.jsx(nT,{asChild:!0,...A,dir:N.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:I,onEntryFocus:wr(c,Z=>{N.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(bS,{role:"menu","aria-orientation":"vertical","data-state":KU(v.open),"data-radix-menu-content":"",dir:N.dir,...S,...b,ref:F,style:{outline:"none",...b.style},onKeyDown:wr(b.onKeyDown,Z=>{const ae=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,D=Z.ctrlKey||Z.altKey||Z.metaKey,H=Z.key.length===1;ae&&(Z.key==="Tab"&&Z.preventDefault(),!D&&H&&Q(Z.key));const K=P.current;if(Z.target!==K||!kde.includes(Z.key))return;Z.preventDefault();const re=E().filter(te=>!te.disabled).map(te=>te.ref.current);CU.includes(Z.key)&&re.reverse(),Qde(re)}),onBlur:wr(e.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(k.current),z.current="")}),onPointerMove:wr(e.onPointerMove,Gb(Z=>{const J=Z.target,ae=B.current!==Z.clientX;if(Z.currentTarget.contains(J)&&ae){const D=Z.clientX>B.current?"right":"left";R.current=D,B.current=Z.clientX}}))})})})})})})});OU.displayName=Id;var $de="MenuGroup",dT=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Rr.div,{role:"group",...n,ref:t})});dT.displayName=$de;var Vde="MenuLabel",RU=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Rr.div,{...n,ref:t})});RU.displayName=Vde;var Jj="MenuItem",J8="menu.itemSelect",SS=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=y.useRef(null),o=B2(Jj,e.__scopeMenu),l=lT(Jj,e.__scopeMenu),c=_s(t,i),d=y.useRef(!1),h=()=>{const m=i.current;if(!r&&m){const p=new CustomEvent(J8,{bubbles:!0,cancelable:!0});m.addEventListener(J8,g=>n==null?void 0:n(g),{once:!0}),jB(m,p),p.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(IU,{...a,ref:c,disabled:r,onClick:wr(e.onClick,h),onPointerDown:m=>{var p;(p=e.onPointerDown)==null||p.call(e,m),d.current=!0},onPointerUp:wr(e.onPointerUp,m=>{var p;d.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:wr(e.onKeyDown,m=>{const p=l.searchRef.current!=="";r||p&&m.key===" "||RC.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});SS.displayName=Jj;var IU=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=lT(Jj,r),l=kU(r),c=y.useRef(null),d=_s(t,c),[h,m]=y.useState(!1),[p,g]=y.useState("");return y.useEffect(()=>{const w=c.current;w&&g((w.textContent??"").trim())},[i.children]),s.jsx(Wb.ItemSlot,{scope:r,disabled:n,textValue:a??p,children:s.jsx(aT,{asChild:!0,...l,focusable:!n,children:s.jsx(Rr.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:wr(e.onPointerMove,Gb(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:wr(e.onPointerLeave,Gb(w=>o.onItemLeave(w))),onFocus:wr(e.onFocus,()=>m(!0)),onBlur:wr(e.onBlur,()=>m(!1))})})})}),qde="MenuCheckboxItem",LU=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx($U,{scope:e.__scopeMenu,checked:r,children:s.jsx(SS,{role:"menuitemcheckbox","aria-checked":e5(r)?"mixed":r,...a,ref:t,"data-state":hT(r),onSelect:wr(a.onSelect,()=>n==null?void 0:n(e5(r)?!0:!r),{checkForDefaultPrevented:!1})})})});LU.displayName=qde;var MU="MenuRadioGroup",[zde,Hde]=yg(MU,{value:void 0,onValueChange:()=>{}}),FU=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Di(n);return s.jsx(zde,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(dT,{...a,ref:t})})});FU.displayName=MU;var BU="MenuRadioItem",UU=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=Hde(BU,e.__scopeMenu),i=r===a.value;return s.jsx($U,{scope:e.__scopeMenu,checked:i,children:s.jsx(SS,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":hT(i),onSelect:wr(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});UU.displayName=BU;var uT="MenuItemIndicator",[$U,Wde]=yg(uT,{checked:!1}),VU=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Wde(uT,r);return s.jsx(Ri,{present:n||e5(i.checked)||i.checked===!0,children:s.jsx(Rr.span,{...a,ref:t,"data-state":hT(i.checked)})})});VU.displayName=uT;var Gde="MenuSeparator",qU=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Rr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});qU.displayName=Gde;var Yde="MenuArrow",zU=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=jS(r);return s.jsx(wS,{...a,...n,ref:t})});zU.displayName=Yde;var Kde="MenuSub",[H7e,HU]=yg(Kde),Q1="MenuSubTrigger",WU=y.forwardRef((e,t)=>{const r=vg(Q1,e.__scopeMenu),n=B2(Q1,e.__scopeMenu),a=HU(Q1,e.__scopeMenu),i=lT(Q1,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},h=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>h,[h]),y.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(iT,{asChild:!0,...d,children:s.jsx(IU,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":KU(r.open),...e,ref:Ll(t,a.onTriggerChange),onClick:m=>{var p;(p=e.onClick)==null||p.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:wr(e.onPointerMove,Gb(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:wr(e.onPointerLeave,Gb(m=>{var g,w;h();const p=(g=r.content)==null?void 0:g.getBoundingClientRect();if(p){const b=(w=r.content)==null?void 0:w.dataset.side,v=b==="right",N=v?-5:5,S=p[v?"left":"right"],A=p[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+N,y:m.clientY},{x:S,y:p.top},{x:A,y:p.top},{x:A,y:p.bottom},{x:S,y:p.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:wr(e.onKeyDown,m=>{var g;const p=i.searchRef.current!=="";e.disabled||p&&m.key===" "||Tde[n.dir].includes(m.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),m.preventDefault())})})})});WU.displayName=Q1;var GU="MenuSubContent",YU=y.forwardRef((e,t)=>{const r=DU(Id,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=vg(Id,e.__scopeMenu),o=B2(Id,e.__scopeMenu),l=HU(GU,e.__scopeMenu),c=y.useRef(null),d=_s(t,c);return s.jsx(Wb.Provider,{scope:e.__scopeMenu,children:s.jsx(Ri,{present:n||i.open,children:s.jsx(Wb.Slot,{scope:e.__scopeMenu,children:s.jsx(cT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:wr(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:wr(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:wr(e.onKeyDown,h=>{var g;const m=h.currentTarget.contains(h.target),p=Dde[o.dir].includes(h.key);m&&p&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});YU.displayName=GU;function KU(e){return e?"open":"closed"}function e5(e){return e==="indeterminate"}function hT(e){return e5(e)?"indeterminate":e?"checked":"unchecked"}function Qde(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Xde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Zde(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Xde(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Jde(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,h=t[o].y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(a=!a)}return a}function eue(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Jde(r,t)}function Gb(e){return t=>t.pointerType==="mouse"?e(t):void 0}var tue=TU,rue=iT,sue=PU,nue=OU,aue=dT,iue=RU,oue=SS,lue=LU,cue=FU,due=UU,uue=VU,hue=qU,fue=zU,mue=WU,pue=YU,fT="DropdownMenu",[gue,W7e]=eo(fT,[_U]),Ml=_U(),[xue,QU]=gue(fT),XU=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ml(t),d=y.useRef(null),[h=!1,m]=Bd({prop:a,defaultProp:i,onChange:o});return s.jsx(xue,{scope:t,triggerId:Xi(),triggerRef:d,contentId:Xi(),open:h,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(p=>!p),[m]),modal:l,children:s.jsx(tue,{...c,open:h,onOpenChange:m,dir:n,modal:l,children:r})})};XU.displayName=fT;var ZU="DropdownMenuTrigger",JU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=QU(ZU,r),o=Ml(r);return s.jsx(rue,{asChild:!0,...o,children:s.jsx(Rr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ll(t,i.triggerRef),onPointerDown:wr(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:wr(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});JU.displayName=ZU;var yue="DropdownMenuPortal",e$=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ml(t);return s.jsx(sue,{...n,...r})};e$.displayName=yue;var t$="DropdownMenuContent",r$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=QU(t$,r),i=Ml(r),o=y.useRef(!1);return s.jsx(nue,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:wr(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:wr(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!a.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});r$.displayName=t$;var vue="DropdownMenuGroup",s$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ml(r);return s.jsx(aue,{...a,...n,ref:t})});s$.displayName=vue;var bue="DropdownMenuLabel",n$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ml(r);return s.jsx(iue,{...a,...n,ref:t})});n$.displayName=bue;var wue="DropdownMenuItem",a$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ml(r);return s.jsx(oue,{...a,...n,ref:t})});a$.displayName=wue;var Nue="DropdownMenuCheckboxItem",jue=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ml(r);return s.jsx(lue,{...a,...n,ref:t})});jue.displayName=Nue;var Sue="DropdownMenuRadioGroup",Aue=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ml(r);return s.jsx(cue,{...a,...n,ref:t})});Aue.displayName=Sue;var Eue="DropdownMenuRadioItem",Cue=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ml(r);return s.jsx(due,{...a,...n,ref:t})});Cue.displayName=Eue;var _ue="DropdownMenuItemIndicator",kue=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ml(r);return s.jsx(uue,{...a,...n,ref:t})});kue.displayName=_ue;var Tue="DropdownMenuSeparator",i$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ml(r);return s.jsx(hue,{...a,...n,ref:t})});i$.displayName=Tue;var Due="DropdownMenuArrow",Pue=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ml(r);return s.jsx(fue,{...a,...n,ref:t})});Pue.displayName=Due;var Oue="DropdownMenuSubTrigger",Rue=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ml(r);return s.jsx(mue,{...a,...n,ref:t})});Rue.displayName=Oue;var Iue="DropdownMenuSubContent",Lue=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ml(r);return s.jsx(pue,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Lue.displayName=Iue;var Mue=XU,Fue=JU,Bue=e$,Uue=r$,$ue=s$,Vue=n$,que=a$,zue=i$;function bg({...e}){return s.jsx(Mue,{"data-slot":"dropdown-menu",...e})}function wg({...e}){return s.jsx(Fue,{"data-slot":"dropdown-menu-trigger",...e})}function Ng({className:e,sideOffset:t=4,...r}){return s.jsx(Bue,{children:s.jsx(Uue,{"data-slot":"dropdown-menu-content",sideOffset:t,className:jt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function AS({...e}){return s.jsx($ue,{"data-slot":"dropdown-menu-group",...e})}function Ka({className:e,inset:t,variant:r="default",...n}){return s.jsx(que,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:jt("focus:bg-accent focus:text-gray-700-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function o$({className:e,inset:t,...r}){return s.jsx(Vue,{"data-slot":"dropdown-menu-label","data-inset":t,className:jt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function IC({className:e,...t}){return s.jsx(zue,{"data-slot":"dropdown-menu-separator",className:jt("bg-border -mx-1 my-1 h-px",e),...t})}var mT="Avatar",[Hue,G7e]=eo(mT),[Wue,l$]=Hue(mT),c$=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=y.useState("idle");return s.jsx(Wue,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Rr.span,{...n,ref:t})})});c$.displayName=mT;var d$="AvatarImage",u$=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=l$(d$,r),l=Gue(n,i.referrerPolicy),c=Di(d=>{a(d),o.onImageLoadingStatusChange(d)});return Zi(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Rr.img,{...i,ref:t,src:n}):null});u$.displayName=d$;var h$="AvatarFallback",f$=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=l$(h$,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Rr.span,{...a,ref:t}):null});f$.displayName=h$;function Gue(e,t){const[r,n]=y.useState("idle");return Zi(()=>{if(!e){n("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var Yue=c$,Kue=u$,Que=f$;function eR({className:e,...t}){return s.jsx(Yue,{"data-slot":"avatar",className:jt("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function tR({className:e,...t}){return s.jsx(Kue,{"data-slot":"avatar-image",className:jt("aspect-square size-full",e),...t})}function rR({className:e,...t}){return s.jsx(Que,{"data-slot":"avatar-fallback",className:jt("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const aE=768;function Xue(){const[e,t]=y.useState(void 0);return y.useEffect(()=>{const r=window.matchMedia(`(max-width: ${aE-1}px)`),n=()=>{t(window.innerWidth<aE)};return r.addEventListener("change",n),t(window.innerWidth<aE),()=>r.removeEventListener("change",n)},[]),!!e}var Zue="Separator",sR="horizontal",Jue=["horizontal","vertical"],m$=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=sR,...a}=e,i=ehe(n)?n:sR,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Rr.div,{"data-orientation":i,...l,...a,ref:t})});m$.displayName=Zue;function ehe(e){return Jue.includes(e)}var the=m$;function ES({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return s.jsx(the,{"data-slot":"separator-root",decorative:r,orientation:t,className:jt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function p$({...e}){return s.jsx(sS,{"data-slot":"sheet",...e})}function rhe({...e}){return s.jsx(nS,{"data-slot":"sheet-portal",...e})}function she({className:e,...t}){return s.jsx(T2,{"data-slot":"sheet-overlay",className:jt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function g$({className:e,children:t,side:r="right",...n}){return s.jsxs(rhe,{children:[s.jsx(she,{}),s.jsxs(D2,{"data-slot":"sheet-content",className:jt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,s.jsxs(oS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(ul,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function x$({className:e,...t}){return s.jsx("div",{"data-slot":"sheet-header",className:jt("flex flex-col gap-1.5 p-4",e),...t})}function y$({className:e,...t}){return s.jsx(aS,{"data-slot":"sheet-title",className:jt("text-foreground font-semibold",e),...t})}function v$({className:e,...t}){return s.jsx(iS,{"data-slot":"sheet-description",className:jt("text-muted-foreground text-sm",e),...t})}function vr({className:e,...t}){return s.jsx("div",{"data-slot":"skeleton",className:jt("bg-accent animate-pulse rounded-md",e),...t})}var nhe=y.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.Children.toArray(r),i=a.find(ahe);if(i){const o=i.props.children,l=a.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return s.jsx(LC,{...n,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return s.jsx(LC,{...n,ref:t,children:r})});nhe.displayName="Slot";var LC=y.forwardRef((e,t)=>{const{children:r,...n}=e;if(y.isValidElement(r)){const a=ohe(r),i=ihe(n,r.props);return r.type!==y.Fragment&&(i.ref=t?Ll(t,a):a),y.cloneElement(r,i)}return y.Children.count(r)>1?y.Children.only(null):null});LC.displayName="SlotClone";var b$=({children:e})=>s.jsx(s.Fragment,{children:e});function ahe(e){return y.isValidElement(e)&&e.type===b$}function ihe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function ohe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lhe="VisuallyHidden",pT=y.forwardRef((e,t)=>s.jsx(Rr.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));pT.displayName=lhe;var che=pT,[CS,Y7e]=eo("Tooltip",[Pp]),_S=Pp(),w$="TooltipProvider",dhe=700,MC="tooltip.open",[uhe,gT]=CS(w$),N$=e=>{const{__scopeTooltip:t,delayDuration:r=dhe,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=y.useState(!0),c=y.useRef(!1),d=y.useRef(0);return y.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),s.jsx(uhe,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(h=>{c.current=h},[]),disableHoverableContent:a,children:i})};N$.displayName=w$;var kS="Tooltip",[hhe,U2]=CS(kS),j$=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=gT(kS,e.__scopeTooltip),d=_S(t),[h,m]=y.useState(null),p=Xi(),g=y.useRef(0),w=o??c.disableHoverableContent,b=l??c.delayDuration,v=y.useRef(!1),[N=!1,S]=Bd({prop:n,defaultProp:a,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(MC))):c.onClose(),i==null||i(P)}}),A=y.useMemo(()=>N?v.current?"delayed-open":"instant-open":"closed",[N]),E=y.useCallback(()=>{window.clearTimeout(g.current),g.current=0,v.current=!1,S(!0)},[S]),C=y.useCallback(()=>{window.clearTimeout(g.current),g.current=0,S(!1)},[S]),I=y.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{v.current=!0,S(!0),g.current=0},b)},[b,S]);return y.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),s.jsx(vS,{...d,children:s.jsx(hhe,{scope:t,contentId:p,open:N,stateAttribute:A,trigger:h,onTriggerChange:m,onTriggerEnter:y.useCallback(()=>{c.isOpenDelayed?I():E()},[c.isOpenDelayed,I,E]),onTriggerLeave:y.useCallback(()=>{w?C():(window.clearTimeout(g.current),g.current=0)},[C,w]),onOpen:E,onClose:C,disableHoverableContent:w,children:r})})};j$.displayName=kS;var FC="TooltipTrigger",S$=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=U2(FC,r),i=gT(FC,r),o=_S(r),l=y.useRef(null),c=_s(t,l,a.onTriggerChange),d=y.useRef(!1),h=y.useRef(!1),m=y.useCallback(()=>d.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(M2,{asChild:!0,...o,children:s.jsx(Rr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:wr(e.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:wr(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:wr(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:wr(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:wr(e.onBlur,a.onClose),onClick:wr(e.onClick,a.onClose)})})});S$.displayName=FC;var xT="TooltipPortal",[fhe,mhe]=CS(xT,{forceMount:void 0}),A$=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:a}=e,i=U2(xT,t);return s.jsx(fhe,{scope:t,forceMount:r,children:s.jsx(Ri,{present:r||i.open,children:s.jsx(Sv,{asChild:!0,container:a,children:n})})})};A$.displayName=xT;var zy="TooltipContent",E$=y.forwardRef((e,t)=>{const r=mhe(zy,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=U2(zy,e.__scopeTooltip);return s.jsx(Ri,{present:n||o.open,children:o.disableHoverableContent?s.jsx(C$,{side:a,...i,ref:t}):s.jsx(phe,{side:a,...i,ref:t})})}),phe=y.forwardRef((e,t)=>{const r=U2(zy,e.__scopeTooltip),n=gT(zy,e.__scopeTooltip),a=y.useRef(null),i=_s(t,a),[o,l]=y.useState(null),{trigger:c,onClose:d}=r,h=a.current,{onPointerInTransitChange:m}=n,p=y.useCallback(()=>{l(null),m(!1)},[m]),g=y.useCallback((w,b)=>{const v=w.currentTarget,N={x:w.clientX,y:w.clientY},S=yhe(N,v.getBoundingClientRect()),A=vhe(N,S),E=bhe(b.getBoundingClientRect()),C=Nhe([...A,...E]);l(C),m(!0)},[m]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(c&&h){const w=v=>g(v,h),b=v=>g(v,c);return c.addEventListener("pointerleave",w),h.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",b)}}},[c,h,g,p]),y.useEffect(()=>{if(o){const w=b=>{const v=b.target,N={x:b.clientX,y:b.clientY},S=(c==null?void 0:c.contains(v))||(h==null?void 0:h.contains(v)),A=!whe(N,o);S?p():A&&(p(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,h,o,d,p]),s.jsx(C$,{...e,ref:i})}),[ghe,xhe]=CS(kS,{isInside:!1}),C$=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=U2(zy,r),d=_S(r),{onClose:h}=c;return y.useEffect(()=>(document.addEventListener(MC,h),()=>document.removeEventListener(MC,h)),[h]),y.useEffect(()=>{if(c.trigger){const m=p=>{const g=p.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,h]),s.jsx(wv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:s.jsxs(bS,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(b$,{children:n}),s.jsx(ghe,{scope:r,isInside:!0,children:s.jsx(che,{id:c.contentId,role:"tooltip",children:a||n})})]})})});E$.displayName=zy;var _$="TooltipArrow",k$=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=_S(r);return xhe(_$,r).isInside?null:s.jsx(wS,{...a,...n,ref:t})});k$.displayName=_$;function yhe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function vhe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function bhe(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function whe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,h=t[o].y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(a=!a)}return a}function Nhe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),jhe(t)}function jhe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var She=N$,Ahe=j$,Ehe=S$,Che=A$,_he=E$,khe=k$;function Yb({delayDuration:e=0,...t}){return s.jsx(She,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Wx({...e}){return s.jsx(Yb,{children:s.jsx(Ahe,{"data-slot":"tooltip",...e})})}function Gx({...e}){return s.jsx(Ehe,{"data-slot":"tooltip-trigger",...e})}function Yx({className:e,sideOffset:t=0,children:r,...n}){return s.jsx(Che,{children:s.jsxs(_he,{"data-slot":"tooltip-content",sideOffset:t,className:jt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...n,children:[r,s.jsx(khe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const The="sidebar_state",Dhe=60*60*24*7,Phe="16rem",Ohe="18rem",Rhe="3rem",Ihe="b",T$=y.createContext(null);function Ev(){const e=y.useContext(T$);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function Lhe({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o}){const l=Xue(),[c,d]=y.useState(!1),[h,m]=y.useState(e),p=t??h,g=y.useCallback(N=>{const S=typeof N=="function"?N(p):N;r?r(S):m(S),document.cookie=`${The}=${S}; path=/; max-age=${Dhe}`},[r,p]),w=y.useCallback(()=>l?d(N=>!N):g(N=>!N),[l,g,d]);y.useEffect(()=>{const N=S=>{S.key===Ihe&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),w())};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[w]);const b=p?"expanded":"collapsed",v=y.useMemo(()=>({state:b,open:p,setOpen:g,isMobile:l,openMobile:c,setOpenMobile:d,toggleSidebar:w}),[b,p,g,l,c,d,w]);return s.jsx(T$.Provider,{value:v,children:s.jsx(Yb,{delayDuration:0,children:s.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Phe,"--sidebar-width-icon":Rhe,...a},className:jt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...o,children:i})})})}function Mhe({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i}){const{isMobile:o,state:l,openMobile:c,setOpenMobile:d}=Ev();return r==="none"?s.jsx("div",{"data-slot":"sidebar",className:jt("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...i,children:a}):o?s.jsx(p$,{open:c,onOpenChange:d,...i,children:s.jsxs(g$,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Ohe},side:e,children:[s.jsxs(x$,{className:"sr-only",children:[s.jsx(y$,{children:"Sidebar"}),s.jsx(v$,{children:"Displays the mobile sidebar."})]}),s.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):s.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[s.jsx("div",{"data-slot":"sidebar-gap",className:jt("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),s.jsx("div",{"data-slot":"sidebar-container",className:jt("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function Fhe({className:e,onClick:t,...r}){const{toggleSidebar:n}=Ev();return s.jsxs(Ee,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:jt("size-7",e),onClick:a=>{t==null||t(a),n()},...r,children:[s.jsx(Nre,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function Bhe({className:e,...t}){const{toggleSidebar:r}=Ev();return s.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:jt("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})}function Uhe({className:e,...t}){return s.jsx("main",{"data-slot":"sidebar-inset",className:jt("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function $he({className:e,...t}){return s.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:jt("flex flex-col gap-2 p-2",e),...t})}function Vhe({className:e,...t}){return s.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:jt("flex flex-col gap-2 p-2",e),...t})}function qhe({className:e,...t}){return s.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:jt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function D$({className:e,...t}){return s.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:jt("flex w-full min-w-0 flex-col gap-1",e),...t})}function P$({className:e,...t}){return s.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:jt("group/menu-item relative",e),...t})}const zhe=P2("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function O$({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o}){const l=e?J5:"button",{isMobile:c,state:d}=Ev(),h=s.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":t,className:jt(zhe({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(Wx,{children:[s.jsx(Gx,{asChild:!0,children:h}),s.jsx(Yx,{side:"right",align:"center",hidden:d!=="collapsed"||c,...a})]})):h}function Hhe({user:e}){const{isMobile:t}=Ev(),r=Ls(),n=Ja(),[a,i]=y.useState(!1),[o,l]=y.useState(!1),c=()=>{n.clear(),KB(),i(!1),r("/")};return s.jsxs(s.Fragment,{children:[s.jsx(D$,{children:s.jsx(P$,{children:s.jsxs(bg,{modal:!1,children:[s.jsx(wg,{asChild:!0,children:s.jsxs(O$,{size:"lg",className:"hover:bg-white/10 data-[state=open]:bg-white data-[state=open]:hover:bg-white cursor-pointer transition-colors group",children:[s.jsxs(eR,{className:"h-8 w-8 rounded-lg",children:[s.jsx(tR,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),s.jsx(rR,{className:"rounded-lg",children:e==null?void 0:e.avatarName})]}),s.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[s.jsx("span",{className:"truncate font-semibold text-white group-data-[state=open]:text-[#1d398d]",children:e==null?void 0:e.name}),s.jsx("span",{className:"truncate text-xs text-white group-data-[state=open]:text-[#1d398d]/70",children:e==null?void 0:e.email})]}),s.jsx(E2,{className:"ml-auto size-4 text-blue-200 group-data-[state=open]:text-[#1d398d]"})]})}),s.jsxs(Ng,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[s.jsx(o$,{className:"p-0 font-normal",children:s.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[s.jsxs(eR,{className:"h-8 w-8 rounded-lg",children:[s.jsx(tR,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),s.jsx(rR,{className:"rounded-lg",children:e==null?void 0:e.avatarName})]}),s.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[s.jsx("span",{className:"truncate font-semibold",children:e==null?void 0:e.name}),s.jsx("span",{className:"truncate text-xs",children:e==null?void 0:e.email})]})]})}),s.jsx(IC,{}),s.jsxs(Ka,{onSelect:d=>{d.preventDefault(),l(!0)},className:"cursor-pointer",children:[s.jsx(ere,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Change Password"})]}),s.jsx(IC,{}),s.jsxs(Ka,{onSelect:d=>{d.preventDefault(),console.log("[nav-user.tsx] Logout DropdownMenuItem clicked. Setting showConfirmation to true."),i(!0)},className:"cursor-pointer text-destructive",children:[s.jsx(oC,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Log out"})]})]})]})})}),s.jsx(XB,{isOpen:o,onClose:()=>l(!1)}),s.jsx(vv,{isOpen:a,title:"Confirm Logout",description:"Are you sure you want to log out? You will need to login again to access your account.",cancelLabel:"Cancel",confirmLabel:"Log out",onCancel:()=>i(!1),onConfirm:c})]})}var yT="Collapsible",[Whe,K7e]=eo(yT),[Ghe,vT]=Whe(yT),R$=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=Bd({prop:n,defaultProp:a,onChange:o});return s.jsx(Ghe,{scope:r,disabled:i,contentId:Xi(),open:c,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),children:s.jsx(Rr.div,{"data-state":wT(c),"data-disabled":i?"":void 0,...l,ref:t})})});R$.displayName=yT;var I$="CollapsibleTrigger",L$=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=vT(I$,r);return s.jsx(Rr.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":wT(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:wr(e.onClick,a.onOpenToggle)})});L$.displayName=I$;var bT="CollapsibleContent",M$=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=vT(bT,e.__scopeCollapsible);return s.jsx(Ri,{present:r||a.open,children:({present:i})=>s.jsx(Yhe,{...n,ref:t,present:i})})});M$.displayName=bT;var Yhe=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=vT(bT,r),[l,c]=y.useState(n),d=y.useRef(null),h=_s(t,d),m=y.useRef(0),p=m.current,g=y.useRef(0),w=g.current,b=o.open||l,v=y.useRef(b),N=y.useRef(void 0);return y.useEffect(()=>{const S=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(S)},[]),Zi(()=>{const S=d.current;if(S){N.current=N.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const A=S.getBoundingClientRect();m.current=A.height,g.current=A.width,v.current||(S.style.transitionDuration=N.current.transitionDuration,S.style.animationName=N.current.animationName),c(n)}},[o.open,n]),s.jsx(Rr.div,{"data-state":wT(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...i,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:b&&a})});function wT(e){return e?"open":"closed"}var Khe=R$;function BC({...e}){return s.jsx(Khe,{"data-slot":"collapsible",...e})}function UC({...e}){return s.jsx(L$,{"data-slot":"collapsible-trigger",...e})}function $C({...e}){return s.jsx(M$,{"data-slot":"collapsible-content",...e})}const Im={obNavigation:[{title:"Office Bearers",url:"#",icon:JO,isActive:!1,items:[{title:"Chapter Performance",url:"/chapter-performance"},{title:"Customer",url:"/members"},{title:"Visitors",url:"/chapter-visitors"},{title:"Meetings",url:"/chaptermeetings"}]}],roles:{super_admin:{projects:[{title:"Unit Conversion",url:"/admin/unit-conversion",icon:KO,groupLabel:"Master"},{title:"Transfers",url:"/admin/transfers",icon:ia,groupLabel:"Master"},{title:"Purchases",url:"/admin/purchases",icon:ia,groupLabel:"Master"},{title:"Depot Varients",url:"/admin/depot-variants",icon:ia,groupLabel:"Master"},{title:"Wastage",url:"/admin/wastages",icon:ia,groupLabel:"Master"},{title:"Areas",url:"/admin/areamasters",icon:ia,groupLabel:"Master"},{title:"Depots",url:"/admin/depots",icon:ia,groupLabel:"Master"},{title:"Farmers",url:"/admin/vendors",icon:qm,groupLabel:"Master"},{title:"Banners",url:"/admin/banners",icon:QO,groupLabel:"Master"},{title:"Purchase Payments",url:"/admin/purchase-payments",icon:ia,groupLabel:"Master"},{title:"Categories",url:"/admin/categories",icon:ia,groupLabel:"Products"},{title:"Cities",url:"/admin/cities",icon:ia,groupLabel:"Master"},{title:"Locations",url:"/admin/locations",icon:ia,groupLabel:"Master"},{title:"Products",url:"/admin/products",icon:qm,groupLabel:"Products"},{title:"Delivery Agencies",url:"/admin/agencies",icon:qm,groupLabel:"Indraai"},{title:"Supervisors",url:"/admin/supervisors",icon:JO,groupLabel:"Indraai"},{title:"Orders",url:"/admin/orders",icon:qm,groupLabel:"Indraai"},{title:"SNF Orders",url:"/admin/snf-orders",icon:ia,groupLabel:"Indraai"},{title:"Subscriptions",url:"/admin/subscriptions",icon:qm,groupLabel:"Indraai"},{title:"Delivery",url:"/admin/delivery",icon:ia,groupLabel:"Indraai"},{title:"Customer",url:"/admin/members",icon:qm,groupLabel:"Member"},{title:"Purchase Order Report",url:"/admin/reports/purchase-orders",icon:Oo,groupLabel:"Reports"},{title:"SNF Order Summaries Report",url:"/admin/reports/delivery-date-orders",icon:Oo,groupLabel:"Reports"},{title:"Delivery Labeling Report",url:"/admin/reports/delivery-labeling",icon:Oo,groupLabel:"Reports"},{title:"Delivery Agency Report",url:"/admin/reports/delivery-agencies",icon:Oo,groupLabel:"Reports"},{title:"Delivery Summaries",url:"/admin/reports/delivery-summaries",icon:Oo,groupLabel:"Reports"},{title:"Subscription Reports",url:"/admin/reports/subscriptions",icon:Oo,groupLabel:"Reports"},{title:"Purchase Report",url:"/admin/reports/purchases",icon:Oo,groupLabel:"Reports"},{title:"SNF Orders Report",url:"/admin/reports/snf-orders",icon:Oo,groupLabel:"Reports"}],navMain:[]},admin:{projects:[{title:"Master",url:"#",icon:Vre,groupLabel:"Master",isActive:!1,items:[{title:"Farmer",url:"/admin/vendors",icon:qm}]},{title:"Reports",url:"#",icon:Oo,groupLabel:"Reports",isActive:!1,items:[{title:"Purchase Order Report",url:"/admin/reports/purchase-orders"},{title:"Purchase Report",url:"/admin/reports/purchases"},{title:"Delivery Summaries",url:"/admin/reports/delivery-summaries"},{title:"SNF Orders Report",url:"/admin/reports/snf-orders"}]}],navMain:[]},member:{projects:[{title:"References",url:"/references",icon:FA,groupLabel:"References",isActive:!1,items:[]},{title:"Done Deals",url:"/member/done-deal",icon:ia,groupLabel:"Done Deals",isActive:!1,items:[]},{title:"One To Ones",url:"/member/one-to-ones",groupLabel:"One To Ones",icon:FA,isActive:!1,items:[]},{title:"Requirements",url:"/member/requirements",icon:FA,groupLabel:"Requirements",isActive:!1,items:[{title:"Requirements",url:"/member/requirements"},{title:"View Requirements",url:"/member/viewrequirements"}]}],navMain:[]},VENDOR:{projects:[{title:"Orders",url:"/admin/orders",icon:ia,groupLabel:"Farmer Portal"},{title:"Purchase Order Report",url:"/vendor/reports/purchase-orders",icon:Oo,groupLabel:"Reports"}],navMain:[]},DepotAdmin:{projects:[{title:"Unit Conversion",url:"/admin/unit-conversion",icon:KO,groupLabel:"Depot"},{title:"Purchases",url:"/admin/purchases",icon:ia,groupLabel:"Depot"},{title:"Wastage",url:"/admin/wastages",icon:ia,groupLabel:"Depot"},{title:"Depot Variants",url:"/admin/depot-variants",icon:ia,groupLabel:"Depot"},{title:"Transfers",url:"/admin/transfers",icon:ia,groupLabel:"Depot"},{title:"SNF Order Summaries Report",url:"/admin/reports/delivery-date-orders",icon:Oo,groupLabel:"Reports"},{title:"Delivery Labeling Report",url:"/admin/reports/delivery-labeling",icon:Oo,groupLabel:"Reports"},{title:"Purchase Report",url:"/admin/reports/purchases",icon:Oo,groupLabel:"Reports"}],navMain:[]},AGENCY:{projects:[{title:"Orders",url:"/admin/orders",icon:ia,groupLabel:"Agency Portal"},{title:"Delivery",url:"/admin/delivery",icon:ia,groupLabel:"Agency Portal"},{title:"Delivery Agency Report",url:"/admin/reports/delivery-agencies",icon:Oo,groupLabel:"Reports"},{title:"Delivery Summaries",url:"/admin/reports/delivery-summaries",icon:Oo,groupLabel:"Reports"}],navMain:[]},SUPERVISOR:{projects:[{title:"Orders",url:"/admin/orders",icon:ia,groupLabel:"Supervisor Portal"}],navMain:[]}},user:{name:"",email:"",avatar:"",avatarName:""},teams:[{name:"Acme Inc",logo:QO,plan:"Enterprise"},{name:"Acme Corp.",logo:zee,plan:"Startup"},{name:"Evil Corp.",logo:jte,plan:"Free"}]};function Qhe(e){const{pathname:t}=xl(),{state:r}=Ev(),[n,a]=y.useState({...Im,projects:[],navMain:[],obNav:[],isOB:!1}),[i,o]=y.useState({});y.useEffect(()=>{var w;const m=localStorage.getItem("user"),p=localStorage.getItem("roles");let g=!1;if(p&&p!=="undefined"&&p.trim()!=="")try{const b=JSON.parse(p);Array.isArray(b)&&(g=b.some(v=>v.role==="OB"&&v.chapters&&v.chapters.length>0))}catch(b){console.error("Failed to parse roles from localStorage",b),localStorage.removeItem("roles")}if(m)try{const b=JSON.parse(m);b.avatarName=((w=b.name)==null?void 0:w.charAt(0).toUpperCase())||"U";let v=b.role||"admin";Im.roles[v]||(v="super_admin");const N=Im.roles[v];a(E=>({...E,projects:(N==null?void 0:N.projects)||[],navMain:(N==null?void 0:N.navMain)||[],user:b,obNav:g?Im.obNavigation:[],isOB:g}));const A=[...new Set(N==null?void 0:N.projects.map(E=>E.groupLabel))].reduce((E,C)=>(E[C]=!0,E),{});o(A)}catch(b){console.error("Failed to parse user from localStorage",b),a(v=>({...v,projects:Im.roles.super_admin.projects,navMain:Im.roles.super_admin.navMain,obNav:[],isOB:!1}))}else a(b=>({...b,projects:Im.roles.super_admin.projects,navMain:Im.roles.super_admin.navMain,obNav:[],isOB:!1}))},[]);const l=m=>{o(p=>({...p,[m]:!p[m]}))},c=n.projects.reduce((m,p)=>{const g=p.groupLabel||"Other";return m[g]||(m[g]=[]),m[g].push(p),m},{}),d=[...n.projects,...n.navMain,...n.isOB?n.obNav.flatMap(m=>m.items||[]):[]],h=r==="collapsed";return s.jsxs(Mhe,{collapsible:"icon",...e,className:"bg-[#1d398d] border-r border-[#1d398d]/80",children:[s.jsx($he,{className:"border-b border-[#1d398d]/30 bg-[#1d398d]",children:s.jsx(D$,{className:"flex",children:s.jsx(P$,{children:s.jsx(O$,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-2 hover:bg-white/10 transition-colors rounded-lg",children:s.jsx("div",{className:"flex items-center gap-2 justify-between",children:s.jsxs(Rs,{to:"/",className:"flex items-center gap-2",children:[s.jsx(hte,{className:"h-5 w-5 text-white"}),!h&&s.jsx("span",{className:"text-sm font-medium text-white",children:jb})]})})})})})}),s.jsx(qhe,{className:"space-y-1 overflow-y-auto [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden bg-[#1d398d]",children:h?s.jsx("div",{className:"space-y-1 px-2",children:d.map((m,p)=>s.jsx(Rs,{to:m.url,className:jt("flex items-center justify-center p-2 text-sm transition-colors rounded-md",t===m.url?"bg-white text-[#1d398d] shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white"),title:m.title,children:m.icon&&s.jsx(m.icon,{className:jt("h-5 w-5",t===m.url?"text-[#1d398d]":"text-blue-200")})},`${m.url}-${p}`))}):s.jsxs(s.Fragment,{children:[n.isOB&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"px-3 py-2 text-xs font-medium text-blue-200 border-b border-[#1d398d]/30 mb-2",children:"Office Bearer Menu"}),n.obNav.map(m=>{var p;return s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"px-3 py-2 text-sm font-medium text-blue-200 flex items-center gap-2",children:[s.jsx(m.icon,{className:"h-4 w-4 text-blue-300"}),m.title]}),s.jsx("div",{className:"ml-6",children:(p=m.items)==null?void 0:p.map(g=>s.jsx(Rs,{to:g.url,className:jt("block w-full px-3 py-2 text-sm transition-colors",t===g.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:g.title},g.url))})]},m.title)})]}),s.jsx("div",{className:"space-y-2",children:Object.entries(c).map(([m,p])=>s.jsx("div",{className:"mb-2",children:s.jsxs(BC,{open:i[m],onOpenChange:()=>l(m),children:[s.jsx(UC,{className:"w-full",children:s.jsxs("div",{className:"px-3 py-2 flex items-center justify-between text-sm font-medium text-blue-200 hover:bg-white/10 cursor-pointer transition-colors rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ia,{className:`h-4 w-4 transition-transform text-blue-300 ${i[m]?"rotate-0":"-rotate-90"}`}),s.jsx("span",{children:m})]}),s.jsx("span",{className:"text-xs text-blue-100 bg-white/20 px-2 py-1 rounded-full font-medium",children:p.length})]})}),s.jsx($C,{children:s.jsx("div",{className:"ml-6 mt-1",children:p.map(g=>s.jsxs(Rs,{to:g.url,className:jt("flex items-center gap-2 px-3 py-2 text-sm transition-colors",t===g.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:[g.icon&&s.jsx(g.icon,{className:jt("h-4 w-4 flex-shrink-0",t===g.url?"text-[#1d398d]":"text-blue-200")}),s.jsx("span",{children:g.title})]},g.url))})})]})},m))}),n.navMain.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-3 py-2 text-xs font-medium text-blue-200 border-b border-[#1d398d]/30 mt-4 mb-2",children:"Management"}),n.navMain.map(m=>s.jsxs(Rs,{to:m.url,className:jt("flex items-center gap-2 w-full px-3 py-2 text-sm transition-colors",t===m.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:[m.icon&&s.jsx(m.icon,{className:jt("h-4 w-4",t===m.url?"text-[#1d398d]":"text-blue-200")}),s.jsx("span",{children:m.title})]},m.url))]})]})}),s.jsx(Vhe,{className:"border-t border-[#1d398d]/30 bg-[#1d398d]",children:s.jsx(Hhe,{user:n.user})}),s.jsx(Bhe,{})]})}const F$=()=>{const[e,t]=y.useState(!1),r=xl();return y.useEffect(()=>{const n=localStorage.getItem("user");t(!!n)},[r.pathname]),s.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white  border-t  shadow-lg z-50",children:s.jsxs("div",{className:"flex justify-around py-2",children:[s.jsxs(G1,{to:"/",end:!0,className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(Dk,{size:24}),s.jsx("span",{className:"text-xs",children:"Home"})]}),e&&s.jsxs(G1,{to:"/member/products",className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(gp,{size:24}),s.jsx("span",{className:"text-xs",children:"Products"})]}),s.jsxs(G1,{to:e?"/member/subscriptions":"/login",className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(K5,{size:24}),s.jsx("span",{className:"text-xs",children:e?"My Subscription":"Login"})]}),s.jsxs(G1,{to:"/about",className:({isActive:n})=>`flex flex-col items-center hover:text-secondary ${n?"text-secondary":"text-gray-600"}`,children:[s.jsx(N9,{size:24}),s.jsx("span",{className:"text-xs",children:"Menu"})]})]})})};function nR(){const e=Ls(),[t,r]=y.useState(()=>{const d=localStorage.getItem("theme");return d?d==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});y.useEffect(()=>{document.documentElement.classList.toggle("dark",t)},[t]);const n=localStorage.getItem("user"),a=n?JSON.parse(n):null;y.useEffect(()=>{const d=window.matchMedia("(prefers-color-scheme: dark)"),h=m=>{localStorage.getItem("theme")||r(m.matches)};return d.addEventListener("change",h),()=>d.removeEventListener("change",h)},[]);const i=xl(),o=()=>{const d=!t;r(d),localStorage.setItem("theme",d?"dark":"light")},[l,c]=y.useState(void 0);return y.useEffect(()=>{var m;const d=localStorage.getItem("user"),h=d?JSON.parse(d):null;c(((m=h==null?void 0:h.role)==null?void 0:m.toString().toUpperCase())||void 0)},[i.pathname]),s.jsxs(Lhe,{children:[s.jsx(Qhe,{}),s.jsxs(Uhe,{children:[s.jsx("header",{className:"bg-blue-900 sticky top-0 z-20 flex h-16 shrink-0 items-center border-b bg-background shadow-sm transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-13 -ml-[1px] -mt-0",children:s.jsxs("div",{className:"flex items-center justify-between w-full px-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Fhe,{className:"text-white -ml-1"}),s.jsx(Ee,{onClick:()=>e(-1),children:"Back"}),s.jsxs("h1",{className:"text-white",children:["Welcome, ",a==null?void 0:a.name," ",s.jsxs("span",{className:"text-blue-200 text-sm",children:["(",a==null?void 0:a.role,")"]})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(Ee,{onClick:o,className:"text-white size-7 cursor-pointer",variant:"ghost",size:"icon","aria-label":"Toggle Dark Mode",children:t?s.jsx(gre,{}):s.jsx(Wre,{})})})]})}),s.jsx("main",{className:"pt-2",children:s.jsx(Ak,{})})]}),l==="MEMBER"&&s.jsx(F$,{})]})}const Xhe=()=>{console.log("[AuthDebug] useAuth called");const e=localStorage.getItem("authToken"),t=localStorage.getItem("user");if(console.log("[AuthDebug] Token from localStorage:",e),console.log("[AuthDebug] User string from localStorage:",t),e&&t)try{const r=JSON.parse(t);if(console.log("[AuthDebug] Parsed user object:",r),console.log("[AuthDebug] Parsed user role:",r==null?void 0:r.role),r&&typeof r.role=="string"){const n={isAuthenticated:!0,user:r};return console.log("[AuthDebug] useAuth returning (authenticated):",n),n}else{console.error("[AuthDebug] AuthCheck: Parsed user is invalid or role is missing/not a string.",r);const n={isAuthenticated:!1,user:null};return console.log("[AuthDebug] useAuth returning (unauthenticated - bad user data):",n),n}}catch(r){console.error("[AuthDebug] AuthCheck: Failed to parse user from localStorage. Error:",r),console.log("[AuthDebug] Raw userString that failed parsing:",t);const n={isAuthenticated:!1,user:null};return console.log("[AuthDebug] useAuth returning (unauthenticated - parse error):",n),n}else return console.log("[AuthDebug] useAuth returning (unauthenticated - token or userString missing)"),{isAuthenticated:!1,user:null}},Zhe=({children:e})=>{const{isAuthenticated:t,user:r}=Xhe();return!t||(r==null?void 0:r.role)==="MEMBER"?s.jsx(MJ,{to:"/",replace:!0}):s.jsx(s.Fragment,{children:e})},Jhe=15e3;function efe({isLoggedIn:e}){const t=Ls(),[r,n]=y.useState(null),[a,i]=y.useState(!0),[o,l]=y.useState(null);return y.useEffect(()=>{if(!e)return;let c=!0;const d=async()=>{var m,p;i(!0),l(null);try{const g=await $t("/wallet");let w;g&&g.data&&typeof g.data.balance=="number"?w=g.data.balance:typeof g.balance=="number"&&(w=g.balance),c&&(typeof w=="number"?n(w):(console.warn("Unexpected response structure for wallet balance:",g),l("Failed to fetch balance: unexpected data format."),n(0)))}catch(g){if(c){console.error("Failed to fetch wallet balance:",g);const w=((p=(m=g.response)==null?void 0:m.data)==null?void 0:p.message)||g.message||"Failed to fetch wallet balance";l(w),ve.error(w),n(0)}}finally{c&&i(!1)}};d();const h=setInterval(d,Jhe);return()=>{c=!1,clearInterval(h)}},[e]),e?a?s.jsxs(Ee,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg",disabled:!0,children:[s.jsx(Ws,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{className:"font-medium",children:"Loading..."})]}):o&&r===0?s.jsxs(Ee,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-destructive text-destructive rounded-lg hover:bg-destructive/10",title:o,onClick:()=>{},children:[s.jsx(Dh,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Error"})]}):s.jsxs(bg,{children:[s.jsx(wg,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[s.jsx(Dh,{className:"w-5 h-5 text-orange-500"}),s.jsxs("span",{className:"font-medium",children:["",r!==null?r.toFixed(2):"N/A"]}),s.jsx(Ia,{className:"w-4 h-4 text-gray-500"})]})}),s.jsxs(Ng,{className:"w-56",align:"end",children:[s.jsxs(o$,{className:"flex items-center gap-2",children:[s.jsx(Dh,{className:"w-4 h-4"}),"Wallet Balance: ",r!==null?r.toFixed(2):"N/A"]}),s.jsx(IC,{}),s.jsxs(Ka,{onClick:()=>t("/member/wallet"),className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(li,{className:"w-4 h-4"}),"Add Money"]})]})]}):null}const tfe="/assets/Sarkhot-Natural-Farms-Png-DTJXlgmL.webp",rfe="/assets/WhatsApp%20Image%202025-06-24%20at%2018.32.39%20(1)%20(1)-M5cSOnyy.png",B$=({isLoggedIn:e,userName:t,onLogout:r,showWallet:n})=>{const a=y.useRef(null),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[d,h]=y.useState(!0),[m,p]=y.useState(!1),[g,w]=y.useState(!1),[b,v]=y.useState(()=>{try{const E=localStorage.getItem("user");return E?JSON.parse(E).role:null}catch(E){return console.error("Failed to parse user data from localStorage on init",E),null}}),N=y.useRef(0),S=y.useRef(null);y.useEffect(()=>{try{const E=localStorage.getItem("user"),C=E?JSON.parse(E).role:null;v(C)}catch(E){console.error("Failed to parse user data from localStorage in effect",E),v(null)}},[e]);const A=[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Bharwad Cow",path:"/bharwadcow"},{name:"Products",path:"/member/products/1"},{name:"Contact Us",path:"/contact"}];return y.useEffect(()=>{const E=()=>{const C=window.scrollY;h(!0),p(C>10),N.current=C};return window.addEventListener("scroll",E,{passive:!0}),()=>window.removeEventListener("scroll",E)},[]),y.useEffect(()=>{const E=()=>{if(a.current){const C=a.current.offsetHeight;document.documentElement.style.setProperty("--header-height",`${C}px`)}};return E(),window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E),document.documentElement.style.removeProperty("--header-height")}},[e,t,i,m]),s.jsxs("header",{ref:a,className:`fixed top-0 w-full z-50 transition-all duration-500 ease-out ${d?"translate-y-0":"-translate-y-full"} ${m?"shadow-lg":"shadow-sm"} pt-[env(safe-area-inset-top)]`,children:[s.jsx("div",{className:"bg-white transition-colors duration-300",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-2.5",children:[s.jsx(Rs,{to:"/",className:"flex items-center",children:s.jsx("img",{src:rfe,alt:"Logo",className:"h-8 sm:h-10 w-auto object-contain mr-2"})}),s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx("a",{href:"/","aria-label":"Sarkhot Logo",className:"hidden sm:inline-flex",children:s.jsx("img",{src:tfe,alt:"Sarkhot Logo",className:"h-8 w-auto object-contain"})}),s.jsx("a",{target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",href:"https://www.facebook.com/sarkhotnaturalfarms",className:"hidden sm:inline-flex text-gray-500 hover:text-green-600 transition-colors",children:s.jsx(Ite,{size:18})}),s.jsx("a",{target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",href:"https://www.instagram.com/sarkhotnaturalfarms/",className:"hidden sm:inline-flex text-gray-500 hover:text-amber-600 transition-colors",children:s.jsx(Qte,{size:18})}),s.jsx("span",{className:"hidden sm:block border-l border-gray-300 h-6 mx-2"}),e?s.jsxs("div",{className:"relative",onMouseEnter:()=>{S.current&&clearTimeout(S.current),c(!0)},onMouseLeave:()=>{S.current=setTimeout(()=>{c(!1)},200)},children:[s.jsxs("button",{className:"flex items-center text-sm text-gray-700 hover:text-green-600 transition-colors",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-amber-500 rounded-full p-0.5 mr-1",children:s.jsx(BA,{size:18,className:"text-white bg-gray-100 rounded-full"})}),s.jsx("span",{className:"hidden sm:inline",children:"Account"})]}),l&&r&&s.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-100",onMouseEnter:()=>{S.current&&clearTimeout(S.current)},onMouseLeave:()=>{S.current=setTimeout(()=>{c(!1)},200)},children:[t&&s.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Signed in as"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:t})]}),b!=="ADMIN"&&s.jsxs(Rs,{to:"/member/subscriptions",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",onClick:()=>c(!1),children:[s.jsx(XO,{size:16,className:"mr-2 text-green-600"}),"My Subscriptions"]}),b==="MEMBER"&&s.jsxs(Rs,{to:"/member/addresses",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",onClick:()=>c(!1),children:[s.jsx(XO,{size:16,className:"mr-2 text-green-600"}),"Manage Address"]}),b==="MEMBER"&&s.jsxs("button",{onClick:()=>{w(!0),c(!1)},className:"w-full flex items-center text-left px-4 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",children:[s.jsx(Zte,{size:16,className:"mr-2 text-green-600"}),"Change Password"]}),s.jsxs("button",{onClick:()=>{r(),c(!1)},className:"w-full flex items-center text-left px-4 py-2 text-sm text-gray-700 hover:bg-red-50 transition-colors",children:[s.jsx(oC,{size:16,className:"mr-2 text-red-500"}),"Sign out"]})]})]}):s.jsxs(Rs,{to:"/login",className:"text-sm text-gray-700 hover:text-green-600 transition-colors flex items-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-amber-500 rounded-full p-0.5 mr-1",children:s.jsx(BA,{size:18,className:"text-white bg-gray-100 rounded-full"})}),s.jsx("span",{className:"hidden sm:inline",children:"Account"})]})]})]})})}),s.jsx("div",{className:"bg-primary transition-colors duration-300",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-2.5 sm:py-3",children:[s.jsx("div",{className:"hidden md:flex space-x-6 items-center",children:A.map(E=>s.jsxs(Rs,{to:E.path,className:"text-white font-semibold hover:text-white/90 transition-colors relative group",children:[E.name,s.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"})]},E.name))}),s.jsx("div",{className:"flex items-center space-x-3 sm:space-x-4",children:n&&s.jsx(efe,{isLoggedIn:e})}),s.jsx("div",{className:"md:hidden flex items-center",children:s.jsx("button",{onClick:()=>o(!i),className:`p-2 rounded-full transition-colors text-white hover:bg-white/20 ${i?"bg-white/20":""}`,"aria-label":i?"Close menu":"Open menu",children:i?s.jsx(ul,{size:24}):s.jsx(N9,{size:24})})})]})})}),i&&s.jsx("div",{className:"md:hidden bg-white border-t border-gray-200 shadow-inner max-h-[calc(100vh-var(--header-height))] overflow-y-auto overscroll-contain",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 space-y-2",children:[s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"search",placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full text-sm focus:ring-2 focus:ring-green-300 focus:border-green-500"}),s.jsx(Hn,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),A.map(E=>s.jsxs(Rs,{to:E.path,className:"block py-3 px-4 text-gray-700 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex items-center group",onClick:()=>o(!1),children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),E.name]},E.name)),e&&r?s.jsxs("button",{onClick:()=>{r(),o(!1)},className:"w-full text-left block py-3 px-4 text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors flex items-center group",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(oC,{size:16,className:"mr-2"})," Sign out"]}):s.jsxs(Rs,{to:"/login",className:"block py-3 px-4 text-gray-700 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex items-center group",onClick:()=>o(!1),children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(BA,{size:16,className:"mr-2"})," Account"]})]})}),s.jsx(XB,{isOpen:g,onClose:()=>w(!1)})]})};function VC({children:e}){var b;const t=xl(),r=Ls(),[n,a]=y.useState(()=>{const v=localStorage.getItem("theme");return v?v==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),i=localStorage.getItem("user"),o=i?JSON.parse(i):null,l=((b=o==null?void 0:o.role)==null?void 0:b.toString().toUpperCase())||void 0,[c,d]=y.useState(!!o),h=(o==null?void 0:o.name)||(o==null?void 0:o.username)||(o==null?void 0:o.email),[m,p]=y.useState(h),g=c&&l==="MEMBER";y.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]),y.useEffect(()=>{const v=()=>{const N=localStorage.getItem("user"),S=N?JSON.parse(N):null;d(!!S),p((S==null?void 0:S.name)||(S==null?void 0:S.username)||(S==null?void 0:S.email)||null)};return window.addEventListener("storage",v),v(),()=>{window.removeEventListener("storage",v)}},[t.pathname]),y.useEffect(()=>{if(!o||t.pathname.startsWith("/member/products"))return;const v=async()=>{try{const N=await $t("/products");let S=[];if(Array.isArray(N)?S=N:N&&N.data&&Array.isArray(N.data)&&(S=N.data),S.length>0){const A=S[0].id;r(`/member/products/${A}`)}else r("/member/products")}catch(N){console.error("Failed to fetch products for redirect:",N),r("/member/products")}};t.pathname==="/dashboard"&&v()},[o,r,t.pathname]),y.useEffect(()=>{const v=window.matchMedia("(prefers-color-scheme: dark)"),N=S=>{localStorage.getItem("theme")||a(S.matches)};return v.addEventListener("change",N),()=>v.removeEventListener("change",N)},[]);const w=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("roles"),localStorage.removeItem("memberId"),ve.success("You have been logged out"),r("/")};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx(B$,{isLoggedIn:c,userName:m,onLogout:w,showWallet:g}),s.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 pb-8",style:{paddingTop:"var(--header-height)"},children:e||s.jsx(Ak,{})}),s.jsx(sfe,{}),l==="MEMBER"&&s.jsx(F$,{})]})}const sfe=()=>s.jsxs("footer",{className:"bg-slate-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-8 gap-y-10",children:[s.jsxs("div",{className:"md:col-span-12 lg:col-span-4",children:[s.jsxs("div",{className:"mb-6 flex items-center",children:[s.jsx(Y0,{className:"h-10 w-10 text-green-600 mr-3"}),s.jsx("span",{className:"text-2xl font-bold text-green-700 dark:text-green-500",children:"Sarkhot Natural Farms"})]}),s.jsxs("p",{className:"text-sm mb-6 leading-relaxed",children:["Sarkhot Natural farms denote the community of natural farmers. Natural means"," ",s.jsx("span",{className:"font-semibold text-red-500",children:"%"})," chemical free, preservative free and poison free."]}),s.jsx("h3",{className:"text-[0.9rem] font-semibold mb-3 text-gray-600 dark:text-gray-400",children:"Payment Accepted"}),s.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:["Mastercard","Discover","BitPay","Visa","Stripe"].map(e=>s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-md shadow-sm",children:e},e))})]}),s.jsx("div",{className:"hidden lg:block lg:col-span-1"}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Policies"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/privacy-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/refund-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Refund and Returns Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/shipping-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Shipping and delivery policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/terms-and-conditions",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Terms and Conditions"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Useful Links"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx("a",{href:"/member/products/1",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Products"})}),s.jsx("li",{children:s.jsx("a",{href:"/about",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx("a",{href:"/contact",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Contact Us"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-3",children:[s.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Contact"}),s.jsxs("address",{className:"text-sm not-italic space-y-2 leading-relaxed",children:[s.jsx("p",{children:"Sarkhot Natural Farms, Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East - 421201"}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:"Landmark"})," ","- Near Brahman Sabha hall."]}),s.jsx("p",{children:s.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors break-all",children:"sarkhotnaturalfarms@gmail.com"})}),s.jsx("p",{children:s.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"+91 9920999100"})})]})]})]})}),s.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 py-4 border-t border-gray-300 dark:border-gray-700",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("p",{className:"mb-2 md:mb-0 text-center md:text-left",children:[" ",new Date().getFullYear()," Sarkhot Natural Farms. All Rights Reserved."]}),s.jsxs("p",{className:"text-center md:text-right",children:["Powered by"," ",s.jsx("a",{href:"https://sanmisha.com/",className:"font-semibold text-green-700 dark:text-green-500 hover:underline",children:"Sanmisha Technologies"})]})]})})]});var U$=y.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.Children.toArray(r),i=a.find(nfe);if(i){const o=i.props.children,l=a.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return s.jsx(qC,{...n,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return s.jsx(qC,{...n,ref:t,children:r})});U$.displayName="Slot";var qC=y.forwardRef((e,t)=>{const{children:r,...n}=e;if(y.isValidElement(r)){const a=ife(r),i=afe(n,r.props);return r.type!==y.Fragment&&(i.ref=t?Ll(t,a):a),y.cloneElement(r,i)}return y.Children.count(r)>1?y.Children.only(null):null});qC.displayName="SlotClone";var $$=({children:e})=>s.jsx(s.Fragment,{children:e});function nfe(e){return y.isValidElement(e)&&e.type===$$}function afe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function ife(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var NT="Dialog",[V$,q$]=eo(NT),[ofe,Wu]=V$(NT),z$=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[d=!1,h]=Bd({prop:n,defaultProp:a,onChange:i});return s.jsx(ofe,{scope:t,triggerRef:l,contentRef:c,contentId:Xi(),titleId:Xi(),descriptionId:Xi(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),modal:o,children:r})};z$.displayName=NT;var H$="DialogTrigger",W$=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wu(H$,r),i=_s(t,a.triggerRef);return s.jsx(Rr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":AT(a.open),...n,ref:i,onClick:wr(e.onClick,a.onOpenToggle)})});W$.displayName=H$;var jT="DialogPortal",[lfe,G$]=V$(jT,{forceMount:void 0}),Y$=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Wu(jT,t);return s.jsx(lfe,{scope:t,forceMount:r,children:y.Children.map(n,o=>s.jsx(Ri,{present:r||i.open,children:s.jsx(Sv,{asChild:!0,container:a,children:o})}))})};Y$.displayName=jT;var t5="DialogOverlay",K$=y.forwardRef((e,t)=>{const r=G$(t5,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Wu(t5,e.__scopeDialog);return i.modal?s.jsx(Ri,{present:n||i.open,children:s.jsx(cfe,{...a,ref:t})}):null});K$.displayName=t5;var cfe=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wu(t5,r);return s.jsx(fv,{as:U$,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Rr.div,{"data-state":AT(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),tg="DialogContent",Q$=y.forwardRef((e,t)=>{const r=G$(tg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Wu(tg,e.__scopeDialog);return s.jsx(Ri,{present:n||i.open,children:i.modal?s.jsx(dfe,{...a,ref:t}):s.jsx(ufe,{...a,ref:t})})});Q$.displayName=tg;var dfe=y.forwardRef((e,t)=>{const r=Wu(tg,e.__scopeDialog),n=y.useRef(null),a=_s(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return k2(i)},[]),s.jsx(X$,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wr(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:wr(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:wr(e.onFocusOutside,i=>i.preventDefault())})}),ufe=y.forwardRef((e,t)=>{const r=Wu(tg,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(X$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),X$=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Wu(tg,r),c=y.useRef(null),d=_s(t,c);return mS(),s.jsxs(s.Fragment,{children:[s.jsx(I2,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(wv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":AT(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ffe,{titleId:l.titleId}),s.jsx(pfe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ST="DialogTitle",Z$=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wu(ST,r);return s.jsx(Rr.h2,{id:a.titleId,...n,ref:t})});Z$.displayName=ST;var J$="DialogDescription",eV=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wu(J$,r);return s.jsx(Rr.p,{id:a.descriptionId,...n,ref:t})});eV.displayName=J$;var tV="DialogClose",rV=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wu(tV,r);return s.jsx(Rr.button,{type:"button",...n,ref:t,onClick:wr(e.onClick,()=>a.onOpenChange(!1))})});rV.displayName=tV;function AT(e){return e?"open":"closed"}var sV="DialogTitleWarning",[hfe,nV]=Rle(sV,{contentName:tg,titleName:ST,docsSlug:"dialog"}),ffe=({titleId:e})=>{const t=nV(sV),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mfe="DialogDescriptionWarning",pfe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nV(mfe).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},gfe=z$,xfe=W$,yfe=Y$,vfe=K$,bfe=Q$,wfe=Z$,Nfe=eV,aV=rV,iV="AlertDialog",[jfe,Q7e]=eo(iV,[q$]),em=q$(),oV=e=>{const{__scopeAlertDialog:t,...r}=e,n=em(t);return s.jsx(gfe,{...n,...r,modal:!0})};oV.displayName=iV;var Sfe="AlertDialogTrigger",lV=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=em(r);return s.jsx(xfe,{...a,...n,ref:t})});lV.displayName=Sfe;var Afe="AlertDialogPortal",cV=e=>{const{__scopeAlertDialog:t,...r}=e,n=em(t);return s.jsx(yfe,{...n,...r})};cV.displayName=Afe;var Efe="AlertDialogOverlay",dV=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=em(r);return s.jsx(vfe,{...a,...n,ref:t})});dV.displayName=Efe;var cy="AlertDialogContent",[Cfe,_fe]=jfe(cy),uV=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=em(r),o=y.useRef(null),l=_s(t,o),c=y.useRef(null);return s.jsx(hfe,{contentName:cy,titleName:hV,docsSlug:"alert-dialog",children:s.jsx(Cfe,{scope:r,cancelRef:c,children:s.jsxs(bfe,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:wr(a.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx($$,{children:n}),s.jsx(Tfe,{contentRef:o})]})})})});uV.displayName=cy;var hV="AlertDialogTitle",fV=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=em(r);return s.jsx(wfe,{...a,...n,ref:t})});fV.displayName=hV;var mV="AlertDialogDescription",pV=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=em(r);return s.jsx(Nfe,{...a,...n,ref:t})});pV.displayName=mV;var kfe="AlertDialogAction",gV=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=em(r);return s.jsx(aV,{...a,...n,ref:t})});gV.displayName=kfe;var xV="AlertDialogCancel",yV=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=_fe(xV,r),i=em(r),o=_s(t,a);return s.jsx(aV,{...i,...n,ref:o})});yV.displayName=xV;var Tfe=({contentRef:e})=>{const t=`\`${cy}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${cy}\` by passing a \`${mV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${cy}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Dfe=oV,Pfe=lV,Ofe=cV,Rfe=dV,Ife=uV,Lfe=gV,Mfe=yV,Ffe=fV,Bfe=pV;function pi({...e}){return s.jsx(Dfe,{"data-slot":"alert-dialog",...e})}function jg({...e}){return s.jsx(Pfe,{"data-slot":"alert-dialog-trigger",...e})}function Ufe({...e}){return s.jsx(Ofe,{"data-slot":"alert-dialog-portal",...e})}function $fe({className:e,...t}){return s.jsx(Rfe,{"data-slot":"alert-dialog-overlay",className:jt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function gi({className:e,...t}){return s.jsxs(Ufe,{children:[s.jsx($fe,{}),s.jsx(Ife,{"data-slot":"alert-dialog-content",className:jt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function xi({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:jt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function yi({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:jt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function vi({className:e,...t}){return s.jsx(Ffe,{"data-slot":"alert-dialog-title",className:jt("text-lg font-semibold",e),...t})}function bi({className:e,...t}){return s.jsx(Bfe,{"data-slot":"alert-dialog-description",className:jt("text-muted-foreground text-sm",e),...t})}function Ii({className:e,...t}){return s.jsx(Lfe,{className:jt(Vy(),e),...t})}function wi({className:e,...t}){return s.jsx(Mfe,{className:jt(Vy({variant:"outline"}),e),...t})}function vn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Hc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Gi(e,t){const r=vn(e);return isNaN(t)?Hc(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Mu(e,t){const r=vn(e);if(isNaN(t))return Hc(e,NaN);if(!t)return r;const n=r.getDate(),a=Hc(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const ET=6048e5,Vfe=864e5,vV=6e4,bV=36e5;let qfe={};function $2(){return qfe}function Vh(e,t){var l,c,d,h;const r=$2(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,a=vn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function rg(e){return Vh(e,{weekStartsOn:1})}function wV(e){const t=vn(e),r=t.getFullYear(),n=Hc(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=rg(n),i=Hc(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=rg(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Of(e){const t=vn(e);return t.setHours(0,0,0,0),t}function r5(e){const t=vn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function _h(e,t){const r=Of(e),n=Of(t),a=+r-r5(r),i=+n-r5(n);return Math.round((a-i)/Vfe)}function zfe(e){const t=wV(e),r=Hc(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),rg(r)}function zC(e,t){const r=t*7;return Gi(e,r)}function Hfe(e,t){return Mu(e,t*12)}function Wfe(e){let t;return e.forEach(function(r){const n=vn(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Gfe(e){let t;return e.forEach(r=>{const n=vn(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function rc(e,t){const r=Of(e),n=Of(t);return+r==+n}function CT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Yfe(e){if(!CT(e)&&typeof e!="number")return!1;const t=vn(e);return!isNaN(Number(t))}function Kb(e,t){const r=vn(e),n=vn(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Kfe(e,t,r){const n=Vh(e,r),a=Vh(t,r),i=+n-r5(n),o=+a-r5(a);return Math.round((i-o)/ET)}function TS(e){const t=vn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Dl(e){const t=vn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function NV(e){const t=vn(e),r=Hc(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function _T(e,t){var l,c,d,h;const r=$2(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,a=vn(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function jV(e){return _T(e,{weekStartsOn:1})}const Qfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xfe=(e,t,r)=>{let n;const a=Qfe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function iE(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Zfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tme={date:iE({formats:Zfe,defaultWidth:"full"}),time:iE({formats:Jfe,defaultWidth:"full"}),dateTime:iE({formats:eme,defaultWidth:"full"})},rme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sme=(e,t,r,n)=>rme[e];function P1(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const nme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ame={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ime={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ome={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dme=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ume={ordinalNumber:dme,era:P1({values:nme,defaultWidth:"wide"}),quarter:P1({values:ame,defaultWidth:"wide",argumentCallback:e=>e-1}),month:P1({values:ime,defaultWidth:"wide"}),day:P1({values:ome,defaultWidth:"wide"}),dayPeriod:P1({values:lme,defaultWidth:"wide",formattingValues:cme,defaultFormattingWidth:"wide"})};function O1(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?fme(l,m=>m.test(o)):hme(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const h=t.slice(o.length);return{value:d,rest:h}}}function hme(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function fme(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function mme(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const pme=/^(\d+)(th|st|nd|rd)?/i,gme=/\d+/i,xme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yme={any:[/^b/i,/^(a|c)/i]},vme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bme={any:[/1/i,/2/i,/3/i,/4/i]},wme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ame={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Eme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cme={ordinalNumber:mme({matchPattern:pme,parsePattern:gme,valueCallback:e=>parseInt(e,10)}),era:O1({matchPatterns:xme,defaultMatchWidth:"wide",parsePatterns:yme,defaultParseWidth:"any"}),quarter:O1({matchPatterns:vme,defaultMatchWidth:"wide",parsePatterns:bme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:O1({matchPatterns:wme,defaultMatchWidth:"wide",parsePatterns:Nme,defaultParseWidth:"any"}),day:O1({matchPatterns:jme,defaultMatchWidth:"wide",parsePatterns:Sme,defaultParseWidth:"any"}),dayPeriod:O1({matchPatterns:Ame,defaultMatchWidth:"any",parsePatterns:Eme,defaultParseWidth:"any"})},SV={code:"en-US",formatDistance:Xfe,formatLong:tme,formatRelative:sme,localize:ume,match:Cme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _me(e){const t=vn(e);return _h(t,NV(t))+1}function AV(e){const t=vn(e),r=+rg(t)-+zfe(t);return Math.round(r/ET)+1}function EV(e,t){var h,m,p,g;const r=vn(e),n=r.getFullYear(),a=$2(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(p=a.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Hc(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Vh(o,t),c=Hc(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Vh(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function kme(e,t){var l,c,d,h;const r=$2(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=EV(e,t),i=Hc(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Vh(i,t)}function CV(e,t){const r=vn(e),n=+Vh(r,t)-+kme(r,t);return Math.round(n/ET)+1}function Un(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Lm={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Un(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Un(r+1,2)},d(e,t){return Un(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Un(e.getHours()%12||12,t.length)},H(e,t){return Un(e.getHours(),t.length)},m(e,t){return Un(e.getMinutes(),t.length)},s(e,t){return Un(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Un(a,t.length)}},Ax={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Lm.y(e,t)},Y:function(e,t,r,n){const a=EV(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Un(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Un(i,t.length)},R:function(e,t){const r=wV(e);return Un(r,t.length)},u:function(e,t){const r=e.getFullYear();return Un(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Un(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Un(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Lm.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Un(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=CV(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Un(a,t.length)},I:function(e,t,r){const n=AV(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Un(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Lm.d(e,t)},D:function(e,t,r){const n=_me(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Un(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Un(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Un(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Un(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ax.noon:n===0?a=Ax.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ax.evening:n>=12?a=Ax.afternoon:n>=4?a=Ax.morning:a=Ax.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Lm.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Lm.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Un(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Un(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Lm.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Lm.s(e,t)},S:function(e,t){return Lm.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return oR(n);case"XXXX":case"XX":return y0(n);case"XXXXX":case"XXX":default:return y0(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return oR(n);case"xxxx":case"xx":return y0(n);case"xxxxx":case"xxx":default:return y0(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iR(n,":");case"OOOO":default:return"GMT"+y0(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iR(n,":");case"zzzz":default:return"GMT"+y0(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Un(n,t.length)},T:function(e,t,r){const n=e.getTime();return Un(n,t.length)}};function iR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Un(i,2)}function oR(e,t){return e%60===0?(e>0?"-":"+")+Un(Math.abs(e)/60,2):y0(e,t)}function y0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Un(Math.trunc(n/60),2),i=Un(n%60,2);return r+a+t+i}const lR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_V=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Tme=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return lR(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",lR(n,t)).replace("{{time}}",_V(a,t))},Dme={p:_V,P:Tme},Pme=/^D+$/,Ome=/^Y+$/,Rme=["D","DD","YY","YYYY"];function Ime(e){return Pme.test(e)}function Lme(e){return Ome.test(e)}function Mme(e,t,r){const n=Fme(e,t,r);if(console.warn(n),Rme.includes(e))throw new RangeError(n)}function Fme(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ume=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$me=/^'([^]*?)'?$/,Vme=/''/g,qme=/[a-zA-Z]/;function Wt(e,t,r){var h,m,p,g,w,b,v,N;const n=$2(),a=(r==null?void 0:r.locale)??n.locale??SV,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((b=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((N=(v=n.locale)==null?void 0:v.options)==null?void 0:N.weekStartsOn)??0,l=vn(e);if(!Yfe(l))throw new RangeError("Invalid time value");let c=t.match(Ume).map(S=>{const A=S[0];if(A==="p"||A==="P"){const E=Dme[A];return E(S,a.formatLong)}return S}).join("").match(Bme).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const A=S[0];if(A==="'")return{isToken:!1,value:zme(S)};if(aR[A])return{isToken:!0,value:S};if(A.match(qme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:S}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(S=>{if(!S.isToken)return S.value;const A=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Lme(A)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ime(A))&&Mme(A,t,String(e));const E=aR[A[0]];return E(l,A,a.localize,d)}).join("")}function zme(e){const t=e.match($me);return t?t[1].replace(Vme,"'"):e}function Hme(e){const t=vn(e),r=t.getFullYear(),n=t.getMonth(),a=Hc(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Wme(e){return Math.trunc(+vn(e)/1e3)}function Gme(e){const t=vn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Yme(e,t){return Kfe(Gme(e),Dl(e),t)+1}function dy(e,t){const r=vn(e),n=vn(t);return r.getTime()>n.getTime()}function kV(e,t){const r=vn(e),n=vn(t);return+r<+n}function kT(e,t){const r=vn(e),n=vn(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Kme(e,t){const r=vn(e),n=vn(t);return r.getFullYear()===n.getFullYear()}function sb(e,t){return Gi(e,-t)}function Qme(e,t){const n=epe(e);let a;if(n.date){const c=tpe(n.date,2);a=rpe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=spe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=npe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+o+l)}const AN={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Xme=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Zme=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Jme=/^([+-])(\d{2})(?::?(\d{2}))?$/;function epe(e){const t={},r=e.split(AN.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],AN.timeZoneDelimiter.test(t.date)&&(t.date=e.split(AN.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=AN.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function tpe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function rpe(e,t){if(t===null)return new Date(NaN);const r=e.match(Xme);if(!r)return new Date(NaN);const n=!!r[4],a=R1(r[1]),i=R1(r[2])-1,o=R1(r[3]),l=R1(r[4]),c=R1(r[5])-1;if(n)return cpe(t,l,c)?ape(t,l,c):new Date(NaN);{const d=new Date(0);return!ope(t,i,o)||!lpe(t,a)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(a,o)),d)}}function R1(e){return e?parseInt(e):1}function spe(e){const t=e.match(Zme);if(!t)return NaN;const r=oE(t[1]),n=oE(t[2]),a=oE(t[3]);return dpe(r,n,a)?r*bV+n*vV+a*1e3:NaN}function oE(e){return e&&parseFloat(e.replace(",","."))||0}function npe(e){if(e==="Z")return 0;const t=e.match(Jme);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return upe(n,a)?r*(n*bV+a*vV):NaN}function ape(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const ipe=[31,null,31,30,31,30,31,31,30,31,30,31];function TV(e){return e%400===0||e%4===0&&e%100!==0}function ope(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(ipe[t]||(TV(e)?29:28))}function lpe(e,t){return t>=1&&t<=(TV(e)?366:365)}function cpe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function dpe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function upe(e,t){return t>=0&&t<=59}function lE(e,t){const r=vn(e),n=r.getFullYear(),a=r.getDate(),i=Hc(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Hme(i);return r.setMonth(t,Math.min(a,o)),r}function cR(e,t){const r=vn(e);return isNaN(+r)?Hc(e,NaN):(r.setFullYear(t),r)}function St({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:jt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl py-6 shadow",e),...t})}function zt({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:jt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function dr({className:e,...t}){return s.jsx("div",{"data-slot":"card-title",className:jt("leading-none font-semibold",e),...t})}function On({className:e,...t}){return s.jsx("div",{"data-slot":"card-description",className:jt("text-muted-foreground text-sm",e),...t})}function _t({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:jt("px-6",e),...t})}function Op({className:e,...t}){return s.jsx("div",{"data-slot":"card-footer",className:jt("flex items-center px-6 [.border-t]:pt-6",e),...t})}function qs({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:jt("w-full caption-bottom text-sm",e),...t})})}function zs({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:jt("[&_tr]:border-b",e),...t})}function Hs({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:jt("[&_tr:last-child]:border-0",e),...t})}function hr({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:jt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function $e({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:jt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Oe({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:jt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function hpe({className:e,...t}){return s.jsx("caption",{"data-slot":"table-caption",className:jt("text-muted-foreground mt-4 text-sm",e),...t})}function Sg({className:e,...t}){return s.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:jt("mx-auto flex w-full justify-center",e),...t})}function Ag({className:e,...t}){return s.jsx("ul",{"data-slot":"pagination-content",className:jt("flex flex-row items-center gap-1",e),...t})}function Ed({...e}){return s.jsx("li",{"data-slot":"pagination-item",...e})}function S0({className:e,isActive:t,size:r="icon",...n}){return s.jsx("a",{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:jt(Vy({variant:t?"outline":"ghost",size:r}),e),...n})}function Eg({className:e,...t}){return s.jsxs(S0,{"aria-label":"Go to previous page",size:"default",className:jt("gap-1 px-2.5 sm:pl-2.5",e),...t,children:[s.jsx(dv,{}),s.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function Cg({className:e,...t}){return s.jsxs(S0,{"aria-label":"Go to next page",size:"default",className:jt("gap-1 px-2.5 sm:pr-2.5",e),...t,children:[s.jsx("span",{className:"hidden sm:block",children:"Next"}),s.jsx(cc,{})]})}function fpe({className:e,...t}){return s.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:jt("flex size-9 items-center justify-center",e),...t,children:[s.jsx(uv,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"More pages"})]})}var DV=y.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.Children.toArray(r),i=a.find(ppe);if(i){const o=i.props.children,l=a.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return s.jsx(HC,{...n,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return s.jsx(HC,{...n,ref:t,children:r})});DV.displayName="Slot";var HC=y.forwardRef((e,t)=>{const{children:r,...n}=e;if(y.isValidElement(r)){const a=xpe(r),i=gpe(n,r.props);return r.type!==y.Fragment&&(i.ref=t?Ll(t,a):a),y.cloneElement(r,i)}return y.Children.count(r)>1?y.Children.only(null):null});HC.displayName="SlotClone";var mpe=({children:e})=>s.jsx(s.Fragment,{children:e});function ppe(e){return y.isValidElement(e)&&e.type===mpe}function gpe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function xpe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var TT="Popover",[PV,X7e]=eo(TT,[Pp]),V2=Pp(),[ype,Rp]=PV(TT),OV=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=V2(t),c=y.useRef(null),[d,h]=y.useState(!1),[m=!1,p]=Bd({prop:n,defaultProp:a,onChange:i});return s.jsx(vS,{...l,children:s.jsx(ype,{scope:t,contentId:Xi(),triggerRef:c,open:m,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:d,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:o,children:r})})};OV.displayName=TT;var RV="PopoverAnchor",vpe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Rp(RV,r),i=V2(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return y.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(M2,{...i,...n,ref:t})});vpe.displayName=RV;var IV="PopoverTrigger",LV=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Rp(IV,r),i=V2(r),o=_s(t,a.triggerRef),l=s.jsx(Rr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$V(a.open),...n,ref:o,onClick:wr(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(M2,{asChild:!0,...i,children:l})});LV.displayName=IV;var DT="PopoverPortal",[bpe,wpe]=PV(DT,{forceMount:void 0}),MV=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Rp(DT,t);return s.jsx(bpe,{scope:t,forceMount:r,children:s.jsx(Ri,{present:r||i.open,children:s.jsx(Sv,{asChild:!0,container:a,children:n})})})};MV.displayName=DT;var Hy="PopoverContent",FV=y.forwardRef((e,t)=>{const r=wpe(Hy,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Rp(Hy,e.__scopePopover);return s.jsx(Ri,{present:n||i.open,children:i.modal?s.jsx(Npe,{...a,ref:t}):s.jsx(jpe,{...a,ref:t})})});FV.displayName=Hy;var Npe=y.forwardRef((e,t)=>{const r=Rp(Hy,e.__scopePopover),n=y.useRef(null),a=_s(t,n),i=y.useRef(!1);return y.useEffect(()=>{const o=n.current;if(o)return k2(o)},[]),s.jsx(fv,{as:DV,allowPinchZoom:!0,children:s.jsx(BV,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wr(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:wr(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:wr(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),jpe=y.forwardRef((e,t)=>{const r=Rp(Hy,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(BV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),BV=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...m}=e,p=Rp(Hy,r),g=V2(r);return mS(),s.jsx(I2,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(wv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:s.jsx(bS,{"data-state":$V(p.open),role:"dialog",id:p.contentId,...g,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),UV="PopoverClose",Spe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Rp(UV,r);return s.jsx(Rr.button,{type:"button",...n,ref:t,onClick:wr(e.onClick,()=>a.onOpenChange(!1))})});Spe.displayName=UV;var Ape="PopoverArrow",Epe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=V2(r);return s.jsx(wS,{...a,...n,ref:t})});Epe.displayName=Ape;function $V(e){return e?"open":"closed"}var Cpe=OV,_pe=LV,kpe=MV,Tpe=FV;function Wc({...e}){return s.jsx(Cpe,{"data-slot":"popover",...e})}function Gc({...e}){return s.jsx(_pe,{"data-slot":"popover-trigger",...e})}function Yc({className:e,align:t="center",sideOffset:r=4,...n}){return s.jsx(kpe,{children:s.jsx(Tpe,{"data-slot":"popover-content",align:t,sideOffset:r,className:jt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}var ps=function(){return ps=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ps.apply(this,arguments)};function Dpe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function VV(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function q2(e){return e.mode==="multiple"}function z2(e){return e.mode==="range"}function DS(e){return e.mode==="single"}var Ppe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Ope(e,t){return Wt(e,"LLLL y",t)}function Rpe(e,t){return Wt(e,"d",t)}function Ipe(e,t){return Wt(e,"LLLL",t)}function Lpe(e){return"".concat(e)}function Mpe(e,t){return Wt(e,"cccccc",t)}function Fpe(e,t){return Wt(e,"yyyy",t)}var Bpe=Object.freeze({__proto__:null,formatCaption:Ope,formatDay:Rpe,formatMonthCaption:Ipe,formatWeekNumber:Lpe,formatWeekdayName:Mpe,formatYearCaption:Fpe}),Upe=function(e,t,r){return Wt(e,"do MMMM (EEEE)",r)},$pe=function(){return"Month: "},Vpe=function(){return"Go to next month"},qpe=function(){return"Go to previous month"},zpe=function(e,t){return Wt(e,"cccc",t)},Hpe=function(e){return"Week n. ".concat(e)},Wpe=function(){return"Year: "},Gpe=Object.freeze({__proto__:null,labelDay:Upe,labelMonthDropdown:$pe,labelNext:Vpe,labelPrevious:qpe,labelWeekNumber:Hpe,labelWeekday:zpe,labelYearDropdown:Wpe});function Ype(){var e="buttons",t=Ppe,r=SV,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Bpe,labels:Gpe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Kpe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Dl(n):t&&(i=new Date(t,0,1)),a?o=TS(a):r&&(o=new Date(r,11,31)),{fromDate:i?Of(i):void 0,toDate:o?Of(o):void 0}}var qV=y.createContext(void 0);function Qpe(e){var t,r=e.initialProps,n=Ype(),a=Kpe(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(DS(r)||q2(r)||z2(r))&&(c=r.onSelect);var d=ps(ps(ps({},n),r),{captionLayout:l,classNames:ps(ps({},n.classNames),r.classNames),components:ps({},r.components),formatters:ps(ps({},n.formatters),r.formatters),fromDate:i,labels:ps(ps({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ps(ps({},n.modifiers),r.modifiers),modifiersClassNames:ps(ps({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:ps(ps({},n.styles),r.styles),toDate:o});return s.jsx(qV.Provider,{value:d,children:e.children})}function oa(){var e=y.useContext(qV);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function zV(e){var t=oa(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Xpe(e){return s.jsx("svg",ps({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function HV(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=oa(),h=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Xpe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Zpe(e){var t,r=oa(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,h=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var m=[];if(Kme(n,a))for(var p=Dl(n),g=n.getMonth();g<=a.getMonth();g++)m.push(lE(p,g));else for(var p=Dl(new Date),g=0;g<=11;g++)m.push(lE(p,g));var w=function(v){var N=Number(v.target.value),S=lE(Dl(e.displayMonth),N);e.onChange(S)},b=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:HV;return s.jsx(b,{name:"months","aria-label":h(),className:c.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function Jpe(e){var t,r=e.displayMonth,n=oa(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,h=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,p=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var g=a.getFullYear(),w=i.getFullYear(),b=g;b<=w;b++)p.push(cR(NV(new Date),b));var v=function(S){var A=cR(Dl(r),Number(S.target.value));e.onChange(A)},N=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:HV;return s.jsx(N,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:h(r,{locale:o}),children:p.map(function(S){return s.jsx("option",{value:S.getFullYear(),children:h(S,{locale:o})},S.getFullYear())})})}function e0e(e,t){var r=y.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function t0e(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Kb(i,a)<0){var d=-1*(c-1);a=Mu(i,d)}return o&&Kb(a,o)<0&&(a=o),Dl(a)}function r0e(){var e=oa(),t=t0e(e),r=e0e(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Dl(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function s0e(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Dl(e),i=Dl(Mu(a,n)),o=Kb(i,a),l=[],c=0;c<o;c++){var d=Mu(a,c);l.push(d)}return r&&(l=l.reverse()),l}function n0e(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Dl(e);if(!r)return Mu(l,o);var c=Kb(r,e);if(!(c<i))return Mu(l,o)}}function a0e(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Dl(e);if(!r)return Mu(l,-o);var c=Kb(l,r);if(!(c<=0))return Mu(l,-o)}}var WV=y.createContext(void 0);function i0e(e){var t=oa(),r=r0e(),n=r[0],a=r[1],i=s0e(n,t),o=n0e(n,t),l=a0e(n,t),c=function(m){return i.some(function(p){return kT(m,p)})},d=function(m,p){c(m)||(p&&kV(m,p)?a(Mu(m,1+t.numberOfMonths*-1)):a(m))},h={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(WV.Provider,{value:h,children:e.children})}function H2(){var e=y.useContext(WV);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function dR(e){var t,r=oa(),n=r.classNames,a=r.styles,i=r.components,o=H2().goToMonth,l=function(h){o(Mu(h,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:zV,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(Zpe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(Jpe,{onChange:l,displayMonth:e.displayMonth})]})}function o0e(e){return s.jsx("svg",ps({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function l0e(e){return s.jsx("svg",ps({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var s5=y.forwardRef(function(e,t){var r=oa(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=ps(ps({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",ps({},e,{ref:t,type:"button",className:o,style:l}))});function c0e(e){var t,r,n=oa(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,h=c.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var p=d(e.previousMonth,{locale:i}),g=[o.nav_button,o.nav_button_previous].join(" "),w=h(e.nextMonth,{locale:i}),b=[o.nav_button,o.nav_button_next].join(" "),v=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:l0e,N=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:o0e;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(s5,{name:"previous-month","aria-label":p,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(N,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(s5,{name:"next-month","aria-label":w,className:b,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(N,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function uR(e){var t=oa().numberOfMonths,r=H2(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(w){return kT(e.displayMonth,w)}),c=l===0,d=l===o.length-1,h=t>1&&(c||!d),m=t>1&&(d||!c),p=function(){n&&i(n)},g=function(){a&&i(a)};return s.jsx(c0e,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:a,previousMonth:n,onPreviousClick:p,onNextClick:g})}function d0e(e){var t,r=oa(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:zV,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(dR,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(dR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(uR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(uR,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:d})}function u0e(e){var t=oa(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function h0e(e,t,r){for(var n=r?rg(new Date):Vh(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Gi(n,i);a.push(o)}return a}function f0e(){var e=oa(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=h0e(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(h,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(h,{locale:a}),children:l(h,{locale:a})},m)})]})}function m0e(){var e,t=oa(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:f0e;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function p0e(e){var t=oa(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var PT=y.createContext(void 0);function g0e(e){if(!q2(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(PT.Provider,{value:t,children:e.children})}return s.jsx(x0e,{initialProps:e.initialProps,children:e.children})}function x0e(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(d,h,m){var p,g;(p=t.onDayClick)===null||p===void 0||p.call(t,d,h,m);var w=!!(h.selected&&a&&(n==null?void 0:n.length)===a);if(!w){var b=!!(!h.selected&&i&&(n==null?void 0:n.length)===i);if(!b){var v=n?VV([],n):[];if(h.selected){var N=v.findIndex(function(S){return rc(d,S)});v.splice(N,1)}else v.push(d);(g=t.onSelect)===null||g===void 0||g.call(t,v,d,h,m)}}},l={disabled:[]};n&&l.disabled.push(function(d){var h=i&&n.length>i-1,m=n.some(function(p){return rc(p,d)});return!!(h&&!m)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(PT.Provider,{value:c,children:r})}function OT(){var e=y.useContext(PT);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function y0e(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?rc(a,e)&&rc(n,e)?void 0:rc(a,e)?{from:a,to:void 0}:rc(n,e)?void 0:dy(n,e)?{from:e,to:a}:{from:n,to:e}:a?dy(e,a)?{from:a,to:e}:{from:e,to:a}:n?kV(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var RT=y.createContext(void 0);function v0e(e){if(!z2(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(RT.Provider,{value:t,children:e.children})}return s.jsx(b0e,{initialProps:e.initialProps,children:e.children})}function b0e(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(g,w,b){var v,N;(v=t.onDayClick)===null||v===void 0||v.call(t,g,w,b);var S=y0e(g,n);(N=t.onSelect)===null||N===void 0||N.call(t,S,g,w,b)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(h.range_start=[i],o?(h.range_end=[o],rc(i,o)||(h.range_middle=[{after:i,before:o}])):h.range_end=[i]):o&&(h.range_start=[o],h.range_end=[o]),l&&(i&&!o&&h.disabled.push({after:sb(i,l-1),before:Gi(i,l-1)}),i&&o&&h.disabled.push({after:i,before:Gi(i,l-1)}),!i&&o&&h.disabled.push({after:sb(o,l-1),before:Gi(o,l-1)})),c){if(i&&!o&&(h.disabled.push({before:Gi(i,-c+1)}),h.disabled.push({after:Gi(i,c-1)})),i&&o){var m=_h(o,i)+1,p=c-m;h.disabled.push({before:sb(i,p)}),h.disabled.push({after:Gi(o,p)})}!i&&o&&(h.disabled.push({before:Gi(o,-c+1)}),h.disabled.push({after:Gi(o,c-1)}))}return s.jsx(RT.Provider,{value:{selected:n,onDayClick:d,modifiers:h},children:r})}function IT(){var e=y.useContext(RT);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function bj(e){return Array.isArray(e)?VV([],e):e!==void 0?[e]:[]}function w0e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=bj(a)}),t}var Fu;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Fu||(Fu={}));var N0e=Fu.Selected,yf=Fu.Disabled,j0e=Fu.Hidden,S0e=Fu.Today,cE=Fu.RangeEnd,dE=Fu.RangeMiddle,uE=Fu.RangeStart,A0e=Fu.Outside;function E0e(e,t,r){var n,a=(n={},n[N0e]=bj(e.selected),n[yf]=bj(e.disabled),n[j0e]=bj(e.hidden),n[S0e]=[e.today],n[cE]=[],n[dE]=[],n[uE]=[],n[A0e]=[],n);return e.fromDate&&a[yf].push({before:e.fromDate}),e.toDate&&a[yf].push({after:e.toDate}),q2(e)?a[yf]=a[yf].concat(t.modifiers[yf]):z2(e)&&(a[yf]=a[yf].concat(r.modifiers[yf]),a[uE]=r.modifiers[uE],a[dE]=r.modifiers[dE],a[cE]=r.modifiers[cE]),a}var GV=y.createContext(void 0);function C0e(e){var t=oa(),r=OT(),n=IT(),a=E0e(t,r,n),i=w0e(t.modifiers),o=ps(ps({},a),i);return s.jsx(GV.Provider,{value:o,children:e.children})}function YV(){var e=y.useContext(GV);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function _0e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function k0e(e){return!!(e&&typeof e=="object"&&"from"in e)}function T0e(e){return!!(e&&typeof e=="object"&&"after"in e)}function D0e(e){return!!(e&&typeof e=="object"&&"before"in e)}function P0e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function O0e(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=_h(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=_h(e,n)>=0&&_h(a,e)>=0;return o}return a?rc(a,e):n?rc(n,e):!1}function R0e(e){return CT(e)}function I0e(e){return Array.isArray(e)&&e.every(CT)}function L0e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(R0e(r))return rc(e,r);if(I0e(r))return r.includes(e);if(k0e(r))return O0e(e,r);if(P0e(r))return r.dayOfWeek.includes(e.getDay());if(_0e(r)){var n=_h(r.before,e),a=_h(r.after,e),i=n>0,o=a<0,l=dy(r.before,r.after);return l?o&&i:i||o}return T0e(r)?_h(e,r.after)>0:D0e(r)?_h(r.before,e)>0:typeof r=="function"?r(e):!1})}function LT(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return L0e(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!kT(e,r)&&(a.outside=!0),a}function M0e(e,t){for(var r=Dl(e[0]),n=TS(e[e.length-1]),a,i,o=r;o<=n;){var l=LT(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Gi(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Gi(o,1)}return i||a}var F0e=365;function KV(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,h=a.toDate,m=a.locale,p={day:Gi,week:zC,month:Mu,year:Hfe,startOfWeek:function(v){return a.ISOWeek?rg(v):Vh(v,{locale:m,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?jV(v):_T(v,{locale:m,weekStartsOn:c})}},g=p[r](e,n==="after"?1:-1);n==="before"&&d?g=Wfe([d,g]):n==="after"&&h&&(g=Gfe([h,g]));var w=!0;if(i){var b=LT(g,i);w=!b.disabled&&!b.hidden}return w?g:l.count>F0e?l.lastFocused:KV(g,{moveBy:r,direction:n,context:a,modifiers:i,retry:ps(ps({},l),{count:l.count+1})})}var QV=y.createContext(void 0);function B0e(e){var t=H2(),r=YV(),n=y.useState(),a=n[0],i=n[1],o=y.useState(),l=o[0],c=o[1],d=M0e(t.displayMonths,r),h=a??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(a),i(void 0)},p=function(v){i(v)},g=oa(),w=function(v,N){if(a){var S=KV(a,{moveBy:v,direction:N,context:g,modifiers:r});rc(a,S)||(t.goToDate(S,a),p(S))}},b={focusedDay:a,focusTarget:h,blur:m,focus:p,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return s.jsx(QV.Provider,{value:b,children:e.children})}function MT(){var e=y.useContext(QV);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function U0e(e,t){var r=YV(),n=LT(e,r,t);return n}var FT=y.createContext(void 0);function $0e(e){if(!DS(e.initialProps)){var t={selected:void 0};return s.jsx(FT.Provider,{value:t,children:e.children})}return s.jsx(V0e,{initialProps:e.initialProps,children:e.children})}function V0e(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,d,h;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(FT.Provider,{value:a,children:r})}function XV(){var e=y.useContext(FT);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function q0e(e,t){var r=oa(),n=XV(),a=OT(),i=IT(),o=MT(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,h=o.focusWeekBefore,m=o.blur,p=o.focus,g=o.focusMonthBefore,w=o.focusMonthAfter,b=o.focusYearBefore,v=o.focusYearAfter,N=o.focusStartOfWeek,S=o.focusEndOfWeek,A=function(Q){var V,Z,J,ae;DS(r)?(V=n.onDayClick)===null||V===void 0||V.call(n,e,t,Q):q2(r)?(Z=a.onDayClick)===null||Z===void 0||Z.call(a,e,t,Q):z2(r)?(J=i.onDayClick)===null||J===void 0||J.call(i,e,t,Q):(ae=r.onDayClick)===null||ae===void 0||ae.call(r,e,t,Q)},E=function(Q){var V;p(e),(V=r.onDayFocus)===null||V===void 0||V.call(r,e,t,Q)},C=function(Q){var V;m(),(V=r.onDayBlur)===null||V===void 0||V.call(r,e,t,Q)},I=function(Q){var V;(V=r.onDayMouseEnter)===null||V===void 0||V.call(r,e,t,Q)},P=function(Q){var V;(V=r.onDayMouseLeave)===null||V===void 0||V.call(r,e,t,Q)},F=function(Q){var V;(V=r.onDayPointerEnter)===null||V===void 0||V.call(r,e,t,Q)},k=function(Q){var V;(V=r.onDayPointerLeave)===null||V===void 0||V.call(r,e,t,Q)},z=function(Q){var V;(V=r.onDayTouchCancel)===null||V===void 0||V.call(r,e,t,Q)},O=function(Q){var V;(V=r.onDayTouchEnd)===null||V===void 0||V.call(r,e,t,Q)},M=function(Q){var V;(V=r.onDayTouchMove)===null||V===void 0||V.call(r,e,t,Q)},R=function(Q){var V;(V=r.onDayTouchStart)===null||V===void 0||V.call(r,e,t,Q)},B=function(Q){var V;(V=r.onDayKeyUp)===null||V===void 0||V.call(r,e,t,Q)},Y=function(Q){var V;switch(Q.key){case"ArrowLeft":Q.preventDefault(),Q.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":Q.preventDefault(),Q.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":Q.preventDefault(),Q.stopPropagation(),d();break;case"ArrowUp":Q.preventDefault(),Q.stopPropagation(),h();break;case"PageUp":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?b():g();break;case"PageDown":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?v():w();break;case"Home":Q.preventDefault(),Q.stopPropagation(),N();break;case"End":Q.preventDefault(),Q.stopPropagation(),S();break}(V=r.onDayKeyDown)===null||V===void 0||V.call(r,e,t,Q)},U={onClick:A,onFocus:E,onBlur:C,onKeyDown:Y,onKeyUp:B,onMouseEnter:I,onMouseLeave:P,onPointerEnter:F,onPointerLeave:k,onTouchCancel:z,onTouchEnd:O,onTouchMove:M,onTouchStart:R};return U}function z0e(){var e=oa(),t=XV(),r=OT(),n=IT(),a=DS(e)?t.selected:q2(e)?r.selected:z2(e)?n.selected:void 0;return a}function H0e(e){return Object.values(Fu).includes(e)}function W0e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(H0e(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function G0e(e,t){var r=ps({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=ps(ps({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Y0e(e,t,r){var n,a,i,o=oa(),l=MT(),c=U0e(e,t),d=q0e(e,c),h=z0e(),m=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var I;c.outside||l.focusedDay&&m&&rc(l.focusedDay,e)&&((I=r.current)===null||I===void 0||I.focus())},[l.focusedDay,e,r,m,c.outside]);var p=W0e(o,c).join(" "),g=G0e(o,c),w=!!(c.outside&&!o.showOutsideDays||c.hidden),b=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:p0e,v=s.jsx(b,{date:e,displayMonth:t,activeModifiers:c}),N={style:g,className:p,children:v,role:"gridcell"},S=l.focusTarget&&rc(l.focusTarget,e)&&!c.outside,A=l.focusedDay&&rc(l.focusedDay,e),E=ps(ps(ps({},N),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=A||S?0:-1,n)),d),C={isButton:m,isHidden:w,activeModifiers:c,selectedDays:h,buttonProps:E,divProps:N};return C}function K0e(e){var t=y.useRef(null),r=Y0e(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(s5,ps({name:"day",ref:t},r.buttonProps)):s.jsx("div",ps({},r.divProps))}function Q0e(e){var t=e.number,r=e.dates,n=oa(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,h=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:h});var m=c(Number(t),{locale:l}),p=function(g){a(t,r,g)};return s.jsx(s5,{name:"week-number","aria-label":m,className:o.weeknumber,style:i.weeknumber,onClick:p,children:h})}function X0e(e){var t,r,n=oa(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:K0e,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Q0e,h;return o&&(h=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[h,e.dates.map(function(m){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:m})},Wme(m))})]})}function hR(e,t,r){for(var n=r!=null&&r.ISOWeek?jV(t):_T(t,r),a=r!=null&&r.ISOWeek?rg(e):Vh(e,r),i=_h(n,a),o=[],l=0;l<=i;l++)o.push(Gi(a,l));var c=o.reduce(function(d,h){var m=r!=null&&r.ISOWeek?AV(h):CV(h,r),p=d.find(function(g){return g.weekNumber===m});return p?(p.dates.push(h),d):(d.push({weekNumber:m,dates:[h]}),d)},[]);return c}function Z0e(e,t){var r=hR(Dl(e),TS(e),t);if(t!=null&&t.useFixedWeeks){var n=Yme(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=zC(i,6-n),l=hR(zC(i,1),o,t);r.push.apply(r,l)}}return r}function J0e(e){var t,r,n,a=oa(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,h=a.components,m=a.weekStartsOn,p=a.firstWeekContainsDate,g=a.ISOWeek,w=Z0e(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:g,locale:i,weekStartsOn:m,firstWeekContainsDate:p}),b=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:m0e,v=(r=h==null?void 0:h.Row)!==null&&r!==void 0?r:X0e,N=(n=h==null?void 0:h.Footer)!==null&&n!==void 0?n:u0e;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(b,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:w.map(function(S){return s.jsx(v,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),s.jsx(N,{displayMonth:e.displayMonth})]})}function ege(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var tge=ege()?y.useLayoutEffect:y.useEffect,hE=!1,rge=0;function fR(){return"react-day-picker-".concat(++rge)}function sge(e){var t,r=e??(hE?fR():null),n=y.useState(r),a=n[0],i=n[1];return tge(function(){a===null&&i(fR())},[]),y.useEffect(function(){hE===!1&&(hE=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function nge(e){var t,r,n=oa(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=H2().displayMonths,d=sge(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),h=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],p=o.month,g=e.displayIndex===0,w=e.displayIndex===c.length-1,b=!g&&!w;a==="rtl"&&(t=[g,w],w=t[0],g=t[1]),g&&(m.push(i.caption_start),p=ps(ps({},p),o.caption_start)),w&&(m.push(i.caption_end),p=ps(ps({},p),o.caption_end)),b&&(m.push(i.caption_between),p=ps(ps({},p),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:d0e;return s.jsxs("div",{className:m.join(" "),style:p,children:[s.jsx(v,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(J0e,{id:h,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function age(e){var t=oa(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function ige(e){var t,r,n=e.initialProps,a=oa(),i=MT(),o=H2(),l=y.useState(!1),c=l[0],d=l[1];y.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var h=[a.classNames.root,a.className];a.numberOfMonths>1&&h.push(a.classNames.multiple_months),a.showWeekNumber&&h.push(a.classNames.with_weeknumber);var m=ps(ps({},a.styles.root),a.style),p=Object.keys(n).filter(function(w){return w.startsWith("data-")}).reduce(function(w,b){var v;return ps(ps({},w),(v={},v[b]=n[b],v))},{}),g=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:age;return s.jsx("div",ps({className:h.join(" "),style:m,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:s.jsx(g,{children:o.displayMonths.map(function(w,b){return s.jsx(nge,{displayIndex:b,displayMonth:w},b)})})}))}function oge(e){var t=e.children,r=Dpe(e,["children"]);return s.jsx(Qpe,{initialProps:r,children:s.jsx(i0e,{children:s.jsx($0e,{initialProps:r,children:s.jsx(g0e,{initialProps:r,children:s.jsx(v0e,{initialProps:r,children:s.jsx(C0e,{children:s.jsx(B0e,{children:t})})})})})})})}function lge(e){return s.jsx(oge,ps({},e,{children:s.jsx(ige,{initialProps:e})}))}function Bu({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(lge,{showOutsideDays:r,className:jt("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:jt(Vy({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:jt("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:jt(Vy({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-gray-700-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-gray-700-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>s.jsx(dv,{className:jt("size-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(cc,{className:jt("size-4",a),...i})},...n})}const cge=()=>{const[e,t]=y.useState(1),r=10,[n,a]=y.useState(""),[i,o]=y.useState(""),[l,c]=y.useState(),d=y.useRef(null),[h,m]=y.useState(null),p=y.useCallback(I=>{a(I.target.value)},[]);y.useEffect(()=>(d.current&&window.clearTimeout(d.current),d.current=window.setTimeout(()=>o(n),400),()=>{d.current&&window.clearTimeout(d.current)}),[n]);const{data:g,isLoading:w,isError:b,refetch:v}=cs({queryKey:["wastages",e,i,l],queryFn:async()=>{let I=`/wastages?page=${e}&limit=${r}`;return i&&(I+=`&search=${i}`),l&&(I+=`&date=${Wt(l,"yyyy-MM-dd")}`),$t(I)}}),N=(g==null?void 0:g.data)||[],S=(g==null?void 0:g.totalPages)||1,A=()=>{a(""),o(""),c(void 0),t(1)},E=I=>I.reduce((P,F)=>P+(F.quantity||0),0),C=async()=>{if(h)try{await mi(`/wastages/${h}`),ve.success("Wastage deleted"),v(),m(null)}catch(I){ve.error(I.message||"Failed to delete wastage")}};return w?s.jsx("div",{className:"p-10 text-center",children:"Loading wastages..."}):b?s.jsx("div",{className:"p-10 text-center",children:"Error loading wastages"}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(St,{className:"mb-6",children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(dr,{className:"text-2xl",children:"Wastage Management"}),s.jsx(Rs,{to:"/admin/wastages/create",children:s.jsxs(Ee,{children:[s.jsx(li,{className:"mr-2 size-4"})," New Wastage"]})})]}),s.jsxs(_t,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(gt,{placeholder:"Search by wastage no",value:n,onChange:p}),s.jsxs(Wc,{children:[s.jsx(Gc,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",className:jt("w-full justify-start",!l&&"text-muted-foreground"),children:[s.jsx(Ma,{className:"mr-2 h-4 w-4"}),l?Wt(l,"dd/MM/yyyy"):"Pick a date"]})}),s.jsx(Yc,{className:"w-auto p-0",align:"start",children:s.jsx(Bu,{mode:"single",selected:l,onSelect:c})})]}),s.jsx(Ee,{variant:"outline",onClick:A,children:"Clear Filters"})]}),N.length===0?s.jsx("div",{className:"py-10 text-center",children:"No wastages found."}):s.jsxs(qs,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(zs,{className:"bg-gray-100",children:s.jsxs(hr,{children:[s.jsx($e,{className:"px-6 py-3",children:"Wastage No"}),s.jsx($e,{className:"px-6 py-3",children:"Wastage Date"}),s.jsx($e,{className:"px-6 py-3",children:"Invoice No"}),s.jsx($e,{className:"px-6 py-3",children:"Invoice Date"}),s.jsx($e,{className:"px-6 py-3 text-right",children:"Total Qty"}),s.jsx($e,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx(Hs,{className:"divide-y",children:N.map(I=>s.jsxs(hr,{className:"hover:bg-gray-50",children:[s.jsx(Oe,{className:"px-6 py-4 font-medium",children:I.wastageNo}),s.jsx(Oe,{className:"px-6 py-4",children:Wt(new Date(I.wastageDate),"dd/MM/yyyy")}),s.jsx(Oe,{className:"px-6 py-4",children:I.invoiceNo}),s.jsx(Oe,{className:"px-6 py-4",children:Wt(new Date(I.invoiceDate),"dd/MM/yyyy")}),s.jsx(Oe,{className:"px-6 py-4 text-right",children:E(I.details)}),s.jsxs(Oe,{className:"px-6 py-4 space-x-2",children:[s.jsx(Rs,{to:`/admin/wastages/edit/${I.id}`,children:s.jsx(Ee,{size:"icon",variant:"ghost",children:s.jsx(Ok,{className:"size-4"})})}),s.jsxs(pi,{children:[s.jsx(jg,{asChild:!0,children:s.jsx(Ee,{size:"icon",variant:"ghost",onClick:()=>m(I.id),children:s.jsx(Sa,{className:"size-4"})})}),s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Are you sure?"}),s.jsx(bi,{children:"This action cannot be undone. This will permanently delete the wastage and remove its data from our servers."})]}),s.jsxs(yi,{children:[s.jsx(wi,{onClick:()=>m(null),children:"Cancel"}),s.jsx(Ii,{onClick:C,children:"Continue"})]})]})]})]})]},I.id))})]}),S>1&&s.jsx(Sg,{className:"mt-6",children:s.jsxs(Ag,{children:[s.jsx(Eg,{onClick:()=>t(I=>Math.max(1,I-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",S]}),s.jsx(Cg,{onClick:()=>t(I=>Math.min(S,I+1))})]})})]})]})})};var W2=e=>e.type==="checkbox",A0=e=>e instanceof Date,Cl=e=>e==null;const ZV=e=>typeof e=="object";var fi=e=>!Cl(e)&&!Array.isArray(e)&&ZV(e)&&!A0(e),JV=e=>fi(e)&&e.target?W2(e.target)?e.target.checked:e.target.value:e,dge=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,eq=(e,t)=>e.has(dge(t)),uge=e=>{const t=e.constructor&&e.constructor.prototype;return fi(t)&&t.hasOwnProperty("isPrototypeOf")},BT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pa(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(BT&&(e instanceof Blob||n))&&(r||fi(e)))if(t=r?[]:{},!r&&!uge(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Pa(e[a]));else return e;return t}var G2=e=>Array.isArray(e)?e.filter(Boolean):[],pa=e=>e===void 0,Sr=(e,t,r)=>{if(!t||!fi(e))return r;const n=G2(t.split(/[,[\].]+?/)).reduce((a,i)=>Cl(a)?a:a[i],e);return pa(n)||n===e?pa(e[t])?r:e[t]:n},Ic=e=>typeof e=="boolean",UT=e=>/^\w*$/.test(e),tq=e=>G2(e.replace(/["|']|\]/g,"").split(/\.|\[/)),jn=(e,t,r)=>{let n=-1;const a=UT(t)?[t]:tq(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const d=e[l];c=fi(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const n5={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Td={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rq=We.createContext(null),Y2=()=>We.useContext(rq),hge=e=>{const{children:t,...r}=e;return We.createElement(rq.Provider,{value:r},t)};var sq=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Td.all&&(t._proxyFormState[o]=!n||Td.all),r&&(r[o]=!0),e[o]}});return a};function nq(e){const t=Y2(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=We.useState(r._formState),c=We.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=We.useRef(a);return d.current=a,We.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:i,callback:h=>{!n&&l({...r._formState,...h})}}),[r,n,i]),We.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),We.useMemo(()=>sq(o,r,c.current,!1),[o,r])}var kh=e=>typeof e=="string",aq=(e,t,r,n,a)=>kh(e)?(n&&t.watch.add(e),Sr(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Sr(r,i))):(n&&(t.watchAll=!0),r);function fge(e){const t=Y2(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},l=We.useRef(n),c=We.useRef(a);l.current=n,We.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:m=>!i&&h(aq(l.current,r._names,m.values||r._formValues,!1,c.current))}),[r,i,o]);const[d,h]=We.useState(r._getWatch(n,a));return We.useEffect(()=>r._removeUnmounted()),d}function mge(e){const t=Y2(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,o=eq(a._names.array,r),l=fge({control:a,name:r,defaultValue:Sr(a._formValues,r,Sr(a._defaultValues,r,e.defaultValue)),exact:!0}),c=nq({control:a,name:r,exact:!0}),d=We.useRef(e),h=We.useRef(a.register(r,{...e.rules,value:l,...Ic(e.disabled)?{disabled:e.disabled}:{}})),m=We.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Sr(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Sr(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Sr(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Sr(c.validatingFields,r)},error:{enumerable:!0,get:()=>Sr(c.errors,r)}}),[c,r]),p=We.useCallback(v=>h.current.onChange({target:{value:JV(v),name:r},type:n5.CHANGE}),[r]),g=We.useCallback(()=>h.current.onBlur({target:{value:Sr(a._formValues,r),name:r},type:n5.BLUR}),[r,a._formValues]),w=We.useCallback(v=>{const N=Sr(a._fields,r);N&&v&&(N._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:S=>v.setCustomValidity(S),reportValidity:()=>v.reportValidity()})},[a._fields,r]),b=We.useMemo(()=>({name:r,value:l,...Ic(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:p,onBlur:g,ref:w}),[r,n,c.disabled,p,g,w,l]);return We.useEffect(()=>{const v=a._options.shouldUnregister||i;a.register(r,{...d.current.rules,...Ic(d.current.disabled)?{disabled:d.current.disabled}:{}});const N=(S,A)=>{const E=Sr(a._fields,S);E&&E._f&&(E._f.mount=A)};if(N(r,!0),v){const S=Pa(Sr(a._options.defaultValues,r));jn(a._defaultValues,r,S),pa(Sr(a._formValues,r))&&jn(a._formValues,r,S)}return!o&&a.register(r),()=>{(o?v&&!a._state.action:v)?a.unregister(r):N(r,!1)}},[r,a,o,i]),We.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),We.useMemo(()=>({field:b,formState:c,fieldState:m}),[b,c,m])}const Fs=e=>e.render(mge(e));var iq=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},sc=e=>Array.isArray(e)?e:[e],mR=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},WC=e=>Cl(e)||!ZV(e);function Ym(e,t){if(WC(e)||WC(t))return e===t;if(A0(e)&&A0(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(A0(i)&&A0(o)||fi(i)&&fi(o)||Array.isArray(i)&&Array.isArray(o)?!Ym(i,o):i!==o)return!1}}return!0}var il=e=>fi(e)&&!Object.keys(e).length,$T=e=>e.type==="file",Su=e=>typeof e=="function",a5=e=>{if(!BT)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},oq=e=>e.type==="select-multiple",VT=e=>e.type==="radio",pge=e=>VT(e)||W2(e),fE=e=>a5(e)&&e.isConnected;function gge(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=pa(e)?n++:e[t[n++]];return e}function xge(e){for(const t in e)if(e.hasOwnProperty(t)&&!pa(e[t]))return!1;return!0}function _i(e,t){const r=Array.isArray(t)?t:UT(t)?[t]:tq(t),n=r.length===1?e:gge(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(fi(n)&&il(n)||Array.isArray(n)&&xge(n))&&_i(e,r.slice(0,-1)),e}var lq=e=>{for(const t in e)if(Su(e[t]))return!0;return!1};function i5(e,t={}){const r=Array.isArray(e);if(fi(e)||r)for(const n in e)Array.isArray(e[n])||fi(e[n])&&!lq(e[n])?(t[n]=Array.isArray(e[n])?[]:{},i5(e[n],t[n])):Cl(e[n])||(t[n]=!0);return t}function cq(e,t,r){const n=Array.isArray(e);if(fi(e)||n)for(const a in e)Array.isArray(e[a])||fi(e[a])&&!lq(e[a])?pa(t)||WC(r[a])?r[a]=Array.isArray(e[a])?i5(e[a],[]):{...i5(e[a])}:cq(e[a],Cl(t)?{}:t[a],r[a]):r[a]=!Ym(e[a],t[a]);return r}var I1=(e,t)=>cq(e,t,i5(t));const pR={value:!1,isValid:!1},gR={value:!0,isValid:!0};var dq=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pa(e[0].attributes.value)?pa(e[0].value)||e[0].value===""?gR:{value:e[0].value,isValid:!0}:gR:pR}return pR},uq=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>pa(e)?e:t?e===""?NaN:e&&+e:r&&kh(e)?new Date(e):n?n(e):e;const xR={isValid:!1,value:null};var hq=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,xR):xR;function yR(e){const t=e.ref;return $T(t)?t.files:VT(t)?hq(e.refs).value:oq(t)?[...t.selectedOptions].map(({value:r})=>r):W2(t)?dq(e.refs).value:uq(pa(t.value)?e.ref.value:t.value,e)}var yge=(e,t,r,n)=>{const a={};for(const i of e){const o=Sr(t,i);o&&jn(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},o5=e=>e instanceof RegExp,L1=e=>pa(e)?e:o5(e)?e.source:fi(e)?o5(e.value)?e.value.source:e.value:e,Kx=e=>({isOnSubmit:!e||e===Td.onSubmit,isOnBlur:e===Td.onBlur,isOnChange:e===Td.onChange,isOnAll:e===Td.all,isOnTouch:e===Td.onTouched});const vR="AsyncFunction";var vge=e=>!!e&&!!e.validate&&!!(Su(e.validate)&&e.validate.constructor.name===vR||fi(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===vR)),bge=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),GC=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const uy=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Sr(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(uy(l,t))break}else if(fi(l)&&uy(l,t))break}}};function bR(e,t,r){const n=Sr(e,r);if(n||UT(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Sr(t,i),l=Sr(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var wge=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return il(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Td.all))},Nge=(e,t,r)=>!e||!t||e===t||sc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),jge=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Sge=(e,t)=>!G2(Sr(e,t)).length&&_i(e,t),fq=(e,t,r)=>{const n=sc(Sr(e,r));return jn(n,"root",t[r]),jn(e,r,n),e},wj=e=>kh(e);function wR(e,t,r="validate"){if(wj(e)||Array.isArray(e)&&e.every(wj)||Ic(e)&&!e)return{type:r,message:wj(e)?e:"",ref:t}}var Ex=e=>fi(e)&&!o5(e)?e:{value:e,message:""},YC=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:m,max:p,pattern:g,validate:w,name:b,valueAsNumber:v,mount:N}=e._f,S=Sr(r,b);if(!N||t.has(b))return{};const A=l?l[0]:o,E=M=>{a&&A.reportValidity&&(A.setCustomValidity(Ic(M)?"":M||""),A.reportValidity())},C={},I=VT(o),P=W2(o),F=I||P,k=(v||$T(o))&&pa(o.value)&&pa(S)||a5(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,z=iq.bind(null,b,n,C),O=(M,R,B,Y=vf.maxLength,U=vf.minLength)=>{const Q=M?R:B;C[b]={type:M?Y:U,message:Q,ref:o,...z(M?Y:U,Q)}};if(i?!Array.isArray(S)||!S.length:c&&(!F&&(k||Cl(S))||Ic(S)&&!S||P&&!dq(l).isValid||I&&!hq(l).isValid)){const{value:M,message:R}=wj(c)?{value:!!c,message:c}:Ex(c);if(M&&(C[b]={type:vf.required,message:R,ref:A,...z(vf.required,R)},!n))return E(R),C}if(!k&&(!Cl(m)||!Cl(p))){let M,R;const B=Ex(p),Y=Ex(m);if(!Cl(S)&&!isNaN(S)){const U=o.valueAsNumber||S&&+S;Cl(B.value)||(M=U>B.value),Cl(Y.value)||(R=U<Y.value)}else{const U=o.valueAsDate||new Date(S),Q=J=>new Date(new Date().toDateString()+" "+J),V=o.type=="time",Z=o.type=="week";kh(B.value)&&S&&(M=V?Q(S)>Q(B.value):Z?S>B.value:U>new Date(B.value)),kh(Y.value)&&S&&(R=V?Q(S)<Q(Y.value):Z?S<Y.value:U<new Date(Y.value))}if((M||R)&&(O(!!M,B.message,Y.message,vf.max,vf.min),!n))return E(C[b].message),C}if((d||h)&&!k&&(kh(S)||i&&Array.isArray(S))){const M=Ex(d),R=Ex(h),B=!Cl(M.value)&&S.length>+M.value,Y=!Cl(R.value)&&S.length<+R.value;if((B||Y)&&(O(B,M.message,R.message),!n))return E(C[b].message),C}if(g&&!k&&kh(S)){const{value:M,message:R}=Ex(g);if(o5(M)&&!S.match(M)&&(C[b]={type:vf.pattern,message:R,ref:o,...z(vf.pattern,R)},!n))return E(R),C}if(w){if(Su(w)){const M=await w(S,r),R=wR(M,A);if(R&&(C[b]={...R,...z(vf.validate,R.message)},!n))return E(R.message),C}else if(fi(w)){let M={};for(const R in w){if(!il(M)&&!n)break;const B=wR(await w[R](S,r),A,R);B&&(M={...B,...z(R,B.message)},E(B.message),n&&(C[b]=M))}if(!il(M)&&(C[b]={ref:A,...M},!n))return C}}return E(!0),C};const Age={mode:Td.onSubmit,reValidateMode:Td.onChange,shouldFocusError:!0};function Ege(e={}){let t={...Age,...e},r={submitCount:0,isDirty:!1,isLoading:Su(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=fi(t.defaultValues)||fi(t.values)?Pa(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Pa(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...h};const p={array:mR(),state:mR()},g=Kx(t.mode),w=Kx(t.reValidateMode),b=t.criteriaMode===Td.all,v=me=>we=>{clearTimeout(d),d=setTimeout(me,we)},N=async me=>{if(!t.disabled&&(h.isValid||m.isValid||me)){const we=t.resolver?il((await k()).errors):await O(n,!0);we!==r.isValid&&p.state.next({isValid:we})}},S=(me,we)=>{!t.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((me||Array.from(l.mount)).forEach(qe=>{qe&&(we?jn(r.validatingFields,qe,we):_i(r.validatingFields,qe))}),p.state.next({validatingFields:r.validatingFields,isValidating:!il(r.validatingFields)}))},A=(me,we=[],qe,xt,pt=!0,ct=!0)=>{if(xt&&qe&&!t.disabled){if(o.action=!0,ct&&Array.isArray(Sr(n,me))){const ft=qe(Sr(n,me),xt.argA,xt.argB);pt&&jn(n,me,ft)}if(ct&&Array.isArray(Sr(r.errors,me))){const ft=qe(Sr(r.errors,me),xt.argA,xt.argB);pt&&jn(r.errors,me,ft),Sge(r.errors,me)}if((h.touchedFields||m.touchedFields)&&ct&&Array.isArray(Sr(r.touchedFields,me))){const ft=qe(Sr(r.touchedFields,me),xt.argA,xt.argB);pt&&jn(r.touchedFields,me,ft)}(h.dirtyFields||m.dirtyFields)&&(r.dirtyFields=I1(a,i)),p.state.next({name:me,isDirty:R(me,we),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else jn(i,me,we)},E=(me,we)=>{jn(r.errors,me,we),p.state.next({errors:r.errors})},C=me=>{r.errors=me,p.state.next({errors:r.errors,isValid:!1})},I=(me,we,qe,xt)=>{const pt=Sr(n,me);if(pt){const ct=Sr(i,me,pa(qe)?Sr(a,me):qe);pa(ct)||xt&&xt.defaultChecked||we?jn(i,me,we?ct:yR(pt._f)):U(me,ct),o.mount&&N()}},P=(me,we,qe,xt,pt)=>{let ct=!1,ft=!1;const Mt={name:me};if(!t.disabled){if(!qe||xt){(h.isDirty||m.isDirty)&&(ft=r.isDirty,r.isDirty=Mt.isDirty=R(),ct=ft!==Mt.isDirty);const Xt=Ym(Sr(a,me),we);ft=!!Sr(r.dirtyFields,me),Xt?_i(r.dirtyFields,me):jn(r.dirtyFields,me,!0),Mt.dirtyFields=r.dirtyFields,ct=ct||(h.dirtyFields||m.dirtyFields)&&ft!==!Xt}if(qe){const Xt=Sr(r.touchedFields,me);Xt||(jn(r.touchedFields,me,qe),Mt.touchedFields=r.touchedFields,ct=ct||(h.touchedFields||m.touchedFields)&&Xt!==qe)}ct&&pt&&p.state.next(Mt)}return ct?Mt:{}},F=(me,we,qe,xt)=>{const pt=Sr(r.errors,me),ct=(h.isValid||m.isValid)&&Ic(we)&&r.isValid!==we;if(t.delayError&&qe?(c=v(()=>E(me,qe)),c(t.delayError)):(clearTimeout(d),c=null,qe?jn(r.errors,me,qe):_i(r.errors,me)),(qe?!Ym(pt,qe):pt)||!il(xt)||ct){const ft={...xt,...ct&&Ic(we)?{isValid:we}:{},errors:r.errors,name:me};r={...r,...ft},p.state.next(ft)}},k=async me=>{S(me,!0);const we=await t.resolver(i,t.context,yge(me||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return S(me),we},z=async me=>{const{errors:we}=await k(me);if(me)for(const qe of me){const xt=Sr(we,qe);xt?jn(r.errors,qe,xt):_i(r.errors,qe)}else r.errors=we;return we},O=async(me,we,qe={valid:!0})=>{for(const xt in me){const pt=me[xt];if(pt){const{_f:ct,...ft}=pt;if(ct){const Mt=l.array.has(ct.name),Xt=pt._f&&vge(pt._f);Xt&&h.validatingFields&&S([xt],!0);const ur=await YC(pt,l.disabled,i,b,t.shouldUseNativeValidation&&!we,Mt);if(Xt&&h.validatingFields&&S([xt]),ur[ct.name]&&(qe.valid=!1,we))break;!we&&(Sr(ur,ct.name)?Mt?fq(r.errors,ur,ct.name):jn(r.errors,ct.name,ur[ct.name]):_i(r.errors,ct.name))}!il(ft)&&await O(ft,we,qe)}}return qe.valid},M=()=>{for(const me of l.unMount){const we=Sr(n,me);we&&(we._f.refs?we._f.refs.every(qe=>!fE(qe)):!fE(we._f.ref))&&se(me)}l.unMount=new Set},R=(me,we)=>!t.disabled&&(me&&we&&jn(i,me,we),!Ym(D(),a)),B=(me,we,qe)=>aq(me,l,{...o.mount?i:pa(we)?a:kh(me)?{[me]:we}:we},qe,we),Y=me=>G2(Sr(o.mount?i:a,me,t.shouldUnregister?Sr(a,me,[]):[])),U=(me,we,qe={})=>{const xt=Sr(n,me);let pt=we;if(xt){const ct=xt._f;ct&&(!ct.disabled&&jn(i,me,uq(we,ct)),pt=a5(ct.ref)&&Cl(we)?"":we,oq(ct.ref)?[...ct.ref.options].forEach(ft=>ft.selected=pt.includes(ft.value)):ct.refs?W2(ct.ref)?ct.refs.length>1?ct.refs.forEach(ft=>(!ft.defaultChecked||!ft.disabled)&&(ft.checked=Array.isArray(pt)?!!pt.find(Mt=>Mt===ft.value):pt===ft.value)):ct.refs[0]&&(ct.refs[0].checked=!!pt):ct.refs.forEach(ft=>ft.checked=ft.value===pt):$T(ct.ref)?ct.ref.value="":(ct.ref.value=pt,ct.ref.type||p.state.next({name:me,values:Pa(i)})))}(qe.shouldDirty||qe.shouldTouch)&&P(me,pt,qe.shouldTouch,qe.shouldDirty,!0),qe.shouldValidate&&ae(me)},Q=(me,we,qe)=>{for(const xt in we){const pt=we[xt],ct=`${me}.${xt}`,ft=Sr(n,ct);(l.array.has(me)||fi(pt)||ft&&!ft._f)&&!A0(pt)?Q(ct,pt,qe):U(ct,pt,qe)}},V=(me,we,qe={})=>{const xt=Sr(n,me),pt=l.array.has(me),ct=Pa(we);jn(i,me,ct),pt?(p.array.next({name:me,values:Pa(i)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&qe.shouldDirty&&p.state.next({name:me,dirtyFields:I1(a,i),isDirty:R(me,ct)})):xt&&!xt._f&&!Cl(ct)?Q(me,ct,qe):U(me,ct,qe),GC(me,l)&&p.state.next({...r}),p.state.next({name:o.mount?me:void 0,values:Pa(i)})},Z=async me=>{o.mount=!0;const we=me.target;let qe=we.name,xt=!0;const pt=Sr(n,qe),ct=ft=>{xt=Number.isNaN(ft)||A0(ft)&&isNaN(ft.getTime())||Ym(ft,Sr(i,qe,ft))};if(pt){let ft,Mt;const Xt=we.type?yR(pt._f):JV(me),ur=me.type===n5.BLUR||me.type===n5.FOCUS_OUT,es=!bge(pt._f)&&!t.resolver&&!Sr(r.errors,qe)&&!pt._f.deps||jge(ur,Sr(r.touchedFields,qe),r.isSubmitted,w,g),Qr=GC(qe,l,ur);jn(i,qe,Xt),ur?(pt._f.onBlur&&pt._f.onBlur(me),c&&c(0)):pt._f.onChange&&pt._f.onChange(me);const mt=P(qe,Xt,ur),Er=!il(mt)||Qr;if(!ur&&p.state.next({name:qe,type:me.type,values:Pa(i)}),es)return(h.isValid||m.isValid)&&(t.mode==="onBlur"?ur&&N():ur||N()),Er&&p.state.next({name:qe,...Qr?{}:mt});if(!ur&&Qr&&p.state.next({...r}),t.resolver){const{errors:tr}=await k([qe]);if(ct(Xt),xt){const fr=bR(r.errors,n,qe),Lr=bR(tr,n,fr.name||qe);ft=Lr.error,qe=Lr.name,Mt=il(tr)}}else S([qe],!0),ft=(await YC(pt,l.disabled,i,b,t.shouldUseNativeValidation))[qe],S([qe]),ct(Xt),xt&&(ft?Mt=!1:(h.isValid||m.isValid)&&(Mt=await O(n,!0)));xt&&(pt._f.deps&&ae(pt._f.deps),F(qe,Mt,ft,mt))}},J=(me,we)=>{if(Sr(r.errors,we)&&me.focus)return me.focus(),1},ae=async(me,we={})=>{let qe,xt;const pt=sc(me);if(t.resolver){const ct=await z(pa(me)?me:pt);qe=il(ct),xt=me?!pt.some(ft=>Sr(ct,ft)):qe}else me?(xt=(await Promise.all(pt.map(async ct=>{const ft=Sr(n,ct);return await O(ft&&ft._f?{[ct]:ft}:ft)}))).every(Boolean),!(!xt&&!r.isValid)&&N()):xt=qe=await O(n);return p.state.next({...!kh(me)||(h.isValid||m.isValid)&&qe!==r.isValid?{}:{name:me},...t.resolver||!me?{isValid:qe}:{},errors:r.errors}),we.shouldFocus&&!xt&&uy(n,J,me?pt:l.mount),xt},D=me=>{const we={...o.mount?i:a};return pa(me)?we:kh(me)?Sr(we,me):me.map(qe=>Sr(we,qe))},H=(me,we)=>({invalid:!!Sr((we||r).errors,me),isDirty:!!Sr((we||r).dirtyFields,me),error:Sr((we||r).errors,me),isValidating:!!Sr(r.validatingFields,me),isTouched:!!Sr((we||r).touchedFields,me)}),K=me=>{me&&sc(me).forEach(we=>_i(r.errors,we)),p.state.next({errors:me?r.errors:{}})},W=(me,we,qe)=>{const xt=(Sr(n,me,{_f:{}})._f||{}).ref,pt=Sr(r.errors,me)||{},{ref:ct,message:ft,type:Mt,...Xt}=pt;jn(r.errors,me,{...Xt,...we,ref:xt}),p.state.next({name:me,errors:r.errors,isValid:!1}),qe&&qe.shouldFocus&&xt&&xt.focus&&xt.focus()},re=(me,we)=>Su(me)?p.state.subscribe({next:qe=>me(B(void 0,we),qe)}):B(me,we,!0),te=me=>p.state.subscribe({next:we=>{Nge(me.name,we.name,me.exact)&&wge(we,me.formState||h,Ye,me.reRenderRoot)&&me.callback({values:{...i},...r,...we})}}).unsubscribe,ie=me=>(o.mount=!0,m={...m,...me.formState},te({...me,formState:m})),se=(me,we={})=>{for(const qe of me?sc(me):l.mount)l.mount.delete(qe),l.array.delete(qe),we.keepValue||(_i(n,qe),_i(i,qe)),!we.keepError&&_i(r.errors,qe),!we.keepDirty&&_i(r.dirtyFields,qe),!we.keepTouched&&_i(r.touchedFields,qe),!we.keepIsValidating&&_i(r.validatingFields,qe),!t.shouldUnregister&&!we.keepDefaultValue&&_i(a,qe);p.state.next({values:Pa(i)}),p.state.next({...r,...we.keepDirty?{isDirty:R()}:{}}),!we.keepIsValid&&N()},le=({disabled:me,name:we})=>{(Ic(me)&&o.mount||me||l.disabled.has(we))&&(me?l.disabled.add(we):l.disabled.delete(we))},Ce=(me,we={})=>{let qe=Sr(n,me);const xt=Ic(we.disabled)||Ic(t.disabled);return jn(n,me,{...qe||{},_f:{...qe&&qe._f?qe._f:{ref:{name:me}},name:me,mount:!0,...we}}),l.mount.add(me),qe?le({disabled:Ic(we.disabled)?we.disabled:t.disabled,name:me}):I(me,!0,we.value),{...xt?{disabled:we.disabled||t.disabled}:{},...t.progressive?{required:!!we.required,min:L1(we.min),max:L1(we.max),minLength:L1(we.minLength),maxLength:L1(we.maxLength),pattern:L1(we.pattern)}:{},name:me,onChange:Z,onBlur:Z,ref:pt=>{if(pt){Ce(me,we),qe=Sr(n,me);const ct=pa(pt.value)&&pt.querySelectorAll&&pt.querySelectorAll("input,select,textarea")[0]||pt,ft=pge(ct),Mt=qe._f.refs||[];if(ft?Mt.find(Xt=>Xt===ct):ct===qe._f.ref)return;jn(n,me,{_f:{...qe._f,...ft?{refs:[...Mt.filter(fE),ct,...Array.isArray(Sr(a,me))?[{}]:[]],ref:{type:ct.type,name:me}}:{ref:ct}}}),I(me,!1,void 0,ct)}else qe=Sr(n,me,{}),qe._f&&(qe._f.mount=!1),(t.shouldUnregister||we.shouldUnregister)&&!(eq(l.array,me)&&o.action)&&l.unMount.add(me)}}},De=()=>t.shouldFocusError&&uy(n,J,l.mount),Ze=me=>{Ic(me)&&(p.state.next({disabled:me}),uy(n,(we,qe)=>{const xt=Sr(n,qe);xt&&(we.disabled=xt._f.disabled||me,Array.isArray(xt._f.refs)&&xt._f.refs.forEach(pt=>{pt.disabled=xt._f.disabled||me}))},0,!1))},ke=(me,we)=>async qe=>{let xt;qe&&(qe.preventDefault&&qe.preventDefault(),qe.persist&&qe.persist());let pt=Pa(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:ct,values:ft}=await k();r.errors=ct,pt=ft}else await O(n);if(l.disabled.size)for(const ct of l.disabled)jn(pt,ct,void 0);if(_i(r.errors,"root"),il(r.errors)){p.state.next({errors:{}});try{await me(pt,qe)}catch(ct){xt=ct}}else we&&await we({...r.errors},qe),De(),setTimeout(De);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:il(r.errors)&&!xt,submitCount:r.submitCount+1,errors:r.errors}),xt)throw xt},ce=(me,we={})=>{Sr(n,me)&&(pa(we.defaultValue)?V(me,Pa(Sr(a,me))):(V(me,we.defaultValue),jn(a,me,Pa(we.defaultValue))),we.keepTouched||_i(r.touchedFields,me),we.keepDirty||(_i(r.dirtyFields,me),r.isDirty=we.defaultValue?R(me,Pa(Sr(a,me))):R()),we.keepError||(_i(r.errors,me),h.isValid&&N()),p.state.next({...r}))},Me=(me,we={})=>{const qe=me?Pa(me):a,xt=Pa(qe),pt=il(me),ct=pt?a:xt;if(we.keepDefaultValues||(a=qe),!we.keepValues){if(we.keepDirtyValues){const ft=new Set([...l.mount,...Object.keys(I1(a,i))]);for(const Mt of Array.from(ft))Sr(r.dirtyFields,Mt)?jn(ct,Mt,Sr(i,Mt)):V(Mt,Sr(ct,Mt))}else{if(BT&&pa(me))for(const ft of l.mount){const Mt=Sr(n,ft);if(Mt&&Mt._f){const Xt=Array.isArray(Mt._f.refs)?Mt._f.refs[0]:Mt._f.ref;if(a5(Xt)){const ur=Xt.closest("form");if(ur){ur.reset();break}}}}for(const ft of l.mount)V(ft,Sr(ct,ft))}i=Pa(ct),p.array.next({values:{...ct}}),p.state.next({values:{...ct}})}l={mount:we.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!we.keepIsValid||!!we.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:we.keepSubmitCount?r.submitCount:0,isDirty:pt?!1:we.keepDirty?r.isDirty:!!(we.keepDefaultValues&&!Ym(me,a)),isSubmitted:we.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pt?{}:we.keepDirtyValues?we.keepDefaultValues&&i?I1(a,i):r.dirtyFields:we.keepDefaultValues&&me?I1(a,me):we.keepDirty?r.dirtyFields:{},touchedFields:we.keepTouched?r.touchedFields:{},errors:we.keepErrors?r.errors:{},isSubmitSuccessful:we.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},be=(me,we)=>Me(Su(me)?me(i):me,we),ge=(me,we={})=>{const qe=Sr(n,me),xt=qe&&qe._f;if(xt){const pt=xt.refs?xt.refs[0]:xt.ref;pt.focus&&(pt.focus(),we.shouldSelect&&Su(pt.select)&&pt.select())}},Ye=me=>{r={...r,...me}},Pe={control:{register:Ce,unregister:se,getFieldState:H,handleSubmit:ke,setError:W,_subscribe:te,_runSchema:k,_getWatch:B,_getDirty:R,_setValid:N,_setFieldArray:A,_setDisabledField:le,_setErrors:C,_getFieldArray:Y,_reset:Me,_resetDefaultValues:()=>Su(t.defaultValues)&&t.defaultValues().then(me=>{be(me,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:Ze,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(me){o=me},get _defaultValues(){return a},get _names(){return l},set _names(me){l=me},get _formState(){return r},get _options(){return t},set _options(me){t={...t,...me}}},subscribe:ie,trigger:ae,register:Ce,handleSubmit:ke,watch:re,setValue:V,getValues:D,reset:be,resetField:ce,clearErrors:K,unregister:se,setError:W,setFocus:ge,getFieldState:H};return{...Pe,formControl:Pe}}var Mm=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},mE=(e,t,r={})=>r.shouldFocus||pa(r.shouldFocus)?r.focusName||`${e}.${pa(r.focusIndex)?t:r.focusIndex}.`:"",pE=(e,t)=>[...e,...sc(t)],gE=e=>Array.isArray(e)?e.map(()=>{}):void 0;function xE(e,t,r){return[...e.slice(0,t),...sc(r),...e.slice(t)]}var yE=(e,t,r)=>Array.isArray(e)?(pa(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],vE=(e,t)=>[...sc(t),...sc(e)];function Cge(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return G2(n).length?n:[]}var bE=(e,t)=>pa(t)?[]:Cge(e,sc(t).sort((r,n)=>r-n)),wE=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},NR=(e,t,r)=>(e[t]=r,e);function K2(e){const t=Y2(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i,rules:o}=e,[l,c]=We.useState(r._getFieldArray(n)),d=We.useRef(r._getFieldArray(n).map(Mm)),h=We.useRef(l),m=We.useRef(n),p=We.useRef(!1);m.current=n,h.current=l,r._names.array.add(n),o&&r.register(n,o),We.useEffect(()=>r._subjects.array.subscribe({next:({values:I,name:P})=>{if(P===m.current||!P){const F=Sr(I,m.current);Array.isArray(F)&&(c(F),d.current=F.map(Mm))}}}).unsubscribe,[r]);const g=We.useCallback(I=>{p.current=!0,r._setFieldArray(n,I)},[r,n]),w=(I,P)=>{const F=sc(Pa(I)),k=pE(r._getFieldArray(n),F);r._names.focus=mE(n,k.length-1,P),d.current=pE(d.current,F.map(Mm)),g(k),c(k),r._setFieldArray(n,k,pE,{argA:gE(I)})},b=(I,P)=>{const F=sc(Pa(I)),k=vE(r._getFieldArray(n),F);r._names.focus=mE(n,0,P),d.current=vE(d.current,F.map(Mm)),g(k),c(k),r._setFieldArray(n,k,vE,{argA:gE(I)})},v=I=>{const P=bE(r._getFieldArray(n),I);d.current=bE(d.current,I),g(P),c(P),!Array.isArray(Sr(r._fields,n))&&jn(r._fields,n,void 0),r._setFieldArray(n,P,bE,{argA:I})},N=(I,P,F)=>{const k=sc(Pa(P)),z=xE(r._getFieldArray(n),I,k);r._names.focus=mE(n,I,F),d.current=xE(d.current,I,k.map(Mm)),g(z),c(z),r._setFieldArray(n,z,xE,{argA:I,argB:gE(P)})},S=(I,P)=>{const F=r._getFieldArray(n);wE(F,I,P),wE(d.current,I,P),g(F),c(F),r._setFieldArray(n,F,wE,{argA:I,argB:P},!1)},A=(I,P)=>{const F=r._getFieldArray(n);yE(F,I,P),yE(d.current,I,P),g(F),c(F),r._setFieldArray(n,F,yE,{argA:I,argB:P},!1)},E=(I,P)=>{const F=Pa(P),k=NR(r._getFieldArray(n),I,F);d.current=[...k].map((z,O)=>!z||O===I?Mm():d.current[O]),g(k),c([...k]),r._setFieldArray(n,k,NR,{argA:I,argB:F},!0,!1)},C=I=>{const P=sc(Pa(I));d.current=P.map(Mm),g([...P]),c([...P]),r._setFieldArray(n,[...P],F=>F,{},!0,!1)};return We.useEffect(()=>{if(r._state.action=!1,GC(n,r._names)&&r._subjects.state.next({...r._formState}),p.current&&(!Kx(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Kx(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(I=>{const P=Sr(I.errors,n),F=Sr(r._formState.errors,n);(F?!P&&F.type||P&&(F.type!==P.type||F.message!==P.message):P&&P.type)&&(P?jn(r._formState.errors,n,P):_i(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const I=Sr(r._fields,n);I&&I._f&&!(Kx(r._options.reValidateMode).isOnSubmit&&Kx(r._options.mode).isOnSubmit)&&YC(I,r._names.disabled,r._formValues,r._options.criteriaMode===Td.all,r._options.shouldUseNativeValidation,!0).then(P=>!il(P)&&r._subjects.state.next({errors:fq(r._formState.errors,P,n)}))}r._subjects.state.next({name:n,values:Pa(r._formValues)}),r._names.focus&&uy(r._fields,(I,P)=>{if(r._names.focus&&P.startsWith(r._names.focus)&&I.focus)return I.focus(),1}),r._names.focus="",r._setValid(),p.current=!1},[l,n,r]),We.useEffect(()=>(!Sr(r._formValues,n)&&r._setFieldArray(n),()=>{const I=(P,F)=>{const k=Sr(r._fields,P);k&&k._f&&(k._f.mount=F)};r._options.shouldUnregister||i?r.unregister(n):I(n,!1)}),[n,r,a,i]),{swap:We.useCallback(S,[g,n,r]),move:We.useCallback(A,[g,n,r]),prepend:We.useCallback(b,[g,n,r]),append:We.useCallback(w,[g,n,r]),remove:We.useCallback(v,[g,n,r]),insert:We.useCallback(N,[g,n,r]),update:We.useCallback(E,[g,n,r]),replace:We.useCallback(C,[g,n,r]),fields:We.useMemo(()=>l.map((I,P)=>({...I,[a]:d.current[P]||Mm()})),[l,a])}}function Ea(e={}){const t=We.useRef(void 0),r=We.useRef(void 0),[n,a]=We.useState({isDirty:!1,isValidating:!1,isLoading:Su(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Su(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Ege(e),formState:n},e.formControl&&e.defaultValues&&!Su(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,We.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),We.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),We.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),We.useEffect(()=>{e.values&&!Ym(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),We.useEffect(()=>{e.errors&&!il(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),We.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),We.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=sq(n,i),t.current}const jR=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Sr(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},mq=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?jR(n.ref,r,e):n&&n.refs&&n.refs.forEach(a=>jR(a,r,e))}},_ge=(e,t)=>{t.shouldUseNativeValidation&&mq(e,t);const r={};for(const n in e){const a=Sr(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(kge(t.names||Object.keys(e),n)){const o=Object.assign({},Sr(r,n));jn(o,"root",i),jn(r,n,o)}else jn(r,n,i)}return r},kge=(e,t)=>{const r=SR(t);return e.some(n=>SR(n).match(`^${r}\\.\\d+`))};function SR(e){return e.replace(/\]|\[/g,"")}function Tge(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return e.push(m)})}),t){var c=r[o].types,d=c&&c[n.code];r[o]=iq(o,t,r,a,d?[].concat(d,n.message):n.message)}e.shift()}return r}function Ca(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return i.shouldUseNativeValidation&&mq({},i),{errors:{},values:r.raw?Object.assign({},n):d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:_ge(Tge(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}}function KC(e,[t,r]){return Math.min(r,Math.max(t,e))}var pq=y.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.Children.toArray(r),i=a.find(Pge);if(i){const o=i.props.children,l=a.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return s.jsx(QC,{...n,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return s.jsx(QC,{...n,ref:t,children:r})});pq.displayName="Slot";var QC=y.forwardRef((e,t)=>{const{children:r,...n}=e;if(y.isValidElement(r)){const a=Rge(r),i=Oge(n,r.props);return r.type!==y.Fragment&&(i.ref=t?Ll(t,a):a),y.cloneElement(r,i)}return y.Children.count(r)>1?y.Children.only(null):null});QC.displayName="SlotClone";var Dge=({children:e})=>s.jsx(s.Fragment,{children:e});function Pge(e){return y.isValidElement(e)&&e.type===Dge}function Oge(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Rge(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function PS(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ige=[" ","Enter","ArrowUp","ArrowDown"],Lge=[" ","Enter"],Q2="Select",[OS,RS,Mge]=Yk(Q2),[Cv,Z7e]=eo(Q2,[Mge,Pp]),IS=Pp(),[Fge,Ip]=Cv(Q2),[Bge,Uge]=Cv(Q2),gq=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:m,disabled:p,required:g,form:w}=e,b=IS(t),[v,N]=y.useState(null),[S,A]=y.useState(null),[E,C]=y.useState(!1),I=bv(d),[P=!1,F]=Bd({prop:n,defaultProp:a,onChange:i}),[k,z]=Bd({prop:o,defaultProp:l,onChange:c}),O=y.useRef(null),M=v?w||!!v.closest("form"):!0,[R,B]=y.useState(new Set),Y=Array.from(R).map(U=>U.props.value).join(";");return s.jsx(vS,{...b,children:s.jsxs(Fge,{required:g,scope:t,trigger:v,onTriggerChange:N,valueNode:S,onValueNodeChange:A,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:Xi(),value:k,onValueChange:z,open:P,onOpenChange:F,dir:I,triggerPointerDownPosRef:O,disabled:p,children:[s.jsx(OS.Provider,{scope:t,children:s.jsx(Bge,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(U=>{B(Q=>new Set(Q).add(U))},[]),onNativeOptionRemove:y.useCallback(U=>{B(Q=>{const V=new Set(Q);return V.delete(U),V})},[]),children:r})}),M?s.jsxs(Bq,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:m,value:k,onChange:U=>z(U.target.value),disabled:p,form:w,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},Y):null]})})};gq.displayName=Q2;var xq="SelectTrigger",yq=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=IS(r),o=Ip(xq,r),l=o.disabled||n,c=_s(t,o.onTriggerChange),d=RS(r),h=y.useRef("touch"),[m,p,g]=Uq(b=>{const v=d().filter(A=>!A.disabled),N=v.find(A=>A.value===o.value),S=$q(v,b,N);S!==void 0&&o.onValueChange(S.value)}),w=b=>{l||(o.onOpenChange(!0),g()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return s.jsx(M2,{asChild:!0,...i,children:s.jsx(Rr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Fq(o.value)?"":void 0,...a,ref:c,onClick:wr(a.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&w(b)}),onPointerDown:wr(a.onPointerDown,b=>{h.current=b.pointerType;const v=b.target;v.hasPointerCapture(b.pointerId)&&v.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:wr(a.onKeyDown,b=>{const v=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(v&&b.key===" ")&&Ige.includes(b.key)&&(w(),b.preventDefault())})})})});yq.displayName=xq;var vq="SelectValue",bq=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Ip(vq,r),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,m=_s(t,c.onValueNodeChange);return Zi(()=>{d(h)},[d,h]),s.jsx(Rr.span,{...l,ref:m,style:{pointerEvents:"none"},children:Fq(c.value)?s.jsx(s.Fragment,{children:o}):i})});bq.displayName=vq;var $ge="SelectIcon",wq=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Rr.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});wq.displayName=$ge;var Vge="SelectPortal",Nq=e=>s.jsx(Sv,{asChild:!0,...e});Nq.displayName=Vge;var sg="SelectContent",jq=y.forwardRef((e,t)=>{const r=Ip(sg,e.__scopeSelect),[n,a]=y.useState();if(Zi(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?lv.createPortal(s.jsx(Sq,{scope:e.__scopeSelect,children:s.jsx(OS.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(Aq,{...e,ref:t})});jq.displayName=sg;var gu=10,[Sq,Lp]=Cv(sg),qge="SelectContentImpl",Aq=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:b,avoidCollisions:v,...N}=e,S=Ip(sg,r),[A,E]=y.useState(null),[C,I]=y.useState(null),P=_s(t,te=>E(te)),[F,k]=y.useState(null),[z,O]=y.useState(null),M=RS(r),[R,B]=y.useState(!1),Y=y.useRef(!1);y.useEffect(()=>{if(A)return k2(A)},[A]),mS();const U=y.useCallback(te=>{const[ie,...se]=M().map(De=>De.ref.current),[le]=se.slice(-1),Ce=document.activeElement;for(const De of te)if(De===Ce||(De==null||De.scrollIntoView({block:"nearest"}),De===ie&&C&&(C.scrollTop=0),De===le&&C&&(C.scrollTop=C.scrollHeight),De==null||De.focus(),document.activeElement!==Ce))return},[M,C]),Q=y.useCallback(()=>U([F,A]),[U,F,A]);y.useEffect(()=>{R&&Q()},[R,Q]);const{onOpenChange:V,triggerPointerDownPosRef:Z}=S;y.useEffect(()=>{if(A){let te={x:0,y:0};const ie=le=>{var Ce,De;te={x:Math.abs(Math.round(le.pageX)-(((Ce=Z.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(le.pageY)-(((De=Z.current)==null?void 0:De.y)??0))}},se=le=>{te.x<=10&&te.y<=10?le.preventDefault():A.contains(le.target)||V(!1),document.removeEventListener("pointermove",ie),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",se,{capture:!0})}}},[A,V,Z]),y.useEffect(()=>{const te=()=>V(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[V]);const[J,ae]=Uq(te=>{const ie=M().filter(Ce=>!Ce.disabled),se=ie.find(Ce=>Ce.ref.current===document.activeElement),le=$q(ie,te,se);le&&setTimeout(()=>le.ref.current.focus())}),D=y.useCallback((te,ie,se)=>{const le=!Y.current&&!se;(S.value!==void 0&&S.value===ie||le)&&(k(te),le&&(Y.current=!0))},[S.value]),H=y.useCallback(()=>A==null?void 0:A.focus(),[A]),K=y.useCallback((te,ie,se)=>{const le=!Y.current&&!se;(S.value!==void 0&&S.value===ie||le)&&O(te)},[S.value]),W=n==="popper"?XC:Eq,re=W===XC?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:b,avoidCollisions:v}:{};return s.jsx(Sq,{scope:r,content:A,viewport:C,onViewportChange:I,itemRefCallback:D,selectedItem:F,onItemLeave:H,itemTextRefCallback:K,focusSelectedItem:Q,selectedItemText:z,position:n,isPositioned:R,searchRef:J,children:s.jsx(fv,{as:pq,allowPinchZoom:!0,children:s.jsx(I2,{asChild:!0,trapped:S.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:wr(a,te=>{var ie;(ie=S.trigger)==null||ie.focus({preventScroll:!0}),te.preventDefault()}),children:s.jsx(wv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:s.jsx(W,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:te=>te.preventDefault(),...N,...re,onPlaced:()=>B(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:wr(N.onKeyDown,te=>{const ie=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ie&&te.key.length===1&&ae(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let le=M().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(te.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ce=te.target,De=le.indexOf(Ce);le=le.slice(De+1)}setTimeout(()=>U(le)),te.preventDefault()}})})})})})})});Aq.displayName=qge;var zge="SelectItemAlignedPosition",Eq=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ip(sg,r),o=Lp(sg,r),[l,c]=y.useState(null),[d,h]=y.useState(null),m=_s(t,P=>h(P)),p=RS(r),g=y.useRef(!1),w=y.useRef(!0),{viewport:b,selectedItem:v,selectedItemText:N,focusSelectedItem:S}=o,A=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&b&&v&&N){const P=i.trigger.getBoundingClientRect(),F=d.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),z=N.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=z.left-F.left,De=k.left-Ce,Ze=P.left-De,ke=P.width+Ze,ce=Math.max(ke,F.width),Me=window.innerWidth-gu,be=KC(De,[gu,Math.max(gu,Me-ce)]);l.style.minWidth=ke+"px",l.style.left=be+"px"}else{const Ce=F.right-z.right,De=window.innerWidth-k.right-Ce,Ze=window.innerWidth-P.right-De,ke=P.width+Ze,ce=Math.max(ke,F.width),Me=window.innerWidth-gu,be=KC(De,[gu,Math.max(gu,Me-ce)]);l.style.minWidth=ke+"px",l.style.right=be+"px"}const O=p(),M=window.innerHeight-gu*2,R=b.scrollHeight,B=window.getComputedStyle(d),Y=parseInt(B.borderTopWidth,10),U=parseInt(B.paddingTop,10),Q=parseInt(B.borderBottomWidth,10),V=parseInt(B.paddingBottom,10),Z=Y+U+R+V+Q,J=Math.min(v.offsetHeight*5,Z),ae=window.getComputedStyle(b),D=parseInt(ae.paddingTop,10),H=parseInt(ae.paddingBottom,10),K=P.top+P.height/2-gu,W=M-K,re=v.offsetHeight/2,te=v.offsetTop+re,ie=Y+U+te,se=Z-ie;if(ie<=K){const Ce=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const De=d.clientHeight-b.offsetTop-b.offsetHeight,Ze=Math.max(W,re+(Ce?H:0)+De+Q),ke=ie+Ze;l.style.height=ke+"px"}else{const Ce=O.length>0&&v===O[0].ref.current;l.style.top="0px";const Ze=Math.max(K,Y+b.offsetTop+(Ce?D:0)+re)+se;l.style.height=Ze+"px",b.scrollTop=ie-K+b.offsetTop}l.style.margin=`${gu}px 0`,l.style.minHeight=J+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,l,d,b,v,N,i.dir,n]);Zi(()=>A(),[A]);const[E,C]=y.useState();Zi(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const I=y.useCallback(P=>{P&&w.current===!0&&(A(),S==null||S(),w.current=!1)},[A,S]);return s.jsx(Wge,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:I,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:s.jsx(Rr.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Eq.displayName=zge;var Hge="SelectPopperPosition",XC=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=gu,...i}=e,o=IS(r);return s.jsx(bS,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});XC.displayName=Hge;var[Wge,qT]=Cv(sg,{}),ZC="SelectViewport",Cq=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Lp(ZC,r),o=qT(ZC,r),l=_s(t,i.onViewportChange),c=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(OS.Slot,{scope:r,children:s.jsx(Rr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:wr(a.onScroll,d=>{const h=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const g=Math.abs(c.current-h.scrollTop);if(g>0){const w=window.innerHeight-gu*2,b=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),N=Math.max(b,v);if(N<w){const S=N+g,A=Math.min(w,S),E=S-A;m.style.height=A+"px",m.style.bottom==="0px"&&(h.scrollTop=E>0?E:0,m.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Cq.displayName=ZC;var _q="SelectGroup",[Gge,Yge]=Cv(_q),Kge=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Xi();return s.jsx(Gge,{scope:r,id:a,children:s.jsx(Rr.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Kge.displayName=_q;var kq="SelectLabel",Qge=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Yge(kq,r);return s.jsx(Rr.div,{id:a.id,...n,ref:t})});Qge.displayName=kq;var l5="SelectItem",[Xge,Tq]=Cv(l5),Dq=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Ip(l5,r),c=Lp(l5,r),d=l.value===n,[h,m]=y.useState(i??""),[p,g]=y.useState(!1),w=_s(t,S=>{var A;return(A=c.itemRefCallback)==null?void 0:A.call(c,S,n,a)}),b=Xi(),v=y.useRef("touch"),N=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Xge,{scope:r,value:n,disabled:a,textId:b,isSelected:d,onItemTextChange:y.useCallback(S=>{m(A=>A||((S==null?void 0:S.textContent)??"").trim())},[]),children:s.jsx(OS.ItemSlot,{scope:r,value:n,disabled:a,textValue:h,children:s.jsx(Rr.div,{role:"option","aria-labelledby":b,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:w,onFocus:wr(o.onFocus,()=>g(!0)),onBlur:wr(o.onBlur,()=>g(!1)),onClick:wr(o.onClick,()=>{v.current!=="mouse"&&N()}),onPointerUp:wr(o.onPointerUp,()=>{v.current==="mouse"&&N()}),onPointerDown:wr(o.onPointerDown,S=>{v.current=S.pointerType}),onPointerMove:wr(o.onPointerMove,S=>{var A;v.current=S.pointerType,a?(A=c.onItemLeave)==null||A.call(c):v.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:wr(o.onPointerLeave,S=>{var A;S.currentTarget===document.activeElement&&((A=c.onItemLeave)==null||A.call(c))}),onKeyDown:wr(o.onKeyDown,S=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&S.key===" "||(Lge.includes(S.key)&&N(),S.key===" "&&S.preventDefault())})})})})});Dq.displayName=l5;var X1="SelectItemText",Pq=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Ip(X1,r),l=Lp(X1,r),c=Tq(X1,r),d=Uge(X1,r),[h,m]=y.useState(null),p=_s(t,N=>m(N),c.onItemTextChange,N=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,N,c.value,c.disabled)}),g=h==null?void 0:h.textContent,w=y.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:b,onNativeOptionRemove:v}=d;return Zi(()=>(b(w),()=>v(w)),[b,v,w]),s.jsxs(s.Fragment,{children:[s.jsx(Rr.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?lv.createPortal(i.children,o.valueNode):null]})});Pq.displayName=X1;var Oq="SelectItemIndicator",Rq=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Tq(Oq,r).isSelected?s.jsx(Rr.span,{"aria-hidden":!0,...n,ref:t}):null});Rq.displayName=Oq;var JC="SelectScrollUpButton",Iq=y.forwardRef((e,t)=>{const r=Lp(JC,e.__scopeSelect),n=qT(JC,e.__scopeSelect),[a,i]=y.useState(!1),o=_s(t,n.onScrollButtonChange);return Zi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Mq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Iq.displayName=JC;var e_="SelectScrollDownButton",Lq=y.forwardRef((e,t)=>{const r=Lp(e_,e.__scopeSelect),n=qT(e_,e.__scopeSelect),[a,i]=y.useState(!1),o=_s(t,n.onScrollButtonChange);return Zi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Mq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Lq.displayName=e_;var Mq=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Lp("SelectScrollButton",r),o=y.useRef(null),l=RS(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Zi(()=>{var h;const d=l().find(m=>m.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(Rr.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:wr(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:wr(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:wr(a.onPointerLeave,()=>{c()})})}),Zge="SelectSeparator",Jge=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Rr.div,{"aria-hidden":!0,...n,ref:t})});Jge.displayName=Zge;var t_="SelectArrow",exe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=IS(r),i=Ip(t_,r),o=Lp(t_,r);return i.open&&o.position==="popper"?s.jsx(wS,{...a,...n,ref:t}):null});exe.displayName=t_;function Fq(e){return e===""||e===void 0}var Bq=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=y.useRef(null),i=_s(t,a),o=PS(r);return y.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&h){const m=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(m)}},[o,r]),s.jsx(pT,{asChild:!0,children:s.jsx("select",{...n,ref:i,defaultValue:r})})});Bq.displayName="BubbleSelect";function Uq(e){const t=Di(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function $q(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=txe(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function txe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var rxe=gq,sxe=yq,nxe=bq,axe=wq,ixe=Nq,oxe=jq,lxe=Cq,cxe=Dq,dxe=Pq,uxe=Rq,hxe=Iq,fxe=Lq;function pr({...e}){return s.jsx(rxe,{"data-slot":"select",...e})}function gr({...e}){return s.jsx(nxe,{"data-slot":"select-value",...e})}function xr({className:e,size:t="default",children:r,...n}){return s.jsxs(sxe,{"data-slot":"select-trigger","data-size":t,className:jt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full min-w-0 items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 *:data-[slot=select-value]:overflow-hidden *:data-[slot=select-value]:text-ellipsis [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,s.jsx(axe,{asChild:!0,children:s.jsx(Ia,{className:"size-4 opacity-50"})})]})}function yr({className:e,children:t,position:r="popper",...n}){return s.jsx(ixe,{children:s.jsxs(oxe,{"data-slot":"select-content",className:jt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(mxe,{}),s.jsx(lxe,{className:jt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(pxe,{})]})})}function wt({className:e,children:t,...r}){return s.jsxs(cxe,{"data-slot":"select-item",className:jt("focus:bg-accent focus:text-gray-700-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(uxe,{children:s.jsx(cv,{className:"size-4"})})}),s.jsx(dxe,{children:t})]})}function mxe({className:e,...t}){return s.jsx(hxe,{"data-slot":"select-scroll-up-button",className:jt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Eh,{className:"size-4"})})}function pxe({className:e,...t}){return s.jsx(fxe,{"data-slot":"select-scroll-down-button",className:jt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ia,{className:"size-4"})})}function Sp({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:jt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const gxe=In({wastageNo:Ft().optional(),wastageDate:Uf(),invoiceNo:Ft().min(1,"Invoice number is required"),invoiceDate:Uf(),depotId:Ft().min(1,"Depot is required"),notes:Ft().optional(),details:fg(In({productId:Ft().min(1,"Product is required"),variantId:Ft().min(1,"Variant is required"),quantity:dc().min(1,"Quantity must be at least 1")})).min(1,"Add at least one line item")});function NE(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function AR(e){return!!e&&!isNaN(e.getTime())}function ER({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=y.useState(!1),[l,c]=y.useState(e),[d,h]=y.useState(NE(e));return y.useEffect(()=>{h(NE(e)),AR(e)&&c(e)},[e]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Be,{htmlFor:n,children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(gt,{id:n,value:d,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:m=>{const p=m.target.value;h(p);const g=new Date(p);AR(g)?(t(g),c(g)):t(void 0)}}),s.jsxs(Wc,{open:i,onOpenChange:o,children:[s.jsx(Gc,{asChild:!0,children:s.jsx(Ee,{variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 size-6",type:"button",children:s.jsx(Ma,{className:"size-3.5"})})}),s.jsx(Yc,{className:"p-0",children:s.jsx(Bu,{mode:"single",selected:e,month:l,captionLayout:"dropdown",onMonthChange:c,fromDate:a,onSelect:m=>{t(m),h(NE(m)),o(!1)}})})]})]})]})}const Vq=({mode:e,wastageId:t,initialData:r,onSuccess:n})=>{var R;const a=Ls(),i=Ja(),o=typeof window<"u"?localStorage.getItem("user"):null,l=o?JSON.parse(o):null,{register:c,control:d,handleSubmit:h,setValue:m,watch:p,formState:{errors:g}}=Ea({resolver:Ca(gxe),defaultValues:{wastageNo:e==="edit"?r==null?void 0:r.wastageNo:"",wastageDate:e==="edit"&&(r!=null&&r.wastageDate)?new Date(r.wastageDate):new Date,invoiceNo:(r==null?void 0:r.invoiceNo)||"",invoiceDate:e==="edit"&&(r!=null&&r.invoiceDate)?new Date(r.invoiceDate):new Date,depotId:e==="edit"&&(r!=null&&r.depotId)?String(r.depotId):l!=null&&l.depotId?String(l.depotId):"",notes:(r==null?void 0:r.notes)||"",details:e==="edit"&&((R=r==null?void 0:r.details)!=null&&R.length)?r.details.map(B=>({productId:String(B.productId),variantId:String(B.variantId),quantity:B.quantity})):[{productId:"",variantId:"",quantity:1}]}}),[w,b]=y.useState([]),[v,N]=y.useState([]),[S,A]=y.useState([]);y.useEffect(()=>{p("depotId")||(l!=null&&l.depotId?m("depotId",String(l.depotId)):S.length&&m("depotId",String(S[0].id)))},[S,l==null?void 0:l.depotId]);const[E,C]=y.useState(null);y.useEffect(()=>{(async()=>{try{const B=await $t("/products");b((B==null?void 0:B.data)||B||[]);const Y=await $t("/depots");A((Y==null?void 0:Y.data)||Y||[])}catch{ve.error("Failed to fetch reference data")}})()},[]);const I=p("depotId"),P=(l==null?void 0:l.depotId)??I;y.useEffect(()=>{if(!P){N([]);return}(async()=>{try{const B=await $t(`/depot-product-variants?depotId=${P}&limit=1000`);N((B==null?void 0:B.data)||B||[])}catch{ve.error("Failed to fetch depot variants")}})()},[P,l==null?void 0:l.depotId]);const{fields:F,append:k,remove:z}=K2({control:d,name:"details"}),O=Ks({mutationFn:async B=>{const Y={...B,details:B.details};return e==="edit"&&t?Aa(`/wastages/${t}`,Y):en("/wastages",Y)},onSuccess:()=>{ve.success("Wastage saved"),i.invalidateQueries({queryKey:["wastages"]}),a("/admin/wastages"),n==null||n()},onError:B=>ve.error(B.message||"Error saving wastage")}),M=B=>O.mutate(B);return s.jsxs("form",{onSubmit:h(M),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{children:"Wastage Details"})}),s.jsxs(_t,{className:"space-y-4",children:[e==="edit"&&s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2",children:"Wastage No"}),s.jsx(gt,{disabled:!0,...c("wastageNo")})]}),s.jsx(Fs,{control:d,name:"wastageDate",render:({field:B})=>s.jsx(ER,{id:"wastageDate",label:"Wastage Date",value:B.value,onChange:B.onChange})}),s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2",children:"Invoice No"}),s.jsx(gt,{...c("invoiceNo")}),g.invoiceNo&&s.jsx("p",{className:"text-xs text-red-600",children:g.invoiceNo.message})]}),s.jsx(Fs,{control:d,name:"invoiceDate",render:({field:B})=>s.jsx(ER,{id:"invoiceDate",label:"Invoice Date",value:B.value,onChange:B.onChange})}),s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2",children:"Notes"}),s.jsx(Sp,{rows:3,...c("notes")})]})]})]}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{children:"Depot"})}),s.jsx(_t,{className:"space-y-4",children:s.jsx(Fs,{control:d,name:"depotId",render:({field:B})=>s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2 block w-full",htmlFor:"depotId",children:"Depot"}),s.jsxs(pr,{value:B.value,onValueChange:B.onChange,disabled:!!(l!=null&&l.depotId),children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select depot"})}),s.jsx(yr,{children:S.map(Y=>s.jsx(wt,{value:String(Y.id),children:Y.name},Y.id))})]}),g.depotId&&s.jsx("p",{className:"text-xs text-red-600",children:g.depotId.message})]})})})]})]}),s.jsxs(St,{children:[s.jsxs(zt,{className:"flex-row items-center justify-between",children:[s.jsx(dr,{children:"Items"}),s.jsxs(Ee,{type:"button",size:"sm",onClick:()=>k({productId:"",variantId:"",quantity:1}),children:[s.jsx(li,{className:"mr-2 size-4"})," Add Item"]})]}),s.jsxs(_t,{children:[s.jsx("div",{className:"space-y-4",children:F.map((B,Y)=>{const U=p(`details.${Y}.productId`),Q=v.filter(V=>String(V.productId)===U);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 border rounded-md items-end",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(Be,{children:"Product"}),s.jsx(Fs,{control:d,name:`details.${Y}.productId`,render:({field:V})=>s.jsxs(pr,{value:V.value,onValueChange:V.onChange,children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select Product"})}),s.jsx(yr,{children:w.map(Z=>s.jsx(wt,{value:String(Z.id),children:Z.name},Z.id))})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(Be,{children:"Variant"}),s.jsx(Fs,{control:d,name:`details.${Y}.variantId`,render:({field:V})=>s.jsxs(pr,{value:V.value,onValueChange:Z=>{V.onChange(Z)},children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select Variant"})}),s.jsx(yr,{children:Q.map(Z=>s.jsx(wt,{value:String(Z.id),children:Z.name},Z.id))})]})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Be,{children:"Quantity"}),s.jsx(gt,{type:"number",...c(`details.${Y}.quantity`,{valueAsNumber:!0})})]}),s.jsx("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:s.jsxs(pi,{children:[s.jsx(jg,{asChild:!0,children:s.jsx(Ee,{type:"button",size:"icon",variant:"ghost",children:s.jsx(Sa,{className:"size-4 text-red-500"})})}),s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Remove item?"}),s.jsx(bi,{children:"This will remove the selected line item from the wastage."})]}),s.jsxs(yi,{children:[s.jsx(wi,{children:"Cancel"}),s.jsx(Ii,{onClick:()=>z(Y),children:"Continue"})]})]})]})})]},B.id)})}),g.details&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in g.details?g.details.message:null})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(Ee,{type:"submit",disabled:O.isPending,children:"Save Wastage"})})]})};function xxe(){return s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{}),s.jsx(_t,{children:s.jsx(Vq,{mode:"create"})})]})})}function yxe(){const{id:e}=Ji(),{data:t,isLoading:r,isError:n}=cs({queryKey:["wastage",e],queryFn:()=>$t(`/wastages/${e}`),enabled:!!e});return r?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx(Ws,{className:"animate-spin"})}):n||!t?(ve.error("Failed to load wastage"),null):s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{}),s.jsx(_t,{children:s.jsx(Vq,{mode:"edit",wastageId:e,initialData:t})})]})})}const vxe=Vs.object({identifier:Vs.string().min(1,"Email or mobile is required"),password:Vs.string().min(1,"Password is required")}),CR=()=>{const[e,t]=y.useState(!1),[r,n]=y.useState(""),[a,i]=y.useState(!1),o=xl(),l=Ls(),c=o.pathname.startsWith("/admin"),d=Ja(),h=C=>C&&C.role==="MEMBER"?"/member/products/1":C&&C.role==="DepotAdmin"?"/admin/purchases":C&&C.role==="ADMIN"||C&&C.role==="VENDOR"||C&&C.role==="AGENCY"||C&&C.role==="SUPERVISOR"?"/admin/dashboard":"/",{register:m,handleSubmit:p,setError:g,formState:{errors:w}}=Ea({resolver:Ca(vxe)});y.useEffect(()=>{var C;(C=o.state)!=null&&C.unauthorized&&l(o.pathname,{replace:!0,state:{}})},[o,l]);const b=Ks({mutationFn:async C=>await en("/auth/login",C),onSuccess:C=>{if(console.log("Login successful:",C),console.log("[Login.tsx] Login API Response Data:",C),console.log("[Login.tsx] Access Token from data:",C.accesstoken,"Type:",typeof C.accesstoken),d.clear(),localStorage.setItem("authToken",C.token||C.accesstoken),localStorage.setItem("refreshToken",C.token),localStorage.setItem("user",JSON.stringify(C.user)),localStorage.setItem("roles",JSON.stringify(C.user.accessibleChapters||[])),C.user.member&&C.user.member.id&&localStorage.setItem("memberId",C.user.member.id.toString()),C.requiresPolicyAcceptance)console.log("Login successful, policy acceptance required. Fetching policy..."),v.mutate();else{ve.success("Login successful!"),d.invalidateQueries({queryKey:["user"]});const I=h(C.user);l(I)}},onError:C=>{var k;const P=C.errors&&Array.isArray(C.errors)?(C.errors.forEach(z=>{if(z.path&&z.message&&Array.isArray(z.path)){const O=z.path[z.path.length-1]||z.path[0];typeof O=="string"&&(O==="identifier"||O==="password")&&g(O,{type:"server",message:z.message})}}),!0):!1,F=((k=C.data)==null?void 0:k.message)||C.message;C.status===403&&F&&F.toLowerCase().includes("account is inactive")?ve.error(F):(!P||C.status===401)&&ve.error(F||"An error occurred during login."),console.error("Login error details:",C)}}),v=Ks({mutationFn:async()=>(i(!0),await $t("/auth/policy-text")),onSuccess:C=>{n(C.policyText),t(!0)},onError:C=>{ve.error(C.message||"Failed to load policy."),console.error("Policy fetch error:",C)},onSettled:()=>{i(!1)}}),N=Ks({mutationFn:async()=>await Oi("/auth/accept-policy",{}),onSuccess:C=>{const I=C.user||JSON.parse(localStorage.getItem("user")||"null");localStorage.setItem("user",JSON.stringify(I)),ve.success("Policy accepted. Login complete!"),d.invalidateQueries({queryKey:["user"]});const P=h(I);l(P),t(!1)},onError:C=>{ve.error(C.message||"Failed to accept policy. Please try again."),console.error("Accept policy error:",C)}}),S=C=>{b.mutate(C)},A=()=>{t(!1)},E=()=>{N.mutate()};return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-border",children:[s.jsx("h2",{className:"text-2xl font-bold text-center",children:"Accept Terms & Conditions"}),s.jsxs("p",{className:"text-center text-muted-foreground mt-2",children:["To continue using ",jb,", please review and accept our policy"]})]}),s.jsx("div",{className:"p-6 overflow-y-auto flex-grow bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"prose prose-sm max-w-none bg-white dark:bg-gray-800 p-6 rounded-lg border",children:a?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx(Ws,{className:"animate-spin text-primary",size:24})}):s.jsx("div",{dangerouslySetInnerHTML:{__html:r}})})}),s.jsxs("div",{className:"p-6 border-t border-border flex flex-col sm:flex-row justify-end gap-3",children:[s.jsx(Ee,{variant:"outline",onClick:A,disabled:a||b.isPending||N.isPending,className:"w-full sm:w-auto",children:"Cancel"}),s.jsxs(Ee,{onClick:E,disabled:a||b.isPending||!r||N.isPending,className:"w-full sm:w-auto",children:[N.isPending?s.jsx(Ws,{className:"animate-spin mr-2",size:16}):null,"Agree & Continue"]})]})]})}),s.jsxs("div",{className:"w-full max-w-md mx-auto mt-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[o.pathname!=="/"&&s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome back"}),o.pathname!=="/"&&s.jsxs("p",{className:"text-muted-foreground",children:["Sign in to continue to ",jb]})]}),s.jsx("form",{onSubmit:p(S),children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"identifier",children:"Email or Mobile"}),s.jsx(gt,{id:"identifier",type:"text",placeholder:"name@example.com or 9876543210 (use your registered mobile)",...m("identifier"),disabled:b.isPending||N.isPending,className:"py-5 px-4"}),w.identifier&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),w.identifier.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Be,{htmlFor:"password",children:"Password"}),s.jsx(Rs,{to:c?"/admin/forgot-password":"/forgot-password",className:"text-sm font-medium text-primary hover:underline",children:"Forgot password?"})]}),s.jsx(hi,{id:"password",placeholder:"",...m("password"),disabled:b.isPending||N.isPending,className:"py-5 px-4"}),w.password&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),w.password.message]})]}),s.jsx(Ee,{type:"submit",className:"w-full py-5 font-semibold",disabled:b.isPending||N.isPending,children:b.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"animate-spin mr-2",size:20}),"Signing in..."]}):"Sign In"}),o.pathname!=="/"&&s.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6 pt-4 border-t border-border",children:["Don't have an account?"," ",s.jsx(Rs,{to:c?"/admin/register":"/register",className:"font-semibold text-primary hover:underline p-0 h-auto",children:"Create account"})]})]})})]})]})},bxe=async e=>$t("/variant-stocks",e),X2=async()=>$t("/admin/depots/all-list"),wxe=()=>{const[e,t]=y.useState(null),[r,n]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState(1),[c,d]=y.useState(1),[h,m]=y.useState(0),[p,g]=y.useState(""),[w,b]=y.useState(!1),[v,N]=y.useState(!0),S=y.useRef(null),A=y.useCallback(async()=>{N(!0);try{const P=await X2();n(P),P.length&&t(P[0].id)}catch(P){ve.error(P.message||"Failed to fetch depots")}finally{N(!1)}},[]),E=y.useCallback(async()=>{if(e){b(!0);try{const P=await bxe({depotId:e,page:o,limit:10,search:p});i(P.data),d(P.totalPages||1),m(P.totalRecords||P.data.length)}catch(P){ve.error(P.message||"Failed to fetch stocks")}finally{b(!1)}}},[e,o,p]),C=P=>{g(P),l(1)};y.useEffect(()=>{A()},[A]),y.useEffect(()=>(S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{E()},500),()=>{S.current&&clearTimeout(S.current)}),[E]);const I=()=>{g(""),l(1)};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 md:p-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Variant Stock"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[h," variants across ",r.length," depots"]})]}),s.jsxs("div",{className:"w-full md:w-auto flex flex-col-reverse md:flex-row gap-3",children:[s.jsxs("div",{className:"relative w-full md:w-64",children:[s.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx(gt,{className:"pl-10 pr-10",placeholder:"Search products or variants...",value:p,onChange:P=>C(P.target.value)}),p&&s.jsx(Ee,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:bg-transparent",onClick:I,children:s.jsx(ul,{size:18})})]}),s.jsx("div",{className:"w-full md:w-48",children:s.jsxs(pr,{value:e?e.toString():void 0,onValueChange:P=>{t(parseInt(P,10)),l(1)},disabled:v,children:[s.jsx(xr,{children:v?s.jsx(vr,{className:"h-5 w-full"}):s.jsx(gr,{placeholder:"Select depot"})}),s.jsx(yr,{children:r.map(P=>s.jsx(wt,{value:P.id.toString(),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),P.name]})},P.id))})]})})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(qs,{children:[s.jsx(zs,{className:"bg-gray-50",children:s.jsxs(hr,{children:[s.jsx($e,{className:"w-[45%]",children:"Product"}),s.jsx($e,{className:"w-[30%]",children:"Variant"}),s.jsx($e,{className:"text-right w-[25%]",children:"Closing Quantity"})]})}),s.jsx(Hs,{children:w?Array.from({length:5}).map((P,F)=>s.jsxs(hr,{children:[s.jsx(Oe,{children:s.jsx(vr,{className:"h-4 w-3/4"})}),s.jsx(Oe,{children:s.jsx(vr,{className:"h-4 w-2/3"})}),s.jsx(Oe,{className:"text-right",children:s.jsx(vr,{className:"h-4 w-1/4 ml-auto"})})]},F)):a.length>0?a.map(P=>s.jsxs(hr,{className:"hover:bg-gray-50",children:[s.jsx(Oe,{className:"font-medium",children:P.product.name}),s.jsx(Oe,{className:"text-gray-600",children:P.variant.name}),s.jsx(Oe,{className:"text-right font-medium",children:s.jsx("span",{className:"bg-blue-50 text-blue-700 py-1 px-3 rounded-full text-sm",children:P.closingQty})})]},P.id)):s.jsx(hr,{children:s.jsx(Oe,{colSpan:3,className:"text-center py-10",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(Hn,{size:36,className:"text-gray-400"}),s.jsx("h3",{className:"font-medium text-gray-700",children:"No stock records found"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Try changing your search or depot selection"})]})})})})]})}),c>1&&s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",a.length," of ",h," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>l(P=>Math.max(P-1,1)),disabled:o===1||w,children:[s.jsx(dv,{size:16,className:"mr-1"})," Previous"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,c)},(P,F)=>{let k;return c<=5||o<=3?k=F+1:o>=c-2?k=c-4+F:k=o-2+F,s.jsx(Ee,{variant:o===k?"solid":"ghost",size:"sm",onClick:()=>l(k),disabled:w,children:k},k)}),c>5&&o<c-2&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"px-2",children:"..."}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>l(c),disabled:w,children:c})]})]}),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>l(P=>Math.min(P+1,c)),disabled:o===c||w,children:["Next ",s.jsx(cc,{size:16,className:"ml-1"})]})]})]})]})})};function qf(e,t){console.log("Error from server:",e.errors);const r=e.errors;r&&Object.entries(r).forEach(([n,a])=>{t(n,a)})}const Nxe=Vs.object({name:Vs.string().nonempty("Name is required"),email:Vs.string().email("Invalid email address").optional(),mobile:Vs.string().regex(/^\d{10}$/,"Mobile must be a 10 digit number").optional(),password:Vs.string().nonempty("Password is required").min(5,"Password must be at least 5 characters long"),confirmPassword:Vs.string().nonempty("Confirm Password is required")}).refine(e=>!!(e.email||e.mobile),{message:"Either email or mobile is required",path:["email"]}).refine(e=>e.password===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),_R=()=>{var d;const e=xl(),t=Ls(),r=e.pathname==="/admin/register",{register:n,handleSubmit:a,setError:i,formState:{errors:o}}=Ea({resolver:Ca(Nxe)}),l=Ks({mutationFn:h=>en("/auth/register",h),onSuccess:()=>{ve.success("Registration successful! Please log in."),e.pathname==="/admin/register"&&t("/admin"),e.pathname==="/register"?t("/login"):window.location.reload()},onError:h=>{if(h.status===409){h.message.toLowerCase().includes("mobile")?i("mobile",{type:"manual",message:h.message}):h.message.toLowerCase().includes("email")?i("email",{type:"manual",message:h.message}):ve.error(h.message);return}qf(h,i),h.message?ve.error(h.message):ve.error("An unexpected error occurred")}}),c=h=>{l.mutate(h)};return s.jsxs("div",{className:"w-full max-w-md mx-auto mt-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[e.pathname!=="/"&&s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create your account"}),e.pathname!=="/"&&s.jsxs("p",{className:"text-muted-foreground",children:["Join ",jb," today to get started."]})]}),s.jsx("form",{onSubmit:a(c),children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"name",children:"Full Name"}),s.jsx(gt,{id:"name",type:"text",placeholder:"Your full name",...n("name"),disabled:l.isPending,className:"py-5 px-4"}),o.name&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.name.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"email",children:"Email Address"}),s.jsx(gt,{id:"email",type:"email",placeholder:"name@example.com",...n("email"),disabled:l.isPending,className:"py-5 px-4"}),o.email&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),(d=o.email)==null?void 0:d.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(gt,{id:"mobile",max:10,maxLength:10,type:"tel",placeholder:"9876543210",...n("mobile"),disabled:l.isPending,className:"py-5 px-4"}),o.mobile&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.mobile.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"password",children:"Password"}),s.jsx(hi,{id:"password",placeholder:"",...n("password"),disabled:l.isPending,className:"py-5 px-4"}),o.password&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.password.message]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(hi,{id:"confirmPassword",placeholder:"",...n("confirmPassword"),disabled:l.isPending,className:"py-5 px-4"}),o.confirmPassword&&s.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.confirmPassword.message]})]}),s.jsx(Ee,{type:"submit",className:"w-full py-5 font-semibold",disabled:l.isPending,children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"animate-spin mr-2",size:20}),"Creating account..."]}):"Create Account"}),e.pathname!=="/"&&s.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6 pt-4 border-t border-border",children:["Already have an account?"," ",s.jsx(Rs,{to:r?"/admin":"/login",className:"font-semibold text-primary hover:underline p-0 h-auto",children:"Sign In"})]})]})})]})},jxe=Vs.object({email:Vs.string().email("Invalid email address").min(1,"Email is required")}),Sxe=()=>{const e=Ls(),{register:t,handleSubmit:r,setError:n,formState:{errors:a}}=Ea({resolver:Ca(jxe)}),i=Ks({mutationFn:l=>en("/auth/forgot-password",l),onSuccess:()=>{ve.success("Password reset instructions have been sent to your email."),e("/")},onError:l=>{qf(l,n),l.message?ve.error(l.message):ve.error("An unexpected error occurred")}}),o=l=>{const c=`${window.location.origin}/reset-password`;i.mutate({...l,resetUrl:c})};return s.jsx("form",{className:"p-6 md:p-8",onSubmit:r(o),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Forgot Password"}),s.jsx("p",{className:"text-balance text-muted-foreground",children:"Enter your email address to reset your password"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"email",children:"Email"}),s.jsx(gt,{id:"email",type:"email",...t("email"),required:!0,disabled:i.isPending}),a.email&&s.jsx("span",{className:"text-red-500",children:a.email.message})]}),s.jsx(Ee,{type:"submit",className:"w-full",disabled:i.isPending,children:i.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"}),s.jsxs("div",{className:"text-center text-sm",children:["Remember your password?"," ",s.jsx("a",{href:"/",className:"underline underline-offset-4",children:"Login"})]})]})})},Axe=Vs.object({password:Vs.string().min(6,"Password must be at least 6 characters long").min(1,"Password is required"),confirmPassword:Vs.string().min(1,"Confirm Password is required")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),Exe=()=>{const{register:e,setError:t,handleSubmit:r,formState:{errors:n}}=Ea({resolver:Ca(Axe)}),a=Ls(),{token:i}=Ji(),o=Ks({mutationFn:c=>en(`/auth/reset-password/${i}`,{password:c.password}),onSuccess:()=>{ve.success("Password reset successful!"),a("/")},onError:c=>{qf(c,t),c.message?ve.error(c.message):ve.error("An unexpected error occurred")}}),l=c=>{if(!i){ve.error("Invalid or missing reset token");return}o.mutate({password:c.password})};return s.jsx("form",{className:"p-6 md:p-8",onSubmit:r(l),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Reset Password"}),s.jsx("p",{className:"text-balance text-muted-foreground",children:"Enter your new password to reset your account"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"password",children:"New Password"}),s.jsx(hi,{id:"password",type:"password",...e("password"),required:!0,disabled:o.isPending}),n.password&&s.jsx("span",{className:"text-red-500",children:n.password.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(hi,{id:"confirmPassword",type:"password",...e("confirmPassword"),required:!0,disabled:o.isPending}),n.confirmPassword&&s.jsx("span",{className:"text-red-500",children:n.confirmPassword.message})]}),s.jsx(Ee,{type:"submit",className:"w-full",disabled:o.isPending,children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})};function ws(e){const t="en-US",r="INR";return new Intl.NumberFormat(t,{style:"currency",currency:r}).format(e)}function Cxe(e){const t="en-US",r=typeof e=="string"?new Date(e):e;return new Intl.DateTimeFormat(t,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}var kR=1,_xe=.9,kxe=.8,Txe=.17,jE=.1,SE=.999,Dxe=.9999,Pxe=.99,Oxe=/[\\\/_+.#"@\[\(\{&]/,Rxe=/[\\\/_+.#"@\[\(\{&]/g,Ixe=/[\s-]/,qq=/[\s-]/g;function r_(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?kR:Pxe;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),d=r.indexOf(c,a),h=0,m,p,g,w;d>=0;)m=r_(e,t,r,n,d+1,i+1,o),m>h&&(d===a?m*=kR:Oxe.test(e.charAt(d-1))?(m*=kxe,g=e.slice(a,d-1).match(Rxe),g&&a>0&&(m*=Math.pow(SE,g.length))):Ixe.test(e.charAt(d-1))?(m*=_xe,w=e.slice(a,d-1).match(qq),w&&a>0&&(m*=Math.pow(SE,w.length))):(m*=Txe,a>0&&(m*=Math.pow(SE,d-a))),e.charAt(d)!==t.charAt(i)&&(m*=Dxe)),(m<jE&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(p=r_(e,t,r,n,d+1,i+2,o),p*jE>m&&(m=p*jE)),m>h&&(h=m),d=r.indexOf(c,d+1);return o[l]=h,h}function TR(e){return e.toLowerCase().replace(qq," ")}function Lxe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,r_(e,t,TR(e),TR(t),0,0,{})}var M1='[cmdk-group=""]',AE='[cmdk-group-items=""]',Mxe='[cmdk-group-heading=""]',zq='[cmdk-item=""]',DR=`${zq}:not([aria-disabled="true"])`,s_="cmdk-item-select",Rx="data-value",Fxe=(e,t,r)=>Lxe(e,t,r),Hq=y.createContext(void 0),Z2=()=>y.useContext(Hq),Wq=y.createContext(void 0),zT=()=>y.useContext(Wq),Gq=y.createContext(void 0),Yq=y.forwardRef((e,t)=>{let r=Ix(()=>{var D,H;return{search:"",value:(H=(D=e.value)!=null?D:e.defaultValue)!=null?H:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Ix(()=>new Set),a=Ix(()=>new Map),i=Ix(()=>new Map),o=Ix(()=>new Set),l=Kq(e),{label:c,children:d,value:h,onValueChange:m,filter:p,shouldFilter:g,loop:w,disablePointerSelection:b=!1,vimBindings:v=!0,...N}=e,S=Xi(),A=Xi(),E=Xi(),C=y.useRef(null),I=Kxe();ng(()=>{if(h!==void 0){let D=h.trim();r.current.value=D,P.emit()}},[h]),ng(()=>{I(6,R)},[]);let P=y.useMemo(()=>({subscribe:D=>(o.current.add(D),()=>o.current.delete(D)),snapshot:()=>r.current,setState:(D,H,K)=>{var W,re,te,ie;if(!Object.is(r.current[D],H)){if(r.current[D]=H,D==="search")M(),z(),I(1,O);else if(D==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let se=document.getElementById(E);se?se.focus():(W=document.getElementById(S))==null||W.focus()}if(I(7,()=>{var se;r.current.selectedItemId=(se=B())==null?void 0:se.id,P.emit()}),K||I(5,R),((re=l.current)==null?void 0:re.value)!==void 0){let se=H??"";(ie=(te=l.current).onValueChange)==null||ie.call(te,se);return}}P.emit()}},emit:()=>{o.current.forEach(D=>D())}}),[]),F=y.useMemo(()=>({value:(D,H,K)=>{var W;H!==((W=i.current.get(D))==null?void 0:W.value)&&(i.current.set(D,{value:H,keywords:K}),r.current.filtered.items.set(D,k(H,K)),I(2,()=>{z(),P.emit()}))},item:(D,H)=>(n.current.add(D),H&&(a.current.has(H)?a.current.get(H).add(D):a.current.set(H,new Set([D]))),I(3,()=>{M(),z(),r.current.value||O(),P.emit()}),()=>{i.current.delete(D),n.current.delete(D),r.current.filtered.items.delete(D);let K=B();I(4,()=>{M(),(K==null?void 0:K.getAttribute("id"))===D&&O(),P.emit()})}),group:D=>(a.current.has(D)||a.current.set(D,new Set),()=>{i.current.delete(D),a.current.delete(D)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:S,inputId:E,labelId:A,listInnerRef:C}),[]);function k(D,H){var K,W;let re=(W=(K=l.current)==null?void 0:K.filter)!=null?W:Fxe;return D?re(D,r.current.search,H):0}function z(){if(!r.current.search||l.current.shouldFilter===!1)return;let D=r.current.filtered.items,H=[];r.current.filtered.groups.forEach(W=>{let re=a.current.get(W),te=0;re.forEach(ie=>{let se=D.get(ie);te=Math.max(se,te)}),H.push([W,te])});let K=C.current;Y().sort((W,re)=>{var te,ie;let se=W.getAttribute("id"),le=re.getAttribute("id");return((te=D.get(le))!=null?te:0)-((ie=D.get(se))!=null?ie:0)}).forEach(W=>{let re=W.closest(AE);re?re.appendChild(W.parentElement===re?W:W.closest(`${AE} > *`)):K.appendChild(W.parentElement===K?W:W.closest(`${AE} > *`))}),H.sort((W,re)=>re[1]-W[1]).forEach(W=>{var re;let te=(re=C.current)==null?void 0:re.querySelector(`${M1}[${Rx}="${encodeURIComponent(W[0])}"]`);te==null||te.parentElement.appendChild(te)})}function O(){let D=Y().find(K=>K.getAttribute("aria-disabled")!=="true"),H=D==null?void 0:D.getAttribute(Rx);P.setState("value",H||void 0)}function M(){var D,H,K,W;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let re=0;for(let te of n.current){let ie=(H=(D=i.current.get(te))==null?void 0:D.value)!=null?H:"",se=(W=(K=i.current.get(te))==null?void 0:K.keywords)!=null?W:[],le=k(ie,se);r.current.filtered.items.set(te,le),le>0&&re++}for(let[te,ie]of a.current)for(let se of ie)if(r.current.filtered.items.get(se)>0){r.current.filtered.groups.add(te);break}r.current.filtered.count=re}function R(){var D,H,K;let W=B();W&&(((D=W.parentElement)==null?void 0:D.firstChild)===W&&((K=(H=W.closest(M1))==null?void 0:H.querySelector(Mxe))==null||K.scrollIntoView({block:"nearest"})),W.scrollIntoView({block:"nearest"}))}function B(){var D;return(D=C.current)==null?void 0:D.querySelector(`${zq}[aria-selected="true"]`)}function Y(){var D;return Array.from(((D=C.current)==null?void 0:D.querySelectorAll(DR))||[])}function U(D){let H=Y()[D];H&&P.setState("value",H.getAttribute(Rx))}function Q(D){var H;let K=B(),W=Y(),re=W.findIndex(ie=>ie===K),te=W[re+D];(H=l.current)!=null&&H.loop&&(te=re+D<0?W[W.length-1]:re+D===W.length?W[0]:W[re+D]),te&&P.setState("value",te.getAttribute(Rx))}function V(D){let H=B(),K=H==null?void 0:H.closest(M1),W;for(;K&&!W;)K=D>0?Gxe(K,M1):Yxe(K,M1),W=K==null?void 0:K.querySelector(DR);W?P.setState("value",W.getAttribute(Rx)):Q(D)}let Z=()=>U(Y().length-1),J=D=>{D.preventDefault(),D.metaKey?Z():D.altKey?V(1):Q(1)},ae=D=>{D.preventDefault(),D.metaKey?U(0):D.altKey?V(-1):Q(-1)};return y.createElement(Rr.div,{ref:t,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:D=>{var H;(H=N.onKeyDown)==null||H.call(N,D);let K=D.nativeEvent.isComposing||D.keyCode===229;if(!(D.defaultPrevented||K))switch(D.key){case"n":case"j":{v&&D.ctrlKey&&J(D);break}case"ArrowDown":{J(D);break}case"p":case"k":{v&&D.ctrlKey&&ae(D);break}case"ArrowUp":{ae(D);break}case"Home":{D.preventDefault(),U(0);break}case"End":{D.preventDefault(),Z();break}case"Enter":{D.preventDefault();let W=B();if(W){let re=new Event(s_);W.dispatchEvent(re)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:F.inputId,id:F.labelId,style:Xxe},c),LS(e,D=>y.createElement(Wq.Provider,{value:P},y.createElement(Hq.Provider,{value:F},D))))}),Bxe=y.forwardRef((e,t)=>{var r,n;let a=Xi(),i=y.useRef(null),o=y.useContext(Gq),l=Z2(),c=Kq(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;ng(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let h=Qq(a,i,[e.value,e.children,i],e.keywords),m=zT(),p=zf(I=>I.value&&I.value===h.current),g=zf(I=>d||l.filter()===!1?!0:I.search?I.filtered.items.get(a)>0:!0);y.useEffect(()=>{let I=i.current;if(!(!I||e.disabled))return I.addEventListener(s_,w),()=>I.removeEventListener(s_,w)},[g,e.onSelect,e.disabled]);function w(){var I,P;b(),(P=(I=c.current).onSelect)==null||P.call(I,h.current)}function b(){m.setState("value",h.current,!0)}if(!g)return null;let{disabled:v,value:N,onSelect:S,forceMount:A,keywords:E,...C}=e;return y.createElement(Rr.div,{ref:Ll(i,t),...C,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!p,"data-disabled":!!v,"data-selected":!!p,onPointerMove:v||l.getDisablePointerSelection()?void 0:b,onClick:v?void 0:w},e.children)}),Uxe=y.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Xi(),l=y.useRef(null),c=y.useRef(null),d=Xi(),h=Z2(),m=zf(g=>a||h.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);ng(()=>h.group(o),[]),Qq(o,l,[e.value,e.heading,c]);let p=y.useMemo(()=>({id:o,forceMount:a}),[a]);return y.createElement(Rr.div,{ref:Ll(l,t),...i,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&y.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),LS(e,g=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},y.createElement(Gq.Provider,{value:p},g))))}),$xe=y.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=y.useRef(null),i=zf(o=>!o.search);return!r&&!i?null:y.createElement(Rr.div,{ref:Ll(a,t),...n,"cmdk-separator":"",role:"separator"})}),Vxe=y.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=zT(),o=zf(d=>d.search),l=zf(d=>d.selectedItemId),c=Z2();return y.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),y.createElement(Rr.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),qxe=y.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=y.useRef(null),o=y.useRef(null),l=zf(d=>d.selectedItemId),c=Z2();return y.useEffect(()=>{if(o.current&&i.current){let d=o.current,h=i.current,m,p=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let g=d.offsetHeight;h.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return p.observe(d),()=>{cancelAnimationFrame(m),p.unobserve(d)}}},[]),y.createElement(Rr.div,{ref:Ll(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},LS(e,d=>y.createElement("div",{ref:Ll(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),zxe=y.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return y.createElement(sS,{open:r,onOpenChange:n},y.createElement(nS,{container:o},y.createElement(T2,{"cmdk-overlay":"",className:a}),y.createElement(D2,{"aria-label":e.label,"cmdk-dialog":"",className:i},y.createElement(Yq,{ref:t,...l}))))}),Hxe=y.forwardRef((e,t)=>zf(r=>r.filtered.count===0)?y.createElement(Rr.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Wxe=y.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return y.createElement(Rr.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},LS(e,o=>y.createElement("div",{"aria-hidden":!0},o)))}),Fl=Object.assign(Yq,{List:qxe,Item:Bxe,Input:Vxe,Group:Uxe,Separator:$xe,Dialog:zxe,Empty:Hxe,Loading:Wxe});function Gxe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Yxe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Kq(e){let t=y.useRef(e);return ng(()=>{t.current=e}),t}var ng=typeof window>"u"?y.useEffect:y.useLayoutEffect;function Ix(e){let t=y.useRef();return t.current===void 0&&(t.current=e()),t}function zf(e){let t=zT(),r=()=>e(t.snapshot());return y.useSyncExternalStore(t.subscribe,r,r)}function Qq(e,t,r,n=[]){let a=y.useRef(),i=Z2();return ng(()=>{var o;let l=(()=>{var d;for(let h of r){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(d=h.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Rx,l),a.current=l}),a}var Kxe=()=>{let[e,t]=y.useState(),r=Ix(()=>new Map);return ng(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function Qxe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function LS({asChild:e,children:t},r){return e&&y.isValidElement(t)?y.cloneElement(Qxe(t),{ref:t.ref},r(t.props.children)):r(t)}var Xxe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Zxe=P2("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-white [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 ",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-gray-700"}},defaultVariants:{variant:"default"}});function Gr({className:e,variant:t,asChild:r=!1,...n}){const a=r?J5:"span";return s.jsx(a,{"data-slot":"badge",className:jt(Zxe({variant:t}),e),...n})}const HT=y.forwardRef(({className:e,...t},r)=>s.jsx(Fl,{ref:r,className:jt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));HT.displayName=Fl.displayName;const Xq=y.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Hn,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(Fl.Input,{ref:r,className:jt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Xq.displayName=Fl.Input.displayName;const WT=y.forwardRef(({className:e,...t},r)=>s.jsx(Fl.List,{ref:r,className:jt("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));WT.displayName=Fl.List.displayName;const Zq=y.forwardRef((e,t)=>s.jsx(Fl.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Zq.displayName=Fl.Empty.displayName;const c5=y.forwardRef(({className:e,...t},r)=>s.jsx(Fl.Group,{ref:r,className:jt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));c5.displayName=Fl.Group.displayName;const Jq=y.forwardRef(({className:e,...t},r)=>s.jsx(Fl.Separator,{ref:r,className:jt("-mx-1 h-px bg-border",e),...t}));Jq.displayName=Fl.Separator.displayName;const E0=y.forwardRef(({className:e,...t},r)=>s.jsx(Fl.Item,{ref:r,className:jt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-gray-700-foreground data-[disabled=true]:opacity-50",e),...t}));E0.displayName=Fl.Item.displayName;function Jxe(e,t){const[r,n]=y.useState(e);return y.useEffect(()=>{const a=setTimeout(()=>n(e),t);return()=>{clearTimeout(a)}},[e,t]),r}function EN(e,t){if(e.length===0)return{};if(!t)return{"":e};const r={};return e.forEach(n=>{const a=n[t]||"";r[a]||(r[a]=[]),r[a].push(n)}),r}function eye(e,t){const r=JSON.parse(JSON.stringify(e));for(const[n,a]of Object.entries(r))r[n]=a.filter(i=>!t.find(o=>o.value===i.value));return r}function tye(e,t){for(const[,r]of Object.entries(e))if(r.some(n=>t.find(a=>a.value===n.value)))return!0;return!1}const ez=y.forwardRef(({className:e,...t},r)=>zf(a=>a.filtered.count===0)?s.jsx("div",{ref:r,className:jt("py-6 text-center text-sm",e),"cmdk-empty":"",role:"presentation",...t}):null);ez.displayName="CommandEmpty";const tz=y.forwardRef(({value:e,onChange:t,placeholder:r,defaultOptions:n=[],options:a,delay:i,onSearch:o,onSearchSync:l,loadingIndicator:c,emptyIndicator:d,maxSelected:h=Number.MAX_SAFE_INTEGER,onMaxSelected:m,hidePlaceholderWhenSelected:p,disabled:g,groupBy:w,className:b,badgeClassName:v,selectFirstItem:N=!0,creatable:S=!1,triggerSearchOnFocus:A=!1,commandProps:E,inputProps:C,hideClearAllButton:I=!1},P)=>{const F=y.useRef(null),[k,z]=y.useState(!1),[O,M]=y.useState(!1),[R,B]=y.useState(!1),Y=y.useRef(null),[U,Q]=y.useState(e||[]),[V,Z]=y.useState(EN(n,w)),[J,ae]=y.useState(""),D=Jxe(J,i||500);y.useImperativeHandle(P,()=>({selectedValue:[...U],input:F.current,focus:()=>{var le;return(le=F==null?void 0:F.current)==null?void 0:le.focus()},reset:()=>Q([])}),[U]);const H=le=>{Y.current&&!Y.current.contains(le.target)&&F.current&&!F.current.contains(le.target)&&(z(!1),F.current.blur())},K=y.useCallback(le=>{const Ce=U.filter(De=>De.value!==le.value);Q(Ce),t==null||t(Ce)},[t,U]),W=y.useCallback(le=>{const Ce=F.current;Ce&&((le.key==="Delete"||le.key==="Backspace")&&Ce.value===""&&U.length>0&&(U[U.length-1].fixed||K(U[U.length-1])),le.key==="Escape"&&Ce.blur())},[K,U]);y.useEffect(()=>(k?(document.addEventListener("mousedown",H),document.addEventListener("touchend",H)):(document.removeEventListener("mousedown",H),document.removeEventListener("touchend",H)),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("touchend",H)}),[k]),y.useEffect(()=>{e&&Q(e)},[e]),y.useEffect(()=>{if(!a||o)return;const le=EN(a||[],w);JSON.stringify(le)!==JSON.stringify(V)&&Z(le)},[n,a,w,o,V]),y.useEffect(()=>{const le=()=>{const De=l==null?void 0:l(D);Z(EN(De||[],w))};(async()=>{!l||!k||(A&&le(),D&&le())})()},[D,w,k,A]),y.useEffect(()=>{const le=async()=>{B(!0);const De=await(o==null?void 0:o(D));Z(EN(De||[],w)),B(!1)};(async()=>{!o||!k||(A&&await le(),D&&await le())})()},[D,w,k,A]);const re=()=>{if(!S||tye(V,[{value:J,label:J}])||U.find(Ce=>Ce.value===J))return;const le=s.jsx(E0,{value:J,className:"cursor-pointer",onMouseDown:Ce=>{Ce.preventDefault(),Ce.stopPropagation()},onSelect:Ce=>{if(U.length>=h){m==null||m(U.length);return}ae("");const De=[...U,{value:Ce,label:Ce}];Q(De),t==null||t(De)},children:`Create "${J}"`});if(!o&&J.length>0||o&&D.length>0&&!R)return le},te=y.useCallback(()=>{if(d)return o&&!S&&Object.keys(V).length===0?s.jsx(E0,{value:"-",disabled:!0,children:d}):s.jsx(ez,{children:d})},[S,d,o,V]),ie=y.useMemo(()=>eye(V,U),[V,U]),se=y.useCallback(()=>{if(E!=null&&E.filter)return E.filter;if(S)return(le,Ce)=>le.toLowerCase().includes(Ce.toLowerCase())?1:-1},[S,E==null?void 0:E.filter]);return s.jsxs(HT,{ref:Y,...E,onKeyDown:le=>{var Ce;W(le),(Ce=E==null?void 0:E.onKeyDown)==null||Ce.call(E,le)},className:jt("h-auto overflow-visible bg-transparent",E==null?void 0:E.className),shouldFilter:(E==null?void 0:E.shouldFilter)!==void 0?E.shouldFilter:!o,filter:se(),children:[s.jsx("div",{className:jt("min-h-10 rounded-md border border-input text-base ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2 md:text-sm",{"px-3 py-2":U.length!==0,"cursor-text":!g&&U.length!==0},b),onClick:()=>{var le;g||(le=F==null?void 0:F.current)==null||le.focus()},children:s.jsxs("div",{className:"relative flex flex-wrap gap-1",children:[U.map(le=>s.jsxs(Gr,{className:jt("data-[disabled]:bg-muted-foreground data-[disabled]:text-muted data-[disabled]:hover:bg-muted-foreground","data-[fixed]:bg-muted-foreground data-[fixed]:text-muted data-[fixed]:hover:bg-muted-foreground",v),"data-fixed":le.fixed,"data-disabled":g||void 0,children:[le.label,s.jsx("button",{type:"button",className:jt("ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",(g||le.fixed)&&"hidden"),onKeyDown:Ce=>{Ce.key==="Enter"&&K(le)},onMouseDown:Ce=>{Ce.preventDefault(),Ce.stopPropagation()},onClick:()=>K(le),children:s.jsx(ul,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},le.value)),s.jsx(Fl.Input,{...C,ref:F,value:J,disabled:g,onValueChange:le=>{var Ce;ae(le),(Ce=C==null?void 0:C.onValueChange)==null||Ce.call(C,le)},onBlur:le=>{var Ce;O||z(!1),(Ce=C==null?void 0:C.onBlur)==null||Ce.call(C,le)},onFocus:le=>{var Ce;z(!0),(Ce=C==null?void 0:C.onFocus)==null||Ce.call(C,le)},placeholder:p&&U.length!==0?"":r,className:jt("flex-1 bg-transparent outline-none placeholder:text-muted-foreground",{"w-full":p,"px-3 py-2":U.length===0,"ml-1":U.length!==0},C==null?void 0:C.className)}),s.jsx("button",{type:"button",onClick:()=>{Q(U.filter(le=>le.fixed)),t==null||t(U.filter(le=>le.fixed))},className:jt("absolute right-0 h-6 w-6 p-0",(I||g||U.length<1||U.filter(le=>le.fixed).length===U.length)&&"hidden"),children:s.jsx(ul,{})})]})}),s.jsx("div",{className:"relative",children:k&&s.jsx(WT,{className:"absolute top-1 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",onMouseLeave:()=>{M(!1)},onMouseEnter:()=>{M(!0)},onMouseUp:()=>{var le;(le=F==null?void 0:F.current)==null||le.focus()},children:R?s.jsx(s.Fragment,{children:c}):s.jsxs(s.Fragment,{children:[te(),re(),!N&&s.jsx(E0,{value:"-",className:"hidden"}),Object.entries(ie).map(([le,Ce])=>s.jsx(c5,{heading:le,className:"h-full overflow-auto",children:s.jsx(s.Fragment,{children:Ce.map(De=>s.jsx(E0,{value:De.label,disabled:De.disable,onMouseDown:Ze=>{Ze.preventDefault(),Ze.stopPropagation()},onSelect:()=>{if(U.length>=h){m==null||m(U.length);return}ae("");const Ze=[...U,De];Q(Ze),t==null||t(Ze)},className:jt("cursor-pointer",De.disable&&"cursor-default text-muted-foreground"),children:De.label},De.value))})},le))]})})})]})});tz.displayName="MultipleSelector";const J2=({currentPage:e,totalPages:t,totalRecords:r,recordsPerPage:n,onPageChange:a,onRecordsPerPageChange:i})=>{const o=r===0?0:(e-1)*n+1,l=Math.min(e*n,r);return y.useEffect(()=>{e>t&&t>0&&a(t)},[e,t,a]),s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3 gap-3",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.jsx("span",{className:"font-medium",children:o})," to"," ",s.jsx("span",{className:"font-medium",children:l})," of"," ",s.jsx("span",{className:"font-medium",children:r})," records"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Records per page:"}),s.jsxs(pr,{value:(n==null?void 0:n.toString())||"10",onValueChange:c=>i(Number(c)),children:[s.jsx(xr,{className:"w-[70px] h-8",children:s.jsx(gr,{placeholder:`${n||10}`})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"5",children:"5"}),s.jsx(wt,{value:"10",children:"10"}),s.jsx(wt,{value:"20",children:"20"}),s.jsx(wt,{value:"50",children:"50"}),s.jsx(wt,{value:"100",children:"100"})]})]})]})]}),t>0&&s.jsx("div",{className:"flex justify-center md:justify-end w-full overflow-x-auto py-1",children:s.jsx(Sg,{children:s.jsxs(Ag,{children:[s.jsx(Ed,{children:s.jsx(Eg,{onClick:()=>e>1&&a(e-1),className:e===1?"pointer-events-none opacity-50":"cursor-pointer"})}),t<=7?Array.from({length:t},(c,d)=>d+1).map(c=>s.jsx(Ed,{children:s.jsx(S0,{isActive:e===c,onClick:()=>a(c),children:c})},c)):s.jsxs(s.Fragment,{children:[s.jsx(Ed,{children:s.jsx(S0,{isActive:e===1,onClick:()=>a(1),children:"1"})}),e>3&&s.jsx(Ed,{children:s.jsx("span",{className:"px-4",children:"..."})}),Array.from({length:t},(c,d)=>d+1).filter(c=>c!==1&&c!==t&&(Math.abs(c-e)<2||e<=3&&c<=5||e>=t-2&&c>=t-4)).map(c=>s.jsx(Ed,{children:s.jsx(S0,{isActive:e===c,onClick:()=>a(c),children:c})},c)),e<t-2&&s.jsx(Ed,{children:s.jsx("span",{className:"px-4",children:"..."})}),s.jsx(Ed,{children:s.jsx(S0,{isActive:e===t,onClick:()=>a(t),children:t})})]}),s.jsx(Ed,{children:s.jsx(Cg,{onClick:()=>e<t&&a(e+1),className:e>=t?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})};var Nj={exports:{}},rye=Nj.exports,PR;function sye(){return PR||(PR=1,function(e,t){(function(r,n){n()})(rye,function(){function r(d,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function n(d,h,m){var p=new XMLHttpRequest;p.open("GET",d),p.responseType="blob",p.onload=function(){c(p.response,h,m)},p.onerror=function(){console.error("could not download file")},p.send()}function a(d){var h=new XMLHttpRequest;h.open("HEAD",d,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function i(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Pd=="object"&&Pd.global===Pd?Pd:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,h,m){var p=o.URL||o.webkitURL,g=document.createElement("a");h=h||d.name||"download",g.download=h,g.rel="noopener",typeof d=="string"?(g.href=d,g.origin===location.origin?i(g):a(g.href)?n(d,h,m):i(g,g.target="_blank")):(g.href=p.createObjectURL(d),setTimeout(function(){p.revokeObjectURL(g.href)},4e4),setTimeout(function(){i(g)},0))}:"msSaveOrOpenBlob"in navigator?function(d,h,m){if(h=h||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(r(d,m),h);else if(a(d))n(d,h,m);else{var p=document.createElement("a");p.href=d,p.target="_blank",setTimeout(function(){i(p)})}}:function(d,h,m,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof d=="string")return n(d,h,m);var g=d.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||g&&w||l)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var A=v.result;A=b?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=A:location=A,p=null},v.readAsDataURL(d)}else{var N=o.URL||o.webkitURL,S=N.createObjectURL(d);p?p.location=S:location.href=S,p=null,setTimeout(function(){N.revokeObjectURL(S)},4e4)}});o.saveAs=c.saveAs=c,e.exports=c})}(Nj)),Nj.exports}var nye=sye();const aye=Vs.object({newPassword:Vs.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Vs.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),iye=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=y.useState(""),[i,o]=y.useState(""),l=Ks({mutationFn:d=>Oi(`/users/${e}/password`,{password:d}),onSuccess:()=>{ve.success("Password changed successfully!"),r()},onError:d=>{ve.error(d.message||"Failed to change password. Please try again.")}}),c=d=>{var m;d.preventDefault();const h=aye.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const p=(m=h.error.errors[0])==null?void 0:m.message;ve.error(p||"Validation failed");return}l.mutate(n)};return s.jsx(xn,{open:t,onOpenChange:r,children:s.jsxs(yn,{className:"sm:max-w-[425px]",children:[s.jsx(An,{children:s.jsx(En,{children:"Change Password"})}),s.jsxs("form",{onSubmit:c,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(hi,{value:n,onChange:d=>a(d.target.value),required:!0,className:"w-full"}),s.jsx(hi,{value:i,onChange:d=>o(d.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(Ee,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})};var GT="Switch",[oye,J7e]=eo(GT),[lye,cye]=oye(GT),rz=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...m}=e,[p,g]=y.useState(null),w=_s(t,A=>g(A)),b=y.useRef(!1),v=p?h||!!p.closest("form"):!0,[N=!1,S]=Bd({prop:a,defaultProp:i,onChange:d});return s.jsxs(lye,{scope:r,checked:N,disabled:l,children:[s.jsx(Rr.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":az(N),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:w,onClick:wr(e.onClick,A=>{S(E=>!E),v&&(b.current=A.isPropagationStopped(),b.current||A.stopPropagation())})}),v&&s.jsx(dye,{control:p,bubbles:!b.current,name:n,value:c,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});rz.displayName=GT;var sz="SwitchThumb",nz=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=cye(sz,r);return s.jsx(Rr.span,{"data-state":az(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});nz.displayName=sz;var dye=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=y.useRef(null),o=PS(r),l=yS(t);return y.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&m){const p=new Event("click",{bubbles:n});m.call(c,r),c.dispatchEvent(p)}},[o,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function az(e){return e?"checked":"unchecked"}var uye=rz,hye=nz;function d5({className:e,...t}){return s.jsx(uye,{"data-slot":"switch",className:jt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(hye,{"data-slot":"switch-thumb",className:jt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const fye=e=>e?e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):"",mye=In({name:Ft().min(1,"Name is required"),email:Ft().email("Invalid email address"),password:Ft().min(6,"Password must be at least 6 characters long").optional(),role:Ft().min(1,"Role is required"),active:Fd().optional()}),pye=["VENDOR","AGENCY","ADMIN","MEMBER"],u5=({mode:e,userId:t,onSuccess:r,className:n})=>{const a=pye,i=Ja(),{id:o}=Ji(),l=t??o,{register:c,handleSubmit:d,setValue:h,watch:m,control:p,setError:g,formState:{errors:w}}=Ea({resolver:Ca(mye)}),b=m("active");y.useEffect(()=>{e==="edit"&&l&&(async()=>{try{const I=await $t(`/users/${l}`);h("name",I.name),h("email",I.email),h("role",I.role),h("active",I.active)}catch{ve.error("Failed to fetch user details")}})()},[l,e,h]);const v=Ks({mutationFn:C=>en("/users",C),onSuccess:()=>{ve.success("User created successfully"),i.invalidateQueries({queryKey:["users"]}),r==null||r()},onError:C=>{qf(C,g),C.message?ve.error(C.message):ve.error("Failed to create user")}}),N=Ks({mutationFn:C=>Aa(`/users/${l}`,C),onSuccess:()=>{ve.success("User updated successfully"),i.invalidateQueries({queryKey:["users"]}),r==null||r()},onError:C=>{qf(C,g),C.message?ve.error(C.message):ve.error("Failed to update user")}}),S=C=>{e==="create"?v.mutate(C):N.mutate(C)},A=()=>{r&&r()};return s.jsx("div",{className:n,children:s.jsx(E,{})});function E(){return s.jsxs("form",{onSubmit:d(S),className:"space-y-7",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"name",children:"Full Name"}),s.jsx(gt,{id:"name",type:"text",...c("name")}),w.name&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"email",children:"Email Address"}),s.jsx(gt,{id:"email",type:"email",...c("email")}),w.email&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.email.message})]}),e==="create"&&s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"password",children:"Password"}),s.jsx(hi,{id:"password",...c("password")}),w.password&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.password.message})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"role",children:"Role"}),s.jsx(Fs,{name:"role",control:p,render:({field:C})=>s.jsxs(pr,{value:C.value,onValueChange:C.onChange,children:[s.jsx(xr,{children:s.jsx(gr,{})}),s.jsx(yr,{children:a.map(I=>s.jsxs(wt,{value:I,children:[fye(I)," "]},I))})]})}),w.role&&s.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:w.role.message})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Be,{htmlFor:"active",children:"Active"}),s.jsx(d5,{id:"active",checked:b,onCheckedChange:C=>h("active",C)})]})]}),s.jsxs("div",{className:"justify-end flex gap-4",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:v.isPending||N.isPending,className:"flex items-center justify-center gap-2",children:v.isPending||N.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"animate-spin h-4 w-4"}),"Saving..."]}):e==="create"?"Create":"Update"})]})]})}},gye=({isOpen:e,onClose:t})=>s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"sm:max-w-[600px]",children:[s.jsx(An,{children:s.jsx(En,{children:"Create New User"})}),s.jsx(u5,{mode:"create",onSuccess:t,className:"mt-4"})]})}),xye=({isOpen:e,onClose:t,userId:r})=>s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"sm:max-w-[600px]",children:[s.jsx(An,{children:s.jsx(En,{children:"Edit User"})}),s.jsx(u5,{mode:"edit",userId:r,onSuccess:t,className:"mt-4"})]})}),yye=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "),vye=async(e,t,r,n,a,i,o)=>{const l=i.length>0?`&roles=${i.join(",")}`:"";return await $t(`/users?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}${l}&limit=${o}`)},bye=()=>{const e=Ja(),[t,r]=y.useState(1),[n,a]=y.useState(10),[i,o]=y.useState("name"),[l,c]=y.useState("asc"),[d,h]=y.useState(""),[m,p]=y.useState("all"),[g,w]=y.useState([]),[b,v]=y.useState([]),[N,S]=y.useState(!1),[A,E]=y.useState(!1),[C,I]=y.useState(null),[P,F]=y.useState(!1),[k,z]=y.useState(null),[O,M]=y.useState(!1),[R,B]=y.useState(!1),[Y,U]=y.useState(null);Ls(),y.useEffect(()=>{(async()=>{})()},[]);const{data:Q,isLoading:V,isError:Z,refetch:J}=cs({queryKey:["users",t,i,l,d,m,g,n],queryFn:()=>vye(t,i,l,d,m,g,n)}),ae=(Q==null?void 0:Q.users)||[],D=(Q==null?void 0:Q.totalPages)||1,H=(Q==null?void 0:Q.totalUsers)||0,K=Ks({mutationFn:ge=>mi(`/users/${ge}`),onSuccess:()=>{ve.success("User deleted successfully"),e.invalidateQueries(["users"])},onError:()=>{ve.error("Failed to delete user")}}),W=ge=>{z(ge),F(!0)},re=()=>{k&&(K.mutate(k),F(!1),z(null))},te=Ks({mutationFn:({userId:ge,active:Ye})=>Oi(`/users/${ge}/status`,{active:Ye}),onSuccess:()=>{ve.success("User status updated successfully"),e.invalidateQueries(["users"])},onError:()=>{ve.error("Failed to update user status")}}),ie=(ge,Ye)=>{te.mutate({userId:ge,active:!Ye})},se=ge=>{i===ge?c(l==="asc"?"desc":"asc"):(o(ge),c("asc"))},le=ge=>{h(ge.target.value),r(1)},Ce=ge=>{p(ge),r(1)},De=ge=>{w(ge.map(Ye=>Ye.value)),r(1)},Ze=async()=>{try{const ge=g.length>0?`roles=${encodeURIComponent(g.join(","))}`:"",ze=`/users?${[`sortBy=${encodeURIComponent(i)}`,`sortOrder=${encodeURIComponent(l)}`,`search=${encodeURIComponent(d)}`,`active=${encodeURIComponent(m)}`,ge,"export=true"].filter(Boolean).join("&")}`,Pe=await $t(ze,null,{responseType:"blob"}),me=new Blob([Pe.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});nye.saveAs(me,"users.xlsx"),ve.success("User data exported successfully")}catch(ge){console.error("Export Error:",ge),ve.error("Failed to export user data")}},ke=ge=>{I(ge),E(!0)},ce=()=>{I(null),E(!1)},Me=ge=>{U(ge),B(!0)},be=()=>{B(!1),U(null)};return s.jsxs("div",{className:"mt-2 p-4 sm:p-6",children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"User Management"}),s.jsx(St,{className:"mx-auto mt-6 sm:mt-10",children:s.jsxs(_t,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsx("div",{className:"flex-grow",children:s.jsx(gt,{value:d,onChange:le,className:"w-full",icon:s.jsx(Hn,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(Ee,{variant:N||g.length>0||m!=="all"?"default":"outline",className:`
                  ${N||g.length>0||m!=="all"?"bg-primary hover:bg-primary/90 text-white shadow-sm":"hover:bg-accent"}
                  transition-all duration-200
                `,onClick:()=>S(!N),children:[s.jsx(Qc,{className:`mr-2 h-4 w-4 ${N?"text-white":""}`}),"Filters",(g.length>0||m!=="all")&&s.jsx("span",{className:"ml-2 bg-white text-primary font-medium rounded-full px-2 py-0.5 text-xs",children:g.length+(m!=="all"?1:0)})]}),s.jsxs(Ee,{variant:"outline",onClick:Ze,disabled:V||ae.length===0,children:[s.jsx(zc,{className:"mr-2 h-4 w-4"}),"Export"]}),s.jsxs(Ee,{onClick:()=>M(!0),className:"bg-primary hover:bg-primary/90 text-white shadow-sm transition-all duration-200 hover:shadow-md",children:[s.jsx(xa,{className:"mr-2 h-5 w-5"}),"Add"]})]})]}),N&&s.jsx(St,{className:"p-4",children:s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),s.jsxs(pr,{value:m,onValueChange:Ce,children:[s.jsx(xr,{children:s.jsx(gr,{})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Users"}),s.jsx(wt,{value:"true",children:"Active Users"}),s.jsx(wt,{value:"false",children:"Inactive Users"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Roles"}),b.length>0?s.jsx(tz,{defaultOptions:b,selectedOptions:g.map(ge=>({label:yye(ge),value:ge})),onChange:De}):s.jsxs("div",{className:"h-10 flex items-center text-gray-500",children:[s.jsx(My,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading roles..."]})]}),s.jsx("div",{className:"flex justify-end mt-7",children:s.jsx(Ee,{size:"sm",onClick:()=>{h(""),p("all"),w([]),r(1),S(!1)},children:"Clear Filters"})})]})}),s.jsx(ES,{className:"mb-4"}),V?s.jsx("div",{className:"flex justify-center items-center h-32",children:s.jsx(My,{className:"mr-2 h-8 w-8 animate-spin"})}):Z?s.jsx("div",{className:"text-center text-red-500",children:"Failed to load users."}):ae.length>0?s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{onClick:()=>se("name"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Name"}),i==="name"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Eh,{size:16}):s.jsx(Ia,{size:16})})]})}),s.jsx($e,{onClick:()=>se("email"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Email"}),i==="email"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Eh,{size:16}):s.jsx(Ia,{size:16})})]})}),s.jsx($e,{onClick:()=>se("role"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Role"}),i==="role"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Eh,{size:16}):s.jsx(Ia,{size:16})})]})}),s.jsx($e,{onClick:()=>se("lastLogin"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Last Login"}),i==="lastLogin"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Eh,{size:16}):s.jsx(Ia,{size:16})})]})}),s.jsx($e,{onClick:()=>se("active"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:"Active"}),i==="active"&&s.jsx("span",{className:"ml-1",children:l==="asc"?s.jsx(Eh,{size:16}):s.jsx(Ia,{size:16})})]})}),s.jsx($e,{children:"Actions"})]})}),s.jsx(Hs,{children:ae.map(ge=>s.jsxs(hr,{children:[s.jsx(Oe,{children:ge.name}),s.jsx(Oe,{children:ge.email}),s.jsx(Oe,{children:s.jsx(Gr,{variant:"outline",children:ge.role.split(" ").map(Ye=>Ye.charAt(0).toUpperCase()+Ye.slice(1)).join(" ")})}),s.jsx(Oe,{children:ge.lastLogin?Cxe(ge.lastLogin):"Never"}),s.jsx(Oe,{children:ge.active?s.jsx(Gr,{variant:"outline",children:"Active"}):s.jsx(Gr,{variant:"secondary",children:"Inactive"})}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>Me(ge.id.toString()),children:s.jsx(yl,{size:16})}),s.jsx(Ee,{variant:"destructive",size:"sm",onClick:()=>W(ge.id),children:s.jsx(Sa,{size:16})}),s.jsxs(bg,{modal:!1,children:[s.jsx(wg,{asChild:!0,children:s.jsxs(Ee,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(uv,{className:"h-4 w-4"})]})}),s.jsx(Ng,{className:"w-56",children:s.jsxs(AS,{children:[s.jsx(Ka,{onClick:()=>ie(ge.id,ge.active),children:s.jsxs("div",{className:"flex items-center gap-2",children:[ge.active?s.jsx(ic,{className:"h-4 w-4"}):s.jsx(Ol,{className:"h-4 w-4"}),s.jsxs("span",{children:["Set ",ge.active?"Inactive":"Active"]})]})}),s.jsx(Ka,{onClick:()=>ke(ge.id),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rk,{className:"h-4 w-4"}),s.jsx("span",{children:"Change Password"})]})})]})})]})]})})]},ge.id))})]}),s.jsx(J2,{currentPage:t,totalPages:D,totalRecords:H,recordsPerPage:n,onPageChange:r,onRecordsPerPageChange:ge=>{a(ge),r(1)}})]}):s.jsx("div",{className:"text-center",children:"No users found."})]})}),C&&s.jsx(iye,{userId:C,isOpen:A,onClose:ce}),s.jsx(vv,{isOpen:P,title:"Confirm Deletion",description:"Are you sure you want to delete this user? This action cannot be undone.",onCancel:()=>{F(!1),z(null)},onConfirm:re}),s.jsx(gye,{isOpen:O,onClose:()=>M(!1)}),Y&&s.jsx(xye,{isOpen:R,onClose:be,userId:Y})]})};var YT="Radio",[wye,iz]=eo(YT),[Nye,jye]=wye(YT),oz=y.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...h}=e,[m,p]=y.useState(null),g=_s(t,v=>p(v)),w=y.useRef(!1),b=m?d||!!m.closest("form"):!0;return s.jsxs(Nye,{scope:r,checked:a,disabled:o,children:[s.jsx(Rr.button,{type:"button",role:"radio","aria-checked":a,"data-state":dz(a),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:g,onClick:wr(e.onClick,v=>{a||c==null||c(),b&&(w.current=v.isPropagationStopped(),w.current||v.stopPropagation())})}),b&&s.jsx(Sye,{control:m,bubbles:!w.current,name:n,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});oz.displayName=YT;var lz="RadioIndicator",cz=y.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=jye(lz,r);return s.jsx(Ri,{present:n||i.checked,children:s.jsx(Rr.span,{"data-state":dz(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});cz.displayName=lz;var Sye=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=y.useRef(null),o=PS(r),l=yS(t);return y.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&m){const p=new Event("click",{bubbles:n});m.call(c,r),c.dispatchEvent(p)}},[o,r,n]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function dz(e){return e?"checked":"unchecked"}var Aye=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],KT="RadioGroup",[Eye,e9e]=eo(KT,[Av,iz]),uz=Av(),hz=iz(),[Cye,_ye]=Eye(KT),fz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:h=!0,onValueChange:m,...p}=e,g=uz(r),w=bv(d),[b,v]=Bd({prop:i,defaultProp:a,onChange:m});return s.jsx(Cye,{scope:r,name:n,required:o,disabled:l,value:b,onValueChange:v,children:s.jsx(nT,{asChild:!0,...g,orientation:c,dir:w,loop:h,children:s.jsx(Rr.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...p,ref:t})})})});fz.displayName=KT;var mz="RadioGroupItem",pz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=_ye(mz,r),o=i.disabled||n,l=uz(r),c=hz(r),d=y.useRef(null),h=_s(t,d),m=i.value===a.value,p=y.useRef(!1);return y.useEffect(()=>{const g=b=>{Aye.includes(b.key)&&(p.current=!0)},w=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",w)}},[]),s.jsx(aT,{asChild:!0,...l,focusable:!o,active:m,children:s.jsx(oz,{disabled:o,required:i.required,checked:m,...c,...a,name:i.name,ref:h,onCheck:()=>i.onValueChange(a.value),onKeyDown:wr(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:wr(a.onFocus,()=>{var g;p.current&&((g=d.current)==null||g.click())})})})});pz.displayName=mz;var kye="RadioGroupIndicator",gz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=hz(r);return s.jsx(cz,{...a,...n,ref:t})});gz.displayName=kye;var Tye=fz,Dye=pz,Pye=gz;function Wy({className:e,...t}){return s.jsx(Tye,{"data-slot":"radio-group",className:jt("grid gap-3",e),...t})}function nc({className:e,...t}){return s.jsx(Dye,{"data-slot":"radio-group-item",className:jt("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Pye,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:s.jsx(vte,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var QT="Checkbox",[Oye,t9e]=eo(QT),[Rye,Iye]=Oye(QT),xz=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...m}=e,[p,g]=y.useState(null),w=_s(t,E=>g(E)),b=y.useRef(!1),v=p?h||!!p.closest("form"):!0,[N=!1,S]=Bd({prop:a,defaultProp:i,onChange:d}),A=y.useRef(N);return y.useEffect(()=>{const E=p==null?void 0:p.form;if(E){const C=()=>S(A.current);return E.addEventListener("reset",C),()=>E.removeEventListener("reset",C)}},[p,S]),s.jsxs(Rye,{scope:r,state:N,disabled:l,children:[s.jsx(Rr.button,{type:"button",role:"checkbox","aria-checked":mp(N)?"mixed":N,"aria-required":o,"data-state":bz(N),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:w,onKeyDown:wr(e.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:wr(e.onClick,E=>{S(C=>mp(C)?!0:!C),v&&(b.current=E.isPropagationStopped(),b.current||E.stopPropagation())})}),v&&s.jsx(Lye,{control:p,bubbles:!b.current,name:n,value:c,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:mp(i)?!1:i})]})});xz.displayName=QT;var yz="CheckboxIndicator",vz=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=Iye(yz,r);return s.jsx(Ri,{present:n||mp(i.state)||i.state===!0,children:s.jsx(Rr.span,{"data-state":bz(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});vz.displayName=yz;var Lye=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i}=e,o=y.useRef(null),l=PS(r),c=yS(t);y.useEffect(()=>{const h=o.current,m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&g){const w=new Event("click",{bubbles:n});h.indeterminate=mp(r),g.call(h,mp(r)?!1:r),h.dispatchEvent(w)}},[l,r,n]);const d=y.useRef(mp(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mp(e){return e==="indeterminate"}function bz(e){return mp(e)?"indeterminate":e?"checked":"unchecked"}var Mye=xz,Fye=vz;function hl({className:e,...t}){return s.jsx(Mye,{"data-slot":"checkbox",className:jt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Fye,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(cv,{className:"size-3.5"})})})}const ew=[{value:"andhra-pradesh",label:"Andhra Pradesh"},{value:"arunachal-pradesh",label:"Arunachal Pradesh"},{value:"assam",label:"Assam"},{value:"bihar",label:"Bihar"},{value:"chhattisgarh",label:"Chhattisgarh"},{value:"goa",label:"Goa"},{value:"gujarat",label:"Gujarat"},{value:"haryana",label:"Haryana"},{value:"himachal-pradesh",label:"Himachal Pradesh"},{value:"jharkhand",label:"Jharkhand"},{value:"karnataka",label:"Karnataka"},{value:"kerala",label:"Kerala"},{value:"madhya-pradesh",label:"Madhya Pradesh"},{value:"maharashtra",label:"Maharashtra"},{value:"manipur",label:"Manipur"},{value:"meghalaya",label:"Meghalaya"},{value:"mizoram",label:"Mizoram"},{value:"nagaland",label:"Nagaland"},{value:"odisha",label:"Odisha"},{value:"punjab",label:"Punjab"},{value:"rajasthan",label:"Rajasthan"},{value:"sikkim",label:"Sikkim"},{value:"tamil-nadu",label:"Tamil Nadu"},{value:"telangana",label:"Telangana"},{value:"tripura",label:"Tripura"},{value:"uttar-pradesh",label:"Uttar Pradesh"},{value:"uttarakhand",label:"Uttarakhand"},{value:"west-bengal",label:"West Bengal"},{value:"andaman-nicobar",label:"Andaman and Nicobar Islands"},{value:"chandigarh",label:"Chandigarh"},{value:"dadra-nagar-haveli-daman-diu",label:"Dadra and Nagar Haveli and Daman and Diu"},{value:"delhi",label:"Delhi"},{value:"jammu-kashmir",label:"Jammu and Kashmir"},{value:"ladakh",label:"Ladakh"},{value:"lakshadweep",label:"Lakshadweep"},{value:"puducherry",label:"Puducherry"}],Bye=In({recipientName:Ft().min(1,"Recipient name is required"),mobile:Ft().min(1,"Mobile number is required").regex(/^\d{10,}$/,"Mobile number must be at least 10 digits"),plotBuilding:Ft().min(1,"Flat/House/Plot number is required"),streetArea:Ft().min(1,"Street/Area name is required"),landmark:Ft().optional(),pincode:Ft().min(1,"Pincode is required").regex(/^\d{6}$/,"Pincode must be exactly 6 digits"),city:Ft().min(1,"City is required"),state:Ft().min(1,"State is required"),isDefault:Fd().default(!1),label:_2(["Home","Work","Other"]).default("Home")}),Uye=({mode:e,memberId:t,addressId:r,initialData:n,onSuccess:a,onCancel:i})=>{const o=e==="edit",l=Ea({resolver:Ca(Bye),defaultValues:n?{recipientName:n.recipientName,mobile:n.mobile,plotBuilding:n.plotBuilding,streetArea:n.streetArea,landmark:n.landmark||"",pincode:n.pincode,city:n.city,state:n.state,isDefault:n.isDefault,label:n.label==="Home"||n.label==="Work"||n.label==="Other"?n.label:"Home"}:{recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"",state:"Maharashtra",isDefault:!1,label:"Home"}}),c=async d=>{var h,m;try{let p;o&&r?(p=await Aa(`/admin/delivery-addresses/${r}`,d),ve.success("Address updated successfully")):(p=await en("/admin/delivery-addresses",{...d,memberId:parseInt(t)}),ve.success("Address created successfully")),a(p)}catch(p){ve.error(((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.message)||"Failed to save address")}};return s.jsx("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto px-1",children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium mb-2 block",children:"Label As"}),s.jsxs(Wy,{value:l.watch("label"),onValueChange:d=>l.setValue("label",d),className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nc,{value:"Home",id:"home"}),s.jsx(Be,{htmlFor:"home",children:"Home"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nc,{value:"Work",id:"work"}),s.jsx(Be,{htmlFor:"work",children:"Work"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nc,{value:"Other",id:"other"}),s.jsx(Be,{htmlFor:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"recipientName",children:"Recipient Name *"}),s.jsx(gt,{id:"recipientName",...l.register("recipientName"),placeholder:"Enter recipient name"}),l.formState.errors.recipientName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.recipientName.message})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"mobile",children:"Mobile Number *"}),s.jsx(gt,{id:"mobile",...l.register("mobile"),placeholder:"Enter mobile number",maxLength:10}),l.formState.errors.mobile&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.mobile.message})]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"plotBuilding",children:"Flat, House, Plot Number *"}),s.jsx(gt,{id:"plotBuilding",...l.register("plotBuilding"),placeholder:"Enter flat, house, or plot number"}),l.formState.errors.plotBuilding&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.plotBuilding.message})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"streetArea",children:"Street/Area Name *"}),s.jsx(gt,{id:"streetArea",...l.register("streetArea"),placeholder:"Enter street or area name"}),l.formState.errors.streetArea&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.streetArea.message})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"landmark",children:"Landmark"}),s.jsx(gt,{id:"landmark",...l.register("landmark"),placeholder:"Enter landmark (optional)"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"pincode",children:"Pincode *"}),s.jsx(gt,{id:"pincode",...l.register("pincode"),placeholder:"Enter pincode",maxLength:6}),l.formState.errors.pincode&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.pincode.message})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"state",children:"State *"}),s.jsxs(pr,{value:l.watch("state"),onValueChange:d=>l.setValue("state",d),children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"Select a state"})}),s.jsx(yr,{className:"max-h-60 overflow-y-auto",children:ew.map(d=>s.jsx(wt,{value:d.label,children:d.label},d.value))})]}),l.formState.errors.state&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.state.message})]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"city",children:"City *"}),s.jsx(gt,{id:"city",...l.register("city"),placeholder:"Enter city"}),l.formState.errors.city&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.formState.errors.city.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hl,{id:"isDefault",checked:l.watch("isDefault"),onCheckedChange:d=>l.setValue("isDefault",!!d)}),s.jsx(Be,{htmlFor:"isDefault",className:"text-sm",children:"Set as default address"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:l.formState.isSubmitting,children:l.formState.isSubmitting?o?"Updating...":"Creating...":o?"Update Address":"Create Address"})]})]})})},$ye=In({name:Ft().min(1,"Name is required"),email:Ft().email("Invalid email address"),mobile:Ft().optional().refine(e=>!e||/^\d{10,15}$/.test(e),{message:"Mobile number must be 10-15 digits if provided."})}),Vye=()=>{const{memberId:e}=Ji(),t=Ls(),r=Ja(),[n,a]=y.useState([]),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[d,h]=y.useState(null),[m,p]=y.useState(!1),[g,w]=y.useState(null),[b,v]=y.useState(!1),{register:N,handleSubmit:S,setValue:A,setError:E,formState:{errors:C,isSubmitting:I}}=Ea({resolver:Ca($ye)});y.useEffect(()=>{e&&(async()=>{var Q,V;try{const Z=await $t(`/admin/users/${e}`);A("name",Z.name),A("email",Z.email),Z.mobile&&A("mobile",Z.mobile.toString()),await P()}catch(Z){ve.error(((V=(Q=Z.response)==null?void 0:Q.data)==null?void 0:V.message)||"Failed to fetch member details"),t("/admin/members")}})()},[e,A,t]);const P=async()=>{if(e){o(!0);try{const U=await $t(`/admin/delivery-addresses?memberId=${e}`);a(U||[])}catch(U){console.error("Failed to fetch member addresses:",U),U.status===404?ve.info("Address management endpoint not yet available"):ve.error("Failed to load member addresses"),a([])}finally{o(!1)}}},F=Ks({mutationFn:U=>Aa(`/admin/users/${e}`,U),onSuccess:()=>{ve.success("Member details updated successfully"),r.invalidateQueries({queryKey:["admin-members-list"]}),r.invalidateQueries({queryKey:["user",e]}),t("/admin/members")},onError:U=>{var Q,V;qf(U,E),ve.error(((V=(Q=U.response)==null?void 0:Q.data)==null?void 0:V.message)||"Failed to update member details")}}),k=U=>{F.mutate(U)},z=()=>{h(null),c(!0)},O=U=>{h(U),c(!0)},M=U=>{w(U),p(!0)},R=async()=>{var U,Q,V,Z;if(g){v(!0);try{await mi(`/admin/delivery-addresses/${g.id}`),ve.success("Address deleted successfully"),await P(),p(!1),w(null)}catch(J){if(J.status===404)try{await mi(`/delivery-addresses/${g.id}`),ve.success("Address deleted successfully"),await P(),p(!1),w(null)}catch(ae){ve.error(((Q=(U=ae.response)==null?void 0:U.data)==null?void 0:Q.message)||"Failed to delete address")}else ve.error(((Z=(V=J.response)==null?void 0:V.data)==null?void 0:Z.message)||"Failed to delete address")}finally{v(!1)}}},B=async U=>{c(!1),h(null),await P()},Y=U=>{switch(U){case"Home":return s.jsx(Dk,{className:"h-4 w-4 text-blue-600"});case"Work":return s.jsx(qm,{className:"h-4 w-4 text-green-600"});default:return s.jsx(Rd,{className:"h-4 w-4 text-gray-600"})}};return s.jsxs("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8 space-y-6",children:[s.jsxs(St,{className:"w-full",children:[s.jsx(zt,{children:s.jsx(dr,{children:"Edit Member Details"})}),s.jsxs("form",{onSubmit:S(k),children:[s.jsxs(_t,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"name",children:"Full Name"}),s.jsx(gt,{id:"name",type:"text",...N("name")}),C.name&&s.jsx("span",{className:"text-red-500 text-sm mt-1",children:C.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"email",children:"Email Address"}),s.jsx(gt,{id:"email",type:"email",...N("email")}),C.email&&s.jsx("span",{className:"text-red-500 text-sm mt-1",children:C.email.message})]})]}),s.jsxs(Op,{className:"flex justify-end gap-4 pt-6",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>t("/admin/members"),disabled:I||F.isPending,children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:I||F.isPending,className:"flex items-center justify-center gap-2",children:I||F.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"animate-spin h-4 w-4"}),"Saving..."]}):"Update Customer"})]})]})]}),s.jsxs(St,{className:"w-full",children:[s.jsx(zt,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(Rd,{className:"h-5 w-5"}),"Delivery Addresses"]}),s.jsxs(Ee,{onClick:z,size:"sm",className:"flex items-center gap-2",children:[s.jsx(li,{className:"h-4 w-4"}),"Add Address"]})]})}),s.jsx(_t,{children:i?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Ws,{className:"animate-spin h-6 w-6 mr-2"}),s.jsx("span",{children:"Loading addresses..."})]}):n.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Rd,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No addresses found"}),s.jsx("p",{className:"text-sm",children:"This member hasn't added any delivery addresses yet."})]}):s.jsx("div",{className:"space-y-4",children:n.map(U=>s.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Y(U.label),s.jsx("span",{className:"font-medium text-sm",children:U.label||"Other"}),U.isDefault&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:U.recipientName}),s.jsxs("p",{children:[U.plotBuilding,", ",U.streetArea]}),U.landmark&&s.jsxs("p",{children:["Near ",U.landmark]}),s.jsxs("p",{children:[U.city,", ",U.state," - ",U.pincode]}),s.jsxs("p",{className:"text-blue-600",children:[" ",U.mobile]})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>O(U),className:"flex items-center gap-1",children:[s.jsx(yl,{className:"h-3 w-3"}),"Edit"]}),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>M(U),className:"flex items-center gap-1 text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(Sa,{className:"h-3 w-3"}),"Delete"]})]})]})},U.id))})})]}),s.jsx(xn,{open:l,onOpenChange:c,children:s.jsxs(yn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(An,{children:s.jsx(En,{children:d?"Edit Address":"Add New Address"})}),s.jsx(Uye,{mode:d?"edit":"create",memberId:e,addressId:d==null?void 0:d.id,initialData:d||void 0,onSuccess:B,onCancel:()=>c(!1)})]})}),s.jsx(pi,{open:m,onOpenChange:p,children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Delete Address"}),s.jsxs(bi,{children:["Are you sure you want to delete this address? This action cannot be undone.",g&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:[s.jsx("p",{className:"font-medium",children:g.recipientName}),s.jsxs("p",{className:"text-sm text-gray-600",children:[g.plotBuilding,", ",g.streetArea,", ",g.city]})]})]})]}),s.jsxs(yi,{children:[s.jsx(wi,{disabled:b,children:"Cancel"}),s.jsx(Ii,{onClick:R,disabled:b,className:"bg-red-600 hover:bg-red-700",children:b?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"animate-spin h-4 w-4 mr-2"}),"Deleting..."]}):"Delete Address"})]})]})})]})},qye=Vs.object({newPassword:Vs.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Vs.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),zye=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=y.useState(""),[i,o]=y.useState(""),l=Ks({mutationFn:d=>Oi(`/users/${e}/password`,{password:d}),onSuccess:()=>{ve.success("Password changed successfully!"),r()},onError:d=>{ve.error(d.message||"Failed to change password. Please try again.")}}),c=d=>{var m;d.preventDefault();const h=qye.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const p=(m=h.error.errors[0])==null?void 0:m.message;ve.error(p||"Validation failed");return}l.mutate(n)};return s.jsx(xn,{open:t,onOpenChange:r,children:s.jsxs(yn,{className:"sm:max-w-[425px]",children:[s.jsx(An,{children:s.jsx(En,{children:"Change Password"})}),s.jsxs("form",{onSubmit:c,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(hi,{value:n,onChange:d=>a(d.target.value),required:!0,className:"w-full"}),s.jsx(hi,{value:i,onChange:d=>o(d.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(Ee,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})},Hye=async(e,t,r,n,a,i)=>{const o=await $t(`/vendors?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}&limit=${i}`);return Array.isArray(o),o},Wye=()=>{const e=Ja(),t=Ls(),[r,n]=y.useState(1),[a,i]=y.useState(10),[o,l]=y.useState("name"),[c,d]=y.useState("asc"),[h,m]=y.useState(""),[p,g]=y.useState("all"),[w,b]=y.useState(!1),[v,N]=y.useState(!1),[S,A]=y.useState(null),[E,C]=y.useState(!1),[I,P]=y.useState(null),{data:F,isLoading:k,isError:z,error:O}=cs({queryKey:["vendors",r,o,c,h,p,a],queryFn:()=>Hye(r,o,c,h,p,a),placeholderData:W=>W}),M=Array.isArray(F)?F:(F==null?void 0:F.data)||[],R=Array.isArray(F)?Math.ceil(F.length/a):(F==null?void 0:F.totalPages)||1,B=Array.isArray(F)?F.length:(F==null?void 0:F.totalRecords)||0,Y=Ks({mutationFn:W=>mi(`/vendors/${W}`),onSuccess:()=>{ve.success("Farmer deleted successfully."),e.invalidateQueries({queryKey:["vendors"]}),C(!1),P(null)},onError:W=>{ve.error(`Failed to delete vendor: ${W.message}`),C(!1)}}),U=Ks({mutationFn:({vendorUserId:W,active:re})=>Oi(`/users/${W}/status`,{active:re}),onSuccess:(W,re)=>{ve.success(`Farmer user status updated to ${re.active?"Active":"Inactive"}.`),e.invalidateQueries({queryKey:["vendors"]})},onError:W=>{ve.error(`Failed to update status: ${W.message}`)}}),Q=W=>{o===W?d(c==="asc"?"desc":"asc"):(l(W),d("asc")),n(1)},V=W=>{m(W.target.value),n(1)},Z=W=>{g(W),n(1)},J=()=>{A(null),N(!1),e.invalidateQueries({queryKey:["vendors"]})},ae=W=>{P(W),C(!0)},D=()=>{I&&Y.mutate(I)},H=W=>{W.user&&W.user.id?U.mutate({vendorUserId:W.user.id,active:!W.user.active}):ve.error("User information not available for this vendor.")};if(k)return s.jsxs("div",{className:"flex justify-center items-center h-64",children:[s.jsx(My,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2 text-lg",children:"Loading farmers..."})]});if(z)return s.jsx("div",{className:"text-center py-10",children:s.jsxs("p",{className:"text-red-500 text-lg",children:["Error loading farmers: ",O==null?void 0:O.message]})});const K=W=>o===W?c==="asc"?s.jsx(Eh,{size:16}):s.jsx(Ia,{size:16}):null;return s.jsxs("div",{className:"container mx-auto py-4 px-2 sm:px-4 md:px-6 lg:px-8",children:[s.jsxs(St,{className:"shadow-lg",children:[s.jsx(zt,{className:"bg-muted/50 p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[s.jsxs("div",{children:[s.jsx(dr,{className:"text-2xl font-semibold",children:"Farmers"}),s.jsx(On,{className:"mt-1 text-sm text-muted-foreground",children:"Manage your farmers and their details."})]}),s.jsxs("div",{className:"mt-3 sm:mt-0 flex flex-col sm:flex-row gap-2",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>b(!w),className:"w-full sm:w-auto",children:[s.jsx(Qc,{size:16,className:"mr-2"}),w?"Hide":"Show"," Filters"]}),s.jsxs(Ee,{size:"sm",onClick:()=>t("/admin/vendors/create"),className:"w-full sm:w-auto bg-green-600 hover:bg-primary text-white",children:[s.jsx(xa,{size:16,className:"mr-2"}),"Add Farmer"]})]})]})}),s.jsxs(_t,{className:"p-0",children:[w&&s.jsx("div",{className:"p-4 sm:p-6 border-b bg-slate-50",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Farmers"}),s.jsxs("div",{className:"relative",children:[s.jsx(gt,{id:"search",type:"text",value:h,onChange:V,className:"pl-10"}),s.jsx(Hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"activeFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"User Status"}),s.jsxs(pr,{value:p,onValueChange:Z,children:[s.jsx(xr,{id:"activeFilter",children:s.jsx(gr,{})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Users"}),s.jsx(wt,{value:"true",children:"Active Users"}),s.jsx(wt,{value:"false",children:"Inactive Users"})]})]})]})]})}),M.length>0?s.jsx("div",{className:"overflow-x-auto px-4",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{className:"pl-6 cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>Q("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Farmer Name ",K("name")]})}),s.jsx($e,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>Q("contactPersonName"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Contact Person ",K("contactPersonName")]})}),s.jsx($e,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>Q("email"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Email ",K("email")]})}),s.jsx($e,{className:"w-[130px]",children:"Mobile"}),s.jsx($e,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px]",onClick:()=>Q("city"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["City ",K("city")]})}),s.jsx($e,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px] text-center",onClick:()=>Q("user.active"),children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:["User Active ",K("user.active")]})}),s.jsx($e,{className:"w-[150px] text-center pr-6",children:"Actions"})]})}),s.jsx(Hs,{children:M.map(W=>s.jsxs(hr,{className:"hover:bg-muted/50 transition-colors",children:[s.jsx(Oe,{className:"font-medium",children:W.name}),s.jsx(Oe,{children:W.contactPersonName||"N/A"}),s.jsx(Oe,{children:W.email}),s.jsx(Oe,{children:W.mobile}),s.jsx(Oe,{children:W.city}),s.jsx(Oe,{className:"text-center",children:W.user?s.jsx(Gr,{variant:W.user.active?"default":"destructive",children:W.user.active?"Active":"Inactive"}):s.jsx(Gr,{variant:"outline",children:"No User"})}),s.jsx(Oe,{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>t(`/admin/vendors/edit/${W.id}`),title:"Edit Farmer",children:s.jsx(yl,{size:16})}),s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>ae(W.id),title:"Delete Farmer",children:s.jsx(Sa,{size:16})}),W.user&&s.jsx(Ee,{variant:"outline",size:"icon",className:"h-8 w-8 ml-2",onClick:()=>H(W),disabled:U.isPending,title:W.user.active?"Deactivate Farmer User":"Activate Farmer User",children:W.user.active?s.jsx(ic,{size:16,className:"text-red-500"}):s.jsx(Ol,{size:16,className:"text-green-500"})})]})})]},W.id))})]})}):s.jsxs("div",{className:"text-center py-10 px-4",children:[s.jsx(Hn,{size:48,className:"mx-auto text-gray-400 mb-3"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"No Farmer found."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search or filter criteria, or add a new farmer."})]})]}),M.length>0&&s.jsx(Op,{className:"px-4 py-3 border-t",children:s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsx(J2,{currentPage:r,totalPages:R,totalRecords:B,recordsPerPage:a,onPageChange:n,onRecordsPerPageChange:W=>{i(W),n(1)}})})})]}),S&&s.jsx(zye,{userId:S,isOpen:v,onClose:J}),s.jsx(vv,{isOpen:E,title:"Confirm Deletion",description:"Are you sure you want to delete this farmer? This action cannot be undone and might affect related records.",onCancel:()=>{C(!1),P(null)},onConfirm:D,confirmLabel:"Delete Farmer"})]})},Gye=Vs.object({newPassword:Vs.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Vs.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),Yye=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=y.useState(""),[i,o]=y.useState(""),l=Ks({mutationFn:d=>Oi(`/users/${e}/password`,{password:d}),onSuccess:()=>{ve.success("Password changed successfully!"),r()},onError:d=>{ve.error(d.message||"Failed to change password. Please try again.")}}),c=d=>{var m;d.preventDefault();const h=Gye.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const p=(m=h.error.errors[0])==null?void 0:m.message;ve.error(p||"Validation failed");return}l.mutate(n)};return s.jsx(xn,{open:t,onOpenChange:r,children:s.jsxs(yn,{className:"sm:max-w-[425px]",children:[s.jsx(An,{children:s.jsx(En,{children:"Change Password"})}),s.jsxs("form",{onSubmit:c,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(hi,{value:n,onChange:d=>a(d.target.value),required:!0,className:"w-full"}),s.jsx(hi,{value:i,onChange:d=>o(d.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(Ee,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})},Kye=async(e,t,r,n,a,i)=>{const o=await $t(`/agencies?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}&limit=${i}`);return Array.isArray(o),o},Qye=()=>{const e=Ja(),t=Ls(),[r,n]=y.useState(1),[a,i]=y.useState(10),[o,l]=y.useState("name"),[c,d]=y.useState("asc"),[h,m]=y.useState(""),[p,g]=y.useState("all"),[w,b]=y.useState(!1),[v,N]=y.useState(!1),[S,A]=y.useState(null),[E,C]=y.useState(!1),[I,P]=y.useState(null),{data:F,isLoading:k,isError:z,error:O}=cs({queryKey:["agencies",r,o,c,h,p,a],queryFn:()=>Kye(r,o,c,h,p,a),placeholderData:se=>se}),M=Array.isArray(F)?F:(F==null?void 0:F.data)||[],R=Array.isArray(F)?Math.ceil(F.length/a):(F==null?void 0:F.totalPages)||1,B=Array.isArray(F)?F.length:(F==null?void 0:F.totalRecords)||0,Y=Ks({mutationFn:se=>mi(`/agencies/${se}`),onSuccess:()=>{ve.success("Agency deleted successfully."),e.invalidateQueries({queryKey:["agencies"]}),C(!1),P(null)},onError:se=>{ve.error(`Failed to delete agency: ${se.message}`),C(!1)}}),U=Ks({mutationFn:({agencyUserId:se,active:le})=>Oi(`/users/${se}/status`,{active:le}),onSuccess:(se,le)=>{ve.success(`Partner user status updated to ${le.active?"Active":"Inactive"}.`),e.invalidateQueries({queryKey:["agencies"]})},onError:se=>{ve.error(`Failed to update status: ${se.message}`)}}),Q=se=>{o===se?d(c==="asc"?"desc":"asc"):(l(se),d("asc")),n(1)},V=se=>{m(se.target.value),n(1)},Z=se=>{g(se),n(1)},J=se=>{A(se),N(!0)},ae=()=>{A(null),N(!1),e.invalidateQueries({queryKey:["agencies"]})},D=se=>{P(se),C(!0)},H=()=>{I&&Y.mutate(I)},K=se=>{se.user&&U.mutate({agencyUserId:se.user.id,active:!se.user.active})},W=se=>o===se?c==="asc"?s.jsx(Eh,{size:16}):s.jsx(Ia,{size:16}):null,[re,te]=y.useState({isOpen:!1,title:"",description:"",confirmButtonText:"",onConfirm:null}),ie=se=>{n(se)};return z&&O instanceof Error?s.jsx("div",{className:"p-4 text-red-600",children:s.jsxs("p",{children:["Error loading agencies: ",O.message]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(St,{className:"shadow-md",children:[s.jsx(zt,{className:"pb-2",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(dr,{className:"text-2xl",children:"Delivery Partner"}),s.jsx(On,{children:"Manage your delivery partner and their details."})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Ee,{size:"sm",variant:"outline",onClick:()=>b(!w),className:"w-full sm:w-auto",children:[s.jsx(Qc,{size:16,className:"mr-2"}),w?"Hide Filters":"Show Filters"]}),s.jsxs(Ee,{size:"sm",onClick:()=>t("/admin/agencies/create"),className:"w-full sm:w-auto bg-green-600 hover:bg-primary text-white",children:[s.jsx(xa,{size:16,className:"mr-2"}),"Add Delivery Partner"]})]})]})}),s.jsxs(_t,{children:[w&&s.jsx("div",{className:"bg-muted/30 p-4 rounded-md mb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hn,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(gt,{value:h,onChange:V,className:"pl-8"})]})]}),s.jsxs("div",{className:"w-full sm:w-48",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),s.jsxs(pr,{value:p,onValueChange:Z,children:[s.jsx(xr,{children:s.jsx(gr,{})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Users"}),s.jsx(wt,{value:"true",children:"Active Users"}),s.jsx(wt,{value:"false",children:"Inactive Users"})]})]})]})]})}),M.length>0?s.jsx("div",{className:"overflow-x-auto px-4",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{className:"pl-6 cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>Q("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Delivery Partner Name ",W("name")]})}),s.jsx($e,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>Q("mobile"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Mobile ",W("mobile")]})}),s.jsx($e,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>Q("email"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Email ",W("email")]})}),s.jsx($e,{className:"w-[130px]",children:"Mobile"}),s.jsx($e,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px]",onClick:()=>Q("city"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["City ",W("city")]})}),s.jsx($e,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px] text-center",onClick:()=>Q("user.active"),children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:["User Active ",W("user.active")]})}),s.jsx($e,{className:"w-[150px] text-center pr-6",children:"Actions"})]})}),s.jsx(Hs,{children:M.map(se=>{var le;return s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-medium",children:se.name}),s.jsx(Oe,{children:se.mobile}),s.jsx(Oe,{children:se.email}),s.jsx(Oe,{children:se.mobile}),s.jsx(Oe,{children:se.city}),s.jsx(Oe,{className:"text-center",children:se.user&&s.jsx(Gr,{variant:se.user.active?"default":"destructive",className:"inline-flex items-center justify-center",children:se.user.active?s.jsxs(s.Fragment,{children:[s.jsx(Ol,{size:14,className:"mr-1"})," Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(ic,{size:14,className:"mr-1"})," Inactive"]})})}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>t(`/admin/agencies/edit/${se.id}`),title:"Edit Partner",children:s.jsx(yl,{size:16})}),s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>D(se.id),title:"Delete Partner",children:s.jsx(Sa,{size:16})}),s.jsxs(bg,{modal:!1,children:[s.jsx(wg,{asChild:!0,children:s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(uv,{size:16})})}),s.jsx(Ng,{align:"end",children:s.jsxs(AS,{children:[s.jsx(Ka,{onClick:()=>K(se),disabled:!se.user||U.isPending,children:(le=se.user)!=null&&le.active?s.jsxs(s.Fragment,{children:[s.jsx(ic,{size:16,className:"mr-2 text-red-500"})," Set Inactive"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ol,{size:16,className:"mr-2 text-green-500"})," Set Active"]})}),se.user&&s.jsxs(Ka,{onClick:()=>J(se.user.id),children:[s.jsx(Rk,{size:16,className:"mr-2 text-amber-500"})," Change Password"]})]})})]})]})})]},se.id)})})]})}):k?s.jsx("div",{className:"flex justify-center items-center py-24",children:s.jsx(My,{size:30,className:"animate-spin"})}):s.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-center",children:[s.jsxs("div",{className:"mb-3 text-muted-foreground",children:[s.jsx(Hn,{size:40,className:"mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No Delivery Agencies found"})]}),s.jsx("p",{className:"mb-6 text-muted-foreground max-w-sm",children:h?"Try a different search term or clear filters":"Get started by adding your first Delivery Partner"}),s.jsxs(Ee,{onClick:()=>t("/admin/agencies/create"),className:"bg-green-600 hover:bg-primary text-white",children:[s.jsx(xa,{size:16,className:"mr-2"}),"Add Delivery Partner"]})]}),M.length>0&&s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between items-center",children:[s.jsxs("div",{className:"mb-4 sm:mb-0 text-sm text-muted-foreground",children:["Showing ",M.length>0?(r-1)*a+1:0," to"," ",Math.min(r*a,B)," of ",B," records"]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Records per page:"}),s.jsxs(pr,{value:a.toString(),onValueChange:se=>{i(Number(se)),n(1)},children:[s.jsx(xr,{className:"h-8 w-[70px]",children:s.jsx(gr,{placeholder:a.toString()})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"5",children:"5"}),s.jsx(wt,{value:"10",children:"10"}),s.jsx(wt,{value:"20",children:"20"}),s.jsx(wt,{value:"50",children:"50"})]})]})]}),R>1&&s.jsx(J2,{currentPage:r,totalPages:R,onPageChange:ie})]})]})]})]}),S&&s.jsx(Yye,{isOpen:v,userId:S,onClose:ae}),s.jsx(vv,{isOpen:E,title:"Delete Delivery Partner",description:"Are you sure you want to delete this delivery agency? This action cannot be undone.",onCancel:()=>{C(!1),P(null)},onConfirm:H,confirmLabel:"Delete Delivery Partner"})]})},Xye=Vs.object({newPassword:Vs.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Vs.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),Zye=({userId:e,isOpen:t,onClose:r})=>{const[n,a]=y.useState(""),[i,o]=y.useState(""),l=Ks({mutationFn:d=>Oi(`/users/${e}/password`,{password:d}),onSuccess:()=>{ve.success("Password changed successfully!"),r()},onError:d=>{ve.error(d.message||"Failed to change password. Please try again.")}}),c=d=>{var m;d.preventDefault();const h=Xye.safeParse({newPassword:n,confirmPassword:i});if(!h.success){const p=(m=h.error.errors[0])==null?void 0:m.message;ve.error(p||"Validation failed");return}l.mutate(n)};return s.jsx(xn,{open:t,onOpenChange:r,children:s.jsxs(yn,{className:"sm:max-w-[425px]",children:[s.jsx(An,{children:s.jsx(En,{children:"Change Password"})}),s.jsxs("form",{onSubmit:c,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(hi,{value:n,onChange:d=>a(d.target.value),required:!0,className:"w-full"}),s.jsx(hi,{value:i,onChange:d=>o(d.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(Ee,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})},Jye=async(e,t,r,n,a,i)=>{const o=await $t(`/supervisors?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&active=${a}&limit=${i}`);return Array.isArray(o),o},eve=()=>{const e=Ja(),t=Ls(),[r,n]=y.useState(1),[a,i]=y.useState(10),[o,l]=y.useState("name"),[c,d]=y.useState("asc"),[h,m]=y.useState(""),[p,g]=y.useState("all"),[w,b]=y.useState(!1),[v,N]=y.useState(!1),[S,A]=y.useState(null),[E,C]=y.useState(!1),[I,P]=y.useState(null),{data:F,isLoading:k,isError:z,error:O}=cs({queryKey:["supervisors",r,o,c,h,p,a],queryFn:()=>Jye(r,o,c,h,p,a),placeholderData:se=>se}),M=Array.isArray(F)?F:(F==null?void 0:F.data)||[],R=Array.isArray(F)?Math.ceil(F.length/a):(F==null?void 0:F.totalPages)||1,B=Array.isArray(F)?F.length:(F==null?void 0:F.totalRecords)||0,Y=Ks({mutationFn:se=>mi(`/supervisors/${se}`),onSuccess:()=>{ve.success("Supervisor deleted successfully."),e.invalidateQueries({queryKey:["supervisors"]}),C(!1),P(null)},onError:se=>{ve.error(`Failed to delete supervisor: ${se.message}`),C(!1)}}),U=Ks({mutationFn:({supervisorUserId:se,active:le})=>Oi(`/users/${se}/status`,{active:le}),onSuccess:(se,le)=>{ve.success(`Supervisor user status updated to ${le.active?"Active":"Inactive"}.`),e.invalidateQueries({queryKey:["supervisors"]})},onError:se=>{ve.error(`Failed to update status: ${se.message}`)}}),Q=se=>{o===se?d(c==="asc"?"desc":"asc"):(l(se),d("asc")),n(1)},V=se=>{m(se.target.value),n(1)},Z=se=>{g(se),n(1)},J=se=>{A(se),N(!0)},ae=()=>{A(null),N(!1),e.invalidateQueries({queryKey:["supervisors"]})},D=se=>{P(se),C(!0)},H=()=>{I&&Y.mutate(I)},K=se=>{se.user&&U.mutate({supervisorUserId:se.user.id,active:!se.user.active})},W=se=>o===se?c==="asc"?s.jsx(Eh,{size:16}):s.jsx(Ia,{size:16}):null,[re,te]=y.useState({isOpen:!1,title:"",description:"",confirmButtonText:"",onConfirm:null}),ie=se=>{n(se)};return z&&O instanceof Error?s.jsx("div",{className:"p-4 text-red-600",children:s.jsxs("p",{children:["Error loading supervisors: ",O.message]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(St,{className:"shadow-md",children:[s.jsx(zt,{className:"pb-2",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(dr,{className:"text-2xl",children:"Supervisors"}),s.jsx(On,{children:"Manage your supervisors and their details."})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Ee,{size:"sm",variant:"outline",onClick:()=>b(!w),className:"w-full sm:w-auto",children:[s.jsx(Qc,{size:16,className:"mr-2"}),w?"Hide Filters":"Show Filters"]}),s.jsxs(Ee,{size:"sm",onClick:()=>t("/admin/supervisors/create"),className:"w-full sm:w-auto bg-green-600 hover:bg-primary text-white",children:[s.jsx(xa,{size:16,className:"mr-2"}),"Add Supervisor"]})]})]})}),s.jsxs(_t,{children:[w&&s.jsx("div",{className:"bg-muted/30 p-4 rounded-md mb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hn,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(gt,{value:h,onChange:V,className:"pl-8"})]})]}),s.jsxs("div",{className:"w-full sm:w-48",children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),s.jsxs(pr,{value:p,onValueChange:Z,children:[s.jsx(xr,{children:s.jsx(gr,{})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Users"}),s.jsx(wt,{value:"true",children:"Active Users"}),s.jsx(wt,{value:"false",children:"Inactive Users"})]})]})]})]})}),M.length>0?s.jsx("div",{className:"overflow-x-auto px-4",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{className:"pl-6 cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>Q("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Supervisor Name ",W("name")]})}),s.jsx($e,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>Q("email"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Email ",W("email")]})}),s.jsx($e,{className:"w-[130px]",children:"Mobile"}),s.jsx($e,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px]",onClick:()=>Q("city"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["City ",W("city")]})}),s.jsx($e,{className:"w-[150px]",children:"Assigned Depot"}),s.jsx($e,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px] text-center",onClick:()=>Q("user.active"),children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:["User Active ",W("user.active")]})}),s.jsx($e,{className:"w-[150px] text-center pr-6",children:"Actions"})]})}),s.jsx(Hs,{children:M.map(se=>{var le;return s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-medium",children:se.name}),s.jsx(Oe,{children:se.email}),s.jsx(Oe,{children:se.mobile}),s.jsx(Oe,{children:se.city}),s.jsx(Oe,{children:se.depot?s.jsx(Gr,{variant:"outline",className:"text-xs",children:se.depot.name}):s.jsx("span",{className:"text-gray-400 text-sm",children:"None"})}),s.jsx(Oe,{className:"text-center",children:se.user&&s.jsx(Gr,{variant:se.user.active?"default":"destructive",className:"inline-flex items-center justify-center",children:se.user.active?s.jsxs(s.Fragment,{children:[s.jsx(Ol,{size:14,className:"mr-1"})," Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(ic,{size:14,className:"mr-1"})," Inactive"]})})}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>t(`/admin/supervisors/edit/${se.id}`),title:"Edit Supervisor",children:s.jsx(yl,{size:16})}),s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>D(se.id),title:"Delete Supervisor",children:s.jsx(Sa,{size:16})}),s.jsxs(bg,{modal:!1,children:[s.jsx(wg,{asChild:!0,children:s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(uv,{size:16})})}),s.jsx(Ng,{align:"end",children:s.jsxs(AS,{children:[s.jsx(Ka,{onClick:()=>K(se),disabled:!se.user||U.isPending,children:(le=se.user)!=null&&le.active?s.jsxs(s.Fragment,{children:[s.jsx(ic,{size:16,className:"mr-2 text-red-500"})," Set Inactive"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ol,{size:16,className:"mr-2 text-green-500"})," Set Active"]})}),se.user&&s.jsxs(Ka,{onClick:()=>J(se.user.id),children:[s.jsx(Rk,{size:16,className:"mr-2 text-amber-500"})," Change Password"]})]})})]})]})})]},se.id)})})]})}):k?s.jsx("div",{className:"flex justify-center items-center py-24",children:s.jsx(My,{size:30,className:"animate-spin"})}):s.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-center",children:[s.jsxs("div",{className:"mb-3 text-muted-foreground",children:[s.jsx(Hn,{size:40,className:"mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No Supervisors found"})]}),s.jsx("p",{className:"mb-6 text-muted-foreground max-w-sm",children:h?"Try a different search term or clear filters":"Get started by adding your first Supervisor"}),s.jsxs(Ee,{onClick:()=>t("/admin/supervisors/create"),className:"bg-green-600 hover:bg-primary text-white",children:[s.jsx(xa,{size:16,className:"mr-2"}),"Add Supervisor"]})]}),M.length>0&&s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between items-center",children:[s.jsxs("div",{className:"mb-4 sm:mb-0 text-sm text-muted-foreground",children:["Showing ",M.length>0?(r-1)*a+1:0," to"," ",Math.min(r*a,B)," of ",B," records"]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Records per page:"}),s.jsxs(pr,{value:a.toString(),onValueChange:se=>{i(Number(se)),n(1)},children:[s.jsx(xr,{className:"h-8 w-[70px]",children:s.jsx(gr,{placeholder:a.toString()})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"5",children:"5"}),s.jsx(wt,{value:"10",children:"10"}),s.jsx(wt,{value:"20",children:"20"}),s.jsx(wt,{value:"50",children:"50"})]})]})]}),R>1&&s.jsx(J2,{currentPage:r,totalPages:R,onPageChange:ie})]})]})]})]}),S&&s.jsx(Zye,{isOpen:v,userId:S,onClose:ae}),s.jsx(vv,{isOpen:E,title:"Delete Supervisor",description:"Are you sure you want to delete this supervisor? This action cannot be undone.",onCancel:()=>{C(!1),P(null)},onConfirm:H,confirmLabel:"Delete Supervisor"})]})},XT=In({name:Ft().min(1,"Farmer name is required"),contactPersonName:Ft().min(1,"Contact person's name is required").optional(),email:Ft().optional().nullable(),mobile:Ft().regex(/^\d{10}$/,"Mobile number must be 10 digits"),alternateMobile:Fk([iy(""),Ft().regex(/^\d{10}$/,"Alternate mobile must be 10 digits")]).nullable().optional(),address1:Ft().min(1,"Address Line 1 is required"),address2:Ft().nullable().optional(),city:Ft().optional().nullable(),pincode:Ti.number().int("Pincode must be an integer").positive("Pincode must be positive").refine(e=>String(e).length===6,"Pincode must be 6 digits"),isDairySupplier:Fd().optional()}),tve=In({userLoginEmail:Ft().email("Invalid login email for user"),userPassword:Ft().min(6,"Password must be at least 6 characters")});XT.extend({userFullName:Ft().optional(),userLoginEmail:Ft().email().optional(),userPassword:Ft().optional()});const rve=XT.merge(tve),sve=XT,wz=({mode:e,vendorId:t,onSuccess:r,initialData:n,className:a})=>{const i=Ja(),{register:o,handleSubmit:l,setValue:c,setError:d,formState:{errors:h,isSubmitting:m},control:p}=Ea({mode:"onChange",resolver:Ca(e==="create"?rve:sve),defaultValues:n||{name:"",contactPersonName:"",email:"",mobile:"",alternateMobile:null,address1:"",address2:null,city:"",pincode:void 0,isDairySupplier:!1,...e==="create"?{userFullName:"",userLoginEmail:"",userPassword:""}:{}}});y.useEffect(()=>{e==="edit"&&t&&!n?(async()=>{try{const v=await $t(`/vendors/${t}`);c("name",v.name),c("contactPersonName",v.contactPersonName||""),c("mobile",v.mobile),c("alternateMobile",v.alternateMobile||null),c("address1",v.address1),c("address2",v.address2||null),c("city",v.city),c("pincode",v.pincode),c("email",v.email),c("isDairySupplier",v.isDairySupplier||!1)}catch{ve.error("Failed to fetch farmer details")}})():n&&Object.keys(n).forEach(b=>{const v=n[b];c(b,v)})},[t,e,c,n]);const g=Ks({mutationFn:b=>{if(e==="create"){const v={vendorName:b.name,contactPersonName:b.contactPersonName,vendorContactEmail:b.email,mobile:b.mobile,alternateMobile:b.alternateMobile,address1:b.address1,address2:b.address2,city:b.city,pincode:b.pincode,isDairySupplier:b.isDairySupplier,userFullName:b.name,userLoginEmail:b.userLoginEmail,userPassword:b.userPassword,role:"VENDOR"};return en("/vendors",v)}else{const{userFullName:v,userLoginEmail:N,userPassword:S,...A}=b,E={name:A.name,contactPersonName:A.contactPersonName,email:A.email,mobile:A.mobile,alternateMobile:A.alternateMobile,address1:A.address1,address2:A.address2,city:A.city,pincode:A.pincode,isDairySupplier:A.isDairySupplier};return Aa(`/vendors/${t}`,E)}},onSuccess:()=>{ve.success(`Farmer ${e==="create"?"created (with user)":"updated"} successfully`),i.invalidateQueries({queryKey:["vendors"]}),i.invalidateQueries({queryKey:["users"]}),t&&e==="edit"&&i.invalidateQueries({queryKey:["vendor",t]}),r==null||r()},onError:b=>{var N,S;qf(b,d);const v=`Failed to ${e} farmer.`;ve.error(((S=(N=b==null?void 0:b.response)==null?void 0:N.data)==null?void 0:S.message)||b.message||v)}}),w=b=>{g.mutate(b)};return s.jsxs("form",{onSubmit:l(w),className:`space-y-6 ${a}`,children:[s.jsx("div",{className:"border-b pb-4 mb-4 mt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Farmer Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"name",children:"Farmer Company Name"}),s.jsx(gt,{id:"name",type:"text",...o("name"),disabled:m}),h.name&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"contactPersonName",children:"Contact Person Name"}),s.jsx(gt,{id:"contactPersonName",type:"text",...o("contactPersonName"),disabled:m}),h.contactPersonName&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.contactPersonName.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"email",children:"Contact Person Email"}),s.jsx(gt,{id:"email",type:"email",...o("email"),disabled:m}),h.email&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.email.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(gt,{max:10,maxLength:10,id:"mobile",type:"tel",...o("mobile"),disabled:m}),h.mobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.mobile.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"alternateMobile",children:"Alternate Mobile (Optional)"}),s.jsx(gt,{max:10,maxLength:10,id:"alternateMobile",type:"tel",...o("alternateMobile"),disabled:m}),h.alternateMobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.alternateMobile.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"address1",children:"Address Line 1"}),s.jsx(gt,{id:"address1",type:"text",...o("address1"),disabled:m}),h.address1&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.address1.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"address2",children:"Address Line 2 (Optional)"}),s.jsx(gt,{id:"address2",type:"text",...o("address2"),disabled:m}),h.address2&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.address2.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"city",children:"City"}),s.jsx(gt,{id:"city",type:"text",...o("city"),disabled:m}),h.city&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.city.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"pincode",children:"Pincode"}),s.jsx(gt,{id:"pincode",type:"number",...o("pincode"),disabled:m}),h.pincode&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.pincode.message})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 my-4",children:[s.jsx(Fs,{name:"isDairySupplier",control:p,render:({field:b})=>s.jsx(hl,{id:"isDairySupplier",checked:b.value,onCheckedChange:b.onChange,disabled:m})}),s.jsx(Be,{htmlFor:"isDairySupplier",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Is Dairy Supplier?"}),h.isDairySupplier&&s.jsx("span",{className:"text-red-500 text-xs",children:h.isDairySupplier.message})]}),e==="create"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b pb-4 mb-4",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"userLoginEmail",children:"Login Email"}),s.jsx(gt,{id:"userLoginEmail",type:"email",...o("userLoginEmail"),disabled:m}),h.userLoginEmail&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"userPassword",children:"Password"}),s.jsx(hi,{id:"userPassword",...o("userPassword"),disabled:m}),h.userPassword&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.userPassword.message})]})]}),s.jsx("div",{className:"w-full  flex items-end justify-end",children:s.jsxs(Ee,{type:"submit",disabled:m||g.isPending,className:"w-full sm:w-auto right-0",children:[m||g.isPending?s.jsx(Ws,{className:"mr-2 h-4 w-4 animate-spin"}):null,e==="create"?"Create Farmer":"Save Changes"]})})]})},nve=()=>{const e=Ls(),t=()=>{e("/admin/vendors")};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(St,{className:"w-full mx-auto",children:[s.jsx(zt,{children:s.jsx(dr,{className:"text-2xl font-semibold",children:"Create New Farmer"})}),s.jsxs(_t,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Fill in the details below to create a new farmer profile and an associated user account."}),s.jsx(wz,{mode:"create",onSuccess:t})]})]})})},ave=P2("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ki({className:e,variant:t,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:jt(ave({variant:t}),e),...r})}function Bo({className:e,...t}){return s.jsx("div",{"data-slot":"alert-title",className:jt("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function Qi({className:e,...t}){return s.jsx("div",{"data-slot":"alert-description",className:jt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const ive=()=>{var d,h;const e=Ls(),{id:t}=Ji(),r=async m=>await $t(`/vendors/${m}`),{data:n,isLoading:a,isError:i,error:o}=cs({queryKey:["vendor",t],queryFn:()=>r(t),enabled:!!t,staleTime:1e3*60*5}),l=()=>{e("/admin/vendors")};if(!t)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Ki,{variant:"destructive",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Error"}),s.jsx(Qi,{children:"No Vendor ID provided. Please go back and select a vendor to edit."})]})});if(a)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(St,{className:" mx-auto",children:[s.jsx(zt,{children:s.jsx(vr,{className:"h-8 w-1/2"})}),s.jsxs(_t,{className:"space-y-6",children:[s.jsx(vr,{className:"h-10 w-full"}),s.jsx(vr,{className:"h-10 w-full"}),s.jsx(vr,{className:"h-10 w-full"}),s.jsx(vr,{className:"h-10 w-1/3 ml-auto"})]})]})});if(i)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Ki,{variant:"destructive",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Error Fetching Farmer"}),s.jsxs(Qi,{children:["There was a problem retrieving the farmer details. Error: ",(o==null?void 0:o.message)||"Unknown error"]})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Ki,{variant:"destructive",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Error"}),s.jsx(Qi,{children:"Farmer data not found or unavailable."})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Ki,{variant:"destructive",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Error"}),s.jsx(Qi,{children:"Farmer data not found or unavailable after loading."})]})});const c={name:n.name,email:n.email,mobile:n.mobile,address1:n.address1,address2:n.address2||null,city:n.city,pincode:n.pincode,contactPersonName:n.contactPersonName||"",alternateMobile:n.alternateMobile||null,userFullName:((d=n.user)==null?void 0:d.name)||"",userLoginEmail:((h=n.user)==null?void 0:h.email)||"",isDairySupplier:n.isDairySupplier||!1};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(St,{className:"mx-auto",children:[s.jsx(zt,{children:s.jsxs(dr,{children:["Edit Farmer: ",n.name]})}),s.jsx(_t,{children:s.jsx(wz,{mode:"edit",vendorId:t,initialData:c,onSuccess:l})})]})})},ZT=In({name:Ft().min(1,"Partner name is required"),contactPersonName:Ft().optional(),email:Ft().optional().nullable(),mobile:Ft().regex(/^\d{10}$/,"Mobile number must be 10 digits"),alternateMobile:Ub().nullable().optional(),address1:Ft().min(1,"Address Line 1 is required"),address2:Ub().nullable().optional(),city:Ft().optional().nullable(),pincode:Ti.number().int("Pincode must be an integer").positive("Pincode must be positive").refine(e=>String(e).length===6,"Pincode must be 6 digits"),depotId:Fk([dc().int().positive(),O9(),P9()]).optional(),status:_2(["ACTIVE","INACTIVE"]).default("ACTIVE")}),ove=In({userFullName:Ft().min(1,"User's full name is required"),userLoginEmail:Ft().email("Invalid login email for user"),userPassword:Ft().min(6,"User password must be at least 6 characters")});ZT.extend({userFullName:Ft().optional(),userLoginEmail:Ft().email().optional(),userPassword:Ft().optional()});const lve=ZT.merge(ove),cve=ZT,Nz=({mode:e,agencyId:t,onSuccess:r,initialData:n,className:a})=>{const i=Ja(),[o,l]=y.useState(null),{data:c=[],isLoading:d}=cs({queryKey:["depots","list"],queryFn:X2}),{register:h,handleSubmit:m,setValue:p,setError:g,control:w,watch:b,formState:{errors:v,isSubmitting:N}}=Ea({mode:"onChange",resolver:Ca(e==="create"?lve:cve),defaultValues:n||{name:"",contactPersonName:"",email:"",mobile:"",alternateMobile:null,address1:"",address2:null,city:"",pincode:void 0,depotId:null,status:"ACTIVE",userFullName:"",userLoginEmail:"",userPassword:""}}),S=b("name"),A=b("depotId");y.useEffect(()=>{console.log("Debug - Current depotId:",A,"Type:",typeof A),console.log("Debug - Available depots:",c.map(I=>({id:I.id,name:I.name})))},[A,c]),y.useEffect(()=>{e==="create"&&S&&p("userFullName",S)},[S,e,p]),y.useEffect(()=>{e==="edit"&&t&&!n?(async()=>{var P;try{const F=await $t(`/agencies/${t}`);console.log("Partner Data:",F),console.log("Setting depot ID to:",F.depotId),p("name",F.name),p("contactPersonName",F.contactPersonName||""),p("mobile",F.mobile),p("alternateMobile",F.alternateMobile||null),p("address1",F.address1),p("address2",F.address2||null),p("city",F.city),p("pincode",F.pincode),p("email",F.email),p("status",(P=F.user)!=null&&P.active?"ACTIVE":"INACTIVE");const k=F.depotId?Number(F.depotId):null;console.log("Setting depotId to:",k,"(type:",typeof k,")"),k&&l(k),p("depotId",k)}catch{ve.error("Failed to fetch agency details")}})():n&&Object.keys(n).forEach(I=>{const P=n[I];p(I,P),I==="depotId"&&P&&c.length===0&&l(P)})},[t,e,p,n]),y.useEffect(()=>{o&&c.length>0&&(console.log("Setting pending depot ID:",o),p("depotId",o),setTimeout(()=>l(null),100))},[o,c,p]);const E=Ks({mutationFn:async I=>{if(I.contactPersonName=I.name,e==="create"){const P={name:I.name,contactPersonName:I.contactPersonName,email:I.email,mobile:I.mobile,alternateMobile:I.alternateMobile,address1:I.address1,address2:I.address2,city:I.city,pincode:I.pincode,depotId:I.depotId,userFullName:I.userFullName,userLoginEmail:I.userLoginEmail,userPassword:I.userPassword,role:"AGENCY",status:I.status};return en("/agencies",P)}else{const{userFullName:P,userLoginEmail:F,userPassword:k,...z}=I,O={name:z.name,contactPersonName:z.contactPersonName,email:z.email,mobile:z.mobile,alternateMobile:z.alternateMobile,address1:z.address1,address2:z.address2,city:z.city,pincode:z.pincode,depotId:z.depotId,status:z.status};return Aa(`/agencies/${t}`,O)}},onSuccess:()=>{ve.success(`Partner ${e==="create"?"created (with user)":"updated"} successfully`),i.invalidateQueries({queryKey:["agencies"]}),i.invalidateQueries({queryKey:["users"]}),t&&e==="edit"&&i.invalidateQueries({queryKey:["agency",t]}),r==null||r()},onError:I=>{var F,k;qf(I,g);const P=`Failed to ${e} agency.`;ve.error(((k=(F=I==null?void 0:I.response)==null?void 0:F.data)==null?void 0:k.message)||I.message||P)}}),C=I=>{E.mutate(I)};return s.jsxs("form",{onSubmit:m(C),className:`space-y-6 ${a}`,children:[s.jsx("div",{className:"border-b pb-4 mb-4 mt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Delivery Partner Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"name",children:"Delivery Partner Name"}),s.jsx(gt,{id:"name",type:"text",...h("name"),disabled:N}),v.name&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:v.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"email",children:"Email"}),s.jsx(gt,{id:"email",type:"email",...h("email"),disabled:N}),v.email&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:v.email.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(gt,{max:10,maxLength:10,id:"mobile",type:"text",...h("mobile"),disabled:N}),v.mobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:v.mobile.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"alternateMobile",children:"Alternate Mobile (Optional)"}),s.jsx(gt,{id:"alternateMobile",type:"text",...h("alternateMobile"),disabled:N}),v.alternateMobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:v.alternateMobile.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"address1",children:"Address Line 1"}),s.jsx(gt,{id:"address1",type:"text",...h("address1"),disabled:N}),v.address1&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:v.address1.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"address2",children:"Address Line 2 (Optional)"}),s.jsx(gt,{id:"address2",type:"text",...h("address2"),disabled:N}),v.address2&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:v.address2.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"city",children:"City"}),s.jsx(gt,{id:"city",type:"text",...h("city"),disabled:N}),v.city&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:v.city.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"pincode",children:"Pin Code"}),s.jsx(gt,{id:"pincode",type:"number",...h("pincode"),disabled:N}),v.pincode&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:v.pincode.message})]})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"depotId",children:"Assigned Depot (Optional)"}),s.jsx(Fs,{name:"depotId",control:w,render:({field:I})=>{let P="none";return I.value!==null&&I.value!==void 0&&(P=String(I.value)),console.log("Select Debug - field.value:",I.value,"selectValue:",P),console.log("Select Debug - isDepotsLoading:",d,"depots.length:",c.length),console.log("Select Debug - matching depot:",c.find(F=>String(F.id)===P)),d||I.value&&c.length===0?s.jsx("div",{className:"w-full h-9 px-3 py-2 border rounded-md bg-muted animate-pulse",children:"Loading depots..."}):s.jsxs(pr,{onValueChange:F=>{console.log("Select onChange - value:",F);const k=F==="none"?null:Number(F);console.log("Select onChange - newValue:",k),I.onChange(k)},value:P,defaultValue:P,disabled:N,children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select a depot (optional)"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"none",children:s.jsx("em",{children:"No Depot"})}),c.map(F=>s.jsx(wt,{value:String(F.id),children:F.name},F.id))]})]})}}),v.depotId&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:v.depotId.message})]}),e==="create"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b pb-4 mb-4 pt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"userLoginEmail",children:"Login Email"}),s.jsx(gt,{id:"userLoginEmail",type:"email",...h("userLoginEmail"),disabled:N}),v.userLoginEmail&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:v.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"userPassword",children:"Password"}),s.jsx(hi,{id:"userPassword",...h("userPassword"),disabled:N}),v.userPassword&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:v.userPassword.message})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(Ee,{type:"submit",disabled:N,className:"w-full sm:w-auto",children:N?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"mr-2 h-4 w-4 animate-spin"}),e==="create"?"Creating...":"Updating..."]}):s.jsx(s.Fragment,{children:e==="create"?"Create Delivery Partner":"Update Delivery Partner"})})})]})},dve=()=>{const e=Ls(),t=()=>{e("/admin/agencies")};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(St,{className:" mx-auto",children:[s.jsx(zt,{children:s.jsx(dr,{className:"text-2xl font-semibold",children:"Create New Delivery Agency"})}),s.jsxs(_t,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Fill in the details below to create a new delivery agency and an associated user account."}),s.jsx(Nz,{mode:"create",onSuccess:t})]})]})})},uve=()=>{var d;const{id:e}=Ji(),t=Ls(),r=async h=>await $t(`/agencies/${h}`),{data:n,isLoading:a,isError:i,error:o}=cs({queryKey:["agency",e],queryFn:()=>r(e),enabled:!!e,staleTime:1e3*60*5}),l=()=>{t("/admin/agencies")};if(!e)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Ki,{variant:"destructive",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Error"}),s.jsx(Qi,{children:"No Delivery Agency ID provided. Please go back and select a delivery agency to edit."})]})});if(a)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(St,{className:" mx-auto",children:[s.jsx(zt,{children:s.jsx(vr,{className:"h-8 w-1/2"})}),s.jsxs(_t,{className:"space-y-6",children:[s.jsx(vr,{className:"h-10 w-full"}),s.jsx(vr,{className:"h-10 w-full"}),s.jsx(vr,{className:"h-10 w-full"}),s.jsx(vr,{className:"h-10 w-1/3 ml-auto"})]})]})});if(i)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Ki,{variant:"destructive",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Error Fetching Delivery Agency"}),s.jsxs(Qi,{children:["There was a problem retrieving the delivery agency details. Error: ",(o==null?void 0:o.message)||"Unknown error"]})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Ki,{variant:"default",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Not Found"}),s.jsx(Qi,{children:"Delivery Agency data could not be loaded or found."})]})});const c={name:n.name,contactPersonName:n.contactPersonName||"",email:n.email||"",mobile:n.mobile,alternateMobile:n.alternateMobile||null,address1:n.address1,address2:n.address2||null,city:n.city,pincode:n.pincode,depotId:n.depotId||null,status:(d=n.user)!=null&&d.active?"ACTIVE":"INACTIVE"};return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(St,{className:"max-w-4xl mx-auto",children:[s.jsx(zt,{children:s.jsx(dr,{className:"text-2xl font-semibold",children:"Edit Delivery Agency"})}),s.jsx(_t,{children:s.jsx(Nz,{mode:"edit",agencyId:e,initialData:c,onSuccess:l})})]})})},JT=In({name:Ft().min(1,"Supervisor name is required"),contactPersonName:Ft().optional(),email:Ft().optional().nullable(),mobile:Ft().regex(/^\d{10}$/,"Mobile number must be 10 digits"),alternateMobile:Ub().nullable().optional(),address1:Ft().min(1,"Address Line 1 is required"),address2:Ub().nullable().optional(),city:Ft().optional().nullable(),pincode:Ti.number().int("Pincode must be an integer").positive("Pincode must be positive").refine(e=>String(e).length===6,"Pincode must be 6 digits"),depotId:Ti.number().optional().nullable(),agencyId:Ti.number().optional().nullable(),status:_2(["ACTIVE","INACTIVE"]).default("ACTIVE")}),hve=In({userFullName:Ft().min(1,"User's full name is required"),userLoginEmail:Ft().email("Invalid login email for user"),userPassword:Ft().min(6,"User password must be at least 6 characters")});JT.extend({userFullName:Ft().optional(),userLoginEmail:Ft().email().optional(),userPassword:Ft().optional()});const fve=JT.merge(hve),mve=JT,jz=({mode:e,supervisorId:t,onSuccess:r,initialData:n,className:a})=>{var F,k,z,O;const i=Ja(),[o,l]=y.useState(e==="edit"&&t&&!n),[c,d]=y.useState(null),{data:h=[]}=cs({queryKey:["depots"],queryFn:async()=>{const M=await $t("/depots");return M.data||M}}),{data:m=[],isLoading:p}=cs({queryKey:["agencies"],queryFn:async()=>{const M=await $t("/agencies");return M.data||M}}),{register:g,handleSubmit:w,setValue:b,setError:v,control:N,watch:S,formState:{errors:A,isSubmitting:E}}=Ea({mode:"onChange",resolver:Ca(e==="create"?fve:mve),defaultValues:n||{name:"",contactPersonName:"",email:"",mobile:"",alternateMobile:null,address1:"",address2:null,city:"",pincode:void 0,depotId:void 0,agencyId:void 0,status:"ACTIVE",userFullName:"",userLoginEmail:"",userPassword:""}}),C=S("name");y.useEffect(()=>{e==="create"&&C&&b("userFullName",C)},[C,e,b]),y.useEffect(()=>{e==="edit"&&t&&!n?(l(!0),(async()=>{var R,B;try{const Y=await $t(`/supervisors/${t}`);console.log("Fetched supervisor data:",Y),b("name",Y.name),b("contactPersonName",Y.contactPersonName||""),b("mobile",Y.mobile),b("alternateMobile",Y.alternateMobile||null),b("address1",Y.address1),b("address2",Y.address2||null),b("city",Y.city),b("pincode",Y.pincode),b("email",Y.email),b("depotId",Y.depotId||null);const U=Y.agencyId||((R=Y.agency)==null?void 0:R.id)||null;console.log("Setting agencyId to:",U),console.log("Agencies loaded?",m.length>0,"Agencies:",m,"isLoadingAgencies:",p),U!==null&&(m.length>0?(console.log("Agencies already loaded, setting agencyId directly"),b("agencyId",U)):(console.log("Agencies not loaded yet, storing agencyId for later"),d(U))),b("status",(B=Y.user)!=null&&B.active?"ACTIVE":"INACTIVE")}catch(Y){console.error("Error fetching supervisor:",Y),ve.error("Failed to fetch supervisor details")}finally{l(!1)}})()):(n&&Object.keys(n).forEach(M=>{b(M,n[M])}),l(!1))},[t,e,b,n]),y.useEffect(()=>{!p&&m.length>0&&c!==null&&(console.log("Agencies loaded, setting pending agencyId:",c),b("agencyId",c),d(null))},[p,m,c,b]);const I=Ks({mutationFn:async M=>{if(M.contactPersonName=M.name,e==="create"){const R={name:M.name,contactPersonName:M.contactPersonName,email:M.email,mobile:M.mobile,alternateMobile:M.alternateMobile,address1:M.address1,address2:M.address2,city:M.city,pincode:M.pincode,depotId:M.depotId||null,agencyId:M.agencyId||null,userFullName:M.userFullName,userLoginEmail:M.userLoginEmail,userPassword:M.userPassword,role:"SUPERVISOR",status:M.status};return en("/supervisors",R)}else{const{userFullName:R,userLoginEmail:B,userPassword:Y,...U}=M,Q={name:U.name,contactPersonName:U.contactPersonName,email:U.email,mobile:U.mobile,alternateMobile:U.alternateMobile,address1:U.address1,address2:U.address2,city:U.city,pincode:U.pincode,depotId:U.depotId||null,agencyId:U.agencyId||null,status:U.status};return Aa(`/supervisors/${t}`,Q)}},onSuccess:()=>{ve.success(`Supervisor ${e==="create"?"created (with user)":"updated"} successfully`),i.invalidateQueries({queryKey:["supervisors"]}),i.invalidateQueries({queryKey:["users"]}),t&&e==="edit"&&i.invalidateQueries({queryKey:["supervisor",t]}),r==null||r()},onError:M=>{var B,Y;qf(M,v);const R=`Failed to ${e} supervisor.`;ve.error(((Y=(B=M==null?void 0:M.response)==null?void 0:B.data)==null?void 0:Y.message)||M.message||R)}}),P=M=>{I.mutate(M)};return o?s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(Ws,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading supervisor details..."})]}):s.jsxs("form",{onSubmit:w(P),className:`space-y-6 ${a}`,children:[s.jsx("div",{className:"border-b pb-4 mb-4 mt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Supervisor Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"name",children:"Supervisor Name"}),s.jsx(gt,{id:"name",type:"text",...g("name"),disabled:E}),A.name&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:A.name.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"email",children:"Email"}),s.jsx(gt,{id:"email",type:"email",...g("email"),disabled:E}),A.email&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:A.email.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(gt,{max:10,maxLength:10,id:"mobile",type:"text",...g("mobile"),disabled:E}),A.mobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:A.mobile.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"alternateMobile",children:"Alternate Mobile (Optional)"}),s.jsx(gt,{max:10,maxLength:10,id:"alternateMobile",type:"text",...g("alternateMobile"),disabled:E}),A.alternateMobile&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:String((F=A.alternateMobile)==null?void 0:F.message)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"address1",children:"Address Line 1"}),s.jsx(gt,{id:"address1",type:"text",...g("address1"),disabled:E}),A.address1&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:A.address1.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"address2",children:"Address Line 2 (Optional)"}),s.jsx(gt,{id:"address2",type:"text",...g("address2"),disabled:E}),A.address2&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:String((k=A.address2)==null?void 0:k.message)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"city",children:"City"}),s.jsx(gt,{id:"city",type:"text",...g("city"),disabled:E}),A.city&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:A.city.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"pincode",children:"Pin Code"}),s.jsx(gt,{id:"pincode",type:"text",inputMode:"numeric",pattern:"[0-9]{6}",maxLength:6,...g("pincode",{required:"Pin code is required",pattern:{value:/^[0-9]{6}$/,message:"Pin code must be exactly 6 digits"}}),disabled:E}),A.pincode&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:A.pincode.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"depotId",children:"Assigned Depot (Optional)"}),s.jsx(Fs,{name:"depotId",control:N,render:({field:M})=>{const R=M.value?String(M.value):"none";return console.log("Depot field render - current value:",R,"field.value:",M.value),s.jsxs(pr,{onValueChange:B=>{const Y=B==="none"?null:Number(B);console.log("Depot value changing to:",Y),M.onChange(Y)},value:R,disabled:E,children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select depot..."})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"none",children:"No depot assigned"}),h.map(B=>s.jsx(wt,{value:String(B.id),children:B.name},B.id))]})]},`depot-${R}`)}}),A.depotId&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:String((z=A.depotId)==null?void 0:z.message)})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"agencyId",children:"Assigned Agency (Optional)"}),s.jsx(Fs,{name:"agencyId",control:N,render:({field:M})=>{const R=M.value?String(M.value):"none";return console.log("Agency field render - current value:",R,"field.value:",M.value),s.jsxs(pr,{onValueChange:B=>{const Y=B==="none"?null:Number(B);console.log("Agency value changing to:",Y),M.onChange(Y)},value:R,disabled:E,children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select agency..."})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"none",children:"No agency assigned"}),m.map(B=>s.jsx(wt,{value:String(B.id),children:B.name},B.id))]})]},`agency-${R}`)}}),A.agencyId&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:String((O=A.agencyId)==null?void 0:O.message)})]})]}),e==="create"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b pb-4 mb-4 pt-6",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Details"})}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"userLoginEmail",children:"Login Email"}),s.jsx(gt,{id:"userLoginEmail",type:"email",...g("userLoginEmail"),disabled:E}),A.userLoginEmail&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:A.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2 relative",children:[s.jsx(Be,{htmlFor:"userPassword",children:"Password"}),s.jsx(hi,{id:"userPassword",...g("userPassword"),disabled:E}),A.userPassword&&s.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:A.userPassword.message})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(Ee,{type:"submit",disabled:E,className:"w-full sm:w-auto",children:E?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"mr-2 h-4 w-4 animate-spin"}),e==="create"?"Creating...":"Updating..."]}):s.jsx(s.Fragment,{children:e==="create"?"Create Supervisor":"Update Supervisor"})})})]})},pve=()=>{const e=Ls(),t=()=>{e("/admin/supervisors")};return s.jsx("div",{className:"container mx-auto p-4 md:p-6",children:s.jsxs(St,{className:" mx-auto",children:[s.jsx(zt,{children:s.jsx(dr,{className:"text-2xl font-semibold",children:"Create New Supervisor"})}),s.jsxs(_t,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Fill in the details below to create a new supervisor and an associated user account."}),s.jsx(jz,{mode:"create",onSuccess:t})]})]})})},gve=()=>{var d;const{id:e}=Ji(),t=Ls(),r=async h=>await $t(`/supervisors/${h}`),{data:n,isLoading:a,isError:i,error:o}=cs({queryKey:["supervisor",e],queryFn:()=>r(e),enabled:!!e,staleTime:1e3*60*5}),l=()=>{t("/admin/supervisors")};if(!e)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Ki,{variant:"destructive",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Error"}),s.jsx(Qi,{children:"No Supervisor ID provided. Please go back and select a supervisor to edit."})]})});if(a)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(St,{className:" mx-auto",children:[s.jsx(zt,{children:s.jsx(vr,{className:"h-8 w-1/2"})}),s.jsxs(_t,{className:"space-y-6",children:[s.jsx(vr,{className:"h-10 w-full"}),s.jsx(vr,{className:"h-10 w-full"}),s.jsx(vr,{className:"h-10 w-full"}),s.jsx(vr,{className:"h-10 w-1/3 ml-auto"})]})]})});if(i)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Ki,{variant:"destructive",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Error Fetching Supervisor"}),s.jsxs(Qi,{children:["There was a problem retrieving the supervisor details. Error: ",(o==null?void 0:o.message)||"Unknown error"]})]})});if(!n)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Ki,{variant:"default",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Not Found"}),s.jsx(Qi,{children:"Supervisor data could not be loaded or found."})]})});const c={name:n.name,contactPersonName:n.contactPersonName||"",email:n.email||"",mobile:n.mobile,alternateMobile:n.alternateMobile||null,address1:n.address1,address2:n.address2||null,city:n.city,pincode:n.pincode,depotId:n.depotId||null,agencyId:n.agencyId||null,status:(d=n.user)!=null&&d.active?"ACTIVE":"INACTIVE"};return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(St,{className:"max-w-4xl mx-auto",children:[s.jsx(zt,{children:s.jsx(dr,{className:"text-2xl font-semibold",children:"Edit Supervisor"})}),s.jsx(_t,{children:s.jsx(jz,{mode:"edit",supervisorId:e,initialData:c,onSuccess:l})})]})})};function xve(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Sz=We.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),tw=()=>{const e=We.useContext(Sz);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};xve(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function yve(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function vve(){return e6(/^Mac/)}function bve(){return e6(/^iPhone/)}function OR(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function wve(){return e6(/^iPad/)||vve()&&navigator.maxTouchPoints>1}function Az(){return bve()||wve()}function e6(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Nve=24,jve=typeof window<"u"?y.useLayoutEffect:y.useEffect;function RR(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const EE=typeof document<"u"&&window.visualViewport;function IR(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Ez(e){for(IR(e)&&(e=e.parentElement);e&&!IR(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Sve=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let CN=0,CE;function Ave(e={}){let{isDisabled:t}=e;jve(()=>{if(!t)return CN++,CN===1&&Az()&&(CE=Eve()),()=>{CN--,CN===0&&(CE==null||CE())}},[t])}function Eve(){let e,t=0,r=m=>{e=Ez(m.target),!(e===document.documentElement&&e===document.body)&&(t=m.changedTouches[0].pageY)},n=m=>{if(!e||e===document.documentElement||e===document.body){m.preventDefault();return}let p=m.changedTouches[0].pageY,g=e.scrollTop,w=e.scrollHeight-e.clientHeight;w!==0&&((g<=0&&p>t||g>=w&&p<t)&&m.preventDefault(),t=p)},a=m=>{let p=m.target;n_(p)&&p!==document.activeElement&&(m.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},i=m=>{let p=m.target;n_(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",EE&&(EE.height<window.innerHeight?requestAnimationFrame(()=>{LR(p)}):EE.addEventListener("resize",()=>LR(p),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,d=RR(Cve(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let h=RR(F1(document,"touchstart",r,{passive:!1,capture:!0}),F1(document,"touchmove",n,{passive:!1,capture:!0}),F1(document,"touchend",a,{passive:!1,capture:!0}),F1(document,"focus",i,!0),F1(window,"scroll",o));return()=>{d(),h(),window.scrollTo(l,c)}}function Cve(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function F1(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function LR(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=Ez(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,a=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const o=r.getBoundingClientRect().bottom+Nve;i>o&&(r.scrollTop+=a-n)}e=r.parentElement}}function n_(e){return e instanceof HTMLInputElement&&!Sve.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function _ve(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function kve(...e){return t=>e.forEach(r=>_ve(r,t))}function Cz(...e){return y.useCallback(kve(...e),e)}const _z=new WeakMap;function Wi(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([a,i])=>{if(a.startsWith("--")){e.style.setProperty(a,i);return}n[a]=e.style[a],e.style[a]=i}),!r&&_z.set(e,n)}function Tve(e,t){if(!e||!(e instanceof HTMLElement))return;let r=_z.get(e);r&&(e.style[t]=r[t])}const ki=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function _N(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let a=n.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[ki(t)?13:12]):(a=n.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[ki(t)?5:4]):null)}function Dve(e){return 8*(Math.log(e+1)-2)}function _E(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function Pve(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Oa={DURATION:.5,EASE:[.32,.72,0,1]},kz=.4,Ove=.25,Rve=100,Tz=8,kN=16,a_=26,kE="vaul-dragging";function Dz(e){const t=We.useRef(e);return We.useEffect(()=>{t.current=e}),We.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function Ive({defaultProp:e,onChange:t}){const r=We.useState(e),[n]=r,a=We.useRef(n),i=Dz(t);return We.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}function Pz({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Ive({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Dz(r),c=We.useCallback(d=>{if(i){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else a(d)},[i,e,a,l]);return[o,c]}function Lve({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:a,fadeFromIndex:i,onSnapPointChange:o,direction:l="bottom",container:c,snapToSequentialPoint:d}){const[h,m]=Pz({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[p,g]=We.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);We.useEffect(()=>{function P(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const w=We.useMemo(()=>h===(r==null?void 0:r[r.length-1])||null,[r,h]),b=We.useMemo(()=>{var P;return(P=r==null?void 0:r.findIndex(F=>F===h))!=null?P:null},[r,h]),v=r&&r.length>0&&(i||i===0)&&!Number.isNaN(i)&&r[i]===h||!r,N=We.useMemo(()=>{const P=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var F;return(F=r==null?void 0:r.map(k=>{const z=typeof k=="string";let O=0;if(z&&(O=parseInt(k,10)),ki(l)){const R=z?O:p?k*P.height:0;return p?l==="bottom"?P.height-R:-P.height+R:R}const M=z?O:p?k*P.width:0;return p?l==="right"?P.width-M:-P.width+M:M}))!=null?F:[]},[r,p,c]),S=We.useMemo(()=>b!==null?N==null?void 0:N[b]:null,[N,b]),A=We.useCallback(P=>{var F;const k=(F=N==null?void 0:N.findIndex(z=>z===P))!=null?F:null;o(k),Wi(n.current,{transition:`transform ${Oa.DURATION}s cubic-bezier(${Oa.EASE.join(",")})`,transform:ki(l)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`}),N&&k!==N.length-1&&i!==void 0&&k!==i&&k<i?Wi(a.current,{transition:`opacity ${Oa.DURATION}s cubic-bezier(${Oa.EASE.join(",")})`,opacity:"0"}):Wi(a.current,{transition:`opacity ${Oa.DURATION}s cubic-bezier(${Oa.EASE.join(",")})`,opacity:"1"}),m(r==null?void 0:r[Math.max(k,0)])},[n.current,r,N,i,a,m]);We.useEffect(()=>{if(h||e){var P;const F=(P=r==null?void 0:r.findIndex(k=>k===e||k===h))!=null?P:-1;N&&F!==-1&&typeof N[F]=="number"&&A(N[F])}},[h,e,r,N,A]);function E({draggedDistance:P,closeDrawer:F,velocity:k,dismissible:z}){if(i===void 0)return;const O=l==="bottom"||l==="right"?(S??0)-P:(S??0)+P,M=b===i-1,R=b===0,B=P>0;if(M&&Wi(a.current,{transition:`opacity ${Oa.DURATION}s cubic-bezier(${Oa.EASE.join(",")})`}),!d&&k>2&&!B){z?F():A(N[0]);return}if(!d&&k>2&&B&&N&&r){A(N[r.length-1]);return}const Y=N==null?void 0:N.reduce((Q,V)=>typeof Q!="number"||typeof V!="number"?Q:Math.abs(V-O)<Math.abs(Q-O)?V:Q),U=ki(l)?window.innerHeight:window.innerWidth;if(k>kz&&Math.abs(P)<U*.4){const Q=B?1:-1;if(Q>0&&w&&r){A(N[r.length-1]);return}if(R&&Q<0&&z&&F(),b===null)return;A(N[b+Q]);return}A(Y)}function C({draggedDistance:P}){if(S===null)return;const F=l==="bottom"||l==="right"?S-P:S+P;(l==="bottom"||l==="right")&&F<N[N.length-1]||(l==="top"||l==="left")&&F>N[N.length-1]||Wi(n.current,{transform:ki(l)?`translate3d(0, ${F}px, 0)`:`translate3d(${F}px, 0, 0)`})}function I(P,F){if(!r||typeof b!="number"||!N||i===void 0)return null;const k=b===i-1;if(b>=i&&F)return 0;if(k&&!F)return 1;if(!v&&!k)return null;const O=k?b+1:b-1,M=k?N[O]-N[O-1]:N[O+1]-N[O],R=P/Math.abs(M);return k?1-R:R}return{isLastSnapPoint:w,activeSnapPoint:h,shouldFade:v,getPercentageDragged:I,setActiveSnapPoint:m,activeSnapPointIndex:b,onRelease:E,onDrag:C,snapPointsOffset:N}}const Mve=()=>()=>{};function Fve(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:a}=tw(),i=We.useRef(null),o=y.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-a_)/window.innerWidth}We.useEffect(()=>{if(t&&r){i.current&&clearTimeout(i.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Pve(n&&!a?_E(document.body,{background:"black"}):Mve,_E(c,{transformOrigin:ki(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Oa.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Oa.EASE.join(",")})`}));const d=_E(c,{borderRadius:`${Tz}px`,overflow:"hidden",...ki(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{d(),i.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Oa.DURATION*1e3)}}},[t,r,o])}let B1=null;function Bve({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:a,noBodyStyles:i}){const[o,l]=We.useState(()=>typeof window<"u"?window.location.href:""),c=We.useRef(0),d=We.useCallback(()=>{if(OR()&&B1===null&&e&&!i){B1={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=p-window.innerHeight;g&&c.current>=p&&(document.body.style.top=`${-(c.current+g)}px`)}),300)}},[e]),h=We.useCallback(()=>{if(OR()&&B1!==null&&!i){const m=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,B1),window.requestAnimationFrame(()=>{if(a&&o!==window.location.href){l(window.location.href);return}window.scrollTo(p,m)}),B1=null}},[o]);return We.useEffect(()=>{function m(){c.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),We.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||h()}},[t,h]),We.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&d(),t||window.setTimeout(()=>{h()},500)):h())},[e,n,o,t,r,d,h]),{restorePositionSetting:h}}function Uve({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:a,snapPoints:i,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=Ove,scrollLockTimeout:d=Rve,dismissible:h=!0,handleOnly:m=!1,fadeFromIndex:p=i&&i.length-1,activeSnapPoint:g,setActiveSnapPoint:w,fixed:b,modal:v=!0,onClose:N,nested:S,noBodyStyles:A=!1,direction:E="bottom",defaultOpen:C=!1,disablePreventScroll:I=!0,snapToSequentialPoint:P=!1,preventScrollRestoration:F=!1,repositionInputs:k=!0,onAnimationEnd:z,container:O,autoFocus:M=!1}){var R,B;const[Y=!1,U]=Pz({defaultProp:C,prop:e,onChange:Pt=>{t==null||t(Pt),!Pt&&!S&&ct(),setTimeout(()=>{z==null||z(Pt)},Oa.DURATION*1e3),Pt&&!v&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Pt||(document.body.style.pointerEvents="auto")}}),[Q,V]=We.useState(!1),[Z,J]=We.useState(!1),[ae,D]=We.useState(!1),H=We.useRef(null),K=We.useRef(null),W=We.useRef(null),re=We.useRef(null),te=We.useRef(null),ie=We.useRef(!1),se=We.useRef(null),le=We.useRef(0),Ce=We.useRef(!1),De=We.useRef(!C),Ze=We.useRef(0),ke=We.useRef(null),ce=We.useRef(((R=ke.current)==null?void 0:R.getBoundingClientRect().height)||0),Me=We.useRef(((B=ke.current)==null?void 0:B.getBoundingClientRect().width)||0),be=We.useRef(0),ge=We.useCallback(Pt=>{i&&Pt===we.length-1&&(K.current=new Date)},[]),{activeSnapPoint:Ye,activeSnapPointIndex:ze,setActiveSnapPoint:Pe,onRelease:me,snapPointsOffset:we,onDrag:qe,shouldFade:xt,getPercentageDragged:pt}=Lve({snapPoints:i,activeSnapPointProp:g,setActiveSnapPointProp:w,drawerRef:ke,fadeFromIndex:p,overlayRef:H,onSnapPointChange:ge,direction:E,container:O,snapToSequentialPoint:P});Ave({isDisabled:!Y||Z||!v||ae||!Q||!k||!I});const{restorePositionSetting:ct}=Bve({isOpen:Y,modal:v,nested:S??!1,hasBeenOpened:Q,preventScrollRestoration:F,noBodyStyles:A});function ft(){return(window.innerWidth-a_)/window.innerWidth}function Mt(Pt){var Tr,Cr;!h&&!i||ke.current&&!ke.current.contains(Pt.target)||(ce.current=((Tr=ke.current)==null?void 0:Tr.getBoundingClientRect().height)||0,Me.current=((Cr=ke.current)==null?void 0:Cr.getBoundingClientRect().width)||0,J(!0),W.current=new Date,Az()&&window.addEventListener("touchend",()=>ie.current=!1,{once:!0}),Pt.target.setPointerCapture(Pt.pointerId),le.current=ki(E)?Pt.pageY:Pt.pageX)}function Xt(Pt,Tr){var Cr;let mr=Pt;const ar=(Cr=window.getSelection())==null?void 0:Cr.toString(),Gt=ke.current?_N(ke.current,E):null,Mr=new Date;if(mr.tagName==="SELECT"||mr.hasAttribute("data-vaul-no-drag")||mr.closest("[data-vaul-no-drag]"))return!1;if(E==="right"||E==="left")return!0;if(K.current&&Mr.getTime()-K.current.getTime()<500)return!1;if(Gt!==null&&(E==="bottom"?Gt>0:Gt<0))return!0;if(ar&&ar.length>0)return!1;if(te.current&&Mr.getTime()-te.current.getTime()<d&&Gt===0||Tr)return te.current=Mr,!1;for(;mr;){if(mr.scrollHeight>mr.clientHeight){if(mr.scrollTop!==0)return te.current=new Date,!1;if(mr.getAttribute("role")==="dialog")return!0}mr=mr.parentNode}return!0}function ur(Pt){if(ke.current&&Z){const Tr=E==="bottom"||E==="right"?1:-1,Cr=(le.current-(ki(E)?Pt.pageY:Pt.pageX))*Tr,mr=Cr>0,ar=i&&!h&&!mr;if(ar&&ze===0)return;const Gt=Math.abs(Cr),Mr=document.querySelector("[data-vaul-drawer-wrapper]"),ts=E==="bottom"||E==="top"?ce.current:Me.current;let ss=Gt/ts;const Xe=pt(Gt,mr);if(Xe!==null&&(ss=Xe),ar&&ss>=1||!ie.current&&!Xt(Pt.target,mr))return;if(ke.current.classList.add(kE),ie.current=!0,Wi(ke.current,{transition:"none"}),Wi(H.current,{transition:"none"}),i&&qe({draggedDistance:Cr}),mr&&!i){const Ct=Dve(Cr),lr=Math.min(Ct*-1,0)*Tr;Wi(ke.current,{transform:ki(E)?`translate3d(0, ${lr}px, 0)`:`translate3d(${lr}px, 0, 0)`});return}const lt=1-ss;if((xt||p&&ze===p-1)&&(n==null||n(Pt,ss),Wi(H.current,{opacity:`${lt}`,transition:"none"},!0)),Mr&&H.current&&o){const Ct=Math.min(ft()+ss*(1-ft()),1),lr=8-ss*8,_r=Math.max(0,14-ss*14);Wi(Mr,{borderRadius:`${lr}px`,transform:ki(E)?`scale(${Ct}) translate3d(0, ${_r}px, 0)`:`scale(${Ct}) translate3d(${_r}px, 0, 0)`,transition:"none"},!0)}if(!i){const Ct=Gt*Tr;Wi(ke.current,{transform:ki(E)?`translate3d(0, ${Ct}px, 0)`:`translate3d(${Ct}px, 0, 0)`})}}}We.useEffect(()=>{window.requestAnimationFrame(()=>{De.current=!0})},[]),We.useEffect(()=>{var Pt;function Tr(){if(!ke.current||!k)return;const Cr=document.activeElement;if(n_(Cr)||Ce.current){var mr;const ar=((mr=window.visualViewport)==null?void 0:mr.height)||0,Gt=window.innerHeight;let Mr=Gt-ar;const ts=ke.current.getBoundingClientRect().height||0,ss=ts>Gt*.8;be.current||(be.current=ts);const Xe=ke.current.getBoundingClientRect().top;if(Math.abs(Ze.current-Mr)>60&&(Ce.current=!Ce.current),i&&i.length>0&&we&&ze){const lt=we[ze]||0;Mr+=lt}if(Ze.current=Mr,ts>ar||Ce.current){const lt=ke.current.getBoundingClientRect().height;let Ct=lt;lt>ar&&(Ct=ar-(ss?Xe:a_)),b?ke.current.style.height=`${lt-Math.max(Mr,0)}px`:ke.current.style.height=`${Math.max(Ct,ar-Xe)}px`}else yve()||(ke.current.style.height=`${be.current}px`);i&&i.length>0&&!Ce.current?ke.current.style.bottom="0px":ke.current.style.bottom=`${Math.max(Mr,0)}px`}}return(Pt=window.visualViewport)==null||Pt.addEventListener("resize",Tr),()=>{var Cr;return(Cr=window.visualViewport)==null?void 0:Cr.removeEventListener("resize",Tr)}},[ze,i,we]);function es(Pt){mt(),N==null||N(),Pt||U(!1),setTimeout(()=>{i&&Pe(i[0])},Oa.DURATION*1e3)}function Qr(){if(!ke.current)return;const Pt=document.querySelector("[data-vaul-drawer-wrapper]"),Tr=_N(ke.current,E);Wi(ke.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Oa.DURATION}s cubic-bezier(${Oa.EASE.join(",")})`}),Wi(H.current,{transition:`opacity ${Oa.DURATION}s cubic-bezier(${Oa.EASE.join(",")})`,opacity:"1"}),o&&Tr&&Tr>0&&Y&&Wi(Pt,{borderRadius:`${Tz}px`,overflow:"hidden",...ki(E)?{transform:`scale(${ft()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ft()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Oa.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Oa.EASE.join(",")})`},!0)}function mt(){!Z||!ke.current||(ke.current.classList.remove(kE),ie.current=!1,J(!1),re.current=new Date)}function Er(Pt){if(!Z||!ke.current)return;ke.current.classList.remove(kE),ie.current=!1,J(!1),re.current=new Date;const Tr=_N(ke.current,E);if(!Pt||!Xt(Pt.target,!1)||!Tr||Number.isNaN(Tr)||W.current===null)return;const Cr=re.current.getTime()-W.current.getTime(),mr=le.current-(ki(E)?Pt.pageY:Pt.pageX),ar=Math.abs(mr)/Cr;if(ar>.05&&(D(!0),setTimeout(()=>{D(!1)},200)),i){me({draggedDistance:mr*(E==="bottom"||E==="right"?1:-1),closeDrawer:es,velocity:ar,dismissible:h}),a==null||a(Pt,!0);return}if(E==="bottom"||E==="right"?mr>0:mr<0){Qr(),a==null||a(Pt,!0);return}if(ar>kz){es(),a==null||a(Pt,!1);return}var Gt;const Mr=Math.min((Gt=ke.current.getBoundingClientRect().height)!=null?Gt:0,window.innerHeight);var ts;const ss=Math.min((ts=ke.current.getBoundingClientRect().width)!=null?ts:0,window.innerWidth),Xe=E==="left"||E==="right";if(Math.abs(Tr)>=(Xe?ss:Mr)*c){es(),a==null||a(Pt,!1);return}a==null||a(Pt,!0),Qr()}We.useEffect(()=>(Y&&(Wi(document.documentElement,{scrollBehavior:"auto"}),K.current=new Date),()=>{Tve(document.documentElement,"scrollBehavior")}),[Y]);function tr(Pt){const Tr=Pt?(window.innerWidth-kN)/window.innerWidth:1,Cr=Pt?-16:0;se.current&&window.clearTimeout(se.current),Wi(ke.current,{transition:`transform ${Oa.DURATION}s cubic-bezier(${Oa.EASE.join(",")})`,transform:ki(E)?`scale(${Tr}) translate3d(0, ${Cr}px, 0)`:`scale(${Tr}) translate3d(${Cr}px, 0, 0)`}),!Pt&&ke.current&&(se.current=setTimeout(()=>{const mr=_N(ke.current,E);Wi(ke.current,{transition:"none",transform:ki(E)?`translate3d(0, ${mr}px, 0)`:`translate3d(${mr}px, 0, 0)`})},500))}function fr(Pt,Tr){if(Tr<0)return;const Cr=(window.innerWidth-kN)/window.innerWidth,mr=Cr+Tr*(1-Cr),ar=-16+Tr*kN;Wi(ke.current,{transform:ki(E)?`scale(${mr}) translate3d(0, ${ar}px, 0)`:`scale(${mr}) translate3d(${ar}px, 0, 0)`,transition:"none"})}function Lr(Pt,Tr){const Cr=ki(E)?window.innerHeight:window.innerWidth,mr=Tr?(Cr-kN)/Cr:1,ar=Tr?-16:0;Tr&&Wi(ke.current,{transition:`transform ${Oa.DURATION}s cubic-bezier(${Oa.EASE.join(",")})`,transform:ki(E)?`scale(${mr}) translate3d(0, ${ar}px, 0)`:`scale(${mr}) translate3d(${ar}px, 0, 0)`})}return We.useEffect(()=>{v||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[v]),We.createElement(sS,{defaultOpen:C,onOpenChange:Pt=>{!h&&!Pt||(Pt?V(!0):es(!0),U(Pt))},open:Y},We.createElement(Sz.Provider,{value:{activeSnapPoint:Ye,snapPoints:i,setActiveSnapPoint:Pe,drawerRef:ke,overlayRef:H,onOpenChange:t,onPress:Mt,onRelease:Er,onDrag:ur,dismissible:h,shouldAnimate:De,handleOnly:m,isOpen:Y,isDragging:Z,shouldFade:xt,closeDrawer:es,onNestedDrag:fr,onNestedOpenChange:tr,onNestedRelease:Lr,keyboardIsOpen:Ce,modal:v,snapPointsOffset:we,activeSnapPointIndex:ze,direction:E,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:A,container:O,autoFocus:M}},r))}const Oz=We.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:a,shouldFade:i,isOpen:o,modal:l,shouldAnimate:c}=tw(),d=Cz(t,r),h=n&&n.length>0;if(!l)return null;const m=We.useCallback(p=>a(p),[a]);return We.createElement(T2,{onMouseUp:m,ref:d,"data-vaul-overlay":"","data-vaul-snap-points":o&&h?"true":"false","data-vaul-snap-points-overlay":o&&i?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});Oz.displayName="Drawer.Overlay";const Rz=We.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},a){const{drawerRef:i,onPress:o,onRelease:l,onDrag:c,keyboardIsOpen:d,snapPointsOffset:h,activeSnapPointIndex:m,modal:p,isOpen:g,direction:w,snapPoints:b,container:v,handleOnly:N,shouldAnimate:S,autoFocus:A}=tw(),[E,C]=We.useState(!1),I=Cz(a,i),P=We.useRef(null),F=We.useRef(null),k=We.useRef(!1),z=b&&b.length>0;Fve();const O=(R,B,Y=0)=>{if(k.current)return!0;const U=Math.abs(R.y),Q=Math.abs(R.x),V=Q>U,Z=["bottom","right"].includes(B)?1:-1;if(B==="left"||B==="right"){if(!(R.x*Z<0)&&Q>=0&&Q<=Y)return V}else if(!(R.y*Z<0)&&U>=0&&U<=Y)return!V;return k.current=!0,!0};We.useEffect(()=>{z&&window.requestAnimationFrame(()=>{C(!0)})},[]);function M(R){P.current=null,k.current=!1,l(R)}return We.createElement(D2,{"data-vaul-drawer-direction":w,"data-vaul-drawer":"","data-vaul-delayed-snap-points":E?"true":"false","data-vaul-snap-points":g&&z?"true":"false","data-vaul-custom-container":v?"true":"false","data-vaul-animate":S!=null&&S.current?"true":"false",...n,ref:I,style:h&&h.length>0?{"--snap-point-height":`${h[m??0]}px`,...t}:t,onPointerDown:R=>{N||(n.onPointerDown==null||n.onPointerDown.call(n,R),P.current={x:R.pageX,y:R.pageY},o(R))},onOpenAutoFocus:R=>{r==null||r(R),A||R.preventDefault()},onPointerDownOutside:R=>{if(e==null||e(R),!p||R.defaultPrevented){R.preventDefault();return}d.current&&(d.current=!1)},onFocusOutside:R=>{if(!p){R.preventDefault();return}},onPointerMove:R=>{if(F.current=R,N||(n.onPointerMove==null||n.onPointerMove.call(n,R),!P.current))return;const B=R.pageY-P.current.y,Y=R.pageX-P.current.x,U=R.pointerType==="touch"?10:2;O({x:Y,y:B},w,U)?c(R):(Math.abs(Y)>U||Math.abs(B)>U)&&(P.current=null)},onPointerUp:R=>{n.onPointerUp==null||n.onPointerUp.call(n,R),P.current=null,k.current=!1,l(R)},onPointerOut:R=>{n.onPointerOut==null||n.onPointerOut.call(n,R),M(F.current)},onContextMenu:R=>{n.onContextMenu==null||n.onContextMenu.call(n,R),F.current&&M(F.current)}})});Rz.displayName="Drawer.Content";const $ve=250,Vve=120,qve=We.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:a,isDragging:i,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:d,handleOnly:h,isOpen:m,onPress:p,onDrag:g}=tw(),w=We.useRef(null),b=We.useRef(!1);function v(){if(b.current){A();return}window.setTimeout(()=>{N()},Vve)}function N(){if(i||e||b.current){A();return}if(A(),!o||o.length===0){d||a();return}if(l===o[o.length-1]&&d){a();return}const C=o.findIndex(P=>P===l);if(C===-1)return;const I=o[C+1];c(I)}function S(){w.current=window.setTimeout(()=>{b.current=!0},$ve)}function A(){w.current&&window.clearTimeout(w.current),b.current=!1}return We.createElement("div",{onClick:v,onPointerCancel:A,onPointerDown:E=>{h&&p(E),S()},onPointerMove:E=>{h&&g(E)},ref:n,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},We.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});qve.displayName="Drawer.Handle";function zve(e){const t=tw(),{container:r=t.container,...n}=e;return We.createElement(nS,{container:r,...n})}const Mp={Root:Uve,Content:Rz,Overlay:Oz,Trigger:uB,Portal:zve,Close:oS,Title:aS,Description:iS};function Hve({...e}){return s.jsx(Mp.Root,{"data-slot":"drawer",...e})}function r9e({...e}){return s.jsx(Mp.Trigger,{"data-slot":"drawer-trigger",...e})}function Wve({...e}){return s.jsx(Mp.Portal,{"data-slot":"drawer-portal",...e})}function s9e({...e}){return s.jsx(Mp.Close,{"data-slot":"drawer-close",...e})}function Gve({className:e,...t}){return s.jsx(Mp.Overlay,{"data-slot":"drawer-overlay",className:jt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Yve({className:e,children:t,...r}){return s.jsxs(Wve,{"data-slot":"drawer-portal",children:[s.jsx(Gve,{}),s.jsxs(Mp.Content,{"data-slot":"drawer-content",className:jt("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...r,children:[s.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]})]})}function Kve({className:e,...t}){return s.jsx("div",{"data-slot":"drawer-header",className:jt("flex flex-col gap-1.5 p-4",e),...t})}function n9e({className:e,...t}){return s.jsx("div",{"data-slot":"drawer-footer",className:jt("mt-auto flex flex-col gap-2 p-4",e),...t})}function Qve({className:e,...t}){return s.jsx(Mp.Title,{"data-slot":"drawer-title",className:jt("text-foreground font-semibold",e),...t})}function Xve({className:e,...t}){return s.jsx(Mp.Description,{"data-slot":"drawer-description",className:jt("text-muted-foreground text-sm",e),...t})}function Zve(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var t6="ScrollArea",[Iz,a9e]=eo(t6),[Jve,Vd]=Iz(t6),Lz=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=y.useState(null),[d,h]=y.useState(null),[m,p]=y.useState(null),[g,w]=y.useState(null),[b,v]=y.useState(null),[N,S]=y.useState(0),[A,E]=y.useState(0),[C,I]=y.useState(!1),[P,F]=y.useState(!1),k=_s(t,O=>c(O)),z=bv(a);return s.jsx(Jve,{scope:r,type:n,dir:z,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:h,content:m,onContentChange:p,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:I,scrollbarY:b,onScrollbarYChange:v,scrollbarYEnabled:P,onScrollbarYEnabledChange:F,onCornerWidthChange:S,onCornerHeightChange:E,children:s.jsx(Rr.div,{dir:z,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});Lz.displayName=t6;var Mz="ScrollAreaViewport",Fz=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Vd(Mz,r),l=y.useRef(null),c=_s(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Rr.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Fz.displayName=Mz;var Gh="ScrollAreaScrollbar",Bz=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Vd(Gh,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(e1e,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(t1e,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(Uz,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(r6,{...n,ref:t}):null});Bz.displayName=Gh;var e1e=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Vd(Gh,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Ri,{present:r||i,children:s.jsx(Uz,{"data-state":i?"visible":"hidden",...n,ref:t})})}),t1e=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Vd(Gh,e.__scopeScrollArea),i=e.orientation==="horizontal",o=FS(()=>c("SCROLL_END"),100),[l,c]=Zve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),y.useEffect(()=>{const d=a.viewport,h=i?"scrollLeft":"scrollTop";if(d){let m=d[h];const p=()=>{const g=d[h];m!==g&&(c("SCROLL"),o()),m=g};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[a.viewport,i,c,o]),s.jsx(Ri,{present:r||l!=="hidden",children:s.jsx(r6,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:wr(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:wr(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Uz=y.forwardRef((e,t)=>{const r=Vd(Gh,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",c=FS(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:h)}},10);return Gy(r.viewport,c),Gy(r.content,c),s.jsx(Ri,{present:n||i,children:s.jsx(r6,{"data-state":i?"visible":"hidden",...a,ref:t})})}),r6=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Vd(Gh,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Hz(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function m(p,g){return o1e(p,o.current,l,g)}return r==="horizontal"?s.jsx(r1e,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,g=MR(p,l,a.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=m(p,a.dir))}}):r==="vertical"?s.jsx(s1e,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,g=MR(p,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=m(p))}}):null}),r1e=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Vd(Gh,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),d=_s(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Vz,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":MS(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(i.viewport){const p=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(p),Gz(p,m)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:f5(o.paddingLeft),paddingEnd:f5(o.paddingRight)}})}})}),s1e=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Vd(Gh,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),d=_s(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Vz,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":MS(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(i.viewport){const p=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(p),Gz(p,m)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:f5(o.paddingTop),paddingEnd:f5(o.paddingBottom)}})}})}),[n1e,$z]=Iz(Gh),Vz=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:m,...p}=e,g=Vd(Gh,r),[w,b]=y.useState(null),v=_s(t,k=>b(k)),N=y.useRef(null),S=y.useRef(""),A=g.viewport,E=n.content-n.viewport,C=Di(h),I=Di(c),P=FS(m,10);function F(k){if(N.current){const z=k.clientX-N.current.left,O=k.clientY-N.current.top;d({x:z,y:O})}}return y.useEffect(()=>{const k=z=>{const O=z.target;(w==null?void 0:w.contains(O))&&C(z,E)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[A,w,E,C]),y.useEffect(I,[n,I]),Gy(w,P),Gy(g.content,P),s.jsx(n1e,{scope:r,scrollbar:w,hasThumb:a,onThumbChange:Di(i),onThumbPointerUp:Di(o),onThumbPositionChange:I,onThumbPointerDown:Di(l),children:s.jsx(Rr.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:wr(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),N.current=w.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),F(k))}),onPointerMove:wr(e.onPointerMove,F),onPointerUp:wr(e.onPointerUp,k=>{const z=k.target;z.hasPointerCapture(k.pointerId)&&z.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=S.current,g.viewport&&(g.viewport.style.scrollBehavior=""),N.current=null})})})}),h5="ScrollAreaThumb",qz=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$z(h5,e.__scopeScrollArea);return s.jsx(Ri,{present:r||a.hasThumb,children:s.jsx(a1e,{ref:t,...n})})}),a1e=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Vd(h5,r),o=$z(h5,r),{onThumbPositionChange:l}=o,c=_s(t,m=>o.onThumbChange(m)),d=y.useRef(void 0),h=FS(()=>{d.current&&(d.current(),d.current=void 0)},100);return y.useEffect(()=>{const m=i.viewport;if(m){const p=()=>{if(h(),!d.current){const g=l1e(m,l);d.current=g,l()}};return l(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[i.viewport,h,l]),s.jsx(Rr.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:wr(e.onPointerDownCapture,m=>{const g=m.target.getBoundingClientRect(),w=m.clientX-g.left,b=m.clientY-g.top;o.onThumbPointerDown({x:w,y:b})}),onPointerUp:wr(e.onPointerUp,o.onThumbPointerUp)})});qz.displayName=h5;var s6="ScrollAreaCorner",zz=y.forwardRef((e,t)=>{const r=Vd(s6,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(i1e,{...e,ref:t}):null});zz.displayName=s6;var i1e=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Vd(s6,r),[i,o]=y.useState(0),[l,c]=y.useState(0),d=!!(i&&l);return Gy(a.scrollbarX,()=>{var m;const h=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(h),c(h)}),Gy(a.scrollbarY,()=>{var m;const h=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(h),o(h)}),d?s.jsx(Rr.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function f5(e){return e?parseInt(e,10):0}function Hz(e,t){const r=e/t;return isNaN(r)?0:r}function MS(e){const t=Hz(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function o1e(e,t,r,n="ltr"){const a=MS(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,m=n==="ltr"?[0,h]:[h*-1,0];return Wz([c,d],m)(e)}function MR(e,t,r="ltr"){const n=MS(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=KC(e,c);return Wz([0,o],[0,l])(d)}function Wz(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Gz(e,t){return e>0&&e<t}var l1e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function FS(e,t){const r=Di(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Gy(e,t){const r=Di(t);Zi(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var c1e=Lz,d1e=Fz,u1e=zz;function h1e({className:e,children:t,...r}){return s.jsxs(c1e,{"data-slot":"scroll-area",className:jt("relative",e),...r,children:[s.jsx(d1e,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),s.jsx(f1e,{}),s.jsx(u1e,{})]})}function f1e({className:e,orientation:t="vertical",...r}){return s.jsx(Bz,{"data-slot":"scroll-area-scrollbar",orientation:t,className:jt("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:s.jsx(qz,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function m1e(e){const t=a=>typeof window<"u"?window.matchMedia(a).matches:!1,[r,n]=We.useState(t(e));return We.useEffect(()=>{const a=window.matchMedia(e),i=o=>n(o.matches);try{a.addEventListener("change",i)}catch{a.addListener(i)}return n(a.matches),()=>{try{a.removeEventListener("change",i)}catch{a.removeListener(i)}}},[e]),r}function p1e(e){switch(e){case"PENDING":return"bg-yellow-500";case"DELIVERED":return"bg-secondary";case"RECEIVED":return"bg-primary";default:return"bg-gray-500"}}function FR({order:e}){var a;console.log("[DEBUG] Full order object:",JSON.stringify(e,null,2)),console.log("[DEBUG] First item:",JSON.stringify(e.items[0],null,2));const t=y.useMemo(()=>{var o;const i=new Map;for(const l of e.items){const c=l.depotVariantName||((o=l.depotVariant)==null?void 0:o.name)||l.variantName||l.variant||"Unknown",d=typeof l.priceAtPurchase=="number"?l.priceAtPurchase:l.price??0,h=c,m=i.get(h)||{name:h,qty:0,amount:0};m.qty+=l.quantity??0,m.amount+=(l.quantity??0)*d,i.set(h,m)}return Array.from(i.values())},[e.items]),r=y.useMemo(()=>{var o,l;const i=new Map;for(const c of e.items){const d=c.depotName||((o=c.depot)==null?void 0:o.name)||c.agencyName||((l=c.agency)==null?void 0:l.name)||c.depotCityName||"-",h=typeof c.priceAtPurchase=="number"?c.priceAtPurchase:c.price??0,m=i.get(d)||{label:d,qty:0,amount:0};m.qty+=c.quantity??0,m.amount+=(c.quantity??0)*h,i.set(d,m)}return Array.from(i.values())},[e.items]),n=e.items.reduce((i,o)=>i+(o.quantity??0),0);return s.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"PO Number"}),s.jsx("div",{className:"text-lg font-semibold",children:e.poNumber})]}),s.jsx(Gr,{className:jt("text-white",p1e(e.status)),children:e.status})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs(St,{children:[s.jsx(zt,{className:"pb-2",children:s.jsxs(dr,{className:"text-sm flex items-center gap-2",children:[s.jsx(gp,{className:"h-4 w-4 text-secondary"})," Order"]})}),s.jsxs(_t,{className:"text-sm space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Vendor:"})," ",(a=e.vendor)==null?void 0:a.name]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Date:"})," ",Wt(new Date(e.orderDate),"dd/MM/yyyy")]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery Date:"})," ",Wt(new Date(e.deliveryDate),"dd/MM/yyyy")]}),e.contactPersonName&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Contact:"})," ",e.contactPersonName]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Items:"})," ",n]}),s.jsxs("div",{className:"font-medium",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"})," ",ws(e.totalAmount)]})]})]}),s.jsxs(St,{children:[s.jsx(zt,{className:"pb-2",children:s.jsx(dr,{className:"text-sm",children:"Variant-wise Amount"})}),s.jsx(_t,{children:s.jsxs("div",{className:"space-y-2",children:[t.map(i=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("div",{className:"truncate max-w-[60%]",children:i.name}),s.jsxs("div",{className:"text-muted-foreground",children:["x",i.qty]}),s.jsx("div",{className:"font-medium",children:ws(i.amount)})]},i.name)),t.length===0&&s.jsx("div",{className:"text-sm text-muted-foreground",children:"No items"})]})})]})]}),s.jsxs(St,{children:[s.jsx(zt,{className:"pb-2",children:s.jsx(dr,{className:"text-sm",children:"Vendor/Depot Breakdown"})}),s.jsx(_t,{children:s.jsxs("div",{className:"space-y-2",children:[r.map(i=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("div",{className:"truncate max-w-[60%]",children:i.label}),s.jsxs("div",{className:"text-muted-foreground",children:["x",i.qty]}),s.jsx("div",{className:"font-medium",children:ws(i.amount)})]},i.label)),r.length===0&&s.jsx("div",{className:"text-sm text-muted-foreground",children:"No items"})]})})]}),s.jsxs(St,{children:[s.jsx(zt,{className:"pb-2",children:s.jsxs(dr,{className:"text-sm flex items-center gap-2",children:[s.jsx(po,{className:"h-4 w-4"})," Items"]})}),s.jsx(_t,{children:s.jsxs("div",{className:"space-y-3",children:[e.items.map(i=>{var o,l,c,d;return s.jsxs("div",{className:"flex items-start justify-between gap-3 text-sm",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[i.productName," ",(i.depotVariantName||((o=i.depotVariant)==null?void 0:o.name))&&`(${i.depotVariantName||((l=i.depotVariant)==null?void 0:l.name)})`]}),s.jsx("div",{className:"text-muted-foreground truncate",children:i.depotName||((c=i.depot)==null?void 0:c.name)||i.agencyName||((d=i.agency)==null?void 0:d.name)||i.depotCityName||"-"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{children:["x",i.quantity]}),s.jsx("div",{className:"font-medium",children:ws((i.quantity??0)*(typeof i.priceAtPurchase=="number"?i.priceAtPurchase:i.price??0))})]})]},i.id)}),e.items.length===0&&s.jsx("div",{className:"text-sm text-muted-foreground",children:"No items"})]})})]})]})}function g1e({order:e,open:t,onOpenChange:r,onClose:n}){return m1e("(min-width: 768px)")?s.jsx(p$,{open:t,onOpenChange:r,children:s.jsxs(g$,{side:"right",className:"w-full sm:max-w-xl p-0",children:[s.jsxs(x$,{className:"px-4 pt-4",children:[s.jsx(y$,{children:"Order Details"}),s.jsx(v$,{children:"Comprehensive view of this vendor order."})]}),s.jsx(h1e,{className:"h-[calc(100vh-80px)]",children:s.jsx(FR,{order:e})})]})}):s.jsx(Hve,{open:t,onOpenChange:r,children:s.jsxs(Yve,{className:"p-0 h-[90vh] flex flex-col",children:[s.jsxs(Kve,{className:"px-4 pt-4",children:[s.jsx(Qve,{children:"Order Details"}),s.jsx(Xve,{children:"Everything about this order."})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx(FR,{order:e})}),s.jsx("div",{className:"p-4 border-t flex justify-end",children:s.jsx(Ee,{onClick:n,variant:"outline",children:"Close"})})]})})}const x1e=()=>{const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);return{role:(t==null?void 0:t.role)||null,id:(t==null?void 0:t.id)||null}}catch(t){return console.error("Failed to parse user from localStorage",t),{role:null,id:null}}return{role:null,id:null}},BR=()=>{const[e,t]=y.useState(1),[r,n]=y.useState(""),[a,i]=y.useState(""),[o,l]=y.useState(void 0),[c,d]=y.useState(""),h=y.useRef(null),m=10,[p,g]=y.useState(x1e()),[w,b]=y.useState(null),[v,N]=y.useState(!1),[S,A]=y.useState(null),[E,C]=y.useState(!1),[I,P]=y.useState(null),[F,k]=y.useState(!1),z=p==null?void 0:p.role,O=y.useCallback(H=>{n(H.target.value)},[]);y.useEffect(()=>{(async()=>{var W;if(!localStorage.getItem("authToken")){console.error("No auth token found for user");return}if(z==="AGENCY"){N(!0);try{const re=await $t("/users/me");console.log("agencyinfo",re),b(re!=null&&re.agencyId?String(re.agencyId):null)}catch(re){console.error("Failed to fetch agency info:",re),ve.error("Could not load agency details."),b(null)}N(!1)}else if(z==="SUPERVISOR"){C(!0);try{const re=await $t("/users/me");console.log("supervisorinfo",re),A((W=re==null?void 0:re.supervisor)!=null&&W.agencyId?String(re.supervisor.agencyId):null)}catch(re){console.error("Failed to fetch supervisor info:",re),ve.error("Could not load supervisor details."),A(null)}C(!1)}})()},[z]),y.useEffect(()=>{z==="AGENCY"&&c==="PENDING"&&d("")},[z,c]),y.useEffect(()=>(h.current&&window.clearTimeout(h.current),h.current=window.setTimeout(()=>{i(r)},500),()=>{h.current&&window.clearTimeout(h.current)}),[r]);const M=!!z&&(z!=="AGENCY"||z==="AGENCY"&&!v&&w!==void 0)&&(z!=="SUPERVISOR"||z==="SUPERVISOR"&&!E),{data:R,isLoading:B,isError:Y,refetch:U}=cs({queryKey:["orders",e,a,o,c,z,w,S],queryFn:async()=>{if(!z)return{data:[],totalPages:0};if(z==="AGENCY"&&!w)return{data:[],totalPages:0};if(z==="SUPERVISOR"&&!S)return{data:[],totalPages:0};let H="/vendor-orders";z==="VENDOR"?H="/vendor-orders/my":z==="AGENCY"?H="/vendor-orders/my-agency-orders":z==="SUPERVISOR"&&(H="/vendor-orders/my-supervisor-orders");let K=`${H}?page=${e}&limit=${m}`;return a&&(K+=`&search=${a}`),o&&(K+=`&date=${Wt(o,"yyyy-MM-dd")}`),c&&(K+=`&status=${c}`),z==="AGENCY"&&(K+="&excludeStatus=PENDING",w&&(K+=`&agencyId=${w}`)),await $t(K)},enabled:M}),Q=(R==null?void 0:R.data)||[],V=(R==null?void 0:R.totalPages)||1,Z=async H=>{try{await mi(`/vendor-orders/${H}`),ve.success("Order deleted successfully"),U()}catch{ve.error("Failed to delete order")}},J=H=>{switch(H){case"PENDING":return"bg-yellow-500";case"DELIVERED":return"bg-secondary";case"RECEIVED":return"bg-primary";default:return"bg-gray-500"}},ae=H=>{if(!H||H.length===0)return{ordered:0,delivered:0,received:0,supervisor:0};const K=H.reduce((ie,se)=>ie+(se.quantity||0),0),W=H.reduce((ie,se)=>ie+(se.deliveredQuantity||0),0),re=H.reduce((ie,se)=>ie+(se.receivedQuantity||0),0),te=H.reduce((ie,se)=>ie+(se.supervisorQuantity||0),0);return{ordered:K,delivered:W,received:re,supervisor:te}},D=()=>{n(""),i(""),l(void 0),d(""),t(1)};return z==="AGENCY"&&v?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Loading agency details..."})}):z==="SUPERVISOR"&&E?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Loading supervisor details..."})}):B&&M?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Loading orders..."})}):Y&&M?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("p",{children:"Error loading orders. Please try again later."})}):s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[s.jsxs(St,{className:"mb-6 shadow-lg dark:bg-gray-800",children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between pb-4 max-sm:flex-col",children:[s.jsx(dr,{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Order Management"}),z==="ADMIN"&&s.jsx(Rs,{to:"/admin/orders/create",children:s.jsxs(Ee,{className:"bg-blue-600 hover:bg-blue-700 text-white dark:bg-secondary dark:hover:bg-blue-600",children:[s.jsx(gp,{className:"mr-2 h-5 w-5"})," Create New Order"]})})]}),s.jsxs(_t,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 min-w-full ",children:[s.jsx(gt,{placeholder:"Search by PO, Vendor...",value:r,onChange:O,className:"dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 w-full"}),s.jsxs("select",{value:c,onChange:H=>d(H.target.value),className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",children:[s.jsx("option",{value:"",children:"All Status"}),z!=="AGENCY"&&s.jsx("option",{value:"PENDING",children:"Pending"}),s.jsx("option",{value:"DELIVERED",children:"Delivered"}),s.jsx("option",{value:"RECEIVED",children:"Received"})]}),s.jsxs(Ee,{onClick:D,variant:"outline",className:"dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600",children:[s.jsx(Qc,{className:"mr-2 h-4 w-4"})," Clear Filters"]})]}),Q.length===0?s.jsxs("div",{className:"text-center py-10",children:[s.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"No orders found."}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Try adjusting your filters or creating a new order."})]}):s.jsxs(qs,{className:"min-w-full bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:[s.jsx(zs,{className:"bg-gray-100 dark:bg-gray-700",children:s.jsxs(hr,{children:[s.jsx($e,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"PO Number"}),s.jsx($e,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Farmer"}),s.jsx($e,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Agency/Depot"}),s.jsx($e,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Order Date"}),s.jsx($e,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Delivery Date"}),z!=="AGENCY"&&z!=="SUPERVISOR"&&s.jsx($e,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Total Amount"}),z==="ADMIN"&&s.jsx($e,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Quantities (O/D/R/S)"}),s.jsx($e,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Status"}),s.jsx($e,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Actions"})]})}),s.jsx(Hs,{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Q.map(H=>{var te;const K=z==="AGENCY"&&!!w&&H.status==="RECEIVED"&&!((te=H.recordedByAgencies)!=null&&te.includes(w)),W=z==="AGENCY"&&!!w&&(H.status==="DELIVERED"||K),re=ae(H.items);return s.jsxs(hr,{className:"hover:bg-gray-50 dark:hover:bg-gray-750 cursor-pointer",onClick:()=>{P(H),k(!0)},children:[s.jsx(Oe,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:H.poNumber}),s.jsx(Oe,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:H.vendor.name}),s.jsx(Oe,{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:(()=>{var De,Ze;const ie=((De=H.items)==null?void 0:De.map(ke=>ke.agency).filter(Boolean))||[],se=((Ze=H.items)==null?void 0:Ze.map(ke=>ke.depot).filter(Boolean))||[],le=ie.filter((ke,ce,Me)=>ke&&Me.findIndex(be=>(be==null?void 0:be.id)===ke.id)===ce),Ce=se.filter((ke,ce,Me)=>ke&&Me.findIndex(be=>(be==null?void 0:be.id)===ke.id)===ce);return s.jsxs("div",{className:"space-y-1",children:[le.map(ke=>ke&&s.jsxs("div",{className:"text-xs",children:[s.jsx("div",{className:"font-medium text-blue-600",children:ke.name}),ke.user&&s.jsxs("div",{className:"text-gray-400",children:[ke.user.name,"  ",ke.user.mobile]})]},`agency-${ke.id}`)),Ce.map(ke=>ke&&s.jsxs("div",{className:"text-xs",children:[s.jsx("div",{className:"font-medium text-green-600",children:ke.name}),ke.address&&s.jsx("div",{className:"text-gray-400 truncate max-w-xs",children:ke.address})]},`depot-${ke.id}`)),le.length===0&&Ce.length===0&&s.jsx("span",{className:"text-gray-400",children:"N/A"})]})})()}),s.jsx(Oe,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Wt(new Date(H.orderDate),"dd/MM/yyyy")}),s.jsx(Oe,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Wt(new Date(H.deliveryDate),"dd/MM/yyyy")}),z!=="AGENCY"&&z!=="SUPERVISOR"&&s.jsx(Oe,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:ws(H.totalAmount)}),z==="ADMIN"&&s.jsx(Oe,{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("div",{className:"flex flex-col space-y-1",children:(()=>{const ie=H.items.map(le=>le.depotVariantName).filter((le,Ce,De)=>le&&De.indexOf(le)===Ce),se=ie.length>0?` (${ie.join(", ")})`:"";return console.log(H.items),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ordered:"})," ",re.ordered,se]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Delivered:"})," ",s.jsx("span",{className:re.delivered<re.ordered?"text-red-500 font-medium":"text-gray-500 dark:text-gray-300",children:re.delivered})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Received:"})," ",s.jsx("span",{className:re.received<re.delivered?"text-red-500 font-medium":"text-gray-500 dark:text-gray-300",children:re.received})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Supervisor:"})," ",s.jsx("span",{className:re.supervisor<re.received?"text-red-500 font-medium":"text-gray-500 dark:text-gray-300",children:re.supervisor})]})]})})()})}),s.jsxs(Oe,{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx(Gr,{className:`${J(H.status)} text-white px-2 py-1 rounded-full text-xs`,children:H.status}),K&&s.jsx(Yb,{children:s.jsxs(Wx,{children:[s.jsx(Gx,{asChild:!0,children:s.jsx(Tu,{className:"ml-2 h-4 w-4 text-red-500 inline-block"})}),s.jsx(Yx,{className:"bg-black text-white p-2 rounded",children:s.jsx("p",{children:"You need to record your quantities for this order."})})]})})]}),s.jsx(Oe,{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:ie=>ie.stopPropagation(),children:s.jsxs(bg,{modal:!1,children:[s.jsx(wg,{asChild:!0,children:s.jsx(Ee,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(uv,{className:"h-4 w-4"})})}),s.jsxs(Ng,{align:"end",className:"dark:bg-gray-800 dark:text-gray-200",children:[z==="ADMIN"&&s.jsxs(s.Fragment,{children:[s.jsx(Ka,{asChild:!0,children:s.jsxs(Rs,{to:`/admin/orders/${H.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(kf,{className:"mr-2 h-4 w-4"})," View Details"]})}),H.status==="PENDING"&&s.jsxs(Ka,{onClick:()=>Z(H.id),className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/50 cursor-pointer",children:[s.jsx(Sa,{className:"mr-2 h-4 w-4"})," Delete"]})]}),z==="VENDOR"&&s.jsxs(s.Fragment,{children:[(H.status==="PENDING"||H.status==="DELIVERED")&&!H.recordedDelivery&&s.jsx(Ka,{asChild:!0,children:s.jsxs(Rs,{to:`/vendor/orders/${H.id}/record-delivery`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(F0,{className:"mr-2 h-4 w-4"})," Record Delivery"]})}),s.jsx(Ka,{asChild:!0,children:s.jsxs(Rs,{to:`/vendor/orders/${H.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(kf,{className:"mr-2 h-4 w-4"})," View Details"]})})]}),z==="AGENCY"&&s.jsxs(s.Fragment,{children:[s.jsx(Ka,{asChild:!0,children:s.jsxs(Rs,{to:`/admin/orders/${H.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(kf,{className:"mr-2 h-4 w-4"})," View Details"]})}),W&&!H.recordedReceipt&&s.jsx(Ka,{asChild:!0,children:s.jsxs(Rs,{to:`/admin/orders/${H.id}/record-receipt`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(F0,{className:"mr-2 h-4 w-4"}),K?"Record Your Quantities":"Record Receipt"]})})]}),z==="SUPERVISOR"&&s.jsxs(s.Fragment,{children:[s.jsx(Ka,{asChild:!0,children:s.jsxs(Rs,{to:`/admin/orders/${H.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(kf,{className:"mr-2 h-4 w-4"})," View Details"]})}),(H.status==="DELIVERED"||H.status==="RECEIVED")&&!H.recordedSupervisor&&s.jsx(Ka,{asChild:!0,children:s.jsxs(Rs,{to:`/admin/orders/${H.id}/supervisor-quantity`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[s.jsx(F0,{className:"mr-2 h-4 w-4"})," Record Supervisor Quantity"]})}),H.recordedSupervisor&&s.jsxs(Ka,{disabled:!0,className:"flex items-center w-full px-3 py-2 text-sm text-gray-500",children:[s.jsx(cv,{className:"mr-2 h-4 w-4"})," Supervisor Quantity Recorded"]})]}),z!=="ADMIN"&&z!=="VENDOR"&&z!=="AGENCY"&&z!=="SUPERVISOR"&&s.jsx(Ka,{disabled:!0,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-200",children:"No actions available for your role."})]})]})})]},H.id)})})]}),I&&s.jsx(g1e,{order:I,open:F,onOpenChange:H=>k(H),onClose:()=>{k(!1),P(null)}})]})]}),!B&&!Y&&Q.length>0&&s.jsx("div",{className:"flex justify-center mt-6",children:s.jsxs(Sg,{children:[s.jsx(Eg,{onClick:()=>e>1&&t(e-1),className:jt("cursor-pointer",e<=1&&"pointer-events-none opacity-50")}),s.jsx(Ag,{children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",e," of ",V]})})}),s.jsx(Cg,{onClick:()=>e<V&&t(e+1),className:jt("cursor-pointer",e>=V&&"pointer-events-none opacity-50")})]})})]})},y1e=In({poNumber:Ft().optional(),orderDate:Uf(),deliveryDate:Uf(),contactPersonName:Ft().min(1,"Contact person name is required"),vendorId:Ft().min(1,"Farmer is required"),notes:Ft().optional(),orderItems:fg(In({depotId:Ft().min(1,"Depot is required"),agencyId:Ft().min(1,"Agency is required"),productId:Ft().min(1,"Product is required"),depotVariantId:Ft().min(1,"Depot variant is required"),quantity:dc().min(1,"Quantity must be at least 1"),variantUnit:Ft().optional()})).min(1,"At least one product item is required")});function TE(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function UR(e){return e?!isNaN(e.getTime()):!1}function $R({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=y.useState(!1),[l,c]=y.useState(e),[d,h]=y.useState(TE(e));return y.useEffect(()=>{h(TE(e)),UR(e)&&c(e)},[e]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Be,{htmlFor:n,className:"px-1",children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(gt,{id:n,value:d,placeholder:"01/06/2025",className:"bg-background pr-10",onChange:m=>{const p=m.target.value;h(p);const g=new Date(p);UR(g)?(t(g),c(g)):t(void 0)},onKeyDown:m=>{m.key==="ArrowDown"&&(m.preventDefault(),o(!0))}}),s.jsxs(Wc,{open:i,onOpenChange:o,children:[s.jsx(Gc,{asChild:!0,children:s.jsxs(Ee,{variant:"ghost",className:"absolute top-1/2 right-2 size-6 -translate-y-1/2",children:[s.jsx(Ma,{className:"size-3.5"}),s.jsx("span",{className:"sr-only",children:"Select date"})]})}),s.jsx(Yc,{className:"w-auto overflow-hidden p-0",align:"end",alignOffset:-8,sideOffset:10,children:s.jsx(Bu,{mode:"single",selected:e,captionLayout:"dropdown",month:l,onMonthChange:c,onSelect:m=>{t(m),h(TE(m)),o(!1)},fromDate:a,initialFocus:!0})})]})]})]})}const Yz=({mode:e,orderId:t,initialData:r,onSuccess:n})=>{const a=Ja(),[i,o]=y.useState([]),[l,c]=y.useState([]),[d,h]=y.useState([]),[m,p]=y.useState([]),[g,w]=y.useState([]),[b,v]=y.useState(null),[N,S]=y.useState(0),[A,E]=y.useState(!1),[C,I]=y.useState(!0),[P,F]=y.useState({}),k=Ls(),z=()=>{I(!C)},O=ce=>{F(Me=>({...Me,[ce]:!Me[ce]}))},{register:M,control:R,handleSubmit:B,setValue:Y,watch:U,formState:{errors:Q,isSubmitting:V}}=Ea({resolver:Ca(y1e),defaultValues:{poNumber:e==="create"?"":(r==null?void 0:r.poNumber)||"",orderDate:e==="edit"&&(r!=null&&r.orderDate)?new Date(r.orderDate):new Date,deliveryDate:e==="edit"&&(r!=null&&r.deliveryDate)?new Date(r.deliveryDate):Gi(new Date,1),receivedById:e==="edit"&&(r!=null&&r.receivedById)?r.receivedById:"",contactPersonName:e==="edit"&&(r!=null&&r.contactPersonName)?r.contactPersonName:"",vendorId:e==="edit"&&(r!=null&&r.vendorId)?r.vendorId:"",notes:e==="edit"&&(r!=null&&r.notes)?r.notes:"",orderItems:e==="edit"&&(r!=null&&r.orderItems)&&r.orderItems.length>0?r.orderItems.map(ce=>({productId:String((ce==null?void 0:ce.productId)||""),quantity:Number((ce==null?void 0:ce.quantity)||1),agencyId:String((ce==null?void 0:ce.agencyId)||""),depotId:String((ce==null?void 0:ce.depotId)||""),depotVariantId:String((ce==null?void 0:ce.depotVariantId)||"")})):[{productId:"",quantity:1,agencyId:"",depotId:"",depotVariantId:""}]},mode:"onChange"}),Z=U("orderItems"),J=JSON.stringify(Z),ae=U("deliveryDate"),D=We.useMemo(()=>{console.log("[OrderForm] Recalculating groupedProductSummary. Watched items (stringified for dep):",J,"Product count:",l.length);const ce={};return!Z||Z.length===0||!l||l.length===0||(Z.forEach(Me=>{if(!Me||!Me.productId||Me.quantity===void 0||Me.quantity===null||Number(Me.quantity)<=0)return;const be=l.find(Pe=>String(Pe.id)===Me.productId),ge=g.find(Pe=>String(Pe.id)===Me.depotVariantId),Ye=d.find(Pe=>String(Pe.id)===Me.agencyId),ze=m.find(Pe=>String(Pe.id)===Me.depotId);if(be&&ge){const Pe=Number(ge.purchasePrice)||Number(ge.mrp)||Number(ge.buyOncePrice)||0,me=Number(Me.quantity);ce[Me.productId]||(ce[Me.productId]={name:be.name,totalQuantity:0,totalPrice:0,variants:{}}),ce[Me.productId].totalQuantity+=me,ce[Me.productId].totalPrice=(ce[Me.productId].totalPrice||0)+Pe*me,ge&&Me.depotVariantId&&(ce[Me.productId].variants[Me.depotVariantId]||(ce[Me.productId].variants[Me.depotVariantId]={name:ge.name,quantity:0,agencies:[],depots:[],unit:ge.unit,price:Pe}),ce[Me.productId].variants[Me.depotVariantId].quantity+=me,Ye&&!ce[Me.productId].variants[Me.depotVariantId].agencies.includes(Ye.name)&&ce[Me.productId].variants[Me.depotVariantId].agencies.push(Ye.name),ze&&!ce[Me.productId].variants[Me.depotVariantId].depots.includes(ze.name)&&ce[Me.productId].variants[Me.depotVariantId].depots.push(ze.name))}}),console.log("[OrderForm] Enhanced groupedProductSummary result:",JSON.parse(JSON.stringify(ce)))),ce},[J,l,g,d,m]),H=()=>{const ce={};Object.keys(D).forEach(Me=>{ce[Me]=!0}),F(ce)},K=()=>{const ce={};Object.keys(D).forEach(Me=>{ce[Me]=!1}),F(ce)},W=Object.keys(D).length>0&&Object.keys(D).every(ce=>P[ce]!==!1),re=Object.keys(D).length>0&&Object.keys(D).every(ce=>P[ce]===!1),{fields:te,append:ie,remove:se}=K2({control:R,name:"orderItems"});y.useEffect(()=>{console.log("[OrderForm] Fields updated:",te),console.log("[OrderForm] Fields length:",te.length)},[te]),y.useEffect(()=>{(async()=>{try{const Me=await $t("/vendors?limit=1000&dairyOnly=true");Me&&Array.isArray(Me)?o(Me.map(be=>({...be,id:String(be.id)}))):Me&&Me.data&&Array.isArray(Me.data)?o(Me.data.map(be=>({...be,id:String(be.id)}))):(o([]),ve.error("Failed to fetch farmer or data is not in expected format."))}catch{ve.error("Failed to fetch farmer"),o([])}})()},[]),y.useEffect(()=>{(async()=>{try{const Me=await $t("/products");let be=[];if(Me&&Array.isArray(Me)?be=Me:Me&&Me.data&&Array.isArray(Me.data)?be=Me.data:(console.error("Unexpected product API response structure:",Me),ve.error("Products data is not in the expected array format.")),c(be),e==="edit"&&(r!=null&&r.orderItems)&&Array.isArray(r.orderItems)&&r.orderItems.length>0&&be.length>0&&d.length>0){console.log("Attempting to set order items. initialData.orderItems:",r.orderItems);const ge=r.orderItems.map(ze=>({...ze,productId:String((ze==null?void 0:ze.productId)||""),quantity:Number((ze==null?void 0:ze.quantity)||1),agencyId:String((ze==null?void 0:ze.agencyId)||""),depotId:String((ze==null?void 0:ze.depotId)||""),depotVariantId:String((ze==null?void 0:ze.depotVariantId)||"")}));ge.every(ze=>be.some(Pe=>String(Pe.id)===ze.productId))||console.warn("Some products in initialData.orderItems do not exist in the fetched products list. Items might not display correctly or be selectable."),Y("orderItems",ge),console.log("Order items set in form with:",ge)}}catch(Me){console.error("Error fetching products or setting items:",Me),c([]),ve.error("Failed to fetch products")}})()},[e,r,Y,d]),y.useEffect(()=>{(async()=>{try{const Me=await $t("/agencies");let be=[];Me&&Array.isArray(Me.data)?be=Me.data.map(ge=>({...ge,id:String(ge.id)})):Me&&Array.isArray(Me)&&(be=Me.map(ge=>({...ge,id:String(ge.id)}))),h(be),be.length>0||(h([]),console.warn("Fetched agencies data is not an array or is missing:",Me),ve.error("Could not load agencies."))}catch(Me){console.error("Error fetching agencies:",Me),ve.error("Failed to fetch agencies."),h([])}})()},[]),y.useEffect(()=>{(async()=>{try{const Me=await $t("/depots");let be=[];Me&&Array.isArray(Me.data)?be=Me.data.map(ge=>({...ge,id:String(ge.id)})):Me&&Array.isArray(Me)&&(be=Me.map(ge=>({...ge,id:String(ge.id)}))),p(be),be.length>0||(p([]),console.warn("Fetched depots data is not an array or is missing:",Me),ve.error("Could not load depots."))}catch(Me){console.error("Error fetching depots:",Me),ve.error("Failed to fetch depots."),p([])}})()},[]),y.useEffect(()=>{(async()=>{try{const Me=await $t("/depot-product-variants");let be=[];Me&&Array.isArray(Me.data)?be=Me.data.filter(ge=>!ge.isHidden).map(ge=>({...ge,id:String(ge.id)})):Me&&Array.isArray(Me)&&(be=Me.filter(ge=>!ge.isHidden).map(ge=>({...ge,id:String(ge.id)}))),w(be),be.length>0||(w([]),console.warn("Fetched depot variants data is not an array or is missing:",Me),ve.error("Could not load depot variants."))}catch(Me){console.error("Error fetching depot variants:",Me),ve.error("Failed to fetch depot variants."),w([])}})()},[]),y.useEffect(()=>{e==="create"&&ae&&(async()=>{E(!0);try{const Me=Wt(ae,"yyyy-MM-dd");console.log("[OrderForm] Fetching prefill data for date:",Me);const be=await $t(`/vendor-orders/get-order-details?date=${Me}`);console.log("[OrderForm] Raw API response:",be);const ge=be;if(console.log("[OrderForm] Response data:",ge),console.log("[OrderForm] Type of responseData:",typeof ge),console.log("[OrderForm] responseData.data exists:",!!ge.data),console.log("[OrderForm] responseData.data is Array:",Array.isArray(ge.data)),console.log("[OrderForm] responseData.data length:",ge.data?ge.data.length:"N/A"),ge&&ge.data&&Array.isArray(ge.data)&&ge.data.length>0){console.log("[OrderForm] Number of depot-variant groups from API:",ge.data.length),console.log("[OrderForm] Summary:",ge.summary);const Ye=[];ge.data.forEach(ze=>{if(console.log("[OrderForm] Processing group:",ze),ze.depot&&ze.variant&&ze.product)if(ze.agencies&&ze.agencies.ids.length>1){const Pe={};ze.members&&Array.isArray(ze.members)&&ze.members.forEach(we=>{if(we.agencyId){const qe=String(we.agencyId);Pe[qe]=(Pe[qe]||0)+(we.quantity||1)}});const me=Object.keys(Pe).length>0;ze.agencies.ids.forEach((we,qe)=>{const xt=String(we);let pt=0;me&&Pe[xt]?pt=Pe[xt]:pt=Math.ceil(ze.statistics.totalQuantity/ze.agencies.ids.length);const ct={depotId:String(ze.depot.id||""),agencyId:xt,productId:String(ze.product.id||""),depotVariantId:String(ze.variant.id||""),quantity:pt};console.log(`[OrderForm] Mapped item for agency ${ze.agencies.names[qe]} (${xt}):`,ct),console.log(me?`[OrderForm] Using member-based quantity: ${pt} for agency ${xt}`:`[OrderForm] Using evenly distributed quantity: ${pt} for agency ${xt}`),ct.depotId&&ct.agencyId&&ct.productId&&ct.depotVariantId&&ct.quantity>0&&Ye.push(ct)})}else{const Pe=ze.agencies&&ze.agencies.ids.length>0?String(ze.agencies.ids[0]):"",me={depotId:String(ze.depot.id||""),agencyId:Pe,productId:String(ze.product.id||""),depotVariantId:String(ze.variant.id||""),quantity:Number(ze.statistics.totalQuantity||0)};console.log("[OrderForm] Mapped item:",me),me.depotId||console.warn("[OrderForm] Item missing depotId"),me.agencyId||console.warn("[OrderForm] Item missing agencyId - user will need to select"),me.productId||console.warn("[OrderForm] Item missing productId"),me.depotVariantId||console.warn("[OrderForm] Item missing depotVariantId"),me.quantity<=0&&console.warn("[OrderForm] Item has invalid quantity:",me.quantity),me.depotId&&me.productId&&me.depotVariantId&&me.quantity>0&&Ye.push(me)}}),console.log("[OrderForm] Final mapped order items:",Ye),console.log("[OrderForm] Setting form with",Ye.length,"items"),Ye.length>0?(Y("orderItems",Ye,{shouldValidate:!0}),ve.success(`${Ye.length} order items prefilled for ${Wt(ae,"dd/MM/yyyy")}. Total quantity: ${ge.summary.totalQuantity} units across ${ge.summary.totalDepots} depots.`)):(console.warn("[OrderForm] No valid items could be mapped from the response"),Y("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0}),ve.warning(`Data found but could not map items for ${Wt(ae,"dd/MM/yyyy")}.`))}else console.log("[OrderForm] No data found or data format incorrect"),console.log("[OrderForm] responseData:",ge),console.log("[OrderForm] Condition failed:",{hasResponseData:!!ge,hasDataProperty:!!(ge&&ge.data),isDataArray:Array.isArray(ge&&ge.data),dataLength:ge&&ge.data?ge.data.length:0}),Y("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0}),ve.info(`No scheduled order items found for ${Wt(ae,"dd/MM/yyyy")}.`)}catch(Me){console.error("[OrderForm] Error fetching prefill data:",Me),ve.error(Me.message||"Failed to fetch prefill order items."),Y("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0})}finally{E(!1)}})()},[ae,e,Y,l,d]),y.useEffect(()=>{e==="edit"&&r&&(console.log("Populating basic form fields with initialData:",r),r.poNumber&&Y("poNumber",r.poNumber),r.orderDate&&Y("orderDate",new Date(r.orderDate)),r.deliveryDate&&Y("deliveryDate",new Date(r.deliveryDate)),r.contactPersonName&&Y("contactPersonName",r.contactPersonName),r.notes&&Y("notes",r.notes))},[e,r,Y]),y.useEffect(()=>{if(e==="edit"&&(r!=null&&r.vendorId)&&i.length>0){const ce=String(r.vendorId);Y("vendorId",ce);const Me=i.find(be=>be.id===ce);Me?(v(Me),console.log("Farmer set in form:",r.vendorId,Me)):(console.warn(`Farmer with ID ${r.vendorId} not found in fetched farmer list. Cannot preselect.`),v(null))}},[e,r==null?void 0:r.vendorId,i,Y]);const le=U("vendorId");y.useEffect(()=>{if(le){const ce=i.find(Me=>Me.id===le);v(ce||null),ce!=null&&ce.contactPersonName&&Y("contactPersonName",ce.contactPersonName)}else v(null)},[le,i,Y]);const Ce=Ks({mutationFn:async ce=>e==="edit"&&t?Aa(`/vendor-orders/${t}`,ce):en("/vendor-orders",ce),onSuccess:()=>{ve.success("Order created successfully"),a.invalidateQueries({queryKey:["orders"]}),k("/admin/orders"),n&&n()},onError:ce=>{ve.error(ce.message||"Failed to create order")}}),De=ce=>{console.log("[OrderForm] Form submitted with data:",ce),console.log("[OrderForm] Form validation errors:",Q);const Me={...ce,orderItems:ce.orderItems.map((be,ge)=>{const Ye=Z[ge];return{productId:be.productId,quantity:be.quantity,agencyId:be.agencyId,depotId:(Ye==null?void 0:Ye.depotId)||be.depotId||"",depotVariantId:(Ye==null?void 0:Ye.depotVariantId)||be.depotVariantId||""}}),totalAmount:N||0};console.log("[OrderForm] Submitting complete order data:",Me),Ce.mutate(Me)},Ze=ce=>{console.log("[OrderForm] Form validation failed:",ce);const Me=[];if(ce.vendorId&&Me.push(`Farmer: ${ce.vendorId.message}`),ce.contactPersonName&&Me.push(`Contact Person: ${ce.contactPersonName.message}`),ce.orderDate&&Me.push(`Order Date: ${ce.orderDate.message}`),ce.deliveryDate&&Me.push(`Delivery Date: ${ce.deliveryDate.message}`),ce.orderItems&&(ce.orderItems.message?Me.push(`Order Items: ${ce.orderItems.message}`):Array.isArray(ce.orderItems)&&ce.orderItems.forEach((be,ge)=>{be&&(be.depotId&&Me.push(`Item ${ge+1} - Depot: ${be.depotId.message}`),be.agencyId&&Me.push(`Item ${ge+1} - Agency: ${be.agencyId.message}`),be.productId&&Me.push(`Item ${ge+1} - Product: ${be.productId.message}`),be.depotVariantId&&Me.push(`Item ${ge+1} - Depot Variant: ${be.depotVariantId.message}`),be.quantity&&Me.push(`Item ${ge+1} - Quantity: ${be.quantity.message}`))})),Me.length>0){const be=Me.slice(0,3).join("; "),ge=Me.length>3?` and ${Me.length-3} more`:"";ve.error(`Validation errors: ${be}${ge}`)}else ve.error("Please fix the form errors before submitting")};y.useEffect(()=>{console.log("[OrderForm] Recalculating orderTotal. groupedProductSummary:",JSON.parse(JSON.stringify(D)),"Product count:",l.length,"Watched items (stringified for dep):",J);const ce=Object.values(D).reduce((Me,be)=>Me+(be.totalPrice||0),0);console.log("[OrderForm] calculatedTotalPrice:",ce),S(ce)},[D,l,J]);const ke=()=>s.jsxs(We.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx(gp,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),s.jsxs("div",{className:"grid gap-4",children:[e!=="create"&&s.jsxs("div",{className:"relative",children:[s.jsx(Be,{htmlFor:"poNumber",className:"text-gray-700 dark:text-gray-300 font-medium",children:"PO Number"}),s.jsx(gt,{id:"poNumber",className:"bg-white/80 dark:bg-gray-900/80 border-gray-300 dark:border-gray-700",...M("poNumber"),disabled:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4  max-md:grid-cols-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Fs,{control:R,name:"orderDate",render:({field:ce})=>s.jsx($R,{id:"orderDate",label:"Order Date",value:ce.value,onChange:ce.onChange,fromDate:new Date})}),Q.orderDate&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:Q.orderDate.message})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Fs,{control:R,name:"deliveryDate",render:({field:ce})=>s.jsx($R,{id:"deliveryDate",label:"Delivery Date",value:ce.value,onChange:ce.onChange,fromDate:U("orderDate")||new Date})}),Q.deliveryDate&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:Q.deliveryDate.message}),e==="create"&&s.jsx(s.Fragment,{children:A&&s.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",children:[s.jsx(Ws,{className:"animate-spin h-4 w-4 mr-2"}),"Checking for scheduled items..."]})})]})]}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Be,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Notes / Special Instructions"}),s.jsx(Sp,{id:"notes",...M("notes"),rows:3,className:"bg-white/80 dark:bg-gray-900/80 border-gray-300 dark:border-gray-700"}),Q.notes&&s.jsx("span",{className:"text-red-500 text-xs mt-1",children:Q.notes.message})]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ap,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Farmer Information"})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Be,{htmlFor:"vendorId",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Select Farmer"}),s.jsx(Fs,{control:R,name:"vendorId",render:({field:ce})=>s.jsxs(pr,{onValueChange:ce.onChange,value:ce.value||"",defaultValue:ce.value||"",children:[s.jsx(xr,{className:"bg-white dark:bg-gray-700 w-full",children:s.jsx(gr,{placeholder:"Select a Farmer"})}),s.jsx(yr,{children:i.map(Me=>s.jsx(wt,{value:Me.id,children:Me.name},Me.id))})]})}),Q.vendorId&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:Q.vendorId.message})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Be,{htmlFor:"contactPersonName",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Contact Person"}),s.jsx(gt,{id:"contactPersonName",disabled:!0,className:"bg-white/80 dark:bg-gray-900/80 border-emerald-200 dark:border-emerald-800",...M("contactPersonName")}),Q.contactPersonName&&s.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:Q.contactPersonName.message})]})]}),b&&s.jsxs("div",{className:"mt-4 p-3 bg-white/90 dark:bg-gray-900/90 rounded-md border border-emerald-200 dark:border-emerald-800",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Farmer Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm max-md:grid-cols-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Email:"}),s.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300 max-sm:text-xs",children:b.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Phone:"}),s.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:b.mobile})]})]})]})]})]}),s.jsxs(St,{className:"shadow-lg mt-6",children:[s.jsxs(zt,{className:"bg-gray-50 dark:bg-gray-900",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(po,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),s.jsx(dr,{className:"text-gray-700 dark:text-gray-300 ",children:"Products & Agencies"})]}),s.jsxs(Ee,{type:"button",size:"sm",variant:"outline",onClick:()=>ie({productId:"",quantity:1,agencyId:"",depotId:"",depotVariantId:""}),className:"border-gray-300 mt-4 mb-4 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:[s.jsx(li,{className:"h-4 w-4 mr-1"}),"Add Product Item"]})]}),s.jsx(On,{className:"text-gray-600 dark:text-gray-400",children:"Add products to your order, specify quantities, and assign an agency to each item."})]}),s.jsxs(_t,{className:"p-6 space-y-6",children:[te.length===0&&s.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[s.jsx(lC,{className:"h-12 w-12 mx-auto mb-2 text-gray-400 dark:text-gray-500"}),'No products added yet. Click "Add Product Item" to begin.']}),te.length>0&&s.jsxs("div",{className:"overflow-x-auto",children:[s.jsx("div",{className:"hidden md:block",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Depot"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Agency"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Product"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Depot Variant"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"QTY"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:te.map((ce,Me)=>{var Ye;console.log(`[OrderForm] Rendering field ${Me}:`,ce,"Watched item:",Z[Me]);const be=g.find(ze=>{var Pe;return String(ze.id)===((Pe=Z[Me])==null?void 0:Pe.depotVariantId)});return(be&&(Number(be.purchasePrice)||Number(be.mrp)||Number(be.buyOncePrice))||0)*(((Ye=Z[Me])==null?void 0:Ye.quantity)||0),s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx(Fs,{control:R,name:`orderItems.${Me}.depotId`,render:({field:ze})=>{var Pe,me;return s.jsxs(pr,{onValueChange:ze.onChange,value:ze.value||"",children:[s.jsx(xr,{className:jt("h-9 text-sm bg-white dark:bg-gray-700 min-w-full",((me=(Pe=Q.orderItems)==null?void 0:Pe[Me])==null?void 0:me.depotId)&&"border-red-500"),children:s.jsx(gr,{placeholder:"Select Depot"})}),s.jsx(yr,{children:m.map(we=>s.jsx(wt,{value:we.id,children:we.name},we.id))})]})}})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx(Fs,{control:R,name:`orderItems.${Me}.agencyId`,render:({field:ze})=>{var xt,pt;const Pe=Z[Me],me=Pe!=null&&Pe.depotId?d.filter(ct=>{var ft;return String(ct.depotId)===String(Pe.depotId)||String((ft=ct.depot)==null?void 0:ft.id)===String(Pe.depotId)}):d,qe=!ze.value||me.some(ct=>ct.id===ze.value)?ze.value:"";return s.jsxs(pr,{onValueChange:ze.onChange,value:qe||"",children:[s.jsx(xr,{className:jt("h-9 text-sm bg-white dark:bg-gray-700 min-w-full",((pt=(xt=Q.orderItems)==null?void 0:xt[Me])==null?void 0:pt.agencyId)&&"border-red-500"),children:s.jsx(gr,{placeholder:me.length===0?"No agencies for this depot":"Select Agency"})}),s.jsx(yr,{children:me.length===0?s.jsx("div",{className:"px-2 py-1.5 text-sm text-gray-500 dark:text-gray-400",children:"No agencies available for selected depot"}):me.map(ct=>s.jsx(wt,{value:ct.id,children:ct.name},ct.id))})]})}})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx(Fs,{control:R,name:`orderItems.${Me}.productId`,render:({field:ze})=>s.jsxs(pr,{onValueChange:ze.onChange,value:ze.value||"",children:[s.jsx(xr,{className:"h-9 text-sm bg-white dark:bg-gray-700/50 border-gray-300 dark:border-gray-600 w-full",children:s.jsx(gr,{placeholder:"Select Product"})}),s.jsx(yr,{children:l.map(Pe=>s.jsx(wt,{value:String(Pe.id),children:Pe.name},Pe.id))})]})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:s.jsx(Fs,{control:R,name:`orderItems.${Me}.depotVariantId`,render:({field:ze})=>{const Pe=Z[Me],me=g.filter(we=>{const qe=!(Pe!=null&&Pe.depotId)||String(we.depotId)===Pe.depotId,xt=!(Pe!=null&&Pe.productId)||String(we.productId)===Pe.productId,pt=!(we!=null&&we.isHidden);return qe&&xt&&pt});return s.jsxs(pr,{onValueChange:ze.onChange,value:ze.value||"",children:[s.jsx(xr,{className:"h-9 text-sm bg-white dark:bg-gray-700 min-w-full",children:s.jsx(gr,{placeholder:"Select Depot Variant"})}),s.jsx(yr,{children:me.map(we=>s.jsxs(wt,{value:we.id,children:[we.name," ",we.purchasePrice?`(${we.purchasePrice})`:we.mrp?`(${we.mrp})`:""]},we.id))})]})}})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[100px]",children:s.jsx(Fs,{control:R,name:`orderItems.${Me}.quantity`,render:({field:ze})=>s.jsx(gt,{id:`orderItems.${Me}.quantity`,type:"number",min:"1",value:ze.value||1,onChange:Pe=>{const me=parseInt(Pe.target.value,10);ze.onChange(isNaN(me)||me<1?1:me)},className:"h-9 text-sm bg-white dark:bg-gray-700/50 border-gray-300 dark:border-gray-600 w-full"})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:s.jsx(Ee,{type:"button",size:"icon",variant:"ghost",onClick:()=>se(Me),className:"h-8 w-8 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800/50",disabled:te.length===1,children:s.jsx(Sa,{className:"h-4 w-4"})})})]},ce.id)})})]})}),s.jsx("div",{className:"md:hidden space-y-4",children:te.map((ce,Me)=>{var ze;console.log(`[OrderForm] Rendering mobile field ${Me}:`,ce,"Watched item:",Z[Me]);const be=g.find(Pe=>{var me;return String(Pe.id)===((me=Z[Me])==null?void 0:me.depotVariantId)}),ge=be&&(Number(be.purchasePrice)||Number(be.mrp)||Number(be.buyOncePrice))||0,Ye=ge*(((ze=Z[Me])==null?void 0:ze.quantity)||0);return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-200",children:["Item ",Me+1]}),s.jsx(Ee,{type:"button",size:"icon",variant:"ghost",onClick:()=>se(Me),className:"h-8 w-8 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800/50",disabled:te.length===1,children:s.jsx(Sa,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Depot"}),s.jsx(Fs,{control:R,name:`orderItems.${Me}.depotId`,render:({field:Pe})=>{var me,we;return s.jsxs(pr,{onValueChange:Pe.onChange,value:Pe.value||"",children:[s.jsx(xr,{className:jt("mt-1 bg-white dark:bg-gray-700",((we=(me=Q.orderItems)==null?void 0:me[Me])==null?void 0:we.depotId)&&"border-red-500"),children:s.jsx(gr,{placeholder:"Select Depot"})}),s.jsx(yr,{children:m.map(qe=>s.jsx(wt,{value:qe.id,children:qe.name},qe.id))})]})}})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Agency"}),s.jsx(Fs,{control:R,name:`orderItems.${Me}.agencyId`,render:({field:Pe})=>{var pt,ct;const me=Z[Me],we=me!=null&&me.depotId?d.filter(ft=>{var Mt;return String(ft.depotId)===String(me.depotId)||String((Mt=ft.depot)==null?void 0:Mt.id)===String(me.depotId)}):d,xt=!Pe.value||we.some(ft=>ft.id===Pe.value)?Pe.value:"";return s.jsxs(pr,{onValueChange:Pe.onChange,value:xt||"",children:[s.jsx(xr,{className:jt("mt-1 bg-white dark:bg-gray-700",((ct=(pt=Q.orderItems)==null?void 0:pt[Me])==null?void 0:ct.agencyId)&&"border-red-500"),children:s.jsx(gr,{placeholder:we.length===0?"No agencies for this depot":"Select Agency"})}),s.jsx(yr,{children:we.length===0?s.jsx("div",{className:"px-2 py-1.5 text-sm text-gray-500 dark:text-gray-400",children:"No agencies available for selected depot"}):we.map(ft=>s.jsx(wt,{value:ft.id,children:ft.name},ft.id))})]})}})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Product"}),s.jsx(Fs,{control:R,name:`orderItems.${Me}.productId`,render:({field:Pe})=>s.jsxs(pr,{onValueChange:Pe.onChange,value:Pe.value||"",children:[s.jsx(xr,{className:"mt-1 bg-white dark:bg-gray-700",children:s.jsx(gr,{placeholder:"Select Product"})}),s.jsx(yr,{children:l.map(me=>s.jsx(wt,{value:String(me.id),children:me.name},me.id))})]})})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Depot Variant"}),s.jsx(Fs,{control:R,name:`orderItems.${Me}.depotVariantId`,render:({field:Pe})=>{const me=Z[Me],we=g.filter(qe=>{const xt=!(me!=null&&me.depotId)||String(qe.depotId)===me.depotId,pt=!(me!=null&&me.productId)||String(qe.productId)===me.productId,ct=!(qe!=null&&qe.isHidden);return xt&&pt&&ct});return s.jsxs(pr,{onValueChange:Pe.onChange,value:Pe.value||"",children:[s.jsx(xr,{className:"mt-1 bg-white dark:bg-gray-700",children:s.jsx(gr,{placeholder:"Select Depot Variant"})}),s.jsx(yr,{children:we.map(qe=>s.jsxs(wt,{value:qe.id,children:[qe.name," ",qe.purchasePrice?`(${qe.purchasePrice})`:qe.mrp?`(${qe.mrp})`:""]},qe.id))})]})}})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Quantity"}),s.jsx(Fs,{control:R,name:`orderItems.${Me}.quantity`,render:({field:Pe})=>s.jsx(gt,{id:`orderItems.${Me}.quantity`,type:"number",min:"1",value:Pe.value||1,onChange:me=>{const we=parseInt(me.target.value,10);Pe.onChange(isNaN(we)||we<1?1:we)},className:"mt-1 bg-white dark:bg-gray-700"})})]})]}),be&&s.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Unit Price:"}),s.jsxs("span",{className:"font-medium",children:["",ge.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm font-semibold",children:[s.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Item Total:"}),s.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["",Ye.toFixed(2)]})]})]})]},ce.id)})})]}),Q.orderItems&&typeof Q.orderItems=="object"&&"message"in Q.orderItems&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:Q.orderItems.message}),te.length>0&&s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-center text-lg",children:[s.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-300",children:"Current Order Total :"}),s.jsx("span",{className:"font-bold text-lg text-gray-800 dark:text-gray-300",children:ws(N)})]})})]})]}),te.length>0&&s.jsxs(St,{className:"shadow-lg mt-6 border-2 border-blue-100 dark:border-blue-900",children:[s.jsxs(zt,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between cursor-pointer hover:bg-blue-100/50 dark:hover:bg-blue-900/50 transition-colors rounded p-2 -m-2",onClick:z,onKeyDown:ce=>{(ce.key==="Enter"||ce.key===" ")&&(ce.preventDefault(),z())},tabIndex:0,role:"button","aria-expanded":C,"aria-label":`${C?"Collapse":"Expand"} order summary`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(are,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsx(dr,{className:"text-blue-800 dark:text-blue-200",children:"Order Summary"}),s.jsxs("span",{className:"text-sm text-blue-600 dark:text-blue-400 ml-2",children:["(",Object.keys(D).length," product",Object.keys(D).length!==1?"s":"",")"]})]}),s.jsx(Ee,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900",children:C?s.jsx(Ia,{className:"h-4 w-4"}):s.jsx(cc,{className:"h-4 w-4"})})]}),C&&Object.keys(D).length>1&&s.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-blue-200 dark:border-blue-800",children:[s.jsx(On,{className:"text-blue-600 dark:text-blue-300",children:"Detailed breakdown of products, variants, and distribution."}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ee,{type:"button",variant:"outline",size:"sm",onClick:ce=>{ce.stopPropagation(),H()},disabled:W,className:"h-7 text-xs border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/50",children:"Expand All"}),s.jsx(Ee,{type:"button",variant:"outline",size:"sm",onClick:ce=>{ce.stopPropagation(),K()},disabled:re,className:"h-7 text-xs border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/50",children:"Collapse All"})]})]}),(!C||Object.keys(D).length<=1)&&s.jsx(On,{className:"text-blue-600 dark:text-blue-300",children:C?"Detailed breakdown of products, variants, and distribution.":`${Object.values(D).reduce((ce,Me)=>ce+Me.totalQuantity,0)} total items  ${ws(N||0)}`})]}),s.jsx("div",{className:jt("transition-all duration-300 ease-in-out overflow-hidden",C?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"),children:s.jsx(_t,{className:"p-6",children:(()=>{const ce=Object.entries(D);if(ce.length===0){const Me=(Z==null?void 0:Z.filter(be=>be.productId&&Number(be.quantity)>0))||[];return l.length===0&&Me.length>0?s.jsx("div",{className:"space-y-3",children:Array.from({length:Math.min(Me.length,3)}).map((be,ge)=>s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]},`summary-loading-${ge}`))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(lC,{className:"h-12 w-12 mx-auto mb-3 text-gray-400 dark:text-gray-500"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products selected yet"})]})}return s.jsxs("div",{className:"space-y-6",children:[ce.map(([Me,be])=>{const ge=Object.keys(be.variants).length>0,Ye=be.totalPrice||0,ze=P[Me]??!0;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>O(Me),onKeyDown:Pe=>{(Pe.key==="Enter"||Pe.key===" ")&&(Pe.preventDefault(),O(Me))},tabIndex:0,role:"button","aria-expanded":ze,"aria-label":`${ze?"Collapse":"Expand"} ${be.name} details`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-8 bg-secondary rounded-full"}),s.jsx(Ee,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-500 dark:text-gray-400",children:ze?s.jsx(Ia,{className:"h-4 w-4"}):s.jsx(cc,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-800 dark:text-gray-200",children:be.name}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:!ze&&ge&&s.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded-full",children:[Object.keys(be.variants).length," variant",Object.keys(be.variants).length!==1?"s":""]})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:[be.totalQuantity," items"]}),s.jsx("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:ws(Ye)})]})]}),ze&&ge&&s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-900/50",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-600 pb-2 mb-3",children:"Variant Distribution"}),s.jsx("div",{className:"grid gap-3",children:Object.entries(be.variants).map(([Pe,me])=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md p-3 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:me.name})}),s.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:[me.quantity," ",me.unit||"Quantity"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:[me.agencies.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Agencies:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:me.agencies.map((we,qe)=>s.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full text-xs",children:we},`agency-${qe}`))})]}),me.depots.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Depots:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:me.depots.map((we,qe)=>s.jsx("span",{className:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 px-2 py-1 rounded-full text-xs",children:we},`depot-${qe}`))})]})]})]},`variant-${Pe}`))})]}),ze&&!ge&&s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-600 bg-yellow-50 dark:bg-yellow-900/20",children:s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"No variant details available for this product"})})]},`summary-group-${Me}`)}),s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-lg p-4 border-2 border-gray-200 dark:border-gray-600",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Items:"}),s.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:[Object.values(D).reduce((Me,be)=>Me+be.totalQuantity,0)," Quantity"]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Product Types:"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:Object.keys(D).length})]}),s.jsx("div",{className:"border-t border-gray-300 dark:border-gray-500 pt-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Total Order Value:"}),s.jsx("span",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:ws(N||0)})]})})]})})]})})()})})]})]});return s.jsx("div",{className:"w-full max-w-none space-y-8 p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"space-y-6 min-w-0",children:[s.jsx("h2",{className:"text-2xl font-bold",children:e==="create"?"Create New Order":"Edit Order"}),s.jsxs("form",{onSubmit:B(De,Ze),children:[ke(),s.jsx("div",{className:"flex justify-end items-center pt-6 border-t dark:border-gray-700",children:s.jsxs(Ee,{type:"submit",disabled:V||Ce.isPending,className:"bg-gray-600 hover:bg-gray-700 text-white font-semibold px-6 py-2.5 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center gap-2",children:[V||Ce.isPending?s.jsx(Ws,{className:"h-5 w-5 animate-spin"}):s.jsx(hv,{className:"h-5 w-5"}),"Submit Order"]})})]})]})})},v1e=()=>s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{}),s.jsx(_t,{children:s.jsx(Yz,{mode:"create"})})]})}),DE=()=>{var w,b,v,N,S;const{id:e}=Ji(),[t,r]=y.useState("details"),{data:n,isLoading:a}=cs({queryKey:["currentUserProfile"],queryFn:async()=>{if(!localStorage.getItem("authToken"))throw new Error("User not authenticated");return $t("/users/me")},staleTime:5*60*1e3,enabled:!!localStorage.getItem("authToken")}),{data:i,isLoading:o,isError:l}=cs({queryKey:["order",e],queryFn:async()=>{const A=await $t(`/vendor-orders/${e}`),E=A.items.map(C=>{var I,P,F,k,z,O,M,R,B,Y,U,Q;return{id:String(C.id),productId:String(C.productId),productName:((I=C.product)==null?void 0:I.name)||"Unknown Product",priceAtPurchase:Number(C.priceAtPurchase||0),deliveredQuantity:C.deliveredQuantity!==null&&C.deliveredQuantity!==void 0?Number(C.deliveredQuantity):void 0,receivedQuantity:C.receivedQuantity!==null&&C.receivedQuantity!==void 0?Number(C.receivedQuantity):void 0,supervisorQuantity:C.supervisorQuantity!==null&&C.supervisorQuantity!==void 0?Number(C.supervisorQuantity):void 0,quantity:Number(C.quantity||0),agencyId:(P=C.agency)!=null&&P.id?String(C.agency.id):void 0,agencyName:((F=C.agency)==null?void 0:F.name)||void 0,unit:((k=C.product)==null?void 0:k.unit)||void 0,depotId:(z=C.depot)!=null&&z.id?String(C.depot.id):void 0,depotName:((O=C.depot)==null?void 0:O.name)||void 0,depotCityName:((R=(M=C.depot)==null?void 0:M.city)==null?void 0:R.name)||((B=C.depot)==null?void 0:B.cityName)||(typeof((Y=C.depot)==null?void 0:Y.city)=="string"?C.depot.city:void 0),depotVariantId:(U=C.depotVariant)!=null&&U.id?String(C.depotVariant.id):void 0,depotVariantName:((Q=C.depotVariant)==null?void 0:Q.name)||void 0}});return{...A,items:E}}}),c=y.useMemo(()=>(n==null?void 0:n.role)==="SUPERVISOR"||(n==null?void 0:n.role)==="ADMIN",[n==null?void 0:n.role]),d=y.useMemo(()=>i!=null&&i.items?(console.log("Current user profile:",n),console.log("User role:",n==null?void 0:n.role),console.log("Should show supervisor column:",c),(n==null?void 0:n.role)==="AGENCY"&&n.agencyId!=null?i.items.filter(A=>A.agencyId!=null&&String(A.agencyId)===String(n.agencyId)):i.items):[],[i,n,c]),h=y.useMemo(()=>{const A=[];if(!d||d.length===0)return A;const E={};for(const I of d){const P=I.depotCityName||"Unknown City";E[P]||(E[P]=[]),E[P].push(I)}const C=Object.keys(E).sort((I,P)=>I.localeCompare(P));for(const I of C)A.push({city:I,items:E[I]});return A},[d]),m=A=>{switch(A){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"RECEIVED":return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}},p=A=>{switch(A){case"PENDING":return"Pending";case"DELIVERED":return"Delivered";case"RECEIVED":return"Received";default:const E=A;return E?E.charAt(0).toUpperCase()+E.slice(1):"Unknown Status"}},g=A=>{switch(A){case"PENDING":return"Order has been created and is awaiting Farmer action.";case"DELIVERED":return"Order has been marked as delivered by the Farmer.";case"RECEIVED":return"Order has been received and verified.";default:return`Order status is currently ${A||"unknown"}.`}};return o||a?s.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):l?s.jsx("div",{className:"container mx-auto py-10",children:s.jsx("p",{className:"text-center text-red-500",children:"Error loading order details."})}):i?s.jsxs("div",{className:"container mx-auto py-4 md:py-6 space-y-4 md:space-y-6 px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:s.jsx("div",{children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold tracking-tight",children:["Order #",i.poNumber]})})})}),s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsxs("nav",{className:"-mb-px flex flex-wrap space-x-4 sm:space-x-6","aria-label":"Tabs",children:[s.jsx("button",{onClick:()=>r("details"),className:jt("whitespace-nowrap py-2 md:py-3 px-1 border-b-2 font-medium text-sm",t==="details"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-300":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Order Details"}),(n==null?void 0:n.role)!=="AGENCY"&&s.jsx("button",{onClick:()=>r("timeline"),className:jt("whitespace-nowrap py-2 md:py-3 px-1 border-b-2 font-medium text-sm",t==="timeline"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-300":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Order Timeline"})]})}),t==="details"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 mt-4 md:mt-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[s.jsxs(St,{children:[s.jsx(zt,{className:"pb-3",children:s.jsxs(dr,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(gp,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Order Information"]})}),s.jsx(_t,{children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Order Number"}),s.jsx("p",{className:"mt-1 text-base sm:text-lg font-semibold truncate",children:i.poNumber})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("p",{className:"mt-1",children:s.jsx(Gr,{className:jt("font-medium border text-xs px-2.5 py-0.5",m(i.status)),children:p(i.status)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900 dark:text-gray-100",children:Wt(new Date(i.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Delivery Date"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900 dark:text-gray-100",children:Wt(new Date(i.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:i.contactPersonName})]})]})})]}),s.jsxs(St,{children:[s.jsx(zt,{className:"pb-3",children:s.jsxs(dr,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(po,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Order Items"]})}),s.jsx(_t,{children:s.jsxs("div",{className:"space-y-6",children:[h.map(({city:A,items:E})=>{const C=E.reduce((k,z)=>k+(z.quantity??0),0),I=E.reduce((k,z)=>k+(typeof z.deliveredQuantity=="number"?z.deliveredQuantity:0),0),P=E.reduce((k,z)=>k+(typeof z.receivedQuantity=="number"?z.receivedQuantity:0),0),F=E.reduce((k,z)=>k+(typeof z.supervisorQuantity=="number"?z.supervisorQuantity:0),0);return s.jsxs("div",{className:"rounded-xl border overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:A}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[E.length," item",E.length!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:["Ordered: ",C]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:["Delivered: ",I]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:["Received: ",P]}),c&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:["Supervisor: ",F]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:jt("w-full",(n==null?void 0:n.role)==="SUPERVISOR"||(n==null?void 0:n.role)==="ADMIN"?"min-w-[800px]":"min-w-[600px]"),children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 sm:px-4 py-3 text-left text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Product"}),s.jsx("th",{className:"px-2 sm:px-4 py-3 text-right text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 w-20 sm:w-24",children:"Ordered"}),s.jsx("th",{className:"px-2 sm:px-4 py-3 text-right text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 w-20 sm:w-24",children:"Delivered"}),s.jsx("th",{className:"px-2 sm:px-4 py-3 text-right text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 w-20 sm:w-24",children:"Received"}),c&&s.jsx("th",{className:"px-2 sm:px-4 py-3 text-right text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 w-20 sm:w-24",children:"Supervisor"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:E.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-2 sm:px-4 py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 flex-shrink-0 rounded-md bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:s.jsx(po,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-500"})}),s.jsxs("div",{className:"ml-2 sm:ml-4 min-w-0 flex-1",children:[s.jsxs("p",{className:"font-medium text-xs sm:text-sm text-gray-900 dark:text-gray-100 truncate",children:[k.productName," ",k.depotVariantName&&`(${k.depotVariantName})`]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[k.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",k.depotName]}),k.agencyName&&s.jsxs("div",{className:"truncate text-secondary dark:text-blue-400",children:["Agency: ",k.agencyName]})]})]})]})}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 sm:py-4 text-right text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:k.quantity}),k.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",k.depotVariantName,")"]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3 sm:py-4 text-right text-xs sm:text-sm",children:typeof k.deliveredQuantity=="number"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:k.deliveredQuantity}),k.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",k.depotVariantName,")"]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx("td",{className:"px-2 sm:px-4 py-3 sm:py-4 text-right text-xs sm:text-sm",children:typeof k.receivedQuantity=="number"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:k.receivedQuantity}),k.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",k.depotVariantName,")"]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),c&&s.jsx("td",{className:"px-2 sm:px-4 py-3 sm:py-4 text-right text-xs sm:text-sm",children:typeof k.supervisorQuantity=="number"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:k.supervisorQuantity}),k.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["(",k.depotVariantName,")"]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})})]},k.id))})]})})]},A)}),h.length===0&&s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No items to display."})]})})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsxs(St,{children:[s.jsx(zt,{className:"pb-3",children:s.jsxs(dr,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(ap,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Vendor Information"]})}),s.jsxs(_t,{children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-sm sm:text-lg flex-shrink-0",children:(w=i==null?void 0:i.vendor)==null?void 0:w.name.substring(0,2).toUpperCase()}),s.jsx("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:s.jsx("h3",{className:"font-semibold text-sm sm:text-lg truncate",children:(b=i==null?void 0:i.vendor)==null?void 0:b.name})})]}),s.jsx("div",{className:"space-y-3 text-xs sm:text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block",children:"Email:"}),s.jsx("span",{className:"font-medium break-all",children:(v=i==null?void 0:i.vendor)==null?void 0:v.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block",children:"Phone:"}),s.jsx("span",{className:"font-medium",children:(N=i==null?void 0:i.vendor)==null?void 0:N.mobile})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block",children:"Address:"}),s.jsx("span",{className:"font-medium break-words",children:(S=i==null?void 0:i.vendor)==null?void 0:S.address})]})]})})]})]}),s.jsxs(St,{children:[s.jsx(zt,{className:"pb-3",children:s.jsxs(dr,{className:"text-base sm:text-lg md:text-xl flex items-center gap-2",children:[s.jsx(F0,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"}),"Status Update"]})}),s.jsx(_t,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"p-3 sm:p-4 rounded-lg bg-gray-50 dark:bg-gray-900",children:[s.jsx("h3",{className:"font-medium mb-2 text-sm sm:text-base",children:"Current Status"}),s.jsx(Gr,{className:jt("font-medium border text-xs px-2.5 py-0.5",m(i.status)),children:p(i.status)}),s.jsx("p",{className:"mt-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400 leading-relaxed",children:g(i.status)})]})})})]})]})]}),t==="timeline"&&(n==null?void 0:n.role)!=="AGENCY"&&s.jsxs(St,{className:"mt-4 md:mt-6",children:[s.jsx(zt,{children:s.jsx(dr,{className:"text-base sm:text-lg md:text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Order Progress Timeline"})}),s.jsx(_t,{children:s.jsx("div",{className:"relative pl-4 sm:pl-6 space-y-4 before:absolute before:inset-y-0 before:left-4 sm:before:left-6 before:w-0.5 before:bg-gray-300 dark:before:bg-gray-700",children:(()=>{const A=["PENDING","DELIVERED","RECEIVED"],E=A.indexOf(i.status);return[{title:"Order Created",icon:s.jsx(gp,{className:"h-5 w-5 text-white"}),iconBg:"bg-secondary",time:Wt(new Date(i.createdAt),"dd/MM/yyyy"),description:`Order #${i.poNumber} was created with ${i.items.length} product(s).`,stepStatus:"PENDING"},{title:"Order Delivered",activeIcon:s.jsx(cv,{className:"h-5 w-5 text-white"}),activeIconBg:"bg-primary",placeholderIcon:s.jsx(ap,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),placeholderIconBg:"bg-gray-300 dark:bg-gray-700",time:i.status==="DELIVERED"||i.status==="RECEIVED"?Wt(new Date(i.updatedAt),"dd/MM/yyyy HH:mm"):"Awaiting delivery",description:"Order has been marked as delivered by the Farmer.",stepStatus:"DELIVERED"},{title:"Order Received",activeIcon:s.jsx(yre,{className:"h-5 w-5 text-white"}),activeIconBg:"bg-purple-500",placeholderIcon:s.jsx(po,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),placeholderIconBg:"bg-gray-300 dark:bg-gray-700",time:i.status==="RECEIVED"?Wt(new Date(i.updatedAt),"dd/MM/yyyy HH:mm"):"Awaiting confirmation",description:"Order has been received and verified.",stepStatus:"RECEIVED"}].map(I=>{const P=A.indexOf(I.stepStatus);let F,k,z,O;return E===P?(F=I.activeIcon||I.icon,k=I.activeIconBg||I.iconBg,z="bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800 shadow-sm",O="font-semibold text-gray-900 dark:text-gray-100"):E>P?(F=I.activeIcon||I.icon,k=I.activeIconBg||I.iconBg,z="bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800 shadow-sm opacity-80",O="font-semibold text-gray-700 dark:text-gray-300"):(F=I.placeholderIcon||I.icon,k=I.placeholderIconBg||I.iconBg,z="bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 border-dashed opacity-70",O="font-semibold text-gray-600 dark:text-gray-400"),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute left-0 top-2 -ml-4 sm:-ml-6 h-8 w-8 sm:h-10 sm:w-10 rounded-full flex items-center justify-center border-2 sm:border-4 border-white dark:border-gray-900 ${k}`,children:s.jsx("div",{className:"h-4 w-4 sm:h-5 sm:w-5",children:F})}),s.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border shadow-sm ml-6 sm:ml-8 ${z}`,children:[s.jsx("h3",{className:`${O} flex items-center text-sm sm:text-base`,children:I.title}),s.jsx("time",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mt-1 mb-2",children:I.time}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:I.description})]})]},I.title)})})()})})]})]}):s.jsx("div",{className:"container mx-auto py-10",children:s.jsx("p",{className:"text-center text-gray-500",children:"Order data not available."})})},b1e=()=>{const{id:e}=Ji(),t=Ls(),[r,n]=y.useState(null),{data:a,isLoading:i,isError:o}=cs({queryKey:["order",e],queryFn:async()=>await $t(`/vendor-orders/${e}`)});y.useEffect(()=>{if(a){const c={poNumber:a.poNumber,orderDate:new Date(a.orderDate),deliveryDate:new Date(a.deliveryDate),contactPersonName:a.contactPersonName,vendorId:a.vendorId,notes:a.notes||"",orderItems:a.items.map(d=>({productId:d.productId,quantity:d.quantity,agencyId:d.agencyId||"",depotId:String(d.depotId||""),depotVariantId:String(d.depotVariantId||"")}))};n(c)}},[a]);const l=()=>{t("/admin/orders")};return i?s.jsx("div",{className:"container mx-auto py-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})})}):o?s.jsx("div",{className:"container mx-auto py-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(St,{className:"bg-red-50 dark:bg-red-950 border-red-100 dark:border-red-900",children:s.jsx(_t,{className:"p-6 text-center",children:s.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Failed to load order details. Please try again."})})})})}):s.jsxs("div",{className:"container mx-auto py-6",children:[s.jsx("div",{className:"max-w-7xl mx-auto w-full mb-6"}),r&&s.jsx(Yz,{mode:"edit",orderId:e,initialData:r,onSuccess:l})]})},w1e=()=>{var m,p;const{id:e}=Ji(),t=Ls(),[r,n]=y.useState({}),a=Ks({mutationFn:g=>{if(!e)throw new Error("Order ID is missing for delivery submission.");return Aa(`/vendor-orders/${e}/record-delivery`,g)},onSuccess:()=>{ve.success("Delivery recorded successfully!"),t("/admin/orders")},onError:g=>{var w,b;ve.error(((b=(w=g==null?void 0:g.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to record delivery. Please try again."),console.error("Submit delivery error:",g)}}),{data:i,isLoading:o,isError:l}=cs({queryKey:["order",e,"delivery"],queryFn:async()=>{var v;if(!e)throw new Error("Order ID is undefined");const g=await $t(`/vendor-orders/${e}`),w=g.items.map(N=>{var S,A,E,C,I,P,F,k;return{id:String(N.id),productId:String(N.productId),productName:((S=N.product)==null?void 0:S.name)||"Unknown Product",productUnit:((A=N.product)==null?void 0:A.unit)||"",priceAtPurchase:Number(N.priceAtPurchase||0),quantity:Number(N.quantity||0),agencyId:(E=N.agency)!=null&&E.id?String(N.agency.id):void 0,agencyName:((C=N.agency)==null?void 0:C.name)||void 0,depotId:(I=N.depot)!=null&&I.id?String(N.depot.id):void 0,depotName:((P=N.depot)==null?void 0:P.name)||void 0,depotVariantId:(F=N.depotVariant)!=null&&F.id?String(N.depotVariant.id):void 0,depotVariantName:((k=N.depotVariant)==null?void 0:k.name)||void 0}}),b=((v=g.status)==null?void 0:v.toUpperCase())||"PENDING";return{...g,items:w,status:b}},enabled:!!e});y.useEffect(()=>{if(i){const g=i.items.reduce((w,b)=>(w[b.id]=String(b.quantity),w),{});n(g)}},[i]);const c=(g,w)=>{n(b=>({...b,[g]:w}))},d=async()=>{if(!i||!e){ve.error("Order details are not available. Cannot submit delivery.");return}const g=i.items.map(w=>({orderItemId:w.id,deliveredQuantity:parseInt(r[w.id]||String(w.quantity),10)}));for(const w of g){const b=i.items.find(v=>v.id===w.orderItemId);if(w.deliveredQuantity<0){ve.error(`Delivered quantity for ${(b==null?void 0:b.productName)||"an item"} cannot be negative.`);return}}a.mutate({items:g})},h=(g="")=>{switch(g.toUpperCase()){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"RECEIVED":return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}};return o?s.jsx("div",{className:"p-6",children:"Loading order details..."}):l||!i?s.jsx("div",{className:"p-6 text-red-500",children:"Error loading order details. Please try again."}):s.jsx("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[s.jsxs("div",{className:"lg:w-2/3 space-y-4 md:space-y-6",children:[s.jsxs(St,{children:[s.jsx(zt,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pb-4 space-y-2 sm:space-y-0",children:s.jsxs(dr,{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800 dark:text-gray-100 leading-tight",children:["Record Delivery for Order #",i.poNumber]})}),s.jsx(_t,{className:"space-y-4 md:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 md:gap-x-6 gap-y-3 md:gap-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"PO Number"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:i.poNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Wt(new Date(i.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expected Delivery Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Wt(new Date(i.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx(Gr,{className:jt("text-xs font-semibold px-2 py-0.5 rounded-full",h(i.status)),children:i.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:i.contactPersonName})]})]})})]}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{className:"text-base md:text-xl font-medium text-gray-800 dark:text-gray-100",children:"Order Items"})}),s.jsx(_t,{children:s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 min-w-[600px]",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[150px]",children:"Product"}),s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[100px]",children:"Agency"}),s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[80px]",children:"Ordered Qty"}),s.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[120px]",children:"Delivered Qty"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800/50 divide-y divide-gray-200 dark:divide-gray-700",children:i.items.map(g=>{var w;return s.jsxs("tr",{children:[s.jsxs("td",{className:"px-2 sm:px-4 py-3",children:[s.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:g.productName}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[g.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",g.depotName]}),g.depotVariantName&&s.jsxs("div",{className:"truncate",children:["Variant: ",g.depotVariantName]})]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:s.jsx("div",{className:"truncate",children:g.agencyName||"N/A"})}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-xs sm:text-sm text-right text-gray-500 dark:text-gray-400",children:[s.jsx("div",{className:"font-medium",children:g.quantity}),g.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",g.depotVariantName,")"]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3 text-xs sm:text-sm text-right",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center justify-end space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsx(gt,{type:"number",value:r[g.id]||"",onChange:b=>c(g.id,b.target.value),onFocus:b=>b.target.select(),className:"w-20 sm:w-24 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 text-right text-xs sm:text-sm",min:"0",disabled:((w=i==null?void 0:i.status)==null?void 0:w.toUpperCase())==="DELIVERED"}),g.depotVariantName&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[60px] sm:max-w-none",children:g.depotVariantName})]})})]},g.id)})})]})})}),s.jsxs(Op,{className:"flex flex-col items-center sm:items-end pt-4 space-y-3",children:[((m=i==null?void 0:i.status)==null?void 0:m.toUpperCase())==="DELIVERED"&&s.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 text-center sm:text-right",children:"Delivery has already been recorded for this order and cannot be modified."}),s.jsxs(Ee,{onClick:d,className:"flex items-center justify-center w-full sm:w-auto",disabled:((p=i==null?void 0:i.status)==null?void 0:p.toUpperCase())==="DELIVERED"||a.isPending,children:[s.jsx(F0,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:a.isPending?"Submitting...":"Submit Delivery"})]})]})]})]}),s.jsx("div",{className:"lg:w-1/3 space-y-4 md:space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{className:"text-base md:text-xl font-medium text-gray-800 dark:text-gray-100",children:"Farmer Details"})}),s.jsx(_t,{className:"space-y-3 text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Name"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:i.vendor.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:i.vendor.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Mobile"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm",children:i.vendor.mobile})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm break-words",children:i.vendor.address})]})]})})]})})]})})},N1e="/subscriptions",j1e="/product-orders",S1e=async e=>en(`${j1e}/with-subscriptions`,e),A1e=async e=>Oi(`${N1e}/${e}/cancel`,{}),E1e=async e=>Oi(`/product-orders/${e}/cancel-subscriptions`,{}),C1e=e=>{const t={DAYS_7:"7 Days",DAYS_15:"15 Days",DAYS_30:"1 Month",DAYS_90:"3 Months"};if(typeof e=="string"&&t[e])return t[e];const r=String(e);if(r==="0")return"Buy Once";const n={7:"7 Days",15:"15 Days",30:"1 Month",90:"3 Months"};return n[r]?n[r]:r.startsWith("DAYS_")?r.replace("DAYS_","")+" Days":isNaN(Number(r))?r:`${r} Days`},_1e=(e,t,r,n,a)=>{let i="";switch(e){case"DAILY":i="Daily";break;case"ALTERNATE_DAYS":i="Alternate Days";break;case"SELECT_DAYS":i=`Selected Days (${(t==null?void 0:t.map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(", "))||"N/A"})`;break;case"VARYING":i="Varying Quantities";break;default:i=e}const o=a;return e==="VARYING"&&r&&n?`${i} (${r} / ${n})`:r?`${i} - ${r} ${o}`:i},k1e=()=>{var b,v,N,S,A;const e=Ja(),[t,r]=y.useState(!1),[n,a]=y.useState(null),o=(()=>{try{const E=localStorage.getItem("user"),C=localStorage.getItem("authToken");return E&&C?JSON.parse(E):null}catch{return null}})(),l=o==null?void 0:o.id,{data:c,isLoading:d,error:h}=cs({queryKey:["mySubscriptions",l],queryFn:async()=>{if(!l)throw new Error("User not authenticated");return $t("/subscriptions")},enabled:!!l,refetchOnWindowFocus:!0,refetchOnMount:!0,staleTime:2*60*1e3,gcTime:5*60*1e3}),m=Ks({mutationFn:async E=>await A1e(E),onSuccess:()=>{ve.success("Subscription cancelled successfully!"),e.invalidateQueries({queryKey:["mySubscriptions",l]}),r(!1),a(null)},onError:E=>{ve.error(E.message||"Failed to cancel subscription"),r(!1),a(null)}}),p=Ks({mutationFn:async E=>await E1e(E),onSuccess:E=>{var I,P;let C="All order subscriptions cancelled successfully!";(I=E.walletRefund)!=null&&I.success&&E.walletRefund.refundAmount>0?C+=` ${E.walletRefund.refundAmount.toFixed(2)} has been refunded to your wallet.`:((P=E.walletRefund)==null?void 0:P.refundAmount)===0&&(C+=" No wallet refund was applicable."),ve.success(C),e.invalidateQueries({queryKey:["mySubscriptions",l]}),r(!1),a(null)},onError:E=>{ve.error(E.message||"Failed to cancel order subscriptions"),r(!1),a(null)}}),g=E=>{a(E),r(!0)},w=()=>{var E;n&&((E=n.productOrder)!=null&&E.id?p.mutate(n.productOrder.id):m.mutate(n.id))};return y.useEffect(()=>{l||e.clear()},[l,e]),l?d?s.jsxs("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:[s.jsx(Ws,{className:"h-12 w-12 animate-spin text-primary"}),s.jsx("p",{className:"ml-3 text-lg text-gray-600",children:"Loading your subscriptions..."})]}):h?s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs(Ki,{variant:"destructive",className:"mt-4",children:[s.jsx(Bo,{children:"Error Loading Subscriptions"}),s.jsxs(Qi,{children:["We encountered an issue while fetching your subscriptions. Please try again later or contact support if the problem persists.",s.jsxs("p",{className:"mt-2 text-xs",children:["Error: ",h.message]})]})]})}):s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"My Active Subscriptions"}),c&&c.length>0&&s.jsxs("span",{className:"px-3 py-1 text-sm font-semibold text-primary bg-primary-foreground rounded-full",children:[c.length," Active"]})]}),c&&c.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:c==null?void 0:c.map(E=>{var C,I,P,F;return s.jsxs(St,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300 ease-in-out rounded-lg overflow-hidden flex flex-col",children:[s.jsx(zt,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:s.jsx(dr,{className:"text-lg font-semibold text-primary",children:E.product.name})}),s.jsxs(_t,{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300 p-4 flex-grow",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Quantity:"})," ",E.qty," ",((C=E.product.depotVariant)==null?void 0:C.name)||E.product.unit||"unit",E.altQty?s.jsxs(s.Fragment,{children:[" ","& ",E.altQty," ",((I=E.product.depotVariant)==null?void 0:I.name)||E.product.unit||"unit"]}):null]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Period:"})," ",C1e(E.period)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Starts On:"})," ",Wt(new Date(E.startDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Expires On:"})," ",Wt(new Date(E.expiryDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery:"})," ",_1e(E.deliverySchedule,E.selectedDays,E.qty,E.altQty,((P=E.product.depotVariant)==null?void 0:P.name)||E.product.unit||"unit")]}),E.paymentStatus&&s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," ",s.jsx("span",{className:`capitalize font-medium ${E.paymentStatus==="PAID"?"text-green-600":"text-orange-500"}`,children:E.paymentStatus.toLowerCase()})]}),E.agency&&s.jsxs("p",{children:[s.jsx("strong",{children:"Assigned Agent:"})," ",E.agency.user.name]}),E.deliveryAddress&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivering to:"})," ",E.deliveryAddress.recipientName||"",E.deliveryAddress.recipientName?", ":"",E.deliveryAddress.plotBuilding||"",E.deliveryAddress.plotBuilding&&E.deliveryAddress.streetArea?", ":"",E.deliveryAddress.streetArea||"",","," ",E.deliveryAddress.city,", ",E.deliveryAddress.state," ",E.deliveryAddress.pincode,E.deliveryAddress.landmark?` (${E.deliveryAddress.landmark})`:""]}),E.amount!==void 0&&s.jsxs("p",{className:"font-semibold text-base",children:[s.jsx("strong",{children:"Total Amount:"})," ",E.amount.toFixed(2)]})]}),s.jsxs(Op,{className:"p-4 pt-0",children:[E.paymentStatus!=="CANCELLED"&&E.status!=="CANCELLED"&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-2",children:[E.paymentStatus==="PAID"&&s.jsx(Rs,{to:`/manage-subscription/${E.id}`,className:"w-full sm:flex-1",children:s.jsx(Ee,{variant:"outline",className:"w-full",children:"Manage"})}),((F=E.productOrder)==null?void 0:F.invoicePath)&&s.jsxs(Ee,{onClick:async()=>{var k,z;try{const M=`https://snf.3.7.237.251.sslip.io/invoices/${E.productOrder.invoicePath}`,R=await fetch(M);if(!R.ok)throw new Error("Download failed");const B=await R.blob(),Y=window.URL.createObjectURL(B),U=document.createElement("a");U.href=Y,U.download=`invoice-${((k=E.productOrder)==null?void 0:k.invoiceNo)||((z=E.productOrder)==null?void 0:z.orderNo)}.pdf`,document.body.appendChild(U),U.click(),document.body.removeChild(U),window.URL.revokeObjectURL(Y)}catch(O){console.error("Download failed:",O);const R=`https://snf.3.7.237.251.sslip.io/invoices/${E.productOrder.invoicePath}`;window.open(R,"_blank")}},variant:"outline",className:"w-full sm:flex-1 flex items-center justify-center gap-2",children:[s.jsx(zc,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Download Invoice"})]}),E.status!=="CANCELLED"&&E.status!=="COMPLETED"&&(E.paymentStatus==="PENDING"||E.paymentStatus==="FAILED"||!E.paymentStatus)&&s.jsxs(Ee,{onClick:()=>g(E),variant:"destructive",size:"sm",className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[s.jsx(ul,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Cancel Order"})]})]}),(E.paymentStatus==="CANCELLED"||E.status==="CANCELLED")&&s.jsx("div",{className:"flex items-center justify-center p-3 bg-gray-100 dark:bg-gray-800 rounded-md",children:s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"This subscription has been cancelled"})})]})]},E.id)})}):s.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-10 py-12 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-800/30",children:[s.jsx(lC,{className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-500"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900 dark:text-white",children:"No Active Subscriptions Found"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"It looks like you don't have any active subscriptions at the moment."})]}),s.jsx(pi,{open:t,onOpenChange:r,children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsxs(vi,{className:"flex items-center gap-2",children:[s.jsx(tc,{className:"h-5 w-5 text-destructive"}),"Cancel Order"]}),s.jsxs(bi,{className:"space-y-3",children:[s.jsxs("p",{children:["Are you sure you want to cancel"," ",(b=n==null?void 0:n.productOrder)!=null&&b.id?s.jsxs(s.Fragment,{children:["the entire order #",n.productOrder.orderNo,"?"]}):s.jsxs(s.Fragment,{children:["the subscription for"," ",s.jsx("span",{className:"font-semibold",children:n==null?void 0:n.product.name}),"?"]})]}),((v=n==null?void 0:n.productOrder)==null?void 0:v.id)&&s.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-md",children:[s.jsx("p",{className:"text-sm font-medium text-amber-900",children:" Order Cancellation"}),s.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["This will cancel all subscriptions in order #",n.productOrder.orderNo,", including the subscription for ",n.product.name,"."]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" This action cannot be undone. The ",(N=n==null?void 0:n.productOrder)!=null&&N.id?"order":"subscription"," will be cancelled immediately."]})]})]}),s.jsxs(yi,{className:"flex-col sm:flex-row gap-2",children:[s.jsxs(wi,{children:["Keep ",(S=n==null?void 0:n.productOrder)!=null&&S.id?"Order":"Subscription"]}),s.jsxs(Ii,{onClick:w,className:"bg-destructive hover:bg-destructive/90",disabled:m.isPending||p.isPending,children:[(m.isPending||p.isPending)&&s.jsx(Ws,{className:"mr-2 h-4 w-4 animate-spin"}),"Cancel ",(A=n==null?void 0:n.productOrder)!=null&&A.id?"Entire Order":"Subscription"]})]})]})})]}):s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs(Ki,{variant:"destructive",className:"mt-4",children:[s.jsx(Bo,{children:"Authentication Required"}),s.jsx(Qi,{children:"Please log in to view your subscriptions."})]})})},T1e=e=>{const t={DAYS_7:"7 Days",DAYS_15:"15 Days",DAYS_30:"1 Month",DAYS_90:"3 Months"};if(typeof e=="string"&&t[e])return t[e];const r=String(e);if(r==="0")return"Buy Once";const n={7:"7 Days",15:"15 Days",30:"1 Month",90:"3 Months"};return n[r]?n[r]:r.startsWith("DAYS_")?r.replace("DAYS_","")+" Days":isNaN(Number(r))?r:`${r} Days`},D1e=(e,t,r,n,a)=>{let i="";switch(e){case"DAILY":i="Daily";break;case"ALTERNATE_DAYS":i="Alternate Days";break;case"SELECT_DAYS":i=`Selected Days (${(t==null?void 0:t.map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(", "))||"N/A"})`;break;case"VARYING":i="Varying Quantities";break;default:i=e}const o=a;return e==="VARYING"&&r&&n?`${i} (${r} / ${n})`:r?`${i} - ${r} ${o}`:i},P1e=async e=>{console.log(`Fetching subscription details for ${e} using apiService...`);try{return await $t(`subscriptions/${e}`)}catch(t){if(t.status===404)return console.warn(t.message),null;throw t}},O1e=(e,t,r,n)=>{switch(e){case"SKIPPED":return t==="SKIP_BY_CUSTOMER"?"SKIPPED BY YOU":"SKIPPED";case"DELIVERED":return t==="INDRAAI_DELIVERY"?"DELIVERED (INDRAAI)":t==="TRANSFER_TO_AGENT"?"DELIVERED (AGENT)":"DELIVERED";case"NOT_DELIVERED":return"NOT DELIVERED";case"CANCELLED":return"CANCELLED";case"SCHEDULED":return"TODAY";case"PENDING":return"PENDING";default:return e}},R1e=()=>{var N,S,A,E,C,I,P,F;const{id:e}=Ji(),[t,r]=y.useState(null),[n,a]=y.useState({}),[i,o]=y.useState({isOpen:!1,deliveryId:null}),[l,c]=y.useState([]),[d,h]=y.useState(!0),[m,p]=y.useState(null),g=Of(new Date);y.useEffect(()=>{if(!e){p("Subscription ID is missing."),h(!1);return}(async()=>{h(!0);try{const z=await P1e(e);z?(r(z),w(z)):p("Subscription not found.")}catch(z){const O=z;p(O.message||"Failed to load subscription details."),console.error("Error in fetchDetails useEffect:",O)}h(!1)})()},[e]);const w=k=>{if(!k.deliveryScheduleEntries||k.deliveryScheduleEntries.length===0){console.warn("No delivery schedule entries received from backend. Displaying empty schedule."),c([]);return}const z=Of(new Date),O=k.deliveryScheduleEntries.map(M=>{const R=Qme(M.deliveryDate);let B;switch(M.status){case"SKIPPED":case"SKIP_BY_CUSTOMER":B="SKIPPED";break;case"PENDING":B=R.getTime()===z.getTime()?"SCHEDULED":"PENDING";break;case"DELIVERED":case"INDRAAI_DELIVERY":case"TRANSFER_TO_AGENT":B="DELIVERED";break;case"NOT_DELIVERED":B="NOT_DELIVERED";break;case"CANCELLED":B="CANCELLED";break;default:console.warn(`Unknown delivery status: ${M.status}`),B=R<z?"DELIVERED":R.getTime()===z.getTime()?"SCHEDULED":"PENDING"}return{id:M.id,date:R,status:B,originalStatus:M.status,originalQty:M.quantity}});O.sort((M,R)=>M.date.getTime()-R.date.getTime()),c(O)},b=async()=>{var z,O;if(!i.deliveryId)return;const k=i.deliveryId;a(M=>({...M,[k]:!0})),o({isOpen:!1,deliveryId:null});try{const M=await Oi(`/subscriptions/member/deliveries/${k}/skip`,{});c(R=>R.map(B=>B.id===k?{...B,status:"SKIPPED"}:B)),ve.success(M.message||"Delivery action processed successfully!")}catch(M){console.error("Failed to process delivery skip/refund:",M);const R=((O=(z=M==null?void 0:M.response)==null?void 0:z.data)==null?void 0:O.message)||M.message||"Could not process delivery action. Please try again.";ve.error(R)}a(M=>({...M,[k]:!1}))},v=async k=>{o({isOpen:!0,deliveryId:k})};return d?s.jsxs("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:[s.jsx(Ws,{className:"h-12 w-12 animate-spin text-primary"}),s.jsx("p",{className:"ml-3 text-lg text-gray-600",children:"Loading subscription details..."})]}):m||!t?s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs(Ki,{variant:"destructive",className:"mt-4",children:[s.jsx(Bo,{children:"Error"}),s.jsx(Qi,{children:m||"Could not load subscription details."})]})}):s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs(St,{className:"shadow-lg mb-6",children:[s.jsx(zt,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:s.jsx(dr,{className:"text-xl md:text-2xl font-bold text-primary",children:"Subscription Info"})}),s.jsxs(_t,{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300 p-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Product:"})," ",t.product.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Quantity:"})," ",t.qty," ",((N=t.product.depotVariant)==null?void 0:N.name)||t.product.unit||"unit",t.altQty?s.jsxs(s.Fragment,{children:[" ","& ",t.altQty," ",((S=t.product.depotVariant)==null?void 0:S.name)||t.product.unit||"unit"]}):null]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Period:"})," ",T1e(t.period)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Starts On:"})," ",Wt(new Date(t.startDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Expires On:"})," ",Wt(new Date(t.expiryDate),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery:"})," ",D1e(t.deliverySchedule,t.selectedDays,t.qty,t.altQty,((A=t.product.depotVariant)==null?void 0:A.name)||t.product.unit||"unit")]}),t.paymentStatus&&s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," ",s.jsx("span",{className:`capitalize font-medium ${t.paymentStatus==="PAID"?"text-green-600":"text-orange-500"}`,children:t.paymentStatus.toLowerCase()})]}),t.agency&&s.jsxs("p",{children:[s.jsx("strong",{children:"Assigned Agent:"})," ",t.agency.user.name]}),t.deliveryAddress&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivering to:"})," ",`${((E=t.deliveryAddress)==null?void 0:E.streetArea)&&((C=t.deliveryAddress)==null?void 0:C.streetArea)}, ${((I=t.deliveryAddress)==null?void 0:I.landmark)&&((P=t.deliveryAddress)==null?void 0:P.landmark)}, ${t.deliveryAddress.city}, ${t.deliveryAddress.state} ${t.deliveryAddress.pincode}`]}),t.amount!==void 0&&s.jsxs("p",{className:"font-semibold text-base",children:[s.jsx("strong",{children:"Total Amount:"})," ",t.amount.toFixed(2)]})]}),((F=t.productOrder)==null?void 0:F.invoicePath)&&s.jsx("div",{className:"px-4 pb-4",children:s.jsxs(Ee,{onClick:()=>{const z=`https://snf.3.7.237.251.sslip.io/invoices/${t.productOrder.invoicePath}`;window.open(z)},variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[s.jsx(zc,{className:"h-4 w-4"}),"Download Invoice"]})})]}),s.jsxs(St,{className:"shadow-lg",children:[s.jsx(zt,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:s.jsxs(dr,{className:"text-xl md:text-2xl font-bold text-primary",children:["Manage Subscription: ",t.product.name]})}),s.jsxs(_t,{className:"p-4 md:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center",children:[s.jsx(aC,{className:"mr-2 h-5 w-5 text-primary"})," Delivery Schedule"]}),l.length>0?s.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:l.map((k,z)=>(console.log(`Rendering delivery - ID: ${JSON.stringify(k)}, Status: ${k.status}, Date: ${k.date?k.date.toISOString():"N/A"}, isAfterToday: ${k.date?dy(k.date,g):"N/A"}`),s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-md border ${k.status==="SKIPPED"?"bg-red-50 border-red-200 dark:bg-red-900/30 dark:border-red-700":k.status==="DELIVERED"?"bg-green-50 border-green-200 dark:bg-green-900/30 dark:border-green-700":k.date.getTime()===g.getTime()?"bg-blue-50 border-blue-200 dark:bg-blue-900/30 dark:border-blue-700":"bg-gray-50 border-gray-200 dark:bg-gray-700/30 dark:border-gray-600"}`,children:[s.jsxs("div",{className:"flex items-center",children:[k.status==="SKIPPED"&&s.jsx(ic,{className:"h-5 w-5 mr-2 text-red-500 flex-shrink-0"}),k.status==="DELIVERED"&&s.jsx(Ol,{className:"h-5 w-5 mr-2 text-green-500 flex-shrink-0"}),k.status==="NOT_DELIVERED"&&s.jsx(ic,{className:"h-5 w-5 mr-2 text-orange-500 flex-shrink-0"}),k.status==="CANCELLED"&&s.jsx(ic,{className:"h-5 w-5 mr-2 text-gray-400 flex-shrink-0"}),(k.status==="PENDING"||k.status==="SCHEDULED")&&s.jsx(aC,{className:"h-5 w-5 mr-2 text-gray-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:Wt(k.date,"EEE, dd/MM/yyyy")}),s.jsx("span",{className:`ml-2 text-xs font-semibold px-2 py-0.5 rounded-full ${k.status==="SKIPPED"?"bg-red-100 text-red-700 dark:bg-red-700 dark:text-red-100":k.status==="DELIVERED"?"bg-green-100 text-green-700 dark:bg-primary dark:text-green-100":k.status==="NOT_DELIVERED"?"bg-orange-100 text-orange-700 dark:bg-orange-700 dark:text-orange-100":k.status==="CANCELLED"?"bg-gray-200 text-gray-600 dark:bg-gray-600 dark:text-gray-300":k.date.getTime()===g.getTime()&&k.status==="SCHEDULED"?"bg-blue-100 text-blue-700 dark:bg-blue-700 dark:text-blue-100":"bg-gray-100 text-gray-700 dark:bg-gray-600 dark:text-gray-200"}`,children:O1e(k.status,k.originalStatus,k.date)})]})]}),dy(Of(k.date),g)&&(k.status==="PENDING"||k.status==="SCHEDULED")&&s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>v(k.id),disabled:n[k.id],className:"flex items-center text-sm text-amber-600 hover:bg-amber-50 dark:text-amber-400 dark:hover:bg-amber-900/50 border-amber-300 hover:border-amber-400",children:[n[k.id]?s.jsx(Ws,{className:"mr-1.5 h-4 w-4 animate-spin"}):s.jsx(Fre,{className:"mr-1.5 h-4 w-4"}),n[k.id]?"Skipping...":"Skip"]}),k.status==="SKIPPED"&&dy(k.date,g)&&s.jsx("span",{className:"text-xs text-red-500 italic ml-auto",children:k.originalStatus==="SKIP_BY_CUSTOMER"?"Skipped by you":"Skipped"})]},z)))}):s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No delivery dates found for this subscription."})]})]}),s.jsx(pi,{open:i.isOpen,onOpenChange:k=>o({...i,isOpen:k}),children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Are you sure you want to skip this delivery?"}),s.jsx(bi,{children:"This action cannot be undone. Skipping will prevent the delivery for the selected date. If a refund is applicable for a pre-paid delivery, it will be processed automatically to your wallet."})]}),s.jsxs(yi,{children:[s.jsx(wi,{onClick:()=>o({isOpen:!1,deliveryId:null}),children:"Cancel"}),s.jsx(Ii,{onClick:b,children:"Confirm Skip"})]})]})})]})},I1e=()=>{var g,w,b,v;const{id:e}=Ji(),t=Ls(),[r,n]=y.useState({}),{data:a,isLoading:i}=cs({queryKey:["currentUserProfile"],queryFn:async()=>{if(!localStorage.getItem("authToken"))throw new Error("User not authenticated");return $t("/api/users/me")},enabled:!!localStorage.getItem("authToken")}),o=Ks({mutationFn:N=>{if(!e)throw new Error("Order ID is missing for receipt submission.");return Aa(`/vendor-orders/${e}/record-receipt`,N)},onSuccess:()=>{ve.success("Receipt recorded successfully!"),VR.invalidateQueries({queryKey:["order",e]}),VR.invalidateQueries({queryKey:["orders"]}),t("/admin/orders")},onError:N=>{var S,A;ve.error(((A=(S=N==null?void 0:N.response)==null?void 0:S.data)==null?void 0:A.message)||"Failed to record receipt. Please try again."),console.error("Submit receipt error:",N)}}),{data:l,isLoading:c,isError:d}=cs({queryKey:["order",e,"receipt"],queryFn:async()=>{var E;if(!e)throw new Error("Order ID is undefined");const N=await $t(`/vendor-orders/${e}`),S=N.items.map(C=>{var I,P,F,k,z,O,M;return{id:String(C.id),productId:String(C.productId),productName:((I=C.product)==null?void 0:I.name)||"Unknown Product",priceAtPurchase:Number(C.priceAtPurchase||0),quantity:Number(C.quantity||0),deliveredQuantity:C.deliveredQuantity!==null&&C.deliveredQuantity!==void 0?Number(C.deliveredQuantity):void 0,agencyId:(P=C.agency)!=null&&P.id?String(C.agency.id):void 0,agencyName:((F=C.agency)==null?void 0:F.name)||void 0,depotId:(k=C.depot)!=null&&k.id?String(C.depot.id):void 0,depotName:((z=C.depot)==null?void 0:z.name)||void 0,depotVariantId:(O=C.depotVariant)!=null&&O.id?String(C.depotVariant.id):void 0,depotVariantName:((M=C.depotVariant)==null?void 0:M.name)||void 0}}),A=((E=N.status)==null?void 0:E.toUpperCase())||"PENDING";return{...N,items:S,status:A}},enabled:!!e});y.useEffect(()=>{if(l){const N=l.items.reduce((S,A)=>(S[A.id]=String(A.deliveredQuantity??A.quantity),S),{});n(N)}},[l]);const h=(N,S)=>{n(A=>({...A,[N]:S}))},m=()=>{if(!l||!l.items||!a){ve.error("Order data or user profile is not loaded yet.");return}let N=null;a.role==="AGENCY"&&a.agencyId!=null&&(N=new Set(l.items.filter(A=>A.agencyId!=null&&String(A.agencyId)===String(a.agencyId)).map(A=>A.id)));const S=Object.entries(r).filter(([A])=>N?N.has(A):!0).map(([A,E])=>{const C=l.items.find(P=>P.id===A);if(!C)return null;const I=parseInt(E,10);return isNaN(I)||I<0?(ve.info(`Invalid quantity for item ${C.productName}. Please enter a valid non-negative number.`),null):{orderItemId:A,receivedQuantity:I}}).filter(A=>A!==null);if(S.length===0){ve.info(a.role==="AGENCY"?"No quantities entered for your agency's items, or all quantities are invalid. Nothing to submit.":"No quantities entered or all quantities are invalid. Nothing to submit.");return}o.mutate({items:S})},p=(N="")=>{switch(N.toUpperCase()){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800";case"PARTIALLY_RECEIVED":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800";case"RECEIVED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}};return c||i?s.jsx("div",{className:"p-6",children:"Loading order details..."}):d||!l?s.jsx("div",{className:"p-6 text-red-500",children:"Error loading order details. Please try again."}):s.jsx("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[s.jsx("div",{className:"lg:w-2/3 space-y-4 md:space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pb-4 space-y-2 sm:space-y-0",children:s.jsxs(dr,{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800 dark:text-gray-100 leading-tight",children:["Record Receipt for Order #",l.poNumber]})}),s.jsxs(_t,{className:"space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 md:gap-x-6 gap-y-3 md:gap-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"PO Number"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:l.poNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Wt(new Date(l.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expected Delivery Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Wt(new Date(l.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx(Gr,{className:jt("text-xs font-semibold px-2 py-0.5 rounded-full",p(l.status)),children:l.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:l.contactPersonName})]})]}),s.jsxs("div",{className:"space-y-2 pt-4",children:[s.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-800 dark:text-gray-100",children:"Order Items"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400",children:"Enter the quantity received for each item."})]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm min-w-[600px]",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 sm:px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[140px]",children:"Product"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Ordered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Delivered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[120px]",children:"Received Qty"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:((a==null?void 0:a.role)==="AGENCY"&&(a==null?void 0:a.agencyId)!=null?((l==null?void 0:l.items)||[]).filter(N=>N.agencyId!=null&&String(N.agencyId)===String(a.agencyId)):(l==null?void 0:l.items)||[]).map(N=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-gray-800 dark:text-gray-200",children:[s.jsx("div",{className:"font-medium text-xs sm:text-sm truncate",children:N.productName}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[N.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",N.depotName]}),N.depotVariantName&&s.jsxs("div",{className:"truncate",children:["Variant: ",N.depotVariantName]}),N.agencyName&&s.jsxs("div",{className:"truncate",children:["Agency: ",N.agencyName]})]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:N.quantity}),N.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",N.depotVariantName,")"]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:N.deliveredQuantity!=null?N.deliveredQuantity:"N/A"}),N.deliveredQuantity!=null&&N.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",N.depotVariantName,")"]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center justify-end space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsx(gt,{type:"number",value:r[N.id]||"",onChange:S=>h(N.id,S.target.value),className:"w-20 sm:w-24 text-right dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 text-xs sm:text-sm",min:"0"}),N.depotVariantName&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[60px] sm:max-w-none",children:N.depotVariantName})]})})]},N.id))})]})})]}),s.jsxs(Op,{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 md:pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs(Ee,{variant:"outline",onClick:()=>t(-1),className:"flex-1 sm:flex-none order-2 sm:order-1",disabled:o.isPending||i,children:[s.jsx(ku,{className:"h-4 w-4 mr-1.5"})," Cancel"]}),s.jsxs(Ee,{onClick:m,disabled:o.isPending||Object.keys(r).length===0||i,className:"flex items-center justify-center flex-1 sm:flex-none order-1 sm:order-2",children:[s.jsx(F0,{className:"h-4 w-4 mr-1.5"}),s.jsx("span",{className:"truncate",children:o.isPending?"Submitting...":"Submit Receipt"})]})]})]})}),s.jsx("div",{className:"lg:w-1/3 space-y-4 md:space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{className:"text-base md:text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Farmer Details"})}),s.jsx(_t,{className:"space-y-3 text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Name"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(g=l==null?void 0:l.vendor)==null?void 0:g.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(w=l==null?void 0:l.vendor)==null?void 0:w.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Mobile"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm",children:(b=l==null?void 0:l.vendor)==null?void 0:b.mobile})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm break-words",children:(v=l==null?void 0:l.vendor)==null?void 0:v.address})]})]})})]})})]})})},VR=new yk,L1e=()=>{var b,v,N,S;const{id:e}=Ji(),t=Ls(),[r,n]=y.useState({}),[a,i]=y.useState(!1),{data:o,isLoading:l}=cs({queryKey:["currentUserProfile"],queryFn:async()=>{if(!localStorage.getItem("authToken"))throw new Error("User not authenticated");return $t("/api/users/me")},enabled:!!localStorage.getItem("authToken")}),c=Ks({mutationFn:A=>{if(!e)throw new Error("Order ID is missing for supervisor quantity submission.");return Aa(`/vendor-orders/${e}/record-supervisor-quantity`,A)},onSuccess:()=>{ve.success("Supervisor quantity recorded successfully!"),qR.invalidateQueries({queryKey:["order",e]}),qR.invalidateQueries({queryKey:["orders"]}),t("/admin/orders")},onError:A=>{var E,C;ve.error(((C=(E=A==null?void 0:A.response)==null?void 0:E.data)==null?void 0:C.message)||"Failed to record supervisor quantity. Please try again."),console.error("Submit supervisor quantity error:",A)}}),{data:d,isLoading:h,isError:m}=cs({queryKey:["order",e,"supervisor-quantity"],queryFn:async()=>{var I;if(!e)throw new Error("Order ID is undefined");const A=await $t(`/vendor-orders/${e}`),E=A.items.map(P=>{var F,k,z,O,M,R,B;return{id:String(P.id),productId:String(P.productId),productName:((F=P.product)==null?void 0:F.name)||"Unknown Product",priceAtPurchase:Number(P.priceAtPurchase||0),quantity:Number(P.quantity||0),deliveredQuantity:P.deliveredQuantity!==null&&P.deliveredQuantity!==void 0?Number(P.deliveredQuantity):void 0,receivedQuantity:P.receivedQuantity!==null&&P.receivedQuantity!==void 0?Number(P.receivedQuantity):void 0,supervisorQuantity:P.supervisorQuantity!==null&&P.supervisorQuantity!==void 0?Number(P.supervisorQuantity):void 0,agencyId:(k=P.agency)!=null&&k.id?String(P.agency.id):void 0,agencyName:((z=P.agency)==null?void 0:z.name)||void 0,depotId:(O=P.depot)!=null&&O.id?String(P.depot.id):void 0,depotName:((M=P.depot)==null?void 0:M.name)||void 0,depotVariantId:(R=P.depotVariant)!=null&&R.id?String(P.depotVariant.id):void 0,depotVariantName:((B=P.depotVariant)==null?void 0:B.name)||void 0}}),C=((I=A.status)==null?void 0:I.toUpperCase())||"PENDING";return{...A,items:E,status:C}},enabled:!!e});y.useEffect(()=>{if(d){const A=d.items.reduce((C,I)=>(C[I.id]=String(I.supervisorQuantity??0),C),{});n(A);const E=d.items.some(C=>C.supervisorQuantity!==null&&C.supervisorQuantity!==void 0);i(E)}},[d]);const p=(A,E)=>{n(C=>({...C,[A]:E}))},g=()=>{if(!d||!d.items||!o){ve.error("Order data or user profile is not loaded yet.");return}const A=Object.entries(r).map(([E,C])=>{const I=d.items.find(F=>F.id===E);if(!I)return null;const P=parseInt(C,10);return isNaN(P)||P<0?(ve.info(`Invalid quantity for item ${I.productName}. Please enter a valid non-negative number.`),null):{orderItemId:E,supervisorQuantity:P}}).filter(E=>E!==null);if(A.length===0){ve.info("No quantities entered or all quantities are invalid. Nothing to submit.");return}c.mutate({items:A})},w=(A="")=>{switch(A.toUpperCase()){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800";case"PARTIALLY_RECEIVED":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800";case"RECEIVED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}};return h||l?s.jsx("div",{className:"p-6",children:"Loading order details..."}):m||!d?s.jsx("div",{className:"p-6 text-red-500",children:"Error loading order details. Please try again."}):s.jsx("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[s.jsx("div",{className:"lg:w-2/3 space-y-4 md:space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pb-4 space-y-2 sm:space-y-0",children:s.jsxs(dr,{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-800 dark:text-gray-100 leading-tight",children:["Record Supervisor Quantity for Order #",d.poNumber]})}),s.jsxs(_t,{className:"space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 md:gap-x-6 gap-y-3 md:gap-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"PO Number"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:d.poNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Order Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Wt(new Date(d.orderDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expected Delivery Date"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Wt(new Date(d.deliveryDate),"dd/MM/yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx(Gr,{className:jt("text-xs font-semibold px-2 py-0.5 rounded-full",w(d.status)),children:d.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Contact Person"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:d.contactPersonName})]})]}),s.jsxs("div",{className:"space-y-2 pt-4",children:[s.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-800 dark:text-gray-100",children:"Order Items"}),s.jsx("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400",children:"Enter the supervisor quantity for each item. This cannot exceed the received quantity."})]}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 sm:px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[140px]",children:"Product"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Ordered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Delivered"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[80px]",children:"Received"}),s.jsx("th",{className:"px-2 sm:px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 text-xs sm:text-sm min-w-[120px]",children:"Supervisor Qty"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:((d==null?void 0:d.items)||[]).map(A=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-gray-800 dark:text-gray-200",children:[s.jsx("div",{className:"font-medium text-xs sm:text-sm truncate",children:A.productName}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[A.depotName&&s.jsxs("div",{className:"truncate",children:["Depot: ",A.depotName]}),A.depotVariantName&&s.jsxs("div",{className:"truncate",children:["Variant: ",A.depotVariantName]}),A.agencyName&&s.jsxs("div",{className:"truncate",children:["Agency: ",A.agencyName]})]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:A.quantity}),A.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",A.depotVariantName,")"]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:A.deliveredQuantity!=null?A.deliveredQuantity:"N/A"}),A.deliveredQuantity!=null&&A.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",A.depotVariantName,")"]})]}),s.jsxs("td",{className:"px-2 sm:px-4 py-3 text-right text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:[s.jsx("div",{className:"font-medium",children:A.receivedQuantity!=null?A.receivedQuantity:"N/A"}),A.receivedQuantity!=null&&A.depotVariantName&&s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["(",A.depotVariantName,")"]})]}),s.jsx("td",{className:"px-2 sm:px-4 py-3",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center justify-end space-y-1 sm:space-y-0 sm:space-x-2",children:[s.jsx(gt,{type:"number",value:r[A.id]||"",onChange:E=>p(A.id,E.target.value),className:"w-20 sm:w-24 text-right dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 text-xs sm:text-sm",min:"0",disabled:a}),A.depotVariantName&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[60px] sm:max-w-none",children:A.depotVariantName})]})})]},A.id))})]})})]}),s.jsxs(Op,{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 md:pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs(Ee,{variant:"outline",onClick:()=>t(-1),className:"flex-1 sm:flex-none order-2 sm:order-1",disabled:c.isPending||l,children:[s.jsx(ku,{className:"h-4 w-4 mr-1.5"})," Back"]}),s.jsxs(Ee,{onClick:g,disabled:c.isPending||Object.keys(r).length===0||l||a,className:"flex items-center justify-center flex-1 sm:flex-none order-1 sm:order-2",children:[s.jsx(F0,{className:"h-4 w-4 mr-1.5"}),s.jsx("span",{className:"truncate",children:c.isPending?"Submitting...":a?"Quantities Recorded":"Submit Supervisor Quantity"})]})]})]})}),s.jsx("div",{className:"lg:w-1/3 space-y-4 md:space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{className:"text-base md:text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Farmer Details"})}),s.jsx(_t,{className:"space-y-3 text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Name"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(b=d==null?void 0:d.vendor)==null?void 0:b.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:(v=d==null?void 0:d.vendor)==null?void 0:v.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Mobile"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm",children:(N=d==null?void 0:d.vendor)==null?void 0:N.mobile})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm break-words",children:(S=d==null?void 0:d.vendor)==null?void 0:S.address})]})]})})]})})]})})},qR=new yk,M1e=async(e,t,r,n,a,i)=>{const o=i&&i.length>0?`&tags=${i.join(",")}`:"",l=await $t(`/products?page=${e}&sortBy=${t}&sortOrder=${r}&search=${n}&limit=${a}${o}`);return Array.isArray(l),l},F1e=()=>{const e=Ja(),t=Ls(),n=xl().pathname.includes("/admin/"),[a,i]=y.useState(1),[o,l]=y.useState(10),[c,d]=y.useState("createdAt"),[h,m]=y.useState("desc"),[p,g]=y.useState(""),[w,b]=y.useState([]),[v,N]=y.useState(!1);y.useEffect(()=>{try{const W=localStorage.getItem("user");if(W){const re=JSON.parse(W);re&&re.role==="ADMIN"&&N(!0)}}catch(W){console.error("Failed to parse user data from localStorage",W)}},[]);const[S,A]=y.useState(!1),[E,C]=y.useState(null),{data:I,isLoading:P,isError:F,error:k}=cs({queryKey:["products",a,c,h,p,o,w],queryFn:()=>M1e(a,c,h,p,o,w),placeholderData:W=>W}),z=Array.isArray(I)?I:(I==null?void 0:I.data)||[],O=Array.isArray(I)?Math.ceil(I.length/o):(I==null?void 0:I.totalPages)||1,M=Array.isArray(I)?I.length:(I==null?void 0:I.totalRecords)||0,R=We.useMemo(()=>{const W=new Set;return z.forEach(re=>{re.tags&&re.tags.split(",").map(ie=>ie.trim()).filter(ie=>ie.length>0).forEach(ie=>W.add(ie))}),Array.from(W).sort()},[z]),B=Ks({mutationFn:W=>mi(`/products/${W}`),onSuccess:()=>{ve.success("Product deleted successfully!"),e.invalidateQueries({queryKey:["products"]}),A(!1),C(null)},onError:W=>{ve.error(`Failed to delete product: ${W.message}`),A(!1),C(null)}}),Y=W=>{c===W?m(h==="asc"?"desc":"asc"):(d(W),m("asc")),i(1)},U=W=>{g(W.target.value),i(1)},Q=W=>{C(W),A(!0)},V=()=>{E!==null&&B.mutate(E)},Z=W=>c===W?h==="asc"?s.jsx(Eh,{size:16}):s.jsx(Ia,{size:16}):null,J=W=>{i(W)},ae=W=>{l(W),i(1)},D=W=>{b(re=>{const te=re.includes(W)?re.filter(ie=>ie!==W):[...re,W];return i(1),te})},H=W=>{b(re=>re.filter(te=>te!==W)),i(1)},K=()=>{b([]),i(1)};return F?s.jsxs("div",{className:"text-red-500 p-4",children:["Error fetching products: ",(k==null?void 0:k.message)||"Unknown error"]}):s.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[s.jsxs(St,{children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(dr,{children:"Products"}),s.jsx(On,{children:"Manage your product inventory."})]}),s.jsxs("div",{className:"mb-4 flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"relative w-full max-w-sm",children:[s.jsx(Hn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(gt,{type:"search",value:p,onChange:U,className:"pl-8 w-full",placeholder:"Search products..."})]}),R.length>0&&s.jsxs(Wc,{children:[s.jsx(Gc,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",className:"gap-2",children:[s.jsx(Qc,{size:16}),"Tags",w.length>0&&s.jsx(Gr,{variant:"secondary",className:"ml-1",children:w.length})]})}),s.jsx(Yc,{className:"w-80",align:"start",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium",children:"Filter by Tags"}),w.length>0&&s.jsx(Ee,{variant:"ghost",size:"sm",onClick:K,children:"Clear All"})]}),s.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:R.map(W=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hl,{id:`tag-${W}`,checked:w.includes(W),onCheckedChange:()=>D(W)}),s.jsx(Be,{htmlFor:`tag-${W}`,className:"text-sm font-normal cursor-pointer",children:W})]},W))})]})})]}),s.jsxs(Ee,{onClick:()=>t("/admin/products/create"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(xa,{size:18,className:"mr-2"}),"Add Product"]})]}),w.length>0&&s.jsxs("div",{className:"mb-4 flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Filtered by:"}),w.map(W=>s.jsxs(Gr,{variant:"secondary",className:"gap-1 cursor-pointer hover:bg-secondary/80",onClick:()=>H(W),children:[W,s.jsx(ul,{size:12})]},W))]})]}),s.jsxs(_t,{children:[P&&z.length===0?s.jsx("div",{className:"flex justify-center items-center py-24",children:s.jsx(My,{size:30,className:"animate-spin text-blue-600"})}):!P&&z.length===0?s.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-center",children:[s.jsxs("div",{className:"mb-3 text-muted-foreground",children:[s.jsx(Hn,{size:40,className:"mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No products found"})]}),s.jsx("p",{className:"mb-6 text-muted-foreground max-w-sm",children:p?"Try a different search term.":"Get started by adding your first product."}),s.jsxs(Ee,{onClick:()=>t("/admin/products/create"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(xa,{size:16,className:"mr-2"}),"Add Product"]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsxs($e,{onClick:()=>Y("name"),className:"cursor-pointer hover:bg-muted/50 transition-colors min-w-[150px]",children:["Name ",Z("name")]}),s.jsx($e,{className:"min-w-[200px]",children:"Tags"}),s.jsx($e,{className:"text-right",children:"Actions"})]})}),s.jsx(Hs,{children:z.map(W=>s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-medium cursor-pointer hover:text-blue-600 hover:underline",title:W.name,onClick:()=>t(n?`/admin/products/${W.id}`:`/member/products/${W.id}`),children:W.name}),s.jsx(Oe,{className:"text-right",children:s.jsxs(bg,{modal:!1,children:[s.jsx(wg,{asChild:!0,children:s.jsx(Ee,{variant:"ghost",size:"sm",children:s.jsx(uv,{size:16})})}),s.jsx(Ng,{align:"end",children:s.jsxs(AS,{children:[s.jsxs(Ka,{onClick:()=>t(n?`/admin/products/${W.id}`:`/member/products/${W.id}`),children:[s.jsx(kf,{size:14,className:"mr-2"})," View"]}),s.jsxs(Ka,{onClick:()=>t(`/admin/products/edit/${W.id}`),children:[s.jsx(yl,{size:14,className:"mr-2"})," Edit"]}),s.jsxs(Ka,{onClick:()=>Q(W.id),className:"text-red-600 hover:!text-red-700",children:[s.jsx(Sa,{size:14,className:"mr-2"})," Delete"]})]})})]})})]},W.id))})]})}),z.length>0&&s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center",children:[s.jsx("div",{className:"mb-4 sm:mb-0 text-sm text-muted-foreground",children:`Showing ${z.length>0?(a-1)*o+1:0} to ${Math.min(a*o,M)} of ${M} records`}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Rows:"}),s.jsxs(pr,{value:o.toString(),onValueChange:W=>{const re=parseInt(W,10);isNaN(re)||ae(re)},children:[s.jsx(xr,{className:"h-8 w-[70px]",children:s.jsx(gr,{placeholder:o.toString()})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"5",children:"5"}),s.jsx(wt,{value:"10",children:"10"}),s.jsx(wt,{value:"20",children:"20"}),s.jsx(wt,{value:"50",children:"50"})]})]})]}),O>1&&s.jsx(J2,{currentPage:a,totalPages:O,onPageChange:J,totalRecords:M,recordsPerPage:o,onRecordsPerPageChange:ae})]})]})]})]}),s.jsx(vv,{isOpen:S,title:"Delete Product",description:"Are you sure you want to delete this product? This action cannot be undone.",onCancel:()=>{A(!1),C(null)},onConfirm:V,confirmLabel:"Delete Product"})]})},n6=y.createContext({});function a6(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const i6=typeof window<"u",Kz=i6?y.useLayoutEffect:y.useEffect,BS=y.createContext(null);function o6(e,t){e.indexOf(t)===-1&&e.push(t)}function l6(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Hf=(e,t,r)=>r>t?t:r<e?e:r;let c6=()=>{};const Wf={},Qz=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Xz(e){return typeof e=="object"&&e!==null}const Zz=e=>/^0[^.\s]+$/u.test(e);function d6(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ld=e=>e,B1e=(e,t)=>r=>t(e(r)),rw=(...e)=>e.reduce(B1e),Qb=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class u6{constructor(){this.subscriptions=[]}add(t){return o6(this.subscriptions,t),()=>l6(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rh=e=>e*1e3,Ih=e=>e/1e3;function Jz(e,t){return t?e*(1e3/t):0}const eH=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,U1e=1e-7,$1e=12;function V1e(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=eH(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>U1e&&++l<$1e);return o}function sw(e,t,r,n){if(e===t&&r===n)return Ld;const a=i=>V1e(i,0,1,e,r);return i=>i===0||i===1?i:eH(a(i),t,n)}const tH=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rH=e=>t=>1-e(1-t),sH=sw(.33,1.53,.69,.99),h6=rH(sH),nH=tH(h6),aH=e=>(e*=2)<1?.5*h6(e):.5*(2-Math.pow(2,-10*(e-1))),f6=e=>1-Math.sin(Math.acos(e)),iH=rH(f6),oH=tH(f6),q1e=sw(.42,0,1,1),z1e=sw(0,0,.58,1),lH=sw(.42,0,.58,1),H1e=e=>Array.isArray(e)&&typeof e[0]!="number",cH=e=>Array.isArray(e)&&typeof e[0]=="number",W1e={linear:Ld,easeIn:q1e,easeInOut:lH,easeOut:z1e,circIn:f6,circInOut:oH,circOut:iH,backIn:h6,backInOut:nH,backOut:sH,anticipate:aH},G1e=e=>typeof e=="string",zR=e=>{if(cH(e)){c6(e.length===4);const[t,r,n,a]=e;return sw(t,r,n,a)}else if(G1e(e))return W1e[e];return e},TN=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],HR={value:null};function Y1e(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(m){o.has(m)&&(h.schedule(m),e()),c++,m(l)}const h={schedule:(m,p=!1,g=!1)=>{const b=g&&a?r:n;return p&&o.add(m),b.has(m)||b.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(l=m,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(d),t&&HR.value&&HR.value.frameloop[t].push(c),c=0,r.clear(),a=!1,i&&(i=!1,h.process(m))}};return h}const K1e=40;function dH(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=TN.reduce((A,E)=>(A[E]=Y1e(i,t?E:void 0),A),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:m,preRender:p,render:g,postRender:w}=o,b=()=>{const A=Wf.useManualTiming?a.timestamp:performance.now();r=!1,Wf.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(A-a.timestamp,K1e),1)),a.timestamp=A,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),h.process(a),m.process(a),p.process(a),g.process(a),w.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(b))},v=()=>{r=!0,n=!0,a.isProcessing||e(b)};return{schedule:TN.reduce((A,E)=>{const C=o[E];return A[E]=(I,P=!1,F=!1)=>(r||v(),C.schedule(I,P,F)),A},{}),cancel:A=>{for(let E=0;E<TN.length;E++)o[TN[E]].cancel(A)},state:a,steps:o}}const{schedule:Fa,cancel:Ap,state:Io,steps:PE}=dH(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ld,!0);let jj;function Q1e(){jj=void 0}const ac={now:()=>(jj===void 0&&ac.set(Io.isProcessing||Wf.useManualTiming?Io.timestamp:performance.now()),jj),set:e=>{jj=e,queueMicrotask(Q1e)}},uH=e=>t=>typeof t=="string"&&t.startsWith(e),m6=uH("--"),X1e=uH("var(--"),p6=e=>X1e(e)?Z1e.test(e.split("/*")[0].trim()):!1,Z1e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_v={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xb={..._v,transform:e=>Hf(0,1,e)},DN={..._v,default:1},nb=e=>Math.round(e*1e5)/1e5,g6=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function J1e(e){return e==null}const ebe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,x6=(e,t)=>r=>!!(typeof r=="string"&&ebe.test(r)&&r.startsWith(e)||t&&!J1e(r)&&Object.prototype.hasOwnProperty.call(r,t)),hH=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(g6);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},tbe=e=>Hf(0,255,e),OE={..._v,transform:e=>Math.round(tbe(e))},C0={test:x6("rgb","red"),parse:hH("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+OE.transform(e)+", "+OE.transform(t)+", "+OE.transform(r)+", "+nb(Xb.transform(n))+")"};function rbe(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const i_={test:x6("#"),parse:rbe,transform:C0.transform},nw=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wm=nw("deg"),Lh=nw("%"),ms=nw("px"),sbe=nw("vh"),nbe=nw("vw"),WR={...Lh,parse:e=>Lh.parse(e)/100,transform:e=>Lh.transform(e*100)},Qx={test:x6("hsl","hue"),parse:hH("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Lh.transform(nb(t))+", "+Lh.transform(nb(r))+", "+nb(Xb.transform(n))+")"},ol={test:e=>C0.test(e)||i_.test(e)||Qx.test(e),parse:e=>C0.test(e)?C0.parse(e):Qx.test(e)?Qx.parse(e):i_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?C0.transform(e):Qx.transform(e)},abe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ibe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(g6))==null?void 0:t.length)||0)+(((r=e.match(abe))==null?void 0:r.length)||0)>0}const fH="number",mH="color",obe="var",lbe="var(",GR="${}",cbe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zb(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(cbe,c=>(ol.test(c)?(n.color.push(i),a.push(mH),r.push(ol.parse(c))):c.startsWith(lbe)?(n.var.push(i),a.push(obe),r.push(c)):(n.number.push(i),a.push(fH),r.push(parseFloat(c))),++i,GR)).split(GR);return{values:r,split:l,indexes:n,types:a}}function pH(e){return Zb(e).values}function gH(e){const{split:t,types:r}=Zb(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===fH?i+=nb(a[o]):l===mH?i+=ol.transform(a[o]):i+=a[o]}return i}}const dbe=e=>typeof e=="number"?0:e;function ube(e){const t=pH(e);return gH(e)(t.map(dbe))}const Ep={test:ibe,parse:pH,createTransformer:gH,getAnimatableNone:ube};function RE(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hbe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=RE(c,l,e+1/3),i=RE(c,l,e),o=RE(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function m5(e,t){return r=>r>0?t:e}const La=(e,t,r)=>e+(t-e)*r,IE=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},fbe=[i_,C0,Qx],mbe=e=>fbe.find(t=>t.test(e));function YR(e){const t=mbe(e);if(!t)return!1;let r=t.parse(e);return t===Qx&&(r=hbe(r)),r}const KR=(e,t)=>{const r=YR(e),n=YR(t);if(!r||!n)return m5(e,t);const a={...r};return i=>(a.red=IE(r.red,n.red,i),a.green=IE(r.green,n.green,i),a.blue=IE(r.blue,n.blue,i),a.alpha=La(r.alpha,n.alpha,i),C0.transform(a))},o_=new Set(["none","hidden"]);function pbe(e,t){return o_.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function gbe(e,t){return r=>La(e,t,r)}function y6(e){return typeof e=="number"?gbe:typeof e=="string"?p6(e)?m5:ol.test(e)?KR:vbe:Array.isArray(e)?xH:typeof e=="object"?ol.test(e)?KR:xbe:m5}function xH(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>y6(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function xbe(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=y6(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function ybe(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const vbe=(e,t)=>{const r=Ep.createTransformer(t),n=Zb(e),a=Zb(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?o_.has(e)&&!a.values.length||o_.has(t)&&!n.values.length?pbe(e,t):rw(xH(ybe(n,a),a.values),r):m5(e,t)};function yH(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?La(e,t,r):y6(e)(e,t)}const bbe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Fa.update(t,r),stop:()=>Ap(t),now:()=>Io.isProcessing?Io.timestamp:ac.now()}},vH=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},p5=2e4;function v6(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<p5;)t+=r,n=e.next(t);return t>=p5?1/0:t}function wbe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(v6(n),p5);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Ih(a)}}const Nbe=5;function bH(e,t,r){const n=Math.max(t-Nbe,0);return Jz(r-e(n),t-n)}const Qa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},QR=.001;function jbe({duration:e=Qa.duration,bounce:t=Qa.bounce,velocity:r=Qa.velocity,mass:n=Qa.mass}){let a,i,o=1-t;o=Hf(Qa.minDamping,Qa.maxDamping,o),e=Hf(Qa.minDuration,Qa.maxDuration,Ih(e)),o<1?(a=d=>{const h=d*o,m=h*e,p=h-r,g=l_(d,o),w=Math.exp(-m);return QR-p/g*w},i=d=>{const m=d*o*e,p=m*r+r,g=Math.pow(o,2)*Math.pow(d,2)*e,w=Math.exp(-m),b=l_(Math.pow(d,2),o);return(-a(d)+QR>0?-1:1)*((p-g)*w)/b}):(a=d=>{const h=Math.exp(-d*e),m=(d-r)*e+1;return-.001+h*m},i=d=>{const h=Math.exp(-d*e),m=(r-d)*(e*e);return h*m});const l=5/e,c=Abe(a,i,l);if(e=Rh(e),isNaN(c))return{stiffness:Qa.stiffness,damping:Qa.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const Sbe=12;function Abe(e,t,r){let n=r;for(let a=1;a<Sbe;a++)n=n-e(n)/t(n);return n}function l_(e,t){return e*Math.sqrt(1-t*t)}const Ebe=["duration","bounce"],Cbe=["stiffness","damping","mass"];function XR(e,t){return t.some(r=>e[r]!==void 0)}function _be(e){let t={velocity:Qa.velocity,stiffness:Qa.stiffness,damping:Qa.damping,mass:Qa.mass,isResolvedFromDuration:!1,...e};if(!XR(e,Cbe)&&XR(e,Ebe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Hf(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Qa.mass,stiffness:a,damping:i}}else{const r=jbe(e);t={...t,...r,mass:Qa.mass},t.isResolvedFromDuration=!0}return t}function g5(e=Qa.visualDuration,t=Qa.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:h,duration:m,velocity:p,isResolvedFromDuration:g}=_be({...r,velocity:-Ih(r.velocity||0)}),w=p||0,b=d/(2*Math.sqrt(c*h)),v=o-i,N=Ih(Math.sqrt(c/h)),S=Math.abs(v)<5;n||(n=S?Qa.restSpeed.granular:Qa.restSpeed.default),a||(a=S?Qa.restDelta.granular:Qa.restDelta.default);let A;if(b<1){const C=l_(N,b);A=I=>{const P=Math.exp(-b*N*I);return o-P*((w+b*N*v)/C*Math.sin(C*I)+v*Math.cos(C*I))}}else if(b===1)A=C=>o-Math.exp(-N*C)*(v+(w+N*v)*C);else{const C=N*Math.sqrt(b*b-1);A=I=>{const P=Math.exp(-b*N*I),F=Math.min(C*I,300);return o-P*((w+b*N*v)*Math.sinh(F)+C*v*Math.cosh(F))/C}}const E={calculatedDuration:g&&m||null,next:C=>{const I=A(C);if(g)l.done=C>=m;else{let P=C===0?w:0;b<1&&(P=C===0?Rh(w):bH(A,C,I));const F=Math.abs(P)<=n,k=Math.abs(o-I)<=a;l.done=F&&k}return l.value=l.done?o:I,l},toString:()=>{const C=Math.min(v6(E),p5),I=vH(P=>E.next(C*P).value,C,30);return C+"ms "+I},toTransition:()=>{}};return E}g5.applyToOptions=e=>{const t=wbe(e,100,g5);return e.ease=t.ease,e.duration=Rh(t.duration),e.type="keyframes",e};function c_({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=e[0],p={done:!1,value:m},g=F=>l!==void 0&&F<l||c!==void 0&&F>c,w=F=>l===void 0?c:c===void 0||Math.abs(l-F)<Math.abs(c-F)?l:c;let b=r*t;const v=m+b,N=o===void 0?v:o(v);N!==v&&(b=N-m);const S=F=>-b*Math.exp(-F/n),A=F=>N+S(F),E=F=>{const k=S(F),z=A(F);p.done=Math.abs(k)<=d,p.value=p.done?N:z};let C,I;const P=F=>{g(p.value)&&(C=F,I=g5({keyframes:[p.value,w(p.value)],velocity:bH(A,F,p.value),damping:a,stiffness:i,restDelta:d,restSpeed:h}))};return P(0),{calculatedDuration:null,next:F=>{let k=!1;return!I&&C===void 0&&(k=!0,E(F),P(F)),C!==void 0&&F>=C?I.next(F-C):(!k&&E(F),p)}}}function kbe(e,t,r){const n=[],a=r||Wf.mix||yH,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ld:t;l=rw(c,l)}n.push(l)}return n}function Tbe(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(c6(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=kbe(t,n,a),c=l.length,d=h=>{if(o&&h<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const p=Qb(e[m],e[m+1],h);return l[m](p)};return r?h=>d(Hf(e[0],e[i-1],h)):d}function Dbe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Qb(0,t,n);e.push(La(r,1,a))}}function Pbe(e){const t=[0];return Dbe(t,e.length-1),t}function Obe(e,t){return e.map(r=>r*t)}function Rbe(e,t){return e.map(()=>t||lH).splice(0,e.length-1)}function ab({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=H1e(n)?n.map(zR):zR(n),i={done:!1,value:t[0]},o=Obe(r&&r.length===t.length?r:Pbe(t),e),l=Tbe(o,t,{ease:Array.isArray(a)?a:Rbe(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Ibe=e=>e!==null;function b6(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(Ibe),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const Lbe={decay:c_,inertia:c_,tween:ab,keyframes:ab,spring:g5};function wH(e){typeof e.type=="string"&&(e.type=Lbe[e.type])}class w6{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Mbe=e=>e/100;class N6 extends w6{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==ac.now()&&this.tick(ac.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;wH(t);const{type:r=ab,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||ab;c!==ab&&typeof l[0]!="number"&&(this.mixKeyframes=rw(Mbe,yH(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=v6(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:p,repeatDelay:g,type:w,onUpdate:b,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let A=this.currentTime,E=n;if(m){const F=Math.min(this.currentTime,a)/l;let k=Math.floor(F),z=F%1;!z&&F>=1&&(z=1),z===1&&k--,k=Math.min(k,m+1),!!(k%2)&&(p==="reverse"?(z=1-z,g&&(z-=g/l)):p==="mirror"&&(E=o)),A=Hf(0,1,z)*l}const C=S?{done:!1,value:h[0]}:E.next(A);i&&(C.value=i(C.value));let{done:I}=C;!S&&c!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return P&&w!==c_&&(C.value=b6(h,this.options,v,this.speed)),b&&b(C.value),P&&this.finish(),C}then(t,r){return this.finished.then(t,r)}get duration(){return Ih(this.calculatedDuration)}get time(){return Ih(this.currentTime)}set time(t){var r;t=Rh(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ac.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ih(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=bbe,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ac.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Fbe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const _0=e=>e*180/Math.PI,d_=e=>{const t=_0(Math.atan2(e[1],e[0]));return u_(t)},Bbe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:d_,rotateZ:d_,skewX:e=>_0(Math.atan(e[1])),skewY:e=>_0(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},u_=e=>(e=e%360,e<0&&(e+=360),e),ZR=d_,JR=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),eI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ube={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:JR,scaleY:eI,scale:e=>(JR(e)+eI(e))/2,rotateX:e=>u_(_0(Math.atan2(e[6],e[5]))),rotateY:e=>u_(_0(Math.atan2(-e[2],e[0]))),rotateZ:ZR,rotate:ZR,skewX:e=>_0(Math.atan(e[4])),skewY:e=>_0(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function h_(e){return e.includes("scale")?1:0}function f_(e,t){if(!e||e==="none")return h_(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Ube,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Bbe,a=l}if(!a)return h_(t);const i=n[t],o=a[1].split(",").map(Vbe);return typeof i=="function"?i(o):o[i]}const $be=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return f_(r,t)};function Vbe(e){return parseFloat(e.trim())}const kv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tv=new Set(kv),tI=e=>e===_v||e===ms,qbe=new Set(["x","y","z"]),zbe=kv.filter(e=>!qbe.has(e));function Hbe(e){const t=[];return zbe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const $0={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>f_(t,"x"),y:(e,{transform:t})=>f_(t,"y")};$0.translateX=$0.x;$0.translateY=$0.y;const V0=new Set;let m_=!1,p_=!1,g_=!1;function NH(){if(p_){const e=Array.from(V0).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Hbe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}p_=!1,m_=!1,V0.forEach(e=>e.complete(g_)),V0.clear()}function jH(){V0.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(p_=!0)})}function Wbe(){g_=!0,jH(),NH(),g_=!1}class j6{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(V0.add(this),m_||(m_=!0,Fa.read(jH),Fa.resolveKeyframes(NH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}Fbe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),V0.delete(this)}cancel(){this.state==="scheduled"&&(V0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Gbe=e=>e.startsWith("--");function Ybe(e,t,r){Gbe(t)?e.style.setProperty(t,r):e.style[t]=r}const Kbe=d6(()=>window.ScrollTimeline!==void 0),Qbe={};function Xbe(e,t){const r=d6(e);return()=>Qbe[t]??r()}const SH=Xbe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Z1=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,rI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Z1([0,.65,.55,1]),circOut:Z1([.55,0,1,.45]),backIn:Z1([.31,.01,.66,-.59]),backOut:Z1([.33,1.53,.69,.99])};function AH(e,t){if(e)return typeof e=="function"?SH()?vH(e,t):"ease-out":cH(e)?Z1(e):Array.isArray(e)?e.map(r=>AH(r,t)||rI.easeOut):rI[e]}function Zbe(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[t]:r};c&&(h.offset=c);const m=AH(l,a);Array.isArray(m)&&(h.easing=m);const p={delay:n,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),e.animate(h,p)}function EH(e){return typeof e=="function"&&"applyToOptions"in e}function Jbe({type:e,...t}){return EH(e)&&SH()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class e2e extends w6{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,c6(typeof t.type!="string");const d=Jbe(t);this.animation=Zbe(r,n,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=b6(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):Ybe(r,n,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ih(Number(t))}get time(){return Ih(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Rh(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Kbe()?(this.animation.timeline=t,Ld):r(this)}}const CH={anticipate:aH,backInOut:nH,circInOut:oH};function t2e(e){return e in CH}function r2e(e){typeof e.ease=="string"&&t2e(e.ease)&&(e.ease=CH[e.ease])}const sI=10;class s2e extends e2e{constructor(t){r2e(t),wH(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new N6({...o,autoplay:!1}),c=Rh(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-sI).value,l.sample(c).value,sI),l.stop()}}const nI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ep.test(e)||e==="0")&&!e.startsWith("url("));function n2e(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function a2e(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=nI(a,t),l=nI(i,t);return!o||!l?!1:n2e(e)||(r==="spring"||EH(r))&&n}function S6(e){return Xz(e)&&"offsetHeight"in e}const i2e=new Set(["opacity","clipPath","filter","transform"]),o2e=d6(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function l2e(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!S6((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return o2e()&&r&&i2e.has(r)&&(r!=="transform"||!c)&&!l&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const c2e=40;class d2e extends w6{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...m}){var w;super(),this.stop=()=>{var b,v;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=ac.now();const p={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:h,...m},g=(h==null?void 0:h.KeyframeResolver)||j6;this.keyframeResolver=new g(l,(b,v,N)=>this.onKeyframesResolved(b,v,p,!N),c,d,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=n;this.resolvedAt=ac.now(),a2e(t,i,o,l)||((Wf.instantAnimations||!c)&&(h==null||h(b6(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const p={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>c2e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!d&&l2e(p)?new s2e({...p,element:p.motionValue.owner.current}):new N6(p);g.finished.then(()=>this.notifyFinished()).catch(Ld),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Wbe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const u2e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function h2e(e){const t=u2e.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function _H(e,t,r=1){const[n,a]=h2e(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return Qz(o)?parseFloat(o):o}return p6(a)?_H(a,t,r+1):a}function A6(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const kH=new Set(["width","height","top","left","right","bottom",...kv]),f2e={test:e=>e==="auto",parse:e=>e},TH=e=>t=>t.test(e),DH=[_v,ms,Lh,Wm,nbe,sbe,f2e],aI=e=>DH.find(TH(e));function m2e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Zz(e):!0}const p2e=new Set(["brightness","contrast","saturate","opacity"]);function g2e(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(g6)||[];if(!n)return e;const a=r.replace(n,"");let i=p2e.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const x2e=/\b([a-z-]*)\(.*?\)/gu,x_={...Ep,getAnimatableNone:e=>{const t=e.match(x2e);return t?t.map(g2e).join(" "):e}},iI={..._v,transform:Math.round},y2e={rotate:Wm,rotateX:Wm,rotateY:Wm,rotateZ:Wm,scale:DN,scaleX:DN,scaleY:DN,scaleZ:DN,skew:Wm,skewX:Wm,skewY:Wm,distance:ms,translateX:ms,translateY:ms,translateZ:ms,x:ms,y:ms,z:ms,perspective:ms,transformPerspective:ms,opacity:Xb,originX:WR,originY:WR,originZ:ms},E6={borderWidth:ms,borderTopWidth:ms,borderRightWidth:ms,borderBottomWidth:ms,borderLeftWidth:ms,borderRadius:ms,radius:ms,borderTopLeftRadius:ms,borderTopRightRadius:ms,borderBottomRightRadius:ms,borderBottomLeftRadius:ms,width:ms,maxWidth:ms,height:ms,maxHeight:ms,top:ms,right:ms,bottom:ms,left:ms,padding:ms,paddingTop:ms,paddingRight:ms,paddingBottom:ms,paddingLeft:ms,margin:ms,marginTop:ms,marginRight:ms,marginBottom:ms,marginLeft:ms,backgroundPositionX:ms,backgroundPositionY:ms,...y2e,zIndex:iI,fillOpacity:Xb,strokeOpacity:Xb,numOctaves:iI},v2e={...E6,color:ol,backgroundColor:ol,outlineColor:ol,fill:ol,stroke:ol,borderColor:ol,borderTopColor:ol,borderRightColor:ol,borderBottomColor:ol,borderLeftColor:ol,filter:x_,WebkitFilter:x_},PH=e=>v2e[e];function OH(e,t){let r=PH(e);return r!==x_&&(r=Ep),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const b2e=new Set(["auto","none","0"]);function w2e(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!b2e.has(i)&&Zb(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=OH(r,a)}class N2e extends j6{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),p6(d))){const h=_H(d,r.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!kH.has(n)||t.length!==2)return;const[a,i]=t,o=aI(a),l=aI(i);if(o!==l)if(tI(o)&&tI(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else $0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||m2e(t[a]))&&n.push(a);n.length&&w2e(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=$0[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function j2e(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const RH=(e,t)=>t&&typeof e=="number"?t.transform(e):e,oI=30,S2e=e=>!isNaN(parseFloat(e));class A2e{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var o,l;const i=ac.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();a&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ac.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=S2e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new u6);const n=this.events[t].add(r);return t==="change"?()=>{n(),Fa.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ac.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>oI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,oI);return Jz(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yy(e,t){return new A2e(e,t)}const{schedule:C6}=dH(queueMicrotask,!1),xu={x:!1,y:!1};function IH(){return xu.x||xu.y}function E2e(e){return e==="x"||e==="y"?xu[e]?null:(xu[e]=!0,()=>{xu[e]=!1}):xu.x||xu.y?null:(xu.x=xu.y=!0,()=>{xu.x=xu.y=!1})}function LH(e,t){const r=j2e(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function lI(e){return!(e.pointerType==="touch"||IH())}function C2e(e,t,r={}){const[n,a,i]=LH(e,r),o=l=>{if(!lI(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const h=m=>{lI(m)&&(d(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const MH=(e,t)=>t?e===t?!0:MH(e,t.parentElement):!1,_6=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_2e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function k2e(e){return _2e.has(e.tagName)||e.tabIndex!==-1}const Sj=new WeakSet;function cI(e){return t=>{t.key==="Enter"&&e(t)}}function LE(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const T2e=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=cI(()=>{if(Sj.has(r))return;LE(r,"down");const a=cI(()=>{LE(r,"up")}),i=()=>LE(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function dI(e){return _6(e)&&!IH()}function D2e(e,t,r={}){const[n,a,i]=LH(e,r),o=l=>{const c=l.currentTarget;if(!dI(l))return;Sj.add(c);const d=t(c,l),h=(g,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Sj.has(c)&&Sj.delete(c),dI(g)&&typeof d=="function"&&d(g,{success:w})},m=g=>{h(g,c===window||c===document||r.useGlobalTarget||MH(c,g.target))},p=g=>{h(g,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",p,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),S6(l)&&(l.addEventListener("focus",d=>T2e(d,a)),!k2e(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function FH(e){return Xz(e)&&"ownerSVGElement"in e}function P2e(e){return FH(e)&&e.tagName==="svg"}const dl=e=>!!(e&&e.getVelocity),O2e=[...DH,ol,Ep],R2e=e=>O2e.find(TH(e)),k6=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class I2e extends y.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=S6(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function L2e({children:e,isPresent:t,anchorX:r}){const n=y.useId(),a=y.useRef(null),i=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=y.useContext(k6);return y.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:m}=i.current;if(t||!a.current||!l||!c)return;const p=r==="left"?`left: ${h}`:`right: ${m}`;a.current.dataset.motionPopId=n;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[t]),s.jsx(I2e,{isPresent:t,childRef:a,sizeRef:i,children:y.cloneElement(e,{ref:a})})}const M2e=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const c=a6(F2e),d=y.useId();let h=!0,m=y.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:r,custom:a,onExitComplete:p=>{c.set(p,!0);for(const g of c.values())if(!g)return;n&&n()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[r,c,n]);return i&&h&&(m={...m}),y.useMemo(()=>{c.forEach((p,g)=>c.set(g,!1))},[r]),y.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(L2e,{isPresent:r,anchorX:l,children:e})),s.jsx(BS.Provider,{value:m,children:e})};function F2e(){return new Map}function BH(e=!0){const t=y.useContext(BS);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=y.useId();y.useEffect(()=>{if(e)return a(i)},[e]);const o=y.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const PN=e=>e.key||"";function uI(e){const t=[];return y.Children.forEach(e,r=>{y.isValidElement(r)&&t.push(r)}),t}const B2e=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=BH(o),h=y.useMemo(()=>uI(e),[e]),m=o&&!c?[]:h.map(PN),p=y.useRef(!0),g=y.useRef(h),w=a6(()=>new Map),[b,v]=y.useState(h),[N,S]=y.useState(h);Kz(()=>{p.current=!1,g.current=h;for(let C=0;C<N.length;C++){const I=PN(N[C]);m.includes(I)?w.delete(I):w.get(I)!==!0&&w.set(I,!1)}},[N,m.length,m.join("-")]);const A=[];if(h!==b){let C=[...h];for(let I=0;I<N.length;I++){const P=N[I],F=PN(P);m.includes(F)||(C.splice(I,0,P),A.push(P))}return i==="wait"&&A.length&&(C=A),S(uI(C)),v(h),null}const{forceRender:E}=y.useContext(n6);return s.jsx(s.Fragment,{children:N.map(C=>{const I=PN(C),P=o&&!c?!1:h===N||m.includes(I),F=()=>{if(w.has(I))w.set(I,!0);else return;let k=!0;w.forEach(z=>{z||(k=!1)}),k&&(E==null||E(),S(g.current),o&&(d==null||d()),n&&n())};return s.jsx(M2e,{isPresent:P,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:P?void 0:F,anchorX:l,children:C},I)})})},UH=y.createContext({strict:!1}),hI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ky={};for(const e in hI)Ky[e]={isEnabled:t=>hI[e].some(r=>!!t[r])};function U2e(e){for(const t in e)Ky[t]={...Ky[t],...e[t]}}const $2e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function x5(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$2e.has(e)}let $H=e=>!x5(e);function V2e(e){e&&($H=t=>t.startsWith("on")?!x5(t):e(t))}try{V2e(require("@emotion/is-prop-valid").default)}catch{}function q2e(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||($H(a)||r===!0&&x5(a)||!t&&!x5(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function z2e(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const US=y.createContext({});function $S(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Jb(e){return typeof e=="string"||Array.isArray(e)}const T6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D6=["initial",...T6];function VS(e){return $S(e.animate)||D6.some(t=>Jb(e[t]))}function VH(e){return!!(VS(e)||e.variants)}function H2e(e,t){if(VS(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Jb(r)?r:void 0,animate:Jb(n)?n:void 0}}return e.inherit!==!1?t:{}}function W2e(e){const{initial:t,animate:r}=H2e(e,y.useContext(US));return y.useMemo(()=>({initial:t,animate:r}),[fI(t),fI(r)])}function fI(e){return Array.isArray(e)?e.join(" "):e}const G2e=Symbol.for("motionComponentSymbol");function Xx(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Y2e(e,t,r){return y.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Xx(r)&&(r.current=n))},[t])}const P6=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),K2e="framerAppearId",qH="data-"+P6(K2e),zH=y.createContext({});function Q2e(e,t,r,n,a){var b,v;const{visualElement:i}=y.useContext(US),o=y.useContext(UH),l=y.useContext(BS),c=y.useContext(k6).reducedMotion,d=y.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=y.useContext(zH);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&X2e(d.current,r,a,m);const p=y.useRef(!1);y.useInsertionEffect(()=>{h&&p.current&&h.update(r,l)});const g=r[qH],w=y.useRef(!!g&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,g))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,g)));return Kz(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),C6.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),y.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,g)}),w.current=!1))}),h}function X2e(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:HH(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Xx(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:c,layoutRoot:d})}function HH(e){if(e)return e.options.allowProjection!==!1?e.projection:HH(e.parent)}function Z2e({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&U2e(e);function i(l,c){let d;const h={...y.useContext(k6),...l,layoutId:J2e(l)},{isStatic:m}=h,p=W2e(l),g=n(l,m);if(!m&&i6){ewe();const w=twe(h);d=w.MeasureLayout,p.visualElement=Q2e(a,g,h,t,w.ProjectionNode)}return s.jsxs(US.Provider,{value:p,children:[d&&p.visualElement?s.jsx(d,{visualElement:p.visualElement,...h}):null,r(a,l,Y2e(g,p.visualElement,c),g,m,p.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const o=y.forwardRef(i);return o[G2e]=a,o}function J2e({layoutId:e}){const t=y.useContext(n6).id;return t&&e!==void 0?t+"-"+e:e}function ewe(e,t){y.useContext(UH).strict}function twe(e){const{drag:t,layout:r}=Ky;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const e2={};function rwe(e){for(const t in e)e2[t]=e[t],m6(t)&&(e2[t].isCSSVariable=!0)}function WH(e,{layout:t,layoutId:r}){return Tv.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!e2[e]||e==="opacity")}const swe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nwe=kv.length;function awe(e,t,r){let n="",a=!0;for(let i=0;i<nwe;i++){const o=kv[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=RH(l,E6[o]);if(!c){a=!1;const h=swe[o]||o;n+=`${h}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function O6(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Tv.has(c)){o=!0;continue}else if(m6(c)){a[c]=d;continue}else{const h=RH(d,E6[c]);c.startsWith("origin")?(l=!0,i[c]=h):n[c]=h}}if(t.transform||(o||r?n.transform=awe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=i;n.transformOrigin=`${c} ${d} ${h}`}}const R6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GH(e,t,r){for(const n in t)!dl(t[n])&&!WH(n,r)&&(e[n]=t[n])}function iwe({transformTemplate:e},t){return y.useMemo(()=>{const r=R6();return O6(r,t,e),Object.assign({},r.vars,r.style)},[t])}function owe(e,t){const r=e.style||{},n={};return GH(n,r,e),Object.assign(n,iwe(e,t)),n}function lwe(e,t){const r={},n=owe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const cwe={offset:"stroke-dashoffset",array:"stroke-dasharray"},dwe={offset:"strokeDashoffset",array:"strokeDasharray"};function uwe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?cwe:dwe;e[i.offset]=ms.transform(-n);const o=ms.transform(t),l=ms.transform(r);e[i.array]=`${o} ${l}`}function YH(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,h){if(O6(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p}=e;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),a!==void 0&&uwe(m,a,i,o,!1)}const KH=()=>({...R6(),attrs:{}}),QH=e=>typeof e=="string"&&e.toLowerCase()==="svg";function hwe(e,t,r,n){const a=y.useMemo(()=>{const i=KH();return YH(i,t,QH(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};GH(i,e.style,e),a.style={...i,...a.style}}return a}const fwe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I6(e){return typeof e!="string"||e.includes("-")?!1:!!(fwe.indexOf(e)>-1||/[A-Z]/u.test(e))}function mwe(e=!1){return(r,n,a,{latestValues:i},o)=>{const c=(I6(r)?hwe:lwe)(n,i,o,r),d=q2e(n,typeof r=="string",e),h=r!==y.Fragment?{...d,...c,ref:a}:{},{children:m}=n,p=y.useMemo(()=>dl(m)?m.get():m,[m]);return y.createElement(r,{...h,children:p})}}function mI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function L6(e,t,r,n){if(typeof t=="function"){const[a,i]=mI(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=mI(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function Aj(e){return dl(e)?e.get():e}function pwe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:gwe(r,n,a,e),renderState:t()}}const XH=e=>(t,r)=>{const n=y.useContext(US),a=y.useContext(BS),i=()=>pwe(e,t,n,a);return r?i():a6(i)};function gwe(e,t,r,n){const a={},i=n(e,{});for(const p in i)a[p]=Aj(i[p]);let{initial:o,animate:l}=e;const c=VS(e),d=VH(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!$S(m)){const p=Array.isArray(m)?m:[m];for(let g=0;g<p.length;g++){const w=L6(e,p[g]);if(w){const{transitionEnd:b,transition:v,...N}=w;for(const S in N){let A=N[S];if(Array.isArray(A)){const E=h?A.length-1:0;A=A[E]}A!==null&&(a[S]=A)}for(const S in b)a[S]=b[S]}}}return a}function M6(e,t,r){var i;const{style:n}=e,a={};for(const o in n)(dl(n[o])||t.style&&dl(t.style[o])||WH(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const xwe={useVisualState:XH({scrapeMotionValuesFromProps:M6,createRenderState:R6})};function ZH(e,t,r){const n=M6(e,t,r);for(const a in e)if(dl(e[a])||dl(t[a])){const i=kv.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const ywe={useVisualState:XH({scrapeMotionValuesFromProps:ZH,createRenderState:KH})};function vwe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...I6(n)?ywe:xwe,preloadedFeatures:e,useRender:mwe(a),createVisualElement:t,Component:n};return Z2e(o)}}function t2(e,t,r){const n=e.getProps();return L6(n,t,r!==void 0?r:n.custom,e)}const y_=e=>Array.isArray(e);function bwe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Yy(r))}function wwe(e){return y_(e)?e[e.length-1]||0:e}function Nwe(e,t){const r=t2(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=wwe(i[o]);bwe(e,o,l)}}function jwe(e){return!!(dl(e)&&e.add)}function v_(e,t){const r=e.getValue("willChange");if(jwe(r))return r.add(t);if(!r&&Wf.WillChange){const n=new Wf.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function JH(e){return e.props[qH]}const Swe=e=>e!==null;function Awe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Swe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const Ewe={type:"spring",stiffness:500,damping:25,restSpeed:10},Cwe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_we={type:"keyframes",duration:.8},kwe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Twe=(e,{keyframes:t})=>t.length>2?_we:Tv.has(e)?e.startsWith("scale")?Cwe(t[1]):Ewe:kwe;function Dwe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const F6=(e,t,r,n={},a,i)=>o=>{const l=A6(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Rh(c);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};Dwe(l)||Object.assign(h,Twe(e,h)),h.duration&&(h.duration=Rh(h.duration)),h.repeatDelay&&(h.repeatDelay=Rh(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(m=!0)),(Wf.instantAnimations||Wf.skipAnimations)&&(m=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&t.get()!==void 0){const p=Awe(h.keyframes,l);if(p!==void 0){Fa.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new N6(h):new d2e(h)};function Pwe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function eW(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const m=e.getValue(h,e.latestValues[h]??null),p=l[h];if(p===void 0||d&&Pwe(d,h))continue;const g={delay:r,...A6(i||{},h)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===w&&!g.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const N=JH(e);if(N){const S=window.MotionHandoffAnimation(N,h,Fa);S!==null&&(g.startTime=S,b=!0)}}v_(e,h),m.start(F6(h,m,p,e.shouldReduceMotion&&kH.has(h)?{type:!1}:g,e,b));const v=m.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{Fa.update(()=>{o&&Nwe(e,o)})}),c}function b_(e,t,r={}){var c;const n=t2(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(eW(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:p}=a;return Owe(e,t,h+d,m,p,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,h]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function Owe(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(Rwe).forEach((d,h)=>{d.notify("AnimationStart",t),o.push(b_(d,t,{...i,delay:r+c(h)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function Rwe(e,t){return e.sortNodePosition(t)}function Iwe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>b_(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=b_(e,t,r);else{const a=typeof t=="function"?t2(e,t,r.custom):t;n=Promise.all(eW(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function tW(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Lwe=D6.length;function rW(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?rW(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Lwe;r++){const n=D6[r],a=e.props[n];(Jb(a)||a===!1)&&(t[n]=a)}return t}const Mwe=[...T6].reverse(),Fwe=T6.length;function Bwe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Iwe(e,r,n)))}function Uwe(e){let t=Bwe(e),r=pI(),n=!0;const a=c=>(d,h)=>{var p;const m=t2(e,h,c==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(m){const{transition:g,transitionEnd:w,...b}=m;d={...d,...b,...w}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,h=rW(e.parent)||{},m=[],p=new Set;let g={},w=1/0;for(let v=0;v<Fwe;v++){const N=Mwe[v],S=r[N],A=d[N]!==void 0?d[N]:h[N],E=Jb(A),C=N===c?S.isActive:null;C===!1&&(w=v);let I=A===h[N]&&A!==d[N]&&E;if(I&&n&&e.manuallyAnimateOnMount&&(I=!1),S.protectedKeys={...g},!S.isActive&&C===null||!A&&!S.prevProp||$S(A)||typeof A=="boolean")continue;const P=$we(S.prevProp,A);let F=P||N===c&&S.isActive&&!I&&E||v>w&&E,k=!1;const z=Array.isArray(A)?A:[A];let O=z.reduce(a(N),{});C===!1&&(O={});const{prevResolvedValues:M={}}=S,R={...M,...O},B=Q=>{F=!0,p.has(Q)&&(k=!0,p.delete(Q)),S.needsAnimating[Q]=!0;const V=e.getValue(Q);V&&(V.liveStyle=!1)};for(const Q in R){const V=O[Q],Z=M[Q];if(g.hasOwnProperty(Q))continue;let J=!1;y_(V)&&y_(Z)?J=!tW(V,Z):J=V!==Z,J?V!=null?B(Q):p.add(Q):V!==void 0&&p.has(Q)?B(Q):S.protectedKeys[Q]=!0}S.prevProp=A,S.prevResolvedValues=O,S.isActive&&(g={...g,...O}),n&&e.blockInitialAnimation&&(F=!1),F&&(!(I&&P)||k)&&m.push(...z.map(Q=>({animation:Q,options:{type:N}})))}if(p.size){const v={};if(typeof d.initial!="boolean"){const N=t2(e,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(v.transition=N.transition)}p.forEach(N=>{const S=e.getBaseTarget(N),A=e.getValue(N);A&&(A.liveStyle=!0),v[N]=S??null}),m.push({animation:v})}let b=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(m):Promise.resolve()}function l(c,d){var m;if(r[c].isActive===d)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(c,d)}),r[c].isActive=d;const h=o(c);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=pI(),n=!0}}}function $we(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tW(t,e):!1}function p0(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pI(){return{animate:p0(!0),whileInView:p0(),whileHover:p0(),whileTap:p0(),whileDrag:p0(),whileFocus:p0(),exit:p0()}}class Fp{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Vwe extends Fp{constructor(t){super(t),t.animationState||(t.animationState=Uwe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$S(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let qwe=0;class zwe extends Fp{constructor(){super(...arguments),this.id=qwe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Hwe={animation:{Feature:Vwe},exit:{Feature:zwe}};function r2(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function aw(e){return{point:{x:e.pageX,y:e.pageY}}}const Wwe=e=>t=>_6(t)&&e(t,aw(t));function ib(e,t,r,n){return r2(e,t,Wwe(r),n)}function sW({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Gwe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ywe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const nW=1e-4,Kwe=1-nW,Qwe=1+nW,aW=.01,Xwe=0-aW,Zwe=0+aW;function Tl(e){return e.max-e.min}function Jwe(e,t,r){return Math.abs(e-t)<=r}function gI(e,t,r,n=.5){e.origin=n,e.originPoint=La(t.min,t.max,e.origin),e.scale=Tl(r)/Tl(t),e.translate=La(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Kwe&&e.scale<=Qwe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Xwe&&e.translate<=Zwe||isNaN(e.translate))&&(e.translate=0)}function ob(e,t,r,n){gI(e.x,t.x,r.x,n?n.originX:void 0),gI(e.y,t.y,r.y,n?n.originY:void 0)}function xI(e,t,r){e.min=r.min+t.min,e.max=e.min+Tl(t)}function eNe(e,t,r){xI(e.x,t.x,r.x),xI(e.y,t.y,r.y)}function yI(e,t,r){e.min=t.min-r.min,e.max=e.min+Tl(t)}function lb(e,t,r){yI(e.x,t.x,r.x),yI(e.y,t.y,r.y)}const vI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zx=()=>({x:vI(),y:vI()}),bI=()=>({min:0,max:0}),oi=()=>({x:bI(),y:bI()});function wd(e){return[e("x"),e("y")]}function ME(e){return e===void 0||e===1}function w_({scale:e,scaleX:t,scaleY:r}){return!ME(e)||!ME(t)||!ME(r)}function v0(e){return w_(e)||iW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iW(e){return wI(e.x)||wI(e.y)}function wI(e){return e&&e!=="0%"}function y5(e,t,r){const n=e-r,a=t*n;return r+a}function NI(e,t,r,n,a){return a!==void 0&&(e=y5(e,a,n)),y5(e,r,n)+t}function N_(e,t=0,r=1,n,a){e.min=NI(e.min,t,r,n,a),e.max=NI(e.max,t,r,n,a)}function oW(e,{x:t,y:r}){N_(e.x,t.translate,t.scale,t.originPoint),N_(e.y,r.translate,r.scale,r.originPoint)}const jI=.999999999999,SI=1.0000000000001;function tNe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ey(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,oW(e,o)),n&&v0(i.latestValues)&&ey(e,i.latestValues))}t.x<SI&&t.x>jI&&(t.x=1),t.y<SI&&t.y>jI&&(t.y=1)}function Jx(e,t){e.min=e.min+t,e.max=e.max+t}function AI(e,t,r,n,a=.5){const i=La(e.min,e.max,a);N_(e,t,r,i,n)}function ey(e,t){AI(e.x,t.x,t.scaleX,t.scale,t.originX),AI(e.y,t.y,t.scaleY,t.scale,t.originY)}function lW(e,t){return sW(Ywe(e.getBoundingClientRect(),t))}function rNe(e,t,r){const n=lW(e,r),{scroll:a}=t;return a&&(Jx(n.x,a.offset.x),Jx(n.y,a.offset.y)),n}const cW=({current:e})=>e?e.ownerDocument.defaultView:null,EI=(e,t)=>Math.abs(e-t);function sNe(e,t){const r=EI(e.x,t.x),n=EI(e.y,t.y);return Math.sqrt(r**2+n**2)}class dW{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=BE(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=sNe(m.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:w}=m,{timestamp:b}=Io;this.history.push({...w,timestamp:b});const{onStart:v,onMove:N}=this.handlers;p||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=FE(p,this.transformPagePoint),Fa.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=BE(m.type==="pointercancel"?this.lastMoveEventInfo:FE(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,v),w&&w(m,v)},!_6(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=aw(t),l=FE(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Io;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=r;h&&h(t,BE(l,this.history)),this.removeListeners=rw(ib(this.contextWindow,"pointermove",this.handlePointerMove),ib(this.contextWindow,"pointerup",this.handlePointerUp),ib(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ap(this.updatePoint)}}function FE(e,t){return t?{point:t(e.point)}:e}function CI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function BE({point:e},t){return{point:e,delta:CI(e,uW(t)),offset:CI(e,nNe(t)),velocity:aNe(t,.1)}}function nNe(e){return e[0]}function uW(e){return e[e.length-1]}function aNe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=uW(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Rh(t)));)r--;if(!n)return{x:0,y:0};const i=Ih(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function iNe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?La(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?La(r,e,n.max):Math.min(e,r)),e}function _I(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function oNe(e,{top:t,left:r,bottom:n,right:a}){return{x:_I(e.x,r,a),y:_I(e.y,t,n)}}function kI(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function lNe(e,t){return{x:kI(e.x,t.x),y:kI(e.y,t.y)}}function cNe(e,t){let r=.5;const n=Tl(e),a=Tl(t);return a>n?r=Qb(t.min,t.max-n,e.min):n>a&&(r=Qb(e.min,e.max-a,t.min)),Hf(0,1,r)}function dNe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const j_=.35;function uNe(e=j_){return e===!1?e=0:e===!0&&(e=j_),{x:TI(e,"left","right"),y:TI(e,"top","bottom")}}function TI(e,t,r){return{min:DI(e,t),max:DI(e,r)}}function DI(e,t){return typeof e=="number"?e:e[t]||0}const hNe=new WeakMap;class fNe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=oi(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(aw(h).point)},i=(h,m)=>{const{drag:p,dragPropagation:g,onDragStart:w}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=E2e(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wd(v=>{let N=this.getAxisMotionValue(v).get()||0;if(Lh.test(N)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[v];A&&(N=Tl(A)*(parseFloat(N)/100))}}this.originPoint[v]=N}),w&&Fa.postRender(()=>w(h,m)),v_(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,m)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:w,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=m;if(g&&this.currentDirection===null){this.currentDirection=mNe(v),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),b&&b(h,m)},l=(h,m)=>this.stop(h,m),c=()=>wd(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new dW(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:cW(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Fa.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!ON(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=iNe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&Xx(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=oNe(n.layoutBox,t):this.constraints=!1,this.elastic=uNe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&wd(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dNe(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Xx(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=rNe(n,a.root,this.visualElement.getTransformPagePoint());let o=lNe(a.layout.layoutBox,i);if(r){const l=r(Gwe(o));this.hasMutatedConstraints=!!l,l&&(o=sW(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=wd(h=>{if(!ON(h,r,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const p=a?200:1e6,g=a?40:1e7,w={type:"inertia",velocity:n?t[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,w)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return v_(this.visualElement,t),n.start(F6(t,n,0,r,this.visualElement,!1))}stopAnimation(){wd(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wd(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){wd(r=>{const{drag:n}=this.getProps();if(!ON(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-La(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Xx(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};wd(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=cNe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wd(o=>{if(!ON(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(La(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;hNe.set(this.visualElement,this);const t=this.visualElement.current,r=ib(t,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Xx(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Fa.read(n);const o=r2(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(wd(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=j_,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function ON(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function mNe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class pNe extends Fp{constructor(t){super(t),this.removeGroupControls=Ld,this.removeListeners=Ld,this.controls=new fNe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ld}unmount(){this.removeGroupControls(),this.removeListeners()}}const PI=e=>(t,r)=>{e&&Fa.postRender(()=>e(t,r))};class gNe extends Fp{constructor(){super(...arguments),this.removePointerDownListener=Ld}onPointerDown(t){this.session=new dW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cW(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:PI(t),onStart:PI(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Fa.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=ib(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ej={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const U1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ms.test(e))e=parseFloat(e);else return e;const r=OI(e,t.target.x),n=OI(e,t.target.y);return`${r}% ${n}%`}},xNe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Ep.parse(e);if(a.length>5)return n;const i=Ep.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=La(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class yNe extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;rwe(vNe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ej.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Fa.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),C6.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hW(e){const[t,r]=BH(),n=y.useContext(n6);return s.jsx(yNe,{...e,layoutGroup:n,switchLayoutGroup:y.useContext(zH),isPresent:t,safeToRemove:r})}const vNe={borderRadius:{...U1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:U1,borderTopRightRadius:U1,borderBottomLeftRadius:U1,borderBottomRightRadius:U1,boxShadow:xNe};function bNe(e,t,r){const n=dl(e)?e:Yy(e);return n.start(F6("",n,t,r)),n.animation}const wNe=(e,t)=>e.depth-t.depth;class NNe{constructor(){this.children=[],this.isDirty=!1}add(t){o6(this.children,t),this.isDirty=!0}remove(t){l6(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wNe),this.isDirty=!1,this.children.forEach(t)}}function jNe(e,t){const r=ac.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Ap(n),e(i-t))};return Fa.setup(n,!0),()=>Ap(n)}const fW=["TopLeft","TopRight","BottomLeft","BottomRight"],SNe=fW.length,RI=e=>typeof e=="string"?parseFloat(e):e,II=e=>typeof e=="number"||ms.test(e);function ANe(e,t,r,n,a,i){a?(e.opacity=La(0,r.opacity??1,ENe(n)),e.opacityExit=La(t.opacity??1,0,CNe(n))):i&&(e.opacity=La(t.opacity??1,r.opacity??1,n));for(let o=0;o<SNe;o++){const l=`border${fW[o]}Radius`;let c=LI(t,l),d=LI(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||II(c)===II(d)?(e[l]=Math.max(La(RI(c),RI(d),n),0),(Lh.test(d)||Lh.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=La(t.rotate||0,r.rotate||0,n))}function LI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ENe=mW(0,.5,iH),CNe=mW(.5,.95,Ld);function mW(e,t,r){return n=>n<e?0:n>t?1:r(Qb(e,t,n))}function MI(e,t){e.min=t.min,e.max=t.max}function yd(e,t){MI(e.x,t.x),MI(e.y,t.y)}function FI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function BI(e,t,r,n,a){return e-=t,e=y5(e,1/r,n),a!==void 0&&(e=y5(e,1/a,n)),e}function _Ne(e,t=0,r=1,n=.5,a,i=e,o=e){if(Lh.test(t)&&(t=parseFloat(t),t=La(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=La(i.min,i.max,n);e===i&&(l-=t),e.min=BI(e.min,t,r,l,a),e.max=BI(e.max,t,r,l,a)}function UI(e,t,[r,n,a],i,o){_Ne(e,t[r],t[n],t[a],t.scale,i,o)}const kNe=["x","scaleX","originX"],TNe=["y","scaleY","originY"];function $I(e,t,r,n){UI(e.x,t,kNe,r?r.x:void 0,n?n.x:void 0),UI(e.y,t,TNe,r?r.y:void 0,n?n.y:void 0)}function VI(e){return e.translate===0&&e.scale===1}function pW(e){return VI(e.x)&&VI(e.y)}function qI(e,t){return e.min===t.min&&e.max===t.max}function DNe(e,t){return qI(e.x,t.x)&&qI(e.y,t.y)}function zI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function gW(e,t){return zI(e.x,t.x)&&zI(e.y,t.y)}function HI(e){return Tl(e.x)/Tl(e.y)}function WI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class PNe{constructor(){this.members=[]}add(t){o6(this.members,t),t.scheduleRender()}remove(t){if(l6(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ONe(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:p,skewX:g,skewY:w}=r;d&&(n=`perspective(${d}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),p&&(n+=`rotateY(${p}deg) `),g&&(n+=`skewX(${g}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const UE=["","X","Y","Z"],RNe={visibility:"hidden"},INe=1e3;let LNe=0;function $E(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function xW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=JH(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Fa,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&xW(n)}function yW({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=LNe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BNe),this.nodes.forEach(zNe),this.nodes.forEach(HNe),this.nodes.forEach(UNe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new NNe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new u6),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=FH(o)&&!P2e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=jNe(m,250),Ej.hasAnimatedSinceResize&&(Ej.hasAnimatedSinceResize=!1,this.nodes.forEach(YI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||QNe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),N=!this.targetLayout||!gW(this.targetLayout,g),S=!m&&p;if(this.options.layoutRoot||this.resumeFrom||S||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...A6(w,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(h,S)}else m||YI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ap(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WNe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GI);return}this.isUpdating||this.nodes.forEach(VNe),this.isUpdating=!1,this.nodes.forEach(qNe),this.nodes.forEach(MNe),this.nodes.forEach(FNe),this.clearAllSnapshots();const l=ac.now();Io.delta=Hf(0,1e3/60,l-Io.timestamp),Io.timestamp=l,Io.isProcessing=!0,PE.update.process(Io),PE.preRender.process(Io),PE.render.process(Io),Io.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,C6.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($Ne),this.sharedNodes.forEach(GNe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fa.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fa.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tl(this.snapshot.measuredBox.x)&&!Tl(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=oi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!pW(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||v0(this.latestValues)||h)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),XNe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return oi();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(ZNe))){const{scroll:h}=this.root;h&&(Jx(l.x,h.offset.x),Jx(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=oi();if(yd(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:p}=h;h!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&yd(l,o),Jx(l.x,m.offset.x),Jx(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=oi();yd(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ey(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),v0(h.latestValues)&&ey(c,h.latestValues)}return v0(this.latestValues)&&ey(c,this.latestValues),c}removeTransform(o){const l=oi();yd(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!v0(d.latestValues))continue;w_(d.latestValues)&&d.updateSnapshot();const h=oi(),m=d.measurePageBox();yd(h,m),$I(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return v0(this.latestValues)&&$I(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Io.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Io.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oi(),this.relativeTargetOrigin=oi(),lb(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),yd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=oi(),this.targetWithTransforms=oi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eNe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yd(this.target,this.layout.layoutBox),oW(this.target,this.targetDelta)):yd(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oi(),this.relativeTargetOrigin=oi(),lb(this.relativeTargetOrigin,this.target,g.target),yd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||w_(this.parent.latestValues)||iW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Io.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;yd(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;tNe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=oi());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FI(this.prevProjectionDelta.x,this.projectionDelta.x),FI(this.prevProjectionDelta.y,this.projectionDelta.y)),ob(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!WI(this.projectionDelta.x,this.prevProjectionDelta.x)||!WI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zx(),this.projectionDelta=Zx(),this.projectionDeltaWithTransform=Zx()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=Zx();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=oi(),g=c?c.source:void 0,w=this.layout?this.layout.source:void 0,b=g!==w,v=this.getStack(),N=!v||v.members.length<=1,S=!!(b&&!N&&this.options.crossfade===!0&&!this.path.some(KNe));this.animationProgress=0;let A;this.mixTargetDelta=E=>{const C=E/1e3;KI(m.x,o.x,C),KI(m.y,o.y,C),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lb(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YNe(this.relativeTarget,this.relativeTargetOrigin,p,C),A&&DNe(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=oi()),yd(A,this.relativeTarget)),b&&(this.animationValues=h,ANe(h,d,this.latestValues,C,S,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ap(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fa.update(()=>{Ej.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yy(0)),this.currentAnimation=bNe(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(INe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&vW(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||oi();const m=Tl(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=Tl(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}yd(l,c),ey(l,h),ob(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new PNe),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&$E("z",o,d,this.animationValues);for(let h=0;h<UE.length;h++)$E(`rotate${UE[h]}`,o,d,this.animationValues),$E(`skew${UE[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return RNe;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Aj(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Aj(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!v0(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=ONe(this.projectionDeltaWithTransform,this.treeScale,h),c&&(l.transform=c(h,l.transform));const{x:m,y:p}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,d.animationValues?l.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in e2){if(h[g]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:v}=e2[g],N=l.transform==="none"?h[g]:w(h[g],d);if(b){const S=b.length;for(let A=0;A<S;A++)l[b[A]]=N}else v?this.options.visualElement.renderState.vars[g]=N:l[g]=N}return this.options.layoutId&&(l.pointerEvents=d===this?Aj(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(GI),this.root.sharedNodes.clear()}}}function MNe(e){e.updateLayout()}function FNe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?wd(m=>{const p=o?t.measuredBox[m]:t.layoutBox[m],g=Tl(p);p.min=n[m].min,p.max=p.min+g}):vW(i,t.layoutBox,n)&&wd(m=>{const p=o?t.measuredBox[m]:t.layoutBox[m],g=Tl(n[m]);p.max=p.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+g)});const l=Zx();ob(l,n,t.layoutBox);const c=Zx();o?ob(c,e.applyTransform(a,!0),t.measuredBox):ob(c,n,t.layoutBox);const d=!pW(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:g}=m;if(p&&g){const w=oi();lb(w,t.layoutBox,p.layoutBox);const b=oi();lb(b,n,g.layoutBox),gW(w,b)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=w,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function BNe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UNe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $Ne(e){e.clearSnapshot()}function GI(e){e.clearMeasurements()}function VNe(e){e.isLayoutDirty=!1}function qNe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function YI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function zNe(e){e.resolveTargetDelta()}function HNe(e){e.calcProjection()}function WNe(e){e.resetSkewAndRotation()}function GNe(e){e.removeLeadSnapshot()}function KI(e,t,r){e.translate=La(t.translate,0,r),e.scale=La(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function QI(e,t,r,n){e.min=La(t.min,r.min,n),e.max=La(t.max,r.max,n)}function YNe(e,t,r,n){QI(e.x,t.x,r.x,n),QI(e.y,t.y,r.y,n)}function KNe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QNe={duration:.45,ease:[.4,0,.1,1]},XI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ZI=XI("applewebkit/")&&!XI("chrome/")?Math.round:Ld;function JI(e){e.min=ZI(e.min),e.max=ZI(e.max)}function XNe(e){JI(e.x),JI(e.y)}function vW(e,t,r){return e==="position"||e==="preserve-aspect"&&!Jwe(HI(t),HI(r),.2)}function ZNe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const JNe=yW({attachResizeListener:(e,t)=>r2(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),VE={current:void 0},bW=yW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!VE.current){const e=new JNe({});e.mount(window),e.setOptions({layoutScroll:!0}),VE.current=e}return VE.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),eje={pan:{Feature:gNe},drag:{Feature:pNe,ProjectionNode:bW,MeasureLayout:hW}};function eL(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Fa.postRender(()=>i(t,aw(t)))}class tje extends Fp{mount(){const{current:t}=this.node;t&&(this.unmount=C2e(t,(r,n)=>(eL(this.node,n,"Start"),a=>eL(this.node,a,"End"))))}unmount(){}}class rje extends Fp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rw(r2(this.node.current,"focus",()=>this.onFocus()),r2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tL(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Fa.postRender(()=>i(t,aw(t)))}class sje extends Fp{mount(){const{current:t}=this.node;t&&(this.unmount=D2e(t,(r,n)=>(tL(this.node,n,"Start"),(a,{success:i})=>tL(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const S_=new WeakMap,qE=new WeakMap,nje=e=>{const t=S_.get(e.target);t&&t(e)},aje=e=>{e.forEach(nje)};function ije({root:e,...t}){const r=e||document;qE.has(r)||qE.set(r,{});const n=qE.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(aje,{root:e,...t})),n[a]}function oje(e,t,r){const n=ije(t);return S_.set(e,r),n.observe(e),()=>{S_.delete(e),n.unobserve(e)}}const lje={some:0,all:1};class cje extends Fp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:lje[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),p=d?h:m;p&&p(c)};return oje(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(dje(t,r))&&this.startObserver()}unmount(){}}function dje({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const uje={inView:{Feature:cje},tap:{Feature:sje},focus:{Feature:rje},hover:{Feature:tje}},hje={layout:{ProjectionNode:bW,MeasureLayout:hW}},A_={current:null},wW={current:!1};function fje(){if(wW.current=!0,!!i6)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>A_.current=e.matches;e.addListener(t),t()}else A_.current=!1}const mje=new WeakMap;function pje(e,t,r){for(const n in t){const a=t[n],i=r[n];if(dl(a))e.addValue(n,a);else if(dl(i))e.addValue(n,Yy(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Yy(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const rL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gje{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=j6,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ac.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Fa.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=VS(r),this.isVariantNode=VH(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in m){const g=m[p];c[p]!==void 0&&dl(g)&&g.set(c[p],!1)}}mount(t){this.current=t,mje.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),wW.current||fje(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:A_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ap(this.notifyUpdate),Ap(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Tv.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Fa.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ky){const r=Ky[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):oi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<rL.length;n++){const a=rL[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=pje(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Yy(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Qz(n)||Zz(n))?n=parseFloat(n):!R2e(n)&&Ep.test(r)&&(n=OH(t,r)),this.setBaseTarget(t,dl(n)?n.get():n)),dl(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=L6(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!dl(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new u6),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class NW extends gje{constructor(){super(...arguments),this.KeyframeResolver=N2e}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dl(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function jW(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function xje(e){return window.getComputedStyle(e)}class yje extends NW{constructor(){super(...arguments),this.type="html",this.renderInstance=jW}readValueFromInstance(t,r){var n;if(Tv.has(r))return(n=this.projection)!=null&&n.isProjecting?h_(r):$be(t,r);{const a=xje(t),i=(m6(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return lW(t,r)}build(t,r,n){O6(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return M6(t,r,n)}}const SW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vje(e,t,r,n){jW(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(SW.has(a)?a:P6(a),t.attrs[a])}class bje extends NW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=oi}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Tv.has(r)){const n=PH(r);return n&&n.default||0}return r=SW.has(r)?r:P6(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return ZH(t,r,n)}build(t,r,n){YH(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){vje(t,r,n,a)}mount(t){this.isSVGTag=QH(t.tagName),super.mount(t)}}const wje=(e,t)=>I6(e)?new bje(t):new yje(t,{allowProjection:e!==y.Fragment}),Nje=vwe({...Hwe,...uje,...eje,...hje},wje),ta=z2e(Nje),jje="/assets/indraai%20640%20x%20960-BcMlOVct.png",Sje=({images:e,subtitle:t="",description:r="",className:n})=>{const[a,i]=y.useState(0),[o,l]=y.useState(!1),[c,d]=y.useState(!1),h=y.useRef(null);Ls(),y.useEffect(()=>{const g=setTimeout(()=>l(!0),100);return()=>clearTimeout(g)},[]),y.useEffect(()=>{const g=()=>{d(window.innerWidth<436)};return g(),window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g)}},[]),y.useEffect(()=>{if(e&&e.length>1)return h.current=setInterval(()=>{i(g=>g===e.length-1?0:g+1)},5e3),()=>{h.current&&clearInterval(h.current)}},[e]);const m=g=>{g===0&&l(!0)},p=()=>{const g=document.getElementById("product-detail-section");g&&g.scrollIntoView({behavior:"smooth",block:"start"})};return!e||e.length===0?s.jsx("section",{className:jt("relative w-full h-screen overflow-hidden flex items-center justify-center bg-gray-200",n),children:s.jsx("div",{className:"text-center",children:s.jsx("p",{children:"Loading Banners..."})})}):s.jsx("section",{className:jt("relative w-full overflow-hidden",n),children:s.jsxs("div",{className:"relative w-full mx-auto max-sm:w-full max-sm:h-[16rem] max-[439px]:min-h-[39rem] ",style:{maxWidth:"1920px",aspectRatio:"1584 / 632"},children:[s.jsx("div",{className:"absolute inset-0 ",children:e.map((g,w)=>s.jsx("div",{className:jt("absolute inset-0 transition-opacity duration-1000 ease-in-out","opacity-100"),children:s.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:s.jsx("img",{src:c?jje:g.src,alt:g.alt,className:"w-full h-full object-cover max-sm:object-fit max-[380px]:object-fit ",onLoad:()=>m(w),loading:w===0?"eager":"lazy"})})},g.id))}),s.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"text-center max-w-4xl mx-auto",children:s.jsxs(ta.div,{initial:{opacity:1,y:30},animate:{opacity:o?1:0,y:o?1:30},transition:{duration:.8,delay:.2},className:"space-y-6",children:[s.jsx(ta.h1,{initial:{opacity:1,y:30},animate:{opacity:o?1:0,y:o?1:30},transition:{duration:.8,delay:.6},className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight",children:t}),s.jsx(ta.p,{initial:{opacity:1,y:20},animate:{opacity:o?1:0,y:o?1:20},transition:{duration:.6,delay:.8},className:"text-lg sm:text-xl text-white/80 max-w-2xl mx-auto leading-relaxed",children:r})]})})}),e.length>1&&s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20",children:s.jsx("div",{className:"flex space-x-2",children:e.map((g,w)=>s.jsx("button",{onClick:()=>i(w),className:jt("w-3 h-3 rounded-full transition-all duration-300",w===a?"bg-white scale-110":"bg-white/50 hover:bg-white/70"),"aria-label":`Go to image ${w+1}`},w))})}),s.jsx(ta.div,{initial:{opacity:1,y:20},animate:{opacity:o?1:0,y:o?1:20},transition:{duration:.6,delay:1},className:`absolute bottom-1 left-1/2 transform -translate-x-1/2 z-20 
                     lg:bottom-1 
                     md:bottom-10 
                     sm:bottom-8 
                     max-sm:bottom-6`,children:s.jsx("button",{onClick:p,className:`px-8 py-3 bg-primary text-white font-semibold rounded-full hover:bg-red-400/90 transition-colors duration-300 
                       min-w-[240px] 
                       lg:min-w-[240px] lg:px-8 lg:py-3 lg:text-base
                       md:min-w-[200px] md:px-6 md:py-2.5 md:text-sm
                       sm:min-w-[180px] sm:px-5 sm:py-2 sm:text-sm
                       max-sm:min-w-[150px] max-sm:px-4 max-sm:py-2 max-sm:text-xs`,children:"Join Our Milk Club"})})]})})},AW="/assets/IMG-20250724-WA0006-BCVILs9C.jpg";var ty=(e=>(e.HandDelivery="HandDelivery",e.Courier="Courier",e))(ty||{});const qS="/admin/areamasters",Aje=async e=>en(qS,e),Eje=async e=>$t(qS,e),Cje=async(e,t)=>Aa(`${qS}/${e}`,t),_je=async e=>mi(`${qS}/${e}`),B6=async()=>(await $t("/api/public/area-masters")).data,o9e=async e=>(await $t(`/api/public/area-masters/by-pincode/${e}`)).data,kje=e=>{if(!e||e.trim()==="")return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t.map(r=>String(r).trim()).filter(Boolean)}catch{}if(e.includes(","))return e.split(",").map(t=>t.trim()).filter(Boolean);if(e.includes(";"))return e.split(";").map(t=>t.trim()).filter(Boolean);if(e.includes("|"))return e.split("|").map(t=>t.trim()).filter(Boolean);{const t=e.trim().split(/\s+/);return t.length>1?t.filter(Boolean):[e.trim()]}},Qy=(e,t)=>{if(!e||e.length!==6||!/^\d{6}$/.test(e))return{isValid:!1,matchedAreas:[],message:"Please enter a valid 6-digit pincode"};const r=t.filter(n=>kje(n.pincodes).includes(e));return r.length>0?{isValid:!0,matchedAreas:r,message:`Great! We deliver to ${e}`}:{isValid:!1,matchedAreas:[],message:`We currently do not serve ${e}, but we're expanding!`}},iw="/api/admin/cities",Tje=async(e={})=>{try{return await $t(iw,e)}catch(t){throw console.error("Failed to fetch cities:",t),t}},ow=async()=>{try{const e=await $t(iw,{limit:1e3});return console.log("Response returned ",e),e.cities}catch(e){throw console.error("Failed to fetch cities list:",e),e}},Dje=async e=>{try{return await en(iw,e)}catch(t){throw console.error("Failed to create city:",t),t}},Pje=async(e,t)=>{try{return await Aa(`${iw}/${e}`,t)}catch(r){throw console.error(`Failed to update city ${e}:`,r),r}},Oje=async e=>{try{await mi(`${iw}/${e}`)}catch(t){throw console.error(`Failed to delete city ${e}:`,t),t}},U6=async e=>{const t=await en("/api/leads",e);if(!t.success||!t.data)throw new Error(t.message||"Failed to create lead");return t.data},Rje=hge,EW=y.createContext({}),uu=({...e})=>s.jsx(EW.Provider,{value:{name:e.name},children:s.jsx(Fs,{...e})}),$6=()=>{const e=y.useContext(EW),t=y.useContext(CW),{getFieldState:r}=Y2(),n=nq({name:e.name}),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},CW=y.createContext({});function Ql({className:e,...t}){const r=y.useId();return s.jsx(CW.Provider,{value:{id:r},children:s.jsx("div",{"data-slot":"form-item",className:jt("grid gap-2",e),...t})})}function vd({className:e,...t}){const{error:r,formItemId:n}=$6();return s.jsx(Be,{"data-slot":"form-label","data-error":!!r,className:jt("data-[error=true]:text-destructive",e),htmlFor:n,...t})}function Xl({...e}){const{error:t,formItemId:r,formDescriptionId:n,formMessageId:a}=$6();return s.jsx(J5,{"data-slot":"form-control",id:r,"aria-describedby":t?`${n} ${a}`:`${n}`,"aria-invalid":!!t,...e})}function Fm({className:e,...t}){const{error:r,formMessageId:n}=$6(),a=r?String((r==null?void 0:r.message)??""):t.children;return a?s.jsx("p",{"data-slot":"form-message",id:n,className:jt("text-destructive text-sm",e),...t,children:a}):null}In({name:Ft().min(1,"Name is required").min(2,"Name must be at least 2 characters"),mobile:Ft().min(1,"Mobile number is required").regex(/^\d{10,}$/,"Mobile number must be at least 10 digits and contain only numbers"),email:Ft().email("Invalid email address").optional().or(iy("")),plotBuilding:Ft().min(1,"Flat/House/Plot number is required"),streetArea:Ft().min(1,"Street/Area name is required"),landmark:Ft().optional(),pincode:Ft().min(1,"Pincode is required").regex(/^\d{6}$/,"Pincode must be exactly 6 digits"),city:Ft().min(1,"City is required"),state:Ft().min(1,"State is required"),notes:Ft().optional()});const _W=({isOpen:e,onOpenChange:t,productName:r,areaName:n,message:a})=>{const i=()=>{t(!1)};return s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"w-full max-w-md mx-auto p-0 max-h-[90vh] overflow-hidden",children:[s.jsxs(An,{className:"px-6 py-6 text-center bg-gradient-to-r from-green-50 to-blue-50",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(Ol,{className:"h-8 w-8 text-green-600"})})}),s.jsx(En,{className:"text-xl font-semibold text-gray-900 mb-2",children:"Thank You for Your Interest!"}),s.jsx(Vo,{className:"text-gray-600 leading-relaxed",children:a||`We're excited about your interest in ${r||"our dairy products"}${n?` for ${n}`:""}!`})]}),s.jsxs("div",{className:"px-6 py-4",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Rd,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"We've noted your location"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Your details have been saved and we're working hard to expand our dairy delivery services to your area."})]})]})}),s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(iC,{className:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-orange-900 mb-1",children:"We'll reach out to you shortly"}),s.jsx("p",{className:"text-sm text-orange-700",children:"Our team will contact you as soon as we begin serving your area. Thank you for your patience!"})]})]})})]}),s.jsx(Il,{className:"px-6 py-4 bg-gray-50",children:s.jsx(Ee,{onClick:i,className:"w-full bg-primary hover:bg-primary/90 text-white",children:"Got it, Thank You!"})})]})})},V6=({isOpen:e,onOpenChange:t,productId:r,productName:n,isDairyProduct:a=!1,message:i,prefilledData:o={},onSuccess:l})=>{const[c,d]=y.useState({name:o.recipientName||"",mobile:o.mobile||"",email:"",plotBuilding:o.plotBuilding||"",streetArea:o.streetArea||"",landmark:o.landmark||"",pincode:o.pincode||"",city:o.city||"Dombivli",state:o.state||"Maharashtra",productId:r,isDairyProduct:a,notes:`Service request for ${n||"product"} in ${o.pincode||"unspecified area"}`}),[h,m]=y.useState({}),[p,g]=y.useState(!1),[w,b]=y.useState(!1);y.useEffect(()=>{d({name:o.recipientName||"",mobile:o.mobile||"",email:"",plotBuilding:o.plotBuilding||"",streetArea:o.streetArea||"",landmark:o.landmark||"",pincode:o.pincode||"",city:o.city||"Dombivli",state:o.state||"Maharashtra",productId:r,isDairyProduct:a,notes:`Service request for ${n||"product"} in ${o.pincode||"unspecified area"}`})},[o,r,n,a]);const v=(E,C)=>{d(I=>({...I,[E]:C})),h[E]&&m(I=>({...I,[E]:""}))},N=()=>{const E={};return c.name.trim()||(E.name="Name is required"),c.mobile.trim()?/^\d{10}$/.test(c.mobile.trim())||(E.mobile="Mobile must be 10 digits"):E.mobile="Mobile is required",c.plotBuilding.trim()||(E.plotBuilding="Plot/Building is required"),c.streetArea.trim()||(E.streetArea="Street/Area is required"),c.pincode.trim()?/^\d{6}$/.test(c.pincode.trim())||(E.pincode="Pincode must be 6 digits"):E.pincode="Pincode is required",c.city.trim()||(E.city="City is required"),c.state.trim()||(E.state="State is required"),m(E),Object.keys(E).length===0},S=async E=>{if(E.preventDefault(),!!N()){g(!0);try{await U6(c),setTimeout(()=>{b(!0),ve.success("Thank you! We'll notify you when service is available in your area.")},2e3),setTimeout(()=>{l==null||l(),t(!1)},2e3)}catch(C){console.error("Failed to submit lead:",C),ve.error("Failed to submit request. Please try again.")}finally{g(!1)}}},A=()=>{t(!1)};return w?s.jsx(xn,{open:e,onOpenChange:t,children:s.jsx(yn,{className:"w-full max-w-lg mx-auto p-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ol,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Request Submitted Successfully!"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Thank you for your interest! We've saved your details and will contact you as soon as we start serving your area."}),n&&s.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["We'll prioritize ",s.jsx("strong",{children:n})," availability in your region."]})]})]})})}):s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"w-full max-w-2xl mx-auto p-0 max-h-[90vh] flex flex-col overflow-hidden",children:[s.jsx(An,{className:"px-6 py-4 border-b bg-gradient-to-r from-blue-50 to-green-50 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(Rd,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx(En,{className:"text-lg font-semibold text-gray-900",children:"Request Service in Your Area"}),s.jsx(Vo,{className:"text-sm text-gray-600 mt-1",children:i||"Help us prioritize expanding our delivery network to your location"})]})]})}),s.jsx("div",{className:"p-6 space-y-4 overflow-y-auto flex-1",children:s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[n&&s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Product of Interest:"}),s.jsx("span",{className:"text-sm text-blue-700",children:n}),a&&s.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full",children:"Dairy Product"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"name",className:"text-sm font-medium mb-1 block",children:"Full Name *"}),s.jsx(gt,{id:"name",value:c.name,onChange:E=>v("name",E.target.value),placeholder:"Your full name",className:h.name?"border-red-500":""}),h.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.name})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"mobile",className:"text-sm font-medium mb-1 block",children:"Mobile Number *"}),s.jsx(gt,{id:"mobile",type:"tel",max:10,value:c.mobile,onChange:E=>{const C=E.target.value.replace(/\D/g,"").slice(0,10);v("mobile",C)},placeholder:"10-digit mobile number",maxLength:10,className:h.mobile?"border-red-500":""}),h.mobile&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.mobile})]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"email",className:"text-sm font-medium mb-1 block",children:"Email Address (Optional)"}),s.jsx(gt,{id:"email",type:"email",value:c.email,onChange:E=>v("email",E.target.value),placeholder:"your.email@example.com"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"plotBuilding",className:"text-sm font-medium mb-1 block",children:"Plot/Building *"}),s.jsx(gt,{id:"plotBuilding",value:c.plotBuilding,onChange:E=>v("plotBuilding",E.target.value),placeholder:"Plot number, building name",className:h.plotBuilding?"border-red-500":""}),h.plotBuilding&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.plotBuilding})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"streetArea",className:"text-sm font-medium mb-1 block",children:"Street/Area *"}),s.jsx(gt,{id:"streetArea",value:c.streetArea,onChange:E=>v("streetArea",E.target.value),placeholder:"Street name, area",className:h.streetArea?"border-red-500":""}),h.streetArea&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.streetArea})]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"landmark",className:"text-sm font-medium mb-1 block",children:"Landmark (Optional)"}),s.jsx(gt,{id:"landmark",value:c.landmark,onChange:E=>v("landmark",E.target.value),placeholder:"Nearby landmark"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"pincode",className:"text-sm font-medium mb-1 block",children:"Pincode *"}),s.jsx(gt,{id:"pincode",value:c.pincode,onChange:E=>{const C=E.target.value.replace(/\D/g,"").slice(0,6);v("pincode",C)},placeholder:"6-digit pincode",maxLength:6,className:h.pincode?"border-red-500":""}),h.pincode&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.pincode})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"city",className:"text-sm font-medium mb-1 block",children:"City *"}),s.jsx(gt,{id:"city",value:c.city,onChange:E=>v("city",E.target.value),placeholder:"Your city",className:h.city?"border-red-500":""}),h.city&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.city})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"state",className:"text-sm font-medium mb-1 block",children:"State *"}),s.jsxs(pr,{value:c.state,onValueChange:E=>v("state",E),children:[s.jsx(xr,{className:h.state?"border-red-500":"",children:s.jsx(gr,{placeholder:"Select state"})}),s.jsx(yr,{className:"max-h-60 overflow-y-auto",children:ew.map(E=>s.jsx(wt,{value:E.label,children:E.label},E.value))})]}),h.state&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.state})]})]}),s.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:s.jsxs("p",{className:"text-sm text-green-700",children:[s.jsx("strong",{children:"What happens next?"})," We'll review your request and contact you as soon as we expand our delivery services to your area. You'll be among the first customers we serve!"]})})]})}),s.jsx(Il,{className:"p-6 border-t bg-gray-50 flex-shrink-0",children:s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:A,disabled:p,className:"flex-1",children:"Cancel"}),s.jsx(Ee,{type:"button",onClick:S,disabled:p,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Request"})]})})]})})},q6=({pincode:e,isValid:t,message:r,isValidating:n=!1,showServiceRequest:a=!1,onRequestService:i})=>n?s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Validating pincode..."})]}):!e||e.length<6?s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-gray-50 border border-gray-200 rounded-md",children:[s.jsx(w9,{className:"h-4 w-4 text-gray-500"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Enter your 6-digit pincode to check delivery availability"})]}):t?s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:[s.jsx(cv,{className:"h-4 w-4 text-green-600"}),s.jsx("p",{className:"text-sm text-green-700",children:r})]}):s.jsxs("div",{className:"mt-2 p-3 bg-orange-50 border border-orange-200 rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(tc,{className:"h-4 w-4 text-orange-600"}),s.jsx("p",{className:"text-sm text-orange-700",children:r})]}),a&&i&&s.jsxs(Ee,{type:"button",variant:"outline",size:"sm",onClick:i,className:"mt-2 text-white bg-secondary border-secondary hover:bg-secondary",children:[s.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Click Here to Request Service in Your Area"]})]}),kW=({isOpen:e,onOpenChange:t,title:r,message:n,orderDetails:a,subscriptionDetails:i})=>{const o=()=>{t(!1)};return s.jsx(xn,{open:e,onOpenChange:t,children:s.jsx(yn,{className:"w-full max-w-md mx-auto p-0 overflow-hidden",children:s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6",children:[s.jsxs(An,{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ol,{className:"w-8 h-8 text-green-600"})}),s.jsx(En,{className:"text-xl font-semibold text-green-800",children:r}),s.jsx("p",{className:"text-green-700 text-sm",children:n})]}),a&&s.jsxs("div",{className:"mt-6 bg-white rounded-lg p-4 space-y-3",children:[s.jsxs("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[s.jsx(po,{className:"w-4 h-4"}),"Order Details"]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.orderId&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Order ID:"}),s.jsx("span",{className:"font-medium",children:a.orderId})]}),a.productName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Product:"}),s.jsx("span",{className:"font-medium",children:a.productName})]}),a.deliveryDate&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Delivery Date:"}),s.jsxs("span",{className:"font-medium flex items-center gap-1",children:[s.jsx(Ma,{className:"w-3 h-3"}),Wt(a.deliveryDate,"MMM dd, yyyy")]})]}),a.totalAmount&&s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"font-medium",children:"Total Amount:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",a.totalAmount.toFixed(2)]})]})]})]}),i&&s.jsxs("div",{className:"mt-6 bg-white rounded-lg p-4 space-y-3",children:[s.jsxs("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[s.jsx(po,{className:"w-4 h-4"}),"Subscription Details"]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.subscriptionId&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subscription ID:"}),s.jsx("span",{className:"font-medium",children:i.subscriptionId})]}),i.productName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Product:"}),s.jsx("span",{className:"font-medium",children:i.productName})]}),i.period&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Period:"}),s.jsx("span",{className:"font-medium",children:i.period})]}),i.startDate&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Start Date:"}),s.jsxs("span",{className:"font-medium flex items-center gap-1",children:[s.jsx(Ma,{className:"w-3 h-3"}),Wt(i.startDate,"MMM dd, yyyy")]})]}),i.totalAmount&&s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"font-medium",children:"Total Amount:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",i.totalAmount.toFixed(2)]})]})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(Ee,{onClick:o,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:"Continue Shopping"})})]})})})},RN=[{id:"mon",label:"Mon",fullName:"Monday"},{id:"tue",label:"Tue",fullName:"Tuesday"},{id:"wed",label:"Wed",fullName:"Wednesday"},{id:"thu",label:"Thu",fullName:"Thursday"},{id:"fri",label:"Fri",fullName:"Friday"},{id:"sat",label:"Sat",fullName:"Saturday"},{id:"sun",label:"Sun",fullName:"Sunday"}],zE=[{value:3,label:"3 Days (Trial Pack)"},{value:15,label:"15 Days (Mid Saver Pack)"},{value:30,label:"30 Days (Super Saver Pack)"}],Ije=({isOpen:e,onOpenChange:t,product:r,productId:n,depotId:a,selectedDepot:i})=>{var ht,dt,yt,Vt,Zt;const[o,l]=y.useState(1),[c,d]=y.useState(1),[h,m]=y.useState("daily"),[p,g]=y.useState(()=>{const de=new Date;return de.setDate(de.getDate()+2),de.setHours(12,0,0,0),console.log("[DATE DEBUG] Initial startDate set to:",de.toString(),"UTC ISO:",de.toISOString()),de}),[w,b]=y.useState(!1),[v,N]=y.useState(3),[S,A]=y.useState([]),[E,C]=y.useState(!1),[I,P]=y.useState([]),[F,k]=y.useState([]),[z,O]=y.useState(!1),[M,R]=y.useState(null),[B,Y]=y.useState("subscriptionDetails"),[U,Q]=y.useState({}),[V,Z]=y.useState(""),[J,ae]=y.useState(0),[D,H]=y.useState([]),[K,W]=y.useState(!1),[re,te]=y.useState(!0),[ie,se]=y.useState(""),[le,Ce]=y.useState([]),[De,Ze]=y.useState([]),[ke,ce]=y.useState(null),[Me,be]=y.useState([]),[ge,Ye]=y.useState(null),[ze,Pe]=y.useState([]),[me,we]=y.useState(!1),[qe,xt]=y.useState(""),[pt,ct]=y.useState({isValid:!1,message:"",isValidating:!1}),[ft,Mt]=y.useState(!1),[Xt,ur]=y.useState(!1),[es,Qr]=y.useState({});y.useEffect(()=>{const de=Ve=>{const He=v<15&&Ve==="alternate-days",kt=v<7&&Ve==="day1-day2",Kt=v<30&&Ve==="select-days";return He||kt||Kt?"daily":Ve};E?A(Ve=>Ve.map(He=>({...He,deliveryOption:de(He.deliveryOption)}))):m(de(h))},[v,E]);const[mt,Er]=y.useState({recipientName:"",mobile:V||"",plotBuilding:"",streetArea:"",landmark:"",city:"Dombivli",state:"Maharashtra",pincode:"",isDefault:!1,label:"Home",locationId:void 0}),tr=(de,Ve)=>{Er(He=>({...He,[de]:Ve})),U[de]&&Q(He=>({...He,[de]:""})),de==="pincode"&&typeof Ve=="string"&&ge?fr(Ve):de==="pincode"&&typeof Ve=="string"&&!ge&&ct({isValid:!1,message:"",isValidating:!1})},fr=(de,Ve)=>{const He=Ve||ge;if(console.log("validatePincode called with:",{pincode:de,currentAreaMaster:He==null?void 0:He.name}),!de||de.length<6){ct({isValid:!1,message:"",isValidating:!1});return}if(!He){ct({isValid:!1,message:"Please select a delivery area first to validate your pincode",isValidating:!1});return}if(de.length===6&&/^\d{6}$/.test(de)){ct({isValid:!1,message:"",isValidating:!0}),console.log("Selected area master pincodes:",He.pincodes);const kt=Qy(de,[He]);console.log("Pincode validation result:",kt),ct({isValid:kt.isValid,message:kt.isValid?"Great ! We deliver in your location":"Milk Facility is Not available in your pincode. Please check your pincode or select a different area.",isValidating:!1})}else ct({isValid:!1,message:"Please enter a valid 6-digit pincode",isValidating:!1})},Lr=()=>{console.log("handleRequestService called with form state:",{pincode:mt.pincode,selectedArea:ge==null?void 0:ge.name,city:mt.city});const de=ge?`We currently don't serve pincode ${mt.pincode} in ${ge.name}. Help us prioritize expanding to your area!`:`We currently don't serve pincode ${mt.pincode}. Help us prioritize expanding to your area!`;xt(de),Mt(!0)},Pt=de=>{const{name:Ve,value:He}=de.target;tr(Ve,He)},Tr=de=>{tr("label",de)},Cr=de=>{const Ve=Number(de);return Number.isFinite(Ve)&&Ve>0?Ve:void 0},mr=de=>{var Ve;return{id:((Ve=de.id)==null?void 0:Ve.toString())||de.id,name:de.name,mrp:Cr(de.mrp),buyOncePrice:Cr(de.buyOncePrice),price3Day:Cr(de.price3Day),price15Day:Cr(de.price15Day),price1Month:Cr(de.price1Month),unit:de.name,description:de.description,isAvailable:de.isAvailable??!0}},ar=(de,Ve)=>{const He=Kt=>Number.isFinite(Kt)&&Kt>0?Kt:void 0;let kt;switch(Ve){case 3:kt=He(de.price3Day);break;case 15:kt=He(de.price15Day);break;case 30:kt=He(de.price1Month);break}return kt??de.buyOncePrice??de.mrp??0},Gt=y.useCallback(async(de,Ve)=>{if(!(!de||Ve==null))try{const He=await $t(`/public/depot-variants/${de}?depotId=${Ve}`),kt=(He==null?void 0:He.data)||He;if(kt&&Array.isArray(kt)&&kt.length>0){const Kt=kt.map(Jt=>mr(Jt));P(Kt),C(!0),S.length===0&&A([{variantId:Kt[0].id,quantity:1,quantityVarying2:1,deliveryOption:"daily",selectedDays:[]}])}else P([]),C(!1)}catch(He){console.error("Failed to fetch product variants:",He),ve.error("Could not load product variants."),P([]),C(!1)}},[S.length]);y.useEffect(()=>{const de=async()=>{try{const He=await B6();be(He),Pe(He)}catch(He){console.error("Failed to fetch area masters:",He),ve.error("Could not load delivery areas.")}},Ve=async()=>{try{const He=await ow();Ze(He)}catch(He){console.error("Failed to fetch cities:",He),ve.error("Could not load cities.")}};e?(n&&a!=null&&Gt(n,a),de(),Ve()):(P([]),C(!1),A([]),ce(null),Ye(null),Y("subscriptionDetails"))},[e,n,a,Gt]),y.useEffect(()=>{if(ke&&Me.length>0){const de=Me.filter(Ve=>{var He;return Ve.cityId?Ve.cityId===ke:(He=Ve.city)!=null&&He.id?Ve.city.id===ke:!1});Pe(de)}else Pe(Me)},[ke,Me]),y.useEffect(()=>{ge&&ke&&ze.length>0&&(ze.some(Ve=>Ve.id===ge.id)||(Ye(null),ct({isValid:!1,message:"",isValidating:!1})))},[ze,ge,ke]),y.useEffect(()=>{ge||ct({isValid:!1,message:"",isValidating:!1})},[ge]);const Mr=(de,Ve)=>{A(He=>He.map(kt=>kt.variantId===de?{...kt,deliveryOption:Ve,selectedDays:Ve==="select-days"?kt.selectedDays:[]}:kt))},ts=(de,Ve)=>{A(He=>He.map(kt=>{if(kt.variantId===de){const Kt=kt.selectedDays.includes(Ve)?kt.selectedDays.filter(Jt=>Jt!==Ve):[...kt.selectedDays,Ve];return{...kt,selectedDays:Kt}}return kt}))},ss=(de,Ve,He)=>{A(kt=>kt.map(Kt=>Kt.variantId===de?{...Kt,[Ve]:Math.max(1,He)}:Kt))},Xe=de=>{switch(de.deliveryOption){case"daily":return v;case"select-days":if(de.selectedDays.length===0)return 0;const Ve=de.selectedDays.map(Jt=>{switch(Jt){case"mon":return 1;case"tue":return 2;case"wed":return 3;case"thu":return 4;case"fri":return 5;case"sat":return 6;case"sun":return 0;default:return-1}}).filter(Jt=>Jt>=0);if(!p)return 0;let He=0;const kt=new Date(p),Kt=new Date(p);Kt.setDate(Kt.getDate()+v-1);for(let Jt=new Date(kt);Jt<=Kt;Jt.setDate(Jt.getDate()+1)){const Dr=Jt.getDay();Ve.includes(Dr)&&He++}return He;case"day1-day2":return v;case"alternate-days":return p?Math.ceil(v/2):0;default:return v}};y.useEffect(()=>{e&&n&&a!=null?Gt(n,a):e||(P([]),C(!1),A([]))},[e,n,a,Gt]),y.useEffect(()=>{(async()=>{if(localStorage.getItem("authToken"))try{const He=await $t("/users/me");He&&He.mobile&&Z(He.mobile)}catch(He){console.error("Failed to fetch user profile:",He)}})()},[]),y.useEffect(()=>{V&&Er(de=>({...de,mobile:V}))},[V]);const lt=()=>{Y("subscriptionDetails"),Er({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",city:"Dombivli",state:"Maharashtra",pincode:"",isDefault:!1,label:"Home",locationId:void 0}),Q({})},Ct=()=>{var Ve,He,kt,Kt,Jt,Dr,as,bs,tn,xs;const de={};if((Ve=mt==null?void 0:mt.recipientName)!=null&&Ve.trim()||(de.recipientName="Recipient name is required."),(He=mt==null?void 0:mt.mobile)!=null&&He.trim()?/^\d{10}$/.test(mt.mobile.trim())||(de.mobile="Mobile number must be 10 digits."):de.mobile="Mobile number is required.",(kt=mt==null?void 0:mt.plotBuilding)!=null&&kt.trim()||(de.plotBuilding="Plot/Building is required."),(Kt=mt==null?void 0:mt.streetArea)!=null&&Kt.trim()||(de.streetArea="Street/Area is required."),(Jt=mt==null?void 0:mt.pincode)!=null&&Jt.trim()?/^\d{6}$/.test(mt.pincode.trim())||(de.pincode="Pincode must be 6 digits."):de.pincode="Pincode is required.",(Dr=mt==null?void 0:mt.city)!=null&&Dr.trim()||(de.city="City is required."),(as=mt==null?void 0:mt.state)!=null&&as.trim()||(de.state="State is required."),(bs=mt==null?void 0:mt.label)!=null&&bs.trim()||(de.label="Address label is required."),ge||(de.areaMaster="Please select a delivery area from our service locations."),(tn=mt==null?void 0:mt.pincode)!=null&&tn.trim()&&ge){const _n=Qy(mt.pincode.trim(),[ge]);console.log("Form validation - pincode check:",{pincode:mt.pincode,areaMaster:ge.name,isValid:_n.isValid,message:_n.message}),_n.isValid||(de.pincode=`Pincode ${mt.pincode} is not served by ${ge.name}. Please select a different area or request service.`)}return(xs=mt==null?void 0:mt.pincode)!=null&&xs.trim()&&!ge&&Me.length>0&&(de.areaMaster="Please select a delivery area first, then enter your pincode to validate coverage."),console.log("Address validation:",{selectedAreaMaster:ge==null?void 0:ge.name,pincode:mt==null?void 0:mt.pincode,areaMastersCount:Me.length,filteredAreaMastersCount:ze.length,errors:de}),Q(de),Object.keys(de).length===0},lr=()=>{const de={};if(!p)de.startDate="Start date is required.";else{const Ve=new Date;Ve.setDate(Ve.getDate()+2),Ve.setHours(0,0,0,0),p<Ve&&(de.startDate="Start date must be at least 2 days from today.")}if(E&&S.length>0){let Ve=!0;S.forEach(He=>{He.deliveryOption==="select-days"&&He.selectedDays.length===0&&(Ve=!1)}),Ve||(de.variantSchedules="Please select delivery days for all variants with 'Select Days' option.")}else h==="select-days"&&D.length===0&&(de.selectedDays="Please select at least one delivery day.");return i!=null&&i.isOnline?(M==null||String(M).trim()==="")&&(de.selectedAddressId="Please select a delivery address."):(i==null?void 0:i.address)==null&&(de.depotAddress="Depot address information is missing. Please contact support."),E&&S.length===0&&(de.selectedVariants="Please select at least one variant."),Q(de),Object.keys(de).length===0},_r={getUserAddresses:async()=>{try{O(!0);const de=await $t("/delivery-addresses"),Ve=Array.isArray(de)?de.map(He=>({id:He.id.toString(),recipientName:He.recipientName||"",mobile:He.mobile||"",plotBuilding:He.plotBuilding||"",streetArea:He.streetArea||"",landmark:He.landmark||"",city:He.city||"",state:He.state||"",pincode:He.pincode||"",isDefault:He.isDefault||!1,label:He.label||He.type||"Home"})):[];return k(Ve),Ve.length>0&&!M&&R(Ve[0].id),Ve}catch(de){return console.error("Error fetching addresses:",de),[]}finally{O(!1)}},createUserAddress:async de=>{try{const Ve=await en("/delivery-addresses",de),He={id:Ve.id.toString(),recipientName:Ve.recipientName||"",mobile:Ve.mobile||"",plotBuilding:Ve.plotBuilding||"",streetArea:Ve.streetArea||"",landmark:Ve.landmark||"",city:Ve.city||"",state:Ve.state||"",pincode:Ve.pincode||"",isDefault:Ve.isDefault||!1,label:Ve.label||Ve.type||de.label||"Home"};return k(kt=>[...kt,He]),R(He.id),He}catch(Ve){throw console.error("Error creating address:",Ve),Ve}}};y.useEffect(()=>{e&&(async()=>{try{const de=await $t("/api/wallet/balance");let Ve=0;typeof de=="number"?Ve=de:de&&typeof de.balance=="number"?Ve=de.balance:de&&de.data&&typeof de.data.balance=="number"&&(Ve=de.data.balance),ae(Ve)}catch(de){console.error("Failed to fetch wallet balance",de)}})()},[e]),y.useEffect(()=>{e&&B==="subscriptionDetails"&&(i!=null&&i.isOnline)&&_r.getUserAddresses().then(de=>{de.length>0&&!M&&de.length>0&&R(de[0].id)}).catch(de=>console.error("Error loading addresses:",de)),e||Y("subscriptionDetails")},[e,B,i==null?void 0:i.isOnline]);const ks=async()=>{if(!Ct())return;if((r==null?void 0:r.isDairyProduct)&&ge&&!ge.isDairyProduct){const Ve={name:mt.recipientName,mobile:mt.mobile,email:"",plotBuilding:mt.plotBuilding,streetArea:mt.streetArea,landmark:mt.landmark||"",pincode:mt.pincode,city:mt.city,state:mt.state,productId:r.id,isDairyProduct:!0,notes:`Lead captured from subscription modal for area: ${ge.name}`};try{await U6(Ve),ve.success("Thank you for your interest! We've noted your details and will contact you when we expand dairy delivery to your area."),xt(`We don't currently serve dairy products in ${ge.name}. However, we'd love to expand our dairy delivery services to your area! We've saved your details and will notify you when service becomes available.`),we(!0),Er({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home",locationId:void 0}),Ye(null),Y("subscriptionDetails")}catch(He){console.error("Failed to save lead:",He),ve.error("An error occurred while saving your information. Please try again.")}}else{const Ve={...mt};try{await _r.createUserAddress(Ve),ve.success("Address saved successfully!"),Y("subscriptionDetails"),Er({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home",locationId:void 0})}catch(He){console.error("Failed to save address:",He),ve.error("An error occurred while saving your address. Please try again.")}}},Xr=async de=>{if(console.log("handleAreaMasterSelection called with:",de.name),Ye(de),U.areaMaster&&Q(Ve=>({...Ve,areaMaster:""})),r!=null&&r.isDairyProduct&&!de.isDairyProduct){const Ve=`We don't currently serve dairy products in ${de.name}. However, we'd love to expand our dairy delivery services to your area!`;xt(Ve)}else xt("");mt.pincode&&mt.pincode.length===6&&(console.log("Revalidating pincode against newly selected area:",{pincode:mt.pincode,areaMaster:de.name}),fr(mt.pincode,de))},Ns=de=>{D.includes(de)?H(D.filter(Ve=>Ve!==de)):H([...D,de])},fe=()=>{if(!E&&h==="select-days"&&D.length<3){ve.error("Please select at least 3 delivery days.");return}if(E&&S.some(de=>de.deliveryOption==="select-days"&&de.selectedDays.length<3)){ve.error("Please select at least 3 delivery days for all selected variants.");return}if(i!=null&&i.isOnline&&M==null){console.error("No address selected. Please select or add an address."),ve.error("Please select a delivery address");return}if(!(i!=null&&i.isOnline)&&(i==null?void 0:i.address)==null){ve.error("Depot address information is missing. Please contact support.");return}Y("confirmation")},Re=(de,Ve)=>{const He=Kt=>Number.isFinite(Kt)&&Kt>0?Kt:void 0;let kt;switch(Ve){case 3:kt=He(de.price3Day);break;case 15:kt=He(de.price15Day);break;case 30:kt=He(de.price1Month);break}return kt??de.buyOncePrice??de.mrp??0},Ne=()=>{const de={mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:0};switch(h){case"daily":return v;case"select-days":{if(!p||D.length===0)return 0;const Ve=D.map(Kt=>de[Kt]).filter(Kt=>Kt!==void 0);let He=0;const kt=new Date(p);kt.setDate(kt.getDate()+v-1);for(let Kt=new Date(p);Kt<=kt;Kt.setDate(Kt.getDate()+1))Ve.includes(Kt.getDay())&&He++;return He}case"day1-day2":return v;case"alternate-days":return Math.ceil(v/2);default:return v}},Ae=()=>{if(!E||S.length===0){if(!r)return 0;const kt=Ne(),Kt=r.mrp||r.buyOncePrice||0,Jt=Re(r,v);if(Jt>=Kt)return 0;let Dr=0;if(h==="day1-day2"){const xs=Math.ceil(v/2),_n=Math.floor(v/2);Dr=o*xs+c*_n}else Dr=o*kt;const as=Kt*Dr,bs=Jt*Dr;return Math.max(0,as-bs)}let de=0,Ve=0;return S.forEach(kt=>{const Kt=I.find(tn=>tn.id===kt.variantId);if(!Kt)return;const Jt=Kt.mrp||Kt.buyOncePrice||0,Dr=ar(Kt,v),as=Xe(kt);let bs=0;switch(kt.deliveryOption){case"daily":case"select-days":case"alternate-days":bs=kt.quantity*as;break;case"day1-day2":const tn=Math.ceil(v/2),xs=Math.floor(v/2);bs=kt.quantity*tn+(kt.quantityVarying2||1)*xs;break}de+=Jt*bs,Ve+=Dr*bs}),Math.max(0,de-Ve)},Ie=async()=>{var kt,Kt;if(!lr())return;if(r!=null&&r.isDairyProduct&&ge&&!ge.isDairyProduct){we(!0);return}const de=i!=null&&i.isOnline?M:i==null?void 0:i.address;if(r==null||n==null||de==null||p==null){const Jt=[];r==null&&Jt.push("product information"),n==null&&Jt.push("product ID"),de==null&&(i!=null&&i.isOnline?Jt.push("delivery address"):Jt.push("depot address information")),p==null&&Jt.push("start date");const Dr=`Missing: ${Jt.join(", ")}. Please ensure all required information is provided.`;ve.error(Dr);return}let Ve=[];if(E)Ve=S.filter(Jt=>Jt.quantity>0).map(Jt=>{const Dr=Jt.deliveryOption,as=p.getFullYear(),bs=String(p.getMonth()+1).padStart(2,"0"),tn=String(p.getDate()).padStart(2,"0"),xs=`${as}-${bs}-${tn}`;console.log("Formatting date for variant:",{startDate:p,localYear:as,localMonth:bs,localDay:tn,formattedStartDate:xs});const _n={productId:parseInt(Jt.variantId,10),period:v,startDate:xs,deliverySchedule:Dr,qty:Jt.quantity,internalScheduleLogicType:Dr};return(Dr==="select-days"||Dr==="SELECT-DAYS")&&(_n.weekdays=Jt.selectedDays),Dr==="day1-day2"&&(_n.altQty=Jt.quantityVarying2),_n});else{const Jt=h,Dr=p.getFullYear(),as=String(p.getMonth()+1).padStart(2,"0"),bs=String(p.getDate()).padStart(2,"0"),tn=`${Dr}-${as}-${bs}`;console.log("[DATE DEBUG] Non-variant subscription date formatting:",{rawStartDate:p.toString(),localDateParts:{year:Dr,month:as,day:bs},formattedForBackend:tn,utcIsoString:p.toISOString(),userTimezoneOffset:p.getTimezoneOffset()/-60}),console.log("Formatting date for non-variant:",{startDate:p,localYear:Dr,localMonth:as,localDay:bs,formattedStartDate:tn});const xs={productId:parseInt(n,10),period:v,startDate:tn,deliverySchedule:Jt,qty:o,internalScheduleLogicType:Jt};(Jt==="select-days"||Jt==="SELECT-DAYS")&&(xs.weekdays=D),Jt==="day1-day2"&&(xs.altQty=c),Ve.push(xs)}if(Ve.length===0){ve.error("Please set a quantity for at least one subscription.");return}const He={subscriptions:Ve,deliveryAddressId:String(de),walletamt:re?st:0,deliveryInstructions:ie.trim()||void 0};try{W(!0);const Jt=await S1e(He),Dr=(Te==null?void 0:Te.totalPrice)||0,as=re?Dr-st:Dr;Qr({subscriptionId:(Jt==null?void 0:Jt.subscriptionId)||`SUB-${Date.now()}`,totalAmount:as}),ur(!0),t(!1)}catch(Jt){console.error("Failed to create subscription:",Jt);const Dr=((Kt=(kt=Jt.response)==null?void 0:kt.data)==null?void 0:Kt.message)||"An unexpected error occurred.";ve.error(`Failed to create subscription: ${Dr}`)}finally{W(!1)}},Te=y.useMemo(()=>{var kt;if(!r)return null;let de=0,Ve=0,He="";if(E&&S.length>0)S.forEach(Kt=>{const Jt=I.find(xs=>xs.id===Kt.variantId);if(!Jt)return;const Dr=Xe(Kt);let as=0;switch(Kt.deliveryOption){case"daily":case"select-days":as=Kt.quantity*Dr;break;case"day1-day2":const xs=Math.ceil(v/2),_n=Math.floor(v/2);as=Kt.quantity*xs+(Kt.quantityVarying2||1)*_n;break;case"alternate-days":as=Kt.quantity*Math.ceil(v/2);break}const tn=ar(Jt,v)*as;de+=as,Ve+=tn}),He=`${S.length} variant${S.length>1?"s":""} `;else{let Kt=0;switch(h){case"daily":Kt=v,de=o*Kt,He=`Daily delivery of ${o} item${o>1?"s":""}`;break;case"select-days":if(D.length===0)Kt=0,de=0,He="No days selected";else{const bs=D.map(xs=>{switch(xs){case"mon":return 1;case"tue":return 2;case"wed":return 3;case"thu":return 4;case"fri":return 5;case"sat":return 6;case"sun":return 0;default:return-1}}).filter(xs=>xs>=0);if(Kt=0,p){const xs=new Date(p),_n=new Date(p);_n.setDate(_n.getDate()+v-1);for(let kn=new Date(xs);kn<=_n;kn.setDate(kn.getDate()+1)){const Bl=kn.getDay();bs.includes(Bl)&&Kt++}}de=o*Kt,He=`On ${RN.filter(xs=>D.includes(xs.id)).map(xs=>xs.label).join(", ")||"selected days"}`}break;case"day1-day2":Kt=v;const Dr=Math.ceil(v/2),as=Math.floor(v/2);de=o*Dr+c*as,He=`Day1-Day2: ${o} & ${c} Qty`;break;case"alternate-days":Kt=Math.ceil(v/2),de=o*Kt,He="Alternate Day, starting from start date";break}Ve=Re(r,v)*de}return{totalQuantity:de,deliveryDescription:He,totalPrice:Ve,period:((kt=zE.find(Kt=>Kt.value===v))==null?void 0:kt.label)||`${v} days`,startDate:p&&!isNaN(new Date(p).getTime())?Wt(new Date(p),"dd/MM/yyyy"):"Not set",expiryDate:p&&!isNaN(new Date(p).getTime())?Wt(Gi(new Date(p),v-1),"dd/MM/yyyy"):"Not set"}},[r,h,v,o,c,D,p,E,S,I]),st=y.useMemo(()=>!Te||!re?0:Math.min(J||0,Te.totalPrice||0),[J,Te,re]),Et=y.useMemo(()=>{if(!Te)return 0;const de=Te.totalPrice||0;return re?de-st:de},[Te,st,re]);return r?s.jsxs(xn,{open:e,onOpenChange:de=>{t(de),de||Y("subscriptionDetails")},children:[s.jsxs(yn,{className:"max-sm:max-w-[95vw] !flex flex-col h-[95vh] p-0 bg-white min-w-[95vw] max-w-2xl rounded-xl gap-0",onPointerDownOutside:de=>{const Ve=de.target;(Ve.closest("[data-radix-popover-content]")||Ve.closest(".rdp")||Ve.closest(".calendar-day")||Ve.closest('[role="gridcell"]'))&&de.preventDefault()},children:[s.jsxs(An,{className:"p-4 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs(En,{className:"text-lg font-semibold text-gray-800",children:["Create Subscription for ",r==null?void 0:r.name]}),s.jsx(Vo,{className:"text-sm text-gray-600 mt-1",children:"Set up your subscription preferences and delivery details."})]}),s.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[s.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-4 bg-gray-50 min-h-0",children:B==="subscriptionDetails"?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-600 mb-2 flex items-center gap-1",children:[s.jsx(Ma,{className:"h-3.5 w-3.5"}),"Subscription Period"]}),s.jsx("div",{className:"flex gap-1.5 bg-gray-50 p-1 rounded-lg max-[1291px]:flex-col",children:zE.map(de=>s.jsx("button",{type:"button",className:`flex-1 h-9 px-3 max-[1291px]:py-2 rounded-md transition-all duration-200 relative ${v===de.value?"bg-primary text-white shadow-sm":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200"}`,onClick:()=>N(de.value),children:s.jsxs("div",{className:"flex items-center justify-center h-full ",children:[s.jsxs("div",{className:"flex items-baseline gap-1",children:[de.value===3&&s.jsx("span",{className:"font-semibold text-base max-[1020px]:text-xs text-sm",children:"Trial Pack -"}),de.value===15&&s.jsx("span",{className:"font-semibold text-base",children:"Mid Saver -"}),de.value===30&&s.jsx("span",{className:"font-semibold text-base",children:"Super Saver  -"}),s.jsx("span",{className:"font-semibold text-base",children:de.value}),s.jsx("span",{className:`text-sm ${v===de.value?"text-white/90":"text-gray-500"}`,children:"days"})]}),de.value===30&&s.jsx("span",{className:"absolute -top-2 -right-1 bg-black text-white text-[9px] px-1.5 py-0.5 rounded-full font-medium",children:"Super Saver"}),de.value===3&&s.jsx("span",{className:"absolute -top-2 -right-1 bg-black text-white text-[9px] px-1.5 py-0.5 rounded-full font-medium",children:"Trial Pack"}),de.value===15&&s.jsx("span",{className:"absolute -top-2 -right-1 bg-black text-white text-[9px] px-1.5 py-0.5 rounded-full font-medium",children:"Mid Saver"})]})},de.value))})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-1.5 flex items-center gap-1",children:[s.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Delivery Instructions (Optional)"]}),s.jsx("textarea",{value:ie,onChange:de=>se(de.target.value),placeholder:"e.g., Leave at gate, Call before delivery, Ring doorbell twice...",className:"w-full p-2 border border-gray-300 rounded-md text-sm resize-none",rows:2,maxLength:200}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ie.length,"/200 characters"]})]}),E&&I.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[s.jsx(po,{className:"h-3 w-3"}),"Product Variants"]}),s.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>A([]),className:"text-sm h-7",disabled:S.length===0,children:"Clear"})]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:overflow-x-auto sm:pb-2 sm:-mx-2 sm:px-2",children:I.map(de=>{const Ve=S.some(kt=>kt.variantId===de.id),He=S.find(kt=>kt.variantId===de.id);return s.jsxs("div",{className:`w-full sm:flex-shrink-0 sm:w-72 border rounded-lg p-3 transition-all ${Ve?"border-red-500 bg-red-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mt-0.5 cursor-pointer flex-shrink-0 ${Ve?"bg-primary border-primary":"border-gray-300"}`,onClick:()=>{A(Ve?kt=>kt.filter(Kt=>Kt.variantId!==de.id):kt=>[...kt,{variantId:de.id,quantity:1,quantityVarying2:1,deliveryOption:"daily",selectedDays:[]}])},children:Ve&&s.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:de.name})]}),s.jsxs(Gr,{variant:"outline",className:"bg-green-50 border-green-600 px-2 py-1",children:[de.mrp&&de.mrp>ar(de,v)?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["",de.mrp]}),s.jsxs("span",{className:"text-sm text-green-700 font-bold",children:["",ar(de,v)]})]}):s.jsxs("span",{className:"text-sm text-green-700 font-bold",children:["",ar(de,v)]}),de.unit&&s.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:["/",de.unit]})]})]}),de.description&&s.jsx("p",{className:"text-sm text-gray-600 ml-7",children:de.description})]}),Ve&&He&&s.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-3",children:[s.jsxs("div",{children:[s.jsxs(Be,{className:"text-[10px] font-medium text-gray-700 mb-1 block flex items-center gap-0.5",children:[s.jsx(G0,{className:"h-2.5 w-2.5"}),"Schedule"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-0.5",children:[s.jsx(Ee,{variant:He.deliveryOption==="daily"?"default":"outline",size:"sm",className:`h-6 text-sm px-1 ${He.deliveryOption==="daily"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,onClick:()=>Mr(de.id,"daily"),children:"Daily"}),v>=15&&s.jsx(Ee,{variant:He.deliveryOption==="alternate-days"?"default":"outline",size:"sm",className:`h-7 text-sm ${He.deliveryOption==="alternate-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every other day",onClick:()=>Mr(de.id,"alternate-days"),children:"Alternate Days"}),v>=7&&s.jsx(Ee,{variant:He.deliveryOption==="day1-day2"?"default":"outline",size:"sm",className:`h-7 text-sm ${He.deliveryOption==="day1-day2"?"bg-secondary hover:bg-blue-600":"border-gray-300"} truncate`,title:"Daily Delivery with Varying Quantities",onClick:()=>Mr(de.id,"day1-day2"),children:"Day 1 - Day 2"}),v>=30&&s.jsx(Ee,{variant:He.deliveryOption==="select-days"?"default":"outline",size:"sm",className:`h-7 text-sm ${He.deliveryOption==="select-days"?"bg-secondary hover:bg-blue-600":"border-gray-300"}`,title:"Choose specific days for delivery",onClick:()=>Mr(de.id,"select-days"),children:"Weekdays"})]})]}),He.deliveryOption==="select-days"&&s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Select days (min 3):"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:RN.map(kt=>s.jsx(Ee,{type:"button",size:"sm",variant:He.selectedDays.includes(kt.id)?"default":"outline",className:`h-6 w-8 p-0 text-sm ${He.selectedDays.includes(kt.id)?"bg-primary":"border-gray-300 text-gray-700"}`,onClick:()=>ts(de.id,kt.id),children:kt.label},kt.id))})]}),(He.deliveryOption==="daily"||He.deliveryOption==="select-days"||He.deliveryOption==="alternate-days")&&s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Quantity per delivery:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white w-fit",children:[s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>ss(de.id,"quantity",He.quantity-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(x0,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-3 py-1 text-sm font-medium min-w-[40px] text-center",children:He.quantity}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>ss(de.id,"quantity",He.quantity+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(li,{className:"h-3 w-3"})})]})]}),He.deliveryOption==="day1-day2"&&s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Quantities:"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day 1:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>ss(de.id,"quantity",He.quantity-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(x0,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-2 py-1 text-sm font-medium min-w-[30px] text-center",children:He.quantity}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>ss(de.id,"quantity",He.quantity+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(li,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day 2:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>ss(de.id,"quantityVarying2",(He.quantityVarying2||1)-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(x0,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-2 py-1 text-sm font-medium min-w-[30px] text-center",children:He.quantityVarying2||1}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>ss(de.id,"quantityVarying2",(He.quantityVarying2||1)+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:s.jsx(li,{className:"h-3 w-3"})})]})]})]})]}),s.jsx("div",{className:"bg-blue-50 px-2 py-1 rounded text-sm text-blue-700 border border-blue-200",children:s.jsxs("span",{className:"font-medium",children:[He.deliveryOption==="daily"&&"Daily delivery",He.deliveryOption==="select-days"&&(He.selectedDays.length>0?`${He.selectedDays.length} days/week`:"Select delivery days"),He.deliveryOption==="alternate-days"&&"Alternate days",He.deliveryOption==="day1-day2"&&"Varying quantities"]})})]})]},de.id)})}),U.selectedVariants&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:U.selectedVariants}),U.variantSchedules&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:U.variantSchedules})]}),!E&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(G0,{className:"h-4 w-4"}),"Delivery Schedule"]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(Ee,{variant:h==="daily"?"default":"outline",className:`h-8 text-sm px-3 ${h==="daily"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every day",onClick:()=>m("daily"),children:"Daily"}),v>=15&&s.jsx(Ee,{variant:h==="alternate-days"?"default":"outline",className:`h-8 text-sm px-3 ${h==="alternate-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every other day",onClick:()=>m("alternate-days"),children:"Alternate"}),v>=7&&s.jsx(Ee,{variant:h==="day1-day2"?"default":"outline",className:`h-8 text-sm px-3 ${h==="day1-day2"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Customize quantities for Day 1 and Day 2",onClick:()=>m("day1-day2"),children:"Day 1-2"}),v>=30&&s.jsx(Ee,{variant:h==="select-days"?"default":"outline",className:`h-8 text-sm px-3 ${h==="select-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Choose specific days for delivery",onClick:()=>m("select-days"),children:"Select Days"})]}),s.jsxs("div",{className:"mt-3",children:[h==="daily"&&s.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Daily delivery - Fresh products every day"}),h==="alternate-days"&&s.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Every other day starting from your selected start date"}),h==="day1-day2"&&s.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Daily delivery with different quantities on alternating days"}),h==="select-days"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Select delivery days (minimum 3):"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:RN.map(de=>s.jsx(Ee,{type:"button",size:"sm",variant:D.includes(de.id)?"default":"outline",className:`h-7 w-10 p-0 text-sm ${D.includes(de.id)?"bg-primary":"border-gray-300 text-gray-700"}`,onClick:()=>{Ns(de.id),U.selectedDays&&Q(Ve=>({...Ve,selectedDays:""}))},children:de.label},de.id))}),U.selectedDays&&s.jsx("p",{className:"text-red-500 text-sm",children:U.selectedDays})]})]}),s.jsxs("div",{className:"mt-4 border-t pt-4",children:[(h==="daily"||h==="select-days"||h==="alternate-days")&&s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Quantity per delivery:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white w-fit",children:[s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(1,o-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(x0,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-4 text-center font-medium min-w-[50px]",children:o}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>l(o+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(li,{className:"h-3 w-3"})})]})]}),h==="day1-day2"&&s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Quantities:"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day A:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(1,o-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(x0,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-3 text-center font-medium min-w-[40px]",children:o}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>l(o+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(li,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day B:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>d(Math.max(1,c-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(x0,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-3 text-center font-medium min-w-[40px]",children:c}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>d(c+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(li,{className:"h-3 w-3"})})]})]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:i!=null&&i.isOnline?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[s.jsxs("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Delivery Address"]}),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>{Er(de=>({...de,mobile:V})),Y("addressForm")},className:"text-[10px] h-6 px-1.5",children:[s.jsx(li,{className:"h-2.5 w-2.5 mr-0.5"})," Add"]})]}),z?s.jsx("div",{className:"flex items-center justify-center py-2",children:s.jsx("span",{className:"text-gray-500 text-[10px]",children:"Loading..."})}):F.length>0?s.jsx("div",{className:"flex gap-1.5 overflow-x-auto pb-1 -mx-1 px-1",children:s.jsx(Wy,{value:M||"",onValueChange:de=>{R(de),U.selectedAddressId&&Q(Ve=>({...Ve,selectedAddressId:""}))},className:"flex gap-1.5",children:F.map(de=>s.jsx("div",{className:`flex-shrink-0 w-52 p-1.5 border rounded cursor-pointer transition-all ${M===de.id?"border-red-500 bg-red-50 shadow-sm":"border-gray-200 hover:bg-gray-50"}`,children:s.jsxs(Be,{htmlFor:`address-item-${de.id}`,className:"flex items-start space-x-1.5 w-full cursor-pointer",children:[s.jsx(nc,{value:de.id,id:`address-item-${de.id}`,className:"mt-0.5 h-3 w-3"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-1 mb-0.5",children:[s.jsx("span",{className:"font-medium text-gray-900 text-[12px] truncate ",children:de.recipientName}),s.jsx(Gr,{variant:"outline",className:"text-[9px] py-0 px-1 h-3.5",children:de.label})]}),s.jsxs("p",{className:"text-[10px] text-gray-600 truncate leading-tight",children:[de.plotBuilding,", ",de.streetArea]}),s.jsxs("p",{className:"text-[10px] text-gray-600 truncate leading-tight",children:[de.city," - ",de.pincode]}),de.isDefault&&s.jsx("span",{className:"inline-block mt-0.5 px-1 py-0 bg-blue-100 text-blue-800 rounded text-[8px]",children:"Default"})]})]})},de.id))})}):s.jsxs("div",{className:"text-center py-2",children:[s.jsx("p",{className:"text-gray-500 text-[10px] mb-1",children:"No addresses saved"}),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>{Er(de=>({...de,mobile:V})),Y("addressForm")},className:"text-[10px] h-6 px-2",children:[s.jsx(li,{className:"h-2.5 w-2.5 mr-0.5"})," Add Address"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-between items-center mb-1.5",children:s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[s.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Pickup Location"]})}),i?s.jsxs("div",{className:"p-1.5 border rounded bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-medium text-gray-900 text-[11px]",children:i.name}),s.jsx(Gr,{variant:"secondary",className:"text-[9px] py-0 px-1 h-3.5",children:"Pickup"})]}),s.jsxs("p",{className:"text-[10px] text-gray-600 mt-0.5",children:[i.address,", ",i.city," - ",i.pincode]}),s.jsx("div",{className:"mt-3 p-1 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("p",{className:"text-[11px] text-blue-700 flex items-start ml-2 ",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5  flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"You will need to pick up your order from this depot location."]})})]}):s.jsx("div",{className:"text-center py-2",children:s.jsx("p",{className:"text-gray-500 text-[10px]",children:"Location address not available"})})]})}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-1.5 flex items-center gap-1",children:[s.jsx(Ma,{className:"h-3 w-3"}),"Start Date"]}),s.jsxs(Wc,{open:w,onOpenChange:b,children:[s.jsx(Gc,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",className:jt("w-full justify-start text-left font-normal border-gray-300 rounded h-7 text-sm",!p&&"text-muted-foreground"),children:[s.jsx(Ma,{className:"mr-1.5 h-3 w-3"}),p?Wt(p,"dd/MM/yyyy"):s.jsx("span",{children:"Select date"})]})}),s.jsx(Yc,{className:"w-auto p-0 pointer-events-auto",onClick:de=>de.stopPropagation(),children:s.jsx(Bu,{mode:"single",selected:p,onSelect:de=>{console.log("[DATE DEBUG] User selected date from calendar:",{selectedDate:de==null?void 0:de.toString(),selectedDateISO:de==null?void 0:de.toISOString(),selectedDateString:de==null?void 0:de.toDateString(),selectedDay:de==null?void 0:de.getDate(),selectedMonth:(de==null?void 0:de.getMonth())+1,selectedYear:de==null?void 0:de.getFullYear(),userTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timezoneOffset:de==null?void 0:de.getTimezoneOffset()}),g(de),b(!1),U.startDate&&Q(Ve=>({...Ve,startDate:""}))},initialFocus:!0,disabled:de=>{const Ve=new Date;return Ve.setDate(Ve.getDate()+2),Ve.setHours(0,0,0,0),de<Ve}})})]}),U.startDate&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.startDate})]}),Te&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[s.jsx(po,{className:"h-3.5 w-3.5"}),"Order Summary"]}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Period:"}),s.jsx("span",{children:Te.period})]}),E&&S.length>0&&s.jsxs("div",{className:"border-t border-gray-500 pt-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx(po,{className:"h-3 w-3 text-blue-600"}),s.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Variant Details"})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1",children:S.map((de,Ve)=>{const He=I.find(as=>as.id===de.variantId);if(!He)return null;const kt=Xe(de);let Kt=0;switch(de.deliveryOption){case"daily":case"select-days":Kt=de.quantity*kt;break;case"day1-day2":const as=Math.ceil(v/2),bs=Math.floor(v/2);Kt=de.quantity*as+(de.quantityVarying2||1)*bs;break;case"alternate-days":Kt=de.quantity*Math.ceil(v/2);break}const Jt=de.deliveryOption==="daily"?"Daily":de.deliveryOption==="select-days"?`${de.selectedDays.length} days/week`:de.deliveryOption==="alternate-days"?"Alternate Days":"Day1-Day2",Dr=()=>{switch(de.deliveryOption){case"daily":return"";case"select-days":return"";case"alternate-days":return"";case"day1-day2":return"";default:return""}};return s.jsxs("div",{className:"flex-shrink-0 w-56 border border-gray-200 rounded-md p-2 bg-gradient-to-r from-gray-50 to-blue-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[s.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[s.jsx("span",{className:"text-sm",children:Dr()}),s.jsx("span",{className:"font-medium text-gray-800 text-sm truncate",children:He.name})]}),s.jsx(Gr,{variant:"secondary",className:"text-[11px] bg-blue-100 text-blue-700 border-blue-200 py-0 px-1.5 h-4",children:Jt})]}),s.jsxs("div",{className:"text-[11px] space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 text-xs",children:"Qty/delivery:"}),s.jsx("span",{className:"text-gray-900 font-medium text-xs",children:de.deliveryOption==="day1-day2"?s.jsxs(s.Fragment,{children:[de.quantity," + ",de.quantityVarying2||1," - ",He.name||"Quantity",de.quantity>1||(de.quantityVarying2||1)>1?"s":""]}):s.jsxs(s.Fragment,{children:[de.quantity," - ",He.name||"Quantity"]})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 text-xs",children:"Total:"}),s.jsxs("span",{className:"text-gray-900 font-medium text-xs",children:[Kt," - ",He.name||"Quantity"]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Price:"}),s.jsxs("span",{className:"text-green-700 font-semibold",children:["",(Kt*ar(He,v)).toFixed(2)]})]})]}),de.deliveryOption==="select-days"&&de.selectedDays.length>0&&s.jsx("div",{className:"mt-1 pt-1 border-t border-gray-200",children:s.jsxs("div",{className:"text-[10px] text-gray-600",children:["Days: ",de.selectedDays.join(", ")]})})]},Ve)})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Quantity:"}),s.jsxs("span",{className:"font-medium",children:[Te.totalQuantity," ",E?"items":(r==null?void 0:r.name)||""]})]}),Ae()>0&&s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 animate-pulse"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/90 via-green-400/90 to-teal-400/90"}),s.jsx("div",{className:"absolute top-2 left-4 animate-bounce delay-75",children:s.jsx(zre,{className:"h-3 w-3 text-yellow-300 fill-yellow-300"})}),s.jsx("div",{className:"absolute top-3 right-6 animate-bounce delay-150",children:s.jsx(S9,{className:"h-2 w-2 text-yellow-200 fill-yellow-200"})}),s.jsx("div",{className:"absolute bottom-2 right-4 animate-bounce delay-300",children:s.jsx(X5,{className:"h-3 w-3 text-yellow-300 fill-yellow-300"})})]}),s.jsx("div",{className:"border-t border-gray-200 pt-1.5 mt-1.5",children:s.jsxs("div",{className:"flex justify-between font-medium text-sm",children:[s.jsx("span",{children:"Total Price:"}),s.jsxs("span",{className:"text-green-600",children:["",Te.totalPrice.toFixed(2)]})]})})]})]})]})]})}):B==="confirmation"?s.jsxs("div",{className:"bg-white p-4 rounded-md space-y-4 w-[50%] mx-auto max-sm:w-full ",children:[s.jsx("h3",{className:"text-lg font-semibold text-center",children:"Confirm Your Subscription"}),s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Product:"}),s.jsx("span",{className:"font-semibold",children:r.name})]}),E&&S.length>0&&s.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[s.jsx("span",{className:"text-sm font-medium block mb-2",children:"Selected Variants & Schedules:"}),s.jsx("div",{className:"space-y-3",children:S.map((de,Ve)=>{const He=I.find(Jt=>Jt.id===de.variantId);if(!He)return null;const kt=Xe(de),Kt=de.deliveryOption==="daily"?"Daily delivery":de.deliveryOption==="select-days"?`On ${de.selectedDays.map(Jt=>{var Dr;return(Dr=RN.find(as=>as.id===Jt))==null?void 0:Dr.label}).join(", ")}`:de.deliveryOption==="alternate-days"?"Alternate Day":"Day1-Day2";return s.jsxs("div",{className:"bg-white p-3 rounded border text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"font-medium",children:He.name}),s.jsxs(Gr,{variant:"outline",children:["",ar(He,v)," ",He.name&&`per ${He.name}`]})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{children:["Schedule: ",Kt]}),s.jsxs("div",{children:["Deliveries: ",kt," times"]}),de.deliveryOption!=="day1-day2"&&s.jsxs("div",{children:["Quantity per delivery:"," ",de.quantity]})]})]},Ve)})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Period:"}),s.jsx("span",{children:Te==null?void 0:Te.period})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Start Date:"}),s.jsx("span",{children:Te==null?void 0:Te.startDate})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"End Date:"}),s.jsx("span",{children:Te==null?void 0:Te.expiryDate})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Total Quantity:"}),s.jsxs("span",{children:[Te==null?void 0:Te.totalQuantity," ",E?"items":(r==null?void 0:r.name)||""]})]}),s.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Subtotal:"}),s.jsxs("span",{className:"text-sm",children:["",(ht=Te==null?void 0:Te.totalPrice)==null?void 0:ht.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Wallet Credit:"}),s.jsxs("span",{className:"text-sm text-green-600",children:["-",st.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-medium pt-2",children:[s.jsx("span",{className:"text-sm font-semibold",children:"Amount Payable:"}),s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["",Et.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs(Be,{className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[s.jsx(Dh,{className:"h-4 w-4"})," Use Wallet Balance"]}),s.jsxs("div",{className:"text-sm font-medium",children:["Available: ",J.toFixed(2)]})]}),re&&J>0&&s.jsx("div",{className:"bg-white p-3 rounded border border-blue-300",children:s.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Wallet Balance:"}),s.jsxs("span",{children:["",J.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Amount to be deducted:"}),s.jsxs("span",{className:"font-medium text-green-600",children:["",st.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-medium pt-1 border-t",children:[s.jsx("span",{children:"Remaining in wallet:"}),s.jsxs("span",{children:["",(J-st).toFixed(2)]})]})]})})]}),Te&&s.jsx(s.Fragment,{children:Et>0?s.jsx("div",{className:"bg-blue-50 p-3 rounded-md border border-blue-100",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),st>0?`${st.toFixed(2)} will be deducted from your wallet. The remaining ${Et.toFixed(2)} will be collected via Cash/UPI before delivery.`:`Full amount of ${Et.toFixed(2)} will be collected via Cash/UPI before delivery.`]})}):s.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:s.jsxs("p",{className:"text-sm text-green-700 flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Full amount of ",(dt=Te==null?void 0:Te.totalPrice)==null?void 0:dt.toFixed(2)," will be deducted from your wallet."]})})}),s.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:s.jsxs("p",{className:"text-sm text-primary flex items-start",children:["1) Since the milk is sourced from 'Tribal farmers',  all payments are in Advance.",s.jsx("br",{}),s.jsx("br",{}),"2) Both Cash & Online options are available.The plan starts after 2 days from receipt of payment.",s.jsx("br",{}),s.jsx("br",{}),"3) For Cash payments - our person can visit your home OR you may deposit money at our Tilak Road store.                "]})}),s.jsx("img",{src:AW,alt:""}),s.jsxs("p",{children:["1. GPay, UPI - 8850833370  ( Sarkhot Natural Farms) ",s.jsx("br",{}),"2. Bank Transfer: Current Account: Bank of Baroda A/C No.: 76040200002024, ",s.jsx("br",{}),"3. IFSC: BARB0VJDOME ",s.jsx("br",{})," 4. Cash Before Delivery. "]}),i!=null&&i.isOnline?s.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Delivery Address:"}),F.map(de=>de.id===M?s.jsxs("div",{className:"text-sm",children:[s.jsx(Gr,{variant:"outline",className:"mt-1 ",children:de.label}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium ",children:de.recipientName})," "," ",de.mobile]}),s.jsxs("p",{children:[de.plotBuilding,", ",de.streetArea]}),de.landmark&&s.jsx("p",{children:de.landmark}),s.jsxs("p",{children:[de.city,", ",de.state," - ",de.pincode]})]},de.id):null)]}):s.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Pickup from Location:"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:i==null?void 0:i.name}),s.jsx("p",{children:i==null?void 0:i.address})]})]})]}):s.jsxs("div",{className:"bg-white rounded-md",children:[s.jsx("div",{className:"p-4 border-b bg-white sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Y("subscriptionDetails"),children:s.jsx(ku,{className:"h-4 w-4"})}),s.jsx("h3",{className:"text-lg font-semibold",children:"Add New Address"})]})}),s.jsxs("div",{className:"p-4 space-y-5",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"address-label",className:"text-sm font-medium mb-2 block",children:"Address Label"}),s.jsxs(Wy,{defaultValue:"Home",value:mt.label,onValueChange:Tr,className:"flex gap-4 mt-1",id:"address-label",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nc,{value:"Home",id:"type-home",className:"text-green-500"}),s.jsx(Be,{htmlFor:"type-home",className:"text-sm",children:"Home"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nc,{value:"Work",id:"type-work",className:"text-green-500"}),s.jsx(Be,{htmlFor:"type-work",className:"text-sm",children:"Work"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nc,{value:"Other",id:"label-other"}),s.jsx(Be,{htmlFor:"label-other",children:"Other"})]})]}),U.label&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.label})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"recipientName",className:"text-sm font-medium mb-1.5 block",children:"Delivery To*"}),s.jsx("input",{id:"recipientName",name:"recipientName",value:mt.recipientName,onChange:Pt,placeholder:"Full name of recipient",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),U.recipientName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.recipientName})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"mobile",className:"text-sm font-medium mb-1.5 block",children:"Mobile*"}),s.jsx("input",{id:"mobile",name:"mobile",max:10,maxLength:10,value:mt.mobile,onChange:Pt,placeholder:"Mobile number",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),U.mobile&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.mobile})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"plotBuilding",className:"text-sm font-medium mb-1.5 block",children:"Plot/Building*"}),s.jsx("input",{id:"plotBuilding",name:"plotBuilding",value:mt.plotBuilding,onChange:Pt,placeholder:"Plot number, building name",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),U.plotBuilding&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.plotBuilding})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"streetArea",className:"text-sm font-medium mb-1.5 block",children:"Street/Area*"}),s.jsx("input",{id:"streetArea",name:"streetArea",value:mt.streetArea,onChange:Pt,placeholder:"Street, area",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),U.streetArea&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.streetArea})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"landmark",className:"text-sm font-medium mb-1.5 block",children:"Nearest Landmark*                    "}),s.jsx(gt,{id:"landmark",name:"landmark",value:mt.landmark,onChange:Pt,placeholder:"Nearby landmark",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"deliveryCity",className:"text-sm font-medium mb-1.5 block",children:"City"}),s.jsxs(pr,{onValueChange:de=>{const Ve=de==="Dombivli"?null:parseInt(de);ce(Ve),Ye(null)},value:ke==null?void 0:ke.toString(),children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select your City "})}),s.jsx(yr,{className:"max-h-60 overflow-y-auto",children:De.sort((de,Ve)=>de.name.localeCompare(Ve.name)).map(de=>s.jsx(wt,{value:de.id.toString(),children:de.name},de.id))})]})]}),s.jsxs("div",{children:[s.jsxs(Be,{htmlFor:"areaMaster",className:"text-sm font-medium mb-1.5 block",children:["Delivery Area* ",s.jsx("span",{className:"text-xs text-gray-500"})]}),s.jsxs(pr,{onValueChange:de=>{var He;const Ve=ze.find(kt=>kt.id===parseInt(de));Ve&&(Xr(Ve),(He=Ve.city)!=null&&He.name&&tr("city",Ve.city.name))},value:((yt=ge==null?void 0:ge.id)==null?void 0:yt.toString())||"",children:[s.jsx(xr,{className:U.areaMaster?"border-red-500 w-full":"w-full",children:s.jsx(gr,{placeholder:"Select your delivery area"})}),s.jsx(yr,{className:"max-h-60 overflow-y-auto",children:ze.sort((de,Ve)=>de.name.localeCompare(Ve.name)).map(de=>s.jsx(wt,{value:de.id.toString(),children:de.name},de.id))})]}),s.jsx("div",{children:s.jsxs("p",{className:"text-xs ml-2 mt-2",children:["If your area is not listed above ",s.jsx("a",{onClick:Lr,className:"text-primary border border-primary px-2 py-1 rounded max-w-4",children:"Click here"})," to request delivery "]})}),U.areaMaster&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.areaMaster})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"state",className:"text-sm font-medium mb-1.5 block",children:"State*"}),s.jsxs(pr,{onValueChange:de=>tr("state",de),value:mt.state,disabled:!0,children:[s.jsx(xr,{className:U.state?"border-red-500 w-full":"w-full",children:s.jsx(gr,{placeholder:"Select a state"})}),s.jsx(yr,{className:"max-h-60 overflow-y-auto",children:ew.filter(de=>de&&typeof de.label=="string").map(de=>s.jsx(wt,{value:de.label,children:de.label},de.value))})]}),U.state&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.state})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"pincode",className:"text-sm font-medium mb-1.5 block",children:"Pincode*"}),s.jsx(gt,{id:"pincode",name:"pincode",type:"text",value:mt.pincode,onChange:Pt,max:6,placeholder:"Enter your 6-digit pincode",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white",maxLength:6}),U.pincode&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.pincode}),ge&&s.jsx(q6,{pincode:mt.pincode,isValid:pt.isValid,message:pt.message,isValidating:pt.isValidating,showServiceRequest:!pt.isValid&&!pt.isValidating&&mt.pincode.length===6,onRequestService:Lr})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:mt.isDefault,onChange:de=>Er(Ve=>({...Ve,isDefault:de.target.checked})),className:"h-4 w-4 text-green-500 focus:ring-green-500 border-gray-300 rounded"}),s.jsx(Be,{htmlFor:"isDefault",className:"text-sm",children:"Set as default address"})]})]})]})}),s.jsx("div",{className:"p-4 border-t bg-white",children:B==="subscriptionDetails"?s.jsxs("div",{className:"space-y-3",children:[Ae()>0&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Fy,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:["You Save: ",Ae().toFixed(2)]})]}),s.jsx("span",{className:"text-gray-500 text-sm",children:"vs MRP pricing"})]}),s.jsx(Ee,{onClick:fe,disabled:z||!E&&h==="select-days"&&D.length<3||E&&S.some(de=>de.deliveryOption==="select-days"&&de.selectedDays.length<3),className:"w-full bg-primary hover:bg-primary text-white py-2 rounded-md font-medium",children:"Review Subscription"})]}):B==="addressForm"?s.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[s.jsx(Ee,{variant:"outline",onClick:lt,className:"rounded-lg h-11 border-gray-300",children:"Cancel"}),s.jsx(Ee,{onClick:ks,className:"bg-primary hover:bg-primary text-white rounded-lg h-11",disabled:!!(U.recipientName||U.mobile||U.plotBuilding||U.streetArea||U.pincode||U.city||U.state||U.label||U.areaMaster),children:"Save Address"})]}):s.jsxs("div",{className:"space-y-3",children:[Ae()>0&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Fy,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:["Total Savings: ",Ae().toFixed(2)]})]}),s.jsx("span",{className:"text-gray-500 text-sm",children:"vs MRP pricing"})]}),s.jsxs("div",{className:"flex justify-end items-center gap-3 w-full",children:[s.jsx(Ee,{variant:"outline",className:"rounded-lg h-11 border-gray-300",onClick:()=>Y("subscriptionDetails"),children:"Back"}),s.jsx(Ee,{className:"bg-primary hover:bg-primary text-white rounded-lg h-11",onClick:Ie,disabled:K||!!(U.startDate||U.selectedDays||U.selectedAddressId||U.variantSchedules),children:K?"Confirming...":"Confirm Subscription"})]})]})})]})]}),s.jsx(_W,{isOpen:me,onOpenChange:we,productName:r==null?void 0:r.name,areaName:ge==null?void 0:ge.name,message:qe}),s.jsx(V6,{isOpen:ft,onOpenChange:Mt,productId:r==null?void 0:r.id,productName:r==null?void 0:r.name,isDairyProduct:r==null?void 0:r.isDairyProduct,message:qe||`We currently do not serve pincode ${mt.pincode}, but we're expanding!`,prefilledData:{recipientName:mt.recipientName,mobile:mt.mobile,plotBuilding:mt.plotBuilding,streetArea:mt.streetArea,landmark:mt.landmark,pincode:mt.pincode,city:mt.city||((Vt=ge==null?void 0:ge.city)==null?void 0:Vt.name)||"",state:mt.state},onSuccess:()=>{Mt(!1),Er({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home",locationId:void 0}),Ye(null),ce(null),ct({isValid:!1,message:"",isValidating:!1}),Y("subscriptionDetails")}}),s.jsx(kW,{isOpen:Xt,onOpenChange:ur,title:"Subscription Created Successfully!",message:"Your subscription has been set up and will start delivering as scheduled.",subscriptionDetails:{subscriptionId:es.subscriptionId,productName:r==null?void 0:r.name,quantity:S.reduce((de,Ve)=>de+Ve.quantity,0),period:(Zt=zE.find(de=>de.value===v))==null?void 0:Zt.label,startDate:p,totalAmount:es.totalAmount}})]}):null},Lje=e=>{switch(e==null?void 0:e.toLowerCase()){case"home":return"Home";case"work":return"Work";case"other":return"Other";default:return e||"Address"}},Mje=({isOpen:e,onOpenChange:t,product:r,productId:n,selectedDepot:a})=>{var ts,ss;const[i,o]=y.useState(1),[l,c]=y.useState(Gi(new Date,2)),[d,h]=y.useState([]),[m,p]=y.useState(!1),[g,w]=y.useState(null),[b,v]=y.useState(!1),[N,S]=y.useState(0),[A,E]=y.useState(0),[C,I]=y.useState(0),[P,F]=y.useState(!1),[k,z]=y.useState([]),[O,M]=y.useState(null),[R,B]=y.useState([]),[Y,U]=y.useState([]),[Q,V]=y.useState([]),[Z,J]=y.useState([]),[ae,D]=y.useState(null),[H,K]=y.useState(null),[W,re]=y.useState(!1),[te,ie]=y.useState(""),[se,le]=y.useState(!1),[Ce,De]=y.useState(!1),[Ze,ke]=y.useState({}),[ce,Me]=y.useState(!1),[be,ge]=y.useState(""),[Ye,ze]=y.useState({isValid:!1,message:"",isValidating:!1}),[Pe,me]=y.useState({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}),[we,qe]=y.useState({});y.useEffect(()=>{e&&(xt(),pt(),D(null),K(null),qe({}),ze({isValid:!1,message:"",isValidating:!1}),De(!1),ke({}))},[e]);const xt=async()=>{try{const Xe=await B6();U(Xe)}catch(Xe){console.error("Failed to fetch area masters:",Xe),ve.error("Could not load delivery areas.")}},pt=async()=>{try{const Xe=await ow();J(Xe)}catch(Xe){console.error("Failed to fetch cities:",Xe),ve.error("Could not load cities.")}};y.useEffect(()=>{if(ae&&Y.length>0){const Xe=Y.filter(lt=>{var Ct;return lt.cityId?lt.cityId===ae:(Ct=lt.city)!=null&&Ct.id?lt.city.id===ae:!1});V(Xe)}else V(Y)},[ae,Y]);const ct=async Xe=>{var lt;if(console.log("handleAreaMasterSelection called with:",Xe.name),K(Xe),we.areaMaster&&qe(Ct=>({...Ct,areaMaster:""})),(lt=Xe.city)!=null&&lt.name&&ft("city",Xe.city.name),r!=null&&r.isDairyProduct&&!Xe.isDairyProduct){const Ct=`We don't currently serve dairy products in ${Xe.name}. However, we'd love to expand our dairy delivery services to your area!`;ie(Ct)}else ie("");Pe.pincode&&Pe.pincode.length===6&&(console.log("Revalidating pincode against newly selected area:",{pincode:Pe.pincode,areaMaster:Xe.name}),ur(Pe.pincode,Xe))},ft=(Xe,lt)=>{me(Ct=>({...Ct,[Xe]:lt})),we[Xe]&&qe(Ct=>({...Ct,[Xe]:""}))},Mt=Xe=>{const{name:lt,value:Ct,type:lr,checked:_r}=Xe.target,ks=lr==="checkbox"?_r:Ct;me(Xr=>({...Xr,[lt]:ks})),we[lt]&&qe(Xr=>({...Xr,[lt]:""})),lt==="pincode"&&Ct.length===6&&/^\d{6}$/.test(Ct)?ur(Ct):lt==="pincode"&&ze({isValid:!1,message:"",isValidating:!1})},Xt=Xe=>{me(lt=>({...lt,label:Xe})),we.label&&qe(lt=>({...lt,label:""}))},ur=(Xe,lt)=>{const Ct=lt||H;if(console.log("validatePincode called with:",{pincode:Xe,currentAreaMaster:Ct==null?void 0:Ct.name}),Xe.length===6&&/^\d{6}$/.test(Xe)){ze({isValid:!1,message:"",isValidating:!0});const lr=Qy(Xe,[Ct].filter(Boolean));ze({isValid:lr.isValid,message:lr.isValid?"Great ! We deliver in your location":`We currently don't serve pincode ${Xe} in ${(Ct==null?void 0:Ct.name)||"this area"}.`,isValidating:!1})}},es=()=>{console.log("handleRequestService called with form state:",{pincode:Pe.pincode,selectedArea:H==null?void 0:H.name,city:Pe.city});const Xe=H?`We currently don't serve pincode ${Pe.pincode} in ${H.name}. Help us prioritize expanding to your area!`:`We currently don't serve pincode ${Pe.pincode}. Help us prioritize expanding to your area!`;ie(Xe),le(!0)},Qr=()=>{var lt,Ct,lr,_r,ks,Xr,Ns,fe;const Xe={};return(lt=Pe==null?void 0:Pe.recipientName)!=null&&lt.trim()||(Xe.recipientName="Recipient name is required."),(Ct=Pe==null?void 0:Pe.mobile)!=null&&Ct.trim()?/^\d{10}$/.test(Pe.mobile.trim())||(Xe.mobile="Mobile number must be 10 digits."):Xe.mobile="Mobile number is required.",(lr=Pe==null?void 0:Pe.plotBuilding)!=null&&lr.trim()||(Xe.plotBuilding="Plot/Building is required."),(_r=Pe==null?void 0:Pe.streetArea)!=null&&_r.trim()||(Xe.streetArea="Street/Area is required."),(ks=Pe==null?void 0:Pe.pincode)!=null&&ks.trim()?/^\d{6}$/.test(Pe.pincode.trim())||(Xe.pincode="Pincode must be 6 digits."):Xe.pincode="Pincode is required.",(Xr=Pe==null?void 0:Pe.city)!=null&&Xr.trim()||(Xe.city="City is required."),(Ns=Pe==null?void 0:Pe.state)!=null&&Ns.trim()||(Xe.state="State is required."),(fe=Pe==null?void 0:Pe.label)!=null&&fe.trim()||(Xe.label="Address label is required."),H||(Xe.areaMaster="Please select a delivery area."),qe(Xe),Object.keys(Xe).length===0},mt=async()=>{if(!Qr())return;const Xe=(r==null?void 0:r.isDairyProduct)&&H&&!H.isDairyProduct,Ct=!(H?Qy(Pe.pincode,[H]):{isValid:!1}).isValid;if(Xe||Ct){const lr={name:Pe.recipientName,mobile:Pe.mobile,email:"",plotBuilding:Pe.plotBuilding,streetArea:Pe.streetArea,landmark:Pe.landmark||"",pincode:Pe.pincode,city:Pe.city,state:Pe.state,productId:r==null?void 0:r.id,isDairyProduct:(r==null?void 0:r.isDairyProduct)||!1,notes:Xe?`Lead captured from buy-once modal - Dairy product not available in area: ${H==null?void 0:H.name}`:`Lead captured from buy-once modal - Pincode ${Pe.pincode} not serviceable in area: ${H==null?void 0:H.name}`};try{await U6(lr),ve.success("Thank you for your interest! We've noted your details and will contact you when we expand dairy delivery to your area.");const _r=Xe?`We don't currently serve dairy products in ${H==null?void 0:H.name}. However, we'd love to expand our dairy delivery services to your area! We've saved your details and will notify you when service becomes available.`:`We don't currently serve pincode ${Pe.pincode} in ${H==null?void 0:H.name}. However, we're expanding! We've saved your details and will notify you when service becomes available in your area.`;ie(_r),re(!0),me({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}),K(null),v(!1)}catch(_r){console.error("Failed to save lead:",_r),ve.error("An error occurred while saving your information. Please try again.")}}else try{const lr=await en("/delivery-addresses",Pe);await tr(),w(lr.id),v(!1),ve.success("Address added successfully!"),me({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"})}catch(lr){console.error("Failed to save address:",lr),ve.error("An error occurred while saving your address. Please try again.")}},Er=()=>{var Xe;return((Xe=r==null?void 0:r.depotVariantPricing)==null?void 0:Xe.buyOncePrice)||(r==null?void 0:r.price)||0};y.useEffect(()=>{(async()=>{if(!(!e||!n)){F(!0);try{const lt=await $t(`/api/public/depot-variants/${n}`);let Ct=(lt==null?void 0:lt.data)||[];a&&(Ct=Ct.filter(_r=>_r.depot.id===a.id));const lr=Ct.map(_r=>({id:parseInt(_r.id,10),name:_r.name,depot:_r.depot,buyOncePrice:parseFloat(_r.buyOncePrice)||0,sellingPrice:parseFloat(_r.buyOncePrice)||parseFloat(_r.mrp)||0,mrp:parseFloat(_r.mrp)||parseFloat(_r.buyOncePrice)||0,minimumQty:_r.minimumQty||0}));if(z(lr),lr.length>0){const _r=lr[0];E(_r.buyOncePrice),I(_r.mrp||_r.sellingPrice||_r.buyOncePrice),M(_r.id),B([{variantId:_r.id,quantity:1}])}else E(Er()),I(Er()),M(null),B([])}catch(lt){console.error("Failed to fetch depot variant pricing, using default:",lt),E(Er()),I(Er()),z([]),M(null)}finally{F(!1)}}})()},[e,n,r,a]),y.useEffect(()=>{(async()=>{var lt;if(e)try{const Ct=await $t("/api/wallet/balance");console.log("Wallet balance response:",Ct);let lr=0;Ct!=null&&Ct.success&&((lt=Ct==null?void 0:Ct.data)==null?void 0:lt.balance)!==void 0?lr=Ct.data.balance:(Ct==null?void 0:Ct.balance)!==void 0?lr=Ct.balance:typeof Ct=="number"&&(lr=Ct),S(lr)}catch(Ct){console.error("Failed to fetch wallet balance",Ct),S(0)}})()},[e]);const tr=async()=>{p(!0);try{const Xe=await $t("/delivery-addresses");h(Xe||[]);const lt=Xe==null?void 0:Xe.find(Ct=>Ct.isDefault);lt?w(lt.id):(Xe==null?void 0:Xe.length)>0&&w(Xe[0].id)}catch(Xe){console.error("Failed to fetch addresses:",Xe),ve.error("Could not load your delivery addresses")}finally{p(!1)}};y.useEffect(()=>{var Xe;if(e&&O){const lt=k.find(Ct=>Ct.id===O);(Xe=lt==null?void 0:lt.depot)!=null&&Xe.isOnline&&tr()}},[e,O,k]);const fr=Xe=>Xe?Wt(Xe,"yyyy-MM-dd"):"",Lr=Xe=>{B(lt=>lt.find(lr=>lr.variantId===Xe)?lt.filter(lr=>lr.variantId!==Xe):[...lt,{variantId:Xe,quantity:1}])},Pt=(Xe,lt)=>{B(Ct=>Ct.map(lr=>lr.variantId===Xe?{...lr,quantity:Math.max(1,lt)}:lr))},[Tr]=y.useState(!0),Cr=y.useMemo(()=>R.length===0?i*A:R.reduce((Xe,lt)=>{const Ct=k.find(lr=>lr.id===lt.variantId);return Ct?Xe+lt.quantity*Ct.buyOncePrice:Xe},0),[R,k,i,A]),mr=y.useMemo(()=>Tr?Math.min(N||0,Cr):0,[N,Cr,Tr]),ar=y.useMemo(()=>Cr-mr,[Cr,mr]),Gt=y.useMemo(()=>{if(R.length===0){if(!C||C<=A)return 0;const Ct=C*i,lr=A*i;return Math.max(0,Ct-lr)}let Xe=0,lt=0;return R.forEach(Ct=>{const lr=k.find(_r=>_r.id===Ct.variantId);if(lr){const _r=lr.mrp||lr.buyOncePrice;Xe+=_r*Ct.quantity,lt+=lr.buyOncePrice*Ct.quantity}}),Math.max(0,Xe-lt)},[R,k,C,A,i]),Mr=async()=>{var _r,ks;if(!l){ve.error("Please select a delivery date.");return}if(R.length===0){ve.error("Please select at least one product variant.");return}const Xe=k.find(Xr=>Xr.id===R[0].variantId);if(!Xe){ve.error("Invalid variant selection.");return}const lt=Xe.depot.isOnline?g:Xe.depot.address;if(Xe.depot.isOnline&&!g){ve.error("Please select a delivery address.");return}else if(!Xe.depot.isOnline&&!Xe.depot.address){ve.error("Depot address information is missing. Please contact support.");return}if(!lt){ve.error("Address information is missing.");return}const Ct=R.filter(Xr=>Xr.quantity>0).map(Xr=>({productId:Xr.variantId,period:0,startDate:l.toISOString(),deliverySchedule:"DAILY",qty:Xr.quantity}));if(Ct.length===0){ve.error("Please set quantity for at least one product.");return}const lr={subscriptions:Ct,deliveryAddressId:parseInt(String(lt),10),walletamt:Tr?mr:0,deliveryInstructions:be.trim()||void 0};Me(!0);try{const Xr=await en("/api/product-orders/with-subscriptions",lr),Ns=R.map(fe=>{const Re=k.find(Ne=>Ne.id===fe.variantId);return Re?`${fe.quantity} ${Re.name}`:""}).filter(Boolean).join(", ");ke({orderId:(Xr==null?void 0:Xr.orderId)||`ORD-${Date.now()}`,totalAmount:Cr-mr,variantSummary:Ns}),De(!0),t(!1)}catch(Xr){console.error("Failed to place order:",Xr),ve.error(((ks=(_r=Xr==null?void 0:Xr.response)==null?void 0:_r.data)==null?void 0:ks.message)||"Failed to place order. Please try again.")}finally{Me(!1)}};return r?s.jsxs(xn,{open:e,onOpenChange:t,children:[s.jsxs(yn,{className:"w-full max-w-4xl mx-auto p-0 flex flex-col max-h-[95vh] overflow-hidden",children:[s.jsxs(An,{className:"px-4 py-4 sm:px-6 sm:py-6 pb-2 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[s.jsx(Pf,{className:"absolute right-3 top-3 sm:right-4 sm:top-4 z-10 p-2 rounded-full hover:bg-white/80 transition-colors",onClick:()=>t(!1)}),s.jsx(En,{className:"text-lg sm:text-xl font-bold text-center pr-8",children:b?"Add New Delivery Address":`${r==null?void 0:r.name} - Buy Once`}),!b&&r&&s.jsx("div",{className:"mt-2 flex justify-center",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-4 py-2 border border-green-200",children:[s.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Buy Once Price"}),P?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-green-500 border-t-transparent rounded-full"}),s.jsx("p",{className:"text-sm font-semibold",children:"Loading..."})]}):s.jsx("div",{className:"text-center",children:C&&C>A?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-500 line-through font-medium",children:["",Number(C).toFixed(2)]}),s.jsxs("span",{className:"text-lg font-bold text-green-600",children:["",Number(A||0).toFixed(2)]})]}):s.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",Number(A||0).toFixed(2)]})})]})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 overflow-y-auto flex-grow pb-8",children:b?s.jsxs("div",{className:"bg-white rounded-md",children:[s.jsx("div",{className:"p-4 border-b bg-white sticky top-0 z-10",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Add New Address"})}),s.jsxs("div",{className:"p-4 space-y-5",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"address-label",className:"text-sm font-medium mb-2 block",children:"Address Label"}),s.jsxs(Wy,{defaultValue:"Home",value:Pe.label,onValueChange:Xt,className:"flex gap-4 mt-1",id:"address-label",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nc,{value:"Home",id:"type-home",className:"text-green-500"}),s.jsx(Be,{htmlFor:"type-home",className:"text-sm",children:"Home"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nc,{value:"Work",id:"type-work",className:"text-green-500"}),s.jsx(Be,{htmlFor:"type-work",className:"text-sm",children:"Work"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nc,{value:"Other",id:"label-other"}),s.jsx(Be,{htmlFor:"label-other",children:"Other"})]})]}),we.label&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:we.label})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"recipientName",className:"text-sm font-medium mb-1.5 block",children:"Delivery To*"}),s.jsx("input",{id:"recipientName",name:"recipientName",value:Pe.recipientName,onChange:Mt,placeholder:"Full name of recipient",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),we.recipientName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:we.recipientName})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"mobile",className:"text-sm font-medium mb-1.5 block",children:"Mobile*"}),s.jsx("input",{id:"mobile",name:"mobile",type:"tel",max:10,value:Pe.mobile,onChange:Xe=>{const lt=Xe.target.value.replace(/\D/g,"").slice(0,10);me(Ct=>({...Ct,mobile:lt})),we.mobile&&qe(Ct=>({...Ct,mobile:""}))},placeholder:"Mobile number",maxLength:10,className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),we.mobile&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:we.mobile})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"plotBuilding",className:"text-sm font-medium mb-1.5 block",children:"Plot/Building*"}),s.jsx("input",{id:"plotBuilding",name:"plotBuilding",value:Pe.plotBuilding,onChange:Mt,placeholder:"Plot number, building name",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),we.plotBuilding&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:we.plotBuilding})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"streetArea",className:"text-sm font-medium mb-1.5 block",children:"Street/Area*"}),s.jsx("input",{id:"streetArea",name:"streetArea",value:Pe.streetArea,onChange:Mt,placeholder:"Street, area",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),we.streetArea&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:we.streetArea})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"landmark",className:"text-sm font-medium mb-1.5 block",children:"Nearest Landmark *"}),s.jsx("input",{id:"landmark",name:"landmark",value:Pe.landmark,onChange:Mt,placeholder:"Nearby landmark",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"deliveryCity",className:"text-sm font-medium mb-1.5 block",children:"City"}),s.jsxs(pr,{onValueChange:Xe=>{const lt=Xe==="dombivli"?null:parseInt(Xe);D(lt),K(null),we.areaMaster&&qe(Ct=>({...Ct,areaMaster:""}))},value:ae==null?void 0:ae.toString(),children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"city"})}),s.jsx(yr,{className:"max-h-60 overflow-y-auto",children:Z.sort((Xe,lt)=>Xe.name.localeCompare(lt.name)).map(Xe=>s.jsx(wt,{value:Xe.id.toString(),children:Xe.name},Xe.id))})]})]}),s.jsxs("div",{children:[s.jsxs(Be,{htmlFor:"areaMaster",className:"text-sm font-medium mb-1.5 block",children:["Delivery Areas* ",s.jsx("span",{className:"text-xs text-gray-500"}),(r==null?void 0:r.isDairyProduct)&&s.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Dairy Product"})]}),s.jsxs(pr,{onValueChange:Xe=>{const lt=Q.find(Ct=>Ct.id===parseInt(Xe));lt&&ct(lt)},value:((ts=H==null?void 0:H.id)==null?void 0:ts.toString())||"",children:[s.jsx(xr,{className:we.areaMaster?"border-red-500 w-full":"w-full",children:s.jsx(gr,{placeholder:"Select your delivery area"})}),s.jsx(yr,{className:"max-h-60 overflow-y-auto",children:Q.sort((Xe,lt)=>Xe.name.localeCompare(lt.name)).map(Xe=>s.jsx(wt,{value:Xe.id.toString(),children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:Xe.name}),s.jsx("div",{className:"flex gap-1 ml-2"})]})},Xe.id))})]}),we.areaMaster&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:we.areaMaster})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"state",className:"text-sm font-medium mb-1.5 block",children:"State*"}),s.jsxs(pr,{onValueChange:Xe=>ft("state",Xe),value:Pe.state,disabled:!0,children:[s.jsx(xr,{className:we.state?"border-red-500 w-full":"w-full",children:s.jsx(gr,{placeholder:"Select a state"})}),s.jsx(yr,{className:"max-h-60 overflow-y-auto",children:ew.filter(Xe=>Xe&&typeof Xe.label=="string").map(Xe=>s.jsx(wt,{value:Xe.label,children:Xe.label},Xe.value))})]}),we.state&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:we.state})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"pincode",className:"text-sm font-medium mb-1.5 block",children:"Pincode*"}),s.jsx("input",{id:"pincode",name:"pincode",type:"text",max:6,value:Pe.pincode,onChange:Mt,placeholder:"Pincode",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),we.pincode&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:we.pincode}),H&&s.jsx(q6,{pincode:Pe.pincode,isValid:Ye.isValid,message:Ye.message,isValidating:Ye.isValidating,showServiceRequest:!Ye.isValid&&!Ye.isValidating&&Pe.pincode.length===6,onRequestService:es})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:Pe.isDefault,onChange:Xe=>me(lt=>({...lt,isDefault:Xe.target.checked})),className:"h-4 w-4 text-green-500 focus:ring-green-500 border-gray-300 rounded"}),s.jsx(Be,{htmlFor:"isDefault",className:"text-sm",children:"Set as default address"})]})]})]}):s.jsxs(s.Fragment,{children:[(()=>{var Ct;const Xe=k.find(lr=>lr.id===O);return((Ct=Xe==null?void 0:Xe.depot)==null?void 0:Ct.isOnline)?s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium mb-2 block",children:"Select delivery address:"}),m?s.jsx("div",{className:"text-center py-4",children:"Loading addresses..."}):d.length>0?s.jsx(Wy,{value:g||"",onValueChange:w,className:"gap-3 mt-2",children:d.map(lr=>s.jsx("div",{className:`border rounded-lg p-3 cursor-pointer ${g===lr.id?"border-green-500 bg-green-50":"border-gray-200"}`,onClick:()=>w(lr.id),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(nc,{value:lr.id,id:`address-${lr.id}`,className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs(Be,{htmlFor:`address-${lr.id}`,className:"font-medium cursor-pointer flex items-center gap-1",children:[lr.label,lr.isDefault&&s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Default"})]})}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[lr.recipientName,"  ",lr.mobile]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[lr.plotBuilding,", ",lr.streetArea,lr.landmark?`, ${lr.landmark}`:"",", ",lr.city,", ",lr.state," - ",lr.pincode]})]})]})},lr.id))}):s.jsxs("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:[s.jsx(Rd,{className:"mx-auto h-6 w-6 text-gray-400 mb-2"}),s.jsx("p",{className:"text-gray-500",children:"No saved addresses found."}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Please add an address in your profile first."})]}),s.jsxs(Ee,{variant:"outline",className:"mt-4 text-sm border-orange-500 text-orange-500 w-full hover:bg-orange-50",size:"sm",onClick:()=>{v(!0)},children:[s.jsx(li,{className:"h-4 w-4 mr-2"})," Add New Address"]})]}):Xe?s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium mb-2 block",children:"Pickup from Location:"}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{className:"h-4 w-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("span",{className:"font-medium",children:Xe.depot.name}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Pickup"})]}),Xe.depot.address?s.jsxs("p",{className:"text-sm text-gray-600",children:[Xe.depot.address,Xe.depot.city&&`, ${Xe.depot.city}`,Xe.depot.pincode&&` - ${Xe.depot.pincode}`]}):s.jsx("p",{className:"text-sm text-gray-500 italic",children:"Location address information not available"})]}),s.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-700 flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"You will need to pick up your order from this depot location."]})})]}):s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium mb-2 block",children:"Delivery/Pickup Address:"}),s.jsx("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:s.jsx("p",{className:"text-gray-500",children:"Please select a depot variant first"})})]})})(),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx(Be,{className:"text-sm font-medium",children:a?`Available variants for ${a.name}:`:"Select product variants (you can choose multiple):"}),R.length>0&&s.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>B([]),className:"text-xs h-7",children:"Clear All"})]}),k.length>0?s.jsx("div",{className:"space-y-3",children:k.map(Xe=>{const lt=R.some(lr=>lr.variantId===Xe.id),Ct=R.find(lr=>lr.variantId===Xe.id);return s.jsx("div",{className:`border rounded-lg p-3 transition-all ${lt?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mt-0.5 cursor-pointer flex-shrink-0 ${lt?"bg-green-500 border-green-500":"border-gray-300"}`,onClick:()=>Lr(Xe.id),children:lt&&s.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx(Be,{className:"font-medium cursor-pointer",onClick:()=>Lr(Xe.id),children:Xe.name}),s.jsx("div",{className:"text-right",children:Xe.mrp&&Xe.mrp>Xe.buyOncePrice?s.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[s.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["",Number(Xe.mrp).toFixed(2)]}),s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["",Number(Xe.buyOncePrice||0).toFixed(2)]})]}):s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["",Number(Xe.buyOncePrice||0).toFixed(2)]})})]}),lt&&Ct&&s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx(Be,{className:"text-sm text-gray-600",children:"Quantity:"}),s.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>Pt(Xe.id,Ct.quantity-1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(x0,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-3 py-1 text-sm font-medium min-w-[50px] text-center",children:Ct.quantity}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>Pt(Xe.id,Ct.quantity+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:s.jsx(li,{className:"h-3 w-3"})})]})]})]})]})},Xe.id)})}):s.jsxs("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:[s.jsx("p",{className:"text-gray-500",children:a?`No variants available for ${a.name}`:"No depot variants available for this product"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Please try selecting a different depot."})]})]}),s.jsxs("div",{children:[s.jsxs(Be,{htmlFor:"deliveryInstructions",className:"text-sm font-medium mb-2 block flex items-center gap-1",children:[s.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Delivery Instructions (Optional)"]}),s.jsx("textarea",{id:"deliveryInstructions",value:be,onChange:Xe=>ge(Xe.target.value),placeholder:"e.g., Leave at gate, Call before delivery, Ring doorbell twice...",className:"w-full p-2 border border-gray-300 rounded-md text-sm resize-none focus:ring-green-500 focus:border-green-500",rows:3,maxLength:200}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[be.length,"/200 characters"]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"deliveryDateBuyOnce",className:"text-sm font-medium mb-2 block",children:"Select delivery date:"}),s.jsx("input",{type:"date",id:"deliveryDateBuyOnce",value:fr(l),onChange:Xe=>{Xe.target.value?c(new Date(Xe.target.value+"T00:00:00")):c(void 0)},min:fr(Gi(new Date,2)),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"}),!l&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please select a delivery date."})]}),s.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:s.jsxs("p",{className:"text-xs text-primary flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"1) Since the milk is sourced from 'Tribal farmers',  all payments are in Advance. 2) Both Cash & Online options are available.The plan starts after 2 days from receipt of payment. 3) For Cash payments - our person can visit your home OR you may deposit money at our Tilak Road store."]})}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs(Be,{className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[s.jsx(Dh,{className:"h-4 w-4"})," Use Wallet Balance"]}),s.jsxs("div",{className:"text-sm font-medium",children:["Available: ",N.toFixed(2)]})]}),Tr&&N>0&&s.jsx("div",{className:"bg-white p-3 rounded border border-blue-300",children:s.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Wallet Balance:"}),s.jsxs("span",{children:["",N.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Amount to be deducted:"}),s.jsxs("span",{className:"font-medium text-green-600",children:["",mr.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-medium pt-1 border-t",children:[s.jsx("span",{children:"Remaining in wallet:"}),s.jsxs("span",{children:["",(N-mr).toFixed(2)]})]})]})})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 space-y-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Order Summary"}),R.length>0&&s.jsx("div",{className:"space-y-2 mb-3",children:R.map(Xe=>{const lt=k.find(lr=>lr.id===Xe.variantId);if(!lt)return null;const Ct=Xe.quantity*lt.buyOncePrice;return s.jsx("div",{className:"bg-gray-50 p-2 rounded",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-800",children:lt.name}),s.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[Xe.quantity,"  ",lt.buyOncePrice.toFixed(2)]})]}),s.jsxs("span",{className:"text-sm font-medium text-gray-800",children:["",Ct.toFixed(2)]})]})},Xe.variantId)})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Date:"}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:l?Wt(l,"dd/MM/yyyy"):"Not selected"})]}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-sm text-gray-600",children:g&&d.find(Xe=>Xe.id===g)?"Delivery Address:":"Pickup Location:"}),g&&d.find(Xe=>Xe.id===g)?(()=>{const Xe=d.find(lt=>lt.id===g);return s.jsxs("span",{className:"text-sm font-medium text-gray-800 text-right max-w-[65%]",children:[Xe.label?`${Lje(Xe.label)}: `:"",Xe.plotBuilding,", ",Xe.streetArea,", ",Xe.city," - ",Xe.pincode]})})():s.jsx("span",{className:"text-sm font-medium text-gray-800",children:a==null?void 0:a.address})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Product Total:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-800",children:["",Cr.toFixed(2)]})]}),mr>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Wallet Deduction:"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["-",mr.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-dashed",children:[s.jsx("span",{className:"text-gray-700 font-semibold text-base",children:"Amount Payable:"}),s.jsxs("span",{className:"font-bold text-green-600 text-base",children:["",ar.toFixed(2)]})]}),s.jsx("img",{src:AW,alt:""})]})]})}),b&&s.jsx(Il,{className:"p-4 sm:p-6 border-t bg-white",children:s.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[s.jsx(Ee,{variant:"outline",onClick:()=>v(!1),className:"rounded-lg h-11 border-gray-300",children:"Cancel"}),s.jsx(Ee,{onClick:mt,className:"bg-primary hover:bg-primary text-white rounded-lg h-11",disabled:!!(we.recipientName||we.mobile||we.plotBuilding||we.streetArea||we.pincode||we.city||we.state||we.label||we.areaMaster),children:"Save Address"})]})}),!b&&s.jsx(Il,{className:"p-4 sm:p-6 border-t bg-gray-50",children:s.jsxs("div",{className:"space-y-3 w-full",children:[Gt>0&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),s.jsxs("span",{className:"font-medium",children:["You Save: ",Gt.toFixed(2)]})]}),s.jsx("span",{className:"text-gray-500 text-xs",children:"vs MRP pricing"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[s.jsx(Ee,{variant:"outline",onClick:()=>{t(!1),v(!1)},className:"flex-1 sm:flex-none sm:min-w-[120px] py-3 text-base border-gray-300 hover:bg-gray-100 transition-colors",children:"Cancel"}),s.jsx(Ee,{onClick:Mr,disabled:ce||(()=>{if(!l||R.length===0)return!0;const Xe=R[0];if(!Xe)return!0;const lt=k.find(Ct=>Ct.id===Xe.variantId);return!!(!lt||lt.depot.isOnline&&!g||!lt.depot.isOnline&&!lt.depot.address)})(),className:"flex-1 sm:flex-auto bg-primary hover:bg-primary/80 text-white py-3 text-base font-semibold rounded-lg shadow-md disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none transition-all duration-200",children:ce?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),s.jsx("span",{children:"Processing..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"hidden sm:inline",children:["Confirm Order & Pay ",ar.toFixed(2)]}),s.jsxs("span",{className:"sm:hidden",children:["Pay ",ar.toFixed(2)]})]})})]})]})})]}),s.jsx(_W,{isOpen:W,onOpenChange:re,productName:r==null?void 0:r.name,areaName:H==null?void 0:H.name,message:te}),s.jsx(V6,{isOpen:se,onOpenChange:le,productId:r==null?void 0:r.id,productName:r==null?void 0:r.name,isDairyProduct:r==null?void 0:r.isDairyProduct,message:te||`We currently do not serve pincode ${Pe.pincode}, but we're expanding!`,prefilledData:{recipientName:Pe.recipientName,mobile:Pe.mobile,plotBuilding:Pe.plotBuilding,streetArea:Pe.streetArea,landmark:Pe.landmark,pincode:Pe.pincode,city:Pe.city||((ss=H==null?void 0:H.city)==null?void 0:ss.name)||"",state:Pe.state},onSuccess:()=>{le(!1),ve.success("Thank you for your interest! We've saved your details and will contact you when we expand to your area.")}}),s.jsx(kW,{isOpen:Ce,onOpenChange:De,title:"Order Placed Successfully!",message:"Your order has been placed and will be delivered on the selected date.",orderDetails:{orderId:Ze.orderId,productName:Ze.variantSummary||(r==null?void 0:r.name),deliveryDate:l,totalAmount:Ze.totalAmount}})]}):null},HE=[{value:3,label:"3 Days",description:"Trial Pack",color:"#3B82F6",icon:s.jsx(X5,{className:"h-4 w-4"})},{value:15,label:"15 Days",description:"Mid Saver Pack",color:"#10B981",icon:s.jsx(G0,{className:"h-4 w-4"})},{value:30,label:"30 Days",description:"Super Saver Pack",color:"#8B5CF6",icon:s.jsx(Ma,{className:"h-4 w-4"})}],Fje=({product:e,variants:t,className:r,deliveryPreference:n="home",selectedDepotId:a})=>{var N;const[i,o]=y.useState(!1),l=async()=>e!=null&&e.id?(await $t(`/api/public/depot-variants/${e.id}`)).data||[]:[],{data:c=[],isLoading:d}=cs({queryKey:["depot-variants",e==null?void 0:e.id],queryFn:l,enabled:!!(e!=null&&e.id)}),h=(S,A,E=!1)=>c.filter(C=>{const I=S==="home"?C.depot.isOnline:!C.depot.isOnline;let P=!1;A==="500ml"?P=C.unit==="500ml"||C.name.includes("500ml")||C.name.includes("500 ml"):A==="1L"&&(P=C.unit==="1L"||C.name.includes("1L")||C.name.includes("1 L")||C.name.includes("1 Ltrs")||C.name.includes("1 Ltr")||C.name.includes("1000ml")||C.name.includes("1000 ml"));let F=!0;return E||S==="home"?F=!0:S==="pickup"&&(F=!a||C.depot.id===a),I&&P&&F}),m=()=>{const S=h("home","500ml"),A=h("home","1L"),E=h("pickup","500ml"),C=h("pickup","1L");return console.log("Available variants:",{online500ml:S.map(I=>({name:I.name,unit:I.unit,depot:I.depot.name})),online1L:A.map(I=>({name:I.name,unit:I.unit,depot:I.depot.name})),pickup500ml:E.map(I=>({name:I.name,unit:I.unit,depot:I.depot.name})),pickup1L:C.map(I=>({name:I.name,unit:I.unit,depot:I.depot.name}))}),{online500ml:S,online1L:A,pickup500ml:E,pickup1L:C}},p=(S,A=n,E="500ml",C=!1)=>{const I=h(A,E,C);if(I.length===0)return 0;const P=I[0];if(S==="mrp")return P.mrp||P.price||0;if(S==="buyOnce")return P.buyOncePrice||0;switch(S){case 3:return P.price3Day||0;case 15:return P.price15Day||0;case 30:return P.price1Month||0;default:return 0}},g=(S,A=n,E="500ml",C=!1)=>{const I=p("mrp",A,E,C),P=p(S,A,E,C);if(I===0||P===0)return 0;const F=Math.round((I-P)/I*100);return Math.max(0,F)},w=(S,A=n,E="500ml",C=!1)=>{const I=p("mrp",A,E,C),P=p(S,A,E,C);return I===0||P===0?0:Math.max(0,I-P)},b=()=>{var A;if(!a)return"";const S=(A=c.find(E=>E.depot.id===a))==null?void 0:A.depot;return S?S.name:""},v=S=>[{id:"daily",label:"Daily",description:"Fresh delivery every single day",tooltip:"Receive your order every day, so you never run out.",minPeriod:3},{id:"alternate-days",label:"Alternate Days",description:"Every other day delivery",tooltip:"Get your order every other day (Day1, Day3, Day5). Great if you use it regularly but not daily.",minPeriod:15},{id:"day1-day2",label:"Day1Day2",description:"Varying quantities",tooltip:"On Day1 youll get one quantity, on Day2 a different quantity, then it repeats. Ideal for changing needs.",minPeriod:15},{id:"select-days",label:"Weekdays",description:"Custom days selection",tooltip:"Pick the exact weekdays you want deliveries (e.g., Monday, Wednesday, Friday). Total flexibility.",minPeriod:30}].filter(E=>S>=E.minPeriod);return We.useEffect(()=>{c.length>0&&m()},[c,a]),We.useMemo(()=>HE.map(S=>({period:S.label,periodValue:S.value,price:p(S.value,n),buyOncePrice:p("buyOnce",n),savings:g(S.value,n),color:S.color,description:S.description,icon:S.icon,availableSchedules:v(S.value)})),[n,c,a]),d?s.jsxs(Ee,{variant:"outline",disabled:!0,className:"w-full py-3 text-sm border-blue-500 text-blue-600 hover:bg-blue-50 flex items-center justify-center gap-2",children:[s.jsx(vr,{className:"h-4 w-4 rounded-full"}),"Loading Pricing..."]}):!e&&(!t||t.length===0)&&c.length===0?null:(e!=null&&e.unit||(N=t==null?void 0:t[0])!=null&&N.unit,s.jsxs(s.Fragment,{children:[s.jsxs(Ee,{variant:"outline",onClick:()=>o(!0),className:"w-full py-3 text-sm border-blue-500 text-blue-600 hover:bg-blue-50 flex items-center justify-center gap-2",children:[s.jsx(Ab,{className:"h-4 w-4"}),"View Subscription Pricing & Schedules"]}),s.jsx(xn,{open:i,onOpenChange:o,children:s.jsxs(yn,{className:"sm:max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs(An,{children:[s.jsxs(En,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Fy,{className:"h-5 w-5 text-blue-600"}),"Subscription Pricing & Schedules"]}),s.jsx(Pf,{className:"absolute right-4 top-4",children:s.jsx(ul,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[70vh] space-y-6 pr-2",children:[s.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-lg border",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:(e==null?void 0:e.name)||"Product"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-gray-900",children:"Choose the best subscription plan for your needs. Longer periods offer better savings!"}),n==="pickup"&&a&&b()&&s.jsx("div",{className:"bg-green-100 p-2 rounded-md",children:s.jsxs("p",{className:"text-sm text-green-800 font-medium",children:[" Showing prices for: ",b()]})}),n==="home"&&s.jsx("div",{className:"bg-blue-100 p-2 rounded-md",children:s.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" Showing online delivery prices"})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 text-lg",children:["Subscription Pricing for ",n==="home"?"Online Delivery":"Store Pickup"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border border-gray-500 rounded-lg",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700 border-r border-gray-500",children:"Period"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-700 border-r border-gray-500",colSpan:2,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"500ml",s.jsx("span",{className:"text-xs text-gray-500",children:"(55)"})]})}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-700",colSpan:2,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"1L",s.jsx("span",{className:"text-xs text-gray-500",children:"(110)"})]})})]}),s.jsxs("tr",{className:"bg-gray-50 border-t border-gray-500",children:[s.jsx("th",{className:"py-2 px-4 border-r border-gray-500"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Price"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Savings"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Price"}),s.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-900 border-r border-gray-500",children:"Savings"})]})]}),s.jsxs("tbody",{className:"divide-y divide-gray-500",children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 border-r border-gray-500",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"text-gray-900 font-medium",children:"Buy Once"})})}),s.jsxs("td",{className:"text-center py-3 px-3 font-semibold text-gray-900 border-r border-gray-500",children:["",p("buyOnce",n,"500ml")||"--"]}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:s.jsxs(Gr,{className:"bg-gray-200 text-gray-900 text-xs mb-1",children:[g("buyOnce",n,"500ml"),"% off"]})}),s.jsxs("td",{className:"text-center py-3 px-3 font-semibold text-gray-900 border-r border-gray-500",children:["",p("buyOnce",n,"1L")||"--"]}),s.jsx("td",{className:"text-center py-3 px-3",children:s.jsxs(Gr,{className:"bg-green-200 text-green-800 text-xs mb-1",children:[g("buyOnce",n,"1L"),"% off"]})})]}),HE.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 border-r border-gray-500",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{style:{color:S.color},className:"flex items-center",children:S.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 text-sm",children:S.label}),s.jsx("div",{className:"text-xs text-gray-900",children:S.description})]})]})}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:s.jsxs("span",{className:"font-semibold text-gray-900",children:["",p(S.value,n,"500ml")||"--"]})}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:g(S.value,n,"500ml")>0?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs(Gr,{className:"bg-green-200 text-green-800 text-xs mb-1",children:[g(S.value,n,"500ml"),"% off"]}),s.jsxs("span",{className:"text-xs text-primary-foreground font-medium",children:["Save ",w(S.value,n,"500ml")]})]}):s.jsx("span",{className:"text-xs text-gray-400",children:"No savings"})}),s.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-500",children:s.jsxs("span",{className:"font-semibold text-gray-900",children:["",p(S.value,n,"1L")||"--"]})}),s.jsx("td",{className:"text-center py-3 px-3",children:g(S.value,n,"1L")>0?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs(Gr,{className:"bg-green-200 text-green-800 text-xs mb-1",children:[g(S.value,n,"1L"),"% off"]}),s.jsxs("span",{className:"text-xs text-primary-foreground font-medium",children:["Save ",w(S.value,n,"1L")]})]}):s.jsx("span",{className:"text-xs text-gray-400",children:"No savings"})})]},S.value))]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Available Delivery Schedules by Period"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:HE.map(S=>{const A=v(S.value);return s.jsxs("div",{className:"bg-white rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{style:{color:S.color},children:S.icon}),s.jsx("span",{className:"font-medium text-sm",children:S.label})]}),s.jsx("div",{className:"space-y-1",children:A.map(E=>s.jsx(Gr,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200 mr-1 mb-1",children:E.label},E.id))})]},S.value)})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 text-lg flex items-center gap-2",children:[s.jsx(G0,{className:"h-5 w-5 text-blue-600"}),"Delivery Schedule Details"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v(30).map(S=>s.jsx("div",{className:"border rounded-lg p-4 bg-gradient-to-br from-blue-50/30 to-white hover:shadow-md transition-all duration-200 cursor-help group relative",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-secondary rounded-full mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-1 group-hover:text-blue-700 transition-colors",children:S.label}),s.jsx("p",{className:"text-sm text-gray-900 mb-2",children:S.description}),s.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:["Available for: ",S.id==="daily"?"All periods":S.id==="alternate-days"||S.id==="day1-day2"?"15+ days":"30 days only"]}),s.jsxs("div",{className:"absolute left-4 right-4 top-full mt-2 bg-gray-900 text-white text-xs p-3 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 shadow-lg",children:[s.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-900 rotate-45"}),S.tooltip]})]})]})},S.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:"Subscription Benefits"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Better pricing than one-time purchases"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Flexible delivery schedules"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Pause or modify anytime"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Fresh delivery guaranteed"})]})]})]})]})]})})]}))},Bje=()=>cs({queryKey:["area-masters"],queryFn:async()=>{const t=await $t("/api/public/area-masters");return t.data||t},staleTime:5*60*1e3,cacheTime:10*60*1e3}),sL=({showDeliveryInfo:e=!0,showDairyOnly:t=!1,simple:r=!1})=>{const[n,a]=y.useState(""),{data:i=[],isLoading:o,isError:l}=Bje(),c=y.useMemo(()=>{let m=Array.isArray(i)?i:[];return m=m.filter(p=>p&&p.deliveryType==="HandDelivery"),t&&(m=m.filter(p=>p&&p.isDairyProduct)),n&&(m=m.filter(p=>{var g,w;return p&&(p.name.toLowerCase().includes(n.toLowerCase())||p.pincodes.includes(n)||!!((w=(g=p.depot)==null?void 0:g.name)!=null&&w.toLowerCase().includes(n.toLowerCase())))})),m},[i,n,t]),d=c;return o?s.jsxs("div",{className:"space-y-4",children:[s.jsx(vr,{className:"h-6 w-48"}),s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,m)=>s.jsxs(St,{className:"w-full",children:[s.jsx(zt,{children:s.jsx(vr,{className:"h-6 w-32"})}),s.jsxs(_t,{className:"space-y-2",children:[s.jsx(vr,{className:"h-4 w-full"}),s.jsx(vr,{className:"h-4 w-3/4"})]})]},m))})]}):l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Rd,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Failed to load delivery areas"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please try again later"})]}):Array.isArray(i)&&i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Rd,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"No delivery areas available"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"We're expanding our coverage soon"})]}):r?s.jsx("div",{className:"space-y-2",children:d.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(h=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 rounded-md",children:h.name},h.id))}):s.jsx("p",{className:"text-sm text-gray-500",children:"No delivery areas available"})}):s.jsxs("div",{className:"space-y-6",children:[c.length===0&&n&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Hn,{className:"mx-auto h-8 w-8 mb-3 text-gray-400"}),s.jsxs("p",{className:"text-gray-500",children:['No areas found for "',n,'"']}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try a different search term or pincode"})]}),d.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:s.jsx(ap,{className:"h-5 w-5 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Home Delivery Areas"}),s.jsxs(Gr,{variant:"secondary",className:"bg-green-100 text-green-700",children:[d.length," areas"]})]}),s.jsx("div",{className:"grid gap-2 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2",children:d.map(h=>s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border border-green-100 bg-green-50/50 hover:bg-green-50 transition-colors",children:[s.jsx(Rd,{className:"h-3 w-3 text-green-600 flex-shrink-0"}),s.jsx("span",{className:"text-sm font-medium text-gray-700 flex-wrap",children:h.name})]},h.id))})]})]})},s2=()=>{const[e,t]=y.useState(null),[r,n]=y.useState("home"),a=1,[i,o]=y.useState(!1),[l,c]=y.useState(!1),[d,h]=y.useState(!1),[m,p]=y.useState(!1),[g,w]=y.useState(!1),[b,v]=y.useState(!1),[N,S]=y.useState(!1);y.useEffect(()=>{try{const V=localStorage.getItem("user");if(V){const Z=JSON.parse(V);v(!!Z),Z&&Z.role==="ADMIN"&&S(!0)}else v(!1)}catch(V){console.error("Failed to parse user data from localStorage",V),v(!1)}},[]);const A=async()=>{const V=await $t("/depots?limit=1000");return(V==null?void 0:V.data)??V},{data:E=[],isLoading:C}=cs({queryKey:["depots"],queryFn:A});y.useEffect(()=>{if(b&&E&&E.length>0){let V=E;if(r==="home"?V=E.filter(Z=>Z.isOnline):r==="pickup"&&(V=E.filter(Z=>!Z.isOnline)),V.length>0){const Z=E.find(ae=>ae.id===e);Z&&(r==="home"&&Z.isOnline||r==="pickup"&&!Z.isOnline)||t(V[0].id)}else t(null)}else!b&&E&&E.length>0&&!e&&t(E[0].id)},[E,r,b,e]);const I=async V=>await $t(`/products/${V}`),{data:P,isLoading:F,isError:k,error:z}=cs({queryKey:["product",a],queryFn:()=>I(a),enabled:!0,staleTime:0,cacheTime:0}),O=E.find(V=>V.id===e),M=()=>{o(!0)},R=()=>{c(!0)},B=async V=>{console.log("Subscription Confirmed, preparing to send to backend:",V);try{const Z=parseInt(V.selectedAddress,10);if(isNaN(Z)){console.error("Invalid deliveryAddressId after parsing:",V.selectedAddress);return}const J={productId:V.productId?Number(V.productId):void 0,deliveryAddressId:Z,period:V.selectedPeriod,deliverySchedule:V.deliveryOption.toUpperCase(),weekdays:V.deliveryOption==="select-days"&&V.selectedDays&&V.selectedDays.length>0?V.selectedDays:void 0,qty:V.quantity,altQty:V.deliveryOption==="varying"?V.quantityVarying2:void 0,startDate:V.startDate};console.log("Payload to be sent:",J);const ae=await en("/subscriptions",J);console.log("Subscription created successfully:",ae)}catch(Z){console.error("Failed to create subscription:",Z)}},Y=async V=>{console.log("Buy Once Confirmed, processing as single-day subscription:",{...V,selectedDate:V.selectedDate?Wt(V.selectedDate,"yyyy-MM-dd"):void 0});try{const Z=V.selectedAddress,J=parseInt(Z,10);if(isNaN(J)){console.error("Invalid deliveryAddressId after parsing:",Z),ve.error("Invalid delivery address selected");return}const ae={productId:V.productId?Number(V.productId):void 0,deliveryAddressId:J,period:1,deliverySchedule:"DAILY",weekdays:void 0,qty:V.quantity,startDate:V.selectedDate?Wt(V.selectedDate,"yyyy-MM-dd"):void 0,altQty:void 0,isOneTimePurchase:!0};console.log("Buy Once payload (sent as subscription):",ae);const D=await en("/subscriptions",ae);console.log("One-time purchase created as subscription successfully:",D),ve.success("Your order has been placed successfully!")}catch(Z){console.error("Failed to create one-time purchase:",Z),ve.error("Failed to place your order. Please try again.")}};if(F)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsx(vr,{className:"h-[400px] w-full rounded-2xl"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(vr,{className:"h-9 w-3/4"}),s.jsx(vr,{className:"h-6 w-1/2"}),s.jsxs("div",{className:"space-y-2 mt-6",children:[s.jsx(vr,{className:"h-5 w-full"}),s.jsx(vr,{className:"h-5 w-4/5"}),s.jsx(vr,{className:"h-5 w-3/4"})]}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsx(vr,{className:"h-12 w-full"}),s.jsx(vr,{className:"h-12 w-full"})]}),s.jsx(vr,{className:"h-14 w-full mt-8 rounded-2xl"})]})]})})});if(k||!P)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(Ki,{variant:"destructive",className:"max-w-4xl mx-auto",children:[s.jsx(Tu,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Error Loading Product"}),s.jsxs(Qi,{children:["There was a problem retrieving the product details. Error: ",(z==null?void 0:z.message)||"Product data not found."]}),s.jsx("div",{className:"mt-4",children:s.jsx(Ee,{variant:"outline",onClick:()=>window.location.reload(),className:"text-primary",children:"Try Again"})})]})});const U=[{icon:s.jsx(Y0,{className:"w-6 h-6 text-green-600"}),title:"100% Natural",description:"No additives or preservatives"},{icon:s.jsx(ap,{className:"w-6 h-6 text-blue-600"}),title:"Daily Delivery",description:"Fresh to your doorstep every morning"},{icon:s.jsx(Ma,{className:"w-6 h-6 text-purple-600"}),title:"Flexible Schedule",description:"Pause or modify anytime"}],Q=P!=null&&P.tags?P.tags.split(",").map(V=>V.trim()).filter(V=>V.length>0):[];return s.jsx("div",{className:"container min-w-full px-4 py-8 max-sm:py-2 bg-white",children:s.jsxs(ta.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[s.jsx("div",{className:"bg-muted/10 rounded-2xl flex items-center justify-center  border border-muted/20 max-h-[558px] max-sm:max-h-[380px]",children:P.attachmentUrl?s.jsx(ta.img,{src:`https://snf.3.7.237.251.sslip.io${P.attachmentUrl}`,alt:P.name,className:"object-cover max-md:object-fit max-sm:object-contain rounded-2xl w-full h-full",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5}}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-gray-700",children:[s.jsx("div",{className:"bg-muted/30 rounded-full p-6 mb-4",children:s.jsx(Y0,{className:"w-16 h-16"})}),s.jsx("p",{className:"text-lg",children:"Fresh Milk Image"})]})}),s.jsxs("div",{className:"py-4",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-1",children:P.name}),s.jsx("div",{className:"mt-2",children:Q.map(V=>s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full",children:V},V))}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Description"}),s.jsx("div",{style:{textAlign:"justify"},className:"text-gray-700 leading-relaxed prose",children:P.description?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{maxHeight:"6em",overflow:"hidden",position:"relative",cursor:P.description.length>200?"pointer":"default"},onClick:()=>P.description&&P.description.length>200&&h(!0),dangerouslySetInnerHTML:{__html:P.description}}),P.description.length>200&&s.jsx("span",{onClick:()=>h(!0),className:"text-primary font-medium ml-1 cursor-pointer hover:underline",children:"Read more"})]}):s.jsx("p",{children:"Our premium milk comes from grass-fed cows raised in natural pastures. Rich in calcium and essential nutrients, it's pasteurized for safety while maintaining its natural goodness."})})]}),s.jsx("div",{className:"border-t border-muted/20 my-2"}),s.jsx("h1",{className:"text-xl font-semibold mb-1",children:"Subscribe by making an online payment or by paying in advance."}),s.jsx("div",{className:"border-t border-muted/20 my-2"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-3 font-medium",children:"Delivery Preference:"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"deliveryPreference",value:"home",checked:r==="home",onChange:V=>n(V.target.value),className:"mr-2"}),"Home Delivery"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"deliveryPreference",value:"pickup",checked:r==="pickup",onChange:V=>n(V.target.value),className:"mr-2"}),"Store Pickup"]})]})]}),r==="pickup"&&s.jsx("div",{className:"mb-4",children:C?s.jsx(vr,{className:"h-10 w-full"}):s.jsxs(pr,{value:e!=null?e.toString():"",onValueChange:V=>t(parseInt(V,10)),children:[s.jsx(xr,{className:"w-full mt-2 border-black",children:s.jsx(gr,{placeholder:"Select a store for pickup"})}),s.jsx(yr,{children:E.filter(V=>!V.isOnline).map(V=>s.jsxs(wt,{value:V.id.toString(),children:[V.name," - ",V.address]},V.id))})]})}),r==="home"&&s.jsx("div",{className:"mb-4",children:s.jsx(sL,{title:"",showDeliveryInfo:!0,showDairyOnly:P==null?void 0:P.isDairyProduct})}),r==="pickup"&&s.jsx("div",{className:"mb-4",children:s.jsxs(Ee,{variant:"outline",onClick:()=>p(!0),className:"w-full py-2 text-sm border-blue-500 text-blue-600 hover:bg-blue-50",children:[s.jsx(ap,{className:"h-4 w-4 mr-2"}),"View Store Pickup Locations"]})}),s.jsx("div",{className:"mt-8",children:s.jsx(Fje,{product:P,deliveryPreference:r,selectedDepotId:e})})]}),s.jsx("div",{className:"border-t border-muted/20 my-2"}),s.jsxs("div",{className:"mb-2",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Benefits"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:U.map((V,Z)=>s.jsxs(ta.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Z*.1},className:"bg-card p-4 rounded-xl border border-muted/20 flex items-start",children:[s.jsx("div",{className:"mr-3 mt-1",children:V.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:V.title}),s.jsx("p",{className:"text-sm text-gray-700",children:V.description})]})]},Z))})]}),s.jsx("div",{className:"mt-8 space-y-4",children:b?s.jsx(s.Fragment,{children:b&&!N&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(ta.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:s.jsx(Ee,{className:"w-full py-6 text-md sm:text-lg bg-secondary hover:bg-secondary/80 text-white shadow-lg transition-all duration-300 rounded-xl",onClick:R,children:"Buy Once"})}),s.jsx(ta.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:s.jsx(Ee,{className:"w-full py-6 text-md sm:text-lg bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary text-white shadow-lg transition-all duration-300 rounded-xl",onClick:M,children:"Subscribe Now"})})]})}):s.jsxs("div",{children:[s.jsx(Ee,{asChild:!0,className:"mb-2 w-full bg-secondary hover:bg-secondary/80 text-white py-6 rounded-lg text-lg font-semibold transition-transform duration-200 hover:scale-105",children:s.jsx(Rs,{to:"/login",children:"Buy Once"})}),s.jsx(Ee,{asChild:!0,className:"w-full bg-primary hover:bg-primary/80 text-white py-6 rounded-lg text-lg font-semibold transition-transform duration-200 hover:scale-105",children:s.jsx(Rs,{to:"/login",children:"Subscribe"})})]})})]})]}),s.jsx(Ije,{depotId:e,isOpen:i,onOpenChange:o,product:P,productId:a,selectedDepot:O,onSubscribeConfirm:B}),s.jsx(Mje,{isOpen:l,onOpenChange:c,selectedDepot:O,product:P,productId:a,onBuyOnceConfirm:Y}),s.jsx(xn,{open:d,onOpenChange:h,children:s.jsxs(yn,{className:"sm:max-w-2xl",children:[s.jsxs(An,{children:[s.jsxs(En,{className:"text-xl font-bold",children:[P.name," - Full Description"]}),s.jsx(Pf,{className:"absolute right-4 top-4",children:s.jsx(ul,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-4 max-h-[70vh] overflow-y-auto",children:s.jsx("div",{className:"text-gray-700 leading-relaxed prose",dangerouslySetInnerHTML:{__html:P.description||"Our premium milk comes from grass-fed cows raised in natural pastures. Rich in calcium and essential nutrients, it's pasteurized for safety while maintaining its natural goodness. We source our milk from local farms that prioritize animal welfare and sustainable farming practices. Each bottle undergoes rigorous quality checks to ensure you receive the freshest, most nutritious product possible. The cows are fed a natural diet without hormones or antibiotics, resulting in milk that's both delicious and healthier. Perfect for drinking, cooking, or adding to your morning coffee, our milk is a versatile addition to any kitchen. We're proud to support local farmers and bring you a product that's not only good for you but also good for the environment."}})})]})}),s.jsx(xn,{open:m,onOpenChange:p,children:s.jsxs(yn,{className:"w-full max-w-full h-full max-h-full sm:max-w-4xl sm:max-h-[80vh] p-0 sm:p-6 flex flex-col",children:[s.jsxs(An,{className:"px-4 pt-4 sm:px-0 sm:pt-0",children:[s.jsxs(En,{className:"text-lg sm:text-xl font-bold flex items-center gap-2",children:[s.jsx(ap,{className:"h-5 w-5 text-blue-600"}),"All Delivery Locations"]}),s.jsx(Pf,{className:"absolute right-4 top-4",children:s.jsx(ul,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-4 flex-1 overflow-y-auto px-4 sm:px-0",children:C?s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((V,Z)=>s.jsx(vr,{className:"h-16 w-full"},Z))}):s.jsx("div",{className:"overflow-y-auto max-h-[60vh] sm:max-h-[60vh]",children:s.jsx("div",{className:"grid gap-4",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold mb-3 text-orange-600 flex items-center gap-2",children:[s.jsx(Ma,{className:"h-4 w-4"}),"Store Pickup Locations"]}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg overflow-x-auto",children:[s.jsxs("table",{className:"w-full min-w-[600px]",children:[s.jsx("thead",{className:"bg-orange-100 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Store Name"}),s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Address"}),s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Contact Person"}),s.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3 text-left text-xs sm:text-sm font-medium text-orange-800",children:"Contact Number"})]})}),s.jsx("tbody",{children:E.filter(V=>!V.isOnline).map((V,Z)=>s.jsxs("tr",{className:Z%2===0?"bg-white":"bg-orange-25",children:[s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm font-medium text-gray-900",children:V.name}),s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm text-gray-600",children:V.address}),s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm text-gray-600",children:V.contactPerson}),s.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm text-gray-600",children:V.contactNumber})]},V.id))})]}),E.filter(V=>!V.isOnline).length===0&&s.jsxs("div",{className:"p-4 sm:p-8 text-center text-gray-500",children:[s.jsx(Ma,{className:"mx-auto h-8 w-8 mb-2 text-gray-400"}),s.jsx("p",{children:"No store pickup locations available"})]})]})]})})})}),s.jsx("div",{className:"mt-6 flex justify-end px-4 sm:px-0 pb-4 sm:pb-0",children:s.jsx(Ee,{variant:"outline",onClick:()=>p(!1),className:"w-full sm:w-auto",children:"Close"})})]})}),s.jsx(xn,{open:g,onOpenChange:w,children:s.jsxs(yn,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden",children:[s.jsxs(An,{children:[s.jsxs(En,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(ap,{className:"h-5 w-5 text-green-600"}),"Home Delivery Areas"]}),s.jsx(Pf,{className:"absolute right-4 top-4",children:s.jsx(ul,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:s.jsx(sL,{title:"Home Delivery Areas",showDeliveryInfo:!0,showDairyOnly:P==null?void 0:P.isDairyProduct})})}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx(Ee,{variant:"outline",onClick:()=>w(!1),children:"Close"})})]})})]})})};function Uje(){return s.jsx("div",{className:"w-full bg-primary/20 rounded-lg",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"flex  p-4 mb-2  flex-col items-start",children:[s.jsx("div",{className:"flex flex-col",children:s.jsx("h2",{className:"p-2 ml-4 text-secondary text-xl md:text-3xl tracking-tighter lg:max-w-xl font-regular",children:"Why choose Indraai"})}),s.jsx("div",{className:"flex gap-2 pt-6 flex-col w-full",children:s.jsxs("div",{className:"grid grid-cols-1 items-stretch lg:grid-cols-4 gap-4 overflow-x-auto",children:[s.jsxs("div",{className:"flex flex-row gap-4 min-w-full items-start h-full  min-h-[80px] p-4 mr-2 bg-white rounded-lg",children:[s.jsx(xf,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary rounded",children:[s.jsx("p",{className:"font-medium",children:"100% Pure A2 Gir Cow Milk"}),s.jsx("p",{className:"text-muted-foreground text-sm text-wrap",children:"Naturally nutritious and easy to digest"})]})]}),s.jsxs("div",{className:"flex flex-row gap-4 min-w-full items-start h-full  min-h-[80px]  p-4 mr-2 bg-white rounded-lg",children:[s.jsx(xf,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Absolutely No Adulteration"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Only clean, untainted milk"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(xf,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Free from Antibiotics"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Safe and chemical-free"})]})]}),s.jsxs("div",{className:"flex flex-row gap-4 w-full items-start h-full  min-h-[80px]  p-4 mr-2 bg-white rounded-lg",children:[s.jsx(xf,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"No Artificial Insemination"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Ethical, traditional breeding practices"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(xf,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Cruelty-Free"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Respectful, humane treatment of animals"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(xf,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Hormone-Free"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"No growth hormones or unnatural additives"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(xf,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Chemical-Free"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Zero exposure to harmful substances"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(xf,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"No Steroids"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Clean, unmodified milk"})]})]}),s.jsxs("div",{className:"flex flex-row w-full gap-4 items-start h-full  min-h-[80px]  p-4  mr-2 bg-white rounded-lg",children:[s.jsx(xf,{className:"w-4 h-4 mt-2 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col gap-1 text-secondary",children:[s.jsx("p",{className:"font-medium",children:"Free-Grazing Cows"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Open pasture grazing for natural well-being"})]})]})]})})]})})})}const $je="/assets/picture-DlnfMX8t.png",Vje=({className:e=""})=>{const t=[{icon:Rre,title:"Strengthens Immunity",description:"Supports the body's natural defense system"},{icon:X5,title:"High in Calcium & Protein",description:"Essential nutrients for strong bones and muscles"},{icon:Ol,title:"Gentle on the Stomach",description:"Does not cause bloating or indigestion"},{icon:iC,title:"Anti-Inflammatory Benefits",description:"Helps reduce internal inflammation"},{icon:iC,title:"Supports Heart Health",description:"Promotes cardiovascular well-being"},{icon:S9,title:"Nourishes the Skin",description:"Contributes to healthy, glowing skin"}],r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},n={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},a={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}},i={hidden:{opacity:0,x:50},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}};return s.jsx("div",{className:`py-4 px-4 overflow-x-hidden overflow-y-hidden ${e}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[s.jsxs(ta.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center ",variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[s.jsxs(ta.div,{className:"relative   ",variants:a,children:[s.jsx("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl",children:s.jsx("img",{src:$je,alt:"A2 Milk from Indian Desi Cows",className:"w-full h-[400px] lg:h-[500px] object-cover"})}),s.jsxs(ta.div,{className:"absolute z-22 -bottom-4 -right-4 bg-primary text-primary-foreground px-4 py-2 rounded-full shadow-lg",initial:{scale:0},animate:{scale:1},transition:{duration:.5},children:[s.jsx(kte,{className:"w-5 h-5 inline mr-2"}),"Pure A2 Milk"]})]}),s.jsx(ta.div,{className:"space-y-6 overflow-hidden",variants:i,children:s.jsxs("div",{children:[s.jsx(Gr,{variant:"outline",className:"mb-4",children:"Premium Quality"}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-6",children:"A2 Milk"}),s.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed text-justify",children:[s.jsx("p",{children:"A2 milk contains the A2 beta-casein protein, which is naturally present in the milk of Indian-origin (Desi) cow breeds such as Gir, Kathiawadi, Dangi, Sahiwal, Hallikar, Konkan Gidda, and others. This protein makes A2 milk lighter on the stomach and easier to digest."}),s.jsx("p",{children:"A2 milk is structurally closer to human mother's milk, making it not only more digestible but also suitable for young children."}),s.jsx("p",{children:"In contrast, regular milk typically comes from hybrid breeds like Holstein Friesian and Jersey cows. While these breeds are preferred in commercial dairies due to their high milk yield, their milk contains A1 beta-casein, which may cause digestive discomfortsuch as bloating, gas, or crampsin some individuals."}),s.jsx("p",{children:"For those sensitive to regular milk, A2 milk offers a gentler, nutrient-rich alternative that supports better digestion and overall well-being."})]})]})})]}),s.jsxs(ta.div,{className:"space-y-3 border border-gray-200 p-4 rounded-lg bg-primary/20",variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[s.jsxs(ta.div,{className:"text-center space-y-2 ",variants:n,children:[s.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"A2 Milk Benefits"}),s.jsx("p",{className:"text-sm text-gray-700 max-w-2xl mx-auto",children:"Discover the numerous health advantages of choosing A2 milk for you and your family"})]}),s.jsx(ta.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",variants:r,children:t.map((o,l)=>s.jsx(ta.div,{variants:n,whileHover:{y:-3},transition:{duration:.2},children:s.jsx(St,{className:"h-fit hover:shadow-md transition-all duration-300 border-border/50 hover:border-primary/20",children:s.jsx(_t,{className:"",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg flex-shrink-0",children:s.jsx(o.icon,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-1 leading-snug",children:o.title}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:o.description})]})]})})})},l))})]})]})})},nL=()=>{const e=Ls(),[t,r]=y.useState("login"),[n,a]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null),[d,h]=y.useState(!1),[m,p]=y.useState(null),[g,w]=y.useState([]),[b,v]=y.useState(!0),[N,S]=y.useState(null),[A,E]=y.useState(!1),[C,I]=y.useState(null),P={},F="https://snf.3.7.237.251.sslip.io";y.useEffect(()=>{(async()=>{o(!0),c(null);try{const R=await fetch("/products/public");if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const B=await R.json();a(B)}catch(R){c(R instanceof Error?R.message:"An unknown error occurred")}finally{o(!1)}})();const M=localStorage.getItem("user");if(M)try{const R=JSON.parse(M);R&&(E(!0),I(R.name||R.username||R.email||"User"),R.role&&p(R.role))}catch(R){console.error("Failed to parse user data from localStorage",R),p(null),E(!1),I(null)}else p(null),E(!1),I(null)},[]),y.useEffect(()=>{(async()=>{v(!0),S(null);try{const M=await $t("/api/admin/public/banners",{sortBy:"listOrder",sortOrder:"asc",limit:7});if(M&&M.banners&&M.banners.length>0){const R=M.banners.filter(B=>B.imagePath).map(B=>{const Y=P[B.id]||(B.mobileImagePath?`${F}${B.mobileImagePath}`:`${F}${B.imagePath}`);return{id:B.id,src:`${F}${B.imagePath}`,alt:B.caption||`Indraai Milk Banner ${B.id}`,title:B.description||void 0,mobileSrc:Y}});w(R)}else w([{id:"unsplash-1",src:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=640&auto=format&fit=crop",alt:"Fresh milk in glass bottles",title:"Pure A2 Milk, Delivered Fresh"},{id:"unsplash-2",src:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=640&auto=format&fit=crop",alt:"Cows grazing in green pasture",title:"From Happy Cows to Your Home"},{id:"unsplash-3",src:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=2080&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=640&auto=format&fit=crop",alt:"Dairy farm at sunrise",title:"Natural, Ethical, Sustainable"}])}catch(M){const R=M instanceof Error?M.message:"Failed to fetch banners for hero section";console.error("Error fetching hero banners:",R),S(R),w([{id:"unsplash-1",src:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=640&auto=format&fit=crop",alt:"Fresh milk in glass bottles",title:"Pure A2 Milk, Delivered Fresh"},{id:"unsplash-2",src:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=640&auto=format&fit=crop",alt:"Cows grazing in green pasture",title:"From Happy Cows to Your Home"},{id:"unsplash-3",src:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=2080&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=640&auto=format&fit=crop",alt:"Dairy farm at sunrise",title:"Natural, Ethical, Sustainable"}])}finally{v(!1)}})()},[]);const k=()=>{localStorage.removeItem("user"),e("/"),window.location.reload()},z=A&&m==="MEMBER";return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[s.jsx(B$,{isLoggedIn:A,userName:C,onLogout:k,showWallet:z}),s.jsx("section",{className:"relative mt-25",children:s.jsxs("div",{className:"relative w-full",children:[b&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center ",children:s.jsx("p",{children:"Loading images..."})}),!b&&N&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-100",children:s.jsxs("p",{className:"text-red-700",children:["Could not load banner images: ",N]})}),!b&&!N&&g.length>0&&s.jsx(Sje,{images:g})]})}),s.jsx("section",{id:"benefits",className:"py-8 bg-white",children:s.jsxs("div",{className:"container max-w-6xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center text-primary mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight mb-3 text-primary",children:"Indraai"}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"h-1 w-20  rounded-full"})}),s.jsxs("p",{className:"text-lg max-w-7xl text-gray-800 leading-relaxed text-justify",children:["Indraai combines two words Indriya (Senses) that connect the soul - Atma to the physical world and Aai (Mother) - i.e., the food from the mother to nourish the senses.",s.jsx("br",{}),s.jsx("br",{}),"Indraai is a brand of"," ",s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"})," ","that aims to give wholesome pure food, without addition of any artificial substances.",s.jsx("br",{}),s.jsx("br",{}),"The Dairy and Processed products such as A2 ghee, A2 Ghee ladoos, Woodpressed oils, Namkeen etc. are marketed under the brand name of Indraai."]})]}),s.jsx("div",{id:"product-detail-section",children:s.jsx(s2,{})}),s.jsx("div",{className:"block",children:s.jsx(Uje,{})}),s.jsx("div",{children:s.jsx(Vje,{})})]})}),s.jsx("section",{className:"py-6 bg-white",children:s.jsxs("div",{className:"container max-w-6xl mx-auto px-4 bg-white",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:"The way we satisfy the demand of A2 Milk"}),s.jsx("div",{className:"w-32 md:w-48 h-1 bg-primary rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-sm md:text-base text-gray-700 max-w-4xl mx-auto leading-relaxed text-justify",children:"Absolutely nothingwe don't regulate milk supply based on demand. Our milk comes directly from the Bharwad community, who have been rearing Gir cows for generations, without any external chemicals or additives to boost production."}),s.jsx("p",{className:"text-sm md:text-base text-gray-700 max-w-4xl mx-auto leading-relaxed mt-2 text-justify",children:"Instead, the Bharwad community's relationship with Desi Gir cows transcends today's commercial mindset:"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsx("div",{className:"group",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 text-center",children:"Native Heritage"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center",children:"The Desi Gir cow originates in the Gir Forest of Gujarat, India. She's distinguished by a pronounced hump and loose skin around her neck, celebrated for her gentle disposition and remarkable resilience in any climate."})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 text-center",children:"Natural Milking Cycle"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center",children:"On each farm, some Gir cows are in their milking phase while others rest. Calves always feed first; any remaining milk is then collected by the farmer. Cows not lactating receive the same dedicated care until the end of their natural lives."})]})}),s.jsx("div",{className:"group",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 text-center",children:"Essential Bulls"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center",children:"Gir bulls assist with agricultural work and help sustain the herd through natural breeding, ensuring the continuation of the breed's legacy."})]})})]})]})}),s.jsx(qje,{})]})},qje=()=>s.jsxs("footer",{className:"bg-slate-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-8 gap-y-10",children:[s.jsxs("div",{className:"md:col-span-12 lg:col-span-4",children:[s.jsxs("div",{className:"mb-6 flex items-center",children:[s.jsx(Y0,{className:"h-10 w-10 text-green-600 mr-3"}),s.jsx("a",{href:"https://sarkhotnaturalfarms.com/",className:"text-xl font-bold text-green-700 dark:text-green-500",children:"Sarkhot Natural Farms"})]}),s.jsxs("p",{className:"text-sm mb-6 leading-relaxed",children:[s.jsx("a",{href:"https://sarkhotnaturalfarms.com/",className:"  text-green-700 dark:text-green-500 mr-1",children:"Sarkhot Natural Farms"}),"denote the community of natural farmers. Natural means"," ",s.jsx("span",{className:"font-semibold text-red-500",children:"%"})," chemical free, preservative free and poison free."]}),s.jsx("h3",{className:"text-[0.9rem] font-semibold mb-3 text-gray-600 dark:text-gray-400",children:"Payment Accepted"}),s.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:["Mastercard","Discover","BitPay","Visa","Stripe"].map(e=>s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-md shadow-sm",children:e},e))})]}),s.jsx("div",{className:"hidden lg:block lg:col-span-1"}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4    border-b-2 border-primary pb-1 inline-block",children:"Policies"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/privacy-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/refund-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Refund and Returns Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/shipping-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Shipping and delivery policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/terms-conditions",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Terms and Conditions"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[s.jsx("h3",{className:"text-md font-semibold mb-4    border-b-2 border-primary pb-1 inline-block",children:"Useful Links"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx("a",{href:"/member/products",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Products"})}),s.jsx("li",{children:s.jsx("a",{href:"/about",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx("a",{href:"/contact",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Contact Us"})})]})]}),s.jsxs("div",{className:"md:col-span-4 lg:col-span-3",children:[s.jsx("h3",{className:"text-md font-semibold mb-4  dark  border-b-2 border-primary pb-1 inline-block",children:"Store Location"}),s.jsxs("address",{className:"text-sm not-italic space-y-2 leading-relaxed",children:[s.jsxs("p",{children:[s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),", Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East - 421201"]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:"Landmark"})," ","- Near Brahman Sabha hall."]}),s.jsx("p",{children:s.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors break-all",children:"sarkhotnaturalfarms@gmail.com"})}),s.jsx("p",{children:s.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"+91 9920999100"})})]})]})]})}),s.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 py-4 border-t border-gray-300 dark:border-gray-700",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("p",{className:"mb-2 md:mb-0 text-center md:text-left",children:[" ",new Date().getFullYear()," ",s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),". All Rights Reserved."]}),s.jsxs("p",{className:"text-center md:text-right",children:["Powered by"," ",s.jsx("a",{href:"https://sanmisha.com/",className:"font-semibold text-primary dark:text-primary hover:underline",children:"Sanmisha Technologies"})]})]})})]}),zje=()=>s.jsx("div",{className:"min-h-screen ",children:s.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",style:{textAlign:"justify"},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:s.jsx(Y0,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"About Us"})]}),s.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"}),s.jsxs("p",{className:"text-lg text-gray-600 font-medium",children:["Namaste, welcome to ",s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"})," Family."]})]}),s.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed space-y-8",children:[s.jsxs("p",{children:[s.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),' is a dedicated one-stop destination for 100% naturally grown farm produce. By "natural," we mean completely chemical-free, preservative-free, and toxin-free food  cultivated using traditional methods passed down through generations.']}),s.jsx("p",{children:"Our farming practices rely solely on desi cow dung and cow urine-based homemade inputs, both at our own farm and among our network of like-minded farmers. This ensures that the food you receive is as pure and wholesome as what your grandparents once enjoyed."}),s.jsx("p",{children:"Located in Kambe village, Shahpur district, Maharashtra, our flagship Sarkhot Farm is rooted in the principles of Natural Farming. In addition to our own produce, we also source from a trusted network of natural farmers across India who share our values."}),s.jsx("p",{children:"Our farmer community is diverse  united by purpose but inspired by various philosophies. While most follow Dr. Subhash Palekar's Natural Farming methods, others draw wisdom from Shri Rajiv Dixit, the Varkari tradition, tribal knowledge, and spiritual teachings. Together, they form a powerful movement dedicated to producing nutritious food  free from harmful chemicals and full of life-giving energy."})]})]})})}),Hje="/assets/IMG_20240610_080210527-Dwp_T3eN.jpg",Wje=()=>s.jsx("div",{className:"min-h-screen ",children:s.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",style:{textAlign:"justify"},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:s.jsx(Y0,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Bharwad Gir Cow"})]}),s.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[s.jsx("div",{children:s.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg",children:s.jsx("img",{src:Hje,alt:"Bharwad community with Gir cows",className:"w-full h-[300px] md:h-[400px] object-cover"})})}),s.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed space-y-8",children:[s.jsx("p",{children:"The Bharwad are a nomadic tribe with a long-standing tradition of rearing Desi Gir cows across generations. Our Indraai A2 milk comes from these cherished Gir cows, lovingly raised by the Bharwad community settled near Alephata, Pune."}),s.jsx("p",{children:"Deeply devoted to their cowswhom they revere as mothersthe Bharwads follow only traditional, ethical practices. They use gentle hand-milking and never resort to hormones, artificial insemination, steroids, or chemical interventions."}),s.jsx("p",{children:"With Indraai A2 milk, you receive more than just nourishmentyou experience the pure, natural essence of milk that supports the body, mind, and soul, just as nature intended."})]})]})]})})}),Gje=()=>{const[e,t]=y.useState({name:"",email:"",message:""}),r=a=>{t({...e,[a.target.name]:a.target.value})},n=a=>{a.preventDefault(),console.log("Form data submitted:",e),alert("Message sent (simulated)!"),t({name:"",email:"",message:""})};return s.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-6 sm:py-8 md:py-12 lg:py-16 bg-gray-50 min-h-screen",children:s.jsx("div",{className:"max-w-5xl mx-auto bg-white p-3 sm:p-6 md:p-10 shadow-xl rounded-xl border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 md:gap-12",children:[s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gray-800 mb-2 sm:mb-4",children:"Our Shop"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3 text-gray-700 text-sm sm:text-base",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(Rd,{className:"w-5 h-5 mr-2 sm:mr-3 mt-1 text-green-600 flex-shrink-0"}),s.jsxs("span",{children:["Sarkhot Natural Farms, Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East : 421201",s.jsx("br",{}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"Landmark - Near Brahman Sabha hall."})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(j9,{className:"w-5 h-5 mr-2 sm:mr-3 text-green-600 flex-shrink-0"}),s.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-700 break-all",children:"+91 9920999100"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pk,{className:"w-5 h-5 mr-2 sm:mr-3 text-green-600 flex-shrink-0"}),s.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-700 break-all",children:"sarkhotnaturalfarms@gmail.com"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gray-800 mb-2 sm:mb-4",children:"Opening Time"}),s.jsx("div",{className:"space-y-1 text-gray-700 text-sm sm:text-base",children:s.jsx("p",{children:"Store time : 7 am - 9 pm (Monday - Sunday)"})})]})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gray-800 mb-1",children:"Get In Touch"}),s.jsx("h3",{className:"text-lg sm:text-xl font-medium text-gray-700 pt-1 sm:pt-2",children:"Write to Us"}),s.jsxs("form",{onSubmit:n,className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"sr-only",children:"Name"}),s.jsx("input",{type:"text",name:"name",id:"name",value:e.name,onChange:r,placeholder:"Name",required:!0,className:"w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm text-sm sm:text-base"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),s.jsx("input",{type:"email",name:"email",id:"email",value:e.email,onChange:r,placeholder:"Email",required:!0,className:"w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm text-sm sm:text-base"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"sr-only",children:"Message"}),s.jsx("textarea",{name:"message",id:"message",rows:4,value:e.message,onChange:r,placeholder:"Message",required:!0,className:"w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm text-sm sm:text-base"})]}),s.jsx("div",{children:s.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center px-4 sm:px-6 py-3 bg-primary text-white font-semibold rounded-md hover:bg-primary focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 shadow-md transition duration-150 ease-in-out text-base",children:[s.jsx(Dre,{className:"w-5 h-5 mr-2"})," Send"]})})]})]})]})})})},Yje=()=>{const e=[{title:"Our Mentor",text:"Shri Prashant Sarkhot, helps us to find the direction and keeps us grounded.",icon:""},{title:"Our dear staff",text:"have spent long hours meeting deadlines. They have kept their calm while delivering items even at odd places and at odd times. They have made sure that the quality control is always at its best and have been receptive and eager to improve with feedback. Our team is our backbone, and we are grateful to have them.",icon:""},{title:"Our consumers",text:"have helped in improving the quality of service, packing, delivery schedules, and adding various products with their valuable feedback which was always constructive. The faith that they have kept in us, their appreciation, and respect have helped us in having the clarity of WHY IS THERE A NEED OF SNF?",icon:""},{title:"Nature (This Universe)",text:"has been so helpful and supportive to make us meet the right people at the right time. It has helped us to get the answers when we were full of doubts and questions.",icon:""},{title:"Swami Vivekanand, Dr. Subhash Palekar, Shri Rajeev Dixit and our Freedom Fighters",text:"Their teachings have shaped SNF as well as the life of many farmers. This farming technique is also spiritual due to the presence of spiritual teachers. Their direction helped us to understand nature more deeply.",icon:""},{title:"Our Network farmers",text:"have been instrumental in supplying naturally grown food. Despite problems, they have made natural farming successful and helped so many of us to lead healthy lives. They have listened to consumer feedback and improved their quality with consistent efforts.",icon:""},{title:"Our Friends & Family",text:"have been instrumental in our growth. Their love keeps us going and is the best example of Unconditional love.",icon:""},{title:"Innumerable People",text:"have met us and influenced us in day-to-day life. Many ideas were generated due to them, and we are grateful to learn from them.",icon:""}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-green-50 py-8 md:py-12 lg:py-16",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-block bg-gradient-to-r from-amber-400 to-green-500 p-1 rounded-full mb-6",children:s.jsx("div",{className:"bg-white rounded-full p-3",children:s.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-green-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:s.jsx("span",{className:"text-3xl text-white",children:""})})})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-amber-600 to-green-700 bg-clip-text text-transparent mb-4",children:"GRATITUDE"}),s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed bg-white/80 backdrop-blur-sm p-4 rounded-lg border border-amber-100 shadow-sm",children:"We have come a long way from where we started. From having a little sense of direction, we now have a clear path that is becoming clearer day by day. This is due to the presence of so many people and we are happy to recognize them."})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>s.jsxs("div",{className:"bg-white rounded-xl border border-amber-100 overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 ease-in-out transform hover:-translate-y-1 flex flex-col h-full",children:[s.jsxs("div",{className:"p-5 pb-4 flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 bg-gradient-to-br from-amber-100 to-green-100 w-12 h-12 rounded-lg flex items-center justify-center mr-4 mt-1",children:s.jsx("span",{className:"text-xl",children:t.icon})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.text})]})]}),s.jsx("div",{className:"mt-auto px-5 pb-4 pt-2",children:s.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-amber-300/30 to-green-400/30 rounded-full"})})]},r))}),s.jsxs("div",{className:"mt-10 text-center text-gray-700",children:[s.jsxs("p",{className:"mb-1",children:["Please drop an email at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"contact@sarkhotnaturalfarms.com"})]}),s.jsxs("p",{className:"mb-1",children:["Connect on WhatsApp / Call: ",s.jsx("span",{className:"font-medium",children:"9920999100"})]}),s.jsx("p",{children:"We will get back to you within 48 hours"})]})]})})})},Kje=()=>s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 prose dark:prose-invert max-w-4xl",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Privacy Policy"}),s.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Last updated: August 29, 2022"}),s.jsx("p",{className:"mb-4",children:"Namaste! We are glad to have you here. Sarkhot Natural Farms denotes the community of natural farmers. Natural means chemical-free, preservative-free, and poison-free. Only cow dung and cow urine-based homemade preparations are used by farmers in cultivation. All our products are grown with natural farming practices. Our farm is at Kambe, Shahpur, Maharashtra."}),s.jsx("p",{className:"mb-4",children:"We and our network farmers are inspired by SPNF, SPK, Natural farming, Freedom fighters and teachings of Swami Vivekanand, Shri Rajeev Dixit, Dr. Subhash Palekar and our spiritual Gurus. Visit our Gratitude page to know more about us."}),s.jsxs("p",{className:"mb-4",children:["Our website address is: ",s.jsx("a",{href:"https://sarkhotnaturalfarms.com",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"https://sarkhotnaturalfarms.com"})," and our store is located at B/3, Prabhat Society, Dr Mukherjee Road, Dombivali East  421201. Our website showcases our products, e-commerce shop, services, our work, our engagement with farmers etc."]}),s.jsx("p",{className:"mb-6",children:"At SNF, we understand that when you use our services, you trust us with your information. Our privacy policy helps to explain what information we may gather about you, and how it may be utilized."}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What Data Do We Collect?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"We collect personal information such as your first name, last name, contact details, email, residence address and all such relevant information that is necessary for our engagement with you. We collect information when you buy from us, enquire about us, or engage with us through any mode."})}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Accuracy of information?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"When you share your personal information with us, we assume it to be accurate and up to date."})}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Do we store your details of Banking/Payment?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"You may choose to pay in cash, online or wallet transfer."}),s.jsx("li",{children:"When you make online payments, third party networks or our processing partners may take certain details such as your credit card, debit card, net-banking login etc. We do not access, store, or collect such banking/payment details."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What about engagement on Website and Social media accounts?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"When you engage with us through our social media handles, we collect your personal information such as name, age, location, gender, area of interest etc. This information is collected so that we can work on your feedback, analyze it for market research or suggest relevant products to you or as part of our marketing campaigns."})}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What do we do with your Comments?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"When visitors leave comments on our site/social media handles, we collect the data shown in the comments, visitors IP address and browser user agent string to help spam detection."}),s.jsxs("li",{children:["An anonymized string created from your email address (also called a hash) may be provided to the Gravatar service to see if you are using it. The Gravatar service privacy policy is available here:"," ",s.jsx("a",{href:"https://automatic.com/privacy/",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"https://automatic.com/privacy/"}),"."]}),s.jsx("li",{children:"After approval of your comment, your profile picture is visible to the public in the context of your comment."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What is the use of Media (Image/audio/video etc)?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"If you upload images to the website, you should avoid uploading images with embedded location data (EXIF GPS) included. Visitors to the website can download and extract any location data from images on the website."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What are Cookies?"}),s.jsx("p",{className:"mb-4",children:"Cookies are small text files that are placed on your computer by websites that you visit. These files may be used to record information about your use of the site and thus may help to improve the efficiency of the site."}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If you leave a comment on our site, you may opt-in to saving your name, email address and website in cookies. These are for your convenience so that you do not have to fill in your details again when you leave another comment. These cookies will last for one year."}),s.jsx("li",{children:"If you visit our login page, we will set a temporary cookie to determine if your browser accepts cookies. This cookie contains no personal data and is discarded when you close your browser."}),s.jsx("li",{children:"When you log in, we will also set up several cookies to save your login information and your screen display choices. Login cookies last for two days, and screen options cookies last for a year. If you select Remember Me, your login will persist for two weeks. If you log out of your account, the login cookies will be removed."}),s.jsx("li",{children:"If you edit or publish an article, an additional cookie will be saved in your browser. This cookie includes no personal data and simply indicates the post ID of the article you just edited. It expires after 1 day."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does Web Analytics work?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Our Website uses Google Analytics, a web analytics service. Google Analytics uses cookies, text files that are stored on your computer and enable analysis of your use of the website. The information generated by the cookies is stored on third party (Google) server."}),s.jsx("li",{children:"You may refuse the use of cookies by selecting the relevant settings on your browser software. You can also prevent the data generated by the cookie of your use by installing the Google Analytics Opt-out Browser Add-on."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does Embedded content work?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Articles on this site may include embedded content (e.g. videos, images, articles, etc.). Embedded content from other websites behaves in the exact same way as if the visitor has visited the other website."}),s.jsx("li",{children:"These websites may collect data about you, use cookies, embed additional third-party tracking, and monitor your interaction with that embedded content, including tracking your interaction with the embedded content if you have an account and are logged in to that website."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does E-mail Newsletters work?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"If you have received one of our e-mail newsletters, we may use some additional cookies to enable us to track the open rates of e-mails. This allows us to track the interest levels of our newsletters to ensure we are only sending out relevant information. They only work if you have downloaded the images. All our e-mail newsletters have the option to unsubscribe, so if you no longer wish to receive these e-mails, you can unsubscribe from the list."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What do we do with your data?"}),s.jsx("p",{className:"mb-2",children:"We use the details for the following purposes:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Share product updates, farmer stories, new recipes."}),s.jsx("li",{children:"Create and maintain your unique account on our e-commerce shop;"}),s.jsx("li",{children:"Process your orders"}),s.jsx("li",{children:"Calculate your bill for the products/services"}),s.jsx("li",{children:"Facilitate consumer research"}),s.jsx("li",{children:"Respond to requests, enquiries, complaints, and other customer care related activities,"}),s.jsx("li",{children:"Maintain internal record and comply with our legal or statutory obligations."}),s.jsx("li",{children:"All other relevant activities which facilitate us to achieve the mission of Sarkhot Natural Farms."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Who we share your data with?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"We dont sell, rent, lease, use or share your data with third parties in a way as to reveal any of your personal information."}),s.jsx("li",{children:"Any contact messages received through this website related to hiring and customer service are also never used for marketing purposes or shared with any third parties."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"How long do we retain your data?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If you leave a comment, the comment and its metadata are retained indefinitely. This is so we can recognize and approve any follow-up comments automatically instead of holding them in a moderation queue."}),s.jsx("li",{children:"For users that register on our website (if any), we also store the personal information they provide in their user profiles. All users can see, edit, or delete their personal information at any time (except they cannot change their username). Website administrators can also see and edit that information."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What rights do you have over your data?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"You have the right to access, rectify, modify, restrict or withdraw your consent of our use of your personal information."}),s.jsx("li",{children:"If you have an account on this site or have left comments, you can request to receive an exported file of the personal data we hold about you, including any data you have provided to us."}),s.jsx("li",{children:"You can also request that we erase any personal data we hold about you. This does not include any data we are obliged to keep for administrative, legal, or security purposes."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What security measures do we follow?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Your Personal Information is stored on third-party cloud servers. Although we provide appropriate firewalls and protections, we cannot warrant the security of personal information transmitted as these systems are not hack proof."}),s.jsx("li",{children:"Data pilferage due to unauthorized hacking, virus attacks, technical issues is possible, and we will take necessary measures to mitigate such events."}),s.jsx("li",{children:"You are required to be careful to avoid phishing scams, where someone may send you an e-mail that looks like it is received from us."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Limitation of liability"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"To the extent permissible under the law, we shall not be liable for any direct, indirect, incidental, special, consequential, or exemplary damages, including but not limited to, damages for loss of profits, goodwill, data, information, or other intangible losses arising out of this Privacy Policy."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Governing laws and disputes"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"This Privacy Policy shall be construed and governed by the laws of India. The courts in Kalyan-Dombivali, Maharashtra India shall have exclusive jurisdiction over such disputes."})}),s.jsx("p",{className:"mt-8 mb-4 text-sm text-gray-600 dark:text-gray-400",children:"This Privacy Policy was updated on August 29, 2022."}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Need Help?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsxs("li",{children:[s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"contact@sarkhotnaturalfarms.com"}),"  is our email for general enquiries or for any assistance."]}),s.jsxs("li",{children:[s.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@sarkhotnaturalfarms.com"}),"  is our email for any queries, complaints, or grievances."]}),s.jsxs("li",{children:[s.jsx("a",{href:"tel:+919920999100",className:"text-green-600 hover:underline",children:"9920999100"})," is our contact number both for WhatsApp and call. However, it may not be feasible to meet you always on call and so we request you drop us an SMS or WhatsApp message so that we can get back to you at the earliest."]})]}),s.jsx("p",{className:"mt-8 mb-4",children:"Sarkhot Natural farms denote the community of natural farmers. Natural means % chemical free, preservative free and poison free."})]}),Qje=()=>s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 prose dark:prose-invert max-w-4xl",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Refund and Returns Policy"}),s.jsx("p",{className:"mb-4",children:"All our products are grown with natural farming practices. There is no use of chemicals or heavy machinery which can give similar/standard results. This means two batches can vary in size, taste, etc."}),s.jsx("p",{className:"mb-4",children:"Our promise to you is that we are enthusiastic about our farming practice, which is simple, traditional, and natural. Our network partners are inspired by SPNF, SPK, or Natural farming practices. Only Desi Cow dung and cow urine are used in our farming. No chemical by whatever name is used and so you get pure natural health products."}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"We have a 10 days return policy."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Points to note before jumping to Returns/Refunds policy:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"We recommend you try small size packets first so that you understand if you like the product. Once you are happy, then start bulk buying. This shall reduce your chances of returns/refunds drastically and give you a better consumer experience."}),s.jsxs("li",{children:["If you have doubts about any products, read the information given on our website"," ",s.jsx("a",{href:"https://www.Sarkhotnaturalfarms.com",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"www.Sarkhotnaturalfarms.com"}),". We have used actual photos of products at most places with a humble belief that our product images along with the content will help you in your buying journey. If still, you have questions, kindly reach us on WhatsApp / call  ",s.jsx("a",{href:"tel:9920999100",className:"text-green-600 hover:underline",children:"9920999100"})," or email us at"," ",s.jsx("a",{href:"mailto:Contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Contact@sarkhotnaturalfarms.com"})," before buying any product."]}),s.jsx("li",{children:"We have curated our Refund & Returns policy (given below) so that genuine cases of damage/defect are promptly resolved."}),s.jsx("li",{children:"Refund/return request is eligible only in cases where the items are defective/damaged OR are missing."}),s.jsx("li",{children:"Good faith is a key to being eligible for a refund/replacement. If we come across bad intentions/bad faith or any such setting which tries to take advantage of this policy, we have every right to deny any replacement/refund."}),s.jsx("li",{children:"In cases, where a consumer has purchased something by mistake, returns/refund request is denied as a fair amount of cost has already been incurred in packaging, Quality control, billing & delivery."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Timeline for raising refund/return request:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Dry items such as Grocery, Wood Pressed OR Cold pressed oils, A2 Desi ghee & butter: Within 10 days from the delivery date."}),s.jsx("li",{children:"Fresh Fruits & Vegetables: Within 1 day from the delivery date."}),s.jsx("li",{children:"Fresh Fruits (Delivered in raw form): In the case of Fruits, where the items were delivered in their raw stage, the replacement/refund timeline starts when the fruits start to ripen. However, as these items are at the consumers place, storage care must be taken by the consumer."}),s.jsx("li",{children:"For Items with specific replacement/refund timelines: Specific timelines will precede the general timelines. For Mangoes, if it is mentioned that 2 in every 12 mangoes are assumed to get spoilt and replacement/refund is eligible for 3 mangoes and above. Then this special replacement/refund policy for mangoes precedes our general replacement policy."}),s.jsx("li",{children:"Missing product: If in a package, one or more items are missing, then notify us within 3 days from the delivery date. Here return/replacement will be applicable only for missing items (Not for the whole package)."}),s.jsx("li",{children:"If a consumer reaches out to us within the given timelines, we shall replace/process their refund after our due diligence."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Situations where no refund/replacement is granted:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Items of personal use eg: Panchgavya soap."}),s.jsx("li",{children:"Items with the seal broken/used e.g.: Honey, Kakvi (Blackstrap molasses), Oil, Ghee, etc."}),s.jsx("li",{children:"Any item not in its original condition is damaged or missing parts for reasons not due to our error."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"There are certain situations where only partial refunds are granted:"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Items with an obvious sign of usage."}),s.jsx("li",{children:"Any item not in its original condition is damaged or missing parts for reasons not due to our error."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Returns pickup"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If your returns match our delivery to your location, then we may pick it up. But this can take time as arranging separately for a return pickup is not cost-effective and so we normally pick up items when we are delivering to you or nearby locations."}),s.jsx("li",{children:"You may also mail your product to B/3, Prabhat Society, Ground floor, Dr. Mukherjee Road, Near CKP Hall, Dombivali East, 421201. The consumer will bear the shipping costs."}),s.jsx("li",{children:"For perishables, vegetables, fruits, etc., returns might not be possible. Here we rely on clear images, your writeup, and communication with our team."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Refunds"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"Once your return/refund request is received and inspected, we will send you an email to notify you that we have received your returned item. In the case of perishables, (Fruits/vegetables), returns are not always possible and so we will carry out due diligence based on clear photos and issue identification by our team."}),s.jsx("li",{children:"We will notify you of the approval or rejection of your refund."}),s.jsx("li",{children:"If you are approved, then your refund will be processed."}),s.jsx("li",{children:"You may choose to get a refund to your bank account or add the money to your website wallet. For credits to your wallet, you get a 1% additional amount added. Other than a wallet, we prefer online transfer among all banking modes, but the refund mode shall depend on the situation at the time of refund."}),s.jsx("li",{children:"Refund will be processed within 10  30 days from the date of approval."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Late or missing refunds"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsx("li",{children:"If you havent received a refund yet, first check your bank account again."}),s.jsx("li",{children:"Next contact your bank. There is often some processing time before a refund is posted."}),s.jsxs("li",{children:["If youve done all of this and you still have not received your refund yet, please contact us at"," ",s.jsx("a",{href:"mailto:support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"support@sarkhotnaturalfarms.com"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Sale items"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsx("li",{children:"Only regular-priced items may be refunded. Sale items cannot be refunded."})}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"How to notify us/inform us about a refund/return request?"}),s.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[s.jsxs("li",{children:["WhatsApp us on ",s.jsx("a",{href:"https://wa.me/919920999100",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"9920999100"})," or email us at"," ",s.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@sarkhotnaturalfarms.com"}),"."]}),s.jsx("li",{children:"Mention the Order no, Bill amount, date of delivery, and 3 clear photos of the product with a brief of the issue."}),s.jsx("li",{children:"We understand Marathi, Hindi & English so you may choose to communicate in any of these languages."}),s.jsx("li",{children:"We condemn the use of foul language and welcome those who can communicate their feelings respectfully."})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Need help?"}),s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:s.jsxs("li",{children:["Contact us at"," ",s.jsx("a",{href:"mailto:Support@SarkhotNaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@SarkhotNaturalfarms.com"})," or WhatsApp us at"," ",s.jsx("a",{href:"https://wa.me/919920999100",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"9920999100"}),"."]})}),s.jsx("p",{className:"mt-8 mb-4",children:"Sarkhot Natural farms denote the community of natural farmers. Natural means % chemical free, preservative free and poison free."})]}),Xje=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-lg p-6 md:p-8 lg:p-10 prose dark:prose-invert max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-green-700 dark:text-green-500",children:"Shipping and Delivery Policy"}),s.jsx("p",{className:"lead text-lg",children:"Namaste! We are glad to have you here. Our Shipping and Delivery Policy will guide you with a clear understanding of how items are shipped, delivery timelines, the nature of goods available, delivery locations, and where to reach out in case of any assistance."}),s.jsx("h2",{children:"Accuracy of Address"}),s.jsx("p",{children:"To ship your items accurately, we require your precise details. Kindly ensure that your pin code, postal address, email ID, and contact number are correct before you place your order."}),s.jsx("h2",{children:"Shipping Mode"}),s.jsx("p",{children:"We deliver through transport vehicles, courier services, train, and traveler van facilities."}),s.jsx("h3",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai, Dombivali & Kalyan"}),s.jsx("p",{children:"We deliver through goods vehicles on most days. Delivery rates are provided separately in the Delivery Charges section."}),s.jsx("p",{children:"In exceptional situations, we may use train, courier, or traveler bus facilities. In such cases, delivery costs may vary from the general rates. We will coordinate with you to decide the best option based on actual shipping rates and feasibility."}),s.jsx("h3",{children:"For Rest of India"}),s.jsx("p",{children:"We use courier, traveler bus, and train facilities to deliver to the Rest of India."}),s.jsx("p",{children:"Dry grocery items are delivered throughout India."}),s.jsx("p",{children:"Some fruits can also be delivered, e.g., Mangoes, Grapes, Pomegranate, Apples, Mosambi (Sweet lime), etc."}),s.jsxs("p",{children:["Drop us an email at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or SMS/WhatsApp us on ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"}),", and we will guide you if delivery of items is possible. We can then decide on the best route and delivery fee together."]}),s.jsx("h2",{children:"Timeline"}),s.jsx("h3",{children:"For Grocery (dry items)"}),s.jsx("p",{children:"Once a product is shipped, it will typically be delivered on the same day for local areas."}),s.jsx("p",{children:"The tentative delivery date is updated on our website. In case of any changes, we shall reach out to you via WhatsApp, call, or email."}),s.jsx("p",{children:"For far-off locations, delivery time will depend on the mode of transport. We will share a tracking link or timeline on WhatsApp/Email for your reference."}),s.jsx("h3",{children:"For Fresh Fruits & Vegetables"}),s.jsx("p",{children:"The availability of fruits and vegetables depends on the climate and their respective harvesting times."}),s.jsx("p",{children:"The tentative delivery date is updated on our website. In case of any changes, we shall reach out to you via WhatsApp, call, or email."}),s.jsx("h2",{children:"Free Shipping"}),s.jsx("p",{children:"Free shipping applies to orders that are above a certain cart value for a specific delivery location. The following limits apply:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"For KDMC (Kalyan-Dombivli Municipal Corporation):"})," Order value of INR 299 and above is eligible for free shipping."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," Order value of INR 799 and above is eligible for free shipping."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Rest of India:"})," At present, there is no free delivery limit. We promise to provide you with the best items at the most effective rates. Email us at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})," to inquire about shipping rates."]})]}),s.jsx("h2",{children:"Delivery Charges"}),s.jsx("p",{children:"Delivery charges apply for order values below the free shipping limits as follows:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"For KDMC:"})," Rs 25/- for order value below INR 299."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," Rs 80/- for order value below INR 799."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Rest of India:"})," Email us at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})," to know the shipping rates. We will update you about the diverse options with rates, considering the safety of the parcel. Delivery charges will be at actuals and will depend on the mode of transport you agree to."]})]}),s.jsx("h2",{children:"Minimum Cart Value to Place Order"}),s.jsx("p",{children:"A minimum cart value is required to accept an order:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"For KDMC:"})," A minimum cart value of INR 99/- is required."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," A minimum cart value of INR 399/- is required."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"For Rest of India:"})," There is no minimum cart value, but we recommend you buy a decent value to make it cost-effective. Email us at ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})," for shipping rates."]})]}),s.jsx("h2",{children:"Summary of Shipping / Delivery Charges"}),s.jsx("div",{className:"overflow-x-auto my-6",children:s.jsxs("table",{className:"min-w-full text-left border-collapse border border-gray-300 dark:border-gray-600",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Location / Type"}),s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Free Delivery Limit (FDL)"}),s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Delivery Fee (Below FDL)"}),s.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Minimum Cart Value (MCV)"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"KDMC"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 299"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 25"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 99"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"Mumbai, Mumbai Suburbs, Thane, Navi Mumbai"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 799"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 80"}),s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 399"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"Rest of India"}),s.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 p-2",colSpan:3,children:["Contact ",s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or ",s.jsx("a",{href:"tel:9920999100",children:"9920999100"})]})]})]})]})}),s.jsx("h2",{className:"mt-6",children:"Notes"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Courier mode of delivery:"})," Our courier partners will deliver goods between Monday to Saturday, 9 am to 7 pm. Working days exclude public holidays, festival holidays, and Sundays. Courier cost depends on weight, and we will let you know the options to choose from."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Traveler bus or train mode of delivery:"})," These facilities are far cheaper than courier. However, the delivery is only up to a certain stop, and you will have to pick up the parcel from a train/road location."]}),s.jsx("li",{children:"Delivery time is subject to factors beyond our control, including unexpected travel delays from our courier partners and transporters due to climate conditions or any urgency."}),s.jsx("li",{children:"We shall send you an update as soon as we dispatch your package."})]}),s.jsx("h2",{className:"mt-6",children:"Need Help?"}),s.jsxs("p",{children:[s.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"}),"  is our email for general enquiries or for any assistance."]}),s.jsxs("p",{children:[s.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",children:"Support@sarkhotnaturalfarms.com"}),"  is our email for any queries, complaints, or grievances."]}),s.jsxs("p",{children:[s.jsx("strong",{children:s.jsx("a",{href:"tel:9920999100",children:"9920999100"})})," is our contact number for both WhatsApp and calls. However, it may not always be feasible to answer your call immediately, so we request you to drop us an SMS or WhatsApp message so that we can get back to you at the earliest."]}),s.jsx("p",{className:"mt-8 text-sm italic",children:"Sarkhot Natural Farms denotes the community of natural farmers. Natural means % chemical-free, preservative-free, and poison-free."})]})})}),Zje=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-lg p-6 md:p-8 lg:p-10 prose dark:prose-invert max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Terms and Conditions"}),s.jsx("p",{children:"This document is an electronic record in terms of the Information Technology Act, 2000, and the rules thereunder as applicable, including the amended provisions pertaining to electronic records in various statutes as amended by the Information Technology Act, 2000. This electronic record is generated by a computer system and does not require any physical or digital signatures."}),s.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:[s.jsx("p",{children:"This document is published in accordance with the provisions of Rule 3 (1) of the Information Technology (Intermediaries Guidelines) Rules, 2011, that require publishing the rules and regulations, privacy policy, and Terms of Use for access or usage of the domain name sarkhotnaturalfarms.com, including the related mobile site and mobile application (hereinafter referred to as the Platform)."}),s.jsx("p",{children:"The Platform is owned by Sarkhot Natural Farms, a registered entity with its office at (Address of Sarkhot Natural Farms) (hereinafter referred to as Platform Owner, we, us, or our)."}),s.jsx("p",{children:"Your use of the Platform, services, and tools is governed by the following terms and conditions (Terms of Use) as applicable to the Platform, including the applicable policies which are incorporated herein by reference. If you transact on the Platform, you shall be subject to the policies that are applicable to the Platform for such transactions. By merely using the Platform, you shall be contracting with the Platform Owner, and these terms and conditions, including the policies, shall constitute your binding obligations with the Platform Owner."}),s.jsx("p",{children:"These Terms of Use relate to your use of our website, goods (as applicable), or services (as applicable) (collectively, Services). Any terms and conditions proposed by you that are in addition to or conflict with these Terms of Use are expressly rejected by the Platform Owner and shall be of no force or effect."}),s.jsx("p",{children:"These Terms of Use can be modified at any time without assigning any reason. It is your responsibility to periodically review these Terms of Use to stay informed of updates. For the purpose of these Terms of Use, wherever the context so requires, you, your, or user shall mean any natural or legal person who has agreed to become a user/buyer on the Platform."}),s.jsx("p",{className:"font-semibold",children:"ACCESSING, BROWSING, OR OTHERWISE USING THE PLATFORM INDICATES YOUR AGREEMENT TO ALL THE TERMS AND CONDITIONS UNDER THESE TERMS OF USE, SO PLEASE READ THE TERMS OF USE CAREFULLY BEFORE PROCEEDING."}),s.jsx("p",{children:"The use of the Platform and/or availing of our Services is subject to the following Terms of Use:"})]}),s.jsx("p",{children:"This document is published in accordance with the provisions of Rule 3 (1) of the Information Technology (Intermediaries Guidelines) Rules, 2011, that require publishing the rules and regulations, privacy policy, and Terms of Use for access or usage of the domain name sarkhotnaturalfarms.com, including the related mobile site and mobile application (hereinafter referred to as the Platform)."}),s.jsx("p",{children:"The Platform is owned by Sarkhot Natural Farms, a registered entity with its office at (Address of Sarkhot Natural Farms) (hereinafter referred to as Platform Owner, we, us, or our)."}),s.jsx("p",{children:"Your use of the Platform, services, and tools is governed by the following terms and conditions (Terms of Use) as applicable to the Platform, including the applicable policies which are incorporated herein by reference. If you transact on the Platform, you shall be subject to the policies that are applicable to the Platform for such transactions. By merely using the Platform, you shall be contracting with the Platform Owner, and these terms and conditions, including the policies, shall constitute your binding obligations with the Platform Owner."}),s.jsx("p",{children:"These Terms of Use relate to your use of our website, goods (as applicable), or services (as applicable) (collectively, Services). Any terms and conditions proposed by you that are in addition to or conflict with these Terms of Use are expressly rejected by the Platform Owner and shall be of no force or effect."}),s.jsx("p",{children:"These Terms of Use can be modified at any time without assigning any reason. It is your responsibility to periodically review these Terms of Use to stay informed of updates. For the purpose of these Terms of Use, wherever the context so requires, you, your, or user shall mean any natural or legal person who has agreed to become a user/buyer on the Platform."}),s.jsx("p",{className:"font-semibold",children:"ACCESSING, BROWSING, OR OTHERWISE USING THE PLATFORM INDICATES YOUR AGREEMENT TO ALL THE TERMS AND CONDITIONS UNDER THESE TERMS OF USE, SO PLEASE READ THE TERMS OF USE CAREFULLY BEFORE PROCEEDING."}),s.jsx("p",{children:"The use of the Platform and/or availing of our Services is subject to the following Terms of Use:"}),s.jsx("h2",{children:"1. User Registration & Information"}),s.jsx("p",{children:"To access and use the Services, you agree to provide true, accurate, and complete information during registration and after. You shall be responsible for all acts done through the use of your registered account on the Platform."}),s.jsx("h2",{children:"2. No Warranties"}),s.jsx("p",{children:"Neither we nor any third parties provide any warranty or guarantee as to the accuracy, timeliness, performance, completeness, or suitability of the information and materials offered on this website or through the Services, for any specific purpose. You acknowledge that such information and materials may contain inaccuracies or errors, and we expressly exclude liability for any such inaccuracies or errors to the fullest extent permitted by law."}),s.jsx("h2",{children:"3. User Discretion"}),s.jsx("p",{children:"Your use of our Services and the Platform is solely at your own risk and discretion, for which we shall not be liable. You are required to independently assess and ensure that the Services meet your requirements."}),s.jsx("h2",{children:"4. Intellectual Property"}),s.jsx("p",{children:"The contents of the Platform and the Services are proprietary to us and are licensed to us. You will not have any authority to claim any intellectual property rights, title, or interest in its contents, including but not limited to design, layout, look, and graphics."}),s.jsx("h2",{children:"5. Unauthorized Use"}),s.jsx("p",{children:"You acknowledge that unauthorized use of the Platform and/or the Services may lead to action against you as per these Terms of Use and/or applicable laws."}),s.jsx("h2",{children:"6. Payment Obligations"}),s.jsx("p",{children:"You agree to pay us the charges associated with availing of the Services."}),s.jsx("h2",{children:"7. Prohibited Use"}),s.jsx("p",{children:"You agree not to use the Platform and/or Services for any purpose that is unlawful, illegal, or forbidden by these Terms, Indian law, or local laws that might apply to you."}),s.jsx("h2",{children:"8. Third-Party Links"}),s.jsx("p",{children:"The Platform and the Services may contain links to third-party websites. Upon accessing these links, you will be governed by the terms of use, privacy policy, and other policies of such third-party websites. These links are provided for your convenience only."}),s.jsx("h2",{children:"9. Legal Binding"}),s.jsx("p",{children:"Upon initiating a transaction for availing of the Services, you are entering into a legally binding and enforceable contract with the Platform Owner for the Services."}),s.jsx("h2",{children:"10. Indemnity"}),s.jsx("p",{children:"You agree to indemnify and hold harmless the Platform Owner, its affiliates, group companies (as applicable), and their respective officers, directors, agents, and employees, from any claims, demands, or actions, including reasonable attorneys fees, made by any third party arising out of your breach of these Terms of Use, Privacy Policy, other policies, or your violation of any law, rules, or regulations or the rights (including infringement of intellectual property rights) of a third party."}),s.jsx("h2",{children:"11. Limitation of Liability"}),s.jsx("p",{children:"In no event will the Platform Owner be liable for any indirect, consequential, incidental, special, or punitive damages, including without limitation damages for loss of profits or revenues, business interruption, loss of business opportunities, loss of data, or other economic interests, whether in contract, negligence, tort, or otherwise, arising from the use of or inability to use the Services, however caused, and whether arising in contract, tort, negligence, warranty, or otherwise. Our liability shall not exceed the amount paid by you for using the Services, or Rupees One Hundred (Rs. 100), whichever is less."}),s.jsx("h2",{children:"12. Force Majeure"}),s.jsx("p",{children:"Notwithstanding anything contained in these Terms of Use, neither party shall be liable for any failure to perform an obligation under these Terms if performance is prevented or delayed by a force majeure event."}),s.jsx("h2",{children:"13. Governing Law & Jurisdiction"}),s.jsx("p",{children:"These Terms and any disputes or claims relating to them, or their enforceability, shall be governed by and construed in accordance with the laws of India. All disputes arising out of or in connection with these Terms shall be subject to the exclusive jurisdiction of the courts in India."}),s.jsx("h2",{children:"14. Contact Information"}),s.jsx("p",{children:"All concerns or communications relating to these Terms must be communicated to us using the contact information provided on this website."}),s.jsx("p",{children:"Sarkhot Natural farms denote the community of natural farmers. Natural means % chemical free, preservative free and poison free."})]})})});var TW=typeof global=="object"&&global&&global.Object===Object&&global,Jje=typeof self=="object"&&self&&self.Object===Object&&self,Yh=TW||Jje||Function("return this")(),Cp=Yh.Symbol,DW=Object.prototype,e5e=DW.hasOwnProperty,t5e=DW.toString,$1=Cp?Cp.toStringTag:void 0;function r5e(e){var t=e5e.call(e,$1),r=e[$1];try{e[$1]=void 0;var n=!0}catch{}var a=t5e.call(e);return n&&(t?e[$1]=r:delete e[$1]),a}var s5e=Object.prototype,n5e=s5e.toString;function a5e(e){return n5e.call(e)}var i5e="[object Null]",o5e="[object Undefined]",aL=Cp?Cp.toStringTag:void 0;function Dv(e){return e==null?e===void 0?o5e:i5e:aL&&aL in Object(e)?r5e(e):a5e(e)}function Gf(e){return e!=null&&typeof e=="object"}var ag=Array.isArray;function Bp(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function PW(e){return e}var l5e="[object AsyncFunction]",c5e="[object Function]",d5e="[object GeneratorFunction]",u5e="[object Proxy]";function z6(e){if(!Bp(e))return!1;var t=Dv(e);return t==c5e||t==d5e||t==l5e||t==u5e}var WE=Yh["__core-js_shared__"],iL=function(){var e=/[^.]+$/.exec(WE&&WE.keys&&WE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function h5e(e){return!!iL&&iL in e}var f5e=Function.prototype,m5e=f5e.toString;function _g(e){if(e!=null){try{return m5e.call(e)}catch{}try{return e+""}catch{}}return""}var p5e=/[\\^$.*+?()[\]{}|]/g,g5e=/^\[object .+?Constructor\]$/,x5e=Function.prototype,y5e=Object.prototype,v5e=x5e.toString,b5e=y5e.hasOwnProperty,w5e=RegExp("^"+v5e.call(b5e).replace(p5e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function N5e(e){if(!Bp(e)||h5e(e))return!1;var t=z6(e)?w5e:g5e;return t.test(_g(e))}function j5e(e,t){return e==null?void 0:e[t]}function kg(e,t){var r=j5e(e,t);return N5e(r)?r:void 0}var E_=kg(Yh,"WeakMap"),oL=Object.create,S5e=function(){function e(){}return function(t){if(!Bp(t))return{};if(oL)return oL(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function A5e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function E5e(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var C5e=800,_5e=16,k5e=Date.now;function T5e(e){var t=0,r=0;return function(){var n=k5e(),a=_5e-(n-r);if(r=n,a>0){if(++t>=C5e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function D5e(e){return function(){return e}}var v5=function(){try{var e=kg(Object,"defineProperty");return e({},"",{}),e}catch{}}(),P5e=v5?function(e,t){return v5(e,"toString",{configurable:!0,enumerable:!1,value:D5e(t),writable:!0})}:PW,O5e=T5e(P5e);function R5e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var I5e=9007199254740991,L5e=/^(?:0|[1-9]\d*)$/;function OW(e,t){var r=typeof e;return t=t??I5e,!!t&&(r=="number"||r!="symbol"&&L5e.test(e))&&e>-1&&e%1==0&&e<t}function H6(e,t,r){t=="__proto__"&&v5?v5(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function lw(e,t){return e===t||e!==e&&t!==t}var M5e=Object.prototype,F5e=M5e.hasOwnProperty;function RW(e,t,r){var n=e[t];(!(F5e.call(e,t)&&lw(n,r))||r===void 0&&!(t in e))&&H6(e,t,r)}function B5e(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var l=t[i],c=void 0;c===void 0&&(c=e[l]),a?H6(r,l,c):RW(r,l,c)}return r}var lL=Math.max;function U5e(e,t,r){return t=lL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=lL(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),A5e(e,this,l)}}function $5e(e,t){return O5e(U5e(e,t,PW),e+"")}var V5e=9007199254740991;function IW(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=V5e}function zS(e){return e!=null&&IW(e.length)&&!z6(e)}function q5e(e,t,r){if(!Bp(r))return!1;var n=typeof t;return(n=="number"?zS(r)&&OW(t,r.length):n=="string"&&t in r)?lw(r[t],e):!1}function z5e(e){return $5e(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&q5e(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var l=r[n];l&&e(t,l,n,i)}return t})}var H5e=Object.prototype;function W6(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||H5e;return e===r}function W5e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var G5e="[object Arguments]";function cL(e){return Gf(e)&&Dv(e)==G5e}var LW=Object.prototype,Y5e=LW.hasOwnProperty,K5e=LW.propertyIsEnumerable,C_=cL(function(){return arguments}())?cL:function(e){return Gf(e)&&Y5e.call(e,"callee")&&!K5e.call(e,"callee")};function Q5e(){return!1}var MW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dL=MW&&typeof module=="object"&&module&&!module.nodeType&&module,X5e=dL&&dL.exports===MW,uL=X5e?Yh.Buffer:void 0,Z5e=uL?uL.isBuffer:void 0,n2=Z5e||Q5e,J5e="[object Arguments]",eSe="[object Array]",tSe="[object Boolean]",rSe="[object Date]",sSe="[object Error]",nSe="[object Function]",aSe="[object Map]",iSe="[object Number]",oSe="[object Object]",lSe="[object RegExp]",cSe="[object Set]",dSe="[object String]",uSe="[object WeakMap]",hSe="[object ArrayBuffer]",fSe="[object DataView]",mSe="[object Float32Array]",pSe="[object Float64Array]",gSe="[object Int8Array]",xSe="[object Int16Array]",ySe="[object Int32Array]",vSe="[object Uint8Array]",bSe="[object Uint8ClampedArray]",wSe="[object Uint16Array]",NSe="[object Uint32Array]",ma={};ma[mSe]=ma[pSe]=ma[gSe]=ma[xSe]=ma[ySe]=ma[vSe]=ma[bSe]=ma[wSe]=ma[NSe]=!0;ma[J5e]=ma[eSe]=ma[hSe]=ma[tSe]=ma[fSe]=ma[rSe]=ma[sSe]=ma[nSe]=ma[aSe]=ma[iSe]=ma[oSe]=ma[lSe]=ma[cSe]=ma[dSe]=ma[uSe]=!1;function jSe(e){return Gf(e)&&IW(e.length)&&!!ma[Dv(e)]}function G6(e){return function(t){return e(t)}}var FW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cb=FW&&typeof module=="object"&&module&&!module.nodeType&&module,SSe=cb&&cb.exports===FW,GE=SSe&&TW.process,Xy=function(){try{var e=cb&&cb.require&&cb.require("util").types;return e||GE&&GE.binding&&GE.binding("util")}catch{}}(),hL=Xy&&Xy.isTypedArray,Y6=hL?G6(hL):jSe,ASe=Object.prototype,ESe=ASe.hasOwnProperty;function BW(e,t){var r=ag(e),n=!r&&C_(e),a=!r&&!n&&n2(e),i=!r&&!n&&!a&&Y6(e),o=r||n||a||i,l=o?W5e(e.length,String):[],c=l.length;for(var d in e)(t||ESe.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||OW(d,c)))&&l.push(d);return l}function UW(e,t){return function(r){return e(t(r))}}var CSe=UW(Object.keys,Object),_Se=Object.prototype,kSe=_Se.hasOwnProperty;function TSe(e){if(!W6(e))return CSe(e);var t=[];for(var r in Object(e))kSe.call(e,r)&&r!="constructor"&&t.push(r);return t}function DSe(e){return zS(e)?BW(e):TSe(e)}function PSe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var OSe=Object.prototype,RSe=OSe.hasOwnProperty;function ISe(e){if(!Bp(e))return PSe(e);var t=W6(e),r=[];for(var n in e)n=="constructor"&&(t||!RSe.call(e,n))||r.push(n);return r}function $W(e){return zS(e)?BW(e,!0):ISe(e)}var a2=kg(Object,"create");function LSe(){this.__data__=a2?a2(null):{},this.size=0}function MSe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var FSe="__lodash_hash_undefined__",BSe=Object.prototype,USe=BSe.hasOwnProperty;function $Se(e){var t=this.__data__;if(a2){var r=t[e];return r===FSe?void 0:r}return USe.call(t,e)?t[e]:void 0}var VSe=Object.prototype,qSe=VSe.hasOwnProperty;function zSe(e){var t=this.__data__;return a2?t[e]!==void 0:qSe.call(t,e)}var HSe="__lodash_hash_undefined__";function WSe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=a2&&t===void 0?HSe:t,this}function ig(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ig.prototype.clear=LSe;ig.prototype.delete=MSe;ig.prototype.get=$Se;ig.prototype.has=zSe;ig.prototype.set=WSe;function GSe(){this.__data__=[],this.size=0}function HS(e,t){for(var r=e.length;r--;)if(lw(e[r][0],t))return r;return-1}var YSe=Array.prototype,KSe=YSe.splice;function QSe(e){var t=this.__data__,r=HS(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():KSe.call(t,r,1),--this.size,!0}function XSe(e){var t=this.__data__,r=HS(t,e);return r<0?void 0:t[r][1]}function ZSe(e){return HS(this.__data__,e)>-1}function JSe(e,t){var r=this.__data__,n=HS(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function tm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tm.prototype.clear=GSe;tm.prototype.delete=QSe;tm.prototype.get=XSe;tm.prototype.has=ZSe;tm.prototype.set=JSe;var i2=kg(Yh,"Map");function e4e(){this.size=0,this.__data__={hash:new ig,map:new(i2||tm),string:new ig}}function t4e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function WS(e,t){var r=e.__data__;return t4e(t)?r[typeof t=="string"?"string":"hash"]:r.map}function r4e(e){var t=WS(this,e).delete(e);return this.size-=t?1:0,t}function s4e(e){return WS(this,e).get(e)}function n4e(e){return WS(this,e).has(e)}function a4e(e,t){var r=WS(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Tg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Tg.prototype.clear=e4e;Tg.prototype.delete=r4e;Tg.prototype.get=s4e;Tg.prototype.has=n4e;Tg.prototype.set=a4e;function i4e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var VW=UW(Object.getPrototypeOf,Object),o4e="[object Object]",l4e=Function.prototype,c4e=Object.prototype,qW=l4e.toString,d4e=c4e.hasOwnProperty,u4e=qW.call(Object);function h4e(e){if(!Gf(e)||Dv(e)!=o4e)return!1;var t=VW(e);if(t===null)return!0;var r=d4e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&qW.call(r)==u4e}function f4e(){this.__data__=new tm,this.size=0}function m4e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function p4e(e){return this.__data__.get(e)}function g4e(e){return this.__data__.has(e)}var x4e=200;function y4e(e,t){var r=this.__data__;if(r instanceof tm){var n=r.__data__;if(!i2||n.length<x4e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Tg(n)}return r.set(e,t),this.size=r.size,this}function Mh(e){var t=this.__data__=new tm(e);this.size=t.size}Mh.prototype.clear=f4e;Mh.prototype.delete=m4e;Mh.prototype.get=p4e;Mh.prototype.has=g4e;Mh.prototype.set=y4e;var zW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fL=zW&&typeof module=="object"&&module&&!module.nodeType&&module,v4e=fL&&fL.exports===zW,mL=v4e?Yh.Buffer:void 0,pL=mL?mL.allocUnsafe:void 0;function HW(e,t){if(t)return e.slice();var r=e.length,n=pL?pL(r):new e.constructor(r);return e.copy(n),n}function b4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function w4e(){return[]}var N4e=Object.prototype,j4e=N4e.propertyIsEnumerable,gL=Object.getOwnPropertySymbols,S4e=gL?function(e){return e==null?[]:(e=Object(e),b4e(gL(e),function(t){return j4e.call(e,t)}))}:w4e;function A4e(e,t,r){var n=t(e);return ag(e)?n:i4e(n,r(e))}function __(e){return A4e(e,DSe,S4e)}var k_=kg(Yh,"DataView"),T_=kg(Yh,"Promise"),D_=kg(Yh,"Set"),xL="[object Map]",E4e="[object Object]",yL="[object Promise]",vL="[object Set]",bL="[object WeakMap]",wL="[object DataView]",C4e=_g(k_),_4e=_g(i2),k4e=_g(T_),T4e=_g(D_),D4e=_g(E_),ju=Dv;(k_&&ju(new k_(new ArrayBuffer(1)))!=wL||i2&&ju(new i2)!=xL||T_&&ju(T_.resolve())!=yL||D_&&ju(new D_)!=vL||E_&&ju(new E_)!=bL)&&(ju=function(e){var t=Dv(e),r=t==E4e?e.constructor:void 0,n=r?_g(r):"";if(n)switch(n){case C4e:return wL;case _4e:return xL;case k4e:return yL;case T4e:return vL;case D4e:return bL}return t});var P4e=Object.prototype,O4e=P4e.hasOwnProperty;function R4e(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&O4e.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var b5=Yh.Uint8Array;function K6(e){var t=new e.constructor(e.byteLength);return new b5(t).set(new b5(e)),t}function I4e(e,t){var r=K6(e.buffer);return new e.constructor(r,e.byteOffset,e.byteLength)}var L4e=/\w*$/;function M4e(e){var t=new e.constructor(e.source,L4e.exec(e));return t.lastIndex=e.lastIndex,t}var NL=Cp?Cp.prototype:void 0,jL=NL?NL.valueOf:void 0;function F4e(e){return jL?Object(jL.call(e)):{}}function WW(e,t){var r=t?K6(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var B4e="[object Boolean]",U4e="[object Date]",$4e="[object Map]",V4e="[object Number]",q4e="[object RegExp]",z4e="[object Set]",H4e="[object String]",W4e="[object Symbol]",G4e="[object ArrayBuffer]",Y4e="[object DataView]",K4e="[object Float32Array]",Q4e="[object Float64Array]",X4e="[object Int8Array]",Z4e="[object Int16Array]",J4e="[object Int32Array]",eAe="[object Uint8Array]",tAe="[object Uint8ClampedArray]",rAe="[object Uint16Array]",sAe="[object Uint32Array]";function nAe(e,t,r){var n=e.constructor;switch(t){case G4e:return K6(e);case B4e:case U4e:return new n(+e);case Y4e:return I4e(e);case K4e:case Q4e:case X4e:case Z4e:case J4e:case eAe:case tAe:case rAe:case sAe:return WW(e,r);case $4e:return new n;case V4e:case H4e:return new n(e);case q4e:return M4e(e);case z4e:return new n;case W4e:return F4e(e)}}function GW(e){return typeof e.constructor=="function"&&!W6(e)?S5e(VW(e)):{}}var aAe="[object Map]";function iAe(e){return Gf(e)&&ju(e)==aAe}var SL=Xy&&Xy.isMap,oAe=SL?G6(SL):iAe,lAe="[object Set]";function cAe(e){return Gf(e)&&ju(e)==lAe}var AL=Xy&&Xy.isSet,dAe=AL?G6(AL):cAe,uAe=1,YW="[object Arguments]",hAe="[object Array]",fAe="[object Boolean]",mAe="[object Date]",pAe="[object Error]",KW="[object Function]",gAe="[object GeneratorFunction]",xAe="[object Map]",yAe="[object Number]",QW="[object Object]",vAe="[object RegExp]",bAe="[object Set]",wAe="[object String]",NAe="[object Symbol]",jAe="[object WeakMap]",SAe="[object ArrayBuffer]",AAe="[object DataView]",EAe="[object Float32Array]",CAe="[object Float64Array]",_Ae="[object Int8Array]",kAe="[object Int16Array]",TAe="[object Int32Array]",DAe="[object Uint8Array]",PAe="[object Uint8ClampedArray]",OAe="[object Uint16Array]",RAe="[object Uint32Array]",aa={};aa[YW]=aa[hAe]=aa[SAe]=aa[AAe]=aa[fAe]=aa[mAe]=aa[EAe]=aa[CAe]=aa[_Ae]=aa[kAe]=aa[TAe]=aa[xAe]=aa[yAe]=aa[QW]=aa[vAe]=aa[bAe]=aa[wAe]=aa[NAe]=aa[DAe]=aa[PAe]=aa[OAe]=aa[RAe]=!0;aa[pAe]=aa[KW]=aa[jAe]=!1;function Cj(e,t,r,n,a,i){var o,l=t&uAe;if(o!==void 0)return o;if(!Bp(e))return e;var c=ag(e);if(c)o=R4e(e);else{var d=ju(e),h=d==KW||d==gAe;if(n2(e))return HW(e,l);if(d==QW||d==YW||h&&!a)o=h?{}:GW(e);else{if(!aa[d])return a?e:{};o=nAe(e,d,l)}}i||(i=new Mh);var m=i.get(e);if(m)return m;i.set(e,o),dAe(e)?e.forEach(function(w){o.add(Cj(w,t,r,w,e,i))}):oAe(e)&&e.forEach(function(w,b){o.set(b,Cj(w,t,r,b,e,i))});var p=__,g=c?void 0:p(e);return R5e(g||e,function(w,b){g&&(b=w,w=e[b]),RW(o,b,Cj(w,t,r,b,e,i))}),o}var IAe=1,LAe=4;function hy(e){return Cj(e,IAe|LAe)}var MAe="__lodash_hash_undefined__";function FAe(e){return this.__data__.set(e,MAe),this}function BAe(e){return this.__data__.has(e)}function w5(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Tg;++t<r;)this.add(e[t])}w5.prototype.add=w5.prototype.push=FAe;w5.prototype.has=BAe;function UAe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function $Ae(e,t){return e.has(t)}var VAe=1,qAe=2;function XW(e,t,r,n,a,i){var o=r&VAe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var m=-1,p=!0,g=r&qAe?new w5:void 0;for(i.set(e,t),i.set(t,e);++m<l;){var w=e[m],b=t[m];if(n)var v=o?n(b,w,m,t,e,i):n(w,b,m,e,t,i);if(v!==void 0){if(v)continue;p=!1;break}if(g){if(!UAe(t,function(N,S){if(!$Ae(g,S)&&(w===N||a(w,N,r,n,i)))return g.push(S)})){p=!1;break}}else if(!(w===b||a(w,b,r,n,i))){p=!1;break}}return i.delete(e),i.delete(t),p}function zAe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}function HAe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var WAe=1,GAe=2,YAe="[object Boolean]",KAe="[object Date]",QAe="[object Error]",XAe="[object Map]",ZAe="[object Number]",JAe="[object RegExp]",eEe="[object Set]",tEe="[object String]",rEe="[object Symbol]",sEe="[object ArrayBuffer]",nEe="[object DataView]",EL=Cp?Cp.prototype:void 0,YE=EL?EL.valueOf:void 0;function aEe(e,t,r,n,a,i,o){switch(r){case nEe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sEe:return!(e.byteLength!=t.byteLength||!i(new b5(e),new b5(t)));case YAe:case KAe:case ZAe:return lw(+e,+t);case QAe:return e.name==t.name&&e.message==t.message;case JAe:case tEe:return e==t+"";case XAe:var l=zAe;case eEe:var c=n&WAe;if(l||(l=HAe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=GAe,o.set(e,t);var h=XW(l(e),l(t),n,a,i,o);return o.delete(e),h;case rEe:if(YE)return YE.call(e)==YE.call(t)}return!1}var iEe=1,oEe=Object.prototype,lEe=oEe.hasOwnProperty;function cEe(e,t,r,n,a,i){var o=r&iEe,l=__(e),c=l.length,d=__(t),h=d.length;if(c!=h&&!o)return!1;for(var m=c;m--;){var p=l[m];if(!(o?p in t:lEe.call(t,p)))return!1}var g=i.get(e),w=i.get(t);if(g&&w)return g==t&&w==e;var b=!0;i.set(e,t),i.set(t,e);for(var v=o;++m<c;){p=l[m];var N=e[p],S=t[p];if(n)var A=o?n(S,N,p,t,e,i):n(N,S,p,e,t,i);if(!(A===void 0?N===S||a(N,S,r,n,i):A)){b=!1;break}v||(v=p=="constructor")}if(b&&!v){var E=e.constructor,C=t.constructor;E!=C&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof C=="function"&&C instanceof C)&&(b=!1)}return i.delete(e),i.delete(t),b}var dEe=1,CL="[object Arguments]",_L="[object Array]",IN="[object Object]",uEe=Object.prototype,kL=uEe.hasOwnProperty;function hEe(e,t,r,n,a,i){var o=ag(e),l=ag(t),c=o?_L:ju(e),d=l?_L:ju(t);c=c==CL?IN:c,d=d==CL?IN:d;var h=c==IN,m=d==IN,p=c==d;if(p&&n2(e)){if(!n2(t))return!1;o=!0,h=!1}if(p&&!h)return i||(i=new Mh),o||Y6(e)?XW(e,t,r,n,a,i):aEe(e,t,c,r,n,a,i);if(!(r&dEe)){var g=h&&kL.call(e,"__wrapped__"),w=m&&kL.call(t,"__wrapped__");if(g||w){var b=g?e.value():e,v=w?t.value():t;return i||(i=new Mh),a(b,v,r,n,i)}}return p?(i||(i=new Mh),cEe(e,t,r,n,a,i)):!1}function ZW(e,t,r,n,a){return e===t?!0:e==null||t==null||!Gf(e)&&!Gf(t)?e!==e&&t!==t:hEe(e,t,r,n,ZW,a)}function fEe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[++a];if(r(i[c],c,i)===!1)break}return t}}var mEe=fEe();function P_(e,t,r){(r!==void 0&&!lw(e[t],r)||r===void 0&&!(t in e))&&H6(e,t,r)}function pEe(e){return Gf(e)&&zS(e)}function O_(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function gEe(e){return B5e(e,$W(e))}function xEe(e,t,r,n,a,i,o){var l=O_(e,r),c=O_(t,r),d=o.get(c);if(d){P_(e,r,d);return}var h=i?i(l,c,r+"",e,t,o):void 0,m=h===void 0;if(m){var p=ag(c),g=!p&&n2(c),w=!p&&!g&&Y6(c);h=c,p||g||w?ag(l)?h=l:pEe(l)?h=E5e(l):g?(m=!1,h=HW(c,!0)):w?(m=!1,h=WW(c,!0)):h=[]:h4e(c)||C_(c)?(h=l,C_(l)?h=gEe(l):(!Bp(l)||z6(l))&&(h=GW(c))):m=!1}m&&(o.set(c,h),a(h,c,n,i,o),o.delete(c)),P_(e,r,h)}function JW(e,t,r,n,a){e!==t&&mEe(t,function(i,o){if(a||(a=new Mh),Bp(i))xEe(e,t,o,r,JW,n,a);else{var l=n?n(O_(e,o),i,o+"",e,t,a):void 0;l===void 0&&(l=i),P_(e,o,l)}},$W)}function Km(e,t){return ZW(e,t)}var pp=z5e(function(e,t,r){JW(e,t,r)}),Jr=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Jr||{});class qh{constructor(t,r,n={}){this.attrName=t,this.keyName=r;const a=Jr.TYPE&Jr.ATTRIBUTE;this.scope=n.scope!=null?n.scope&Jr.LEVEL|a:Jr.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(r=>r.name)}add(t,r){return this.canAdd(t,r)?(t.setAttribute(this.keyName,r),!0):!1}canAdd(t,r){return this.whitelist==null?!0:typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const r=t.getAttribute(this.keyName);return this.canAdd(t,r)&&r?r:""}}class fy extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const eG=class R_{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,r=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(r){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,r)}return null}create(t,r,n){const a=this.query(r);if(a==null)throw new fy(`Unable to create ${r} blot`);const i=a,o=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:i.create(n),l=new i(t,o,n);return R_.blots.set(l.domNode,l),l}find(t,r=!1){return R_.find(t,r)}query(t,r=Jr.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&Jr.LEVEL&Jr.BLOCK?n=this.types.block:t&Jr.LEVEL&Jr.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(a=>(n=this.classes[a],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&r&Jr.LEVEL&n.scope&&r&Jr.TYPE&n.scope?n:null}register(...t){return t.map(r=>{const n="blotName"in r,a="attrName"in r;if(!n&&!a)throw new fy("Invalid definition");if(n&&r.blotName==="abstract")throw new fy("Cannot register abstract class");const i=n?r.blotName:a?r.attrName:void 0;return this.types[i]=r,a?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):n&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(o=>o.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(o=>{(this.tags[o]==null||r.className==null)&&(this.tags[o]=r)}))),r})}};eG.blots=new WeakMap;let Zy=eG;function TL(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${t}-`)===0)}class yEe extends qh{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(r=>r.split("-").slice(0,-1).join("-"))}add(t,r){return this.canAdd(t,r)?(this.remove(t),t.classList.add(`${this.keyName}-${r}`),!0):!1}remove(t){TL(t,this.keyName).forEach(r=>{t.classList.remove(r)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const r=(TL(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,r)?r:""}}const Gu=yEe;function KE(e){const t=e.split("-"),r=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+r}class vEe extends qh{static keys(t){return(t.getAttribute("style")||"").split(";").map(r=>r.split(":")[0].trim())}add(t,r){return this.canAdd(t,r)?(t.style[KE(this.keyName)]=r,!0):!1}remove(t){t.style[KE(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const r=t.style[KE(this.keyName)];return this.canAdd(t,r)?r:""}}const Up=vEe;class bEe{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,r){r?t.add(this.domNode,r)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Zy.find(this.domNode);if(t==null)return;const r=qh.keys(this.domNode),n=Gu.keys(this.domNode),a=Up.keys(this.domNode);r.concat(n).concat(a).forEach(i=>{const o=t.scroll.query(i,Jr.ATTRIBUTE);o instanceof qh&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(r=>{const n=this.attributes[r].value(this.domNode);t.format(r,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(r=>{this.attributes[r].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,r)=>(t[r]=this.attributes[r].value(this.domNode),t),{})}}const GS=bEe,tG=class{constructor(t,r){this.scroll=t,this.domNode=r,Zy.blots.set(r,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new fy("Blot definition missing tagName");let r,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?r=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?r=document.createElement(n):r=document.createElement(this.tagName[0])):r=document.createElement(this.tagName),this.className&&r.classList.add(this.className),r}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Zy.blots.delete(this.domNode)}deleteAt(t,r){this.isolate(t,r).remove()}formatAt(t,r,n,a){const i=this.isolate(t,r);if(this.scroll.query(n,Jr.BLOT)!=null&&a)i.wrap(n,a);else if(this.scroll.query(n,Jr.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(n,a)}}insertAt(t,r,n){const a=n==null?this.scroll.create("text",r):this.scroll.create(r,n),i=this.split(t);this.parent.insertBefore(a,i||void 0)}isolate(t,r){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(r),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,r){return t===0?this:this.next}update(t,r){}wrap(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new fy(`Cannot wrap ${t}`);return n.appendChild(this),n}};tG.blotName="abstract";let rG=tG;const sG=class extends rG{static value(t){return!0}index(t,r){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1}position(t,r){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};sG.scope=Jr.INLINE_BLOT;let wEe=sG;const cl=wEe;class NEe{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const r=t.slice(1);this.append(...r)}}at(t){const r=this.iterator();let n=r();for(;n&&t>0;)t-=1,n=r();return n}contains(t){const r=this.iterator();let n=r();for(;n;){if(n===t)return!0;n=r()}return!1}indexOf(t){const r=this.iterator();let n=r(),a=0;for(;n;){if(n===t)return a;a+=1,n=r()}return-1}insertBefore(t,r){t!=null&&(this.remove(t),t.next=r,r!=null?(t.prev=r.prev,r.prev!=null&&(r.prev.next=t),r.prev=t,r===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let r=0,n=this.head;for(;n!=null;){if(n===t)return r;r+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const r=t;return t!=null&&(t=t.next),r}}find(t,r=!1){const n=this.iterator();let a=n();for(;a;){const i=a.length();if(t<i||r&&t===i&&(a.next==null||a.next.length()!==0))return[a,t];t-=i,a=n()}return[null,0]}forEach(t){const r=this.iterator();let n=r();for(;n;)t(n),n=r()}forEachAt(t,r,n){if(r<=0)return;const[a,i]=this.find(t);let o=t-i;const l=this.iterator(a);let c=l();for(;c&&o<t+r;){const d=c.length();t>o?n(c,t-o,Math.min(r,o+d-t)):n(c,0,Math.min(d,t+r-o)),o+=d,c=l()}}map(t){return this.reduce((r,n)=>(r.push(t(n)),r),[])}reduce(t,r){const n=this.iterator();let a=n();for(;a;)r=t(r,a),a=n();return r}}function DL(e,t){const r=t.find(e);if(r)return r;try{return t.create(e)}catch{const n=t.create(Jr.INLINE);return Array.from(e.childNodes).forEach(a=>{n.domNode.appendChild(a)}),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach(),n}}const nG=class Gm extends rG{constructor(t,r){super(t,r),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Gm.uiClass&&this.uiNode.classList.add(Gm.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new NEe,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const r=DL(t,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof fy)return;throw r}})}deleteAt(t,r){if(t===0&&r===this.length())return this.remove();this.children.forEachAt(t,r,(n,a,i)=>{n.deleteAt(a,i)})}descendant(t,r=0){const[n,a]=this.children.find(r);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,a]:n instanceof Gm?n.descendant(t,a):[null,-1]}descendants(t,r=0,n=Number.MAX_VALUE){let a=[],i=n;return this.children.forEachAt(r,n,(o,l,c)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&a.push(o),o instanceof Gm&&(a=a.concat(o.descendants(t,l,i))),i-=c}),a}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(r=>{t||this.statics.allowedChildren.some(n=>r instanceof n)||(r.statics.scope===Jr.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),t=!0):r instanceof Gm?r.unwrap():r.remove())})}formatAt(t,r,n,a){this.children.forEachAt(t,r,(i,o,l)=>{i.formatAt(o,l,n,a)})}insertAt(t,r,n){const[a,i]=this.children.find(t);if(a)a.insertAt(i,r,n);else{const o=n==null?this.scroll.create("text",r):this.scroll.create(r,n);this.appendChild(o)}}insertBefore(t,r){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,r||null),t.parent=this,r!=null&&(n=r.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,r)=>t+r.length(),0)}moveChildren(t,r){this.children.forEach(n=>{t.insertBefore(n,r)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(t,r=!1){const[n,a]=this.children.find(t,r),i=[[this,t]];return n instanceof Gm?i.concat(n.path(a,r)):(n!=null&&i.push([n,a]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,r){const n=typeof t=="string"?this.scroll.create(t,r):t;return n instanceof Gm&&this.moveChildren(n),super.replaceWith(n)}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(a,i,o)=>{const l=a.split(i,r);l!=null&&n.appendChild(l)}),n}splitAfter(t){const r=this.clone();for(;t.next!=null;)r.appendChild(t.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,r){const n=[],a=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(n.push(...i.addedNodes),a.push(...i.removedNodes))}),a.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),n.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const l=DL(i,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};nG.uiClass="";let jEe=nG;const Pu=jEe;function SEe(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}const Lx=class Mx extends Pu{static create(t){return super.create(t)}static formats(t,r){const n=r.query(Mx.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new GS(this.domNode)}format(t,r){if(t===this.statics.blotName&&!r)this.children.forEach(n=>{n instanceof Mx||(n=n.wrap(Mx.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,Jr.INLINE);if(n==null)return;n instanceof qh?this.attributes.attribute(n,r):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r)}}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,n,a){this.formats()[n]!=null||this.scroll.query(n,Jr.ATTRIBUTE)?this.isolate(t,r).format(n,a):super.formatAt(t,r,n,a)}optimize(t){super.optimize(t);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const n=this.next;n instanceof Mx&&n.prev===this&&SEe(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,r){const n=super.replaceWith(t,r);return this.attributes.copy(n),n}update(t,r){super.update(t,r),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,r){const n=super.wrap(t,r);return n instanceof Mx&&this.attributes.move(n),n}};Lx.allowedChildren=[Lx,cl],Lx.blotName="inline",Lx.scope=Jr.INLINE_BLOT,Lx.tagName="SPAN";let AEe=Lx;const Q6=AEe,Fx=class I_ extends Pu{static create(t){return super.create(t)}static formats(t,r){const n=r.query(I_.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new GS(this.domNode)}format(t,r){const n=this.scroll.query(t,Jr.BLOCK);n!=null&&(n instanceof qh?this.attributes.attribute(n,r):t===this.statics.blotName&&!r?this.replaceWith(I_.blotName):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r))}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,n,a){this.scroll.query(n,Jr.BLOCK)!=null?this.format(n,a):super.formatAt(t,r,n,a)}insertAt(t,r,n){if(n==null||this.scroll.query(r,Jr.INLINE)!=null)super.insertAt(t,r,n);else{const a=this.split(t);if(a!=null){const i=this.scroll.create(r,n);a.parent.insertBefore(i,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,r){const n=super.replaceWith(t,r);return this.attributes.copy(n),n}update(t,r){super.update(t,r),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Fx.blotName="block",Fx.scope=Jr.BLOCK_BLOT,Fx.tagName="P",Fx.allowedChildren=[Q6,Fx,cl];let EEe=Fx;const o2=EEe,L_=class extends Pu{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,r){super.deleteAt(t,r),this.enforceAllowedChildren()}formatAt(t,r,n,a){super.formatAt(t,r,n,a),this.enforceAllowedChildren()}insertAt(t,r,n){super.insertAt(t,r,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};L_.blotName="container",L_.scope=Jr.BLOCK_BLOT;let CEe=L_;const YS=CEe;class _Ee extends cl{static formats(t,r){}format(t,r){super.formatAt(0,this.length(),t,r)}formatAt(t,r,n,a){t===0&&r===this.length()?this.format(n,a):super.formatAt(t,r,n,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Xc=_Ee,kEe={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},TEe=100,Bx=class extends Pu{constructor(t,r){super(null,r),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,kEe),this.attach()}create(t,r){return this.registry.create(this,t,r)}find(t,r=!1){const n=this.registry.find(t,r);return n?n.scroll===this?n:r?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,r=Jr.ANY){return this.registry.query(t,r)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,r){this.update(),t===0&&r===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,r)}formatAt(t,r,n,a){this.update(),super.formatAt(t,r,n,a)}insertAt(t,r,n){this.update(),super.insertAt(t,r,n)}optimize(t=[],r={}){super.optimize(r);const n=r.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)t.push(a.pop());const i=(c,d=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(n.has(c.domNode)||n.set(c.domNode,[]),d&&i(c.parent))},o=c=>{n.has(c.domNode)&&(c instanceof Pu&&c.children.forEach(o),n.delete(c.domNode),c.optimize(r))};let l=t;for(let c=0;l.length>0;c+=1){if(c>=TEe)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(d=>{const h=this.find(d.target,!0);h!=null&&(h.domNode===d.target&&(d.type==="childList"?(i(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(m=>{const p=this.find(m,!1);i(p,!1),p instanceof Pu&&p.children.forEach(g=>{i(g,!1)})})):d.type==="attributes"&&i(h.prev)),i(h))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),a=l.slice();a.length>0;)t.push(a.pop())}}update(t,r={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(a=>{const i=this.find(a.target,!0);return i==null?null:n.has(i.domNode)?(n.get(i.domNode).push(a),null):(n.set(i.domNode,[a]),i)}).forEach(a=>{a!=null&&a!==this&&n.has(a.domNode)&&a.update(n.get(a.domNode)||[],r)}),r.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),r),this.optimize(t,r)}};Bx.blotName="scroll",Bx.defaultChild=o2,Bx.allowedChildren=[o2,YS],Bx.scope=Jr.BLOCK_BLOT,Bx.tagName="DIV";let DEe=Bx;const X6=DEe,M_=class aG extends cl{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,r){super(t,r),this.text=this.statics.value(this.domNode)}deleteAt(t,r){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+r)}index(t,r){return this.domNode===t?r:-1}insertAt(t,r,n){n==null?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,r,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof aG&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,r=!1){return[this.domNode,t]}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,r){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};M_.blotName="text",M_.scope=Jr.INLINE_BLOT;let PEe=M_;const N5=PEe,OEe=Object.freeze(Object.defineProperty({__proto__:null,Attributor:qh,AttributorStore:GS,BlockBlot:o2,ClassAttributor:Gu,ContainerBlot:YS,EmbedBlot:Xc,InlineBlot:Q6,LeafBlot:cl,ParentBlot:Pu,Registry:Zy,Scope:Jr,ScrollBlot:X6,StyleAttributor:Up,TextBlot:N5},Symbol.toStringTag,{value:"Module"}));var LN={exports:{}},QE,PL;function REe(){if(PL)return QE;PL=1;var e=-1,t=1,r=0;function n(O,M,R,B,Y){if(O===M)return O?[[r,O]]:[];if(R!=null){var U=k(O,M,R);if(U)return U}var Q=l(O,M),V=O.substring(0,Q);O=O.substring(Q),M=M.substring(Q),Q=d(O,M);var Z=O.substring(O.length-Q);O=O.substring(0,O.length-Q),M=M.substring(0,M.length-Q);var J=a(O,M);return V&&J.unshift([r,V]),Z&&J.push([r,Z]),S(J,Y),B&&m(J),J}function a(O,M){var R;if(!O)return[[t,M]];if(!M)return[[e,O]];var B=O.length>M.length?O:M,Y=O.length>M.length?M:O,U=B.indexOf(Y);if(U!==-1)return R=[[t,B.substring(0,U)],[r,Y],[t,B.substring(U+Y.length)]],O.length>M.length&&(R[0][0]=R[2][0]=e),R;if(Y.length===1)return[[e,O],[t,M]];var Q=h(O,M);if(Q){var V=Q[0],Z=Q[1],J=Q[2],ae=Q[3],D=Q[4],H=n(V,J),K=n(Z,ae);return H.concat([[r,D]],K)}return i(O,M)}function i(O,M){for(var R=O.length,B=M.length,Y=Math.ceil((R+B)/2),U=Y,Q=2*Y,V=new Array(Q),Z=new Array(Q),J=0;J<Q;J++)V[J]=-1,Z[J]=-1;V[U+1]=0,Z[U+1]=0;for(var ae=R-B,D=ae%2!==0,H=0,K=0,W=0,re=0,te=0;te<Y;te++){for(var ie=-te+H;ie<=te-K;ie+=2){var se=U+ie,le;ie===-te||ie!==te&&V[se-1]<V[se+1]?le=V[se+1]:le=V[se-1]+1;for(var Ce=le-ie;le<R&&Ce<B&&O.charAt(le)===M.charAt(Ce);)le++,Ce++;if(V[se]=le,le>R)K+=2;else if(Ce>B)H+=2;else if(D){var De=U+ae-ie;if(De>=0&&De<Q&&Z[De]!==-1){var Ze=R-Z[De];if(le>=Ze)return o(O,M,le,Ce)}}}for(var ke=-te+W;ke<=te-re;ke+=2){var De=U+ke,Ze;ke===-te||ke!==te&&Z[De-1]<Z[De+1]?Ze=Z[De+1]:Ze=Z[De-1]+1;for(var ce=Ze-ke;Ze<R&&ce<B&&O.charAt(R-Ze-1)===M.charAt(B-ce-1);)Ze++,ce++;if(Z[De]=Ze,Ze>R)re+=2;else if(ce>B)W+=2;else if(!D){var se=U+ae-ke;if(se>=0&&se<Q&&V[se]!==-1){var le=V[se],Ce=U+le-se;if(Ze=R-Ze,le>=Ze)return o(O,M,le,Ce)}}}}return[[e,O],[t,M]]}function o(O,M,R,B){var Y=O.substring(0,R),U=M.substring(0,B),Q=O.substring(R),V=M.substring(B),Z=n(Y,U),J=n(Q,V);return Z.concat(J)}function l(O,M){if(!O||!M||O.charAt(0)!==M.charAt(0))return 0;for(var R=0,B=Math.min(O.length,M.length),Y=B,U=0;R<Y;)O.substring(U,Y)==M.substring(U,Y)?(R=Y,U=R):B=Y,Y=Math.floor((B-R)/2+R);return A(O.charCodeAt(Y-1))&&Y--,Y}function c(O,M){var R=O.length,B=M.length;if(R==0||B==0)return 0;R>B?O=O.substring(R-B):R<B&&(M=M.substring(0,R));var Y=Math.min(R,B);if(O==M)return Y;for(var U=0,Q=1;;){var V=O.substring(Y-Q),Z=M.indexOf(V);if(Z==-1)return U;Q+=Z,(Z==0||O.substring(Y-Q)==M.substring(0,Q))&&(U=Q,Q++)}}function d(O,M){if(!O||!M||O.slice(-1)!==M.slice(-1))return 0;for(var R=0,B=Math.min(O.length,M.length),Y=B,U=0;R<Y;)O.substring(O.length-Y,O.length-U)==M.substring(M.length-Y,M.length-U)?(R=Y,U=R):B=Y,Y=Math.floor((B-R)/2+R);return E(O.charCodeAt(O.length-Y))&&Y--,Y}function h(O,M){var R=O.length>M.length?O:M,B=O.length>M.length?M:O;if(R.length<4||B.length*2<R.length)return null;function Y(K,W,re){for(var te=K.substring(re,re+Math.floor(K.length/4)),ie=-1,se="",le,Ce,De,Ze;(ie=W.indexOf(te,ie+1))!==-1;){var ke=l(K.substring(re),W.substring(ie)),ce=d(K.substring(0,re),W.substring(0,ie));se.length<ce+ke&&(se=W.substring(ie-ce,ie)+W.substring(ie,ie+ke),le=K.substring(0,re-ce),Ce=K.substring(re+ke),De=W.substring(0,ie-ce),Ze=W.substring(ie+ke))}return se.length*2>=K.length?[le,Ce,De,Ze,se]:null}var U=Y(R,B,Math.ceil(R.length/4)),Q=Y(R,B,Math.ceil(R.length/2)),V;if(!U&&!Q)return null;Q?U?V=U[4].length>Q[4].length?U:Q:V=Q:V=U;var Z,J,ae,D;O.length>M.length?(Z=V[0],J=V[1],ae=V[2],D=V[3]):(ae=V[0],D=V[1],Z=V[2],J=V[3]);var H=V[4];return[Z,J,ae,D,H]}function m(O){for(var M=!1,R=[],B=0,Y=null,U=0,Q=0,V=0,Z=0,J=0;U<O.length;)O[U][0]==r?(R[B++]=U,Q=Z,V=J,Z=0,J=0,Y=O[U][1]):(O[U][0]==t?Z+=O[U][1].length:J+=O[U][1].length,Y&&Y.length<=Math.max(Q,V)&&Y.length<=Math.max(Z,J)&&(O.splice(R[B-1],0,[e,Y]),O[R[B-1]+1][0]=t,B--,B--,U=B>0?R[B-1]:-1,Q=0,V=0,Z=0,J=0,Y=null,M=!0)),U++;for(M&&S(O),N(O),U=1;U<O.length;){if(O[U-1][0]==e&&O[U][0]==t){var ae=O[U-1][1],D=O[U][1],H=c(ae,D),K=c(D,ae);H>=K?(H>=ae.length/2||H>=D.length/2)&&(O.splice(U,0,[r,D.substring(0,H)]),O[U-1][1]=ae.substring(0,ae.length-H),O[U+1][1]=D.substring(H),U++):(K>=ae.length/2||K>=D.length/2)&&(O.splice(U,0,[r,ae.substring(0,K)]),O[U-1][0]=t,O[U-1][1]=D.substring(0,D.length-K),O[U+1][0]=e,O[U+1][1]=ae.substring(K),U++),U++}U++}}var p=/[^a-zA-Z0-9]/,g=/\s/,w=/[\r\n]/,b=/\n\r?\n$/,v=/^\r?\n\r?\n/;function N(O){function M(K,W){if(!K||!W)return 6;var re=K.charAt(K.length-1),te=W.charAt(0),ie=re.match(p),se=te.match(p),le=ie&&re.match(g),Ce=se&&te.match(g),De=le&&re.match(w),Ze=Ce&&te.match(w),ke=De&&K.match(b),ce=Ze&&W.match(v);return ke||ce?5:De||Ze?4:ie&&!le&&Ce?3:le||Ce?2:ie||se?1:0}for(var R=1;R<O.length-1;){if(O[R-1][0]==r&&O[R+1][0]==r){var B=O[R-1][1],Y=O[R][1],U=O[R+1][1],Q=d(B,Y);if(Q){var V=Y.substring(Y.length-Q);B=B.substring(0,B.length-Q),Y=V+Y.substring(0,Y.length-Q),U=V+U}for(var Z=B,J=Y,ae=U,D=M(B,Y)+M(Y,U);Y.charAt(0)===U.charAt(0);){B+=Y.charAt(0),Y=Y.substring(1)+U.charAt(0),U=U.substring(1);var H=M(B,Y)+M(Y,U);H>=D&&(D=H,Z=B,J=Y,ae=U)}O[R-1][1]!=Z&&(Z?O[R-1][1]=Z:(O.splice(R-1,1),R--),O[R][1]=J,ae?O[R+1][1]=ae:(O.splice(R+1,1),R--))}R++}}function S(O,M){O.push([r,""]);for(var R=0,B=0,Y=0,U="",Q="",V;R<O.length;){if(R<O.length-1&&!O[R][1]){O.splice(R,1);continue}switch(O[R][0]){case t:Y++,Q+=O[R][1],R++;break;case e:B++,U+=O[R][1],R++;break;case r:var Z=R-Y-B-1;if(M){if(Z>=0&&I(O[Z][1])){var J=O[Z][1].slice(-1);if(O[Z][1]=O[Z][1].slice(0,-1),U=J+U,Q=J+Q,!O[Z][1]){O.splice(Z,1),R--;var ae=Z-1;O[ae]&&O[ae][0]===t&&(Y++,Q=O[ae][1]+Q,ae--),O[ae]&&O[ae][0]===e&&(B++,U=O[ae][1]+U,ae--),Z=ae}}if(C(O[R][1])){var J=O[R][1].charAt(0);O[R][1]=O[R][1].slice(1),U+=J,Q+=J}}if(R<O.length-1&&!O[R][1]){O.splice(R,1);break}if(U.length>0||Q.length>0){U.length>0&&Q.length>0&&(V=l(Q,U),V!==0&&(Z>=0?O[Z][1]+=Q.substring(0,V):(O.splice(0,0,[r,Q.substring(0,V)]),R++),Q=Q.substring(V),U=U.substring(V)),V=d(Q,U),V!==0&&(O[R][1]=Q.substring(Q.length-V)+O[R][1],Q=Q.substring(0,Q.length-V),U=U.substring(0,U.length-V)));var D=Y+B;U.length===0&&Q.length===0?(O.splice(R-D,D),R=R-D):U.length===0?(O.splice(R-D,D,[t,Q]),R=R-D+1):Q.length===0?(O.splice(R-D,D,[e,U]),R=R-D+1):(O.splice(R-D,D,[e,U],[t,Q]),R=R-D+2)}R!==0&&O[R-1][0]===r?(O[R-1][1]+=O[R][1],O.splice(R,1)):R++,Y=0,B=0,U="",Q="";break}}O[O.length-1][1]===""&&O.pop();var H=!1;for(R=1;R<O.length-1;)O[R-1][0]===r&&O[R+1][0]===r&&(O[R][1].substring(O[R][1].length-O[R-1][1].length)===O[R-1][1]?(O[R][1]=O[R-1][1]+O[R][1].substring(0,O[R][1].length-O[R-1][1].length),O[R+1][1]=O[R-1][1]+O[R+1][1],O.splice(R-1,1),H=!0):O[R][1].substring(0,O[R+1][1].length)==O[R+1][1]&&(O[R-1][1]+=O[R+1][1],O[R][1]=O[R][1].substring(O[R+1][1].length)+O[R+1][1],O.splice(R+1,1),H=!0)),R++;H&&S(O,M)}function A(O){return O>=55296&&O<=56319}function E(O){return O>=56320&&O<=57343}function C(O){return E(O.charCodeAt(0))}function I(O){return A(O.charCodeAt(O.length-1))}function P(O){for(var M=[],R=0;R<O.length;R++)O[R][1].length>0&&M.push(O[R]);return M}function F(O,M,R,B){return I(O)||C(B)?null:P([[r,O],[e,M],[t,R],[r,B]])}function k(O,M,R){var B=typeof R=="number"?{index:R,length:0}:R.oldRange,Y=typeof R=="number"?null:R.newRange,U=O.length,Q=M.length;if(B.length===0&&(Y===null||Y.length===0)){var V=B.index,Z=O.slice(0,V),J=O.slice(V),ae=Y?Y.index:null;e:{var D=V+Q-U;if(ae!==null&&ae!==D||D<0||D>Q)break e;var H=M.slice(0,D),K=M.slice(D);if(K!==J)break e;var W=Math.min(V,D),re=Z.slice(0,W),te=H.slice(0,W);if(re!==te)break e;var ie=Z.slice(W),se=H.slice(W);return F(re,ie,se,J)}e:{if(ae!==null&&ae!==V)break e;var le=V,H=M.slice(0,le),K=M.slice(le);if(H!==Z)break e;var Ce=Math.min(U-le,Q-le),De=J.slice(J.length-Ce),Ze=K.slice(K.length-Ce);if(De!==Ze)break e;var ie=J.slice(0,J.length-Ce),se=K.slice(0,K.length-Ce);return F(Z,ie,se,De)}}if(B.length>0&&Y&&Y.length===0)e:{var re=O.slice(0,B.index),De=O.slice(B.index+B.length),W=re.length,Ce=De.length;if(Q<W+Ce)break e;var te=M.slice(0,W),Ze=M.slice(Q-Ce);if(re!==te||De!==Ze)break e;var ie=O.slice(W,U-Ce),se=M.slice(W,Q-Ce);return F(re,ie,se,De)}return null}function z(O,M,R,B){return n(O,M,R,B,!0)}return z.INSERT=t,z.DELETE=e,z.EQUAL=r,QE=z,QE}var J1={exports:{}};J1.exports;var OL;function iG(){return OL||(OL=1,function(e,t){var r=200,n="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",o="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",m="[object GeneratorFunction]",p="[object Map]",g="[object Number]",w="[object Object]",b="[object Promise]",v="[object RegExp]",N="[object Set]",S="[object String]",A="[object Symbol]",E="[object WeakMap]",C="[object ArrayBuffer]",I="[object DataView]",P="[object Float32Array]",F="[object Float64Array]",k="[object Int8Array]",z="[object Int16Array]",O="[object Int32Array]",M="[object Uint8Array]",R="[object Uint8ClampedArray]",B="[object Uint16Array]",Y="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,Q=/\w*$/,V=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,J={};J[i]=J[o]=J[C]=J[I]=J[l]=J[c]=J[P]=J[F]=J[k]=J[z]=J[O]=J[p]=J[g]=J[w]=J[v]=J[N]=J[S]=J[A]=J[M]=J[R]=J[B]=J[Y]=!0,J[d]=J[h]=J[E]=!1;var ae=typeof Pd=="object"&&Pd&&Pd.Object===Object&&Pd,D=typeof self=="object"&&self&&self.Object===Object&&self,H=ae||D||Function("return this")(),K=t&&!t.nodeType&&t,W=K&&!0&&e&&!e.nodeType&&e,re=W&&W.exports===K;function te(ee,ye){return ee.set(ye[0],ye[1]),ee}function ie(ee,ye){return ee.add(ye),ee}function se(ee,ye){for(var Ke=-1,Tt=ee?ee.length:0;++Ke<Tt&&ye(ee[Ke],Ke,ee)!==!1;);return ee}function le(ee,ye){for(var Ke=-1,Tt=ye.length,os=ee.length;++Ke<Tt;)ee[os+Ke]=ye[Ke];return ee}function Ce(ee,ye,Ke,Tt){for(var os=-1,Fr=ee?ee.length:0;++os<Fr;)Ke=ye(Ke,ee[os],os,ee);return Ke}function De(ee,ye){for(var Ke=-1,Tt=Array(ee);++Ke<ee;)Tt[Ke]=ye(Ke);return Tt}function Ze(ee,ye){return ee==null?void 0:ee[ye]}function ke(ee){var ye=!1;if(ee!=null&&typeof ee.toString!="function")try{ye=!!(ee+"")}catch{}return ye}function ce(ee){var ye=-1,Ke=Array(ee.size);return ee.forEach(function(Tt,os){Ke[++ye]=[os,Tt]}),Ke}function Me(ee,ye){return function(Ke){return ee(ye(Ke))}}function be(ee){var ye=-1,Ke=Array(ee.size);return ee.forEach(function(Tt){Ke[++ye]=Tt}),Ke}var ge=Array.prototype,Ye=Function.prototype,ze=Object.prototype,Pe=H["__core-js_shared__"],me=function(){var ee=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""}(),we=Ye.toString,qe=ze.hasOwnProperty,xt=ze.toString,pt=RegExp("^"+we.call(qe).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=re?H.Buffer:void 0,ft=H.Symbol,Mt=H.Uint8Array,Xt=Me(Object.getPrototypeOf,Object),ur=Object.create,es=ze.propertyIsEnumerable,Qr=ge.splice,mt=Object.getOwnPropertySymbols,Er=ct?ct.isBuffer:void 0,tr=Me(Object.keys,Object),fr=Bi(H,"DataView"),Lr=Bi(H,"Map"),Pt=Bi(H,"Promise"),Tr=Bi(H,"Set"),Cr=Bi(H,"WeakMap"),mr=Bi(Object,"create"),ar=Xn(fr),Gt=Xn(Lr),Mr=Xn(Pt),ts=Xn(Tr),ss=Xn(Cr),Xe=ft?ft.prototype:void 0,lt=Xe?Xe.valueOf:void 0;function Ct(ee){var ye=-1,Ke=ee?ee.length:0;for(this.clear();++ye<Ke;){var Tt=ee[ye];this.set(Tt[0],Tt[1])}}function lr(){this.__data__=mr?mr(null):{}}function _r(ee){return this.has(ee)&&delete this.__data__[ee]}function ks(ee){var ye=this.__data__;if(mr){var Ke=ye[ee];return Ke===n?void 0:Ke}return qe.call(ye,ee)?ye[ee]:void 0}function Xr(ee){var ye=this.__data__;return mr?ye[ee]!==void 0:qe.call(ye,ee)}function Ns(ee,ye){var Ke=this.__data__;return Ke[ee]=mr&&ye===void 0?n:ye,this}Ct.prototype.clear=lr,Ct.prototype.delete=_r,Ct.prototype.get=ks,Ct.prototype.has=Xr,Ct.prototype.set=Ns;function fe(ee){var ye=-1,Ke=ee?ee.length:0;for(this.clear();++ye<Ke;){var Tt=ee[ye];this.set(Tt[0],Tt[1])}}function Re(){this.__data__=[]}function Ne(ee){var ye=this.__data__,Ke=as(ye,ee);if(Ke<0)return!1;var Tt=ye.length-1;return Ke==Tt?ye.pop():Qr.call(ye,Ke,1),!0}function Ae(ee){var ye=this.__data__,Ke=as(ye,ee);return Ke<0?void 0:ye[Ke][1]}function Ie(ee){return as(this.__data__,ee)>-1}function Te(ee,ye){var Ke=this.__data__,Tt=as(Ke,ee);return Tt<0?Ke.push([ee,ye]):Ke[Tt][1]=ye,this}fe.prototype.clear=Re,fe.prototype.delete=Ne,fe.prototype.get=Ae,fe.prototype.has=Ie,fe.prototype.set=Te;function st(ee){var ye=-1,Ke=ee?ee.length:0;for(this.clear();++ye<Ke;){var Tt=ee[ye];this.set(Tt[0],Tt[1])}}function Et(){this.__data__={hash:new Ct,map:new(Lr||fe),string:new Ct}}function ht(ee){return vl(this,ee).delete(ee)}function dt(ee){return vl(this,ee).get(ee)}function yt(ee){return vl(this,ee).has(ee)}function Vt(ee,ye){return vl(this,ee).set(ee,ye),this}st.prototype.clear=Et,st.prototype.delete=ht,st.prototype.get=dt,st.prototype.has=yt,st.prototype.set=Vt;function Zt(ee){this.__data__=new fe(ee)}function de(){this.__data__=new fe}function Ve(ee){return this.__data__.delete(ee)}function He(ee){return this.__data__.get(ee)}function kt(ee){return this.__data__.has(ee)}function Kt(ee,ye){var Ke=this.__data__;if(Ke instanceof fe){var Tt=Ke.__data__;if(!Lr||Tt.length<r-1)return Tt.push([ee,ye]),this;Ke=this.__data__=new st(Tt)}return Ke.set(ee,ye),this}Zt.prototype.clear=de,Zt.prototype.delete=Ve,Zt.prototype.get=He,Zt.prototype.has=kt,Zt.prototype.set=Kt;function Jt(ee,ye){var Ke=xc(ee)||gc(ee)?De(ee.length,String):[],Tt=Ke.length,os=!!Tt;for(var Fr in ee)qe.call(ee,Fr)&&!(os&&(Fr=="length"||Gd(Fr,Tt)))&&Ke.push(Fr);return Ke}function Dr(ee,ye,Ke){var Tt=ee[ye];(!(qe.call(ee,ye)&&is(Tt,Ke))||Ke===void 0&&!(ye in ee))&&(ee[ye]=Ke)}function as(ee,ye){for(var Ke=ee.length;Ke--;)if(is(ee[Ke][0],ye))return Ke;return-1}function bs(ee,ye){return ee&&Zc(ye,Ul(ye),ee)}function tn(ee,ye,Ke,Tt,os,Fr,Ps){var js;if(Tt&&(js=Fr?Tt(ee,os,Fr,Ps):Tt(ee)),js!==void 0)return js;if(!ro(ee))return ee;var bn=xc(ee);if(bn){if(js=Zu(ee),!ye)return zd(ee,js)}else{var Ts=xo(ee),ca=Ts==h||Ts==m;if(to(ee))return va(ee,ye);if(Ts==w||Ts==i||ca&&!Fr){if(ke(ee))return Fr?ee:{};if(js=yo(ca?{}:ee),!ye)return Hd(ee,bs(js,ee))}else{if(!J[Ts])return Fr?ee:{};js=Wd(ee,Ts,tn,ye)}}Ps||(Ps=new Zt);var Ua=Ps.get(ee);if(Ua)return Ua;if(Ps.set(ee,js),!bn)var nn=Ke?ei(ee):Ul(ee);return se(nn||ee,function(Ln,G){nn&&(G=Ln,Ln=ee[G]),Dr(js,G,tn(Ln,ye,Ke,Tt,G,ee,Ps))}),js}function xs(ee){return ro(ee)?ur(ee):{}}function _n(ee,ye,Ke){var Tt=ye(ee);return xc(ee)?Tt:le(Tt,Ke(ee))}function kn(ee){return xt.call(ee)}function Bl(ee){if(!ro(ee)||vo(ee))return!1;var ye=ti(ee)||ke(ee)?pt:V;return ye.test(Xn(ee))}function un(ee){if(!Jc(ee))return tr(ee);var ye=[];for(var Ke in Object(ee))qe.call(ee,Ke)&&Ke!="constructor"&&ye.push(Ke);return ye}function va(ee,ye){if(ye)return ee.slice();var Ke=new ee.constructor(ee.length);return ee.copy(Ke),Ke}function mc(ee){var ye=new ee.constructor(ee.byteLength);return new Mt(ye).set(new Mt(ee)),ye}function Mi(ee,ye){var Ke=ye?mc(ee.buffer):ee.buffer;return new ee.constructor(Ke,ee.byteOffset,ee.byteLength)}function go(ee,ye,Ke){var Tt=ye?Ke(ce(ee),!0):ce(ee);return Ce(Tt,te,new ee.constructor)}function Fi(ee){var ye=new ee.constructor(ee.source,Q.exec(ee));return ye.lastIndex=ee.lastIndex,ye}function zo(ee,ye,Ke){var Tt=ye?Ke(be(ee),!0):be(ee);return Ce(Tt,ie,new ee.constructor)}function Qn(ee){return lt?Object(lt.call(ee)):{}}function Ba(ee,ye){var Ke=ye?mc(ee.buffer):ee.buffer;return new ee.constructor(Ke,ee.byteOffset,ee.length)}function zd(ee,ye){var Ke=-1,Tt=ee.length;for(ye||(ye=Array(Tt));++Ke<Tt;)ye[Ke]=ee[Ke];return ye}function Zc(ee,ye,Ke,Tt){Ke||(Ke={});for(var os=-1,Fr=ye.length;++os<Fr;){var Ps=ye[os],js=void 0;Dr(Ke,Ps,js===void 0?ee[Ps]:js)}return Ke}function Hd(ee,ye){return Zc(ee,la(ee),ye)}function ei(ee){return _n(ee,Ul,la)}function vl(ee,ye){var Ke=ee.__data__;return pc(ye)?Ke[typeof ye=="string"?"string":"hash"]:Ke.map}function Bi(ee,ye){var Ke=Ze(ee,ye);return Bl(Ke)?Ke:void 0}var la=mt?Me(mt,Object):Wo,xo=kn;(fr&&xo(new fr(new ArrayBuffer(1)))!=I||Lr&&xo(new Lr)!=p||Pt&&xo(Pt.resolve())!=b||Tr&&xo(new Tr)!=N||Cr&&xo(new Cr)!=E)&&(xo=function(ee){var ye=xt.call(ee),Ke=ye==w?ee.constructor:void 0,Tt=Ke?Xn(Ke):void 0;if(Tt)switch(Tt){case ar:return I;case Gt:return p;case Mr:return b;case ts:return N;case ss:return E}return ye});function Zu(ee){var ye=ee.length,Ke=ee.constructor(ye);return ye&&typeof ee[0]=="string"&&qe.call(ee,"index")&&(Ke.index=ee.index,Ke.input=ee.input),Ke}function yo(ee){return typeof ee.constructor=="function"&&!Jc(ee)?xs(Xt(ee)):{}}function Wd(ee,ye,Ke,Tt){var os=ee.constructor;switch(ye){case C:return mc(ee);case l:case c:return new os(+ee);case I:return Mi(ee,Tt);case P:case F:case k:case z:case O:case M:case R:case B:case Y:return Ba(ee,Tt);case p:return go(ee,Tt,Ke);case g:case S:return new os(ee);case v:return Fi(ee);case N:return zo(ee,Tt,Ke);case A:return Qn(ee)}}function Gd(ee,ye){return ye=ye??a,!!ye&&(typeof ee=="number"||Z.test(ee))&&ee>-1&&ee%1==0&&ee<ye}function pc(ee){var ye=typeof ee;return ye=="string"||ye=="number"||ye=="symbol"||ye=="boolean"?ee!=="__proto__":ee===null}function vo(ee){return!!me&&me in ee}function Jc(ee){var ye=ee&&ee.constructor,Ke=typeof ye=="function"&&ye.prototype||ze;return ee===Ke}function Xn(ee){if(ee!=null){try{return we.call(ee)}catch{}try{return ee+""}catch{}}return""}function bo(ee){return tn(ee,!0,!0)}function is(ee,ye){return ee===ye||ee!==ee&&ye!==ye}function gc(ee){return vc(ee)&&qe.call(ee,"callee")&&(!es.call(ee,"callee")||xt.call(ee)==i)}var xc=Array.isArray;function yc(ee){return ee!=null&&wo(ee.length)&&!ti(ee)}function vc(ee){return Ho(ee)&&yc(ee)}var to=Er||bl;function ti(ee){var ye=ro(ee)?xt.call(ee):"";return ye==h||ye==m}function wo(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=a}function ro(ee){var ye=typeof ee;return!!ee&&(ye=="object"||ye=="function")}function Ho(ee){return!!ee&&typeof ee=="object"}function Ul(ee){return yc(ee)?Jt(ee):un(ee)}function Wo(){return[]}function bl(){return!1}e.exports=bo}(J1,J1.exports)),J1.exports}var eb={exports:{}};eb.exports;var RL;function oG(){return RL||(RL=1,function(e,t){var r=200,n="__lodash_hash_undefined__",a=1,i=2,o=9007199254740991,l="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",h="[object Boolean]",m="[object Date]",p="[object Error]",g="[object Function]",w="[object GeneratorFunction]",b="[object Map]",v="[object Number]",N="[object Null]",S="[object Object]",A="[object Promise]",E="[object Proxy]",C="[object RegExp]",I="[object Set]",P="[object String]",F="[object Symbol]",k="[object Undefined]",z="[object WeakMap]",O="[object ArrayBuffer]",M="[object DataView]",R="[object Float32Array]",B="[object Float64Array]",Y="[object Int8Array]",U="[object Int16Array]",Q="[object Int32Array]",V="[object Uint8Array]",Z="[object Uint8ClampedArray]",J="[object Uint16Array]",ae="[object Uint32Array]",D=/[\\^$.*+?()[\]{}|]/g,H=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,W={};W[R]=W[B]=W[Y]=W[U]=W[Q]=W[V]=W[Z]=W[J]=W[ae]=!0,W[l]=W[c]=W[O]=W[h]=W[M]=W[m]=W[p]=W[g]=W[b]=W[v]=W[S]=W[C]=W[I]=W[P]=W[z]=!1;var re=typeof Pd=="object"&&Pd&&Pd.Object===Object&&Pd,te=typeof self=="object"&&self&&self.Object===Object&&self,ie=re||te||Function("return this")(),se=t&&!t.nodeType&&t,le=se&&!0&&e&&!e.nodeType&&e,Ce=le&&le.exports===se,De=Ce&&re.process,Ze=function(){try{return De&&De.binding&&De.binding("util")}catch{}}(),ke=Ze&&Ze.isTypedArray;function ce(ee,ye){for(var Ke=-1,Tt=ee==null?0:ee.length,os=0,Fr=[];++Ke<Tt;){var Ps=ee[Ke];ye(Ps,Ke,ee)&&(Fr[os++]=Ps)}return Fr}function Me(ee,ye){for(var Ke=-1,Tt=ye.length,os=ee.length;++Ke<Tt;)ee[os+Ke]=ye[Ke];return ee}function be(ee,ye){for(var Ke=-1,Tt=ee==null?0:ee.length;++Ke<Tt;)if(ye(ee[Ke],Ke,ee))return!0;return!1}function ge(ee,ye){for(var Ke=-1,Tt=Array(ee);++Ke<ee;)Tt[Ke]=ye(Ke);return Tt}function Ye(ee){return function(ye){return ee(ye)}}function ze(ee,ye){return ee.has(ye)}function Pe(ee,ye){return ee==null?void 0:ee[ye]}function me(ee){var ye=-1,Ke=Array(ee.size);return ee.forEach(function(Tt,os){Ke[++ye]=[os,Tt]}),Ke}function we(ee,ye){return function(Ke){return ee(ye(Ke))}}function qe(ee){var ye=-1,Ke=Array(ee.size);return ee.forEach(function(Tt){Ke[++ye]=Tt}),Ke}var xt=Array.prototype,pt=Function.prototype,ct=Object.prototype,ft=ie["__core-js_shared__"],Mt=pt.toString,Xt=ct.hasOwnProperty,ur=function(){var ee=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""}(),es=ct.toString,Qr=RegExp("^"+Mt.call(Xt).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=Ce?ie.Buffer:void 0,Er=ie.Symbol,tr=ie.Uint8Array,fr=ct.propertyIsEnumerable,Lr=xt.splice,Pt=Er?Er.toStringTag:void 0,Tr=Object.getOwnPropertySymbols,Cr=mt?mt.isBuffer:void 0,mr=we(Object.keys,Object),ar=la(ie,"DataView"),Gt=la(ie,"Map"),Mr=la(ie,"Promise"),ts=la(ie,"Set"),ss=la(ie,"WeakMap"),Xe=la(Object,"create"),lt=Xn(ar),Ct=Xn(Gt),lr=Xn(Mr),_r=Xn(ts),ks=Xn(ss),Xr=Er?Er.prototype:void 0,Ns=Xr?Xr.valueOf:void 0;function fe(ee){var ye=-1,Ke=ee==null?0:ee.length;for(this.clear();++ye<Ke;){var Tt=ee[ye];this.set(Tt[0],Tt[1])}}function Re(){this.__data__=Xe?Xe(null):{},this.size=0}function Ne(ee){var ye=this.has(ee)&&delete this.__data__[ee];return this.size-=ye?1:0,ye}function Ae(ee){var ye=this.__data__;if(Xe){var Ke=ye[ee];return Ke===n?void 0:Ke}return Xt.call(ye,ee)?ye[ee]:void 0}function Ie(ee){var ye=this.__data__;return Xe?ye[ee]!==void 0:Xt.call(ye,ee)}function Te(ee,ye){var Ke=this.__data__;return this.size+=this.has(ee)?0:1,Ke[ee]=Xe&&ye===void 0?n:ye,this}fe.prototype.clear=Re,fe.prototype.delete=Ne,fe.prototype.get=Ae,fe.prototype.has=Ie,fe.prototype.set=Te;function st(ee){var ye=-1,Ke=ee==null?0:ee.length;for(this.clear();++ye<Ke;){var Tt=ee[ye];this.set(Tt[0],Tt[1])}}function Et(){this.__data__=[],this.size=0}function ht(ee){var ye=this.__data__,Ke=va(ye,ee);if(Ke<0)return!1;var Tt=ye.length-1;return Ke==Tt?ye.pop():Lr.call(ye,Ke,1),--this.size,!0}function dt(ee){var ye=this.__data__,Ke=va(ye,ee);return Ke<0?void 0:ye[Ke][1]}function yt(ee){return va(this.__data__,ee)>-1}function Vt(ee,ye){var Ke=this.__data__,Tt=va(Ke,ee);return Tt<0?(++this.size,Ke.push([ee,ye])):Ke[Tt][1]=ye,this}st.prototype.clear=Et,st.prototype.delete=ht,st.prototype.get=dt,st.prototype.has=yt,st.prototype.set=Vt;function Zt(ee){var ye=-1,Ke=ee==null?0:ee.length;for(this.clear();++ye<Ke;){var Tt=ee[ye];this.set(Tt[0],Tt[1])}}function de(){this.size=0,this.__data__={hash:new fe,map:new(Gt||st),string:new fe}}function Ve(ee){var ye=Bi(this,ee).delete(ee);return this.size-=ye?1:0,ye}function He(ee){return Bi(this,ee).get(ee)}function kt(ee){return Bi(this,ee).has(ee)}function Kt(ee,ye){var Ke=Bi(this,ee),Tt=Ke.size;return Ke.set(ee,ye),this.size+=Ke.size==Tt?0:1,this}Zt.prototype.clear=de,Zt.prototype.delete=Ve,Zt.prototype.get=He,Zt.prototype.has=kt,Zt.prototype.set=Kt;function Jt(ee){var ye=-1,Ke=ee==null?0:ee.length;for(this.__data__=new Zt;++ye<Ke;)this.add(ee[ye])}function Dr(ee){return this.__data__.set(ee,n),this}function as(ee){return this.__data__.has(ee)}Jt.prototype.add=Jt.prototype.push=Dr,Jt.prototype.has=as;function bs(ee){var ye=this.__data__=new st(ee);this.size=ye.size}function tn(){this.__data__=new st,this.size=0}function xs(ee){var ye=this.__data__,Ke=ye.delete(ee);return this.size=ye.size,Ke}function _n(ee){return this.__data__.get(ee)}function kn(ee){return this.__data__.has(ee)}function Bl(ee,ye){var Ke=this.__data__;if(Ke instanceof st){var Tt=Ke.__data__;if(!Gt||Tt.length<r-1)return Tt.push([ee,ye]),this.size=++Ke.size,this;Ke=this.__data__=new Zt(Tt)}return Ke.set(ee,ye),this.size=Ke.size,this}bs.prototype.clear=tn,bs.prototype.delete=xs,bs.prototype.get=_n,bs.prototype.has=kn,bs.prototype.set=Bl;function un(ee,ye){var Ke=gc(ee),Tt=!Ke&&is(ee),os=!Ke&&!Tt&&yc(ee),Fr=!Ke&&!Tt&&!os&&Ho(ee),Ps=Ke||Tt||os||Fr,js=Ps?ge(ee.length,String):[],bn=js.length;for(var Ts in ee)Xt.call(ee,Ts)&&!(Ps&&(Ts=="length"||os&&(Ts=="offset"||Ts=="parent")||Fr&&(Ts=="buffer"||Ts=="byteLength"||Ts=="byteOffset")||Wd(Ts,bn)))&&js.push(Ts);return js}function va(ee,ye){for(var Ke=ee.length;Ke--;)if(bo(ee[Ke][0],ye))return Ke;return-1}function mc(ee,ye,Ke){var Tt=ye(ee);return gc(ee)?Tt:Me(Tt,Ke(ee))}function Mi(ee){return ee==null?ee===void 0?k:N:Pt&&Pt in Object(ee)?xo(ee):Jc(ee)}function go(ee){return ro(ee)&&Mi(ee)==l}function Fi(ee,ye,Ke,Tt,os){return ee===ye?!0:ee==null||ye==null||!ro(ee)&&!ro(ye)?ee!==ee&&ye!==ye:zo(ee,ye,Ke,Tt,Fi,os)}function zo(ee,ye,Ke,Tt,os,Fr){var Ps=gc(ee),js=gc(ye),bn=Ps?c:yo(ee),Ts=js?c:yo(ye);bn=bn==l?S:bn,Ts=Ts==l?S:Ts;var ca=bn==S,Ua=Ts==S,nn=bn==Ts;if(nn&&yc(ee)){if(!yc(ye))return!1;Ps=!0,ca=!1}if(nn&&!ca)return Fr||(Fr=new bs),Ps||Ho(ee)?Zc(ee,ye,Ke,Tt,os,Fr):Hd(ee,ye,bn,Ke,Tt,os,Fr);if(!(Ke&a)){var Ln=ca&&Xt.call(ee,"__wrapped__"),G=Ua&&Xt.call(ye,"__wrapped__");if(Ln||G){var ue=Ln?ee.value():ee,Le=G?ye.value():ye;return Fr||(Fr=new bs),os(ue,Le,Ke,Tt,Fr)}}return nn?(Fr||(Fr=new bs),ei(ee,ye,Ke,Tt,os,Fr)):!1}function Qn(ee){if(!wo(ee)||pc(ee))return!1;var ye=to(ee)?Qr:H;return ye.test(Xn(ee))}function Ba(ee){return ro(ee)&&ti(ee.length)&&!!W[Mi(ee)]}function zd(ee){if(!vo(ee))return mr(ee);var ye=[];for(var Ke in Object(ee))Xt.call(ee,Ke)&&Ke!="constructor"&&ye.push(Ke);return ye}function Zc(ee,ye,Ke,Tt,os,Fr){var Ps=Ke&a,js=ee.length,bn=ye.length;if(js!=bn&&!(Ps&&bn>js))return!1;var Ts=Fr.get(ee);if(Ts&&Fr.get(ye))return Ts==ye;var ca=-1,Ua=!0,nn=Ke&i?new Jt:void 0;for(Fr.set(ee,ye),Fr.set(ye,ee);++ca<js;){var Ln=ee[ca],G=ye[ca];if(Tt)var ue=Ps?Tt(G,Ln,ca,ye,ee,Fr):Tt(Ln,G,ca,ee,ye,Fr);if(ue!==void 0){if(ue)continue;Ua=!1;break}if(nn){if(!be(ye,function(Le,Qe){if(!ze(nn,Qe)&&(Ln===Le||os(Ln,Le,Ke,Tt,Fr)))return nn.push(Qe)})){Ua=!1;break}}else if(!(Ln===G||os(Ln,G,Ke,Tt,Fr))){Ua=!1;break}}return Fr.delete(ee),Fr.delete(ye),Ua}function Hd(ee,ye,Ke,Tt,os,Fr,Ps){switch(Ke){case M:if(ee.byteLength!=ye.byteLength||ee.byteOffset!=ye.byteOffset)return!1;ee=ee.buffer,ye=ye.buffer;case O:return!(ee.byteLength!=ye.byteLength||!Fr(new tr(ee),new tr(ye)));case h:case m:case v:return bo(+ee,+ye);case p:return ee.name==ye.name&&ee.message==ye.message;case C:case P:return ee==ye+"";case b:var js=me;case I:var bn=Tt&a;if(js||(js=qe),ee.size!=ye.size&&!bn)return!1;var Ts=Ps.get(ee);if(Ts)return Ts==ye;Tt|=i,Ps.set(ee,ye);var ca=Zc(js(ee),js(ye),Tt,os,Fr,Ps);return Ps.delete(ee),ca;case F:if(Ns)return Ns.call(ee)==Ns.call(ye)}return!1}function ei(ee,ye,Ke,Tt,os,Fr){var Ps=Ke&a,js=vl(ee),bn=js.length,Ts=vl(ye),ca=Ts.length;if(bn!=ca&&!Ps)return!1;for(var Ua=bn;Ua--;){var nn=js[Ua];if(!(Ps?nn in ye:Xt.call(ye,nn)))return!1}var Ln=Fr.get(ee);if(Ln&&Fr.get(ye))return Ln==ye;var G=!0;Fr.set(ee,ye),Fr.set(ye,ee);for(var ue=Ps;++Ua<bn;){nn=js[Ua];var Le=ee[nn],Qe=ye[nn];if(Tt)var it=Ps?Tt(Qe,Le,nn,ye,ee,Fr):Tt(Le,Qe,nn,ee,ye,Fr);if(!(it===void 0?Le===Qe||os(Le,Qe,Ke,Tt,Fr):it)){G=!1;break}ue||(ue=nn=="constructor")}if(G&&!ue){var Rt=ee.constructor,Ht=ye.constructor;Rt!=Ht&&"constructor"in ee&&"constructor"in ye&&!(typeof Rt=="function"&&Rt instanceof Rt&&typeof Ht=="function"&&Ht instanceof Ht)&&(G=!1)}return Fr.delete(ee),Fr.delete(ye),G}function vl(ee){return mc(ee,Ul,Zu)}function Bi(ee,ye){var Ke=ee.__data__;return Gd(ye)?Ke[typeof ye=="string"?"string":"hash"]:Ke.map}function la(ee,ye){var Ke=Pe(ee,ye);return Qn(Ke)?Ke:void 0}function xo(ee){var ye=Xt.call(ee,Pt),Ke=ee[Pt];try{ee[Pt]=void 0;var Tt=!0}catch{}var os=es.call(ee);return Tt&&(ye?ee[Pt]=Ke:delete ee[Pt]),os}var Zu=Tr?function(ee){return ee==null?[]:(ee=Object(ee),ce(Tr(ee),function(ye){return fr.call(ee,ye)}))}:Wo,yo=Mi;(ar&&yo(new ar(new ArrayBuffer(1)))!=M||Gt&&yo(new Gt)!=b||Mr&&yo(Mr.resolve())!=A||ts&&yo(new ts)!=I||ss&&yo(new ss)!=z)&&(yo=function(ee){var ye=Mi(ee),Ke=ye==S?ee.constructor:void 0,Tt=Ke?Xn(Ke):"";if(Tt)switch(Tt){case lt:return M;case Ct:return b;case lr:return A;case _r:return I;case ks:return z}return ye});function Wd(ee,ye){return ye=ye??o,!!ye&&(typeof ee=="number"||K.test(ee))&&ee>-1&&ee%1==0&&ee<ye}function Gd(ee){var ye=typeof ee;return ye=="string"||ye=="number"||ye=="symbol"||ye=="boolean"?ee!=="__proto__":ee===null}function pc(ee){return!!ur&&ur in ee}function vo(ee){var ye=ee&&ee.constructor,Ke=typeof ye=="function"&&ye.prototype||ct;return ee===Ke}function Jc(ee){return es.call(ee)}function Xn(ee){if(ee!=null){try{return Mt.call(ee)}catch{}try{return ee+""}catch{}}return""}function bo(ee,ye){return ee===ye||ee!==ee&&ye!==ye}var is=go(function(){return arguments}())?go:function(ee){return ro(ee)&&Xt.call(ee,"callee")&&!fr.call(ee,"callee")},gc=Array.isArray;function xc(ee){return ee!=null&&ti(ee.length)&&!to(ee)}var yc=Cr||bl;function vc(ee,ye){return Fi(ee,ye)}function to(ee){if(!wo(ee))return!1;var ye=Mi(ee);return ye==g||ye==w||ye==d||ye==E}function ti(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=o}function wo(ee){var ye=typeof ee;return ee!=null&&(ye=="object"||ye=="function")}function ro(ee){return ee!=null&&typeof ee=="object"}var Ho=ke?Ye(ke):Ba;function Ul(ee){return xc(ee)?un(ee):zd(ee)}function Wo(){return[]}function bl(){return!1}e.exports=vc}(eb,eb.exports)),eb.exports}var MN={},IL;function IEe(){if(IL)return MN;IL=1,Object.defineProperty(MN,"__esModule",{value:!0});const e=iG(),t=oG();var r;return function(n){function a(c={},d={},h=!1){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});let m=e(d);h||(m=Object.keys(m).reduce((p,g)=>(m[g]!=null&&(p[g]=m[g]),p),{}));for(const p in c)c[p]!==void 0&&d[p]===void 0&&(m[p]=c[p]);return Object.keys(m).length>0?m:void 0}n.compose=a;function i(c={},d={}){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});const h=Object.keys(c).concat(Object.keys(d)).reduce((m,p)=>(t(c[p],d[p])||(m[p]=d[p]===void 0?null:d[p]),m),{});return Object.keys(h).length>0?h:void 0}n.diff=i;function o(c={},d={}){c=c||{};const h=Object.keys(d).reduce((m,p)=>(d[p]!==c[p]&&c[p]!==void 0&&(m[p]=d[p]),m),{});return Object.keys(c).reduce((m,p)=>(c[p]!==d[p]&&d[p]===void 0&&(m[p]=null),m),h)}n.invert=o;function l(c,d,h=!1){if(typeof c!="object")return d;if(typeof d!="object")return;if(!h)return d;const m=Object.keys(d).reduce((p,g)=>(c[g]===void 0&&(p[g]=d[g]),p),{});return Object.keys(m).length>0?m:void 0}n.transform=l}(r||(r={})),MN.default=r,MN}var FN={},LL;function lG(){if(LL)return FN;LL=1,Object.defineProperty(FN,"__esModule",{value:!0});var e;return function(t){function r(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=r}(e||(e={})),FN.default=e,FN}var BN={},ML;function LEe(){if(ML)return BN;ML=1,Object.defineProperty(BN,"__esModule",{value:!0});const e=lG();class t{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const a=this.ops[this.index];if(a){const i=this.offset,o=e.default.length(a);if(n>=o-i?(n=o-i,this.index+=1,this.offset=0):this.offset+=n,typeof a.delete=="number")return{delete:n};{const l={};return a.attributes&&(l.attributes=a.attributes),typeof a.retain=="number"?l.retain=n:typeof a.retain=="object"&&a.retain!==null?l.retain=a.retain:typeof a.insert=="string"?l.insert=a.insert.substr(i,n):l.insert=a.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,a=this.index,i=this.next(),o=this.ops.slice(this.index);return this.offset=n,this.index=a,[i].concat(o)}}else return[]}}return BN.default=t,BN}var FL;function MEe(){return FL||(FL=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const r=REe(),n=iG(),a=oG(),i=IEe();t.AttributeMap=i.default;const o=lG();t.Op=o.default;const l=LEe();t.OpIterator=l.default;const c="\0",d=(m,p)=>{if(typeof m!="object"||m===null)throw new Error(`cannot retain a ${typeof m}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const g=Object.keys(m)[0];if(!g||g!==Object.keys(p)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(p)[0]}`);return[g,m[g],p[g]]};class h{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,g){this.handlers[p]=g}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const g=this.handlers[p];if(!g)throw new Error(`no handlers for embed type "${p}"`);return g}insert(p,g){const w={};return typeof p=="string"&&p.length===0?this:(w.insert=p,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(w.attributes=g),this.push(w))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,g){if(typeof p=="number"&&p<=0)return this;const w={retain:p};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(w.attributes=g),this.push(w)}push(p){let g=this.ops.length,w=this.ops[g-1];if(p=n(p),typeof w=="object"){if(typeof p.delete=="number"&&typeof w.delete=="number")return this.ops[g-1]={delete:w.delete+p.delete},this;if(typeof w.delete=="number"&&p.insert!=null&&(g-=1,w=this.ops[g-1],typeof w!="object"))return this.ops.unshift(p),this;if(a(p.attributes,w.attributes)){if(typeof p.insert=="string"&&typeof w.insert=="string")return this.ops[g-1]={insert:w.insert+p.insert},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof w.retain=="number")return this.ops[g-1]={retain:w.retain+p.retain},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this}}return g===this.ops.length?this.ops.push(p):this.ops.splice(g,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const g=[],w=[];return this.forEach(b=>{(p(b)?g:w).push(b)}),[g,w]}reduce(p,g){return this.ops.reduce(p,g)}changeLength(){return this.reduce((p,g)=>g.insert?p+o.default.length(g):g.delete?p-g.delete:p,0)}length(){return this.reduce((p,g)=>p+o.default.length(g),0)}slice(p=0,g=1/0){const w=[],b=new l.default(this.ops);let v=0;for(;v<g&&b.hasNext();){let N;v<p?N=b.next(p-v):(N=b.next(g-v),w.push(N)),v+=o.default.length(N)}return new h(w)}compose(p){const g=new l.default(this.ops),w=new l.default(p.ops),b=[],v=w.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){let S=v.retain;for(;g.peekType()==="insert"&&g.peekLength()<=S;)S-=g.peekLength(),b.push(g.next());v.retain-S>0&&w.next(v.retain-S)}const N=new h(b);for(;g.hasNext()||w.hasNext();)if(w.peekType()==="insert")N.push(w.next());else if(g.peekType()==="delete")N.push(g.next());else{const S=Math.min(g.peekLength(),w.peekLength()),A=g.next(S),E=w.next(S);if(E.retain){const C={};if(typeof A.retain=="number")C.retain=typeof E.retain=="number"?S:E.retain;else if(typeof E.retain=="number")A.retain==null?C.insert=A.insert:C.retain=A.retain;else{const P=A.retain==null?"insert":"retain",[F,k,z]=d(A[P],E.retain),O=h.getHandler(F);C[P]={[F]:O.compose(k,z,P==="retain")}}const I=i.default.compose(A.attributes,E.attributes,typeof A.retain=="number");if(I&&(C.attributes=I),N.push(C),!w.hasNext()&&a(N.ops[N.ops.length-1],C)){const P=new h(g.rest());return N.concat(P).chop()}}else typeof E.delete=="number"&&(typeof A.retain=="number"||typeof A.retain=="object"&&A.retain!==null)&&N.push(E)}return N.chop()}concat(p){const g=new h(this.ops.slice());return p.ops.length>0&&(g.push(p.ops[0]),g.ops=g.ops.concat(p.ops.slice(1))),g}diff(p,g){if(this.ops===p.ops)return new h;const w=[this,p].map(A=>A.map(E=>{if(E.insert!=null)return typeof E.insert=="string"?E.insert:c;const C=A===p?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")),b=new h,v=r(w[0],w[1],g,!0),N=new l.default(this.ops),S=new l.default(p.ops);return v.forEach(A=>{let E=A[1].length;for(;E>0;){let C=0;switch(A[0]){case r.INSERT:C=Math.min(S.peekLength(),E),b.push(S.next(C));break;case r.DELETE:C=Math.min(E,N.peekLength()),N.next(C),b.delete(C);break;case r.EQUAL:C=Math.min(N.peekLength(),S.peekLength(),E);const I=N.next(C),P=S.next(C);a(I.insert,P.insert)?b.retain(C,i.default.diff(I.attributes,P.attributes)):b.push(P).delete(C);break}E-=C}}),b.chop()}eachLine(p,g=`
`){const w=new l.default(this.ops);let b=new h,v=0;for(;w.hasNext();){if(w.peekType()!=="insert")return;const N=w.peek(),S=o.default.length(N)-w.peekLength(),A=typeof N.insert=="string"?N.insert.indexOf(g,S)-S:-1;if(A<0)b.push(w.next());else if(A>0)b.push(w.next(A));else{if(p(b,w.next(1).attributes||{},v)===!1)return;v+=1,b=new h}}b.length()>0&&p(b,{},v)}invert(p){const g=new h;return this.reduce((w,b)=>{if(b.insert)g.delete(o.default.length(b));else{if(typeof b.retain=="number"&&b.attributes==null)return g.retain(b.retain),w+b.retain;if(b.delete||typeof b.retain=="number"){const v=b.delete||b.retain;return p.slice(w,w+v).forEach(S=>{b.delete?g.push(S):b.retain&&b.attributes&&g.retain(o.default.length(S),i.default.invert(b.attributes,S.attributes))}),w+v}else if(typeof b.retain=="object"&&b.retain!==null){const v=p.slice(w,w+1),N=new l.default(v.ops).next(),[S,A,E]=d(b.retain,N.insert),C=h.getHandler(S);return g.retain({[S]:C.invert(A,E)},i.default.invert(b.attributes,N.attributes)),w+1}}return w},0),g.chop()}transform(p,g=!1){if(g=!!g,typeof p=="number")return this.transformPosition(p,g);const w=p,b=new l.default(this.ops),v=new l.default(w.ops),N=new h;for(;b.hasNext()||v.hasNext();)if(b.peekType()==="insert"&&(g||v.peekType()!=="insert"))N.retain(o.default.length(b.next()));else if(v.peekType()==="insert")N.push(v.next());else{const S=Math.min(b.peekLength(),v.peekLength()),A=b.next(S),E=v.next(S);if(A.delete)continue;if(E.delete)N.push(E);else{const C=A.retain,I=E.retain;let P=typeof I=="object"&&I!==null?I:S;if(typeof C=="object"&&C!==null&&typeof I=="object"&&I!==null){const F=Object.keys(C)[0];if(F===Object.keys(I)[0]){const k=h.getHandler(F);k&&(P={[F]:k.transform(C[F],I[F],g)})}}N.retain(P,i.default.transform(A.attributes,E.attributes,g))}}return N.chop()}transformPosition(p,g=!1){g=!!g;const w=new l.default(this.ops);let b=0;for(;w.hasNext()&&b<=p;){const v=w.peekLength(),N=w.peekType();if(w.next(),N==="delete"){p-=Math.min(v,p-b);continue}else N==="insert"&&(b<p||!g)&&(p+=v);b+=v}return p}}h.Op=o.default,h.OpIterator=l.default,h.AttributeMap=i.default,h.handlers={},t.default=h,e.exports=h,e.exports.default=h}(LN,LN.exports)),LN.exports}var Od=MEe();const Kr=z5(Od);class Yu extends Xc{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Yu.blotName="break";Yu.tagName="BR";let Uu=class extends N5{};const FEe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function KS(e){return e.replace(/[&<>"']/g,t=>FEe[t])}const wh=class wh extends Q6{static compare(t,r){const n=wh.order.indexOf(t),a=wh.order.indexOf(r);return n>=0||a>=0?n-a:t===r?0:t<r?-1:1}formatAt(t,r,n,a){if(wh.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Jr.BLOT)){const i=this.isolate(t,r);a&&i.wrap(n,a)}else super.formatAt(t,r,n,a)}optimize(t){if(super.optimize(t),this.parent instanceof wh&&wh.compare(this.statics.blotName,this.parent.statics.blotName)>0){const r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}};sr(wh,"allowedChildren",[wh,Yu,Xc,Uu]),sr(wh,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let zh=wh;const BL=1;class Uo extends o2{constructor(){super(...arguments);sr(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=cG(this)),this.cache.delta}deleteAt(r,n){super.deleteAt(r,n),this.cache={}}formatAt(r,n,a,i){n<=0||(this.scroll.query(a,Jr.BLOCK)?r+n===this.length()&&this.format(a,i):super.formatAt(r,Math.min(n,this.length()-r-1),a,i),this.cache={})}insertAt(r,n,a){if(a!=null){super.insertAt(r,n,a),this.cache={};return}if(n.length===0)return;const i=n.split(`
`),o=i.shift();o.length>0&&(r<this.length()-1||this.children.tail==null?super.insertAt(Math.min(r,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;i.reduce((c,d)=>(l=l.split(c,!0),l.insertAt(0,d),d.length),r+o.length)}insertBefore(r,n){const{head:a}=this.children;super.insertBefore(r,n),a instanceof Yu&&a.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+BL),this.cache.length}moveChildren(r,n){super.moveChildren(r,n),this.cache={}}optimize(r){super.optimize(r),this.cache={}}path(r){return super.path(r,!0)}removeChild(r){super.removeChild(r),this.cache={}}split(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(r===0||r>=this.length()-BL)){const i=this.clone();return r===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const a=super.split(r,n);return this.cache={},a}}Uo.blotName="block";Uo.tagName="P";Uo.defaultChild=Yu;Uo.allowedChildren=[Yu,zh,Xc,Uu];class Dd extends Xc{attach(){super.attach(),this.attributes=new GS(this.domNode)}delta(){return new Kr().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,r){const n=this.scroll.query(t,Jr.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,r)}formatAt(t,r,n,a){this.format(n,a)}insertAt(t,r,n){if(n!=null){super.insertAt(t,r,n);return}const a=r.split(`
`),i=a.pop(),o=a.map(c=>{const d=this.scroll.create(Uo.blotName);return d.insertAt(0,c),d}),l=this.split(t);o.forEach(c=>{this.parent.insertBefore(c,l)}),i&&this.parent.insertBefore(this.scroll.create("text",i),l)}}Dd.scope=Jr.BLOCK_BLOT;function cG(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(cl).reduce((r,n)=>n.length()===0?r:r.insert(n.value(),_d(n,{},t)),new Kr).insert(`
`,_d(e))}function _d(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(t={...t,...e.formats()},r&&delete t["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?t:_d(e.parent,t,r)}const Nd=class Nd extends Xc{static value(){}constructor(t,r,n){super(t,r),this.selection=n,this.textNode=document.createTextNode(Nd.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,r){if(this.savedLength!==0){super.format(t,r);return}let n=this,a=0;for(;n!=null&&n.statics.scope!==Jr.BLOCK_BLOT;)a+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=Nd.CONTENTS.length,n.optimize(),n.formatAt(a,Nd.CONTENTS.length,t,r),this.savedLength=0)}index(t,r){return t===this.textNode?0:super.index(t,r)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const r=this.prev instanceof Uu?this.prev:null,n=r?r.length():0,a=this.next instanceof Uu?this.next:null,i=a?a.text:"",{textNode:o}=this,l=o.data.split(Nd.CONTENTS).join("");o.data=Nd.CONTENTS;let c;if(r)c=r,(l||a)&&(r.insertAt(r.length(),l+i),a&&a.remove());else if(a)c=a,a.insertAt(0,l);else{const d=document.createTextNode(l);c=this.scroll.create(d),this.parent.insertBefore(c,this)}if(this.remove(),t){const d=(p,g)=>r&&p===r.domNode?g:p===o?n+g-1:a&&p===a.domNode?n+l.length+g:null,h=d(t.start.node,t.start.offset),m=d(t.end.node,t.end.offset);if(h!==null&&m!==null)return{startNode:c.domNode,startOffset:h,endNode:c.domNode,endOffset:m}}return null}update(t,r){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(r.range=n)}}optimize(t){super.optimize(t);let{parent:r}=this;for(;r;){if(r.domNode.tagName==="A"){this.savedLength=Nd.CONTENTS.length,r.isolate(this.offset(r),this.length()).unwrap(),this.savedLength=0;break}r=r.parent}}value(){return""}};sr(Nd,"blotName","cursor"),sr(Nd,"className","ql-cursor"),sr(Nd,"tagName","span"),sr(Nd,"CONTENTS","\uFEFF");let Jy=Nd;var XE={exports:{}},UL;function BEe(){return UL||(UL=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function i(c,d,h,m,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new a(h,m||c,p),w=r?r+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],g]:c._events[w].push(g):(c._events[w]=g,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,w=new Array(g);p<g;p++)w[p]=m[p].fn;return w},l.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,p,g,w){var b=r?r+d:d;if(!this._events[b])return!1;var v=this._events[b],N=arguments.length,S,A;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,m),!0;case 4:return v.fn.call(v.context,h,m,p),!0;case 5:return v.fn.call(v.context,h,m,p,g),!0;case 6:return v.fn.call(v.context,h,m,p,g,w),!0}for(A=1,S=new Array(N-1);A<N;A++)S[A-1]=arguments[A];v.fn.apply(v.context,S)}else{var E=v.length,C;for(A=0;A<E;A++)switch(v[A].once&&this.removeListener(d,v[A].fn,void 0,!0),N){case 1:v[A].fn.call(v[A].context);break;case 2:v[A].fn.call(v[A].context,h);break;case 3:v[A].fn.call(v[A].context,h,m);break;case 4:v[A].fn.call(v[A].context,h,m,p);break;default:if(!S)for(C=1,S=new Array(N-1);C<N;C++)S[C-1]=arguments[C];v[A].fn.apply(v[A].context,S)}}return!0},l.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,p){var g=r?r+d:d;if(!this._events[g])return this;if(!h)return o(this,g),this;var w=this._events[g];if(w.fn)w.fn===h&&(!p||w.once)&&(!m||w.context===m)&&o(this,g);else{for(var b=0,v=[],N=w.length;b<N;b++)(w[b].fn!==h||p&&!w[b].once||m&&w[b].context!==m)&&v.push(w[b]);v.length?this._events[g]=v.length===1?v[0]:v:o(this,g)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l}(XE)),XE.exports}var UEe=BEe();const $Ee=z5(UEe),F_=new WeakMap,B_=["error","warn","log","info"];let U_="warn";function dG(e){if(U_&&B_.indexOf(e)<=B_.indexOf(U_)){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console[e](...r)}}function rm(e){return B_.reduce((t,r)=>(t[r]=dG.bind(console,r,e),t),{})}rm.level=e=>{U_=e};dG.level=rm.level;const ZE=rm("quill:events"),VEe=["selectionchange","mousedown","mouseup","click"];VEe.forEach(e=>{document.addEventListener(e,function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const i=F_.get(a);i&&i.emitter&&i.emitter.handleDOM(...r)})})});class Ur extends $Ee{constructor(){super(),this.domListeners={},this.on("error",ZE.error)}emit(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ZE.log.call(ZE,...r),super.emit(...r)}handleDOM(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(this.domListeners[t.type]||[]).forEach(i=>{let{node:o,handler:l}=i;(t.target===o||o.contains(t.target))&&l(t,...n)})}listenDOM(t,r,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:r,handler:n})}}sr(Ur,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),sr(Ur,"sources",{API:"api",SILENT:"silent",USER:"user"});const JE=rm("quill:selection");class og{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=r}}class qEe{constructor(t,r){this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new og(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ur.sources.USER),1)}),this.emitter.on(Ur.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(Ur.events.SCROLL_UPDATE,(a,i)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const o=i.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?Ur.sources.SILENT:a)}catch{}})}),this.emitter.on(Ur.events.SCROLL_OPTIMIZE,(n,a)=>{if(a.range){const{startNode:i,startOffset:o,endNode:l,endOffset:c}=a.range;this.setNativeRange(i,o,l,c),this.update(Ur.sources.SILENT)}}),this.update(Ur.sources.SILENT)}handleComposition(){this.emitter.on(Ur.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ur.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ur.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,r){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,Jr.BLOCK))){if(n.start.node!==this.cursor.textNode){const a=this.scroll.find(n.start.node,!1);if(a==null)return;if(a instanceof cl){const i=a.split(n.start.offset);a.parent.insertBefore(this.cursor,i)}else a.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),r=Math.min(t+r,n-1)-t;let a,[i,o]=this.scroll.leaf(t);if(i==null)return null;if(r>0&&o===i.length()){const[h]=this.scroll.leaf(t+1);if(h){const[m]=this.scroll.line(t),[p]=this.scroll.line(t+1);m===p&&(i=h,o=0)}}[a,o]=i.position(o,!0);const l=document.createRange();if(r>0)return l.setStart(a,o),[i,o]=this.scroll.leaf(t+r),i==null?null:([a,o]=i.position(o,!0),l.setEnd(a,o),l.getBoundingClientRect());let c="left",d;if(a instanceof Text){if(!a.data.length)return null;o<a.data.length?(l.setStart(a,o),l.setEnd(a,o+1)):(l.setStart(a,o-1),l.setEnd(a,o),c="right"),d=l.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;d=i.domNode.getBoundingClientRect(),o>0&&(c="right")}return{bottom:d.top+d.height,height:d.height,left:d[c],right:d[c],top:d.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const r=t.getRangeAt(0);if(r==null)return null;const n=this.normalizeNative(r);return JE.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const r=this.getNativeRange();return r==null?[null,null]:[this.normalizedToRange(r),r]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&e3(this.root,document.activeElement)}normalizedToRange(t){const r=[[t.start.node,t.start.offset]];t.native.collapsed||r.push([t.end.node,t.end.offset]);const n=r.map(o=>{const[l,c]=o,d=this.scroll.find(l,!0),h=d.offset(this.scroll);return c===0?h:d instanceof cl?h+d.index(l,c):h+d.length()}),a=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(a,...n);return new og(i,a-i)}normalizeNative(t){if(!e3(this.root,t.startContainer)||!t.collapsed&&!e3(this.root,t.endContainer))return null;const r={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[r.start,r.end].forEach(n=>{let{node:a,offset:i}=n;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>i)a=a.childNodes[i],i=0;else if(a.childNodes.length===i)a=a.lastChild,a instanceof Text?i=a.data.length:a.childNodes.length>0?i=a.childNodes.length:i=a.childNodes.length+1;else break;n.node=a,n.offset=i}),r}rangeToNative(t){const r=this.scroll.length(),n=(a,i)=>{a=Math.min(r-1,a);const[o,l]=this.scroll.leaf(a);return o?o.position(l,i):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(JE.info("setNativeRange",t,r,n,a),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||i||t!==l.startContainer||r!==l.startOffset||n!==l.endContainer||a!==l.endOffset){t instanceof Element&&t.tagName==="BR"&&(r=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(a=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const c=document.createRange();c.setStart(t,r),c.setEnd(n,a),o.removeAllRanges(),o.addRange(c)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ur.sources.API;if(typeof r=="string"&&(n=r,r=!1),JE.info("setRange",t),t!=null){const a=this.rangeToNative(t);this.setNativeRange(...a,r)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ur.sources.USER;const r=this.lastRange,[n,a]=this.getRange();if(this.lastRange=n,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!Km(r,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[Ur.events.SELECTION_CHANGE,hy(this.lastRange),hy(r),t];this.emitter.emit(Ur.events.EDITOR_CHANGE,...i),t!==Ur.sources.SILENT&&this.emitter.emit(...i)}}}function e3(e,t){try{t.parentNode}catch{return!1}return e.contains(t)}const zEe=/^[ -~]*$/;class HEe{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const n=$L(t),a=new Kr;return GEe(n.ops.slice()).reduce((o,l)=>{const c=Od.Op.length(l);let d=l.attributes||{},h=!1,m=!1;if(l.insert!=null){if(a.retain(c),typeof l.insert=="string"){const w=l.insert;m=!w.endsWith(`
`)&&(r<=o||!!this.scroll.descendant(Dd,o)[0]),this.scroll.insertAt(o,w);const[b,v]=this.scroll.line(o);let N=pp({},_d(b));if(b instanceof Uo){const[S]=b.descendant(cl,v);S&&(N=pp(N,_d(S)))}d=Od.AttributeMap.diff(N,d)||{}}else if(typeof l.insert=="object"){const w=Object.keys(l.insert)[0];if(w==null)return o;const b=this.scroll.query(w,Jr.INLINE)!=null;if(b)(r<=o||this.scroll.descendant(Dd,o)[0])&&(m=!0);else if(o>0){const[v,N]=this.scroll.descendant(cl,o-1);v instanceof Uu?v.value()[N]!==`
`&&(h=!0):v instanceof Xc&&v.statics.scope===Jr.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,w,l.insert[w]),b){const[v]=this.scroll.descendant(cl,o);if(v){const N=pp({},_d(v));d=Od.AttributeMap.diff(N,d)||{}}}}r+=c}else if(a.push(l),l.retain!==null&&typeof l.retain=="object"){const w=Object.keys(l.retain)[0];if(w==null)return o;this.scroll.updateEmbedAt(o,w,l.retain[w])}Object.keys(d).forEach(w=>{this.scroll.formatAt(o,c,w,d[w])});const p=h?1:0,g=m?1:0;return r+=p+g,a.retain(p),a.delete(g),o+c+p+g},0),a.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+Od.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,r){return this.scroll.deleteAt(t,r),this.update(new Kr().retain(t).delete(r))}formatLine(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(i=>{this.scroll.lines(t,Math.max(r,1)).forEach(o=>{o.format(i,n[i])})}),this.scroll.optimize();const a=new Kr().retain(t).retain(r,hy(n));return this.update(a)}formatText(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(i=>{this.scroll.formatAt(t,r,i,n[i])});const a=new Kr().retain(t).retain(r,hy(n));return this.update(a)}getContents(t,r){return this.delta.slice(t,t+r)}getDelta(){return this.scroll.lines().reduce((t,r)=>t.concat(r.delta()),new Kr)}getFormat(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],a=[];r===0?this.scroll.path(t).forEach(l=>{const[c]=l;c instanceof Uo?n.push(c):c instanceof cl&&a.push(c)}):(n=this.scroll.lines(t,r),a=this.scroll.descendants(cl,t,r));const[i,o]=[n,a].map(l=>{const c=l.shift();if(c==null)return{};let d=_d(c);for(;Object.keys(d).length>0;){const h=l.shift();if(h==null)return d;d=WEe(_d(h),d)}return d});return{...i,...o}}getHTML(t,r){const[n,a]=this.scroll.line(t);if(n){const i=n.length();return n.length()>=a+r&&!(a===0&&r===i)?l2(n,a,r,!0):l2(this.scroll,t,r,!0)}return""}getText(t,r){return this.getContents(t,r).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,r){const n=$L(r),a=new Kr().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(a)}insertEmbed(t,r,n){return this.scroll.insertAt(t,r,n),this.update(new Kr().retain(t).insert({[r]:n}))}insertText(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,r),Object.keys(n).forEach(a=>{this.scroll.formatAt(t,r.length,a,n[a])}),this.update(new Kr().retain(t).insert(r,hy(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Uo.blotName)return!1;const r=t;return r.children.length>1?!1:r.children.head instanceof Yu}removeFormat(t,r){const n=this.getText(t,r),[a,i]=this.scroll.line(t+r);let o=0,l=new Kr;a!=null&&(o=a.length()-i,l=a.delta().slice(i,i+o-1).insert(`
`));const d=this.getContents(t,r+o).diff(new Kr().insert(n).concat(l)),h=new Kr().retain(t).concat(d);return this.applyDelta(h)}update(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(zEe)&&this.scroll.find(r[0].target)){const i=this.scroll.find(r[0].target),o=_d(i),l=i.offset(this.scroll),c=r[0].oldValue.replace(Jy.CONTENTS,""),d=new Kr().insert(c),h=new Kr().insert(i.value()),m=n&&{oldRange:VL(n.oldRange,-l),newRange:VL(n.newRange,-l)};t=new Kr().retain(l).concat(d.diff(h,m)).reduce((g,w)=>w.insert?g.insert(w.insert,o):g.push(w),new Kr),this.delta=a.compose(t)}else this.delta=this.getDelta(),(!t||!Km(a.compose(t),this.delta))&&(t=a.diff(this.delta,n));return t}}function Ux(e,t,r){if(e.length===0){const[g]=t3(r.pop());return t<=0?`</li></${g}>`:`</li></${g}>${Ux([],t-1,r)}`}const[{child:n,offset:a,length:i,indent:o,type:l},...c]=e,[d,h]=t3(l);if(o>t)return r.push(l),o===t+1?`<${d}><li${h}>${l2(n,a,i)}${Ux(c,o,r)}`:`<${d}><li>${Ux(e,t+1,r)}`;const m=r[r.length-1];if(o===t&&l===m)return`</li><li${h}>${l2(n,a,i)}${Ux(c,o,r)}`;const[p]=t3(r.pop());return`</li></${p}>${Ux(e,t-1,r)}`}function l2(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(t,r);if(e instanceof Uu)return KS(e.value().slice(t,t+r)).replaceAll(" ","&nbsp;");if(e instanceof Pu){if(e.statics.blotName==="list-container"){const d=[];return e.children.forEachAt(t,r,(h,m,p)=>{const g="formats"in h&&typeof h.formats=="function"?h.formats():{};d.push({child:h,offset:m,length:p,indent:g.indent||0,type:g.list})}),Ux(d,-1,[])}const a=[];if(e.children.forEachAt(t,r,(d,h,m)=>{a.push(l2(d,h,m))}),n||e.statics.blotName==="list")return a.join("");const{outerHTML:i,innerHTML:o}=e.domNode,[l,c]=i.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${c}`:`${l}>${a.join("")}<${c}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function WEe(e,t){return Object.keys(t).reduce((r,n)=>{if(e[n]==null)return r;const a=t[n];return a===e[n]?r[n]=a:Array.isArray(a)?a.indexOf(e[n])<0?r[n]=a.concat([e[n]]):r[n]=a:r[n]=[a,e[n]],r},{})}function t3(e){const t=e==="ordered"?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function $L(e){return e.reduce((t,r)=>{if(typeof r.insert=="string"){const n=r.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,r.attributes)}return t.push(r)},new Kr)}function VL(e,t){let{index:r,length:n}=e;return new og(r+t,n)}function GEe(e){const t=[];return e.forEach(r=>{typeof r.insert=="string"?r.insert.split(`
`).forEach((a,i)=>{i&&t.push({insert:`
`,attributes:r.attributes}),a&&t.push({insert:a,attributes:r.attributes})}):t.push(r)}),t}class Ku{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=r}}sr(Ku,"DEFAULTS",{});const UN="\uFEFF";class Z6 extends Xc{constructor(t,r){super(t,r),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(UN),this.rightGuard=document.createTextNode(UN),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,r){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,r)}restore(t){let r=null,n;const a=t.data.split(UN).join("");if(t===this.leftGuard)if(this.prev instanceof Uu){const i=this.prev.length();this.prev.insertAt(i,a),r={startNode:this.prev.domNode,startOffset:i+a.length}}else n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this),r={startNode:n,startOffset:a.length};else t===this.rightGuard&&(this.next instanceof Uu?(this.next.insertAt(0,a),r={startNode:this.next.domNode,startOffset:a.length}):(n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this.next),r={startNode:n,startOffset:a.length}));return t.data=UN,r}update(t,r){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const a=this.restore(n.target);a&&(r.range=a)}})}}class YEe{constructor(t,r){sr(this,"isComposing",!1);this.scroll=t,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const r=t.target instanceof Node?this.scroll.find(t.target,!0):null;r&&!(r instanceof Z6)&&(this.emitter.emit(Ur.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(Ur.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(Ur.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(Ur.events.COMPOSITION_END,t),this.isComposing=!1}}const bb=class bb{constructor(t,r){sr(this,"modules",{});this.quill=t,this.options=r}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const r=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new r(this.quill,this.options.modules[t]||{}),this.modules[t]}};sr(bb,"DEFAULTS",{modules:{}}),sr(bb,"themes",{default:bb});let ev=bb;const KEe=e=>e.parentElement||e.getRootNode().host||null,QEe=e=>{const t=e.getBoundingClientRect(),r="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,n="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*r,bottom:t.top+e.clientHeight*n,left:t.left}},$N=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},qL=(e,t,r,n,a,i)=>e<r&&t>n?0:e<r?-(r-e+a):t>n?t-e>n-r?e+a-r:t-n+i:0,XEe=(e,t)=>{var i,o,l;const r=e.ownerDocument;let n=t,a=e;for(;a;){const c=a===r.body,d=c?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??r.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??r.documentElement.clientHeight,left:0}:QEe(a),h=getComputedStyle(a),m=qL(n.left,n.right,d.left,d.right,$N(h.scrollPaddingLeft),$N(h.scrollPaddingRight)),p=qL(n.top,n.bottom,d.top,d.bottom,$N(h.scrollPaddingTop),$N(h.scrollPaddingBottom));if(m||p)if(c)(l=r.defaultView)==null||l.scrollBy(m,p);else{const{scrollLeft:g,scrollTop:w}=a;p&&(a.scrollTop+=p),m&&(a.scrollLeft+=m);const b=a.scrollLeft-g,v=a.scrollTop-w;n={left:n.left-b,top:n.top-v,right:n.right-b,bottom:n.bottom-v}}a=c||h.position==="fixed"?null:KEe(a)}},ZEe=100,JEe=["block","break","cursor","inline","scroll","text"],e3e=(e,t,r)=>{const n=new Zy;return JEe.forEach(a=>{const i=t.query(a);i&&n.register(i)}),e.forEach(a=>{let i=t.query(a);i||r.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>ZEe){r.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),n},my=rm("quill"),VN=new Zy;Pu.uiClass="ql-ui";const yu=class yu{static debug(t){t===!0&&(t="log"),rm.level(t)}static find(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return F_.get(t)||VN.find(t,r)}static import(t){return this.imports[t]==null&&my.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],r=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,r):Object.keys(t).forEach(a=>{this.register(a,t[a],r)})}else{const t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&my.warn(`Overwriting ${t} with`,r),this.imports[t]=r,(t.startsWith("blots/")||t.startsWith("formats/"))&&r&&typeof r!="boolean"&&r.blotName!=="abstract"&&VN.register(r),typeof r.register=="function"&&r.register(VN)}}constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=t3e(t,r),this.container=this.options.container,this.container==null){my.error("Invalid Quill container",t);return}this.options.debug&&yu.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",F_.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ur;const a=X6.blotName,i=this.options.registry.query(a);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new HEe(this.scroll),this.selection=new qEe(this.scroll,this.emitter),this.composition=new YEe(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ur.events.EDITOR_CHANGE,o=>{o===Ur.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ur.events.SCROLL_UPDATE,(o,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;hu.call(this,()=>this.editor.update(null,l,h),o)}),this.emitter.on(Ur.events.SCROLL_EMBED_UPDATE,(o,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;hu.call(this,()=>{const m=new Kr().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(m,[],h)},yu.sources.USER)}),n){const o=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,r),t}blur(){this.selection.setRange(null)}deleteText(t,r,n){return[t,r,,n]=bf(t,r,n),hu.call(this,()=>this.editor.deleteText(t,r),n,t,-1*r)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const r=t();return this.allowReadOnlyEdits=!1,r}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ur.sources.API;return hu.call(this,()=>{const a=this.getSelection(!0);let i=new Kr;if(a==null)return i;if(this.scroll.query(t,Jr.BLOCK))i=this.editor.formatLine(a.index,a.length,{[t]:r});else{if(a.length===0)return this.selection.format(t,r),i;i=this.editor.formatText(a.index,a.length,{[t]:r})}return this.setSelection(a,Ur.sources.SILENT),i},n)}formatLine(t,r,n,a,i){let o;return[t,r,o,i]=bf(t,r,n,a,i),hu.call(this,()=>this.editor.formatLine(t,r,o),i,t,0)}formatText(t,r,n,a,i){let o;return[t,r,o,i]=bf(t,r,n,a,i),hu.call(this,()=>this.editor.formatText(t,r,o),i,t,0)}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,r):n=this.selection.getBounds(t.index,t.length),!n)return null;const a=this.container.getBoundingClientRect();return{bottom:n.bottom-a.top,height:n.height,left:n.left-a.left,right:n.right-a.left,top:n.top-a.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,r]=bf(t,r),this.editor.getContents(t,r)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,r):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,r)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=bf(t,r),this.editor.getHTML(t,r)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=bf(t,r),this.editor.getText(t,r)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:yu.sources.API;return hu.call(this,()=>this.editor.insertEmbed(t,r,n),a,t)}insertText(t,r,n,a,i){let o;return[t,,o,i]=bf(t,0,n,a,i),hu.call(this,()=>this.editor.insertText(t,r,o),i,t,r.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,r,n){return[t,r,,n]=bf(t,r,n),hu.call(this,()=>this.editor.removeFormat(t,r),n,t)}scrollRectIntoView(t){XEe(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,r=t&&this.selection.getBounds(t.index,t.length);r&&this.scrollRectIntoView(r)}setContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur.sources.API;return hu.call(this,()=>{t=new Kr(t);const n=this.getLength(),a=this.editor.deleteText(0,n),i=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return a.compose(i).compose(o)},r)}setSelection(t,r,n){t==null?this.selection.setRange(null,r||yu.sources.API):([t,r,,n]=bf(t,r,n),this.selection.setRange(new og(Math.max(0,t),r),n),n!==Ur.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur.sources.API;const n=new Kr().insert(t);return this.setContents(n,r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ur.sources.USER;const r=this.scroll.update(t);return this.selection.update(t),r}updateContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur.sources.API;return hu.call(this,()=>(t=new Kr(t),this.editor.applyDelta(t)),r,!0)}};sr(yu,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:VN,theme:"default"}),sr(yu,"events",Ur.events),sr(yu,"sources",Ur.sources),sr(yu,"version","2.0.3"),sr(yu,"imports",{delta:Kr,parchment:OEe,"core/module":Ku,"core/theme":ev});let qt=yu;function zL(e){return typeof e=="string"?document.querySelector(e):e}function r3(e){return Object.entries(e??{}).reduce((t,r)=>{let[n,a]=r;return{...t,[n]:a===!0?{}:a}},{})}function HL(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function t3e(e,t){const r=zL(e);if(!r)throw new Error("Invalid Quill container");const a=!t.theme||t.theme===qt.DEFAULTS.theme?ev:qt.import(`themes/${t.theme}`);if(!a)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...o}=qt.DEFAULTS,{modules:l,...c}=a.DEFAULTS;let d=r3(t.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const h=pp({},r3(i),r3(l),d),m={...o,...HL(c),...HL(t)};let p=t.registry;return p?t.formats&&my.warn('Ignoring "formats" option because "registry" is specified'):p=t.formats?e3e(t.formats,m.registry,my):m.registry,{...m,registry:p,container:r,theme:a,modules:Object.entries(h).reduce((g,w)=>{let[b,v]=w;if(!v)return g;const N=qt.import(`modules/${b}`);return N==null?(my.error(`Cannot load ${b} module. Are you sure you registered it?`),g):{...g,[b]:pp({},N.DEFAULTS||{},v)}},{}),bounds:zL(m.bounds)}}function hu(e,t,r,n){if(!this.isEnabled()&&t===Ur.sources.USER&&!this.allowReadOnlyEdits)return new Kr;let a=r==null?null:this.getSelection();const i=this.editor.delta,o=e();if(a!=null&&(r===!0&&(r=a.index),n==null?a=WL(a,o,t):n!==0&&(a=WL(a,r,n,t)),this.setSelection(a,Ur.sources.SILENT)),o.length()>0){const l=[Ur.events.TEXT_CHANGE,o,i,t];this.emitter.emit(Ur.events.EDITOR_CHANGE,...l),t!==Ur.sources.SILENT&&this.emitter.emit(...l)}return o}function bf(e,t,r,n,a){let i={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(a=n,n=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(a=n,n=r,r=t,t=0),typeof r=="object"?(i=r,a=n):typeof r=="string"&&(n!=null?i[r]=n:a=r),a=a||Ur.sources.API,[e,t,i,a]}function WL(e,t,r,n){const a=typeof r=="number"?r:0;if(e==null)return null;let i,o;return t&&typeof t.transformPosition=="function"?[i,o]=[e.index,e.index+e.length].map(l=>t.transformPosition(l,n!==Ur.sources.USER)):[i,o]=[e.index,e.index+e.length].map(l=>l<t||l===t&&n===Ur.sources.USER?l:a>=0?l+a:Math.max(t,l+a)),new og(i,o-i)}class Dg extends YS{}function GL(e){return e instanceof Uo||e instanceof Dd}function YL(e){return typeof e.updateContent=="function"}class $x extends X6{constructor(t,r,n){let{emitter:a}=n;super(t,r),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(Ur.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Ur.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,r){this.emitter.emit(Ur.events.SCROLL_EMBED_UPDATE,t,r)}deleteAt(t,r){const[n,a]=this.line(t),[i]=this.line(t+r);if(super.deleteAt(t,r),i!=null&&n!==i&&a>0){if(n instanceof Dd||i instanceof Dd){this.optimize();return}const o=i.children.head instanceof Yu?null:i.children.head;n.moveChildren(i,o),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,r,n,a){super.formatAt(t,r,n,a),this.optimize()}insertAt(t,r,n){if(t>=this.length())if(n==null||this.scroll.query(r,Jr.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),n==null&&r.endsWith(`
`)?a.insertAt(0,r.slice(0,-1),n):a.insertAt(0,r,n)}else{const a=this.scroll.create(r,n);this.appendChild(a)}else super.insertAt(t,r,n);this.optimize()}insertBefore(t,r){if(t.statics.scope===Jr.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,r)}else super.insertBefore(t,r)}insertContents(t,r){const n=this.deltaToRenderBlocks(r.concat(new Kr().insert(`
`))),a=n.pop();if(a==null)return;this.batchStart();const i=n.shift();if(i){const c=i.type==="block"&&(i.delta.length()===0||!this.descendant(Dd,t)[0]&&t<this.length()),d=i.type==="block"?i.delta:new Kr().insert({[i.key]:i.value});s3(this,t,d);const h=i.type==="block"?1:0,m=t+d.length()+h;c&&this.insertAt(m-1,`
`);const p=_d(this.line(t)[0]),g=Od.AttributeMap.diff(p,i.attributes)||{};Object.keys(g).forEach(w=>{this.formatAt(m-1,1,w,g[w])}),t=m}let[o,l]=this.children.find(t);if(n.length&&(o&&(o=o.split(l),l=0),n.forEach(c=>{if(c.type==="block"){const d=this.createBlock(c.attributes,o||void 0);s3(d,0,c.delta)}else{const d=this.create(c.key,c.value);this.insertBefore(d,o||void 0),Object.keys(c.attributes).forEach(h=>{d.format(h,c.attributes[h])})}})),a.type==="block"&&a.delta.length()){const c=o?o.offset(o.scroll)+l:this.length();s3(this,c,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const r=this.path(t).pop();if(!r)return[null,-1];const[n,a]=r;return n instanceof cl?[n,a]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(GL,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(a,i,o)=>{let l=[],c=o;return a.children.forEachAt(i,o,(d,h,m)=>{GL(d)?l.push(d):d instanceof YS&&(l=l.concat(n(d,h,c))),c-=m}),l};return n(this,t,r)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,r),t.length>0&&this.emitter.emit(Ur.events.SCROLL_OPTIMIZE,t,r))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let r=Ur.sources.USER;typeof t=="string"&&(r=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:a}=n;const i=this.find(a,!0);return i&&!YL(i)}),t.length>0&&this.emitter.emit(Ur.events.SCROLL_BEFORE_UPDATE,r,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(Ur.events.SCROLL_UPDATE,r,t)}updateEmbedAt(t,r,n){const[a]=this.descendant(i=>i instanceof Dd,t);a&&a.statics.blotName===r&&YL(a)&&a.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const r=[];let n=new Kr;return t.forEach(a=>{const i=a==null?void 0:a.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(c=>{n.insert(c,a.attributes),r.push({type:"block",delta:n,attributes:a.attributes??{}}),n=new Kr});const l=o[o.length-1];l&&n.insert(l,a.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,Jr.INLINE)?n.push(a):(n.length()&&r.push({type:"block",delta:n,attributes:{}}),n=new Kr,r.push({type:"blockEmbed",key:o,value:i[o],attributes:a.attributes??{}}))}}),n.length()&&r.push({type:"block",delta:n,attributes:{}}),r}createBlock(t,r){let n;const a={};Object.entries(t).forEach(l=>{let[c,d]=l;this.query(c,Jr.BLOCK&Jr.BLOT)!=null?n=c:a[c]=d});const i=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(i,r||void 0);const o=i.length();return Object.entries(a).forEach(l=>{let[c,d]=l;i.formatAt(0,o,c,d)}),i}}sr($x,"blotName","scroll"),sr($x,"className","ql-editor"),sr($x,"tagName","DIV"),sr($x,"defaultChild",Uo),sr($x,"allowedChildren",[Uo,Dd,Dg]);function s3(e,t,r){r.reduce((n,a)=>{const i=Od.Op.length(a);let o=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const l=a.insert;e.insertAt(n,l);const[c]=e.descendant(cl,n),d=_d(c);o=Od.AttributeMap.diff(d,o)||{}}else if(typeof a.insert=="object"){const l=Object.keys(a.insert)[0];if(l==null)return n;if(e.insertAt(n,l,a.insert[l]),e.scroll.query(l,Jr.INLINE)!=null){const[d]=e.descendant(cl,n),h=_d(d);o=Od.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(l=>{e.formatAt(n,i,l,o[l])}),n+i},t)}const J6={scope:Jr.BLOCK,whitelist:["right","center","justify"]},r3e=new qh("align","align",J6),uG=new Gu("align","ql-align",J6),hG=new Up("align","text-align",J6);class fG extends Up{value(t){let r=super.value(t);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${r.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):r}}const s3e=new Gu("color","ql-color",{scope:Jr.INLINE}),eD=new fG("color","color",{scope:Jr.INLINE}),n3e=new Gu("background","ql-bg",{scope:Jr.INLINE}),tD=new fG("background","background-color",{scope:Jr.INLINE});class Pg extends Dg{static create(t){const r=super.create(t);return r.setAttribute("spellcheck","false"),r}code(t,r){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+r)}html(t,r){return`<pre>
${KS(this.code(t,r))}
</pre>`}}class fl extends Uo{static register(){qt.register(Pg)}}sr(fl,"TAB","  ");class rD extends zh{}rD.blotName="code";rD.tagName="CODE";fl.blotName="code-block";fl.className="ql-code-block";fl.tagName="DIV";Pg.blotName="code-block-container";Pg.className="ql-code-block-container";Pg.tagName="DIV";Pg.allowedChildren=[fl];fl.allowedChildren=[Uu,Yu,Jy];fl.requiredContainer=Pg;const sD={scope:Jr.BLOCK,whitelist:["rtl"]},mG=new qh("direction","dir",sD),pG=new Gu("direction","ql-direction",sD),gG=new Up("direction","direction",sD),xG={scope:Jr.INLINE,whitelist:["serif","monospace"]},yG=new Gu("font","ql-font",xG);class a3e extends Up{value(t){return super.value(t).replace(/["']/g,"")}}const vG=new a3e("font","font-family",xG),bG=new Gu("size","ql-size",{scope:Jr.INLINE,whitelist:["small","large","huge"]}),wG=new Up("size","font-size",{scope:Jr.INLINE,whitelist:["10px","18px","32px"]}),i3e=rm("quill:keyboard"),o3e=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class QS extends Ku{static match(t,r){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!r[n]!==t[n]&&r[n]!==null)?!1:r.key===t.key||r.key===t.which}constructor(t,r){super(t,r),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=c3e(t);if(a==null){i3e.warn("Attempted to add invalid keyboard binding",a);return}typeof r=="function"&&(r={handler:r}),typeof n=="function"&&(n={handler:n}),(Array.isArray(a.key)?a.key:[a.key]).forEach(o=>{const l={...a,key:o,...r,...n};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const a=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(N=>QS.match(t,N));if(a.length===0)return;const i=qt.find(t.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,c]=this.quill.getLine(o.index),[d,h]=this.quill.getLeaf(o.index),[m,p]=o.length===0?[d,h]:this.quill.getLeaf(o.index+o.length),g=d instanceof N5?d.value().slice(0,h):"",w=m instanceof N5?m.value().slice(p):"",b={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:c,prefix:g,suffix:w,event:t};a.some(N=>{if(N.collapsed!=null&&N.collapsed!==b.collapsed||N.empty!=null&&N.empty!==b.empty||N.offset!=null&&N.offset!==b.offset)return!1;if(Array.isArray(N.format)){if(N.format.every(S=>b.format[S]==null))return!1}else if(typeof N.format=="object"&&!Object.keys(N.format).every(S=>N.format[S]===!0?b.format[S]!=null:N.format[S]===!1?b.format[S]==null:Km(N.format[S],b.format[S])))return!1;return N.prefix!=null&&!N.prefix.test(b.prefix)||N.suffix!=null&&!N.suffix.test(b.suffix)?!1:N.handler.call(this,o,b,N)!==!0})&&t.preventDefault()})}handleBackspace(t,r){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(r.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let a={};const[i]=this.quill.getLine(t.index);let o=new Kr().retain(t.index-n).delete(n);if(r.offset===0){const[l]=this.quill.getLine(t.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const d=i.formats(),h=this.quill.getFormat(t.index-1,1);if(a=Od.AttributeMap.diff(d,h)||{},Object.keys(a).length>0){const m=new Kr().retain(t.index+i.length()-2).retain(1,a);o=o.compose(m)}}}this.quill.updateContents(o,qt.sources.USER),this.quill.focus()}handleDelete(t,r){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(r.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let a={};const[i]=this.quill.getLine(t.index);let o=new Kr().retain(t.index).delete(n);if(r.offset>=i.length()-1){const[l]=this.quill.getLine(t.index+1);if(l){const c=i.formats(),d=this.quill.getFormat(t.index,1);a=Od.AttributeMap.diff(c,d)||{},Object.keys(a).length>0&&(o=o.retain(l.length()-1).retain(1,a))}}this.quill.updateContents(o,qt.sources.USER),this.quill.focus()}handleDeleteRange(t){nD({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,r){const n=Object.keys(r.format).reduce((i,o)=>(this.quill.scroll.query(o,Jr.BLOCK)&&!Array.isArray(r.format[o])&&(i[o]=r.format[o]),i),{}),a=new Kr().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(a,qt.sources.USER),this.quill.setSelection(t.index+1,qt.sources.SILENT),this.quill.focus()}}const l3e={bindings:{bold:n3("bold"),italic:n3("italic"),underline:n3("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",qt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",qt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){t.format.indent!=null?this.quill.format("indent","-1",qt.sources.USER):t.format.list!=null&&this.quill.format("list",!1,qt.sources.USER)}},"indent code-block":KL(!0),"outdent code-block":KL(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,qt.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const r=new Kr().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(r,qt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,qt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,qt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const r={list:!1};t.format.indent&&(r.indent=!1),this.quill.formatLine(e.index,e.length,r,qt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,r]=this.quill.getLine(e.index),n={...t.formats(),list:"checked"},a=new Kr().retain(e.index).insert(`
`,n).retain(t.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,qt.sources.USER),this.quill.setSelection(e.index+1,qt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[r,n]=this.quill.getLine(e.index),a=new Kr().retain(e.index).insert(`
`,t.format).retain(r.length()-n-1).retain(1,{header:null});this.quill.updateContents(a,qt.sources.USER),this.quill.setSelection(e.index+1,qt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[r,n,a,i]=t.getTable(e),o=d3e(r,n,a,i);if(o==null)return;let l=r.offset();if(o<0){const c=new Kr().retain(l).insert(`
`);this.quill.updateContents(c,qt.sources.USER),this.quill.setSelection(e.index+1,e.length,qt.sources.SILENT)}else if(o>0){l+=r.length();const c=new Kr().retain(l).insert(`
`);this.quill.updateContents(c,qt.sources.USER),this.quill.setSelection(l,qt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:r,line:n}=t,a=n.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(a-1,qt.sources.USER):this.quill.setSelection(a+n.length(),qt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query("list")==null)return!0;const{length:r}=t.prefix,[n,a]=this.quill.getLine(e.index);if(a>r)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(e.index," ",qt.sources.USER),this.quill.history.cutoff();const o=new Kr().retain(e.index-a).delete(r+1).retain(n.length()-2-a).retain(1,{list:i});return this.quill.updateContents(o,qt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,qt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,r]=this.quill.getLine(e.index);let n=2,a=t;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,n-=1,n<=0){const i=new Kr().retain(e.index+t.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,qt.sources.USER),this.quill.setSelection(e.index-1,qt.sources.SILENT),!1}return!0}},"embed left":qN("ArrowLeft",!1),"embed left shift":qN("ArrowLeft",!0),"embed right":qN("ArrowRight",!1),"embed right shift":qN("ArrowRight",!0),"table down":QL(!1),"table up":QL(!0)}};QS.DEFAULTS=l3e;function KL(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,r){let{event:n}=r;const a=this.quill.scroll.query("code-block"),{TAB:i}=a;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,i,qt.sources.USER),this.quill.setSelection(t.index+i.length,qt.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:c}=t;o.forEach((d,h)=>{e?(d.insertAt(0,i),h===0?l+=i.length:c+=i.length):d.domNode.textContent.startsWith(i)&&(d.deleteAt(0,i.length),h===0?l-=i.length:c-=i.length)}),this.quill.update(qt.sources.USER),this.quill.setSelection(l,c,qt.sources.SILENT)}}}function qN(e,t){return{key:e,shiftKey:t,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:a}=n;e==="ArrowRight"&&(a+=n.length+1);const[i]=this.quill.getLeaf(a);return i instanceof Xc?(e==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,qt.sources.USER):this.quill.setSelection(n.index-1,qt.sources.USER):t?this.quill.setSelection(n.index,n.length+1,qt.sources.USER):this.quill.setSelection(n.index+n.length+1,qt.sources.USER),!1):!0}}}function n3(e){return{key:e[0],shortKey:!0,handler(t,r){this.quill.format(e,!r.format[e],qt.sources.USER)}}}function QL(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,r){const n=e?"prev":"next",a=r.line,i=a.parent[n];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,l=a;for(;l.prev!=null;)l=l.prev,o=o.next;const c=o.offset(this.quill.scroll)+Math.min(r.offset,o.length()-1);this.quill.setSelection(c,0,qt.sources.USER)}}else{const o=a.table()[n];o!=null&&(e?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,qt.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,qt.sources.USER))}return!1}}}function c3e(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=hy(e);else return null;return e.shortKey&&(e[o3e]=e.shortKey,delete e.shortKey),e}function nD(e){let{quill:t,range:r}=e;const n=t.getLines(r);let a={};if(n.length>1){const i=n[0].formats(),o=n[n.length-1].formats();a=Od.AttributeMap.diff(o,i)||{}}t.deleteText(r,qt.sources.USER),Object.keys(a).length>0&&t.formatLine(r.index,1,a,qt.sources.USER),t.setSelection(r.index,qt.sources.SILENT)}function d3e(e,t,r,n){return t.prev==null&&t.next==null?r.prev==null&&r.next==null?n===0?-1:1:r.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const u3e=/font-weight:\s*normal/,h3e=["P","OL","UL"],XL=e=>e&&h3e.includes(e.tagName),f3e=e=>{Array.from(e.querySelectorAll("br")).filter(t=>XL(t.previousElementSibling)&&XL(t.nextElementSibling)).forEach(t=>{var r;(r=t.parentNode)==null||r.removeChild(t)})},m3e=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var r;return(r=t.getAttribute("style"))==null?void 0:r.match(u3e)}).forEach(t=>{var n;const r=e.createDocumentFragment();r.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(r,t)})};function p3e(e){e.querySelector('[id^="docs-internal-guid-"]')&&(m3e(e),f3e(e))}const g3e=/\bmso-list:[^;]*ignore/i,x3e=/\bmso-list:[^;]*\bl(\d+)/i,y3e=/\bmso-list:[^;]*\blevel(\d+)/i,v3e=(e,t)=>{const r=e.getAttribute("style"),n=r==null?void 0:r.match(x3e);if(!n)return null;const a=Number(n[1]),i=r==null?void 0:r.match(y3e),o=i?Number(i[1]):1,l=new RegExp(`@list l${a}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=t.match(l),d=c&&c[1]==="bullet"?"bullet":"ordered";return{id:a,indent:o,type:d,element:e}},b3e=e=>{var o,l;const t=Array.from(e.querySelectorAll("[style*=mso-list]")),r=[],n=[];t.forEach(c=>{(c.getAttribute("style")||"").match(g3e)?r.push(c):n.push(c)}),r.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)});const a=e.documentElement.innerHTML,i=n.map(c=>v3e(c,a)).filter(c=>c);for(;i.length;){const c=[];let d=i.shift();for(;d;)c.push(d),d=i.length&&((o=i[0])==null?void 0:o.element)===d.element.nextElementSibling&&i[0].id===d.id?i.shift():null;const h=document.createElement("ul");c.forEach(g=>{const w=document.createElement("li");w.setAttribute("data-list",g.type),g.indent>1&&w.setAttribute("class",`ql-indent-${g.indent-1}`),w.innerHTML=g.element.innerHTML,h.appendChild(w)});const m=(l=c[0])==null?void 0:l.element,{parentNode:p}=m??{};m&&(p==null||p.replaceChild(h,m)),c.slice(1).forEach(g=>{let{element:w}=g;p==null||p.removeChild(w)})}};function w3e(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&b3e(e)}const N3e=[w3e,p3e],j3e=e=>{e.documentElement&&N3e.forEach(t=>{t(e)})},S3e=rm("quill:clipboard"),A3e=[[Node.TEXT_NODE,M3e],[Node.TEXT_NODE,JL],["br",T3e],[Node.ELEMENT_NODE,JL],[Node.ELEMENT_NODE,k3e],[Node.ELEMENT_NODE,_3e],[Node.ELEMENT_NODE,I3e],["li",O3e],["ol, ul",R3e],["pre",D3e],["tr",L3e],["b",a3("bold")],["i",a3("italic")],["strike",a3("strike")],["style",P3e]],E3e=[r3e,mG].reduce((e,t)=>(e[t.keyName]=t,e),{}),ZL=[hG,tD,eD,gG,vG,wG].reduce((e,t)=>(e[t.keyName]=t,e),{});class NG extends Ku{constructor(t,r){super(t,r),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],A3e.concat(this.options.matchers??[]).forEach(n=>{let[a,i]=n;this.addMatcher(a,i)})}addMatcher(t,r){this.matchers.push([t,r])}convert(t){let{html:r,text:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[fl.blotName])return new Kr().insert(n||"",{[fl.blotName]:a[fl.blotName]});if(!r)return new Kr().insert(n||"",a);const i=this.convertHTML(r);return cw(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||a.table)?i.compose(new Kr().retain(i.length()-1).delete(1)):i}normalizeHTML(t){j3e(t)}convertHTML(t){const r=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(r);const n=r.body,a=new WeakMap,[i,o]=this.prepareMatching(n,a);return aD(this.quill.scroll,n,i,o,a)}dangerouslyPasteHTML(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qt.sources.API;if(typeof t=="string"){const a=this.convert({html:t,text:""});this.quill.setContents(a,r),this.quill.setSelection(0,qt.sources.SILENT)}else{const a=this.convert({html:r,text:""});this.quill.updateContents(new Kr().retain(t).concat(a),n),this.quill.setSelection(t+a.length(),qt.sources.SILENT)}}onCaptureCopy(t){var o,l;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:a,text:i}=this.onCopy(n,r);(o=t.clipboardData)==null||o.setData("text/plain",i),(l=t.clipboardData)==null||l.setData("text/html",a),r&&nD({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(r=>r[0]!=="#").join(`
`)}onCapturePaste(t){var o,l,c,d,h;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const r=this.quill.getSelection(!0);if(r==null)return;const n=(o=t.clipboardData)==null?void 0:o.getData("text/html");let a=(l=t.clipboardData)==null?void 0:l.getData("text/plain");if(!n&&!a){const m=(c=t.clipboardData)==null?void 0:c.getData("text/uri-list");m&&(a=this.normalizeURIList(m))}const i=Array.from(((d=t.clipboardData)==null?void 0:d.files)||[]);if(!n&&i.length>0){this.quill.uploader.upload(r,i);return}if(n&&i.length>0){const m=new DOMParser().parseFromString(n,"text/html");if(m.body.childElementCount===1&&((h=m.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(r,i);return}}this.onPaste(r,{html:n,text:a})}onCopy(t){const r=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:r}}onPaste(t,r){let{text:n,html:a}=r;const i=this.quill.getFormat(t.index),o=this.convert({text:n,html:a},i);S3e.log("onPaste",o,{text:n,html:a});const l=new Kr().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(l,qt.sources.USER),this.quill.setSelection(l.length()-t.length,qt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,r){const n=[],a=[];return this.matchers.forEach(i=>{const[o,l]=i;switch(o){case Node.TEXT_NODE:a.push(l);break;case Node.ELEMENT_NODE:n.push(l);break;default:Array.from(t.querySelectorAll(o)).forEach(c=>{if(r.has(c)){const d=r.get(c);d==null||d.push(l)}else r.set(c,[l])});break}}),[n,a]}}sr(NG,"DEFAULTS",{matchers:[]});function Og(e,t,r,n){return n.query(t)?e.reduce((a,i)=>{if(!i.insert)return a;if(i.attributes&&i.attributes[t])return a.push(i);const o=r?{[t]:r}:{};return a.insert(i.insert,{...o,...i.attributes})},new Kr):e}function cw(e,t){let r="";for(let n=e.ops.length-1;n>=0&&r.length<t.length;--n){const a=e.ops[n];if(typeof a.insert!="string")break;r=a.insert+r}return r.slice(-1*t.length)===t}function ip(e,t){if(!(e instanceof Element))return!1;const r=t.query(e);return r&&r.prototype instanceof Xc?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function C3e(e,t){return e.previousElementSibling&&e.nextElementSibling&&!ip(e.previousElementSibling,t)&&!ip(e.nextElementSibling,t)}const zN=new WeakMap;function jG(e){return e==null?!1:(zN.has(e)||(e.tagName==="PRE"?zN.set(e,!0):zN.set(e,jG(e.parentNode))),zN.get(e))}function aD(e,t,r,n,a){return t.nodeType===t.TEXT_NODE?n.reduce((i,o)=>o(t,i,e),new Kr):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,o)=>{let l=aD(e,o,r,n,a);return o.nodeType===t.ELEMENT_NODE&&(l=r.reduce((c,d)=>d(o,c,e),l),l=(a.get(o)||[]).reduce((c,d)=>d(o,c,e),l)),i.concat(l)},new Kr):new Kr}function a3(e){return(t,r,n)=>Og(r,e,!0,n)}function _3e(e,t,r){const n=qh.keys(e),a=Gu.keys(e),i=Up.keys(e),o={};return n.concat(a).concat(i).forEach(l=>{let c=r.query(l,Jr.ATTRIBUTE);c!=null&&(o[c.attrName]=c.value(e),o[c.attrName])||(c=E3e[l],c!=null&&(c.attrName===l||c.keyName===l)&&(o[c.attrName]=c.value(e)||void 0),c=ZL[l],c!=null&&(c.attrName===l||c.keyName===l)&&(c=ZL[l],o[c.attrName]=c.value(e)||void 0))}),Object.entries(o).reduce((l,c)=>{let[d,h]=c;return Og(l,d,h,r)},t)}function k3e(e,t,r){const n=r.query(e);if(n==null)return t;if(n.prototype instanceof Xc){const a={},i=n.value(e);if(i!=null)return a[n.blotName]=i,new Kr().insert(a,n.formats(e,r))}else if(n.prototype instanceof o2&&!cw(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Og(t,n.blotName,n.formats(e,r),r);return t}function T3e(e,t){return cw(t,`
`)||t.insert(`
`),t}function D3e(e,t,r){const n=r.query("code-block"),a=n&&"formats"in n&&typeof n.formats=="function"?n.formats(e,r):!0;return Og(t,"code-block",a,r)}function P3e(){return new Kr}function O3e(e,t,r){const n=r.query(e);if(n==null||n.blotName!=="list"||!cw(t,`
`))return t;let a=-1,i=e.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(a+=1),i=i.parentNode;return a<=0?t:t.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:a,...l.attributes||{}}):o,new Kr)}function R3e(e,t,r){const n=e;let a=n.tagName==="OL"?"ordered":"bullet";const i=n.getAttribute("data-checked");return i&&(a=i==="true"?"checked":"unchecked"),Og(t,"list",a,r)}function JL(e,t,r){if(!cw(t,`
`)){if(ip(e,r)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&e.nextSibling){let n=e.nextSibling;for(;n!=null;){if(ip(n,r))return t.insert(`
`);const a=r.query(n);if(a&&a.prototype instanceof Dd)return t.insert(`
`);n=n.firstChild}}}return t}function I3e(e,t,r){var i;const n={},a=e.style||{};return a.fontStyle==="italic"&&(n.italic=!0),a.textDecoration==="underline"&&(n.underline=!0),a.textDecoration==="line-through"&&(n.strike=!0),((i=a.fontWeight)!=null&&i.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((o,l)=>{let[c,d]=l;return Og(o,c,d,r)},t),parseFloat(a.textIndent||0)>0?new Kr().insert("	").concat(t):t}function L3e(e,t,r){var a,i;const n=((a=e.parentElement)==null?void 0:a.tagName)==="TABLE"?e.parentElement:(i=e.parentElement)==null?void 0:i.parentElement;if(n!=null){const l=Array.from(n.querySelectorAll("tr")).indexOf(e)+1;return Og(t,"table",l,r)}return t}function M3e(e,t,r){var a;let n=e.data;if(((a=e.parentElement)==null?void 0:a.tagName)==="O:P")return t.insert(n.trim());if(!jG(e)){if(n.trim().length===0&&n.includes(`
`)&&!C3e(e,r))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&ip(e.parentElement,r)||e.previousSibling instanceof Element&&ip(e.previousSibling,r))&&(n=n.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&ip(e.parentElement,r)||e.nextSibling instanceof Element&&ip(e.nextSibling,r))&&(n=n.replace(/ $/,"")),n=n.replaceAll(""," ")}return t.insert(n)}class SG extends Ku{constructor(r,n){super(r,n);sr(this,"lastRecorded",0);sr(this,"ignoreChange",!1);sr(this,"stack",{undo:[],redo:[]});sr(this,"currentRange",null);this.quill.on(qt.events.EDITOR_CHANGE,(a,i,o,l)=>{a===qt.events.SELECTION_CHANGE?i&&l!==qt.sources.SILENT&&(this.currentRange=i):a===qt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===qt.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=$_(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",a=>{a.inputType==="historyUndo"?(this.undo(),a.preventDefault()):a.inputType==="historyRedo"&&(this.redo(),a.preventDefault())})}change(r,n){if(this.stack[r].length===0)return;const a=this.stack[r].pop();if(!a)return;const i=this.quill.getContents(),o=a.delta.invert(i);this.stack[n].push({delta:o,range:$_(a.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(a.delta,qt.sources.USER),this.ignoreChange=!1,this.restoreSelection(a)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,n){if(r.ops.length===0)return;this.stack.redo=[];let a=r.invert(n),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(a=a.compose(l.delta),i=l.range)}else this.lastRecorded=o;a.length()!==0&&(this.stack.undo.push({delta:a,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){eM(this.stack.undo,r),eM(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,qt.sources.USER);else{const n=B3e(this.quill.scroll,r.delta);this.quill.setSelection(n,qt.sources.USER)}}}sr(SG,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function eM(e,t){let r=t;for(let n=e.length-1;n>=0;n-=1){const a=e[n];e[n]={delta:r.transform(a.delta,!0),range:a.range&&$_(a.range,r)},r=a.delta.transform(r),e[n].delta.length()===0&&e.splice(n,1)}}function F3e(e,t){const r=t.ops[t.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(n=>e.query(n,Jr.BLOCK)!=null):!1}function B3e(e,t){const r=t.reduce((a,i)=>a+(i.delete||0),0);let n=t.length()-r;return F3e(e,t)&&(n-=1),n}function $_(e,t){if(!e)return e;const r=t.transformPosition(e.index),n=t.transformPosition(e.index+e.length);return{index:r,length:n-r}}class AG extends Ku{constructor(t,r){super(t,r),t.root.addEventListener("drop",n=>{var o;n.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(n.clientX,n.clientY);a=document.createRange(),a.setStart(l.offsetNode,l.offset),a.setEnd(l.offsetNode,l.offset)}const i=a&&t.selection.normalizeNative(a);if(i){const l=t.selection.normalizedToRange(i);(o=n.dataTransfer)!=null&&o.files&&this.upload(l,n.dataTransfer.files)}})}upload(t,r){const n=[];Array.from(r).forEach(a=>{var i;a&&((i=this.options.mimetypes)!=null&&i.includes(a.type))&&n.push(a)}),n.length>0&&this.options.handler.call(this,t,n)}}AG.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const r=t.map(n=>new Promise(a=>{const i=new FileReader;i.onload=()=>{a(i.result)},i.readAsDataURL(n)}));Promise.all(r).then(n=>{const a=n.reduce((i,o)=>i.insert({image:o}),new Kr().retain(e.index).delete(e.length));this.quill.updateContents(a,Ur.sources.USER),this.quill.setSelection(e.index+n.length,Ur.sources.SILENT)})}};const U3e=["insertText","insertReplacementText"];class $3e extends Ku{constructor(t,r){super(t,r),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(qt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){nD({range:t,quill:this.quill})}replaceText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(r){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Kr().retain(t.index).insert(r,n),qt.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+r.length,0,qt.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!U3e.includes(t.inputType))return;const r=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!r||r.collapsed===!0)return;const n=V3e(t);if(n==null)return;const a=this.quill.selection.normalizeNative(r),i=a?this.quill.selection.normalizedToRange(a):null;i&&this.replaceText(i,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function V3e(e){var t;return typeof e.data=="string"?e.data:(t=e.dataTransfer)!=null&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const q3e=/Mac/i.test(navigator.platform),z3e=100,H3e=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||q3e&&e.key==="a"&&e.ctrlKey===!0);class W3e extends Ku{constructor(r,n){super(r,n);sr(this,"isListening",!1);sr(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,n){let{line:a,event:i}=n;if(!(a instanceof Pu)||!a.uiNode)return!0;const o=getComputedStyle(a.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(r.index-1,r.length+(i.shiftKey?1:0),qt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",r=>{!r.defaultPrevented&&H3e(r)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+z3e,this.isListening)return;this.isListening=!0;const r=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",r,{once:!0})}handleSelectionChange(){const r=document.getSelection();if(!r)return;const n=r.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const a=this.quill.scroll.find(n.startContainer);if(!(a instanceof Pu)||!a.uiNode)return;const i=document.createRange();i.setStartAfter(a.uiNode),i.setEndAfter(a.uiNode),r.removeAllRanges(),r.addRange(i)}}qt.register({"blots/block":Uo,"blots/block/embed":Dd,"blots/break":Yu,"blots/container":Dg,"blots/cursor":Jy,"blots/embed":Z6,"blots/inline":zh,"blots/scroll":$x,"blots/text":Uu,"modules/clipboard":NG,"modules/history":SG,"modules/keyboard":QS,"modules/uploader":AG,"modules/input":$3e,"modules/uiNode":W3e});class G3e extends Gu{add(t,r){let n=0;if(r==="+1"||r==="-1"){const a=this.value(t)||0;n=r==="+1"?a+1:a-1}else typeof r=="number"&&(n=r);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,r){return super.canAdd(t,r)||super.canAdd(t,parseInt(r,10))}value(t){return parseInt(super.value(t),10)||void 0}}const Y3e=new G3e("indent","ql-indent",{scope:Jr.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class V_ extends Uo{}sr(V_,"blotName","blockquote"),sr(V_,"tagName","blockquote");class q_ extends Uo{static formats(t){return this.tagName.indexOf(t.tagName)+1}}sr(q_,"blotName","header"),sr(q_,"tagName",["H1","H2","H3","H4","H5","H6"]);class dw extends Dg{}dw.blotName="list-container";dw.tagName="OL";class uw extends Uo{static create(t){const r=super.create();return r.setAttribute("data-list",t),r}static formats(t){return t.getAttribute("data-list")||void 0}static register(){qt.register(dw)}constructor(t,r){super(t,r);const n=r.ownerDocument.createElement("span"),a=i=>{if(!t.isEnabled())return;const o=this.statics.formats(r,t);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};n.addEventListener("mousedown",a),n.addEventListener("touchstart",a),this.attachUI(n)}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-list",r):super.format(t,r)}}uw.blotName="list";uw.tagName="LI";dw.allowedChildren=[uw];uw.requiredContainer=dw;class c2 extends zh{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}sr(c2,"blotName","bold"),sr(c2,"tagName",["STRONG","B"]);class z_ extends c2{}sr(z_,"blotName","italic"),sr(z_,"tagName",["EM","I"]);class op extends zh{static create(t){const r=super.create(t);return r.setAttribute("href",this.sanitize(t)),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(t){return t.getAttribute("href")}static sanitize(t){return EG(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,r){t!==this.statics.blotName||!r?super.format(t,r):this.domNode.setAttribute("href",this.constructor.sanitize(r))}}sr(op,"blotName","link"),sr(op,"tagName","A"),sr(op,"SANITIZED_URL","about:blank"),sr(op,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function EG(e,t){const r=document.createElement("a");r.href=e;const n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}class H_ extends zh{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}sr(H_,"blotName","script"),sr(H_,"tagName",["SUB","SUP"]);class W_ extends c2{}sr(W_,"blotName","strike"),sr(W_,"tagName",["S","STRIKE"]);class G_ extends zh{}sr(G_,"blotName","underline"),sr(G_,"tagName","U");class _j extends Z6{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const r=super.create(t);return typeof t=="string"&&(window.katex.render(t,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",t)),r}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}sr(_j,"blotName","formula"),sr(_j,"className","ql-formula"),sr(_j,"tagName","SPAN");const tM=["alt","height","width"];class Y_ extends Xc{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("src",this.sanitize(t)),r}static formats(t){return tM.reduce((r,n)=>(t.hasAttribute(n)&&(r[n]=t.getAttribute(n)),r),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return EG(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,r){tM.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}}sr(Y_,"blotName","image"),sr(Y_,"tagName","IMG");const rM=["height","width"];class kj extends Dd{static create(t){const r=super.create(t);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("src",this.sanitize(t)),r}static formats(t){return rM.reduce((r,n)=>(t.hasAttribute(n)&&(r[n]=t.getAttribute(n)),r),{})}static sanitize(t){return op.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,r){rM.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}sr(kj,"blotName","video"),sr(kj,"className","ql-video"),sr(kj,"tagName","IFRAME");const tb=new Gu("code-token","hljs",{scope:Jr.INLINE});class Yf extends zh{static formats(t,r){for(;t!=null&&t!==r.domNode;){if(t.classList&&t.classList.contains(fl.className))return super.formats(t,r);t=t.parentNode}}constructor(t,r,n){super(t,r,n),tb.add(this.domNode,n)}format(t,r){t!==Yf.blotName?super.format(t,r):r?tb.add(this.domNode,r):(tb.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),tb.value(this.domNode)||this.unwrap()}}Yf.blotName="code-token";Yf.className="ql-token";class kd extends fl{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("data-language",t),r}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-language",r):super.format(t,r)}replaceWith(t,r){return this.formatAt(0,this.length(),Yf.blotName,!1),super.replaceWith(t,r)}}class db extends Pg{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,r){t===kd.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,r)}))}formatAt(t,r,n,a){n===kd.blotName&&(this.forceNext=!0),super.formatAt(t,r,n,a)}highlight(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=kd.formats(this.children.head.domNode);if(r||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const o=this.children.reduce((c,d)=>c.concat(cG(d,!1)),new Kr),l=t(a,i);o.diff(l).reduce((c,d)=>{let{retain:h,attributes:m}=d;return h?(m&&Object.keys(m).forEach(p=>{[kd.blotName,Yf.blotName].includes(p)&&this.formatAt(c,h,p,m[p])}),c+h):c},0)}this.cachedText=a,this.forceNext=!1}}html(t,r){const[n]=this.children.find(t);return`<pre data-language="${n?kd.formats(n.domNode):"plain"}">
${KS(this.code(t,r))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const r=kd.formats(this.children.head.domNode);r!==this.uiNode.value&&(this.uiNode.value=r)}}}db.allowedChildren=[kd];kd.requiredContainer=db;kd.allowedChildren=[Yf,Jy,Uu,Yu];const K3e=(e,t,r)=>{if(typeof e.versionString=="string"){const n=e.versionString.split(".")[0];if(parseInt(n,10)>=11)return e.highlight(r,{language:t}).value}return e.highlight(t,r).value};class CG extends Ku{static register(){qt.register(Yf,!0),qt.register(kd,!0),qt.register(db,!0)}constructor(t,r){if(super(t,r),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,a)=>{let{key:i}=a;return n[i]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(qt.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof db))return;const r=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:a,label:i}=n;const o=r.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",a),r.appendChild(o)}),r.addEventListener("change",()=>{t.format(kd.blotName,r.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(r),t.children.head&&(r.value=kd.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(qt.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(qt.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(db):[t]).forEach(i=>{i.highlight(this.highlightBlot,r)}),this.quill.update(qt.sources.SILENT),n!=null&&this.quill.setSelection(n,qt.sources.SILENT)}highlightBlot(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(r=this.languages[r]?r:"plain",r==="plain")return KS(t).split(`
`).reduce((a,i,o)=>(o!==0&&a.insert(`
`,{[fl.blotName]:r}),a.insert(i)),new Kr);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(fl.className),n.innerHTML=K3e(this.options.hljs,r,t),aD(this.quill.scroll,n,[(a,i)=>{const o=tb.value(a);return o?i.compose(new Kr().retain(i.length(),{[Yf.blotName]:o})):i}],[(a,i)=>a.data.split(`
`).reduce((o,l,c)=>(c!==0&&o.insert(`
`,{[fl.blotName]:r}),o.insert(l)),i)],new WeakMap)}}CG.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const wb=class wb extends Uo{static create(t){const r=super.create();return t?r.setAttribute("data-row",t):r.setAttribute("data-row",iD()),r}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,r){t===wb.blotName&&r?this.domNode.setAttribute("data-row",r):super.format(t,r)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};sr(wb,"blotName","table"),sr(wb,"tagName","TD");let Au=wb;class Kf extends Dg{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),r=this.children.tail.formats(),n=this.next.children.head.formats(),a=this.next.children.tail.formats();return t.table===r.table&&t.table===n.table&&t.table===a.table}return!1}optimize(t){super.optimize(t),this.children.forEach(r=>{if(r.next==null)return;const n=r.formats(),a=r.next.formats();if(n.table!==a.table){const i=this.splitAfter(r);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}sr(Kf,"blotName","table-row"),sr(Kf,"tagName","TR");class Fh extends Dg{}sr(Fh,"blotName","table-body"),sr(Fh,"tagName","TBODY");class tv extends Dg{balanceCells(){const t=this.descendants(Kf),r=t.reduce((n,a)=>Math.max(a.children.length,n),0);t.forEach(n=>{new Array(r-n.children.length).fill(0).forEach(()=>{let a;n.children.head!=null&&(a=Au.formats(n.children.head.domNode));const i=this.scroll.create(Au.blotName,a);n.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(r=>r.children.at(t))}deleteColumn(t){const[r]=this.descendant(Fh);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(t);a!=null&&a.remove()})}insertColumn(t){const[r]=this.descendant(Fh);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(t),i=Au.formats(n.children.head.domNode),o=this.scroll.create(Au.blotName,i);n.insertBefore(o,a)})}insertRow(t){const[r]=this.descendant(Fh);if(r==null||r.children.head==null)return;const n=iD(),a=this.scroll.create(Kf.blotName);r.children.head.children.forEach(()=>{const o=this.scroll.create(Au.blotName,n);a.appendChild(o)});const i=r.children.at(t);r.insertBefore(a,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(r=>r)}}sr(tv,"blotName","table-container"),sr(tv,"tagName","TABLE");tv.allowedChildren=[Fh];Fh.requiredContainer=tv;Fh.allowedChildren=[Kf];Kf.requiredContainer=Fh;Kf.allowedChildren=[Au];Au.requiredContainer=Kf;function iD(){return`row-${Math.random().toString(36).slice(2,6)}`}let Q3e=class extends Ku{static register(){qt.register(Au),qt.register(Kf),qt.register(Fh),qt.register(tv)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(tv).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,r]=this.getTable();r!=null&&(t.deleteColumn(r.cellOffset()),this.quill.update(qt.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(qt.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const r=t.offset();t.remove(),this.quill.update(qt.sources.USER),this.quill.setSelection(r,qt.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[r,n]=this.quill.getLine(t.index);if(r==null||r.statics.blotName!==Au.blotName)return[null,null,null,-1];const a=r.parent;return[a.parent.parent,a,r,n]}insertColumn(t){const r=this.quill.getSelection();if(!r)return;const[n,a,i]=this.getTable(r);if(i==null)return;const o=i.cellOffset();n.insertColumn(o+t),this.quill.update(qt.sources.USER);let l=a.rowOffset();t===0&&(l+=1),this.quill.setSelection(r.index+l,r.length,qt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const r=this.quill.getSelection();if(!r)return;const[n,a,i]=this.getTable(r);if(i==null)return;const o=a.rowOffset();n.insertRow(o+t),this.quill.update(qt.sources.USER),t>0?this.quill.setSelection(r,qt.sources.SILENT):this.quill.setSelection(r.index+a.children.length,r.length,qt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,r){const n=this.quill.getSelection();if(n==null)return;const a=new Array(t).fill(0).reduce(i=>{const o=new Array(r).fill(`
`).join("");return i.insert(o,{table:iD()})},new Kr().retain(n.index));this.quill.updateContents(a,qt.sources.USER),this.quill.setSelection(n.index,qt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(qt.events.SCROLL_OPTIMIZE,t=>{t.some(r=>["TD","TR","TBODY","TABLE"].includes(r.target.tagName)?(this.quill.once(qt.events.TEXT_CHANGE,(n,a,i)=>{i===qt.sources.USER&&this.balanceTables()}),!0):!1)})}};const sM=rm("quill:toolbar");class oD extends Ku{constructor(t,r){var n,a;if(super(t,r),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),X3e(i,this.options.container),(a=(n=t.container)==null?void 0:n.parentNode)==null||a.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){sM.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var l;const o=(l=this.options.handlers)==null?void 0:l[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(qt.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,r){this.handlers[t]=r}attach(t){let r=Array.from(t.classList).find(a=>a.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[r]==null&&this.quill.scroll.query(r)==null){sM.warn("ignoring attaching to nonexistent format",r,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,a=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const l=t.options[t.selectedIndex];l.hasAttribute("selected")?i=!1:i=l.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),a.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,i);else if(this.quill.scroll.query(r).prototype instanceof Xc){if(i=prompt(`Enter ${r}`),!i)return;this.quill.updateContents(new Kr().retain(o.index).delete(o.length).insert({[r]:i}),qt.sources.USER)}else this.quill.format(r,i,qt.sources.USER);this.update(o)}),this.controls.push([r,t])}update(t){const r=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[a,i]=n;if(i.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(r[a]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(r[a])){let l=r[a];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${l}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=r[a],l=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",l),i.setAttribute("aria-pressed",l.toString())}else{const o=r[a]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}oD.DEFAULTS={};function nM(e,t,r){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),r!=null?(n.value=r,n.setAttribute("aria-label",`${t}: ${r}`)):n.setAttribute("aria-label",t),e.appendChild(n)}function X3e(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(r=>{const n=document.createElement("span");n.classList.add("ql-formats"),r.forEach(a=>{if(typeof a=="string")nM(n,a);else{const i=Object.keys(a)[0],o=a[i];Array.isArray(o)?Z3e(n,i,o):nM(n,i,o)}}),e.appendChild(n)})}function Z3e(e,t,r){const n=document.createElement("select");n.classList.add(`ql-${t}`),r.forEach(a=>{const i=document.createElement("option");a!==!1?i.setAttribute("value",String(a)):i.setAttribute("selected","selected"),n.appendChild(i)}),e.appendChild(n)}oD.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(r=>{this.quill.scroll.query(r,Jr.INLINE)!=null&&this.quill.format(r,!1,qt.sources.USER)})}else this.quill.removeFormat(e.index,e.length,qt.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();e==="rtl"&&t==null?this.quill.format("align","right",qt.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,qt.sources.USER),this.quill.format("direction",e,qt.sources.USER)},indent(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0,10);if(e==="+1"||e==="-1"){let a=e==="+1"?1:-1;r.direction==="rtl"&&(a*=-1),this.quill.format("indent",n+a,qt.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,qt.sources.USER)},list(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t);e==="check"?r.list==="checked"||r.list==="unchecked"?this.quill.format("list",!1,qt.sources.USER):this.quill.format("list","unchecked",qt.sources.USER):this.quill.format("list",e,qt.sources.USER)}}};const J3e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',eCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',tCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',rCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',sCe='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',nCe='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',aCe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',iCe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',aM='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',oCe='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',lCe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',cCe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',dCe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',uCe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',hCe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',fCe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',mCe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',pCe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',gCe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',xCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',yCe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',vCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',bCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',wCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',NCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',jCe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',SCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',ACe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',ECe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',CCe='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',_Ce='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',kCe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',TCe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',d2={align:{"":J3e,center:eCe,right:tCe,justify:rCe},background:sCe,blockquote:nCe,bold:aCe,clean:iCe,code:aM,"code-block":aM,color:oCe,direction:{"":lCe,rtl:cCe},formula:dCe,header:{1:uCe,2:hCe,3:fCe,4:mCe,5:pCe,6:gCe},italic:xCe,image:yCe,indent:{"+1":vCe,"-1":bCe},link:wCe,list:{bullet:NCe,check:jCe,ordered:SCe},script:{sub:ACe,super:ECe},strike:CCe,table:_Ce,underline:kCe,video:TCe},DCe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let iM=0;function oM(e,t){e.setAttribute(t,`${e.getAttribute(t)!=="true"}`)}class XS{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),r.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),oM(this.label,"aria-expanded"),oM(this.options,"aria-hidden")}buildItem(t){const r=document.createElement("span");r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&r.setAttribute("data-value",n),t.textContent&&r.setAttribute("data-label",t.textContent),r.addEventListener("click",()=>{this.selectItem(r,!0)}),r.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(r,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),r}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=DCe,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${iM}`,iM+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(r=>{const n=this.buildItem(r);t.appendChild(n),r.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),r&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const r=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}class _G extends XS{constructor(t,r){super(t),this.label.innerHTML=r,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const r=super.buildItem(t);return r.style.backgroundColor=t.getAttribute("value")||"",r}selectItem(t,r){super.selectItem(t,r);const n=this.label.querySelector(".ql-color-label"),a=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=a:n.style.fill=a)}}class kG extends XS{constructor(t,r){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=r[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,r){super.selectItem(t,r);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const PCe=e=>{const{overflowY:t}=getComputedStyle(e,null);return t!=="visible"&&t!=="clip"};class TG{constructor(t,r){this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,PCe(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const r=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${r}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>a.right&&(o=a.right-i.right,this.root.style.left=`${r+o}px`),i.left<a.left&&(o=a.left-i.left,this.root.style.left=`${r+o}px`),i.bottom>a.bottom){const l=i.bottom-i.top,c=t.bottom-t.top+l;this.root.style.top=`${n-c}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const OCe=[!1,"center","right","justify"],RCe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],ICe=[!1,"serif","monospace"],LCe=["1","2","3",!1],MCe=["small",!1,"large","huge"];class hw extends ev{constructor(t,r){super(t,r);const n=a=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(a.target)||i.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const r=super.addModule(t);return t==="toolbar"&&this.extendToolbar(r),r}buildButtons(t,r){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),r[i]!=null))if(i==="direction")n.innerHTML=r[i][""]+r[i].rtl;else if(typeof r[i]=="string")n.innerHTML=r[i];else{const o=n.value||"";o!=null&&r[i][o]&&(n.innerHTML=r[i][o])}})})}buildPickers(t,r){this.pickers=Array.from(t).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&V1(a,OCe),typeof r.align=="object"))return new kG(a,r.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const i=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&V1(a,RCe,i==="background"?"#ffffff":"#000000"),new _G(a,r[i])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?V1(a,ICe):a.classList.contains("ql-header")?V1(a,LCe):a.classList.contains("ql-size")&&V1(a,MCe)),new XS(a)});const n=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(Ur.events.EDITOR_CHANGE,n)}}hw.DEFAULTS=pp({},ev.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class DG extends TG{constructor(t,r){super(t,r),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;r!=null?this.textbox.value=r:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:r}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,Ur.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,Ur.sources.USER)),this.quill.root.scrollTop=r;break}case"video":t=FCe(t);case"formula":{if(!t)break;const r=this.quill.getSelection(!0);if(r!=null){const n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,Ur.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",Ur.sources.USER),this.quill.setSelection(n+2,Ur.sources.USER)}break}}this.textbox.value="",this.hide()}}function FCe(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}function V1(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const a=document.createElement("option");n===r?a.setAttribute("selected","selected"):a.setAttribute("value",String(n)),e.appendChild(a)})}const BCe=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class PG extends DG{constructor(t,r){super(t,r),this.quill.on(Ur.events.EDITOR_CHANGE,(n,a,i,o)=>{if(n===Ur.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&o===Ur.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(a.index,a.length);if(l.length===1){const c=this.quill.getBounds(a);c!=null&&this.position(c)}else{const c=l[l.length-1],d=this.quill.getIndex(c),h=Math.min(c.length()-1,a.index+a.length-d),m=this.quill.getBounds(new og(d,h));m!=null&&this.position(m)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ur.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const r=this.quill.getBounds(t);r!=null&&this.position(r)}},1)})}cancel(){this.show()}position(t){const r=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",r!==0&&(n.style.marginLeft=`${-1*r-n.offsetWidth/2}px`),r}}sr(PG,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class OG extends hw{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=BCe),super(t,r),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new PG(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),d2),this.buildPickers(t.container.querySelectorAll("select"),d2))}}OG.DEFAULTS=pp({},hw.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,qt.sources.USER)}}}}});const UCe=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class RG extends DG{constructor(){super(...arguments);sr(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",r=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),r.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",r=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,Ur.sources.USER),delete this.linkRange}r.preventDefault(),this.hide()}),this.quill.on(Ur.events.SELECTION_CHANGE,(r,n,a)=>{if(r!=null){if(r.length===0&&a===Ur.sources.USER){const[i,o]=this.quill.scroll.descendant(op,r.index);if(i!=null){this.linkRange=new og(r.index-o,i.length());const l=op.formats(i.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}sr(RG,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class IG extends hw{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=UCe),super(t,r),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),d2),this.buildPickers(t.container.querySelectorAll("select"),d2),this.tooltip=new RG(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(r,n)=>{t.handlers.link.call(t,!n.format.link)}))}}IG.DEFAULTS=pp({},hw.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const t=this.quill.getSelection();if(t==null||t.length===0)return;let r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0&&(r=`mailto:${r}`);const{tooltip:n}=this.quill.theme;n.edit("link",r)}else this.quill.format("link",!1,qt.sources.USER)}}}}});qt.register({"attributors/attribute/direction":mG,"attributors/class/align":uG,"attributors/class/background":n3e,"attributors/class/color":s3e,"attributors/class/direction":pG,"attributors/class/font":yG,"attributors/class/size":bG,"attributors/style/align":hG,"attributors/style/background":tD,"attributors/style/color":eD,"attributors/style/direction":gG,"attributors/style/font":vG,"attributors/style/size":wG},!0);qt.register({"formats/align":uG,"formats/direction":pG,"formats/indent":Y3e,"formats/background":tD,"formats/color":eD,"formats/font":yG,"formats/size":bG,"formats/blockquote":V_,"formats/code-block":fl,"formats/header":q_,"formats/list":uw,"formats/bold":c2,"formats/code":rD,"formats/italic":z_,"formats/link":op,"formats/script":H_,"formats/strike":W_,"formats/underline":G_,"formats/formula":_j,"formats/image":Y_,"formats/video":kj,"modules/syntax":CG,"modules/table":Q3e,"modules/toolbar":oD,"themes/bubble":OG,"themes/snow":IG,"ui/icons":d2,"ui/picker":XS,"ui/icon-picker":kG,"ui/color-picker":_G,"ui/tooltip":TG},!0);class ZS extends We.Component{constructor(t){super(t),this.editingAreaRef=y.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(n,a,i,o)=>{var l,c;n==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,a,o,this.unprivilegedEditor):n==="selection-change"&&((c=this.onEditorChangeSelection)==null||c.call(this,a,o,this.unprivilegedEditor))};const r=this.isControlled()?t.value:t.defaultValue;this.value=r??""}validateProps(t){if(We.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(We.Children.count(t.children)){const r=We.Children.only(t.children);if((r==null?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(t,r){if(this.validateProps(t),!this.editor||this.state.generation!==r.generation)return!0;if("value"in t){const n=this.getEditorContents(),a=t.value??"";this.isEqualValue(a,n)||this.setEditorContents(this.editor,a)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),[...this.cleanProps,...this.dirtyProps].some(n=>!Km(t[n],this.props[n]))}shouldComponentRegenerate(t){return this.dirtyProps.some(r=>!Km(t[r],this.props[r]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(t,r){if(this.editor&&this.shouldComponentRegenerate(t)){const n=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){const{delta:n,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const i=this.editor;i.setContents(n),lM(()=>this.setEditorSelection(i,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var n;if(!this.editor)return;this.unhookEditor(this.editor);const t=(n=this.props.modules)==null?void 0:n.toolbar;if(!(typeof t=="object"&&t&&"container"in t&&typeof t.container=="string"||typeof t=="string")){const a=document.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(t,r){const n=new qt(t,r);return r.tabIndex!=null&&this.setEditorTabIndex(n,r.tabIndex),this.hookEditor(n),n}hookEditor(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)}unhookEditor(t){t.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(t){return t&&t.ops}isEqualValue(t,r){return this.isDelta(t)&&this.isDelta(r)?Km(t.ops,r.ops):Km(t,r)}setEditorContents(t,r){this.value=r;const n=this.getEditorSelection();typeof r=="string"?t.setContents(t.clipboard.convert({html:r})):t.setContents(r),lM(()=>this.setEditorSelection(t,n))}setEditorSelection(t,r){if(this.selection=r,r){const n=t.getLength();r.index=Math.max(0,Math.min(r.index,n-1)),r.length=Math.max(0,Math.min(r.length,n-1-r.index)),t.setSelection(r)}}setEditorTabIndex(t,r){var n;(n=t==null?void 0:t.scroll)!=null&&n.domNode&&(t.scroll.domNode.tabIndex=r)}setEditorReadOnly(t,r){r?t.disable():t.enable()}makeUnprivilegedEditor(t){const r=t;return{getHTML:()=>r.root.innerHTML,getSemanticHTML:r.getSemanticHTML.bind(r),getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}}getEditingArea(){const t=this.editingAreaRef.current;if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t}renderEditingArea(){const{children:t,preserveWhitespace:r}=this.props,{generation:n}=this.state,a={key:n,ref:this.editingAreaRef};return We.Children.count(t)?We.cloneElement(We.Children.only(t),a):r?We.createElement("pre",{...a}):We.createElement("div",{...a})}render(){return We.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(t,r,n,a){var o,l;if(!this.editor)return;const i=this.isDelta(this.value)?a.getContents():a.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=i,(l=(o=this.props).onChange)==null||l.call(o,t,r,n,a))}onEditorChangeSelection(t,r,n){var l,c,d,h,m,p;if(!this.editor)return;const a=this.getEditorSelection(),i=!a&&t,o=a&&!t;Km(t,a)||(this.selection=t,(c=(l=this.props).onChangeSelection)==null||c.call(l,t,r,n),i?(h=(d=this.props).onFocus)==null||h.call(d,t,r,n):o&&((p=(m=this.props).onBlur)==null||p.call(m,a,r,n)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}ZS.displayName="React Quill";ZS.Quill=qt;ZS.defaultProps={theme:"snow",modules:{},readOnly:!1};function lM(e){Promise.resolve().then(e)}const $Ce=async()=>(await $t("/admin/categories?limit=1000")).categories,VCe=(e,t)=>en(`/products/${e}/variants/bulk`,{variants:t}),qCe=5*1024*1024,LG=["image/jpeg","image/jpg","image/png","image/webp","image/gif"],zCe=In({id:dc().optional(),hsnCode:Ft().optional().nullable(),mrp:Ti.number().positive("MRP must be positive"),sellingPrice:Ti.number().positive("Selling price must be positive"),purchasePrice:Ti.number().positive("Purchase price must be positive"),name:Ft().min(1,"Variant name is required"),gstRate:Ti.number().min(0,"GST rate cannot be negative")}),HCe=In({tags:Ft().optional().nullable(),maintainStock:Fd().default(!1),name:Ft().min(1,"Product name is required"),description:Ft().optional().nullable(),isDairyProduct:Fd().default(!1),categoryId:Ti.number().positive("Please select a category").optional().nullable(),attachmentUrl:Mk(FileList).optional().nullable().refine(e=>!e||e.length===0||e[0].size<=qCe,"Max image size is 5MB.").refine(e=>!e||e.length===0||LG.includes(e[0].type),"Only .jpg, .jpeg, .png, .webp and .gif formats are supported."),variants:fg(zCe).optional()}),MG=({mode:e,productId:t,initialData:r,onSuccess:n,className:a})=>{const i=Ja(),{data:o,isLoading:l}=cs({queryKey:["categories"],queryFn:$Ce}),[c,d]=y.useState(null),[h,m]=y.useState(""),p=Ea({resolver:Ca(HCe),defaultValues:{name:"",description:"",isDairyProduct:!1,maintainStock:!1,attachmentUrl:null,variants:[],categoryId:null}}),{register:g,handleSubmit:w,reset:b,control:v,formState:{errors:N,isDirty:S}}=p;K2({control:v,name:"variants"}),y.useEffect(()=>{if(e==="edit"&&r&&o){const C={name:r.name||"",description:r.description||"",tags:r.tags||"",isDairyProduct:r.isDairyProduct||!1,maintainStock:r.maintainStock||!1,variants:r.variants||[],categoryId:r.categoryId||null};if(b(C),r.attachmentUrl){const I=`https://snf.3.7.237.251.sslip.io${r==null?void 0:r.attachmentUrl}`;d(I)}else d(null)}else e==="create"&&(b(),d(null),m(""))},[r,e,b,o]);const A=Ks({mutationFn:async({productData:C,variants:I})=>{const P=e==="create"?"/products":`/products/${t}`,F=e==="create"?en:Aa;if(e==="edit"&&!t)throw new Error("Product ID is required for update.");const k=await F(P,C),z=(k==null?void 0:k.id)||t;if(!z)throw new Error("Failed to get product ID.");return I&&I.length>0&&await VCe(z,I),k},onSuccess:C=>{ve.success(`Product ${e==="create"?"created":"updated"} successfully!`),i.invalidateQueries({queryKey:["products"]});const I=(C==null?void 0:C.id)||t;I&&i.invalidateQueries({queryKey:["product",I]}),n&&n()},onError:C=>{var P,F;const I=((F=(P=C.response)==null?void 0:P.data)==null?void 0:F.message)||C.message||"An unexpected error occurred";ve.error(`Failed to save product: ${I}`)}}),E=C=>{console.log("Submitting variants:",C.variants);const I=new FormData;I.append("name",C.name),I.append("isDairyProduct",String(C.isDairyProduct)),I.append("maintainStock",String(C.maintainStock)),C.description&&I.append("description",C.description),C.tags&&I.append("tags",C.tags),C.categoryId&&I.append("categoryId",String(C.categoryId)),C.attachmentUrl&&C.attachmentUrl.length>0?I.append("productAttachment",C.attachmentUrl[0],C.attachmentUrl[0].name):r!=null&&r.attachmentUrl&&c===null&&I.append("attachmentUrl",""),A.mutate({productData:I,variants:C.variants||[]})};return s.jsxs("form",{onSubmit:w(E),className:jt("space-y-8",a),children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Product Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(Be,{htmlFor:"name",children:"Product Name"}),s.jsx(gt,{id:"name",type:"text",...g("name"),disabled:A.isPending}),N.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"categoryId",children:"Category"}),s.jsx(Fs,{name:"categoryId",control:v,render:({field:C})=>s.jsxs(pr,{onValueChange:C.onChange,value:C.value?String(C.value):"",disabled:A.isPending||l,children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:l?"Loading...":"Select a category"})}),s.jsx(yr,{children:o==null?void 0:o.map(I=>s.jsx(wt,{value:String(I.id),children:I.name},I.id))})]},C.value)}),N.categoryId&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.categoryId.message})]}),s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(Be,{htmlFor:"tags",children:"Tags"}),s.jsx(gt,{id:"tags",type:"text",...g("tags"),disabled:A.isPending,placeholder:"e.g. organic, fresh, featured"}),N.tags&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.tags.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fs,{name:"maintainStock",control:v,render:({field:C})=>s.jsx(hl,{id:"maintainStock",checked:C.value,onCheckedChange:C.onChange,disabled:A.isPending})}),s.jsx(Be,{htmlFor:"maintainStock",children:"Maintain Stock"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(Be,{htmlFor:"description",children:"Description"}),s.jsx(Fs,{name:"description",control:v,render:({field:C})=>s.jsx(ZS,{theme:"snow",value:C.value||"",onChange:C.onChange,onBlur:C.onBlur})}),N.description&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.description.message})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[s.jsx(Fs,{name:"isDairyProduct",control:v,render:({field:C})=>s.jsx(hl,{id:"isDairyProduct",checked:C.value,onCheckedChange:C.onChange,disabled:A.isPending})}),s.jsx(Be,{htmlFor:"isDairyProduct",children:"Is this a Dairy Product?"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(Be,{htmlFor:"attachmentUrl",children:"Product Image"}),s.jsx(gt,{id:"attachmentUrl",type:"file",accept:LG.join(","),...g("attachmentUrl",{onChange:C=>{var P;const I=(P=C.target.files)==null?void 0:P[0];if(I){const F=URL.createObjectURL(I);d(F),m(I.name)}else d(null),m("")}}),disabled:A.isPending}),h&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",h]}),N.attachmentUrl&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.attachmentUrl.message}),c&&s.jsxs("div",{className:"mt-4 relative w-48 h-48 border rounded-md overflow-hidden",children:[s.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-cover"}),s.jsx(Ee,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>{d(null),m(""),p.setValue("attachmentUrl",null,{shouldDirty:!0})},children:"X"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>n==null?void 0:n(),disabled:A.isPending,children:"Cancel"}),s.jsxs(Ee,{type:"submit",disabled:A.isPending||!S,children:[A.isPending?s.jsx(Ws,{className:"animate-spin mr-2"}):null,e==="create"?"Create Product":"Save Changes"]})]})]})},WCe=()=>{const e=Ls(),t=()=>{e("/admin/products")};return s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(ku,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(St,{className:" mx-auto",children:[s.jsxs(zt,{children:[s.jsx(dr,{className:"text-2xl font-semibold",children:"Create New Product"}),s.jsx(On,{children:"Fill in the details below to add a new product to the inventory."})]}),s.jsx(_t,{children:s.jsx(MG,{mode:"create",onSuccess:t})})]})]})},GCe=()=>{const e=Ls(),{id:t}=Ji(),r=async d=>await $t(`/products/${d}`),{data:n,isLoading:a,isError:i,error:o}=cs({queryKey:["product",t],queryFn:()=>r(t),enabled:!!t,staleTime:1e3*60*2}),l=()=>{e("/admin/products")};if(!t)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(Ki,{variant:"destructive",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Error"}),s.jsx(Qi,{children:"No Product ID provided. Please go back and select a product to edit."})]})});if(a)return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(ku,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(St,{className:"max-w-4xl mx-auto",children:[s.jsxs(zt,{children:[s.jsx(vr,{className:"h-8 w-3/4 mb-2"}),s.jsx(vr,{className:"h-4 w-1/2"})]}),s.jsxs(_t,{className:"space-y-6 pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(vr,{className:"h-10 w-full"}),s.jsx(vr,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(vr,{className:"h-10 w-full"}),s.jsx(vr,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"flex justify-end pt-4",children:[s.jsx(vr,{className:"h-10 w-24 mr-2"}),s.jsx(vr,{className:"h-10 w-32"})]})]})]})]});if(i||!n)return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(ku,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(Ki,{variant:"destructive",children:[s.jsx(tc,{className:"h-4 w-4"}),s.jsx(Bo,{children:"Error Fetching Product"}),s.jsxs(Qi,{children:["There was a problem retrieving the product details. Error: ",(o==null?void 0:o.message)||"Product data not found."]})]})]});const c={...n,date:n.date?new Date(n.date):void 0,categoryId:n.categoryId??null};return s.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[s.jsx(ku,{size:16,className:"mr-2"}),"Back to Product List"]}),s.jsxs(St,{className:" mx-auto",children:[s.jsxs(zt,{children:[s.jsx(dr,{className:"text-2xl font-semibold",children:"Edit Product"}),s.jsx(On,{children:"Update the details"})]}),s.jsx(_t,{children:s.jsx(MG,{mode:"edit",productId:t,initialData:c,onSuccess:l})})]})]})},YCe=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(!0);return y.useEffect(()=>{const a=localStorage.getItem("user");if(a)try{const i=JSON.parse(a);t(i.role)}catch(i){console.error("Error parsing user data from localStorage:",i),t(null)}else t(null);n(!1)},[]),r?s.jsx("div",{children:"Loading..."}):e==="MEMBER"?s.jsx(VC,{children:s.jsx(s2,{})}):s.jsx(s2,{})},KCe=async()=>{const e=await $t("/products");return Array.isArray(e)?e.map(t=>({...t,price:t.rate})):e&&e.data?e.data.map(t=>({...t,price:t.rate})):[]},QCe=({product:e,onViewDetails:t})=>{const[r,n]=y.useState(!1),[a,i]=y.useState(!1),o={rest:{scale:1,y:0,boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)"},hover:{scale:1.03,y:-5,boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.2)",transition:{type:"spring",stiffness:350,damping:25}}},l={rest:{scale:1},hover:{scale:1.05}},c={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:20}}};return s.jsx(ta.div,{variants:o,initial:"rest",whileHover:"hover",animate:"rest",onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),onClick:()=>t(e.id),className:"h-full rounded-xl overflow-hidden cursor-pointer",children:s.jsxs(St,{className:"relative h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 transition-all duration-300 group",children:[s.jsxs("div",{className:"relative h-52 sm:h-56 overflow-hidden",children:[s.jsx(ta.div,{variants:l,className:"h-full w-full",children:e.attachmentUrl?s.jsx("img",{src:e.attachmentUrl.startsWith("http")?e.attachmentUrl:`https://snf.3.7.237.251.sslip.io${e.attachmentUrl}`,alt:e.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}):s.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-700",children:s.jsx("span",{className:"mt-2 text-xs text-gray-700 dark:text-gray-400",children:"No Image Available"})})}),s.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-black/30 to-transparent"}),s.jsxs(ta.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,type:"spring",stiffness:200},className:"absolute top-3 left-3 bg-primary text-white px-3 py-1.5 rounded-full text-xs font-semibold shadow-lg flex items-center",children:[s.jsx(X5,{size:14,className:"mr-1"})," Fresh"]}),s.jsx(B2e,{children:a&&s.jsx(ta.div,{variants:c,initial:"hidden",animate:"visible",exit:"hidden",className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex flex-col items-center justify-center p-4",onClick:d=>{d.stopPropagation(),t(e.id)},children:s.jsxs(ta.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1,transition:{delay:.1}},className:"text-white text-center",children:[s.jsx(kf,{className:"w-10 h-10 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-base font-semibold",children:"Subscribe"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Click to subscribe"})]})})})]}),s.jsxs(zt,{className:"pb-0 pt-4 px-4",children:[" ",s.jsxs("div",{className:"flex items-start justify-between space-x-2",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx(dr,{className:"text-base sm:text-lg font-semibold leading-tight line-clamp-2 text-gray-700 dark:text-gray-100 group-hover:text-primary dark:group-hover:text-primary transition-colors duration-200",children:e.name})}),s.jsx("div",{className:"flex-shrink-0 pt-1"})]})]}),s.jsxs(_t,{className:"flex-grow pt-0 pb-3 px-4",children:[s.jsxs("div",{className:"space-y-2.5",children:[s.jsx("div",{className:"flex items-baseline space-x-1.5",children:s.jsx("span",{className:"text-xl sm:text-2xl font-bold text-primary dark:text-primary",children:ws(e.price)})}),e.description&&s.jsx("div",{className:"mt-2 text-xs text-gray-700 dark:text-gray-400 prose prose-sm dark:prose-invert max-w-full",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden",textOverflow:"ellipsis",maxHeight:"4.5em"},dangerouslySetInnerHTML:{__html:e.description}}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-3",children:[s.jsxs("div",{className:"bg-primary/10 dark:bg-primary/20 rounded-md p-2 text-center flex flex-col items-center justify-center",children:[s.jsx(Y0,{size:16,className:"text-primary dark:text-primary mb-0.5"}),s.jsx("div",{className:"text-xs font-medium text-primary dark:text-primary",children:"Organic"})]}),s.jsxs("div",{className:"bg-primary/10 dark:bg-primary/20 rounded-md p-2 text-center flex flex-col items-center justify-center",children:[s.jsx(Ol,{size:16,className:"text-primary dark:text-primary mb-0.5"}),s.jsx("div",{className:"text-xs font-medium text-primary dark:text-primary",children:"Certified"})]})]})]})," "]}),s.jsx(Op,{className:"pt-2 pb-4 px-4",children:s.jsx(ta.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full",children:s.jsxs(Ee,{className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold py-2.5 sm:py-3 shadow-md hover:shadow-lg transition-all duration-200 group text-sm sm:text-base rounded-lg",onClick:d=>{d.stopPropagation(),t(e.id)},"aria-label":`Subscribe for ${e.name}`,children:[s.jsx(kf,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 transition-transform duration-200 group-hover:scale-110"}),"Subscribe"]})})})]})})},XCe=()=>{const e=Ls(),{data:t,isLoading:r,isError:n,error:a}=cs({queryKey:["memberPublicProducts"],queryFn:KCe}),i=t||[],o=c=>{e(`/member/products/${c}`)},l=()=>s.jsxs(St,{className:"overflow-hidden bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg",children:[s.jsx(vr,{className:"h-52 sm:h-56 w-full bg-gray-200 dark:bg-gray-700"}),s.jsxs(zt,{className:"pb-2 pt-4",children:[s.jsx(vr,{className:"h-5 w-3/4 mb-2 bg-gray-200 dark:bg-gray-700"}),s.jsx(vr,{className:"h-3 w-1/2 bg-gray-200 dark:bg-gray-700"})]}),s.jsxs(_t,{className:"pt-2 pb-3",children:[s.jsx(vr,{className:"h-6 w-1/3 mb-2 bg-gray-200 dark:bg-gray-700"}),s.jsx(vr,{className:"h-3 w-full mb-1 bg-gray-200 dark:bg-gray-700"}),s.jsx(vr,{className:"h-3 w-5/6 mb-3 bg-gray-200 dark:bg-gray-700"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[s.jsx(vr,{className:"h-10 rounded-md bg-gray-200 dark:bg-gray-700"}),s.jsx(vr,{className:"h-10 rounded-md bg-gray-200 dark:bg-gray-700"})]})]}),s.jsx(Op,{className:"pt-2 pb-4 px-4",children:s.jsx(vr,{className:"h-10 sm:h-12 w-full rounded-lg bg-gray-200 dark:bg-gray-700"})})]});return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-gray-850 dark:to-gray-900 py-8 sm:py-12",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[s.jsx(vr,{className:"h-10 sm:h-12 w-3/5 sm:w-1/2 mx-auto mb-4 bg-gray-300 dark:bg-gray-700"}),s.jsx(vr,{className:"h-5 sm:h-6 w-4/5 sm:w-2/3 mx-auto bg-gray-300 dark:bg-gray-700"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:[...Array(8)].map((c,d)=>s.jsx(l,{},d))})]})}):n&&a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(Ki,{variant:"destructive",className:"max-w-lg mx-auto bg-red-100 dark:bg-red-900/50 border-red-500 dark:border-red-700 p-6 rounded-lg shadow-xl",children:[s.jsx(Tu,{className:"h-6 w-6 text-red-700 dark:text-red-400"}),s.jsx(Bo,{className:"text-xl font-semibold text-red-800 dark:text-red-300",children:"Oops! Something went wrong."}),s.jsx(Qi,{className:"text-gray-700 dark:text-red-400 mt-1",children:(a==null?void 0:a.message)||"We couldn't fetch the products at this moment. Please try refreshing the page or check back later."}),s.jsx(Ee,{variant:"outline",className:"mt-4 border-primary text-primary hover:bg-primary/10 dark:border-primary dark:text-primary dark:hover:bg-primary/20",onClick:()=>window.location.reload(),children:"Refresh Page"})]})})}):i.length===0?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:s.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:s.jsxs(ta.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},children:[s.jsx(Hn,{size:72,className:"mx-auto mb-6 text-primary dark:text-primary"}),s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-3 text-gray-700 dark:text-gray-100",children:"No Products Found"}),s.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-400 max-w-md mx-auto",children:"It seems we're all out of stock for now! Please check back soon for fresh arrivals."}),s.jsx(Ee,{className:"mt-8 bg-primary hover:bg-primary/90 text-white",onClick:()=>window.location.reload(),children:"Check Again"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-slate-800 dark:to-gray-900 selection:bg-primary selection:text-white",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-10 sm:py-16",children:[s.jsxs(ta.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"mb-12 sm:mb-20",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:s.jsx(po,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:"Our Products"})]}),s.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"}),s.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-700 dark:text-gray-300 max-w-xl lg:max-w-2xl leading-relaxed",children:"Explore a curated selection of farm-fresh dairy, organic groceries, and artisanal goods. Subscribe for convenience and quality, delivered to your door."})]}),s.jsx(ta.div,{initial:"hidden",animate:"visible",variants:{visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.2}},hidden:{opacity:0}},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:i.map(c=>s.jsx(ta.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},children:s.jsx(QCe,{product:c,onViewDetails:o})},c.id))})]})})},ZCe=({selectable:e=!1,onSelect:t,selectedAddressId:r})=>{const n=Ls(),a=Ja(),[i,o]=y.useState(null),{data:l,isLoading:c,isError:d,error:h}=cs({queryKey:["addresses"],queryFn:async()=>await $t("/delivery-addresses")}),m=Ks({mutationFn:async N=>await Oi(`/delivery-addresses/${N}/set-default`,{}),onSuccess:()=>{a.invalidateQueries({queryKey:["addresses"]}),ve.success("Default address updated successfully")},onError:N=>{ve.error(N.message||"Failed to update default address")}}),p=Ks({mutationFn:async N=>await mi(`/delivery-addresses/${N}`),onSuccess:()=>{a.invalidateQueries({queryKey:["addresses"]}),ve.success("Address deleted successfully"),o(null)},onError:N=>{ve.error(N.message||"Failed to delete address")}}),g=N=>{m.mutate(N)},w=()=>{i&&p.mutate(i)},b=N=>{n(`/member/addresses/edit/${N}`)},v=N=>{e&&t&&t(N)};return c?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((N,S)=>s.jsx(St,{className:"w-full",children:s.jsx(_t,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(vr,{className:"h-4 w-3/4"}),s.jsx(vr,{className:"h-4 w-1/2"}),s.jsx(vr,{className:"h-4 w-5/6"})]})})},S))}):d?s.jsxs("div",{className:"text-center p-4 text-red-500",children:["Error loading addresses: ",(h==null?void 0:h.message)||"Unknown error"]}):!l||l.length===0?s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"mb-4",children:"You don't have any saved addresses yet."}),s.jsxs(Ee,{onClick:()=>n("/member/addresses/create"),children:[s.jsx(xa,{className:"mr-2 h-4 w-4"})," Add New Delivery Address"]})]}):s.jsxs("div",{className:"space-y-4",children:[!e&&s.jsx("div",{className:"flex justify-between items-center mb-4"}),l.map(N=>s.jsx(St,{className:`w-full transition-all ${e?"cursor-pointer hover:border-primary hover:shadow-md":""} ${r===N.id?"border-2 border-primary shadow-md":""}`,onClick:()=>e&&v(N),children:s.jsx(_t,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-medium text-base sm:text-lg truncate",children:N.recipientName}),N.label&&s.jsx(Gr,{variant:"secondary",className:"mr-2 font-normal ",children:N.label}),N.isDefault&&s.jsxs(Gr,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[s.jsx(Dk,{className:"h-3 w-3 mr-1"}),"Default"]})]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[N.plotBuilding,", ",N.streetArea,N.landmark&&`, Near ${N.landmark}`]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[N.city,", ",N.state," - ",N.pincode]}),s.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:["Mobile: ",N.mobile]})]}),!e&&s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 sm:mt-0",children:[!N.isDefault&&s.jsxs(Ee,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",onClick:S=>{S.stopPropagation(),g(N.id)},children:[s.jsx(Ol,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Set Default"}),s.jsx("span",{className:"sm:hidden",children:"Default"})]}),s.jsxs(Ee,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",onClick:S=>{S.stopPropagation(),b(N.id)},children:[s.jsx(yl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"ml-1 hidden sm:inline",children:"Edit"})]})]})]})})},N.id)),s.jsx(pi,{open:!!i,onOpenChange:N=>!N&&o(null),children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Are you sure?"}),s.jsx(bi,{children:"This will permanently delete this address. This action cannot be undone."})]}),s.jsxs(yi,{children:[s.jsx(wi,{children:"Cancel"}),s.jsx(Ii,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},JCe=()=>{const e=Ls();return s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 max-sm:flex-col",children:[s.jsxs("div",{className:"",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Delivery Addresses"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your delivery addresses"})]}),s.jsxs(Ee,{onClick:()=>e("/member/addresses/create"),children:[s.jsx(xa,{className:"mr-2 h-4 w-4"})," Add New Delivery Address"]})]}),s.jsx(ZCe,{})]})},e_e=In({recipientName:Ft().min(1,"Recipient name is required"),mobile:Ft().min(1,"Mobile number is required").regex(/^\d{10,}$/,"Mobile number must be at least 10 digits and contain only numbers"),plotBuilding:Ft().min(1,"Flat/House/Plot number is required"),streetArea:Ft().min(1,"Street/Area name is required"),landmark:Ft().min(1,"Landmark is required"),pincode:Ft().min(1,"Pincode is required").regex(/^\d{6}$/,"Pincode must be exactly 6 numeric digits"),city:Ft().min(1,"City is required"),state:Ft().min(1,"State is required"),isDefault:Fd().default(!1),label:_2(["Home","Work","Other"]).optional().default("Home"),locationId:Ft().optional()}),FG=({mode:e,addressId:t,initialData:r,onSuccess:n,onCancel:a,onBack:i,depotId:o,locations:l})=>{var H,K,W,re,te;const c=Ls(),d=e==="edit",[h,m]=y.useState(l||[]),[p,g]=y.useState(!1),[w,b]=y.useState([]),[v,N]=y.useState([]),[S,A]=y.useState([]),[E,C]=y.useState(null),[I,P]=y.useState(null),[F,k]=y.useState({isValid:!1,message:"",isValidating:!1}),[z,O]=y.useState(!1),[M,R]=y.useState(""),[B,Y]=y.useState(!1);y.useEffect(()=>{(async()=>{if(l&&l.length>0){m(l);return}g(!0);try{const se=await $t("/public/locations");se&&se.data&&Array.isArray(se.data.locations)?m(se.data.locations):se&&Array.isArray(se)&&m(se)}catch(se){console.error("Failed to fetch locations:",se),ve.error("Could not load locations.")}finally{g(!1)}})()},[l]),y.useEffect(()=>{U(),Q()},[]);const U=async()=>{try{const ie=await B6();b(ie)}catch(ie){console.error("Failed to fetch area masters:",ie),ve.error("Could not load delivery areas.")}},Q=async()=>{try{const ie=await ow();A(ie)}catch(ie){console.error("Failed to fetch cities:",ie),ve.error("Could not load cities.")}};y.useEffect(()=>{if(E&&w.length>0){const ie=w.filter(se=>{var le;return se.cityId?se.cityId===E:(le=se.city)!=null&&le.id?se.city.id===E:!1});N(ie)}else N(w)},[E,w]);const V=ie=>{var le;P(ie),(le=ie.city)!=null&&le.name&&ae.setValue("city",ie.city.name);const se=ae.getValues("pincode");se&&se.length===6&&Z(se,ie)},Z=(ie,se)=>{const le=se||I;if(console.log("validatePincode called with:",{pincode:ie,currentAreaMaster:le==null?void 0:le.name}),ie.length===6&&/^\d{6}$/.test(ie)){k({isValid:!1,message:"",isValidating:!0});const De=Qy(ie,[le].filter(Boolean)).isValid;k({isValid:De,message:De?"Great ! We deliver in your location":`We currently don't serve pincode ${ie} in ${(le==null?void 0:le.name)||"this area"}.`,isValidating:!1}),Y(!De&&ie.length===6)}},J=()=>{const ie=ae.getValues(),se=I?`We currently don't serve pincode ${ie.pincode} in ${I.name}. Help us prioritize expanding to your area!`:`We currently don't serve pincode ${ie.pincode}. Help us prioritize expanding to your area!`;R(se),O(!0)},ae=Ea({resolver:Ca(e_e),defaultValues:r?{recipientName:r.recipientName,mobile:r.mobile,plotBuilding:r.plotBuilding,streetArea:r.streetArea,locationId:r.locationId?String(r.locationId):void 0,landmark:r.landmark||"",pincode:r.pincode,city:r.city,state:r.state,isDefault:r.isDefault,label:r.label==="Home"||r.label==="Work"||r.label==="Other"?r.label:"Home"}:{recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}});y.useEffect(()=>{r&&(console.log("Initial data:",r),console.log("LocationId from initial data:",r.locationId),console.log("Converted locationId:",r.locationId?String(r.locationId):void 0),ae.reset({recipientName:r.recipientName,mobile:r.mobile,plotBuilding:r.plotBuilding,streetArea:r.streetArea,locationId:r.locationId?String(r.locationId):void 0,landmark:r.landmark||"",pincode:r.pincode,city:r.city,state:r.state,isDefault:r.isDefault,label:r.label==="Home"||r.label==="Work"||r.label==="Other"?r.label:"Home"}))},[r,ae]),y.useEffect(()=>{if(r&&w.length>0&&S.length>0&&!I){console.log("Looking for matching area master for existing address:",{city:r.city,pincode:r.pincode});const ie=S.find(se=>se.name.toLowerCase()===r.city.toLowerCase());if(ie){console.log("Found matching city:",ie.name),C(ie.id);const se=w.find(le=>{var Ze;return le.cityId===ie.id||((Ze=le.city)==null?void 0:Ze.id)===ie.id?Qy(r.pincode,[le]).isValid:!1});if(se)console.log("Found matching area master for editing:",se.name),P(se),r.pincode&&r.pincode.length===6&&Z(r.pincode,se);else{console.log("No matching area master found for existing address");const le=w.find(Ce=>{var De;return Ce.cityId===ie.id||((De=Ce.city)==null?void 0:De.id)===ie.id});le&&(console.log("Using fallback area master from same city:",le.name),P(le),r.pincode&&r.pincode.length===6&&Z(r.pincode,le))}}}},[r,w,S,I]);const D=async ie=>{if(B){ve.error('This address cannot be saved with an invalid pincode. Please use "Request Service in Your Area" instead.');return}try{if(I&&ie.pincode&&ie.pincode.length===6&&!F.isValid){ve.error(`Cannot save address: Pincode ${ie.pincode} is not served by ${I.name}. Please select a different area or correct the pincode.`);return}if(!I){ve.error("Please select a delivery area before saving the address.");return}let se;const{locationId:le,...Ce}=ie,De={...Ce,depotId:o,...le&&!isNaN(Number(le))?{locationId:Number(le)}:{}};d&&t?(se=await Aa(`/delivery-addresses/${t}`,De),ve.success("Address updated successfully")):(se=await en("/delivery-addresses",De),ve.success("Address created successfully")),n?n(se):c("/member/addresses")}catch(se){ve.error(se.message||"An error occurred while saving the address")}};return s.jsxs(s.Fragment,{children:[s.jsxs(St,{className:"w-full mx-auto",children:[s.jsx(zt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[(i||a)&&s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{i?i():a?a():c(-1)},children:s.jsx(ku,{className:"h-4 w-4"})}),s.jsx(dr,{className:"text-lg sm:text-xl",children:d?"Edit Address":"Add New Delivery Address"})]})}),s.jsx(_t,{className:"px-4 sm:px-6 max-h-[70vh] overflow-y-auto",children:s.jsx(Rje,{...ae,children:s.jsxs("form",{onSubmit:ie=>{if(ie.preventDefault(),!I){ve.error("Please select a delivery area before saving the address.");return}const se=ae.getValues("pincode");if(se&&se.length===6){if(F.isValidating){ve.error("Please wait for pincode validation to complete.");return}if(!F.isValid){ve.error(`Cannot save address: Pincode ${se} is not served by ${I.name}. Please click "Request Service in Your Area" if you need delivery to this location.`);return}}ae.handleSubmit(D)(ie)},className:"space-y-6",children:[s.jsx(uu,{control:ae.control,name:"label",render:({field:ie})=>s.jsxs(Ql,{className:"mb-4",children:[s.jsx(vd,{children:"Label As"}),s.jsx(Xl,{children:s.jsxs(Wy,{onValueChange:ie.onChange,defaultValue:ie.value,className:"flex flex-wrap gap-3 sm:gap-4 pt-2",children:[s.jsxs(Ql,{className:"flex items-center space-x-2 space-y-0",children:[s.jsx(Xl,{children:s.jsx(nc,{value:"Home"})}),s.jsx(vd,{className:"font-normal",children:"Home"})]}),s.jsxs(Ql,{className:"flex items-center space-x-2 space-y-0",children:[s.jsx(Xl,{children:s.jsx(nc,{value:"Work"})}),s.jsx(vd,{className:"font-normal",children:"Work"})]}),s.jsxs(Ql,{className:"flex items-center space-x-2 space-y-0",children:[s.jsx(Xl,{children:s.jsx(nc,{value:"Other"})}),s.jsx(vd,{className:"font-normal",children:"Other"})]})]})}),s.jsx(Fm,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(uu,{control:ae.control,name:"recipientName",render:({field:ie})=>s.jsxs(Ql,{children:[s.jsx(vd,{children:"Recipient Name*"}),s.jsx(Xl,{children:s.jsx(gt,{placeholder:"Enter recipient name",...ie})}),s.jsx(Fm,{})]})}),s.jsx(uu,{control:ae.control,name:"mobile",render:({field:ie})=>s.jsxs(Ql,{children:[s.jsx(vd,{children:"Mobile Number*"}),s.jsx(Xl,{children:s.jsx(gt,{max:10,maxLength:10,placeholder:"Enter mobile number",...ie})}),s.jsx(Fm,{})]})})]}),s.jsx(uu,{control:ae.control,name:"plotBuilding",render:({field:ie})=>s.jsxs(Ql,{children:[s.jsx(vd,{children:"Flat, House, Plot Number*"}),s.jsx(Xl,{children:s.jsx(gt,{placeholder:"Enter flat, house, or plot number",...ie})}),s.jsx(Fm,{})]})}),s.jsx(uu,{control:ae.control,name:"streetArea",render:({field:ie})=>s.jsxs(Ql,{children:[s.jsx(vd,{children:"Street/Area Name*"}),s.jsx(Xl,{children:s.jsx(gt,{placeholder:"Enter street or area name",...ie})}),s.jsx(Fm,{})]})}),s.jsx(uu,{control:ae.control,name:"landmark",render:({field:ie})=>s.jsxs(Ql,{children:[s.jsx(vd,{children:"Landmark (Optional)"}),s.jsx(Xl,{children:s.jsx(gt,{placeholder:"Enter landmark",...ie})}),s.jsx(Fm,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"City"}),s.jsxs(pr,{onValueChange:ie=>{const se=ie==="dombivli"?null:parseInt(ie);C(se),P(null)},value:(E==null?void 0:E.toString())||"all",children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:" city"})}),s.jsx(yr,{className:"max-h-60 overflow-y-auto",children:S.sort((ie,se)=>ie.name.localeCompare(se.name)).map(ie=>s.jsx(wt,{value:ie.id.toString(),children:ie.name},ie.id))})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium mb-1.5 block",children:["Delivery Areas* ",s.jsx("span",{className:"text-xs text-gray-500"})]}),s.jsxs(pr,{onValueChange:ie=>{const se=v.find(le=>le.id===parseInt(ie));se&&V(se)},value:((H=I==null?void 0:I.id)==null?void 0:H.toString())||"",children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"Select your delivery area"})}),s.jsx(yr,{className:"max-h-60 overflow-y-auto",children:v.sort((ie,se)=>ie.name.localeCompare(se.name)).map(ie=>s.jsx(wt,{value:ie.id.toString(),children:ie.name},ie.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(uu,{control:ae.control,name:"pincode",render:({field:ie})=>s.jsxs(Ql,{children:[s.jsx(vd,{children:"Pincode*"}),s.jsx(Xl,{children:s.jsx(gt,{type:"text",placeholder:"Enter pincode",max:6,...ie,onChange:se=>{ie.onChange(se);const le=se.target.value;le.length===6&&/^\d{6}$/.test(le)?Z(le):k({isValid:!1,message:"",isValidating:!1})},onBlur:se=>{const le=se.target.value;le.length===6&&/^\d{6}$/.test(le)&&I&&Z(le)}})}),s.jsx(Fm,{})]})}),s.jsx(uu,{control:ae.control,name:"state",render:({field:ie})=>s.jsxs(Ql,{children:[s.jsx(vd,{children:"State*"}),s.jsxs(pr,{onValueChange:ie.onChange,value:ie.value,children:[s.jsx(Xl,{children:s.jsx(xr,{children:s.jsx(gr,{placeholder:"Select a state"})})}),s.jsx(yr,{className:"max-h-60 overflow-y-auto",children:ew.map(se=>s.jsx(wt,{value:se.label,children:se.label},se.value))})]}),s.jsx(Fm,{})]})})]}),I&&s.jsx(q6,{pincode:ae.watch("pincode")||"",isValid:F.isValid,message:F.message,isValidating:F.isValidating,showServiceRequest:!F.isValid&&!F.isValidating&&((K=ae.watch("pincode"))==null?void 0:K.length)===6,onRequestService:J}),s.jsx(uu,{control:ae.control,name:"city",render:({field:ie})=>s.jsx(Ql,{className:"hidden",children:s.jsx(Xl,{children:s.jsx(gt,{...ie})})})}),s.jsx(uu,{control:ae.control,name:"locationId",render:({field:ie})=>s.jsx(Ql,{className:"hidden",children:s.jsx(Xl,{children:s.jsx(gt,{...ie})})})}),s.jsx(uu,{control:ae.control,name:"isDefault",render:({field:ie})=>s.jsxs(Ql,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[s.jsx(Xl,{children:s.jsx(hl,{checked:ie.value,onCheckedChange:ie.onChange})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(vd,{children:"Set as Default Address"})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 mt-6",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>{a?a():c("/member/addresses")},disabled:ae.formState.isSubmitting,className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:ae.formState.isSubmitting||!I||F.isValidating||!!I&&((W=ae.watch("pincode"))==null?void 0:W.length)===6&&!F.isValid,className:"w-full sm:w-auto order-1 sm:order-2",title:I?((re=ae.watch("pincode"))==null?void 0:re.length)===6&&!F.isValid?`Pincode ${ae.watch("pincode")} is not Serviceable in this area`:void 0:"Please select a delivery area",children:ae.formState.isSubmitting?d?"Saving...":"Adding...":d?"Save Changes":"Add Address"})]})]})})})]}),s.jsx(V6,{isOpen:z,onOpenChange:O,message:M||"We currently do not serve this area, but we're expanding!",prefilledData:{recipientName:ae.watch("recipientName")||"",mobile:ae.watch("mobile")||"",plotBuilding:ae.watch("plotBuilding")||"",streetArea:ae.watch("streetArea")||"",landmark:ae.watch("landmark")||"",pincode:ae.watch("pincode")||"",city:ae.watch("city")||((te=I==null?void 0:I.city)==null?void 0:te.name)||"",state:ae.watch("state")||""},onSuccess:()=>{O(!1),ve.success("Thank you for your interest! We've saved your details and will contact you when we expand to your area.")}})]})},t_e=()=>{const e=Ls(),t=()=>{e("/member/addresses")};return s.jsxs("div",{className:"container py-8 flex max-sm:flex-col",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Add New Delivery Address"}),s.jsx("p",{className:"text-muted-foreground",children:"Create a new delivery address for your account"})]}),s.jsx(FG,{mode:"create",onSuccess:t})]})},r_e=()=>{const{id:e}=Ji(),t=Ls(),{data:r,isLoading:n,isError:a,error:i}=cs({queryKey:["address",e],queryFn:async()=>{if(!e)throw new Error("Address ID is required");return await $t(`/delivery-addresses/${e}`)}}),o=()=>{t("/member/addresses")};if(n)return s.jsxs("div",{className:"container py-8",children:[s.jsx(vr,{className:"h-8 w-1/4 mb-4"}),s.jsx(vr,{className:"h-4 w-1/3 mb-8"}),s.jsx("div",{className:"space-y-6 max-w-3xl mx-auto",children:s.jsx(vr,{className:"h-[400px] w-full rounded-lg"})})]});if(a||!r){const l=(i==null?void 0:i.message)||"Failed to load address";return ve.error(l),s.jsxs("div",{className:"container py-8 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Address"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:l}),s.jsx("button",{onClick:()=>t("/addresses"),className:"bg-primary text-white px-4 py-2 rounded-md",children:"Return to Address List"})]})}return s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Delivery Address"}),s.jsx("p",{className:"text-muted-foreground",children:"Update your delivery address details"})]}),s.jsx(FG,{mode:"edit",addressId:e,initialData:r,onSuccess:o})]})},s_e=({isOpen:e,onOpenChange:t,subscriptions:r,agencies:n,isLoadingAgencies:a,onBulkUpdateSubscriptions:i})=>{const[o,l]=y.useState(new Set),[c,d]=y.useState(""),[h,m]=y.useState("unassigned"),[p,g]=y.useState(!1),w=y.useMemo(()=>r.filter(F=>{if(F.paymentStatus!=="PAID")return!1;switch(h){case"unassigned":return!F.agencyId;case"assigned":return!!F.agencyId;default:return!0}}),[r,h]),b=(F,k)=>{const z=new Set(o);k?z.add(F):z.delete(F),l(z)},v=F=>{if(F){const k=new Set(w.map(z=>z.id));l(k)}else l(new Set)},N=async()=>{if(o.size===0){ve.error("Please select at least one subscription");return}if(!c){ve.error("Please select an agency");return}g(!0);try{const F=c==="NONE"?null:parseInt(c,10);await i(Array.from(o),F),ve.success(`Successfully assigned agency to ${o.size} subscription(s)`),l(new Set),d(""),t(!1)}catch(F){console.error("Bulk assignment failed:",F),ve.error("Failed to assign agencies. Please try again.")}finally{g(!1)}},S=F=>{var k;return F?((k=F.user)==null?void 0:k.name)||F.name:"Unassigned"},A=r.filter(F=>F.paymentStatus==="PAID").length,E=r.filter(F=>F.paymentStatus==="PAID"&&!F.agencyId).length,C=r.filter(F=>F.paymentStatus==="PAID"&&F.agencyId).length,I=w.length>0&&o.size===w.length,P=o.size>0&&o.size<w.length;return s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:jt("max-w-5xl max-sm:max-w-[95vw]","h-[90vh] max-h-[600px] sm:max-h-[80vh]","flex flex-col","p-0","overflow-hidden"),children:[s.jsxs(An,{className:"px-4 py-3 sm:px-6 sm:py-4 flex-shrink-0 border-b",children:[s.jsxs(En,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[s.jsx(Q5,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Bulk Agency Assignment"]}),s.jsx(Vo,{className:"text-sm",children:"Assign delivery agencies to multiple subscriptions at once"})]}),s.jsxs("div",{className:"flex-1 flex flex-col px-4 sm:px-6 py-4 min-h-0 overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 p-3 sm:p-4 bg-gray-50 rounded-lg mb-3 sm:mb-4 flex-shrink-0",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:A}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Total Paid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-red-600",children:E}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Unassigned"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-green-600",children:C}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Assigned"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:o.size}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Selected"})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(Qc,{className:"h-4 w-4 flex-shrink-0"}),s.jsx(Be,{className:"text-sm whitespace-nowrap",children:"Filter:"}),s.jsxs(pr,{value:h,onValueChange:F=>m(F),children:[s.jsx(xr,{className:"w-36 sm:w-40",children:s.jsx(gr,{})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"unassigned",children:"Unassigned Only"}),s.jsx(wt,{value:"assigned",children:"Assigned Only"}),s.jsx(wt,{value:"all",children:"All Paid"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(Be,{className:"text-sm whitespace-nowrap",children:"Assign to:"}),s.jsxs(pr,{value:c,onValueChange:d,disabled:a,children:[s.jsx(xr,{className:"w-44 sm:w-48",children:s.jsx(gr,{placeholder:a?"Loading...":"Select agency"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"NONE",children:"Remove Assignment"}),n.map(F=>s.jsx(wt,{value:F.id.toString(),children:S(F)},F.id))]})]})]})]})}),s.jsx("div",{className:"flex-1 min-h-[150px] border rounded-md overflow-hidden bg-white",children:w.length===0?s.jsx("div",{className:"flex items-center justify-center h-full min-h-[150px] text-gray-500 text-sm",children:"No subscriptions match the current filter"}):s.jsx("div",{className:"h-full overflow-x-auto overflow-y-auto",children:s.jsxs(qs,{className:"min-w-[700px] w-full",children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{className:"w-10 sm:w-12 px-2 sm:px-4",children:s.jsx(hl,{checked:I,ref:F=>{F&&(F.indeterminate=P)},onCheckedChange:v})}),s.jsx($e,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[100px]",children:"Product"}),s.jsx($e,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[120px]",children:"Member"}),s.jsx($e,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[150px] md:min-w-[200px]",children:"Location"}),s.jsx($e,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[100px]",children:"Agency"}),s.jsx($e,{className:"px-2 sm:px-4 text-xs sm:text-sm min-w-[120px]",children:"Period"})]})}),s.jsx(Hs,{children:w.map(F=>{var k,z,O;return s.jsxs(hr,{children:[s.jsx(Oe,{className:"px-2 sm:px-4",children:s.jsx(hl,{checked:o.has(F.id),onCheckedChange:M=>b(F.id,M)})}),s.jsx(Oe,{className:"px-2 sm:px-4 font-medium text-xs sm:text-sm",children:s.jsx("div",{className:"max-w-[80px] sm:max-w-none truncate",children:F.product.name})}),s.jsx(Oe,{className:"px-2 sm:px-4 text-xs sm:text-sm",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-medium truncate max-w-[100px] sm:max-w-none",children:((z=(k=F.member)==null?void 0:k.user)==null?void 0:z.name)||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500 md:hidden",children:((O=F.deliveryAddress)==null?void 0:O.recipientName)&&s.jsx("div",{className:"truncate",children:F.deliveryAddress.recipientName})})]})}),s.jsx(Oe,{className:"px-2 sm:px-4",children:s.jsx("div",{className:"text-xs",children:F.deliveryAddress?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium truncate",children:F.deliveryAddress.recipientName||"No Recipient"}),s.jsx("div",{className:"text-gray-500 truncate sm:hidden",children:F.deliveryAddress.mobile}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("div",{className:"text-gray-500",children:F.deliveryAddress.mobile}),s.jsxs("div",{className:"text-xs text-gray-400 mt-1 truncate",children:[F.deliveryAddress.plotBuilding,", ",F.deliveryAddress.streetArea,F.deliveryAddress.landmark&&`, ${F.deliveryAddress.landmark}`]}),s.jsxs("div",{className:"text-xs text-gray-400 truncate",children:[F.deliveryAddress.city,", ",F.deliveryAddress.state," - ",F.deliveryAddress.pincode]})]}),F.deliveryAddress.location&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1 truncate",children:[" ",F.deliveryAddress.location.name]})]}):s.jsx("div",{className:"text-gray-400 italic",children:"No Address"})})}),s.jsx(Oe,{className:"px-2 sm:px-4",children:F.agency?s.jsx(Gr,{variant:"secondary",className:"text-xs",children:s.jsx("span",{className:"truncate max-w-[60px] sm:max-w-none",children:S(F.agency)})}):s.jsx(Gr,{variant:"outline",className:"text-xs",children:"Unassigned"})}),s.jsxs(Oe,{className:"px-2 sm:px-4 text-xs sm:text-sm",children:[s.jsx("div",{children:new Date(F.startDate).toLocaleDateString()}),s.jsxs("div",{className:"text-gray-500",children:["to ",new Date(F.expiryDate).toLocaleDateString()]})]})]},F.id)})})]})})})]}),s.jsxs(Il,{className:"flex flex-col sm:flex-row sm:justify-between gap-3 px-4 py-3 sm:px-6 sm:py-4 border-t flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-600 order-2 sm:order-1",children:[s.jsx(Ol,{className:"h-3 w-3 sm:h-4 sm:w-4"}),o.size," subscription(s) selected"]}),s.jsxs("div",{className:"flex gap-2 order-1 sm:order-2",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1 sm:flex-none",children:"Cancel"}),s.jsx(Ee,{type:"button",onClick:N,disabled:p||o.size===0||!c,className:"flex-1 sm:flex-none text-xs sm:text-sm",children:p?"Assigning...":`Assign (${o.size})`})]})]})]})})},n_e=[{value:"ONLINE",label:"Online"},{value:"CASH",label:"Cash"},{value:"UPI",label:"UPI"},{value:"BANK",label:"Bank Transfer"}],a_e=({isOpen:e,onOpenChange:t,order:r,onUpdateOrder:n})=>{const[a,i]=y.useState(""),[o,l]=y.useState(""),[c,d]=y.useState(""),[h,m]=y.useState(""),[p,g]=y.useState({}),[w,b]=y.useState(""),[v,N]=y.useState(""),S=(r==null?void 0:r.paymentStatus)==="PAID";y.useEffect(()=>{var C,I;r?(console.log("Payment Modal Data:",{orderId:r.id,totalAmount:r.totalAmount,walletamt:r.walletamt,payableamt:r.payableamt,currentStatus:r.paymentStatus}),i(r.paymentMode||""),l(r.paymentReferenceNo||""),d(r.paymentDate?Wt(new Date(r.paymentDate),"yyyy-MM-dd"):""),m(r.paymentStatus||""),N(((C=r.payableamt)==null?void 0:C.toString())||"0"),b(((I=r.payableamt)==null?void 0:I.toString())||"0")):(i(""),l(""),d(""),m(""),N(""),b(""))},[r]);const A=()=>{const C={};return h||(C.paymentStatus="Payment status is required"),g(C),Object.keys(C).length===0},E=async()=>{if(!r||S||!A())return;const C=parseFloat(w);if(isNaN(C)||C<=0){ve.error("Please enter a valid received amount.");return}const I=r.payableamt??0,P=r.totalAmount??0;if(console.log("payable",I,"total",P),h==="PAID"&&!(C===I||I===0&&C===P)){const z=I===0&&P>0?P:I;ve.error(`Received amount (${C.toFixed(2)}) must equal the payable amount (${z.toFixed(2)}) to mark as PAID.`);return}if(h!=="PAID"&&h!=="FAILED"){ve.error("Payment Status is Required");return}const F={orderId:r.id,paymentMode:a,paymentReference:o,paymentDate:c,paymentStatus:h,receivedAmount:C};try{await n(F)&&t(!1)}catch(k){console.error("Failed to update payment:",k)}};return!e||!r?null:s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"sm:max-w-lg",children:[s.jsxs(An,{children:[s.jsxs(En,{children:["Update Payment for Order: ",r.orderNo]}),s.jsx(Vo,{children:"Modify payment details for the entire order."})]}),s.jsx(Pf,{className:"absolute right-4 top-4 z-10",onClick:()=>t(!1),children:s.jsx(ul,{className:"h-4 w-4"})}),s.jsx("div",{className:"grid gap-6 py-4",children:s.jsxs("fieldset",{disabled:S,className:"grid gap-4 border p-4 rounded-md",children:[s.jsxs("legend",{className:"text-sm font-medium px-1",children:["Payment Information"," ",S?`(Status: ${r.paymentStatus} - Disabled)`:""]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Be,{htmlFor:"paymentMode",className:"text-right col-span-1",children:["Payment Mode ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(pr,{value:a,onValueChange:C=>i(C),disabled:S,children:[s.jsx(xr,{id:"paymentMode",className:"col-span-3 mt-1",children:s.jsx(gr,{placeholder:"Select payment mode"})}),s.jsx(yr,{children:n_e.map(C=>s.jsx(wt,{value:C.value,children:C.label},C.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Be,{htmlFor:"payment-reference",className:"text-right col-span-1",children:"Reference #"}),s.jsx(gt,{id:"payment-reference",value:o,onChange:C=>l(C.target.value),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Be,{htmlFor:"payment-date",className:"text-right col-span-1",children:"Payment Date"}),s.jsx(gt,{type:"date",id:"payment-date",value:c,onChange:C=>d(C.target.value),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Be,{htmlFor:"payable-amount",className:"text-right col-span-1",children:"Payable Amount"}),s.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[s.jsx(Ab,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{id:"payable-amount",className:"font-semibold",children:v})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Be,{htmlFor:"received-amount",className:"text-right col-span-1",children:["Received Amount ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{id:"received-amount",type:"number",value:w,onChange:C=>b(C.target.value),className:"col-span-3",placeholder:"Enter amount received"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Be,{className:"text-right col-span-1",htmlFor:"payment-status-modal",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[s.jsxs(pr,{value:h,onValueChange:C=>{if(m(C),C){const I={...p};delete I.paymentStatus,g(I)}},children:[s.jsx(xr,{id:"payment-status-modal",className:p.paymentStatus?"border-red-500":"",children:s.jsx(gr,{placeholder:"Select status"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"PAID",children:"Paid"}),s.jsx(wt,{value:"FAILED",children:"Failed"})]})]}),p.paymentStatus&&s.jsx("p",{className:"text-xs text-red-500",children:p.paymentStatus})]})]})]})}),s.jsxs(Il,{children:[s.jsx(Ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(Ee,{onClick:E,disabled:S,children:"Save Changes"})]})]})})},i_e=({isOpen:e,onOpenChange:t,order:r,agencies:n,isLoadingAgencies:a,onUpdateOrderSubscriptions:i})=>{var m,p,g,w,b,v,N,S,A;const[o,l]=y.useState("NONE"),[c,d]=y.useState("");y.useEffect(()=>{var E;if(r&&r.subscriptions.length>0){const C=r.subscriptions[0];console.log("AssignAgentModal - Order loaded:",{orderId:r.id,orderNo:r.orderNo,subscriptionsCount:r.subscriptions.length,firstSubAgencyId:C.agencyId,firstSubDeliveryInstructions:C.deliveryInstructions}),l(((E=C.agencyId)==null?void 0:E.toString())||"NONE"),d(C.deliveryInstructions||"")}else l("NONE"),d("")},[r]);const h=async()=>{if(!r)return;const E={orderId:r.id,agencyId:o!=="NONE"?parseInt(o,10):null,deliveryInstructions:c};console.log("AssignAgentModal - Submitting order-level update:",{orderId:r.id,orderNo:r.orderNo,subscriptionsCount:r.subscriptions.length,selectedAgencyId:o,updatedDetails:E});try{await i(E),t(!1)}catch(C){console.error("Failed to update order subscriptions in modal:",C)}};return!e||!r?null:s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"w-[95vw] max-w-4xl max-h-[90vh] sm:max-h-[85vh] flex flex-col p-4 sm:p-6",children:[s.jsxs(An,{className:"space-y-2 sm:space-y-3",children:[s.jsxs(En,{className:"text-lg sm:text-xl font-semibold pr-8",children:["Update Agent Assignment for Order: ",r.orderNo]}),s.jsxs(Vo,{className:"text-sm sm:text-base",children:["This will update the agent assignment for all ",r.subscriptions.length," subscription(s) in this order for"," ",s.jsx("span",{className:"font-medium",children:((p=(m=r.member)==null?void 0:m.user)==null?void 0:p.name)||"Unknown Member"}),". Only future deliveries will be affected."]})]}),s.jsx(Pf,{className:"absolute right-2 top-2 sm:right-4 sm:top-4 z-10 h-8 w-8 rounded-full hover:bg-gray-100 flex items-center justify-center",onClick:()=>t(!1),children:s.jsx(ul,{className:"h-4 w-4"})}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 py-2 sm:py-4 overflow-y-auto flex-grow",children:[s.jsxs("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg border border-blue-200",children:[s.jsx("h3",{className:"text-sm font-medium mb-2 text-blue-900",children:"Order Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 text-xs sm:text-sm",children:"Order Number"}),s.jsx("p",{className:"font-medium text-blue-900 text-sm sm:text-base",children:r.orderNo})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 text-xs sm:text-sm",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-blue-900 text-sm sm:text-base",children:["",r.totalAmount.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 text-xs sm:text-sm",children:"Payment Status"}),s.jsx("p",{className:"font-medium",children:s.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs ${r.paymentStatus==="PAID"?"bg-green-100 text-green-800":r.paymentStatus==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.paymentStatus})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 text-xs sm:text-sm",children:"Subscriptions"}),s.jsxs("p",{className:"font-medium text-blue-900 text-sm sm:text-base",children:[r.subscriptions.length," item(s)"]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Subscriptions in this Order"}),s.jsx("div",{className:"space-y-2 max-h-40 sm:max-h-48 overflow-y-auto",children:r.subscriptions.map((E,C)=>{var I,P,F;return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-2 bg-white rounded border gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full flex-shrink-0",children:C+1}),s.jsx("span",{className:"font-medium text-sm break-words",children:E.product.name}),s.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:E.deliverySchedule==="ALTERNATE_DAYS"?`${E.qty}/${E.altQty??"-"}`:`${E.qty}`})]}),s.jsxs("div",{className:"text-xs text-gray-500 sm:text-right",children:[s.jsx("span",{className:"sm:hidden font-medium",children:"Current Agent: "}),((P=(I=E.agency)==null?void 0:I.user)==null?void 0:P.name)||((F=E.agency)==null?void 0:F.name)||"Unassigned"]})]},E.id)})})]}),((g=r.subscriptions[0])==null?void 0:g.deliveryAddress)&&s.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Delivery Address"}),s.jsxs("div",{className:"grid gap-1 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[s.jsx("p",{className:"font-medium",children:r.subscriptions[0].deliveryAddress.recipientName}),r.subscriptions[0].deliveryAddress.label&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded w-fit",children:r.subscriptions[0].deliveryAddress.label})]}),s.jsxs("p",{className:"break-words",children:[r.subscriptions[0].deliveryAddress.plotBuilding,","," ",r.subscriptions[0].deliveryAddress.streetArea]}),r.subscriptions[0].deliveryAddress.landmark&&s.jsx("p",{className:"break-words",children:r.subscriptions[0].deliveryAddress.landmark}),s.jsxs("p",{children:[r.subscriptions[0].deliveryAddress.city,","," ",r.subscriptions[0].deliveryAddress.state," -"," ",r.subscriptions[0].deliveryAddress.pincode]}),s.jsxs("p",{className:"text-blue-600",children:["Mobile: ",r.subscriptions[0].deliveryAddress.mobile]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Member Details"}),s.jsxs("div",{className:"grid gap-1 text-xs sm:text-sm",children:[s.jsxs("p",{className:"break-words",children:[s.jsx("span",{className:"text-gray-500",children:"Name:"})," ",s.jsx("span",{className:"font-medium",children:((b=(w=r.member)==null?void 0:w.user)==null?void 0:b.name)||"N/A"})]}),s.jsxs("p",{className:"break-all",children:[s.jsx("span",{className:"text-gray-500",children:"Email:"})," ",s.jsx("span",{className:"font-medium",children:((N=(v=r.member)==null?void 0:v.user)==null?void 0:N.email)||"N/A"})]}),((A=(S=r.member)==null?void 0:S.user)==null?void 0:A.mobile)&&s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-500",children:"Mobile:"})," ",s.jsx("span",{className:"font-medium",children:r.member.user.mobile})]})]})]}),s.jsxs("fieldset",{className:"grid gap-3 sm:gap-4 border p-3 sm:p-4 rounded-md border-green-200 bg-green-50",children:[s.jsx("legend",{className:"text-sm font-medium px-1 text-green-900",children:"Update Agent Assignment for Future Deliveries"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-start sm:items-center gap-2 sm:gap-4",children:[s.jsx(Be,{htmlFor:"delivery-agent",className:"text-sm font-medium sm:text-right sm:col-span-1",children:"Agent"}),s.jsx("div",{className:"sm:col-span-3",children:s.jsxs(pr,{value:o,onValueChange:l,disabled:a,children:[s.jsx(xr,{id:"delivery-agent",className:"w-full",children:s.jsx(gr,{placeholder:a?"Loading agents...":"Select agent"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"NONE",children:"Unassign / Not Assigned"}),n.map(E=>{var C;return s.jsx(wt,{value:E.id.toString(),children:((C=E.user)==null?void 0:C.name)||E.name},E.id)}),n.length===0&&!a&&s.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"No agents available."})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-start gap-2 sm:gap-4",children:[s.jsx(Be,{htmlFor:"delivery-instructions",className:"text-sm font-medium sm:text-right sm:col-span-1",children:"Instructions"}),s.jsxs("div",{className:"sm:col-span-3",children:[s.jsx(Sp,{id:"delivery-instructions",value:c,onChange:E=>d(E.target.value),className:"w-full min-h-[80px] sm:min-h-[100px] resize-none",placeholder:"Enter delivery instructions for all subscriptions in this order",maxLength:200}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c.length,"/200 characters"]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex-shrink-0 mt-0.5",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full mx-auto mt-1"})}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Agent Assignment Policy"}),s.jsxs("p",{className:"text-xs leading-relaxed",children:["This will assign the agent to all subscriptions in this order.",s.jsx("span",{className:"font-medium",children:" Only future deliveries"})," will use the new agent assignment. Past and today's deliveries will keep their original agent assignments to preserve delivery history."]})]})]})})]})]}),s.jsxs(Il,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0 pt-4 sm:pt-6",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>t(!1),className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),s.jsx(Ee,{type:"button",onClick:h,disabled:a,className:"w-full sm:w-auto order-1 sm:order-2",children:a?"Loading...":"Update Agent Assignment"})]})]})})},o_e=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(1),[a,i]=y.useState(10),[o,l]=y.useState(0),[c,d]=y.useState(0),[h,m]=y.useState(!0),[p,g]=y.useState(null),[w,b]=y.useState(null),[v,N]=y.useState(!1),[S,A]=y.useState(!1),[E,C]=y.useState(!1),[I,P]=y.useState([]),[F,k]=y.useState(!1),[z]=y.useState(!1),[O,M]=y.useState(!1),[R,B]=y.useState(new Set),[Y,U]=y.useState(null),[Q,V]=y.useState(null),[Z,J]=y.useState(!1),[ae,D]=y.useState({searchTerm:"",memberName:"",subscriptionDate:"",paymentStatus:"ALL",deliveryStatus:"",agencyId:"",productId:"",expiryStatus:"ALL"});y.useEffect(()=>{(async()=>{var ge;try{const Ye=localStorage.getItem("user");if(Ye){const ze=JSON.parse(Ye);if(U(ze.role),ze.role==="SUPERVISOR"){J(!0);try{const Pe=await $t("/users/me");console.log("supervisorinfo",Pe),V((ge=Pe==null?void 0:Pe.supervisor)!=null&&ge.agencyId?String(Pe.supervisor.agencyId):null)}catch(Pe){console.error("Failed to fetch supervisor info:",Pe),ve.error("Could not load supervisor details."),V(null)}J(!1)}}}catch(Ye){console.error("Failed to parse user data from localStorage",Ye)}})()},[]);const H=y.useCallback(async(be=r,ge=10,Ye=ae,ze=O)=>{var pt,ct;m(!0);const Pe=be!==void 0?be:r!==void 0?r:1,me=ge!==void 0?ge:a!==void 0?a:10,we=Ye||ae||{},qe={};for(const[ft,Mt]of Object.entries(we)){if(Mt==null)continue;const Xt=String(Mt).trim();Xt===""||Xt.toLowerCase()==="all"||(ft==="memberName"?qe.searchTerm=Xt:ft==="subscriptionDate"?qe.startDate=Xt:qe[ft]=Xt)}ze&&(qe.unassignedOnly="true"),Y==="SUPERVISOR"&&Q&&(qe.supervisorAgencyId=Q);const xt=new URLSearchParams({page:Pe.toString(),limit:me.toString(),...qe}).toString();try{const ft=await $t(`/product-orders?${xt}`);if(t(ft.data||[]),l(ft.totalPages),n(ft.currentPage),d(ft.totalCount||0),ft.currentPage>ft.totalPages&&ft.totalPages>0&&(n(1),Pe!==1)){H(1,me,we,ze);return}}catch(ft){console.error("Failed to fetch subscriptions:",ft);const Mt=((ct=(pt=ft.response)==null?void 0:pt.data)==null?void 0:ct.message)||ft.message||"Failed to fetch subscriptions.";ve.error(Mt),t([])}finally{m(!1)}},[r,a,ae,Y,Q,O]),K=y.useCallback(async()=>{var be,ge;k(!0);try{const Ye=await $t("/agencies");P(Ye.data||[])}catch(Ye){console.error("Failed to fetch agencies:",Ye);const ze=((ge=(be=Ye.response)==null?void 0:be.data)==null?void 0:ge.message)||Ye.message||"Failed to load delivery agents.";ve.error(ze),P([])}finally{k(!1)}},[]);y.useEffect(()=>{if(!(Y==="SUPERVISOR"&&Z)){if(Y==="SUPERVISOR"&&!Q&&!Z){t([]),m(!1);return}H(r,a,ae,O)}},[H,r,a,ae,Y,Q,Z,O]),y.useEffect(()=>{K()},[K]);const W=be=>{n(be),H(be,a,ae,O)},re=be=>{i(be),n(1),H(1,be,ae,O)},te=async be=>{var ze,Pe;if(!p)return ve.error("No order selected for update."),!1;const{orderId:ge,...Ye}=be;try{return await Aa(`/product-orders/${p.id}/payment`,Ye),ve.success("Payment updated successfully!"),H(r,a,ae,O),!0}catch(me){const we=((Pe=(ze=me.response)==null?void 0:ze.data)==null?void 0:Pe.message)||"Failed to update payment.";return ve.error(we),console.error("Error updating payment:",me),!1}},ie=async be=>{if(!w)return;const{orderId:ge,agencyId:Ye,deliveryInstructions:ze}=be,Pe={agencyId:Ye===void 0?null:Number(Ye),deliveryInstructions:ze};console.log("handleOrderAgentAssignmentUpdate - API call:",{orderId:ge,orderNo:w.orderNo,subscriptionsCount:w.subscriptions.length,apiPayload:Pe,endpoint:`/product-orders/${ge}/assign-agent`});try{const me=await Aa(`/product-orders/${ge}/assign-agent`,Pe);console.log("handleOrderAgentAssignmentUpdate - API response:",me),ve.success(`Agent assigned to all ${w.subscriptions.length} subscription(s) in order ${w.orderNo}!`),H(r,a,ae,O)}catch(me){console.error("Error assigning agent to order - Full error:",me),ve.error("Failed to update order subscriptions.")}},se=be=>{be&&(g(be),N(!0))},le=be=>{be&&(b(be),A(!0),K())},Ce=()=>{C(!0),K()},De=async(be,ge)=>{try{await en("/subscriptions/bulk-assign-agency",{subscriptionIds:be,agencyId:ge}),ve.success(`Successfully assigned agency to ${be.length} subscription(s)`),H(r,a,ae,O)}catch(Ye){throw console.error("Bulk agency assignment failed:",Ye),ve.error("Failed to assign agencies. Please try again."),Ye}},Ze=async be=>{var ge,Ye;if(!R.has(be.id)){B(ze=>new Set(ze).add(be.id));try{if(be.invoicePath){const Pe=`https://snf.3.7.237.251.sslip.io/invoices/${be.invoicePath}`,me=await fetch(Pe);if(!me.ok)throw new Error("Download failed");const we=await me.blob(),qe=window.URL.createObjectURL(we),xt=document.createElement("a");xt.href=qe,xt.download=`invoice-${be.invoiceNo||be.orderNo}.pdf`,document.body.appendChild(xt),xt.click(),document.body.removeChild(xt),window.URL.revokeObjectURL(qe),ve.success(`Invoice for order ${be.orderNo} downloaded successfully`)}else ve.info("Invoice generation is not yet available. Please check back later or contact support.")}catch(ze){console.error("Failed to download invoice:",ze);const Pe=((Ye=(ge=ze.response)==null?void 0:ge.data)==null?void 0:Ye.message)||ze.message||"Failed to download invoice. Please try again.";if(ve.error(Pe),be.invoicePath){const we=`https://snf.3.7.237.251.sslip.io/invoices/${be.invoicePath}`;window.open(we,"_blank")}}finally{B(ze=>{const Pe=new Set(ze);return Pe.delete(be.id),Pe})}}},ke=be=>({MONDAY:"Mon",TUESDAY:"Tue",WEDNESDAY:"Wed",THURSDAY:"Thu",FRIDAY:"Fri",SATURDAY:"Sat",SUNDAY:"Sun"})[be.toUpperCase()]||be,ce=(be,ge=50)=>be?be.length<=ge?be:be.substring(0,ge)+"...":"",Me=(be,ge)=>{const Ye=be.replace(/_/g," ").replace(/\b\w/g,me=>me.toUpperCase());let ze=[],Pe=!1;if((be==="WEEKDAYS"||be==="SELECT_DAYS"||be==="VARYING")&&(Pe=!0,ge))try{const me=JSON.parse(ge);Array.isArray(me)&&me.length>0&&(ze=me.map(we=>we.toString().toUpperCase()))}catch(me){console.error("Error parsing weekdays JSON:",ge,me)}return{scheduleType:Ye,weekdaysArray:ze,isSpecificDays:Pe}};return s.jsxs("div",{className:"container mx-auto p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin - Subscriptions Management"}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsxs(Ee,{variant:O?"default":"outline",onClick:()=>{M(!O),n(1)},className:"flex items-center gap-2",children:[s.jsx(ZO,{className:"h-4 w-4"}),O?"Show All":"Unassigned Only"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ma,{className:"h-4 w-4 text-gray-500"}),s.jsxs(pr,{value:ae.expiryStatus||"ALL",onValueChange:be=>{D(ge=>({...ge,expiryStatus:be})),n(1)},children:[s.jsx(xr,{className:"w-40",children:s.jsx(gr,{placeholder:"Expiry Status"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"ALL",children:"All"}),s.jsx(wt,{value:"NOT_EXPIRED",children:"Not Expired"}),s.jsx(wt,{value:"EXPIRED",children:"Expired"})]})]})]}),s.jsxs(Ee,{onClick:Ce,className:"flex items-center gap-2",children:[s.jsx(Q5,{className:"h-4 w-4"}),"Bulk Assign Agencies"]})]})]}),!1,s.jsxs("div",{className:"mb-4 flex flex-wrap justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:!h&&c>0&&s.jsxs(s.Fragment,{children:["Showing ",(r-1)*a+1,"-",Math.min(r*a,c)," of ",c," orders",O&&" (unassigned only)",ae.expiryStatus==="EXPIRED"&&" (expired only)",ae.expiryStatus==="NOT_EXPIRED"&&" (not expired)",ae.expiryStatus==="ALL"&&" (all records)"]})}),s.jsxs("div",{className:"flex flex-wrap items-center space-x-2 mt-2",children:[s.jsx("span",{className:"text-sm",children:"Items per page:"}),s.jsxs(pr,{value:a.toString(),onValueChange:be=>re(Number(be)),children:[s.jsx(xr,{className:"w-20",children:s.jsx(gr,{placeholder:a.toString()})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"10",children:"10"}),s.jsx(wt,{value:"20",children:"20"}),s.jsx(wt,{value:"50",children:"50"}),s.jsx(wt,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"bg-transparent",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h?Array.from({length:a}).map((be,ge)=>s.jsx("div",{className:"bg-white rounded-xl border shadow-sm p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(vr,{className:"h-4 w-3/4"}),s.jsx(vr,{className:"h-4 w-1/2"}),s.jsx(vr,{className:"h-4 w-full"}),s.jsx(vr,{className:"h-4 w-2/3"})]})},`skeleton-${ge}`)):e.length>0?e.map(be=>{var me,we,qe,xt,pt,ct,ft,Mt,Xt,ur,es,Qr,mt,Er;const ge=(me=be.subscriptions)==null?void 0:me[0],Ye=new Date;Ye.setHours(0,0,0,0);const ze=be.subscriptions.some(tr=>{if(!tr.expiryDate)return!1;const fr=new Date(tr.expiryDate);return fr.setHours(0,0,0,0),fr<Ye}),Pe=be.paymentStatus==="CANCELLED"||be.subscriptions.some(tr=>tr.paymentStatus==="CANCELLED");return s.jsx("div",{className:`rounded-xl border shadow-sm hover:shadow-md transition-shadow p-6 ${Pe?"opacity-60 bg-gray-50 border-gray-300":ze?"bg-red-50 border-red-200 opacity-75":"bg-white"}`,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border-b pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-gray-100 border-2 border-dashed rounded-xl w-10 h-10 flex items-center justify-center",children:s.jsx(K5,{className:"h-5 w-5 text-gray-400"})}),s.jsxs("div",{children:[s.jsxs("div",{className:`font-medium flex items-center gap-2 ${Pe?"line-through text-gray-500":ze?"text-red-700":"text-gray-900"}`,children:[((qe=(we=be.member)==null?void 0:we.user)==null?void 0:qe.name)||"N/A",Pe&&s.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full font-normal",children:"CANCELLED"}),ze&&!Pe&&s.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full font-normal",children:"EXPIRED"})]}),s.jsxs("div",{className:"flex flex-col gap-1 mt-1 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(j9,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:((pt=(xt=be==null?void 0:be.member)==null?void 0:xt.user)==null?void 0:pt.mobile)||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Pk,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"truncate max-w-[120px]",children:((ft=(ct=be.member)==null?void 0:ct.user)==null?void 0:ft.email)||"N/A"})]})]})]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"flex flex-wrap gap-1.5",children:be.subscriptions.map(tr=>{var fr,Lr;return s.jsxs("div",{className:`px-2.5 py-1 rounded-full flex items-center gap-1.5 text-xs ${tr.paymentStatus==="CANCELLED"?"line-through opacity-60 bg-gray-100 text-gray-500":ze?"bg-red-100 text-red-700":"bg-blue-50 text-blue-700"}`,children:[s.jsx(po,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"font-medium",children:(fr=tr.product)==null?void 0:fr.name}),s.jsx("span",{children:tr.deliverySchedule==="ALTERNATE_DAYS"?`${tr.qty}/${tr.altQty??"-"}`:`${tr.qty}`}),s.jsx("span",{className:"text-blue-600",children:((Lr=tr.depotProductVariant)==null?void 0:Lr.name)||""})]},tr.id)})}),s.jsxs("div",{className:"flex items-center gap-3 text-sm mt-1",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-1 rounded",children:[s.jsx(gp,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{children:[be.subscriptions.length," item",be.subscriptions.length>1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx(Ab,{className:"h-4 w-4"}),s.jsx("span",{children:(be.payableamt||0).toFixed(2)})]})]})]})}),s.jsxs("div",{children:[s.jsxs("h3",{className:`text-sm font-semibold mb-2 ${ze?"text-red-700":"text-gray-700"}`,children:["Delivery Schedule",ze&&s.jsx("span",{className:"ml-2 text-xs text-red-600 font-normal",children:"(Expired)"})]}),s.jsx("div",{className:"flex flex-col gap-1.5",children:be.subscriptions.map(tr=>{var Cr,mr,ar,Gt,Mr;const{weekdaysArray:fr,isSpecificDays:Lr}=Me(tr.deliverySchedule,tr.weekdays),Pt=tr.deliverySchedule==="DAILY"?"Daily":tr.deliverySchedule==="WEEKDAYS"?"Weekdays Only":tr.deliverySchedule==="WEEKENDS"?"Weekends":tr.deliverySchedule==="ALTERNATE_DAYS"?"Alternate_days":tr.deliverySchedule==="DAY1_DAY2"?"Daily (Varying Qty)":"Custom",Tr={1:"Buy Once",3:"Trial Pack",7:"Mid Saver Pack",15:"Mid Saver Pack",30:"Super Saver Pack"};return s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-700 mb-1",children:`${Pt} - ${Tr[tr.period]}`}),tr.deliverySchedule==="ALTERNATE_DAYS"&&(tr.qty||tr.altQty)?s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-secondary rounded-full"}),s.jsxs("span",{className:"text-blue-700 font-medium",children:[tr.qty," -"," ",((Cr=tr.depotProductVariant)==null?void 0:Cr.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),s.jsxs("span",{className:"text-green-700 font-medium",children:[tr.altQty," -"," ",((mr=tr.depotProductVariant)==null?void 0:mr.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400 text-xs italic ml-1",children:"skip day pattern"})]}):tr.deliverySchedule==="DAY1_DAY2"&&(tr.qty||tr.altQty)?s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-secondary rounded-full"}),s.jsxs("span",{className:"text-blue-700 font-medium",children:[tr.qty," -"," ",((ar=tr.depotProductVariant)==null?void 0:ar.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),s.jsxs("span",{className:"text-green-700 font-medium",children:[tr.altQty," -"," ",((Gt=tr.depotProductVariant)==null?void 0:Gt.name)||"units"]})]}),s.jsx("span",{className:"text-gray-400 text-xs italic ml-1",children:"daily rotation"})]}):tr.qty&&s.jsxs("div",{className:"text-xs text-gray-600",children:[tr.qty," -"," ",((Mr=tr.depotProductVariant)==null?void 0:Mr.name)||"units",tr.deliverySchedule==="DAILY"?" daily":tr.deliverySchedule==="WEEKDAYS"?" on weekdays":tr.deliverySchedule==="WEEKENDS"?" on weekends":" per delivery"]}),Lr&&fr.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:fr.map((ts,ss)=>s.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded bg-blue-100 text-blue-700",children:ke(ts)},ss))})]},tr.id)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Payment Status"}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${be.paymentStatus==="PAID"?ze?"bg-red-100 text-red-800":"bg-green-100 text-green-800":be.paymentStatus==="PENDING"?ze?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800":(be.paymentStatus==="CANCELLED","bg-red-100 text-red-800")} ${be.paymentStatus==="CANCELLED"?"line-through":""}`,children:be.paymentStatus}),console.log("order",(Xt=(Mt=be==null?void 0:be.subscriptions)==null?void 0:Mt[0])==null?void 0:Xt.deliveryAddressId),s.jsx("p",{children:(es=(ur=be==null?void 0:be.subscriptions)==null?void 0:ur[0])!=null&&es.deliveryAddressId?"Home Delivery":"Store Pickup"}),s.jsx("div",{className:`text-xs mt-1 ${ze?"text-red-600":"text-gray-500"}`,children:ze&&!Pe?"Subscription expired":be.paymentStatus==="PAID"?"Payment completed":be.paymentStatus==="PENDING"?"Processing payment":"Payment required"}),(ge==null?void 0:ge.deliveryInstructions)&&s.jsx("div",{className:"mt-2 border-t pt-2",children:s.jsxs("div",{className:"flex items-start gap-1.5",children:[s.jsx(fre,{className:"h-3.5 w-3.5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsx(Yb,{children:s.jsxs(Wx,{children:[s.jsx(Gx,{asChild:!0,children:s.jsx("div",{className:"text-xs text-gray-600 cursor-help",children:ce(ge.deliveryInstructions,40)})}),s.jsx(Yx,{side:"left",className:"max-w-xs",children:s.jsx("p",{className:"whitespace-pre-wrap",children:ge.deliveryInstructions})})]})})]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-semibold mb-2 ${ze?"text-red-700":"text-gray-700"}`,children:"Subscription Dates"}),ge?s.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ma,{className:`h-4 w-4 flex-shrink-0 ${ze?"text-red-500":"text-gray-500"}`}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`text-xs ${ze?"text-red-500":"text-gray-500"}`,children:"Start"}),s.jsx("span",{className:ze?"text-red-700":"",children:Wt(new Date(ge.startDate),"dd MMM yyyy")})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Qee,{className:`h-4 w-4 flex-shrink-0 ${ze?"text-red-500":"text-gray-500"}`}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`text-xs ${ze?"text-red-500":"text-gray-500"}`,children:"End Date"}),s.jsxs("span",{className:ze?"text-red-700 font-medium":"",children:[ge.expiryDate?Wt(new Date(ge.expiryDate),"dd MMM yyyy"):"N/A",ze&&s.jsx("span",{className:"ml-2 text-xs text-red-600",children:"(Expired)"})]})]})]})]}):s.jsx("span",{className:"text-sm text-gray-500",children:"No subscription"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-semibold mb-2 ${ze?"text-red-700":"text-gray-700"}`,children:"Assigned Agent"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`rounded-full p-1.5 ${ze?"bg-red-100":"bg-gray-100"}`,children:s.jsx(A9,{className:`h-4 w-4 ${ze?"text-red-500":"text-gray-500"}`})}),s.jsx("span",{className:`text-sm ${ze?"text-red-700":""}`,children:((mt=(Qr=ge==null?void 0:ge.agency)==null?void 0:Qr.user)==null?void 0:mt.name)||((Er=ge==null?void 0:ge.agency)==null?void 0:Er.name)||s.jsx("span",{className:ze?"text-red-400":"text-gray-400",children:"Unassigned"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-semibold mb-2 ${ze?"text-red-700":"text-gray-700"}`,children:"Actions"}),Pe?s.jsx("div",{className:"flex items-center justify-center p-4 bg-gray-100 rounded-md",children:s.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Order has been cancelled - No actions available"})}):ze?s.jsx("div",{className:"flex items-center justify-center p-4 bg-red-100 rounded-md",children:s.jsx("span",{className:"text-sm text-red-700 font-medium",children:"Subscription has expired - Limited actions available"})}):s.jsx("div",{className:"flex justify-start gap-1.5",children:s.jsxs(Yb,{children:[s.jsxs(Wx,{children:[s.jsx(Gx,{asChild:!0,children:s.jsx(Ee,{variant:"outline",size:"icon",className:`h-8 w-8 rounded-full ${ze?"bg-red-50 hover:bg-red-100 border-red-200":"bg-white hover:bg-gray-50"}`,onClick:()=>se(be),disabled:be.paymentStatus==="PAID"||ze,children:s.jsx(po,{className:`h-4 w-4 ${ze?"text-red-400":""}`})})}),s.jsx(Yx,{side:"top",children:s.jsx("p",{children:ze?"Cannot update payment for expired subscription":"Update Payment"})})]}),s.jsxs(Wx,{children:[s.jsx(Gx,{asChild:!0,children:s.jsx(Ee,{variant:"outline",size:"icon",className:`h-8 w-8 rounded-full ${ze?"bg-red-50 hover:bg-red-100 border-red-200":"bg-white hover:bg-gray-50"}`,onClick:()=>le(be),disabled:be.paymentStatus!=="PAID"||ze,children:s.jsx(ZO,{className:`h-4 w-4 ${ze?"text-red-400":""}`})})}),s.jsx(Yx,{side:"top",children:s.jsx("p",{children:ze?"Cannot assign agent to expired subscription":be.paymentStatus!=="PAID"?"Complete payment first":be.subscriptions.some(tr=>tr.agencyId)?"Update Agent Assignment (Future Deliveries Only)":"Assign Agent to Order (Future Deliveries Only)"})})]}),s.jsxs(Wx,{children:[s.jsx(Gx,{asChild:!0,children:s.jsx(Ee,{variant:"outline",size:"icon",className:`h-8 w-8 rounded-full ${ze?"bg-red-50 hover:bg-red-100 border-red-200":"bg-white hover:bg-gray-50"}`,onClick:()=>Ze(be),disabled:R.has(be.id),children:R.has(be.id)?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}):s.jsx(zc,{className:`h-4 w-4 ${ze?"text-red-400":""}`})})}),s.jsx(Yx,{side:"top",children:s.jsx("p",{children:R.has(be.id)?"Downloading...":ze?"Download Invoice (Expired Subscription)":be.paymentStatus!=="PAID"?"Invoice available after payment":"Download Invoice"})})]})]})})]})]})},be.id)}):s.jsx("div",{className:"md:col-span-2 flex items-center justify-center p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(po,{className:"h-10 w-10 text-gray-300"}),s.jsx("div",{className:"text-gray-600",children:"No subscriptions found"}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Start by creating a new subscription"})]})})}),o>1&&s.jsxs("div",{className:"mt-6 flex justify-center items-center space-x-2",children:[s.jsx(Ee,{onClick:()=>W(r-1),disabled:r===1,variant:"outline",children:"Previous"}),s.jsxs("span",{className:"text-sm",children:["Page ",r," of ",o]}),s.jsx(Ee,{onClick:()=>W(r+1),disabled:r===o,variant:"outline",children:"Next"})]})]}),p&&s.jsx(a_e,{isOpen:v,onOpenChange:N,order:p,onUpdateOrder:te}),w&&s.jsx(i_e,{isOpen:S,onOpenChange:A,order:w,agencies:I,isLoadingAgencies:F,onUpdateOrderSubscriptions:ie}),s.jsx(s_e,{isOpen:E,onOpenChange:C,subscriptions:e.flatMap(be=>be.subscriptions),agencies:I,isLoadingAgencies:F,onBulkUpdateSubscriptions:De})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var j5={};j5.version="0.18.5";var BG=1252,l_e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],UG=function(e){l_e.indexOf(e)!=-1&&(BG=e)};function c_e(){UG(1252)}var u2=function(e){UG(e)};function d_e(){u2(1200),c_e()}var HN=function(t){return String.fromCharCode(t)},cM=function(t){return String.fromCharCode(t)},dM,lp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function h2(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,n=e.charCodeAt(d++),o=(r&3)<<4|n>>4,a=e.charCodeAt(d++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=lp.charAt(i)+lp.charAt(o)+lp.charAt(l)+lp.charAt(c);return t}function Qf(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=lp.indexOf(e.charAt(d++)),o=lp.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=lp.indexOf(e.charAt(d++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=lp.indexOf(e.charAt(d++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Cn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),sm=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function lg(e){return Cn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function uM(e){return Cn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Eu=function(t){return Cn?sm(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function JS(e){if(typeof ArrayBuffer>"u")return Eu(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function fw(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function u_e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Mo=Cn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:sm(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function h_e(e){for(var t=[],r=0,n=e.length+250,a=lg(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=lg(65535),n=65530)}return t.push(a.slice(0,r)),Mo(t)}var ub=/\u0000/g,WN=/[\u0001-\u0006]/g;function py(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function _u(e,t){var r=""+e;return r.length>=t?r:Xa("0",t-r.length)+r}function lD(e,t){var r=""+e;return r.length>=t?r:Xa(" ",t-r.length)+r}function S5(e,t){var r=""+e;return r.length>=t?r:r+Xa(" ",t-r.length)}function f_e(e,t){var r=""+Math.round(e);return r.length>=t?r:Xa("0",t-r.length)+r}function m_e(e,t){var r=""+e;return r.length>=t?r:Xa("0",t-r.length)+r}var hM=Math.pow(2,32);function Cx(e,t){if(e>hM||e<-hM)return f_e(e,t);var r=Math.round(e);return m_e(r,t)}function A5(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var fM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],i3=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function p_e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Za={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},mM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},g_e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function E5(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,d=0,h=0,m=Math.floor(a);d<t&&(m=Math.floor(a),l=m*o+i,h=m*d+c,!(a-m<5e-8));)a=1/(a-m),i=o,o=l,c=d,d=h;if(h>t&&(d>t?(h=c,l=i):(h=d,l=o)),!r)return[0,n*l,h];var p=Math.floor(n*l/h);return[p,n*l-p*h,h]}function GN(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=j_e(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var $G=new Date(1899,11,31,0,0,0),x_e=$G.getTime(),y_e=new Date(1900,2,1,0,0,0);function VG(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=y_e&&(r+=24*60*60*1e3),(r-(x_e+(e.getTimezoneOffset()-$G.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function cD(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function v_e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function b_e(e){var t=e<0?12:11,r=cD(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function w_e(e){var t=cD(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function N_e(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=b_e(e):t===10?r=e.toFixed(10).substr(0,12):r=w_e(e),cD(v_e(r.toUpperCase()))}function K_(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):N_e(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return _p(14,VG(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function j_e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function S_e(e,t,r,n){var a="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return i3[r.m-1][1];case 5:return i3[r.m-1][0];default:return i3[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return fM[r.q][0];default:return fM[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?_u(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=_u(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var h=d>0?_u(c,d):"";return h}function cp(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var qG=/%/g;function A_e(e,t,r){var n=t.replace(qG,""),a=t.length-n.length;return Rf(e,n,r*Math.pow(10,2*a))+Xa("%",a)}function E_e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Rf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function zG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+zG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,h){return c+d+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var HG=/# (\?+)( ?)\/( ?)(\d+)/;function C_e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Xa(" ",e[1].length+1+e[4].length):lD(o,e[1].length)+e[2]+"/"+e[3]+_u(l,e[4].length))}function __e(e,t,r){return r+(t===0?"":""+t)+Xa(" ",e[1].length+2+e[4].length)}var WG=/^#*0*\.([0#]+)/,GG=/\).*[0#]/,YG=/\(###\) ###\\?-####/;function _l(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function pM(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function gM(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function k_e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function T_e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function bd(e,t,r){if(e.charCodeAt(0)===40&&!t.match(GG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?bd("n",n,r):"("+bd("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return E_e(e,t,r);if(t.indexOf("%")!==-1)return A_e(e,t,r);if(t.indexOf("E")!==-1)return zG(t,r);if(t.charCodeAt(0)===36)return"$"+bd(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Cx(c,t.length);if(t.match(/^[#?]+$/))return a=Cx(r,0),a==="0"&&(a=""),a.length>t.length?a:_l(t.substr(0,t.length-a.length))+a;if(i=t.match(HG))return C_e(i,c,d);if(t.match(/^#+0+$/))return d+Cx(c,t.length-t.indexOf("0"));if(i=t.match(WG))return a=pM(r,i[1].length).replace(/^([^\.]+)$/,"$1."+_l(i[1])).replace(/\.$/,"."+_l(i[1])).replace(/\.(\d*)$/,function(w,b){return"."+b+Xa("0",_l(i[1]).length-b.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+pM(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+cp(Cx(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+bd(e,t,-r):cp(""+(Math.floor(r)+k_e(r,i[1].length)))+"."+_u(gM(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return bd(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=py(bd(e,t.replace(/[\\-]/g,""),r)),o=0,py(py(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<a.length?a.charAt(o++):w==="0"?"0":""}));if(t.match(YG))return a=bd(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=E5(c,Math.pow(10,o)-1,!1),a=""+d,h=Rf("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=S5(l[2],o),h.length<i[4].length&&(h=_l(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=E5(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?lD(l[1],o)+i[2]+"/"+i[3]+S5(l[2],o):Xa(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Cx(r,0),t.length<=a.length?a:_l(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var m=t.indexOf(".")-o,p=t.length-a.length-m;return _l(t.substr(0,m)+a+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=gM(r,i[1].length),r<0?"-"+bd(e,t,-r):cp(T_e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?_u(0,3-w.length):"")+w})+"."+_u(o,i[1].length);switch(t){case"###,##0.00":return bd(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=cp(Cx(c,0));return g!=="0"?d+g:"";case"###,###.00":return bd(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return bd(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function D_e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Rf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function P_e(e,t,r){var n=t.replace(qG,""),a=t.length-n.length;return Rf(e,n,r*Math.pow(10,2*a))+Xa("%",a)}function KG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+KG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,h){return c+d+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function yh(e,t,r){if(e.charCodeAt(0)===40&&!t.match(GG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?yh("n",n,r):"("+yh("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return D_e(e,t,r);if(t.indexOf("%")!==-1)return P_e(e,t,r);if(t.indexOf("E")!==-1)return KG(t,r);if(t.charCodeAt(0)===36)return"$"+yh(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+_u(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:_l(t.substr(0,t.length-a.length))+a;if(i=t.match(HG))return __e(i,c,d);if(t.match(/^#+0+$/))return d+_u(c,t.length-t.indexOf("0"));if(i=t.match(WG))return a=(""+r).replace(/^([^\.]+)$/,"$1."+_l(i[1])).replace(/\.$/,"."+_l(i[1])),a=a.replace(/\.(\d*)$/,function(w,b){return"."+b+Xa("0",_l(i[1]).length-b.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+cp(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+yh(e,t,-r):cp(""+r)+"."+Xa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return yh(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=py(yh(e,t.replace(/[\\-]/g,""),r)),o=0,py(py(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<a.length?a.charAt(o++):w==="0"?"0":""}));if(t.match(YG))return a=yh(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=E5(c,Math.pow(10,o)-1,!1),a=""+d,h=Rf("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=S5(l[2],o),h.length<i[4].length&&(h=_l(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=E5(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?lD(l[1],o)+i[2]+"/"+i[3]+S5(l[2],o):Xa(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:_l(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var m=t.indexOf(".")-o,p=t.length-a.length-m;return _l(t.substr(0,m)+a+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+yh(e,t,-r):cp(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?_u(0,3-w.length):"")+w})+"."+_u(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=cp(""+c);return g!=="0"?d+g:"";default:if(t.match(/\.[0#?]*$/))return yh(e,t.slice(0,t.lastIndexOf(".")),r)+_l(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Rf(e,t,r){return(r|0)===r?yh(e,t,r):bd(e,t,r)}function O_e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var QG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function XG(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":A5(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(QG))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function R_e(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",d,h,m,p="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!A5(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(m=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(m);a[a.length]={t:"t",v:i},++o;break;case"\\":var g=e.charAt(++o),w=g==="("||g===")"?g:"t";a[a.length]={t:w,v:g},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=GN(t,r,e.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=GN(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=p),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var b={t:l,v:l};if(d==null&&(d=GN(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(b.v=d.H>=12?"P":"A"),b.t="T",p="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(b.v=d.H>=12?"PM":"AM"),b.t="T",o+=5,p="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(b.v=d.H>=12?"":""),b.t="T",o+=5,p="h"):(b.t="t",++o),d==null&&b.t==="T")return"";a[a.length]=b,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(QG)){if(d==null&&(d=GN(t,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",XG(e)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,N=0,S;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=p,c="h",v<1&&(v=1);break;case"s":(S=a[o].v.match(/\.0+$/))&&(N=Math.max(N,S[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var A="",E;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=S_e(a[o].t.charCodeAt(0),a[o].v,d,N),a[o].t="t";break;case"n":case"?":for(E=o+1;a[E]!=null&&((l=a[E].t)==="?"||l==="D"||(l===" "||l==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[o].v+=a[E].v,a[E]={v:"",t:";"},++E;A+=a[o].v,o=E-1;break;case"G":a[o].t="t",a[o].v=K_(t,r);break}var C="",I,P;if(A.length>0){A.charCodeAt(0)==40?(I=t<0&&A.charCodeAt(0)===45?-t:t,P=Rf("n",A,I)):(I=t<0&&n>1?-t:t,P=Rf("n",A,I),I<0&&a[0]&&a[0].t=="t"&&(P=P.substr(1),a[0].v="-"+a[0].v)),E=P.length-1;var F=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){F=o;break}var k=a.length;if(F===a.length&&P.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(E>=a[o].v.length-1?(E-=a[o].v.length,a[o].v=P.substr(E+1,a[o].v.length)):E<0?a[o].v="":(a[o].v=P.substr(0,E+1),E=-1),a[o].t="t",k=o);E>=0&&k<a.length&&(a[k].v=P.substr(0,E+1)+a[k].v)}else if(F!==a.length&&P.indexOf("E")===-1){for(E=P.indexOf(".")-1,o=F;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(h=a[o].v.indexOf(".")>-1&&o===F?a[o].v.indexOf(".")-1:a[o].v.length-1,C=a[o].v.substr(h+1);h>=0;--h)E>=0&&(a[o].v.charAt(h)==="0"||a[o].v.charAt(h)==="#")&&(C=P.charAt(E--)+C);a[o].v=C,a[o].t="t",k=o}for(E>=0&&k<a.length&&(a[k].v=P.substr(0,E+1)+a[k].v),E=P.indexOf(".")+1,o=F;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==F)){for(h=a[o].v.indexOf(".")>-1&&o===F?a[o].v.indexOf(".")+1:0,C=a[o].v.substr(0,h);h<a[o].v.length;++h)E<P.length&&(C+=P.charAt(E++));a[o].v=C,a[o].t="t",k=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(I=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Rf(a[o].t,a[o].v,I),a[o].t="t");var z="";for(o=0;o!==a.length;++o)a[o]!=null&&(z+=a[o].v);return z}var xM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function yM(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function I_e(e,t){var r=O_e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(xM),l=r[1].match(xM);return yM(t,o)?[n,r[0]]:yM(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function _p(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Za)[e],n==null&&(n=r.table&&r.table[mM[e]]||Za[mM[e]]),n==null&&(n=g_e[e]||"General");break}if(A5(n,0))return K_(t,r);t instanceof Date&&(t=VG(t,r.date1904));var a=I_e(n,t);if(A5(a[1]))return K_(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return R_e(a[1],t,r,a[0])}function ZG(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Za[r]==null){t<0&&(t=r);continue}if(Za[r]==e){t=r;break}}t<0&&(t=391)}return Za[t]=e,t}function e4(e){for(var t=0;t!=392;++t)e[t]!==void 0&&ZG(e[t],t)}function t4(){Za=p_e()}var JG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function L_e(e){var t=typeof e=="number"?Za[e]:e;return t=t.replace(JG,"(\\d+)"),new RegExp("^"+t+"$")}function M_e(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(JG)||[]).forEach(function(m,p){var g=parseInt(r[p+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=g;break;case"d":i=g;break;case"h":o=g;break;case"s":c=g;break;case"m":o>=0?l=g:a=g;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:n==-1&&a==-1&&i==-1?h:d+"T"+h}var F_e=function(){var e={};e.version="1.2.0";function t(){for(var P=0,F=new Array(256),k=0;k!=256;++k)P=k,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,F[k]=P;return typeof Int32Array<"u"?new Int32Array(F):F}var r=t();function n(P){var F=0,k=0,z=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)O[z]=P[z];for(z=0;z!=256;++z)for(k=P[z],F=256+z;F<4096;F+=256)k=O[F]=k>>>8^P[k&255];var M=[];for(z=1;z!=16;++z)M[z-1]=typeof Int32Array<"u"?O.subarray(z*256,z*256+256):O.slice(z*256,z*256+256);return M}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],h=a[5],m=a[6],p=a[7],g=a[8],w=a[9],b=a[10],v=a[11],N=a[12],S=a[13],A=a[14];function E(P,F){for(var k=F^-1,z=0,O=P.length;z<O;)k=k>>>8^r[(k^P.charCodeAt(z++))&255];return~k}function C(P,F){for(var k=F^-1,z=P.length-15,O=0;O<z;)k=A[P[O++]^k&255]^S[P[O++]^k>>8&255]^N[P[O++]^k>>16&255]^v[P[O++]^k>>>24]^b[P[O++]]^w[P[O++]]^g[P[O++]]^p[P[O++]]^m[P[O++]]^h[P[O++]]^d[P[O++]]^c[P[O++]]^l[P[O++]]^o[P[O++]]^i[P[O++]]^r[P[O++]];for(z+=15;O<z;)k=k>>>8^r[(k^P[O++])&255];return~k}function I(P,F){for(var k=F^-1,z=0,O=P.length,M=0,R=0;z<O;)M=P.charCodeAt(z++),M<128?k=k>>>8^r[(k^M)&255]:M<2048?(k=k>>>8^r[(k^(192|M>>6&31))&255],k=k>>>8^r[(k^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,R=P.charCodeAt(z++)&1023,k=k>>>8^r[(k^(240|M>>8&7))&255],k=k>>>8^r[(k^(128|M>>2&63))&255],k=k>>>8^r[(k^(128|R>>6&15|(M&3)<<4))&255],k=k>>>8^r[(k^(128|R&63))&255]):(k=k>>>8^r[(k^(224|M>>12&15))&255],k=k>>>8^r[(k^(128|M>>6&63))&255],k=k>>>8^r[(k^(128|M&63))&255]);return~k}return e.table=r,e.bstr=E,e.buf=C,e.str=I,e}(),Kn=function(){var t={};t.version="1.2.1";function r(fe,Re){for(var Ne=fe.split("/"),Ae=Re.split("/"),Ie=0,Te=0,st=Math.min(Ne.length,Ae.length);Ie<st;++Ie){if(Te=Ne[Ie].length-Ae[Ie].length)return Te;if(Ne[Ie]!=Ae[Ie])return Ne[Ie]<Ae[Ie]?-1:1}return Ne.length-Ae.length}function n(fe){if(fe.charAt(fe.length-1)=="/")return fe.slice(0,-1).indexOf("/")===-1?fe:n(fe.slice(0,-1));var Re=fe.lastIndexOf("/");return Re===-1?fe:fe.slice(0,Re+1)}function a(fe){if(fe.charAt(fe.length-1)=="/")return a(fe.slice(0,-1));var Re=fe.lastIndexOf("/");return Re===-1?fe:fe.slice(Re+1)}function i(fe,Re){typeof Re=="string"&&(Re=new Date(Re));var Ne=Re.getHours();Ne=Ne<<6|Re.getMinutes(),Ne=Ne<<5|Re.getSeconds()>>>1,fe.write_shift(2,Ne);var Ae=Re.getFullYear()-1980;Ae=Ae<<4|Re.getMonth()+1,Ae=Ae<<5|Re.getDate(),fe.write_shift(2,Ae)}function o(fe){var Re=fe.read_shift(2)&65535,Ne=fe.read_shift(2)&65535,Ae=new Date,Ie=Ne&31;Ne>>>=5;var Te=Ne&15;Ne>>>=4,Ae.setMilliseconds(0),Ae.setFullYear(Ne+1980),Ae.setMonth(Te-1),Ae.setDate(Ie);var st=Re&31;Re>>>=5;var Et=Re&63;return Re>>>=6,Ae.setHours(Re),Ae.setMinutes(Et),Ae.setSeconds(st<<1),Ae}function l(fe){Lc(fe,0);for(var Re={},Ne=0;fe.l<=fe.length-4;){var Ae=fe.read_shift(2),Ie=fe.read_shift(2),Te=fe.l+Ie,st={};switch(Ae){case 21589:Ne=fe.read_shift(1),Ne&1&&(st.mtime=fe.read_shift(4)),Ie>5&&(Ne&2&&(st.atime=fe.read_shift(4)),Ne&4&&(st.ctime=fe.read_shift(4))),st.mtime&&(st.mt=new Date(st.mtime*1e3));break}fe.l=Te,Re[Ae]=st}return Re}var c;function d(){return c||(c={})}function h(fe,Re){if(fe[0]==80&&fe[1]==75)return Tr(fe,Re);if((fe[0]|32)==109&&(fe[1]|32)==105)return lt(fe,Re);if(fe.length<512)throw new Error("CFB file size "+fe.length+" < 512");var Ne=3,Ae=512,Ie=0,Te=0,st=0,Et=0,ht=0,dt=[],yt=fe.slice(0,512);Lc(yt,0);var Vt=m(yt);switch(Ne=Vt[0],Ne){case 3:Ae=512;break;case 4:Ae=4096;break;case 0:if(Vt[1]==0)return Tr(fe,Re);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ne)}Ae!==512&&(yt=fe.slice(0,Ae),Lc(yt,28));var Zt=fe.slice(0,Ae);p(yt,Ne);var de=yt.read_shift(4,"i");if(Ne===3&&de!==0)throw new Error("# Directory Sectors: Expected 0 saw "+de);yt.l+=4,st=yt.read_shift(4,"i"),yt.l+=4,yt.chk("00100000","Mini Stream Cutoff Size: "),Et=yt.read_shift(4,"i"),Ie=yt.read_shift(4,"i"),ht=yt.read_shift(4,"i"),Te=yt.read_shift(4,"i");for(var Ve=-1,He=0;He<109&&(Ve=yt.read_shift(4,"i"),!(Ve<0));++He)dt[He]=Ve;var kt=g(fe,Ae);v(ht,Te,kt,Ae,dt);var Kt=S(kt,st,dt,Ae);Kt[st].name="!Directory",Ie>0&&Et!==R&&(Kt[Et].name="!MiniFAT"),Kt[dt[0]].name="!FAT",Kt.fat_addrs=dt,Kt.ssz=Ae;var Jt={},Dr=[],as=[],bs=[];A(st,Kt,kt,Dr,Ie,Jt,as,Et),w(as,bs,Dr),Dr.shift();var tn={FileIndex:as,FullPaths:bs};return Re&&Re.raw&&(tn.raw={header:Zt,sectors:kt}),tn}function m(fe){if(fe[fe.l]==80&&fe[fe.l+1]==75)return[0,0];fe.chk(B,"Header Signature: "),fe.l+=16;var Re=fe.read_shift(2,"u");return[fe.read_shift(2,"u"),Re]}function p(fe,Re){var Ne=9;switch(fe.l+=2,Ne=fe.read_shift(2)){case 9:if(Re!=3)throw new Error("Sector Shift: Expected 9 saw "+Ne);break;case 12:if(Re!=4)throw new Error("Sector Shift: Expected 12 saw "+Ne);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ne)}fe.chk("0600","Mini Sector Shift: "),fe.chk("000000000000","Reserved: ")}function g(fe,Re){for(var Ne=Math.ceil(fe.length/Re)-1,Ae=[],Ie=1;Ie<Ne;++Ie)Ae[Ie-1]=fe.slice(Ie*Re,(Ie+1)*Re);return Ae[Ne-1]=fe.slice(Ne*Re),Ae}function w(fe,Re,Ne){for(var Ae=0,Ie=0,Te=0,st=0,Et=0,ht=Ne.length,dt=[],yt=[];Ae<ht;++Ae)dt[Ae]=yt[Ae]=Ae,Re[Ae]=Ne[Ae];for(;Et<yt.length;++Et)Ae=yt[Et],Ie=fe[Ae].L,Te=fe[Ae].R,st=fe[Ae].C,dt[Ae]===Ae&&(Ie!==-1&&dt[Ie]!==Ie&&(dt[Ae]=dt[Ie]),Te!==-1&&dt[Te]!==Te&&(dt[Ae]=dt[Te])),st!==-1&&(dt[st]=Ae),Ie!==-1&&Ae!=dt[Ae]&&(dt[Ie]=dt[Ae],yt.lastIndexOf(Ie)<Et&&yt.push(Ie)),Te!==-1&&Ae!=dt[Ae]&&(dt[Te]=dt[Ae],yt.lastIndexOf(Te)<Et&&yt.push(Te));for(Ae=1;Ae<ht;++Ae)dt[Ae]===Ae&&(Te!==-1&&dt[Te]!==Te?dt[Ae]=dt[Te]:Ie!==-1&&dt[Ie]!==Ie&&(dt[Ae]=dt[Ie]));for(Ae=1;Ae<ht;++Ae)if(fe[Ae].type!==0){if(Et=Ae,Et!=dt[Et])do Et=dt[Et],Re[Ae]=Re[Et]+"/"+Re[Ae];while(Et!==0&&dt[Et]!==-1&&Et!=dt[Et]);dt[Ae]=-1}for(Re[0]+="/",Ae=1;Ae<ht;++Ae)fe[Ae].type!==2&&(Re[Ae]+="/")}function b(fe,Re,Ne){for(var Ae=fe.start,Ie=fe.size,Te=[],st=Ae;Ne&&Ie>0&&st>=0;)Te.push(Re.slice(st*M,st*M+M)),Ie-=M,st=w0(Ne,st*4);return Te.length===0?It(0):Mo(Te).slice(0,fe.size)}function v(fe,Re,Ne,Ae,Ie){var Te=R;if(fe===R){if(Re!==0)throw new Error("DIFAT chain shorter than expected")}else if(fe!==-1){var st=Ne[fe],Et=(Ae>>>2)-1;if(!st)return;for(var ht=0;ht<Et&&(Te=w0(st,ht*4))!==R;++ht)Ie.push(Te);v(w0(st,Ae-4),Re-1,Ne,Ae,Ie)}}function N(fe,Re,Ne,Ae,Ie){var Te=[],st=[];Ie||(Ie=[]);var Et=Ae-1,ht=0,dt=0;for(ht=Re;ht>=0;){Ie[ht]=!0,Te[Te.length]=ht,st.push(fe[ht]);var yt=Ne[Math.floor(ht*4/Ae)];if(dt=ht*4&Et,Ae<4+dt)throw new Error("FAT boundary crossed: "+ht+" 4 "+Ae);if(!fe[yt])break;ht=w0(fe[yt],dt)}return{nodes:Te,data:EM([st])}}function S(fe,Re,Ne,Ae){var Ie=fe.length,Te=[],st=[],Et=[],ht=[],dt=Ae-1,yt=0,Vt=0,Zt=0,de=0;for(yt=0;yt<Ie;++yt)if(Et=[],Zt=yt+Re,Zt>=Ie&&(Zt-=Ie),!st[Zt]){ht=[];var Ve=[];for(Vt=Zt;Vt>=0;){Ve[Vt]=!0,st[Vt]=!0,Et[Et.length]=Vt,ht.push(fe[Vt]);var He=Ne[Math.floor(Vt*4/Ae)];if(de=Vt*4&dt,Ae<4+de)throw new Error("FAT boundary crossed: "+Vt+" 4 "+Ae);if(!fe[He]||(Vt=w0(fe[He],de),Ve[Vt]))break}Te[Zt]={nodes:Et,data:EM([ht])}}return Te}function A(fe,Re,Ne,Ae,Ie,Te,st,Et){for(var ht=0,dt=Ae.length?2:0,yt=Re[fe].data,Vt=0,Zt=0,de;Vt<yt.length;Vt+=128){var Ve=yt.slice(Vt,Vt+128);Lc(Ve,64),Zt=Ve.read_shift(2),de=mD(Ve,0,Zt-dt),Ae.push(de);var He={name:de,type:Ve.read_shift(1),color:Ve.read_shift(1),L:Ve.read_shift(4,"i"),R:Ve.read_shift(4,"i"),C:Ve.read_shift(4,"i"),clsid:Ve.read_shift(16),state:Ve.read_shift(4,"i"),start:0,size:0},kt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);kt!==0&&(He.ct=E(Ve,Ve.l-8));var Kt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Kt!==0&&(He.mt=E(Ve,Ve.l-8)),He.start=Ve.read_shift(4,"i"),He.size=Ve.read_shift(4,"i"),He.size<0&&He.start<0&&(He.size=He.type=0,He.start=R,He.name=""),He.type===5?(ht=He.start,Ie>0&&ht!==R&&(Re[ht].name="!StreamData")):He.size>=4096?(He.storage="fat",Re[He.start]===void 0&&(Re[He.start]=N(Ne,He.start,Re.fat_addrs,Re.ssz)),Re[He.start].name=He.name,He.content=Re[He.start].data.slice(0,He.size)):(He.storage="minifat",He.size<0?He.size=0:ht!==R&&He.start!==R&&Re[ht]&&(He.content=b(He,Re[ht].data,(Re[Et]||{}).data))),He.content&&Lc(He.content,0),Te[de]=He,st.push(He)}}function E(fe,Re){return new Date((Bc(fe,Re+4)/1e7*Math.pow(2,32)+Bc(fe,Re)/1e7-11644473600)*1e3)}function C(fe,Re){return d(),h(c.readFileSync(fe),Re)}function I(fe,Re){var Ne=Re&&Re.type;switch(Ne||Cn&&Buffer.isBuffer(fe)&&(Ne="buffer"),Ne||"base64"){case"file":return C(fe,Re);case"base64":return h(Eu(Qf(fe)),Re);case"binary":return h(Eu(fe),Re)}return h(fe,Re)}function P(fe,Re){var Ne=Re||{},Ae=Ne.root||"Root Entry";if(fe.FullPaths||(fe.FullPaths=[]),fe.FileIndex||(fe.FileIndex=[]),fe.FullPaths.length!==fe.FileIndex.length)throw new Error("inconsistent CFB structure");fe.FullPaths.length===0&&(fe.FullPaths[0]=Ae+"/",fe.FileIndex[0]={name:Ae,type:5}),Ne.CLSID&&(fe.FileIndex[0].clsid=Ne.CLSID),F(fe)}function F(fe){var Re="Sh33tJ5";if(!Kn.find(fe,"/"+Re)){var Ne=It(4);Ne[0]=55,Ne[1]=Ne[3]=50,Ne[2]=54,fe.FileIndex.push({name:Re,type:2,content:Ne,size:4,L:69,R:69,C:69}),fe.FullPaths.push(fe.FullPaths[0]+Re),k(fe)}}function k(fe,Re){P(fe);for(var Ne=!1,Ae=!1,Ie=fe.FullPaths.length-1;Ie>=0;--Ie){var Te=fe.FileIndex[Ie];switch(Te.type){case 0:Ae?Ne=!0:(fe.FileIndex.pop(),fe.FullPaths.pop());break;case 1:case 2:case 5:Ae=!0,isNaN(Te.R*Te.L*Te.C)&&(Ne=!0),Te.R>-1&&Te.L>-1&&Te.R==Te.L&&(Ne=!0);break;default:Ne=!0;break}}if(!(!Ne&&!Re)){var st=new Date(1987,1,19),Et=0,ht=Object.create?Object.create(null):{},dt=[];for(Ie=0;Ie<fe.FullPaths.length;++Ie)ht[fe.FullPaths[Ie]]=!0,fe.FileIndex[Ie].type!==0&&dt.push([fe.FullPaths[Ie],fe.FileIndex[Ie]]);for(Ie=0;Ie<dt.length;++Ie){var yt=n(dt[Ie][0]);Ae=ht[yt],Ae||(dt.push([yt,{name:a(yt).replace("/",""),type:1,clsid:U,ct:st,mt:st,content:null}]),ht[yt]=!0)}for(dt.sort(function(de,Ve){return r(de[0],Ve[0])}),fe.FullPaths=[],fe.FileIndex=[],Ie=0;Ie<dt.length;++Ie)fe.FullPaths[Ie]=dt[Ie][0],fe.FileIndex[Ie]=dt[Ie][1];for(Ie=0;Ie<dt.length;++Ie){var Vt=fe.FileIndex[Ie],Zt=fe.FullPaths[Ie];if(Vt.name=a(Zt).replace("/",""),Vt.L=Vt.R=Vt.C=-(Vt.color=1),Vt.size=Vt.content?Vt.content.length:0,Vt.start=0,Vt.clsid=Vt.clsid||U,Ie===0)Vt.C=dt.length>1?1:-1,Vt.size=0,Vt.type=5;else if(Zt.slice(-1)=="/"){for(Et=Ie+1;Et<dt.length&&n(fe.FullPaths[Et])!=Zt;++Et);for(Vt.C=Et>=dt.length?-1:Et,Et=Ie+1;Et<dt.length&&n(fe.FullPaths[Et])!=n(Zt);++Et);Vt.R=Et>=dt.length?-1:Et,Vt.type=1}else n(fe.FullPaths[Ie+1]||"")==n(Zt)&&(Vt.R=Ie+1),Vt.type=2}}}function z(fe,Re){var Ne=Re||{};if(Ne.fileType=="mad")return Ct(fe,Ne);switch(k(fe),Ne.fileType){case"zip":return mr(fe,Ne)}var Ae=function(de){for(var Ve=0,He=0,kt=0;kt<de.FileIndex.length;++kt){var Kt=de.FileIndex[kt];if(Kt.content){var Jt=Kt.content.length;Jt>0&&(Jt<4096?Ve+=Jt+63>>6:He+=Jt+511>>9)}}for(var Dr=de.FullPaths.length+3>>2,as=Ve+7>>3,bs=Ve+127>>7,tn=as+He+Dr+bs,xs=tn+127>>7,_n=xs<=109?0:Math.ceil((xs-109)/127);tn+xs+_n+127>>7>xs;)_n=++xs<=109?0:Math.ceil((xs-109)/127);var kn=[1,_n,xs,bs,Dr,He,Ve,0];return de.FileIndex[0].size=Ve<<6,kn[7]=(de.FileIndex[0].start=kn[0]+kn[1]+kn[2]+kn[3]+kn[4]+kn[5])+(kn[6]+7>>3),kn}(fe),Ie=It(Ae[7]<<9),Te=0,st=0;{for(Te=0;Te<8;++Te)Ie.write_shift(1,Y[Te]);for(Te=0;Te<8;++Te)Ie.write_shift(2,0);for(Ie.write_shift(2,62),Ie.write_shift(2,3),Ie.write_shift(2,65534),Ie.write_shift(2,9),Ie.write_shift(2,6),Te=0;Te<3;++Te)Ie.write_shift(2,0);for(Ie.write_shift(4,0),Ie.write_shift(4,Ae[2]),Ie.write_shift(4,Ae[0]+Ae[1]+Ae[2]+Ae[3]-1),Ie.write_shift(4,0),Ie.write_shift(4,4096),Ie.write_shift(4,Ae[3]?Ae[0]+Ae[1]+Ae[2]-1:R),Ie.write_shift(4,Ae[3]),Ie.write_shift(-4,Ae[1]?Ae[0]-1:R),Ie.write_shift(4,Ae[1]),Te=0;Te<109;++Te)Ie.write_shift(-4,Te<Ae[2]?Ae[1]+Te:-1)}if(Ae[1])for(st=0;st<Ae[1];++st){for(;Te<236+st*127;++Te)Ie.write_shift(-4,Te<Ae[2]?Ae[1]+Te:-1);Ie.write_shift(-4,st===Ae[1]-1?R:st+1)}var Et=function(de){for(st+=de;Te<st-1;++Te)Ie.write_shift(-4,Te+1);de&&(++Te,Ie.write_shift(-4,R))};for(st=Te=0,st+=Ae[1];Te<st;++Te)Ie.write_shift(-4,Q.DIFSECT);for(st+=Ae[2];Te<st;++Te)Ie.write_shift(-4,Q.FATSECT);Et(Ae[3]),Et(Ae[4]);for(var ht=0,dt=0,yt=fe.FileIndex[0];ht<fe.FileIndex.length;++ht)yt=fe.FileIndex[ht],yt.content&&(dt=yt.content.length,!(dt<4096)&&(yt.start=st,Et(dt+511>>9)));for(Et(Ae[6]+7>>3);Ie.l&511;)Ie.write_shift(-4,Q.ENDOFCHAIN);for(st=Te=0,ht=0;ht<fe.FileIndex.length;++ht)yt=fe.FileIndex[ht],yt.content&&(dt=yt.content.length,!(!dt||dt>=4096)&&(yt.start=st,Et(dt+63>>6)));for(;Ie.l&511;)Ie.write_shift(-4,Q.ENDOFCHAIN);for(Te=0;Te<Ae[4]<<2;++Te){var Vt=fe.FullPaths[Te];if(!Vt||Vt.length===0){for(ht=0;ht<17;++ht)Ie.write_shift(4,0);for(ht=0;ht<3;++ht)Ie.write_shift(4,-1);for(ht=0;ht<12;++ht)Ie.write_shift(4,0);continue}yt=fe.FileIndex[Te],Te===0&&(yt.start=yt.size?yt.start-1:R);var Zt=Te===0&&Ne.root||yt.name;if(dt=2*(Zt.length+1),Ie.write_shift(64,Zt,"utf16le"),Ie.write_shift(2,dt),Ie.write_shift(1,yt.type),Ie.write_shift(1,yt.color),Ie.write_shift(-4,yt.L),Ie.write_shift(-4,yt.R),Ie.write_shift(-4,yt.C),yt.clsid)Ie.write_shift(16,yt.clsid,"hex");else for(ht=0;ht<4;++ht)Ie.write_shift(4,0);Ie.write_shift(4,yt.state||0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,yt.start),Ie.write_shift(4,yt.size),Ie.write_shift(4,0)}for(Te=1;Te<fe.FileIndex.length;++Te)if(yt=fe.FileIndex[Te],yt.size>=4096)if(Ie.l=yt.start+1<<9,Cn&&Buffer.isBuffer(yt.content))yt.content.copy(Ie,Ie.l,0,yt.size),Ie.l+=yt.size+511&-512;else{for(ht=0;ht<yt.size;++ht)Ie.write_shift(1,yt.content[ht]);for(;ht&511;++ht)Ie.write_shift(1,0)}for(Te=1;Te<fe.FileIndex.length;++Te)if(yt=fe.FileIndex[Te],yt.size>0&&yt.size<4096)if(Cn&&Buffer.isBuffer(yt.content))yt.content.copy(Ie,Ie.l,0,yt.size),Ie.l+=yt.size+63&-64;else{for(ht=0;ht<yt.size;++ht)Ie.write_shift(1,yt.content[ht]);for(;ht&63;++ht)Ie.write_shift(1,0)}if(Cn)Ie.l=Ie.length;else for(;Ie.l<Ie.length;)Ie.write_shift(1,0);return Ie}function O(fe,Re){var Ne=fe.FullPaths.map(function(ht){return ht.toUpperCase()}),Ae=Ne.map(function(ht){var dt=ht.split("/");return dt[dt.length-(ht.slice(-1)=="/"?2:1)]}),Ie=!1;Re.charCodeAt(0)===47?(Ie=!0,Re=Ne[0].slice(0,-1)+Re):Ie=Re.indexOf("/")!==-1;var Te=Re.toUpperCase(),st=Ie===!0?Ne.indexOf(Te):Ae.indexOf(Te);if(st!==-1)return fe.FileIndex[st];var Et=!Te.match(WN);for(Te=Te.replace(ub,""),Et&&(Te=Te.replace(WN,"!")),st=0;st<Ne.length;++st)if((Et?Ne[st].replace(WN,"!"):Ne[st]).replace(ub,"")==Te||(Et?Ae[st].replace(WN,"!"):Ae[st]).replace(ub,"")==Te)return fe.FileIndex[st];return null}var M=64,R=-2,B="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",Q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(fe,Re,Ne){d();var Ae=z(fe,Ne);c.writeFileSync(Re,Ae)}function Z(fe){for(var Re=new Array(fe.length),Ne=0;Ne<fe.length;++Ne)Re[Ne]=String.fromCharCode(fe[Ne]);return Re.join("")}function J(fe,Re){var Ne=z(fe,Re);switch(Re&&Re.type||"buffer"){case"file":return d(),c.writeFileSync(Re.filename,Ne),Ne;case"binary":return typeof Ne=="string"?Ne:Z(Ne);case"base64":return h2(typeof Ne=="string"?Ne:Z(Ne));case"buffer":if(Cn)return Buffer.isBuffer(Ne)?Ne:sm(Ne);case"array":return typeof Ne=="string"?Eu(Ne):Ne}return Ne}var ae;function D(fe){try{var Re=fe.InflateRaw,Ne=new Re;if(Ne._processChunk(new Uint8Array([3,0]),Ne._finishFlushFlag),Ne.bytesRead)ae=fe;else throw new Error("zlib does not expose bytesRead")}catch(Ae){console.error("cannot use native zlib: "+(Ae.message||Ae))}}function H(fe,Re){if(!ae)return Lr(fe,Re);var Ne=ae.InflateRaw,Ae=new Ne,Ie=Ae._processChunk(fe.slice(fe.l),Ae._finishFlushFlag);return fe.l+=Ae.bytesRead,Ie}function K(fe){return ae?ae.deflateRawSync(fe):Xt(fe)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ie(fe){var Re=(fe<<1|fe<<11)&139536|(fe<<5|fe<<15)&558144;return(Re>>16|Re>>8|Re)&255}for(var se=typeof Uint8Array<"u",le=se?new Uint8Array(256):[],Ce=0;Ce<256;++Ce)le[Ce]=ie(Ce);function De(fe,Re){var Ne=le[fe&255];return Re<=8?Ne>>>8-Re:(Ne=Ne<<8|le[fe>>8&255],Re<=16?Ne>>>16-Re:(Ne=Ne<<8|le[fe>>16&255],Ne>>>24-Re))}function Ze(fe,Re){var Ne=Re&7,Ae=Re>>>3;return(fe[Ae]|(Ne<=6?0:fe[Ae+1]<<8))>>>Ne&3}function ke(fe,Re){var Ne=Re&7,Ae=Re>>>3;return(fe[Ae]|(Ne<=5?0:fe[Ae+1]<<8))>>>Ne&7}function ce(fe,Re){var Ne=Re&7,Ae=Re>>>3;return(fe[Ae]|(Ne<=4?0:fe[Ae+1]<<8))>>>Ne&15}function Me(fe,Re){var Ne=Re&7,Ae=Re>>>3;return(fe[Ae]|(Ne<=3?0:fe[Ae+1]<<8))>>>Ne&31}function be(fe,Re){var Ne=Re&7,Ae=Re>>>3;return(fe[Ae]|(Ne<=1?0:fe[Ae+1]<<8))>>>Ne&127}function ge(fe,Re,Ne){var Ae=Re&7,Ie=Re>>>3,Te=(1<<Ne)-1,st=fe[Ie]>>>Ae;return Ne<8-Ae||(st|=fe[Ie+1]<<8-Ae,Ne<16-Ae)||(st|=fe[Ie+2]<<16-Ae,Ne<24-Ae)||(st|=fe[Ie+3]<<24-Ae),st&Te}function Ye(fe,Re,Ne){var Ae=Re&7,Ie=Re>>>3;return Ae<=5?fe[Ie]|=(Ne&7)<<Ae:(fe[Ie]|=Ne<<Ae&255,fe[Ie+1]=(Ne&7)>>8-Ae),Re+3}function ze(fe,Re,Ne){var Ae=Re&7,Ie=Re>>>3;return Ne=(Ne&1)<<Ae,fe[Ie]|=Ne,Re+1}function Pe(fe,Re,Ne){var Ae=Re&7,Ie=Re>>>3;return Ne<<=Ae,fe[Ie]|=Ne&255,Ne>>>=8,fe[Ie+1]=Ne,Re+8}function me(fe,Re,Ne){var Ae=Re&7,Ie=Re>>>3;return Ne<<=Ae,fe[Ie]|=Ne&255,Ne>>>=8,fe[Ie+1]=Ne&255,fe[Ie+2]=Ne>>>8,Re+16}function we(fe,Re){var Ne=fe.length,Ae=2*Ne>Re?2*Ne:Re+5,Ie=0;if(Ne>=Re)return fe;if(Cn){var Te=uM(Ae);if(fe.copy)fe.copy(Te);else for(;Ie<fe.length;++Ie)Te[Ie]=fe[Ie];return Te}else if(se){var st=new Uint8Array(Ae);if(st.set)st.set(fe);else for(;Ie<Ne;++Ie)st[Ie]=fe[Ie];return st}return fe.length=Ae,fe}function qe(fe){for(var Re=new Array(fe),Ne=0;Ne<fe;++Ne)Re[Ne]=0;return Re}function xt(fe,Re,Ne){var Ae=1,Ie=0,Te=0,st=0,Et=0,ht=fe.length,dt=se?new Uint16Array(32):qe(32);for(Te=0;Te<32;++Te)dt[Te]=0;for(Te=ht;Te<Ne;++Te)fe[Te]=0;ht=fe.length;var yt=se?new Uint16Array(ht):qe(ht);for(Te=0;Te<ht;++Te)dt[Ie=fe[Te]]++,Ae<Ie&&(Ae=Ie),yt[Te]=0;for(dt[0]=0,Te=1;Te<=Ae;++Te)dt[Te+16]=Et=Et+dt[Te-1]<<1;for(Te=0;Te<ht;++Te)Et=fe[Te],Et!=0&&(yt[Te]=dt[Et+16]++);var Vt=0;for(Te=0;Te<ht;++Te)if(Vt=fe[Te],Vt!=0)for(Et=De(yt[Te],Ae)>>Ae-Vt,st=(1<<Ae+4-Vt)-1;st>=0;--st)Re[Et|st<<Vt]=Vt&15|Te<<4;return Ae}var pt=se?new Uint16Array(512):qe(512),ct=se?new Uint16Array(32):qe(32);if(!se){for(var ft=0;ft<512;++ft)pt[ft]=0;for(ft=0;ft<32;++ft)ct[ft]=0}(function(){for(var fe=[],Re=0;Re<32;Re++)fe.push(5);xt(fe,ct,32);var Ne=[];for(Re=0;Re<=143;Re++)Ne.push(8);for(;Re<=255;Re++)Ne.push(9);for(;Re<=279;Re++)Ne.push(7);for(;Re<=287;Re++)Ne.push(8);xt(Ne,pt,288)})();var Mt=function(){for(var Re=se?new Uint8Array(32768):[],Ne=0,Ae=0;Ne<te.length-1;++Ne)for(;Ae<te[Ne+1];++Ae)Re[Ae]=Ne;for(;Ae<32768;++Ae)Re[Ae]=29;var Ie=se?new Uint8Array(259):[];for(Ne=0,Ae=0;Ne<re.length-1;++Ne)for(;Ae<re[Ne+1];++Ae)Ie[Ae]=Ne;function Te(Et,ht){for(var dt=0;dt<Et.length;){var yt=Math.min(65535,Et.length-dt),Vt=dt+yt==Et.length;for(ht.write_shift(1,+Vt),ht.write_shift(2,yt),ht.write_shift(2,~yt&65535);yt-- >0;)ht[ht.l++]=Et[dt++]}return ht.l}function st(Et,ht){for(var dt=0,yt=0,Vt=se?new Uint16Array(32768):[];yt<Et.length;){var Zt=Math.min(65535,Et.length-yt);if(Zt<10){for(dt=Ye(ht,dt,+(yt+Zt==Et.length)),dt&7&&(dt+=8-(dt&7)),ht.l=dt/8|0,ht.write_shift(2,Zt),ht.write_shift(2,~Zt&65535);Zt-- >0;)ht[ht.l++]=Et[yt++];dt=ht.l*8;continue}dt=Ye(ht,dt,+(yt+Zt==Et.length)+2);for(var de=0;Zt-- >0;){var Ve=Et[yt];de=(de<<5^Ve)&32767;var He=-1,kt=0;if((He=Vt[de])&&(He|=yt&-32768,He>yt&&(He-=32768),He<yt))for(;Et[He+kt]==Et[yt+kt]&&kt<250;)++kt;if(kt>2){Ve=Ie[kt],Ve<=22?dt=Pe(ht,dt,le[Ve+1]>>1)-1:(Pe(ht,dt,3),dt+=5,Pe(ht,dt,le[Ve-23]>>5),dt+=3);var Kt=Ve<8?0:Ve-4>>2;Kt>0&&(me(ht,dt,kt-re[Ve]),dt+=Kt),Ve=Re[yt-He],dt=Pe(ht,dt,le[Ve]>>3),dt-=3;var Jt=Ve<4?0:Ve-2>>1;Jt>0&&(me(ht,dt,yt-He-te[Ve]),dt+=Jt);for(var Dr=0;Dr<kt;++Dr)Vt[de]=yt&32767,de=(de<<5^Et[yt])&32767,++yt;Zt-=kt-1}else Ve<=143?Ve=Ve+48:dt=ze(ht,dt,1),dt=Pe(ht,dt,le[Ve]),Vt[de]=yt&32767,++yt}dt=Pe(ht,dt,0)-1}return ht.l=(dt+7)/8|0,ht.l}return function(ht,dt){return ht.length<8?Te(ht,dt):st(ht,dt)}}();function Xt(fe){var Re=It(50+Math.floor(fe.length*1.1)),Ne=Mt(fe,Re);return Re.slice(0,Ne)}var ur=se?new Uint16Array(32768):qe(32768),es=se?new Uint16Array(32768):qe(32768),Qr=se?new Uint16Array(128):qe(128),mt=1,Er=1;function tr(fe,Re){var Ne=Me(fe,Re)+257;Re+=5;var Ae=Me(fe,Re)+1;Re+=5;var Ie=ce(fe,Re)+4;Re+=4;for(var Te=0,st=se?new Uint8Array(19):qe(19),Et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ht=1,dt=se?new Uint8Array(8):qe(8),yt=se?new Uint8Array(8):qe(8),Vt=st.length,Zt=0;Zt<Ie;++Zt)st[W[Zt]]=Te=ke(fe,Re),ht<Te&&(ht=Te),dt[Te]++,Re+=3;var de=0;for(dt[0]=0,Zt=1;Zt<=ht;++Zt)yt[Zt]=de=de+dt[Zt-1]<<1;for(Zt=0;Zt<Vt;++Zt)(de=st[Zt])!=0&&(Et[Zt]=yt[de]++);var Ve=0;for(Zt=0;Zt<Vt;++Zt)if(Ve=st[Zt],Ve!=0){de=le[Et[Zt]]>>8-Ve;for(var He=(1<<7-Ve)-1;He>=0;--He)Qr[de|He<<Ve]=Ve&7|Zt<<3}var kt=[];for(ht=1;kt.length<Ne+Ae;)switch(de=Qr[be(fe,Re)],Re+=de&7,de>>>=3){case 16:for(Te=3+Ze(fe,Re),Re+=2,de=kt[kt.length-1];Te-- >0;)kt.push(de);break;case 17:for(Te=3+ke(fe,Re),Re+=3;Te-- >0;)kt.push(0);break;case 18:for(Te=11+be(fe,Re),Re+=7;Te-- >0;)kt.push(0);break;default:kt.push(de),ht<de&&(ht=de);break}var Kt=kt.slice(0,Ne),Jt=kt.slice(Ne);for(Zt=Ne;Zt<286;++Zt)Kt[Zt]=0;for(Zt=Ae;Zt<30;++Zt)Jt[Zt]=0;return mt=xt(Kt,ur,286),Er=xt(Jt,es,30),Re}function fr(fe,Re){if(fe[0]==3&&!(fe[1]&3))return[lg(Re),2];for(var Ne=0,Ae=0,Ie=uM(Re||1<<18),Te=0,st=Ie.length>>>0,Et=0,ht=0;(Ae&1)==0;){if(Ae=ke(fe,Ne),Ne+=3,Ae>>>1)Ae>>1==1?(Et=9,ht=5):(Ne=tr(fe,Ne),Et=mt,ht=Er);else{Ne&7&&(Ne+=8-(Ne&7));var dt=fe[Ne>>>3]|fe[(Ne>>>3)+1]<<8;if(Ne+=32,dt>0)for(!Re&&st<Te+dt&&(Ie=we(Ie,Te+dt),st=Ie.length);dt-- >0;)Ie[Te++]=fe[Ne>>>3],Ne+=8;continue}for(;;){!Re&&st<Te+32767&&(Ie=we(Ie,Te+32767),st=Ie.length);var yt=ge(fe,Ne,Et),Vt=Ae>>>1==1?pt[yt]:ur[yt];if(Ne+=Vt&15,Vt>>>=4,(Vt>>>8&255)===0)Ie[Te++]=Vt;else{if(Vt==256)break;Vt-=257;var Zt=Vt<8?0:Vt-4>>2;Zt>5&&(Zt=0);var de=Te+re[Vt];Zt>0&&(de+=ge(fe,Ne,Zt),Ne+=Zt),yt=ge(fe,Ne,ht),Vt=Ae>>>1==1?ct[yt]:es[yt],Ne+=Vt&15,Vt>>>=4;var Ve=Vt<4?0:Vt-2>>1,He=te[Vt];for(Ve>0&&(He+=ge(fe,Ne,Ve),Ne+=Ve),!Re&&st<de&&(Ie=we(Ie,de+100),st=Ie.length);Te<de;)Ie[Te]=Ie[Te-He],++Te}}}return Re?[Ie,Ne+7>>>3]:[Ie.slice(0,Te),Ne+7>>>3]}function Lr(fe,Re){var Ne=fe.slice(fe.l||0),Ae=fr(Ne,Re);return fe.l+=Ae[1],Ae[0]}function Pt(fe,Re){if(fe)typeof console<"u"&&console.error(Re);else throw new Error(Re)}function Tr(fe,Re){var Ne=fe;Lc(Ne,0);var Ae=[],Ie=[],Te={FileIndex:Ae,FullPaths:Ie};P(Te,{root:Re.root});for(var st=Ne.length-4;(Ne[st]!=80||Ne[st+1]!=75||Ne[st+2]!=5||Ne[st+3]!=6)&&st>=0;)--st;Ne.l=st+4,Ne.l+=4;var Et=Ne.read_shift(2);Ne.l+=6;var ht=Ne.read_shift(4);for(Ne.l=ht,st=0;st<Et;++st){Ne.l+=20;var dt=Ne.read_shift(4),yt=Ne.read_shift(4),Vt=Ne.read_shift(2),Zt=Ne.read_shift(2),de=Ne.read_shift(2);Ne.l+=8;var Ve=Ne.read_shift(4),He=l(Ne.slice(Ne.l+Vt,Ne.l+Vt+Zt));Ne.l+=Vt+Zt+de;var kt=Ne.l;Ne.l=Ve+4,Cr(Ne,dt,yt,Te,He),Ne.l=kt}return Te}function Cr(fe,Re,Ne,Ae,Ie){fe.l+=2;var Te=fe.read_shift(2),st=fe.read_shift(2),Et=o(fe);if(Te&8257)throw new Error("Unsupported ZIP encryption");for(var ht=fe.read_shift(4),dt=fe.read_shift(4),yt=fe.read_shift(4),Vt=fe.read_shift(2),Zt=fe.read_shift(2),de="",Ve=0;Ve<Vt;++Ve)de+=String.fromCharCode(fe[fe.l++]);if(Zt){var He=l(fe.slice(fe.l,fe.l+Zt));(He[21589]||{}).mt&&(Et=He[21589].mt),((Ie||{})[21589]||{}).mt&&(Et=Ie[21589].mt)}fe.l+=Zt;var kt=fe.slice(fe.l,fe.l+dt);switch(st){case 8:kt=H(fe,yt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+st)}var Kt=!1;Te&8&&(ht=fe.read_shift(4),ht==134695760&&(ht=fe.read_shift(4),Kt=!0),dt=fe.read_shift(4),yt=fe.read_shift(4)),dt!=Re&&Pt(Kt,"Bad compressed size: "+Re+" != "+dt),yt!=Ne&&Pt(Kt,"Bad uncompressed size: "+Ne+" != "+yt),_r(Ae,de,kt,{unsafe:!0,mt:Et})}function mr(fe,Re){var Ne=Re||{},Ae=[],Ie=[],Te=It(1),st=Ne.compression?8:0,Et=0,ht=0,dt=0,yt=0,Vt=0,Zt=fe.FullPaths[0],de=Zt,Ve=fe.FileIndex[0],He=[],kt=0;for(ht=1;ht<fe.FullPaths.length;++ht)if(de=fe.FullPaths[ht].slice(Zt.length),Ve=fe.FileIndex[ht],!(!Ve.size||!Ve.content||de=="Sh33tJ5")){var Kt=yt,Jt=It(de.length);for(dt=0;dt<de.length;++dt)Jt.write_shift(1,de.charCodeAt(dt)&127);Jt=Jt.slice(0,Jt.l),He[Vt]=F_e.buf(Ve.content,0);var Dr=Ve.content;st==8&&(Dr=K(Dr)),Te=It(30),Te.write_shift(4,67324752),Te.write_shift(2,20),Te.write_shift(2,Et),Te.write_shift(2,st),Ve.mt?i(Te,Ve.mt):Te.write_shift(4,0),Te.write_shift(-4,He[Vt]),Te.write_shift(4,Dr.length),Te.write_shift(4,Ve.content.length),Te.write_shift(2,Jt.length),Te.write_shift(2,0),yt+=Te.length,Ae.push(Te),yt+=Jt.length,Ae.push(Jt),yt+=Dr.length,Ae.push(Dr),Te=It(46),Te.write_shift(4,33639248),Te.write_shift(2,0),Te.write_shift(2,20),Te.write_shift(2,Et),Te.write_shift(2,st),Te.write_shift(4,0),Te.write_shift(-4,He[Vt]),Te.write_shift(4,Dr.length),Te.write_shift(4,Ve.content.length),Te.write_shift(2,Jt.length),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(4,0),Te.write_shift(4,Kt),kt+=Te.l,Ie.push(Te),kt+=Jt.length,Ie.push(Jt),++Vt}return Te=It(22),Te.write_shift(4,101010256),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,Vt),Te.write_shift(2,Vt),Te.write_shift(4,kt),Te.write_shift(4,yt),Te.write_shift(2,0),Mo([Mo(Ae),Mo(Ie),Te])}var ar={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Gt(fe,Re){if(fe.ctype)return fe.ctype;var Ne=fe.name||"",Ae=Ne.match(/\.([^\.]+)$/);return Ae&&ar[Ae[1]]||Re&&(Ae=(Ne=Re).match(/[\.\\]([^\.\\])+$/),Ae&&ar[Ae[1]])?ar[Ae[1]]:"application/octet-stream"}function Mr(fe){for(var Re=h2(fe),Ne=[],Ae=0;Ae<Re.length;Ae+=76)Ne.push(Re.slice(Ae,Ae+76));return Ne.join(`\r
`)+`\r
`}function ts(fe){var Re=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(dt){var yt=dt.charCodeAt(0).toString(16).toUpperCase();return"="+(yt.length==1?"0"+yt:yt)});Re=Re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Re.charAt(0)==`
`&&(Re="=0D"+Re.slice(1)),Re=Re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ne=[],Ae=Re.split(`\r
`),Ie=0;Ie<Ae.length;++Ie){var Te=Ae[Ie];if(Te.length==0){Ne.push("");continue}for(var st=0;st<Te.length;){var Et=76,ht=Te.slice(st,st+Et);ht.charAt(Et-1)=="="?Et--:ht.charAt(Et-2)=="="?Et-=2:ht.charAt(Et-3)=="="&&(Et-=3),ht=Te.slice(st,st+Et),st+=Et,st<Te.length&&(ht+="="),Ne.push(ht)}}return Ne.join(`\r
`)}function ss(fe){for(var Re=[],Ne=0;Ne<fe.length;++Ne){for(var Ae=fe[Ne];Ne<=fe.length&&Ae.charAt(Ae.length-1)=="=";)Ae=Ae.slice(0,Ae.length-1)+fe[++Ne];Re.push(Ae)}for(var Ie=0;Ie<Re.length;++Ie)Re[Ie]=Re[Ie].replace(/[=][0-9A-Fa-f]{2}/g,function(Te){return String.fromCharCode(parseInt(Te.slice(1),16))});return Eu(Re.join(`\r
`))}function Xe(fe,Re,Ne){for(var Ae="",Ie="",Te="",st,Et=0;Et<10;++Et){var ht=Re[Et];if(!ht||ht.match(/^\s*$/))break;var dt=ht.match(/^(.*?):\s*([^\s].*)$/);if(dt)switch(dt[1].toLowerCase()){case"content-location":Ae=dt[2].trim();break;case"content-type":Te=dt[2].trim();break;case"content-transfer-encoding":Ie=dt[2].trim();break}}switch(++Et,Ie.toLowerCase()){case"base64":st=Eu(Qf(Re.slice(Et).join("")));break;case"quoted-printable":st=ss(Re.slice(Et));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ie)}var yt=_r(fe,Ae.slice(Ne.length),st,{unsafe:!0});Te&&(yt.ctype=Te)}function lt(fe,Re){if(Z(fe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ne=Re&&Re.root||"",Ae=(Cn&&Buffer.isBuffer(fe)?fe.toString("binary"):Z(fe)).split(`\r
`),Ie=0,Te="";for(Ie=0;Ie<Ae.length;++Ie)if(Te=Ae[Ie],!!/^Content-Location:/i.test(Te)&&(Te=Te.slice(Te.indexOf("file")),Ne||(Ne=Te.slice(0,Te.lastIndexOf("/")+1)),Te.slice(0,Ne.length)!=Ne))for(;Ne.length>0&&(Ne=Ne.slice(0,Ne.length-1),Ne=Ne.slice(0,Ne.lastIndexOf("/")+1),Te.slice(0,Ne.length)!=Ne););var st=(Ae[1]||"").match(/boundary="(.*?)"/);if(!st)throw new Error("MAD cannot find boundary");var Et="--"+(st[1]||""),ht=[],dt=[],yt={FileIndex:ht,FullPaths:dt};P(yt);var Vt,Zt=0;for(Ie=0;Ie<Ae.length;++Ie){var de=Ae[Ie];de!==Et&&de!==Et+"--"||(Zt++&&Xe(yt,Ae.slice(Vt,Ie),Ne),Vt=Ie)}return yt}function Ct(fe,Re){var Ne=Re||{},Ae=Ne.boundary||"SheetJS";Ae="------="+Ae;for(var Ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ae.slice(2)+'"',"","",""],Te=fe.FullPaths[0],st=Te,Et=fe.FileIndex[0],ht=1;ht<fe.FullPaths.length;++ht)if(st=fe.FullPaths[ht].slice(Te.length),Et=fe.FileIndex[ht],!(!Et.size||!Et.content||st=="Sh33tJ5")){st=st.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(kt){return"_x"+kt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(kt){return"_u"+kt.charCodeAt(0).toString(16)+"_"});for(var dt=Et.content,yt=Cn&&Buffer.isBuffer(dt)?dt.toString("binary"):Z(dt),Vt=0,Zt=Math.min(1024,yt.length),de=0,Ve=0;Ve<=Zt;++Ve)(de=yt.charCodeAt(Ve))>=32&&de<128&&++Vt;var He=Vt>=Zt*4/5;Ie.push(Ae),Ie.push("Content-Location: "+(Ne.root||"file:///C:/SheetJS/")+st),Ie.push("Content-Transfer-Encoding: "+(He?"quoted-printable":"base64")),Ie.push("Content-Type: "+Gt(Et,st)),Ie.push(""),Ie.push(He?ts(yt):Mr(yt))}return Ie.push(Ae+`--\r
`),Ie.join(`\r
`)}function lr(fe){var Re={};return P(Re,fe),Re}function _r(fe,Re,Ne,Ae){var Ie=Ae&&Ae.unsafe;Ie||P(fe);var Te=!Ie&&Kn.find(fe,Re);if(!Te){var st=fe.FullPaths[0];Re.slice(0,st.length)==st?st=Re:(st.slice(-1)!="/"&&(st+="/"),st=(st+Re).replace("//","/")),Te={name:a(Re),type:2},fe.FileIndex.push(Te),fe.FullPaths.push(st),Ie||Kn.utils.cfb_gc(fe)}return Te.content=Ne,Te.size=Ne?Ne.length:0,Ae&&(Ae.CLSID&&(Te.clsid=Ae.CLSID),Ae.mt&&(Te.mt=Ae.mt),Ae.ct&&(Te.ct=Ae.ct)),Te}function ks(fe,Re){P(fe);var Ne=Kn.find(fe,Re);if(Ne){for(var Ae=0;Ae<fe.FileIndex.length;++Ae)if(fe.FileIndex[Ae]==Ne)return fe.FileIndex.splice(Ae,1),fe.FullPaths.splice(Ae,1),!0}return!1}function Xr(fe,Re,Ne){P(fe);var Ae=Kn.find(fe,Re);if(Ae){for(var Ie=0;Ie<fe.FileIndex.length;++Ie)if(fe.FileIndex[Ie]==Ae)return fe.FileIndex[Ie].name=a(Ne),fe.FullPaths[Ie]=Ne,!0}return!1}function Ns(fe){k(fe,!0)}return t.find=O,t.read=I,t.parse=h,t.write=J,t.writeFile=V,t.utils={cfb_new:lr,cfb_add:_r,cfb_del:ks,cfb_mov:Xr,cfb_gc:Ns,ReadShift:fb,CheckField:xY,prep_blob:Lc,bconcat:Mo,use_zlib:D,_deflateRaw:Xt,_inflateRaw:Lr,consts:Q},t}();function B_e(e){return typeof e=="string"?JS(e):Array.isArray(e)?u_e(e):e}function mw(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=JS(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?m2(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([B_e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=fw(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function qo(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function vM(e,t){for(var r=[],n=qo(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function dD(e){for(var t=[],r=qo(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function r4(e){for(var t=[],r=qo(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function U_e(e){for(var t=[],r=qo(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var C5=new Date(1899,11,30,0,0,0);function uc(e,t){var r=e.getTime(),n=C5.getTime()+(e.getTimezoneOffset()-C5.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var eY=new Date,$_e=C5.getTime()+(eY.getTimezoneOffset()-C5.getTimezoneOffset())*6e4,bM=eY.getTimezoneOffset();function tY(e){var t=new Date;return t.setTime(e*24*60*60*1e3+$_e),t.getTimezoneOffset()!==bM&&t.setTime(t.getTime()+(t.getTimezoneOffset()-bM)*6e4),t}var wM=new Date("2017-02-19T19:06:09.000Z"),rY=isNaN(wM.getFullYear())?new Date("2/19/17"):wM,V_e=rY.getFullYear()==2017;function Pl(e,t){var r=new Date(e);if(V_e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(rY.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function s4(e,t){if(Cn&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function hc(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=hc(e[r]));return t}function Xa(e,t){for(var r="";r.length<t;)r+=e;return r}function If(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var q_e=["january","february","march","april","may","june","july","august","september","october","november","december"];function f2(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&q_e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function $s(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Cn?n=sm(r):n=h_e(r),Kn.utils.cfb_add(e,t,n)}Kn.utils.cfb_add(e,t,r)}else e.file(t,r)}function uD(){return Kn.utils.cfb_new()}var Li=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,z_e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},hD=dD(z_e),fD=/[&<>'"]/g,H_e=/[\u0000-\u0008\u000b-\u001f]/g;function qn(e){var t=e+"";return t.replace(fD,function(r){return hD[r]}).replace(H_e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function NM(e){return qn(e).replace(/ /g,"_x0020_")}var sY=/[\u0000-\u001f]/g;function W_e(e){var t=e+"";return t.replace(fD,function(r){return hD[r]}).replace(/\n/g,"<br/>").replace(sY,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function G_e(e){var t=e+"";return t.replace(fD,function(r){return hD[r]}).replace(sY,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Y_e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function K_e(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function o3(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function jM(e){var t=lg(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function SM(e){return sm(e,"binary").toString("utf8")}var YN="foo bar baz",hb=Cn&&(SM(YN)==o3(YN)&&SM||jM(YN)==o3(YN)&&jM)||o3,m2=Cn?function(e){return sm(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Q_e=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),nY=/(^\s|\s$|\n)/;function Fo(e,t){return"<"+e+(t.match(nY)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function p2(e){return qo(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function br(e,t,r){return"<"+e+(r!=null?p2(r):"")+(t!=null?(t.match(nY)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Q_(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function X_e(e,t){switch(typeof e){case"string":var r=br("vt:lpwstr",qn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return br((e|0)==e?"vt:i4":"vt:r8",qn(String(e)));case"boolean":return br("vt:bool",e?"true":"false")}if(e instanceof Date)return br("vt:filetime",Q_(e));throw new Error("Unable to serialize "+e)}var ho={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Pv=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Fc={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Z_e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function J_e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var AM=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},EM=Cn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:sm(t)})):AM(e)}:AM,CM=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(rb(e,a)));return n.join("").replace(ub,"")},mD=Cn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ub,""):CM(e,t,r)}:CM,_M=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},aY=Cn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):_M(e,t,r)}:_M,kM=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Vx(e,a)));return n.join("")},pw=Cn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):kM(t,r,n)}:kM,iY=function(e,t){var r=Bc(e,t);return r>0?pw(e,t+4,t+4+r-1):""},oY=iY,lY=function(e,t){var r=Bc(e,t);return r>0?pw(e,t+4,t+4+r-1):""},cY=lY,dY=function(e,t){var r=2*Bc(e,t);return r>0?pw(e,t+4,t+4+r-1):""},uY=dY,hY=function(t,r){var n=Bc(t,r);return n>0?mD(t,r+4,r+4+n):""},fY=hY,mY=function(e,t){var r=Bc(e,t);return r>0?pw(e,t+4,t+4+r):""},pY=mY,gY=function(e,t){return Z_e(e,t)},_5=gY,pD=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Cn&&(oY=function(t,r){if(!Buffer.isBuffer(t))return iY(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},cY=function(t,r){if(!Buffer.isBuffer(t))return lY(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},uY=function(t,r){if(!Buffer.isBuffer(t))return dY(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},fY=function(t,r){if(!Buffer.isBuffer(t))return hY(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},pY=function(t,r){if(!Buffer.isBuffer(t))return mY(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},_5=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):gY(t,r)},pD=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Vx=function(e,t){return e[t]},rb=function(e,t){return e[t+1]*256+e[t]},eke=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Bc=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},w0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},tke=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function fb(e,t){var r="",n,a,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,Cn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(rb(this,d)),d+=2;e*=2;break;case"utf8":r=pw(this,this.l,this.l+e);break;case"utf16le":e*=2,r=mD(this,this.l,this.l+e);break;case"wstr":return fb.call(this,e,"dbcs");case"lpstr-ansi":r=oY(this,this.l),e=4+Bc(this,this.l);break;case"lpstr-cp":r=cY(this,this.l),e=4+Bc(this,this.l);break;case"lpwstr":r=uY(this,this.l),e=4+2*Bc(this,this.l);break;case"lpp4":e=4+Bc(this,this.l),r=fY(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Bc(this,this.l),r=pY(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Vx(this,this.l+e++))!==0;)i.push(HN(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=rb(this,this.l+e))!==0;)i.push(HN(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Vx(this,d),this.l=d+1,l=fb.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(HN(rb(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Vx(this,d),this.l=d+1,l=fb.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(HN(Vx(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return n=Vx(this,this.l),this.l++,n;case 2:return n=(t==="i"?eke:rb)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?w0:tke)(this,this.l),this.l+=4,n):(a=Bc(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=_5(this,this.l):a=_5([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=aY(this,this.l,e);break}}return this.l+=e,r}var rke=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},ske=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},nke=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ake(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)nke(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,rke(this,t,this.l);break;case 8:if(n=8,r==="f"){J_e(this,t,this.l);break}case 16:break;case-4:n=4,ske(this,t,this.l);break}return this.l+=n,this}function xY(e,t){var r=aY(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Lc(e,t){e.l=t,e.read_shift=fb,e.chk=xY,e.write_shift=ake}function Hh(e,t){e.l+=t}function It(e){var t=lg(e);return Lc(t,0),t}function lc(){var e=[],t=Cn?256:2048,r=function(d){var h=It(d);return Lc(h,0),h},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,t)))},o=function(){return a(),Mo(e)},l=function(d){a(),n=d,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function er(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=ZOe[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&pD(r)&&e.push(r)}}function mb(e,t,r){var n=hc(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function TM(e,t,r){var n=hc(e);return n.s=mb(n.s,t.s,r),n.e=mb(n.e,t.s,r),n}function pb(e,t){if(e.cRel&&e.c<0)for(e=hc(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=hc(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=zn(e);return!e.cRel&&e.cRel!=null&&(r=lke(r)),!e.rRel&&e.rRel!=null&&(r=ike(r)),r}function l3(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ml(e.s.c)+":"+(e.e.cRel?"":"$")+ml(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+$o(e.s.r)+":"+(e.e.rRel?"":"$")+$o(e.e.r):pb(e.s,t.biff)+":"+pb(e.e,t.biff)}function gD(e){return parseInt(oke(e),10)-1}function $o(e){return""+(e+1)}function ike(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function oke(e){return e.replace(/\$(\d+)$/,"$1")}function xD(e){for(var t=cke(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ml(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function lke(e){return e.replace(/^([A-Z])/,"$$$1")}function cke(e){return e.replace(/^\$([A-Z])/,"$1")}function dke(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fo(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function zn(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Kc(e){var t=e.indexOf(":");return t==-1?{s:fo(e),e:fo(e)}:{s:fo(e.slice(0,t)),e:fo(e.slice(t+1))}}function Pi(e,t){return typeof t>"u"||typeof t=="number"?Pi(e.s,e.e):(typeof e!="string"&&(e=zn(e)),typeof t!="string"&&(t=zn(t)),e==t?e:e+":"+t)}function ya(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function DM(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=_p(e.z,r?uc(t):t)}catch{}try{return e.w=_p((e.XF||{}).numFmtId||(r?14:0),r?uc(t):t)}catch{return""+t}}function Xf(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?gw[e.v]||e.v:t==null?DM(e,e.v):DM(e,t))}function Rg(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function yY(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?fo(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=ya(i["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),o==-1&&(d.e.r=o=h.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[m].length;++p)if(!(typeof t[m][p]>"u")){var g={v:t[m][p]},w=o+m,b=l+p;if(d.s.r>w&&(d.s.r=w),d.s.c>b&&(d.s.c=b),d.e.r<w&&(d.e.r=w),d.e.c<b&&(d.e.c=b),t[m][p]&&typeof t[m][p]=="object"&&!Array.isArray(t[m][p])&&!(t[m][p]instanceof Date))g=t[m][p];else if(Array.isArray(g.v)&&(g.f=t[m][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||Za[14],n.cellDates?(g.t="d",g.w=_p(g.z,uc(g.v))):(g.t="n",g.v=uc(g.v),g.w=_p(g.z,g.v))):g.t="s";if(a)i[w]||(i[w]=[]),i[w][b]&&i[w][b].z&&(g.z=i[w][b].z),i[w][b]=g;else{var v=zn({c:b,r:w});i[v]&&i[v].z&&(g.z=i[v].z),i[v]=g}}}return d.s.c<1e7&&(i["!ref"]=Pi(d)),i}function Ov(e,t){return yY(null,e,t)}function uke(e){return e.read_shift(4,"i")}function Ou(e,t){return t||(t=It(4)),t.write_shift(4,e),t}function pl(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function mo(e,t){var r=!1;return t==null&&(r=!0,t=It(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function hke(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function fke(e,t){return t||(t=It(4)),t.write_shift(2,0),t.write_shift(2,0),t}function yD(e,t){var r=e.l,n=e.read_shift(1),a=pl(e),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(hke(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function mke(e,t){var r=!1;return t==null&&(r=!0,t=It(15+4*e.t.length)),t.write_shift(1,0),mo(e.t,t),r?t.slice(0,t.l):t}var pke=yD;function gke(e,t){var r=!1;return t==null&&(r=!0,t=It(23+4*e.t.length)),t.write_shift(1,1),mo(e.t,t),t.write_shift(4,1),fke({},t),r?t.slice(0,t.l):t}function qd(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ig(e,t){return t==null&&(t=It(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Lg(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Mg(e,t){return t==null&&(t=It(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var xke=pl,vY=mo;function vD(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function k5(e,t){var r=!1;return t==null&&(r=!0,t=It(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var yke=pl,X_=vD,bD=k5;function bY(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?_5([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):w0(t,0)>>2;return r?a/100:a}function wY(e,t){t==null&&(t=It(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function NY(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function vke(e,t){return t||(t=It(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Fg=NY,Rv=vke;function Iv(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function cg(e,t){return(t||It(8)).write_shift(8,e,"f")}function bke(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var d=kke[a];d&&(t.rgb=VM(d));break;case 2:t.rgb=VM([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function T5(e,t){if(t||(t=It(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function wke(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Nke(e,t){t||(t=It(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var jY=2,Rc=3,KN=11,D5=19,QN=64,jke=65,Ske=71,Ake=4108,Eke=4126,Lo=80,PM={1:{n:"CodePage",t:jY},2:{n:"Category",t:Lo},3:{n:"PresentationFormat",t:Lo},4:{n:"ByteCount",t:Rc},5:{n:"LineCount",t:Rc},6:{n:"ParagraphCount",t:Rc},7:{n:"SlideCount",t:Rc},8:{n:"NoteCount",t:Rc},9:{n:"HiddenCount",t:Rc},10:{n:"MultimediaClipCount",t:Rc},11:{n:"ScaleCrop",t:KN},12:{n:"HeadingPairs",t:Ake},13:{n:"TitlesOfParts",t:Eke},14:{n:"Manager",t:Lo},15:{n:"Company",t:Lo},16:{n:"LinksUpToDate",t:KN},17:{n:"CharacterCount",t:Rc},19:{n:"SharedDoc",t:KN},22:{n:"HyperlinksChanged",t:KN},23:{n:"AppVersion",t:Rc,p:"version"},24:{n:"DigSig",t:jke},26:{n:"ContentType",t:Lo},27:{n:"ContentStatus",t:Lo},28:{n:"Language",t:Lo},29:{n:"Version",t:Lo},255:{},2147483648:{n:"Locale",t:D5},2147483651:{n:"Behavior",t:D5},1919054434:{}},OM={1:{n:"CodePage",t:jY},2:{n:"Title",t:Lo},3:{n:"Subject",t:Lo},4:{n:"Author",t:Lo},5:{n:"Keywords",t:Lo},6:{n:"Comments",t:Lo},7:{n:"Template",t:Lo},8:{n:"LastAuthor",t:Lo},9:{n:"RevNumber",t:Lo},10:{n:"EditTime",t:QN},11:{n:"LastPrinted",t:QN},12:{n:"CreatedDate",t:QN},13:{n:"ModifiedDate",t:QN},14:{n:"PageCount",t:Rc},15:{n:"WordCount",t:Rc},16:{n:"CharCount",t:Rc},17:{n:"Thumbnail",t:Ske},18:{n:"Application",t:Lo},19:{n:"DocSecurity",t:Rc},255:{},2147483648:{n:"Locale",t:D5},2147483651:{n:"Behavior",t:D5},1919054434:{}};function Cke(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var _ke=Cke([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),kke=hc(_ke),gw={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Tke={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},XN={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function SY(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function AY(e,t){var r=U_e(Tke),n=[],a;n[n.length]=Li,n[n.length]=br("Types",null,{xmlns:ho.CT,"xmlns:xsd":ho.xsd,"xmlns:xsi":ho.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return br("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=br("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:XN[c][t.bookType]||XN[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){n[n.length]=br("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:XN[c][t.bookType]||XN[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){n[n.length]=br("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Sn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function EY(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function gy(e){var t=[Li,br("Relationships",null,{xmlns:ho.RELS})];return qo(e["!id"]).forEach(function(r){t[t.length]=br("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function $n(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Sn.HLINK,Sn.XPATH,Sn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function Dke(e){var t=[Li];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function RM(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Pke(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Oke(e){var t=[Li];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(RM(e[r][0],e[r][1])),t.push(Pke("",e[r][0]));return t.push(RM("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function CY(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+j5.version+"</meta:generator></office:meta></office:document-meta>"}var q0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function c3(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=qn(t),n[n.length]=r?br(e,t,r):Fo(e,t))}function _Y(e,t){var r=t||{},n=[Li,br("cp:coreProperties",null,{"xmlns:cp":ho.CORE_PROPS,"xmlns:dc":ho.dc,"xmlns:dcterms":ho.dcterms,"xmlns:dcmitype":ho.dcmitype,"xmlns:xsi":ho.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&c3("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Q_(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&c3("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Q_(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=q0.length;++i){var o=q0[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&c3(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var xy=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],kY=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function TY(e){var t=[],r=br;return e||(e={}),e.Application="SheetJS",t[t.length]=Li,t[t.length]=br("Properties",null,{xmlns:ho.EXT_PROPS,"xmlns:vt":ho.vt}),xy.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=qn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+qn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function DY(e){var t=[Li,br("Properties",null,{xmlns:ho.CUST_PROPS,"xmlns:vt":ho.vt})];if(!e)return t.join("");var r=1;return qo(e).forEach(function(a){++r,t[t.length]=br("property",X_e(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:qn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var IM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Rke(e,t){var r=[];return qo(IM).map(function(n){for(var a=0;a<q0.length;++a)if(q0[a][1]==n)return q0[a];for(a=0;a<xy.length;++a)if(xy[a][1]==n)return xy[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Fo(IM[n[1]]||n[1],a))}}),br("DocumentProperties",r.join(""),{xmlns:Fc.o})}function Ike(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&qo(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<q0.length;++o)if(i==q0[o][1])return;for(o=0;o<xy.length;++o)if(i==xy[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(br(NM(i),l,{"dt:dt":c}))}}),t&&qo(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(br(NM(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Fc.o+'">'+a.join("")+"</"+n+">"}function Lke(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=It(8);return o.write_shift(4,n),o.write_shift(4,a),o}function LM(e,t){var r=It(4),n=It(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=It(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Lke(t);break;case 31:case 80:for(n=It(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Mo([r,n])}var PY=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Mke(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function MM(e,t,r){var n=It(8),a=[],i=[],o=8,l=0,c=It(8),d=It(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),o+=8+c.length,!t){d=It(8),d.write_shift(4,0),a.unshift(d);var h=[It(4)];for(h[0].write_shift(4,e.length),l=0;l<e.length;++l){var m=e[l][0];for(c=It(8+2*(m.length+1)+(m.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,m.length+1),c.write_shift(0,m,"dbcs");c.l!=c.length;)c.write_shift(1,0);h.push(c)}c=Mo(h),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(PY.indexOf(e[l][0])>-1||kY.indexOf(e[l][0])>-1)&&e[l][1]!=null){var p=e[l][1],g=0;if(t){g=+t[e[l][0]];var w=r[g];if(w.p=="version"&&typeof p=="string"){var b=p.split(".");p=(+b[0]<<16)+(+b[1]||0)}c=LM(w.t,p)}else{var v=Mke(p);v==-1&&(v=31,p=String(p)),c=LM(v,p)}i.push(c),d=It(8),d.write_shift(4,t?g:2+l),a.push(d),o+=8+c.length}var N=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,N),N+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Mo([n].concat(a).concat(i))}function FM(e,t,r,n,a,i){var o=It(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Kn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=MM(e,r,n);if(l.push(c),a){var d=MM(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Mo(l)}function Fke(e,t){t||(t=It(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Bke(e,t){return e.read_shift(t)===1}function kl(e,t){return t||(t=It(2)),t.write_shift(2,+!!e),t}function OY(e){return e.read_shift(2,"u")}function Cd(e,t){return t||(t=It(2)),t.write_shift(2,e),t}function RY(e,t,r){return r||(r=It(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function IY(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function Uke(e){var t=e.t||"",r=It(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=It(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Mo(a)}function $ke(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Vke(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):$ke(e,n,r)}function qke(e,t,r){if(r.biff>5)return Vke(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function LY(e,t,r){return r||(r=It(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function BM(e,t){t||(t=It(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function zke(e){var t=It(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),BM(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&BM(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function dg(e,t,r,n){return n||(n=It(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Hke(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function Wke(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function MY(e,t){return t||(t=It(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function wD(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=It(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Gke(e,t){var r=!t||t.biff==8,n=It(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Yke(e,t){var r=!t||t.biff>=8?2:1,n=It(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Kke(e,t){var r=It(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=Uke(e[a]);var i=Mo([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function Qke(){var e=It(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Xke(e){var t=It(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Zke(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=It(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Jke(e,t,r,n){var a=It(10);return dg(e,t,n,a),a.write_shift(4,r),a}function eTe(e,t,r,n,a){var i=!a||a.biff==8,o=It(8+ +i+(1+i)*r.length);return dg(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function tTe(e,t,r,n){var a=r&&r.biff==5;n||(n=It(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function rTe(e,t){var r=t.biff==8||!t.biff?4:2,n=It(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function UM(e,t,r,n){var a=r&&r.biff==5;n||(n=It(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function sTe(e){var t=It(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function nTe(e,t,r,n,a,i){var o=It(8);return dg(e,t,n,o),RY(r,i,o),o}function aTe(e,t,r,n){var a=It(14);return dg(e,t,n,a),cg(r,a),a}function iTe(e,t,r){if(r.biff<8)return oTe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Hke(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function oTe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=IY(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function lTe(e){var t=It(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)MY(e[r],t);return t}function cTe(e){var t=It(24),r=fo(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Mo([t,zke(e[1])])}function dTe(e){var t=e[1].Tooltip,r=It(10+2*(t.length+1));r.write_shift(2,2048);var n=fo(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function uTe(e){return e||(e=It(4)),e.write_shift(2,1),e.write_shift(2,1),e}function hTe(e,t,r){if(!r.cellStyles)return Hh(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function fTe(e,t){var r=It(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function mTe(e){for(var t=It(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function pTe(e,t,r){var n=It(15);return yw(n,e,t),n.write_shift(8,r,"f"),n}function gTe(e,t,r){var n=It(9);return yw(n,e,t),n.write_shift(2,r),n}var xTe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=dD({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],h=lg(1);switch(c.type){case"base64":h=Eu(Qf(l));break;case"binary":h=Eu(l);break;case"buffer":case"array":h=l;break}Lc(h,0);var m=h.read_shift(1),p=!!(m&136),g=!1,w=!1;switch(m){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var b=0,v=521;m==2&&(b=h.read_shift(2)),h.l+=3,m!=2&&(b=h.read_shift(4)),b>1048576&&(b=1e6),m!=2&&(v=h.read_shift(2));var N=h.read_shift(2),S=c.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(S=e[h[h.l]]),h.l+=1,h.l+=2),w&&(h.l+=36);for(var A=[],E={},C=Math.min(h.length,m==2?521:v-10-(g?264:0)),I=w?32:11;h.l<C&&h[h.l]!=13;)switch(E={},E.name=dM.utils.decode(S,h.slice(h.l,h.l+I)).replace(/[\u0000\r\n].*$/g,""),h.l+=I,E.type=String.fromCharCode(h.read_shift(1)),m!=2&&!w&&(E.offset=h.read_shift(4)),E.len=h.read_shift(1),m==2&&(E.offset=h.read_shift(2)),E.dec=h.read_shift(1),E.name.length&&A.push(E),m!=2&&(h.l+=w?13:14),E.type){case"B":(!g||E.len!=8)&&c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(h[h.l]!==13&&(h.l=v-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=v;var P=0,F=0;for(d[0]=[],F=0;F!=A.length;++F)d[0][F]=A[F].name;for(;b-- >0;){if(h[h.l]===42){h.l+=N;continue}for(++h.l,d[++P]=[],F=0,F=0;F!=A.length;++F){var k=h.slice(h.l,h.l+A[F].len);h.l+=A[F].len,Lc(k,0);var z=dM.utils.decode(S,k);switch(A[F].type){case"C":z.trim().length&&(d[P][F]=z.replace(/\s+$/,""));break;case"D":z.length===8?d[P][F]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):d[P][F]=z;break;case"F":d[P][F]=parseFloat(z.trim());break;case"+":case"I":d[P][F]=w?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":d[P][F]=!0;break;case"N":case"F":d[P][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));d[P][F]="##MEMO##"+(w?parseInt(z.trim(),10):k.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(d[P][F]=+z||0);break;case"@":d[P][F]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":d[P][F]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":d[P][F]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[P][F]=-k.read_shift(-8,"f");break;case"B":if(g&&A[F].len==8){d[P][F]=k.read_shift(8,"f");break}case"G":case"P":k.l+=A[F].len;break;case"0":if(A[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[F].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=A,d}function n(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var h=Ov(r(l,d),d);return h["!cols"]=d.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete d.DBF,h}function a(l,c){try{return Rg(n(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&u2(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=lc(),m=L5(l,{header:1,raw:!0,cellDates:!0}),p=m[0],g=m.slice(1),w=l["!cols"]||[],b=0,v=0,N=0,S=1;for(b=0;b<p.length;++b){if(((w[b]||{}).DBF||{}).name){p[b]=w[b].DBF.name,++N;continue}if(p[b]!=null){if(++N,typeof p[b]=="number"&&(p[b]=p[b].toString(10)),typeof p[b]!="string")throw new Error("DBF Invalid column name "+p[b]+" |"+typeof p[b]+"|");if(p.indexOf(p[b])!==b){for(v=0;v<1024;++v)if(p.indexOf(p[b]+"_"+v)==-1){p[b]+="_"+v;break}}}}var A=ya(l["!ref"]),E=[],C=[],I=[];for(b=0;b<=A.e.c-A.s.c;++b){var P="",F="",k=0,z=[];for(v=0;v<g.length;++v)g[v][b]!=null&&z.push(g[v][b]);if(z.length==0||p[b]==null){E[b]="?";continue}for(v=0;v<z.length;++v){switch(typeof z[v]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=z[v]instanceof Date?"D":"C";break;default:F="C"}k=Math.max(k,String(z[v]).length),P=P&&P!=F?"C":F}k>250&&(k=250),F=((w[b]||{}).DBF||{}).type,F=="C"&&w[b].DBF.len>k&&(k=w[b].DBF.len),P=="B"&&F=="N"&&(P="N",I[b]=w[b].DBF.dec,k=w[b].DBF.len),C[b]=P=="C"||F=="N"?k:i[P]||0,S+=C[b],E[b]=P}var O=h.next(32);for(O.write_shift(4,318902576),O.write_shift(4,g.length),O.write_shift(2,296+32*N),O.write_shift(2,S),b=0;b<4;++b)O.write_shift(4,0);for(O.write_shift(4,0|(+t[BG]||3)<<8),b=0,v=0;b<p.length;++b)if(p[b]!=null){var M=h.next(32),R=(p[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,R,"sbcs"),M.write_shift(1,E[b]=="?"?"C":E[b],"sbcs"),M.write_shift(4,v),M.write_shift(1,C[b]||i[E[b]]||0),M.write_shift(1,I[b]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),v+=C[b]||i[E[b]]||0}var B=h.next(264);for(B.write_shift(4,13),b=0;b<65;++b)B.write_shift(4,0);for(b=0;b<g.length;++b){var Y=h.next(S);for(Y.write_shift(1,0),v=0;v<p.length;++v)if(p[v]!=null)switch(E[v]){case"L":Y.write_shift(1,g[b][v]==null?63:g[b][v]?84:70);break;case"B":Y.write_shift(8,g[b][v]||0,"f");break;case"N":var U="0";for(typeof g[b][v]=="number"&&(U=g[b][v].toFixed(I[v]||0)),N=0;N<C[v]-U.length;++N)Y.write_shift(1,32);Y.write_shift(1,U,"sbcs");break;case"D":g[b][v]?(Y.write_shift(4,("0000"+g[b][v].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(g[b][v].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+g[b][v].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var Q=String(g[b][v]!=null?g[b][v]:"").slice(0,C[v]);for(Y.write_shift(1,Q,"sbcs"),N=0;N<C[v]-Q.length;++N)Y.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),yTe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+qo(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,g){var w=e[g];return typeof w=="number"?cM(w):w},n=function(p,g,w){var b=g.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return b==59?p:cM(b)};e["|"]=254;function a(p,g){switch(g.type){case"base64":return i(Qf(p),g);case"binary":return i(p,g);case"buffer":return i(Cn&&Buffer.isBuffer(p)?p.toString("binary"):fw(p),g);case"array":return i(s4(p),g)}throw new Error("Unrecognized type "+g.type)}function i(p,g){var w=p.split(/[\n\r]+/),b=-1,v=-1,N=0,S=0,A=[],E=[],C=null,I={},P=[],F=[],k=[],z=0,O;for(+g.codepage>=0&&u2(+g.codepage);N!==w.length;++N){z=0;var M=w[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),R=M.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),B=R[0],Y;if(M.length>0)switch(B){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&E.push(M.slice(3).replace(/;;/g,";"));break;case"C":var U=!1,Q=!1,V=!1,Z=!1,J=-1,ae=-1;for(S=1;S<R.length;++S)switch(R[S].charAt(0)){case"A":break;case"X":v=parseInt(R[S].slice(1))-1,Q=!0;break;case"Y":for(b=parseInt(R[S].slice(1))-1,Q||(v=0),O=A.length;O<=b;++O)A[O]=[];break;case"K":Y=R[S].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(If(Y))?isNaN(f2(Y).getDate())||(Y=Pl(Y)):(Y=If(Y),C!==null&&XG(C)&&(Y=tY(Y))),U=!0;break;case"E":Z=!0;var D=g6e(R[S].slice(1),{r:b,c:v});A[b][v]=[A[b][v],D];break;case"S":V=!0,A[b][v]=[A[b][v],"S5S"];break;case"G":break;case"R":J=parseInt(R[S].slice(1))-1;break;case"C":ae=parseInt(R[S].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}if(U&&(A[b][v]&&A[b][v].length==2?A[b][v][0]=Y:A[b][v]=Y,C=null),V){if(Z)throw new Error("SYLK shared formula cannot have own formula");var H=J>-1&&A[J][ae];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");A[b][v][1]=x6e(H[1],{r:b-J,c:v-ae})}break;case"F":var K=0;for(S=1;S<R.length;++S)switch(R[S].charAt(0)){case"X":v=parseInt(R[S].slice(1))-1,++K;break;case"Y":for(b=parseInt(R[S].slice(1))-1,O=A.length;O<=b;++O)A[O]=[];break;case"M":z=parseInt(R[S].slice(1))/20;break;case"F":break;case"G":break;case"P":C=E[parseInt(R[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=R[S].slice(1).split(" "),O=parseInt(k[0],10);O<=parseInt(k[1],10);++O)z=parseInt(k[2],10),F[O-1]=z===0?{hidden:!0}:{wch:z},ND(F[O-1]);break;case"C":v=parseInt(R[S].slice(1))-1,F[v]||(F[v]={});break;case"R":b=parseInt(R[S].slice(1))-1,P[b]||(P[b]={}),z>0?(P[b].hpt=z,P[b].hpx=VY(z)):z===0&&(P[b].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}K<1&&(C=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}}return P.length>0&&(I["!rows"]=P),F.length>0&&(I["!cols"]=F),g&&g.sheetRows&&(A=A.slice(0,g.sheetRows)),[A,I]}function o(p,g){var w=a(p,g),b=w[0],v=w[1],N=Ov(b,g);return qo(v).forEach(function(S){N[S]=v[S]}),N}function l(p,g){return Rg(o(p,g),g)}function c(p,g,w,b){var v="C;Y"+(w+1)+";X"+(b+1)+";K";switch(p.t){case"n":v+=p.v||0,p.f&&!p.F&&(v+=";E"+SD(p.f,{r:w,c:b}));break;case"b":v+=p.v?"TRUE":"FALSE";break;case"e":v+=p.w||p.v;break;case"d":v+='"'+(p.w||p.v)+'"';break;case"s":v+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function d(p,g){g.forEach(function(w,b){var v="F;W"+(b+1)+" "+(b+1)+" ";w.hidden?v+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=P5(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=O5(w.wpx)),typeof w.wch=="number"&&(v+=Math.round(w.wch))),v.charAt(v.length-1)!=" "&&p.push(v)})}function h(p,g){g.forEach(function(w,b){var v="F;";w.hidden?v+="M0;":w.hpt?v+="M"+20*w.hpt+";":w.hpx&&(v+="M"+20*R5(w.hpx)+";"),v.length>2&&p.push(v+"R"+(b+1))})}function m(p,g){var w=["ID;PWXL;N;E"],b=[],v=ya(p["!ref"]),N,S=Array.isArray(p),A=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),p["!cols"]&&d(w,p["!cols"]),p["!rows"]&&h(w,p["!rows"]),w.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var E=v.s.r;E<=v.e.r;++E)for(var C=v.s.c;C<=v.e.c;++C){var I=zn({r:E,c:C});N=S?(p[E]||[])[C]:p[I],!(!N||N.v==null&&(!N.f||N.F))&&b.push(c(N,p,E,C))}return w.join(A)+A+b.join(A)+A+"E"+A}return{to_workbook:l,to_sheet:o,from_sheet:m}}(),vTe=function(){function e(i,o){switch(o.type){case"base64":return t(Qf(i),o);case"binary":return t(i,o);case"buffer":return t(Cn&&Buffer.isBuffer(i)?i.toString("binary"):fw(i),o);case"array":return t(s4(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,h=0,m=[];h!==l.length;++h){if(l[h].trim()==="BOT"){m[++c]=[],d=0;continue}if(!(c<0)){var p=l[h].trim().split(","),g=p[0],w=p[1];++h;for(var b=l[h]||"";(b.match(/["]/g)||[]).length&1&&h<l.length-1;)b+=`
`+l[++h];switch(b=b.trim(),+g){case-1:if(b==="BOT"){m[++c]=[],d=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?m[c][d]=!0:b==="FALSE"?m[c][d]=!1:isNaN(If(w))?isNaN(f2(w).getDate())?m[c][d]=w:m[c][d]=Pl(w):m[c][d]=If(w),++d;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),m[c][d++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(m=m.slice(0,o.sheetRows)),m}function r(i,o){return Ov(e(i,o),o)}function n(i,o){return Rg(r(i,o),o)}var a=function(){var i=function(c,d,h,m,p){c.push(d),c.push(h+","+m),c.push('"'+p.replace(/"/g,'""')+'"')},o=function(c,d,h,m){c.push(d+","+h),c.push(d==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(c){var d=[],h=ya(c["!ref"]),m,p=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,h.e.r-h.s.r+1,""),i(d,"TUPLES",0,h.e.c-h.s.c+1,""),i(d,"DATA",0,0,"");for(var g=h.s.r;g<=h.e.r;++g){o(d,-1,0,"BOT");for(var w=h.s.c;w<=h.e.c;++w){var b=zn({r:g,c:w});if(m=p?(c[g]||[])[w]:c[b],!m){o(d,1,0,"");continue}switch(m.t){case"n":var v=m.w;!v&&m.v!=null&&(v=m.v),v==null?m.f&&!m.F?o(d,1,0,"="+m.f):o(d,1,0,""):o(d,0,v,"V");break;case"b":o(d,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=_p(m.z||Za[14],uc(Pl(m.v)))),o(d,0,m.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var N=`\r
`,S=d.join(N);return S}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),FY=function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,p){for(var g=m.split(`
`),w=-1,b=-1,v=0,N=[];v!==g.length;++v){var S=g[v].trim().split(":");if(S[0]==="cell"){var A=fo(S[1]);if(N.length<=A.r)for(w=N.length;w<=A.r;++w)N[w]||(N[w]=[]);switch(w=A.r,b=A.c,S[2]){case"t":N[w][b]=e(S[3]);break;case"v":N[w][b]=+S[3];break;case"vtf":var E=S[S.length-1];case"vtc":switch(S[3]){case"nl":N[w][b]=!!+S[4];break;default:N[w][b]=+S[4];break}S[2]=="vtf"&&(N[w][b]=[N[w][b],E])}}}return p&&p.sheetRows&&(N=N.slice(0,p.sheetRows)),N}function n(m,p){return Ov(r(m,p),p)}function a(m,p){return Rg(n(m,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(m){if(!m||!m["!ref"])return"";for(var p=[],g=[],w,b="",v=Kc(m["!ref"]),N=Array.isArray(m),S=v.s.r;S<=v.e.r;++S)for(var A=v.s.c;A<=v.e.c;++A)if(b=zn({r:S,c:A}),w=N?(m[S]||[])[A]:m[b],!(!w||w.v==null||w.t==="z")){switch(g=["cell",b,"t"],w.t){case"s":case"str":g.push(t(w.v));break;case"n":w.f?(g[2]="vtf",g[3]="n",g[4]=w.v,g[5]=t(w.f)):(g[2]="v",g[3]=w.v);break;case"b":g[2]="vt"+(w.f?"f":"c"),g[3]="nl",g[4]=w.v?"1":"0",g[5]=t(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var E=uc(Pl(w.v));g[2]="vtc",g[3]="nd",g[4]=""+E,g[5]=w.w||_p(w.z||Za[14],E);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function h(m){return[i,o,l,o,d(m),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}}(),bTe=function(){function e(h,m,p,g,w){w.raw?m[p][g]=h:h===""||(h==="TRUE"?m[p][g]=!0:h==="FALSE"?m[p][g]=!1:isNaN(If(h))?isNaN(f2(h).getDate())?m[p][g]=h:m[p][g]=Pl(h):m[p][g]=If(h))}function t(h,m){var p=m||{},g=[];if(!h||h.length===0)return g;for(var w=h.split(/[\r\n]/),b=w.length-1;b>=0&&w[b].length===0;)--b;for(var v=10,N=0,S=0;S<=b;++S)N=w[S].indexOf(" "),N==-1?N=w[S].length:N++,v=Math.max(v,N);for(S=0;S<=b;++S){g[S]=[];var A=0;for(e(w[S].slice(0,v).trim(),g,S,A,p),A=1;A<=(w[S].length-v)/10+1;++A)e(w[S].slice(v+(A-1)*10,v+A*10).trim(),g,S,A,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var m={},p=!1,g=0,w=0;g<h.length;++g)(w=h.charCodeAt(g))==34?p=!p:!p&&w in r&&(m[w]=(m[w]||0)+1);w=[];for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&w.push([m[g],g]);if(!w.length){m=n;for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&w.push([m[g],g])}return w.sort(function(b,v){return b[0]-v[0]||n[b[1]]-n[v[1]]}),r[w.pop()[1]]||44}function i(h,m){var p=m||{},g="",w=p.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(g=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(g=h.charAt(4),h=h.slice(6)):g=a(h.slice(0,1024)):p&&p.FS?g=p.FS:g=a(h.slice(0,1024));var v=0,N=0,S=0,A=0,E=0,C=g.charCodeAt(0),I=!1,P=0,F=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var k=p.dateNF!=null?L_e(p.dateNF):null;function z(){var O=h.slice(A,E),M={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)M.t="z";else if(p.raw)M.t="s",M.v=O;else if(O.trim().length===0)M.t="s",M.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(M.t="s",M.v=O.slice(2,-1).replace(/""/g,'"')):y6e(O)?(M.t="n",M.f=O.slice(1)):(M.t="s",M.v=O);else if(O=="TRUE")M.t="b",M.v=!0;else if(O=="FALSE")M.t="b",M.v=!1;else if(!isNaN(S=If(O)))M.t="n",p.cellText!==!1&&(M.w=O),M.v=S;else if(!isNaN(f2(O).getDate())||k&&O.match(k)){M.z=p.dateNF||Za[14];var R=0;k&&O.match(k)&&(O=M_e(O,p.dateNF,O.match(k)||[]),R=1),p.cellDates?(M.t="d",M.v=Pl(O,R)):(M.t="n",M.v=uc(Pl(O,R))),p.cellText!==!1&&(M.w=_p(M.z,M.v instanceof Date?uc(M.v):M.v)),p.cellNF||delete M.z}else M.t="s",M.v=O;if(M.t=="z"||(p.dense?(w[v]||(w[v]=[]),w[v][N]=M):w[zn({c:N,r:v})]=M),A=E+1,F=h.charCodeAt(A),b.e.c<N&&(b.e.c=N),b.e.r<v&&(b.e.r=v),P==C)++N;else if(N=0,++v,p.sheetRows&&p.sheetRows<=v)return!0}e:for(;E<h.length;++E)switch(P=h.charCodeAt(E)){case 34:F===34&&(I=!I);break;case C:case 10:case 13:if(!I&&z())break e;break}return E-A>0&&z(),w["!ref"]=Pi(b),w}function o(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,m):Ov(t(h,m),m)}function l(h,m){var p="",g=m.type=="string"?[0,0,0,0]:P8e(h,m);switch(m.type){case"base64":p=Qf(h);break;case"binary":p=h;break;case"buffer":m.codepage==65001?p=h.toString("utf8"):(m.codepage,p=Cn&&Buffer.isBuffer(h)?h.toString("binary"):fw(h));break;case"array":p=s4(h);break;case"string":p=h;break;default:throw new Error("Unrecognized type "+m.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=hb(p.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?p=hb(p):m.type=="binary",p.slice(0,19)=="socialcalc:version:"?FY.to_sheet(m.type=="string"?p:hb(p),m):o(p,m)}function c(h,m){return Rg(l(h,m),m)}function d(h){for(var m=[],p=ya(h["!ref"]),g,w=Array.isArray(h),b=p.s.r;b<=p.e.r;++b){for(var v=[],N=p.s.c;N<=p.e.c;++N){var S=zn({r:b,c:N});if(g=w?(h[b]||[])[N]:h[S],!g||g.v==null){v.push("          ");continue}for(var A=(g.w||(Xf(g),g.w)||"").slice(0,10);A.length<10;)A+=" ";v.push(A+(N===0?" ":""))}m.push(v.join(""))}return m.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),$M=function(){function e(D,H,K){if(D){Lc(D,D.l||0);for(var W=K.Enum||J;D.l<D.length;){var re=D.read_shift(2),te=W[re]||W[65535],ie=D.read_shift(2),se=D.l+ie,le=te.f&&te.f(D,ie,K);if(D.l=se,H(le,te,re))return}}}function t(D,H){switch(H.type){case"base64":return r(Eu(Qf(D)),H);case"binary":return r(Eu(D),H);case"buffer":case"array":return r(D,H)}throw"Unsupported type "+H.type}function r(D,H){if(!D)return D;var K=H||{},W=K.dense?[]:{},re="Sheet1",te="",ie=0,se={},le=[],Ce=[],De={s:{r:0,c:0},e:{r:0,c:0}},Ze=K.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)K.Enum=J,e(D,function(be,ge,Ye){switch(Ye){case 0:K.vers=be,be>=4096&&(K.qpro=!0);break;case 6:De=be;break;case 204:be&&(te=be);break;case 222:te=be;break;case 15:case 51:K.qpro||(be[1].v=be[1].v.slice(1));case 13:case 14:case 16:Ye==14&&(be[2]&112)==112&&(be[2]&15)>1&&(be[2]&15)<15&&(be[1].z=K.dateNF||Za[14],K.cellDates&&(be[1].t="d",be[1].v=tY(be[1].v))),K.qpro&&be[3]>ie&&(W["!ref"]=Pi(De),se[re]=W,le.push(re),W=K.dense?[]:{},De={s:{r:0,c:0},e:{r:0,c:0}},ie=be[3],re=te||"Sheet"+(ie+1),te="");var ze=K.dense?(W[be[0].r]||[])[be[0].c]:W[zn(be[0])];if(ze){ze.t=be[1].t,ze.v=be[1].v,be[1].z!=null&&(ze.z=be[1].z),be[1].f!=null&&(ze.f=be[1].f);break}K.dense?(W[be[0].r]||(W[be[0].r]=[]),W[be[0].r][be[0].c]=be[1]):W[zn(be[0])]=be[1];break}},K);else if(D[2]==26||D[2]==14)K.Enum=ae,D[2]==14&&(K.qpro=!0,D.l=0),e(D,function(be,ge,Ye){switch(Ye){case 204:re=be;break;case 22:be[1].v=be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(be[3]>ie&&(W["!ref"]=Pi(De),se[re]=W,le.push(re),W=K.dense?[]:{},De={s:{r:0,c:0},e:{r:0,c:0}},ie=be[3],re="Sheet"+(ie+1)),Ze>0&&be[0].r>=Ze)break;K.dense?(W[be[0].r]||(W[be[0].r]=[]),W[be[0].r][be[0].c]=be[1]):W[zn(be[0])]=be[1],De.e.c<be[0].c&&(De.e.c=be[0].c),De.e.r<be[0].r&&(De.e.r=be[0].r);break;case 27:be[14e3]&&(Ce[be[14e3][0]]=be[14e3][1]);break;case 1537:Ce[be[0]]=be[1],be[0]==ie&&(re=be[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(W["!ref"]=Pi(De),se[te||re]=W,le.push(te||re),!Ce.length)return{SheetNames:le,Sheets:se};for(var ke={},ce=[],Me=0;Me<Ce.length;++Me)se[le[Me]]?(ce.push(Ce[Me]||le[Me]),ke[Ce[Me]]=se[Ce[Me]]||se[le[Me]]):(ce.push(Ce[Me]),ke[Ce[Me]]={"!ref":"A1"});return{SheetNames:ce,Sheets:ke}}function n(D,H){var K=H||{};if(+K.codepage>=0&&u2(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var W=lc(),re=ya(D["!ref"]),te=Array.isArray(D),ie=[];Nr(W,0,i(1030)),Nr(W,6,c(re));for(var se=Math.min(re.e.r,8191),le=re.s.r;le<=se;++le)for(var Ce=$o(le),De=re.s.c;De<=re.e.c;++De){le===re.s.r&&(ie[De]=ml(De));var Ze=ie[De]+Ce,ke=te?(D[le]||[])[De]:D[Ze];if(!(!ke||ke.t=="z"))if(ke.t=="n")(ke.v|0)==ke.v&&ke.v>=-32768&&ke.v<=32767?Nr(W,13,g(le,De,ke.v)):Nr(W,14,b(le,De,ke.v));else{var ce=Xf(ke);Nr(W,15,m(le,De,ce.slice(0,239)))}}return Nr(W,1),W.end()}function a(D,H){var K=H||{};if(+K.codepage>=0&&u2(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var W=lc();Nr(W,0,o(D));for(var re=0,te=0;re<D.SheetNames.length;++re)(D.Sheets[D.SheetNames[re]]||{})["!ref"]&&Nr(W,27,Z(D.SheetNames[re],te++));var ie=0;for(re=0;re<D.SheetNames.length;++re){var se=D.Sheets[D.SheetNames[re]];if(!(!se||!se["!ref"])){for(var le=ya(se["!ref"]),Ce=Array.isArray(se),De=[],Ze=Math.min(le.e.r,8191),ke=le.s.r;ke<=Ze;++ke)for(var ce=$o(ke),Me=le.s.c;Me<=le.e.c;++Me){ke===le.s.r&&(De[Me]=ml(Me));var be=De[Me]+ce,ge=Ce?(se[ke]||[])[Me]:se[be];if(!(!ge||ge.t=="z"))if(ge.t=="n")Nr(W,23,z(ke,Me,ie,ge.v));else{var Ye=Xf(ge);Nr(W,22,P(ke,Me,ie,Ye.slice(0,239)))}}++ie}}return Nr(W,1),W.end()}function i(D){var H=It(2);return H.write_shift(2,D),H}function o(D){var H=It(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var K=0,W=0,re=0,te=0;te<D.SheetNames.length;++te){var ie=D.SheetNames[te],se=D.Sheets[ie];if(!(!se||!se["!ref"])){++re;var le=Kc(se["!ref"]);K<le.e.r&&(K=le.e.r),W<le.e.c&&(W=le.e.c)}}return K>8191&&(K=8191),H.write_shift(2,K),H.write_shift(1,re),H.write_shift(1,W),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function l(D,H,K){var W={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&K.qpro?(W.s.c=D.read_shift(1),D.l++,W.s.r=D.read_shift(2),W.e.c=D.read_shift(1),D.l++,W.e.r=D.read_shift(2),W):(W.s.c=D.read_shift(2),W.s.r=D.read_shift(2),H==12&&K.qpro&&(D.l+=2),W.e.c=D.read_shift(2),W.e.r=D.read_shift(2),H==12&&K.qpro&&(D.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function c(D){var H=It(8);return H.write_shift(2,D.s.c),H.write_shift(2,D.s.r),H.write_shift(2,D.e.c),H.write_shift(2,D.e.r),H}function d(D,H,K){var W=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(W[0].c=D.read_shift(1),W[3]=D.read_shift(1),W[0].r=D.read_shift(2),D.l+=2):(W[2]=D.read_shift(1),W[0].c=D.read_shift(2),W[0].r=D.read_shift(2)),W}function h(D,H,K){var W=D.l+H,re=d(D,H,K);if(re[1].t="s",K.vers==20768){D.l++;var te=D.read_shift(1);return re[1].v=D.read_shift(te,"utf8"),re}return K.qpro&&D.l++,re[1].v=D.read_shift(W-D.l,"cstr"),re}function m(D,H,K){var W=It(7+K.length);W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,D),W.write_shift(1,39);for(var re=0;re<W.length;++re){var te=K.charCodeAt(re);W.write_shift(1,te>=128?95:te)}return W.write_shift(1,0),W}function p(D,H,K){var W=d(D,H,K);return W[1].v=D.read_shift(2,"i"),W}function g(D,H,K){var W=It(7);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,D),W.write_shift(2,K,"i"),W}function w(D,H,K){var W=d(D,H,K);return W[1].v=D.read_shift(8,"f"),W}function b(D,H,K){var W=It(13);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,D),W.write_shift(8,K,"f"),W}function v(D,H,K){var W=D.l+H,re=d(D,H,K);if(re[1].v=D.read_shift(8,"f"),K.qpro)D.l=W;else{var te=D.read_shift(2);E(D.slice(D.l,D.l+te),re),D.l+=te}return re}function N(D,H,K){var W=H&32768;return H&=-32769,H=(W?D:0)+(H>=8192?H-16384:H),(W?"":"$")+(K?ml(H):$o(H))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(D,H){Lc(D,0);for(var K=[],W=0,re="",te="",ie="",se="";D.l<D.length;){var le=D[D.l++];switch(le){case 0:K.push(D.read_shift(8,"f"));break;case 1:te=N(H[0].c,D.read_shift(2),!0),re=N(H[0].r,D.read_shift(2),!1),K.push(te+re);break;case 2:{var Ce=N(H[0].c,D.read_shift(2),!0),De=N(H[0].r,D.read_shift(2),!1);te=N(H[0].c,D.read_shift(2),!0),re=N(H[0].r,D.read_shift(2),!1),K.push(Ce+De+":"+te+re)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(D.read_shift(2));break;case 6:{for(var Ze="";le=D[D.l++];)Ze+=String.fromCharCode(le);K.push('"'+Ze.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:se=K.pop(),ie=K.pop(),K.push(["AND","OR"][le-20]+"("+ie+","+se+")");break;default:if(le<32&&A[le])se=K.pop(),ie=K.pop(),K.push(ie+A[le]+se);else if(S[le]){if(W=S[le][1],W==69&&(W=D[D.l++]),W>K.length){console.error("WK1 bad formula parse 0x"+le.toString(16)+":|"+K.join("|")+"|");return}var ke=K.slice(-W);K.length-=W,K.push(S[le][0]+"("+ke.join(",")+")")}else return le<=7?console.error("WK1 invalid opcode "+le.toString(16)):le<=24?console.error("WK1 unsupported op "+le.toString(16)):le<=30?console.error("WK1 invalid opcode "+le.toString(16)):le<=115?console.error("WK1 unsupported function opcode "+le.toString(16)):console.error("WK1 unrecognized opcode "+le.toString(16))}}K.length==1?H[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function C(D){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=D.read_shift(2),H[3]=D[D.l++],H[0].c=D[D.l++],H}function I(D,H){var K=C(D);return K[1].t="s",K[1].v=D.read_shift(H-4,"cstr"),K}function P(D,H,K,W){var re=It(6+W.length);re.write_shift(2,D),re.write_shift(1,K),re.write_shift(1,H),re.write_shift(1,39);for(var te=0;te<W.length;++te){var ie=W.charCodeAt(te);re.write_shift(1,ie>=128?95:ie)}return re.write_shift(1,0),re}function F(D,H){var K=C(D);K[1].v=D.read_shift(2);var W=K[1].v>>1;if(K[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return K[1].v=W,K}function k(D,H){var K=C(D),W=D.read_shift(4),re=D.read_shift(4),te=D.read_shift(2);if(te==65535)return W===0&&re===3221225472?(K[1].t="e",K[1].v=15):W===0&&re===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var ie=te&32768;return te=(te&32767)-16446,K[1].v=(1-ie*2)*(re*Math.pow(2,te+32)+W*Math.pow(2,te)),K}function z(D,H,K,W){var re=It(14);if(re.write_shift(2,D),re.write_shift(1,K),re.write_shift(1,H),W==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var te=0,ie=0,se=0,le=0;return W<0&&(te=1,W=-W),ie=Math.log2(W)|0,W/=Math.pow(2,ie-31),le=W>>>0,(le&2147483648)==0&&(W/=2,++ie,le=W>>>0),W-=le,le|=2147483648,le>>>=0,W*=Math.pow(2,32),se=W>>>0,re.write_shift(4,se),re.write_shift(4,le),ie+=16383+(te?32768:0),re.write_shift(2,ie),re}function O(D,H){var K=k(D);return D.l+=H-14,K}function M(D,H){var K=C(D),W=D.read_shift(4);return K[1].v=W>>6,K}function R(D,H){var K=C(D),W=D.read_shift(8,"f");return K[1].v=W,K}function B(D,H){var K=R(D);return D.l+=H-10,K}function Y(D,H){return D[D.l+H-1]==0?D.read_shift(H,"cstr"):""}function U(D,H){var K=D[D.l++];K>H-1&&(K=H-1);for(var W="";W.length<K;)W+=String.fromCharCode(D[D.l++]);return W}function Q(D,H,K){if(!(!K.qpro||H<21)){var W=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var re=D.read_shift(H-21,"cstr");return[W,re]}}function V(D,H){for(var K={},W=D.l+H;D.l<W;){var re=D.read_shift(2);if(re==14e3){for(K[re]=[0,""],K[re][0]=D.read_shift(2);D[D.l];)K[re][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return K}function Z(D,H){var K=It(5+D.length);K.write_shift(2,14e3),K.write_shift(2,H);for(var W=0;W<D.length;++W){var re=D.charCodeAt(W);K[K.l++]=re>127?95:re}return K[K.l++]=0,K}var J={0:{n:"BOF",f:OY},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:U},65535:{n:""}},ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:B},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),wTe=/^\s|\s$|[\t\n\r]/;function BY(e,t){if(!t.bookSST)return"";var r=[Li];r[r.length]=br("sst",null,{xmlns:Pv[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(wTe)&&(i+=' xml:space="preserve"'),i+=">"+qn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function NTe(e){return[e.read_shift(4),e.read_shift(4)]}function jTe(e,t){return t||(t=It(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var STe=mke;function ATe(e){var t=lc();er(t,159,jTe(e));for(var r=0;r<e.length;++r)er(t,19,STe(e[r]));return er(t,160),t.end()}function ETe(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function UY(e){var t=0,r,n=ETe(e),a=n.length+1,i,o,l,c,d;for(r=lg(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var CTe=function(){function e(a,i){switch(i.type){case"base64":return t(Qf(a),i);case"binary":return t(a,i);case"buffer":return t(Cn&&Buffer.isBuffer(a)?a.toString("binary"):fw(a),i);case"array":return t(s4(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,m){Array.isArray(l)&&(l[m]=[]);for(var p=/\\\w+\b/g,g=0,w,b=-1;w=p.exec(h);){switch(w[0]){case"\\cell":var v=h.slice(g,p.lastIndex-w[0].length);if(v[0]==" "&&(v=v.slice(1)),++b,v.length){var N={v,t:"s"};Array.isArray(l)?l[m][b]=N:l[zn({r:m,c:b})]=N}break}g=p.lastIndex}b>d.e.c&&(d.e.c=b)}),l["!ref"]=Pi(d),l}function r(a,i){return Rg(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=ya(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var m=zn({r:d,c:h});l=c?(a[d]||[])[h]:a[m],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Xf(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function VM(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var _Te=6,Lf=_Te;function P5(e){return Math.floor((e+Math.round(128/Lf)/256)*Lf)}function O5(e){return Math.floor((e-5)/Lf*100+.5)/100}function Z_(e){return Math.round((e*Lf+5)/Lf*256)/256}function ND(e){e.width?(e.wpx=P5(e.width),e.wch=O5(e.wpx),e.MDW=Lf):e.wpx?(e.wch=O5(e.wpx),e.width=Z_(e.wch),e.MDW=Lf):typeof e.wch=="number"&&(e.width=Z_(e.wch),e.wpx=P5(e.width),e.MDW=Lf),e.customWidth&&delete e.customWidth}var kTe=96,$Y=kTe;function R5(e){return e*96/$Y}function VY(e){return e*$Y/96}function TTe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=br("numFmt",null,{numFmtId:n,formatCode:qn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=br("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function DTe(e){var t=[];return t[t.length]=br("cellXfs",null),e.forEach(function(r){t[t.length]=br("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=br("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function qY(e,t){var r=[Li,br("styleSheet",null,{xmlns:Pv[0],"xmlns:vt":ho.vt})],n;return e.SSF&&(n=TTe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=DTe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function PTe(e,t){var r=e.read_shift(2),n=pl(e);return[r,n]}function OTe(e,t,r){r||(r=It(6+4*t.length)),r.write_shift(2,e),mo(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function RTe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=wke(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=bke(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=pl(e),n}function ITe(e,t){t||(t=It(25+4*32)),t.write_shift(2,e.sz*20),Nke(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),T5(e.color,t);var n=0;return n=2,t.write_shift(1,n),mo(e.name,t),t.length>t.l?t.slice(0,t.l):t}var LTe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],d3,MTe=Hh;function qM(e,t){t||(t=It(4*3+8*7+16*1)),d3||(d3=dD(LTe));var r=d3[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(T5({auto:1},t),T5({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function FTe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function zY(e,t,r){r||(r=It(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function q1(e,t){return t||(t=It(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var BTe=Hh;function UTe(e,t){return t||(t=It(51)),t.write_shift(1,0),q1(null,t),q1(null,t),q1(null,t),q1(null,t),q1(null,t),t.length>t.l?t.slice(0,t.l):t}function $Te(e,t){return t||(t=It(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),k5(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function VTe(e,t,r){var n=It(2052);return n.write_shift(4,e),k5(t,n),k5(r,n),n.length>n.l?n.slice(0,n.l):n}function qTe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(er(e,615,Ou(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&er(e,44,OTe(a,t[a]))}),er(e,616))}}function zTe(e){var t=1;er(e,611,Ou(t)),er(e,43,ITe({sz:12,color:{theme:1},name:"Calibri",family:2})),er(e,612)}function HTe(e){var t=2;er(e,603,Ou(t)),er(e,45,qM({patternType:"none"})),er(e,45,qM({patternType:"gray125"})),er(e,604)}function WTe(e){var t=1;er(e,613,Ou(t)),er(e,46,UTe()),er(e,614)}function GTe(e){var t=1;er(e,626,Ou(t)),er(e,47,zY({numFmtId:0},65535)),er(e,627)}function YTe(e,t){er(e,617,Ou(t.length)),t.forEach(function(r){er(e,47,zY(r,0))}),er(e,618)}function KTe(e){var t=1;er(e,619,Ou(t)),er(e,48,$Te({xfId:0,name:"Normal"})),er(e,620)}function QTe(e){var t=0;er(e,505,Ou(t)),er(e,506)}function XTe(e){var t=0;er(e,508,VTe(t,"TableStyleMedium9","PivotStyleMedium4")),er(e,509)}function ZTe(e,t){var r=lc();return er(r,278),qTe(r,e.SSF),zTe(r),HTe(r),WTe(r),GTe(r),YTe(r,t.cellXfs),KTe(r),QTe(r),XTe(r),er(r,279),r.end()}function HY(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Li];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function JTe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:pl(e)}}function e6e(e){var t=It(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),mo(e.name,t),t.slice(0,t.l)}function t6e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function r6e(e){var t=It(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function s6e(e,t){var r=It(8+2*t.length);return r.write_shift(4,e),mo(t,r),r.slice(0,r.l)}function n6e(e){return e.l+=4,e.read_shift(4)!=0}function a6e(e,t){var r=It(8);return r.write_shift(4,e),r.write_shift(4,1),r}function i6e(){var e=lc();return er(e,332),er(e,334,Ou(1)),er(e,335,e6e({name:"XLDAPR",version:12e4,flags:3496657072})),er(e,336),er(e,339,s6e(1,"XLDAPR")),er(e,52),er(e,35,Ou(514)),er(e,4096,Ou(0)),er(e,4097,Cd(1)),er(e,36),er(e,53),er(e,340),er(e,337,a6e(1)),er(e,51,r6e([[1,0]])),er(e,338),er(e,333),e.end()}function WY(){var e=[Li];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function o6e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=zn(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var ry=1024;function GY(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[br("xml",null,{"xmlns:v":Fc.v,"xmlns:o":Fc.o,"xmlns:x":Fc.x,"xmlns:mv":Fc.mv}).replace(/\/>/,">"),br("o:shapelayout",br("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),br("v:shapetype",[br("v:stroke",null,{joinstyle:"miter"}),br("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];ry<e*1e3;)ry+=1e3;return t.forEach(function(i){var o=fo(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?br("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=br("v:fill",c,l),h={on:"t",obscured:"t"};++ry,a=a.concat(["<v:shape"+p2({id:"_x0000_s"+ry,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,br("v:shadow",null,h),br("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Fo("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Fo("x:AutoFill","False"),Fo("x:Row",String(o.r)),Fo("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function YY(e){var t=[Li,br("comments",null,{xmlns:Pv[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=qn(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(qn(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Fo("t",qn(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Fo("t",qn(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function l6e(e,t,r){var n=[Li,br("ThreadedComments",null,{xmlns:ho.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(br("threadedComment",Fo("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function c6e(e){var t=[Li,br("personList",null,{xmlns:ho.TCMNT,"xmlns:x":Pv[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(br("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function d6e(e){var t={};t.iauthor=e.read_shift(4);var r=Fg(e);return t.rfx=r.s,t.ref=zn(r.s),e.l+=16,t}function u6e(e,t){return t==null&&(t=It(36)),t.write_shift(4,e[1].iauthor),Rv(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var h6e=pl;function f6e(e){return mo(e.slice(0,54))}function m6e(e){var t=lc(),r=[];return er(t,628),er(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),er(t,632,f6e(a.a)))})}),er(t,631),er(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:fo(n[0]),e:fo(n[0])};er(t,635,u6e([i,a])),a.t&&a.t.length>0&&er(t,637,gke(a)),er(t,636),delete a.iauthor})}),er(t,634),er(t,629),t.end()}function p6e(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Kn.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var KY=["xlsb","xlsm","xlam","biff8","xla"],g6e=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return l?h+=t.c:--h,c?d+=t.r:--d,a+(l?"":"$")+ml(h)+(c?"":"$")+$o(d)}return function(a,i){return t=i,a.replace(e,r)}}(),jD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,SD=function(){return function(t,r){return t.replace(jD,function(n,a,i,o,l,c){var d=xD(o)-(i?0:r.c),h=gD(c)-(l?0:r.r),m=h==0?"":l?h+1:"["+h+"]",p=d==0?"":i?d+1:"["+d+"]";return a+"R"+m+"C"+p})}}();function x6e(e,t){return e.replace(jD,function(r,n,a,i,o,l){return n+(a=="$"?a+i:ml(xD(i)+t.c))+(o=="$"?o+l:$o(gD(l)+t.r))})}function y6e(e){return e.length!=1}function Ci(e){e.l+=1}function kp(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function QY(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return XY(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=kp(e),l=kp(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function XY(e){var t=kp(e),r=kp(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function v6e(e,t,r){if(r.biff<8)return XY(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=kp(e),o=kp(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function ZY(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return b6e(e);var n=e.read_shift(r&&r.biff==12?4:2),a=kp(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function b6e(e){var t=kp(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function w6e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function N6e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return j6e(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function j6e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function S6e(e,t,r){var n=(e[e.l++]&96)>>5,a=QY(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function A6e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=QY(e,i,r);return[n,a,o]}function E6e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function C6e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function _6e(e,t,r){var n=(e[e.l++]&96)>>5,a=v6e(e,t-1,r);return[n,a]}function k6e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function zM(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function T6e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function D6e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function P6e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function O6e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function R6e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function JY(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function I6e(e){return e.read_shift(2),JY(e)}function L6e(e){return e.read_shift(2),JY(e)}function M6e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=ZY(e,0,r);return[n,a]}function F6e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=N6e(e,0,r);return[n,a]}function B6e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=ZY(e,0,r);return[n,a,i]}function U6e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[UDe[a],rK[a],n]}function $6e(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:V6e(e);return[a,(i[0]===0?rK:BDe)[i[1]]]}function V6e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function q6e(e,t,r){e.l+=r&&r.biff==2?3:4}function z6e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function H6e(e){return e.l++,gw[e.read_shift(1)]}function W6e(e){return e.l++,e.read_shift(2)}function G6e(e){return e.l++,e.read_shift(1)!==0}function Y6e(e){return e.l++,Iv(e)}function K6e(e,t,r){return e.l++,IY(e,t-1,r)}function Q6e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Bke(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=gw[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Iv(e);break;case 2:r[1]=qke(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function X6e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Fg:Wke)(e));return a}function Z6e(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=Q6e(e,r.biff);return o}function J6e(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function eDe(e,t,r){if(r.biff==5)return tDe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function tDe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function rDe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function sDe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function nDe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function aDe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var iDe=Hh,oDe=Hh,lDe=Hh;function xw(e,t,r){return e.l+=2,[w6e(e)]}function AD(e){return e.l+=6,[]}var cDe=xw,dDe=AD,uDe=AD,hDe=xw;function eK(e){return e.l+=2,[OY(e),e.read_shift(2)&1]}var fDe=xw,mDe=eK,pDe=AD,gDe=xw,xDe=xw,yDe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vDe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=yDe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function bDe(e){return e.l+=2,[e.read_shift(4)]}function wDe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function NDe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function jDe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function SDe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ADe(e){return e.l+=4,[0,0]}var HM={1:{n:"PtgExp",f:z6e},2:{n:"PtgTbl",f:lDe},3:{n:"PtgAdd",f:Ci},4:{n:"PtgSub",f:Ci},5:{n:"PtgMul",f:Ci},6:{n:"PtgDiv",f:Ci},7:{n:"PtgPower",f:Ci},8:{n:"PtgConcat",f:Ci},9:{n:"PtgLt",f:Ci},10:{n:"PtgLe",f:Ci},11:{n:"PtgEq",f:Ci},12:{n:"PtgGe",f:Ci},13:{n:"PtgGt",f:Ci},14:{n:"PtgNe",f:Ci},15:{n:"PtgIsect",f:Ci},16:{n:"PtgUnion",f:Ci},17:{n:"PtgRange",f:Ci},18:{n:"PtgUplus",f:Ci},19:{n:"PtgUminus",f:Ci},20:{n:"PtgPercent",f:Ci},21:{n:"PtgParen",f:Ci},22:{n:"PtgMissArg",f:Ci},23:{n:"PtgStr",f:K6e},26:{n:"PtgSheet",f:wDe},27:{n:"PtgEndSheet",f:NDe},28:{n:"PtgErr",f:H6e},29:{n:"PtgBool",f:G6e},30:{n:"PtgInt",f:W6e},31:{n:"PtgNum",f:Y6e},32:{n:"PtgArray",f:k6e},33:{n:"PtgFunc",f:U6e},34:{n:"PtgFuncVar",f:$6e},35:{n:"PtgName",f:J6e},36:{n:"PtgRef",f:M6e},37:{n:"PtgArea",f:S6e},38:{n:"PtgMemArea",f:rDe},39:{n:"PtgMemErr",f:iDe},40:{n:"PtgMemNoMem",f:oDe},41:{n:"PtgMemFunc",f:sDe},42:{n:"PtgRefErr",f:nDe},43:{n:"PtgAreaErr",f:E6e},44:{n:"PtgRefN",f:F6e},45:{n:"PtgAreaN",f:_6e},46:{n:"PtgMemAreaN",f:jDe},47:{n:"PtgMemNoMemN",f:SDe},57:{n:"PtgNameX",f:eDe},58:{n:"PtgRef3d",f:B6e},59:{n:"PtgArea3d",f:A6e},60:{n:"PtgRefErr3d",f:aDe},61:{n:"PtgAreaErr3d",f:C6e},255:{}},EDe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},CDe={1:{n:"PtgElfLel",f:eK},2:{n:"PtgElfRw",f:gDe},3:{n:"PtgElfCol",f:cDe},6:{n:"PtgElfRwV",f:xDe},7:{n:"PtgElfColV",f:hDe},10:{n:"PtgElfRadical",f:fDe},11:{n:"PtgElfRadicalS",f:pDe},13:{n:"PtgElfColS",f:dDe},15:{n:"PtgElfColSV",f:uDe},16:{n:"PtgElfRadicalLel",f:mDe},25:{n:"PtgList",f:vDe},29:{n:"PtgSxName",f:bDe},255:{}},_De={0:{n:"PtgAttrNoop",f:ADe},1:{n:"PtgAttrSemi",f:R6e},2:{n:"PtgAttrIf",f:P6e},4:{n:"PtgAttrChoose",f:T6e},8:{n:"PtgAttrGoto",f:D6e},16:{n:"PtgAttrSum",f:q6e},32:{n:"PtgAttrBaxcel",f:zM},33:{n:"PtgAttrBaxcel",f:zM},64:{n:"PtgAttrSpace",f:I6e},65:{n:"PtgAttrSpaceSemi",f:L6e},128:{n:"PtgAttrIfError",f:O6e},255:{}};function kDe(e,t,r,n){if(n.biff<8)return Hh(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Z6e(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=X6e(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Hh(e,t)),i}function TDe(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=HM[i]||HM[EDe[i]],(i===24||i===25)&&(a=(i===24?CDe:_De)[e[e.l+1]]),!a||!a.f?Hh(e,t):o.push([a.n,a.f(e,t,r)]);return o}function DDe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var PDe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ODe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function tK(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function WM(e,t,r){var n=tK(e,t,r);return n=="#REF"?n:ODe(n,r)}function rv(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,d,h,m=0,p=0,g,w="";if(!e[0]||!e[0][0])return"";for(var b=-1,v="",N=0,S=e[0].length;N<S;++N){var A=e[0][N];switch(A[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),b>=0){switch(e[0][b][1][0]){case 0:v=Xa(" ",e[0][b][1][1]);break;case 1:v=Xa("\r",e[0][b][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}d=d+v,b=-1}l.push(d+PDe[A[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=mb(A[1][1],o,a),l.push(pb(h,i));break;case"PtgRefN":h=r?mb(A[1][1],r,a):A[1][1],l.push(pb(h,i));break;case"PtgRef3d":m=A[1][1],h=mb(A[1][2],o,a),w=WM(n,m,a),l.push(w+"!"+pb(h,i));break;case"PtgFunc":case"PtgFuncVar":var E=A[1][0],C=A[1][1];E||(E=0),E&=127;var I=E==0?[]:l.slice(-E);l.length-=E,C==="User"&&(C=I.shift()),l.push(C+"("+I.join(",")+")");break;case"PtgBool":l.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(A[1]);break;case"PtgNum":l.push(String(A[1]));break;case"PtgStr":l.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(A[1]);break;case"PtgAreaN":g=TM(A[1][1],r?{s:r}:o,a),l.push(l3(g,a));break;case"PtgArea":g=TM(A[1][1],o,a),l.push(l3(g,a));break;case"PtgArea3d":m=A[1][1],g=A[1][2],w=WM(n,m,a),l.push(w+"!"+l3(g,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=A[1][2];var P=(n.names||[])[p-1]||(n[0]||[])[p],F=P?P.Name:"SH33TJSNAME"+String(p);F&&F.slice(0,6)=="_xlfn."&&!a.xlfn&&(F=F.slice(6)),l.push(F);break;case"PtgNameX":var k=A[1][1];p=A[1][2];var z;if(a.biff<=5)k<0&&(k=-k),n[k]&&(z=n[k][p]);else{var O="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][p]&&n[k][p].itab>0&&(O=n.SheetNames[n[k][p].itab-1]+"!"):O=n.SheetNames[p-1]+"!"),n[k]&&n[k][p])O+=n[k][p].Name;else if(n[0]&&n[0][p])O+=n[0][p].Name;else{var M=(tK(n,k,a)||"").split(";;");M[p-1]?O=M[p-1]:O+="SH33TJSERRX"}l.push(O);break}z||(z={Name:"SH33TJSERRY"}),l.push(z.Name);break;case"PtgParen":var R="(",B=")";if(b>=0){switch(v="",e[0][b][1][0]){case 2:R=Xa(" ",e[0][b][1][1])+R;break;case 3:R=Xa("\r",e[0][b][1][1])+R;break;case 4:B=Xa(" ",e[0][b][1][1])+B;break;case 5:B=Xa("\r",e[0][b][1][1])+B;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}l.push(R+l.pop()+B);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":h={c:A[1][1],r:A[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[zn(h)]){var U=n.sharedf[zn(h)];l.push(rv(U,o,Y,n,a))}else{var Q=!1;for(c=0;c!=n.arrayf.length;++c)if(d=n.arrayf[c],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){l.push(rv(d[1],o,Y,n,a)),Q=!0;break}Q||l.push(A[1])}break;case"PtgArray":l.push("{"+DDe(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&b>=0&&V.indexOf(e[0][N][0])==-1){A=e[0][b];var Z=!0;switch(A[1][0]){case 4:Z=!1;case 0:v=Xa(" ",A[1][1]);break;case 5:Z=!1;case 1:v=Xa("\r",A[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}l.push((Z?v:"")+l.pop()+(Z?"":v)),b=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function RDe(e){if(e==null){var t=It(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return cg(e);return cg(0)}function IDe(e,t,r,n,a){var i=dg(t,r,a),o=RDe(e.v),l=It(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=It(e.bf.length),h=0;h<e.bf.length;++h)d[h]=e.bf[h];var m=Mo([i,o,l,d]);return m}function n4(e,t,r){var n=e.read_shift(4),a=TDe(e,n,r),i=e.read_shift(4),o=i>0?kDe(e,i,a,r):null;return[a,o]}var LDe=n4,a4=n4,MDe=n4,FDe=n4,BDe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},rK={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},UDe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $De(e){var t="of:="+e.replace(jD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function VDe(e){return e.replace(/\./,"!")}var gb=typeof Map<"u";function ED(e,t,r){var n=0,a=e.length;if(r){if(gb?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=gb?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(gb?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function i4(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Lf=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=O5(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Z_(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function sK(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function $p(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){ZG(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function qDe(e,t,r){if(e&&e["!ref"]){var n=ya(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function zDe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Pi(e[r])+'"/>';return t+"</mergeCells>"}function HDe(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=m2(qn(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+br("outlinePr",null,d)}!i&&!l||(a[a.length]=br("sheetPr",l,o))}var WDe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],GDe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function YDe(e){var t={sheet:1};return WDe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),GDe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=UY(e.password).toString(16).toUpperCase()),br("sheetProtection",null,t)}function KDe(e){return sK(e),br("pageMargins",null,e)}function QDe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=br("col",null,i4(a,n)));return r[r.length]="</cols>",r.join("")}function XDe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Pi(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Kc(a);o.s.r==o.e.r&&(o.e.r=Kc(t["!ref"]).e.r,a=Pi(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),br("autoFilter",null,{ref:a})}function ZDe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),br("sheetViews",br("sheetView",null,a),{})}function JDe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=gw[e.v];break;case"d":n&&n.cellDates?a=Pl(e.v,-1).toISOString():(e=hc(e),e.t="n",a=""+(e.v=uc(Pl(e.v)))),typeof e.z>"u"&&(e.z=Za[14]);break;default:a=e.v;break}var l=Fo("v",qn(a)),c={r:t},d=$p(n.cellXfs,e,n);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Fo("v",""+ED(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=br("f",qn(e.f),h)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),br("c",l,c)}function ePe(e,t,r,n){var a=[],i=[],o=ya(e["!ref"]),l="",c,d="",h=[],m=0,p=0,g=e["!rows"],w=Array.isArray(e),b={r:d},v,N=-1;for(p=o.s.c;p<=o.e.c;++p)h[p]=ml(p);for(m=o.s.r;m<=o.e.r;++m){for(i=[],d=$o(m),p=o.s.c;p<=o.e.c;++p){c=h[p]+d;var S=w?(e[m]||[])[p]:e[c];S!==void 0&&(l=JDe(S,c,e,t))!=null&&i.push(l)}(i.length>0||g&&g[m])&&(b={r:d},g&&g[m]&&(v=g[m],v.hidden&&(b.hidden=1),N=-1,v.hpx?N=R5(v.hpx):v.hpt&&(N=v.hpt),N>-1&&(b.ht=N,b.customHeight=1),v.level&&(b.outlineLevel=v.level)),a[a.length]=br("row",i.join(""),b))}if(g)for(;m<g.length;++m)g&&g[m]&&(b={r:m+1},v=g[m],v.hidden&&(b.hidden=1),N=-1,v.hpx?N=R5(v.hpx):v.hpt&&(N=v.hpt),N>-1&&(b.ht=N,b.customHeight=1),v.level&&(b.outlineLevel=v.level),a[a.length]=br("row","",b));return a.join("")}function nK(e,t,r,n){var a=[Li,br("worksheet",null,{xmlns:Pv[0],"xmlns:r":ho.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",h=ya(d);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),d=Pi(h)}n||(n={}),c["!comments"]=[];var m=[];HDe(c,r,e,t,a),a[a.length]=br("dimension",null,{ref:d}),a[a.length]=ZDe(c,t,e,r),t.sheetFormat&&(a[a.length]=br("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=QDe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=ePe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=YDe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=XDe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=zDe(c["!merges"]));var p=-1,g,w=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(b){b[1].Target&&(g={ref:b[0]},b[1].Target.charAt(0)!="#"&&(w=$n(n,-1,qn(b[1].Target).replace(/#.*$/,""),Sn.HLINK),g["r:id"]="rId"+w),(p=b[1].Target.indexOf("#"))>-1&&(g.location=qn(b[1].Target.slice(p+1))),b[1].Tooltip&&(g.tooltip=qn(b[1].Tooltip)),a[a.length]=br("hyperlink",null,g))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=KDe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Fo("ignoredErrors",br("ignoredError",null,{numberStoredAsText:1,sqref:d}))),m.length>0&&(w=$n(n,-1,"../drawings/drawing"+(e+1)+".xml",Sn.DRAW),a[a.length]=br("drawing",null,{"r:id":"rId"+w}),c["!drawing"]=m),c["!comments"].length>0&&(w=$n(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Sn.VML),a[a.length]=br("legacyDrawing",null,{"r:id":"rId"+w}),c["!legacy"]=w),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function tPe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function rPe(e,t,r){var n=It(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=R5(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var d={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var m=-1,p=-1,g=h<<10;g<h+1<<10;++g){d.c=g;var w=Array.isArray(r)?(r[d.r]||[])[d.c]:r[zn(d)];w&&(m<0&&(m=g),p=g)}m<0||(++l,n.write_shift(4,m),n.write_shift(4,p))}var b=n.l;return n.l=c,n.write_shift(4,l),n.l=b,n.length>n.l?n.slice(0,n.l):n}function sPe(e,t,r,n){var a=rPe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&er(e,0,a)}var nPe=Fg,aPe=Rv;function iPe(){}function oPe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=xke(e),r}function lPe(e,t,r){r==null&&(r=It(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return T5({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),vY(e,r),r.slice(0,r.l)}function cPe(e){var t=qd(e);return[t]}function dPe(e,t,r){return r==null&&(r=It(8)),Ig(t,r)}function uPe(e){var t=Lg(e);return[t]}function hPe(e,t,r){return r==null&&(r=It(4)),Mg(t,r)}function fPe(e){var t=qd(e),r=e.read_shift(1);return[t,r,"b"]}function mPe(e,t,r){return r==null&&(r=It(9)),Ig(t,r),r.write_shift(1,e.v?1:0),r}function pPe(e){var t=Lg(e),r=e.read_shift(1);return[t,r,"b"]}function gPe(e,t,r){return r==null&&(r=It(5)),Mg(t,r),r.write_shift(1,e.v?1:0),r}function xPe(e){var t=qd(e),r=e.read_shift(1);return[t,r,"e"]}function yPe(e,t,r){return r==null&&(r=It(9)),Ig(t,r),r.write_shift(1,e.v),r}function vPe(e){var t=Lg(e),r=e.read_shift(1);return[t,r,"e"]}function bPe(e,t,r){return r==null&&(r=It(8)),Mg(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function wPe(e){var t=qd(e),r=e.read_shift(4);return[t,r,"s"]}function NPe(e,t,r){return r==null&&(r=It(12)),Ig(t,r),r.write_shift(4,t.v),r}function jPe(e){var t=Lg(e),r=e.read_shift(4);return[t,r,"s"]}function SPe(e,t,r){return r==null&&(r=It(8)),Mg(t,r),r.write_shift(4,t.v),r}function APe(e){var t=qd(e),r=Iv(e);return[t,r,"n"]}function EPe(e,t,r){return r==null&&(r=It(16)),Ig(t,r),cg(e.v,r),r}function CPe(e){var t=Lg(e),r=Iv(e);return[t,r,"n"]}function _Pe(e,t,r){return r==null&&(r=It(12)),Mg(t,r),cg(e.v,r),r}function kPe(e){var t=qd(e),r=bY(e);return[t,r,"n"]}function TPe(e,t,r){return r==null&&(r=It(12)),Ig(t,r),wY(e.v,r),r}function DPe(e){var t=Lg(e),r=bY(e);return[t,r,"n"]}function PPe(e,t,r){return r==null&&(r=It(8)),Mg(t,r),wY(e.v,r),r}function OPe(e){var t=qd(e),r=yD(e);return[t,r,"is"]}function RPe(e){var t=qd(e),r=pl(e);return[t,r,"str"]}function IPe(e,t,r){return r==null&&(r=It(12+4*e.v.length)),Ig(t,r),mo(e.v,r),r.length>r.l?r.slice(0,r.l):r}function LPe(e){var t=Lg(e),r=pl(e);return[t,r,"str"]}function MPe(e,t,r){return r==null&&(r=It(8+4*e.v.length)),Mg(t,r),mo(e.v,r),r.length>r.l?r.slice(0,r.l):r}function FPe(e,t,r){var n=e.l+t,a=qd(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=a4(e,n-e.l,r);o[3]=rv(l,null,a,r.supbooks,r)}else e.l=n;return o}function BPe(e,t,r){var n=e.l+t,a=qd(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=a4(e,n-e.l,r);o[3]=rv(l,null,a,r.supbooks,r)}else e.l=n;return o}function UPe(e,t,r){var n=e.l+t,a=qd(e);a.r=r["!row"];var i=Iv(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=a4(e,n-e.l,r);o[3]=rv(l,null,a,r.supbooks,r)}else e.l=n;return o}function $Pe(e,t,r){var n=e.l+t,a=qd(e);a.r=r["!row"];var i=pl(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=a4(e,n-e.l,r);o[3]=rv(l,null,a,r.supbooks,r)}else e.l=n;return o}var VPe=Fg,qPe=Rv;function zPe(e,t){return t==null&&(t=It(4)),t.write_shift(4,e),t}function HPe(e,t){var r=e.l+t,n=Fg(e),a=vD(e),i=pl(e),o=pl(e),l=pl(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function WPe(e,t){var r=It(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Rv({s:fo(e[0]),e:fo(e[0])},r),bD("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return mo(a||"",r),mo(e[1].Tooltip||"",r),mo("",r),r.slice(0,r.l)}function GPe(){}function YPe(e,t,r){var n=e.l+t,a=NY(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=LDe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function KPe(e,t,r){var n=e.l+t,a=Fg(e),i=[a];if(r.cellFormula){var o=FDe(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function QPe(e,t,r){r==null&&(r=It(18));var n=i4(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var aK=["left","right","top","bottom","header","footer"];function XPe(e){var t={};return aK.forEach(function(r){t[r]=Iv(e)}),t}function ZPe(e,t){return t==null&&(t=It(6*8)),sK(e),aK.forEach(function(r){cg(e[r],t)}),t}function JPe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function eOe(e,t,r){r==null&&(r=It(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function tOe(e){var t=It(24);return t.write_shift(4,4),t.write_shift(4,1),Rv(e,t),t}function rOe(e,t){return t==null&&(t=It(16*4+2)),t.write_shift(2,e.password?UY(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function sOe(){}function nOe(){}function aOe(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=hc(t),t.z=t.z||Za[14],t.v=uc(Pl(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=$p(a.cellXfs,t,a),t.l&&i["!links"].push([zn(c),t.l]),t.c&&i["!comments"].push([zn(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=ED(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?er(e,18,SPe(t,c)):er(e,7,NPe(t,c))):(c.t="str",o?er(e,17,MPe(t,c)):er(e,6,IPe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?er(e,13,PPe(t,c)):er(e,2,TPe(t,c)):o?er(e,16,_Pe(t,c)):er(e,5,EPe(t,c)),!0;case"b":return c.t="b",o?er(e,15,gPe(t,c)):er(e,4,mPe(t,c)),!0;case"e":return c.t="e",o?er(e,14,bPe(t,c)):er(e,3,yPe(t,c)),!0}return o?er(e,12,hPe(t,c)):er(e,1,dPe(t,c)),!0}function iOe(e,t,r,n){var a=ya(t["!ref"]||"A1"),i,o="",l=[];er(e,145);var c=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=d;++h){o=$o(h),sPe(e,t,a,h);var m=!1;if(h<=a.e.r)for(var p=a.s.c;p<=a.e.c;++p){h===a.s.r&&(l[p]=ml(p)),i=l[p]+o;var g=c?(t[h]||[])[p]:t[i];if(!g){m=!1;continue}m=aOe(e,g,h,p,n,t,m)}}er(e,146)}function oOe(e,t){!t||!t["!merges"]||(er(e,177,zPe(t["!merges"].length)),t["!merges"].forEach(function(r){er(e,176,qPe(r))}),er(e,178))}function lOe(e,t){!t||!t["!cols"]||(er(e,390),t["!cols"].forEach(function(r,n){r&&er(e,60,QPe(n,r))}),er(e,391))}function cOe(e,t){!t||!t["!ref"]||(er(e,648),er(e,649,tOe(ya(t["!ref"]))),er(e,650))}function dOe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=$n(r,-1,n[1].Target.replace(/#.*$/,""),Sn.HLINK);er(e,494,WPe(n,a))}}),delete t["!links"]}function uOe(e,t,r,n){if(t["!comments"].length>0){var a=$n(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Sn.VML);er(e,551,bD("rId"+a)),t["!legacy"]=a}}function hOe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Pi(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Kc(i);l.s.r==l.e.r&&(l.e.r=Kc(t["!ref"]).e.r,i=Pi(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),er(e,161,Rv(ya(i))),er(e,162)}}function fOe(e,t,r){er(e,133),er(e,137,eOe(t,r)),er(e,138),er(e,134)}function mOe(e,t){t["!protect"]&&er(e,535,rOe(t["!protect"]))}function pOe(e,t,r,n){var a=lc(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=ya(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],er(a,129),(r.vbaraw||o["!outline"])&&er(a,147,lPe(l,o["!outline"])),er(a,148,aPe(c)),fOe(a,o,r.Workbook),lOe(a,o),iOe(a,o,e,t),mOe(a,o),hOe(a,o,r,e),oOe(a,o),dOe(a,o,n),o["!margins"]&&er(a,476,ZPe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&cOe(a,o),uOe(a,o,e,n),er(a,130),a.end()}function gOe(e,t){e.l+=10;var r=pl(e);return{name:r}}var xOe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function yOe(e){return!e.Workbook||!e.Workbook.WBProps?"false":K_e(e.Workbook.WBProps.date1904)?"true":"false"}var vOe="][*?/\\".split("");function iK(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return vOe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function bOe(e,t,r){e.forEach(function(n,a){iK(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function wOe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];bOe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)qDe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function oK(e){var t=[Li];t[t.length]=br("workbook",null,{xmlns:Pv[0],"xmlns:r":ho.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(xOe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=br("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:qn(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=br("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=br("definedName",qn(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function NOe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=X_(e),r.name=pl(e),r}function jOe(e,t){return t||(t=It(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),bD(e.strRelID,t),mo(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function SOe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?pl(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function AOe(e,t){t||(t=It(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),vY(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function EOe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=yke(e),o=MDe(e,0,r),l=vD(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function COe(e,t){er(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};er(e,156,jOe(a))}er(e,144)}function _Oe(e,t){t||(t=It(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return mo("SheetJS",t),mo(j5.version,t),mo(j5.version,t),mo("7262",t),t.length>t.l?t.slice(0,t.l):t}function kOe(e,t){t||(t=It(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function TOe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(er(e,135),er(e,158,kOe(a)),er(e,136))}}function DOe(e,t){var r=lc();return er(r,131),er(r,128,_Oe()),er(r,153,AOe(e.Workbook&&e.Workbook.WBProps||null)),TOe(r,e),COe(r,e),er(r,132),r.end()}function POe(e,t,r){return(t.slice(-4)===".bin"?DOe:oK)(e)}function OOe(e,t,r,n,a){return(t.slice(-4)===".bin"?pOe:nK)(e,r,n,a)}function ROe(e,t,r){return(t.slice(-4)===".bin"?ZTe:qY)(e,r)}function IOe(e,t,r){return(t.slice(-4)===".bin"?ATe:BY)(e,r)}function LOe(e,t,r){return(t.slice(-4)===".bin"?m6e:YY)(e)}function MOe(e){return(e.slice(-4)===".bin"?i6e:WY)()}function FOe(e,t){var r=[];return e.Props&&r.push(Rke(e.Props,t)),e.Custprops&&r.push(Ike(e.Props,e.Custprops)),r.join("")}function BOe(){return""}function UOe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(br("NumberFormat",null,{"ss:Format":qn(Za[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(br("Style",i.join(""),o))}),br("Styles",r.join(""))}function lK(e){return br("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+SD(e.Ref,{r:0,c:0})})}function $Oe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(lK(a)))}return br("Names",r.join(""))}function VOe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(lK(l)))}return i.join("")}function qOe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(br("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(br("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(br("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(br("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Fo("ProtectContents","True")),e["!protect"].objects&&a.push(Fo("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Fo("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Fo("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Fo("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":br("WorksheetOptions",a.join(""),{xmlns:Fc.x})}function zOe(e){return e.map(function(t){var r=Y_e(t.t||""),n=br("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return br("Comment",n,{"ss:Author":t.a})}).join("")}function HOe(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+qn(SD(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=fo(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=qn(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=qn(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],h=0;h!=d.length;++h)d[h].s.c!=o.c||d[h].s.r!=o.r||(d[h].e.c>d[h].s.c&&(l["ss:MergeAcross"]=d[h].e.c-d[h].s.c),d[h].e.r>d[h].s.r&&(l["ss:MergeDown"]=d[h].e.r-d[h].s.r));var m="",p="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":m="Number",p=String(e.v);break;case"b":m="Boolean",p=e.v?"1":"0";break;case"e":m="Error",p=gw[e.v];break;case"d":m="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Za[14]);break;case"s":m="String",p=G_e(e.v||"");break}var g=$p(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+g),l["ss:Index"]=o.c+1;var w=e.v!=null?p:"",b=e.t=="z"?"":'<Data ss:Type="'+m+'">'+w+"</Data>";return(e.c||[]).length>0&&(b+=zOe(e.c)),br("Cell",b,l)}function WOe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=VY(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function GOe(e,t,r,n){if(!e["!ref"])return"";var a=ya(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,N){ND(v);var S=!!v.width,A=i4(N,v),E={"ss:Index":N+1};S&&(E["ss:Width"]=P5(A.width)),v.hidden&&(E["ss:Hidden"]="1"),l.push(br("Column",null,E))});for(var c=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var h=[WOe(d,(e["!rows"]||[])[d])],m=a.s.c;m<=a.e.c;++m){var p=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>m)&&!(i[o].s.r>d)&&!(i[o].e.c<m)&&!(i[o].e.r<d)){(i[o].s.c!=m||i[o].s.r!=d)&&(p=!0);break}if(!p){var g={r:d,c:m},w=zn(g),b=c?(e[d]||[])[m]:e[w];h.push(HOe(b,w,e,t,r,n,g))}}h.push("</Row>"),h.length>2&&l.push(h.join(""))}return l.join("")}function YOe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?VOe(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?GOe(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(qOe(i,t,e,r)),n.join("")}function KOe(e,t){t||(t={}),e.SSF||(e.SSF=hc(Za)),e.SSF&&(t4(),e4(e.SSF),t.revssf=r4(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],$p(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(FOe(e,t)),r.push(BOe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(br("Worksheet",YOe(n,t,e),{"ss:Name":qn(e.SheetNames[n])}));return r[2]=UOe(e,t),r[3]=$Oe(e),Li+br("Workbook",r.join(""),{xmlns:Fc.ss,"xmlns:o":Fc.o,"xmlns:x":Fc.x,"xmlns:ss":Fc.ss,"xmlns:dt":Fc.dt,"xmlns:html":Fc.html})}var u3={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function QOe(e,t){var r=[],n=[],a=[],i=0,o,l=vM(PM,"n"),c=vM(OM,"n");if(e.Props)for(o=qo(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=qo(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<a.length;++i)PY.indexOf(a[i][0])>-1||kY.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);n.length&&Kn.utils.cfb_add(t,"/SummaryInformation",FM(n,u3.SI,c,OM)),(r.length||d.length)&&Kn.utils.cfb_add(t,"/DocumentSummaryInformation",FM(r,u3.DSI,l,PM,d.length?d:null,u3.UDI))}function XOe(e,t){var r=t||{},n=Kn.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Kn.utils.cfb_add(n,a,cK(e,r)),r.biff==8&&(e.Props||e.Custprops)&&QOe(e,n),r.biff==8&&e.vbaraw&&p6e(n,Kn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var ZOe={0:{f:tPe},1:{f:cPe},2:{f:kPe},3:{f:xPe},4:{f:fPe},5:{f:APe},6:{f:RPe},7:{f:wPe},8:{f:$Pe},9:{f:UPe},10:{f:FPe},11:{f:BPe},12:{f:uPe},13:{f:DPe},14:{f:vPe},15:{f:pPe},16:{f:CPe},17:{f:LPe},18:{f:jPe},19:{f:yD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:EOe},40:{},42:{},43:{f:RTe},44:{f:PTe},45:{f:MTe},46:{f:BTe},47:{f:FTe},48:{},49:{f:uke},50:{},51:{f:t6e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:hTe},62:{f:OPe},63:{f:o6e},64:{f:sOe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Hh,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:JPe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:oPe},148:{f:nPe,p:16},151:{f:GPe},152:{},153:{f:SOe},154:{},155:{},156:{f:NOe},157:{},158:{},159:{T:1,f:NTe},160:{T:-1},161:{T:1,f:Fg},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:VPe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:JTe},336:{T:-1},337:{f:n6e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:X_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:iTe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:YPe},427:{f:KPe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:XPe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:iPe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:HPe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:X_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:h6e},633:{T:1},634:{T:-1},635:{T:1,f:d6e},636:{T:-1},637:{f:pke},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:gOe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:nOe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Nr(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&pD(r)&&e.push(r)}}function JOe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Nr(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<a;){for(h=e.next(4),h.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;h.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function yw(e,t,r){return e||(e=It(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function e8e(e,t,r,n){var a=It(9);return yw(a,e,t),RY(r,n||"b",a),a}function t8e(e,t,r){var n=It(8+2*r.length);return yw(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function r8e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?uc(Pl(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Nr(e,2,gTe(r,n,a)):Nr(e,3,pTe(r,n,a));return;case"b":case"e":Nr(e,5,e8e(r,n,t.v,t.t));return;case"s":case"str":Nr(e,4,t8e(r,n,(t.v||"").slice(0,255)));return}Nr(e,1,yw(null,r,n))}function s8e(e,t,r,n){var a=Array.isArray(t),i=ya(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Pi(i)}for(var d=i.s.r;d<=i.e.r;++d){l=$o(d);for(var h=i.s.c;h<=i.e.c;++h){d===i.s.r&&(c[h]=ml(h)),o=c[h]+l;var m=a?(t[d]||[])[h]:t[o];m&&r8e(e,m,d,h)}}}function n8e(e,t){for(var r=t||{},n=lc(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Nr(n,r.biff==4?1033:r.biff==3?521:9,wD(e,16,r)),s8e(n,e.Sheets[e.SheetNames[a]],a,r),Nr(n,10),n.end()}function a8e(e,t,r){Nr(e,49,Zke({sz:12,name:"Arial"},r))}function i8e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Nr(e,1054,tTe(a,t[a],r))})}function o8e(e,t){var r=It(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Nr(e,2151,r),r=It(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),MY(ya(t["!ref"]||"A1"),r),r.write_shift(4,4),Nr(e,2152,r)}function l8e(e,t){for(var r=0;r<16;++r)Nr(e,224,UM({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Nr(e,224,UM(n,0,t))})}function c8e(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Nr(e,440,cTe(n)),n[1].Tooltip&&Nr(e,2048,dTe(n))}delete t["!links"]}function d8e(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Nr(e,125,fTe(i4(a,n),a))})}}function u8e(e,t,r,n,a){var i=16+$p(a.cellXfs,t,a);if(t.v==null&&!t.bf){Nr(e,513,dg(r,n,i));return}if(t.bf)Nr(e,6,IDe(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?uc(Pl(t.v)):t.v;Nr(e,515,aTe(r,n,o,i));break;case"b":case"e":Nr(e,517,nTe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=ED(a.Strings,t.v,a.revStrings);Nr(e,253,Jke(r,n,l,i))}else Nr(e,516,eTe(r,n,(t.v||"").slice(0,255),i,a));break;default:Nr(e,513,dg(r,n,i))}}function h8e(e,t,r){var n=lc(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,h,m="",p=[],g=ya(i["!ref"]||"A1"),w=d?65536:16384;if(g.e.c>255||g.e.r>=w){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,w-1)}Nr(n,2057,wD(r,16,t)),Nr(n,13,Cd(1)),Nr(n,12,Cd(100)),Nr(n,15,kl(!0)),Nr(n,17,kl(!1)),Nr(n,16,cg(.001)),Nr(n,95,kl(!0)),Nr(n,42,kl(!1)),Nr(n,43,kl(!1)),Nr(n,130,Cd(1)),Nr(n,128,sTe()),Nr(n,131,kl(!1)),Nr(n,132,kl(!1)),d&&d8e(n,i["!cols"]),Nr(n,512,rTe(g,t)),d&&(i["!links"]=[]);for(var b=g.s.r;b<=g.e.r;++b){m=$o(b);for(var v=g.s.c;v<=g.e.c;++v){b===g.s.r&&(p[v]=ml(v)),h=p[v]+m;var N=c?(i[b]||[])[v]:i[h];N&&(u8e(n,N,b,v,t),d&&N.l&&i["!links"].push([h,N.l]))}}var S=l.CodeName||l.name||a;return d&&Nr(n,574,Xke((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&Nr(n,229,lTe(i["!merges"])),d&&c8e(n,i),Nr(n,442,LY(S)),d&&o8e(n,i),Nr(n,10),n.end()}function f8e(e,t,r){var n=lc(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Nr(n,2057,wD(e,5,r)),r.bookType=="xla"&&Nr(n,135),Nr(n,225,l?Cd(1200):null),Nr(n,193,Fke(2)),c&&Nr(n,191),c&&Nr(n,192),Nr(n,226),Nr(n,92,Gke("SheetJS",r)),Nr(n,66,Cd(l?1200:1252)),l&&Nr(n,353,Cd(0)),l&&Nr(n,448),Nr(n,317,mTe(e.SheetNames.length)),l&&e.vbaraw&&Nr(n,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";Nr(n,442,LY(d))}Nr(n,156,Cd(17)),Nr(n,25,kl(!1)),Nr(n,18,kl(!1)),Nr(n,19,Cd(0)),l&&Nr(n,431,kl(!1)),l&&Nr(n,444,Cd(0)),Nr(n,61,Qke()),Nr(n,64,kl(!1)),Nr(n,141,Cd(0)),Nr(n,34,kl(yOe(e)=="true")),Nr(n,14,kl(!0)),l&&Nr(n,439,kl(!1)),Nr(n,218,Cd(0)),a8e(n,e,r),i8e(n,e.SSF,r),l8e(n,r),l&&Nr(n,352,kl(!1));var h=n.end(),m=lc();l&&Nr(m,140,uTe()),l&&r.Strings&&JOe(m,252,Kke(r.Strings)),Nr(m,10);var p=m.end(),g=lc(),w=0,b=0;for(b=0;b<e.SheetNames.length;++b)w+=(l?12:11)+(l?2:1)*e.SheetNames[b].length;var v=h.length+w+p.length;for(b=0;b<e.SheetNames.length;++b){var N=i[b]||{};Nr(g,133,Yke({pos:v,hs:N.Hidden||0,dt:0,name:e.SheetNames[b]},r)),v+=t[b].length}var S=g.end();if(w!=S.length)throw new Error("BS8 "+w+" != "+S.length);var A=[];return h.length&&A.push(h),S.length&&A.push(S),p.length&&A.push(p),Mo(A)}function m8e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=hc(Za)),e&&e.SSF&&(t4(),e4(e.SSF),r.revssf=r4(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,CD(r),r.cellXfs=[],$p(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=h8e(a,r,e);return n.unshift(f8e(e,n,r)),Mo(n)}function cK(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Kc(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return m8e(e,t);case 4:case 3:case 2:return n8e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function p8e(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var h=zn({r,c:o}),m=n.dense?(e[r]||[])[o]:e[h],p=m&&m.v!=null&&(m.h||W_e(m.w||(Xf(m),m.w)||""))||"",g={};l>1&&(g.rowspan=l),c>1&&(g.colspan=c),n.editable?p='<span contenteditable="true">'+p+"</span>":m&&(g["data-t"]=m&&m.t||"z",m.v!=null&&(g["data-v"]=m.v),m.z!=null&&(g["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+m.l.Target+'">'+p+"</a>")),g.id=(n.id||"sjs")+"-"+h,i.push(br("td",p,g))}}var w="<tr>";return w+i.join("")+"</tr>"}var g8e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',x8e="</body></html>";function y8e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function dK(e,t){var r=t||{},n=r.header!=null?r.header:g8e,a=r.footer!=null?r.footer:x8e,i=[n],o=Kc(e["!ref"]);r.dense=Array.isArray(e),i.push(y8e(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(p8e(e,o,l,r));return i.push("</table>"+a),i.join("")}function uK(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?fo(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=Kc(e["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),a==-1&&(d.e.r=a=h.e.r+1)}var m=[],p=0,g=e["!rows"]||(e["!rows"]=[]),w=0,b=0,v=0,N=0,S=0,A=0;for(e["!cols"]||(e["!cols"]=[]);w<l.length&&b<c;++w){var E=l[w];if(GM(E)){if(n.display)continue;g[b]={hidden:!0}}var C=E.children;for(v=N=0;v<C.length;++v){var I=C[v];if(!(n.display&&GM(I))){var P=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):Q_e(I.innerHTML),F=I.getAttribute("data-z")||I.getAttribute("z");for(p=0;p<m.length;++p){var k=m[p];k.s.c==N+i&&k.s.r<b+a&&b+a<=k.e.r&&(N=k.e.c+1-i,p=-1)}A=+I.getAttribute("colspan")||1,((S=+I.getAttribute("rowspan")||1)>1||A>1)&&m.push({s:{r:b+a,c:N+i},e:{r:b+a+(S||1)-1,c:N+i+(A||1)-1}});var z={t:"s",v:P},O=I.getAttribute("data-t")||I.getAttribute("t")||"";P!=null&&(P.length==0?z.t=O||"z":n.raw||P.trim().length==0||O=="s"||(P==="TRUE"?z={t:"b",v:!0}:P==="FALSE"?z={t:"b",v:!1}:isNaN(If(P))?isNaN(f2(P).getDate())||(z={t:"d",v:Pl(P)},n.cellDates||(z={t:"n",v:uc(z.v)}),z.z=n.dateNF||Za[14]):z={t:"n",v:If(P)})),z.z===void 0&&F!=null&&(z.z=F);var M="",R=I.getElementsByTagName("A");if(R&&R.length)for(var B=0;B<R.length&&!(R[B].hasAttribute("href")&&(M=R[B].getAttribute("href"),M.charAt(0)!="#"));++B);M&&M.charAt(0)!="#"&&(z.l={Target:M}),n.dense?(e[b+a]||(e[b+a]=[]),e[b+a][N+i]=z):e[zn({c:N+i,r:b+a})]=z,d.e.c<N+i&&(d.e.c=N+i),N+=A}}++b}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),d.e.r=Math.max(d.e.r,b-1+a),e["!ref"]=Pi(d),b>=c&&(e["!fullref"]=Pi((d.e.r=l.length-w+b-1+a,d))),e}function hK(e,t){var r=t||{},n=r.dense?[]:{};return uK(n,e,t)}function v8e(e,t){return Rg(hK(e,t),t)}function GM(e){var t="",r=b8e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function b8e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var w8e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+p2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Li+t}}(),YM=function(){var e=function(i){return qn(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+qn(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,h=0,m=Kc(i["!ref"]||"A1"),p=i["!merges"]||[],g=0,w=Array.isArray(i);if(i["!cols"])for(h=0;h<=m.e.c;++h)c.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var b="",v=i["!rows"]||[];for(d=0;d<m.s.r;++d)b=v[d]?' table:style-name="ro'+v[d].ods+'"':"",c.push("        <table:table-row"+b+`></table:table-row>
`);for(;d<=m.e.r;++d){for(b=v[d]?' table:style-name="ro'+v[d].ods+'"':"",c.push("        <table:table-row"+b+`>
`),h=0;h<m.s.c;++h)c.push(t);for(;h<=m.e.c;++h){var N=!1,S={},A="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>h)&&!(p[g].s.r>d)&&!(p[g].e.c<h)&&!(p[g].e.r<d)){(p[g].s.c!=h||p[g].s.r!=d)&&(N=!0),S["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,S["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(N){c.push(r);continue}var E=zn({r:d,c:h}),C=w?(i[d]||[])[h]:i[E];if(C&&C.f&&(S["table:formula"]=qn($De(C.f)),C.F&&C.F.slice(0,E.length)==E)){var I=Kc(C.F);S["table:number-matrix-columns-spanned"]=I.e.c-I.s.c+1,S["table:number-matrix-rows-spanned"]=I.e.r-I.s.r+1}if(!C){c.push(t);continue}switch(C.t){case"b":A=C.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=C.v?"true":"false";break;case"n":A=C.w||String(C.v||0),S["office:value-type"]="float",S["office:value"]=C.v||0;break;case"s":case"str":A=C.v==null?"":C.v,S["office:value-type"]="string";break;case"d":A=C.w||Pl(C.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=Pl(C.v).toISOString(),S["table:style-name"]="ce1";break;default:c.push(t);continue}var P=e(A);if(C.l&&C.l.Target){var F=C.l.Target;F=F.charAt(0)=="#"?"#"+VDe(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),P=br("text:a",P,{"xlink:href":F.replace(/&/g,"&amp;")})}c.push("          "+br("table:table-cell",br("text:p",P,{}),S)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var h=0;h<d["!cols"].length;++h)if(d["!cols"][h]){var m=d["!cols"][h];if(m.width==null&&m.wpx==null&&m.wch==null)continue;ND(m),m.ods=l;var p=d["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var h=0;h<d["!rows"].length;++h)if(d["!rows"][h]){d["!rows"][h].ods=c;var m=d["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Li],d=p2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=p2({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+h+`>
`),c.push(CY().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var m=0;m!=o.SheetNames.length;++m)c.push(n(o.Sheets[o.SheetNames[m]],o,m));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function fK(e,t){if(t.bookType=="fods")return YM(e,t);var r=uD(),n="",a=[],i=[];return n="mimetype",$s(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",$s(r,n,YM(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",$s(r,n,w8e(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",$s(r,n,Li+CY()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",$s(r,n,Oke(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",$s(r,n,Dke(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function I5(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function N8e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Eu(m2(e))}function j8e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Tp(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function S8e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function g2(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Bn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function yy(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Hi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=g2(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=g2(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var d={data:l,type:i};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function Ro(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Bn(n*8+a.type)),a.type==2&&t.push(Bn(a.data.length)),t.push(a.data))})}),Tp(t)}function fu(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=g2(e,n),i=Hi(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:yy(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Hi(l.data),d=yy(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+d)}),n[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=yy(i[3][0].data)>>>0>0),r.push(o)}return r}function _x(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Bn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Bn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Bn(o.data.length)}],n[2].push({data:Ro(o.meta),type:2})});var i=Ro(n);t.push(Bn(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Tp(t)}function A8e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=g2(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Tp(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var h=Tp(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function mu(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(A8e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Tp(t)}function kx(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Bn(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Tp(t)}function h3(e,t){var r=new Uint8Array(32),n=I5(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,S8e(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function f3(e,t){var r=new Uint8Array(32),n=I5(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Bm(e){var t=Hi(e);return g2(t[1][0].data)}function E8e(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&yy(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=I5(e[7][0].data),h=0,m=[],p=I5(e[4][0].data),g=0,w=[],b=0;b<t.length;++b){if(t[b]==null){d.setUint16(b*2,65535,!0),p.setUint16(b*2,65535);continue}d.setUint16(b*2,h,!0),p.setUint16(b*2,g,!0);var v,N;switch(typeof t[b]){case"string":v=h3({t:"s",v:t[b]},r),N=f3({t:"s",v:t[b]},r);break;case"number":v=h3({t:"n",v:t[b]},r),N=f3({t:"n",v:t[b]},r);break;case"boolean":v=h3({t:"b",v:t[b]},r),N=f3({t:"b",v:t[b]},r);break;default:throw new Error("Unsupported value "+t[b])}m.push(v),h+=v.length,w.push(N),g+=N.length,++c}for(e[2][0].data=Bn(c);b<e[7][0].data.length/2;++b)d.setUint16(b*2,65535,!0),p.setUint16(b*2,65535,!0);return e[6][0].data=Tp(m),e[3][0].data=Tp(w),c}function C8e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Kc(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Pi(n)));var i=L5(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(K){typeof K=="string"&&o.push(K)})});var l={},c=[],d=Kn.read(t.numbers,{type:"base64"});d.FileIndex.map(function(H,K){return[H,d.FullPaths[K]]}).forEach(function(H){var K=H[0],W=H[1];if(K.type==2&&K.name.match(/\.iwa/)){var re=K.content,te=mu(re),ie=fu(te);ie.forEach(function(se){c.push(se.id),l[se.id]={deps:[],location:W,type:yy(se.messages[0].meta[1][0].data)}})}}),c.sort(function(H,K){return H-K});var h=c.filter(function(H){return H>1}).map(function(H){return[H,Bn(H)]});d.FileIndex.map(function(H,K){return[H,d.FullPaths[K]]}).forEach(function(H){var K=H[0];if(H[1],!!K.name.match(/\.iwa/)){var W=fu(mu(K.content));W.forEach(function(re){re.messages.forEach(function(te){h.forEach(function(ie){re.messages.some(function(se){return yy(se.meta[1][0].data)!=11006&&j8e(se.data,ie[1])})&&l[ie[0]].deps.push(re.id)})})})}});for(var m=Kn.find(d,l[1].location),p=fu(mu(m.content)),g,w=0;w<p.length;++w){var b=p[w];b.id==1&&(g=b)}var v=Bm(Hi(g.messages[0].data)[1][0].data);for(m=Kn.find(d,l[v].location),p=fu(mu(m.content)),w=0;w<p.length;++w)b=p[w],b.id==v&&(g=b);for(v=Bm(Hi(g.messages[0].data)[2][0].data),m=Kn.find(d,l[v].location),p=fu(mu(m.content)),w=0;w<p.length;++w)b=p[w],b.id==v&&(g=b);for(v=Bm(Hi(g.messages[0].data)[2][0].data),m=Kn.find(d,l[v].location),p=fu(mu(m.content)),w=0;w<p.length;++w)b=p[w],b.id==v&&(g=b);var N=Hi(g.messages[0].data);{N[6][0].data=Bn(n.e.r+1),N[7][0].data=Bn(n.e.c+1);var S=Bm(N[46][0].data),A=Kn.find(d,l[S].location),E=fu(mu(A.content));{for(var C=0;C<E.length&&E[C].id!=S;++C);if(E[C].id!=S)throw"Bad ColumnRowUIDMapArchive";var I=Hi(E[C].messages[0].data);I[1]=[],I[2]=[],I[3]=[];for(var P=0;P<=n.e.c;++P){var F=[];F[1]=F[2]=[{type:0,data:Bn(P+420690)}],I[1].push({type:2,data:Ro(F)}),I[2].push({type:0,data:Bn(P)}),I[3].push({type:0,data:Bn(P)})}I[4]=[],I[5]=[],I[6]=[];for(var k=0;k<=n.e.r;++k)F=[],F[1]=F[2]=[{type:0,data:Bn(k+726270)}],I[4].push({type:2,data:Ro(F)}),I[5].push({type:0,data:Bn(k)}),I[6].push({type:0,data:Bn(k)});E[C].messages[0].data=Ro(I)}A.content=kx(_x(E)),A.size=A.content.length,delete N[46];var z=Hi(N[4][0].data);{z[7][0].data=Bn(n.e.r+1);var O=Hi(z[1][0].data),M=Bm(O[2][0].data);A=Kn.find(d,l[M].location),E=fu(mu(A.content));{if(E[0].id!=M)throw"Bad HeaderStorageBucket";var R=Hi(E[0].messages[0].data);for(k=0;k<i.length;++k){var B=Hi(R[2][0].data);B[1][0].data=Bn(k),B[4][0].data=Bn(i[k].length),R[2][k]={type:R[2][0].type,data:Ro(B)}}E[0].messages[0].data=Ro(R)}A.content=kx(_x(E)),A.size=A.content.length;var Y=Bm(z[2][0].data);A=Kn.find(d,l[Y].location),E=fu(mu(A.content));{if(E[0].id!=Y)throw"Bad HeaderStorageBucket";for(R=Hi(E[0].messages[0].data),P=0;P<=n.e.c;++P)B=Hi(R[2][0].data),B[1][0].data=Bn(P),B[4][0].data=Bn(n.e.r+1),R[2][P]={type:R[2][0].type,data:Ro(B)};E[0].messages[0].data=Ro(R)}A.content=kx(_x(E)),A.size=A.content.length;var U=Bm(z[4][0].data);(function(){for(var H=Kn.find(d,l[U].location),K=fu(mu(H.content)),W,re=0;re<K.length;++re){var te=K[re];te.id==U&&(W=te)}var ie=Hi(W.messages[0].data);{ie[3]=[];var se=[];o.forEach(function(De,Ze){se[1]=[{type:0,data:Bn(Ze)}],se[2]=[{type:0,data:Bn(1)}],se[3]=[{type:2,data:N8e(De)}],ie[3].push({type:2,data:Ro(se)})})}W.messages[0].data=Ro(ie);var le=_x(K),Ce=kx(le);H.content=Ce,H.size=H.content.length})();var Q=Hi(z[3][0].data);{var V=Q[1][0];delete Q[2];var Z=Hi(V.data);{var J=Bm(Z[2][0].data);(function(){for(var H=Kn.find(d,l[J].location),K=fu(mu(H.content)),W,re=0;re<K.length;++re){var te=K[re];te.id==J&&(W=te)}var ie=Hi(W.messages[0].data);{delete ie[6],delete Q[7];var se=new Uint8Array(ie[5][0].data);ie[5]=[];for(var le=0,Ce=0;Ce<=n.e.r;++Ce){var De=Hi(se);le+=E8e(De,i[Ce],o),De[1][0].data=Bn(Ce),ie[5].push({data:Ro(De),type:2})}ie[1]=[{type:0,data:Bn(n.e.c+1)}],ie[2]=[{type:0,data:Bn(n.e.r+1)}],ie[3]=[{type:0,data:Bn(le)}],ie[4]=[{type:0,data:Bn(n.e.r+1)}]}W.messages[0].data=Ro(ie);var Ze=_x(K),ke=kx(Ze);H.content=ke,H.size=H.content.length})()}V.data=Ro(Z)}z[3][0].data=Ro(Q)}N[4][0].data=Ro(z)}g.messages[0].data=Ro(N);var ae=_x(p),D=kx(ae);return m.content=D,m.size=m.content.length,d}function _8e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function CD(e){_8e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function k8e(e,t){return t.bookType=="ods"?fK(e,t):t.bookType=="numbers"?C8e(e,t):t.bookType=="xlsb"?T8e(e,t):D8e(e,t)}function T8e(e,t){ry=1024,e&&!e.SSF&&(e.SSF=hc(Za)),e&&e.SSF&&(t4(),e4(e.SSF),t.revssf=r4(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,gb?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=KY.indexOf(t.bookType)>-1,a=SY();CD(t=t||{});var i=uD(),o="",l=0;if(t.cellXfs=[],$p(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",$s(i,o,_Y(e.Props,t)),a.coreprops.push(o),$n(t.rels,2,o,Sn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,$s(i,o,TY(e.Props)),a.extprops.push(o),$n(t.rels,3,o,Sn.EXT_PROPS),e.Custprops!==e.Props&&qo(e.Custprops||{}).length>0&&(o="docProps/custom.xml",$s(i,o,DY(e.Custprops)),a.custprops.push(o),$n(t.rels,4,o,Sn.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,$s(i,o,OOe(l-1,o,t,e,h)),a.sheets.push(o),$n(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Sn.WS[0])}if(m){var g=m["!comments"],w=!1,b="";g&&g.length>0&&(b="xl/comments"+l+"."+r,$s(i,b,LOe(g,b)),a.comments.push(b),$n(h,-1,"../comments"+l+"."+r,Sn.CMNT),w=!0),m["!legacy"]&&w&&$s(i,"xl/drawings/vmlDrawing"+l+".vml",GY(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&$s(i,EY(o),gy(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,$s(i,o,IOe(t.Strings,o,t)),a.strs.push(o),$n(t.wbrels,-1,"sharedStrings."+r,Sn.SST)),o="xl/workbook."+r,$s(i,o,POe(e,o)),a.workbooks.push(o),$n(t.rels,1,o,Sn.WB),o="xl/theme/theme1.xml",$s(i,o,HY(e.Themes,t)),a.themes.push(o),$n(t.wbrels,-1,"theme/theme1.xml",Sn.THEME),o="xl/styles."+r,$s(i,o,ROe(e,o,t)),a.styles.push(o),$n(t.wbrels,-1,"styles."+r,Sn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",$s(i,o,e.vbaraw),a.vba.push(o),$n(t.wbrels,-1,"vbaProject.bin",Sn.VBA)),o="xl/metadata."+r,$s(i,o,MOe(o)),a.metadata.push(o),$n(t.wbrels,-1,"metadata."+r,Sn.XLMETA),$s(i,"[Content_Types].xml",AY(a,t)),$s(i,"_rels/.rels",gy(t.rels)),$s(i,"xl/_rels/workbook."+r+".rels",gy(t.wbrels)),delete t.revssf,delete t.ssf,i}function D8e(e,t){ry=1024,e&&!e.SSF&&(e.SSF=hc(Za)),e&&e.SSF&&(t4(),e4(e.SSF),t.revssf=r4(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,gb?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=KY.indexOf(t.bookType)>-1,a=SY();CD(t=t||{});var i=uD(),o="",l=0;if(t.cellXfs=[],$p(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",$s(i,o,_Y(e.Props,t)),a.coreprops.push(o),$n(t.rels,2,o,Sn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,$s(i,o,TY(e.Props)),a.extprops.push(o),$n(t.rels,3,o,Sn.EXT_PROPS),e.Custprops!==e.Props&&qo(e.Custprops||{}).length>0&&(o="docProps/custom.xml",$s(i,o,DY(e.Custprops)),a.custprops.push(o),$n(t.rels,4,o,Sn.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var m={"!id":{}},p=e.Sheets[e.SheetNames[l-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,$s(i,o,nK(l-1,t,e,m)),a.sheets.push(o),$n(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Sn.WS[0])}if(p){var w=p["!comments"],b=!1,v="";if(w&&w.length>0){var N=!1;w.forEach(function(S){S[1].forEach(function(A){A.T==!0&&(N=!0)})}),N&&(v="xl/threadedComments/threadedComment"+l+"."+r,$s(i,v,l6e(w,h,t)),a.threadedcomments.push(v),$n(m,-1,"../threadedComments/threadedComment"+l+"."+r,Sn.TCMNT)),v="xl/comments"+l+"."+r,$s(i,v,YY(w)),a.comments.push(v),$n(m,-1,"../comments"+l+"."+r,Sn.CMNT),b=!0}p["!legacy"]&&b&&$s(i,"xl/drawings/vmlDrawing"+l+".vml",GY(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}m["!id"].rId1&&$s(i,EY(o),gy(m))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,$s(i,o,BY(t.Strings,t)),a.strs.push(o),$n(t.wbrels,-1,"sharedStrings."+r,Sn.SST)),o="xl/workbook."+r,$s(i,o,oK(e)),a.workbooks.push(o),$n(t.rels,1,o,Sn.WB),o="xl/theme/theme1.xml",$s(i,o,HY(e.Themes,t)),a.themes.push(o),$n(t.wbrels,-1,"theme/theme1.xml",Sn.THEME),o="xl/styles."+r,$s(i,o,qY(e,t)),a.styles.push(o),$n(t.wbrels,-1,"styles."+r,Sn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",$s(i,o,e.vbaraw),a.vba.push(o),$n(t.wbrels,-1,"vbaProject.bin",Sn.VBA)),o="xl/metadata."+r,$s(i,o,WY()),a.metadata.push(o),$n(t.wbrels,-1,"metadata."+r,Sn.XLMETA),h.length>1&&(o="xl/persons/person.xml",$s(i,o,c6e(h)),a.people.push(o),$n(t.wbrels,-1,"persons/person.xml",Sn.PEOPLE)),$s(i,"[Content_Types].xml",AY(a,t)),$s(i,"_rels/.rels",gy(t.rels)),$s(i,"xl/_rels/workbook."+r+".rels",gy(t.wbrels)),delete t.revssf,delete t.ssf,i}function P8e(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Qf(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function mK(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return mw(t.file,Kn.write(e,{type:Cn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Kn.write(e,t)}function O8e(e,t){var r=hc(t||{}),n=k8e(e,r);return R8e(n,r)}function R8e(e,t){var r={},n=Cn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Kn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(JS(a))}return t.password&&typeof encrypt_agile<"u"?mK(encrypt_agile(a,t.password),t):t.type==="file"?mw(t.file,a):t.type=="string"?hb(a):a}function I8e(e,t){var r=t||{},n=XOe(e,r);return mK(n,r)}function vh(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return h2(m2(n));case"binary":return m2(n);case"string":return e;case"file":return mw(t.file,n,"utf8");case"buffer":return Cn?sm(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):vh(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function L8e(e,t){switch(t.type){case"base64":return h2(e);case"binary":return e;case"string":return e;case"file":return mw(t.file,e,"binary");case"buffer":return Cn?sm(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ZN(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?h2(r):t.type=="string"?hb(r):r;case"file":return mw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function _D(e,t){d_e(),wOe(e);var r=hc(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=_D(e,r);return r.type="array",JS(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return vh(KOe(e,r),r);case"slk":case"sylk":return vh(yTe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return vh(dK(e.Sheets[e.SheetNames[a]],r),r);case"txt":return L8e(pK(e.Sheets[e.SheetNames[a]],r),r);case"csv":return vh(kD(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return vh(vTe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return ZN(xTe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return vh(bTe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return vh(CTe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return vh(FY.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return vh(fK(e,r),r);case"wk1":return ZN($M.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return ZN($M.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),ZN(cK(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),I8e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return O8e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function M8e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function o4(e,t,r){var n={};return n.type="file",n.file=t,M8e(n),_D(e,n)}function F8e(e,t,r,n,a,i,o,l){var c=$o(r),d=l.defval,h=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),m=!0,p=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!o||e[r])for(var g=t.s.c;g<=t.e.c;++g){var w=o?e[r][g]:e[n[g]+c];if(w===void 0||w.t===void 0){if(d===void 0)continue;i[g]!=null&&(p[i[g]]=d);continue}var b=w.v;switch(w.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[g]!=null){if(b==null)if(w.t=="e"&&b===null)p[i[g]]=null;else if(d!==void 0)p[i[g]]=d;else if(h&&b===null)p[i[g]]=null;else continue;else p[i[g]]=h&&(w.t!=="n"||w.t==="n"&&l.rawNumbers!==!1)?b:Xf(w,b,l);b!=null&&(m=!1)}}return{row:p,isempty:m}}function L5(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},h=d.range!=null?d.range:e["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof h){case"string":c=ya(h);break;case"number":c=ya(e["!ref"]),c.s.r=h;break;default:c=h}n>0&&(a=0);var m=$o(c.s.r),p=[],g=[],w=0,b=0,v=Array.isArray(e),N=c.s.r,S=0,A={};v&&!e[N]&&(e[N]=[]);var E=d.skipHidden&&e["!cols"]||[],C=d.skipHidden&&e["!rows"]||[];for(S=c.s.c;S<=c.e.c;++S)if(!(E[S]||{}).hidden)switch(p[S]=ml(S),r=v?e[N][S]:e[p[S]+m],n){case 1:i[S]=S-c.s.c;break;case 2:i[S]=p[S];break;case 3:i[S]=d.header[S-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Xf(r,null,d),b=A[o]||0,!b)A[o]=1;else{do l=o+"_"+b++;while(A[l]);A[o]=b,A[l]=1}i[S]=l}for(N=c.s.r+a;N<=c.e.r;++N)if(!(C[N]||{}).hidden){var I=F8e(e,c,N,p,n,i,v,d);(I.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(g[w++]=I.row)}return g.length=w,g}var KM=/"/g;function B8e(e,t,r,n,a,i,o,l){for(var c=!0,d=[],h="",m=$o(r),p=t.s.c;p<=t.e.c;++p)if(n[p]){var g=l.dense?(e[r]||[])[p]:e[n[p]+m];if(g==null)h="";else if(g.v!=null){c=!1,h=""+(l.rawNumbers&&g.t=="n"?g.v:Xf(g,null,l));for(var w=0,b=0;w!==h.length;++w)if((b=h.charCodeAt(w))===a||b===i||b===34||l.forceQuotes){h='"'+h.replace(KM,'""')+'"';break}h=="ID"&&(h='"ID"')}else g.f!=null&&!g.F?(c=!1,h="="+g.f,h.indexOf(",")>=0&&(h='"'+h.replace(KM,'""')+'"')):h="";d.push(h)}return l.blankrows===!1&&c?null:d.join(o)}function kD(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=ya(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),h="",m=[];n.dense=Array.isArray(e);for(var p=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],w=a.s.c;w<=a.e.c;++w)(p[w]||{}).hidden||(m[w]=ml(w));for(var b=0,v=a.s.r;v<=a.e.r;++v)(g[v]||{}).hidden||(h=B8e(e,a,v,m,o,c,i,n),h!=null&&(n.strip&&(h=h.replace(d,"")),(h||n.blankrows!==!1)&&r.push((b++?l:"")+h)));return delete n.dense,r.join("")}function pK(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=kD(e,t);return r}function U8e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=ya(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=ml(l);for(var h=a.s.r;h<=a.e.r;++h)for(i=$o(h),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=d?(e[h]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function gK(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?fo(n.origin):n.origin;o=c.r,l=c.c}var d,h={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var m=ya(i["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),o==-1&&(o=m.e.r+1,h.e.r=o+t.length-1+a)}else o==-1&&(o=0,h.e.r=t.length-1+a);var p=n.header||[],g=0;t.forEach(function(b,v){qo(b).forEach(function(N){(g=p.indexOf(N))==-1&&(p[g=p.length]=N);var S=b[N],A="z",E="",C=zn({c:l+g,r:o+v+a});d=x2(i,C),S&&typeof S=="object"&&!(S instanceof Date)?i[C]=S:(typeof S=="number"?A="n":typeof S=="boolean"?A="b":typeof S=="string"?A="s":S instanceof Date?(A="d",n.cellDates||(A="n",S=uc(S)),E=n.dateNF||Za[14]):S===null&&n.nullError&&(A="e",S=0),d?(d.t=A,d.v=S,delete d.w,delete d.R,E&&(d.z=E)):i[C]=d={t:A,v:S},E&&(d.z=E))})}),h.e.c=Math.max(h.e.c,l+p.length-1);var w=$o(o);if(a)for(g=0;g<p.length;++g)i[ml(g+l)+w]={t:"s",v:p[g]};return i["!ref"]=Pi(h),i}function $8e(e,t){return gK(null,e,t)}function x2(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=fo(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?x2(e,zn(t)):x2(e,zn({r:t,c:r||0}))}function V8e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function q8e(){return{SheetNames:[],Sheets:{}}}function z8e(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(iK(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function H8e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=V8e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function W8e(e,t){return e.z=t,e}function xK(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function G8e(e,t,r){return xK(e,"#"+t,r)}function Y8e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function K8e(e,t,r,n){for(var a=typeof t!="string"?t:ya(t),i=typeof t=="string"?t:Pi(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=x2(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Pn={encode_col:ml,encode_row:$o,encode_cell:zn,encode_range:Pi,decode_col:xD,decode_row:gD,split_cell:dke,decode_cell:fo,decode_range:Kc,format_cell:Xf,sheet_add_aoa:yY,sheet_add_json:gK,sheet_add_dom:uK,aoa_to_sheet:Ov,json_to_sheet:$8e,table_to_sheet:hK,table_to_book:v8e,sheet_to_csv:kD,sheet_to_txt:pK,sheet_to_json:L5,sheet_to_html:dK,sheet_to_formulae:U8e,sheet_to_row_object_array:L5,sheet_get_cell:x2,book_new:q8e,book_append_sheet:z8e,book_set_sheet_visibility:H8e,cell_set_number_format:W8e,cell_set_hyperlink:xK,cell_set_internal_link:G8e,cell_add_comment:Y8e,sheet_set_array_formula:K8e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Q8e=(e,t=50)=>e?e.length>t?`${e.slice(0,t)}...`:e:"N/A",X8e=()=>{console.log("[StorageDebug] Attempting to get user details...");const e=localStorage.getItem("user"),t=localStorage.getItem("agencyId");console.log("[StorageDebug] Raw localStorage.getItem('user'):",e),console.log("[StorageDebug] Raw localStorage.getItem('agencyId'):",t);let r=t,n=null,a=null,i=null;if(e)try{const o=JSON.parse(e);console.log("[StorageDebug] Parsed userObject:",o),n=o.role||null,a=o.id?String(o.id):null,i=o.name||null;const l=o.agencyId?String(o.agencyId):null;console.log("[StorageDebug] agencyId found in userObject:",l),!r&&l&&(console.log("[StorageDebug] Using agencyId from userObject as primary source was empty."),r=l)}catch(o){console.error("[StorageDebug] Failed to parse user details from localStorage:",o)}return console.log("[StorageDebug] Final determined values for return: role=",n,"userId=",a,"name=",i,"agencyId=",r),{role:n,userId:a,agencyId:r,name:i}},JN=({size:e="md",color:t="blue",className:r=""})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"},a={white:"border-white",blue:"border-blue-500",gray:"border-gray-500"};return s.jsx("div",{className:jd("animate-spin rounded-full border-t-2 border-b-2",n[e],a[t],r),style:{borderTopColor:"transparent"}})},QM=e=>{const t=[{value:cn.PENDING,label:"Pending",description:"Awaiting delivery",color:"bg-yellow-100 text-yellow-800"},{value:cn.DELIVERED,label:"Delivered",description:"Successfully delivered to customer",color:"bg-green-100 text-green-800"},{value:cn.NOT_DELIVERED,label:"Not Delivered",description:"Delivery attempt failed",color:"bg-red-100 text-red-800"},{value:cn.CANCELLED,label:"Cancelled",description:"Delivery was cancelled",color:"bg-gray-100 text-gray-800"},{value:cn.SKIPPED,label:"Skipped",description:"Delivery was skipped",color:"bg-blue-100 text-blue-800"}];return e==="ADMIN"&&t.push({value:cn.SKIP_BY_CUSTOMER,label:"Skip by Customer (Credit to Wallet)",description:"Customer requested skip - amount will be credited to wallet",color:"bg-purple-100 text-purple-800",adminOnly:!0},{value:cn.INDRAAI_DELIVERY,label:"Indraai Delivery",description:"Special Indraai delivery method",color:"bg-indigo-100 text-indigo-800",adminOnly:!0},{value:cn.TRANSFER_TO_AGENT,label:"Transfer to Agent",description:"Delivery assigned to agent",color:"bg-orange-100 text-orange-800",adminOnly:!0}),t},Z8e=()=>{var H,K,W,re;const[e,t]=y.useState(null),[r,n]=y.useState([]),[a,i]=y.useState(null),[o,l]=y.useState(!1),[c,d]=y.useState([]),[h,m]=y.useState(new Date().toISOString().split("T")[0]),[p,g]=y.useState(!1),[w,b]=y.useState(null),[v,N]=y.useState({}),[S,A]=y.useState(!1),[E,C]=y.useState(""),[I,P]=y.useState(cn.PENDING),[F,k]=y.useState(""),[z,O]=y.useState({}),[M,R]=y.useState({}),B=y.useCallback(async(te,ie)=>{if(console.log(`[fetchDeliveries] Called. Date: ${te}, AdminAgencyID: ${ie}, UserRole: ${e==null?void 0:e.role}`),!e){console.warn("[fetchDeliveries] currentUser is null. Aborting."),b("User information is not available."),d([]);return}let se="";if(e.role==="ADMIN"){if(!ie){console.warn("[fetchDeliveries] Admin role but no agencyIdForAdmin provided. Clearing deliveries."),d([]);return}se=`/delivery-schedules/agency/by-date?date=${te}&agencyId=${ie}&paymentStatus=PAID`}else if(e.role==="AGENCY")console.log("[fetchDeliveries] AGENCY role. Backend will infer agencyId."),se=`/delivery-schedules/agency/by-date?date=${te}&paymentStatus=PAID`;else{console.warn("[fetchDeliveries] User role is not ADMIN or AGENCY. Role:",e.role),b("You do not have permission to view this page."),d([]);return}console.log("[fetchDeliveries] Attempting to fetch from URL:",se),g(!0),b(null);try{const le=await $t(se);if(console.log("[fetchDeliveries] Raw data received:",le),d(le||[]),le&&le.length>0){const Ce={},De={};le.forEach(Ze=>{Ze.adminNotes&&(Ce[Ze.id]=Ze.adminNotes),Ze.walletTransaction&&(De[Ze.id]=Ze.walletTransaction)}),R(Ce),O(De)}}catch(le){console.error("[fetchDeliveries] Error fetching deliveries:",le),b(le.message||"Failed to fetch deliveries."),d([])}finally{g(!1)}},[e,d,b,g]);y.useEffect(()=>{const te=X8e();console.log(te),t(te),te.role==="ADMIN"&&(async()=>{l(!0);try{const se=await $t("/agencies");console.log("Raw /agencies response:",se);let le=[];Array.isArray(se)?le=se:se&&Array.isArray(se.data)?le=se.data:se&&Array.isArray(se.agencies)?le=se.agencies:se&&typeof se=="object"&&se!==null&&console.warn("/agencies endpoint did not return an array or a known wrapped array structure."),n(le.map(Ce=>{var De;return{id:Ce.id,name:((De=Ce.user)==null?void 0:De.name)||Ce.name||`Agency ${Ce.id}`}}))}catch(se){b(se.message||"Failed to fetch agencies.")}l(!1)})()},[]),y.useEffect(()=>{(e==null?void 0:e.role)==="ADMIN"&&(console.log("[ADMIN Effect for FetchDeliveries] Triggered. Date:",h,"SelectedAdminAgencyID:",a),a?B(h,a):d([]))},[h,a,e,B]),y.useEffect(()=>{(e==null?void 0:e.role)==="AGENCY"&&h?(console.log("[AGENCY Effect for FetchDeliveries] Triggered. Date:",h,"Role:",e.role),B(h)):(e==null?void 0:e.role)==="AGENCY"&&!h&&(console.log("[AGENCY Effect for FetchDeliveries] AGENCY role, but no date selected. Clearing deliveries."),d([]))},[h,e,B]);const Y=()=>{if(!c.length){ve.error("No delivery data available to download for the selected date.");return}const te=c.map(Ce=>{var De,Ze,ke,ce,Me,be,ge;return{"Customer Name":Ce.member.name,"Product Name":Ce.product.name,"Product Variant":((De=Ce.DepotProductVariant)==null?void 0:De.name)||"N/A",Quantity:Ce.quantity,"Delivery Address":`${Ce.deliveryAddress.plotBuilding||""}${Ce.deliveryAddress.plotBuilding&&Ce.deliveryAddress.streetArea?", ":""}${Ce.deliveryAddress.streetArea||""}, ${Ce.deliveryAddress.city}, ${Ce.deliveryAddress.pincode}${(Ze=Ce.member.user)!=null&&Ze.mobile?` (Phone: ${Ce.member.user.mobile})`:""}`,Landmark:((ke=Ce.deliveryAddress)==null?void 0:ke.landmark)||"N/A","Delivery Instructions":((ce=Ce.subscription)==null?void 0:ce.deliveryInstructions)||"N/A",Status:Ce.status,Agency:((be=(Me=Ce.subscription)==null?void 0:Me.agency)==null?void 0:be.name)||"N/A",Handler:((ge=Ce.agent)==null?void 0:ge.name)||"Not assigned","Admin Notes":Ce.adminNotes||M[Ce.id]||"N/A",Phone:Ce.deliveryAddress.mobile||"N/A"}}),ie=Pn.json_to_sheet(te),se=Pn.book_new();Pn.book_append_sheet(se,ie,"Deliveries");const le=[{wch:20},{wch:25},{wch:20},{wch:10},{wch:40},{wch:15},{wch:30},{wch:15},{wch:20},{wch:20},{wch:30},{wch:15}];ie["!cols"]=le,o4(se,`delivery_schedule_${h}.xlsx`),ve.success("Excel file downloaded successfully!")},U=te=>{const ie=QM((e==null?void 0:e.role)||"").find(se=>se.value===te);return(ie==null?void 0:ie.color)||"bg-gray-100 text-gray-800"},Q=y.useCallback(async(te,ie)=>{var se,le;console.log(`[QuickStatusUpdate] Attempting to update delivery ${te} to ${ie}`),N(Ce=>({...Ce,[te]:!0})),b(null);try{await Aa(`/delivery-schedules/${te}/status`,{status:ie}),console.log(`[QuickStatusUpdate] Successfully updated status for ${te} to ${ie}`),d(Ce=>Ce.map(De=>De.id===te?{...De,status:ie}:De)),ve.success(`Status updated to ${ie.replace("_"," ")}`)}catch(Ce){console.error(`[QuickStatusUpdate] Error updating status for ${te}:`,Ce),b(((le=(se=Ce.response)==null?void 0:se.data)==null?void 0:le.error)||Ce.message||"Failed to update delivery status."),ve.error("Failed to update delivery status")}N(Ce=>({...Ce,[te]:!1}))},[d,b,N]),V=y.useCallback(async(te,ie,se)=>{var le,Ce;console.log(`[AdminStatusUpdate] Attempting to update delivery ${te} to ${ie} with notes: ${se}`),N(De=>({...De,[te]:!0})),b(null);try{const De=await Oi(`/admin/deliveries/${te}/status`,{status:ie,notes:se});console.log(`[AdminStatusUpdate] Successfully updated status for ${te}`,De),d(Ze=>Ze.map(ke=>ke.id===te?{...ke,status:ie,adminNotes:se}:ke)),se&&R(Ze=>({...Ze,[te]:se})),De.walletTransaction?(O(Ze=>({...Ze,[te]:De.walletTransaction})),ve.success(`Status updated and ${De.walletTransaction.amount} credited to wallet`)):ve.success(`Status updated to ${ie.replace("_"," ")}`)}catch(De){console.error(`[AdminStatusUpdate] Error updating status for ${te}:`,De),b(((Ce=(le=De.response)==null?void 0:le.data)==null?void 0:Ce.error)||De.message||"Failed to update delivery status."),ve.error("Failed to update delivery status")}N(De=>({...De,[te]:!1})),A(!1),k("")},[d,b,N]),Z=(te,ie)=>{C(te),P(ie),k(""),A(!0)},J=()=>{A(!1),C(""),P(cn.PENDING),k("")},ae=QM((e==null?void 0:e.role)||""),D=ae.find(te=>te.value===I);return s.jsxs("div",{className:"p-4 md:p-6 lg:p-8 bg-gray-100 min-h-screen font-sans",children:[s.jsxs("header",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:(e==null?void 0:e.role)==="ADMIN"?"Admin Delivery Management":"Agency Delivery Schedule"}),(e==null?void 0:e.role)==="ADMIN"&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Viewing as Admin: ",e.name||"Admin User"]}),(e==null?void 0:e.role)==="AGENCY"&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Agency: ",e.name||`Agency ${e.agencyId}`]})]}),s.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{htmlFor:"deliveryDate",className:"font-semibold text-gray-700 whitespace-nowrap",children:"Select Date:"}),s.jsx("input",{id:"deliveryDate",type:"date",value:h,onChange:te=>{console.log("[DateChange] New date:",te.target.value),m(te.target.value)},className:"border border-gray-300 rounded-md p-2 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(e==null?void 0:e.role)==="ADMIN"&&s.jsxs("div",{className:"flex items-center gap-3 max-sm:flex-col",children:[s.jsx("label",{htmlFor:"agencySelect",className:"font-semibold text-gray-700 whitespace-nowrap",children:"Select Agency:"}),s.jsxs(pr,{value:a||"",onValueChange:te=>{const ie=te==="NONE"?null:te;console.log("[AgencyChange] New agency ID:",ie),i(ie)},disabled:o||r.length===0,children:[s.jsx(xr,{id:"agencySelect",className:"min-w-[200px]",children:s.jsx(gr,{placeholder:o?"Loading agencies...":"Select an agency"})}),s.jsxs(yr,{children:[r.length===0&&!o&&s.jsx(wt,{value:"NONE",disabled:!0,children:"No agencies found"}),r.map(te=>s.jsx(wt,{value:te.id,children:te.name},te.id))]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-3 sm:mt-0",children:[s.jsxs("button",{onClick:()=>B(h,a??void 0),disabled:p||Object.values(v).some(te=>te===!0),className:jd("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",p||Object.values(v).some(te=>te===!0)?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 focus-visible:outline-indigo-600"),children:[p&&!Object.values(v).some(te=>te===!0)&&!w?s.jsx(JN,{size:"sm",color:"white",className:"mr-2"}):null,"Refresh Deliveries"]}),s.jsxs("button",{onClick:Y,disabled:c.length===0||p,className:jd("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",c.length===0||p?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 focus-visible:outline-green-600"),children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 mr-2",children:[s.jsx("path",{d:"M10.75 2.75a.75.75 0 0 0-1.5 0v8.614L6.295 8.235a.75.75 0 1 0-1.09 1.03l4.25 4.5a.75.75 0 0 0 1.09 0l4.25-4.5a.75.75 0 0 0-1.09-1.03l-2.955 3.129V2.75Z"}),s.jsx("path",{d:"M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z"})]}),"Download Excel"]})]})]}),p&&c.length===0&&!w&&s.jsx("div",{className:"flex justify-center items-center p-10",children:s.jsx(JN,{size:"lg"})}),w&&s.jsxs("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg border border-red-300",role:"alert",children:[s.jsx("span",{className:"font-medium",children:"Error:"})," ",w]}),!p&&c.length===0&&!w&&s.jsx("div",{className:"p-4 text-sm text-gray-700 bg-blue-100 rounded-lg border border-blue-300",role:"alert",children:"No deliveries scheduled for this date."}),c.length>0&&s.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Instructions"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Handler"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(te=>{var ie,se,le,Ce,De,Ze,ke;return s.jsxs("tr",{className:v[te.id]?"opacity-50":"",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.member.name}),s.jsx("div",{className:"text-xs text-gray-500",children:((ie=te.deliveryAddress)==null?void 0:ie.mobile)||"N/A"})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:te.product.name}),((se=te.DepotProductVariant)==null?void 0:se.name)&&s.jsx("div",{className:"text-xs text-gray-500",children:te.DepotProductVariant.name})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:te.quantity})}),s.jsxs("td",{className:"px-6 py-4 whitespace-normal max-w-xs",children:[s.jsx("div",{className:"text-sm text-gray-900",children:(le=te.deliveryAddress)==null?void 0:le.recipientName}),s.jsx("div",{className:"text-sm text-gray-900",children:te.deliveryAddress&&`${te.deliveryAddress.plotBuilding||""}${te.deliveryAddress.plotBuilding&&te.deliveryAddress.streetArea?", ":""}${te.deliveryAddress.streetArea||""}`}),s.jsx("div",{className:"text-sm text-gray-500",children:te.deliveryAddress?`${te.deliveryAddress.city}, ${te.deliveryAddress.pincode}`:"Offline Depot Delivery"}),((Ce=te.member.user)==null?void 0:Ce.mobile)&&s.jsxs("div",{className:"text-sm text-blue-600 mt-1",children:["Phone: ",te.member.user.mobile]}),((De=te.deliveryAddress)==null?void 0:De.deliveryNotes)&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1 italic",children:["Notes: ",te.deliveryAddress.deliveryNotes]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-normal max-w-xs",children:s.jsx("div",{className:"text-sm text-gray-900",title:((Ze=te.subscription)==null?void 0:Ze.deliveryInstructions)||"N/A",children:Q8e((ke=te.subscription)==null?void 0:ke.deliveryInstructions,40)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:jd("px-2 inline-flex text-xs leading-5 font-semibold rounded-full",U(te.status)),children:te.status.replace(/_/g," ")}),te.status!==cn.PENDING&&s.jsx("span",{className:"text-xs text-gray-500",title:"Status has been assigned and cannot be changed",children:""})]}),(te.adminNotes||M[te.id])&&s.jsxs("div",{className:"text-xs bg-blue-50 border border-blue-200 rounded p-2 mt-1",children:[s.jsx("div",{className:"font-medium text-blue-800",children:"Admin Notes:"}),s.jsx("div",{className:"text-blue-700",children:te.adminNotes||M[te.id]})]}),(te.walletTransaction||z[te.id])&&s.jsx("div",{className:"text-xs bg-green-50 border border-green-200 rounded p-2 mt-1",children:s.jsxs("div",{className:"font-medium text-green-800",children:["Wallet Credit: ",(te.walletTransaction||z[te.id]).amount]})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[te.agent&&s.jsxs("div",{className:"text-xs text-blue-600",children:[s.jsx("span",{className:"font-medium",children:"Handler:"})," ",te.agent.name]}),!te.agent&&te.status!==cn.PENDING&&s.jsxs("div",{className:"text-xs text-orange-600",children:[s.jsx("span",{className:"font-medium",children:"Handler:"})," Not assigned"]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-y-1",children:[(e==null?void 0:e.role)==="AGENCY"&&s.jsxs("div",{className:"space-x-1",children:[s.jsxs("button",{onClick:()=>Q(te.id,cn.DELIVERED),disabled:te.status!==cn.PENDING||v[te.id],className:jd("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",te.status!==cn.PENDING||v[te.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 focus:ring-green-400"),title:te.status!==cn.PENDING?"Status already assigned":"Mark as Delivered",children:[v[te.id]?s.jsx(JN,{size:"sm",color:"white",className:"mr-1 inline-block align-middle"}):null,"Delivered"]}),s.jsxs("button",{onClick:()=>Q(te.id,cn.NOT_DELIVERED),disabled:te.status!==cn.PENDING||v[te.id],className:jd("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",te.status!==cn.PENDING||v[te.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600 focus:ring-red-400"),title:te.status!==cn.PENDING?"Status already assigned":"Mark as Not Delivered",children:[v[te.id]?s.jsx(JN,{size:"sm",color:"white",className:"mr-1 inline-block align-middle"}):null,"Not Delivered"]})]}),(e==null?void 0:e.role)==="ADMIN"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"space-x-1",children:[s.jsx("button",{onClick:()=>V(te.id,cn.DELIVERED),disabled:te.status!==cn.PENDING||v[te.id],className:jd("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",te.status!==cn.PENDING||v[te.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 focus:ring-green-400"),title:te.status!==cn.PENDING?"Status already assigned":"Mark as Delivered",children:"Delivered"}),s.jsx("button",{onClick:()=>V(te.id,cn.NOT_DELIVERED),disabled:te.status!==cn.PENDING||v[te.id],className:jd("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",te.status!==cn.PENDING||v[te.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600 focus:ring-red-400"),title:te.status!==cn.PENDING?"Status already assigned":"Mark as Not Delivered",children:"Not Delivered"})]}),s.jsx("button",{onClick:()=>Z(te.id,te.status),disabled:te.status!==cn.PENDING||v[te.id],className:jd("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1 w-full",te.status!==cn.PENDING||v[te.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-400"),title:te.status!==cn.PENDING?"Status already assigned":"More status options",children:"More Options"})]})]})]},te.id)})})]})}),S&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Update Delivery Status"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"statusSelect",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Status:"}),((H=c.find(te=>te.id===E))==null?void 0:H.status)!==cn.PENDING?s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Status already assigned:"}),' This delivery already has a status of "',(K=c.find(te=>te.id===E))==null?void 0:K.status.replace(/_/g," "),'" and cannot be changed.']})}):s.jsxs(s.Fragment,{children:[s.jsxs(pr,{value:I,onValueChange:te=>P(te),children:[s.jsx(xr,{children:s.jsx(gr,{})}),s.jsx(yr,{children:ae.map(te=>s.jsx(wt,{value:te.value,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:jd("px-2 py-1 text-xs rounded-full",te.color),children:te.label}),te.adminOnly&&s.jsx("span",{className:"text-xs text-blue-600",children:"(Admin Only)"})]})},te.value))})]}),(D==null?void 0:D.description)&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:D.description})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:J,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400",children:((W=c.find(te=>te.id===E))==null?void 0:W.status)!==cn.PENDING?"Close":"Cancel"}),((re=c.find(te=>te.id===E))==null?void 0:re.status)===cn.PENDING&&s.jsx("button",{onClick:()=>V(E,I,F),className:"px-4 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-400",children:"Update Status"})]})]})})})]})},m3=e=>{const t=new Map;return e.forEach(r=>{t.has(r.id)||t.set(r.id,r)}),Array.from(t.values())},J8e=()=>{var ke,ce,Me,be;const[e,t]=y.useState(""),[r,n]=y.useState(""),[a,i]=y.useState(""),[o,l]=y.useState(""),[c,d]=y.useState([]),[h,m]=y.useState(null),[p,g]=y.useState(null),[w,b]=y.useState(!1),[v,N]=y.useState(!1),[S,A]=y.useState(!1),[E,C]=y.useState(null),[I,P]=y.useState(!1),[F,k]=y.useState(null),[z,O]=y.useState(!1),[M,R]=y.useState(null),[B,Y]=y.useState(""),[U,Q]=y.useState(""),[V,Z]=y.useState(""),[J,ae]=y.useState(!1),[D,H]=y.useState({}),[K]=fee(),W=y.useRef(null),[re,te]=y.useState({});y.useEffect(()=>{(async()=>{b(!0),C(null);try{const Ye=await $t("/admin/wallets");d(Ye==null?void 0:Ye.data)}catch(Ye){C(Ye.message||"Failed to load members."),d([])}b(!1)})()},[]);const ie=y.useCallback(async ge=>{var Ye,ze;if(m(ge),g(null),C(null),ge){N(!0);try{const Pe=await $t(`/admin/wallets/${ge}`);(ze=(Ye=Pe==null?void 0:Pe.data)==null?void 0:Ye.wallet)!=null&&ze.transactions&&(Pe.data.wallet.transactions=m3(Pe.data.wallet.transactions)),g(Pe==null?void 0:Pe.data)}catch(Pe){C(Pe.message||`Failed to load wallet for member ${ge}.`),g(null)}N(!1)}else g(null)},[m,g,C,N]);y.useEffect(()=>{const ge=K.get("memberId");ge&&c.length>0?ge!==W.current&&(c.some(ze=>String(ze.memberId)===ge)&&ie(ge),W.current=ge):!ge&&W.current&&(W.current=null)},[K,c,ie]);const se=ge=>{if(!h||!p){C("Please select a customer first to modify their balance.");return}t(""),n(""),i(""),l(""),te({}),k(ge),P(!0)},le=ge=>{R(ge),ge.paymentMethod==="PENDING"&&(Y(""),Q(""),Z(""),H({})),O(!0)},Ce=async()=>{var Ye,ze,Pe,me;if(!M||!h)return;const ge={};if(B||(ge.paymentMethod="Payment method is required for approval."),B&&B!=="CASH"&&!U.trim()&&(ge.referenceNumber="Reference number is required for this payment method."),Object.keys(ge).length>0){H(ge);return}H({}),ae(!0);try{const we={paymentMethod:B,referenceNumber:U.trim(),notes:V.trim()};if(await en(`/admin/wallets/transactions/${M.id}/approve`,we),h){const qe=await $t(`/admin/wallets/${h}`);(ze=(Ye=qe==null?void 0:qe.data)==null?void 0:Ye.wallet)!=null&&ze.transactions&&(qe.data.wallet.transactions=m3(qe.data.wallet.transactions)),g(qe.data)}O(!1),ve.success("Transaction approved successfully!",{icon:s.jsx(M0,{className:"h-4 w-4"}),duration:5e3})}catch(we){console.error("Failed to approve transaction:",we);const qe=((me=(Pe=we.response)==null?void 0:Pe.data)==null?void 0:me.message)||we.message||"Failed to approve transaction. Please try again.";H({notes:qe}),ve.error(`Error approving transaction: ${qe}`,{icon:s.jsx(Tu,{className:"h-4 w-4"}),duration:5e3})}finally{ae(!1)}},De=async()=>{var Pe,me;if(!h||!F){C("No member selected or transaction type missing.");return}const ge=parseFloat(e);let Ye={};if((isNaN(ge)||ge<=0)&&(Ye.amount="Amount must be a positive number."),r.trim()||(Ye.paymentMethod="Payment method is required."),Object.keys(Ye).length>0){te(Ye);return}te({}),A(!0),C(null);const ze={amount:ge,paymentMethod:r.trim(),referenceNumber:a.trim()||void 0,notes:o.trim()||void 0};try{if(F==="CREDIT"?await en(`/admin/wallets/${h}/add-funds`,ze):await en(`/admin/wallets/${h}/remove-funds`,ze),h){const we=await $t(`/admin/wallets/${h}`);(me=(Pe=we==null?void 0:we.data)==null?void 0:Pe.wallet)!=null&&me.transactions&&(we.data.wallet.transactions=m3(we.data.wallet.transactions)),g(we.data)}P(!1),t(""),n(""),i(""),l("")}catch(we){C(we.message||"Failed to process transaction.")}A(!1)},Ze=()=>{const ge={},Ye=Number.parseFloat(e);return e.trim()?(isNaN(Ye)||Ye<=0)&&(ge.amount="Please enter a valid positive amount."):ge.amount="Amount is required.",r.trim()||(ge.paymentMethod="Payment method is required."),r!=="CASH"&&r!=="PENDING"&&!a.trim()&&(ge.referenceNumber="Reference number is required."),te(ge),Object.keys(ge).length===0};return y.useEffect(()=>{Ze()},[e,r,a]),s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl space-y-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Wallet Management"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage customer wallet balances and view transaction history"})]}),p&&!v&&s.jsx(St,{className:"p-6 rounded-xl shadow-sm border bg-card transition-all hover:shadow-md",children:s.jsxs("div",{className:"flex items-start gap-5",children:[s.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:s.jsx(K5,{className:"h-8 w-8 text-primary flex-shrink-0"})}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-foreground tracking-tight",children:p.memberName}),p.memberEmail&&s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Pk,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("a",{href:`mailto:${p.memberEmail}`,className:"text-muted-foreground hover:text-primary hover:underline transition-colors",children:p.memberEmail})]})]})})]})}),v&&s.jsx(St,{className:"p-4 text-center mt-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ws,{className:"h-4 w-4 animate-spin"}),"Loading wallet details..."]})}),p&&!v&&s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Dh,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current Balance (",p==null?void 0:p.memberName,")"]}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:p?ws(((ke=p==null?void 0:p.wallet)==null?void 0:ke.balance)??0):"N/A"})]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Ee,{onClick:()=>se("CREDIT"),size:"sm",className:"bg-green-600 hover:bg-primary text-white",children:[s.jsx(Eb,{className:"mr-1 h-4 w-4"}),"Deposit"]}),s.jsxs(Ee,{onClick:()=>se("DEBIT"),variant:"destructive",size:"sm",children:[s.jsx(Fy,{className:"mr-1 h-4 w-4"}),"Withdrawn"]})]})]})})," ",s.jsxs(St,{className:"mt-4",children:[s.jsx(zt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(dr,{className:"text-lg",children:"Transaction History"})}),((ce=p==null?void 0:p.wallet)==null?void 0:ce.transactions)&&s.jsxs(Gr,{variant:"secondary",className:"text-xs",children:[p.wallet.transactions.length," transaction(s)"]})]})}),s.jsx(_t,{className:"pt-0",children:(Me=p==null?void 0:p.wallet)!=null&&Me.transactions&&p.wallet.transactions.length>0?s.jsx("div",{className:"rounded-md border",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{className:"text-xs uppercase bg-muted/50",children:[s.jsx($e,{className:"px-3 py-2",children:"Date"}),s.jsx($e,{className:"text-right",children:"Credited"}),s.jsx($e,{className:"text-right",children:"Debited"}),s.jsx($e,{className:"px-3 py-2",children:"Payment Method"}),s.jsx($e,{className:"px-3 py-2",children:"Reference"}),s.jsx($e,{className:"px-3 py-2",children:"Admin"}),s.jsx($e,{className:"px-3 py-2",children:"Status"}),s.jsx($e,{className:"text-right px-3 py-2",children:"Actions"})]})}),s.jsx(Hs,{children:p.wallet.transactions.map(ge=>s.jsxs(hr,{className:"text-sm hover:bg-muted/50",children:[s.jsx(Oe,{className:"text-xs px-3 py-2 text-muted-foreground whitespace-nowrap",children:typeof ge.timestamp=="string"&&ge.timestamp?Wt(ge.timestamp,"dd/MM/yyyy"):s.jsx("span",{className:"text-muted-foreground",children:"Date N/A"})}),s.jsx(Oe,{className:`text-right ${ge.type==="CREDIT"?"text-green-500":"text-muted-foreground"}`,children:ge.type==="CREDIT"?ws(ge.amount):s.jsx("span",{className:"text-muted-foreground",children:"0"})}),s.jsx(Oe,{className:`text-right ${ge.type==="DEBIT"?"text-red-500":"text-muted-foreground"}`,children:ge.type==="DEBIT"?ws(ge.amount):s.jsx("span",{className:"text-muted-foreground",children:"0"})}),s.jsx(Oe,{className:"text-xs px-3 py-2",children:ge.paymentMethod||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Oe,{className:"text-xs px-3 py-2 font-mono",children:ge.referenceNumber||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Oe,{className:"text-xs px-3 py-2 text-muted-foreground",children:ge.adminName||s.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),s.jsx(Oe,{className:"text-xs px-3 py-2",children:ge.status||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Oe,{className:"text-right px-3 py-2",children:s.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>le(ge),disabled:ge.status!=="PENDING",children:"View Details"})})]},String(ge.id)))})]})}):s.jsx("div",{className:"text-center py-10 text-sm text-muted-foreground",children:"No transactions found for this customer."})})]})]}),s.jsx(xn,{open:I,onOpenChange:ge=>{P(ge),ge||(t(""),n(""),i(""),l(""),te({}),k(null),C(null))},children:s.jsxs(yn,{className:"sm:max-w-md",children:[s.jsxs(An,{children:[s.jsxs(En,{className:"flex items-center",children:[F==="CREDIT"?s.jsx(Eb,{className:"mr-2 h-5 w-5 text-green-600"}):s.jsx(Fy,{className:"mr-2 h-5 w-5 text-red-600"}),F==="CREDIT"?"Add Funds to Wallet":"Remove Funds from Wallet"]}),p&&s.jsxs(Vo,{children:["For ",p==null?void 0:p.memberName,". Current balance: ",ws(((be=p==null?void 0:p.wallet)==null?void 0:be.balance)??0)]})]}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{htmlFor:"amount",children:F==="CREDIT"?"Amount to Credit":"Amount to Debit"}),s.jsx(gt,{id:"amount",type:"number",placeholder:"e.g., 50.00",value:e,onChange:ge=>t(ge.target.value),className:re.amount?"border-destructive focus-visible:ring-destructive":""}),re.amount&&s.jsx("p",{className:"text-xs text-destructive pt-1",children:re.amount})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{htmlFor:"paymentMethod",className:re.paymentMethod?"text-destructive":"",children:"Payment Method"}),s.jsxs(pr,{value:r,onValueChange:n,children:[s.jsx(xr,{className:re.paymentMethod?"border-destructive focus-visible:ring-destructive":"",children:s.jsx(gr,{placeholder:"Select a payment method"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"CASH",children:"Cash"}),s.jsx(wt,{value:"UPI",children:"UPI"}),s.jsx(wt,{value:"Bank",children:"Bank Transfer"})]})]}),re.paymentMethod&&s.jsx("p",{className:"text-xs text-destructive pt-1",children:re.paymentMethod})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(Be,{htmlFor:"referenceNumber",children:["Reference Number ",s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),s.jsx(gt,{id:"referenceNumber",placeholder:"e.g., INV-12345, Txn ID",value:a,disabled:r==="CASH",onChange:ge=>i(ge.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(Be,{htmlFor:"notes",children:["Notes ",s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),s.jsx(Sp,{id:"notes",placeholder:"e.g., Monthly deposit, Refund for order #XYZ",value:o,onChange:ge=>l(ge.target.value),rows:3})]})]}),E&&!re.amount&&!re.paymentMethod&&s.jsxs("div",{className:"bg-destructive/15 text-destructive px-3 py-2 rounded-md text-sm",children:["Error: ",E]}),s.jsx(Il,{className:"sm:justify-start pt-2",children:s.jsx(Ee,{type:"button",onClick:De,disabled:S||Object.keys(re).length>0,className:`w-full ${F==="CREDIT"?"bg-green-600 hover:bg-primary text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:S?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):F==="CREDIT"?"Credit Wallet":"Debit Wallet"})})]})}),z&&M&&s.jsx(xn,{open:z,onOpenChange:ge=>{!ge&&J||O(ge)},children:s.jsxs(yn,{className:"sm:max-w-lg",children:[s.jsxs(An,{children:[s.jsx(En,{children:M.status==="PENDING"?"Approve Transaction":"Transaction Details"}),s.jsx(Vo,{children:M.status==="PENDING"?"Complete the details below to approve this pending transaction.":"Review the details of this transaction."})]}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Transaction ID:"})}),s.jsx("div",{children:M.id}),s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Date:"})}),s.jsx("div",{children:Wt(new Date(M.timestamp),"dd/MM/yyyy")}),s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Type:"})}),s.jsx("div",{children:s.jsx(Gr,{variant:M.type==="CREDIT"?"default":"destructive",className:`${M.type==="CREDIT"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:M.type})}),s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Amount:"})}),s.jsx("div",{className:`font-semibold ${M.type==="CREDIT"?"text-green-600":"text-red-600"}`,children:ws(M.amount)})]}),M.status!=="PENDING"&&s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm pt-2 border-t",children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"})}),s.jsx("div",{children:s.jsx(Gr,{variant:M.status==="COMPLETED"?"default":M.status==="FAILED"?"destructive":"outline",className:`capitalize ${M.status==="COMPLETED"?"bg-green-100 text-green-700":M.status==="FAILED"?"bg-red-100 text-red-700":"border-gray-300 text-gray-500"}`,children:M.status?M.status.toLowerCase():"N/A"})}),M.status&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Payment Method:"})}),s.jsx("div",{children:M.paymentMethod})]}),M.referenceNumber&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Reference No:"})}),s.jsx("div",{children:M.referenceNumber})]})]}),M.notes&&M.paymentMethod!=="PENDING"&&s.jsxs("div",{className:"text-sm pt-2 border-t",children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Notes:"}),s.jsx("p",{className:"p-2 bg-muted/50 rounded-md whitespace-pre-wrap",children:M.notes})]})]}),M.status==="PENDING"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsx("h3",{className:"text-md font-semibold text-foreground",children:"Approval Details"}),s.jsxs("div",{children:[s.jsxs(Be,{htmlFor:"approvalPaymentMethod",children:["Payment Method ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(pr,{value:B,onValueChange:Y,disabled:J,children:[s.jsx(xr,{id:"approvalPaymentMethod",children:s.jsx(gr,{placeholder:"Select actual payment method"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"CASH",children:"Cash"}),s.jsx(wt,{value:"UPI",children:"UPI"}),s.jsx(wt,{value:"Bank Transfer",children:"Bank Transfer"})]})]}),D.paymentMethod&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:D.paymentMethod})]}),s.jsxs("div",{children:[s.jsxs(Be,{htmlFor:"approvalReferenceNumber",children:["Reference Number ",B!=="CASH"&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(gt,{id:"approvalReferenceNumber",value:U,onChange:ge=>Q(ge.target.value),placeholder:"Enter reference number",disabled:J||!B||B==="CASH"}),D.referenceNumber&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:D.referenceNumber})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"approvalNotes",children:"Notes"}),s.jsx(Sp,{id:"approvalNotes",value:V,onChange:ge=>Z(ge.target.value),placeholder:"Add any notes for this approval (optional)",disabled:J}),D.notes&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:D.notes})]})]}),s.jsx(Il,{className:"mt-2",children:M.status==="PENDING"?s.jsxs(s.Fragment,{children:[s.jsx(Ee,{variant:"outline",onClick:()=>O(!1),disabled:J,children:"Cancel"}),s.jsx(Ee,{onClick:Ce,disabled:J||!B,children:J?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"mr-2 h-4 w-4 animate-spin"})," Approving..."]}):"Approve Payment"})]}):s.jsx(Ee,{variant:"outline",onClick:()=>O(!1),children:"Close"})})]})})]})};function yK(e,t){const[r,n]=y.useState(e);return y.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}const eRe=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,i]=y.useState(null),[o,l]=y.useState(1),[c,d]=y.useState(0),[h,m]=y.useState(10),[p,g]=y.useState(""),[w,b]=y.useState("name"),[v,N]=y.useState("asc"),S=yK(p,500),A=async(z,O)=>{var M,R;try{await Oi(`/admin/members/${z}/status`,{active:!O}),t(B=>B.map(Y=>Y._id===z?{...Y,active:!O}:Y))}catch(B){i(((R=(M=B.response)==null?void 0:M.data)==null?void 0:R.message)||B.message||"Failed to update member status"),console.error("Failed to update member status:",B)}},E=async(z=o,O=h,M=S,R=w,B=v)=>{var Y,U;n(!0),i(null);try{const Q=new URLSearchParams;Q.append("page",z.toString()),Q.append("limit",O.toString()),M&&Q.append("search",M),Q.append("sortBy",R),Q.append("sortOrder",B);const V=await $t(`/admin/members?${Q.toString()}`);t(V.members),l(V.page),d(V.totalPages)}catch(Q){i(((U=(Y=Q.response)==null?void 0:Y.data)==null?void 0:U.message)||Q.message||"Failed to fetch members"),console.error("Failed to fetch members:",Q),t([]),d(0)}n(!1)};y.useEffect(()=>{E(o,h,S,w,v)},[o,h,S,w,v]);const C=z=>{g(z.target.value),l(1)},I=()=>{l(z=>Math.max(z-1,1))},P=()=>{l(z=>Math.min(z+1,c))},F=z=>{w===z?N(v==="asc"?"desc":"asc"):(b(z),N("asc")),l(1)},k=z=>{m(Number(z)),l(1)};return r?s.jsxs("div",{className:"flex items-center justify-center h-40",children:[s.jsx(Ws,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2",children:"Loading members..."})]}):a?s.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-red-600",children:[s.jsx(Tu,{className:"h-8 w-8 mb-2"}),s.jsxs("p",{children:["Error: ",a]})]}):s.jsx("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8",children:s.jsxs(St,{children:[s.jsx(zt,{}),s.jsxs(_t,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin - Customer Wallets"}),s.jsxs("div",{className:"flex  justify-end items-center gap-4 mb-4",children:[s.jsx(gt,{type:"text",placeholder:"Search customer by name or email...",value:p,onChange:C,className:"max-w-sm flex-grow"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show:"}),s.jsxs(pr,{value:h.toString(),onValueChange:k,children:[s.jsx(xr,{className:"w-[80px]",children:s.jsx(gr,{placeholder:h.toString()})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"10",children:"10"}),s.jsx(wt,{value:"25",children:"25"}),s.jsx(wt,{value:"50",children:"50"}),s.jsx(wt,{value:"100",children:"100"})]})]})]})]})]}),e.length===0&&!r?s.jsx("p",{className:"text-center text-gray-500 py-4",children:"No Customer found."}):s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsxs($e,{onClick:()=>F("name"),className:"cursor-pointer",children:["Name ",w==="name"&&(v==="asc"?"":"")]}),s.jsxs($e,{onClick:()=>F("email"),className:"cursor-pointer",children:["Email ",w==="email"&&(v==="asc"?"":"")]}),s.jsxs($e,{onClick:()=>F("walletBalance"),className:"cursor-pointer",children:["Wallet Balance ",w==="walletBalance"&&(v==="asc"?"":"")]}),s.jsxs($e,{onClick:()=>F("active"),className:"cursor-pointer",children:["Status ",w==="active"&&(v==="asc"?"":"")]}),s.jsx($e,{className:"text-center",children:"Actions"})]})}),s.jsx(Hs,{children:e.map(z=>s.jsxs(hr,{children:[s.jsx(Oe,{children:z.name}),s.jsx(Oe,{children:z.email}),s.jsxs(Oe,{children:["",z.walletBalance.toFixed(2)]}),s.jsx(Oe,{children:z.active===void 0?s.jsx("span",{className:"text-gray-500",children:"Unknown"}):z.active?s.jsx("span",{className:"text-green-600 font-semibold",children:"Active"}):s.jsx("span",{className:"text-red-600 font-semibold",children:"Inactive"})}),s.jsxs(Oe,{className:"text-center space-x-1",children:[s.jsx(Ee,{asChild:!0,variant:"outline",size:"sm",children:s.jsx(Rs,{to:`/admin/wallet?memberId=${z._id}`,children:s.jsx(Dh,{className:"h-4 w-4"})})}),s.jsx(Ee,{asChild:!0,variant:"outline",size:"sm",className:"ml-2",title:"Edit Customer Details",children:s.jsxs(Rs,{to:`/admin/members/${z._id}/edit`,children:[" ",s.jsx(yl,{className:"h-4 w-4"})]})}),z.active!==void 0&&s.jsx(Ee,{variant:"outline",size:"sm",className:"ml-2",onClick:()=>A(z._id,z.active),title:z.active?"Deactivate Customer":"Activate Customer",children:z.active?s.jsx(ic,{className:"h-4 w-4 text-red-500"}):s.jsx(M0,{className:"h-4 w-4 text-green-500"})})]})]},z._id))})]}),c>0&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsx(Ee,{onClick:I,disabled:o<=1||r,variant:"outline",children:"Previous"}),s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",o," of ",c]}),s.jsx(Ee,{onClick:P,disabled:o>=c||r,variant:"outline",children:"Next"})]})]})]})})},tRe=P2("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),rRe=y.forwardRef(({options:e,onValueChange:t,variant:r,defaultValue:n=[],placeholder:a="Select options",animation:i=0,maxCount:o=3,asChild:l=!1,className:c,...d},h)=>{const[m,p]=y.useState(new Set(n)),[g,w]=y.useState(!1);y.useEffect(()=>{p(new Set(n))},[n]);const b=N=>{N.key==="Enter"&&w(!0)},v=N=>{const S=new Set(m);S.has(N)?S.delete(N):S.add(N),p(S),t(Array.from(S))};return s.jsxs(Wc,{open:g,onOpenChange:w,children:[s.jsx(Gc,{asChild:!0,children:s.jsx(Ee,{ref:h,...d,onClick:()=>w(!g),className:"flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-card",children:m.size>0?s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("div",{className:"flex flex-wrap items-center",children:e.filter(N=>m.has(N.value)).map(N=>s.jsxs(Gr,{className:jt(tRe({variant:r,className:c})),style:{animationDuration:`${i}s`},children:[N.label,s.jsx(ic,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:S=>{S.stopPropagation(),v(N.value)}})]},N.value))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ul,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:N=>{N.stopPropagation(),p(new Set),t([])}}),s.jsx(ES,{orientation:"vertical",className:"flex min-h-6 h-full"}),s.jsx(Ia,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):s.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[s.jsx("span",{className:"text-sm text-muted-foreground mx-3",children:a}),s.jsx(Ia,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})})}),s.jsx(Yc,{className:"w-full p-0",align:"start",children:s.jsxs(HT,{children:[s.jsx(Xq,{placeholder:"Search...",onKeyDown:b}),s.jsxs(WT,{children:[s.jsx(Zq,{children:"No results found."}),s.jsx(c5,{children:e.map((N,S)=>{const A=m.has(N.value);return s.jsxs(E0,{onSelect:()=>v(N.value),style:{pointerEvents:"auto",opacity:1},className:"cursor-pointer",children:[s.jsx("div",{className:jt("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",A?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:s.jsx(cv,{className:jt("h-4 w-4")})}),N.icon&&s.jsx(N.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:N.label})]},N.value)})}),m.size>0&&s.jsxs(s.Fragment,{children:[s.jsx(Jq,{}),s.jsx(c5,{children:s.jsx(E0,{onSelect:()=>{p(new Set),t([])},style:{pointerEvents:"auto",opacity:1},className:"cursor-pointer",children:"Clear selection"})})]})]})]})})]})}),sRe=({initialData:e,onClose:t,onSuccess:r})=>{var F;const[n,a]=y.useState({name:"",pincodes:"",depotId:"",cityId:null,deliveryType:ty.HandDelivery,isDairyProduct:!1,deliverySchedule:[]}),[i,o]=y.useState(!1),[l,c]=y.useState([]),[d,h]=y.useState([]),[m,p]=y.useState({}),[g,w]=y.useState([]),b=[{label:"Sunday",value:"sunday"},{label:"Monday",value:"monday"},{label:"Tuesday",value:"tuesday"},{label:"Wednesday",value:"wednesday"},{label:"Thursday",value:"thursday"},{label:"Friday",value:"friday"},{label:"Saturday",value:"saturday"}];y.useEffect(()=>{e&&l.length>0&&d.length>0?a({name:e.name,pincodes:e.pincodes,depotId:e.depotId?String(e.depotId):"",cityId:e.cityId||null,deliveryType:e.deliveryType||ty.HandDelivery,isDairyProduct:e.isDairyProduct||!1,deliverySchedule:e.deliverySchedule||[]}):e||a({name:"",pincodes:"",depotId:"",cityId:null,deliveryType:ty.HandDelivery,isDairyProduct:!1,deliverySchedule:[]})},[e,l,d]),y.useEffect(()=>{const k=async()=>{try{const O=await X2();c(O)}catch(O){console.error("Failed to fetch depots",O),ve.error("Failed to load depots for selection.")}},z=async()=>{try{const O=await ow();h(O)}catch(O){console.error("Failed to fetch cities",O),ve.error("Failed to load cities for selection.")}};k(),z()},[]),y.useEffect(()=>{const k=n.pincodes||(e==null?void 0:e.pincodes)||"";N(k)},[n.pincodes,e==null?void 0:e.pincodes]);const v=k=>k.trim()?/^\d{6}(\s*,\s*\d{6})*$/.test(k.trim())?null:k.trim().endsWith(",")?"Remove trailing comma from pincodes.":k.split(",").map(O=>O.trim()).some(O=>!/^\d{6}$/.test(O)&&O!=="")?"Each pincode must be exactly 6 digits.":"Enter valid 6-digit pincodes, comma-separated (e.g., 123456, 789012).":"Pincodes are required",N=k=>{const z=k.split(",").map(O=>O.trim()).filter(O=>/^\d{6}$/.test(O));w(Array.from(new Set(z)))},S=()=>{const k={};n.name.trim()||(k.name="Name is required");const z=v(n.pincodes);return z&&(k.pincodes=z),n.deliveryType||(k.deliveryType="Delivery type is required"),(!n.deliverySchedule||n.deliverySchedule.length===0)&&(k.deliverySchedule="At least one delivery schedule option is required"),p(k),Object.keys(k).length===0},A=k=>{const{name:z,value:O}=k.target,M={...n,[z]:O};if(a(M),z==="pincodes"){const R=v(O);p(B=>({...B,pincodes:R||""})),N(O)}},E=(k,z)=>{a(O=>({...O,[k]:k==="depotId"?z:k==="cityId"?z?parseInt(z):null:String(z)})),k==="deliveryType"&&!z?p(O=>({...O,deliveryType:"Delivery type is required"})):k==="deliveryType"&&p(O=>({...O,deliveryType:""}))},C=(k,z)=>{a(O=>({...O,[k]:z}))},I=k=>{a(z=>({...z,deliverySchedule:k}))},P=async k=>{var z,O;if(k.preventDefault(),!S()){ve.error("Please correct the form errors.");return}o(!0);try{const M={...n,depotId:n.depotId};e&&e.id?(await Cje(e.id,M),ve.success("Area master updated successfully!")):(await Aje(M),ve.success("Area master created successfully!")),r()}catch(M){const R=((z=M.data)==null?void 0:z.message)||M.message||(e?"Failed to update area master":"Failed to create area master");if(ve.error(R),(O=M.data)!=null&&O.errors){const B={};for(const Y of M.data.errors)Y.path&&Y.message&&(B[Y.path[0]]=Y.message);p(Y=>({...Y,...B}))}}o(!1)};return s.jsxs("form",{onSubmit:P,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"name",children:["Area Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{type:"text",name:"name",id:"name",value:n.name,onChange:A,className:`${m.name?"border-red-500":""}`}),m.name&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:m.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"pincodes",children:["Pincodes (comma-separated) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{type:"text",name:"pincodes",id:"pincodes",value:n.pincodes,onChange:A,placeholder:"e.g., 110001, 110002",className:`${m.pincodes?"border-red-500":""}`}),m.pincodes&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:m.pincodes}),g.length>0&&!m.pincodes&&s.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[g.slice(0,5).map(k=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:k},k)),g.length>5&&s.jsxs("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 text-xs font-medium rounded-full cursor-help",title:`All pincodes: ${g.join(", ")}`,children:["+",g.length-5," more"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"cityId",children:"Associated City (Optional)"}),s.jsxs(pr,{name:"cityId",value:((F=n.cityId)==null?void 0:F.toString())||"none",onValueChange:k=>E("cityId",k==="none"?null:k),children:[s.jsx(xr,{id:"cityId",children:s.jsx(gr,{placeholder:"Select a city (optional)"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"none",children:"No City Association"}),d.map(k=>s.jsx(wt,{value:String(k.id),children:k.name},k.id))]})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Associate this area with a specific city to help users filter delivery areas."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"depotId",children:"Depot (Optional)"}),s.jsxs(pr,{name:"depotId",value:n.depotId||"none",onValueChange:k=>E("depotId",k==="none"?null:k),children:[s.jsx(xr,{id:"depotId",children:s.jsx(gr,{placeholder:"Select a depot (optional)"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"none",children:"No Depot Assignment"}),l.map(k=>s.jsx(wt,{value:String(k.id),children:k.name},k.id))]})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Optionally assign this area to a specific depot for inventory management."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"deliveryType",children:["Delivery Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(pr,{name:"deliveryType",value:n.deliveryType,onValueChange:k=>E("deliveryType",k),children:[s.jsx(xr,{id:"deliveryType",className:`${m.deliveryType?"border-red-500":""}`,children:s.jsx(gr,{placeholder:"Select delivery type"})}),s.jsx(yr,{children:Object.values(ty).map(k=>s.jsxs(wt,{value:k,children:[k.replace(/([A-Z])/g," $1").trim()," "]},k))})]}),m.deliveryType&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:m.deliveryType})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"deliverySchedule",children:["Delivery Schedule ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(rRe,{options:b,onValueChange:I,defaultValue:n.deliverySchedule,placeholder:"Select delivery days",maxCount:5,className:`w-full ${m.deliverySchedule?"border-red-500":""}`}),m.deliverySchedule&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:m.deliverySchedule}),s.jsx("p",{className:"text-xs text-gray-600",children:"Select the days when deliveries are available in this area. You can choose specific days or predefined schedules."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hl,{id:"isDairyProduct",checked:n.isDairyProduct,onCheckedChange:k=>C("isDairyProduct",!!k)}),s.jsx(Be,{htmlFor:"isDairyProduct",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Supports Dairy Products"})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Check this if this delivery area can handle dairy products that require special handling/temperature control."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:t,disabled:i,children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:i,children:i?e?"Updating...":"Creating...":e?"Update Area Master":"Create Area Master"})]})]})},g0="...",ej=(e,t)=>{let r=t-e+1;return Array.from({length:r},(n,a)=>a+e)},l4=({currentPage:e,totalPages:t,onPageChange:r,totalRecords:n,limit:a,onLimitChange:i,siblingCount:o=1})=>{const l=We.useMemo(()=>{if(o+5>=t)return ej(1,t);const g=Math.max(e-o,1),w=Math.min(e+o,t),b=g>2,v=w<t-2,N=1,S=t;if(!b&&v){let A=3+2*o;return[...ej(1,A),g0,t]}if(b&&!v){let A=3+2*o,E=ej(t-A+1,t);return[N,g0,...E]}if(b&&v){let A=ej(g,w);return[N,g0,...A,g0,S]}return[]},[t,o,e]);if(t===0||t===1)return null;const c=()=>{r(e+1)},d=()=>{r(e-1)},h=(e-1)*a+1,m=Math.min(e*a,n);return s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",h," - ",m," of ",n," records"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[i&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),s.jsxs(pr,{value:`${a}`,onValueChange:p=>{i(Number(p))},children:[s.jsx(xr,{className:"h-8 w-[70px]",children:s.jsx(gr,{placeholder:`${a}`})}),s.jsx(yr,{side:"top",children:[10,20,30,40,50].map(p=>s.jsx(wt,{value:`${p}`,children:p},p))})]})]}),s.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>r(1),disabled:e===1,className:"h-8 w-8",children:s.jsx(ite,{className:"h-4 w-4"})}),s.jsx(Ee,{variant:"outline",size:"icon",onClick:d,disabled:e===1,className:"h-8 w-8",children:s.jsx(dv,{className:"h-4 w-4"})}),l.map((p,g)=>p===g0?s.jsx("span",{className:"px-2 py-1",children:g0},`${g0}-${g}`):s.jsx(Ee,{variant:e===p?"default":"outline",size:"icon",onClick:()=>r(p),className:"h-8 w-8",children:p},p)),s.jsx(Ee,{variant:"outline",size:"icon",onClick:c,disabled:e===t,className:"h-8 w-8",children:s.jsx(cc,{className:"h-4 w-4"})}),s.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>r(t),disabled:e===t,className:"h-8 w-8",children:s.jsx(lte,{className:"h-4 w-4"})})]})]})},nRe=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!1),[a,i]=y.useState(null),[o,l]=y.useState(1),[c,d]=y.useState(1),[h,m]=y.useState(0),p=10,[g,w]=y.useState(""),[b,v]=y.useState("name"),[N,S]=y.useState("asc"),[A,E]=y.useState(!1),[C,I]=y.useState(null),[P,F]=y.useState(!1),[k,z]=y.useState([]),[O,M]=y.useState({top:0,left:0}),[R,B]=y.useState(null),Y=y.useRef(null),[U,Q]=y.useState(!1),[V,Z]=y.useState(null),J=y.useCallback(async()=>{n(!0),i(null);try{const De=await Eje({page:o,limit:p,search:g,sortBy:b,sortOrder:N});t(De.areaMasters||[]),d(De.totalPages||1),m(De.totalRecords||0),De.message&&De.areaMasters.length}catch(De){const Ze=De.message||"Failed to fetch area masters";i(Ze),ve.error(Ze),t([])}finally{n(!1)}},[o,p,g,b,N]);y.useEffect(()=>{J()},[J]);const ae=De=>{w(De.target.value),l(1)},D=De=>{let Ze=De;De==="Depot"?Ze="depot.name":De==="city.name"?Ze="city.name":Ze=De.toLowerCase().replace(/\s+/g,""),b===Ze?S(N==="asc"?"desc":"asc"):(v(Ze),S("asc")),l(1)},H=({column:De})=>{let Ze=De;return De==="Depot"?Ze="depot.name":De==="city.name"?Ze="city.name":Ze=De.toLowerCase().replace(/\s+/g,""),b!==Ze?s.jsx(E2,{className:"ml-2 h-4 w-4 opacity-50"}):N==="asc"?s.jsx(Y5,{className:"ml-2 h-4 w-4 text-blue-600"}):s.jsx(G5,{className:"ml-2 h-4 w-4 text-blue-600"})},K=()=>{I(null)},W=De=>{I(De),E(!0)},re=De=>{Z(De),Q(!0)},te=async()=>{if(V!==null)try{const De=await _je(V);ve.success(De.message||"Area Master deleted successfully!"),J(),Q(!1),Z(null)}catch(De){const Ze=De.message||"Failed to delete area master";ve.error(Ze),Q(!1)}},ie=()=>{E(!1),I(null)},se=(De,Ze=3)=>{const ke=De.split(",").map(Ye=>Ye.trim()).filter(Ye=>Ye.length===6);if(ke.length===0)return s.jsx("span",{className:"text-gray-400",children:"N/A"});const ce=ke.slice(0,Ze),Me=ke.length-Ze,be=(Ye,ze)=>{M({top:Ye.pageY+10,left:Ye.pageX-310}),z(ze),F(!0)},ge=()=>{R&&clearTimeout(R);const Ye=setTimeout(()=>{F(!1)},300);B(Ye)};return s.jsxs("div",{className:"flex flex-wrap items-center gap-1 py-1",children:[ce.map(Ye=>s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:Ye},Ye)),Me>0&&s.jsxs("span",{ref:Y,className:"px-2 py-0.5 bg-gray-200 text-gray-700 text-xs font-medium rounded-full cursor-help",onMouseEnter:Ye=>be(Ye,ke),onMouseLeave:ge,children:["+",Me," more"]})]})},le=()=>{ie(),l(1),J()},Ce=()=>!P||k.length===0?null:s.jsx("div",{style:{position:"absolute",top:`${O.top}px`,left:`${O.left}px`,zIndex:1e3},className:"p-2 bg-white border border-gray-300 rounded-md shadow-lg max-w-xs max-h-48 overflow-y-auto",onMouseEnter:()=>{R&&clearTimeout(R)},onMouseLeave:()=>{F(!1)},children:s.jsx("div",{className:"flex flex-wrap gap-1",children:k.map(De=>s.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:De},`tooltip-${De}`))})});return s.jsxs("div",{className:"p-4 md:p-6",children:[s.jsxs(xn,{open:A,onOpenChange:De=>{E(De),De||I(null)},children:[s.jsxs(St,{className:"shadow-xl",children:[s.jsx(zt,{className:"px-4 sm:px-6 py-4 sm:py-5 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx(dr,{className:"text-xl sm:text-2xl font-semibold text-slate-800 dark:text-slate-100",children:"Area Master Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[s.jsx(gt,{type:"text",placeholder:"Search areas...",value:g,onChange:ae,className:"pl-10 pr-4 py-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200"}),s.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400 dark:text-slate-500"})]}),s.jsx(gv,{asChild:!0,children:s.jsxs(Ee,{onClick:K,className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap",children:[s.jsx(xa,{className:"mr-2 h-5 w-5"})," Add New Area"]})})]})]})}),s.jsxs(_t,{className:"p-0",children:[a&&s.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error: ",a,". Please try refreshing the page."]}),!a&&r&&s.jsx("div",{className:"p-4 sm:p-6",children:s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((De,Ze)=>s.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[s.jsx(vr,{className:"h-8 w-2/6"}),s.jsx(vr,{className:"h-8 w-2/6"}),s.jsx(vr,{className:"h-8 w-1/6"}),s.jsx(vr,{className:"h-8 w-1/6"}),s.jsx(vr,{className:"h-8 w-10"})]},Ze))})}),!a&&!r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{className:"min-w-full",children:[s.jsx(zs,{className:"bg-slate-50 dark:bg-slate-800/50",children:s.jsxs(hr,{children:[s.jsx($e,{onClick:()=>D("name"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Name ",s.jsx(H,{column:"name"})]})}),s.jsx($e,{onClick:()=>D("city.name"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["City ",s.jsx(H,{column:"city.name"})]})}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Pincodes"}),s.jsx($e,{onClick:()=>D("depot.name"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Depot ",s.jsx(H,{column:"depot.name"})]})}),s.jsx($e,{onClick:()=>D("deliveryType"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Delivery Type ",s.jsx(H,{column:"deliveryType"})]})}),s.jsx($e,{onClick:()=>D("isDairyProduct"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:s.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Dairy Support ",s.jsx(H,{column:"isDairyProduct"})]})}),s.jsx($e,{className:"text-right px-4 py-3 whitespace-nowrap font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Actions"})]})}),s.jsx(Hs,{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.length===0?s.jsx(hr,{children:s.jsxs(Oe,{colSpan:7,className:"text-center py-10 text-slate-500 dark:text-slate-400",children:["No area masters found. ",g?"Try adjusting your search.":"Click 'Add New Area' to create one."]})}):e.map(De=>{var Ze,ke;return s.jsxs(hr,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 border-b last:border-b-0",children:[s.jsx(Oe,{className:"font-medium px-4 py-3 whitespace-nowrap text-sm text-slate-700 dark:text-slate-200",children:De.name}),s.jsx(Oe,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:((Ze=De.city)==null?void 0:Ze.name)??s.jsx("span",{className:"text-slate-400",children:"No City"})}),s.jsx(Oe,{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 max-w-xs",children:se(De.pincodes)}),s.jsx(Oe,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:((ke=De.depot)==null?void 0:ke.name)??s.jsx("span",{className:"text-slate-400",children:"N/A"})}),s.jsx(Oe,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${De.deliveryType===ty.HandDelivery?"bg-green-100 text-green-700 dark:bg-primary/20 dark:text-green-400":"bg-purple-100 text-purple-700 dark:bg-purple-700/20 dark:text-purple-400"}`,children:De.deliveryType.replace(/([A-Z])/g," $1").trim()})}),s.jsx(Oe,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${De.isDairyProduct?"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/20 dark:text-yellow-400":"bg-gray-100 text-gray-700 dark:bg-gray-700/20 dark:text-gray-400"}`,children:De.isDairyProduct?"Dairy Available":"No Dairy"})}),s.jsxs(Oe,{className:"flex justify-end space-x-2 px-4 py-3 whitespace-nowrap",children:[s.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>W(De),className:"hover:bg-slate-100 dark:hover:bg-slate-700",title:"Edit Area",children:s.jsx(yl,{className:"h-4 w-4"})}),s.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>re(De.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 dark:text-red-500 dark:hover:text-red-400",title:"Delete Area",children:s.jsx(Sa,{className:"h-4 w-4"})})]})]},De.id)})})]})}),c>1&&s.jsx("div",{className:"p-4 sm:p-6 border-t dark:border-slate-700",children:s.jsx(l4,{currentPage:o,totalPages:c,onPageChange:l,totalRecords:h,limit:p})})]})]})]}),s.jsxs(yn,{className:"sm:max-w-[525px] max-h-[90vh] overflow-y-auto dark:bg-slate-800",children:[s.jsxs(An,{children:[s.jsx(En,{className:"dark:text-slate-100",children:C?"Edit Area Master":"Add New Area Master"}),s.jsx(Vo,{className:"dark:text-slate-400",children:C?"Update the details of the area master.":"Fill in the details to create a new area master."})]}),s.jsx(sRe,{initialData:C,onClose:()=>E(!1),onSuccess:le})]})]}),s.jsx(pi,{open:U,onOpenChange:Q,children:s.jsxs(gi,{className:"dark:bg-slate-800",children:[s.jsxs(xi,{children:[s.jsx(vi,{className:"dark:text-slate-100",children:"Are you absolutely sure?"}),s.jsx(bi,{className:"dark:text-slate-400",children:"This action cannot be undone. This will permanently delete the area master and remove its data from our servers."})]}),s.jsxs(yi,{children:[s.jsx(wi,{className:"dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700",children:"Cancel"}),s.jsx(Ii,{onClick:te,className:"bg-red-600 hover:bg-red-700 text-white dark:bg-red-700 dark:hover:bg-red-800",children:"Delete"})]})]})}),Ce()]})},c4="/admin/categories",aRe=async(e={})=>{try{return await $t(c4,e)}catch(t){throw console.error("Failed to fetch categories:",t),t}},iRe=async e=>{try{return await en(c4,e)}catch(t){throw console.error("Failed to create category:",t),t}},oRe=async(e,t)=>{try{return await Aa(`${c4}/${e}`,t)}catch(r){throw console.error(`Failed to update category ${e}:`,r),r}},lRe=async e=>{try{await mi(`${c4}/${e}`)}catch(t){throw console.error(`Failed to delete category ${e}:`,t),t}},cRe=5*1024*1024,dRe=["image/jpeg","image/jpg","image/png","image/webp"],uRe=In({name:Ft().min(1,"Category name is required").max(100,"Name must be 100 characters or less"),isDairy:Fd().default(!1),attachment:Lk().optional().nullable().transform(e=>e&&e.length>0?e[0]:null).refine(e=>!e||e instanceof File,{message:"Attachment must be a valid file."}).refine(e=>!e||e.size<=cRe,{message:"Max file size is 5MB."}).refine(e=>!e||dRe.includes(e.type),{message:"Only .jpeg, .jpg, .png, and .webp formats are supported."}),imageUrl:Ft().optional().nullable()}),hRe=({initialData:e,onClose:t,onSuccess:r})=>{const[n,a]=y.useState((e==null?void 0:e.imageUrl)||null),{register:i,handleSubmit:o,reset:l,setValue:c,watch:d,formState:{errors:h,isSubmitting:m}}=Ea({resolver:Ca(uRe),defaultValues:{name:(e==null?void 0:e.name)||"",isDairy:(e==null?void 0:e.isDairy)||!1,attachment:null,imageUrl:(e==null?void 0:e.imageUrl)||null}}),p=d("attachment"),g=d("imageUrl");y.useEffect(()=>{e?(l({name:e.name,isDairy:e.isDairy||!1,attachment:null,imageUrl:e.imageUrl||null}),a(e.imageUrl?`https://snf.3.7.237.251.sslip.io${e.imageUrl}`:null)):(l({name:"",isDairy:!1,attachment:null,imageUrl:null}),a(null))},[e,l]),y.useEffect(()=>{if(p&&p instanceof File){const v=new FileReader;v.onloadend=()=>{a(v.result)},v.readAsDataURL(p)}else g?a(g.startsWith("data:")?g:`https://snf.3.7.237.251.sslip.io${g}`):p||a(null)},[p,g,"https://snf.3.7.237.251.sslip.io"]);const w=()=>{c("attachment",null,{shouldValidate:!0}),c("imageUrl",null),a(null)},b=async v=>{var S,A;const N=new FormData;N.append("name",v.name),N.append("isDairy",String(v.isDairy)),v.attachment&&N.append("attachment",v.attachment),e!=null&&e.id&&v.imageUrl===null&&e.imageUrl&&N.append("removeImage","true");try{let E;e&&e.id?(E=await oRe(e.id,N),ve.success("Category updated successfully!")):(E=await iRe(N),ve.success("Category created successfully!")),r(E)}catch(E){const C=((A=(S=E.response)==null?void 0:S.data)==null?void 0:A.message)||E.message||(e?"Failed to update category":"Failed to create category");ve.error(C)}};return s.jsxs("form",{onSubmit:o(b),className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(Be,{htmlFor:"name",children:["Category Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{id:"name",...i("name"),autoFocus:!0}),h.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.name.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(d5,{id:"isDairy",checked:d("isDairy"),onCheckedChange:v=>c("isDairy",v)}),s.jsx(Be,{htmlFor:"isDairy",children:"Is Dairy?"}),h.isDairy&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.isDairy.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"attachment",children:"Category Image"}),s.jsx(gt,{id:"attachment",type:"file",accept:"image/*",...i("attachment")}),h.attachment&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.attachment.message})]}),n&&s.jsxs("div",{className:"mt-4 relative w-32 h-32 border rounded-md overflow-hidden group",children:[s.jsx("img",{src:n.startsWith("data:")||n.startsWith("http")?n:`https://snf.3.7.237.251.sslip.io${n}`,alt:"Preview",className:"w-full h-full object-cover"}),s.jsx(Ee,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity p-1 h-6 w-6",onClick:w,children:s.jsx(ic,{className:"h-4 w-4"})})]}),!n&&s.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"No image selected."}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:t,disabled:m,children:"Cancel"}),s.jsxs(Ee,{type:"submit",disabled:m,className:"gap-2",children:[m?s.jsx(Ws,{className:"h-4 w-4 animate-spin"}):e!=null&&e.id?s.jsx(hv,{className:"h-4 w-4"}):s.jsx(xa,{className:"h-4 w-4"}),m?e!=null&&e.id?"Updating...":"Creating...":e!=null&&e.id?"Update Category":"Create Category"]})]})]})},fRe=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!1),[a,i]=y.useState(null),[o,l]=y.useState(1),[c,d]=y.useState(1),[h,m]=y.useState(0),[p,g]=y.useState(""),[w,b]=y.useState("name"),[v,N]=y.useState("asc"),[S,A]=y.useState(!1),[E,C]=y.useState(null),[I,P]=y.useState(!1),[F,k]=y.useState(null),z=10,O=y.useCallback(async()=>{n(!0),i(null);try{const ae=await aRe({page:o,limit:z,search:p,sortBy:w,sortOrder:v});t(ae.categories),d(ae.totalPages),m(ae.totalRecords)}catch(ae){const D=ae.message||"Failed to fetch categories";i(D),ve.error(D)}n(!1)},[o,p,w,v]);y.useEffect(()=>{O()},[O]);const M=ae=>{g(ae.target.value),l(1)},R=ae=>{w===ae?N(v==="asc"?"desc":"asc"):(b(ae),N("asc")),l(1)},B=()=>{C(null),A(!0)},Y=ae=>{C(ae),A(!0)},U=ae=>{k(ae),P(!0)},Q=async()=>{if(F!==null){try{await lRe(F),ve.success("Category deleted successfully"),e.length===1&&o>1?l(o-1):O()}catch(ae){const D=ae.message||"Failed to delete category";ve.error(D)}P(!1),k(null)}},V=()=>{A(!1),O()},Z=()=>{if(c<=1)return null;const ae=[];for(let D=1;D<=c;D++)ae.push(D);return s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>l(D=>Math.max(D-1,1)),disabled:o===1,children:[s.jsx(dv,{size:16,className:"mr-1"})," Previous"]}),ae.map(D=>s.jsx(Ee,{variant:o===D?"default":"outline",size:"sm",onClick:()=>l(D),children:D},D)),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>l(D=>Math.min(D+1,c)),disabled:o===c,children:["Next ",s.jsx(cc,{size:16,className:"ml-1"})]})]})},J=["Image","Category Name","Actions"];return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(xn,{open:S,onOpenChange:ae=>{A(ae),ae||C(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Category Master"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(gt,{type:"text",placeholder:"Search by category name...",value:p,onChange:M,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),s.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(gv,{asChild:!0,children:s.jsxs(Ee,{variant:"default",size:"lg",onClick:B,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[s.jsx(xa,{size:20,className:""})," Add New Category"]})})]})]}),r&&s.jsx("p",{className:"text-center py-6 text-gray-600",children:"Loading categories..."}),a&&s.jsxs("p",{className:"text-center py-6 text-red-600 font-medium",children:["Error: ",a]}),!r&&!a&&e.length===0&&s.jsxs("p",{className:"text-center py-10 text-gray-500",children:["No categories found. ",p?"Try adjusting your search.":'Click "Add New Category" to create one.']}),!r&&!a&&e.length>0&&s.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 bg-white",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsx(hr,{className:"bg-gray-100 hover:bg-gray-100",children:J.map(ae=>s.jsxs($e,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>ae!=="Actions"&&ae!=="Image"&&R(ae==="Category Name"?"name":ae.toLowerCase()),children:[ae,ae!=="Image"&&w===(ae==="Category Name"?"name":ae.toLowerCase())&&s.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]},ae))})}),s.jsx(Hs,{className:"divide-y divide-gray-200",children:e.map(ae=>s.jsxs(hr,{className:"hover:bg-gray-50 transition-colors",children:[s.jsx(Oe,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ae.imageUrl?s.jsx("img",{src:`${Vu}${ae.imageUrl}`,alt:ae.name,className:"h-10 w-10 rounded-md object-cover"}):s.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center text-xs text-gray-400",children:"No Image"})}),s.jsx(Oe,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800",children:ae.name}),s.jsxs(Oe,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-3",children:[s.jsx("button",{onClick:()=>Y(ae),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Edit",children:s.jsx(yl,{size:18})}),s.jsx("button",{onClick:()=>U(ae.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Delete",children:s.jsx(Sa,{size:18})})]})]},ae.id))})]})}),h>0&&Z()]}),s.jsxs(yn,{className:"sm:max-w-[425px]",children:[s.jsxs(An,{children:[s.jsx(En,{children:E?"Edit Category":"Add New Category"}),s.jsx(Vo,{children:E?"Update the details of the category.":"Fill in the details to add a new category."})]}),s.jsx(hRe,{initialData:E,onClose:()=>A(!1),onSuccess:V})]})]}),s.jsx(pi,{open:I,onOpenChange:P,children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Are you absolutely sure?"}),s.jsx(bi,{children:"This action cannot be undone. This will permanently delete the category."})]}),s.jsxs(yi,{children:[s.jsx(wi,{onClick:()=>k(null),children:"Cancel"}),s.jsx(Ii,{onClick:Q,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},mRe=In({name:Ft().min(1,"City name is required").max(100,"Name must be 100 characters or less")}),pRe=({initialData:e,onClose:t,onSuccess:r})=>{const{register:n,handleSubmit:a,reset:i,formState:{errors:o,isSubmitting:l}}=Ea({resolver:Ca(mRe),defaultValues:{name:(e==null?void 0:e.name)||""}});y.useEffect(()=>{i(e?{name:e.name}:{name:""})},[e,i]);const c=async d=>{var h,m;try{let p;e&&e.id?(p=await Pje(e.id,d),ve.success("City updated successfully!")):(p=await Dje(d),ve.success("City created successfully!")),r(p)}catch(p){const g=((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.message)||p.message||(e?"Failed to update city":"Failed to create city");ve.error(g)}};return s.jsxs("form",{onSubmit:a(c),className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(Be,{htmlFor:"name",children:["City Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{id:"name",...n("name"),autoFocus:!0}),o.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.name.message})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:t,disabled:l,children:"Cancel"}),s.jsxs(Ee,{type:"submit",disabled:l,className:"gap-2",children:[l?s.jsx(Ws,{className:"h-4 w-4 animate-spin"}):s.jsx(hv,{className:"h-4 w-4"}),l?"Saving...":"Save"]})]})]})},gRe=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!1),[a,i]=y.useState(null),[o,l]=y.useState(1),[c,d]=y.useState(""),[h,m]=y.useState(!1),[p,g]=y.useState(null),[w,b]=y.useState(!1),[v,N]=y.useState(null),S=10,A=y.useCallback(async()=>{n(!0),i(null);try{const z=await Tje({page:o,limit:S,search:c});t(z.cities)}catch(z){const O=z.message||"Failed to fetch cities";i(O),ve.error(O)}n(!1)},[o,c]);y.useEffect(()=>{A()},[A]);const E=z=>{d(z.target.value),l(1)},C=()=>{g(null),m(!0)},I=z=>{g(z),m(!0)},P=z=>{N(z),b(!0)},F=async()=>{if(v!==null){try{await Oje(v),ve.success("City deleted successfully"),e.length===1&&o>1?l(o-1):A()}catch(z){const O=z.message||"Failed to delete city";ve.error(O)}b(!1),N(null)}},k=()=>{m(!1),A()};return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(xn,{open:h,onOpenChange:z=>{m(z),z||g(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"City Master"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(gt,{type:"text",placeholder:"Search by city name...",value:c,onChange:E,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),s.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(gv,{asChild:!0,children:s.jsxs(Ee,{variant:"default",size:"lg",onClick:C,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[s.jsx(xa,{size:20,className:"mr-2"})," Add New City"]})})]})]}),r&&s.jsx("p",{children:"Loading..."}),a&&s.jsx("p",{className:"text-red-500",children:a}),s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"City Name"}),s.jsx($e,{children:"Actions"})]})}),s.jsx(Hs,{children:e.map(z=>s.jsxs(hr,{children:[s.jsx(Oe,{children:z.name}),s.jsxs(Oe,{children:[s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>I(z),children:s.jsx(yl,{size:16})}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>P(z.id),children:s.jsx(Sa,{size:16})})]})]},z.id))})]})]}),s.jsxs(yn,{children:[s.jsx(An,{children:s.jsx(En,{children:p?"Edit City":"Create City"})}),s.jsx(pRe,{initialData:p,onClose:()=>m(!1),onSuccess:k})]})]}),s.jsx(pi,{open:w,onOpenChange:b,children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Are you sure?"}),s.jsx(bi,{children:"This action cannot be undone. This will permanently delete the city."})]}),s.jsxs(yi,{children:[s.jsx(wi,{children:"Cancel"}),s.jsx(Ii,{onClick:F,children:"Delete"})]})]})})]})},d4="/api/admin/locations",xRe=async(e={})=>{try{return await $t(d4,e)}catch(t){throw console.error("Failed to fetch locations:",t),t}},yRe=async e=>{try{return await en(d4,e)}catch(t){throw console.error("Failed to create location:",t),t}},vRe=async(e,t)=>{try{return await Aa(`${d4}/${e}`,t)}catch(r){throw console.error(`Failed to update location ${e}:`,r),r}},bRe=async e=>{try{await mi(`${d4}/${e}`)}catch(t){throw console.error(`Failed to delete location ${e}:`,t),t}},wRe=async()=>{const e=await $t("/agencies",{params:{limit:1e3}});return e.data.data||e.data},NRe=In({name:Ft().min(1,"Name is required"),cityId:dc({required_error:"City is required"}).min(1,"City is required"),agencyId:dc().nullable().optional()}),jRe=({initialData:e,onClose:t,onSuccess:r})=>{var v;const[n,a]=y.useState([]),[i,o]=y.useState([]),l=Ea({resolver:Ca(NRe),defaultValues:{name:(e==null?void 0:e.name)||"",cityId:e==null?void 0:e.cityId,agencyId:(e==null?void 0:e.agencyId)||null}}),{register:c,handleSubmit:d,reset:h,setValue:m,watch:p,formState:{errors:g,isSubmitting:w}}=l;y.useEffect(()=>{(async()=>{try{const[S,A]=await Promise.all([ow(),wRe()]);a(S),o(A)}catch{ve.error("Failed to fetch cities or agencies")}})()},[]),y.useEffect(()=>{h(e?{name:e.name,cityId:e.cityId,agencyId:e.agencyId||null}:{name:"",cityId:void 0,agencyId:null})},[e,h]);const b=async N=>{var S,A;try{const E=await(e!=null&&e.id?vRe(e.id,N):yRe(N));ve.success(`Location ${e!=null&&e.id?"updated":"created"} successfully!`),r(E)}catch(E){const C=((A=(S=E.response)==null?void 0:S.data)==null?void 0:A.message)||E.message||"An unexpected error occurred";ve.error(C)}};return s.jsxs("form",{onSubmit:d(b),className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(Be,{htmlFor:"name",children:["Location Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{id:"name",...c("name"),autoFocus:!0}),g.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.name.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(Be,{htmlFor:"cityId",children:["City ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(pr,{onValueChange:N=>m("cityId",parseInt(N,10)),value:((v=p("cityId"))==null?void 0:v.toString())||"",children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"Select a city"})}),s.jsx(yr,{children:n.map(N=>s.jsx(wt,{value:N.id.toString(),children:N.name},N.id))})]}),g.cityId&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.cityId.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{children:"Agency"}),s.jsxs(pr,{onValueChange:N=>m("agencyId",N==="null"?null:parseInt(N,10)),value:p("agencyId")!=null?String(p("agencyId")):"null",children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"Select an agency"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"null",children:"None"}),i.map(N=>s.jsx(wt,{value:N.id.toString(),children:N.name},N.id))]})]}),g.agencyId&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.agencyId.message})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:t,disabled:w,children:"Cancel"}),s.jsxs(Ee,{type:"submit",disabled:w,className:"gap-2",children:[w?s.jsx(Ws,{className:"h-4 w-4 animate-spin"}):s.jsx(hv,{className:"h-4 w-4"}),w?"Saving...":"Save"]})]})]})},SRe=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!1),[a,i]=y.useState(null),[o,l]=y.useState(1),[c,d]=y.useState(""),[h,m]=y.useState(!1),[p,g]=y.useState(null),[w,b]=y.useState(!1),[v,N]=y.useState(null),S=10,A=y.useCallback(async()=>{n(!0),i(null);try{const z=await xRe({page:o,limit:S,search:c});t(z.locations)}catch(z){const O=z.message||"Failed to fetch locations";i(O),ve.error(O)}n(!1)},[o,c]);y.useEffect(()=>{A()},[A]);const E=z=>{d(z.target.value),l(1)},C=()=>{g(null),m(!0)},I=z=>{g(z),m(!0)},P=z=>{N(z),b(!0)},F=async()=>{if(v!==null){try{await bRe(v),ve.success("Location deleted successfully"),e.length===1&&o>1?l(o-1):A()}catch(z){const O=z.message||"Failed to delete location";ve.error(O)}b(!1),N(null)}},k=()=>{m(!1),A()};return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(xn,{open:h,onOpenChange:z=>{m(z),z||g(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Location Master"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(gt,{type:"text",placeholder:"Search by location name...",value:c,onChange:E,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),s.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(gv,{asChild:!0,children:s.jsxs(Ee,{variant:"default",size:"lg",onClick:C,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[s.jsx(xa,{size:20,className:"mr-2"})," Add New Location"]})})]})]}),r&&s.jsx("p",{children:"Loading..."}),a&&s.jsx("p",{className:"text-red-500",children:a}),s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Location Name"}),s.jsx($e,{children:"City"}),s.jsx($e,{children:"Actions"})]})}),s.jsx(Hs,{children:e.map(z=>s.jsxs(hr,{children:[s.jsx(Oe,{children:z.name}),s.jsx(Oe,{children:z.city.name}),s.jsxs(Oe,{children:[s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>I(z),children:s.jsx(yl,{size:16})}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>P(z.id),children:s.jsx(Sa,{size:16})})]})]},z.id))})]})]}),s.jsxs(yn,{children:[s.jsx(An,{children:s.jsx(En,{children:p?"Edit Location":"Create Location"})}),s.jsx(jRe,{initialData:p,onClose:()=>m(!1),onSuccess:k})]})]}),s.jsx(pi,{open:w,onOpenChange:b,children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Are you sure?"}),s.jsx(bi,{children:"This action cannot be undone. This will permanently delete the location."})]}),s.jsxs(yi,{children:[s.jsx(wi,{children:"Cancel"}),s.jsx(Ii,{onClick:F,children:"Delete"})]})]})})]})},ARe=In({name:Ft().min(1,"Depot name is required").max(100,"Name must be 100 characters or less"),address:Ft().min(1,"Address is required").max(255,"Address must be 255 characters or less"),city:Ft().min(1,"City is required").max(255,"City must be 255 characters or less"),contactPerson:Ft().max(100,"Contact person must be 100 characters or less").optional().or(iy("")),contactNumber:Ft().max(20,"Contact number must be 20 characters or less").optional().or(iy("")),userFullName:Ft().optional(),userLoginEmail:Ft().email("Invalid email address").optional().or(iy("")),userPassword:Ft().optional(),isOnline:Fd().optional()}),ERe=({isOpen:e,onClose:t,onSubmitSuccess:r,initialData:n})=>{const a=!!(n!=null&&n.id),i=ARe.superRefine((g,w)=>{a||((!g.userFullName||g.userFullName.length<2)&&w.addIssue({code:cr.custom,message:"Admin full name is required",path:["userFullName"]}),(!g.userPassword||g.userPassword.length<6)&&w.addIssue({code:cr.custom,message:"Password must be at least 6 characters",path:["userPassword"]}))}),{register:o,handleSubmit:l,reset:c,control:d,formState:{errors:h,isSubmitting:m}}=Ea({context:{isEditMode:a},resolver:Ca(i)});y.useEffect(()=>{if(e){const g={name:"",address:"",city:"",contactPerson:"",contactNumber:"",userFullName:"",userLoginEmail:"",userPassword:"",isOnline:!1};c(n?{...g,...n}:g)}},[n,e,c]);const p=async g=>{console.log("Submitting data:",g);try{if(n!=null&&n.id){const{userFullName:w,userLoginEmail:b,userPassword:v,...N}=g;console.log("Payload for PUT request:",N),await Aa(`/admin/depots/${n.id}`,N),ve.success("Depot updated successfully.")}else await en("/admin/depots",g),ve.success("Depot created successfully.");r(),t()}catch(w){console.error("Failed to save depot:",w),ve.error(w.message||"An unknown error occurred while saving the depot.")}};return e?s.jsx(xn,{open:e,onOpenChange:g=>!g&&t(),children:s.jsxs(yn,{className:"sm:max-w-lg h-[550px] overflow-y-auto",children:[s.jsxs(An,{children:[s.jsx(En,{children:n!=null&&n.id?"Edit Depot":"Add New Depot"}),s.jsx(Vo,{children:n!=null&&n.id?"Update the details of this depot.":"Fill in the form below to create a new depot."})]}),s.jsxs("form",{onSubmit:l(p),className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(Be,{htmlFor:"name",children:["Depot Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{id:"name",...o("name"),placeholder:"e.g. Central Warehouse"}),h.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.name.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(Be,{htmlFor:"address",children:["Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{id:"address",...o("address"),placeholder:"e.g. 123 Main St, Anytown"}),h.address&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.address.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(Be,{htmlFor:"city",children:["City ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{id:"city",...o("city"),placeholder:"e.g. New York"}),h.city&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.city.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"contactPerson",children:"Contact Person"}),s.jsx(gt,{id:"contactPerson",...o("contactPerson"),placeholder:"e.g. John Doe"}),h.contactPerson&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contactPerson.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"contactNumber",children:"Contact Number"}),s.jsx(gt,{id:"contactNumber",...o("contactNumber"),placeholder:"e.g. +1-555-123-4567"}),h.contactNumber&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contactNumber.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fs,{name:"isOnline",control:d,render:({field:g})=>s.jsx(hl,{id:"isOnline",checked:g.value,onCheckedChange:g.onChange})}),s.jsx(Be,{htmlFor:"isOnline",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Depot is Online"})]}),!(n!=null&&n.id)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(Be,{htmlFor:"userFullName",children:["Admin Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{id:"userFullName",...o("userFullName"),placeholder:"e.g. Jane Admin"}),h.userFullName&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.userFullName.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"userLoginEmail",children:"Admin Email"}),s.jsx(gt,{id:"userLoginEmail",...o("userLoginEmail"),placeholder:"e.g. depot@company.com"}),h.userLoginEmail&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.userLoginEmail.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(Be,{htmlFor:"userPassword",children:["Admin Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{id:"userPassword",type:"password",...o("userPassword"),placeholder:"Min 6 characters"}),h.userPassword&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.userPassword.message})]})]}),s.jsxs(Il,{className:"mt-2",children:[s.jsx(Pf,{asChild:!0,children:s.jsx(Ee,{type:"button",variant:"outline",onClick:t,disabled:m,children:"Cancel"})}),s.jsxs(Ee,{type:"submit",disabled:m,className:"gap-2",children:[m?s.jsx(Ws,{className:"h-4 w-4 animate-spin"}):n!=null&&n.id?s.jsx(hv,{className:"h-4 w-4"}):s.jsx(xa,{className:"h-4 w-4"}),m?n!=null&&n.id?"Saving...":"Creating...":n!=null&&n.id?"Save Changes":"Create Depot"]})]})]})]})}):null},XM="/admin/depots",CRe=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!1),[a,i]=y.useState(void 0),[o,l]=y.useState(!1),[c,d]=y.useState(null),[h,m]=y.useState(!0),[p,g]=y.useState(""),[w,b]=y.useState(1),[v,N]=y.useState(1),[S,A]=y.useState(0),[E,C]=y.useState("name"),[I,P]=y.useState("asc"),F=10,k=y.useRef(null),z=y.useCallback(async()=>{m(!0);try{const V=await $t(XM,{page:w,limit:F,search:p,sortBy:E,sortOrder:I});t(V.depots||[]),N(V.totalPages||1),A(V.totalRecords||0)}catch(V){console.error("Failed to fetch depots:",V),ve.error(V.message||"Failed to fetch depots."),t([])}finally{m(!1)}},[w,p,E,I]);y.useEffect(()=>(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{z()},300),()=>{k.current&&clearTimeout(k.current)}),[z,p]);const O=()=>{i(void 0),n(!0)},M=V=>{i(V),n(!0)},R=V=>{d(V),l(!0)},B=async()=>{if(c)try{await mi(`${XM}/${c.id}`),ve.success("Depot deleted successfully."),z(),l(!1),d(null)}catch(V){console.error("Failed to delete depot:",V),ve.error(V.message||"Failed to delete depot."),l(!1)}},Y=()=>{z()},U=V=>{E===V?P(I==="asc"?"desc":"asc"):(C(V),P("asc")),b(1)},Q=({column:V})=>E!==V?s.jsx(E2,{className:"ml-2 h-4 w-4 opacity-50"}):I==="asc"?s.jsx(Y5,{className:"ml-2 h-4 w-4"}):s.jsx(G5,{className:"ml-2 h-4 w-4"});return s.jsx("div",{className:"container mx-auto p-4 max-w-7xl",children:s.jsxs(St,{className:"border-0 shadow-sm",children:[s.jsx(zt,{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx(dr,{className:"text-2xl font-semibold",children:"Depot Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[s.jsx(Hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(gt,{placeholder:"Search depots...",value:p,onChange:V=>{g(V.target.value),b(1)},className:"pl-10 w-full sm:w-64 md:w-80"})]}),s.jsxs(Ee,{onClick:O,className:"gap-2 whitespace-nowrap",children:[s.jsx(xa,{className:"h-4 w-4"})," Add Depot"]})]})]})}),s.jsxs(_t,{className:"p-0 sm:p-6",children:[h?s.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((V,Z)=>s.jsx(vr,{className:"h-12 w-full rounded-md"},Z))}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:s.jsx(Hn,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:p?"No Matching Depots Found":"No Depots Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:p?"Try adjusting your search criteria or add a new depot.":"Get started by adding your first depot. Its quick and easy!"}),!p&&s.jsxs(Ee,{onClick:O,className:"gap-2",children:[s.jsx(xa,{className:"h-4 w-4"})," Add New Depot"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{className:"min-w-full",children:[s.jsx(zs,{className:"bg-slate-50 dark:bg-slate-800",children:s.jsxs(hr,{children:[s.jsx($e,{onClick:()=>U("name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Name ",s.jsx(Q,{column:"name"})]})}),s.jsx($e,{onClick:()=>U("address"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Address ",s.jsx(Q,{column:"address"})]})}),s.jsx($e,{onClick:()=>U("city"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["City ",s.jsx(Q,{column:"city"})]})}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap",children:"Contact Person"}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap",children:"Contact Number"}),s.jsx($e,{onClick:()=>U("createdAt"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Created At ",s.jsx(Q,{column:"createdAt"})]})}),s.jsx($e,{className:"text-right px-4 py-3 whitespace-nowrap",children:"Actions"})]})}),s.jsx(Hs,{children:e.map(V=>s.jsxs(hr,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 border-b last:border-b-0",children:[s.jsx(Oe,{className:"font-medium px-4 py-3 whitespace-nowrap",children:V.name}),s.jsx(Oe,{className:"px-4 py-3 whitespace-nowrap",children:V.address}),s.jsx(Oe,{className:"px-4 py-3 whitespace-nowrap",children:V.city}),s.jsx(Oe,{className:"px-4 py-3 whitespace-nowrap",children:V.contactPerson||"-"}),s.jsx(Oe,{className:"px-4 py-3 whitespace-nowrap",children:V.contactNumber||"-"}),s.jsx(Oe,{className:"px-4 py-3 whitespace-nowrap",children:new Date(V.createdAt).toLocaleDateString()}),s.jsxs(Oe,{className:"flex justify-end space-x-2 px-4 py-3 whitespace-nowrap",children:[s.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>M(V),className:"hover:bg-slate-100 dark:hover:bg-slate-700",title:"Edit Depot",children:s.jsx(yl,{className:"h-4 w-4"})}),s.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>R(V),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 dark:text-red-500 dark:hover:text-red-400",title:"Delete Depot",children:s.jsx(Sa,{className:"h-4 w-4"})})]})]},V.id))})]})}),v>1&&s.jsx("div",{className:"p-4 sm:p-6 border-t",children:s.jsx(l4,{currentPage:w,totalPages:v,onPageChange:b,totalRecords:S,limit:F})})]}),s.jsx(ERe,{isOpen:r,onClose:()=>n(!1),onSubmitSuccess:Y,initialData:a}),s.jsx(pi,{open:o,onOpenChange:l,children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Confirm Deletion"}),s.jsx(bi,{children:"Are you sure you want to delete this depot? This action cannot be undone and the depot data will be permanently lost."})]}),s.jsxs(yi,{children:[s.jsx(wi,{onClick:()=>d(null),children:"Cancel"}),s.jsx(Ii,{onClick:B,className:"bg-red-600 hover:bg-red-700 text-white dark:bg-red-700 dark:hover:bg-red-800",children:"Delete Depot"})]})]})})]})]})})},u4="/admin/depot-product-variants",_Re=async(e={})=>await $t(u4,e),kRe=async e=>await en(u4,e),TRe=async(e,t)=>await Aa(`${u4}/${e}`,t),DRe=async e=>{await mi(`${u4}/${e}`)},vK=async()=>{const e=await $t("/products",{select:"id,name",limit:1e3});return e.data??e},PRe=In({productId:Ti.number().int().positive({message:"Product ID is required"}),name:Ft().min(1,"Variant name is required"),hsnCode:Ft().optional(),mrp:Ti.number({invalid_type_error:"MRP must be a number"}).nonnegative(),minimumQty:Ti.number().int().nonnegative(),price3Day:Ti.number({invalid_type_error:"3-day price must be a number"}).nonnegative().optional(),price7Day:Ti.number({invalid_type_error:"7-day price must be a number"}).nonnegative().optional(),price15Day:Ti.number({invalid_type_error:"15-day price must be a number"}).nonnegative().optional(),price1Month:Ti.number({invalid_type_error:"1-month price must be a number"}).nonnegative().optional(),notInStock:Fd().default(!1),isHidden:Fd().default(!1),buyOncePrice:Ti.number().nonnegative().optional(),purchasePrice:Ti.number({invalid_type_error:"Purchase price must be a number"}).nonnegative().optional()}),ORe=({initialData:e,onClose:t,onSuccess:r})=>{const[n,a]=y.useState([]),{register:i,handleSubmit:o,reset:l,setValue:c,watch:d,formState:{errors:h,isSubmitting:m}}=Ea({resolver:Ca(PRe),defaultValues:{productId:(e==null?void 0:e.productId)||0,name:(e==null?void 0:e.name)||"",hsnCode:(e==null?void 0:e.hsnCode)||"",mrp:(e==null?void 0:e.mrp)||0,minimumQty:(e==null?void 0:e.minimumQty)||0,notInStock:(e==null?void 0:e.notInStock)||!1,price3Day:(e==null?void 0:e.price3Day)??0,price7Day:(e==null?void 0:e.price7Day)??0,price15Day:(e==null?void 0:e.price15Day)??0,price1Month:(e==null?void 0:e.price1Month)??0,isHidden:(e==null?void 0:e.isHidden)||!1,buyOncePrice:(e==null?void 0:e.buyOncePrice)??0,purchasePrice:(e==null?void 0:e.purchasePrice)??0}});y.useEffect(()=>{(async()=>{try{const g=await vK();a(g)}catch(g){console.error("Failed to load products",g)}})()},[]),y.useEffect(()=>{e&&l({productId:e.productId,name:e.name,hsnCode:e.hsnCode??"",mrp:e.mrp,minimumQty:e.minimumQty,notInStock:e.notInStock,isHidden:e.isHidden,price3Day:e.price3Day??0,price7Day:e.price7Day??0,price15Day:e.price15Day??0,price1Month:e.price1Month??0,buyOncePrice:e.buyOncePrice??0,purchasePrice:e.purchasePrice??0})},[e,l]);const p=async g=>{try{e?(await TRe(e.id,g),ve.success("Variant updated")):(await kRe(g),ve.success("Variant created")),r()}catch(w){ve.error(w.message||"Error saving variant")}};return s.jsxs("form",{onSubmit:o(p),className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"productId",children:"Product *"}),s.jsxs(pr,{value:d("productId")?String(d("productId")):void 0,onValueChange:g=>c("productId",Number(g),{shouldValidate:!0}),children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select product"})}),s.jsx(yr,{children:n.map(g=>s.jsx(wt,{value:String(g.id),children:g.name},g.id))})]}),h.productId&&s.jsx("p",{className:"text-sm text-red-600",children:h.productId.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"name",children:"Variant Name *"}),s.jsx(gt,{id:"name",...i("name")}),h.name&&s.jsx("p",{className:"text-sm text-red-600",children:h.name.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"hsnCode",children:"HSN Code"}),s.jsx(gt,{id:"hsnCode",...i("hsnCode")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"mrp",children:"MRP *"}),s.jsx(gt,{type:"number",step:"0.01",id:"mrp",...i("mrp")}),h.mrp&&s.jsx("p",{className:"text-sm text-red-600",children:h.mrp.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"minimumQty",children:"Minimum Qty *"}),s.jsx(gt,{type:"number",id:"minimumQty",...i("minimumQty")}),h.minimumQty&&s.jsx("p",{className:"text-sm text-red-600",children:h.minimumQty.message})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"price3Day",children:"Price  3 Day"}),s.jsx(gt,{type:"number",step:"0.01",id:"price3Day",...i("price3Day")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"price7Day",children:"Price  7 Day"}),s.jsx(gt,{type:"number",step:"0.01",id:"price7Day",...i("price7Day")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"price15Day",children:"Price  15 Day"}),s.jsx(gt,{type:"number",step:"0.01",id:"price15Day",...i("price15Day")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"price1Month",children:"Price  1 Month"}),s.jsx(gt,{type:"number",step:"0.01",id:"price1Month",...i("price1Month")})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"buyOncePrice",children:"Buy Once Price"}),s.jsx(gt,{id:"buyOncePrice",type:"number",step:"0.01",...i("buyOncePrice")}),h.buyOncePrice&&s.jsx("p",{className:"text-sm text-red-500",children:h.buyOncePrice.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"purchasePrice",children:"Purchase Price"}),s.jsx(gt,{id:"purchasePrice",type:"number",step:"0.01",...i("purchasePrice")}),h.purchasePrice&&s.jsx("p",{className:"text-sm text-red-500",children:h.purchasePrice.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(d5,{id:"notInStock",checked:d("notInStock"),onCheckedChange:g=>c("notInStock",g)}),s.jsx(Be,{htmlFor:"notInStock",children:"Not In Stock"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(d5,{id:"isHidden",checked:d("isHidden"),onCheckedChange:g=>c("isHidden",g)}),s.jsx(Be,{htmlFor:"isHidden",children:"Hidden?"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:t,disabled:m,children:"Cancel"}),s.jsxs(Ee,{type:"submit",disabled:m,className:"gap-2",children:[m?s.jsx(Ws,{className:"h-4 w-4 animate-spin"}):e?s.jsx(hv,{className:"h-4 w-4"}):s.jsx(xa,{className:"h-4 w-4"}),m?e?"Updating":"Creating":e?"Update":"Create"]})]})]})},RRe=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(1),[a,i]=y.useState(1),[o,l]=y.useState(""),c=10,[d,h]=y.useState(null),[m,p]=y.useState(null),[g,w]=y.useState(!1),[b,v]=y.useState(!1),[N,S]=y.useState(null),[A,E]=y.useState(!1),[C,I]=y.useState(null);y.useEffect(()=>{(async()=>{var B,Y;try{const U=localStorage.getItem("user");let Q=null,V=null;if(U){const ae=JSON.parse(U);Q=(ae==null?void 0:ae.role)||null,V=(ae==null?void 0:ae.depotId)??((B=ae==null?void 0:ae.depot)==null?void 0:B.id)??null}h(Q);const Z=(Q||"").toString().toUpperCase();if(Z==="DEPOTADMIN"||Z.includes("DEPOT"))if(V)p(Number(V));else{w(!0);try{const ae=await $t("/users/me");p(((Y=ae==null?void 0:ae.depot)==null?void 0:Y.id)||(ae==null?void 0:ae.depotId)||null)}catch(ae){console.error("Failed to fetch user depot info:",ae),ve.error("Could not load depot details."),p(null)}finally{w(!1)}}}catch(U){console.error("Failed to parse user data from localStorage",U)}})()},[]);const P=y.useCallback(async()=>{const R=(d||"").toString().toUpperCase(),B=R==="DEPOTADMIN"||R.includes("DEPOT");if(!(B&&g)){if(B&&!m&&!g){t([]),i(0),ve.info("No depot assigned to your account. Please contact administrator.");return}try{const Y={page:r,limit:c};B&&m&&(Y.depotId=m),o.trim()&&(Y.search=o.trim());const U=await _Re(Y),Q=Array.isArray(U.data)?U.data:[],V=B&&m?Q.filter(Z=>{var J;return Number(Z.depotId)===Number(m)||Number((J=Z==null?void 0:Z.depot)==null?void 0:J.id)===Number(m)}):Q;t(V),i(U.totalPages)}catch(Y){ve.error(Y.message||"Failed to fetch variants")}}},[r,d,m,g,o]);y.useEffect(()=>{const R=setTimeout(()=>{r!==1?n(1):P()},300);return()=>clearTimeout(R)},[o]),y.useEffect(()=>{P()},[P]);const F=()=>{S(null),v(!0)},k=R=>{S(R),v(!0)},z=R=>{I(R),E(!0)},O=async()=>{if(C!=null){try{await DRe(C),ve.success("Variant deleted"),P()}catch(R){ve.error(R.message||"Failed to delete variant")}E(!1),I(null)}},M=()=>{if(a<=1)return null;const R=Array.from({length:a},(B,Y)=>Y+1);return s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>n(B=>Math.max(B-1,1)),disabled:r===1,children:[s.jsx(dv,{size:16,className:"mr-1"})," Previous"]}),R.map(B=>s.jsx(Ee,{variant:r===B?"default":"outline",size:"sm",onClick:()=>n(B),children:B},B)),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>n(B=>Math.min(B+1,a)),disabled:r===a,children:["Next ",s.jsx(cc,{size:16,className:"ml-1"})]})]})};return s.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[s.jsxs(xn,{open:b,onOpenChange:R=>{v(R),R||S(null)},children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"Depot Product Variants"}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-2 items-center",children:[s.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[s.jsx(gt,{placeholder:"Search products, depots...",value:o,onChange:R=>l(R.target.value),className:"pl-10 min-h-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx(Hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]}),s.jsx(gv,{asChild:!0,children:s.jsxs(Ee,{variant:"default",size:"lg",onClick:F,className:"gap-2 shadow-md",children:[s.jsx(xa,{size:20})," Add New Variant"]})})]})]}),s.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 bg-white",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsx(hr,{className:"bg-gray-100",children:["Depot","Product","Name","Closing Qty","Actions"].map(R=>s.jsx($e,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:R},R))})}),s.jsx(Hs,{className:"divide-y divide-gray-200",children:g?s.jsx(hr,{children:s.jsx(Oe,{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"}),s.jsx("span",{children:"Loading depot information..."})]})})}):e.length===0?s.jsx(hr,{children:s.jsx(Oe,{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[s.jsx(xa,{size:48,className:"text-gray-400"}),s.jsx("span",{className:"text-lg font-medium",children:(d||"").toUpperCase().includes("DEPOT")?"No product variants found for your depot":"No depot product variants found"}),s.jsx("span",{className:"text-sm",children:(d||"").toUpperCase().includes("DEPOT")?"Contact your administrator to add variants for your depot.":"Click 'Add New Variant' to create your first variant."})]})})}):e.map(R=>{var B,Y;return s.jsxs(hr,{className:"hover:bg-gray-50",children:[s.jsx(Oe,{className:"px-6 py-4 text-sm",children:((B=R==null?void 0:R.depot)==null?void 0:B.name)??R.depotId}),s.jsx(Oe,{className:"px-6 py-4 text-sm",children:(Y=R==null?void 0:R.product)==null?void 0:Y.name}),s.jsx(Oe,{className:"px-6 py-4 text-sm font-medium",children:R.name}),s.jsx(Oe,{className:"px-6 py-4 text-sm",children:R.closingQty}),s.jsxs(Oe,{className:"px-6 py-4 text-sm space-x-3",children:[s.jsx("button",{onClick:()=>k(R),className:"text-blue-600 hover:text-blue-800",title:"Edit variant",children:s.jsx(yl,{size:18})}),s.jsx("button",{onClick:()=>z(R.id),className:"text-red-600 hover:text-red-800",title:"Delete variant",children:s.jsx(Sa,{size:18})})]})]},R.id)})})]})}),M()]}),s.jsxs(yn,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(An,{children:[s.jsx(En,{children:N?"Edit Variant":"Add New Variant"}),s.jsx(Vo,{children:N?"Update variant details":"Fill details to create variant"})]}),s.jsx(ORe,{initialData:N,onClose:()=>v(!1),onSuccess:()=>{v(!1),P()}})]})]}),s.jsx(pi,{open:A,onOpenChange:E,children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Are you sure?"}),s.jsx(bi,{children:"This action will delete the variant."})]}),s.jsxs(yi,{children:[s.jsx(wi,{children:"Cancel"}),s.jsx(Ii,{className:"bg-red-600 hover:bg-red-700",onClick:O,children:"Delete"})]})]})})]})},IRe=({searchTerm:e,onEditUser:t,refreshKey:r})=>{const[n,a]=y.useState([]),[i,o]=y.useState(!1),[l,c]=y.useState(null),[d,h]=y.useState(!0),[m,p]=y.useState(1),[g,w]=y.useState(1),[b,v]=y.useState(0),[N,S]=y.useState("name"),[A,E]=y.useState("asc"),C=10,I=y.useRef(null),P=y.useCallback(async()=>{h(!0);try{const R=await $t("/teams/users",{page:m,limit:C,search:e,sortBy:N,sortOrder:A});a(R.users||[]),w(R.totalPages||1),v(R.totalRecords||0)}catch(R){console.error("Failed to fetch users:",R),ve.error(R.message||"Failed to fetch users."),a([])}finally{h(!1)}},[m,e,N,A,r]);y.useEffect(()=>(I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{P()},300),()=>{I.current&&clearTimeout(I.current)}),[P,e]);const F=R=>{c(R),o(!0)},k=async()=>{if(l)try{await mi(`/teams/users/${l.id}`),ve.success("User deleted successfully."),P(),o(!1),c(null)}catch(R){console.error("Failed to delete user:",R),ve.error(R.message||"Failed to delete user."),o(!1)}},z=async R=>{try{await Oi(`/teams/users/${R.id}/status`,{}),ve.success(`User ${R.active?"deactivated":"activated"} successfully.`),P()}catch(B){console.error("Failed to change user status:",B),ve.error(B.message||"Failed to change user status.")}},O=R=>{N===R?E(A==="asc"?"desc":"asc"):(S(R),E("asc")),p(1)},M=({column:R})=>N!==R?s.jsx(E2,{className:"ml-2 h-4 w-4 opacity-50"}):A==="asc"?s.jsx(Y5,{className:"ml-2 h-4 w-4"}):s.jsx(G5,{className:"ml-2 h-4 w-4"});return s.jsxs(s.Fragment,{children:[d?s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((R,B)=>s.jsx(vr,{className:"h-12 w-full rounded-md"},B))}):n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:s.jsx(Hn,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e?"No Matching Users Found":"No Users Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:e?"Try adjusting your search criteria or add a new user.":"Get started by adding your first user."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{className:"min-w-full",children:[s.jsx(zs,{className:"bg-slate-50 dark:bg-slate-800",children:s.jsxs(hr,{children:[s.jsx($e,{onClick:()=>O("name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Name ",s.jsx(M,{column:"name"})]})}),s.jsx($e,{onClick:()=>O("email"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Email ",s.jsx(M,{column:"email"})]})}),s.jsx($e,{onClick:()=>O("mobile"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Phone ",s.jsx(M,{column:"mobile"})]})}),s.jsx($e,{onClick:()=>O("role"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Role ",s.jsx(M,{column:"role"})]})}),s.jsx($e,{onClick:()=>O("depot.name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Depot ",s.jsx(M,{column:"depot.name"})]})}),s.jsx($e,{onClick:()=>O("joiningDate"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Joining Date ",s.jsx(M,{column:"joiningDate"})]})}),s.jsx($e,{onClick:()=>O("active"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Status ",s.jsx(M,{column:"active"})]})}),s.jsx($e,{className:"px-4 py-3",children:"Actions"})]})}),s.jsx(Hs,{children:n.map(R=>{var B;return s.jsxs(hr,{className:"border-b hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[s.jsx(Oe,{className:"px-4 py-3 font-medium",children:R.name}),s.jsx(Oe,{className:"px-4 py-3",children:R.email}),s.jsx(Oe,{className:"px-4 py-3",children:R.mobile||"N/A"}),s.jsx(Oe,{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${R.role==="ADMIN"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:R.role})}),s.jsx(Oe,{className:"px-4 py-3",children:((B=R.depot)==null?void 0:B.name)||"N/A"}),s.jsx(Oe,{className:"px-4 py-3",children:new Date(R.joiningDate).toLocaleDateString()}),s.jsx(Oe,{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${R.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.active?"Active":"Inactive"})}),s.jsx(Oe,{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>t(R),children:s.jsx(yl,{className:"h-4 w-4"})}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>z(R),title:R.active?"Deactivate":"Activate",children:R.active?s.jsx(ic,{className:"h-4 w-4 text-red-500"}):s.jsx(Ol,{className:"h-4 w-4 text-green-500"})}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>F(R),children:s.jsx(Sa,{className:"h-4 w-4 text-red-500"})})]})})]},R.id)})})]})}),s.jsx(l4,{currentPage:m,totalPages:g,totalRecords:b,limit:C,onPageChange:p})]}),s.jsx(pi,{open:i,onOpenChange:o,children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Are you sure?"}),s.jsx(bi,{children:"This action cannot be undone. This will permanently delete the user."})]}),s.jsxs(yi,{children:[s.jsx(wi,{onClick:()=>o(!1),children:"Cancel"}),s.jsx(Ii,{onClick:k,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},LRe=({isOpen:e,onOpenChange:t,onFormSubmitSuccess:r,userToEdit:n})=>{var b;const[a,i]=y.useState([]),o=!!n,l=y.useMemo(()=>Vs.object({name:Vs.string().min(1,"Name is required"),email:Vs.string().email("Invalid email address"),password:o?Vs.string().min(8,"Password must be at least 8 characters").optional().or(Vs.literal("")):Vs.string().min(8,"Password is required and must be at least 8 characters"),mobile:Vs.string().optional().or(Vs.literal("")).refine(v=>!v||/^\d{10}$/.test(v),{message:"Phone number must be 10 digits"}),depotId:Vs.string().optional(),joiningDate:Vs.string().optional()}),[o]),{register:c,handleSubmit:d,reset:h,setValue:m,formState:{errors:p,isSubmitting:g}}=Ea({resolver:Ca(l),mode:"onChange"});y.useEffect(()=>{(async()=>{try{const N=await $t("/admin/depots/all-list");i(N||[])}catch(N){console.error("Failed to fetch depots",N),ve.error(N.message||"Failed to fetch depots")}})()},[]),y.useEffect(()=>{var v;h(n?{name:n.name,email:n.email,mobile:n.mobile||"",password:"",depotId:((v=n.depot)==null?void 0:v.id)||void 0,joiningDate:n.joiningDate?Wt(new Date(n.joiningDate),"yyyy-MM-dd"):""}:{name:"",email:"",mobile:"",password:"",depotId:void 0,joiningDate:Wt(new Date,"yyyy-MM-dd")})},[n,h,e]);const w=async v=>{try{const N={...v};o&&!N.password&&delete N.password,o?(await Oi(`/teams/users/${n==null?void 0:n.id}`,N),ve.success("User updated successfully!")):(await en("/teams/users",N),ve.success("User created successfully!")),r()}catch(N){console.error(N);const S=N.message||`Failed to ${o?"update":"create"} user.`;ve.error(S)}};return s.jsx(xn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"sm:max-w-[425px]",children:[s.jsxs(An,{children:[s.jsx(En,{children:o?"Edit User":"Create New User"}),s.jsx(Vo,{children:o?"Update the user's details below.":"Fill in the form to add a new team member."})]}),s.jsxs("form",{onSubmit:d(w),className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"name",children:"Name"}),s.jsx(gt,{id:"name",...c("name")}),p.name&&s.jsx("p",{className:"text-sm text-red-500",children:p.name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"email",children:"Email"}),s.jsx(gt,{id:"email",type:"email",...c("email")}),p.email&&s.jsx("p",{className:"text-sm text-red-500",children:p.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"mobile",children:"Phone (10-digits)"}),s.jsx(gt,{id:"mobile",...c("mobile")}),p.mobile&&s.jsx("p",{className:"text-sm text-red-500",children:p.mobile.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"password",children:"Password"}),s.jsx(gt,{id:"password",type:"password",...c("password"),placeholder:o?"Leave blank to keep unchanged":""}),p.password&&s.jsx("p",{className:"text-sm text-red-500",children:p.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"depotId",children:"Depot (Optional)"}),s.jsxs(pr,{onValueChange:v=>m("depotId",v==="admin-role"?void 0:v),defaultValue:(b=n==null?void 0:n.depot)==null?void 0:b.id,children:[s.jsx(xr,{id:"depotId",children:s.jsx(gr,{placeholder:"Assign as Admin"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"admin-role",children:"Assign as Admin"}),a.map(v=>s.jsx(wt,{value:v.id,children:v.name},v.id))]})]}),p.depotId&&s.jsx("p",{className:"text-sm text-red-500",children:p.depotId.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"joiningDate",children:"Joining Date"}),s.jsx(gt,{id:"joiningDate",type:"date",...c("joiningDate")}),p.joiningDate&&s.jsx("p",{className:"text-sm text-red-500",children:p.joiningDate.message})]}),s.jsxs(Il,{className:"pt-4",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:g,children:g?o?"Updating...":"Creating...":o?"Update User":"Create User"})]})]})]})})},MRe=()=>{const[e,t]=y.useState(!1),[r,n]=y.useState(null),[a,i]=y.useState(""),[o,l]=y.useState(0),c=(p=null)=>{n(p),t(!0)},d=()=>{t(!1),n(null)},h=()=>{d(),l(p=>p+1)},m=p=>c(p);return s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[s.jsxs(St,{className:"border-0 shadow-sm",children:[s.jsx(zt,{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx(dr,{className:"text-2xl font-semibold",children:"Team Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[s.jsx(Hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(gt,{placeholder:"Search users...",value:a,onChange:p=>i(p.target.value),className:"pl-10 w-full sm:w-64 md:w-80"})]}),s.jsxs(Ee,{onClick:()=>c(),className:"gap-2 whitespace-nowrap",children:[s.jsx(xa,{className:"h-4 w-4"})," Add User"]})]})]})}),s.jsx(_t,{className:"p-0",children:s.jsx(IRe,{searchTerm:a,onEditUser:m,refreshKey:o},o)})]}),e&&s.jsx(LRe,{isOpen:e,onOpenChange:t,onFormSubmitSuccess:h,userToEdit:r})]})},ZM="/api/admin/banners",FRe="https://snf.3.7.237.251.sslip.io",bK=["image/jpeg","image/jpg","image/png","image/webp"],BRe=In({caption:Ft().optional().default(""),description:Ft().optional().default(""),bannerImageFile:Mk(FileList).optional().refine(e=>{var t;return!e||e.length===0||((t=e==null?void 0:e[0])==null?void 0:t.size)<=5e6},"Max image size is 5MB.").refine(e=>{var t;return!e||e.length===0||bK.includes((t=e==null?void 0:e[0])==null?void 0:t.type)},"Only .jpg, .jpeg, .png and .webp formats are supported."),listOrder:R9(e=>typeof e=="string"?parseInt(e,10):e,dc().int("List order must be an integer.").min(0,"List order must be a positive number."))}),URe=({isOpen:e,onClose:t,onSubmitSuccess:r,initialData:n})=>{const a=Ja(),i=n?"edit":"create",{register:o,handleSubmit:l,formState:{errors:c,isSubmitting:d},reset:h}=Ea({resolver:Ca(BRe),defaultValues:n?{caption:n.caption||"",description:n.description||"",listOrder:n.listOrder,bannerImageFile:void 0}:{caption:"",description:"",listOrder:void 0,bannerImageFile:void 0}});y.useEffect(()=>{e&&h(n?{caption:n.caption||"",description:n.description||"",listOrder:n.listOrder,bannerImageFile:void 0}:{caption:"",description:"",listOrder:void 0,bannerImageFile:void 0})},[e,n,h]);const m=Ks({mutationFn:async g=>i==="edit"&&(n!=null&&n.id)?ile(`${ZM}/${n.id}`,g):ale(ZM,g),onSuccess:()=>{ve.success(`Banner ${i==="create"?"created":"updated"} successfully.`),a.invalidateQueries({queryKey:["banners"]}),r(),t()},onError:g=>{var v,N,S,A,E,C;const w=`Failed to ${i} banner.`,b=((N=(v=g==null?void 0:g.response)==null?void 0:v.data)==null?void 0:N.message)||((A=(S=g==null?void 0:g.response)==null?void 0:S.data)==null?void 0:A.error);if((C=(E=g==null?void 0:g.response)==null?void 0:E.data)!=null&&C.errors){let P=g.response.data.errors.map(F=>F.message).join(", ");ve.error(P||w)}else ve.error(b||g.message||w);console.error(`Failed to ${i} banner:`,g)}}),p=async g=>{if(i==="create"&&(!g.bannerImageFile||g.bannerImageFile.length===0)){ve.error("Banner image is required to create a new banner.");return}const w=new FormData;w.append("caption",g.caption||""),w.append("description",g.description||""),w.append("listOrder",g.listOrder.toString()),g.bannerImageFile&&g.bannerImageFile.length>0&&w.append("bannerImage",g.bannerImageFile[0]),m.mutate(w)};return s.jsx(xn,{open:e,onOpenChange:g=>!g&&t(),children:s.jsxs(yn,{className:"sm:max-w-[525px]",children:[s.jsxs(An,{children:[s.jsx(En,{children:i==="create"?"Add New Banner":"Edit Banner"}),s.jsx(Vo,{children:i==="create"?"Fill in the details for the new banner.":"Update the details for this banner."})]}),s.jsxs("form",{onSubmit:l(p),className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"listOrder",className:"mb-2",children:"List Order"}),s.jsx(gt,{id:"listOrder",type:"number",...o("listOrder")}),c.listOrder&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.listOrder.message})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2",htmlFor:"caption",children:"Caption (Optional)"}),s.jsx(gt,{id:"caption",...o("caption")}),c.caption&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.caption.message})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2",htmlFor:"description",children:"Description (Optional)"}),s.jsx(Sp,{id:"description",...o("description")}),c.description&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.description.message})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2",htmlFor:"bannerImageFile",children:"Banner Image"}),s.jsx(gt,{id:"bannerImageFile",type:"file",accept:bK.join(","),...o("bannerImageFile")}),c.bannerImageFile&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.bannerImageFile.message}),i==="edit"&&(n==null?void 0:n.imagePath)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Current image:"}),n.imagePath.startsWith("http")||n.imagePath.startsWith("/")?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:n.imagePath.startsWith("http")?n.imagePath:`${FRe}${n.imagePath}`,alt:n.caption||"Current banner image",className:"mt-1 h-20 w-auto object-contain border rounded shadow-sm",onError:g=>{const w=g.target;w.style.display="none";const b=w.nextElementSibling;b&&b.classList.remove("hidden")}}),s.jsx("p",{className:"text-xs text-red-500 hidden",children:"Unable to load image preview."})]}):s.jsx("p",{className:"text-xs font-medium",children:n.imagePath})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i==="create"?"Select an image file.":"Select a new image file to change the existing one."})]}),s.jsxs(Il,{children:[s.jsx(Pf,{asChild:!0,children:s.jsx(Ee,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"})}),s.jsxs(Ee,{type:"submit",disabled:d,children:[d&&s.jsx(Ws,{className:"mr-2 h-4 w-4 animate-spin"}),i==="create"?"Create Banner":"Save Changes"]})]})]})]})})},JM="/api/admin/banners",$Re="",VRe=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!1),[a,i]=y.useState(void 0),[o,l]=y.useState(!1),[c,d]=y.useState(null),[h,m]=y.useState(!0),[p,g]=y.useState(""),[w,b]=y.useState(1),[v,N]=y.useState(1),[S,A]=y.useState(0),[E,C]=y.useState("listOrder"),[I,P]=y.useState("asc"),F=10,k=y.useRef(null),z=y.useCallback(async()=>{m(!0);try{const Z=await $t(JM,{page:w,limit:F,search:p,sortBy:E,sortOrder:I});console.log("API Response Data in fetchBanners:",Z),t(Z.banners||[]),N(Z.totalPages||1),A(Z.totalRecords||0)}catch(V){console.error("Failed to fetch banners. Full error object:",V);let Z="Failed to fetch banners.";V&&V.message&&(Z=V.message),V&&V.response&&V.response.data&&V.response.data.message&&(Z=V.response.data.message),ve.error(Z),t([]),N(1),A(0)}finally{m(!1)}},[w,p,E,I]);y.useEffect(()=>(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{z()},300),()=>{k.current&&clearTimeout(k.current)}),[z,p]);const O=()=>{i(void 0),n(!0)},M=V=>{i(V),n(!0)},R=V=>{d(V),l(!0)},B=async()=>{if(c)try{await mi(`${JM}/${c.id}`),ve.success("Banner deleted successfully."),z(),l(!1),d(null)}catch(V){console.error("Failed to delete banner:",V),ve.error("Failed to delete banner."),l(!1)}},Y=()=>{z()},U=V=>{E===V?P(I==="asc"?"desc":"asc"):(C(V),P("asc")),b(1)},Q=({column:V})=>E!==V?s.jsx(E2,{className:"ml-2 h-4 w-4 opacity-50"}):I==="asc"?s.jsx(Y5,{className:"ml-2 h-4 w-4"}):s.jsx(G5,{className:"ml-2 h-4 w-4"});return s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[s.jsxs(St,{className:"border-0 shadow-sm",children:[s.jsx(zt,{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx(dr,{className:"text-2xl font-semibold",children:"Banner Management"}),s.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[s.jsx(Hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(gt,{placeholder:"Search banners...",value:p,onChange:V=>{g(V.target.value),b(1)},className:"pl-10 w-full sm:w-64 md:w-80"})]}),s.jsxs(Ee,{onClick:O,className:"gap-2 whitespace-nowrap",children:[s.jsx(xa,{className:"h-4 w-4"})," Add Banner"]})]})]})}),s.jsx(_t,{className:"p-0 sm:p-6",children:h?s.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((V,Z)=>s.jsx(vr,{className:"h-12 w-full rounded-md"},Z))}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:s.jsx(Wte,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:p?"No Matching Banners Found":"No Banners Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:p?"Try adjusting your search criteria or add a new banner.":"Get started by adding your first banner. Its quick and easy!"}),!p&&s.jsxs(Ee,{onClick:O,className:"gap-2",children:[s.jsx(xa,{className:"h-4 w-4"})," Add New Banner"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{className:"min-w-full",children:[s.jsx(zs,{className:"bg-slate-50 dark:bg-slate-800",children:s.jsxs(hr,{children:[s.jsx($e,{onClick:()=>U("listOrder"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Order ",s.jsx(Q,{column:"listOrder"})]})}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap",children:"Image"}),s.jsx($e,{onClick:()=>U("caption"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Caption ",s.jsx(Q,{column:"caption"})]})}),s.jsx($e,{className:"px-4 py-3 whitespace-nowrap",children:"Description"}),s.jsx($e,{onClick:()=>U("createdAt"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:["Created At ",s.jsx(Q,{column:"createdAt"})]})}),s.jsx($e,{className:"text-right px-4 py-3 whitespace-nowrap",children:"Actions"})]})}),s.jsx(Hs,{children:e.map(V=>s.jsxs(hr,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50",children:[s.jsx(Oe,{className:"px-4 py-3 font-medium",children:V.listOrder}),s.jsx(Oe,{className:"px-4 py-3",children:V.imagePath?s.jsx("img",{src:`${$Re}${V.imagePath}`,alt:V.caption||"Banner image",className:"h-10 w-16 object-cover rounded"}):s.jsx("span",{className:"text-xs text-muted-foreground",children:"No image"})}),s.jsx(Oe,{className:"px-4 py-3",children:V.caption||"-"}),s.jsx(Oe,{className:"px-4 py-3 truncate max-w-xs",children:V.description||"-"}),s.jsx(Oe,{className:"px-4 py-3",children:new Date(V.createdAt).toLocaleDateString()}),s.jsxs(Oe,{className:"text-right px-4 py-3",children:[s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>M(V),className:"hover:text-blue-600",children:s.jsx(yl,{className:"h-4 w-4"})}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>R(V),className:"hover:text-red-600",children:s.jsx(Sa,{className:"h-4 w-4"})})]})]},V.id))})]})}),v>1&&s.jsx(l4,{currentPage:w,totalPages:v,onPageChange:b,totalRecords:S,limit:F})]})})]}),r&&s.jsx(URe,{isOpen:r,onClose:()=>n(!1),onSubmitSuccess:Y,initialData:a}),o&&c&&s.jsx(pi,{open:o,onOpenChange:l,children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Are you sure?"}),s.jsxs(bi,{children:['This action cannot be undone. This will permanently delete the banner "',s.jsx("strong",{children:c.caption||"this banner"}),'".']})]}),s.jsxs(yi,{children:[s.jsx(wi,{onClick:()=>d(null),children:"Cancel"}),s.jsx(Ii,{onClick:B,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},qRe=e=>{const t=new Map;return e.forEach(r=>{t.has(r.id)||t.set(r.id,r)}),Array.from(t.values())},zRe=15e3;function HRe(){const[e,t]=y.useState(0),[r,n]=y.useState([]),[a,i]=y.useState(""),[o,l]=y.useState(!1),[c,d]=y.useState(""),[h,m]=y.useState(!0),[p,g]=y.useState(null),w=y.useRef(null),b=y.useRef(!1),v=C=>{if(!C.trim())return"Amount is required";const I=Number.parseFloat(C);return isNaN(I)?"Please enter a valid number":I<=0?"Amount must be greater than 0":I>1e4?"Maximum amount is 10,000":null},N=async C=>{if(C.preventDefault(),b.current)return;d("");const I=v(a);if(I){d(I);return}b.current=!0,l(!0);try{const P=Number.parseFloat(a);await en("/wallet/transactions",{amount:P}),i(""),E(),ve.success(`Top-up request for ${ws(P)} submitted. It will reflect in your balance after approval.`,{duration:7e3,icon:s.jsx(M0,{className:"h-4 w-4"})})}catch(P){const F=P instanceof Error?P.message:"An unexpected error occurred";d(F),ve.error(`Transaction Failed: ${F}`,{duration:5e3,icon:s.jsx(Tu,{className:"h-4 w-4"})})}finally{b.current=!1,l(!1)}},S=C=>{const I=C.target.value;i(I),c&&d("")},A=[25,50,100,250],E=async()=>{m(!0),g(null);try{const C=await $t("/wallet");if(C!=null&&C.data){const I=C.data;typeof I.balance=="number"&&t(I.balance),Array.isArray(I.transactions)?n(qRe(I.transactions)):n([])}}catch(C){g(C.message||"Failed to load wallet details."),n([])}finally{m(!1)}};return y.useEffect(()=>{E()},[]),y.useEffect(()=>(E(),w.current=setInterval(()=>{E()},zRe),()=>{w.current&&clearInterval(w.current)}),[]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-6",children:s.jsxs("div",{className:"mx-auto  space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(Dh,{className:"h-8 w-8 text-primary"}),s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Wallet"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your wallet balance and add funds securely"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(St,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-cyan-50"}),s.jsxs(zt,{className:"relative z-10",children:[s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(Ab,{className:"h-5 w-5 text-green-600"}),"Current Balance"]}),s.jsx(On,{children:"Available funds in your wallet"})]}),console.log(e),s.jsxs(_t,{className:"relative",children:[s.jsx("div",{className:"text-4xl font-bold text-green-600 mb-4",children:h?s.jsx("span",{className:"text-2xl",children:"Loading..."}):p?s.jsx("span",{className:"text-2xl text-destructive",children:"Error"}):ws(e)}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Eb,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Available for transactions"})]})]})]}),s.jsxs(St,{children:[s.jsxs(zt,{children:[s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(li,{className:"h-5 w-5"}),"Add Balance"]}),s.jsx(On,{children:"Add funds to your wallet instantly"})]}),s.jsx(_t,{children:s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"amount",children:"Amount to Add"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ab,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(gt,{id:"amount",type:"text",placeholder:"0.00",value:a,onChange:S,className:`pl-10 ${c?"border-destructive focus-visible:ring-destructive":""}`,disabled:o,"aria-describedby":c?"amount-error":void 0})]}),c&&s.jsxs(Ki,{variant:"destructive",id:"amount-error",children:[s.jsx(Tu,{className:"h-4 w-4"}),s.jsx(Qi,{children:c})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{className:"text-sm text-muted-foreground",children:"Quick Add"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:A.map(C=>s.jsxs(Ee,{type:"button",variant:"outline",size:"sm",onClick:()=>{i(C.toString()),d("")},disabled:o,className:"text-sm",children:["",C]},C))})]}),s.jsx(ES,{}),s.jsx(Ee,{type:"submit",className:"w-full",disabled:o||!a.trim(),size:"lg",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tk,{className:"mr-2 h-4 w-4"}),"Add Balance"]})})]})})]})]}),s.jsxs(St,{children:[s.jsxs(zt,{children:[s.jsx(dr,{children:"Recent Activity"}),s.jsx(On,{children:"Your latest wallet transactions"})]}),s.jsx(_t,{children:h?s.jsx("p",{children:"Loading transactions..."}):p?s.jsxs(Ki,{variant:"destructive",children:[s.jsx(Tu,{className:"h-4 w-4"}),s.jsx(Qi,{children:p})]}):r.length===0?s.jsx("p",{className:"text-muted-foreground text-center",children:"No recent activity to display."}):s.jsx("div",{className:"space-y-3",children:r.map(C=>{var R;const I=C.type==="CREDIT",P=((R=C.status)==null?void 0:R.toUpperCase())||"UNKNOWN";let F=s.jsx(M0,{className:"h-5 w-5 text-gray-500"}),k="bg-gray-100",z=I?"text-green-600":"text-red-600",O=C.description||(I?"Funds Added":"Funds Withdrawn");const M=P.charAt(0)+P.slice(1).toLowerCase();return P==="COMPLETED"||P==="PAID"?(F=s.jsx(M0,{className:`h-5 w-5 ${I?"text-green-600":"text-red-500"}`}),k=I?"bg-green-100":"bg-red-100"):P==="PENDING"?(F=s.jsx(G0,{className:"h-5 w-5 text-yellow-600"}),k="bg-yellow-100",z="text-yellow-700"):P==="FAILED"&&(F=s.jsx(ic,{className:"h-5 w-5 text-red-600"}),k="bg-red-100",z="text-red-700"),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${k}`,children:F}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:O}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(C.timestamp).toLocaleDateString()," ",new Date(C.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-semibold ${z}`,children:[I?"+":"-",ws(C.amount)]}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:M})]})]},C.id)})})})]})]})})}const WRe=()=>{const e=typeof window<"u"?localStorage.getItem("user"):null,t=e?JSON.parse(e):null,r=(t==null?void 0:t.role)==="DepotAdmin",[n,a]=y.useState(1),i=10,[o,l]=y.useState(""),[c,d]=y.useState(""),[h,m]=y.useState(),p=y.useRef(null),[g,w]=y.useState(null),b=y.useCallback(k=>{l(k.target.value)},[]);y.useEffect(()=>(p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>d(o),400),()=>{p.current&&window.clearTimeout(p.current)}),[o]);const{data:v,isLoading:N,isError:S,refetch:A}=cs({queryKey:["purchases",n,c,h],queryFn:async()=>{let k=`/purchases?page=${n}&limit=${i}`;return r&&(t!=null&&t.depotId)&&(k+=`&depotId=${t.depotId}`),c&&(k+=`&search=${c}`),h&&(k+=`&date=${Wt(h,"yyyy-MM-dd")}`),$t(k)}}),E=(v==null?void 0:v.data)||[],C=(v==null?void 0:v.totalPages)||1,I=()=>{l(""),d(""),m(void 0),a(1)},P=k=>k.reduce((z,O)=>z+(O.purchaseRate||0)*(O.quantity||0),0),F=async()=>{if(g)try{await mi(`/purchases/${g}`),ve.success("Purchase deleted"),A(),w(null)}catch(k){ve.error(k.message||"Failed to delete purchase")}};return N?s.jsx("div",{className:"p-10 text-center",children:"Loading purchases..."}):S?s.jsx("div",{className:"p-10 text-center",children:"Error loading purchases"}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(St,{className:"mb-6",children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(dr,{className:"text-2xl",children:"Purchase Management"}),s.jsx(Rs,{to:"/admin/purchases/create",children:s.jsxs(Ee,{children:[s.jsx(li,{className:"mr-2 size-4"})," New Purchase"]})})]}),s.jsxs(_t,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(gt,{placeholder:"Search by purchase no / Farmer",value:o,onChange:b}),s.jsxs(Wc,{children:[s.jsx(Gc,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",className:jt("w-full justify-start",!h&&"text-muted-foreground"),children:[s.jsx(Ma,{className:"mr-2 h-4 w-4"}),h?Wt(h,"dd/MM/yyyy"):"Pick a date"]})}),s.jsx(Yc,{className:"w-auto p-0",align:"start",children:s.jsx(Bu,{mode:"single",selected:h,onSelect:m})})]}),s.jsx(Ee,{variant:"outline",onClick:I,children:"Clear Filters"})]}),E.length===0?s.jsx("div",{className:"py-10 text-center",children:"No purchases found."}):s.jsxs(qs,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(zs,{className:"bg-gray-100",children:s.jsxs(hr,{children:[s.jsx($e,{className:"px-6 py-3",children:"Purchase No"}),s.jsx($e,{className:"px-6 py-3",children:"Farmer"}),s.jsx($e,{className:"px-6 py-3",children:"Purchase Date"}),s.jsx($e,{className:"px-6 py-3",children:"Invoice No"}),s.jsx($e,{className:"px-6 py-3",children:"Invoice Date"}),s.jsx($e,{className:"px-6 py-3 text-right",children:"Total Amount"}),s.jsx($e,{className:"px-6 py-3 text-right",children:"Paid Amount"}),s.jsx($e,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx(Hs,{className:"divide-y",children:E.map(k=>{var z;return s.jsxs(hr,{className:"hover:bg-gray-50",children:[s.jsx(Oe,{className:"px-6 py-4 font-medium",children:k.purchaseNo}),s.jsx(Oe,{className:"px-6 py-4",children:(z=k.vendor)==null?void 0:z.name}),s.jsx(Oe,{className:"px-6 py-4",children:Wt(new Date(k.purchaseDate),"dd/MM/yyyy")}),s.jsx(Oe,{className:"px-6 py-4",children:k.invoiceNo}),s.jsx(Oe,{className:"px-6 py-4",children:Wt(new Date(k.invoiceDate),"dd/MM/yyyy")}),s.jsx(Oe,{className:"px-6 py-4 text-right",children:ws(P(k.purchaseDetails))}),s.jsx(Oe,{className:"px-6 py-4 text-right",children:ws(k.paidAmt||0)}),s.jsxs(Oe,{className:"px-6 py-4 space-x-2",children:[s.jsx(Rs,{to:`/admin/purchases/edit/${k.id}`,children:s.jsx(Ee,{size:"icon",variant:"ghost",children:s.jsx(Ok,{className:"size-4"})})}),s.jsxs(pi,{children:[s.jsx(jg,{asChild:!0,children:s.jsx(Ee,{size:"icon",variant:"ghost",onClick:()=>w(k.id),children:s.jsx(Sa,{className:"size-4"})})}),s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Are you sure?"}),s.jsx(bi,{children:"This action cannot be undone. This will permanently delete the purchase and remove its data from our servers."})]}),s.jsxs(yi,{children:[s.jsx(wi,{onClick:()=>w(null),children:"Cancel"}),s.jsx(Ii,{onClick:F,children:"Continue"})]})]})]})]})]},k.id)})})]}),C>1&&s.jsx(Sg,{className:"mt-6",children:s.jsxs(Ag,{children:[s.jsx(Eg,{onClick:()=>a(k=>Math.max(1,k-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",n," of ",C]}),s.jsx(Cg,{onClick:()=>a(k=>Math.min(C,k+1))})]})})]})]})})},GRe=In({purchaseNo:Ft().optional(),purchaseDate:Uf(),invoiceNo:Ft().min(1,"Invoice number is required"),invoiceDate:Uf(),vendorId:Ft().min(1,"Vendor is required"),depotId:Ft().min(1,"Depot is required"),notes:Ft().optional(),purchaseDetails:fg(In({productId:Ft().min(1,"Product is required"),variantId:Ft().min(1,"Variant is required"),quantity:dc().min(1,"Quantity must be at least 1"),purchaseRate:dc().min(0,"Rate must not be negative")})).min(1,"Add at least one line item")});function p3(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function eF(e){return!!e&&!isNaN(e.getTime())}function tF({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=y.useState(!1),[l,c]=y.useState(e),[d,h]=y.useState(p3(e)),[m,p]=y.useState();return y.useEffect(()=>{h(p3(e)),eF(e)&&c(e)},[e]),y.useEffect(()=>{(async()=>{const w=await $t("/vendors");p(w.data)})()},[]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Be,{htmlFor:n,children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(gt,{id:n,value:d,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:g=>{const w=g.target.value;h(w);const b=new Date(w);eF(b)?(t(b),c(b)):t(void 0)}}),s.jsxs(Wc,{open:i,onOpenChange:o,children:[s.jsx(Gc,{asChild:!0,children:s.jsx(Ee,{variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 size-6",type:"button",children:s.jsx(Ma,{className:"size-3.5"})})}),s.jsx(Yc,{className:"p-0",children:s.jsx(Bu,{mode:"single",selected:e,month:l,captionLayout:"dropdown",onMonthChange:c,fromDate:a,onSelect:g=>{t(g),h(p3(g)),o(!1)}})})]})]})]})}const wK=({mode:e,purchaseId:t,initialData:r,onSuccess:n})=>{var Q;const a=Ls(),i=Ja(),o=typeof window<"u"?localStorage.getItem("user"):null,l=o?JSON.parse(o):null;console.log("PurchaseForm initial data",r);const{register:c,control:d,handleSubmit:h,setValue:m,watch:p,formState:{errors:g}}=Ea({resolver:Ca(GRe),defaultValues:{purchaseNo:e==="edit"?r==null?void 0:r.purchaseNo:"",purchaseDate:e==="edit"&&(r!=null&&r.purchaseDate)?new Date(r.purchaseDate):new Date,invoiceNo:(r==null?void 0:r.invoiceNo)||"",invoiceDate:e==="edit"&&(r!=null&&r.invoiceDate)?new Date(r.invoiceDate):new Date,vendorId:r!=null&&r.vendorId?String(r.vendorId):"",depotId:e==="edit"&&(r!=null&&r.depotId)?String(r.depotId):l!=null&&l.depotId?String(l.depotId):"",notes:(r==null?void 0:r.notes)||"",purchaseDetails:e==="edit"&&((Q=r==null?void 0:r.purchaseDetails)!=null&&Q.length)?r.purchaseDetails.map(V=>({productId:String(V.productId),variantId:String(V.variantId),quantity:V.quantity,purchaseRate:V.purchaseRate})):[{productId:"",variantId:"",quantity:1,purchaseRate:0}]}}),[w,b]=y.useState([]),[v,N]=y.useState([]),[S,A]=y.useState([]),[E,C]=y.useState([]);y.useEffect(()=>{p("depotId")||(l!=null&&l.depotId?m("depotId",String(l.depotId)):E.length&&m("depotId",String(E[0].id)))},[E,l==null?void 0:l.depotId]);const[I,P]=y.useState(null);y.useEffect(()=>{(async()=>{try{const V=await $t("/products");b((V==null?void 0:V.data)||V||[]);const Z=await $t("/vendors?limit=1000");A((Z==null?void 0:Z.data)||Z||[]);const J=await $t("/depots");C((J==null?void 0:J.data)||J||[])}catch{ve.error("Failed to fetch reference data")}})()},[]);const F=p("depotId"),k=(l==null?void 0:l.depotId)??F;y.useEffect(()=>{if(!k){N([]);return}(async()=>{try{const V=await $t(`/depot-product-variants?depotId=${k}&limit=1000`);N((V==null?void 0:V.data)||V||[])}catch{ve.error("Failed to fetch depot variants")}})()},[k,l==null?void 0:l.depotId]);const{fields:z,append:O,remove:M}=K2({control:d,name:"purchaseDetails"}),R=p("purchaseDetails"),B=R.reduce((V,Z)=>V+(Z.purchaseRate||0)*(Z.quantity||0),0),Y=Ks({mutationFn:async V=>e==="edit"&&t?Aa(`/purchases/${t}`,V):en("/purchases",V),onSuccess:()=>{ve.success("Purchase saved"),i.invalidateQueries({queryKey:["purchases"]}),a("/admin/purchases"),n==null||n()},onError:V=>ve.error(V.message||"Error saving purchase")}),U=V=>{(l==null?void 0:l.role)==="DepotAdmin"&&(V.depotId=String(l==null?void 0:l.depotId)),Y.mutate(V)};return s.jsxs("form",{onSubmit:h(U),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{children:"Purchase Details"})}),s.jsxs(_t,{className:"space-y-4",children:[e==="edit"&&s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2",children:"Purchase No"}),s.jsx(gt,{disabled:!0,...c("purchaseNo")})]}),s.jsx(Fs,{control:d,name:"purchaseDate",render:({field:V})=>s.jsx(tF,{id:"purchaseDate",label:"Purchase Date",value:V.value,onChange:V.onChange})}),s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2",children:"Invoice No"}),s.jsx(gt,{...c("invoiceNo")}),g.invoiceNo&&s.jsx("p",{className:"text-xs text-red-600",children:g.invoiceNo.message})]}),s.jsx(Fs,{control:d,name:"invoiceDate",render:({field:V})=>s.jsx(tF,{id:"invoiceDate",label:"Invoice Date",value:V.value,onChange:V.onChange})}),s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2",children:"Notes"}),s.jsx(Sp,{rows:3,...c("notes")})]})]})]}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{children:"Farmer & Depot"})}),s.jsxs(_t,{className:"space-y-4",children:[s.jsx(Fs,{control:d,name:"vendorId",render:({field:V})=>s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2",children:"Farmer"}),s.jsxs(pr,{value:V.value,onValueChange:V.onChange,children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select Farmer"})}),s.jsx(yr,{children:S.map(Z=>s.jsx(wt,{value:String(Z.id),children:Z.name},Z.id))})]}),g.vendorId&&s.jsx("p",{className:"text-xs text-red-600",children:g.vendorId.message})]})}),s.jsx(Fs,{control:d,name:"depotId",render:({field:V})=>s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2 block w-full",htmlFor:"depotId",children:"Depot"}),s.jsxs(pr,{value:V.value,onValueChange:V.onChange,disabled:(l==null?void 0:l.role)==="DepotAdmin",children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select depot"})}),s.jsx(yr,{children:E.map(Z=>s.jsx(wt,{value:String(Z.id),children:Z.name},Z.id))})]}),g.depotId&&s.jsx("p",{className:"text-xs text-red-600",children:g.depotId.message})]})})]})]})]}),s.jsxs(St,{children:[s.jsxs(zt,{className:"flex-row items-center justify-between",children:[s.jsx(dr,{children:"Items"}),s.jsxs(Ee,{type:"button",size:"sm",onClick:()=>O({productId:"",variantId:"",quantity:1,purchaseRate:0}),children:[s.jsx(li,{className:"mr-2 size-4"})," Add Item"]})]}),s.jsxs(_t,{children:[s.jsx("div",{className:"space-y-4",children:z.map((V,Z)=>{var H,K,W;const J=(H=R[Z])==null?void 0:H.productId,ae=v.filter(re=>String(re.productId)===J),D=(((K=R[Z])==null?void 0:K.purchaseRate)||0)*(((W=R[Z])==null?void 0:W.quantity)||0);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 border rounded-md items-end",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(Be,{className:"mb-2",children:"Product"}),s.jsx(Fs,{control:d,name:`purchaseDetails.${Z}.productId`,render:({field:re})=>s.jsxs(pr,{value:re.value,onValueChange:re.onChange,children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select Product"})}),s.jsx(yr,{children:w.map(te=>s.jsx(wt,{value:String(te.id),children:te.name},te.id))})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(Be,{className:"mb-2",children:"Variant"}),s.jsx(Fs,{control:d,name:`purchaseDetails.${Z}.variantId`,render:({field:re})=>s.jsxs(pr,{value:re.value,onValueChange:te=>{re.onChange(te);const ie=ae.find(se=>String(se.id)===te);ie&&ie.purchasePrice!=null&&m(`purchaseDetails.${Z}.purchaseRate`,Number(ie.purchasePrice))},children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select Variant"})}),s.jsx(yr,{children:ae.map(te=>s.jsx(wt,{value:String(te.id),children:te.name},te.id))})]})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Be,{className:"mb-2",children:"Quantity"}),s.jsx(gt,{type:"number",...c(`purchaseDetails.${Z}.quantity`,{valueAsNumber:!0})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Be,{className:"mb-2",children:"Rate"}),s.jsx(gt,{type:"number",step:"0.01",...c(`purchaseDetails.${Z}.purchaseRate`,{valueAsNumber:!0})})]}),s.jsxs("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx(Be,{className:"mb-2",children:"Total"}),s.jsx("p",{className:"font-medium h-10 flex items-center",children:ws(D)})]}),s.jsxs(pi,{children:[s.jsx(jg,{asChild:!0,children:s.jsx(Ee,{type:"button",size:"icon",variant:"ghost",children:s.jsx(Sa,{className:"size-4 text-red-500"})})}),s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Remove item?"}),s.jsx(bi,{children:"This will remove the selected line item from the purchase."})]}),s.jsxs(yi,{children:[s.jsx(wi,{children:"Cancel"}),s.jsx(Ii,{onClick:()=>M(Z),children:"Continue"})]})]})]})]})]},V.id)})}),g.purchaseDetails&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in g.purchaseDetails?g.purchaseDetails.message:null}),s.jsxs("div",{className:"text-right font-semibold mt-4",children:["Grand Total: ",ws(B)]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(Ee,{type:"submit",disabled:Y.isPending,children:"Save Purchase"})})]})};function YRe(){return s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{}),s.jsx(_t,{children:s.jsx(wK,{mode:"create"})})]})})}function KRe(){const{id:e}=Ji(),{data:t,isLoading:r,isError:n}=cs({queryKey:["purchase",e],queryFn:()=>$t(`/purchases/${e}`),enabled:!!e});return r?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx(Ws,{className:"animate-spin"})}):n||!t?(ve.error("Failed to load purchase"),null):s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{}),s.jsx(_t,{children:s.jsx(wK,{mode:"edit",purchaseId:e,initialData:t})})]})})}const QRe=e=>en("/api/admin/purchase-payments",e).then(t=>t.data),h4=e=>$t("/api/admin/purchase-payments",{params:e}).then(t=>t),XRe=e=>$t(`/api/admin/purchase-payments/${e}`).then(t=>t),ZRe=e=>mi(`/api/admin/purchase-payments/${e}`).then(t=>t.data),NK=(e,t={})=>$t(`/api/admin/vendors/${e}/purchases`,{params:t}).then(r=>r),JRe=()=>{const[e,t]=y.useState(1),r=10,[n,a]=y.useState(""),[i,o]=y.useState(""),l=y.useRef(null),[c,d]=y.useState(null),h=y.useCallback(S=>{o(S.target.value)},[]);l.current&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>a(i),400);const{data:m,isLoading:p,isError:g,refetch:w}=cs({queryKey:["purchase-payments",e,n],queryFn:()=>h4({page:e,limit:r,search:n}),placeholderData:{payments:[],totalPages:1}}),b=m.payments||[];console.log("Payment is here",b);const v=(m==null?void 0:m.totalPages)||1,N=async()=>{if(c)try{await ZRe(c),ve.success("Payment deleted"),w(),d(null)}catch(S){ve.error(S.message||"Failed to delete payment")}};return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(St,{className:"mb-6",children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(dr,{className:"text-2xl",children:"Purchase Payments"}),s.jsx(Rs,{to:"/admin/purchase-payments/create",children:s.jsxs(Ee,{children:[s.jsx(li,{className:"mr-2 size-4"})," New Payment"]})})]}),s.jsxs(_t,{children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx(gt,{value:i,onChange:h,placeholder:"Search by farmer/mode...",className:"max-w-sm"})}),p&&s.jsx("div",{className:"p-10 text-center",children:"Loading..."}),g&&s.jsx("div",{className:"p-10 text-center",children:"Error loading payments"}),!p&&!g&&s.jsxs(qs,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(zs,{className:"bg-gray-100",children:s.jsxs(hr,{children:[s.jsx($e,{className:"px-6 py-3",children:"Payment No"}),s.jsx($e,{className:"px-6 py-3",children:"Date"}),s.jsx($e,{className:"px-6 py-3",children:"Farmer"}),s.jsx($e,{className:"px-6 py-3",children:"Mode"}),s.jsx($e,{className:"px-6 py-3 text-right",children:"Total"}),s.jsx($e,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx(Hs,{className:"divide-y",children:b&&(b==null?void 0:b.map(S=>{var A;return s.jsxs(hr,{className:"hover:bg-gray-50",children:[s.jsx(Oe,{className:"px-6 py-4",children:S.paymentno}),s.jsx(Oe,{className:"px-6 py-4",children:Wt(new Date(S.paymentDate),"dd/MM/yyyy")}),s.jsx(Oe,{className:"px-6 py-4",children:(A=S.vendor)==null?void 0:A.name}),s.jsx(Oe,{className:"px-6 py-4",children:S.mode}),s.jsx(Oe,{className:"px-6 py-4 text-right",children:ws(S.totalAmount)}),s.jsxs(Oe,{className:"px-6 py-4",children:[s.jsx(Rs,{to:`/admin/purchase-payments/${S.id}`,children:s.jsx(Ee,{variant:"ghost",size:"icon",children:s.jsx(kf,{className:"h-4 w-4"})})}),s.jsxs(pi,{children:[s.jsx(jg,{asChild:!0,children:s.jsx(Ee,{size:"icon",variant:"ghost",onClick:()=>d(S.id),children:s.jsx(Sa,{className:"size-4"})})}),s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Delete Payment?"}),s.jsx(bi,{children:"This will permanently delete the payment."})]}),s.jsxs(yi,{children:[s.jsx(wi,{onClick:()=>d(null),children:"Cancel"}),s.jsx(Ii,{onClick:N,children:"Delete"})]})]})]})]})]},S.id)}))})]}),v>1&&s.jsx(Sg,{className:"mt-6",children:s.jsxs(Ag,{children:[s.jsx(Eg,{onClick:()=>t(S=>Math.max(1,S-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",v]}),s.jsx(Cg,{onClick:()=>t(S=>Math.min(v,S+1))})]})})]})]})})},eIe=In({paymentDate:Uf({required_error:"Payment date required"}),vendorId:Ft().min(1,"Vendor is required"),mode:Ft().min(1,"Payment mode is required"),referenceNo:Ft().min(1,"Reference no is required"),notes:Ft().optional(),details:fg(In({purchaseId:dc(),amount:dc().nonnegative()})).nonempty("Enter at least one purchase payment")}),tIe=["CASH","NEFT","CHEQUE","UPI"],rIe=({onSuccess:e})=>{const t=Ls(),{register:r,handleSubmit:n,setValue:a,watch:i,control:o,formState:{errors:l,isSubmitting:c}}=Ea({resolver:Ca(eIe),defaultValues:{paymentDate:new Date,vendorId:"",mode:"",referenceNo:"",notes:"",details:[]}}),[d,h]=y.useState([]),[m,p]=y.useState([]),g=i("vendorId");y.useEffect(()=>{(async()=>{try{const E=await $t("/vendors"),C=Array.isArray(E==null?void 0:E.data)?E.data:Array.isArray(E)?E:[];console.log("list",C,E),h(C)}catch(E){ve.error(E.message||"Failed to load vendors")}})()},[]);const w=i("paymentDate");y.useEffect(()=>{if(!g)return;(async()=>{try{const E=Wt(w,"yyyy-MM-dd"),I=await NK(parseInt(g),{startDate:E,endDate:E})||[];p(I),console.log("purchases",I),a("details",I.map(P=>({purchaseId:P.id,amount:P.outstanding??0})))}catch(E){ve.error(E.message||"Failed to load purchases")}})()},[g,w,a]);const b=i("details"),v=y.useMemo(()=>b==null?void 0:b.reduce((A,E)=>A+(E.amount||0),0),[b]),N=async A=>{if(v<=0){ve.error("Enter at least one payment amount");return}for(const E of A.details){const C=m.find(I=>I.id===E.purchaseId);if(C&&E.amount>(C.outstanding??0)){ve.error(`Amount for purchase ${C.purchaseNo} exceeds outstanding balance`);return}}try{const E={paymentDate:Wt(A.paymentDate,"yyyy-MM-dd"),vendorId:parseInt(A.vendorId),mode:A.mode,referenceNo:A.referenceNo||void 0,notes:A.notes||void 0,totalAmount:v,details:A.details.filter(C=>C.amount>0)};await QRe(E),ve.success("Payment recorded"),e==null||e(),t("/admin/purchase-payments")}catch(E){ve.error(E.message||"Failed to create payment")}},S=(A,E)=>{var F;const C=((F=m[A])==null?void 0:F.outstanding)??0;let I=E;E>C&&(ve.warning("Amount exceeds outstanding balance"),I=C);const P=[...b];P[A].amount=isNaN(I)?0:I,a("details",P)};return s.jsxs("form",{onSubmit:n(N),className:"space-y-6 max-w-7xl m-auto mt-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6 max-w-7xl",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Details"}),s.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[s.jsx(Fs,{control:o,name:"paymentDate",render:({field:A})=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Payment Date"}),s.jsxs(Wc,{children:[s.jsx(Gc,{asChild:!0,children:s.jsxs(Ee,{type:"button",variant:"outline",className:"w-full justify-start",children:[s.jsx(Ma,{className:"mr-2 h-4 w-4"}),Wt(A.value??new Date,"dd/MM/yyyy")]})}),s.jsx(Yc,{className:"p-0",align:"start",children:s.jsx(Bu,{mode:"single",selected:A.value,onSelect:E=>A.onChange(E),initialFocus:!0})})]}),l.paymentDate&&s.jsx("p",{className:"text-xs text-red-500",children:l.paymentDate.message})]})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Farmer"}),s.jsxs(pr,{value:g,onValueChange:A=>a("vendorId",A),children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"Select farmer"})}),s.jsx(yr,{children:d.map(A=>s.jsx(wt,{value:A.id.toString(),children:A.name},A.id))})]}),l.vendorId&&s.jsx("p",{className:"text-xs text-red-500",children:l.vendorId.message})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Purchases"}),m.length>0?s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left",children:"Purchase No"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Invoice No"}),s.jsx("th",{className:"px-4 py-2 text-center",children:"Purchase Date"}),s.jsx("th",{className:"px-4 py-2 text-center",children:"Invoice Date"}),s.jsx("th",{className:"px-4 py-2 text-right",children:"Amount"}),s.jsx("th",{className:"px-4 py-2 text-right",children:"Pay Amount"})]})}),s.jsx("tbody",{children:m.map((A,E)=>{var C;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2",children:A.purchaseNo}),s.jsx("td",{className:"px-4 py-2",children:A.invoiceNo}),s.jsx("td",{className:"px-4 py-2 text-center",children:Wt(new Date(A.purchaseDate),"dd/MM/yyyy")}),s.jsx("td",{className:"px-4 py-2 text-center",children:Wt(new Date(A.invoiceDate),"dd/MM/yyyy")}),s.jsx("td",{className:"px-4 py-2 text-right",children:(A.totalAmount??0).toFixed(2)}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("div",{className:"flex justify-end",children:s.jsx(gt,{type:"number",step:"0.01",value:((C=b[E])==null?void 0:C.amount)||0,onChange:I=>S(E,parseFloat(I.target.value)),className:"w-32 text-right px-2 py-1 border rounded"})})})]},A.id)})})]})}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No purchases found"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Summary"}),s.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Mode"}),s.jsxs(pr,{value:i("mode"),onValueChange:A=>a("mode",A),children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select mode"})}),s.jsx(yr,{children:tIe.map(A=>s.jsx(wt,{value:A,children:A},A))})]}),l.mode&&s.jsx("p",{className:"text-xs text-red-500",children:l.mode.message})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Reference No"}),s.jsx(gt,{...r("referenceNo")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium",children:"Notes"}),s.jsx(gt,{...r("notes")})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>t(-1),disabled:c,children:"Cancel"}),s.jsxs(Ee,{type:"submit",disabled:c,className:"gap-2",children:[c?s.jsx(Ws,{className:"h-4 w-4 animate-spin"}):s.jsx(xa,{className:"h-4 w-4"}),c?"Saving...":"Save Payment"]})]})]})},sIe=()=>{var m;const{id:e}=Ji(),{data:t,isLoading:r,isError:n}=cs({queryKey:["purchase-payment",e],queryFn:()=>XRe(Number(e)),enabled:!!e}),a=t==null?void 0:t.vendor.id,{data:i=[],isLoading:o}=cs({queryKey:["vendor-payments",a],enabled:!!a,queryFn:async()=>{const p=await $t("/api/admin/purchase-payments",{vendorId:a,limit:1e3});return Array.isArray(p)?p:(p==null?void 0:p.payments)||[]}}),{data:l=[],isLoading:c}=cs({queryKey:["vendor-purchases",a],enabled:!!a,queryFn:()=>NK(a)});(()=>{if(!a||o||c)return null;const p=i.reduce((b,v)=>b+parseFloat(v.totalAmount||"0"),0),g=i.reduce((b,v)=>{const N=new Date(v.paymentDate);return!b||N>b?N:b},null),w=l.reduce((b,v)=>{let N=0;v.totalAmt?N=parseFloat(v.totalAmt):Array.isArray(v.details)&&(N=v.details.reduce((A,E)=>A+parseFloat(E.purchaseRate||E.rate||"0")*(E.quantity||1),0));const S=parseFloat(v.paidAmt||"0");return b+Math.max(N-S,0)},0);return{totalPaid:p,lastPaymentDate:g,outstanding:w}})();const d=p=>p?p.totalAmt?parseFloat(p.totalAmt):Array.isArray(p.details)?p.details.reduce((g,w)=>g+parseFloat(w.purchaseRate||w.rate||"0")*(w.quantity||1),0):0:0;if(r)return s.jsx(nIe,{});if(n||!t)return s.jsx("div",{className:"container mx-auto p-6 text-destructive",children:"Error fetching payment details or payment not found."});const h=(()=>{if(Array.isArray(t.details)&&t.details.length>0){const p=t.details.reduce((g,w)=>{const b=w.purchase;return b&&b.paidAmt!==void 0&&b.paidAmt!==null?g+Number(b.paidAmt):g},0);if(p>0)return p}return parseFloat(t.totalAmount??"0")})();return s.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Payment Details"})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsxs(St,{className:"lg:col-span-2",children:[s.jsx(zt,{className:"bg-muted/50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(Dh,{className:"h-6 w-6 text-primary"}),t.paymentno]}),s.jsx(On,{className:"mt-2",children:"Payment Information"})]}),s.jsx(Gr,{className:"text-sm px-3 py-1",children:t.mode})]})}),s.jsxs(_t,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(K5,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),s.jsx("p",{className:"font-medium",children:t.vendor.name})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(aC,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment Date"}),s.jsx("p",{className:"font-medium",children:Wt(new Date(t.paymentDate),"dd/MM/yyyy")})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(rre,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsx("p",{className:"font-medium text-xl",children:ws(h)})]})]}),t.referenceNo&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(Tk,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reference No"}),s.jsx("p",{className:"font-medium",children:t.referenceNo})]})]})]})]}),t.notes&&s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(w9,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Notes"}),s.jsx("p",{className:"text-sm bg-muted/30 rounded-lg p-4",children:t.notes})]})]})})]})]})}),s.jsxs(St,{className:"mt-6",children:[s.jsxs(zt,{children:[s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(ia,{className:"h-5 w-5"}),"Invoices"]}),s.jsx(On,{children:"Applied to purchase invoices"})]}),s.jsx(_t,{children:s.jsxs(qs,{children:[s.jsx(zs,{className:"bg-muted/50",children:s.jsxs(hr,{children:[s.jsx($e,{children:"Invoice No"}),s.jsx($e,{children:"Invoice Date"}),s.jsx($e,{children:"Purchase No"}),s.jsx($e,{className:"text-right",children:"Invoice Amount"}),s.jsx($e,{className:"text-right",children:"Amount Paid"})]})}),s.jsx(Hs,{children:(m=t==null?void 0:t.details)==null?void 0:m.map(p=>{const g=l.find(v=>v.id===p.purchase.id),w=d(g||p.purchase),b=parseFloat(p.amount??"0");return s.jsxs(hr,{className:"hover:bg-muted/30",children:[s.jsx(Oe,{className:"font-medium",children:p.purchase.invoiceNo||p.purchase.purchaseNo}),s.jsx(Oe,{children:Wt(new Date(p.purchase.invoiceDate||p.purchase.purchaseDate),"dd/MM/yyyy")}),s.jsx(Oe,{children:p.purchase.purchaseNo}),s.jsx(Oe,{className:"text-right",children:ws(w)}),s.jsx(Oe,{className:"text-right font-medium",children:ws(b)})]},p.id)})}),s.jsx(hpe,{className:"bg-muted/30",children:s.jsxs(hr,{className:"w-full justify-center",children:[s.jsx(Oe,{colSpan:3,className:"text-center font-medium",children:"Total"}),s.jsx(Oe,{className:"text-center font-bold",children:ws(parseFloat(t.totalAmount??"0"))}),s.jsx(Oe,{})]})})]})})]})]})},nIe=()=>s.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx(vr,{className:"h-8 w-64"}),s.jsx(vr,{className:"h-6 w-32"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(St,{className:"lg:col-span-2",children:[s.jsxs(zt,{className:"bg-muted/50",children:[s.jsx(vr,{className:"h-6 w-3/4"}),s.jsx(vr,{className:"h-4 w-1/2 mt-2"})]}),s.jsx(_t,{className:"pt-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(4)].map((e,t)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(vr,{className:"h-4 w-1/3"}),s.jsx(vr,{className:"h-6 w-full"})]},t))})})]}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(vr,{className:"h-6 w-2/3"})}),s.jsx(_t,{children:[...Array(3)].map((e,t)=>s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx(vr,{className:"h-4 w-1/2"}),s.jsx(vr,{className:"h-5 w-3/4"})]},t))})]})]}),s.jsxs(St,{className:"mt-6",children:[s.jsxs(zt,{children:[s.jsx(vr,{className:"h-6 w-1/4"}),s.jsx(vr,{className:"h-4 w-1/3 mt-2"})]}),s.jsx(_t,{children:s.jsx(vr,{className:"h-64 w-full"})})]})]}),aIe=()=>{const[e,t]=y.useState(1),r=10,[n,a]=y.useState(""),[i,o]=y.useState(""),l=y.useRef(null),[c,d]=y.useState(null),h=y.useCallback(E=>{a(E.target.value)},[]);y.useEffect(()=>(l.current&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>o(n),400),()=>{l.current&&window.clearTimeout(l.current)}),[n]);const{data:m,isLoading:p,isError:g,refetch:w}=cs({queryKey:["transfers",e,i],queryFn:async()=>{let E=`/transfers?page=${e}&pageSize=${r}`;return i&&(E+=`&searchTerm=${i}`),$t(E)}}),b=(m==null?void 0:m.data)||[],v=(m==null?void 0:m.totalPages)||1,N=()=>{a(""),o(""),t(1)},S=E=>E.reduce((C,I)=>C+(I.quantity||0),0),A=async()=>{if(c)try{await mi(`/transfers/${c}`),ve.success("Transfer deleted successfully"),w(),d(null)}catch(E){ve.error(E.message||"Failed to delete transfer")}};return p?s.jsx("div",{className:"p-10 text-center",children:"Loading transfers..."}):g?s.jsx("div",{className:"p-10 text-center",children:"Error loading transfers"}):s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(St,{className:"mb-6",children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsx(dr,{className:"text-2xl",children:"Transfer Management"}),s.jsx(Rs,{to:"/admin/transfers/create",children:s.jsxs(Ee,{children:[s.jsx(li,{className:"mr-2 size-4"})," New Transfer"]})})]}),s.jsxs(_t,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsx(gt,{placeholder:"Search by TFR no, from/to depot...",value:n,onChange:h}),s.jsx(Ee,{onClick:N,variant:"outline",children:"Clear Filters"})]}),b.length===0?s.jsx("div",{className:"py-10 text-center",children:"No transfers found."}):s.jsxs(qs,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[s.jsx(zs,{className:"bg-gray-100",children:s.jsxs(hr,{children:[s.jsx($e,{className:"px-6 py-3",children:"Transfer No"}),s.jsx($e,{className:"px-6 py-3",children:"Date"}),s.jsx($e,{className:"px-6 py-3",children:"From Depot"}),s.jsx($e,{className:"px-6 py-3",children:"To Depot"}),s.jsx($e,{className:"px-6 py-3 text-right",children:"Total Qty"}),s.jsx($e,{className:"px-6 py-3",children:"Actions"})]})}),s.jsx(Hs,{className:"divide-y",children:b.map(E=>s.jsxs(hr,{className:"hover:bg-gray-50",children:[s.jsx(Oe,{className:"px-6 py-4 font-medium",children:E.transferNo}),s.jsx(Oe,{className:"px-6 py-4",children:Wt(new Date(E.transferDate),"dd/MM/yyyy")}),s.jsx(Oe,{className:"px-6 py-4",children:E.fromDepot.name}),s.jsx(Oe,{className:"px-6 py-4",children:E.toDepot.name}),s.jsx(Oe,{className:"px-6 py-4 text-right",children:S(E.details)}),s.jsxs(Oe,{className:"px-6 py-4 space-x-2",children:[s.jsx(Rs,{to:`/admin/transfers/edit/${E.id}`,children:s.jsx(Ee,{size:"icon",variant:"ghost",children:s.jsx(Ok,{className:"size-4"})})}),s.jsxs(pi,{children:[s.jsx(jg,{asChild:!0,children:s.jsx(Ee,{size:"icon",variant:"ghost",onClick:()=>d(E.id),children:s.jsx(Sa,{className:"size-4"})})}),s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Are you sure?"}),s.jsx(bi,{children:"This action cannot be undone. This will permanently delete the transfer and remove its data from our servers."})]}),s.jsxs(yi,{children:[s.jsx(wi,{onClick:()=>d(null),children:"Cancel"}),s.jsx(Ii,{onClick:A,children:"Continue"})]})]})]})]})]},E.id))})]}),v>1&&s.jsx(Sg,{className:"mt-6",children:s.jsxs(Ag,{children:[s.jsx(Eg,{onClick:()=>t(E=>Math.max(1,E-1))}),s.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",v]}),s.jsx(Cg,{onClick:()=>t(E=>Math.min(v,E+1))})]})})]})]})})},jK=e=>In({transferDate:Uf(),fromDepotId:e?Ft().optional():Ft().min(1,"Origin depot is required"),toDepotId:Ft().min(1,"Destination depot is required"),notes:Ft().optional(),details:fg(In({fromDepotVariantId:Ft().min(1,"Source variant is required"),toDepotVariantId:Ft().min(1,"Destination variant is required"),quantity:dc().min(1,"Quantity must be at least 1")})).min(1,"Add at least one line item")}).refine(t=>t.fromDepotId!==t.toDepotId,{message:"Origin and destination depots cannot be the same",path:["toDepotId"]});jK(!0);function rF(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function sF(e){return!!e&&!isNaN(e.getTime())}function iIe({value:e,onChange:t,label:r,id:n,fromDate:a}){const[i,o]=y.useState(!1),[l,c]=y.useState(e),[d,h]=y.useState(rF(e));return y.useEffect(()=>{h(rF(e)),sF(e)&&c(e)},[e]),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Be,{htmlFor:n,children:r}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsx(gt,{id:n,value:d,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:m=>{const p=m.target.value;h(p);const g=new Date(p);sF(g)?(t(g),c(g)):t(void 0)}}),s.jsxs(Wc,{open:i,onOpenChange:o,children:[s.jsx(Gc,{asChild:!0,children:s.jsx(Ee,{variant:"ghost",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8",children:s.jsx(Ma,{className:"size-4"})})}),s.jsx(Yc,{className:"w-auto p-0",children:s.jsx(Bu,{mode:"single",selected:e,onSelect:m=>{t(m),o(!1)},initialFocus:!0,month:l,onMonthChange:c,fromDate:a})})]})]})]})}const SK=({mode:e,transferId:t,initialData:r,onSuccess:n})=>{var V;const a=Ja(),i=Ls(),o=localStorage.getItem("user"),l=o?JSON.parse(o):null,c=((V=l==null?void 0:l.role)==null?void 0:V.toLowerCase().includes("depot"))??!1,d=l!=null&&l.depotId?String(l.depotId):"",[h,m]=y.useState([]),[p,g]=y.useState([]),[w,b]=y.useState([]),{control:v,handleSubmit:N,register:S,watch:A,setValue:E,formState:{errors:C}}=Ea({resolver:Ca(jK(c)),defaultValues:{transferDate:new Date,details:[{fromDepotVariantId:"",toDepotVariantId:"",quantity:1}],...r,fromDepotId:c?d:(r==null?void 0:r.fromDepotId)||""}}),{fields:I,append:P,remove:F}=K2({control:v,name:"details"}),k=A("fromDepotId"),z=A("toDepotId"),O=h.filter(Z=>String(Z.id)!==k);y.useEffect(()=>{k&&k===z&&E("toDepotId","")},[k,z,E]),y.useEffect(()=>{(async()=>{try{const J=await $t("/depots");m(J.data||[])}catch(J){console.error("Failed to fetch depots",J),ve.error("Failed to load depots.")}})()},[]),y.useEffect(()=>{if(!k){g([]),I.forEach((J,ae)=>{E(`details.${ae}.fromDepotVariantId`,""),E(`details.${ae}.toDepotVariantId`,"")});return}(async()=>{try{const ae=((await $t(`/depot-product-variants?depotId=${k}&include=product,stock`)).data||[]).map(D=>({id:D.id,name:D.name,productId:D.productId,productName:D.product?D.product.name:"N/A",closingStock:D.closingQty??0}));g(ae)}catch(J){console.error("Failed to fetch source variants",J),ve.error("Failed to load variants for the source depot."),g([])}})()},[k]),y.useEffect(()=>{if(!z){b([]),I.forEach((J,ae)=>{E(`details.${ae}.toDepotVariantId`,"")});return}(async()=>{var J;try{const ae=await $t(`/depot-product-variants?depotId=${z}&include=product,stock`),D=Array.isArray(ae.data)?ae.data:((J=ae.data)==null?void 0:J.data)||[],H=D==null?void 0:D.map(K=>({id:K.id,name:K.name,productId:K.productId,productName:K.product?K.product.name:"N/A",closingStock:K.closingQty??0}));b(H)}catch(ae){console.error("Failed to fetch destination variants",ae),ve.error("Failed to load variants for the destination depot."),b([])}})()},[z]);const M=Z=>Z?`${Z.getFullYear()}-${String(Z.getMonth()+1).padStart(2,"0")}-${String(Z.getDate()).padStart(2,"0")}`:void 0,U=Ks({mutationFn:Z=>{const J=e==="edit"?`/transfers/${t}`:"/transfers";return(e==="edit"?Aa:en)(J,{...Z,fromDepotId:c?d:Z.fromDepotId,transferDate:M(Z.transferDate),details:Z.details.map(D=>({...D,fromDepotVariantId:Number(D.fromDepotVariantId),toDepotVariantId:Number(D.toDepotVariantId),quantity:Number(D.quantity)}))})},onSuccess:()=>{a.invalidateQueries({queryKey:["transfers"]}),ve.success(`Transfer ${e==="edit"?"updated":"created"} successfully.`),n&&n(),i("/admin/transfers")},onError:Z=>{var J,ae;ve.error(((ae=(J=Z.response)==null?void 0:J.data)==null?void 0:ae.message)||"An error occurred.")}}),Q=Z=>{for(const J of Z.details){const ae=p.find(D=>String(D.id)===J.fromDepotVariantId);if(ae&&J.quantity>ae.closingStock){ve.error(`Quantity for ${ae.productName} - ${ae.name} exceeds available stock.`);return}}U.mutate(Z)};return s.jsxs("form",{onSubmit:N(Q),className:"space-y-6",children:[s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{children:"General Information"})}),s.jsxs(_t,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Fs,{control:v,name:"transferDate",render:({field:Z})=>s.jsx(iIe,{value:Z.value,onChange:Z.onChange,label:"Transfer Date",id:"transferDate"})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Be,{children:"From Depot"}),s.jsx(Fs,{control:v,name:"fromDepotId",render:({field:Z})=>s.jsxs(pr,{value:Z.value,onValueChange:Z.onChange,disabled:c,children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"Select Origin Depot"})}),s.jsx(yr,{children:h.map(J=>s.jsx(wt,{value:String(J.id),children:J.name},J.id))})]})}),C.fromDepotId&&s.jsx("p",{className:"text-sm text-red-600",children:C.fromDepotId.message})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Be,{children:"To Depot"}),s.jsx(Fs,{control:v,name:"toDepotId",render:({field:Z})=>s.jsxs(pr,{value:Z.value,onValueChange:Z.onChange,children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"Select Destination Depot"})}),s.jsx(yr,{children:O.map(J=>s.jsx(wt,{value:String(J.id),children:J.name},J.id))})]})}),C.toDepotId&&s.jsx("p",{className:"text-sm text-red-600",children:C.toDepotId.message})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:col-span-2",children:[s.jsx(Be,{htmlFor:"notes",children:"Notes"}),s.jsx(Sp,{id:"notes",...S("notes")})]})]})]}),s.jsxs(St,{children:[s.jsxs(zt,{className:"flex-row items-center justify-between",children:[s.jsx(dr,{children:"Items"}),s.jsxs(Ee,{type:"button",variant:"outline",size:"sm",onClick:()=>P({fromDepotVariantId:"",toDepotVariantId:"",quantity:1}),children:[s.jsx(li,{className:"size-4 mr-2"})," Add Item"]})]}),s.jsxs(_t,{children:[s.jsx("div",{className:"space-y-4",children:I.map((Z,J)=>{const ae=A(`details.${J}.fromDepotVariantId`),D=p.find(K=>String(K.id)===ae),H=D?w.filter(K=>K.productId===D.productId):[];return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 border p-4 rounded-md",children:[s.jsxs("div",{className:"md:col-span-5",children:[s.jsx(Be,{className:"mb-2",children:"Source Variant"}),s.jsx(Fs,{control:v,name:`details.${J}.fromDepotVariantId`,render:({field:K})=>s.jsxs(pr,{value:K.value,onValueChange:K.onChange,children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select Source Variant"})}),s.jsx(yr,{children:p.map(W=>s.jsx(wt,{value:String(W.id),children:`${W.productName} - ${W.name} (Stock: ${W.closingStock})`},W.id))})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(Be,{className:"mb-2",children:"Destination Variant"}),s.jsx(Fs,{control:v,name:`details.${J}.toDepotVariantId`,render:({field:K})=>s.jsxs(pr,{value:K.value,onValueChange:K.onChange,disabled:!D,children:[s.jsx(xr,{className:"w-full",children:s.jsx(gr,{placeholder:"Select Destination Variant"})}),s.jsx(yr,{children:H.map(W=>s.jsx(wt,{value:String(W.id),children:`${W.productName} - ${W.name} (Stock: ${W.closingStock})`},W.id))})]})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Be,{className:"mb-2",children:"Quantity"}),s.jsx(gt,{type:"number",...S(`details.${J}.quantity`,{valueAsNumber:!0})})]}),s.jsx("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:s.jsxs(pi,{children:[s.jsx(jg,{asChild:!0,children:s.jsx(Ee,{type:"button",size:"icon",variant:"ghost",children:s.jsx(Sa,{className:"size-4 text-red-500"})})}),s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Remove item?"}),s.jsx(bi,{children:"This will remove the selected line item from the transfer."})]}),s.jsxs(yi,{children:[s.jsx(wi,{children:"Cancel"}),s.jsx(Ii,{onClick:()=>F(J),children:"Continue"})]})]})]})})]},Z.id)})}),C.details&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in C.details?C.details.message:null})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(Ee,{type:"submit",disabled:U.isPending,children:"Save Transfer"})})]})};function oIe(){return s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{}),s.jsx(_t,{children:s.jsx(SK,{mode:"create"})})]})})}function lIe(e){return e?{transferNo:e.transferNo,transferDate:e.transferDate?new Date(e.transferDate):void 0,fromDepotId:String(e.fromDepotId),toDepotId:String(e.toDepotId),notes:e.notes||"",details:(e.details||[]).map(t=>({fromDepotVariantId:String(t.fromDepotVariantId),toDepotVariantId:String(t.toDepotVariantId),quantity:t.quantity}))}:{}}function cIe(){const{id:e}=Ji(),{data:t,isLoading:r,isError:n}=cs({queryKey:["transfer",e],queryFn:()=>$t(`/transfers/${e}`),enabled:!!e});return r?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx(Ws,{className:"animate-spin"})}):n||!t?(ve.error("Failed to load transfer"),null):s.jsx("div",{className:"container mx-auto space-y-6",children:s.jsxs(St,{children:[s.jsx(zt,{}),s.jsx(_t,{children:e&&s.jsx(SK,{mode:"edit",transferId:e,initialData:lIe(t.data)})})]})})}const dIe=y.createContext(null);function uIe(){const e=y.useContext(dIe);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function Bg(){let e=null;try{e=uIe().user}catch{const a=localStorage.getItem("user");if(a)try{e=JSON.parse(a)}catch(i){console.error("Failed to parse user data from localStorage",i)}}const t=()=>{if(!e||!e.role)return!1;const n=e.role.toString().toUpperCase();return n==="ADMIN"||n==="SUPER_ADMIN"||n.includes("ADMIN")};return{isAdmin:t(),checkIsAdmin:t}}class f4{constructor(){sr(this,"workbook");sr(this,"worksheet");sr(this,"currentRow");sr(this,"indentLevel");sr(this,"rootData",null);this.workbook=Pn.book_new(),this.worksheet={},this.currentRow=1,this.indentLevel=0}exportToExcel(t){var i,o;const{data:r,totals:n,config:a}=t;this.rootData=Array.isArray(r)?r:[],this.worksheet={},this.currentRow=1,this.addTitle(a.fileName),this.addHeaders(a.headers),this.applyColumnWidths(a.headers),(i=a.grouping)!=null&&i.enabled&&this.isGroupedData(r)?this.processGroupedData(r,a):this.processFlatData(r,a),n&&((o=a.grouping)!=null&&o.showTotals)&&this.addGrandTotals(n),Pn.book_append_sheet(this.workbook,this.worksheet,a.sheetName),this.downloadExcel(a.fileName)}addTitle(t){const r=`A${this.currentRow}`;this.worksheet[r]={v:t,s:{font:{bold:!0,sz:16},alignment:{horizontal:"center"}}},this.worksheet["!merges"]||(this.worksheet["!merges"]=[]),this.worksheet["!merges"].push({s:{r:this.currentRow-1,c:0},e:{r:this.currentRow-1,c:10}}),this.currentRow+=2}addHeaders(t){t.forEach((r,n)=>{const a=Pn.encode_cell({r:this.currentRow-1,c:n});this.worksheet[a]={v:r.label,s:{font:{bold:!0},fill:{fgColor:{rgb:"E0E0E0"}},alignment:{horizontal:r.align||"left"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}}}}),this.currentRow++}processGroupedData(t,r){t.forEach(n=>{var a;this.addGroupHeader(n),Array.isArray(n.data)&&(this.indentLevel++,this.isGroupedData(n.data)?this.processGroupedData(n.data,r):this.processFlatData(n.data,r),this.indentLevel--),(a=r.grouping)!=null&&a.showTotals&&n.totals&&this.addGroupTotals(n),this.currentRow++})}addGroupHeader(t){const r="  ".repeat(this.indentLevel),n=this.getGroupHeaderText(t),a=this.headerKeys||[],i=Math.max(a.length,11),o=Pn.encode_cell({r:this.currentRow-1,c:0});this.worksheet[o]={v:`${r}${n}`,s:{font:{bold:!0,sz:12},fill:{fgColor:{rgb:this.getGroupColor(t.level)}}}},this.worksheet["!merges"]||(this.worksheet["!merges"]=[]),this.worksheet["!merges"].push({s:{r:this.currentRow-1,c:0},e:{r:this.currentRow-1,c:i-1}}),this.currentRow++}getGroupHeaderText(t){switch(t.level){case"farmer":return`Farmer: ${t.name}`;case"depot":return`Depot: ${t.name}${t.location?` (${t.location})`:""}`;case"variant":return`Product: ${t.productName||""} - Variant: ${t.name}${t.unit?` (${t.unit})`:""}`;case"agency":return`Delivery Agency: ${t.name}`;case"area":return`Area: ${t.name}${t.city?` (${t.city})`:""}`;case"status":return`Status: ${t.name}`;default:return t.name}}getGroupColor(t){switch(t){case"farmer":return"D4E6F1";case"depot":return"D5F4E6";case"variant":return"FDEBD0";case"agency":return"E3F2FD";case"area":return"E8F5E8";case"status":return"FFF3E0";default:return"F0F0F0"}}processFlatData(t,r){const n=r.headers;t.forEach(a=>{const i="  ".repeat(this.indentLevel+1);n.forEach((o,l)=>{let c="";const d="orderId"in a;switch(console.log("isDeliveryItem",a),o.key){case"status":c=a.status||"pending";break;case"product":c=`${a.productName} - ${a.variantName}`;break;case"qty":c=a.quantity;break;case"agency":a.agency?c=a.agency:c=a.agencyName||"N/A";break;case"amount":c=this.formatCurrency(a.amount);break;case"orderId":c=d?a.orderId:"";break;case"date":c=d?this.formatDate(a.deliveryDate):this.formatDate(a.purchaseDate);break;case"customer":c=d?a.customerName:"";break;case"address":c=d?a.deliveryAddress:"";break;case"area":c=d?a.areaName:"";break;case"deliveredBy":c=d&&a.deliveredBy||"";break;case"deliveryTime":c=d&&a.deliveryTime||"";break;case"purchaseNo":c=d?"":a.purchaseNo;break;case"invoice":c="";break;case"farmer":c=d?"":a.farmerName;break;case"depot":c=d?"":a.depotName;break;case"rate":c=d?"":this.formatCurrency(a.purchaseRate);break;case"wastage":{const m=a.wastage;if(m!=null){c=m;break}if(d)c="";else{const p=a,g=p.supervisorQuantity,w=(p.deliveredQuantity??p.receivedQuantity??0)||0;if(w>0)if(g===null||typeof g=="number"&&g>0){const N=w-(g??0);c=N>=0?N:0}else c="";else c=""}break}default:c=a[o.key]??""}l===0&&typeof c=="string"&&(c=`${i}${c}`);const h=Pn.encode_cell({r:this.currentRow-1,c:l});this.worksheet[h]={v:c,s:{alignment:{horizontal:o.align||"left"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}}}}),this.currentRow++})}addGroupTotals(t){const n=`${"  ".repeat(this.indentLevel)}Total for ${t.level==="variant"?t.productName+" - "+t.name:t.name}:`,a=this.headerKeys||[],i=Math.max(a.length,11),l=a.includes("wastage")&&Array.isArray(t.data)?this.computeWastageSum(t.data):0;for(let c=0;c<i;c++){const d=a[c];let h="";if(c===0?h=n:d==="qty"?h=t.totals.totalQuantity.toString():d==="wastage"?h=l.toString():d==="amount"?h=this.formatCurrency(t.totals.totalAmount):d==="rate"?h=`Avg: ${this.formatCurrency(t.totals.avgRate)}`:d==="agency"&&(h=`${t.totals.itemCount} items`),h!==""){const m=Pn.encode_cell({r:this.currentRow-1,c});this.worksheet[m]={v:h,s:{font:{bold:!0,italic:!0},fill:{fgColor:{rgb:"F5F5F5"}},alignment:{horizontal:d==="amount"||d==="rate"||d==="qty"||d==="wastage"?"right":"left"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}}}}}this.currentRow++}computeWastageSum(t){if(!Array.isArray(t))return 0;let r=0;return t.forEach(n=>{if(Array.isArray(n))r+=this.computeWastageSum(n);else if(n&&typeof n=="object"){if("level"in n&&"data"in n)r+=this.computeWastageSum(n.data);else if(n.wastage!==void 0&&n.wastage!==null)r+=Number(n.wastage)||0;else if(!("orderId"in n)){const i=Number(n.deliveredQuantity??n.receivedQuantity)||0,o=n.supervisorQuantity===null||n.supervisorQuantity===void 0?null:Number(n.supervisorQuantity);if(i>0&&(o===null||typeof o=="number"&&o>0)){const d=i-(o??0);r+=d>=0?d:0}}}}),r}addGrandTotals(t){var o,l;this.currentRow++;const r=this.headerKeys||[],n=Math.max(r.length,11),i=r.includes("wastage")&&Array.isArray(this.rootData)?this.computeWastageSum(this.rootData):0;for(let c=0;c<n;c++){const d=r[c];let h="";if(c===0?h="GRAND TOTAL":d==="qty"?h=((l=(o=t.totalQuantity)==null?void 0:o.toString)==null?void 0:l.call(o))??"":d==="wastage"?h=i.toString():d==="amount"?h=this.formatCurrency(t.totalAmount||0):d==="rate"?h=`Avg: ${this.formatCurrency(t.avgPurchaseValue||0)}`:d==="agency"&&(h=`Purchases: ${t.totalPurchases||0}`),h!==""){const m=Pn.encode_cell({r:this.currentRow-1,c});this.worksheet[m]={v:h,s:{font:{bold:!0,sz:14},fill:{fgColor:{rgb:"CCCCCC"}},alignment:{horizontal:d==="amount"||d==="rate"||d==="qty"||d==="wastage"?"right":"left"},border:{top:{style:"medium"},bottom:{style:"medium"}}}}}}this.currentRow++}applyColumnWidths(t){const r=t.map(n=>({wch:n.width||15}));this.worksheet["!cols"]=r,this.headerKeys=t.map(n=>n.key)}setWorksheetRange(){const t={s:{c:0,r:0},e:{c:10,r:this.currentRow-1}};this.worksheet["!ref"]=Pn.encode_range(t)}downloadExcel(t){this.setWorksheetRange();const r=_D(this.workbook,{bookType:"xlsx",type:"binary"}),n=new Blob([this.s2ab(r)],{type:"application/octet-stream"}),a=document.createElement("a");a.href=URL.createObjectURL(n),a.download=`${t}_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}s2ab(t){const r=new ArrayBuffer(t.length),n=new Uint8Array(r);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a)&255;return r}isGroupedData(t){return t.length>0&&"level"in t[0]&&"totals"in t[0]}formatCurrency(t){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(t)}formatDate(t){return t?new Date(t).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):""}}const nF=Vu;function hIe(){var A,E,C,I,P,F,k,z,O,M,R;const{isAdmin:e}=Bg();let t=!1;try{const B=localStorage.getItem("user");if(B){const Y=JSON.parse(B);t=((Y==null?void 0:Y.role)||"").toString().toUpperCase()==="AGENCY"}}catch{}const[r,n]=y.useState({startDate:Wt(new Date(new Date().setDate(new Date().getDate()-30)),"yyyy-MM-dd"),endDate:Wt(new Date,"yyyy-MM-dd"),groupBy:"agency,area,status"}),[a,i]=y.useState(new Set),[o,l]=y.useState(""),{data:c}=cs({queryKey:["deliveryReportFilters"],queryFn:async()=>{const B=localStorage.getItem("authToken")||localStorage.getItem("token");return(await dn.get(`${nF}/api/reports/delivery-filters`,{headers:{Authorization:`Bearer ${B}`}})).data},enabled:e}),{data:d,isLoading:h,refetch:m}=cs({queryKey:["deliveryAgenciesReport",r,e,t],queryFn:async()=>{const B=new URLSearchParams;Object.entries(r).forEach(([Q,V])=>{V&&(t&&Q==="agencyId"||B.append(Q,V.toString()))});const Y=localStorage.getItem("authToken")||localStorage.getItem("token");return(await dn.get(`${nF}/api/reports/delivery-agencies?${B.toString()}`,{headers:{Authorization:`Bearer ${Y}`}})).data},enabled:e||t}),p=(B,Y)=>{n(U=>({...U,[B]:Y}))},g=B=>{i(Y=>{const U=new Set(Y);return U.has(B)?U.delete(B):U.add(B),U})},w=()=>{var U,Q;if(!((U=d==null?void 0:d.data)!=null&&U.report)){ve.error("No data to export");return}const B=new f4,Y={fileName:"Delivery_Agencies_Report",sheetName:"Delivery Agencies",headers:[{key:"orderId",label:"Order ID",width:15},{key:"date",label:"Delivery Date",width:12},{key:"product",label:"Product",width:25},{key:"qty",label:"Quantity",width:10,align:"right"},{key:"customer",label:"Customer",width:20},{key:"address",label:"Delivery Address",width:30},{key:"area",label:"Area",width:15},{key:"agency",label:"Agency",width:20},{key:"status",label:"Status",width:12},{key:"amount",label:"Amount",width:15,align:"right"}],grouping:{enabled:!0,levels:((Q=r.groupBy)==null?void 0:Q.split(","))||[],showTotals:!0}};B.exportToExcel({data:d.data.report,totals:d.data.totals,config:Y}),ve.success("Report exported successfully")},b=B=>{switch(B==null?void 0:B.toLowerCase()){case"delivered":return"default";case"pending":return"secondary";case"cancelled":return"destructive";case"in_transit":return"outline";default:return"secondary"}},v=(B,Y=0)=>Array.isArray(B)?B.length>0&&"level"in B[0]?B.map(Q=>{const V=`${Q.level}-${Q.id}`,Z=a.has(V),J=Y*20,ae=()=>{switch(Q.level){case"agency":return s.jsx(A9,{size:16,className:"mr-2"});case"area":return s.jsx(Rd,{size:16,className:"mr-2"});case"status":return s.jsx(po,{size:16,className:"mr-2"});default:return null}};return s.jsxs(We.Fragment,{children:[s.jsx(hr,{className:`cursor-pointer hover:bg-gray-100 ${Q.level==="agency"?"bg-blue-50":Q.level==="area"?"bg-green-50":"bg-orange-50"}`,onClick:()=>g(V),children:s.jsx(Oe,{colSpan:9,style:{paddingLeft:`${J+16}px`},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[Z?s.jsx(Ia,{size:16}):s.jsx(cc,{size:16}),ae(),s.jsxs("span",{className:"font-semibold",children:[Q.level==="agency"&&`Delivery Agent: ${Q.name}`,Q.level==="area"&&`Area: ${Q.name} ${Q.city?`(${Q.city})`:""}`,Q.level==="status"&&`Status: ${Q.name}`]}),s.jsxs(Gr,{variant:"outline",className:"ml-2",children:[Q.totals.itemCount," deliveries"]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{children:["Packages: ",s.jsx("strong",{children:Q.totals.totalQuantity})]}),s.jsxs("span",{children:["Delivered: ",s.jsx("strong",{children:Q.totals.deliveredCount})]}),s.jsxs("span",{children:["Pending: ",s.jsx("strong",{children:Q.totals.pendingCount})]}),s.jsxs("span",{children:["Amount: ",s.jsxs("strong",{children:["",Q.totals.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]})]})})}),Z&&Array.isArray(Q.data)&&v(Q.data,Y+1)]},V)}):B.map((Q,V)=>s.jsxs(hr,{className:"hover:bg-gray-50",children:[s.jsx(Oe,{className:"pl-8",children:Q.orderId}),s.jsx(Oe,{className:"text-sm",children:Wt(new Date(Q.deliveryDate),"dd MMM yyyy")}),s.jsxs(Oe,{className:"text-sm",children:[Q.productName," - ",Q.variantName]}),s.jsx(Oe,{className:"text-right",children:Q.quantity}),s.jsx(Oe,{children:Q.customerName}),s.jsx(Oe,{className:"text-sm max-w-xs truncate",title:Q.deliveryAddress,children:Q.deliveryAddress}),s.jsx(Oe,{children:Q.areaName}),s.jsx(Oe,{children:s.jsx(Gr,{variant:b(Q.status),children:Q.status})}),s.jsxs(Oe,{className:"text-right font-medium",children:["",Q.amount.toLocaleString("en-IN",{minimumFractionDigits:2})]})]},`${Q.orderId}-${V}`)):[],N=y.useMemo(()=>{var B,Y;return!((B=d==null?void 0:d.data)!=null&&B.report)||!o?((Y=d==null?void 0:d.data)==null?void 0:Y.report)||[]:d.data.report},[d,o]);return e||t?s.jsx("div",{className:"container mx-auto p-4 space-y-4",children:s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(dr,{children:"Delivery Agencies Report"}),s.jsx(On,{children:"Track delivery performance by agency, area, and status"})]}),s.jsxs(Ee,{onClick:w,disabled:!((A=d==null?void 0:d.data)!=null&&A.report),children:[s.jsx(zc,{className:"mr-2 h-4 w-4"}),"Export to Excel"]})]})}),s.jsxs(_t,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"startDate",children:"Start Date"}),s.jsx(gt,{id:"startDate",type:"date",value:r.startDate,onChange:B=>p("startDate",B.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"endDate",children:"End Date"}),s.jsx(gt,{id:"endDate",type:"date",value:r.endDate,onChange:B=>p("endDate",B.target.value)})]}),e&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"agencyId",children:"Delivery Agency"}),s.jsxs(pr,{value:((E=r.agencyId)==null?void 0:E.toString())||"all",onValueChange:B=>p("agencyId",B==="all"?void 0:parseInt(B)),children:[s.jsx(xr,{id:"agencyId",children:s.jsx(gr,{placeholder:"All Agencies"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Agencies"}),(I=(C=c==null?void 0:c.data)==null?void 0:C.agencies)==null?void 0:I.map(B=>s.jsx(wt,{value:B.id.toString(),children:B.name},B.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"areaId",children:"Delivery Area"}),s.jsxs(pr,{value:((P=r.areaId)==null?void 0:P.toString())||"all",onValueChange:B=>p("areaId",B==="all"?void 0:parseInt(B)),children:[s.jsx(xr,{id:"areaId",children:s.jsx(gr,{placeholder:"All Areas"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Areas"}),(k=(F=c==null?void 0:c.data)==null?void 0:F.areas)==null?void 0:k.map(B=>s.jsxs(wt,{value:B.id.toString(),children:[B.name," ",B.city&&`(${B.city})`]},B.id))]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx(Be,{children:"Group By:"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(hl,{checked:(z=r.groupBy)==null?void 0:z.includes("agency"),onCheckedChange:B=>{var U;const Y=((U=r.groupBy)==null?void 0:U.split(","))||[];if(B)Y.push("agency");else{const Q=Y.indexOf("agency");Q>-1&&Y.splice(Q,1)}p("groupBy",Y.join(","))}}),"Delivery Agent"]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(hl,{checked:(O=r.groupBy)==null?void 0:O.includes("area"),onCheckedChange:B=>{var U;const Y=((U=r.groupBy)==null?void 0:U.split(","))||[];if(B)Y.push("area");else{const Q=Y.indexOf("area");Q>-1&&Y.splice(Q,1)}p("groupBy",Y.join(","))}}),"Area"]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(hl,{checked:(M=r.groupBy)==null?void 0:M.includes("status"),onCheckedChange:B=>{var U;const Y=((U=r.groupBy)==null?void 0:U.split(","))||[];if(B)Y.push("status");else{const Q=Y.indexOf("status");Q>-1&&Y.splice(Q,1)}p("groupBy",Y.join(","))}}),"Status"]})]})]}),((R=d==null?void 0:d.data)==null?void 0:R.totals)&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(St,{children:s.jsxs(_t,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold",children:d.data.totals.totalDeliveries}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Deliveries"})]})}),s.jsx(St,{children:s.jsxs(_t,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.data.totals.deliveredCount}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered"})]})}),s.jsx(St,{children:s.jsxs(_t,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:d.data.totals.pendingCount}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})}),s.jsx(St,{children:s.jsxs(_t,{className:"pt-6",children:[s.jsxs("div",{className:"text-2xl font-bold",children:["",d.data.totals.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Amount"})]})})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Order ID"}),s.jsx($e,{children:"Date"}),s.jsx($e,{children:"Product"}),s.jsx($e,{className:"text-right",children:"Qty"}),s.jsx($e,{children:"Customer"}),s.jsx($e,{children:"Address"}),s.jsx($e,{children:"Area"}),s.jsx($e,{children:"Status"}),s.jsx($e,{className:"text-right",children:"Amount"})]})}),s.jsx(Hs,{children:h?s.jsx(hr,{children:s.jsx(Oe,{colSpan:9,className:"text-center py-8",children:"Loading report data..."})}):N.length===0?s.jsx(hr,{children:s.jsx(Oe,{colSpan:9,className:"text-center py-8",children:"No data available for the selected filters"})}):v(N)})]})})]})]})}):s.jsx(St,{className:"m-4",children:s.jsx(_t,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-600",children:"You don't have permission to view this report."})})})}const aF=Vu;function fIe(){var E,C,I,P,F,k,z,O,M,R,B;const{isAdmin:e}=Bg();let t=!1,r=null;try{const Y=localStorage.getItem("user"),U=localStorage.getItem("agencyId");if(Y){const Q=JSON.parse(Y);t=((Q==null?void 0:Q.role)||"").toString().toUpperCase()==="AGENCY",!U&&(Q!=null&&Q.agencyId)?r=String(Q.agencyId):r=U}}catch{}const[n,a]=y.useState({startDate:Wt(new Date(new Date().setDate(new Date().getDate()-7)),"yyyy-MM-dd"),endDate:Wt(new Date(new Date().setDate(new Date().getDate()+30)),"yyyy-MM-dd"),groupBy:"agency,variant"}),{data:i}=cs({queryKey:["deliveryFiltersForSummaries"],queryFn:async()=>{const Y=localStorage.getItem("authToken")||localStorage.getItem("token");return(await dn.get(`${aF}/api/reports/delivery-filters`,{headers:{Authorization:`Bearer ${Y}`}})).data},enabled:e}),{data:o,isLoading:l,refetch:c}=cs({queryKey:["deliverySummariesReport",n,e,t,r],queryFn:async()=>{const Y=new URLSearchParams;Object.entries(n).forEach(([Z,J])=>{J&&(t&&Z==="agencyId"||(Y.append(Z,J.toString()),console.log(`Adding param: ${Z} = ${J}`)))}),e&&n.agencyId&&Y.set("agencyId",String(n.agencyId));const U=`${aF}/api/reports/delivery-summaries?${Y.toString()}`;console.log("Making request to:",U),console.log("Current filters:",n);const Q=localStorage.getItem("authToken")||localStorage.getItem("token"),V=await dn.get(U,{headers:{Authorization:`Bearer ${Q}`}});return console.log("API Response:",V.data),V.data},enabled:e||t}),d=(Y,U)=>{console.log(`Filter change: ${Y} = ${U}`),a(Q=>{const V={...Q,[Y]:U};return console.log("New filters state:",V),V})},h=()=>{var D;if(!((D=o==null?void 0:o.data)!=null&&D.summary)){ve.error("No data to export");return}const Y=new f4,U=o.data.statusList||[],Q=o.data.groupBy||"agency";let V=[{key:"name",label:p(Q),width:30}];Q==="agency"?V.push({key:"city",label:"City",width:15}):Q==="variant"?V.push({key:"productName",label:"Product",width:20},{key:"variantName",label:"Variant",width:20}):Q.includes("agency")&&Q.includes("variant")&&V.push({key:"agency",label:"Agency",width:20},{key:"agencyCity",label:"Agency City",width:15},{key:"productName",label:"Product",width:20},{key:"variantName",label:"Variant",width:20}),U.forEach(H=>{V.push({key:`${H.toLowerCase()}_count`,label:`${H} Count`,width:12,align:"right"},{key:`${H.toLowerCase()}_qty`,label:`${H} Qty`,width:12,align:"right"})}),V.push({key:"totalCount",label:"Total Count",width:12,align:"right"},{key:"totalQuantity",label:"Total Qty",width:12,align:"right"});const Z=o.data.summary.map((H,K)=>{console.log(`Excel Export Debug - Item ${K}:`,H);const W={name:H.name,totalCount:H.totalCount,totalQuantity:H.totalQuantity||0};if(Q==="agency"&&"city"in H)W.city=H.city||"",console.log("Agency grouping - added city:",W.city);else if(Q==="variant"&&"productName"in H)W.productName=H.productName||"",W.variantName=H.variantName||"",console.log("Variant grouping - added productName/variantName:",W.productName,W.variantName);else if(Q.includes("agency")&&Q.includes("variant")){const re=H;W.agency=re.agencyName||"",W.agencyCity=re.agencyCity||"",W.productName=re.productName||"",W.variantName=re.variantName||"",console.log("Agency+Variant grouping - Item data:",{agencyName:re.agencyName,agencyCity:re.agencyCity,productName:re.productName,variantName:re.variantName}),console.log("Agency+Variant grouping - Row data:",{agency:W.agency,agencyCity:W.agencyCity,productName:W.productName,variantName:W.variantName})}return U.forEach(re=>{W[`${re.toLowerCase()}_count`]=H.statusCounts[re]||0,H.quantityCounts&&(W[`${re.toLowerCase()}_qty`]=H.quantityCounts[re]||0)}),console.log(`Final row for Excel item ${K}:`,W),W}),J={name:"TOTAL",totalCount:o.data.totals.totalDeliveries,totalQuantity:o.data.summary.reduce((H,K)=>H+(K.totalQuantity||0),0)};Q==="agency"?J.city="":Q==="variant"?(J.productName="",J.variantName=""):Q.includes("agency")&&Q.includes("variant")&&(J.agency="",J.agencyCity="",J.productName="",J.variantName=""),U.forEach(H=>{J[`${H.toLowerCase()}_count`]=o.data.totals.statusTotals[H]||0,J[`${H.toLowerCase()}_qty`]=o.data.summary.reduce((K,W)=>K+(W.quantityCounts&&W.quantityCounts[H]||0),0)}),Z.push(J);const ae={fileName:"Delivery_Summaries_Report",sheetName:"Delivery Summaries",headers:V,grouping:{enabled:!1,levels:[],showTotals:!1}};Y.exportToExcel({data:Z,totals:o.data.totals,config:ae}),ve.success("Report exported successfully")},m=Y=>{switch(Y==null?void 0:Y.toLowerCase()){case"delivered":return"default";case"pending":return"secondary";case"cancelled":return"destructive";case"in_transit":return"outline";default:return"secondary"}},p=Y=>{switch(Y){case"agency":return"Delivery Agency";case"variant":return"Product Variant";case"agency,variant":case"variant,agency":return"Agency + Variant";default:return"Item"}},g=Y=>Y==="agency"?s.jsx($e,{className:"font-semibold",children:"City"}):Y==="variant"?s.jsxs(s.Fragment,{children:[s.jsx($e,{className:"font-semibold",children:"Product"}),s.jsx($e,{className:"font-semibold",children:"Variant"})]}):Y.includes("agency")&&Y.includes("variant")?s.jsxs(s.Fragment,{children:[s.jsx($e,{className:"font-semibold",children:"Agency"}),s.jsx($e,{className:"font-semibold",children:"City"}),s.jsx($e,{className:"font-semibold",children:"Product"}),s.jsx($e,{className:"font-semibold",children:"Variant"})]}):null,w=(Y,U)=>U==="agency"&&"city"in Y?s.jsx(Oe,{children:Y.city||"-"}):U==="variant"&&"productName"in Y?s.jsxs(s.Fragment,{children:[s.jsx(Oe,{children:Y.productName}),s.jsx(Oe,{children:Y.variantName})]}):U.includes("agency")&&U.includes("variant")&&"agencyName"in Y?s.jsxs(s.Fragment,{children:[s.jsx(Oe,{children:Y.agencyName}),s.jsx(Oe,{children:Y.agencyCity}),s.jsx(Oe,{children:Y.productName}),s.jsx(Oe,{children:Y.variantName})]}):null,b=Y=>Y==="agency"?s.jsx(Oe,{className:"font-bold",children:"-"}):Y==="variant"?s.jsxs(s.Fragment,{children:[s.jsx(Oe,{className:"font-bold",children:"-"}),s.jsx(Oe,{className:"font-bold",children:"-"})]}):Y.includes("agency")&&Y.includes("variant")?s.jsxs(s.Fragment,{children:[s.jsx(Oe,{className:"font-bold",children:"-"}),s.jsx(Oe,{className:"font-bold",children:"-"}),s.jsx(Oe,{className:"font-bold",children:"-"}),s.jsx(Oe,{className:"font-bold",children:"-"})]}):null;if(!(e||t))return s.jsx(St,{className:"m-4",children:s.jsx(_t,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-600",children:"You don't have permission to view this report."})})});const N=((E=o==null?void 0:o.data)==null?void 0:E.statusList)||[],S=((C=o==null?void 0:o.data)==null?void 0:C.summary)||[],A=(I=o==null?void 0:o.data)==null?void 0:I.totals;return s.jsx("div",{className:"container mx-auto p-4 space-y-4",children:s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(Oo,{className:"h-5 w-5"}),"Delivery Summaries Report"]}),s.jsx(On,{children:"Status-wise delivery counts grouped by agency and product variants"})]}),s.jsxs(Ee,{onClick:h,disabled:!((P=o==null?void 0:o.data)!=null&&P.summary),children:[s.jsx(zc,{className:"mr-2 h-4 w-4"}),"Export to Excel"]})]})}),s.jsxs(_t,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"startDate",children:"Start Date"}),s.jsx(gt,{id:"startDate",type:"date",value:n.startDate,onChange:Y=>d("startDate",Y.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"endDate",children:"End Date"}),s.jsx(gt,{id:"endDate",type:"date",value:n.endDate,onChange:Y=>d("endDate",Y.target.value)})]}),e&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"summaryAgencyId",children:"Delivery Agency"}),s.jsxs(pr,{value:n.agencyId?String(n.agencyId):"all",onValueChange:Y=>d("agencyId",Y==="all"?void 0:parseInt(Y)),children:[s.jsx(xr,{id:"summaryAgencyId",children:s.jsx(gr,{placeholder:"All Agencies"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Agencies"}),(k=(F=i==null?void 0:i.data)==null?void 0:F.agencies)==null?void 0:k.map(Y=>s.jsx(wt,{value:Y.id.toString(),children:Y.name},Y.id))]})]})]})]}),A&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[s.jsx(St,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(po,{className:"h-4 w-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Deliveries"}),s.jsx("p",{className:"text-2xl font-bold",children:A.totalDeliveries.toLocaleString()})]})]})}),s.jsx(St,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Oo,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-600",children:[p(((z=o==null?void 0:o.data)==null?void 0:z.groupBy)||"agency"),"s"]}),s.jsx("p",{className:"text-2xl font-bold",children:A.totalAgencies||A.totalVariants||A.totalCombinations||0})]})]})}),s.jsx(St,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Eb,{className:"h-4 w-4 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Delivered"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:((O=A.statusTotals)==null?void 0:O.DELIVERED)||0})]})]})}),s.jsx(St,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(G0,{className:"h-4 w-4 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:((M=A.statusTotals)==null?void 0:M.PENDING)||0})]})]})})]}),((R=o==null?void 0:o.data)==null?void 0:R.summary)&&s.jsx(St,{className:"mt-4",children:s.jsx(_t,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{className:"font-semibold",children:p(o.data.groupBy||"agency")}),g(o.data.groupBy||"agency"),N.map(Y=>s.jsxs(We.Fragment,{children:[s.jsx($e,{className:"text-center font-semibold",children:Y}),s.jsx($e,{className:"text-center font-semibold text-xs text-gray-500",children:"Qty"})]},Y)),s.jsx($e,{className:"text-center font-semibold",children:"Total"}),s.jsx($e,{className:"text-center font-semibold text-xs text-gray-500",children:"Total Qty"})]})}),s.jsxs(Hs,{children:[S.map((Y,U)=>s.jsxs(hr,{className:"hover:bg-gray-50",children:[s.jsx(Oe,{className:"font-medium",children:Y.name}),w(Y,o.data.groupBy||"agency"),N.map(Q=>{var V;return s.jsxs(We.Fragment,{children:[s.jsx(Oe,{className:"text-center",children:s.jsx(Gr,{variant:m(Q),className:"min-w-[40px]",children:Y.statusCounts[Q]||0})}),s.jsx(Oe,{className:"text-center text-sm text-gray-600",children:((V=Y.quantityCounts)==null?void 0:V[Q])||0})]},Q)}),s.jsx(Oe,{className:"text-center font-semibold",children:Y.totalCount}),s.jsx(Oe,{className:"text-center text-sm font-medium text-gray-600",children:Y.totalQuantity||0})]},U)),s.jsxs(hr,{className:"bg-gray-100 font-semibold",children:[s.jsx(Oe,{className:"font-bold",children:"TOTAL"}),b(o.data.groupBy||"agency"),N.map(Y=>s.jsxs(We.Fragment,{children:[s.jsx(Oe,{className:"text-center font-bold",children:A.statusTotals[Y]||0}),s.jsx(Oe,{className:"text-center text-sm font-bold",children:S.reduce((U,Q)=>U+(Q.quantityCounts&&Q.quantityCounts[Y]||0),0)})]},Y)),s.jsx(Oe,{className:"text-center font-bold",children:A.totalDeliveries}),s.jsx(Oe,{className:"text-center text-sm font-bold",children:S.reduce((Y,U)=>Y+(U.totalQuantity||0),0)})]})]})]})})})}),l&&s.jsx(St,{className:"mt-4",children:s.jsx(_t,{className:"py-8",children:s.jsx("div",{className:"text-center text-gray-500",children:"Loading delivery summaries..."})})}),!l&&(!((B=o==null?void 0:o.data)!=null&&B.summary)||o.data.summary.length===0)&&s.jsx(St,{className:"mt-4",children:s.jsx(_t,{className:"py-8",children:s.jsx("div",{className:"text-center text-gray-500",children:"No delivery data found for the selected period."})})})]})]})})}const mIe=Vu;function pIe(){const{isAdmin:e}=Bg(),[t,r]=y.useState({startDate:Wt(new Date(new Date().setDate(new Date().getDate()-30)),"yyyy-MM-dd"),endDate:Wt(new Date,"yyyy-MM-dd"),status:"all",paymentStatus:void 0,page:1,limit:50}),{data:n,isLoading:a,refetch:i,error:o}=cs({queryKey:["subscriptionReports",t],queryFn:async()=>{const h=new URLSearchParams;Object.entries(t).forEach(([g,w])=>{w!=null&&w!==""&&h.append(g,w.toString())});const m=localStorage.getItem("authToken")||localStorage.getItem("token");return(await dn.get(`${mIe}/api/reports/subscriptions?${h.toString()}`,{headers:{Authorization:`Bearer ${m}`}})).data},enabled:e}),l=(h,m)=>{r(p=>({...p,[h]:m,...h!=="page"?{page:1}:{}}))},c=()=>{r({startDate:Wt(new Date(new Date().setDate(new Date().getDate()-30)),"yyyy-MM-dd"),endDate:Wt(new Date,"yyyy-MM-dd"),status:"all",paymentStatus:void 0,page:1,limit:50})},d=()=>{if(!(n!=null&&n.data)||n.data.length===0){ve.error("No data to export");return}const h=new f4,m=[{key:"id",label:"ID",width:10},{key:"memberName",label:"Member Name",width:20},{key:"memberEmail",label:"Email",width:25},{key:"memberMobile",label:"Mobile",width:15},{key:"productName",label:"Product",width:20},{key:"variantName",label:"Variant",width:20},{key:"deliverySchedule",label:"Schedule",width:15},{key:"dailyQty",label:"Daily Qty",width:12,align:"right"},{key:"totalQty",label:"Total Qty",width:12,align:"right"},{key:"alternateQty",label:"Alt Qty",width:12,align:"right"},{key:"amount",label:"Amount",width:15,align:"right"},{key:"paymentStatus",label:"Payment Status",width:15},{key:"agencyName",label:"Agency Name",width:20},{key:"agencyCity",label:"Agency City",width:15},{key:"agencyAssigned",label:"Agency Assigned",width:15},{key:"startDate",label:"Start Date",width:12},{key:"expiryDate",label:"Expiry Date",width:12},{key:"isExpired",label:"Expired",width:10},{key:"deliveryAddress",label:"Delivery Address",width:30}],p=n.data.map(w=>{var b;return{id:w.id,memberName:w.memberName,memberEmail:w.memberEmail,memberMobile:w.memberMobile,productName:w.productName,variantName:w.variantName,deliverySchedule:w.deliverySchedule,dailyQty:w.dailyQty,totalQty:w.totalQty,alternateQty:w.alternateQty||"N/A",amount:w.amount,paymentStatus:w.paymentStatus,agencyName:w.agencyName||"Unassigned",agencyCity:w.agencyCity||"N/A",agencyAssigned:w.agencyAssigned?"Yes":"No",startDate:w.startDate?Wt(new Date(w.startDate),"dd/MM/yyyy"):"",expiryDate:w.expiryDate?Wt(new Date(w.expiryDate),"dd/MM/yyyy"):"",isExpired:w.isExpired?"Yes":"No",deliveryAddress:((b=w.deliveryAddress)==null?void 0:b.fullAddress)||"N/A"}}),g={fileName:"Subscription_Reports",sheetName:"Subscriptions",headers:m,grouping:{enabled:!1,levels:[],showTotals:!1}};h.exportToExcel({data:p,config:g}),ve.success("Report exported successfully")};return e?o?s.jsx(St,{className:"m-4",children:s.jsxs(_t,{className:"pt-6",children:[s.jsxs("p",{className:"text-center text-red-600",children:["Error loading subscription reports: ",(o==null?void 0:o.message)||"Unknown error"]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx(Ee,{onClick:()=>i(),variant:"outline",children:"Try Again"})})]})}):s.jsx("div",{className:"container mx-auto p-4 space-y-4",children:s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx("div",{className:"flex justify-end items-center gap-2",children:s.jsxs(Ee,{onClick:d,disabled:!(n!=null&&n.data)||n.data.length===0,children:[s.jsx(zc,{className:"mr-2 h-4 w-4"}),"Export to Excel"]})})}),s.jsxs(_t,{className:"border-t bg-gray-50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"startDate",children:"Start Date"}),s.jsx(gt,{id:"startDate",type:"date",value:t.startDate,onChange:h=>l("startDate",h.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"endDate",children:"End Date"}),s.jsx(gt,{id:"endDate",type:"date",value:t.endDate,onChange:h=>l("endDate",h.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"status",children:"Expiry Status"}),s.jsxs(pr,{value:t.status||"all",onValueChange:h=>l("status",h),children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"All Subscriptions"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Subscriptions"}),s.jsx(wt,{value:"expired",children:"Expired"}),s.jsx(wt,{value:"not_expired",children:"Not Expired"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"paymentStatus",children:"Payment Status"}),s.jsxs(pr,{value:t.paymentStatus||"all",onValueChange:h=>l("paymentStatus",h==="all"?void 0:h),children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"All Payments"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Payments"}),s.jsx(wt,{value:"PENDING",children:"Pending"}),s.jsx(wt,{value:"PAID",children:"Paid"}),s.jsx(wt,{value:"FAILED",children:"Failed"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(Ee,{variant:"outline",onClick:c,children:[s.jsx(ul,{className:"mr-2 h-4 w-4"}),"Clear Filters"]}),s.jsx(Ee,{onClick:()=>i(),children:"Apply Filters"})]})]})]})}):s.jsx(St,{className:"m-4",children:s.jsx(_t,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-600",children:"You don't have permission to view this report."})})})}var TD="Tabs",[gIe,m9e]=eo(TD,[Av]),AK=Av(),[xIe,DD]=gIe(TD),EK=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=bv(l),[m,p]=Bd({prop:n,onChange:a,defaultProp:i});return s.jsx(xIe,{scope:r,baseId:Xi(),value:m,onValueChange:p,orientation:o,dir:h,activationMode:c,children:s.jsx(Rr.div,{dir:h,"data-orientation":o,...d,ref:t})})});EK.displayName=TD;var CK="TabsList",_K=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=DD(CK,r),o=AK(r);return s.jsx(nT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Rr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});_K.displayName=CK;var kK="TabsTrigger",TK=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=DD(kK,r),l=AK(r),c=OK(o.baseId,n),d=RK(o.baseId,n),h=n===o.value;return s.jsx(aT,{asChild:!0,...l,focusable:!a,active:h,children:s.jsx(Rr.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:wr(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:wr(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:wr(e.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!a&&m&&o.onValueChange(n)})})})});TK.displayName=kK;var DK="TabsContent",PK=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=DD(DK,r),c=OK(l.baseId,n),d=RK(l.baseId,n),h=n===l.value,m=y.useRef(h);return y.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),s.jsx(Ri,{present:a||h,children:({present:p})=>s.jsx(Rr.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&i})})});PK.displayName=DK;function OK(e,t){return`${e}-trigger-${t}`}function RK(e,t){return`${e}-content-${t}`}var yIe=EK,vIe=_K,bIe=TK,wIe=PK;function IK({className:e,...t}){return s.jsx(yIe,{"data-slot":"tabs",className:jt("flex flex-col gap-2",e),...t})}function LK({className:e,...t}){return s.jsx(vIe,{"data-slot":"tabs-list",className:jt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function dp({className:e,...t}){return s.jsx(bIe,{"data-slot":"tabs-trigger",className:jt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function up({className:e,...t}){return s.jsx(wIe,{"data-slot":"tabs-content",className:jt("flex-1 outline-none",e),...t})}const sv="/admin/snf-orders",MK=async(e={})=>{try{return await $t(sv,e)}catch(t){throw console.error("Failed to fetch SNF orders:",t),t}},iF=async e=>{try{return await $t(`${sv}/${e}`)}catch(t){throw console.error(`Failed to fetch SNF order ${e}:`,t),t}},NIe=async(e,t={})=>{try{return await Oi(`${sv}/${e}/mark-paid`,t)}catch(r){if((r==null?void 0:r.status)===404)try{const a={paymentStatus:"PAID",paymentMode:t.paymentMode??null,paymentRefNo:t.paymentRefNo??null,paymentDate:t.paymentDate??null};return await Oi(`${sv}/${e}`,a)}catch(a){throw console.error(`Fallback update for SNF order ${e} failed:`,a),a}throw console.error(`Failed to mark SNF order ${e} as PAID:`,r),r}},jIe=async e=>{try{return await en(`${sv}/${e}/generate-invoice`,{})}catch(t){throw console.error(`Failed to generate invoice for SNF order ${e}:`,t),t}},FK=async e=>{try{const t=localStorage.getItem("authToken");if(!t)throw new Error("Authentication required");const r=await fetch(`${Vu}/api${sv}/${e}/download-invoice`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=r.headers.get("content-disposition");let a=`Invoice_${e}.pdf`;if(n){const c=n.match(/filename[^;=\n]*=(['"]?)([^'"\n]*?)\1/);c&&(a=c[2])}const i=await r.blob(),o=window.URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=a,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o)}catch(t){throw console.error("Error downloading invoice:",t),t}};class SIe{constructor(){sr(this,"workbook");this.workbook=Pn.book_new()}exportSNFOrdersReport(t,r){this.createOverviewSheet(r),this.createDepotWiseSheet(r.depotStats),this.createOrdersDetailSheet(t),this.createPaymentAnalysisSheet(r),this.createProductAnalysisSheet(r.productStats),this.createCityWiseSheet(r.cityStats);const n=`SNF_Orders_Report_${Wt(new Date,"yyyy-MM-dd")}.xlsx`;o4(this.workbook,n)}createOverviewSheet(t){const r=[["SNF Orders Report - Overview","","",""],["Generated on:",Wt(new Date,"dd/MM/yyyy HH:mm"),"",""],["","","",""],["Key Metrics","","",""],["Total Orders",t.totalOrders,"",""],["Total Customers",t.totalCustomers,"",""],["Total Amount",`${t.totalAmount.toLocaleString("en-IN")}`,"",""],["Average Order Value",`${t.avgOrderValue.toFixed(2)}`,"",""],["","","",""],["Payment Status Breakdown","Count","Amount","Percentage"],...Object.entries(t.paymentStats.byStatus).map(([a,i])=>[a,i.count,`${i.amount.toLocaleString("en-IN")}`,`${(i.count/t.totalOrders*100).toFixed(1)}%`]),["","","",""],["Payment Mode Breakdown","Count","Amount","Percentage"],...Object.entries(t.paymentStats.byMode).map(([a,i])=>[a||"Not Specified",i.count,`${i.amount.toLocaleString("en-IN")}`,`${(i.count/t.totalOrders*100).toFixed(1)}%`])],n=Pn.aoa_to_sheet(r);n["!cols"]=[{wch:25},{wch:15},{wch:20},{wch:15}],Pn.book_append_sheet(this.workbook,n,"Overview")}createDepotWiseSheet(t){const r=["Depot Name","Total Orders","Unique Customers","Total Amount","Total Quantity","Avg Order Value","Paid Orders","Pending Orders","Failed Orders","Top Product","Top Product Qty"],n=t.map(o=>{var l,c;return[o.depotName,o.totalOrders,o.totalCustomers,o.totalAmount,o.totalQuantity,o.avgOrderValue.toFixed(2),o.paymentBreakdown.paid,o.paymentBreakdown.pending,o.paymentBreakdown.failed,((l=o.topProducts[0])==null?void 0:l.name)||"N/A",((c=o.topProducts[0])==null?void 0:c.quantity)||0]}),a=[r,...n],i=Pn.aoa_to_sheet(a);i["!cols"]=r.map(()=>({wch:15})),Pn.book_append_sheet(this.workbook,i,"Depot-wise Analysis")}createOrdersDetailSheet(t){const r=["Order No","Date","Customer Name","Mobile","Email","City","State","Pincode","Depot","Items Count","Total Quantity","Subtotal","Delivery Fee","Total Amount","Payment Status","Payment Mode","Payment Ref","Payment Date","Invoice No"],n=t.map(o=>{var l;return[o.orderNo,Wt(new Date(o.orderDate),"dd/MM/yyyy"),o.customerName,o.mobile,o.email||"",o.city,o.state||"",o.pincode,((l=o.depot)==null?void 0:l.name)||"N/A",o.items.length,o.items.reduce((c,d)=>c+d.quantity,0),o.subtotal,o.deliveryFee,o.totalAmount,o.paymentStatus,o.paymentMode||"",o.paymentRefNo||"",o.paymentDate?Wt(new Date(o.paymentDate),"dd/MM/yyyy"):"",o.invoiceNo||""]}),a=[r,...n],i=Pn.aoa_to_sheet(a);i["!cols"]=[{wch:15},{wch:12},{wch:20},{wch:12},{wch:25},{wch:15},{wch:10},{wch:10},{wch:15},{wch:10},{wch:12},{wch:12},{wch:12},{wch:15},{wch:15},{wch:15},{wch:15},{wch:12},{wch:15}],Pn.book_append_sheet(this.workbook,i,"Orders Detail")}createPaymentAnalysisSheet(t){const r=[["Payment Analysis","","",""],["","","",""],["Payment Status Analysis","","",""],["Status","Count","Amount","Percentage"],...Object.entries(t.paymentStats.byStatus).map(([a,i])=>[a,i.count,i.amount,`${(i.count/t.totalOrders*100).toFixed(1)}%`]),["","","",""],["Payment Mode Analysis","","",""],["Mode","Count","Amount","Percentage"],...Object.entries(t.paymentStats.byMode).map(([a,i])=>[a||"Not Specified",i.count,i.amount,`${(i.count/t.totalOrders*100).toFixed(1)}%`])],n=Pn.aoa_to_sheet(r);n["!cols"]=[{wch:20},{wch:10},{wch:15},{wch:15}],Pn.book_append_sheet(this.workbook,n,"Payment Analysis")}createProductAnalysisSheet(t){const r=["Product Name","Variant","Total Quantity","Total Amount","Order Count","Avg Order Qty"],n=t.map(o=>[o.productName,o.variantName||"N/A",o.quantity,o.amount,o.orderCount,(o.quantity/o.orderCount).toFixed(2)]),a=[r,...n],i=Pn.aoa_to_sheet(a);i["!cols"]=[{wch:25},{wch:20},{wch:15},{wch:15},{wch:12},{wch:15}],Pn.book_append_sheet(this.workbook,i,"Product Analysis")}createCityWiseSheet(t){const r=["City","Total Orders","Unique Customers","Total Amount","Avg Order Value"],n=t.map(o=>[o.city,o.orderCount,o.customerCount,o.amount,(o.amount/o.orderCount).toFixed(2)]),a=[r,...n],i=Pn.aoa_to_sheet(a);i["!cols"]=[{wch:20},{wch:15},{wch:15},{wch:15},{wch:15}],Pn.book_append_sheet(this.workbook,i,"City-wise Analysis")}}function AIe(){const{isAdmin:e}=Bg(),[t,r]=y.useState({startDate:Wt(Dl(new Date),"yyyy-MM-dd"),endDate:Wt(TS(new Date),"yyyy-MM-dd"),groupBy:"depot",limit:1e3}),[n,a]=y.useState(new Set),[i,o]=y.useState(""),[l,c]=y.useState("overview"),{data:d,isLoading:h,refetch:m}=cs({queryKey:["snfOrdersReport",t],queryFn:async()=>{try{const v=await MK({page:1,limit:t.limit||1e3,search:"",startDate:t.startDate,endDate:t.endDate});return{orders:v.orders.map(S=>({id:S.id,orderNo:S.orderNo,customerName:S.name,mobile:S.mobile,email:S.email,city:S.city,state:"",pincode:"",addressLine1:"",addressLine2:"",subtotal:S.subtotal,deliveryFee:S.deliveryFee,totalAmount:S.totalAmount,paymentMode:S.paymentMode,paymentStatus:S.paymentStatus,paymentRefNo:"",paymentDate:"",invoiceNo:S.invoiceNo,orderDate:S.createdAt,depot:S.depot,items:[]})),totalRecords:v.totalRecords}}catch(v){throw console.error("Error fetching SNF orders for report:",v),v}},enabled:e}),p=y.useMemo(()=>{if(!(d!=null&&d.orders))return null;const v=d.orders,N=v.length,S=new Set(v.map(R=>R.mobile)).size,A=v.reduce((R,B)=>R+B.totalAmount,0),E=v.reduce((R,B)=>{var Y;return R+(((Y=B.items)==null?void 0:Y.reduce((U,Q)=>U+Q.quantity,0))||1)},0),C=N>0?A/N:0,I=new Map;v.forEach(R=>{var Q,V,Z;const B=((Q=R.depot)==null?void 0:Q.id)||0,Y=((V=R.depot)==null?void 0:V.name)||"No Depot";I.has(B)||I.set(B,{depotId:B,depotName:Y,totalOrders:0,totalCustomers:0,totalAmount:0,totalQuantity:0,avgOrderValue:0,paymentBreakdown:{paid:0,pending:0,failed:0},topProducts:[]});const U=I.get(B);U.totalOrders++,U.totalAmount+=R.totalAmount,U.totalQuantity+=((Z=R.items)==null?void 0:Z.reduce((J,ae)=>J+ae.quantity,0))||1,R.paymentStatus==="PAID"?U.paymentBreakdown.paid++:R.paymentStatus==="PENDING"?U.paymentBreakdown.pending++:U.paymentBreakdown.failed++}),v.forEach(R=>{var U;const B=((U=R.depot)==null?void 0:U.id)||0,Y=I.get(B);Y&&(Y.totalCustomers=Math.round(Y.totalOrders*.8),Y.avgOrderValue=Y.totalAmount/Y.totalOrders)});const P=Array.from(I.values()),F=new Map,k=new Map;v.forEach(R=>{const B=R.paymentStatus||"UNKNOWN";F.has(B)||F.set(B,{count:0,amount:0});const Y=F.get(B);Y.count++,Y.amount+=R.totalAmount;const U=R.paymentMode||"NOT_SPECIFIED";k.has(U)||k.set(U,{count:0,amount:0});const Q=k.get(U);Q.count++,Q.amount+=R.totalAmount});const z=new Map;v.forEach(R=>{const B=R.city;z.has(B)||z.set(B,{orderCount:0,customerCount:0,amount:0,customers:new Set});const Y=z.get(B);Y.orderCount++,Y.amount+=R.totalAmount,Y.customers.add(R.mobile)});const O=Array.from(z.entries()).map(([R,B])=>({city:R,orderCount:B.orderCount,customerCount:B.customers.size,amount:B.amount})).sort((R,B)=>B.amount-R.amount),M=[{productName:"Milk Products",variantName:"Various",quantity:E,amount:A,orderCount:N}];return{totalOrders:N,totalCustomers:S,totalAmount:A,totalQuantity:E,avgOrderValue:C,depotStats:P,paymentStats:{byStatus:Object.fromEntries(F),byMode:Object.fromEntries(k)},cityStats:O,productStats:M}},[d]),g=(v,N)=>{r(S=>({...S,[v]:N}))},w=()=>{if(!(d!=null&&d.orders)||!p){ve.error("No data to export");return}new SIe().exportSNFOrdersReport(d.orders,p),ve.success("SNF Orders report exported successfully")},b=y.useMemo(()=>!(d!=null&&d.orders)||!i?(d==null?void 0:d.orders)||[]:d.orders.filter(v=>v.customerName.toLowerCase().includes(i.toLowerCase())||v.mobile.includes(i)||v.orderNo.toLowerCase().includes(i.toLowerCase())||v.city.toLowerCase().includes(i.toLowerCase())||v.email&&v.email.toLowerCase().includes(i.toLowerCase())),[d,i]);return e?s.jsxs("div",{className:"container mx-auto py-6 px-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"SNF Orders Report"}),s.jsx("p",{className:"text-muted-foreground",children:"Comprehensive analysis of customer orders, depot performance, and sales metrics"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Ee,{onClick:()=>m(),variant:"outline",size:"sm",children:[s.jsx(Qc,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(Ee,{onClick:w,variant:"default",size:"sm",children:[s.jsx(zc,{className:"h-4 w-4 mr-2"}),"Export Excel"]})]})]}),s.jsxs(St,{children:[s.jsxs(zt,{children:[s.jsx(dr,{children:"Filters"}),s.jsx(On,{children:"Configure report parameters and date range"})]}),s.jsx(_t,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"start-date",children:"Start Date"}),s.jsx(gt,{id:"start-date",type:"date",value:t.startDate||"",onChange:v=>g("startDate",v.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"end-date",children:"End Date"}),s.jsx(gt,{id:"end-date",type:"date",value:t.endDate||"",onChange:v=>g("endDate",v.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"payment-status",children:"Payment Status"}),s.jsxs(pr,{value:t.paymentStatus||"all",onValueChange:v=>g("paymentStatus",v==="all"?"":v),children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"All Payment Status"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Status"}),s.jsx(wt,{value:"PAID",children:"Paid"}),s.jsx(wt,{value:"PENDING",children:"Pending"}),s.jsx(wt,{value:"FAILED",children:"Failed"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"search",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hn,{className:"absolute left-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(gt,{id:"search",placeholder:"Search orders, customers...",value:i,onChange:v=>o(v.target.value),className:"pl-8"})]})]})]})})]}),p&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(St,{children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(dr,{className:"text-sm font-medium",children:"Total Orders"}),s.jsx(gp,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(_t,{children:[s.jsx("div",{className:"text-2xl font-bold",children:p.totalOrders.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Across ",p.depotStats.length," depots"]})]})]}),s.jsxs(St,{children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(dr,{className:"text-sm font-medium",children:"Unique Customers"}),s.jsx(Q5,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(_t,{children:[s.jsx("div",{className:"text-2xl font-bold",children:p.totalCustomers.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(p.totalCustomers/p.totalOrders*100).toFixed(1),"% repeat rate"]})]})]}),s.jsxs(St,{children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(dr,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(b9,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(_t,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["",p.totalAmount.toLocaleString("en-IN")]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",p.avgOrderValue.toFixed(2)," per order"]})]})]}),s.jsxs(St,{children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(dr,{className:"text-sm font-medium",children:"Total Quantity"}),s.jsx(po,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(_t,{children:[s.jsx("div",{className:"text-2xl font-bold",children:p.totalQuantity.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Items delivered"})]})]})]}),s.jsxs(St,{children:[s.jsxs(zt,{children:[s.jsx(dr,{children:"Report Analysis"}),s.jsx(On,{children:"Detailed breakdown of SNF orders by different dimensions"})]}),s.jsx(_t,{children:s.jsxs(IK,{value:l,onValueChange:c,className:"w-full",children:[s.jsxs(LK,{className:"grid w-full grid-cols-4",children:[s.jsx(dp,{value:"overview",children:"Overview"}),s.jsx(dp,{value:"depot",children:"Depot-wise"}),s.jsx(dp,{value:"customer",children:"Customer Analysis"}),s.jsx(dp,{value:"payment",children:"Payment Analysis"})]}),s.jsx(up,{value:"overview",className:"space-y-4",children:h?s.jsx("div",{className:"text-center py-8",children:"Loading report data..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Order No"}),s.jsx($e,{children:"Date"}),s.jsx($e,{children:"Customer"}),s.jsx($e,{children:"Mobile"}),s.jsx($e,{children:"City"}),s.jsx($e,{children:"Depot"}),s.jsx($e,{className:"text-right",children:"Amount"}),s.jsx($e,{children:"Status"}),s.jsx($e,{children:"Payment Mode"})]})}),s.jsx(Hs,{children:b.map(v=>{var N;return s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-mono",children:v.orderNo}),s.jsx(Oe,{children:Wt(new Date(v.orderDate),"dd/MM/yyyy")}),s.jsx(Oe,{children:v.customerName}),s.jsx(Oe,{children:v.mobile}),s.jsx(Oe,{children:v.city}),s.jsx(Oe,{children:((N=v.depot)==null?void 0:N.name)||"N/A"}),s.jsxs(Oe,{className:"text-right",children:["",v.totalAmount.toFixed(2)]}),s.jsx(Oe,{children:s.jsx(Gr,{variant:v.paymentStatus==="PAID"?"default":v.paymentStatus==="PENDING"?"secondary":"destructive",children:v.paymentStatus})}),s.jsx(Oe,{children:v.paymentMode||"N/A"})]},v.id)})})]})})}),s.jsx(up,{value:"depot",className:"space-y-4",children:p&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Depot Performance Analysis"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Depot Name"}),s.jsx($e,{className:"text-right",children:"Orders"}),s.jsx($e,{className:"text-right",children:"Customers"}),s.jsx($e,{className:"text-right",children:"Total Amount"}),s.jsx($e,{className:"text-right",children:"Avg Order Value"}),s.jsx($e,{className:"text-right",children:"Paid"}),s.jsx($e,{className:"text-right",children:"Pending"}),s.jsx($e,{className:"text-right",children:"Failed"})]})}),s.jsx(Hs,{children:p.depotStats.sort((v,N)=>N.totalAmount-v.totalAmount).map(v=>s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-medium",children:v.depotName}),s.jsx(Oe,{className:"text-right",children:v.totalOrders}),s.jsx(Oe,{className:"text-right",children:v.totalCustomers}),s.jsxs(Oe,{className:"text-right",children:["",v.totalAmount.toLocaleString("en-IN")]}),s.jsxs(Oe,{className:"text-right",children:["",v.avgOrderValue.toFixed(2)]}),s.jsx(Oe,{className:"text-right text-green-600",children:v.paymentBreakdown.paid}),s.jsx(Oe,{className:"text-right text-yellow-600",children:v.paymentBreakdown.pending}),s.jsx(Oe,{className:"text-right text-red-600",children:v.paymentBreakdown.failed})]},v.depotId))})]})})]})}),s.jsx(up,{value:"customer",className:"space-y-4",children:p&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Customer Geographic Analysis"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"City"}),s.jsx($e,{className:"text-right",children:"Orders"}),s.jsx($e,{className:"text-right",children:"Unique Customers"}),s.jsx($e,{className:"text-right",children:"Total Amount"}),s.jsx($e,{className:"text-right",children:"Avg Order Value"}),s.jsx($e,{className:"text-right",children:"Revenue Share"})]})}),s.jsx(Hs,{children:p.cityStats.map(v=>s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-medium",children:v.city}),s.jsx(Oe,{className:"text-right",children:v.orderCount}),s.jsx(Oe,{className:"text-right",children:v.customerCount}),s.jsxs(Oe,{className:"text-right",children:["",v.amount.toLocaleString("en-IN")]}),s.jsxs(Oe,{className:"text-right",children:["",(v.amount/v.orderCount).toFixed(2)]}),s.jsxs(Oe,{className:"text-right",children:[(v.amount/p.totalAmount*100).toFixed(1),"%"]})]},v.city))})]})})]})}),s.jsx(up,{value:"payment",className:"space-y-4",children:p&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Status Analysis"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(p.paymentStats.byStatus).map(([v,N])=>s.jsxs(St,{children:[s.jsx(zt,{className:"pb-2",children:s.jsx(dr,{className:"text-sm",children:v})}),s.jsxs(_t,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N.count}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["",N.amount.toLocaleString("en-IN")]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[(N.count/p.totalOrders*100).toFixed(1),"% of orders"]})]})]},v))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Mode Analysis"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Payment Mode"}),s.jsx($e,{className:"text-right",children:"Count"}),s.jsx($e,{className:"text-right",children:"Total Amount"}),s.jsx($e,{className:"text-right",children:"Percentage"}),s.jsx($e,{className:"text-right",children:"Avg Order Value"})]})}),s.jsx(Hs,{children:Object.entries(p.paymentStats.byMode).sort(([,v],[,N])=>N.amount-v.amount).map(([v,N])=>s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-medium",children:v||"Not Specified"}),s.jsx(Oe,{className:"text-right",children:N.count}),s.jsxs(Oe,{className:"text-right",children:["",N.amount.toLocaleString("en-IN")]}),s.jsxs(Oe,{className:"text-right",children:[(N.count/p.totalOrders*100).toFixed(1),"%"]}),s.jsxs(Oe,{className:"text-right",children:["",(N.amount/N.count).toFixed(2)]})]},v))})]})})]})]})})]})})]}),h&&s.jsx(St,{children:s.jsx(_t,{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),s.jsx("span",{children:"Loading report data..."})]})})})]}):s.jsx(St,{className:"m-4",children:s.jsx(_t,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-600",children:"You don't have permission to view this report."})})})}const oF=Vu;function EIe(){var E,C,I,P,F,k,z,O;Bg();const e=y.useMemo(()=>{try{const M=localStorage.getItem("user");return M?JSON.parse(M):null}catch(M){return console.error("Failed to parse user data:",M),null}},[]),t=y.useMemo(()=>{var R;if(!e)return!1;const M=(R=e.role)==null?void 0:R.toUpperCase();return M==="ADMIN"||M==="SUPER_ADMIN"||M.includes("ADMIN")||M.includes("DEPOT")},[e]),r=y.useMemo(()=>{var M,R;return(R=(M=e==null?void 0:e.role)==null?void 0:M.toUpperCase())==null?void 0:R.includes("DEPOT")},[e]),[n,a]=y.useState(()=>{const M={deliveryDate:Wt(new Date,"yyyy-MM-dd"),status:"ALL"};return r&&(e!=null&&e.depotId)&&(M.depotId=e.depotId),M}),[i,o]=y.useState(new Set),[l,c]=y.useState(new Set),[d,h]=y.useState(""),{data:m}=cs({queryKey:["deliveryReportFilters"],queryFn:async()=>{const M=localStorage.getItem("authToken")||localStorage.getItem("token");return(await dn.get(`${oF}/api/admin/reports/filters`,{headers:{Authorization:`Bearer ${M}`}})).data},enabled:t}),{data:p,isLoading:g,refetch:w}=cs({queryKey:["deliveryDateOrdersReport",n],queryFn:async()=>{const M=new URLSearchParams;Object.entries(n).forEach(([Y,U])=>{U&&M.append(Y,U.toString())});const R=localStorage.getItem("authToken")||localStorage.getItem("token");return(await dn.get(`${oF}/api/admin/reports/delivery-date-orders?${M.toString()}`,{headers:{Authorization:`Bearer ${R}`}})).data},enabled:t}),b=(M,R)=>{a(B=>({...B,[M]:R}))},v=M=>{o(R=>{const B=new Set(R);return B.has(M)?B.delete(M):B.add(M),B})},N=M=>{c(R=>{const B=new Set(R);return B.has(M)?B.delete(M):B.add(M),B})},S=()=>{if(!(p!=null&&p.data)){ve.error("No data to export");return}try{const M=Pn.book_new(),R=[];R.push(["Delivery Date Orders Report"]),R.push(["Generated on:",Wt(new Date,"dd MMM yyyy HH:mm")]),R.push(["Delivery Date:",n.deliveryDate||"All Dates"]),R.push(["Total Orders:",p.summary.totalOrders,"","Total Amount:",`${p.summary.totalAmount.toLocaleString("en-IN")}`]),R.push(["","","","","",""]),p.data.forEach(V=>{R.push([`DELIVERY DATE: ${V.date==="No Delivery Date"?"No Delivery Date":Wt(new Date(V.date),"dd MMM yyyy")}`,"","",`Orders: ${V.totalOrders}`,"",`Amount: ${V.totalAmount.toLocaleString("en-IN")}`]),R.push(["","","","","",""]),V.products.forEach(Z=>{R.push([`  PRODUCT: ${Z.productName}`,`Category: ${Z.categoryName}`,`Qty: ${Z.totalQuantity}`,`Amount: ${Z.totalAmount.toLocaleString("en-IN")}`,"",""]),R.push(["    Variant","Depot","MRP","Price","Quantity","Amount"]),Z.depotVariants.forEach(J=>{J.orders.forEach((ae,D)=>{R.push([`    ${J.depotVariantName}`,J.depotName,`${J.mrp}`,`${J.priceAtPurchase}`,ae.quantity,`${ae.lineAmount.toLocaleString("en-IN")}`])})}),R.push(["","","","","",""])}),R.push(["","","","","",""])});const B=Pn.aoa_to_sheet(R),Y=[{wch:30},{wch:15},{wch:10},{wch:10},{wch:8},{wch:12}];B["!cols"]=Y,Pn.book_append_sheet(M,B,"Delivery Orders Report");const Q=`Delivery_Orders_${n.deliveryDate?Wt(new Date(n.deliveryDate),"ddMMyyyy"):"all_dates"}.xlsx`;o4(M,Q),ve.success("Report exported successfully")}catch(M){console.error("Export error:",M),ve.error("Failed to export report")}},A=y.useMemo(()=>{if(!(p!=null&&p.data)||!d.trim())return(p==null?void 0:p.data)||[];const M=d.toLowerCase();return p.data.filter(R=>R.products.some(B=>B.productName.toLowerCase().includes(M)||B.categoryName.toLowerCase().includes(M)||B.depotVariants.some(Y=>Y.depotVariantName.toLowerCase().includes(M)||Y.depotName.toLowerCase().includes(M)||Y.orders.some(U=>U.vendorName.toLowerCase().includes(M)||U.agencyName.toLowerCase().includes(M)||U.poNumber&&U.poNumber.toLowerCase().includes(M)))))},[p==null?void 0:p.data,d]);return t?s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(St,{children:s.jsxs(zt,{children:[s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(Ma,{className:"h-6 w-6"}),"Delivery Date Orders Report"]}),s.jsx(On,{children:"View orders grouped by delivery date, products, and depot variants with detailed breakdowns"})]})}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(Qc,{className:"h-5 w-5"}),"Filters"]})}),s.jsxs(_t,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"deliveryDate",children:"Delivery Date"}),s.jsx(gt,{id:"deliveryDate",type:"date",value:n.deliveryDate||"",onChange:M=>b("deliveryDate",M.target.value)})]}),!r&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"depot",children:"Depot"}),s.jsxs(pr,{value:((E=n.depotId)==null?void 0:E.toString())||"all",onValueChange:M=>b("depotId",M==="all"?void 0:parseInt(M)),children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"All Depots"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Depots"}),((I=(C=m==null?void 0:m.filters)==null?void 0:C.depots)==null?void 0:I.map(M=>s.jsx(wt,{value:M.id.toString(),children:M.name},M.id)))||[]]})]})]}),r?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Current Depot"}),s.jsx("div",{className:"px-3 py-2 bg-gray-50 border rounded-md text-sm",children:((k=(F=(P=m==null?void 0:m.filters)==null?void 0:P.depots)==null?void 0:F.find(M=>M.id===(e==null?void 0:e.depotId)))==null?void 0:k.name)||"Your Depot"})]}):null,s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"status",children:"Status"}),s.jsxs(pr,{value:n.status||"ALL",onValueChange:M=>b("status",M),children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"All Status"})}),s.jsx(yr,{children:((O=(z=m==null?void 0:m.filters)==null?void 0:z.statusOptions)==null?void 0:O.map(M=>s.jsx(wt,{value:M.value,children:M.label},M.value)))||[]})]})]})]})]}),(p==null?void 0:p.summary)&&s.jsxs(St,{children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(dr,{children:"Report Summary"}),s.jsxs(On,{children:[p.summary.totalOrders," orders  ",p.summary.totalAmount.toLocaleString("en-IN")," total"]})]}),s.jsxs(Ee,{onClick:S,className:"flex items-center gap-2",children:[s.jsx(Mte,{className:"h-4 w-4"}),"Export to Excel"]})]}),s.jsx(_t,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.summary.totalOrders}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Orders"})]}),s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["",p.summary.totalAmount.toLocaleString("en-IN")]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount"})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.summary.uniqueProducts}),s.jsx("div",{className:"text-sm text-gray-600",children:"Products"})]})]})})]}),g?s.jsx(St,{children:s.jsx(_t,{className:"p-6",children:s.jsx("div",{className:"text-center",children:"Loading report data..."})})}):A.length===0?s.jsx(St,{children:s.jsx(_t,{className:"p-6",children:s.jsx("div",{className:"text-center text-gray-500",children:"No data found for the selected filters."})})}):s.jsx("div",{className:"space-y-4",children:A.map((M,R)=>s.jsx(St,{children:s.jsxs(BC,{open:i.has(M.date),onOpenChange:()=>v(M.date),children:[s.jsx(UC,{asChild:!0,children:s.jsx(zt,{className:"cursor-pointer hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[i.has(M.date)?s.jsx(Ia,{className:"h-4 w-4"}):s.jsx(cc,{className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsx(dr,{className:"text-lg",children:M.date==="No Delivery Date"?"No Delivery Date":Wt(new Date(M.date),"dd MMM yyyy")}),s.jsxs(On,{children:[M.totalOrders," orders  ",M.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]}),s.jsxs(Gr,{variant:"secondary",children:[M.products.length," products"]})]})})}),s.jsx($C,{children:s.jsx(_t,{className:"pt-0",children:s.jsx("div",{className:"space-y-3",children:M.products.map((B,Y)=>{const U=`${M.date}-${B.productId}`;return s.jsx("div",{className:"border rounded-lg",children:s.jsxs(BC,{open:l.has(U),onOpenChange:()=>N(U),children:[s.jsx(UC,{asChild:!0,children:s.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[l.has(U)?s.jsx(Ia,{className:"h-4 w-4"}):s.jsx(cc,{className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:B.productName}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Category: ",B.categoryName,"  Qty: ",B.totalQuantity,"  ",B.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]}),s.jsxs(Gr,{variant:"outline",children:[B.depotVariants.length," variants"]})]})}),s.jsx($C,{children:s.jsx("div",{className:"px-3 pb-3",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Depot Variant"}),s.jsx($e,{children:"Depot"}),s.jsx($e,{className:"text-right",children:"MRP"}),s.jsx($e,{className:"text-right",children:"Purchase Price"}),s.jsx($e,{className:"text-right",children:"Quantity"}),s.jsx($e,{className:"text-right",children:"Total Amount"}),s.jsx($e,{className:"text-center",children:"Orders"})]})}),s.jsx(Hs,{children:B.depotVariants.map((Q,V)=>s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-medium",children:Q.depotVariantName}),s.jsx(Oe,{children:Q.depotName}),s.jsxs(Oe,{className:"text-right",children:["",Q.mrp.toLocaleString("en-IN",{minimumFractionDigits:2})]}),s.jsxs(Oe,{className:"text-right",children:["",Q.priceAtPurchase.toLocaleString("en-IN",{minimumFractionDigits:2})]}),s.jsx(Oe,{className:"text-right font-medium",children:Q.totalQuantity}),s.jsxs(Oe,{className:"text-right font-medium",children:["",Q.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2})]}),s.jsx(Oe,{className:"text-center",children:s.jsx(Gr,{variant:"secondary",children:Q.orders.length})})]},`${Q.depotVariantId||"no-id"}-${V}`))})]})})})]})},U)})})})})]})},M.date))})]}):s.jsx(St,{className:"m-6",children:s.jsxs(zt,{children:[s.jsx(dr,{className:"text-red-600",children:"Access Denied"}),s.jsx(On,{children:"You don't have permission to view this report."})]})})}function Vn(e){"@babel/helpers - typeof";return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(e)}var $u=Uint8Array,Uc=Uint16Array,PD=Int32Array,OD=new $u([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),RD=new $u([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lF=new $u([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),BK=function(e,t){for(var r=new Uc(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new PD(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},UK=BK(OD,2),CIe=UK.b,J_=UK.r;CIe[28]=258,J_[258]=28;var _Ie=BK(RD,0),cF=_Ie.r,ek=new Uc(32768);for(var ga=0;ga<32768;++ga){var Um=(ga&43690)>>1|(ga&21845)<<1;Um=(Um&52428)>>2|(Um&13107)<<2,Um=(Um&61680)>>4|(Um&3855)<<4,ek[ga]=((Um&65280)>>8|(Um&255)<<8)>>1}var xb=function(e,t,r){for(var n=e.length,a=0,i=new Uc(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new Uc(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Uc(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var d=a<<4|e[a],h=t-e[a],m=o[e[a]-1]++<<h,p=m|(1<<h)-1;m<=p;++m)l[ek[m]>>c]=d}else for(l=new Uc(n),a=0;a<n;++a)e[a]&&(l[a]=ek[o[e[a]-1]++]>>15-e[a]);return l},ug=new $u(288);for(var ga=0;ga<144;++ga)ug[ga]=8;for(var ga=144;ga<256;++ga)ug[ga]=9;for(var ga=256;ga<280;++ga)ug[ga]=7;for(var ga=280;ga<288;++ga)ug[ga]=8;var M5=new $u(32);for(var ga=0;ga<32;++ga)M5[ga]=5;var kIe=xb(ug,9,0),TIe=xb(M5,5,0),$K=function(e){return(e+7)/8|0},DIe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new $u(e.subarray(t,r))},wf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},z1=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},g3=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:qK,l:0};if(a==1){var o=new $u(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(C,I){return C.f-I.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,h=1,m=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};h!=a-1;)l=r[r[d].f<r[m].f?d++:m++],c=r[d!=h&&r[d].f<r[m].f?d++:m++],r[h++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var g=new Uc(p+1),w=tk(r[h-1],g,0);if(w>t){var n=0,b=0,v=w-t,N=1<<v;for(i.sort(function(I,P){return g[P.s]-g[I.s]||I.f-P.f});n<a;++n){var S=i[n].s;if(g[S]>t)b+=N-(1<<w-g[S]),g[S]=t;else break}for(b>>=v;b>0;){var A=i[n].s;g[A]<t?b-=1<<t-g[A]++-1:++n}for(;n>=0&&b;--n){var E=i[n].s;g[E]==t&&(--g[E],++b)}w=t}return{t:new $u(g),l:w}},tk=function(e,t,r){return e.s==-1?Math.max(tk(e.l,t,r+1),tk(e.r,t,r+1)):t[e.s]=r},dF=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Uc(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},H1=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},VK=function(e,t,r){var n=r.length,a=$K(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},uF=function(e,t,r,n,a,i,o,l,c,d,h){wf(t,h++,r),++a[256];for(var m=g3(a,15),p=m.t,g=m.l,w=g3(i,15),b=w.t,v=w.l,N=dF(p),S=N.c,A=N.n,E=dF(b),C=E.c,I=E.n,P=new Uc(19),F=0;F<S.length;++F)++P[S[F]&31];for(var F=0;F<C.length;++F)++P[C[F]&31];for(var k=g3(P,7),z=k.t,O=k.l,M=19;M>4&&!z[lF[M-1]];--M);var R=d+5<<3,B=H1(a,ug)+H1(i,M5)+o,Y=H1(a,p)+H1(i,b)+o+14+3*M+H1(P,z)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&R<=B&&R<=Y)return VK(t,h,e.subarray(c,c+d));var U,Q,V,Z;if(wf(t,h,1+(Y<B)),h+=2,Y<B){U=xb(p,g,0),Q=p,V=xb(b,v,0),Z=b;var J=xb(z,O,0);wf(t,h,A-257),wf(t,h+5,I-1),wf(t,h+10,M-4),h+=14;for(var F=0;F<M;++F)wf(t,h+3*F,z[lF[F]]);h+=3*M;for(var ae=[S,C],D=0;D<2;++D)for(var H=ae[D],F=0;F<H.length;++F){var K=H[F]&31;wf(t,h,J[K]),h+=z[K],K>15&&(wf(t,h,H[F]>>5&127),h+=H[F]>>12)}}else U=kIe,Q=ug,V=TIe,Z=M5;for(var F=0;F<l;++F){var W=n[F];if(W>255){var K=W>>18&31;z1(t,h,U[K+257]),h+=Q[K+257],K>7&&(wf(t,h,W>>23&31),h+=OD[K]);var re=W&31;z1(t,h,V[re]),h+=Z[re],re>3&&(z1(t,h,W>>5&8191),h+=RD[re])}else z1(t,h,U[W]),h+=Q[W]}return z1(t,h,U[256]),h+Q[256]},PIe=new PD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qK=new $u(0),OIe=function(e,t,r,n,a,i){var o=i.z||e.length,l=new $u(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),d=i.l,h=(i.r||0)&7;if(t){h&&(c[0]=i.r>>3);for(var m=PIe[t-1],p=m>>13,g=m&8191,w=(1<<r)-1,b=i.p||new Uc(32768),v=i.h||new Uc(w+1),N=Math.ceil(r/3),S=2*N,A=function(ke){return(e[ke]^e[ke+1]<<N^e[ke+2]<<S)&w},E=new PD(25e3),C=new Uc(288),I=new Uc(32),P=0,F=0,k=i.i||0,z=0,O=i.w||0,M=0;k+2<o;++k){var R=A(k),B=k&32767,Y=v[R];if(b[B]=Y,v[R]=B,O<=k){var U=o-k;if((P>7e3||z>24576)&&(U>423||!d)){h=uF(e,c,0,E,C,I,F,z,M,k-M,h),z=P=F=0,M=k;for(var Q=0;Q<286;++Q)C[Q]=0;for(var Q=0;Q<30;++Q)I[Q]=0}var V=2,Z=0,J=g,ae=B-Y&32767;if(U>2&&R==A(k-ae))for(var D=Math.min(p,U)-1,H=Math.min(32767,k),K=Math.min(258,U);ae<=H&&--J&&B!=Y;){if(e[k+V]==e[k+V-ae]){for(var W=0;W<K&&e[k+W]==e[k+W-ae];++W);if(W>V){if(V=W,Z=ae,W>D)break;for(var re=Math.min(ae,W-2),te=0,Q=0;Q<re;++Q){var ie=k-ae+Q&32767,se=b[ie],le=ie-se&32767;le>te&&(te=le,Y=ie)}}}B=Y,Y=b[B],ae+=B-Y&32767}if(Z){E[z++]=268435456|J_[V]<<18|cF[Z];var Ce=J_[V]&31,De=cF[Z]&31;F+=OD[Ce]+RD[De],++C[257+Ce],++I[De],O=k+V,++P}else E[z++]=e[k],++C[e[k]]}}for(k=Math.max(k,O);k<o;++k)E[z++]=e[k],++C[e[k]];h=uF(e,c,d,E,C,I,F,z,M,k-M,h),d||(i.r=h&7|c[h/8|0]<<3,h-=7,i.h=v,i.p=b,i.i=k,i.w=O)}else{for(var k=i.w||0;k<o+d;k+=65535){var Ze=k+65535;Ze>=o&&(c[h/8|0]=d,Ze=o),h=VK(c,h+1,e.subarray(k,Ze))}i.i=o}return DIe(l,0,n+$K(h)+a)},zK=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},RIe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new $u(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return OIe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},HK=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},IIe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=zK();a.p(t.dictionary),HK(e,2,a.d())}};function rk(e,t){t||(t={});var r=zK();r.p(e);var n=RIe(e,t,t.dictionary?6:2,4);return IIe(n,t),HK(n,n.length-4,r.d()),n}var LIe=typeof TextDecoder<"u"&&new TextDecoder,MIe=0;try{LIe.decode(qK,{stream:!0}),MIe=1}catch{}function FIe(e){if(Array.isArray(e))return e}function BIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function hF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function UIe(e,t){if(e){if(typeof e=="string")return hF(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hF(e,t):void 0}}function $Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fF(e,t){return FIe(e)||BIe(e,t)||UIe(e,t)||$Ie()}function mF(e,t="utf8"){return new TextDecoder(t).decode(e)}const VIe=new TextEncoder;function qIe(e){return VIe.encode(e)}const zIe=1024*8,HIe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),x3={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ID{constructor(t=zIe,r={}){sr(this,"buffer");sr(this,"byteLength");sr(this,"byteOffset");sr(this,"length");sr(this,"offset");sr(this,"lastWrittenByte");sr(this,"littleEndian");sr(this,"_data");sr(this,"_mark");sr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof ID)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=x3[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===HIe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new x3[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new x3[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return mF(this.readBytes(t))}decodeText(t=1,r="utf8"){return mF(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(qIe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Lv(e){let t=e.length;for(;--t>=0;)e[t]=0}const WIe=3,GIe=258,WK=29,YIe=256,KIe=YIe+1+WK,GK=30,QIe=512,XIe=new Array((KIe+2)*2);Lv(XIe);const ZIe=new Array(GK*2);Lv(ZIe);const JIe=new Array(QIe);Lv(JIe);const eLe=new Array(GIe-WIe+1);Lv(eLe);const tLe=new Array(WK);Lv(tLe);const rLe=new Array(GK);Lv(rLe);const sLe=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var sk=sLe;const nLe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},aLe=new Uint32Array(nLe()),iLe=(e,t,r,n)=>{const a=aLe,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var xh=iLe,nk={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},YK={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const oLe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var lLe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)oLe(r,n)&&(e[n]=r[n])}}return e},cLe=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let o=e[n];r.set(o,a),a+=o.length}return r},KK={assign:lLe,flattenChunks:cLe};let QK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{QK=!1}const y2=new Uint8Array(256);for(let e=0;e<256;e++)y2[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;y2[254]=y2[254]=1;var dLe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const uLe=(e,t)=>{if(t<65534&&e.subarray&&QK)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var hLe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){i[a++]=o;continue}let l=y2[o];if(l>4){i[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return uLe(i,a)},fLe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+y2[e[r]]>t?r:t},ak={string2buf:dLe,buf2string:hLe,utf8border:fLe};function mLe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var pLe=mLe;const tj=16209,gLe=16191;var xLe=function(t,r){let n,a,i,o,l,c,d,h,m,p,g,w,b,v,N,S,A,E,C,I,P,F,k,z;const O=t.state;n=t.next_in,k=t.input,a=n+(t.avail_in-5),i=t.next_out,z=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=O.dmax,d=O.wsize,h=O.whave,m=O.wnext,p=O.window,g=O.hold,w=O.bits,b=O.lencode,v=O.distcode,N=(1<<O.lenbits)-1,S=(1<<O.distbits)-1;e:do{w<15&&(g+=k[n++]<<w,w+=8,g+=k[n++]<<w,w+=8),A=b[g&N];t:for(;;){if(E=A>>>24,g>>>=E,w-=E,E=A>>>16&255,E===0)z[i++]=A&65535;else if(E&16){C=A&65535,E&=15,E&&(w<E&&(g+=k[n++]<<w,w+=8),C+=g&(1<<E)-1,g>>>=E,w-=E),w<15&&(g+=k[n++]<<w,w+=8,g+=k[n++]<<w,w+=8),A=v[g&S];r:for(;;){if(E=A>>>24,g>>>=E,w-=E,E=A>>>16&255,E&16){if(I=A&65535,E&=15,w<E&&(g+=k[n++]<<w,w+=8,w<E&&(g+=k[n++]<<w,w+=8)),I+=g&(1<<E)-1,I>c){t.msg="invalid distance too far back",O.mode=tj;break e}if(g>>>=E,w-=E,E=i-o,I>E){if(E=I-E,E>h&&O.sane){t.msg="invalid distance too far back",O.mode=tj;break e}if(P=0,F=p,m===0){if(P+=d-E,E<C){C-=E;do z[i++]=p[P++];while(--E);P=i-I,F=z}}else if(m<E){if(P+=d+m-E,E-=m,E<C){C-=E;do z[i++]=p[P++];while(--E);if(P=0,m<C){E=m,C-=E;do z[i++]=p[P++];while(--E);P=i-I,F=z}}}else if(P+=m-E,E<C){C-=E;do z[i++]=p[P++];while(--E);P=i-I,F=z}for(;C>2;)z[i++]=F[P++],z[i++]=F[P++],z[i++]=F[P++],C-=3;C&&(z[i++]=F[P++],C>1&&(z[i++]=F[P++]))}else{P=i-I;do z[i++]=z[P++],z[i++]=z[P++],z[i++]=z[P++],C-=3;while(C>2);C&&(z[i++]=z[P++],C>1&&(z[i++]=z[P++]))}}else if((E&64)===0){A=v[(A&65535)+(g&(1<<E)-1)];continue r}else{t.msg="invalid distance code",O.mode=tj;break e}break}}else if((E&64)===0){A=b[(A&65535)+(g&(1<<E)-1)];continue t}else if(E&32){O.mode=gLe;break e}else{t.msg="invalid literal/length code",O.mode=tj;break e}break}}while(n<a&&i<l);C=w>>3,n-=C,w-=C<<3,g&=(1<<w)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<l?257+(l-i):257-(i-l),O.hold=g,O.bits=w};const Tx=15,pF=852,gF=592,xF=0,y3=1,yF=2,yLe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vLe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bLe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wLe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),NLe=(e,t,r,n,a,i,o,l)=>{const c=l.bits;let d=0,h=0,m=0,p=0,g=0,w=0,b=0,v=0,N=0,S=0,A,E,C,I,P,F=null,k;const z=new Uint16Array(Tx+1),O=new Uint16Array(Tx+1);let M=null,R,B,Y;for(d=0;d<=Tx;d++)z[d]=0;for(h=0;h<n;h++)z[t[r+h]]++;for(g=c,p=Tx;p>=1&&z[p]===0;p--);if(g>p&&(g=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<p&&z[m]===0;m++);for(g<m&&(g=m),v=1,d=1;d<=Tx;d++)if(v<<=1,v-=z[d],v<0)return-1;if(v>0&&(e===xF||p!==1))return-1;for(O[1]=0,d=1;d<Tx;d++)O[d+1]=O[d]+z[d];for(h=0;h<n;h++)t[r+h]!==0&&(o[O[t[r+h]]++]=h);if(e===xF?(F=M=o,k=20):e===y3?(F=yLe,M=vLe,k=257):(F=bLe,M=wLe,k=0),S=0,h=0,d=m,P=i,w=g,b=0,C=-1,N=1<<g,I=N-1,e===y3&&N>pF||e===yF&&N>gF)return 1;for(;;){R=d-b,o[h]+1<k?(B=0,Y=o[h]):o[h]>=k?(B=M[o[h]-k],Y=F[o[h]-k]):(B=96,Y=0),A=1<<d-b,E=1<<w,m=E;do E-=A,a[P+(S>>b)+E]=R<<24|B<<16|Y|0;while(E!==0);for(A=1<<d-1;S&A;)A>>=1;if(A!==0?(S&=A-1,S+=A):S=0,h++,--z[d]===0){if(d===p)break;d=t[r+o[h]]}if(d>g&&(S&I)!==C){for(b===0&&(b=g),P+=m,w=d-b,v=1<<w;w+b<p&&(v-=z[w+b],!(v<=0));)w++,v<<=1;if(N+=1<<w,e===y3&&N>pF||e===yF&&N>gF)return 1;C=S&I,a[C]=g<<24|w<<16|P-i|0}}return S!==0&&(a[P+S]=d-b<<24|64<<16|0),l.bits=g,0};var yb=NLe;const jLe=0,XK=1,ZK=2,{Z_FINISH:vF,Z_BLOCK:SLe,Z_TREES:rj,Z_OK:hg,Z_STREAM_END:ALe,Z_NEED_DICT:ELe,Z_STREAM_ERROR:Ud,Z_DATA_ERROR:JK,Z_MEM_ERROR:eQ,Z_BUF_ERROR:CLe,Z_DEFLATED:bF}=YK,m4=16180,wF=16181,NF=16182,jF=16183,SF=16184,AF=16185,EF=16186,CF=16187,_F=16188,kF=16189,F5=16190,Nf=16191,v3=16192,TF=16193,b3=16194,DF=16195,PF=16196,OF=16197,RF=16198,sj=16199,nj=16200,IF=16201,LF=16202,MF=16203,FF=16204,BF=16205,w3=16206,UF=16207,$F=16208,Na=16209,tQ=16210,rQ=16211,_Le=852,kLe=592,TLe=15,DLe=TLe,VF=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function PLe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ug=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<m4||t.mode>rQ?1:0},sQ=e=>{if(Ug(e))return Ud;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=m4,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(_Le),t.distcode=t.distdyn=new Int32Array(kLe),t.sane=1,t.back=-1,hg},nQ=e=>{if(Ug(e))return Ud;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,sQ(e)},aQ=(e,t)=>{let r;if(Ug(e))return Ud;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ud:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,nQ(e))},iQ=(e,t)=>{if(!e)return Ud;const r=new PLe;e.state=r,r.strm=e,r.window=null,r.mode=m4;const n=aQ(e,t);return n!==hg&&(e.state=null),n},OLe=e=>iQ(e,DLe);let qF=!0,N3,j3;const RLe=e=>{if(qF){N3=new Int32Array(512),j3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(yb(XK,e.lens,0,288,N3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;yb(ZK,e.lens,0,32,j3,0,e.work,{bits:5}),qF=!1}e.lencode=N3,e.lenbits=9,e.distcode=j3,e.distbits=5},oQ=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},ILe=(e,t)=>{let r,n,a,i,o,l,c,d,h,m,p,g,w,b,v=0,N,S,A,E,C,I,P,F;const k=new Uint8Array(4);let z,O;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ug(e)||!e.output||!e.input&&e.avail_in!==0)return Ud;r=e.state,r.mode===Nf&&(r.mode=v3),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,d=r.hold,h=r.bits,m=l,p=c,F=hg;e:for(;;)switch(r.mode){case m4:if(r.wrap===0){r.mode=v3;break}for(;h<16;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=d&255,k[1]=d>>>8&255,r.check=xh(r.check,k,2,0),d=0,h=0,r.mode=wF;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=Na;break}if((d&15)!==bF){e.msg="unknown compression method",r.mode=Na;break}if(d>>>=4,h-=4,P=(d&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){e.msg="invalid window size",r.mode=Na;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?kF:Nf,d=0,h=0;break;case wF:for(;h<16;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}if(r.flags=d,(r.flags&255)!==bF){e.msg="unknown compression method",r.mode=Na;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Na;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,r.check=xh(r.check,k,2,0)),d=0,h=0,r.mode=NF;case NF:for(;h<32;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,k[2]=d>>>16&255,k[3]=d>>>24&255,r.check=xh(r.check,k,4,0)),d=0,h=0,r.mode=jF;case jF:for(;h<16;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,r.check=xh(r.check,k,2,0)),d=0,h=0,r.mode=SF;case SF:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,r.check=xh(r.check,k,2,0)),d=0,h=0}else r.head&&(r.head.extra=null);r.mode=AF;case AF:if(r.flags&1024&&(g=r.length,g>l&&(g=l),g&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+g),P)),r.flags&512&&r.wrap&4&&(r.check=xh(r.check,n,g,i)),l-=g,i+=g,r.length-=g),r.length))break e;r.length=0,r.mode=EF;case EF:if(r.flags&2048){if(l===0)break e;g=0;do P=n[i+g++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=xh(r.check,n,g,i)),l-=g,i+=g,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=CF;case CF:if(r.flags&4096){if(l===0)break e;g=0;do P=n[i+g++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=xh(r.check,n,g,i)),l-=g,i+=g,P)break e}else r.head&&(r.head.comment=null);r.mode=_F;case _F:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Na;break}d=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Nf;break;case kF:for(;h<32;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}e.adler=r.check=VF(d),d=0,h=0,r.mode=F5;case F5:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=h,ELe;e.adler=r.check=1,r.mode=Nf;case Nf:if(t===SLe||t===rj)break e;case v3:if(r.last){d>>>=h&7,h-=h&7,r.mode=w3;break}for(;h<3;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}switch(r.last=d&1,d>>>=1,h-=1,d&3){case 0:r.mode=TF;break;case 1:if(RLe(r),r.mode=sj,t===rj){d>>>=2,h-=2;break e}break;case 2:r.mode=PF;break;case 3:e.msg="invalid block type",r.mode=Na}d>>>=2,h-=2;break;case TF:for(d>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Na;break}if(r.length=d&65535,d=0,h=0,r.mode=b3,t===rj)break e;case b3:r.mode=DF;case DF:if(g=r.length,g){if(g>l&&(g=l),g>c&&(g=c),g===0)break e;a.set(n.subarray(i,i+g),o),l-=g,i+=g,c-=g,o+=g,r.length-=g;break}r.mode=Nf;break;case PF:for(;h<14;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}if(r.nlen=(d&31)+257,d>>>=5,h-=5,r.ndist=(d&31)+1,d>>>=5,h-=5,r.ncode=(d&15)+4,d>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Na;break}r.have=0,r.mode=OF;case OF:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}r.lens[M[r.have++]]=d&7,d>>>=3,h-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,z={bits:r.lenbits},F=yb(jLe,r.lens,0,19,r.lencode,0,r.work,z),r.lenbits=z.bits,F){e.msg="invalid code lengths set",r.mode=Na;break}r.have=0,r.mode=RF;case RF:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[d&(1<<r.lenbits)-1],N=v>>>24,S=v>>>16&255,A=v&65535,!(N<=h);){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}if(A<16)d>>>=N,h-=N,r.lens[r.have++]=A;else{if(A===16){for(O=N+2;h<O;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}if(d>>>=N,h-=N,r.have===0){e.msg="invalid bit length repeat",r.mode=Na;break}P=r.lens[r.have-1],g=3+(d&3),d>>>=2,h-=2}else if(A===17){for(O=N+3;h<O;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}d>>>=N,h-=N,P=0,g=3+(d&7),d>>>=3,h-=3}else{for(O=N+7;h<O;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}d>>>=N,h-=N,P=0,g=11+(d&127),d>>>=7,h-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Na;break}for(;g--;)r.lens[r.have++]=P}}if(r.mode===Na)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Na;break}if(r.lenbits=9,z={bits:r.lenbits},F=yb(XK,r.lens,0,r.nlen,r.lencode,0,r.work,z),r.lenbits=z.bits,F){e.msg="invalid literal/lengths set",r.mode=Na;break}if(r.distbits=6,r.distcode=r.distdyn,z={bits:r.distbits},F=yb(ZK,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,z),r.distbits=z.bits,F){e.msg="invalid distances set",r.mode=Na;break}if(r.mode=sj,t===rj)break e;case sj:r.mode=nj;case nj:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=h,xLe(e,p),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,d=r.hold,h=r.bits,r.mode===Nf&&(r.back=-1);break}for(r.back=0;v=r.lencode[d&(1<<r.lenbits)-1],N=v>>>24,S=v>>>16&255,A=v&65535,!(N<=h);){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}if(S&&(S&240)===0){for(E=N,C=S,I=A;v=r.lencode[I+((d&(1<<E+C)-1)>>E)],N=v>>>24,S=v>>>16&255,A=v&65535,!(E+N<=h);){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}d>>>=E,h-=E,r.back+=E}if(d>>>=N,h-=N,r.back+=N,r.length=A,S===0){r.mode=BF;break}if(S&32){r.back=-1,r.mode=Nf;break}if(S&64){e.msg="invalid literal/length code",r.mode=Na;break}r.extra=S&15,r.mode=IF;case IF:if(r.extra){for(O=r.extra;h<O;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=LF;case LF:for(;v=r.distcode[d&(1<<r.distbits)-1],N=v>>>24,S=v>>>16&255,A=v&65535,!(N<=h);){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}if((S&240)===0){for(E=N,C=S,I=A;v=r.distcode[I+((d&(1<<E+C)-1)>>E)],N=v>>>24,S=v>>>16&255,A=v&65535,!(E+N<=h);){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}d>>>=E,h-=E,r.back+=E}if(d>>>=N,h-=N,r.back+=N,S&64){e.msg="invalid distance code",r.mode=Na;break}r.offset=A,r.extra=S&15,r.mode=MF;case MF:if(r.extra){for(O=r.extra;h<O;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Na;break}r.mode=FF;case FF:if(c===0)break e;if(g=p-c,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Na;break}g>r.wnext?(g-=r.wnext,w=r.wsize-g):w=r.wnext-g,g>r.length&&(g=r.length),b=r.window}else b=a,w=o-r.offset,g=r.length;g>c&&(g=c),c-=g,r.length-=g;do a[o++]=b[w++];while(--g);r.length===0&&(r.mode=nj);break;case BF:if(c===0)break e;a[o++]=r.length,c--,r.mode=nj;break;case w3:if(r.wrap){for(;h<32;){if(l===0)break e;l--,d|=n[i++]<<h,h+=8}if(p-=c,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?xh(r.check,a,p,o-p):sk(r.check,a,p,o-p)),p=c,r.wrap&4&&(r.flags?d:VF(d))!==r.check){e.msg="incorrect data check",r.mode=Na;break}d=0,h=0}r.mode=UF;case UF:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,d+=n[i++]<<h,h+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Na;break}d=0,h=0}r.mode=$F;case $F:F=ALe;break e;case Na:F=JK;break e;case tQ:return eQ;case rQ:default:return Ud}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=h,(r.wsize||p!==e.avail_out&&r.mode<Na&&(r.mode<w3||t!==vF))&&oQ(e,e.output,e.next_out,p-e.avail_out),m-=e.avail_in,p-=e.avail_out,e.total_in+=m,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?xh(r.check,a,p,e.next_out-p):sk(r.check,a,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Nf?128:0)+(r.mode===sj||r.mode===b3?256:0),(m===0&&p===0||t===vF)&&F===hg&&(F=CLe),F},LLe=e=>{if(Ug(e))return Ud;let t=e.state;return t.window&&(t.window=null),e.state=null,hg},MLe=(e,t)=>{if(Ug(e))return Ud;const r=e.state;return(r.wrap&2)===0?Ud:(r.head=t,t.done=!1,hg)},FLe=(e,t)=>{const r=t.length;let n,a,i;return Ug(e)||(n=e.state,n.wrap!==0&&n.mode!==F5)?Ud:n.mode===F5&&(a=1,a=sk(a,t,r,0),a!==n.check)?JK:(i=oQ(e,t,r,r),i?(n.mode=tQ,eQ):(n.havedict=1,hg))};var BLe=nQ,ULe=aQ,$Le=sQ,VLe=OLe,qLe=iQ,zLe=ILe,HLe=LLe,WLe=MLe,GLe=FLe,YLe="pako inflate (from Nodeca project)",Ef={inflateReset:BLe,inflateReset2:ULe,inflateResetKeep:$Le,inflateInit:VLe,inflateInit2:qLe,inflate:zLe,inflateEnd:HLe,inflateGetHeader:WLe,inflateSetDictionary:GLe,inflateInfo:YLe};function KLe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var QLe=KLe;const lQ=Object.prototype.toString,{Z_NO_FLUSH:XLe,Z_FINISH:ZLe,Z_OK:v2,Z_STREAM_END:S3,Z_NEED_DICT:A3,Z_STREAM_ERROR:JLe,Z_DATA_ERROR:zF,Z_MEM_ERROR:eMe}=YK;function vw(e){this.options=KK.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pLe,this.strm.avail_out=0;let r=Ef.inflateInit2(this.strm,t.windowBits);if(r!==v2)throw new Error(nk[r]);if(this.header=new QLe,Ef.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=ak.string2buf(t.dictionary):lQ.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ef.inflateSetDictionary(this.strm,t.dictionary),r!==v2)))throw new Error(nk[r])}vw.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?ZLe:XLe,lQ.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Ef.inflate(r,o),i===A3&&a&&(i=Ef.inflateSetDictionary(r,a),i===v2?i=Ef.inflate(r,o):i===zF&&(i=A3));r.avail_in>0&&i===S3&&r.state.wrap>0&&e[r.next_in]!==0;)Ef.inflateReset(r),i=Ef.inflate(r,o);switch(i){case JLe:case zF:case A3:case eMe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===S3))if(this.options.to==="string"){let c=ak.utf8border(r.output,r.next_out),d=r.next_out-c,h=ak.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===v2&&l===0)){if(i===S3)return i=Ef.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};vw.prototype.onData=function(e){this.chunks.push(e)};vw.prototype.onEnd=function(e){e===v2&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=KK.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function tMe(e,t){const r=new vw(t);if(r.push(e),r.err)throw r.msg||nk[r.err];return r.result}var rMe=vw,sMe=tMe,nMe={Inflate:rMe,inflate:sMe};const{Inflate:aMe,inflate:iMe}=nMe;var HF=aMe,oMe=iMe;const cQ=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;cQ[e]=t}const WF=4294967295;function lMe(e,t,r){let n=e;for(let a=0;a<r;a++)n=cQ[(n^t[a])&255]^n>>>8;return n}function cMe(e,t){return(lMe(WF,e,t)^WF)>>>0}function GF(e,t,r){const n=e.readUint32(),a=cMe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function dQ(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function uQ(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function hQ(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function fQ(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function mQ(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+dMe(t[i-a],r[i],r[i-a])&255}}function dMe(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return a<=i&&a<=o?e:i<=o?t:r}function uMe(e,t,r,n,a,i){switch(e){case 0:dQ(t,r,a);break;case 1:uQ(t,r,a,i);break;case 2:hQ(t,r,n,a);break;case 3:fQ(t,r,n,a,i);break;case 4:mQ(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const hMe=new Uint16Array([255]),fMe=new Uint8Array(hMe.buffer),mMe=fMe[0]===255;function pMe(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let d=0;for(let h=0;h<7;h++){const m=o[h],p=Math.ceil((r-m.x)/m.xStep),g=Math.ceil((n-m.y)/m.yStep);if(p<=0||g<=0)continue;const w=p*l,b=new Uint8Array(w);for(let v=0;v<g;v++){const N=t[d++],S=t.subarray(d,d+w);d+=w;const A=new Uint8Array(w);uMe(N,S,A,b,w,l),b.set(A);for(let E=0;E<p;E++){const C=m.x+E*m.xStep,I=m.y+v*m.yStep;if(!(C>=r||I>=n))for(let P=0;P<l;P++)c[(I*r+C)*l+P]=A[E*l+P]}}}if(i===16){const h=new Uint16Array(c.buffer);if(mMe)for(let m=0;m<h.length;m++)h[m]=gMe(h[m]);return h}else return c}function gMe(e){return(e&255)<<8|e>>8&255}const xMe=new Uint16Array([255]),yMe=new Uint8Array(xMe.buffer),vMe=yMe[0]===255,bMe=new Uint8Array(0);function YF(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let d=bMe,h=0,m,p;for(let g=0;g<n;g++){switch(m=t.subarray(h+1,h+1+l),p=c.subarray(g*l,(g+1)*l),t[h]){case 0:dQ(m,p,l);break;case 1:uQ(m,p,l,o);break;case 2:hQ(m,p,d,l);break;case 3:fQ(m,p,d,l,o);break;case 4:mQ(m,p,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}d=p,h+=l+1}if(i===16){const g=new Uint16Array(c.buffer);if(vMe)for(let w=0;w<g.length;w++)g[w]=wMe(g[w]);return g}else return c}function wMe(e){return(e&255)<<8|e>>8&255}const Tj=Uint8Array.of(137,80,78,71,13,10,26,10);function KF(e){if(!NMe(e.readBytes(Tj.length)))throw new Error("wrong PNG signature")}function NMe(e){if(e.length<Tj.length)return!1;for(let t=0;t<Tj.length;t++)if(e[t]!==Tj[t])return!1;return!0}const jMe="tEXt",SMe=0,pQ=new TextDecoder("latin1");function AMe(e){if(CMe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const EMe=/^[\u0000-\u00FF]*$/;function CMe(e){if(!EMe.test(e))throw new Error("invalid latin1 text")}function _Me(e,t,r){const n=gQ(t);e[n]=kMe(t,r-n.length-1)}function gQ(e){for(e.mark();e.readByte()!==SMe;);const t=e.offset;e.reset();const r=pQ.decode(e.readBytes(t-e.offset-1));return e.skip(1),AMe(r),r}function kMe(e,t){return pQ.decode(e.readBytes(t))}const Oc={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},E3={UNKNOWN:-1,DEFLATE:0},QF={UNKNOWN:-1,ADAPTIVE:0},C3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},aj={NONE:0,BACKGROUND:1,PREVIOUS:2},_3={SOURCE:0,OVER:1};class TMe extends ID{constructor(r,n={}){super(r);sr(this,"_checkCrc");sr(this,"_inflator");sr(this,"_png");sr(this,"_apng");sr(this,"_end");sr(this,"_hasPalette");sr(this,"_palette");sr(this,"_hasTransparency");sr(this,"_transparency");sr(this,"_compressionMethod");sr(this,"_filterMethod");sr(this,"_interlaceMethod");sr(this,"_colorType");sr(this,"_isAnimated");sr(this,"_numberOfFrames");sr(this,"_numberOfPlays");sr(this,"_frames");sr(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new HF,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=E3.UNKNOWN,this._filterMethod=QF.UNKNOWN,this._interlaceMethod=C3.UNKNOWN,this._colorType=Oc.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(KF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(KF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case jMe:_Me(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?GF(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?GF(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=DMe(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Oc.GREYSCALE:a=1;break;case Oc.TRUECOLOUR:a=3;break;case Oc.INDEXED_COLOUR:a=1;break;case Oc.GREYSCALE_ALPHA:a=2;break;case Oc.TRUECOLOUR_ALPHA:a=4;break;case Oc.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==E3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Oc.GREYSCALE:case Oc.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Oc.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Oc.UNKNOWN:case Oc.GREYSCALE_ALPHA:case Oc.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=gQ(this),a=this.readUint8();if(a!==E3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:oMe(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=YF({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case aj.NONE:break;case aj.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case aj.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case _3.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let h=0;h<this._png.channels;h++)r.data[c+h]=n.data[d+h]}break;case _3.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let h=0;h<this._png.channels;h++){const m=n.data[d+this._png.channels-1]/a,p=h%(this._png.channels-1)===0?1:n.data[d+h],g=Math.floor(m*p+(1-m)*r.data[c+h]);r.data[c+h]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==QF.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===C3.NO_INTERLACE)this._png.data=YF({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===C3.ADAM7)this._png.data=pMe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:aj.NONE,blendOp:_3.SOURCE,data:r}),this._inflator=new HF,this._writingDataChunks=!1}}function DMe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var XF;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(XF||(XF={}));function PMe(e,t){return new TMe(e,t).decode()}var vs=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function k3(){vs.console&&typeof vs.console.log=="function"&&vs.console.log.apply(vs.console,arguments)}var ea={log:k3,warn:function(e){vs.console&&(typeof vs.console.warn=="function"?vs.console.warn.apply(vs.console,arguments):k3.call(null,arguments))},error:function(e){vs.console&&(typeof vs.console.error=="function"?vs.console.error.apply(vs.console,arguments):k3(e))}};function T3(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){b0(n.response,t,r)},n.onerror=function(){ea.error("could not download file")},n.send()}function ZF(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ij(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var b0=vs.saveAs||((typeof window>"u"?"undefined":Vn(window))!=="object"||window!==vs?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=vs.URL||vs.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?ZF(a.href)?T3(e,t,r):ij(a,a.target="_blank"):ij(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){ij(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(ZF(e))T3(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){ij(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Vn(i)!=="object"&&(ea.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return T3(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(vs.HTMLElement)||vs.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Vn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},l.readAsDataURL(e)}else{var c=vs.URL||vs.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function xQ(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var Dj=vs.atob.bind(vs),JF=vs.btoa.bind(vs);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function D3(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=tl(r,n,a,i,t[0],7,-680876936),i=tl(i,r,n,a,t[1],12,-389564586),a=tl(a,i,r,n,t[2],17,606105819),n=tl(n,a,i,r,t[3],22,-1044525330),r=tl(r,n,a,i,t[4],7,-176418897),i=tl(i,r,n,a,t[5],12,1200080426),a=tl(a,i,r,n,t[6],17,-1473231341),n=tl(n,a,i,r,t[7],22,-45705983),r=tl(r,n,a,i,t[8],7,1770035416),i=tl(i,r,n,a,t[9],12,-1958414417),a=tl(a,i,r,n,t[10],17,-42063),n=tl(n,a,i,r,t[11],22,-1990404162),r=tl(r,n,a,i,t[12],7,1804603682),i=tl(i,r,n,a,t[13],12,-40341101),a=tl(a,i,r,n,t[14],17,-1502002290),r=rl(r,n=tl(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=rl(i,r,n,a,t[6],9,-1069501632),a=rl(a,i,r,n,t[11],14,643717713),n=rl(n,a,i,r,t[0],20,-373897302),r=rl(r,n,a,i,t[5],5,-701558691),i=rl(i,r,n,a,t[10],9,38016083),a=rl(a,i,r,n,t[15],14,-660478335),n=rl(n,a,i,r,t[4],20,-405537848),r=rl(r,n,a,i,t[9],5,568446438),i=rl(i,r,n,a,t[14],9,-1019803690),a=rl(a,i,r,n,t[3],14,-187363961),n=rl(n,a,i,r,t[8],20,1163531501),r=rl(r,n,a,i,t[13],5,-1444681467),i=rl(i,r,n,a,t[2],9,-51403784),a=rl(a,i,r,n,t[7],14,1735328473),r=sl(r,n=rl(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=sl(i,r,n,a,t[8],11,-2022574463),a=sl(a,i,r,n,t[11],16,1839030562),n=sl(n,a,i,r,t[14],23,-35309556),r=sl(r,n,a,i,t[1],4,-1530992060),i=sl(i,r,n,a,t[4],11,1272893353),a=sl(a,i,r,n,t[7],16,-155497632),n=sl(n,a,i,r,t[10],23,-1094730640),r=sl(r,n,a,i,t[13],4,681279174),i=sl(i,r,n,a,t[0],11,-358537222),a=sl(a,i,r,n,t[3],16,-722521979),n=sl(n,a,i,r,t[6],23,76029189),r=sl(r,n,a,i,t[9],4,-640364487),i=sl(i,r,n,a,t[12],11,-421815835),a=sl(a,i,r,n,t[15],16,530742520),r=nl(r,n=sl(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=nl(i,r,n,a,t[7],10,1126891415),a=nl(a,i,r,n,t[14],15,-1416354905),n=nl(n,a,i,r,t[5],21,-57434055),r=nl(r,n,a,i,t[12],6,1700485571),i=nl(i,r,n,a,t[3],10,-1894986606),a=nl(a,i,r,n,t[10],15,-1051523),n=nl(n,a,i,r,t[1],21,-2054922799),r=nl(r,n,a,i,t[8],6,1873313359),i=nl(i,r,n,a,t[15],10,-30611744),a=nl(a,i,r,n,t[6],15,-1560198380),n=nl(n,a,i,r,t[13],21,1309151649),r=nl(r,n,a,i,t[4],6,-145523070),i=nl(i,r,n,a,t[11],10,-1120210379),a=nl(a,i,r,n,t[2],15,718787259),n=nl(n,a,i,r,t[9],21,-343485551),e[0]=hp(r,e[0]),e[1]=hp(n,e[1]),e[2]=hp(a,e[2]),e[3]=hp(i,e[3])}function p4(e,t,r,n,a,i){return t=hp(hp(t,e),hp(n,i)),hp(t<<a|t>>>32-a,r)}function tl(e,t,r,n,a,i,o){return p4(t&r|~t&n,e,t,a,i,o)}function rl(e,t,r,n,a,i,o){return p4(t&n|r&~n,e,t,a,i,o)}function sl(e,t,r,n,a,i,o){return p4(t^r^n,e,t,a,i,o)}function nl(e,t,r,n,a,i,o){return p4(r^(t|~n),e,t,a,i,o)}function yQ(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)D3(n,OMe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(D3(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,D3(n,a),n}function OMe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var e7="0123456789abcdef".split("");function RMe(e){for(var t="",r=0;r<4;r++)t+=e7[e>>8*r+4&15]+e7[e>>8*r&15];return t}function IMe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function ik(e){return yQ(e).map(IMe).join("")}var LMe=function(e){for(var t=0;t<e.length;t++)e[t]=RMe(e[t]);return e.join("")}(yQ("hello"))!="5d41402abc4b2a76b9719d911017c592";function hp(e,t){if(LMe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ok(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var h=l[c];d=(d+h+o.charCodeAt(c))%256,l[c]=l[d],l[d]=h}r=e,n=l}else l=n;var m=t.length,p=0,g=0,w="";for(c=0;c<m;c++)g=(g+(h=l[p=(p+1)%256]))%256,l[p]=l[g],l[g]=h,o=l[(l[p]+l[g])%256],w+=String.fromCharCode(t.charCodeAt(c)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var t7={print:4,modify:8,copy:16,"annot-forms":32};function qx(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(t7.perm!==void 0)throw new Error("Invalid permission: "+l);a+=t7[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=ik(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=ok(this.encryptionKey,this.padding)}function zx(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function r7(e){if(Vn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){vs.console&&ea.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function B5(e){if(!(this instanceof B5))return new B5(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function vQ(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function N0(e,t,r,n,a){if(!(this instanceof N0))return new N0(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,vQ.call(this,n,a)}function sy(e,t,r,n,a){if(!(this instanceof sy))return new sy(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,vQ.call(this,n,a)}function ns(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",h=null;Vn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=r7;var w="1.3",b=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(G){w=G};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return v};var N=g.__private__.getPageFormat=function(G){return v[G]};a=a||"a4";var S="compat",A="advanced",E=S;function C(){this.saveGraphicsState(),ce(new lt(Xt,0,0,-Xt,0,nn()*Xt).toString()+" cm"),this.setFontSize(this.getFontSize()/Xt),d="n",E=A}function I(){this.restoreGraphicsState(),d="S",E=S}var P=g.__private__.combineFontStyleAndFontWeight=function(G,ue){if(G=="bold"&&ue=="normal"||G=="bold"&&ue==400||G=="normal"&&ue=="italic"||G=="bold"&&ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(G=ue==400||ue==="normal"?G==="italic"?"italic":"normal":ue!=700&&ue!=="bold"||G!=="normal"?(ue==700?"bold":ue)+""+G:"bold"),G};g.advancedAPI=function(G){var ue=E===S;return ue&&C.call(this),typeof G!="function"||(G(this),ue&&I.call(this)),this},g.compatAPI=function(G){var ue=E===A;return ue&&I.call(this),typeof G!="function"||(G(this),ue&&C.call(this)),this},g.isAdvancedAPI=function(){return E===A};var F,k=function(G){if(E!==A)throw new Error(G+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=g.roundToPrecision=g.__private__.roundToPrecision=function(G,ue){var Le=t||ue;if(isNaN(G)||isNaN(Le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return G.toFixed(Le).replace(/0+$/,"")};F=g.hpf=g.__private__.hpf=typeof c=="number"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return z(G,c)}:c==="smart"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return z(G,G>-1&&G<1?16:5)}:function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return z(G,16)};var O=g.f2=g.__private__.f2=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f2");return z(G,2)},M=g.__private__.f3=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f3");return z(G,3)},R=g.scale=g.__private__.scale=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.scale");return E===S?G*Xt:E===A?G:void 0},B=function(G){return R(function(ue){return E===S?nn()-ue:E===A?ue:void 0}(G))};g.__private__.setPrecision=g.setPrecision=function(G){typeof parseInt(G,10)=="number"&&(t=parseInt(G,10))};var Y,U="00000000000000000000000000000000",Q=g.__private__.getFileId=function(){return U},V=g.__private__.setFileId=function(G){return U=G!==void 0&&/^[a-fA-F0-9]{32}$/.test(G)?G.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Qn=new qx(h.userPermissions,h.userPassword,h.ownerPassword,U)),U};g.setFileId=function(G){return V(G),this},g.getFileId=function(){return Q()};var Z=g.__private__.convertDateToPDFDate=function(G){var ue=G.getTimezoneOffset(),Le=ue<0?"+":"-",Qe=Math.floor(Math.abs(ue/60)),it=Math.abs(ue%60),Rt=[Le,K(Qe),"'",K(it),"'"].join("");return["D:",G.getFullYear(),K(G.getMonth()+1),K(G.getDate()),K(G.getHours()),K(G.getMinutes()),K(G.getSeconds()),Rt].join("")},J=g.__private__.convertPDFDateToDate=function(G){var ue=parseInt(G.substr(2,4),10),Le=parseInt(G.substr(6,2),10)-1,Qe=parseInt(G.substr(8,2),10),it=parseInt(G.substr(10,2),10),Rt=parseInt(G.substr(12,2),10),Ht=parseInt(G.substr(14,2),10);return new Date(ue,Le,Qe,it,Rt,Ht,0)},ae=g.__private__.setCreationDate=function(G){var ue;if(G===void 0&&(G=new Date),G instanceof Date)ue=Z(G);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(G))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=G}return Y=ue},D=g.__private__.getCreationDate=function(G){var ue=Y;return G==="jsDate"&&(ue=J(Y)),ue};g.setCreationDate=function(G){return ae(G),this},g.getCreationDate=function(G){return D(G)};var H,K=g.__private__.padd2=function(G){return("0"+parseInt(G)).slice(-2)},W=g.__private__.padd2Hex=function(G){return("00"+(G=G.toString())).substr(G.length)},re=0,te=[],ie=[],se=0,le=[],Ce=[],De=!1,Ze=ie;g.__private__.setCustomOutputDestination=function(G){De=!0,Ze=G};var ke=function(G){De||(Ze=G)};g.__private__.resetCustomOutputDestination=function(){De=!1,Ze=ie};var ce=g.__private__.out=function(G){return G=G.toString(),se+=G.length+1,Ze.push(G),Ze},Me=g.__private__.write=function(G){return ce(arguments.length===1?G.toString():Array.prototype.join.call(arguments," "))},be=g.__private__.getArrayBuffer=function(G){for(var ue=G.length,Le=new ArrayBuffer(ue),Qe=new Uint8Array(Le);ue--;)Qe[ue]=G.charCodeAt(ue);return Le},ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ge};var Ye=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(G){return Ye=E===A?G/Xt:G,this};var ze,Pe=g.__private__.getFontSize=g.getFontSize=function(){return E===S?Ye:Ye*Xt},me=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(G){return me=G,this},g.__private__.getR2L=g.getR2L=function(){return me};var we,qe=g.__private__.setZoomMode=function(G){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(G))ze=G;else if(isNaN(G)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(G)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+G+'" is not recognized.');ze=G}else ze=parseInt(G,10)};g.__private__.getZoomMode=function(){return ze};var xt,pt=g.__private__.setPageMode=function(G){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(G)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+G+'" is not recognized.');we=G};g.__private__.getPageMode=function(){return we};var ct=g.__private__.setLayoutMode=function(G){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(G)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+G+'" is not recognized.');xt=G};g.__private__.getLayoutMode=function(){return xt},g.__private__.setDisplayMode=g.setDisplayMode=function(G,ue,Le){return qe(G),ct(ue),pt(Le),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(G){if(Object.keys(ft).indexOf(G)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[G]},g.__private__.getDocumentProperties=function(){return ft},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(G){for(var ue in ft)ft.hasOwnProperty(ue)&&G[ue]&&(ft[ue]=G[ue]);return this},g.__private__.setDocumentProperty=function(G,ue){if(Object.keys(ft).indexOf(G)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[G]=ue};var Mt,Xt,ur,es,Qr,mt={},Er={},tr=[],fr={},Lr={},Pt={},Tr={},Cr=null,mr=0,ar=[],Gt=new r7(g),Mr=e.hotfixes||[],ts={},ss={},Xe=[],lt=function G(ue,Le,Qe,it,Rt,Ht){if(!(this instanceof G))return new G(ue,Le,Qe,it,Rt,Ht);isNaN(ue)&&(ue=1),isNaN(Le)&&(Le=0),isNaN(Qe)&&(Qe=0),isNaN(it)&&(it=1),isNaN(Rt)&&(Rt=0),isNaN(Ht)&&(Ht=0),this._matrix=[ue,Le,Qe,it,Rt,Ht]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(G){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(G)},lt.prototype.multiply=function(G){var ue=G.sx*this.sx+G.shy*this.shx,Le=G.sx*this.shy+G.shy*this.sy,Qe=G.shx*this.sx+G.sy*this.shx,it=G.shx*this.shy+G.sy*this.sy,Rt=G.tx*this.sx+G.ty*this.shx+this.tx,Ht=G.tx*this.shy+G.ty*this.sy+this.ty;return new lt(ue,Le,Qe,it,Rt,Ht)},lt.prototype.decompose=function(){var G=this.sx,ue=this.shy,Le=this.shx,Qe=this.sy,it=this.tx,Rt=this.ty,Ht=Math.sqrt(G*G+ue*ue),Br=(G/=Ht)*Le+(ue/=Ht)*Qe;Le-=G*Br,Qe-=ue*Br;var Yr=Math.sqrt(Le*Le+Qe*Qe);return Br/=Yr,G*(Qe/=Yr)<ue*(Le/=Yr)&&(G=-G,ue=-ue,Br=-Br,Ht=-Ht),{scale:new lt(Ht,0,0,Yr,0,0),translate:new lt(1,0,0,1,it,Rt),rotate:new lt(G,ue,-ue,G,0,0),skew:new lt(1,0,Br,1,0,0)}},lt.prototype.toString=function(G){return this.join(" ")},lt.prototype.inversed=function(){var G=this.sx,ue=this.shy,Le=this.shx,Qe=this.sy,it=this.tx,Rt=this.ty,Ht=1/(G*Qe-ue*Le),Br=Qe*Ht,Yr=-ue*Ht,hs=-Le*Ht,Ss=G*Ht;return new lt(Br,Yr,hs,Ss,-Br*it-hs*Rt,-Yr*it-Ss*Rt)},lt.prototype.applyToPoint=function(G){var ue=G.x*this.sx+G.y*this.shx+this.tx,Le=G.x*this.shy+G.y*this.sy+this.ty;return new Fr(ue,Le)},lt.prototype.applyToRectangle=function(G){var ue=this.applyToPoint(G),Le=this.applyToPoint(new Fr(G.x+G.w,G.y+G.h));return new Ps(ue.x,ue.y,Le.x-ue.x,Le.y-ue.y)},lt.prototype.clone=function(){var G=this.sx,ue=this.shy,Le=this.shx,Qe=this.sy,it=this.tx,Rt=this.ty;return new lt(G,ue,Le,Qe,it,Rt)},g.Matrix=lt;var Ct=g.matrixMult=function(G,ue){return ue.multiply(G)},lr=new lt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=lr;var _r=function(G,ue){if(!Lr[G]){var Le=(ue instanceof N0?"Sh":"P")+(Object.keys(fr).length+1).toString(10);ue.id=Le,Lr[G]=Le,fr[Le]=ue,Gt.publish("addPattern",ue)}};g.ShadingPattern=N0,g.TilingPattern=sy,g.addShadingPattern=function(G,ue){return k("addShadingPattern()"),_r(G,ue),this},g.beginTilingPattern=function(G){k("beginTilingPattern()"),bn(G.boundingBox[0],G.boundingBox[1],G.boundingBox[2]-G.boundingBox[0],G.boundingBox[3]-G.boundingBox[1],G.matrix)},g.endTilingPattern=function(G,ue){k("endTilingPattern()"),ue.stream=Ce[H].join(`
`),_r(G,ue),Gt.publish("endTilingPattern",ue),Xe.pop().restore()};var ks,Xr=g.__private__.newObject=function(){var G=Ns();return fe(G,!0),G},Ns=g.__private__.newObjectDeferred=function(){return re++,te[re]=function(){return se},re},fe=function(G,ue){return ue=typeof ue=="boolean"&&ue,te[G]=se,ue&&ce(G+" 0 obj"),G},Re=g.__private__.newAdditionalObject=function(){var G={objId:Ns(),content:""};return le.push(G),G},Ne=Ns(),Ae=Ns(),Ie=g.__private__.decodeColorString=function(G){var ue=G.split(" ");if(ue.length!==2||ue[1]!=="g"&&ue[1]!=="G")ue.length!==5||ue[4]!=="k"&&ue[4]!=="K"||(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var Le=parseFloat(ue[0]);ue=[Le,Le,Le,"r"]}for(var Qe="#",it=0;it<3;it++)Qe+=("0"+Math.floor(255*parseFloat(ue[it])).toString(16)).slice(-2);return Qe},Te=g.__private__.encodeColorString=function(G){var ue;typeof G=="string"&&(G={ch1:G});var Le=G.ch1,Qe=G.ch2,it=G.ch3,Rt=G.ch4,Ht=G.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Le=="string"&&Le.charAt(0)!=="#"){var Br=new xQ(Le);if(Br.ok)Le=Br.toHex();else if(!/^\d*\.?\d*$/.test(Le))throw new Error('Invalid color "'+Le+'" passed to jsPDF.encodeColorString.')}if(typeof Le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Le)&&(Le="#"+Le[1]+Le[1]+Le[2]+Le[2]+Le[3]+Le[3]),typeof Le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Le)){var Yr=parseInt(Le.substr(1),16);Le=Yr>>16&255,Qe=Yr>>8&255,it=255&Yr}if(Qe===void 0||Rt===void 0&&Le===Qe&&Qe===it)ue=typeof Le=="string"?Le+" "+Ht[0]:G.precision===2?O(Le/255)+" "+Ht[0]:M(Le/255)+" "+Ht[0];else if(Rt===void 0||Vn(Rt)==="object"){if(Rt&&!isNaN(Rt.a)&&Rt.a===0)return["1.","1.","1.",Ht[1]].join(" ");ue=typeof Le=="string"?[Le,Qe,it,Ht[1]].join(" "):G.precision===2?[O(Le/255),O(Qe/255),O(it/255),Ht[1]].join(" "):[M(Le/255),M(Qe/255),M(it/255),Ht[1]].join(" ")}else ue=typeof Le=="string"?[Le,Qe,it,Rt,Ht[2]].join(" "):G.precision===2?[O(Le),O(Qe),O(it),O(Rt),Ht[2]].join(" "):[M(Le),M(Qe),M(it),M(Rt),Ht[2]].join(" ");return ue},st=g.__private__.getFilters=function(){return o},Et=g.__private__.putStream=function(G){var ue=(G=G||{}).data||"",Le=G.filters||st(),Qe=G.alreadyAppliedFilters||[],it=G.addLength1||!1,Rt=ue.length,Ht=G.objectId,Br=function(Va){return Va};if(h!==null&&Ht===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Br=Qn.encryptor(Ht,0));var Yr={};Le===!0&&(Le=["FlateEncode"]);var hs=G.additionalKeyValues||[],Ss=(Yr=ns.API.processDataByFilters!==void 0?ns.API.processDataByFilters(ue,Le):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(Qe)?Qe.join(" "):Qe.toString());if(Yr.data.length!==0&&(hs.push({key:"Length",value:Yr.data.length}),it===!0&&hs.push({key:"Length1",value:Rt})),Ss.length!=0)if(Ss.split("/").length-1==1)hs.push({key:"Filter",value:Ss});else{hs.push({key:"Filter",value:"["+Ss+"]"});for(var an=0;an<hs.length;an+=1)if(hs[an].key==="DecodeParms"){for(var da=[],$a=0;$a<Yr.reverseChain.split("/").length-1;$a+=1)da.push("null");da.push(hs[an].value),hs[an].value="["+da.join(" ")+"]"}}ce("<<");for(var Tn=0;Tn<hs.length;Tn++)ce("/"+hs[Tn].key+" "+hs[Tn].value);ce(">>"),Yr.data.length!==0&&(ce("stream"),ce(Br(Yr.data)),ce("endstream"))},ht=g.__private__.putPage=function(G){var ue=G.number,Le=G.data,Qe=G.objId,it=G.contentsObjId;fe(Qe,!0),ce("<</Type /Page"),ce("/Parent "+G.rootDictionaryObjId+" 0 R"),ce("/Resources "+G.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(F(G.mediaBox.bottomLeftX))+" "+parseFloat(F(G.mediaBox.bottomLeftY))+" "+F(G.mediaBox.topRightX)+" "+F(G.mediaBox.topRightY)+"]"),G.cropBox!==null&&ce("/CropBox ["+F(G.cropBox.bottomLeftX)+" "+F(G.cropBox.bottomLeftY)+" "+F(G.cropBox.topRightX)+" "+F(G.cropBox.topRightY)+"]"),G.bleedBox!==null&&ce("/BleedBox ["+F(G.bleedBox.bottomLeftX)+" "+F(G.bleedBox.bottomLeftY)+" "+F(G.bleedBox.topRightX)+" "+F(G.bleedBox.topRightY)+"]"),G.trimBox!==null&&ce("/TrimBox ["+F(G.trimBox.bottomLeftX)+" "+F(G.trimBox.bottomLeftY)+" "+F(G.trimBox.topRightX)+" "+F(G.trimBox.topRightY)+"]"),G.artBox!==null&&ce("/ArtBox ["+F(G.artBox.bottomLeftX)+" "+F(G.artBox.bottomLeftY)+" "+F(G.artBox.topRightX)+" "+F(G.artBox.topRightY)+"]"),typeof G.userUnit=="number"&&G.userUnit!==1&&ce("/UserUnit "+G.userUnit),Gt.publish("putPage",{objId:Qe,pageContext:ar[ue],pageNumber:ue,page:Le}),ce("/Contents "+it+" 0 R"),ce(">>"),ce("endobj");var Rt=Le.join(`
`);return E===A&&(Rt+=`
Q`),fe(it,!0),Et({data:Rt,filters:st(),objectId:it}),ce("endobj"),Qe},dt=g.__private__.putPages=function(){var G,ue,Le=[];for(G=1;G<=mr;G++)ar[G].objId=Ns(),ar[G].contentsObjId=Ns();for(G=1;G<=mr;G++)Le.push(ht({number:G,data:Ce[G],objId:ar[G].objId,contentsObjId:ar[G].contentsObjId,mediaBox:ar[G].mediaBox,cropBox:ar[G].cropBox,bleedBox:ar[G].bleedBox,trimBox:ar[G].trimBox,artBox:ar[G].artBox,userUnit:ar[G].userUnit,rootDictionaryObjId:Ne,resourceDictionaryObjId:Ae}));fe(Ne,!0),ce("<</Type /Pages");var Qe="/Kids [";for(ue=0;ue<mr;ue++)Qe+=Le[ue]+" 0 R ";ce(Qe+"]"),ce("/Count "+mr),ce(">>"),ce("endobj"),Gt.publish("postPutPages")},yt=function(G){Gt.publish("putFont",{font:G,out:ce,newObject:Xr,putStream:Et}),G.isAlreadyPutted!==!0&&(G.objectNumber=Xr(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+zx(G.postScriptName)),ce("/Subtype /Type1"),typeof G.encoding=="string"&&ce("/Encoding /"+G.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},Vt=function(G){G.objectNumber=Xr();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[F(G.x),F(G.y),F(G.x+G.width),F(G.y+G.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+G.matrix.toString()+"]"});var Le=G.pages[1].join(`
`);Et({data:Le,additionalKeyValues:ue,objectId:G.objectNumber}),ce("endobj")},Zt=function(G,ue){ue||(ue=21);var Le=Xr(),Qe=function(Ht,Br){var Yr,hs=[],Ss=1/(Br-1);for(Yr=0;Yr<1;Yr+=Ss)hs.push(Yr);if(hs.push(1),Ht[0].offset!=0){var an={offset:0,color:Ht[0].color};Ht.unshift(an)}if(Ht[Ht.length-1].offset!=1){var da={offset:1,color:Ht[Ht.length-1].color};Ht.push(da)}for(var $a="",Tn=0,Va=0;Va<hs.length;Va++){for(Yr=hs[Va];Yr>Ht[Tn+1].offset;)Tn++;var qa=Ht[Tn].offset,Ui=(Yr-qa)/(Ht[Tn+1].offset-qa),Yd=Ht[Tn].color,Ju=Ht[Tn+1].color;$a+=W(Math.round((1-Ui)*Yd[0]+Ui*Ju[0]).toString(16))+W(Math.round((1-Ui)*Yd[1]+Ui*Ju[1]).toString(16))+W(Math.round((1-Ui)*Yd[2]+Ui*Ju[2]).toString(16))}return $a.trim()}(G.colors,ue),it=[];it.push({key:"FunctionType",value:"0"}),it.push({key:"Domain",value:"[0.0 1.0]"}),it.push({key:"Size",value:"["+ue+"]"}),it.push({key:"BitsPerSample",value:"8"}),it.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Et({data:Qe,additionalKeyValues:it,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Le}),ce("endobj"),G.objectNumber=Xr(),ce("<< /ShadingType "+G.type),ce("/ColorSpace /DeviceRGB");var Rt="/Coords ["+F(parseFloat(G.coords[0]))+" "+F(parseFloat(G.coords[1]))+" ";G.type===2?Rt+=F(parseFloat(G.coords[2]))+" "+F(parseFloat(G.coords[3])):Rt+=F(parseFloat(G.coords[2]))+" "+F(parseFloat(G.coords[3]))+" "+F(parseFloat(G.coords[4]))+" "+F(parseFloat(G.coords[5])),ce(Rt+="]"),G.matrix&&ce("/Matrix ["+G.matrix.toString()+"]"),ce("/Function "+Le+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},de=function(G,ue){var Le=Ns(),Qe=Xr();ue.push({resourcesOid:Le,objectOid:Qe}),G.objectNumber=Qe;var it=[];it.push({key:"Type",value:"/Pattern"}),it.push({key:"PatternType",value:"1"}),it.push({key:"PaintType",value:"1"}),it.push({key:"TilingType",value:"1"}),it.push({key:"BBox",value:"["+G.boundingBox.map(F).join(" ")+"]"}),it.push({key:"XStep",value:F(G.xStep)}),it.push({key:"YStep",value:F(G.yStep)}),it.push({key:"Resources",value:Le+" 0 R"}),G.matrix&&it.push({key:"Matrix",value:"["+G.matrix.toString()+"]"}),Et({data:G.stream,additionalKeyValues:it,objectId:G.objectNumber}),ce("endobj")},Ve=function(G){for(var ue in G.objectNumber=Xr(),ce("<<"),G)switch(ue){case"opacity":ce("/ca "+O(G[ue]));break;case"stroke-opacity":ce("/CA "+O(G[ue]))}ce(">>"),ce("endobj")},He=function(G){fe(G.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ue in ce("/Font <<"),mt)mt.hasOwnProperty(ue)&&(m===!1||m===!0&&p.hasOwnProperty(ue))&&ce("/"+ue+" "+mt[ue].objectNumber+" 0 R");ce(">>")}(),function(){if(Object.keys(fr).length>0){for(var ue in ce("/Shading <<"),fr)fr.hasOwnProperty(ue)&&fr[ue]instanceof N0&&fr[ue].objectNumber>=0&&ce("/"+ue+" "+fr[ue].objectNumber+" 0 R");Gt.publish("putShadingPatternDict"),ce(">>")}}(),function(ue){if(Object.keys(fr).length>0){for(var Le in ce("/Pattern <<"),fr)fr.hasOwnProperty(Le)&&fr[Le]instanceof g.TilingPattern&&fr[Le].objectNumber>=0&&fr[Le].objectNumber<ue&&ce("/"+Le+" "+fr[Le].objectNumber+" 0 R");Gt.publish("putTilingPatternDict"),ce(">>")}}(G.objectOid),function(){if(Object.keys(Pt).length>0){var ue;for(ue in ce("/ExtGState <<"),Pt)Pt.hasOwnProperty(ue)&&Pt[ue].objectNumber>=0&&ce("/"+ue+" "+Pt[ue].objectNumber+" 0 R");Gt.publish("putGStateDict"),ce(">>")}}(),function(){for(var ue in ce("/XObject <<"),ts)ts.hasOwnProperty(ue)&&ts[ue].objectNumber>=0&&ce("/"+ue+" "+ts[ue].objectNumber+" 0 R");Gt.publish("putXobjectDict"),ce(">>")}(),ce(">>"),ce("endobj")},kt=function(G){Er[G.fontName]=Er[G.fontName]||{},Er[G.fontName][G.fontStyle]=G.id},Kt=function(G,ue,Le,Qe,it){var Rt={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:G,fontName:ue,fontStyle:Le,encoding:Qe,isStandardFont:it||!1,metadata:{}};return Gt.publish("addFont",{font:Rt,instance:this}),mt[Rt.id]=Rt,kt(Rt),Rt.id},Jt=g.__private__.pdfEscape=g.pdfEscape=function(G,ue){return function(Le,Qe){var it,Rt,Ht,Br,Yr,hs,Ss,an,da;if(Ht=(Qe=Qe||{}).sourceEncoding||"Unicode",Yr=Qe.outputEncoding,(Qe.autoencode||Yr)&&mt[Mt].metadata&&mt[Mt].metadata[Ht]&&mt[Mt].metadata[Ht].encoding&&(Br=mt[Mt].metadata[Ht].encoding,!Yr&&mt[Mt].encoding&&(Yr=mt[Mt].encoding),!Yr&&Br.codePages&&(Yr=Br.codePages[0]),typeof Yr=="string"&&(Yr=Br[Yr]),Yr)){for(Ss=!1,hs=[],it=0,Rt=Le.length;it<Rt;it++)(an=Yr[Le.charCodeAt(it)])?hs.push(String.fromCharCode(an)):hs.push(Le[it]),hs[it].charCodeAt(0)>>8&&(Ss=!0);Le=hs.join("")}for(it=Le.length;Ss===void 0&&it!==0;)Le.charCodeAt(it-1)>>8&&(Ss=!0),it--;if(!Ss)return Le;for(hs=Qe.noBOM?[]:[254,255],it=0,Rt=Le.length;it<Rt;it++){if((da=(an=Le.charCodeAt(it))>>8)>>8)throw new Error("Character at position "+it+" of string '"+Le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");hs.push(da),hs.push(an-(da<<8))}return String.fromCharCode.apply(void 0,hs)}(G,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dr=g.__private__.beginPage=function(G){Ce[++mr]=[],ar[mr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(G[0]),topRightY:Number(G[1])}},tn(mr),ke(Ce[H])},as=function(G,ue){var Le,Qe,it;switch(r=ue||r,typeof G=="string"&&(Le=N(G.toLowerCase()),Array.isArray(Le)&&(Qe=Le[0],it=Le[1])),Array.isArray(G)&&(Qe=G[0]*Xt,it=G[1]*Xt),isNaN(Qe)&&(Qe=a[0],it=a[1]),(Qe>14400||it>14400)&&(ea.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Qe=Math.min(14400,Qe),it=Math.min(14400,it)),a=[Qe,it],r.substr(0,1)){case"l":it>Qe&&(a=[it,Qe]);break;case"p":Qe>it&&(a=[it,Qe])}Dr(a),gc(bo),ce(Ho),Ke!==0&&ce(Ke+" J"),Tt!==0&&ce(Tt+" j"),Gt.publish("addPage",{pageNumber:mr})},bs=function(G){G>0&&G<=mr&&(Ce.splice(G,1),ar.splice(G,1),mr--,H>mr&&(H=mr),this.setPage(H))},tn=function(G){G>0&&G<=mr&&(H=G)},xs=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ce.length-1},_n=function(G,ue,Le){var Qe,it=void 0;return Le=Le||{},G=G!==void 0?G:mt[Mt].fontName,ue=ue!==void 0?ue:mt[Mt].fontStyle,Qe=G.toLowerCase(),Er[Qe]!==void 0&&Er[Qe][ue]!==void 0?it=Er[Qe][ue]:Er[G]!==void 0&&Er[G][ue]!==void 0?it=Er[G][ue]:Le.disableWarning===!1&&ea.warn("Unable to look up font label for font '"+G+"', '"+ue+"'. Refer to getFontList() for available fonts."),it||Le.noFallback||(it=Er.times[ue])==null&&(it=Er.times.normal),it},kn=g.__private__.putInfo=function(){var G=Xr(),ue=function(Qe){return Qe};for(var Le in h!==null&&(ue=Qn.encryptor(G,0)),ce("<<"),ce("/Producer ("+Jt(ue("jsPDF "+ns.version))+")"),ft)ft.hasOwnProperty(Le)&&ft[Le]&&ce("/"+Le.substr(0,1).toUpperCase()+Le.substr(1)+" ("+Jt(ue(ft[Le]))+")");ce("/CreationDate ("+Jt(ue(Y))+")"),ce(">>"),ce("endobj")},Bl=g.__private__.putCatalog=function(G){var ue=(G=G||{}).rootDictionaryObjId||Ne;switch(Xr(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+ue+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Le=""+ze;Le.substr(Le.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+O(ze)+"]")}switch(xt||(xt="continuous"),xt){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}we&&ce("/PageMode /"+we),Gt.publish("putCatalog"),ce(">>"),ce("endobj")},un=g.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(re+1)),ce("/Root "+re+" 0 R"),ce("/Info "+(re-1)+" 0 R"),h!==null&&ce("/Encrypt "+Qn.oid+" 0 R"),ce("/ID [ <"+U+"> <"+U+"> ]"),ce(">>")},va=g.__private__.putHeader=function(){ce("%PDF-"+w),ce("%")},mc=g.__private__.putXRef=function(){var G="0000000000";ce("xref"),ce("0 "+(re+1)),ce("0000000000 65535 f ");for(var ue=1;ue<=re;ue++)typeof te[ue]=="function"?ce((G+te[ue]()).slice(-10)+" 00000 n "):te[ue]!==void 0?ce((G+te[ue]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Mi=g.__private__.buildDocument=function(){var G;re=0,se=0,ie=[],te=[],le=[],Ne=Ns(),Ae=Ns(),ke(ie),Gt.publish("buildDocument"),va(),dt(),function(){Gt.publish("putAdditionalObjects");for(var Le=0;Le<le.length;Le++){var Qe=le[Le];fe(Qe.objId,!0),ce(Qe.content),ce("endobj")}Gt.publish("postPutAdditionalObjects")}(),G=[],function(){for(var Le in mt)mt.hasOwnProperty(Le)&&(m===!1||m===!0&&p.hasOwnProperty(Le))&&yt(mt[Le])}(),function(){var Le;for(Le in Pt)Pt.hasOwnProperty(Le)&&Ve(Pt[Le])}(),function(){for(var Le in ts)ts.hasOwnProperty(Le)&&Vt(ts[Le])}(),function(Le){var Qe;for(Qe in fr)fr.hasOwnProperty(Qe)&&(fr[Qe]instanceof N0?Zt(fr[Qe]):fr[Qe]instanceof sy&&de(fr[Qe],Le))}(G),Gt.publish("putResources"),G.forEach(He),He({resourcesOid:Ae,objectOid:Number.MAX_SAFE_INTEGER}),Gt.publish("postPutResources"),h!==null&&(Qn.oid=Xr(),ce("<<"),ce("/Filter /Standard"),ce("/V "+Qn.v),ce("/R "+Qn.r),ce("/U <"+Qn.toHexString(Qn.U)+">"),ce("/O <"+Qn.toHexString(Qn.O)+">"),ce("/P "+Qn.P),ce(">>"),ce("endobj")),kn(),Bl();var ue=se;return mc(),un(),ce("startxref"),ce(""+ue),ce("%%EOF"),ke(Ce[H]),ie.join(`
`)},go=g.__private__.getBlob=function(G){return new Blob([be(G)],{type:"application/pdf"})},Fi=g.output=g.__private__.output=(ks=function(G,ue){switch(typeof(ue=ue||{})=="string"?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",G){case void 0:return Mi();case"save":g.save(ue.filename);break;case"arraybuffer":return be(Mi());case"blob":return go(Mi());case"bloburi":case"bloburl":if(vs.URL!==void 0&&typeof vs.URL.createObjectURL=="function")return vs.URL&&vs.URL.createObjectURL(go(Mi()))||void 0;ea.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Le="",Qe=Mi();try{Le=JF(Qe)}catch{Le=JF(unescape(encodeURIComponent(Qe)))}return"data:application/pdf;filename="+ue.filename+";base64,"+Le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vs)==="[object Window]"){var it="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(it=ue.pdfObjectUrl,Rt="");var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+it+'"'+Rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",Br=vs.open();return Br!==null&&Br.document.write(Ht),Br}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vs)==="[object Window]"){var Yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',hs=vs.open();if(hs!==null){hs.document.write(Yr);var Ss=this;hs.document.documentElement.querySelector("#pdfViewer").onload=function(){hs.document.title=ue.filename,hs.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ss.output("bloburl"))}}return hs}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vs)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',da=vs.open();if(da!==null&&(da.document.write(an),da.document.title=ue.filename),da||typeof safari>"u")return da;break;case"datauri":case"dataurl":return vs.document.location.href=this.output("datauristring",ue);default:return null}},ks.foo=function(){try{return ks.apply(this,arguments)}catch(Le){var G=Le.stack||"";~G.indexOf(" at ")&&(G=G.split(" at ")[1]);var ue="Error in function "+G.split(`
`)[0].split("<")[0]+": "+Le.message;if(!vs.console)throw new Error(ue);vs.console.error(ue,Le),vs.alert&&alert(ue)}},ks.foo.bar=ks,ks.foo),zo=function(G){return Array.isArray(Mr)===!0&&Mr.indexOf(G)>-1};switch(n){case"pt":Xt=1;break;case"mm":Xt=72/25.4;break;case"cm":Xt=72/2.54;break;case"in":Xt=72;break;case"px":Xt=zo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xt=12;break;case"ex":Xt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Xt=n}var Qn=null;ae(),V();var Ba=g.__private__.getPageInfo=g.getPageInfo=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ar[G].objId,pageNumber:G,pageContext:ar[G]}},zd=g.__private__.getPageInfoByObjId=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in ar)if(ar[ue].objId===G)break;return Ba(ue)},Zc=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ar[H].objId,pageNumber:H,pageContext:ar[H]}};g.addPage=function(){return as.apply(this,arguments),this},g.setPage=function(){return tn.apply(this,arguments),ke.call(this,Ce[H]),this},g.insertPage=function(G){return this.addPage(),this.movePage(H,G),this},g.movePage=function(G,ue){var Le,Qe;if(G>ue){Le=Ce[G],Qe=ar[G];for(var it=G;it>ue;it--)Ce[it]=Ce[it-1],ar[it]=ar[it-1];Ce[ue]=Le,ar[ue]=Qe,this.setPage(ue)}else if(G<ue){Le=Ce[G],Qe=ar[G];for(var Rt=G;Rt<ue;Rt++)Ce[Rt]=Ce[Rt+1],ar[Rt]=ar[Rt+1];Ce[ue]=Le,ar[ue]=Qe,this.setPage(ue)}return this},g.deletePage=function(){return bs.apply(this,arguments),this},g.__private__.text=g.text=function(G,ue,Le,Qe,it){var Rt,Ht,Br,Yr,hs,Ss,an,da,$a,Tn=(Qe=Qe||{}).scope||this;if(typeof G=="number"&&typeof ue=="number"&&(typeof Le=="string"||Array.isArray(Le))){var Va=Le;Le=ue,ue=G,G=Va}if(arguments[3]instanceof lt==0?(Br=arguments[4],Yr=arguments[5],Vn(an=arguments[3])==="object"&&an!==null||(typeof Br=="string"&&(Yr=Br,Br=null),typeof an=="string"&&(Yr=an,an=null),typeof an=="number"&&(Br=an,an=null),Qe={flags:an,angle:Br,align:Yr})):(k("The transform parameter of text() with a Matrix value"),$a=it),isNaN(ue)||isNaN(Le)||G==null)throw new Error("Invalid arguments passed to jsPDF.text");if(G.length===0)return Tn;var qa,Ui="",Yd=typeof Qe.lineHeightFactor=="number"?Qe.lineHeightFactor:Xn,Ju=Tn.internal.scaleFactor;function Mv(Wn){return Wn=Wn.split("	").join(Array(Qe.TabLen||9).join(" ")),Jt(Wn,an)}function Vg(Wn){for(var pn,ua=Wn.concat(),Zn=[],wc=ua.length;wc--;)typeof(pn=ua.shift())=="string"?Zn.push(pn):Array.isArray(Wn)&&(pn.length===1||pn[1]===void 0&&pn[2]===void 0)?Zn.push(pn[0]):Zn.push([pn[0],pn[1],pn[2]]);return Zn}function Qh(Wn,pn){var ua;if(typeof Wn=="string")ua=pn(Wn)[0];else if(Array.isArray(Wn)){for(var Zn,wc,Zh=Wn.concat(),no=[],ld=Zh.length;ld--;)typeof(Zn=Zh.shift())=="string"?no.push(pn(Zn)[0]):Array.isArray(Zn)&&typeof Zn[0]=="string"&&(wc=pn(Zn[0],Zn[1],Zn[2]),no.push([wc[0],wc[1],wc[2]]));ua=no}return ua}var bc=!1,Vp=!0;if(typeof G=="string")bc=!0;else if(Array.isArray(G)){var eh=G.concat();Ht=[];for(var $l,Ni=eh.length;Ni--;)(typeof($l=eh.shift())!="string"||Array.isArray($l)&&typeof $l[0]!="string")&&(Vp=!1);bc=Vp}if(bc===!1)throw new Error('Type of text must be string or Array. "'+G+'" is not recognized.');typeof G=="string"&&(G=G.match(/[\r?\n]/)?G.split(/\r\n|\r|\n/g):[G]);var ed=Ye/Tn.internal.scaleFactor,td=ed*(Yd-1);switch(Qe.baseline){case"bottom":Le-=td;break;case"top":Le+=ed-td;break;case"hanging":Le+=ed-2*td;break;case"middle":Le+=ed/2-td}if((Ss=Qe.maxWidth||0)>0&&(typeof G=="string"?G=Tn.splitTextToSize(G,Ss):Object.prototype.toString.call(G)==="[object Array]"&&(G=G.reduce(function(Wn,pn){return Wn.concat(Tn.splitTextToSize(pn,Ss))},[]))),Rt={text:G,x:ue,y:Le,options:Qe,mutex:{pdfEscape:Jt,activeFontKey:Mt,fonts:mt,activeFontSize:Ye}},Gt.publish("preProcessText",Rt),G=Rt.text,Br=(Qe=Rt.options).angle,$a instanceof lt==0&&Br&&typeof Br=="number"){Br*=Math.PI/180,Qe.rotationDirection===0&&(Br=-Br),E===A&&(Br=-Br);var Xh=Math.cos(Br),nm=Math.sin(Br);$a=new lt(Xh,nm,-nm,Xh,0,0)}else Br&&Br instanceof lt&&($a=Br);E!==A||$a||($a=lr),(hs=Qe.charSpace||ee)!==void 0&&(Ui+=F(R(hs))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(da=Qe.horizontalScale)!==void 0&&(Ui+=F(100*da)+` Tz
`),Qe.lang;var so=-1,Kd=Qe.renderingMode!==void 0?Qe.renderingMode:Qe.stroke,am=Tn.internal.getCurrentPageInfo().pageContext;switch(Kd){case 0:case!1:case"fill":so=0;break;case 1:case!0:case"stroke":so=1;break;case 2:case"fillThenStroke":so=2;break;case 3:case"invisible":so=3;break;case 4:case"fillAndAddForClipping":so=4;break;case 5:case"strokeAndAddPathForClipping":so=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":so=6;break;case 7:case"addToPathForClipping":so=7}var qg=am.usedRenderingMode!==void 0?am.usedRenderingMode:-1;so!==-1?Ui+=so+` Tr
`:qg!==-1&&(Ui+=`0 Tr
`),so!==-1&&(am.usedRenderingMode=so),Yr=Qe.align||"left";var ri,wl=Ye*Yd,im=Tn.internal.pageSize.getWidth(),Qd=mt[Mt];hs=Qe.charSpace||ee,Ss=Qe.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},Qe.flags);var Vl=[],om=function(Wn){return Tn.getStringUnitWidth(Wn,{font:Qd,charSpace:hs,fontSize:Ye,doKerning:!1})*Ye/Ju};if(Object.prototype.toString.call(G)==="[object Array]"){var $i;Ht=Vg(G),Yr!=="left"&&(ri=Ht.map(om));var No,th=0;if(Yr==="right"){ue-=ri[0],G=[],Ni=Ht.length;for(var ql=0;ql<Ni;ql++)ql===0?(No=to(ue),$i=ti(Le)):(No=R(th-ri[ql]),$i=-wl),G.push([Ht[ql],No,$i]),th=ri[ql]}else if(Yr==="center"){ue-=ri[0]/2,G=[],Ni=Ht.length;for(var rd=0;rd<Ni;rd++)rd===0?(No=to(ue),$i=ti(Le)):(No=R((th-ri[rd])/2),$i=-wl),G.push([Ht[rd],No,$i]),th=ri[rd]}else if(Yr==="left"){G=[],Ni=Ht.length;for(var lm=0;lm<Ni;lm++)G.push(Ht[lm])}else if(Yr==="justify"&&Qd.encoding==="Identity-H"){G=[],Ni=Ht.length,Ss=Ss!==0?Ss:im;for(var Xd=0,ba=0;ba<Ni;ba++)if($i=ba===0?ti(Le):-wl,No=ba===0?to(ue):Xd,ba<Ni-1){var Fv=R((Ss-ri[ba])/(Ht[ba].split(" ").length-1)),sd=Ht[ba].split(" ");G.push([sd[0]+" ",No,$i]),Xd=0;for(var nd=1;nd<sd.length;nd++){var cm=(om(sd[nd-1]+" "+sd[nd])-om(sd[nd]))*Ju+Fv;nd==sd.length-1?G.push([sd[nd],cm,0]):G.push([sd[nd]+" ",cm,0]),Xd-=cm}}else G.push([Ht[ba],No,$i]);G.push(["",Xd,0])}else{if(Yr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(G=[],Ni=Ht.length,Ss=Ss!==0?Ss:im,ba=0;ba<Ni;ba++)$i=ba===0?ti(Le):-wl,No=ba===0?to(ue):0,ba<Ni-1?Vl.push(F(R((Ss-ri[ba])/(Ht[ba].split(" ").length-1)))):Vl.push(0),G.push([Ht[ba],No,$i])}}(typeof Qe.R2L=="boolean"?Qe.R2L:me)===!0&&(G=Qh(G,function(Wn,pn,ua){return[Wn.split("").reverse().join(""),pn,ua]})),Rt={text:G,x:ue,y:Le,options:Qe,mutex:{pdfEscape:Jt,activeFontKey:Mt,fonts:mt,activeFontSize:Ye}},Gt.publish("postProcessText",Rt),G=Rt.text,qa=Rt.mutex.isHex||!1;var qp=mt[Mt].encoding;qp!=="WinAnsiEncoding"&&qp!=="StandardEncoding"||(G=Qh(G,function(Wn,pn,ua){return[Mv(Wn),pn,ua]})),Ht=Vg(G),G=[];for(var ji,ad,rh,sh=Array.isArray(Ht[0])?1:0,id="",dm=function(Wn,pn,ua){var Zn="";return ua instanceof lt?(ua=typeof Qe.angle=="number"?Ct(ua,new lt(1,0,0,1,Wn,pn)):Ct(new lt(1,0,0,1,Wn,pn),ua),E===A&&(ua=Ct(new lt(1,0,0,-1,0,0),ua)),Zn=ua.join(" ")+` Tm
`):Zn=F(Wn)+" "+F(pn)+` Td
`,Zn},jo=0;jo<Ht.length;jo++){switch(id="",sh){case 1:rh=(qa?"<":"(")+Ht[jo][0]+(qa?">":")"),ji=parseFloat(Ht[jo][1]),ad=parseFloat(Ht[jo][2]);break;case 0:rh=(qa?"<":"(")+Ht[jo]+(qa?">":")"),ji=to(ue),ad=ti(Le)}Vl!==void 0&&Vl[jo]!==void 0&&(id=Vl[jo]+` Tw
`),jo===0?G.push(id+dm(ji,ad,$a)+rh):sh===0?G.push(id+rh):sh===1&&G.push(id+dm(ji,ad,$a)+rh)}G=sh===0?G.join(` Tj
T* `):G.join(` Tj
`),G+=` Tj
`;var od=`BT
/`;return od+=Mt+" "+Ye+` Tf
`,od+=F(Ye*Yd)+` TL
`,od+=Wo+`
`,od+=Ui,od+=G,ce(od+="ET"),p[Mt]=!0,Tn};var Hd=g.__private__.clip=g.clip=function(G){return ce(G==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Hd("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ce("n"),this};var ei=g.__private__.isValidStyle=function(G){var ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(G)!==-1&&(ue=!0),ue};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(G){return ei(G)&&(d=G),this};var vl=g.__private__.getStyle=g.getStyle=function(G){var ue=d;switch(G){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=G}return ue},Bi=g.close=function(){return ce("h"),this};g.stroke=function(){return ce("S"),this},g.fill=function(G){return la("f",G),this},g.fillEvenOdd=function(G){return la("f*",G),this},g.fillStroke=function(G){return la("B",G),this},g.fillStrokeEvenOdd=function(G){return la("B*",G),this};var la=function(G,ue){Vn(ue)==="object"?yo(ue,G):ce(G)},xo=function(G){G===null||E===A&&G===void 0||(G=vl(G),ce(G))};function Zu(G,ue,Le,Qe,it){var Rt=new sy(ue||this.boundingBox,Le||this.xStep,Qe||this.yStep,this.gState,it||this.matrix);Rt.stream=this.stream;var Ht=G+"$$"+this.cloneIndex+++"$$";return _r(Ht,Rt),Rt}var yo=function(G,ue){var Le=Lr[G.key],Qe=fr[Le];if(Qe instanceof N0)ce("q"),ce(Wd(ue)),Qe.gState&&g.setGState(Qe.gState),ce(G.matrix.toString()+" cm"),ce("/"+Le+" sh"),ce("Q");else if(Qe instanceof sy){var it=new lt(1,0,0,-1,0,nn());G.matrix&&(it=it.multiply(G.matrix||lr),Le=Zu.call(Qe,G.key,G.boundingBox,G.xStep,G.yStep,it).id),ce("q"),ce("/Pattern cs"),ce("/"+Le+" scn"),Qe.gState&&g.setGState(Qe.gState),ce(ue),ce("Q")}},Wd=function(G){switch(G){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Gd=g.moveTo=function(G,ue){return ce(F(R(G))+" "+F(B(ue))+" m"),this},pc=g.lineTo=function(G,ue){return ce(F(R(G))+" "+F(B(ue))+" l"),this},vo=g.curveTo=function(G,ue,Le,Qe,it,Rt){return ce([F(R(G)),F(B(ue)),F(R(Le)),F(B(Qe)),F(R(it)),F(B(Rt)),"c"].join(" ")),this};g.__private__.line=g.line=function(G,ue,Le,Qe,it){if(isNaN(G)||isNaN(ue)||isNaN(Le)||isNaN(Qe)||!ei(it))throw new Error("Invalid arguments passed to jsPDF.line");return E===S?this.lines([[Le-G,Qe-ue]],G,ue,[1,1],it||"S"):this.lines([[Le-G,Qe-ue]],G,ue,[1,1]).stroke()},g.__private__.lines=g.lines=function(G,ue,Le,Qe,it,Rt){var Ht,Br,Yr,hs,Ss,an,da,$a,Tn,Va,qa,Ui;if(typeof G=="number"&&(Ui=Le,Le=ue,ue=G,G=Ui),Qe=Qe||[1,1],Rt=Rt||!1,isNaN(ue)||isNaN(Le)||!Array.isArray(G)||!Array.isArray(Qe)||!ei(it)||typeof Rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gd(ue,Le),Ht=Qe[0],Br=Qe[1],hs=G.length,Va=ue,qa=Le,Yr=0;Yr<hs;Yr++)(Ss=G[Yr]).length===2?(Va=Ss[0]*Ht+Va,qa=Ss[1]*Br+qa,pc(Va,qa)):(an=Ss[0]*Ht+Va,da=Ss[1]*Br+qa,$a=Ss[2]*Ht+Va,Tn=Ss[3]*Br+qa,Va=Ss[4]*Ht+Va,qa=Ss[5]*Br+qa,vo(an,da,$a,Tn,Va,qa));return Rt&&Bi(),xo(it),this},g.path=function(G){for(var ue=0;ue<G.length;ue++){var Le=G[ue],Qe=Le.c;switch(Le.op){case"m":Gd(Qe[0],Qe[1]);break;case"l":pc(Qe[0],Qe[1]);break;case"c":vo.apply(this,Qe);break;case"h":Bi()}}return this},g.__private__.rect=g.rect=function(G,ue,Le,Qe,it){if(isNaN(G)||isNaN(ue)||isNaN(Le)||isNaN(Qe)||!ei(it))throw new Error("Invalid arguments passed to jsPDF.rect");return E===S&&(Qe=-Qe),ce([F(R(G)),F(B(ue)),F(R(Le)),F(R(Qe)),"re"].join(" ")),xo(it),this},g.__private__.triangle=g.triangle=function(G,ue,Le,Qe,it,Rt,Ht){if(isNaN(G)||isNaN(ue)||isNaN(Le)||isNaN(Qe)||isNaN(it)||isNaN(Rt)||!ei(Ht))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Le-G,Qe-ue],[it-Le,Rt-Qe],[G-it,ue-Rt]],G,ue,[1,1],Ht,!0),this},g.__private__.roundedRect=g.roundedRect=function(G,ue,Le,Qe,it,Rt,Ht){if(isNaN(G)||isNaN(ue)||isNaN(Le)||isNaN(Qe)||isNaN(it)||isNaN(Rt)||!ei(Ht))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Br=4/3*(Math.SQRT2-1);return it=Math.min(it,.5*Le),Rt=Math.min(Rt,.5*Qe),this.lines([[Le-2*it,0],[it*Br,0,it,Rt-Rt*Br,it,Rt],[0,Qe-2*Rt],[0,Rt*Br,-it*Br,Rt,-it,Rt],[2*it-Le,0],[-it*Br,0,-it,-Rt*Br,-it,-Rt],[0,2*Rt-Qe],[0,-Rt*Br,it*Br,-Rt,it,-Rt]],G+it,ue,[1,1],Ht,!0),this},g.__private__.ellipse=g.ellipse=function(G,ue,Le,Qe,it){if(isNaN(G)||isNaN(ue)||isNaN(Le)||isNaN(Qe)||!ei(it))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Rt=4/3*(Math.SQRT2-1)*Le,Ht=4/3*(Math.SQRT2-1)*Qe;return Gd(G+Le,ue),vo(G+Le,ue-Ht,G+Rt,ue-Qe,G,ue-Qe),vo(G-Rt,ue-Qe,G-Le,ue-Ht,G-Le,ue),vo(G-Le,ue+Ht,G-Rt,ue+Qe,G,ue+Qe),vo(G+Rt,ue+Qe,G+Le,ue+Ht,G+Le,ue),xo(it),this},g.__private__.circle=g.circle=function(G,ue,Le,Qe){if(isNaN(G)||isNaN(ue)||isNaN(Le)||!ei(Qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(G,ue,Le,Le,Qe)},g.setFont=function(G,ue,Le){return Le&&(ue=P(ue,Le)),Mt=_n(G,ue,{disableWarning:!1}),this};var Jc=g.__private__.getFont=g.getFont=function(){return mt[_n.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var G,ue,Le={};for(G in Er)if(Er.hasOwnProperty(G))for(ue in Le[G]=[],Er[G])Er[G].hasOwnProperty(ue)&&Le[G].push(ue);return Le},g.addFont=function(G,ue,Le,Qe,it){var Rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Rt.indexOf(arguments[3])!==-1?it=arguments[3]:arguments[3]&&Rt.indexOf(arguments[3])==-1&&(Le=P(Le,Qe)),Kt.call(this,G,ue,Le,it=it||"Identity-H")};var Xn,bo=e.lineWidth||.200025,is=g.__private__.getLineWidth=g.getLineWidth=function(){return bo},gc=g.__private__.setLineWidth=g.setLineWidth=function(G){return bo=G,ce(F(R(G))+" w"),this};g.__private__.setLineDash=ns.API.setLineDash=ns.API.setLineDashPattern=function(G,ue){if(G=G||[],ue=ue||0,isNaN(ue)||!Array.isArray(G))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return G=G.map(function(Le){return F(R(Le))}).join(" "),ue=F(R(ue)),ce("["+G+"] "+ue+" d"),this};var xc=g.__private__.getLineHeight=g.getLineHeight=function(){return Ye*Xn};g.__private__.getLineHeight=g.getLineHeight=function(){return Ye*Xn};var yc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(G){return typeof(G=G||1.15)=="number"&&(Xn=G),this},vc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Xn};yc(e.lineHeight);var to=g.__private__.getHorizontalCoordinate=function(G){return R(G)},ti=g.__private__.getVerticalCoordinate=function(G){return E===A?G:ar[H].mediaBox.topRightY-ar[H].mediaBox.bottomLeftY-R(G)},wo=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(G){return F(to(G))},ro=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(G){return F(ti(G))},Ho=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Ie(Ho)},g.__private__.setStrokeColor=g.setDrawColor=function(G,ue,Le,Qe){return Ho=Te({ch1:G,ch2:ue,ch3:Le,ch4:Qe,pdfColorType:"draw",precision:2}),ce(Ho),this};var Ul=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Ie(Ul)},g.__private__.setFillColor=g.setFillColor=function(G,ue,Le,Qe){return Ul=Te({ch1:G,ch2:ue,ch3:Le,ch4:Qe,pdfColorType:"fill",precision:2}),ce(Ul),this};var Wo=e.textColor||"0 g",bl=g.__private__.getTextColor=g.getTextColor=function(){return Ie(Wo)};g.__private__.setTextColor=g.setTextColor=function(G,ue,Le,Qe){return Wo=Te({ch1:G,ch2:ue,ch3:Le,ch4:Qe,pdfColorType:"text",precision:3}),this};var ee=e.charSpace,ye=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(ee||0)};g.__private__.setCharSpace=g.setCharSpace=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ee=G,this};var Ke=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(G){var ue=g.CapJoinStyles[G];if(ue===void 0)throw new Error("Line cap style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ke=ue,ce(ue+" J"),this};var Tt=0;g.__private__.setLineJoin=g.setLineJoin=function(G){var ue=g.CapJoinStyles[G];if(ue===void 0)throw new Error("Line join style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tt=ue,ce(ue+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(G){if(G=G||0,isNaN(G))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(F(R(G))+" M"),this},g.GState=B5,g.setGState=function(G){(G=typeof G=="string"?Pt[Tr[G]]:os(null,G)).equals(Cr)||(ce("/"+G.id+" gs"),Cr=G)};var os=function(G,ue){if(!G||!Tr[G]){var Le=!1;for(var Qe in Pt)if(Pt.hasOwnProperty(Qe)&&Pt[Qe].equals(ue)){Le=!0;break}if(Le)ue=Pt[Qe];else{var it="GS"+(Object.keys(Pt).length+1).toString(10);Pt[it]=ue,ue.id=it}return G&&(Tr[G]=ue.id),Gt.publish("addGState",ue),ue}};g.addGState=function(G,ue){return os(G,ue),this},g.saveGraphicsState=function(){return ce("q"),tr.push({key:Mt,size:Ye,color:Wo}),this},g.restoreGraphicsState=function(){ce("Q");var G=tr.pop();return Mt=G.key,Ye=G.size,Wo=G.color,Cr=null,this},g.setCurrentTransformationMatrix=function(G){return ce(G.toString()+" cm"),this},g.comment=function(G){return ce("#"+G),this};var Fr=function(G,ue){var Le=G||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Le},set:function(Rt){isNaN(Rt)||(Le=parseFloat(Rt))}});var Qe=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Qe},set:function(Rt){isNaN(Rt)||(Qe=parseFloat(Rt))}});var it="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return it},set:function(Rt){it=Rt.toString()}}),this},Ps=function(G,ue,Le,Qe){Fr.call(this,G,ue),this.type="rect";var it=Le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return it},set:function(Ht){isNaN(Ht)||(it=parseFloat(Ht))}});var Rt=Qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Rt},set:function(Ht){isNaN(Ht)||(Rt=parseFloat(Ht))}}),this},js=function(){this.page=mr,this.currentPage=H,this.pages=Ce.slice(0),this.pagesContext=ar.slice(0),this.x=ur,this.y=es,this.matrix=Qr,this.width=ca(H),this.height=nn(H),this.outputDestination=Ze,this.id="",this.objectNumber=-1};js.prototype.restore=function(){mr=this.page,H=this.currentPage,ar=this.pagesContext,Ce=this.pages,ur=this.x,es=this.y,Qr=this.matrix,Ua(H,this.width),Ln(H,this.height),Ze=this.outputDestination};var bn=function(G,ue,Le,Qe,it){Xe.push(new js),mr=H=0,Ce=[],ur=G,es=ue,Qr=it,Dr([Le,Qe])};for(var Ts in g.beginFormObject=function(G,ue,Le,Qe,it){return bn(G,ue,Le,Qe,it),this},g.endFormObject=function(G){return function(ue){if(ss[ue])Xe.pop().restore();else{var Le=new js,Qe="Xo"+(Object.keys(ts).length+1).toString(10);Le.id=Qe,ss[ue]=Qe,ts[Qe]=Le,Gt.publish("addFormObject",Le),Xe.pop().restore()}}(G),this},g.doFormObject=function(G,ue){var Le=ts[ss[G]];return ce("q"),ce(ue.toString()+" cm"),ce("/"+Le.id+" Do"),ce("Q"),this},g.getFormObject=function(G){var ue=ts[ss[G]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},g.save=function(G,ue){return G=G||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,ue.returnPromise===!1?(b0(go(Mi()),G),typeof b0.unload=="function"&&vs.setTimeout&&setTimeout(b0.unload,911),this):new Promise(function(Le,Qe){try{var it=b0(go(Mi()),G);typeof b0.unload=="function"&&vs.setTimeout&&setTimeout(b0.unload,911),Le(it)}catch(Rt){Qe(Rt.message)}})},ns.API)ns.API.hasOwnProperty(Ts)&&(Ts==="events"&&ns.API.events.length?function(G,ue){var Le,Qe,it;for(it=ue.length-1;it!==-1;it--)Le=ue[it][0],Qe=ue[it][1],G.subscribe.apply(G,[Le].concat(typeof Qe=="function"?[Qe]:Qe))}(Gt,ns.API.events):g[Ts]=ns.API[Ts]);var ca=g.getPageWidth=function(G){return(ar[G=G||H].mediaBox.topRightX-ar[G].mediaBox.bottomLeftX)/Xt},Ua=g.setPageWidth=function(G,ue){ar[G].mediaBox.topRightX=ue*Xt+ar[G].mediaBox.bottomLeftX},nn=g.getPageHeight=function(G){return(ar[G=G||H].mediaBox.topRightY-ar[G].mediaBox.bottomLeftY)/Xt},Ln=g.setPageHeight=function(G,ue){ar[G].mediaBox.topRightY=ue*Xt+ar[G].mediaBox.bottomLeftY};return g.internal={pdfEscape:Jt,getStyle:vl,getFont:Jc,getFontSize:Pe,getCharSpace:ye,getTextColor:bl,getLineHeight:xc,getLineHeightFactor:vc,getLineWidth:is,write:Me,getHorizontalCoordinate:to,getVerticalCoordinate:ti,getCoordinateString:wo,getVerticalCoordinateString:ro,collections:{},newObject:Xr,newAdditionalObject:Re,newObjectDeferred:Ns,newObjectDeferredBegin:fe,getFilters:st,putStream:Et,events:Gt,scaleFactor:Xt,pageSize:{getWidth:function(){return ca(H)},setWidth:function(G){Ua(H,G)},getHeight:function(){return nn(H)},setHeight:function(G){Ln(H,G)}},encryptionOptions:h,encryption:Qn,getEncryptor:function(G){return h!==null?Qn.encryptor(G,0):function(ue){return ue}},output:Fi,getNumberOfPages:xs,pages:Ce,out:ce,f2:O,f3:M,getPageInfo:Ba,getPageInfoByObjId:zd,getCurrentPageInfo:Zc,getPDFVersion:b,Point:Fr,Rectangle:Ps,Matrix:lt,hasHotfix:zo},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ca(H)},set:function(G){Ua(H,G)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return nn(H)},set:function(G){Ln(H,G)},enumerable:!0,configurable:!0}),(function(G){for(var ue=0,Le=ge.length;ue<Le;ue++){var Qe=Kt.call(this,G[ue][0],G[ue][1],G[ue][2],ge[ue][3],!0);m===!1&&(p[Qe]=!0);var it=G[ue][0].split("-");kt({id:Qe,fontName:it[0],fontStyle:it[1]||""})}Gt.publish("addFonts",{fonts:mt,dictionary:Er})}).call(g,ge),Mt="F1",as(a,r),Gt.publish("initialized"),g}qx.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},qx.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qx.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},qx.prototype.processOwnerPassword=function(e,t){return ok(ik(t).substr(0,5),e)},qx.prototype.encryptor=function(e,t){var r=ik(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return ok(r,n)}},B5.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Vn(e)!==Vn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ns.API={events:[]},ns.version="3.0.2";var Ya=ns.API,LD=1,$g=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dx=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Cs=function(e){return e.toFixed(2)},$m=function(e){return e.toFixed(5)};Ya.__acroform__={};var fc=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},s7=function(e){return e*LD},bh=function(e){var t=new wQ,r=zr.internal.getHeight(e)||0,n=zr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Cs(n)),Number(Cs(r))],t},MMe=Ya.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},FMe=Ya.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},BMe=Ya.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ci=Ya.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return BMe(e,t-1)},di=Ya.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return MMe(e,t-1)},ui=Ya.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FMe(e,t-1)},UMe=Ya.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(Cs(c.lowerLeft_X)),Number(Cs(c.lowerLeft_Y)),Number(Cs(c.upperRight_X)),Number(Cs(c.upperRight_Y))]},$Me=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=lk(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Cs(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=bh(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},lk=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var i=r,o=zr.internal.getHeight(e)||0;o=o<0?-o:o;var l=zr.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(O,M,R){if(O+1<a.length){var B=M+" "+a[O+1][0];return oj(B,e,R).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,h,m=oj("3",e,i).height,p=e.multiline?o-i:(o-m)/2,g=p+=2,w=0,b=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+oj(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var N="",S=0,A=0;A<a.length;A++)if(a.hasOwnProperty(A)){var E=!1;if(a[A].length!==1&&v!==a[A].length-1){if((m+2)*(S+2)+2>o)continue e;N+=a[A][v],E=!0,b=A,A--}else{N=(N+=a[A][v]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var C=parseInt(A),I=c(C,N,i),P=A>=a.length-1;if(I&&!P){N+=" ",v=0;continue}if(I||P){if(P)b=C;else if(e.multiline&&(m+2)*(S+2)+2>o)continue e}else{if(!e.multiline||(m+2)*(S+2)+2>o)continue e;b=C}}for(var F="",k=w;k<=b;k++){var z=a[k];if(e.multiline){if(k===b){F+=z[v]+" ",v=(v+1)%z.length;continue}if(k===w){F+=z[z.length-1]+" ";continue}}F+=z[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,h=oj(F,e,i).width,e.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;default:d=2}t+=Cs(d)+" "+Cs(g)+` Td
`,t+="("+$g(F)+`) Tj
`,t+=-Cs(d)+` 0 Td
`,g=-(i+2),h=0,w=E?b:b+1,S++,N=""}break}return n.text=t,n.fontSize=i,n},oj=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},VMe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qMe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},zMe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Qu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(VMe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");LD=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new NQ,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&qMe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=UMe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=zr.createDefaultAppearanceStream(l),Vn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=$Me(l);c.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var g=l.appearanceStreamContent[p];if(m+="/"+p+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var w=g[o];typeof w=="function"&&(w=w.call(a,l)),m+="/"+o+" "+w+" ",a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(a,l)),m+="/"+o+" "+w,a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&function(b,v){for(var N in b)if(b.hasOwnProperty(N)){var S=N,A=b[N];v.internal.newObjectDeferredBegin(A.objId,!0),Vn(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete b[S]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},bQ=Ya.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Vn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+$g(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},P3=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+$g(n(e))+")"},Th=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Th.prototype.toString=function(){return this.objId+" 0 R"},Th.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Th.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:bQ(a,this.objId,this.scope)}):a instanceof Th?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var wQ=function(){Th.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};fc(wQ,Th);var NQ=function(){Th.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+$g(r(e))+")"}},set:function(r){e=r}})};fc(NQ,Th);var Qu=function e(){Th.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');t=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ci(t,3)},set:function(N){N?this.F=di(t,3):this.F=ui(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof U5)return;i="FieldObject"+e.FieldNum++}var N=function(S){return S};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+$g(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/LD:d},set:function(N){d=N}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(N){h=N}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof U5||this instanceof z0))return P3(m,this.objId,this.scope)},set:function(N){N=N.toString(),m=N}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof uo==0?P3(p,this.objId,this.scope):p},set:function(N){N=N.toString(),p=this instanceof uo==0?N.substr(0,1)==="("?Dx(N.substr(1,N.length-2)):Dx(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof uo==1?Dx(p.substr(1,p.length-1)):p},set:function(N){N=N.toString(),p=this instanceof uo==1?"/"+N:N}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof uo==0?P3(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof uo==0?N.substr(0,1)==="("?Dx(N.substr(1,N.length-2)):Dx(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof uo==1?Dx(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof uo==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(N){N=!!N,b=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(N){w=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,1)},set:function(N){N?this.Ff=di(this.Ff,1):this.Ff=ui(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,2)},set:function(N){N?this.Ff=di(this.Ff,2):this.Ff=ui(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,3)},set:function(N){N?this.Ff=di(this.Ff,3):this.Ff=ui(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');v=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(v){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};fc(Qu,Th);var vy=function(){Qu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bQ(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,18)},set:function(r){r?this.Ff=di(this.Ff,18):this.Ff=ui(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=di(this.Ff,19):this.Ff=ui(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,20)},set:function(r){r?(this.Ff=di(this.Ff,20),t.sort()):this.Ff=ui(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,22)},set:function(r){r?this.Ff=di(this.Ff,22):this.Ff=ui(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,23)},set:function(r){r?this.Ff=di(this.Ff,23):this.Ff=ui(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,27)},set:function(r){r?this.Ff=di(this.Ff,27):this.Ff=ui(this.Ff,27)}}),this.hasAppearanceStream=!1};fc(vy,Qu);var by=function(){vy.call(this),this.fontName="helvetica",this.combo=!1};fc(by,vy);var wy=function(){by.call(this),this.combo=!0};fc(wy,by);var Pj=function(){wy.call(this),this.edit=!0};fc(Pj,wy);var uo=function(){Qu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,15)},set:function(r){r?this.Ff=di(this.Ff,15):this.Ff=ui(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,16)},set:function(r){r?this.Ff=di(this.Ff,16):this.Ff=ui(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,17)},set:function(r){r?this.Ff=di(this.Ff,17):this.Ff=ui(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,26)},set:function(r){r?this.Ff=di(this.Ff,26):this.Ff=ui(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+$g(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Vn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};fc(uo,Qu);var Oj=function(){uo.call(this),this.pushButton=!0};fc(Oj,uo);var Ny=function(){uo.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};fc(Ny,uo);var U5=function(){var e,t;Qu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+$g(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Vn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fc(U5,Qu),Ny.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ny.prototype.createOption=function(e){var t=new U5;return t.Parent=this,t.optionName=e,this.Kids.push(t),HMe.call(this.scope,t),t};var Rj=function(){uo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zr.CheckBox.createAppearanceStream()};fc(Rj,uo);var z0=function(){Qu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,13)},set:function(t){t?this.Ff=di(this.Ff,13):this.Ff=ui(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,21)},set:function(t){t?this.Ff=di(this.Ff,21):this.Ff=ui(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,23)},set:function(t){t?this.Ff=di(this.Ff,23):this.Ff=ui(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,24)},set:function(t){t?this.Ff=di(this.Ff,24):this.Ff=ui(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,25)},set:function(t){t?this.Ff=di(this.Ff,25):this.Ff=ui(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,26)},set:function(t){t?this.Ff=di(this.Ff,26):this.Ff=ui(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fc(z0,Qu);var Ij=function(){z0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,14)},set:function(e){e?this.Ff=di(this.Ff,14):this.Ff=ui(this.Ff,14)}}),this.password=!0};fc(Ij,z0);var zr={CheckBox:{createAppearanceStream:function(){return{N:{On:zr.CheckBox.YesNormal},D:{On:zr.CheckBox.YesPushDown,Off:zr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=bh(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=lk(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Cs(zr.internal.getWidth(e))+" "+Cs(zr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Cs(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=bh(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=zr.internal.getHeight(e),o=zr.internal.getWidth(e),l=lk(e,e.caption);return a.push("1 g"),a.push("0 0 "+Cs(o)+" "+Cs(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Cs(o-1)+" "+Cs(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Cs(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=bh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Cs(zr.internal.getWidth(e))+" "+Cs(zr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:zr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=zr.RadioButton.Circle.YesNormal,t.D[e]=zr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=bh(e);t.scope=e.scope;var r=[],n=zr.internal.getWidth(e)<=zr.internal.getHeight(e)?zr.internal.getWidth(e)/4:zr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=zr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$m(zr.internal.getWidth(e)/2)+" "+$m(zr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bh(e);t.scope=e.scope;var r=[],n=zr.internal.getWidth(e)<=zr.internal.getHeight(e)?zr.internal.getWidth(e)/4:zr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*zr.internal.Bezier_C).toFixed(5)),o=Number((n*zr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$m(zr.internal.getWidth(e)/2)+" "+$m(zr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$m(zr.internal.getWidth(e)/2)+" "+$m(zr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=bh(e);t.scope=e.scope;var r=[],n=zr.internal.getWidth(e)<=zr.internal.getHeight(e)?zr.internal.getWidth(e)/4:zr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*zr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$m(zr.internal.getWidth(e)/2)+" "+$m(zr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:zr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=zr.RadioButton.Cross.YesNormal,t.D[e]=zr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=bh(e);t.scope=e.scope;var r=[],n=zr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Cs(zr.internal.getWidth(e)-2)+" "+Cs(zr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Cs(n.x1.x)+" "+Cs(n.x1.y)+" m"),r.push(Cs(n.x2.x)+" "+Cs(n.x2.y)+" l"),r.push(Cs(n.x4.x)+" "+Cs(n.x4.y)+" m"),r.push(Cs(n.x3.x)+" "+Cs(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bh(e);t.scope=e.scope;var r=zr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Cs(zr.internal.getWidth(e))+" "+Cs(zr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Cs(zr.internal.getWidth(e)-2)+" "+Cs(zr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Cs(r.x1.x)+" "+Cs(r.x1.y)+" m"),n.push(Cs(r.x2.x)+" "+Cs(r.x2.y)+" l"),n.push(Cs(r.x4.x)+" "+Cs(r.x4.y)+" m"),n.push(Cs(r.x3.x)+" "+Cs(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=bh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Cs(zr.internal.getWidth(e))+" "+Cs(zr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};zr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=zr.internal.getWidth(e),r=zr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},zr.internal.getWidth=function(e){var t=0;return Vn(e)==="object"&&(t=s7(e.Rect[2])),t},zr.internal.getHeight=function(e){var t=0;return Vn(e)==="object"&&(t=s7(e.Rect[3])),t};var HMe=Ya.addField=function(e){if(zMe(this,e),!(e instanceof Qu))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ya.AcroFormChoiceField=vy,Ya.AcroFormListBox=by,Ya.AcroFormComboBox=wy,Ya.AcroFormEditBox=Pj,Ya.AcroFormButton=uo,Ya.AcroFormPushButton=Oj,Ya.AcroFormRadioButton=Ny,Ya.AcroFormCheckBox=Rj,Ya.AcroFormTextField=z0,Ya.AcroFormPasswordField=Ij,Ya.AcroFormAppearance=zr,Ya.AcroForm={ChoiceField:vy,ListBox:by,ComboBox:wy,EditBox:Pj,Button:uo,PushButton:Oj,RadioButton:Ny,CheckBox:Rj,TextField:z0,PasswordField:Ij,Appearance:zr},ns.AcroForm={ChoiceField:vy,ListBox:by,ComboBox:wy,EditBox:Pj,Button:uo,PushButton:Oj,RadioButton:Ny,CheckBox:Rj,TextField:z0,PasswordField:Ij,Appearance:zr};ns.AcroForm;function jQ(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(O,M){var R,B,Y,U,Q,V=r;if((M=M||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(I(O))for(Q in n)for(Y=n[Q],R=0;R<Y.length;R+=1){for(U=!0,B=0;B<Y[R].length;B+=1)if(Y[R][B]!==void 0&&Y[R][B]!==O[B]){U=!1;break}if(U===!0){V=Q;break}}else for(Q in n)for(Y=n[Q],R=0;R<Y.length;R+=1){for(U=!0,B=0;B<Y[R].length;B+=1)if(Y[R][B]!==void 0&&Y[R][B]!==O.charCodeAt(B)){U=!1;break}if(U===!0){V=Q;break}}return V===r&&M!==r&&(V=M),V},i=function O(M){for(var R=this.internal.write,B=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:M.width}),U.push({key:"Height",value:M.height}),M.colorSpace===N.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===N.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var Q="",V=0,Z=M.transparency.length;V<Z;V++)Q+=M.transparency[V]+" "+M.transparency[V]+" ";U.push({key:"Mask",value:"["+Q+"]"})}M.sMask!==void 0&&U.push({key:"SMask",value:M.objectId+1+" 0 R"});var J=M.filter!==void 0?["/"+M.filter]:void 0;if(B({data:M.data,additionalKeyValues:U,alreadyAppliedFilters:J,objectId:M.objectId}),R("endobj"),"sMask"in M&&M.sMask!==void 0){var ae=(M.predictor!=null?"/Predictor "+M.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+M.width,D={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:ae,data:M.sMask};"filter"in M&&(D.filter=M.filter),O.call(this,D)}if(M.colorSpace===N.INDEXED){var H=this.internal.newObject();B({data:F(new Uint8Array(M.palette)),objectId:H}),R("endobj")}},o=function(){var O=this.internal.collections[t+"images"];for(var M in O)i.call(this,O[M])},l=function(){var O,M=this.internal.collections[t+"images"],R=this.internal.write;for(var B in M)R("/I"+(O=M[B]).index,O.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var O=this.internal.collections[t+"images"];return c.call(this),O},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(O){return typeof e["process"+O.toUpperCase()]=="function"},p=function(O){return Vn(O)==="object"&&O.nodeType===1},g=function(O,M){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var R=""+O.getAttribute("src");if(R.indexOf("data:image/")===0)return Dj(unescape(R).split("base64,").pop());var B=e.loadFile(R,!0);if(B!==void 0)return B}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var Y;switch(M){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return Dj(O.toDataURL(Y,1).split("base64,").pop())}},w=function(O){var M=this.internal.collections[t+"images"];if(M){for(var R in M)if(O===M[R].alias)return M[R]}},b=function(O,M,R){return O||M||(O=-96,M=-96),O<0&&(O=-1*R.width*72/O/this.internal.scaleFactor),M<0&&(M=-1*R.height*72/M/this.internal.scaleFactor),O===0&&(O=M*R.width/R.height),M===0&&(M=O*R.height/R.width),[O,M]},v=function(O,M,R,B,Y,U){var Q=b.call(this,R,B,Y),V=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,J=d.call(this);if(R=Q[0],B=Q[1],J[Y.index]=Y,U){U*=Math.PI/180;var ae=Math.cos(U),D=Math.sin(U),H=function(W){return W.toFixed(4)},K=[H(ae),H(D),H(-1*D),H(ae),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,V(O),Z(M+B),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([V(R),"0","0",V(B),"0","0","cm"].join(" "))):this.internal.write([V(R),"0","0",V(B),V(O),Z(M+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=e.__addimage__.sHashCode=function(O){var M,R,B=0;if(typeof O=="string")for(R=O.length,M=0;M<R;M++)B=(B<<5)-B+O.charCodeAt(M),B|=0;else if(I(O))for(R=O.byteLength/2,M=0;M<R;M++)B=(B<<5)-B+O[M],B|=0;return B},E=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var M=!0;return O.length===0&&(M=!1),O.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(M=!1),M},C=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var M=O.indexOf(",");return M<0?null:O.substring(0,M).trim().endsWith("base64")?O.substring(M+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var I=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},P=e.__addimage__.binaryStringToUint8Array=function(O){for(var M=O.length,R=new Uint8Array(M),B=0;B<M;B++)R[B]=O.charCodeAt(B);return R},F=e.__addimage__.arrayBufferToBinaryString=function(O){for(var M="",R=I(O)?O:new Uint8Array(O),B=0;B<R.length;B+=8192)M+=String.fromCharCode.apply(null,R.subarray(B,B+8192));return M};e.addImage=function(){var O,M,R,B,Y,U,Q,V,Z;if(typeof arguments[1]=="number"?(M=r,R=arguments[1],B=arguments[2],Y=arguments[3],U=arguments[4],Q=arguments[5],V=arguments[6],Z=arguments[7]):(M=arguments[1],R=arguments[2],B=arguments[3],Y=arguments[4],U=arguments[5],Q=arguments[6],V=arguments[7],Z=arguments[8]),Vn(O=arguments[0])==="object"&&!p(O)&&"imageData"in O){var J=O;O=J.imageData,M=J.format||M||r,R=J.x||R||0,B=J.y||B||0,Y=J.w||J.width||Y,U=J.h||J.height||U,Q=J.alias||Q,V=J.compression||V,Z=J.rotation||J.angle||Z}var ae=this.internal.getFilters();if(V===void 0&&ae.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(R)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=k.call(this,O,M,Q,V);return v.call(this,R,B,Y,U,D,Z),this};var k=function(O,M,R,B){var Y,U,Q;if(typeof O=="string"&&a(O)===r){O=unescape(O);var V=z(O,!1);(V!==""||(V=e.loadFile(O,!0))!==void 0)&&(O=V)}if(p(O)&&(O=g(O,M)),M=a(O,M),!m(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((Q=R)==null||Q.length===0)&&(R=function(Z){return typeof Z=="string"||I(Z)?A(Z):I(Z.data)?A(Z.data):null}(O)),(Y=w.call(this,R))||(O instanceof Uint8Array||M==="RGBA"||(U=O,O=P(O)),Y=this["process"+M.toUpperCase()](O,h.call(this),R,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in e.image_compression?Z:S.NONE}(B),U)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},z=e.__addimage__.convertBase64ToBinaryString=function(O,M){M=typeof M!="boolean"||M;var R,B="";if(typeof O=="string"){var Y;R=(Y=C(O))!==null&&Y!==void 0?Y:O;try{B=Dj(R)}catch(U){if(M)throw E(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};e.getImageProperties=function(O){var M,R,B="";if(p(O)&&(O=g(O)),typeof O=="string"&&a(O)===r&&((B=z(O,!1))===""&&(B=e.loadFile(O)||""),O=B),R=a(O),!m(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(O instanceof Uint8Array||(O=P(O)),!(M=this["process"+R.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=R,M}})(ns.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ns.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,h=!1,m=0;m<d.length&&!h;m++)switch((n=d[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var p=0;p<d.length;p++){n=d[p];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(b.objId),S=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(N(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+g(N(S))+") >>",b.content=i;var A=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+A,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(b.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(w(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var I=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(d*h)}else l=c,o=d;return this.text(r,n,a,i),a+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-d,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ns.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},l=e.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&a.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(b){var v=0,N=r,S="",A=0;for(v=0;v<b.length;v+=1)N[b.charCodeAt(v)]!==void 0?(A++,typeof(N=N[b.charCodeAt(v)])=="number"&&(S+=String.fromCharCode(N),N=r,A=0),v===b.length-1&&(N=r,S+=b.charAt(v-(A-1)),v-=A-1,A=0)):(N=r,S+=b.charAt(v-A),v-=A,A=0);return S};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(b,v,N){return o(b)?i(b)===!1?-1:!d(b)||!o(v)&&!o(N)||!o(N)&&l(v)||l(b)&&!o(v)||l(b)&&c(v)||l(b)&&l(v)?0:h(b)&&o(v)&&!l(v)&&o(N)&&d(N)?3:l(b)||!o(N)?1:2:-1},g=function(b){var v=0,N=0,S=0,A="",E="",C="",I=(b=b||"").split("\\s+"),P=[];for(v=0;v<I.length;v+=1){for(P.push(""),N=0;N<I[v].length;N+=1)A=I[v][N],E=I[v][N-1],C=I[v][N+1],o(A)?(S=p(A,E,C),P[v]+=S!==-1?String.fromCharCode(t[A.charCodeAt(0)][S]):A):P[v]+=A;P[v]=m(P[v])}return P.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var b,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(v)){var S=0;for(N=[],S=0;S<v.length;S+=1)Array.isArray(v[S])?N.push([g(v[S][0]),v[S][1],v[S][2]]):N.push([g(v[S])]);b=N}else b=g(v);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",w])}(ns.API),ns.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ns.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(b){w=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),p=d.scaleFactor||this.internal.scaleFactor,g=0,w=0,b=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var N=d.maxWidth;N>0?typeof c=="string"?c=this.splitTextToSize(c,N):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(A,E){return A.concat(v.splitTextToSize(E,N))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)g<(b=this.getStringUnitWidth(c[S],{font:m})*h)&&(g=b);return g!==0&&(w=c.length),{w:g/=p,h:Math.max((w*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,g&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,h,m,p){if(n.call(this),!h)throw new Error("No data for PDF table.");var g,w,b,v,N=[],S=[],A=[],E={},C={},I=[],P=[],F=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,z=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,O=p.margins||Object.assign({width:this.getPageWidth()},t),M=typeof p.padding=="number"?p.padding:3,R=p.headerBackgroundColor||"#c8c8c8",B=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=B,this.setFontSize(z),m==null)S=N=Object.keys(h[0]),A=N.map(function(){return"left"});else if(Array.isArray(m)&&Vn(m[0])==="object")for(N=m.map(function(J){return J.name}),S=m.map(function(J){return J.prompt||J.name||""}),A=m.map(function(J){return J.align||"left"}),g=0;g<m.length;g+=1)C[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(S=N=m,A=N.map(function(){return"left"}));if(F||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<N.length;g+=1){for(E[v=N[g]]=h.map(function(J){return J[v]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(S[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=E[v],this.setFont(void 0,"normal"),b=0;b<w.length;b+=1)I.push(this.getTextDimensions(w[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[v]=Math.max.apply(null,I)+M+M,I=[]}if(k){var Y={};for(g=0;g<N.length;g+=1)Y[N[g]]={},Y[N[g]].text=S[g],Y[N[g]].align=A[g];var U=l.call(this,Y,C);P=N.map(function(J){return new i(c,d,C[J],U,Y[J].text,void 0,Y[J].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var Q=m.reduce(function(J,ae){return J[ae.name]=ae.align,J},{});for(g=0;g<h.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:h[g]},this);var V=l.call(this,h[g],C);for(b=0;b<N.length;b+=1){var Z=h[g][N[b]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:b,data:Z},this),o.call(this,new i(c,d,C[N[b]],V,Z,g+2,Q[N[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(g){var w=c[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,d[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/p+h+h},this).reduce(function(g,w){return Math.max(g,w)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,p.push(h)),h.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(w)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(ns.API);var SQ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},AQ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ck=jQ(AQ),EQ=[100,200,300,400,500,600,700,800,900],WMe=jQ(EQ);function O3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return SQ[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof ck[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function n7(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var GMe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},a7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function i7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function o7(e){return e.trimLeft()}function YMe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function KMe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var lj,l7,c7,Px,cj,d7,u7,h7,R3=["times"];function f7(e,t,r,n){var a=4,i=p7;switch(n){case ns.API.image_compression.FAST:a=1,i=m7;break;case ns.API.image_compression.MEDIUM:a=6,i=g7;break;case ns.API.image_compression.SLOW:a=9,i=x7}e=function(l,c,d,h){for(var m,p=l.length/c,g=new Uint8Array(l.length+p),w=[QMe,m7,p7,g7,x7],b=0;b<p;b+=1){var v=b*c,N=l.subarray(v,v+c);if(h)g.set(h(N,d,m),v+b);else{for(var S=w.length,A=[],E=0;E<S;E+=1)A[E]=w[E](N,d,m);var C=ZMe(A.concat());g.set(A[C],v+b)}m=N}return g}(e,t,r,i);var o=rk(e,{level:a});return ns.API.__addimage__.arrayBufferToBinaryString(o)}function QMe(e){var t=Array.apply([],e);return t.unshift(0),t}function m7(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function p7(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;a[i+1]=e[i]-o+256&255}return a}function g7(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;a[i+1]=e[i]+256-(o+l>>>1)&255}return a}function x7(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=XMe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function XMe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function ZMe(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function I3(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),o=(1<<r)-1;return CQ(e,a)>>i&o}function y7(e,t,r,n){var a=r*n,i=Math.floor(a/8),o=16-(a-8*i+n),l=(1<<n)-1,c=(t&l)<<o;(function(d,h,m){if(h+1<d.byteLength)d.setUint16(h,m,!1);else{var p=m>>8&255;d.setUint8(h,p)}})(e,i,CQ(e,i)&~(l<<o)&65535|c)}function CQ(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function JMe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var d=!0,h=[],m=0,p=null,g=0,w=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];m=e[t++]|e[t++]<<8,p=e[t++],1&b||(p=null),g=b>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,E=e[t++],C=E>>6&1,I=1<<1+(7&E),P=l,F=c,k=!1;E>>7&&(k=!0,P=t,F=I,t+=3*I);var z=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}h.push({x:v,y:N,width:S,height:A,has_local_palette:k,palette_offset:P,palette_size:F,data_offset:z,data_length:t-z,transparent_index:p,interlaced:!!C,delay:m,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return w},this.frameInfo=function(M){if(M<0||M>=h.length)throw new Error("Frame index out of range.");return h[M]},this.decodeAndBlitFrameBGRA=function(M,R){var B=this.frameInfo(M),Y=B.width*B.height,U=new Uint8Array(Y);v7(e,B.data_offset,U,Y);var Q=B.palette_offset,V=B.transparent_index;V===null&&(V=256);var Z=B.width,J=r-Z,ae=Z,D=4*(B.y*r+B.x),H=4*((B.y+B.height)*r+B.x),K=D,W=4*J;B.interlaced===!0&&(W+=4*r*7);for(var re=8,te=0,ie=U.length;te<ie;++te){var se=U[te];if(ae===0&&(ae=Z,(K+=W)>=H&&(W=4*J+4*r*(re-1),K=D+(Z+J)*(re<<1),re>>=1)),se===V)K+=4;else{var le=e[Q+3*se],Ce=e[Q+3*se+1],De=e[Q+3*se+2];R[K++]=De,R[K++]=Ce,R[K++]=le,R[K++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(M,R){var B=this.frameInfo(M),Y=B.width*B.height,U=new Uint8Array(Y);v7(e,B.data_offset,U,Y);var Q=B.palette_offset,V=B.transparent_index;V===null&&(V=256);var Z=B.width,J=r-Z,ae=Z,D=4*(B.y*r+B.x),H=4*((B.y+B.height)*r+B.x),K=D,W=4*J;B.interlaced===!0&&(W+=4*r*7);for(var re=8,te=0,ie=U.length;te<ie;++te){var se=U[te];if(ae===0&&(ae=Z,(K+=W)>=H&&(W=4*J+4*r*(re-1),K=D+(Z+J)*(re<<1),re>>=1)),se===V)K+=4;else{var le=e[Q+3*se],Ce=e[Q+3*se+1],De=e[Q+3*se+2];R[K++]=le,R[K++]=Ce,R[K++]=De,R[K++]=255}--ae}}}function v7(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,h=0,m=0,p=0,g=e[t++],w=new Int32Array(4096),b=null;;){for(;h<16&&g!==0;)m|=e[t++]<<h,h+=8,g===1?g=e[t++]:--g;if(h<c)break;var v=m&d;if(m>>=c,h-=c,v!==i){if(v===o)break;for(var N=v<l?v:b,S=0,A=N;A>i;)A=w[A]>>8,++S;var E=A;if(p+S+(N!==v?1:0)>n)return void ea.log("Warning, gif stream longer than expected.");r[p++]=E;var C=p+=S;for(N!==v&&(r[p++]=E),A=N;S--;)A=w[A],r[--C]=255&A,A>>=8;b!==null&&l<4096&&(w[l++]=b<<8|E,l>=d+1&&c<12&&(++c,d=d<<1|1)),b=v}else l=o+1,d=(1<<(c=a+1))-1,b=null}return p!==n&&ea.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function L3(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),m=new Array(65535),p=new Array(65535),g=new Array(64),w=new Array(64),b=[],v=0,N=7,S=new Array(64),A=new Array(64),E=new Array(64),C=new Array(256),I=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(D,H){for(var K=0,W=0,re=new Array,te=1;te<=16;te++){for(var ie=1;ie<=D[te];ie++)re[H[W]]=[],re[H[W]][0]=K,re[H[W]][1]=te,W++,K++;K*=2}return re}function Q(D){for(var H=D[0],K=D[1]-1;K>=0;)H&1<<K&&(v|=1<<N),K--,--N<0&&(v==255?(V(255),V(0)):V(v),N=7,v=0)}function V(D){b.push(D)}function Z(D){V(D>>8&255),V(255&D)}function J(D,H,K,W,re){for(var te,ie=re[0],se=re[240],le=function(Ye,ze){var Pe,me,we,qe,xt,pt,ct,ft,Mt,Xt,ur=0;for(Mt=0;Mt<8;++Mt){Pe=Ye[ur],me=Ye[ur+1],we=Ye[ur+2],qe=Ye[ur+3],xt=Ye[ur+4],pt=Ye[ur+5],ct=Ye[ur+6];var es=Pe+(ft=Ye[ur+7]),Qr=Pe-ft,mt=me+ct,Er=me-ct,tr=we+pt,fr=we-pt,Lr=qe+xt,Pt=qe-xt,Tr=es+Lr,Cr=es-Lr,mr=mt+tr,ar=mt-tr;Ye[ur]=Tr+mr,Ye[ur+4]=Tr-mr;var Gt=.707106781*(ar+Cr);Ye[ur+2]=Cr+Gt,Ye[ur+6]=Cr-Gt;var Mr=.382683433*((Tr=Pt+fr)-(ar=Er+Qr)),ts=.5411961*Tr+Mr,ss=1.306562965*ar+Mr,Xe=.707106781*(mr=fr+Er),lt=Qr+Xe,Ct=Qr-Xe;Ye[ur+5]=Ct+ts,Ye[ur+3]=Ct-ts,Ye[ur+1]=lt+ss,Ye[ur+7]=lt-ss,ur+=8}for(ur=0,Mt=0;Mt<8;++Mt){Pe=Ye[ur],me=Ye[ur+8],we=Ye[ur+16],qe=Ye[ur+24],xt=Ye[ur+32],pt=Ye[ur+40],ct=Ye[ur+48];var lr=Pe+(ft=Ye[ur+56]),_r=Pe-ft,ks=me+ct,Xr=me-ct,Ns=we+pt,fe=we-pt,Re=qe+xt,Ne=qe-xt,Ae=lr+Re,Ie=lr-Re,Te=ks+Ns,st=ks-Ns;Ye[ur]=Ae+Te,Ye[ur+32]=Ae-Te;var Et=.707106781*(st+Ie);Ye[ur+16]=Ie+Et,Ye[ur+48]=Ie-Et;var ht=.382683433*((Ae=Ne+fe)-(st=Xr+_r)),dt=.5411961*Ae+ht,yt=1.306562965*st+ht,Vt=.707106781*(Te=fe+Xr),Zt=_r+Vt,de=_r-Vt;Ye[ur+40]=de+dt,Ye[ur+24]=de-dt,Ye[ur+8]=Zt+yt,Ye[ur+56]=Zt-yt,ur++}for(Mt=0;Mt<64;++Mt)Xt=Ye[Mt]*ze[Mt],g[Mt]=Xt>0?Xt+.5|0:Xt-.5|0;return g}(D,H),Ce=0;Ce<64;++Ce)w[P[Ce]]=le[Ce];var De=w[0]-K;K=w[0],De==0?Q(W[0]):(Q(W[p[te=32767+De]]),Q(m[te]));for(var Ze=63;Ze>0&&w[Ze]==0;)Ze--;if(Ze==0)return Q(ie),K;for(var ke,ce=1;ce<=Ze;){for(var Me=ce;w[ce]==0&&ce<=Ze;)++ce;var be=ce-Me;if(be>=16){ke=be>>4;for(var ge=1;ge<=ke;++ge)Q(se);be&=15}te=32767+w[ce],Q(re[(be<<4)+p[te]]),Q(m[te]),ce++}return Ze!=63&&Q(ie),K}function ae(D){D=Math.min(Math.max(D,1),100),i!=D&&(function(H){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var re=o((K[W]*H+50)/100);re=Math.min(Math.max(re,1),255),l[P[W]]=re}for(var te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ie=0;ie<64;ie++){var se=o((te[ie]*H+50)/100);se=Math.min(Math.max(se,1),255),c[P[ie]]=se}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,De=0;De<8;De++)for(var Ze=0;Ze<8;Ze++)d[Ce]=1/(l[P[Ce]]*le[De]*le[Ze]*8),h[Ce]=1/(c[P[Ce]]*le[De]*le[Ze]*8),Ce++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,H){H&&ae(H),b=new Array,v=0,N=7,Z(65496),Z(65504),Z(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),Z(1),Z(1),V(0),V(0),function(){Z(65499),Z(132),V(0);for(var me=0;me<64;me++)V(l[me]);V(1);for(var we=0;we<64;we++)V(c[we])}(),function(me,we){Z(65472),Z(17),V(8),Z(we),Z(me),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(D.width,D.height),function(){Z(65476),Z(418),V(0);for(var me=0;me<16;me++)V(F[me+1]);for(var we=0;we<=11;we++)V(k[we]);V(16);for(var qe=0;qe<16;qe++)V(z[qe+1]);for(var xt=0;xt<=161;xt++)V(O[xt]);V(1);for(var pt=0;pt<16;pt++)V(M[pt+1]);for(var ct=0;ct<=11;ct++)V(R[ct]);V(17);for(var ft=0;ft<16;ft++)V(B[ft+1]);for(var Mt=0;Mt<=161;Mt++)V(Y[Mt])}(),Z(65498),Z(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var K=0,W=0,re=0;v=0,N=7,this.encode.displayName="_encode_";for(var te,ie,se,le,Ce,De,Ze,ke,ce,Me=D.data,be=D.width,ge=D.height,Ye=4*be,ze=0;ze<ge;){for(te=0;te<Ye;){for(Ce=Ye*ze+te,Ze=-1,ke=0,ce=0;ce<64;ce++)De=Ce+(ke=ce>>3)*Ye+(Ze=4*(7&ce)),ze+ke>=ge&&(De-=Ye*(ze+1+ke-ge)),te+Ze>=Ye&&(De-=te+Ze-Ye+4),ie=Me[De++],se=Me[De++],le=Me[De++],S[ce]=(I[ie]+I[se+256|0]+I[le+512|0]>>16)-128,A[ce]=(I[ie+768|0]+I[se+1024|0]+I[le+1280|0]>>16)-128,E[ce]=(I[ie+1280|0]+I[se+1536|0]+I[le+1792|0]>>16)-128;K=J(S,d,K,t,n),W=J(A,h,W,r,a),re=J(E,h,re,r,a),te+=32}ze+=8}if(N>=0){var Pe=[];Pe[1]=N+1,Pe[0]=(1<<N+1)-1,Q(Pe)}return Z(65497),new Uint8Array(b)},e=e||50,function(){for(var D=String.fromCharCode,H=0;H<256;H++)C[H]=D(H)}(),t=U(F,k),r=U(M,R),n=U(z,O),a=U(B,Y),function(){for(var D=1,H=2,K=1;K<=15;K++){for(var W=D;W<H;W++)p[32767+W]=K,m[32767+W]=[],m[32767+W][1]=K,m[32767+W][0]=W;for(var re=-(H-1);re<=-D;re++)p[32767+re]=K,m[32767+re]=[],m[32767+re][1]=K,m[32767+re][0]=H-1+re;D<<=1,H<<=1}}(),function(){for(var D=0;D<256;D++)I[D]=19595*D,I[D+256|0]=38470*D,I[D+512|0]=7471*D+32768,I[D+768|0]=-11059*D,I[D+1024|0]=-21709*D,I[D+1280|0]=32768*D+8421375,I[D+1536|0]=-27439*D,I[D+1792|0]=-5329*D}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function pu(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function b7(e){function t(k){if(!k)throw Error("assert :P")}function r(k,z,O){for(var M=0;4>M;M++)if(k[z+M]!=O.charCodeAt(M))return!0;return!1}function n(k,z,O,M,R){for(var B=0;B<R;B++)k[z+B]=O[M+B]}function a(k,z,O,M){for(var R=0;R<M;R++)k[z+R]=O}function i(k){return new Int32Array(k)}function o(k,z){for(var O=[],M=0;M<k;M++)O.push(new z);return O}function l(k,z){var O=[];return function M(R,B,Y){for(var U=Y[B],Q=0;Q<U&&(R.push(Y.length>B+1?[]:new z),!(Y.length<B+1));Q++)M(R[Q],B+1,Y)}(O,0,k),O}var c=function(){var k=this;function z(_,L){for(var X=1<<L-1>>>0;_&X;)X>>>=1;return X?(_&X-1)+X:_}function O(_,L,X,ne,he){t(!(ne%X));do _[L+(ne-=X)]=he;while(0<ne)}function M(_,L,X,ne,he){if(t(2328>=he),512>=he)var pe=i(512);else if((pe=i(he))==null)return 0;return function(xe,Se,_e,Fe,tt,vt){var Ue,rt,et=Se,Nt=1<<_e,ot=i(16),Ot=i(16);for(t(tt!=0),t(Fe!=null),t(xe!=null),t(0<_e),rt=0;rt<tt;++rt){if(15<Fe[rt])return 0;++ot[Fe[rt]]}if(ot[0]==tt)return 0;for(Ot[1]=0,Ue=1;15>Ue;++Ue){if(ot[Ue]>1<<Ue)return 0;Ot[Ue+1]=Ot[Ue]+ot[Ue]}for(rt=0;rt<tt;++rt)Ue=Fe[rt],0<Fe[rt]&&(vt[Ot[Ue]++]=rt);if(Ot[15]==1)return(Fe=new R).g=0,Fe.value=vt[0],O(xe,et,1,Nt,Fe),Nt;var Lt,rr=-1,Qt=Nt-1,$r=0,Pr=1,Ds=1,jr=1<<_e;for(rt=0,Ue=1,tt=2;Ue<=_e;++Ue,tt<<=1){if(Pr+=Ds<<=1,0>(Ds-=ot[Ue]))return 0;for(;0<ot[Ue];--ot[Ue])(Fe=new R).g=Ue,Fe.value=vt[rt++],O(xe,et+$r,tt,jr,Fe),$r=z($r,Ue)}for(Ue=_e+1,tt=2;15>=Ue;++Ue,tt<<=1){if(Pr+=Ds<<=1,0>(Ds-=ot[Ue]))return 0;for(;0<ot[Ue];--ot[Ue]){if(Fe=new R,($r&Qt)!=rr){for(et+=jr,Lt=1<<(rr=Ue)-_e;15>rr&&!(0>=(Lt-=ot[rr]));)++rr,Lt<<=1;Nt+=jr=1<<(Lt=rr-_e),xe[Se+(rr=$r&Qt)].g=Lt+_e,xe[Se+rr].value=et-Se-rr}Fe.g=Ue-_e,Fe.value=vt[rt++],O(xe,et+($r>>_e),tt,jr,Fe),$r=z($r,Ue)}}return Pr!=2*Ot[15]-1?0:Nt}(_,L,X,ne,he,pe)}function R(){this.value=this.g=0}function B(){this.value=this.g=0}function Y(){this.G=o(5,R),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ql,B)}function U(_,L,X,ne){t(_!=null),t(L!=null),t(2147483648>ne),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=L,_.pa=X,_.Jd=L,_.Yc=X+ne,_.Zc=4<=ne?X+ne-4+1:X,ie(_)}function Q(_,L){for(var X=0;0<L--;)X|=le(_,128)<<L;return X}function V(_,L){var X=Q(_,L);return se(_)?-X:X}function Z(_,L,X,ne){var he,pe=0;for(t(_!=null),t(L!=null),t(4294967288>ne),_.Sb=ne,_.Ra=0,_.u=0,_.h=0,4<ne&&(ne=4),he=0;he<ne;++he)pe+=L[X+he]<<8*he;_.Ra=pe,_.bb=ne,_.oa=L,_.pa=X}function J(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Xd-8>>>0,++_.bb,_.u-=8;W(_)&&(_.h=1,_.u=0)}function ae(_,L){if(t(0<=L),!_.h&&L<=lm){var X=K(_)&rd[L];return _.u+=L,J(_),X}return _.h=1,_.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(_){return _.Ra>>>(_.u&Xd-1)>>>0}function W(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Xd}function re(_,L){_.u=L,_.h=W(_)}function te(_){_.u>=ba&&(t(_.u>=ba),J(_))}function ie(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function se(_){return Q(_,1)}function le(_,L){var X=_.Ca;0>_.b&&ie(_);var ne=_.b,he=X*L>>>8,pe=(_.I>>>ne>he)+0;for(pe?(X-=he,_.I-=he+1<<ne>>>0):X=he+1,ne=X,he=0;256<=ne;)he+=8,ne>>=8;return ne=7^he+Fv[ne],_.b-=ne,_.Ca=(X<<ne)-1,pe}function Ce(_,L,X){_[L+0]=X>>24&255,_[L+1]=X>>16&255,_[L+2]=X>>8&255,_[L+3]=255&X}function De(_,L){return _[L+0]|_[L+1]<<8}function Ze(_,L){return De(_,L)|_[L+2]<<16}function ke(_,L){return De(_,L)|De(_,L+2)<<16}function ce(_,L){var X=1<<L;return t(_!=null),t(0<L),_.X=i(X),_.X==null?0:(_.Mb=32-L,_.Xa=L,1)}function Me(_,L){t(_!=null),t(L!=null),t(_.Xa==L.Xa),n(L.X,0,_.X,0,1<<L.Xa)}function be(){this.X=[],this.Xa=this.Mb=0}function ge(_,L,X,ne){t(X!=null),t(ne!=null);var he=X[0],pe=ne[0];return he==0&&(he=(_*pe+L/2)/L),pe==0&&(pe=(L*he+_/2)/_),0>=he||0>=pe?0:(X[0]=he,ne[0]=pe,1)}function Ye(_,L){return _+(1<<L)-1>>>L}function ze(_,L){return((4278255360&_)+(4278255360&L)>>>0&4278255360)+((16711935&_)+(16711935&L)>>>0&16711935)>>>0}function Pe(_,L){k[L]=function(X,ne,he,pe,xe,Se,_e){var Fe;for(Fe=0;Fe<xe;++Fe){var tt=k[_](Se[_e+Fe-1],he,pe+Fe);Se[_e+Fe]=ze(X[ne+Fe],tt)}}}function me(){this.ud=this.hd=this.jd=0}function we(_,L){return((4278124286&(_^L))>>>1)+(_&L)>>>0}function qe(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function xt(_,L){return qe(_+(_-L+.5>>1))}function pt(_,L,X){return Math.abs(L-X)-Math.abs(_-X)}function ct(_,L,X,ne,he,pe,xe){for(ne=pe[xe-1],X=0;X<he;++X)pe[xe+X]=ne=ze(_[L+X],ne)}function ft(_,L,X,ne,he){var pe;for(pe=0;pe<X;++pe){var xe=_[L+pe],Se=xe>>8&255,_e=16711935&(_e=(_e=16711935&xe)+((Se<<16)+Se));ne[he+pe]=(4278255360&xe)+_e>>>0}}function Mt(_,L){L.jd=255&_,L.hd=_>>8&255,L.ud=_>>16&255}function Xt(_,L,X,ne,he,pe){var xe;for(xe=0;xe<ne;++xe){var Se=L[X+xe],_e=Se>>>8,Fe=Se,tt=255&(tt=(tt=Se>>>16)+((_.jd<<24>>24)*(_e<<24>>24)>>>5));Fe=255&(Fe=(Fe+=(_.hd<<24>>24)*(_e<<24>>24)>>>5)+((_.ud<<24>>24)*(tt<<24>>24)>>>5)),he[pe+xe]=(4278255360&Se)+(tt<<16)+Fe}}function ur(_,L,X,ne,he){k[L]=function(pe,xe,Se,_e,Fe,tt,vt,Ue,rt){for(_e=vt;_e<Ue;++_e)for(vt=0;vt<rt;++vt)Fe[tt++]=he(Se[ne(pe[xe++])])},k[_]=function(pe,xe,Se,_e,Fe,tt,vt){var Ue=8>>pe.b,rt=pe.Ea,et=pe.K[0],Nt=pe.w;if(8>Ue)for(pe=(1<<pe.b)-1,Nt=(1<<Ue)-1;xe<Se;++xe){var ot,Ot=0;for(ot=0;ot<rt;++ot)ot&pe||(Ot=ne(_e[Fe++])),tt[vt++]=he(et[Ot&Nt]),Ot>>=Ue}else k["VP8LMapColor"+X](_e,Fe,et,Nt,tt,vt,xe,Se,rt)}}function es(_,L,X,ne,he){for(X=L+X;L<X;){var pe=_[L++];ne[he++]=pe>>16&255,ne[he++]=pe>>8&255,ne[he++]=255&pe}}function Qr(_,L,X,ne,he){for(X=L+X;L<X;){var pe=_[L++];ne[he++]=pe>>16&255,ne[he++]=pe>>8&255,ne[he++]=255&pe,ne[he++]=pe>>24&255}}function mt(_,L,X,ne,he){for(X=L+X;L<X;){var pe=(xe=_[L++])>>16&240|xe>>12&15,xe=240&xe|xe>>28&15;ne[he++]=pe,ne[he++]=xe}}function Er(_,L,X,ne,he){for(X=L+X;L<X;){var pe=(xe=_[L++])>>16&248|xe>>13&7,xe=xe>>5&224|xe>>3&31;ne[he++]=pe,ne[he++]=xe}}function tr(_,L,X,ne,he){for(X=L+X;L<X;){var pe=_[L++];ne[he++]=255&pe,ne[he++]=pe>>8&255,ne[he++]=pe>>16&255}}function fr(_,L,X,ne,he,pe){if(pe==0)for(X=L+X;L<X;)Ce(ne,((pe=_[L++])[0]>>24|pe[1]>>8&65280|pe[2]<<8&16711680|pe[3]<<24)>>>0),he+=32;else n(ne,he,_,L,X)}function Lr(_,L){k[L][0]=k[_+"0"],k[L][1]=k[_+"1"],k[L][2]=k[_+"2"],k[L][3]=k[_+"3"],k[L][4]=k[_+"4"],k[L][5]=k[_+"5"],k[L][6]=k[_+"6"],k[L][7]=k[_+"7"],k[L][8]=k[_+"8"],k[L][9]=k[_+"9"],k[L][10]=k[_+"10"],k[L][11]=k[_+"11"],k[L][12]=k[_+"12"],k[L][13]=k[_+"13"],k[L][14]=k[_+"0"],k[L][15]=k[_+"0"]}function Pt(_){return _==Nc||_==jc||_==cd||_==Gg}function Tr(){this.eb=[],this.size=this.A=this.fb=0}function Cr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Tr,this.f.kb=new Cr,this.sd=null}function ar(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Mr(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function ts(_,L){var X=_.T,ne=L.ba.f.RGBA,he=ne.eb,pe=ne.fb+_.ka*ne.A,xe=Eo[L.ba.S],Se=_.y,_e=_.O,Fe=_.f,tt=_.N,vt=_.ea,Ue=_.W,rt=L.cc,et=L.dc,Nt=L.Mc,ot=L.Nc,Ot=_.ka,Lt=_.ka+_.T,rr=_.U,Qt=rr+1>>1;for(Ot==0?xe(Se,_e,null,null,Fe,tt,vt,Ue,Fe,tt,vt,Ue,he,pe,null,null,rr):(xe(L.ec,L.fc,Se,_e,rt,et,Nt,ot,Fe,tt,vt,Ue,he,pe-ne.A,he,pe,rr),++X);Ot+2<Lt;Ot+=2)rt=Fe,et=tt,Nt=vt,ot=Ue,tt+=_.Rc,Ue+=_.Rc,pe+=2*ne.A,xe(Se,(_e+=2*_.fa)-_.fa,Se,_e,rt,et,Nt,ot,Fe,tt,vt,Ue,he,pe-ne.A,he,pe,rr);return _e+=_.fa,_.j+Lt<_.o?(n(L.ec,L.fc,Se,_e,rr),n(L.cc,L.dc,Fe,tt,Qt),n(L.Mc,L.Nc,vt,Ue,Qt),X--):1&Lt||xe(Se,_e,null,null,Fe,tt,vt,Ue,Fe,tt,vt,Ue,he,pe+ne.A,null,null,rr),X}function ss(_,L,X){var ne=_.F,he=[_.J];if(ne!=null){var pe=_.U,xe=L.ba.S,Se=xe==Ao||xe==cd;L=L.ba.f.RGBA;var _e=[0],Fe=_.ka;_e[0]=_.T,_.Kb&&(Fe==0?--_e[0]:(--Fe,he[0]-=_.width),_.j+_.ka+_.T==_.o&&(_e[0]=_.o-_.j-Fe));var tt=L.eb;Fe=L.fb+Fe*L.A,_=Jh(ne,he[0],_.width,pe,_e,tt,Fe+(Se?0:3),L.A),t(X==_e),_&&Pt(xe)&&So(tt,Fe,Se,pe,_e,L.A)}return 0}function Xe(_){var L=_.ma,X=L.ba.S,ne=11>X,he=X==tu||X==ef||X==Ao||X==Yo||X==12||Pt(X);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!$i(L.Oa,_,he?11:12))return 0;if(he&&Pt(X)&&Vp(),_.da)alert("todo:use_scaling");else{if(ne){if(L.Ib=Mr,_.Kb){if(X=_.U+1>>1,L.memory=i(_.U+2*X),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+_.U,L.Mc=L.cc,L.Nc=L.dc+X,L.Ib=ts,Vp()}}else alert("todo:EmitYUV");he&&(L.Jb=ss,ne&&Qh())}if(ne&&!Ec){for(_=0;256>_;++_)oh[_]=89858*(_-128)+Xp>>rf,su[_]=-22014*(_-128)+Xp,lh[_]=-45773*(_-128),Ew[_]=113618*(_-128)+Xp>>rf;for(_=sf;_<Zp;++_)L=76283*(_-16)+Xp>>rf,si[_-sf]=ri(L,255),Qg[_-sf]=ri(L+8>>4,15);Ec=1}return 1}function lt(_){var L=_.ma,X=_.U,ne=_.T;return t(!(1&_.ka)),0>=X||0>=ne?0:(X=L.Ib(_,L),L.Jb!=null&&L.Jb(_,L,X),L.Dc+=X,1)}function Ct(_){_.ma.memory=null}function lr(_,L,X,ne){return ae(_,8)!=47?0:(L[0]=ae(_,14)+1,X[0]=ae(_,14)+1,ne[0]=ae(_,1),ae(_,3)!=0?0:!_.h)}function _r(_,L){if(4>_)return _+1;var X=_-2>>1;return(2+(1&_)<<X)+ae(L,X)+1}function ks(_,L){return 120<L?L-120:1<=(X=((X=Sc[L-1])>>4)*_+(8-(15&X)))?X:1;var X}function Xr(_,L,X){var ne=K(X),he=_[L+=255&ne].g-8;return 0<he&&(re(X,X.u+8),ne=K(X),L+=_[L].value,L+=ne&(1<<he)-1),re(X,X.u+_[L].g),_[L].value}function Ns(_,L,X){return X.g+=_.g,X.value+=_.value<<L>>>0,t(8>=X.g),_.g}function fe(_,L,X){var ne=_.xc;return t((L=ne==0?0:_.vc[_.md*(X>>ne)+(L>>ne)])<_.Wb),_.Ya[L]}function Re(_,L,X,ne){var he=_.ab,pe=_.c*L,xe=_.C;L=xe+L;var Se=X,_e=ne;for(ne=_.Ta,X=_.Ua;0<he--;){var Fe=_.gc[he],tt=xe,vt=L,Ue=Se,rt=_e,et=(_e=ne,Se=X,Fe.Ea);switch(t(tt<vt),t(vt<=Fe.nc),Fe.hc){case 2:cm(Ue,rt,(vt-tt)*et,_e,Se);break;case 0:var Nt=tt,ot=vt,Ot=_e,Lt=Se,rr=(jr=Fe).Ea;Nt==0&&(sd(Ue,rt,null,null,1,Ot,Lt),ct(Ue,rt+1,0,0,rr-1,Ot,Lt+1),rt+=rr,Lt+=rr,++Nt);for(var Qt=1<<jr.b,$r=Qt-1,Pr=Ye(rr,jr.b),Ds=jr.K,jr=jr.w+(Nt>>jr.b)*Pr;Nt<ot;){var Ys=Ds,_a=jr,As=1;for(nd(Ue,rt,Ot,Lt-rr,1,Ot,Lt);As<rr;){var Vr=(As&~$r)+Qt;Vr>rr&&(Vr=rr),(0,sh[Ys[_a++]>>8&15])(Ue,rt+ +As,Ot,Lt+As-rr,Vr-As,Ot,Lt+As),As=Vr}rt+=rr,Lt+=rr,++Nt&$r||(jr+=Pr)}vt!=Fe.nc&&n(_e,Se-et,_e,Se+(vt-tt-1)*et,et);break;case 1:for(et=Ue,ot=rt,rr=(Ue=Fe.Ea)-(Lt=Ue&~(Ot=(rt=1<<Fe.b)-1)),Nt=Ye(Ue,Fe.b),Qt=Fe.K,Fe=Fe.w+(tt>>Fe.b)*Nt;tt<vt;){for($r=Qt,Pr=Fe,Ds=new me,jr=ot+Lt,Ys=ot+Ue;ot<jr;)Mt($r[Pr++],Ds),id(Ds,et,ot,rt,_e,Se),ot+=rt,Se+=rt;ot<Ys&&(Mt($r[Pr++],Ds),id(Ds,et,ot,rr,_e,Se),ot+=rr,Se+=rr),++tt&Ot||(Fe+=Nt)}break;case 3:if(Ue==_e&&rt==Se&&0<Fe.b){for(ot=_e,Ue=et=Se+(vt-tt)*et-(Lt=(vt-tt)*Ye(Fe.Ea,Fe.b)),rt=_e,Ot=Se,Nt=[],Lt=(rr=Lt)-1;0<=Lt;--Lt)Nt[Lt]=rt[Ot+Lt];for(Lt=rr-1;0<=Lt;--Lt)ot[Ue+Lt]=Nt[Lt];qp(Fe,tt,vt,_e,et,_e,Se)}else qp(Fe,tt,vt,Ue,rt,_e,Se)}Se=ne,_e=X}_e!=X&&n(ne,X,Se,_e,pe)}function Ne(_,L){var X=_.V,ne=_.Ba+_.c*_.C,he=L-_.C;if(t(L<=_.l.o),t(16>=he),0<he){var pe=_.l,xe=_.Ta,Se=_.Ua,_e=pe.width;if(Re(_,he,X,ne),he=Se=[Se],t((X=_.C)<(ne=L)),t(pe.v<pe.va),ne>pe.o&&(ne=pe.o),X<pe.j){var Fe=pe.j-X;X=pe.j,he[0]+=Fe*_e}if(X>=ne?X=0:(he[0]+=4*pe.v,pe.ka=X-pe.j,pe.U=pe.va-pe.v,pe.T=ne-X,X=1),X){if(Se=Se[0],11>(X=_.ca).S){var tt=X.f.RGBA,vt=(ne=X.S,he=pe.U,pe=pe.T,Fe=tt.eb,tt.A),Ue=pe;for(tt=tt.fb+_.Ma*tt.A;0<Ue--;){var rt=xe,et=Se,Nt=he,ot=Fe,Ot=tt;switch(ne){case eu:dm(rt,et,Nt,ot,Ot);break;case tu:jo(rt,et,Nt,ot,Ot);break;case Nc:jo(rt,et,Nt,ot,Ot),So(ot,Ot,0,Nt,1,0);break;case Wp:pn(rt,et,Nt,ot,Ot);break;case ef:fr(rt,et,Nt,ot,Ot,1);break;case jc:fr(rt,et,Nt,ot,Ot,1),So(ot,Ot,0,Nt,1,0);break;case Ao:fr(rt,et,Nt,ot,Ot,0);break;case cd:fr(rt,et,Nt,ot,Ot,0),So(ot,Ot,1,Nt,1,0);break;case Yo:od(rt,et,Nt,ot,Ot);break;case Gg:od(rt,et,Nt,ot,Ot),Nl(ot,Ot,Nt,1,0);break;case ah:Wn(rt,et,Nt,ot,Ot);break;default:t(0)}Se+=_e,tt+=vt}_.Ma+=pe}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=X.height)}}_.C=L,t(_.C<=_.i)}function Ae(_){var L;if(0<_.ua)return 0;for(L=0;L<_.Wb;++L){var X=_.Ya[L].G,ne=_.Ya[L].H;if(0<X[1][ne[1]+0].g||0<X[2][ne[2]+0].g||0<X[3][ne[3]+0].g)return 0}return 1}function Ie(_,L,X,ne,he,pe){if(_.Z!=0){var xe=_.qd,Se=_.rd;for(t(Hl[_.Z]!=null);L<X;++L)Hl[_.Z](xe,Se,ne,he,ne,he,pe),xe=ne,Se=he,he+=pe;_.qd=xe,_.rd=Se}}function Te(_,L){var X=_.l.ma,ne=X.Z==0||X.Z==1?_.l.j:_.C;if(ne=_.C<ne?ne:_.C,t(L<=_.l.o),L>ne){var he=_.l.width,pe=X.ca,xe=X.tb+he*ne,Se=_.V,_e=_.Ba+_.c*ne,Fe=_.gc;t(_.ab==1),t(Fe[0].hc==3),ad(Fe[0],ne,L,Se,_e,pe,xe),Ie(X,ne,L,pe,xe,he)}_.C=_.Ma=L}function st(_,L,X,ne,he,pe,xe){var Se=_.$/ne,_e=_.$%ne,Fe=_.m,tt=_.s,vt=X+_.$,Ue=vt;he=X+ne*he;var rt=X+ne*pe,et=280+tt.ua,Nt=_.Pb?Se:16777216,ot=0<tt.ua?tt.Wa:null,Ot=tt.wc,Lt=vt<rt?fe(tt,_e,Se):null;t(_.C<pe),t(rt<=he);var rr=!1;e:for(;;){for(;rr||vt<rt;){var Qt=0;if(Se>=Nt){var $r=vt-X;t((Nt=_).Pb),Nt.wd=Nt.m,Nt.xd=$r,0<Nt.s.ua&&Me(Nt.s.Wa,Nt.s.vb),Nt=Se+Kv}if(_e&Ot||(Lt=fe(tt,_e,Se)),t(Lt!=null),Lt.Qb&&(L[vt]=Lt.qb,rr=!0),!rr)if(te(Fe),Lt.jc){Qt=Fe,$r=L;var Pr=vt,Ds=Lt.pd[K(Qt)&ql-1];t(Lt.jc),256>Ds.g?(re(Qt,Qt.u+Ds.g),$r[Pr]=Ds.value,Qt=0):(re(Qt,Qt.u+Ds.g-256),t(256<=Ds.value),Qt=Ds.value),Qt==0&&(rr=!0)}else Qt=Xr(Lt.G[0],Lt.H[0],Fe);if(Fe.h)break;if(rr||256>Qt){if(!rr)if(Lt.nd)L[vt]=(Lt.qb|Qt<<8)>>>0;else{if(te(Fe),rr=Xr(Lt.G[1],Lt.H[1],Fe),te(Fe),$r=Xr(Lt.G[2],Lt.H[2],Fe),Pr=Xr(Lt.G[3],Lt.H[3],Fe),Fe.h)break;L[vt]=(Pr<<24|rr<<16|Qt<<8|$r)>>>0}if(rr=!1,++vt,++_e>=ne&&(_e=0,++Se,xe!=null&&Se<=pe&&!(Se%16)&&xe(_,Se),ot!=null))for(;Ue<vt;)Qt=L[Ue++],ot.X[(506832829*Qt&4294967295)>>>ot.Mb]=Qt}else if(280>Qt){if(Qt=_r(Qt-256,Fe),$r=Xr(Lt.G[4],Lt.H[4],Fe),te(Fe),$r=ks(ne,$r=_r($r,Fe)),Fe.h)break;if(vt-X<$r||he-vt<Qt)break e;for(Pr=0;Pr<Qt;++Pr)L[vt+Pr]=L[vt+Pr-$r];for(vt+=Qt,_e+=Qt;_e>=ne;)_e-=ne,++Se,xe!=null&&Se<=pe&&!(Se%16)&&xe(_,Se);if(t(vt<=he),_e&Ot&&(Lt=fe(tt,_e,Se)),ot!=null)for(;Ue<vt;)Qt=L[Ue++],ot.X[(506832829*Qt&4294967295)>>>ot.Mb]=Qt}else{if(!(Qt<et))break e;for(rr=Qt-280,t(ot!=null);Ue<vt;)Qt=L[Ue++],ot.X[(506832829*Qt&4294967295)>>>ot.Mb]=Qt;Qt=vt,t(!(rr>>>($r=ot).Xa)),L[Qt]=$r.X[rr],rr=!0}rr||t(Fe.h==W(Fe))}if(_.Pb&&Fe.h&&vt<he)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&Me(_.s.vb,_.s.Wa);else{if(Fe.h)break e;xe!=null&&xe(_,Se>pe?pe:Se),_.a=0,_.$=vt-X}return 1}return _.a=3,0}function Et(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var L=_.Wa;L!=null&&(L.X=null),_.vb=null,t(_!=null)}function ht(){var _=new da;return _==null?null:(_.a=0,_.xb=tf,Lr("Predictor","VP8LPredictors"),Lr("Predictor","VP8LPredictors_C"),Lr("PredictorAdd","VP8LPredictorsAdd"),Lr("PredictorAdd","VP8LPredictorsAdd_C"),cm=ft,id=Xt,dm=es,jo=Qr,od=mt,Wn=Er,pn=tr,k.VP8LMapColor32b=ji,k.VP8LMapColor8b=rh,_)}function dt(_,L,X,ne,he){var pe=1,xe=[_],Se=[L],_e=ne.m,Fe=ne.s,tt=null,vt=0;e:for(;;){if(X)for(;pe&&ae(_e,1);){var Ue=xe,rt=Se,et=ne,Nt=1,ot=et.m,Ot=et.gc[et.ab],Lt=ae(ot,2);if(et.Oc&1<<Lt)pe=0;else{switch(et.Oc|=1<<Lt,Ot.hc=Lt,Ot.Ea=Ue[0],Ot.nc=rt[0],Ot.K=[null],++et.ab,t(4>=et.ab),Lt){case 0:case 1:Ot.b=ae(ot,3)+2,Nt=dt(Ye(Ot.Ea,Ot.b),Ye(Ot.nc,Ot.b),0,et,Ot.K),Ot.K=Ot.K[0];break;case 3:var rr,Qt=ae(ot,8)+1,$r=16<Qt?0:4<Qt?1:2<Qt?2:3;if(Ue[0]=Ye(Ot.Ea,$r),Ot.b=$r,rr=Nt=dt(Qt,1,0,et,Ot.K)){var Pr,Ds=Qt,jr=Ot,Ys=1<<(8>>jr.b),_a=i(Ys);if(_a==null)rr=0;else{var As=jr.K[0],Vr=jr.w;for(_a[0]=jr.K[0][0],Pr=1;Pr<1*Ds;++Pr)_a[Pr]=ze(As[Vr+Pr],_a[Pr-1]);for(;Pr<4*Ys;++Pr)_a[Pr]=0;jr.K[0]=null,jr.K[0]=_a,rr=1}}Nt=rr;break;case 2:break;default:t(0)}pe=Nt}}if(xe=xe[0],Se=Se[0],pe&&ae(_e,1)&&!(pe=1<=(vt=ae(_e,4))&&11>=vt)){ne.a=3;break e}var Ar;if(Ar=pe)t:{var fa,ys,Qs,Bs=ne,Xs=xe,Si=Se,Gn=vt,ai=X,qi=Bs.m,Mn=Bs.s,Zs=[null],gn=1,ra=0,wn=dd[Gn];r:for(;;){if(ai&&ae(qi,1)){var Ai=ae(qi,3)+2,Gl=Ye(Xs,Ai),wa=Ye(Si,Ai),Co=Gl*wa;if(!dt(Gl,wa,0,Bs,Zs))break r;for(Zs=Zs[0],Mn.xc=Ai,fa=0;fa<Co;++fa){var Dn=Zs[fa]>>8&65535;Zs[fa]=Dn,Dn>=gn&&(gn=Dn+1)}}if(qi.h)break r;for(ys=0;5>ys;++ys){var ka=ao[ys];!ys&&0<Gn&&(ka+=1<<Gn),ra<ka&&(ra=ka)}var Ko=o(gn*wn,R),_o=gn,Qo=o(_o,Y);if(Qo==null)var Xo=null;else t(65536>=_o),Xo=Qo;var ko=i(ra);if(Xo==null||ko==null||Ko==null){Bs.a=1;break r}var To=Ko;for(fa=Qs=0;fa<gn;++fa){var Fn=Xo[fa],Zo=Fn.G,Yl=Fn.H,ch=0,ud=1,zi=0;for(ys=0;5>ys;++ys){ka=ao[ys],Zo[ys]=To,Yl[ys]=Qs,!ys&&0<Gn&&(ka+=1<<Gn);n:{var Jp,dh=ka,e0=Bs,uh=ko,Jg=To,_w=Qs,t0=0,nu=e0.m,kw=ae(nu,1);if(a(uh,0,0,dh),kw){var Tw=ae(nu,1)+1,Dw=ae(nu,1),ex=ae(nu,Dw==0?1:8);uh[ex]=1,Tw==2&&(uh[ex=ae(nu,8)]=1);var r0=1}else{var e1=i(19),tx=ae(nu,4)+4;if(19<tx){e0.a=3;var s0=0;break n}for(Jp=0;Jp<tx;++Jp)e1[hn[Jp]]=ae(nu,3);var rx=void 0,n0=void 0,sx=e0,Pw=e1,a0=dh,nx=uh,ax=0,au=sx.m,Ow=8,Rw=o(128,R);s:for(;M(Rw,0,7,Pw,19);){if(ae(au,1)){var Iw=2+2*ae(au,3);if((rx=2+ae(au,Iw))>a0)break s}else rx=a0;for(n0=0;n0<a0&&rx--;){te(au);var pm=Rw[0+(127&K(au))];re(au,au.u+pm.g);var hh=pm.value;if(16>hh)nx[n0++]=hh,hh!=0&&(Ow=hh);else{var ix=hh==16,t1=hh-16,Lw=Yv[t1],Cc=ae(au,Gv[t1])+Lw;if(n0+Cc>a0)break s;for(var nf=ix?Ow:0;0<Cc--;)nx[n0++]=nf}}ax=1;break s}ax||(sx.a=3),r0=ax}(r0=r0&&!nu.h)&&(t0=M(Jg,_w,8,uh,dh)),r0&&t0!=0?s0=t0:(e0.a=3,s0=0)}if(s0==0)break r;if(ud&&Vi[ys]==1&&(ud=To[Qs].g==0),ch+=To[Qs].g,Qs+=s0,3>=ys){var Kl,iu=ko[0];for(Kl=1;Kl<ka;++Kl)ko[Kl]>iu&&(iu=ko[Kl]);zi+=iu}}if(Fn.nd=ud,Fn.Qb=0,ud&&(Fn.qb=(Zo[3][Yl[3]+0].value<<24|Zo[1][Yl[1]+0].value<<16|Zo[2][Yl[2]+0].value)>>>0,ch==0&&256>Zo[0][Yl[0]+0].value&&(Fn.Qb=1,Fn.qb+=Zo[0][Yl[0]+0].value<<8)),Fn.jc=!Fn.Qb&&6>zi,Fn.jc){var gm,_c=Fn;for(gm=0;gm<ql;++gm){var ou=gm,lu=_c.pd[ou],hd=_c.G[0][_c.H[0]+ou];256<=hd.value?(lu.g=hd.g+256,lu.value=hd.value):(lu.g=0,lu.value=0,ou>>=Ns(hd,8,lu),ou>>=Ns(_c.G[1][_c.H[1]+ou],16,lu),ou>>=Ns(_c.G[2][_c.H[2]+ou],0,lu),Ns(_c.G[3][_c.H[3]+ou],24,lu))}}}Mn.vc=Zs,Mn.Wb=gn,Mn.Ya=Xo,Mn.yc=Ko,Ar=1;break t}Ar=0}if(!(pe=Ar)){ne.a=3;break e}if(0<vt){if(Fe.ua=1<<vt,!ce(Fe.Wa,vt)){ne.a=1,pe=0;break e}}else Fe.ua=0;var xm=ne,r1=xe,Mw=Se,ox=xm.s,ym=ox.xc;if(xm.c=r1,xm.i=Mw,ox.md=Ye(r1,ym),ox.wc=ym==0?-1:(1<<ym)-1,X){ne.xb=Aw;break e}if((tt=i(xe*Se))==null){ne.a=1,pe=0;break e}pe=(pe=st(ne,tt,0,xe,Se,Se,null))&&!_e.h;break e}return pe?(he!=null?he[0]=tt:(t(tt==null),t(X)),ne.$=0,X||Et(Fe)):Et(Fe),pe}function yt(_,L){var X=_.c*_.i,ne=X+L+16*L;return t(_.c<=L),_.V=i(ne),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+X+L,1)}function Vt(_,L){var X=_.C,ne=L-X,he=_.V,pe=_.Ba+_.c*X;for(t(L<=_.l.o);0<ne;){var xe=16<ne?16:ne,Se=_.l.ma,_e=_.l.width,Fe=_e*xe,tt=Se.ca,vt=Se.tb+_e*X,Ue=_.Ta,rt=_.Ua;Re(_,xe,he,pe),Hg(Ue,rt,tt,vt,Fe),Ie(Se,X,X+xe,tt,vt,_e),ne-=xe,he+=xe*_.c,X+=xe}t(X==L),_.C=_.Ma=L}function Zt(){this.ub=this.yd=this.td=this.Rb=0}function de(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ve(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function He(){this.Yb=function(){var _=[];return function L(X,ne,he){for(var pe=he[ne],xe=0;xe<pe&&(X.push(he.length>ne+1?[]:0),!(he.length<ne+1));xe++)L(X[xe],ne+1,he)}(_,0,[3,11]),_}()}function kt(){this.jb=i(3),this.Wc=l([4,8],He),this.Xc=l([4,17],He)}function Kt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Jt(){this.ld=this.La=this.dd=this.tc=0}function Dr(){this.Na=this.la=0}function as(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function bs(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function tn(){this.uc=this.M=this.Nb=0,this.wa=Array(new Jt),this.Y=0,this.ya=Array(new bs),this.aa=0,this.l=new kn}function xs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function _n(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new Zt,this.Kc=new de,this.ed=new Kt,this.Qa=new Ve,this.Ic=this.$c=this.Aa=0,this.D=new tn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,as),this.Pa=new kt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xs),this.Hd=0,this.rb=Array(new Dr),this.sb=0,this.wa=Array(new Jt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new bs),this.L=this.aa=0,this.gd=l([4,2],Jt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function kn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Bl(){var _=new _n;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,hm||(hm=Mi)),_}function un(_,L,X){return _.a==0&&(_.a=L,_.sc=X,_.cb=0),0}function va(_,L,X){return 3<=X&&_[L+0]==157&&_[L+1]==1&&_[L+2]==42}function mc(_,L){if(_==null)return 0;if(_.a=0,_.sc="OK",L==null)return un(_,2,"null VP8Io passed to VP8GetHeaders()");var X=L.data,ne=L.w,he=L.ha;if(4>he)return un(_,7,"Truncated header.");var pe=X[ne+0]|X[ne+1]<<8|X[ne+2]<<16,xe=_.Od;if(xe.Rb=!(1&pe),xe.td=pe>>1&7,xe.yd=pe>>4&1,xe.ub=pe>>5,3<xe.td)return un(_,3,"Incorrect keyframe parameters.");if(!xe.yd)return un(_,4,"Frame not displayable.");ne+=3,he-=3;var Se=_.Kc;if(xe.Rb){if(7>he)return un(_,7,"cannot parse picture header");if(!va(X,ne,he))return un(_,3,"Bad code word");Se.c=16383&(X[ne+4]<<8|X[ne+3]),Se.Td=X[ne+4]>>6,Se.i=16383&(X[ne+6]<<8|X[ne+5]),Se.Ud=X[ne+6]>>6,ne+=7,he-=7,_.za=Se.c+15>>4,_.Ub=Se.i+15>>4,L.width=Se.c,L.height=Se.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,a((pe=_.Pa).jb,0,255,pe.jb.length),t((pe=_.Qa)!=null),pe.Cb=0,pe.Bb=0,pe.Fb=1,a(pe.Zb,0,0,pe.Zb.length),a(pe.Lb,0,0,pe.Lb)}if(xe.ub>he)return un(_,7,"bad partition length");U(pe=_.m,X,ne,xe.ub),ne+=xe.ub,he-=xe.ub,xe.Rb&&(Se.Ld=se(pe),Se.Kd=se(pe)),Se=_.Qa;var _e,Fe=_.Pa;if(t(pe!=null),t(Se!=null),Se.Cb=se(pe),Se.Cb){if(Se.Bb=se(pe),se(pe)){for(Se.Fb=se(pe),_e=0;4>_e;++_e)Se.Zb[_e]=se(pe)?V(pe,7):0;for(_e=0;4>_e;++_e)Se.Lb[_e]=se(pe)?V(pe,6):0}if(Se.Bb)for(_e=0;3>_e;++_e)Fe.jb[_e]=se(pe)?Q(pe,8):255}else Se.Bb=0;if(pe.Ka)return un(_,3,"cannot parse segment header");if((Se=_.ed).zd=se(pe),Se.Tb=Q(pe,6),Se.wb=Q(pe,3),Se.Pc=se(pe),Se.Pc&&se(pe)){for(Fe=0;4>Fe;++Fe)se(pe)&&(Se.vd[Fe]=V(pe,6));for(Fe=0;4>Fe;++Fe)se(pe)&&(Se.od[Fe]=V(pe,6))}if(_.L=Se.Tb==0?0:Se.zd?1:2,pe.Ka)return un(_,3,"cannot parse filter header");var tt=he;if(he=_e=ne,ne=_e+tt,Se=tt,_.Xb=(1<<Q(_.m,2))-1,tt<3*(Fe=_.Xb))X=7;else{for(_e+=3*Fe,Se-=3*Fe,tt=0;tt<Fe;++tt){var vt=X[he+0]|X[he+1]<<8|X[he+2]<<16;vt>Se&&(vt=Se),U(_.Jc[+tt],X,_e,vt),_e+=vt,Se-=vt,he+=3}U(_.Jc[+Fe],X,_e,Se),X=_e<ne?0:5}if(X!=0)return un(_,X,"cannot parse partitions");for(X=Q(_e=_.m,7),he=se(_e)?V(_e,4):0,ne=se(_e)?V(_e,4):0,Se=se(_e)?V(_e,4):0,Fe=se(_e)?V(_e,4):0,_e=se(_e)?V(_e,4):0,tt=_.Qa,vt=0;4>vt;++vt){if(tt.Cb){var Ue=tt.Zb[vt];tt.Fb||(Ue+=X)}else{if(0<vt){_.pb[vt]=_.pb[0];continue}Ue=X}var rt=_.pb[vt];rt.Sc[0]=ru[ri(Ue+he,127)],rt.Sc[1]=Yg[ri(Ue+0,127)],rt.Eb[0]=2*ru[ri(Ue+ne,127)],rt.Eb[1]=101581*Yg[ri(Ue+Se,127)]>>16,8>rt.Eb[1]&&(rt.Eb[1]=8),rt.Qc[0]=ru[ri(Ue+Fe,117)],rt.Qc[1]=Yg[ri(Ue+_e,127)],rt.lc=Ue+_e}if(!xe.Rb)return un(_,4,"Not a key frame.");for(se(pe),xe=_.Pa,X=0;4>X;++X){for(he=0;8>he;++he)for(ne=0;3>ne;++ne)for(Se=0;11>Se;++Se)Fe=le(pe,Qv[X][he][ne][Se])?Q(pe,8):Kp[X][he][ne][Se],xe.Wc[X][he].Yb[ne][Se]=Fe;for(he=0;17>he;++he)xe.Xc[X][he]=xe.Wc[X][Sw[he]]}return _.kc=se(pe),_.kc&&(_.Bd=Q(pe,8)),_.cb=1}function Mi(_,L,X,ne,he,pe,xe){var Se=L[he].Yb[X];for(X=0;16>he;++he){if(!le(_,Se[X+0]))return he;for(;!le(_,Se[X+1]);)if(Se=L[++he].Yb[0],X=0,he==16)return 16;var _e=L[he+1].Yb;if(le(_,Se[X+2])){var Fe=_,tt=0;if(le(Fe,(Ue=Se)[(vt=X)+3]))if(le(Fe,Ue[vt+6])){for(Se=0,vt=2*(tt=le(Fe,Ue[vt+8]))+(Ue=le(Fe,Ue[vt+9+tt])),tt=0,Ue=Gp[vt];Ue[Se];++Se)tt+=tt+le(Fe,Ue[Se]);tt+=3+(8<<vt)}else le(Fe,Ue[vt+7])?(tt=7+2*le(Fe,165),tt+=le(Fe,145)):tt=5+le(Fe,159);else tt=le(Fe,Ue[vt+4])?3+le(Fe,Ue[vt+5]):2;Se=_e[2]}else tt=1,Se=_e[1];_e=xe+Yp[he],0>(Fe=_).b&&ie(Fe);var vt,Ue=Fe.b,rt=(vt=Fe.Ca>>1)-(Fe.I>>Ue)>>31;--Fe.b,Fe.Ca+=rt,Fe.Ca|=1,Fe.I-=(vt+1&rt)<<Ue,pe[_e]=((tt^rt)-rt)*ne[(0<he)+0]}return 16}function go(_){var L=_.rb[_.sb-1];L.la=0,L.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function Fi(_,L,X,ne,he){he=_[L+X+32*ne]+(he>>3),_[L+X+32*ne]=-256&he?0>he?0:255:he}function zo(_,L,X,ne,he,pe){Fi(_,L,0,X,ne+he),Fi(_,L,1,X,ne+pe),Fi(_,L,2,X,ne-pe),Fi(_,L,3,X,ne-he)}function Qn(_){return(20091*_>>16)+_}function Ba(_,L,X,ne){var he,pe=0,xe=i(16);for(he=0;4>he;++he){var Se=_[L+0]+_[L+8],_e=_[L+0]-_[L+8],Fe=(35468*_[L+4]>>16)-Qn(_[L+12]),tt=Qn(_[L+4])+(35468*_[L+12]>>16);xe[pe+0]=Se+tt,xe[pe+1]=_e+Fe,xe[pe+2]=_e-Fe,xe[pe+3]=Se-tt,pe+=4,L++}for(he=pe=0;4>he;++he)Se=(_=xe[pe+0]+4)+xe[pe+8],_e=_-xe[pe+8],Fe=(35468*xe[pe+4]>>16)-Qn(xe[pe+12]),Fi(X,ne,0,0,Se+(tt=Qn(xe[pe+4])+(35468*xe[pe+12]>>16))),Fi(X,ne,1,0,_e+Fe),Fi(X,ne,2,0,_e-Fe),Fi(X,ne,3,0,Se-tt),pe++,ne+=32}function zd(_,L,X,ne){var he=_[L+0]+4,pe=35468*_[L+4]>>16,xe=Qn(_[L+4]),Se=35468*_[L+1]>>16;zo(X,ne,0,he+xe,_=Qn(_[L+1]),Se),zo(X,ne,1,he+pe,_,Se),zo(X,ne,2,he-pe,_,Se),zo(X,ne,3,he-xe,_,Se)}function Zc(_,L,X,ne,he){Ba(_,L,X,ne),he&&Ba(_,L+16,X,ne+4)}function Hd(_,L,X,ne){Zn(_,L+0,X,ne,1),Zn(_,L+32,X,ne+128,1)}function ei(_,L,X,ne){var he;for(_=_[L+0]+4,he=0;4>he;++he)for(L=0;4>L;++L)Fi(X,ne,L,he,_)}function vl(_,L,X,ne){_[L+0]&&no(_,L+0,X,ne),_[L+16]&&no(_,L+16,X,ne+4),_[L+32]&&no(_,L+32,X,ne+128),_[L+48]&&no(_,L+48,X,ne+128+4)}function Bi(_,L,X,ne){var he,pe=i(16);for(he=0;4>he;++he){var xe=_[L+0+he]+_[L+12+he],Se=_[L+4+he]+_[L+8+he],_e=_[L+4+he]-_[L+8+he],Fe=_[L+0+he]-_[L+12+he];pe[0+he]=xe+Se,pe[8+he]=xe-Se,pe[4+he]=Fe+_e,pe[12+he]=Fe-_e}for(he=0;4>he;++he)xe=(_=pe[0+4*he]+3)+pe[3+4*he],Se=pe[1+4*he]+pe[2+4*he],_e=pe[1+4*he]-pe[2+4*he],Fe=_-pe[3+4*he],X[ne+0]=xe+Se>>3,X[ne+16]=Fe+_e>>3,X[ne+32]=xe-Se>>3,X[ne+48]=Fe-_e>>3,ne+=64}function la(_,L,X){var ne,he=L-32,pe=Go,xe=255-_[he-1];for(ne=0;ne<X;++ne){var Se,_e=pe,Fe=xe+_[L-1];for(Se=0;Se<X;++Se)_[L+Se]=_e[Fe+_[he+Se]];L+=32}}function xo(_,L){la(_,L,4)}function Zu(_,L){la(_,L,8)}function yo(_,L){la(_,L,16)}function Wd(_,L){var X;for(X=0;16>X;++X)n(_,L+32*X,_,L-32,16)}function Gd(_,L){var X;for(X=16;0<X;--X)a(_,L,_[L-1],16),L+=32}function pc(_,L,X){var ne;for(ne=0;16>ne;++ne)a(L,X+32*ne,_,16)}function vo(_,L){var X,ne=16;for(X=0;16>X;++X)ne+=_[L-1+32*X]+_[L+X-32];pc(ne>>5,_,L)}function Jc(_,L){var X,ne=8;for(X=0;16>X;++X)ne+=_[L-1+32*X];pc(ne>>4,_,L)}function Xn(_,L){var X,ne=8;for(X=0;16>X;++X)ne+=_[L+X-32];pc(ne>>4,_,L)}function bo(_,L){pc(128,_,L)}function is(_,L,X){return _+2*L+X+2>>2}function gc(_,L){var X,ne=L-32;for(ne=new Uint8Array([is(_[ne-1],_[ne+0],_[ne+1]),is(_[ne+0],_[ne+1],_[ne+2]),is(_[ne+1],_[ne+2],_[ne+3]),is(_[ne+2],_[ne+3],_[ne+4])]),X=0;4>X;++X)n(_,L+32*X,ne,0,ne.length)}function xc(_,L){var X=_[L-1],ne=_[L-1+32],he=_[L-1+64],pe=_[L-1+96];Ce(_,L+0,16843009*is(_[L-1-32],X,ne)),Ce(_,L+32,16843009*is(X,ne,he)),Ce(_,L+64,16843009*is(ne,he,pe)),Ce(_,L+96,16843009*is(he,pe,pe))}function yc(_,L){var X,ne=4;for(X=0;4>X;++X)ne+=_[L+X-32]+_[L-1+32*X];for(ne>>=3,X=0;4>X;++X)a(_,L+32*X,ne,4)}function vc(_,L){var X=_[L-1+0],ne=_[L-1+32],he=_[L-1+64],pe=_[L-1-32],xe=_[L+0-32],Se=_[L+1-32],_e=_[L+2-32],Fe=_[L+3-32];_[L+0+96]=is(ne,he,_[L-1+96]),_[L+1+96]=_[L+0+64]=is(X,ne,he),_[L+2+96]=_[L+1+64]=_[L+0+32]=is(pe,X,ne),_[L+3+96]=_[L+2+64]=_[L+1+32]=_[L+0+0]=is(xe,pe,X),_[L+3+64]=_[L+2+32]=_[L+1+0]=is(Se,xe,pe),_[L+3+32]=_[L+2+0]=is(_e,Se,xe),_[L+3+0]=is(Fe,_e,Se)}function to(_,L){var X=_[L+1-32],ne=_[L+2-32],he=_[L+3-32],pe=_[L+4-32],xe=_[L+5-32],Se=_[L+6-32],_e=_[L+7-32];_[L+0+0]=is(_[L+0-32],X,ne),_[L+1+0]=_[L+0+32]=is(X,ne,he),_[L+2+0]=_[L+1+32]=_[L+0+64]=is(ne,he,pe),_[L+3+0]=_[L+2+32]=_[L+1+64]=_[L+0+96]=is(he,pe,xe),_[L+3+32]=_[L+2+64]=_[L+1+96]=is(pe,xe,Se),_[L+3+64]=_[L+2+96]=is(xe,Se,_e),_[L+3+96]=is(Se,_e,_e)}function ti(_,L){var X=_[L-1+0],ne=_[L-1+32],he=_[L-1+64],pe=_[L-1-32],xe=_[L+0-32],Se=_[L+1-32],_e=_[L+2-32],Fe=_[L+3-32];_[L+0+0]=_[L+1+64]=pe+xe+1>>1,_[L+1+0]=_[L+2+64]=xe+Se+1>>1,_[L+2+0]=_[L+3+64]=Se+_e+1>>1,_[L+3+0]=_e+Fe+1>>1,_[L+0+96]=is(he,ne,X),_[L+0+64]=is(ne,X,pe),_[L+0+32]=_[L+1+96]=is(X,pe,xe),_[L+1+32]=_[L+2+96]=is(pe,xe,Se),_[L+2+32]=_[L+3+96]=is(xe,Se,_e),_[L+3+32]=is(Se,_e,Fe)}function wo(_,L){var X=_[L+0-32],ne=_[L+1-32],he=_[L+2-32],pe=_[L+3-32],xe=_[L+4-32],Se=_[L+5-32],_e=_[L+6-32],Fe=_[L+7-32];_[L+0+0]=X+ne+1>>1,_[L+1+0]=_[L+0+64]=ne+he+1>>1,_[L+2+0]=_[L+1+64]=he+pe+1>>1,_[L+3+0]=_[L+2+64]=pe+xe+1>>1,_[L+0+32]=is(X,ne,he),_[L+1+32]=_[L+0+96]=is(ne,he,pe),_[L+2+32]=_[L+1+96]=is(he,pe,xe),_[L+3+32]=_[L+2+96]=is(pe,xe,Se),_[L+3+64]=is(xe,Se,_e),_[L+3+96]=is(Se,_e,Fe)}function ro(_,L){var X=_[L-1+0],ne=_[L-1+32],he=_[L-1+64],pe=_[L-1+96];_[L+0+0]=X+ne+1>>1,_[L+2+0]=_[L+0+32]=ne+he+1>>1,_[L+2+32]=_[L+0+64]=he+pe+1>>1,_[L+1+0]=is(X,ne,he),_[L+3+0]=_[L+1+32]=is(ne,he,pe),_[L+3+32]=_[L+1+64]=is(he,pe,pe),_[L+3+64]=_[L+2+64]=_[L+0+96]=_[L+1+96]=_[L+2+96]=_[L+3+96]=pe}function Ho(_,L){var X=_[L-1+0],ne=_[L-1+32],he=_[L-1+64],pe=_[L-1+96],xe=_[L-1-32],Se=_[L+0-32],_e=_[L+1-32],Fe=_[L+2-32];_[L+0+0]=_[L+2+32]=X+xe+1>>1,_[L+0+32]=_[L+2+64]=ne+X+1>>1,_[L+0+64]=_[L+2+96]=he+ne+1>>1,_[L+0+96]=pe+he+1>>1,_[L+3+0]=is(Se,_e,Fe),_[L+2+0]=is(xe,Se,_e),_[L+1+0]=_[L+3+32]=is(X,xe,Se),_[L+1+32]=_[L+3+64]=is(ne,X,xe),_[L+1+64]=_[L+3+96]=is(he,ne,X),_[L+1+96]=is(pe,he,ne)}function Ul(_,L){var X;for(X=0;8>X;++X)n(_,L+32*X,_,L-32,8)}function Wo(_,L){var X;for(X=0;8>X;++X)a(_,L,_[L-1],8),L+=32}function bl(_,L,X){var ne;for(ne=0;8>ne;++ne)a(L,X+32*ne,_,8)}function ee(_,L){var X,ne=8;for(X=0;8>X;++X)ne+=_[L+X-32]+_[L-1+32*X];bl(ne>>4,_,L)}function ye(_,L){var X,ne=4;for(X=0;8>X;++X)ne+=_[L+X-32];bl(ne>>3,_,L)}function Ke(_,L){var X,ne=4;for(X=0;8>X;++X)ne+=_[L-1+32*X];bl(ne>>3,_,L)}function Tt(_,L){bl(128,_,L)}function os(_,L,X){var ne=_[L-X],he=_[L+0],pe=3*(he-ne)+um[1020+_[L-2*X]-_[L+X]],xe=Jd[112+(pe+4>>3)];_[L-X]=Go[255+ne+Jd[112+(pe+3>>3)]],_[L+0]=Go[255+he-xe]}function Fr(_,L,X,ne){var he=_[L+0],pe=_[L+X];return ha[255+_[L-2*X]-_[L-X]]>ne||ha[255+pe-he]>ne}function Ps(_,L,X,ne){return 4*ha[255+_[L-X]-_[L+0]]+ha[255+_[L-2*X]-_[L+X]]<=ne}function js(_,L,X,ne,he){var pe=_[L-3*X],xe=_[L-2*X],Se=_[L-X],_e=_[L+0],Fe=_[L+X],tt=_[L+2*X],vt=_[L+3*X];return 4*ha[255+Se-_e]+ha[255+xe-Fe]>ne?0:ha[255+_[L-4*X]-pe]<=he&&ha[255+pe-xe]<=he&&ha[255+xe-Se]<=he&&ha[255+vt-tt]<=he&&ha[255+tt-Fe]<=he&&ha[255+Fe-_e]<=he}function bn(_,L,X,ne){var he=2*ne+1;for(ne=0;16>ne;++ne)Ps(_,L+ne,X,he)&&os(_,L+ne,X)}function Ts(_,L,X,ne){var he=2*ne+1;for(ne=0;16>ne;++ne)Ps(_,L+ne*X,1,he)&&os(_,L+ne*X,1)}function ca(_,L,X,ne){var he;for(he=3;0<he;--he)bn(_,L+=4*X,X,ne)}function Ua(_,L,X,ne){var he;for(he=3;0<he;--he)Ts(_,L+=4,X,ne)}function nn(_,L,X,ne,he,pe,xe,Se){for(pe=2*pe+1;0<he--;){if(js(_,L,X,pe,xe))if(Fr(_,L,X,Se))os(_,L,X);else{var _e=_,Fe=L,tt=X,vt=_e[Fe-2*tt],Ue=_e[Fe-tt],rt=_e[Fe+0],et=_e[Fe+tt],Nt=_e[Fe+2*tt],ot=27*(Lt=um[1020+3*(rt-Ue)+um[1020+vt-et]])+63>>7,Ot=18*Lt+63>>7,Lt=9*Lt+63>>7;_e[Fe-3*tt]=Go[255+_e[Fe-3*tt]+Lt],_e[Fe-2*tt]=Go[255+vt+Ot],_e[Fe-tt]=Go[255+Ue+ot],_e[Fe+0]=Go[255+rt-ot],_e[Fe+tt]=Go[255+et-Ot],_e[Fe+2*tt]=Go[255+Nt-Lt]}L+=ne}}function Ln(_,L,X,ne,he,pe,xe,Se){for(pe=2*pe+1;0<he--;){if(js(_,L,X,pe,xe))if(Fr(_,L,X,Se))os(_,L,X);else{var _e=_,Fe=L,tt=X,vt=_e[Fe-tt],Ue=_e[Fe+0],rt=_e[Fe+tt],et=Jd[112+(4+(Nt=3*(Ue-vt))>>3)],Nt=Jd[112+(Nt+3>>3)],ot=et+1>>1;_e[Fe-2*tt]=Go[255+_e[Fe-2*tt]+ot],_e[Fe-tt]=Go[255+vt+Nt],_e[Fe+0]=Go[255+Ue-et],_e[Fe+tt]=Go[255+rt-ot]}L+=ne}}function G(_,L,X,ne,he,pe){nn(_,L,X,1,16,ne,he,pe)}function ue(_,L,X,ne,he,pe){nn(_,L,1,X,16,ne,he,pe)}function Le(_,L,X,ne,he,pe){var xe;for(xe=3;0<xe;--xe)Ln(_,L+=4*X,X,1,16,ne,he,pe)}function Qe(_,L,X,ne,he,pe){var xe;for(xe=3;0<xe;--xe)Ln(_,L+=4,1,X,16,ne,he,pe)}function it(_,L,X,ne,he,pe,xe,Se){nn(_,L,he,1,8,pe,xe,Se),nn(X,ne,he,1,8,pe,xe,Se)}function Rt(_,L,X,ne,he,pe,xe,Se){nn(_,L,1,he,8,pe,xe,Se),nn(X,ne,1,he,8,pe,xe,Se)}function Ht(_,L,X,ne,he,pe,xe,Se){Ln(_,L+4*he,he,1,8,pe,xe,Se),Ln(X,ne+4*he,he,1,8,pe,xe,Se)}function Br(_,L,X,ne,he,pe,xe,Se){Ln(_,L+4,1,he,8,pe,xe,Se),Ln(X,ne+4,1,he,8,pe,xe,Se)}function Yr(){this.ba=new mr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function hs(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ss(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new be,this.vb=new be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new R}function da(){this.xb=this.a=0,this.l=new kn,this.ca=new mr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=o(4,Ss),this.Oc=0}function $a(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new kn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Tn(_,L,X,ne,he,pe,xe){for(_=_==null?0:_[L+0],L=0;L<xe;++L)he[pe+L]=_+X[ne+L]&255,_=he[pe+L]}function Va(_,L,X,ne,he,pe,xe){var Se;if(_==null)Tn(null,null,X,ne,he,pe,xe);else for(Se=0;Se<xe;++Se)he[pe+Se]=_[L+Se]+X[ne+Se]&255}function qa(_,L,X,ne,he,pe,xe){if(_==null)Tn(null,null,X,ne,he,pe,xe);else{var Se,_e=_[L+0],Fe=_e,tt=_e;for(Se=0;Se<xe;++Se)Fe=tt+(_e=_[L+Se])-Fe,tt=X[ne+Se]+(-256&Fe?0>Fe?0:255:Fe)&255,Fe=_e,he[pe+Se]=tt}}function Ui(_,L,X,ne){var he=L.width,pe=L.o;if(t(_!=null&&L!=null),0>X||0>=ne||X+ne>pe)return null;if(!_.Cc){if(_.ga==null){var xe;if(_.ga=new $a,(xe=_.ga==null)||(xe=L.width*L.o,t(_.Gb.length==0),_.Gb=i(xe),_.Uc=0,_.Gb==null?xe=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,xe=1),xe=!xe),!xe){xe=_.ga;var Se=_.Fa,_e=_.P,Fe=_.qc,tt=_.mb,vt=_.nb,Ue=_e+1,rt=Fe-1,et=xe.l;if(t(Se!=null&&tt!=null&&L!=null),Hl[0]=null,Hl[1]=Tn,Hl[2]=Va,Hl[3]=qa,xe.ca=tt,xe.tb=vt,xe.c=L.width,xe.i=L.height,t(0<xe.c&&0<xe.i),1>=Fe)L=0;else if(xe.$a=3&Se[_e+0],xe.Z=Se[_e+0]>>2&3,xe.Lc=Se[_e+0]>>4&3,_e=Se[_e+0]>>6&3,0>xe.$a||1<xe.$a||4<=xe.Z||1<xe.Lc||_e)L=0;else if(et.put=lt,et.ac=Xe,et.bc=Ct,et.ma=xe,et.width=L.width,et.height=L.height,et.Da=L.Da,et.v=L.v,et.va=L.va,et.j=L.j,et.o=L.o,xe.$a)e:{t(xe.$a==1),L=ht();t:for(;;){if(L==null){L=0;break e}if(t(xe!=null),xe.mc=L,L.c=xe.c,L.i=xe.i,L.l=xe.l,L.l.ma=xe,L.l.width=xe.c,L.l.height=xe.i,L.a=0,Z(L.m,Se,Ue,rt),!dt(xe.c,xe.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&Ae(L.s)?(xe.ic=1,Se=L.c*L.i,L.Ta=null,L.Ua=0,L.V=i(Se),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(xe.ic=0,L=yt(L,xe.c)),!L))break t;L=1;break e}xe.mc=null,L=0}else L=rt>=xe.c*xe.i;xe=!L}if(xe)return null;_.ga.Lc!=1?_.Ga=0:ne=pe-X}t(_.ga!=null),t(X+ne<=pe);e:{if(L=(Se=_.ga).c,pe=Se.l.o,Se.$a==0){if(Ue=_.rc,rt=_.Vc,et=_.Fa,_e=_.P+1+X*L,Fe=_.mb,tt=_.nb+X*L,t(_e<=_.P+_.qc),Se.Z!=0)for(t(Hl[Se.Z]!=null),xe=0;xe<ne;++xe)Hl[Se.Z](Ue,rt,et,_e,Fe,tt,L),Ue=Fe,rt=tt,tt+=L,_e+=L;else for(xe=0;xe<ne;++xe)n(Fe,tt,et,_e,L),Ue=Fe,rt=tt,tt+=L,_e+=L;_.rc=Ue,_.Vc=rt}else{if(t(Se.mc!=null),L=X+ne,t((xe=Se.mc)!=null),t(L<=xe.i),xe.C>=L)L=1;else if(Se.ic||Qh(),Se.ic){Se=xe.V,Ue=xe.Ba,rt=xe.c;var Nt=xe.i,ot=(et=1,_e=xe.$/rt,Fe=xe.$%rt,tt=xe.m,vt=xe.s,xe.$),Ot=rt*Nt,Lt=rt*L,rr=vt.wc,Qt=ot<Lt?fe(vt,Fe,_e):null;t(ot<=Ot),t(L<=Nt),t(Ae(vt));t:for(;;){for(;!tt.h&&ot<Lt;){if(Fe&rr||(Qt=fe(vt,Fe,_e)),t(Qt!=null),te(tt),256>(Nt=Xr(Qt.G[0],Qt.H[0],tt)))Se[Ue+ot]=Nt,++ot,++Fe>=rt&&(Fe=0,++_e<=L&&!(_e%16)&&Te(xe,_e));else{if(!(280>Nt)){et=0;break t}Nt=_r(Nt-256,tt);var $r,Pr=Xr(Qt.G[4],Qt.H[4],tt);if(te(tt),!(ot>=(Pr=ks(rt,Pr=_r(Pr,tt)))&&Ot-ot>=Nt)){et=0;break t}for($r=0;$r<Nt;++$r)Se[Ue+ot+$r]=Se[Ue+ot+$r-Pr];for(ot+=Nt,Fe+=Nt;Fe>=rt;)Fe-=rt,++_e<=L&&!(_e%16)&&Te(xe,_e);ot<Lt&&Fe&rr&&(Qt=fe(vt,Fe,_e))}t(tt.h==W(tt))}Te(xe,_e>L?L:_e);break t}!et||tt.h&&ot<Ot?(et=0,xe.a=tt.h?5:3):xe.$=ot,L=et}else L=st(xe,xe.V,xe.Ba,xe.c,xe.i,L,Vt);if(!L){ne=0;break e}}X+ne>=pe&&(_.Cc=1),ne=1}if(!ne)return null;if(_.Cc&&((ne=_.ga)!=null&&(ne.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+X*he}function Yd(_,L,X,ne,he,pe){for(;0<he--;){var xe,Se=_,_e=L+(X?1:0),Fe=_,tt=L+(X?0:3);for(xe=0;xe<ne;++xe){var vt=Fe[tt+4*xe];vt!=255&&(vt*=32897,Se[_e+4*xe+0]=Se[_e+4*xe+0]*vt>>23,Se[_e+4*xe+1]=Se[_e+4*xe+1]*vt>>23,Se[_e+4*xe+2]=Se[_e+4*xe+2]*vt>>23)}L+=pe}}function Ju(_,L,X,ne,he){for(;0<ne--;){var pe;for(pe=0;pe<X;++pe){var xe=_[L+2*pe+0],Se=15&(Fe=_[L+2*pe+1]),_e=4369*Se,Fe=(240&Fe|Fe>>4)*_e>>16;_[L+2*pe+0]=(240&xe|xe>>4)*_e>>16&240|(15&xe|xe<<4)*_e>>16>>4&15,_[L+2*pe+1]=240&Fe|Se}L+=he}}function Mv(_,L,X,ne,he,pe,xe,Se){var _e,Fe,tt=255;for(Fe=0;Fe<he;++Fe){for(_e=0;_e<ne;++_e){var vt=_[L+_e];pe[xe+4*_e]=vt,tt&=vt}L+=X,xe+=Se}return tt!=255}function Vg(_,L,X,ne,he){var pe;for(pe=0;pe<he;++pe)X[ne+pe]=_[L+pe]>>8}function Qh(){So=Yd,Nl=Ju,Jh=Mv,Hg=Vg}function bc(_,L,X){k[_]=function(ne,he,pe,xe,Se,_e,Fe,tt,vt,Ue,rt,et,Nt,ot,Ot,Lt,rr){var Qt,$r=rr-1>>1,Pr=Se[_e+0]|Fe[tt+0]<<16,Ds=vt[Ue+0]|rt[et+0]<<16;t(ne!=null);var jr=3*Pr+Ds+131074>>2;for(L(ne[he+0],255&jr,jr>>16,Nt,ot),pe!=null&&(jr=3*Ds+Pr+131074>>2,L(pe[xe+0],255&jr,jr>>16,Ot,Lt)),Qt=1;Qt<=$r;++Qt){var Ys=Se[_e+Qt]|Fe[tt+Qt]<<16,_a=vt[Ue+Qt]|rt[et+Qt]<<16,As=Pr+Ys+Ds+_a+524296,Vr=As+2*(Ys+Ds)>>3;jr=Vr+Pr>>1,Pr=(As=As+2*(Pr+_a)>>3)+Ys>>1,L(ne[he+2*Qt-1],255&jr,jr>>16,Nt,ot+(2*Qt-1)*X),L(ne[he+2*Qt-0],255&Pr,Pr>>16,Nt,ot+(2*Qt-0)*X),pe!=null&&(jr=As+Ds>>1,Pr=Vr+_a>>1,L(pe[xe+2*Qt-1],255&jr,jr>>16,Ot,Lt+(2*Qt-1)*X),L(pe[xe+2*Qt+0],255&Pr,Pr>>16,Ot,Lt+(2*Qt+0)*X)),Pr=Ys,Ds=_a}1&rr||(jr=3*Pr+Ds+131074>>2,L(ne[he+rr-1],255&jr,jr>>16,Nt,ot+(rr-1)*X),pe!=null&&(jr=3*Ds+Pr+131074>>2,L(pe[xe+rr-1],255&jr,jr>>16,Ot,Lt+(rr-1)*X)))}}function Vp(){Eo[eu]=Qp,Eo[tu]=Xv,Eo[Wp]=Kg,Eo[ef]=Zv,Eo[Ao]=ih,Eo[Yo]=Jv,Eo[ah]=mm,Eo[Nc]=Xv,Eo[jc]=Zv,Eo[cd]=ih,Eo[Gg]=Jv}function eh(_){return _&-16384?0>_?0:255:_>>Wl}function $l(_,L){return eh((19077*_>>8)+(26149*L>>8)-14234)}function Ni(_,L,X){return eh((19077*_>>8)-(6419*L>>8)-(13320*X>>8)+8708)}function ed(_,L){return eh((19077*_>>8)+(33050*L>>8)-17685)}function td(_,L,X,ne,he){ne[he+0]=$l(_,X),ne[he+1]=Ni(_,L,X),ne[he+2]=ed(_,L)}function Xh(_,L,X,ne,he){ne[he+0]=ed(_,L),ne[he+1]=Ni(_,L,X),ne[he+2]=$l(_,X)}function nm(_,L,X,ne,he){var pe=Ni(_,L,X);L=pe<<3&224|ed(_,L)>>3,ne[he+0]=248&$l(_,X)|pe>>5,ne[he+1]=L}function so(_,L,X,ne,he){var pe=240&ed(_,L)|15;ne[he+0]=240&$l(_,X)|Ni(_,L,X)>>4,ne[he+1]=pe}function Kd(_,L,X,ne,he){ne[he+0]=255,td(_,L,X,ne,he+1)}function am(_,L,X,ne,he){Xh(_,L,X,ne,he),ne[he+3]=255}function qg(_,L,X,ne,he){td(_,L,X,ne,he),ne[he+3]=255}function ri(_,L){return 0>_?0:_>L?L:_}function wl(_,L,X){k[_]=function(ne,he,pe,xe,Se,_e,Fe,tt,vt){for(var Ue=tt+(-2&vt)*X;tt!=Ue;)L(ne[he+0],pe[xe+0],Se[_e+0],Fe,tt),L(ne[he+1],pe[xe+0],Se[_e+0],Fe,tt+X),he+=2,++xe,++_e,tt+=2*X;1&vt&&L(ne[he+0],pe[xe+0],Se[_e+0],Fe,tt)}}function im(_,L,X){return X==0?_==0?L==0?6:5:L==0?4:0:X}function Qd(_,L,X,ne,he){switch(_>>>30){case 3:Zn(L,X,ne,he,0);break;case 2:wc(L,X,ne,he);break;case 1:no(L,X,ne,he)}}function Vl(_,L){var X,ne,he=L.M,pe=L.Nb,xe=_.oc,Se=_.pc+40,_e=_.oc,Fe=_.pc+584,tt=_.oc,vt=_.pc+600;for(X=0;16>X;++X)xe[Se+32*X-1]=129;for(X=0;8>X;++X)_e[Fe+32*X-1]=129,tt[vt+32*X-1]=129;for(0<he?xe[Se-1-32]=_e[Fe-1-32]=tt[vt-1-32]=129:(a(xe,Se-32-1,127,21),a(_e,Fe-32-1,127,9),a(tt,vt-32-1,127,9)),ne=0;ne<_.za;++ne){var Ue=L.ya[L.aa+ne];if(0<ne){for(X=-1;16>X;++X)n(xe,Se+32*X-4,xe,Se+32*X+12,4);for(X=-1;8>X;++X)n(_e,Fe+32*X-4,_e,Fe+32*X+4,4),n(tt,vt+32*X-4,tt,vt+32*X+4,4)}var rt=_.Gd,et=_.Hd+ne,Nt=Ue.ad,ot=Ue.Hc;if(0<he&&(n(xe,Se-32,rt[et].y,0,16),n(_e,Fe-32,rt[et].f,0,8),n(tt,vt-32,rt[et].ea,0,8)),Ue.Za){var Ot=xe,Lt=Se-32+16;for(0<he&&(ne>=_.za-1?a(Ot,Lt,rt[et].y[15],4):n(Ot,Lt,rt[et+1].y,0,4)),X=0;4>X;X++)Ot[Lt+128+X]=Ot[Lt+256+X]=Ot[Lt+384+X]=Ot[Lt+0+X];for(X=0;16>X;++X,ot<<=2)Ot=xe,Lt=Se+Cw[X],zl[Ue.Ob[X]](Ot,Lt),Qd(ot,Nt,16*+X,Ot,Lt)}else if(Ot=im(ne,he,Ue.Ob[0]),Ac[Ot](xe,Se),ot!=0)for(X=0;16>X;++X,ot<<=2)Qd(ot,Nt,16*+X,xe,Se+Cw[X]);for(X=Ue.Gc,Ot=im(ne,he,Ue.Dd),jl[Ot](_e,Fe),jl[Ot](tt,vt),ot=Nt,Ot=_e,Lt=Fe,255&(Ue=0|X)&&(170&Ue?Zh(ot,256,Ot,Lt):ld(ot,256,Ot,Lt)),Ue=tt,ot=vt,255&(X>>=8)&&(170&X?Zh(Nt,320,Ue,ot):ld(Nt,320,Ue,ot)),he<_.Ub-1&&(n(rt[et].y,0,xe,Se+480,16),n(rt[et].f,0,_e,Fe+224,8),n(rt[et].ea,0,tt,vt+224,8)),X=8*pe*_.B,rt=_.sa,et=_.ta+16*ne+16*pe*_.R,Nt=_.qa,Ue=_.ra+8*ne+X,ot=_.Ha,Ot=_.Ia+8*ne+X,X=0;16>X;++X)n(rt,et+X*_.R,xe,Se+32*X,16);for(X=0;8>X;++X)n(Nt,Ue+X*_.B,_e,Fe+32*X,8),n(ot,Ot+X*_.B,tt,vt+32*X,8)}}function om(_,L,X,ne,he,pe,xe,Se,_e){var Fe=[0],tt=[0],vt=0,Ue=_e!=null?_e.kd:0,rt=_e??new hs;if(_==null||12>X)return 7;rt.data=_,rt.w=L,rt.ha=X,L=[L],X=[X],rt.gb=[rt.gb];e:{var et=L,Nt=X,ot=rt.gb;if(t(_!=null),t(Nt!=null),t(ot!=null),ot[0]=0,12<=Nt[0]&&!r(_,et[0],"RIFF")){if(r(_,et[0]+8,"WEBP")){ot=3;break e}var Ot=ke(_,et[0]+4);if(12>Ot||4294967286<Ot){ot=3;break e}if(Ue&&Ot>Nt[0]-8){ot=7;break e}ot[0]=Ot,et[0]+=12,Nt[0]-=12}ot=0}if(ot!=0)return ot;for(Ot=0<rt.gb[0],X=X[0];;){e:{var Lt=_;Nt=L,ot=X;var rr=Fe,Qt=tt,$r=et=[0];if((jr=vt=[vt])[0]=0,8>ot[0])ot=7;else{if(!r(Lt,Nt[0],"VP8X")){if(ke(Lt,Nt[0]+4)!=10){ot=3;break e}if(18>ot[0]){ot=7;break e}var Pr=ke(Lt,Nt[0]+8),Ds=1+Ze(Lt,Nt[0]+12);if(2147483648<=Ds*(Lt=1+Ze(Lt,Nt[0]+15))){ot=3;break e}$r!=null&&($r[0]=Pr),rr!=null&&(rr[0]=Ds),Qt!=null&&(Qt[0]=Lt),Nt[0]+=18,ot[0]-=18,jr[0]=1}ot=0}}if(vt=vt[0],et=et[0],ot!=0)return ot;if(Nt=!!(2&et),!Ot&&vt)return 3;if(pe!=null&&(pe[0]=!!(16&et)),xe!=null&&(xe[0]=Nt),Se!=null&&(Se[0]=0),xe=Fe[0],et=tt[0],vt&&Nt&&_e==null){ot=0;break}if(4>X){ot=7;break}if(Ot&&vt||!Ot&&!vt&&!r(_,L[0],"ALPH")){X=[X],rt.na=[rt.na],rt.P=[rt.P],rt.Sa=[rt.Sa];e:{Pr=_,ot=L,Ot=X;var jr=rt.gb;rr=rt.na,Qt=rt.P,$r=rt.Sa,Ds=22,t(Pr!=null),t(Ot!=null),Lt=ot[0];var Ys=Ot[0];for(t(rr!=null),t($r!=null),rr[0]=null,Qt[0]=null,$r[0]=0;;){if(ot[0]=Lt,Ot[0]=Ys,8>Ys){ot=7;break e}var _a=ke(Pr,Lt+4);if(4294967286<_a){ot=3;break e}var As=8+_a+1&-2;if(Ds+=As,0<jr&&Ds>jr){ot=3;break e}if(!r(Pr,Lt,"VP8 ")||!r(Pr,Lt,"VP8L")){ot=0;break e}if(Ys[0]<As){ot=7;break e}r(Pr,Lt,"ALPH")||(rr[0]=Pr,Qt[0]=Lt+8,$r[0]=_a),Lt+=As,Ys-=As}}if(X=X[0],rt.na=rt.na[0],rt.P=rt.P[0],rt.Sa=rt.Sa[0],ot!=0)break}X=[X],rt.Ja=[rt.Ja],rt.xa=[rt.xa];e:if(jr=_,ot=L,Ot=X,rr=rt.gb[0],Qt=rt.Ja,$r=rt.xa,Pr=ot[0],Lt=!r(jr,Pr,"VP8 "),Ds=!r(jr,Pr,"VP8L"),t(jr!=null),t(Ot!=null),t(Qt!=null),t($r!=null),8>Ot[0])ot=7;else{if(Lt||Ds){if(jr=ke(jr,Pr+4),12<=rr&&jr>rr-12){ot=3;break e}if(Ue&&jr>Ot[0]-8){ot=7;break e}Qt[0]=jr,ot[0]+=8,Ot[0]-=8,$r[0]=Ds}else $r[0]=5<=Ot[0]&&jr[Pr+0]==47&&!(jr[Pr+4]>>5),Qt[0]=Ot[0];ot=0}if(X=X[0],rt.Ja=rt.Ja[0],rt.xa=rt.xa[0],L=L[0],ot!=0)break;if(4294967286<rt.Ja)return 3;if(Se==null||Nt||(Se[0]=rt.xa?2:1),xe=[xe],et=[et],rt.xa){if(5>X){ot=7;break}Se=xe,Ue=et,Nt=pe,_==null||5>X?_=0:5<=X&&_[L+0]==47&&!(_[L+4]>>5)?(Ot=[0],jr=[0],rr=[0],Z(Qt=new H,_,L,X),lr(Qt,Ot,jr,rr)?(Se!=null&&(Se[0]=Ot[0]),Ue!=null&&(Ue[0]=jr[0]),Nt!=null&&(Nt[0]=rr[0]),_=1):_=0):_=0}else{if(10>X){ot=7;break}Se=et,_==null||10>X||!va(_,L+3,X-3)?_=0:(Ue=_[L+0]|_[L+1]<<8|_[L+2]<<16,Nt=16383&(_[L+7]<<8|_[L+6]),_=16383&(_[L+9]<<8|_[L+8]),1&Ue||3<(Ue>>1&7)||!(Ue>>4&1)||Ue>>5>=rt.Ja||!Nt||!_?_=0:(xe&&(xe[0]=Nt),Se&&(Se[0]=_),_=1))}if(!_||(xe=xe[0],et=et[0],vt&&(Fe[0]!=xe||tt[0]!=et)))return 3;_e!=null&&(_e[0]=rt,_e.offset=L-_e.w,t(4294967286>L-_e.w),t(_e.offset==_e.ha-X));break}return ot==0||ot==7&&vt&&_e==null?(pe!=null&&(pe[0]|=rt.na!=null&&0<rt.na.length),ne!=null&&(ne[0]=xe),he!=null&&(he[0]=et),0):ot}function $i(_,L,X){var ne=L.width,he=L.height,pe=0,xe=0,Se=ne,_e=he;if(L.Da=_!=null&&0<_.Da,L.Da&&(Se=_.cd,_e=_.bd,pe=_.v,xe=_.j,11>X||(pe&=-2,xe&=-2),0>pe||0>xe||0>=Se||0>=_e||pe+Se>ne||xe+_e>he))return 0;if(L.v=pe,L.j=xe,L.va=pe+Se,L.o=xe+_e,L.U=Se,L.T=_e,L.da=_!=null&&0<_.da,L.da){if(!ge(Se,_e,X=[_.ib],pe=[_.hb]))return 0;L.ib=X[0],L.hb=pe[0]}return L.ob=_!=null&&_.ob,L.Kb=_==null||!_.Sd,L.da&&(L.ob=L.ib<3*ne/4&&L.hb<3*he/4,L.Kb=0),1}function No(_){if(_==null)return 2;if(11>_.S){var L=_.f.RGBA;L.fb+=(_.height-1)*L.A,L.A=-L.A}else L=_.f.kb,_=_.height,L.O+=(_-1)*L.fa,L.fa=-L.fa,L.N+=(_-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(_-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(_-1)*L.lb,L.lb=-L.lb);return 0}function th(_,L,X,ne){if(ne==null||0>=_||0>=L)return 2;if(X!=null){if(X.Da){var he=X.cd,pe=X.bd,xe=-2&X.v,Se=-2&X.j;if(0>xe||0>Se||0>=he||0>=pe||xe+he>_||Se+pe>L)return 2;_=he,L=pe}if(X.da){if(!ge(_,L,he=[X.ib],pe=[X.hb]))return 2;_=he[0],L=pe[0]}}ne.width=_,ne.height=L;e:{var _e=ne.width,Fe=ne.height;if(_=ne.S,0>=_e||0>=Fe||!(_>=eu&&13>_))_=2;else{if(0>=ne.Rd&&ne.sd==null){xe=pe=he=L=0;var tt=(Se=_e*Zg[_])*Fe;if(11>_||(pe=(Fe+1)/2*(L=(_e+1)/2),_==12&&(xe=(he=_e)*Fe)),(Fe=i(tt+2*pe+xe))==null){_=1;break e}ne.sd=Fe,11>_?((_e=ne.f.RGBA).eb=Fe,_e.fb=0,_e.A=Se,_e.size=tt):((_e=ne.f.kb).y=Fe,_e.O=0,_e.fa=Se,_e.Fd=tt,_e.f=Fe,_e.N=0+tt,_e.Ab=L,_e.Cd=pe,_e.ea=Fe,_e.W=0+tt+pe,_e.Db=L,_e.Ed=pe,_==12&&(_e.F=Fe,_e.J=0+tt+2*pe),_e.Tc=xe,_e.lb=he)}if(L=1,he=ne.S,pe=ne.width,xe=ne.height,he>=eu&&13>he)if(11>he)_=ne.f.RGBA,L&=(Se=Math.abs(_.A))*(xe-1)+pe<=_.size,L&=Se>=pe*Zg[he],L&=_.eb!=null;else{_=ne.f.kb,Se=(pe+1)/2,tt=(xe+1)/2,_e=Math.abs(_.fa),Fe=Math.abs(_.Ab);var vt=Math.abs(_.Db),Ue=Math.abs(_.lb),rt=Ue*(xe-1)+pe;L&=_e*(xe-1)+pe<=_.Fd,L&=Fe*(tt-1)+Se<=_.Cd,L=(L&=vt*(tt-1)+Se<=_.Ed)&_e>=pe&Fe>=Se&vt>=Se,L&=_.y!=null,L&=_.f!=null,L&=_.ea!=null,he==12&&(L&=Ue>=pe,L&=rt<=_.Tc,L&=_.F!=null)}else L=0;_=L?0:2}}return _!=0||X!=null&&X.fd&&(_=No(ne)),_}var ql=64,rd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],lm=24,Xd=32,ba=8,Fv=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(_){return _},k.Predictor2=function(_,L,X){return L[X+0]},k.Predictor3=function(_,L,X){return L[X+1]},k.Predictor4=function(_,L,X){return L[X-1]},k.Predictor5=function(_,L,X){return we(we(_,L[X+1]),L[X+0])},k.Predictor6=function(_,L,X){return we(_,L[X-1])},k.Predictor7=function(_,L,X){return we(_,L[X+0])},k.Predictor8=function(_,L,X){return we(L[X-1],L[X+0])},k.Predictor9=function(_,L,X){return we(L[X+0],L[X+1])},k.Predictor10=function(_,L,X){return we(we(_,L[X-1]),we(L[X+0],L[X+1]))},k.Predictor11=function(_,L,X){var ne=L[X+0];return 0>=pt(ne>>24&255,_>>24&255,(L=L[X-1])>>24&255)+pt(ne>>16&255,_>>16&255,L>>16&255)+pt(ne>>8&255,_>>8&255,L>>8&255)+pt(255&ne,255&_,255&L)?ne:_},k.Predictor12=function(_,L,X){var ne=L[X+0];return(qe((_>>24&255)+(ne>>24&255)-((L=L[X-1])>>24&255))<<24|qe((_>>16&255)+(ne>>16&255)-(L>>16&255))<<16|qe((_>>8&255)+(ne>>8&255)-(L>>8&255))<<8|qe((255&_)+(255&ne)-(255&L)))>>>0},k.Predictor13=function(_,L,X){var ne=L[X-1];return(xt((_=we(_,L[X+0]))>>24&255,ne>>24&255)<<24|xt(_>>16&255,ne>>16&255)<<16|xt(_>>8&255,ne>>8&255)<<8|xt(255&_,255&ne))>>>0};var sd=k.PredictorAdd0;k.PredictorAdd1=ct,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var nd=k.PredictorAdd2;ur("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),ur("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var cm,qp=k.ColorIndexInverseTransform,ji=k.MapARGB,ad=k.VP8LColorIndexInverseTransformAlpha,rh=k.MapAlpha,sh=k.VP8LPredictorsAdd=[];sh.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var id,dm,jo,od,Wn,pn,ua,Zn,wc,Zh,no,ld,zg,Bv,nh,Uv,$v,Vv,bw,ww,Nw,qv,zv,Hv,So,Nl,Jh,Hg,zp=i(511),Hp=i(2041),Wg=i(225),Zd=i(767),Wv=0,um=Hp,Jd=Wg,Go=Zd,ha=zp,eu=0,tu=1,Wp=2,ef=3,Ao=4,Yo=5,ah=6,Nc=7,jc=8,cd=9,Gg=10,Gv=[2,3,7],Yv=[3,3,11],ao=[280,256,256,256,40],Vi=[0,1,1,1,0],hn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Sc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kv=8,ru=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hm=null,Gp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Kp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],jw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Qv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ac=[],zl=[],jl=[],Aw=1,tf=2,Hl=[],Eo=[];bc("UpsampleRgbLinePair",td,3),bc("UpsampleBgrLinePair",Xh,3),bc("UpsampleRgbaLinePair",qg,4),bc("UpsampleBgraLinePair",am,4),bc("UpsampleArgbLinePair",Kd,4),bc("UpsampleRgba4444LinePair",so,2),bc("UpsampleRgb565LinePair",nm,2);var Qp=k.UpsampleRgbLinePair,Kg=k.UpsampleBgrLinePair,Xv=k.UpsampleRgbaLinePair,Zv=k.UpsampleBgraLinePair,ih=k.UpsampleArgbLinePair,Jv=k.UpsampleRgba4444LinePair,mm=k.UpsampleRgb565LinePair,rf=16,Xp=1<<rf-1,sf=-227,Zp=482,Wl=6,Ec=0,oh=i(256),Ew=i(256),lh=i(256),su=i(256),si=i(Zp-sf),Qg=i(Zp-sf);wl("YuvToRgbRow",td,3),wl("YuvToBgrRow",Xh,3),wl("YuvToRgbaRow",qg,4),wl("YuvToBgraRow",am,4),wl("YuvToArgbRow",Kd,4),wl("YuvToRgba4444Row",so,2),wl("YuvToRgb565Row",nm,2);var Cw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xg=[0,2,8],y4=[8,7,6,4,4,2,2,2,1,1,1,1],ni=1;this.WebPDecodeRGBA=function(_,L,X,ne,he){var pe=tu,xe=new Yr,Se=new mr;xe.ba=Se,Se.S=pe,Se.width=[Se.width],Se.height=[Se.height];var _e=Se.width,Fe=Se.height,tt=new ar;if(tt==null||_==null)var vt=2;else t(tt!=null),vt=om(_,L,X,tt.width,tt.height,tt.Pd,tt.Qd,tt.format,null);if(vt!=0?_e=0:(_e!=null&&(_e[0]=tt.width[0]),Fe!=null&&(Fe[0]=tt.height[0]),_e=1),_e){Se.width=Se.width[0],Se.height=Se.height[0],ne!=null&&(ne[0]=Se.width),he!=null&&(he[0]=Se.height);e:{if(ne=new kn,(he=new hs).data=_,he.w=L,he.ha=X,he.kd=1,L=[0],t(he!=null),((_=om(he.data,he.w,he.ha,null,null,null,L,null,he))==0||_==7)&&L[0]&&(_=4),(L=_)==0){if(t(xe!=null),ne.data=he.data,ne.w=he.w+he.offset,ne.ha=he.ha-he.offset,ne.put=lt,ne.ac=Xe,ne.bc=Ct,ne.ma=xe,he.xa){if((_=ht())==null){xe=1;break e}if(function(Ue,rt){var et=[0],Nt=[0],ot=[0];t:for(;;){if(Ue==null)return 0;if(rt==null)return Ue.a=2,0;if(Ue.l=rt,Ue.a=0,Z(Ue.m,rt.data,rt.w,rt.ha),!lr(Ue.m,et,Nt,ot)){Ue.a=3;break t}if(Ue.xb=tf,rt.width=et[0],rt.height=Nt[0],!dt(et[0],Nt[0],1,Ue,null))break t;return 1}return t(Ue.a!=0),0}(_,ne)){if(ne=(L=th(ne.width,ne.height,xe.Oa,xe.ba))==0){t:{ne=_;r:for(;;){if(ne==null){ne=0;break t}if(t(ne.s.yc!=null),t(ne.s.Ya!=null),t(0<ne.s.Wb),t((X=ne.l)!=null),t((he=X.ma)!=null),ne.xb!=0){if(ne.ca=he.ba,ne.tb=he.tb,t(ne.ca!=null),!$i(he.Oa,X,ef)){ne.a=2;break r}if(!yt(ne,X.width)||X.da)break r;if((X.da||Pt(ne.ca.S))&&Qh(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&Qh()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!ce(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break r}ne.xb=0}if(!st(ne,ne.V,ne.Ba,ne.c,ne.i,X.o,Ne))break r;he.Dc=ne.Ma,ne=1;break t}t(ne.a!=0),ne=0}ne=!ne}ne&&(L=_.a)}else L=_.a}else{if((_=new Bl)==null){xe=1;break e}if(_.Fa=he.na,_.P=he.P,_.qc=he.Sa,mc(_,ne)){if((L=th(ne.width,ne.height,xe.Oa,xe.ba))==0){if(_.Aa=0,X=xe.Oa,t((he=_)!=null),X!=null){if(0<(_e=0>(_e=X.Md)?0:100<_e?255:255*_e/100)){for(Fe=tt=0;4>Fe;++Fe)12>(vt=he.pb[Fe]).lc&&(vt.ia=_e*y4[0>vt.lc?0:vt.lc]>>3),tt|=vt.ia;tt&&(alert("todo:VP8InitRandom"),he.ia=1)}he.Ga=X.Id,100<he.Ga?he.Ga=100:0>he.Ga&&(he.Ga=0)}(function(Ue,rt){if(Ue==null)return 0;if(rt==null)return un(Ue,2,"NULL VP8Io parameter in VP8Decode().");if(!Ue.cb&&!mc(Ue,rt))return 0;if(t(Ue.cb),rt.ac==null||rt.ac(rt)){rt.ob&&(Ue.L=0);var et=Xg[Ue.L];if(Ue.L==2?(Ue.yb=0,Ue.zb=0):(Ue.yb=rt.v-et>>4,Ue.zb=rt.j-et>>4,0>Ue.yb&&(Ue.yb=0),0>Ue.zb&&(Ue.zb=0)),Ue.Va=rt.o+15+et>>4,Ue.Hb=rt.va+15+et>>4,Ue.Hb>Ue.za&&(Ue.Hb=Ue.za),Ue.Va>Ue.Ub&&(Ue.Va=Ue.Ub),0<Ue.L){var Nt=Ue.ed;for(et=0;4>et;++et){var ot;if(Ue.Qa.Cb){var Ot=Ue.Qa.Lb[et];Ue.Qa.Fb||(Ot+=Nt.Tb)}else Ot=Nt.Tb;for(ot=0;1>=ot;++ot){var Lt=Ue.gd[et][ot],rr=Ot;if(Nt.Pc&&(rr+=Nt.vd[0],ot&&(rr+=Nt.od[0])),0<(rr=0>rr?0:63<rr?63:rr)){var Qt=rr;0<Nt.wb&&(Qt=4<Nt.wb?Qt>>2:Qt>>1)>9-Nt.wb&&(Qt=9-Nt.wb),1>Qt&&(Qt=1),Lt.dd=Qt,Lt.tc=2*rr+Qt,Lt.ld=40<=rr?2:15<=rr?1:0}else Lt.tc=0;Lt.La=ot}}}et=0}else un(Ue,6,"Frame setup failed"),et=Ue.a;if(et=et==0){if(et){Ue.$c=0,0<Ue.Aa||(Ue.Ic=ni);t:{et=Ue.Ic,Nt=4*(Qt=Ue.za);var $r=32*Qt,Pr=Qt+1,Ds=0<Ue.L?Qt*(0<Ue.Aa?2:1):0,jr=(Ue.Aa==2?2:1)*Qt;if((Lt=Nt+832+(ot=3*(16*et+Xg[Ue.L])/2*$r)+(Ot=Ue.Fa!=null&&0<Ue.Fa.length?Ue.Kc.c*Ue.Kc.i:0))!=Lt)et=0;else{if(Lt>Ue.Vb){if(Ue.Vb=0,Ue.Ec=i(Lt),Ue.Fc=0,Ue.Ec==null){et=un(Ue,1,"no memory during frame initialization.");break t}Ue.Vb=Lt}Lt=Ue.Ec,rr=Ue.Fc,Ue.Ac=Lt,Ue.Bc=rr,rr+=Nt,Ue.Gd=o($r,xs),Ue.Hd=0,Ue.rb=o(Pr+1,Dr),Ue.sb=1,Ue.wa=Ds?o(Ds,Jt):null,Ue.Y=0,Ue.D.Nb=0,Ue.D.wa=Ue.wa,Ue.D.Y=Ue.Y,0<Ue.Aa&&(Ue.D.Y+=Qt),t(!0),Ue.oc=Lt,Ue.pc=rr,rr+=832,Ue.ya=o(jr,bs),Ue.aa=0,Ue.D.ya=Ue.ya,Ue.D.aa=Ue.aa,Ue.Aa==2&&(Ue.D.aa+=Qt),Ue.R=16*Qt,Ue.B=8*Qt,Qt=($r=Xg[Ue.L])*Ue.R,$r=$r/2*Ue.B,Ue.sa=Lt,Ue.ta=rr+Qt,Ue.qa=Ue.sa,Ue.ra=Ue.ta+16*et*Ue.R+$r,Ue.Ha=Ue.qa,Ue.Ia=Ue.ra+8*et*Ue.B+$r,Ue.$c=0,rr+=ot,Ue.mb=Ot?Lt:null,Ue.nb=Ot?rr:null,t(rr+Ot<=Ue.Fc+Ue.Vb),go(Ue),a(Ue.Ac,Ue.Bc,0,Nt),et=1}}if(et){if(rt.ka=0,rt.y=Ue.sa,rt.O=Ue.ta,rt.f=Ue.qa,rt.N=Ue.ra,rt.ea=Ue.Ha,rt.Vd=Ue.Ia,rt.fa=Ue.R,rt.Rc=Ue.B,rt.F=null,rt.J=0,!Wv){for(et=-255;255>=et;++et)zp[255+et]=0>et?-et:et;for(et=-1020;1020>=et;++et)Hp[1020+et]=-128>et?-128:127<et?127:et;for(et=-112;112>=et;++et)Wg[112+et]=-16>et?-16:15<et?15:et;for(et=-255;510>=et;++et)Zd[255+et]=0>et?0:255<et?255:et;Wv=1}ua=Bi,Zn=Zc,Zh=Hd,no=ei,ld=vl,wc=zd,zg=G,Bv=ue,nh=it,Uv=Rt,$v=Le,Vv=Qe,bw=Ht,ww=Br,Nw=bn,qv=Ts,zv=ca,Hv=Ua,zl[0]=yc,zl[1]=xo,zl[2]=gc,zl[3]=xc,zl[4]=vc,zl[5]=ti,zl[6]=to,zl[7]=wo,zl[8]=Ho,zl[9]=ro,Ac[0]=vo,Ac[1]=yo,Ac[2]=Wd,Ac[3]=Gd,Ac[4]=Jc,Ac[5]=Xn,Ac[6]=bo,jl[0]=ee,jl[1]=Zu,jl[2]=Ul,jl[3]=Wo,jl[4]=Ke,jl[5]=ye,jl[6]=Tt,et=1}else et=0}et&&(et=function(Ys,_a){for(Ys.M=0;Ys.M<Ys.Va;++Ys.M){var As,Vr=Ys.Jc[Ys.M&Ys.Xb],Ar=Ys.m,fa=Ys;for(As=0;As<fa.za;++As){var ys=Ar,Qs=fa,Bs=Qs.Ac,Xs=Qs.Bc+4*As,Si=Qs.zc,Gn=Qs.ya[Qs.aa+As];if(Qs.Qa.Bb?Gn.$b=le(ys,Qs.Pa.jb[0])?2+le(ys,Qs.Pa.jb[2]):le(ys,Qs.Pa.jb[1]):Gn.$b=0,Qs.kc&&(Gn.Ad=le(ys,Qs.Bd)),Gn.Za=!le(ys,145)+0,Gn.Za){var ai=Gn.Ob,qi=0;for(Qs=0;4>Qs;++Qs){var Mn,Zs=Si[0+Qs];for(Mn=0;4>Mn;++Mn){Zs=jw[Bs[Xs+Mn]][Zs];for(var gn=fm[le(ys,Zs[0])];0<gn;)gn=fm[2*gn+le(ys,Zs[gn])];Zs=-gn,Bs[Xs+Mn]=Zs}n(ai,qi,Bs,Xs,4),qi+=4,Si[0+Qs]=Zs}}else Zs=le(ys,156)?le(ys,128)?1:3:le(ys,163)?2:0,Gn.Ob[0]=Zs,a(Bs,Xs,Zs,4),a(Si,0,Zs,4);Gn.Dd=le(ys,142)?le(ys,114)?le(ys,183)?1:3:2:0}if(fa.m.Ka)return un(Ys,7,"Premature end-of-partition0 encountered.");for(;Ys.ja<Ys.za;++Ys.ja){if(fa=Vr,ys=(Ar=Ys).rb[Ar.sb-1],Bs=Ar.rb[Ar.sb+Ar.ja],As=Ar.ya[Ar.aa+Ar.ja],Xs=Ar.kc?As.Ad:0)ys.la=Bs.la=0,As.Za||(ys.Na=Bs.Na=0),As.Hc=0,As.Gc=0,As.ia=0;else{var ra,wn;if(ys=Bs,Bs=fa,Xs=Ar.Pa.Xc,Si=Ar.ya[Ar.aa+Ar.ja],Gn=Ar.pb[Si.$b],Qs=Si.ad,ai=0,qi=Ar.rb[Ar.sb-1],Zs=Mn=0,a(Qs,ai,0,384),Si.Za)var Ai=0,Gl=Xs[3];else{gn=i(16);var wa=ys.Na+qi.Na;if(wa=hm(Bs,Xs[1],wa,Gn.Eb,0,gn,0),ys.Na=qi.Na=(0<wa)+0,1<wa)ua(gn,0,Qs,ai);else{var Co=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)Qs[ai+gn]=Co}Ai=1,Gl=Xs[0]}var Dn=15&ys.la,ka=15&qi.la;for(gn=0;4>gn;++gn){var Ko=1&ka;for(Co=wn=0;4>Co;++Co)Dn=Dn>>1|(Ko=(wa=hm(Bs,Gl,wa=Ko+(1&Dn),Gn.Sc,Ai,Qs,ai))>Ai)<<7,wn=wn<<2|(3<wa?3:1<wa?2:Qs[ai+0]!=0),ai+=16;Dn>>=4,ka=ka>>1|Ko<<7,Mn=(Mn<<8|wn)>>>0}for(Gl=Dn,Ai=ka>>4,ra=0;4>ra;ra+=2){for(wn=0,Dn=ys.la>>4+ra,ka=qi.la>>4+ra,gn=0;2>gn;++gn){for(Ko=1&ka,Co=0;2>Co;++Co)wa=Ko+(1&Dn),Dn=Dn>>1|(Ko=0<(wa=hm(Bs,Xs[2],wa,Gn.Qc,0,Qs,ai)))<<3,wn=wn<<2|(3<wa?3:1<wa?2:Qs[ai+0]!=0),ai+=16;Dn>>=2,ka=ka>>1|Ko<<5}Zs|=wn<<4*ra,Gl|=Dn<<4<<ra,Ai|=(240&ka)<<ra}ys.la=Gl,qi.la=Ai,Si.Hc=Mn,Si.Gc=Zs,Si.ia=43690&Zs?0:Gn.ia,Xs=!(Mn|Zs)}if(0<Ar.L&&(Ar.wa[Ar.Y+Ar.ja]=Ar.gd[As.$b][As.Za],Ar.wa[Ar.Y+Ar.ja].La|=!Xs),fa.Ka)return un(Ys,7,"Premature end-of-file encountered.")}if(go(Ys),Ar=_a,fa=1,As=(Vr=Ys).D,ys=0<Vr.L&&Vr.M>=Vr.zb&&Vr.M<=Vr.Va,Vr.Aa==0)t:{if(As.M=Vr.M,As.uc=ys,Vl(Vr,As),fa=1,As=(wn=Vr.D).Nb,ys=(Zs=Xg[Vr.L])*Vr.R,Bs=Zs/2*Vr.B,gn=16*As*Vr.R,Co=8*As*Vr.B,Xs=Vr.sa,Si=Vr.ta-ys+gn,Gn=Vr.qa,Qs=Vr.ra-Bs+Co,ai=Vr.Ha,qi=Vr.Ia-Bs+Co,ka=(Dn=wn.M)==0,Mn=Dn>=Vr.Va-1,Vr.Aa==2&&Vl(Vr,wn),wn.uc)for(Ko=(wa=Vr).D.M,t(wa.D.uc),wn=wa.yb;wn<wa.Hb;++wn){Ai=wn,Gl=Ko;var _o=(Qo=(zi=wa).D).Nb;ra=zi.R;var Qo=Qo.wa[Qo.Y+Ai],Xo=zi.sa,ko=zi.ta+16*_o*ra+16*Ai,To=Qo.dd,Fn=Qo.tc;if(Fn!=0)if(t(3<=Fn),zi.L==1)0<Ai&&qv(Xo,ko,ra,Fn+4),Qo.La&&Hv(Xo,ko,ra,Fn),0<Gl&&Nw(Xo,ko,ra,Fn+4),Qo.La&&zv(Xo,ko,ra,Fn);else{var Zo=zi.B,Yl=zi.qa,ch=zi.ra+8*_o*Zo+8*Ai,ud=zi.Ha,zi=zi.Ia+8*_o*Zo+8*Ai;_o=Qo.ld,0<Ai&&(Bv(Xo,ko,ra,Fn+4,To,_o),Uv(Yl,ch,ud,zi,Zo,Fn+4,To,_o)),Qo.La&&(Vv(Xo,ko,ra,Fn,To,_o),ww(Yl,ch,ud,zi,Zo,Fn,To,_o)),0<Gl&&(zg(Xo,ko,ra,Fn+4,To,_o),nh(Yl,ch,ud,zi,Zo,Fn+4,To,_o)),Qo.La&&($v(Xo,ko,ra,Fn,To,_o),bw(Yl,ch,ud,zi,Zo,Fn,To,_o))}}if(Vr.ia&&alert("todo:DitherRow"),Ar.put!=null){if(wn=16*Dn,Dn=16*(Dn+1),ka?(Ar.y=Vr.sa,Ar.O=Vr.ta+gn,Ar.f=Vr.qa,Ar.N=Vr.ra+Co,Ar.ea=Vr.Ha,Ar.W=Vr.Ia+Co):(wn-=Zs,Ar.y=Xs,Ar.O=Si,Ar.f=Gn,Ar.N=Qs,Ar.ea=ai,Ar.W=qi),Mn||(Dn-=Zs),Dn>Ar.o&&(Dn=Ar.o),Ar.F=null,Ar.J=null,Vr.Fa!=null&&0<Vr.Fa.length&&wn<Dn&&(Ar.J=Ui(Vr,Ar,wn,Dn-wn),Ar.F=Vr.mb,Ar.F==null&&Ar.F.length==0)){fa=un(Vr,3,"Could not decode alpha data.");break t}wn<Ar.j&&(Zs=Ar.j-wn,wn=Ar.j,t(!(1&Zs)),Ar.O+=Vr.R*Zs,Ar.N+=Vr.B*(Zs>>1),Ar.W+=Vr.B*(Zs>>1),Ar.F!=null&&(Ar.J+=Ar.width*Zs)),wn<Dn&&(Ar.O+=Ar.v,Ar.N+=Ar.v>>1,Ar.W+=Ar.v>>1,Ar.F!=null&&(Ar.J+=Ar.v),Ar.ka=wn-Ar.j,Ar.U=Ar.va-Ar.v,Ar.T=Dn-wn,fa=Ar.put(Ar))}As+1!=Vr.Ic||Mn||(n(Vr.sa,Vr.ta-ys,Xs,Si+16*Vr.R,ys),n(Vr.qa,Vr.ra-Bs,Gn,Qs+8*Vr.B,Bs),n(Vr.Ha,Vr.Ia-Bs,ai,qi+8*Vr.B,Bs))}if(!fa)return un(Ys,6,"Output aborted.")}return 1}(Ue,rt)),rt.bc!=null&&rt.bc(rt),et&=1}return et?(Ue.cb=0,et):0})(_,ne)||(L=_.a)}}else L=_.a}L==0&&xe.Oa!=null&&xe.Oa.fd&&(L=No(xe.ba))}xe=L}pe=xe!=0?null:11>pe?Se.f.RGBA.eb:Se.f.kb.y}else pe=null;return pe};var Zg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(k,z){for(var O="",M=0;M<4;M++)O+=String.fromCharCode(k[z++]);return O}function h(k,z){return k[z+0]|k[z+1]<<8}function m(k,z){return(k[z+0]|k[z+1]<<8|k[z+2]<<16)>>>0}function p(k,z){return(k[z+0]|k[z+1]<<8|k[z+2]<<16|k[z+3]<<24)>>>0}new c;var g=[0],w=[0],b=[],v=new c,N=e,S=function(k,z){var O={},M=0,R=!1,B=0,Y=0;if(O.frames=[],!function(D,H){for(var K=0;K<4;K++)if(D[H+K]!="RIFF".charCodeAt(K))return!0;return!1}(k,z)){for(p(k,z+=4),z+=8;z<k.length;){var U=d(k,z),Q=p(k,z+=4);z+=4;var V=Q+(1&Q);switch(U){case"VP8 ":case"VP8L":O.frames[M]===void 0&&(O.frames[M]={}),(ae=O.frames[M]).src_off=R?Y:z-8,ae.src_size=B+Q+8,M++,R&&(R=!1,B=0,Y=0);break;case"VP8X":(ae=O.header={}).feature_flags=k[z];var Z=z+4;ae.canvas_width=1+m(k,Z),Z+=3,ae.canvas_height=1+m(k,Z),Z+=3;break;case"ALPH":R=!0,B=V+8,Y=z-8;break;case"ANIM":(ae=O.header).bgcolor=p(k,z),Z=z+4,ae.loop_count=h(k,Z),Z+=2;break;case"ANMF":var J,ae;(ae=O.frames[M]={}).offset_x=2*m(k,z),z+=3,ae.offset_y=2*m(k,z),z+=3,ae.width=1+m(k,z),z+=3,ae.height=1+m(k,z),z+=3,ae.duration=m(k,z),z+=3,J=k[z++],ae.dispose=1&J,ae.blend=J>>1&1}U!="ANMF"&&(z+=V)}return O}}(N,0);S.response=N,S.rgbaoutput=!0,S.dataurl=!1;var A=S.header?S.header:null,E=S.frames?S.frames:null;if(A){A.loop_counter=A.loop_count,g=[A.canvas_height],w=[A.canvas_width];for(var C=0;C<E.length&&E[C].blend!=0;C++);}var I=E[0],P=v.WebPDecodeRGBA(N,I.src_off,I.src_size,w,g);I.rgba=P,I.imgwidth=w[0],I.imgheight=g[0];for(var F=0;F<w[0]*g[0]*4;F++)b[F]=P[F];return this.width=w,this.height=g,this.data=b,this}(function(e){var t,r,n,a,i,o,l,c,d,h=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var m=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=D;Object.defineProperty(this,"pdf",{get:function(){return H}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(ke){K=!!ke}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(ke){W=!!ke}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(ke){isNaN(ke)||(re=ke)}});var te=0;Object.defineProperty(this,"posY",{get:function(){return te},set:function(ke){isNaN(ke)||(te=ke)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ke){var ce;typeof ke=="number"?ce=[ke,ke,ke,ke]:((ce=new Array(4))[0]=ke[0],ce[1]=ke.length>=2?ke[1]:ce[0],ce[2]=ke.length>=3?ke[2]:ce[0],ce[3]=ke.length>=4?ke[3]:ce[1]),d.margin=ce}});var ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ie},set:function(ke){ie=ke}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(ke){se=ke}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(ke){le=ke}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ke){ke instanceof h&&(d=ke)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ke){d.path=ke}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(ke){Ce=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var ce;ce=p(ke),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var ce=p(ke);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var De=null,Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(ke){De=null,Ze=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var ce;if(this.ctx.font=ke,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var Me=ce[1];ce[2];var be=ce[3],ge=ce[4];ce[5];var Ye=ce[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ge)[2];ge=Math.floor(ze==="px"?parseFloat(ge)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(ge)*this.pdf.getFontSize():parseFloat(ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ge);var Pe=function(Xt){var ur,es,Qr=[],mt=Xt.trim();if(mt==="")return R3;if(mt in a7)return[a7[mt]];for(;mt!=="";){switch(es=null,ur=(mt=o7(mt)).charAt(0)){case'"':case"'":es=YMe(mt.substring(1),ur);break;default:es=KMe(mt)}if(es===null||(Qr.push(es[0]),(mt=o7(es[1]))!==""&&mt.charAt(0)!==","))return R3;mt=mt.replace(/^,/,"")}return Qr}(Ye);if(this.fontFaces){var me=function(Xt,ur){if(De===null){var es=function(Qr){var mt=[];return Object.keys(Qr).forEach(function(Er){Qr[Er].forEach(function(tr){var fr=null;switch(tr){case"bold":fr={family:Er,weight:"bold"};break;case"italic":fr={family:Er,style:"italic"};break;case"bolditalic":fr={family:Er,weight:"bold",style:"italic"};break;case"":case"normal":fr={family:Er}}fr!==null&&(fr.ref={name:Er,style:tr},mt.push(fr))})}),mt}(Xt.getFontList());De=function(Qr){for(var mt={},Er=0;Er<Qr.length;++Er){var tr=O3(Qr[Er]),fr=tr.family,Lr=tr.stretch,Pt=tr.style,Tr=tr.weight;mt[fr]=mt[fr]||{},mt[fr][Lr]=mt[fr][Lr]||{},mt[fr][Lr][Pt]=mt[fr][Lr][Pt]||{},mt[fr][Lr][Pt][Tr]=tr}return mt}(es.concat(ur))}return De}(this.pdf,this.fontFaces),we=Pe.map(function(Xt){return{family:Xt,stretch:"normal",weight:be,style:Me}}),qe=function(Xt,ur,es){for(var Qr=(es=es||{}).defaultFontFamily||"times",mt=Object.assign({},GMe,es.genericFontFamilies||{}),Er=null,tr=null,fr=0;fr<ur.length;++fr)if(mt[(Er=O3(ur[fr])).family]&&(Er.family=mt[Er.family]),Xt.hasOwnProperty(Er.family)){tr=Xt[Er.family];break}if(!(tr=tr||Xt[Qr]))throw new Error("Could not find a font-family for the rule '"+i7(Er)+"' and default family '"+Qr+"'.");if(tr=function(Lr,Pt){if(Pt[Lr])return Pt[Lr];var Tr=ck[Lr],Cr=Tr<=ck.normal?-1:1,mr=n7(Pt,AQ,Tr,Cr);if(!mr)throw new Error("Could not find a matching font-stretch value for "+Lr);return mr}(Er.stretch,tr),tr=function(Lr,Pt){if(Pt[Lr])return Pt[Lr];for(var Tr=SQ[Lr],Cr=0;Cr<Tr.length;++Cr)if(Pt[Tr[Cr]])return Pt[Tr[Cr]];throw new Error("Could not find a matching font-style for "+Lr)}(Er.style,tr),!(tr=function(Lr,Pt){if(Pt[Lr])return Pt[Lr];if(Lr===400&&Pt[500])return Pt[500];if(Lr===500&&Pt[400])return Pt[400];var Tr=WMe[Lr],Cr=n7(Pt,EQ,Tr,Lr<400?-1:1);if(!Cr)throw new Error("Could not find a matching font-weight for value "+Lr);return Cr}(Er.weight,tr)))throw new Error("Failed to resolve a font for the rule '"+i7(Er)+"'.");return tr}(me,we);this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var xt="";(be==="bold"||parseInt(be,10)>=700||Me==="bold")&&(xt="bold"),Me==="italic"&&(xt+="italic"),xt.length===0&&(xt="normal");for(var pt="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<Pe.length;ft++){if(this.pdf.internal.getFont(Pe[ft],xt,{noFallback:!0,disableWarning:!0})!==void 0){pt=Pe[ft];break}if(xt==="bolditalic"&&this.pdf.internal.getFont(Pe[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pt=Pe[ft],xt="bold";else if(this.pdf.internal.getFont(Pe[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pt=Pe[ft],xt="normal";break}}if(pt===""){for(var Mt=0;Mt<Pe.length;Mt++)if(ct[Pe[Mt]]){pt=ct[Pe[Mt]];break}}pt=pt===""?"Times":pt,this.pdf.setFont(pt,xt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};m.prototype.setLineDash=function(D){this.lineDash=D},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){E.call(this,"fill",!1)},m.prototype.stroke=function(){E.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(D,H){if(isNaN(D)||isNaN(H))throw ea.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(D,H));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(D,H)},m.prototype.closePath=function(){var D=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Vn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){D=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},m.prototype.lineTo=function(D,H){if(isNaN(D)||isNaN(H))throw ea.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(D,H));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},m.prototype.quadraticCurveTo=function(D,H,K,W){if(isNaN(K)||isNaN(W)||isNaN(D)||isNaN(H))throw ea.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(K,W)),te=this.ctx.transform.applyToPoint(new o(D,H));this.path.push({type:"qct",x1:te.x,y1:te.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},m.prototype.bezierCurveTo=function(D,H,K,W,re,te){if(isNaN(re)||isNaN(te)||isNaN(D)||isNaN(H)||isNaN(K)||isNaN(W))throw ea.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ie=this.ctx.transform.applyToPoint(new o(re,te)),se=this.ctx.transform.applyToPoint(new o(D,H)),le=this.ctx.transform.applyToPoint(new o(K,W));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:le.x,y2:le.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},m.prototype.arc=function(D,H,K,W,re,te){if(isNaN(D)||isNaN(H)||isNaN(K)||isNaN(W)||isNaN(re))throw ea.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(te=!!te,!this.ctx.transform.isIdentity){var ie=this.ctx.transform.applyToPoint(new o(D,H));D=ie.x,H=ie.y;var se=this.ctx.transform.applyToPoint(new o(0,K)),le=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(se.x-le.x,2)+Math.pow(se.y-le.y,2))}Math.abs(re-W)>=2*Math.PI&&(W=0,re=2*Math.PI),this.path.push({type:"arc",x:D,y:H,radius:K,startAngle:W,endAngle:re,counterclockwise:te})},m.prototype.arcTo=function(D,H,K,W,re){throw new Error("arcTo not implemented.")},m.prototype.rect=function(D,H,K,W){if(isNaN(D)||isNaN(H)||isNaN(K)||isNaN(W))throw ea.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,H),this.lineTo(D+K,H),this.lineTo(D+K,H+W),this.lineTo(D,H+W),this.lineTo(D,H),this.lineTo(D+K,H),this.lineTo(D,H)},m.prototype.fillRect=function(D,H,K,W){if(isNaN(D)||isNaN(H)||isNaN(K)||isNaN(W))throw ea.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,H,K,W),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},m.prototype.strokeRect=function(D,H,K,W){if(isNaN(D)||isNaN(H)||isNaN(K)||isNaN(W))throw ea.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(D,H,K,W),this.stroke())},m.prototype.clearRect=function(D,H,K,W){if(isNaN(D)||isNaN(H)||isNaN(K)||isNaN(W))throw ea.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,H,K,W))},m.prototype.save=function(D){D=typeof D!="boolean"||D;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},m.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(H),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(D){var H,K,W,re;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))H=0,K=0,W=0,re=0;else{var te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(te!==null)H=parseInt(te[1]),K=parseInt(te[2]),W=parseInt(te[3]),re=1;else if((te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)H=parseInt(te[1]),K=parseInt(te[2]),W=parseInt(te[3]),re=parseFloat(te[4]);else{if(re=1,typeof D=="string"&&D.charAt(0)!=="#"){var ie=new xQ(D);D=ie.ok?ie.toHex():"#000000"}D.length===4?(H=D.substring(1,2),H+=H,K=D.substring(2,3),K+=K,W=D.substring(3,4),W+=W):(H=D.substring(1,3),K=D.substring(3,5),W=D.substring(5,7)),H=parseInt(H,16),K=parseInt(K,16),W=parseInt(W,16)}}return{r:H,g:K,b:W,a:re,style:D}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(D,H,K,W){if(isNaN(H)||isNaN(K)||typeof D!="string")throw ea.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!g.call(this)){var re=V(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;M.call(this,{text:D,x:H,y:K,scale:te,angle:re,align:this.textAlign,maxWidth:W})}},m.prototype.strokeText=function(D,H,K,W){if(isNaN(H)||isNaN(K)||typeof D!="string")throw ea.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){W=isNaN(W)?void 0:W;var re=V(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;M.call(this,{text:D,x:H,y:K,scale:te,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:W})}},m.prototype.measureText=function(D){if(typeof D!="string")throw ea.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,K=this.pdf.internal.scaleFactor,W=H.internal.getFontSize(),re=H.getStringUnitWidth(D)*W/H.internal.scaleFactor;return new function(te){var ie=(te=te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this}({width:re*=Math.round(96*K/72*1e4)/1e4})},m.prototype.scale=function(D,H){if(isNaN(D)||isNaN(H))throw ea.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(D,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},m.prototype.rotate=function(D){if(isNaN(D))throw ea.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.translate=function(D,H){if(isNaN(D)||isNaN(H))throw ea.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,D,H);this.ctx.transform=this.ctx.transform.multiply(K)},m.prototype.transform=function(D,H,K,W,re,te){if(isNaN(D)||isNaN(H)||isNaN(K)||isNaN(W)||isNaN(re)||isNaN(te))throw ea.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ie=new c(D,H,K,W,re,te);this.ctx.transform=this.ctx.transform.multiply(ie)},m.prototype.setTransform=function(D,H,K,W,re,te){D=isNaN(D)?1:D,H=isNaN(H)?0:H,K=isNaN(K)?0:K,W=isNaN(W)?1:W,re=isNaN(re)?0:re,te=isNaN(te)?0:te,this.ctx.transform=new c(D,H,K,W,re,te)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(D,H,K,W,re,te,ie,se,le){var Ce=this.pdf.getImageProperties(D),De=1,Ze=1,ke=1,ce=1;W!==void 0&&se!==void 0&&(ke=se/W,ce=le/re,De=Ce.width/W*se/W,Ze=Ce.height/re*le/re),te===void 0&&(te=H,ie=K,H=0,K=0),W!==void 0&&se===void 0&&(se=W,le=re),W===void 0&&se===void 0&&(se=Ce.width,le=Ce.height);for(var Me,be=this.ctx.transform.decompose(),ge=V(be.rotate.shx),Ye=new c,ze=(Ye=(Ye=(Ye=Ye.multiply(be.translate)).multiply(be.skew)).multiply(be.scale)).applyToRectangle(new l(te-H*ke,ie-K*ce,W*De,re*Ze)),Pe=v.call(this,ze),me=[],we=0;we<Pe.length;we+=1)me.indexOf(Pe[we])===-1&&me.push(Pe[we]);if(A(me),this.autoPaging)for(var qe=me[0],xt=me[me.length-1],pt=qe;pt<xt+1;pt++){this.pdf.setPage(pt);var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=pt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ur=pt===1?0:Mt+(pt-2)*Xt;if(this.ctx.clip_path.length!==0){var es=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Me,this.posX+this.margin[3],-ur+ft+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=es}var Qr=JSON.parse(JSON.stringify(ze));Qr=S([Qr],this.posX+this.margin[3],-ur+ft+this.ctx.prevPageLastElemOffset)[0];var mt=(pt>qe||pt<xt)&&b.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Xt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Qr.x,Qr.y,Qr.w,Qr.h,null,null,ge),mt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,ge)};var v=function(D,H,K){var W=[];H=H||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":W.push(Math.floor((D.y+re)/K)+1);break;case"arc":W.push(Math.floor((D.y+re-D.radius)/K)+1),W.push(Math.floor((D.y+re+D.radius)/K)+1);break;case"qct":var te=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);W.push(Math.floor((te.y+re)/K)+1),W.push(Math.floor((te.y+te.h+re)/K)+1);break;case"bct":var ie=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);W.push(Math.floor((ie.y+re)/K)+1),W.push(Math.floor((ie.y+ie.h+re)/K)+1);break;case"rect":W.push(Math.floor((D.y+re)/K)+1),W.push(Math.floor((D.y+D.h+re)/K)+1)}for(var se=0;se<W.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<W[se];)N.call(this);return W},N=function(){var D=this.fillStyle,H=this.strokeStyle,K=this.font,W=this.lineCap,re=this.lineWidth,te=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=H,this.font=K,this.lineCap=W,this.lineWidth=re,this.lineJoin=te},S=function(D,H,K){for(var W=0;W<D.length;W++)switch(D[W].type){case"bct":D[W].x2+=H,D[W].y2+=K;case"qct":D[W].x1+=H,D[W].y1+=K;default:D[W].x+=H,D[W].y+=K}return D},A=function(D){return D.sort(function(H,K){return H-K})},E=function(D,H){for(var K,W,re=this.fillStyle,te=this.strokeStyle,ie=this.lineCap,se=this.lineWidth,le=Math.abs(se*this.ctx.transform.scaleX),Ce=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),Ze=JSON.parse(JSON.stringify(this.path)),ke=[],ce=0;ce<Ze.length;ce++)if(Ze[ce].x!==void 0)for(var Me=v.call(this,Ze[ce]),be=0;be<Me.length;be+=1)ke.indexOf(Me[be])===-1&&ke.push(Me[be]);for(var ge=0;ge<ke.length;ge++)for(;this.pdf.internal.getNumberOfPages()<ke[ge];)N.call(this);if(A(ke),this.autoPaging)for(var Ye=ke[0],ze=ke[ke.length-1],Pe=Ye;Pe<ze+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=re,this.strokeStyle=te,this.lineCap=ie,this.lineWidth=le,this.lineJoin=Ce;var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=Pe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=Pe===1?0:qe+(Pe-2)*xt;if(this.ctx.clip_path.length!==0){var ct=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(K,this.posX+this.margin[3],-pt+we+this.ctx.prevPageLastElemOffset),C.call(this,D,!0),this.path=ct}if(W=JSON.parse(JSON.stringify(De)),this.path=S(W,this.posX+this.margin[3],-pt+we+this.ctx.prevPageLastElemOffset),H===!1||Pe===0){var ft=(Pe>Ye||Pe<ze)&&b.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,xt,null).clip().discardPath()),C.call(this,D,H),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=le,C.call(this,D,H),this.lineWidth=se;this.path=De},C=function(D,H){if((D!=="stroke"||H||!w.call(this))&&(D==="stroke"||H||!g.call(this))){for(var K,W,re=[],te=this.path,ie=0;ie<te.length;ie++){var se=te[ie];switch(se.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:se,deltas:[],abs:[]});break;case"lt":var le=re.length;if(te[ie-1]&&!isNaN(te[ie-1].x)&&(K=[se.x-te[ie-1].x,se.y-te[ie-1].y],le>0)){for(;le>=0;le--)if(re[le-1].close!==!0&&re[le-1].begin!==!0){re[le-1].deltas.push(K),re[le-1].abs.push(se);break}}break;case"bct":K=[se.x1-te[ie-1].x,se.y1-te[ie-1].y,se.x2-te[ie-1].x,se.y2-te[ie-1].y,se.x-te[ie-1].x,se.y-te[ie-1].y],re[re.length-1].deltas.push(K);break;case"qct":var Ce=te[ie-1].x+2/3*(se.x1-te[ie-1].x),De=te[ie-1].y+2/3*(se.y1-te[ie-1].y),Ze=se.x+2/3*(se.x1-se.x),ke=se.y+2/3*(se.y1-se.y),ce=se.x,Me=se.y;K=[Ce-te[ie-1].x,De-te[ie-1].y,Ze-te[ie-1].x,ke-te[ie-1].y,ce-te[ie-1].x,Me-te[ie-1].y],re[re.length-1].deltas.push(K);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(se)}}W=H?null:D==="stroke"?"stroke":"fill";for(var be=!1,ge=0;ge<re.length;ge++)if(re[ge].arc)for(var Ye=re[ge].abs,ze=0;ze<Ye.length;ze++){var Pe=Ye[ze];Pe.type==="arc"?F.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,H,!be):R.call(this,Pe.x,Pe.y),be=!0}else if(re[ge].close===!0)this.pdf.internal.out("h"),be=!1;else if(re[ge].begin!==!0){var me=re[ge].start.x,we=re[ge].start.y;B.call(this,re[ge].deltas,me,we),be=!0}W&&k.call(this,W),H&&z.call(this)}},I=function(D){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-K;case"top":return D+H-K;case"hanging":return D+H-2*K;case"middle":return D+H/2-K;default:return D}},P=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(H,K){this.colorStops.push([H,K])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(D,H,K,W,re,te,ie,se,le){for(var Ce=U.call(this,K,W,re,te),De=0;De<Ce.length;De++){var Ze=Ce[De];De===0&&(le?O.call(this,Ze.x1+D,Ze.y1+H):R.call(this,Ze.x1+D,Ze.y1+H)),Y.call(this,D,H,Ze.x2,Ze.y2,Ze.x3,Ze.y3,Ze.x4,Ze.y4)}se?z.call(this):k.call(this,ie)},k=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(D,H){this.pdf.internal.out(r(D)+" "+n(H)+" m")},M=function(D){var H;switch(D.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var K=this.pdf.getTextDimensions(D.text),W=I.call(this,D.y),re=P.call(this,W)-K.h,te=this.ctx.transform.applyToPoint(new o(D.x,W)),ie=this.ctx.transform.decompose(),se=new c;se=(se=(se=se.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale);for(var le,Ce,De,Ze=this.ctx.transform.applyToRectangle(new l(D.x,W,K.w,K.h)),ke=se.applyToRectangle(new l(D.x,re,K.w,K.h)),ce=v.call(this,ke),Me=[],be=0;be<ce.length;be+=1)Me.indexOf(ce[be])===-1&&Me.push(ce[be]);if(A(Me),this.autoPaging)for(var ge=Me[0],Ye=Me[Me.length-1],ze=ge;ze<Ye+1;ze++){this.pdf.setPage(ze);var Pe=ze===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[2],qe=we-this.margin[0],xt=this.pdf.internal.pageSize.width-this.margin[1],pt=xt-this.margin[3],ct=ze===1?0:me+(ze-2)*qe;if(this.ctx.clip_path.length!==0){var ft=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(le,this.posX+this.margin[3],-1*ct+Pe),C.call(this,"fill",!0),this.path=ft}var Mt=S([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-ct+Pe+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*D.scale),De=this.lineWidth,this.lineWidth=De*D.scale);var Xt=this.autoPaging!=="text";if(Xt||Mt.y+Mt.h<=we){if(Xt||Mt.y>=Pe&&Mt.x<=xt){var ur=Xt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||xt-Mt.x)[0],es=S([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-ct+Pe+this.ctx.prevPageLastElemOffset)[0],Qr=Xt&&(ze>ge||ze<Ye)&&b.call(this);Qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,qe,null).clip().discardPath()),this.pdf.text(ur,es.x,es.y,{angle:D.angle,align:H,renderingMode:D.renderingMode}),Qr&&this.pdf.restoreGraphicsState()}}else Mt.y<we&&(this.ctx.prevPageLastElemOffset+=we-Mt.y);D.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=De)}else D.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*D.scale),De=this.lineWidth,this.lineWidth=De*D.scale),this.pdf.text(D.text,te.x+this.posX,te.y+this.posY,{angle:D.angle,align:H,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=De)},R=function(D,H,K,W){K=K||0,W=W||0,this.pdf.internal.out(r(D+K)+" "+n(H+W)+" l")},B=function(D,H,K){return this.pdf.lines(D,H,K,null,null)},Y=function(D,H,K,W,re,te,ie,se){this.pdf.internal.out([t(a(K+D)),t(i(W+H)),t(a(re+D)),t(i(te+H)),t(a(ie+D)),t(i(se+H)),"c"].join(" "))},U=function(D,H,K,W){for(var re=2*Math.PI,te=Math.PI/2;H>K;)H-=re;var ie=Math.abs(K-H);ie<re&&W&&(ie=re-ie);for(var se=[],le=W?-1:1,Ce=H;ie>1e-5;){var De=Ce+le*Math.min(ie,te);se.push(Q.call(this,D,Ce,De)),ie-=Math.abs(De-Ce),Ce=De}return se},Q=function(D,H,K){var W=(K-H)/2,re=D*Math.cos(W),te=D*Math.sin(W),ie=re,se=-te,le=ie*ie+se*se,Ce=le+ie*re+se*te,De=4/3*(Math.sqrt(2*le*Ce)-Ce)/(ie*te-se*re),Ze=ie-De*se,ke=se+De*ie,ce=Ze,Me=-ke,be=W+H,ge=Math.cos(be),Ye=Math.sin(be);return{x1:D*Math.cos(H),y1:D*Math.sin(H),x2:Ze*ge-ke*Ye,y2:Ze*Ye+ke*ge,x3:ce*ge-Me*Ye,y3:ce*Ye+Me*ge,x4:D*Math.cos(K),y4:D*Math.sin(K)}},V=function(D){return 180*D/Math.PI},Z=function(D,H,K,W,re,te){var ie=D+.5*(K-D),se=H+.5*(W-H),le=re+.5*(K-re),Ce=te+.5*(W-te),De=Math.min(D,re,ie,le),Ze=Math.max(D,re,ie,le),ke=Math.min(H,te,se,Ce),ce=Math.max(H,te,se,Ce);return new l(De,ke,Ze-De,ce-ke)},J=function(D,H,K,W,re,te,ie,se){var le,Ce,De,Ze,ke,ce,Me,be,ge,Ye,ze,Pe,me,we,qe=K-D,xt=W-H,pt=re-K,ct=te-W,ft=ie-re,Mt=se-te;for(Ce=0;Ce<41;Ce++)ge=(Me=(De=D+(le=Ce/40)*qe)+le*((ke=K+le*pt)-De))+le*(ke+le*(re+le*ft-ke)-Me),Ye=(be=(Ze=H+le*xt)+le*((ce=W+le*ct)-Ze))+le*(ce+le*(te+le*Mt-ce)-be),Ce==0?(ze=ge,Pe=Ye,me=ge,we=Ye):(ze=Math.min(ze,ge),Pe=Math.min(Pe,Ye),me=Math.max(me,ge),we=Math.max(we,Ye));return new l(Math.round(ze),Math.round(Pe),Math.round(me-ze),Math.round(we-Pe))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,H,K=(D=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:H}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(ns.API),function(e){var t=function(o){var l,c,d,h,m,p,g,w,b,v;for(c=[],d=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>d;d+=4)(m=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(p=(m=((m=((m=((m=(m-(v=m%85))/85)-(b=m%85))/85)-(w=m%85))/85)-(g=m%85))/85)%85,c.push(p+33,g+33,w+33,b+33,v+33)):c.push(122);return function(N,S){for(var A=S;A>0;A--)N.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,h,m,p=String,g="length",w=255,b="charCodeAt",v="slice",N="replace";for(o[v](-2),o=o[v](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),d=[],h=0,m=(o+=l="uuuuu"[v](o[g]%5||5))[g];m>h;h+=5)c=52200625*(o[b](h)-33)+614125*(o[b](h+1)-33)+7225*(o[b](h+2)-33)+85*(o[b](h+3)-33)+(o[b](h+4)-33),d.push(w&c>>24,w&c>>16,w&c>>8,w&c);return function(S,A){for(var E=A;E>0;E--)S.pop()}(d,l[g]),p.fromCharCode.apply(p,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=rk(l)).reduce(function(d,h){return d+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}}(ns.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,h){var m=new XMLHttpRequest,p=0,g=function(w){var b=w.length,v=[],N=String.fromCharCode;for(p=0;p<b;p+=1)v.push(N(255&w.charCodeAt(p)));return v.join("")};if(m.open("GET",c,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?h(g(this.responseText)):h(void 0)}),m.send(null),d&&m.status===200)return g(m.responseText)}(a,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(ns.API),function(e){function t(){return(vs.html2canvas?Promise.resolve(vs.html2canvas):vu(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(vs.DOMPurify?Promise.resolve(vs.DOMPurify):vu(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Vn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var d=document.createElement(l);for(var h in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[h]=c.style[h];return d},i=function l(c,d){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),d);return(h=h.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var g=0;g<h.length;++g){var w=h[g],b=w.src.find(function(v){return v.format==="truetype"});b&&d.addFont(b.url,w.ref.name,w.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,d.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,h){return Math.floor(d*h/72*96)}return this.then(function(){(l=l||ns.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,h){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,h){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(h,m){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(p){return d.updateProgress(null,h),p}).then(h,m).then(function(p){return d.updateProgress(1),p})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),c&&(c=c.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),p=d.call(m,l,c);return o.convert(p,h.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ns.getPageSize=function(l,c,d){if(Vn(l)==="object"){var h=l;l=h.orientation,c=h.unit||c,d=h.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var m,p=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var w,b=0,v=0;if(g.hasOwnProperty(p))b=g[p][1]/m,v=g[p][0]/m;else try{b=d[1],v=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",v>b&&(w=v,v=b,b=w);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",b>v&&(w=v,v=b,b=w)}return{width:v,height:b,unit:c,k:m,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(O3):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(ns.API),ns.API.addJS=function(e){return c7=e,this.internal.events.subscribe("postPutResources",function(){lj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(lj+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),l7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+c7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){lj!==void 0&&l7!==void 0&&this.internal.out("/Names <</JavaScript "+lj+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(i=0;i<d;i++){var m=r.internal.newObject();h.push(m);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(ns.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,d=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(m){for(var p,g=256*m.charCodeAt(4)+m.charCodeAt(5),w=m.length,b={width:0,height:0,numcomponents:1},v=4;v<w;v+=2){if(v+=g,t.indexOf(m.charCodeAt(v+1))!==-1){p=256*m.charCodeAt(v+5)+m.charCodeAt(v+6),b={width:256*m.charCodeAt(v+7)+m.charCodeAt(v+8),height:p,numcomponents:m.charCodeAt(v+9)};break}g=256*m.charCodeAt(v+2)+m.charCodeAt(v+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return h}}(ns.API),ns.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=PMe(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,h=i.depth;a=d&&c===1?function(P){for(var F=P.width,k=P.height,z=P.data,O=P.palette,M=P.depth,R=!1,B=[],Y=[],U=void 0,Q=!1,V=0,Z=0;Z<O.length;Z++){var J=fF(O[Z],4),ae=J[0],D=J[1],H=J[2],K=J[3];B.push(ae,D,H),K!=null&&(K===0?(V++,Y.length<1&&Y.push(Z)):K<255&&(Q=!0))}if(Q||V>1){R=!0,Y=void 0;var W=F*k;U=new Uint8Array(W);for(var re=new DataView(z.buffer),te=0;te<W;te++){var ie=I3(re,te,M),se=fF(O[ie],4)[3];U[te]=se}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:z,alphaBytes:U,needSMask:R,palette:B,mask:Y}}(i):c===2||c===4?function(P){for(var F=P.data,k=P.width,z=P.height,O=P.channels,M=P.depth,R=O===2?"DeviceGray":"DeviceRGB",B=O-1,Y=k*z,U=B,Q=Y*U,V=1*Y,Z=Math.ceil(Q*M/8),J=Math.ceil(V*M/8),ae=new Uint8Array(Z),D=new Uint8Array(J),H=new DataView(F.buffer),K=new DataView(ae.buffer),W=new DataView(D.buffer),re=!1,te=0;te<Y;te++){for(var ie=te*O,se=0;se<U;se++)y7(K,I3(H,ie+se,M),te*U+se,M);var le=I3(H,ie+U,M);le<(1<<M)-1&&(re=!0),y7(W,le,1*te,M)}return{colorSpace:R,colorsPerPixel:B,colorBytes:ae,alphaBytes:D,needSMask:re}}(i):function(P){var F=P.data,k=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:k,colorsPerPixel:k==="DeviceGray"?1:3,colorBytes:F instanceof Uint8Array?F:new Uint8Array(F.buffer),needSMask:!1}}(i);var m,p,g,w=a,b=w.colorSpace,v=w.colorsPerPixel,N=w.colorBytes,S=w.alphaBytes,A=w.needSMask,E=w.palette,C=w.mask,I=null;return n!==ns.API.image_compression.NONE&&typeof rk=="function"?(I=function(P){var F;switch(P){case ns.API.image_compression.FAST:F=11;break;case ns.API.image_compression.MEDIUM:F=13;break;case ns.API.image_compression.SLOW:F=14;break;default:F=12}return F}(n),m=this.decode.FLATE_DECODE,p="/Predictor ".concat(I," "),e=f7(N,o*v,v,n),A&&(g=f7(S,o,1,n))):(m=void 0,p="",e=N,A&&(g=S)),p+="/Colors ".concat(v," /BitsPerComponent ").concat(h," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:m,decodeParameters:p,transparency:C,palette:E,sMask:g,predictor:I,width:o,height:l,bitsPerComponent:h,colorSpace:b}}},function(e){e.processGIF89A=function(t,r,n,a){var i=new JMe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},h=new L3(100).encode(d,100);return e.processJPEG.call(this,h,r,n,a)},e.processGIF87A=e.processGIF89A}(ns.API),pu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){ea.log("bit decode error:"+r)}},pu.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},pu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},pu.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},pu.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,h=n*this.width*4+4*a;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=d}this.pos+=e}},pu.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,h=a*this.width*4+4*i;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},pu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},pu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},pu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new pu(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new L3(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}(ns.API),b7.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new b7(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new L3(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}(ns.API),ns.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var h=n[d],m=n[d+1],p=n[d+2],g=n[d+3];i[l++]=h,i[l++]=m,i[l++]=p,o[c++]=g}var w=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ns.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Px=ns.API,cj=Px.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,h=d.fof?d.fof:1,m=t.doKerning!==!1,p=0,g=e.length,w=0,b=l[0]||c,v=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(p=m&&Vn(d[n])==="object"&&!isNaN(parseInt(d[n][w],10))?d[n][w]/h:0,v.push((l[n]||b)/c+p)),w=n;return v},d7=Px.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Px.processArabic&&(e=Px.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:cj.apply(this,arguments).reduce(function(i,o){return i+o},0)},u7=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},h7=function(e,t,r){r||(r={});var n,a,i,o,l,c,d,h=[],m=[h],p=r.textIndent||0,g=0,w=0,b=e.split(" "),v=cj.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var N=Array(c).join(" "),S=[];b.map(function(E){(E=E.split(/\s*\n/)).length>1?S=S.concat(E.map(function(C,I){return(I&&C.length?`
`:"")+C})):S.push(E[0])}),b=S,c=d7.apply(this,[N,r])}for(i=0,o=b.length;i<o;i++){var A=0;if(n=b[i],c&&n[0]==`
`&&(n=n.substr(1),A=1),p+g+(w=(a=cj.apply(this,[n,r])).reduce(function(E,C){return E+C},0))>t||A){if(w>t){for(l=u7.apply(this,[n,a,t-(p+g),t]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);w=a.slice(n.length-(h[0]?h[0].length:0)).reduce(function(E,C){return E+C},0)}else h=[n];m.push(h),p=w+c,g=v}else h.push(n),p+=g+w,g=v}return d=c?function(E,C){return(C?N:"")+E.join(" ")}:function(E){return E.join(" ")},m.map(d)},Px.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),p="Unicode";return m.metadata[p]?{widths:m.metadata[p].widths||{0:1},kerning:m.metadata[p].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(h7.apply(this,[n[l],o,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var o=function(p){return"0x"+parseInt(p,10).toString(16)},l=e.__fontmetrics__.compress=function(p){var g,w,b,v,N=["{"];for(var S in p){if(g=p[S],isNaN(parseInt(S,10))?w="'"+S+"'":(S=parseInt(S,10),w=(w=o(S).slice(2)).slice(0,-1)+a[w.slice(-1)]),typeof g=="number")g<0?(b=o(g).slice(3),v="-"):(b=o(g).slice(2),v=""),b=v+b.slice(0,-1)+a[b.slice(-1)];else{if(Vn(g)!=="object")throw new Error("Don't know what to do with value type "+Vn(g)+".");b=l(g)}N.push(w+b)}return N.push("}"),N.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,w,b,v,N={},S=1,A=N,E=[],C="",I="",P=p.length-1,F=1;F<P;F+=1)(v=p[F])=="'"?g?(b=g.join(""),g=void 0):g=[]:g?g.push(v):v=="{"?(E.push([A,b]),A={},b=void 0):v=="}"?((w=E.pop())[0][w[1]]=A,b=void 0,A=w[0]):v=="-"?S=-1:b===void 0?n.hasOwnProperty(v)?(C+=n[v],b=parseInt(C,16)*S,S=1,C=""):C+=v:n.hasOwnProperty(v)?(I+=n[v],A[b]=parseInt(I,16)*S,S=1,b=void 0,I=""):I+=v;return N},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var g=p.font,w=m.Unicode[g.postScriptName];w&&(g.metadata.Unicode={},g.metadata.Unicode.widths=w.widths,g.metadata.Unicode.kerning=w.kerning);var b=h.Unicode[g.postScriptName];b&&(g.metadata.Unicode.encoding=b,g.encoding=b.codePages[0])}])}(ns.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Dj(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(ns),ns.API.addSvgAsImage=function(e,t,r,n,a,i,o,l){if(isNaN(t)||isNaN(r))throw ea.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw ea.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(vs.canvg?Promise.resolve(vs.canvg):vu(()=>import("./index.es-rgt75UUl.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(d,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(h)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,o,l)})},ns.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},ns.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,h=0,m=0;function p(w,b){var v,N=!1;for(v=0;v<w.length;v+=1)w[v]===b&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=l.length;for(m=0;m<g;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Vn(e)==="object"){for(a in e)if(i=e[a],p(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(h=0;h<i[d].length;h+=1)typeof i[d][h]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,b=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?b.push("/"+w+" /"+r[w].value):b.push("/"+w+" "+r[w].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ns.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],m=0,p=i.length;m<p;++m){if(l=o.metadata.characterToGlyph(i.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},n=function(i){var o,l,c,d,h,m,p;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,p=(l=Object.keys(i).sort(function(g,w){return g-w})).length;m<p;m++)o=l[m],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",w=0;w<p.length;w++)g+=String.fromCharCode(p[w]);var b=d();h({data:g,addLength1:!0,objectId:b}),c("endobj");var v=d();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var N=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+zx(l.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var S=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+zx(l.fontName)),c("/FontDescriptor "+N+" 0 R"),c("/W "+e.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+zx(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,p="",g=0;g<m.length;g++)p+=String.fromCharCode(m[g]);var w=d();h({data:p,addLength1:!0,objectId:w}),c("endobj");var b=d();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var v=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+zx(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var N=0;N<l.metadata.hmtx.widths.length;N++)l.metadata.hmtx.widths[N]=parseInt(l.metadata.hmtx.widths[N]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+zx(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,h=i.options||{},m=i.mutex||{},p=m.pdfEscape,g=m.activeFontKey,w=m.fonts,b=g,v="",N=0,S="",A=w[b].encoding;if(w[b].encoding!=="Identity-H")return{text:l,x:c,y:d,options:h,mutex:m};for(S=l,b=g,Array.isArray(l)&&(S=l[0]),N=0;N<S.length;N+=1)w[b].metadata.hasOwnProperty("cmap")&&(o=w[b].metadata.cmap.unicode.codeMap[S[N].charCodeAt(0)]),o||S[N].charCodeAt(0)<256&&w[b].metadata.hasOwnProperty("Unicode")?v+=S[N]:v+="";var E="";return parseInt(b.slice(1))<14||A==="WinAnsiEncoding"?E=p(v,b).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(E=r(v,w[b])),m.isHex=!0,{text:E,x:c,y:d,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(ns),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ns.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,d,h,m=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,A=0;this.__bidiEngine__={};var E=function(O){var M=O.charCodeAt(),R=M>>8,B=b[R];return B!==void 0?m[256*B+(255&M)]:R===252||R===253?"AL":N.test(R)?"L":R===8?"R":"N"},C=function(O){for(var M,R=0;R<O.length;R++){if((M=E(O.charAt(R)))==="L")return!1;if(M==="R")return!0}return!1},I=function(O,M,R,B){var Y,U,Q,V,Z=M[B];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(Z="AN");break;case"AL":S=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":B<1||B+1>=M.length||(Y=R[B-1])!=="EN"&&Y!=="AN"||(U=M[B+1])!=="EN"&&U!=="AN"?Z="N":S&&(U="AN"),Z=U===Y?U:"N";break;case"ES":Z=(Y=B>0?R[B-1]:"B")==="EN"&&B+1<M.length&&M[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&R[B-1]==="EN"){Z="EN";break}if(S){Z="N";break}for(Q=B+1,V=M.length;Q<V&&M[Q]==="ET";)Q++;Z=Q<V&&M[Q]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(V=M.length,Q=B+1;Q<V&&M[Q]==="NSM";)Q++;if(Q<V){var J=O[B],ae=J>=1425&&J<=2303||J===64286;if(Y=M[Q],ae&&(Y==="R"||Y==="AL")){Z="R";break}}}Z=B<1||(Y=M[B-1])==="B"?"N":R[B-1];break;case"B":S=!1,a=!0,Z=A;break;case"S":i=!0,Z="N"}return Z},P=function(O,M,R){var B=O.split("");return R&&F(B,R,{hiLevel:A}),B.reverse(),M&&M.reverse(),B.join("")},F=function(O,M,R){var B,Y,U,Q,V,Z=-1,J=O.length,ae=0,D=[],H=A?g:p,K=[];for(S=!1,a=!1,i=!1,Y=0;Y<J;Y++)K[Y]=E(O[Y]);for(U=0;U<J;U++){if(V=ae,D[U]=I(O,K,D,U),B=240&(ae=H[V][w[D[U]]]),ae&=15,M[U]=Q=H[ae][5],B>0)if(B===16){for(Y=Z;Y<U;Y++)M[Y]=1;Z=-1}else Z=-1;if(H[ae][6])Z===-1&&(Z=U);else if(Z>-1){for(Y=Z;Y<U;Y++)M[Y]=Q;Z=-1}K[U]==="B"&&(M[U]=0),R.hiLevel|=Q}i&&function(W,re,te){for(var ie=0;ie<te;ie++)if(W[ie]==="S"){re[ie]=A;for(var se=ie-1;se>=0&&W[se]==="WS";se--)re[se]=A}}(K,M,J)},k=function(O,M,R,B,Y){if(!(Y.hiLevel<O)){if(O===1&&A===1&&!a)return M.reverse(),void(R&&R.reverse());for(var U,Q,V,Z,J=M.length,ae=0;ae<J;){if(B[ae]>=O){for(V=ae+1;V<J&&B[V]>=O;)V++;for(Z=ae,Q=V-1;Z<Q;Z++,Q--)U=M[Z],M[Z]=M[Q],M[Q]=U,R&&(U=R[Z],R[Z]=R[Q],R[Q]=U);ae=V}ae++}}},z=function(O,M,R){var B=O.split(""),Y={hiLevel:A};return R||(R=[]),F(B,R,Y),function(U,Q,V){if(V.hiLevel!==0&&h)for(var Z,J=0;J<U.length;J++)Q[J]===1&&(Z=v.indexOf(U[J]))>=0&&(U[J]=v[Z+1])}(B,R,Y),k(2,B,M,R,Y),k(1,B,M,R,Y),B.join("")};return this.__bidiEngine__.doBidiReorder=function(O,M,R){if(function(Y,U){if(U)for(var Q=0;Q<Y.length;Q++)U[Q]=Q;l===void 0&&(l=C(Y)),d===void 0&&(d=C(Y))}(O,M),o||!c||d)if(o&&c&&l^d)A=l?1:0,O=P(O,M,R);else if(!o&&c&&d)A=l?1:0,O=z(O,M,R),O=P(O,M);else if(!o||l||c||d){if(o&&!c&&l^d)O=P(O,M),l?(A=0,O=z(O,M,R)):(A=1,O=z(O,M,R),O=P(O,M));else if(o&&l&&!c&&d)A=1,O=z(O,M,R),O=P(O,M);else if(!o&&!c&&l^d){var B=h;l?(A=1,O=z(O,M,R),A=0,h=!1,O=z(O,M,R),h=B):(A=0,O=z(O,M,R),O=P(O,M),A=1,h=!1,O=z(O,M,R),h=B,O=P(O,M))}}else A=0,O=z(O,M,R);else A=l?1:0,O=z(O,M,R);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,c=O.isOutputVisual,l=O.isInputRtl,d=O.isOutputRtl,h=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(ns),ns.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Dp(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new mFe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new eFe(this.contents),this.head=new rFe(this),this.name=new oFe(this),this.cmap=new _Q(this),this.toUnicode={},this.hhea=new sFe(this),this.maxp=new lFe(this),this.hmtx=new cFe(this),this.post=new aFe(this),this.os2=new nFe(this),this.loca=new fFe(this),this.glyf=new dFe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Xu,Dp=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),eFe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,d,h,m,p,g,w,b;for(b in g=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(g)/c),o=Math.floor(m/c),h=16*g-m,(a=new Dp).writeInt(this.scalarType),a.writeShort(g),a.writeShort(m),a.writeShort(o),a.writeShort(h),i=16*g,d=a.pos+i,l=null,w=[],r)for(p=r[b],a.writeString(b),a.writeInt(e(p)),a.writeInt(d),a.writeInt(p.length),w=w.concat(p),b==="head"&&(l=d),d+=p.length;d%4;)w.push(0),d++;return a.write(w),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=kQ.call(r);r.length%4;)r.push(0);for(i=new Dp(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),tFe={}.hasOwnProperty,Kh=function(e,t){for(var r in t)tFe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Xu=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var rFe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kh(e,Xu),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Dp).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),w7=function(){function e(t,r){var n,a,i,o,l,c,d,h,m,p,g,w,b,v,N,S,A;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),p=g/2,t.pos+=6,i=function(){var E,C;for(C=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)C.push(t.readUInt16());return C}(),t.pos+=2,b=function(){var E,C;for(C=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)C.push(t.readUInt16());return C}(),d=function(){var E,C;for(C=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)C.push(t.readUInt16());return C}(),h=function(){var E,C;for(C=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)C.push(t.readUInt16());return C}(),a=(this.length-t.pos+this.offset)/2,l=function(){var E,C;for(C=[],c=E=0;0<=a?E<a:E>a;c=0<=a?++E:--E)C.push(t.readUInt16());return C}(),c=N=0,A=i.length;N<A;c=++N)for(v=i[c],n=S=w=b[c];w<=v?S<=v:S>=v;n=w<=v?++S:--S)h[c]===0?o=n+d[c]:(o=l[h[c]/2+(n-w)-(p-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=m}return e.encode=function(t,r){var n,a,i,o,l,c,d,h,m,p,g,w,b,v,N,S,A,E,C,I,P,F,k,z,O,M,R,B,Y,U,Q,V,Z,J,ae,D,H,K,W,re,te,ie,se,le,Ce,De;switch(B=new Dp,o=Object.keys(t).sort(function(Ze,ke){return Ze-ke}),r){case"macroman":for(b=0,v=function(){var Ze=[];for(w=0;w<256;++w)Ze.push(0);return Ze}(),S={0:0},i={},Y=0,Z=o.length;Y<Z;Y++)S[se=t[a=o[Y]]]==null&&(S[se]=++b),i[a]={old:t[a],new:S[t[a]]},v[a]=S[t[a]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(v),{charMap:i,subtable:B.data,maxGlyphID:b+1};case"unicode":for(M=[],m=[],A=0,S={},n={},N=d=null,U=0,J=o.length;U<J;U++)S[C=t[a=o[U]]]==null&&(S[C]=++A),n[a]={old:C,new:S[C]},l=S[C]-a,N!=null&&l===d||(N&&m.push(N),M.push(a),d=l),N=a;for(N&&m.push(N),m.push(65535),M.push(65535),z=2*(k=M.length),F=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(F/2)/Math.LN2,P=2*k-F,c=[],I=[],g=[],w=Q=0,ae=M.length;Q<ae;w=++Q){if(O=M[w],h=m[w],O===65535){c.push(0),I.push(0);break}if(O-(R=n[O].new)>=32768)for(c.push(0),I.push(2*(g.length+k-w)),a=V=O;O<=h?V<=h:V>=h;a=O<=h?++V:--V)g.push(n[a].new);else c.push(R-O),I.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*k+2*g.length),B.writeUInt16(0),B.writeUInt16(z),B.writeUInt16(F),B.writeUInt16(p),B.writeUInt16(P),te=0,D=m.length;te<D;te++)a=m[te],B.writeUInt16(a);for(B.writeUInt16(0),ie=0,H=M.length;ie<H;ie++)a=M[ie],B.writeUInt16(a);for(le=0,K=c.length;le<K;le++)l=c[le],B.writeUInt16(l);for(Ce=0,W=I.length;Ce<W;Ce++)E=I[Ce],B.writeUInt16(E);for(De=0,re=g.length;De<re;De++)b=g[De],B.writeUInt16(b);return{charMap:n,subtable:B.data,maxGlyphID:A+1}}},e}(),_Q=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kh(e,Xu),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new w7(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=w7.encode(t,r),(a=new Dp).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),sFe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kh(e,Xu),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),nFe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kh(e,Xu),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),aFe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kh(e,Xu),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),iFe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},oFe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kh(e,Xu),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,o,l,c,d,h,m,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=h=0,m=n.length;h<m;i=++h)a=n[i],t.pos=a.offset,d=t.readString(a.length),o=new iFe(d,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),lFe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kh(e,Xu),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),cFe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kh(e,Xu),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)h.push(t.readInt16());return h}(),this.widths=(function(){var d,h,m,p;for(p=[],d=0,h=(m=this.metrics).length;d<h;d++)i=m[d],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),kQ=[].slice,dFe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kh(e,Xu),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,o,l,c,d,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Dp(r.read(a))).readShort(),d=l.readShort(),m=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=o===-1?new hFe(l,d,m,c,h):new uFe(l,o,d,m,c,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=t[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),uFe=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),hFe=function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Dp(kQ.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),fFe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Kh(e,Xu),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<r.length&&r[i]==o){++i,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var d=new Array(4*n.length),h=0;h<n.length;++h)d[4*h+3]=255&n[h],d[4*h+2]=(65280&n[h])>>8,d[4*h+1]=(16711680&n[h])>>16,d[4*h]=(4278190080&n[h])>>24;return d},e}(),mFe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,d,h,m,p,g,w,b,v,N;for(a in n=_Q.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},N=n.charMap)g[(c=N[a]).old]=c.new;for(w in p=n.maxGlyphID,o)w in g||(g[w]=p++);return h=function(S){var A,E;for(A in E={},S)E[S[A]]=A;return E}(g),m=Object.keys(h).sort(function(S,A){return S-A}),b=function(){var S,A,E;for(E=[],S=0,A=m.length;S<A;S++)l=m[S],E.push(h[l]);return E}(),i=this.font.glyf.encode(o,b,g),d=this.font.loca.encode(i.offsets,b),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();ns.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();function TQ(e,t,r,n,a){n=n||{};var i=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():i,d=l*c,h=/\r\n|\r|\n/g,m="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof e=="string"?e.split(h):e,p=m.length||1),r+=l*(2-i),n.valign==="middle"?r-=p/2*d:n.valign==="bottom"&&(r-=p*d),n.halign==="center"||n.halign==="right"){var g=l;if(n.halign==="center"&&(g*=.5),m&&p>=1){for(var w=0;w<m.length;w++)a.text(m[w],t-a.getStringUnitWidth(m[w])*g,r),r+=d;return a}t-=a.getStringUnitWidth(e)*g}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var N7={},jy=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:N7=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(a=this.jsPDFDocument).setTextColor.apply(a,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return N7||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),dk=function(e,t){return dk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},dk(e,t)};function DQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");dk(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var PQ=function(e){DQ(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function pFe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function gFe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function $5(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function OQ(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var o=RQ(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function RQ(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function g4(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function IQ(e,t){var r=g4(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function xFe(e,t,r,n,a){var i={},o=1.3333333333333333,l=M3(t,function(A){return a.getComputedStyle(A).backgroundColor});l!=null&&(i.fillColor=l);var c=M3(t,function(A){return a.getComputedStyle(A).color});c!=null&&(i.textColor=c);var d=vFe(n,r);d&&(i.cellPadding=d);var h="borderTopColor",m=o*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var g=(parseFloat(p)||0)/m;g&&(i.lineWidth=g)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var w=M3(t,function(A){return a.getComputedStyle(A)[h]});w!=null&&(i.lineColor=w);var b=["left","right","center","justify"];b.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),b=["middle","bottom","top"],b.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/o);var N=yFe(n);N&&(i.fontStyle=N);var S=(n.fontFamily||"").toLowerCase();return e.indexOf(S)!==-1&&(i.font=S),i}function yFe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function M3(e,t){var r=LQ(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function LQ(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:LQ(e.parentElement,t):r}function vFe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(l){return parseInt(l||"0")/n}),o=g4(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function MQ(e,t,r,n,a){var i,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),h=[],m=[],p=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:p};for(var g=0;g<l.rows.length;g++){var w=l.rows[g],b=(o=(i=w==null?void 0:w.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),v=bFe(c,d,r,w,n,a);v&&(b==="thead"?h.push(v):b==="tfoot"?p.push(v):m.push(v))}return{head:h,body:m,foot:p}}function bFe(e,t,r,n,a,i){for(var o=new PQ(n),l=0;l<n.cells.length;l++){var c=n.cells[l],d=r.getComputedStyle(c);if(a||d.display!=="none"){var h=void 0;i&&(h=xFe(e,c,t,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:wFe(c)})}}var m=r.getComputedStyle(n);if(o.length>0&&(a||m.display!=="none"))return o}function wFe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function NFe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Tf(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function FQ(e,t){var r=new jy(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();NFe(a,n,t);var i=Tf({},a,n,t),o;typeof window<"u"&&(o=window);var l=jFe(a,n,t),c=SFe(a,n,t),d=AFe(r,i),h=CFe(r,i,o);return{id:t.tableId,content:h,hooks:c,styles:l,settings:d}}function jFe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=e[c],h=t[c],m=r[c];n.columnStyles=Tf({},d,h,m)}else{var p=[e,t,r],g=p.map(function(w){return w[c]||{}});n[c]=Tf({},g[0],g[1],g[2])}},i=0,o=Object.keys(n);i<o.length;i++){var l=o[i];a(l)}return n}function SFe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var l=o[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function AFe(e,t){var r,n,a,i,o,l,c,d,h,m,p,g,w=g4(t.margin,40/e.scaleFactor()),b=(r=EFe(e,t.startY))!==null&&r!==void 0?r:w.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var N;t.showHead===!0?N="everyPage":t.showHead===!1?N="never":N=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var S=(i=t.useCss)!==null&&i!==void 0?i:!1,A=t.theme||(S?"plain":"striped"),E=!!t.horizontalPageBreak,C=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:S,theme:A,startY:b,margin:w,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:N,showFoot:v,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:E,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(g=t.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function EFe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function CFe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=MQ(e,t.html,r,o,t.useCss)||{};n=l.head||n,a=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||_Fe(n,a,i);return{columns:c,head:n,body:a,foot:i}}function _Fe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(n)?d=a.length:d=i+(c>0?"_".concat(c):"");var h={dataKey:d};a.push(h)}}),a}var uk=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),kFe=function(e){DQ(t,e);function t(r,n,a,i,o,l){var c=e.call(this,r,n,l)||this;return c.cell=a,c.row=i,c.column=o,c.section=i.section,c}return t}(uk),TFe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],h=new kFe(t,this,n,a,i,o),m=d(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new uk(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new uk(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),BQ=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof PQ&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var o=n.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>a?d:a},0)},e}(),UQ=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=g4(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),DFe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function PFe(e,t){OFe(e,t);var r=[],n=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=hk(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=hk(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),IFe(t),LFe(t,e),RFe(t)}function OFe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=IQ(e,t);t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var h=t.hooks.didParseCell;t.callCellHooks(e,h,d,i,c,null);var m=d.padding("horizontal");d.contentWidth=$5(d.text,d.styles,e)+m;var p=$5(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=p+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var g=10/r;d.minWidth=d.styles.minCellWidth||g,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var h=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(c.minWidth=m,c.wrappedWidth=m)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function hk(e,t,r){for(var n=t,a=e.reduce(function(g,w){return g+w.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],l=o.wrappedWidth/a,c=n*l,d=o.width+c,h=r(o),m=d<h?h:d;t-=m-o.width,o.width=m}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(g){return t<0?g.width>r(g):!0});p.length&&(t=hk(p,t,r))}return t}function RFe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var h=i.cells[c.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var m=n.length-a,p=h.rowSpan>m?m:h.rowSpan;t[c.index]={cell:h,left:p,row:i}}}}}function IFe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])i+=c.width,delete n.cells[c.index];else if(a){var d=a;delete n.cells[c.index],a=null,d.width=c.width+i}else{var d=n.cells[c.index];if(!d)continue;if(o=d.colSpan,i=0,d.colSpan>1){a=d,i+=c.width;continue}d.width=c.width+i}}}function LFe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var h=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,h+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=j7(d.text,h,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=j7(d.text,h,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var m=d.styles.overflow(d.text,h);typeof m=="string"?d.text=[m]:d.text=m}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<p*d.rowSpan?r={height:p,count:d.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>i.height&&(i.height=p)}}r.count--}}function j7(e,t,r,n,a){return e.map(function(i){return MFe(i,t,r,n,a)})}function MFe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=$5(e,r,n))return e;for(;t<$5(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function $Q(e,t){var r=new jy(e),n=FFe(t,r.scaleFactor()),a=new TFe(t,n);return PFe(r,a),r.applyStyles(r.userStyles),a}function FFe(e,t){var r=e.content,n=UFe(r.columns);if(r.head.length===0){var a=S7(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=S7(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,o=e.styles;return{columns:n,head:F3("head",r.head,n,o,i,t),body:F3("body",r.body,n,o,i,t),foot:F3("foot",r.foot,n,o,i,t)}}function F3(e,t,r,n,a,i){var o={},l=t.map(function(c,d){for(var h=0,m={},p=0,g=0,w=0,b=r;w<b.length;w++){var v=b[w];if(o[v.index]==null||o[v.index].left===0)if(g===0){var N=void 0;Array.isArray(c)?N=c[v.index-p-h]:N=c[v.dataKey];var S={};typeof N=="object"&&!Array.isArray(N)&&(S=(N==null?void 0:N.styles)||{});var A=$Fe(e,v,d,a,n,i,S),E=new UQ(N,A,e);m[v.dataKey]=E,m[v.index]=E,g=E.colSpan-1,o[v.index]={left:E.rowSpan-1,times:g}}else g--,p++;else o[v.index].left--,g=o[v.index].times,h++}return new BQ(c,d,e,m)});return l}function S7(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=BFe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function BFe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function UFe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new DFe(a,t,r)})}function $Fe(e,t,r,n,a,i,o){var l=gFe(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var d=Tf({},l.table,l[e],a.styles,c),h=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},m=e==="body"?h:{},p=e==="body"&&r%2===0?Tf({},l.alternateRow,a.alternateRowStyles):{},g=pFe(i),w=Tf({},g,d,p,m);return Tf(w,o)}function VFe(e,t,r){var n;r===void 0&&(r={});var a=IQ(e,t),i=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var g=t.columns.find(function(w){return w.dataKey===p||w.index===p});g&&!i.has(g.index)&&(i.set(g.index,!0),o.push(g.index),l.push(t.columns[g.index]),a-=g.wrappedWidth)});for(var d=!0,h=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(i.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(d||a>=m)d=!1,o.push(h),l.push(t.columns[h]),a-=m;else break;h++}return{colIndexes:o,columns:l,lastIndex:h-1}}function qFe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=VFe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function VQ(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(p,g){return p+g.height},0);l+=d}var h=new jy(e);(r.pageBreak==="always"||r.startY!=null&&l>h.pageSize().height)&&(zQ(h),i.y=a.top),t.callWillDrawPageHooks(h,i);var m=Tf({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?zFe(h,t,m,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(p){return Zf(h,t,p,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(p,g){var w=g===t.body.length-1;V5(h,t,p,w,m,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(p){return Zf(h,t,p,i,t.columns)})),OQ(h,t,m,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function zFe(e,t,r,n){var a=qFe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,h){e.applyStyles(e.userStyles),h>0?vb(e,t,r,n,d.columns,!0):A7(e,t,n,d.columns),HFe(e,t,r,n,d.columns),B3(e,t,n,d.columns)});else for(var o=-1,l=a[0],c=function(){var d=o;if(l){e.applyStyles(e.userStyles);var h=l.columns;o>=0?vb(e,t,r,n,h,!0):A7(e,t,n,h),d=E7(e,t,o+1,n,h),B3(e,t,n,h)}var m=d-o;a.slice(1).forEach(function(p){e.applyStyles(e.userStyles),vb(e,t,r,n,p.columns,!0),E7(e,t,o+1,n,p.columns,m),B3(e,t,n,p.columns)}),o=d};o<t.body.length-1;)c()}function A7(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Zf(e,t,i,r,n)})}function HFe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var l=o===t.body.length-1;V5(e,t,i,l,r,n,a)})}function E7(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(r+i,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,d){var h=r+d===t.body.length-1,m=qQ(e,t,h,n);c.canEntireRowFit(m,a)&&(Zf(e,t,c,n,a),l=r+d)}),l}function B3(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Zf(e,t,i,r,n)})}function WFe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function GFe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var h=new UQ(d.raw,d.styles,d.section);h=Tf(h,d),h.text=[];var m=WFe(d,t,n);d.text.length>m&&(h.text=d.text.splice(m,d.text.length));var p=n.scaleFactor(),g=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(p,g),d.contentHeight>=t&&(d.contentHeight=t,h.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),h.contentHeight=h.getContentHeight(p,g),h.contentHeight>i&&(i=h.contentHeight),a[c.index]=h}}var w=new BQ(e.raw,-1,e.section,a,!0);w.height=i;for(var b=0,v=r.columns;b<v.length;b++){var c=v[b],h=w.cells[c.index];h&&(h.height=w.height);var d=e.cells[c.index];d&&(d.height=e.height)}return w}function YFe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,l=a-o;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var h=t.hasRowSpan(n.columns),m=t.getMaxCellHeight(n.columns)>l;return m?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function V5(e,t,r,n,a,i,o){var l=qQ(e,t,n,i);if(r.canEntireRowFit(l,o))Zf(e,t,r,i,o);else if(YFe(e,r,l,t)){var c=GFe(r,l,t,e);Zf(e,t,r,i,o),vb(e,t,a,i,o),V5(e,t,c,n,a,i,o)}else vb(e,t,a,i,o),V5(e,t,r,n,a,i,o)}function Zf(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(d===!1){n.x+=l.width;continue}KFe(e,c,n);var h=c.getTextPos();TQ(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function KFe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=RQ(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),QFe(e,t,r,n.lineWidth))}function QFe(e,t,r,n){var a,i,o,l;n.top&&(a=r.x,i=r.y,o=r.x+t.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,o,l)),n.bottom&&(a=r.x,i=r.y+t.height,o=r.x+t.width,l=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,o,l)),n.left&&(a=r.x,i=r.y,o=r.x,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,i,o,l)),n.right&&(a=r.x+t.width,i=r.y,o=r.x+t.width,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,i,o,l));function c(d,h,m,p,g){e.getDocument().setLineWidth(d),e.getDocument().line(h,m,p,g,"S")}}function qQ(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function vb(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(l){return Zf(e,t,l,n,a)}),t.callEndPageHooks(e,n);var o=t.settings.margin;OQ(e,t,r,n),zQ(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Zf(e,t,l,n,a)}),e.applyStyles(e.userStyles))}function zQ(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function XFe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=FQ(this,n),i=$Q(this,a);return VQ(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){TQ(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return jy.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){jy.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new jy(this),i=MQ(a,t,window,r,!1),o=i.head,l=i.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var U3;function ZFe(e,t){var r=FQ(e,t),n=$Q(e,r);VQ(e,n)}try{if(typeof window<"u"&&window){var C7=window,_7=C7.jsPDF||((U3=C7.jspdf)===null||U3===void 0?void 0:U3.jsPDF);_7&&XFe(_7)}}catch(e){console.error("Could not apply autoTable plugin",e)}const k7=Vu;function JFe(){var h,m,p,g,w,b;Bg();const e=y.useMemo(()=>{try{const v=localStorage.getItem("user");return v?JSON.parse(v):null}catch(v){return console.error("Failed to parse user data:",v),null}},[]),t=y.useMemo(()=>{var N;if(!e)return!1;const v=(N=e.role)==null?void 0:N.toUpperCase();return v==="ADMIN"||v==="SUPER_ADMIN"||v.includes("ADMIN")||v.includes("DEPOT")},[e]),r=y.useMemo(()=>{var v,N;return(N=(v=e==null?void 0:e.role)==null?void 0:v.toUpperCase())==null?void 0:N.includes("DEPOT")},[e]),[n,a]=y.useState(()=>{const v={deliveryDate:Wt(new Date,"yyyy-MM-dd")};return r&&(e!=null&&e.depotId)&&(v.depotId=e.depotId),v}),{data:i}=cs({queryKey:["labelingReportFilters"],queryFn:async()=>{const v=localStorage.getItem("authToken")||localStorage.getItem("token");return(await dn.get(`${k7}/api/admin/reports/filters`,{headers:{Authorization:`Bearer ${v}`}})).data},enabled:!!t}),{data:o,isLoading:l}=cs({queryKey:["labelingReport",n],queryFn:async()=>{const v=new URLSearchParams;Object.entries(n).forEach(([A,E])=>{E&&v.append(A,E.toString())});const N=localStorage.getItem("authToken")||localStorage.getItem("token");return(await dn.get(`${k7}/api/admin/reports/delivery-labeling?${v.toString()}`,{headers:{Authorization:`Bearer ${N}`}})).data},enabled:!!(t&&n.deliveryDate&&(r||n.depotId&&n.depotId>0))}),c=(v,N)=>{a(S=>({...S,[v]:N}))},d=()=>{var v,N,S;if(!(o!=null&&o.orders)||o.orders.length===0){ve.error("No orders to generate PDF");return}try{const C=new ns({orientation:"portrait",unit:"mm",format:[100,150]}),I=C.internal.pageSize.width,P=4;C.setProperties({title:`Delivery Labels - ${Wt(new Date(n.deliveryDate),"dd MMM yyyy")}`});const F=((S=(N=(v=i==null?void 0:i.filters)==null?void 0:v.depots)==null?void 0:N.find(M=>M.id===n.depotId))==null?void 0:S.name)||"All Depots";let k=P;o.orders.forEach((M,R)=>{R>0&&(C.addPage(),k=P),k+=2,C.setFillColor(240,240,240);const B=I-2*P;C.rect(P,k-2,B,12,"F"),C.setFontSize(18),C.setFont("helvetica","bold"),C.setTextColor(50,50,50),C.text("PACKING SLIP",I/2,k+6,{align:"center"}),C.setTextColor(0,0,0),k+=16,C.setFontSize(10),C.setFont("helvetica","bold"),C.text(`Order #${M.orderNo}`,P,k),C.text(`${M.paymentStatus}`,I-P-20,k,void 0,void 0,"right"),k+=6,C.setFontSize(9),C.setFont("helvetica","bold"),C.text("Customer Details",P,k),k+=4,C.setFontSize(8),C.setFont("helvetica","normal"),C.text(`Name: ${M.name}`,P,k),C.text(`Mobile: ${M.mobile}`,P+50,k),k+=4;const Y=`Address: ${M.addressLine1}${M.addressLine2?", "+M.addressLine2:""}, ${M.city}, ${M.pincode}`,U=C.splitTextToSize(Y,I-2*P);C.text(U,P,k),k+=U.length*3.5+5;const Q=Z=>`Rs. ${Z.toFixed(2)}`;if(C.setFontSize(9),C.setFont("helvetica","bold"),C.text("Payment Details",P,k),k+=4,C.setFontSize(8),C.setFont("helvetica","normal"),C.text(`Status: ${M.paymentStatus}`,P,k),C.text(`Total: ${Q(M.totalAmount)}`,P+50,k),k+=4,M.paymentStatus==="PAID")C.text(`Paid: ${Q(M.totalAmount)}`,P,k),C.text("Remaining: Rs. 0.00",P+50,k);else if(M.paymentStatus==="PARTIAL"){const Z=M.totalAmount*.5,J=M.totalAmount-Z;C.text(`Paid: ${Q(Z)}`,P,k),C.text(`Remaining: ${Q(J)}`,P+50,k)}else C.text("Paid: Rs. 0.00",P,k),C.text(`Remaining: ${Q(M.totalAmount)}`,P+50,k);M.paymentMode&&(k+=4,C.text(`Payment Mode: ${M.paymentMode}`,P,k)),k+=6;const V=M.items.map(Z=>{var J,ae;return[((J=Z.product)==null?void 0:J.name)||Z.name,((ae=Z.depotProductVariant)==null?void 0:ae.name)||Z.variantName||"-",Z.quantity.toString()]});ZFe(C,{head:[["Product","Variant","Qty"]],body:V,startY:k,margin:{left:P,right:P},tableWidth:"auto",styles:{font:"helvetica",fontSize:8,cellPadding:1.5,overflow:"linebreak",valign:"middle",lineWidth:.1,lineColor:[220,220,220]},headStyles:{fillColor:[64,64,64],textColor:[255,255,255],fontSize:8,fontStyle:"bold"},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:30},2:{cellWidth:15,halign:"center"}},theme:"striped",alternateRowStyles:{fillColor:[250,250,250]},didParseCell:Z=>{Z.column.index===2&&(Z.cell.styles.font="courier",Z.cell.styles.fontSize=7)}})});const z=C.getNumberOfPages?C.getNumberOfPages():C.internal.getNumberOfPages();C.setFontSize(6),C.setTextColor(120);for(let M=1;M<=z;M++){C.setPage(M);const R=`Page ${M} of ${z}`;C.text(R,I-P,C.internal.pageSize.height-3,void 0,void 0,"right")}const O=`Delivery_Labels_${Wt(new Date(n.deliveryDate),"ddMMyyyy")}_${F.replace(/\\s+/g,"_")}.pdf`;C.save(O),ve.success("PDF generated successfully")}catch(A){console.error("PDF generation error:",A),ve.error("Failed to generate PDF")}};return t?s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(St,{children:s.jsxs(zt,{children:[s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(po,{className:"h-6 w-6"}),"Delivery Labeling Report"]}),s.jsx(On,{children:"Generate labeling sheets for orders by delivery date and depot"})]})}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(Qc,{className:"h-5 w-5"}),"Filters"]})}),s.jsxs(_t,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"deliveryDate",children:"Delivery Date"}),s.jsx(gt,{id:"deliveryDate",type:"date",value:n.deliveryDate||"",onChange:v=>c("deliveryDate",v.target.value)})]}),r?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Current Depot"}),s.jsx("div",{className:"px-3 py-2 bg-gray-50 border rounded-md text-sm",children:((b=(w=(g=i==null?void 0:i.filters)==null?void 0:g.depots)==null?void 0:w.find(v=>v.id===(e==null?void 0:e.depotId)))==null?void 0:b.name)||"Your Depot"})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"depot",children:"Depot"}),s.jsxs(pr,{value:((h=n.depotId)==null?void 0:h.toString())||"",onValueChange:v=>c("depotId",v?parseInt(v):void 0),children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"Select Depot"})}),s.jsx(yr,{children:((p=(m=i==null?void 0:i.filters)==null?void 0:m.depots)==null?void 0:p.map(v=>s.jsx(wt,{value:v.id.toString(),children:v.name},v.id)))||[]})]})]}),s.jsx("div",{className:"space-y-2 flex items-end",children:s.jsxs(Ee,{onClick:d,disabled:!(o!=null&&o.orders)||o.orders.length===0,className:"w-full flex items-center gap-2",children:[s.jsx(ia,{className:"h-4 w-4"}),"Generate PDF Labels"]})})]})]}),(o==null?void 0:o.summary)&&s.jsxs(St,{children:[s.jsxs(zt,{children:[s.jsx(dr,{children:"Summary"}),s.jsxs(On,{children:[o.summary.totalOrders," orders for ",Wt(new Date(n.deliveryDate),"dd MMM yyyy")]})]}),s.jsx(_t,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.summary.totalOrders}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Orders"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.summary.paidOrders}),s.jsx("div",{className:"text-sm text-gray-600",children:"Paid Orders"})]}),s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:o.summary.pendingOrders}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pending Orders"})]}),s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["",o.summary.totalAmount.toLocaleString("en-IN")]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount"})]})]})})]}),l?s.jsx(St,{children:s.jsx(_t,{className:"p-6",children:s.jsx("div",{className:"text-center",children:"Loading orders..."})})}):!(o!=null&&o.orders)||o.orders.length===0?s.jsx(St,{children:s.jsx(_t,{className:"p-6",children:s.jsx("div",{className:"text-center text-gray-500",children:"No orders found for the selected date and depot."})})}):s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs(dr,{children:["Orders (",o.orders.length,")"]})}),s.jsx(_t,{children:s.jsx("div",{className:"space-y-4",children:o.orders.map(v=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg",children:["Order #",v.orderNo]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",v.name," | Mobile: ",v.mobile]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Address: ",v.addressLine1,v.addressLine2?", "+v.addressLine2:"",", ",v.city,", ",v.pincode]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(Gr,{variant:v.paymentStatus==="PAID"?"default":"destructive",children:v.paymentStatus}),s.jsxs("p",{className:"text-lg font-semibold mt-1",children:["",v.totalAmount.toLocaleString("en-IN")]}),v.paymentStatus!=="PAID"&&s.jsxs("p",{className:"text-sm text-red-600",children:["Remaining: ",v.totalAmount.toLocaleString("en-IN")]})]})]}),s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Product"}),s.jsx($e,{children:"Variant"}),s.jsx($e,{className:"text-right",children:"Qty"}),s.jsx($e,{className:"text-right",children:"Price"}),s.jsx($e,{className:"text-right",children:"Amount"})]})}),s.jsx(Hs,{children:v.items.map((N,S)=>{var A,E;return s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-medium",children:((A=N.product)==null?void 0:A.name)||N.name}),s.jsx(Oe,{children:((E=N.depotProductVariant)==null?void 0:E.name)||N.variantName||"-"}),s.jsx(Oe,{className:"text-right",children:N.quantity}),s.jsxs(Oe,{className:"text-right",children:["",N.price.toLocaleString("en-IN")]}),s.jsxs(Oe,{className:"text-right",children:["",N.lineTotal.toLocaleString("en-IN")]})]},S)})})]})]},v.id))})})]})]}):s.jsx(St,{className:"m-6",children:s.jsxs(zt,{children:[s.jsx(dr,{className:"text-red-600",children:"Access Denied"}),s.jsx(On,{children:"You don't have permission to view this report."})]})})}const e7e=()=>{const[e,t]=y.useState(new Date),{data:r,isLoading:n,error:a}=cs({queryKey:["depotOrderDetails",e],queryFn:async()=>{if(!e)return[];const o=Wt(e,"yyyy-MM-dd");return(await dn.get(`/api/vendor-orders/details?date=${o}`)).data},enabled:!!e}),i=(r==null?void 0:r.reduce((o,l)=>{const{depotName:c}=l;return o[c]||(o[c]=[]),o[c].push(l),o},{}))??{};return s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{children:"Depot Order Details by Date"})}),s.jsxs(_t,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs(Wc,{children:[s.jsx(Gc,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",className:"w-[280px] justify-start text-left font-normal",children:[s.jsx(Ma,{className:"mr-2 h-4 w-4"}),e?Wt(e,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(Yc,{className:"w-auto p-0",children:s.jsx(Bu,{mode:"single",selected:e,onSelect:t,initialFocus:!0})})]})}),n&&s.jsx("p",{children:"Loading..."}),a&&s.jsxs("p",{children:["Error fetching data: ",a.message]}),Object.entries(i).map(([o,l])=>s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:o}),s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Product"}),s.jsx($e,{children:"Variant"}),s.jsx($e,{children:"Effective Price"}),s.jsx($e,{children:"Total Quantity"})]})}),s.jsx(Hs,{children:l.map(c=>s.jsxs(hr,{children:[s.jsx(Oe,{children:c.productName}),s.jsx(Oe,{children:c.variantName}),s.jsx(Oe,{children:c.effectivePrice!==null?c.effectivePrice:"N/A"}),s.jsx(Oe,{children:c.totalQuantity})]},c.depotVariantId))})]})]},o))]})]})})},t7e=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,i]=y.useState(null),[o,l]=y.useState(null),[c,d]=y.useState(null),[h,m]=y.useState("CASH"),[p,g]=y.useState(""),[w,b]=y.useState(()=>new Date().toISOString().slice(0,10)),[v,N]=y.useState(1),[S,A]=y.useState(0),[E,C]=y.useState(10),[I,P]=y.useState(""),[F,k]=y.useState("createdAt"),[z,O]=y.useState("desc"),M=yK(I,400),R=async(V=v,Z=E,J=M,ae=F,D=z)=>{n(!0),i(null);try{const K=await MK({page:V,limit:Z,search:J,sortBy:ae,sortOrder:D});t(K.orders),N(K.currentPage),A(K.totalPages)}catch(H){t([]),A(0),i(H.message||"Failed to fetch orders")}n(!1)};y.useEffect(()=>{R()},[M,v,E,F,z]);const B=V=>{C(Number(V)),N(1)},Y=V=>{F===V?O(z==="asc"?"desc":"asc"):(k(V),O("asc")),N(1)},U=()=>{m("CASH"),g(""),b(new Date().toISOString().slice(0,10))},Q=async(V,Z)=>{try{l(V),await NIe(V,Z),ve.success("Order marked as paid"),await R(),d(null),U()}catch(J){ve.error(J.message||"Failed to mark order as paid")}finally{l(null)}};return s.jsx("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8",children:s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{children:"SNF Orders"})}),s.jsxs(_t,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[s.jsxs("div",{className:"relative w-full md:max-w-sm",children:[s.jsx(gt,{placeholder:"Search by order no, name, mobile, email, city...",value:I,onChange:V=>{P(V.target.value),N(1)},className:"pl-9"}),s.jsx(Hn,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show:"}),s.jsxs(pr,{value:String(E),onValueChange:B,children:[s.jsx(xr,{className:"w-[90px]",children:s.jsx(gr,{placeholder:String(E)})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"10",children:"10"}),s.jsx(wt,{value:"25",children:"25"}),s.jsx(wt,{value:"50",children:"50"}),s.jsx(wt,{value:"100",children:"100"})]})]})]})]}),r&&s.jsxs("div",{className:"flex items-center justify-center h-40",children:[s.jsx(Ws,{className:"h-6 w-6 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm",children:"Loading orders..."})]}),a&&!r&&s.jsxs("div",{className:"flex items-center justify-center h-32 text-red-600",children:[s.jsx(Tu,{className:"h-6 w-6 mr-2"}),s.jsx("span",{children:a})]}),!r&&!a&&e.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No orders found."}),!r&&!a&&e.length>0&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsxs($e,{className:"min-w-[140px] cursor-pointer",onClick:()=>Y("createdAt"),children:["Date ",F==="createdAt"&&(z==="asc"?"":"")]}),s.jsx($e,{children:"Order No"}),s.jsx($e,{children:"Customer"}),s.jsx($e,{children:"Mobile"}),s.jsx($e,{children:"City"}),s.jsx($e,{children:"Depot"}),s.jsxs($e,{className:"cursor-pointer",onClick:()=>Y("deliveryDate"),children:["Delivery Date ",F==="deliveryDate"&&(z==="asc"?"":"")]}),s.jsxs($e,{className:"text-right cursor-pointer",onClick:()=>Y("totalAmount"),children:["Total ",F==="totalAmount"&&(z==="asc"?"":"")]}),s.jsx($e,{children:"Items"}),s.jsx($e,{children:"Status"}),s.jsx($e,{children:"Invoice"}),s.jsx($e,{className:"text-center",children:"Action"})]})}),s.jsx(Hs,{children:e.map(V=>{var Z,J;return s.jsxs(hr,{children:[s.jsx(Oe,{children:new Date(V.createdAt).toLocaleDateString()}),s.jsx(Oe,{className:"font-mono",children:V.orderNo}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:V.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:V.email||"-"})]})}),s.jsx(Oe,{children:V.mobile}),s.jsx(Oe,{children:V.city}),s.jsx(Oe,{children:((Z=V.depot)==null?void 0:Z.name)||"-"}),s.jsx(Oe,{children:V.deliveryDate?new Date(V.deliveryDate).toLocaleDateString():"-"}),s.jsxs(Oe,{className:"text-right",children:["",V.totalAmount.toFixed(2)]}),s.jsx(Oe,{children:((J=V._count)==null?void 0:J.items)??0}),s.jsx(Oe,{children:s.jsx("span",{className:"inline-flex rounded-full px-2 py-0.5 text-xs border",children:V.paymentStatus})}),s.jsx(Oe,{children:V.invoiceNo&&V.invoicePath?s.jsxs(Ee,{size:"sm",variant:"outline",onClick:async()=>{try{await FK(V.id)}catch(ae){ve.error(ae.message||"Failed to download invoice")}},children:[s.jsx(zc,{className:"h-4 w-4 mr-1"}),"Download"]}):s.jsx("span",{className:"text-xs text-muted-foreground",children:"Not generated"})}),s.jsx(Oe,{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ee,{asChild:!0,size:"sm",variant:"outline",children:s.jsx(Rs,{to:`/admin/snf-orders/${V.id}`,children:"View"})}),V.paymentStatus==="PAID"?s.jsx(Ee,{size:"sm",variant:"secondary",disabled:!0,children:"Paid"}):s.jsxs(s.Fragment,{children:[s.jsx(Ee,{size:"sm",onClick:()=>{U(),d(V.id)},disabled:o===V.id,children:"Payment"}),s.jsx(pi,{open:c===V.id,onOpenChange:ae=>{ae||(d(null),U())},children:s.jsxs(gi,{children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Record Payment"}),s.jsx(bi,{children:"Enter payment details to mark this order as PAID."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-3",children:[s.jsx(Be,{htmlFor:`pay-mode-${V.id}`,className:"col-span-1 text-right",children:"Mode"}),s.jsx("div",{className:"col-span-3",children:s.jsxs(pr,{value:h,onValueChange:m,children:[s.jsx(xr,{id:`pay-mode-${V.id}`,children:s.jsx(gr,{placeholder:"Select mode"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"CASH",children:"CASH"}),s.jsx(wt,{value:"ONLINE",children:"ONLINE"}),s.jsx(wt,{value:"UPI",children:"UPI"}),s.jsx(wt,{value:"BANK",children:"BANK"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-3",children:[s.jsx(Be,{htmlFor:`pay-ref-${V.id}`,className:"col-span-1 text-right",children:"Reference No"}),s.jsx("div",{className:"col-span-3",children:s.jsx(gt,{id:`pay-ref-${V.id}`,placeholder:"e.g. TXN123 / UPI Ref",value:p,onChange:ae=>g(ae.target.value)})})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-3",children:[s.jsx(Be,{htmlFor:`pay-date-${V.id}`,className:"col-span-1 text-right",children:"Payment Date"}),s.jsx("div",{className:"col-span-3",children:s.jsx(gt,{id:`pay-date-${V.id}`,type:"date",value:w,onChange:ae=>b(ae.target.value)})})]})]}),s.jsxs(yi,{children:[s.jsx(wi,{disabled:o===V.id,children:"Cancel"}),s.jsx(Ee,{onClick:()=>{if(!w){ve.error("Payment date is required");return}if(h!=="CASH"&&!p.trim()){ve.error("Reference no is required for non-cash payments");return}Q(V.id,{paymentMode:h,paymentRefNo:p.trim()||null,paymentDate:w})},disabled:o===V.id,children:o===V.id?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Ws,{className:"h-4 w-4 animate-spin"}),"Saving"]}):"Save"})]})]})})]})]})})]},V.id)})})]})}),S>0&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsx(Ee,{onClick:()=>N(V=>Math.max(1,V-1)),disabled:v<=1||r,variant:"outline",children:"Previous"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",v," of ",S]}),s.jsx(Ee,{onClick:()=>N(V=>Math.min(S,V+1)),disabled:v>=S||r,variant:"outline",children:"Next"})]})]})]})})},ii=({label:e,value:t})=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 py-2 border-b last:border-0",children:[s.jsx("div",{className:"col-span-4 text-sm text-muted-foreground",children:e}),s.jsx("div",{className:"col-span-8 font-medium break-words",children:t})]}),r7e=()=>{var l;const{id:e}=Ji(),[t,r]=y.useState(null),[n,a]=y.useState(!0),[i,o]=y.useState(null);return y.useEffect(()=>{(async()=>{if(e){a(!0),o(null);try{const d=await iF(Number(e));r(d)}catch(d){o(d.message||"Failed to fetch order")}a(!1)}})()},[e]),n?s.jsxs("div",{className:"flex items-center justify-center h-40",children:[s.jsx(Ws,{className:"h-6 w-6 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm",children:"Loading order..."})]}):i||!t?s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[s.jsx("p",{className:"text-red-600",children:i||"Order not found"}),s.jsx(Ee,{asChild:!0,className:"mt-4",variant:"outline",children:s.jsxs(Rs,{to:"/admin/snf-orders",children:[s.jsx(ku,{className:"h-4 w-4 mr-1"})," Back to Orders"]})})]}):s.jsxs("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"SNF Order Detail"}),s.jsx(Ee,{asChild:!0,variant:"outline",children:s.jsxs(Rs,{to:"/admin/snf-orders",children:[s.jsx(ku,{className:"h-4 w-4 mr-1"})," Back"]})})]}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs(dr,{children:["Order #",t.orderNo]})}),s.jsx(_t,{children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Customer"}),s.jsxs("div",{className:"rounded-md border p-4",children:[s.jsx(ii,{label:"Name",value:t.name}),s.jsx(ii,{label:"Email",value:t.email||"-"}),s.jsx(ii,{label:"Mobile",value:t.mobile}),s.jsx(ii,{label:"Address Line 1",value:t.addressLine1}),s.jsx(ii,{label:"Address Line 2",value:t.addressLine2||"-"}),s.jsx(ii,{label:"City",value:t.city}),s.jsx(ii,{label:"State",value:t.state||"-"}),s.jsx(ii,{label:"Pincode",value:t.pincode})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Payment"}),s.jsxs("div",{className:"rounded-md border p-4",children:[s.jsx(ii,{label:"Subtotal",value:`${t.subtotal.toFixed(2)}`}),s.jsx(ii,{label:"Delivery Fee",value:`${t.deliveryFee.toFixed(2)}`}),typeof t.walletamt=="number"&&s.jsx(ii,{label:"Wallet Deduction",value:`-${t.walletamt.toFixed(2)}`}),typeof t.payableAmount=="number"&&s.jsx(ii,{label:"Payable Amount",value:`${t.payableAmount.toFixed(2)}`}),s.jsx(ii,{label:"Total",value:`${t.totalAmount.toFixed(2)}`}),s.jsx(ii,{label:"Payment Mode",value:t.paymentMode||"-"}),s.jsx(ii,{label:"Payment Status",value:t.paymentStatus}),s.jsx(ii,{label:"Payment Ref",value:t.paymentRefNo||"-"}),s.jsx(ii,{label:"Payment Date",value:t.paymentDate?new Date(t.paymentDate).toLocaleDateString():"-"}),s.jsx(ii,{label:"Created At",value:new Date(t.createdAt).toLocaleDateString()})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{children:"Depot Information"})}),s.jsx(_t,{children:t.depot?s.jsx("div",{className:"rounded-md border p-4",children:s.jsx(ii,{label:"Depot Name",value:t.depot.name})}):s.jsx("p",{className:"text-muted-foreground",children:"No depot assigned to this order."})})]}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{children:"Invoice Information"})}),s.jsx(_t,{children:t.invoiceNo&&t.invoicePath?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-md border p-4",children:[s.jsx(ii,{label:"Invoice No",value:t.invoiceNo}),s.jsx(ii,{label:"Invoice Status",value:"Generated"})]}),s.jsxs(Ee,{onClick:async()=>{try{await FK(t.id)}catch(c){ve.error(c.message||"Failed to download invoice")}},className:"w-full",children:[s.jsx(zc,{className:"h-4 w-4 mr-2"}),"Download Invoice"]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Invoice not yet generated."}),s.jsx(Ee,{onClick:async()=>{try{await jIe(t.id),ve.success("Invoice generated successfully!");const c=await iF(t.id);r(c)}catch(c){ve.error(c.message||"Failed to generate invoice")}},className:"w-full",children:"Generate Invoice"})]})})]})]}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs(dr,{children:["Items (",((l=t.items)==null?void 0:l.length)||0,")"]})}),s.jsx(_t,{children:!t.items||t.items.length===0?s.jsx("p",{className:"text-muted-foreground",children:"No items found."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Product"}),s.jsx($e,{children:"Variant"}),s.jsx($e,{children:"Price"}),s.jsx($e,{children:"Qty"}),s.jsx($e,{children:"Line Total"})]})}),s.jsx(Hs,{children:t.items.map(c=>s.jsxs(hr,{children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[c.imageUrl?s.jsx("img",{src:c.imageUrl,alt:c.name,className:"h-10 w-10 rounded object-cover border"}):s.jsx("div",{className:"h-10 w-10 rounded bg-muted"}),s.jsx("div",{children:s.jsx("div",{className:"font-medium",children:c.name})})]})}),s.jsx(Oe,{children:c.variantName||"-"}),s.jsxs(Oe,{children:["",c.price.toFixed(2)]}),s.jsx(Oe,{children:c.quantity}),s.jsxs(Oe,{children:["",c.lineTotal.toFixed(2)]})]},c.id))})]})})})]})]})},T7=Vu;function D7(){var S,A,E,C,I,P,F,k,z,O,M;Bg();const e=y.useMemo(()=>{try{const R=localStorage.getItem("user");return R?JSON.parse(R):null}catch(R){return console.error("Failed to parse user data:",R),null}},[]),t=y.useMemo(()=>{var B;if(!e)return!1;const R=(B=e.role)==null?void 0:B.toUpperCase();return R==="ADMIN"||R==="SUPER_ADMIN"||R.includes("ADMIN")||R==="VENDOR"},[e]),r=y.useMemo(()=>{var R;return((R=e==null?void 0:e.role)==null?void 0:R.toUpperCase())==="VENDOR"},[e]),[n,a]=y.useState(()=>({startDate:Wt(new Date(new Date().setDate(new Date().getDate()-30)),"yyyy-MM-dd"),endDate:Wt(new Date,"yyyy-MM-dd"),groupBy:r?"depot,variant":"farmer,depot,variant"})),[i,o]=y.useState(new Set),[l,c]=y.useState(""),{data:d}=cs({queryKey:["reportFilters"],queryFn:async()=>{const R=localStorage.getItem("authToken")||localStorage.getItem("token");return(await dn.get(`${T7}/api/reports/filters`,{headers:{Authorization:`Bearer ${R}`}})).data},enabled:t&&!r}),{data:h,isLoading:m,refetch:p}=cs({queryKey:["purchaseOrderReport",n],queryFn:async()=>{const R=new URLSearchParams;Object.entries(n).forEach(([U,Q])=>{Q&&R.append(U,Q.toString())});const B=localStorage.getItem("authToken")||localStorage.getItem("token");return(await dn.get(`${T7}/api/reports/purchase-orders?${R.toString()}`,{headers:{Authorization:`Bearer ${B}`}})).data},enabled:t}),g=(R,B)=>{a(Y=>({...Y,[R]:B}))},w=R=>{o(B=>{const Y=new Set(B);return Y.has(R)?Y.delete(R):Y.add(R),Y})},b=()=>{var Y,U;if(!((Y=h==null?void 0:h.data)!=null&&Y.report)){ve.error("No data to export");return}const R=new f4,B={fileName:"Purchase_Order_Report",sheetName:"Purchase Orders",headers:[{key:"status",label:"Status",width:12},{key:"product",label:"Product",width:20},{key:"qty",label:"Quantity",width:12},{key:"wastage",label:"Wastage",width:12,align:"right"},{key:"agency",label:"Agency",width:15},{key:"amount",label:"Amount",width:15,align:"right"},{key:"purchaseNo",label:"Purchase No",width:15},{key:"date",label:"Date",width:12},{key:"invoice",label:"Invoice No",width:15},{key:"farmer",label:"Farmer",width:20},{key:"depot",label:"Depot",width:20},{key:"rate",label:"Rate",width:12,align:"right"}],grouping:{enabled:!0,levels:((U=n.groupBy)==null?void 0:U.split(","))||[],showTotals:!0}};R.exportToExcel({data:h.data.report,totals:h.data.totals,config:B}),ve.success("Report exported successfully")},v=(R,B=0)=>Array.isArray(R)?R.length>0&&"level"in R[0]?R.map(U=>{const Q=`${U.level}-${U.id}`,V=i.has(Q),Z=B*20;return s.jsxs(We.Fragment,{children:[s.jsx(hr,{className:`cursor-pointer hover:bg-gray-100 ${U.level==="farmer"?"bg-blue-50":U.level==="depot"?"bg-green-50":"bg-orange-50"}`,onClick:()=>w(Q),children:s.jsx(Oe,{colSpan:9,style:{paddingLeft:`${Z+16}px`},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[V?s.jsx(Ia,{size:16}):s.jsx(cc,{size:16}),s.jsxs("span",{className:"font-semibold",children:[U.level==="farmer"&&`Farmer: ${U.name}`,U.level==="depot"&&`Depot: ${U.name} ${U.location?`(${U.location})`:""}`,U.level==="variant"&&`${U.productName} - ${U.name} ${U.unit?`(${U.unit})`:""}`]}),s.jsxs(Gr,{variant:"outline",className:"ml-2",children:[U.totals.itemCount," items"]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{children:["Qty: ",s.jsx("strong",{children:U.totals.totalQuantity})]}),s.jsxs("span",{children:["Amount: ",s.jsxs("strong",{children:["",U.totals.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),s.jsxs("span",{children:["Avg Rate: ",s.jsxs("strong",{children:["",U.totals.avgRate.toFixed(2)]})]})]})]})})}),V&&Array.isArray(U.data)&&v(U.data,B+1)]},Q)}):R.map((U,Q)=>s.jsxs(hr,{className:"hover:bg-gray-50",children:[s.jsx(Oe,{className:"pl-8",children:U.purchaseNo}),s.jsx(Oe,{className:"text-sm",children:Wt(new Date(U.purchaseDate),"dd MMM yyyy")}),s.jsx(Oe,{className:"text-sm",children:U.deliveryDate?Wt(new Date(U.deliveryDate),"dd MMM yyyy"):"-"}),s.jsx(Oe,{children:U.farmerName}),s.jsxs(Oe,{children:[U.productName," - ",U.variantName]}),s.jsx(Oe,{className:"text-right",children:U.quantity}),s.jsx(Oe,{className:"text-right",children:U.deliveredQuantity||0}),s.jsxs(Oe,{className:"text-right font-medium",children:["",U.amount.toLocaleString("en-IN",{minimumFractionDigits:2})]}),s.jsx(Oe,{children:s.jsx(Gr,{variant:U.status==="delivered"?"default":U.status==="pending"?"secondary":U.status==="cancelled"?"destructive":"outline",children:U.status})})]},`${U.purchaseId}-${Q}`)):[],N=y.useMemo(()=>{var R,B;return!((R=h==null?void 0:h.data)!=null&&R.report)||!l?((B=h==null?void 0:h.data)==null?void 0:B.report)||[]:h.data.report},[h,l]);return t?s.jsx("div",{className:"container mx-auto p-4 space-y-4",children:s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(dr,{children:"Purchase Order Report"}),s.jsx(On,{children:"View and export purchase orders with grouped data by farmer, depot, and variants"})]}),s.jsxs(Ee,{onClick:b,disabled:!((S=h==null?void 0:h.data)!=null&&S.report),children:[s.jsx(zc,{className:"mr-2 h-4 w-4"}),"Export to Excel"]})]})}),s.jsxs(_t,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"startDate",children:"Start Date"}),s.jsx(gt,{id:"startDate",type:"date",value:n.startDate,onChange:R=>g("startDate",R.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"endDate",children:"End Date"}),s.jsx(gt,{id:"endDate",type:"date",value:n.endDate,onChange:R=>g("endDate",R.target.value)})]}),!r&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"farmerId",children:"Farmer"}),s.jsxs(pr,{value:((A=n.farmerId)==null?void 0:A.toString())||"all",onValueChange:R=>g("farmerId",R==="all"?void 0:parseInt(R)),children:[s.jsx(xr,{id:"farmerId",children:s.jsx(gr,{placeholder:"All Farmers"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Farmers"}),(C=(E=d==null?void 0:d.data)==null?void 0:E.farmers)==null?void 0:C.map(R=>s.jsx(wt,{value:R.id.toString(),children:R.name},R.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"depotId",children:"Depot"}),s.jsxs(pr,{value:((I=n.depotId)==null?void 0:I.toString())||"all",onValueChange:R=>g("depotId",R==="all"?void 0:parseInt(R)),children:[s.jsx(xr,{id:"depotId",children:s.jsx(gr,{placeholder:"All Depots"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Depots"}),(F=(P=d==null?void 0:d.data)==null?void 0:P.depots)==null?void 0:F.map(R=>s.jsxs(wt,{value:R.id.toString(),children:[R.name," ",R.location&&`(${R.location})`]},R.id))]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx(Be,{children:"Group By:"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(hl,{checked:(k=n.groupBy)==null?void 0:k.includes("farmer"),onCheckedChange:R=>{var Y;const B=((Y=n.groupBy)==null?void 0:Y.split(","))||[];if(R)B.push("farmer");else{const U=B.indexOf("farmer");U>-1&&B.splice(U,1)}g("groupBy",B.join(","))}}),"Farmer"]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(hl,{checked:(z=n.groupBy)==null?void 0:z.includes("depot"),onCheckedChange:R=>{var Y;const B=((Y=n.groupBy)==null?void 0:Y.split(","))||[];if(R)B.push("depot");else{const U=B.indexOf("depot");U>-1&&B.splice(U,1)}g("groupBy",B.join(","))}}),"Depot"]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(hl,{checked:(O=n.groupBy)==null?void 0:O.includes("variant"),onCheckedChange:R=>{var Y;const B=((Y=n.groupBy)==null?void 0:Y.split(","))||[];if(R)B.push("variant");else{const U=B.indexOf("variant");U>-1&&B.splice(U,1)}g("groupBy",B.join(","))}}),"Variants"]})]}),s.jsxs(Ee,{onClick:()=>p(),className:"ml-auto",children:[s.jsx(Qc,{className:"mr-2 h-4 w-4"}),"Apply Filters"]})]}),((M=h==null?void 0:h.data)==null?void 0:M.totals)&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(St,{children:s.jsxs(_t,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold",children:h.data.totals.totalPurchases}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Purchases"})]})}),s.jsx(St,{children:s.jsxs(_t,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold",children:h.data.totals.totalItems}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Items"})]})}),s.jsx(St,{children:s.jsxs(_t,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold",children:h.data.totals.totalQuantity}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Quantity"})]})}),s.jsx(St,{children:s.jsxs(_t,{className:"pt-6",children:[s.jsxs("div",{className:"text-2xl font-bold",children:["",h.data.totals.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Amount"})]})})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Order No"}),s.jsx($e,{children:"Order Date"}),s.jsx($e,{children:"Delivery Date"}),s.jsx($e,{children:"Vendor"}),s.jsx($e,{children:"Product"}),s.jsx($e,{className:"text-right",children:"Ordered"}),s.jsx($e,{className:"text-right",children:"Delivered"}),s.jsx($e,{className:"text-right",children:"Amount"}),s.jsx($e,{children:"Status"})]})}),s.jsx(Hs,{children:m?s.jsx(hr,{children:s.jsx(Oe,{colSpan:9,className:"text-center py-8",children:"Loading report data..."})}):N&&N.length>0?v(N):s.jsx(hr,{children:s.jsx(Oe,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No data found for the selected filters"})})})]})})]})]})}):s.jsx(St,{className:"m-4",children:s.jsx(_t,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-600",children:e?"You don't have permission to view this report.":"Please log in to view this report."})})})}var MD="Progress",FD=100,[s7e,p9e]=eo(MD),[n7e,a7e]=s7e(MD),HQ=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=i7e,...o}=e;(a||a===0)&&!P7(a)&&console.error(o7e(`${a}`,"Progress"));const l=P7(a)?a:FD;n!==null&&!O7(n,l)&&console.error(l7e(`${n}`,"Progress"));const c=O7(n,l)?n:null,d=q5(c)?i(c,l):void 0;return s.jsx(n7e,{scope:r,value:c,max:l,children:s.jsx(Rr.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":q5(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":YQ(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});HQ.displayName=MD;var WQ="ProgressIndicator",GQ=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=a7e(WQ,r);return s.jsx(Rr.div,{"data-state":YQ(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});GQ.displayName=WQ;function i7e(e,t){return`${Math.round(e/t*100)}%`}function YQ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function q5(e){return typeof e=="number"}function P7(e){return q5(e)&&!isNaN(e)&&e>0}function O7(e,t){return q5(e)&&!isNaN(e)&&e<=t&&e>=0}function o7e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${FD}\`.`}function l7e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${FD} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var c7e=HQ,d7e=GQ;function $3({className:e,value:t,...r}){return s.jsx(c7e,{"data-slot":"progress",className:jt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:s.jsx(d7e,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const KQ=e=>Array.isArray(e)?e.reduce((t,r)=>{const n=parseFloat(r.purchaseRate||r.rate||"0"),a=parseInt(r.quantity||"0");return t+n*a},0):0,u7e=(e,t)=>t===0?"unpaid":t>=e?"paid":"partial",QQ=async e=>{try{let t=`/purchases?page=${e.page||1}&limit=${e.limit||20}`;e.vendorId&&(t+=`&vendorId=${e.vendorId}`),e.startDate&&(t+=`&startDate=${e.startDate}`),e.endDate&&(t+=`&endDate=${e.endDate}`);const r=await $t(t),n=(r==null?void 0:r.data)||[],a=(r==null?void 0:r.totalPages)||1,i=await h4({limit:1e3}),o=(i==null?void 0:i.payments)||(i==null?void 0:i.data)||[],[l,c]=await Promise.all([$t("/products?limit=1000"),$t("/depot-product-variants?limit=1000")]),d=(l==null?void 0:l.data)||l||[],h=(c==null?void 0:c.data)||c||[],m=new Map,p=new Map,g=new Map;d.forEach(S=>{m.set(S.id,S.name)}),h.forEach(S=>{p.set(S.id,S.name),S.productName?g.set(S.id,S.productName):S.productId&&m.has(S.productId)&&g.set(S.id,m.get(S.productId))});const w=new Map;o.forEach(S=>{S.details&&Array.isArray(S.details)&&S.details.forEach(A=>{var C;const E=((C=A.purchase)==null?void 0:C.id)||A.purchaseId;if(E){w.has(E)||w.set(E,{totalPaid:0,paymentCount:0,lastPaymentDate:null});const I=w.get(E);I.totalPaid+=parseFloat(A.amount||"0"),I.paymentCount+=1;const P=new Date(S.paymentDate);(!I.lastPaymentDate||P>I.lastPaymentDate)&&(I.lastPaymentDate=P)}})});const b=n.map(S=>{var P,F,k,z,O;const A=KQ(S.purchaseDetails||[]),E=w.get(S.id)||{totalPaid:0,paymentCount:0,lastPaymentDate:null},C=E.totalPaid,I=Math.max(0,A-C);return{purchaseId:S.id,purchaseNo:S.purchaseNo||"",purchaseDate:S.purchaseDate,invoiceNo:S.invoiceNo||"",invoiceDate:S.invoiceDate||S.purchaseDate,vendorId:((P=S.vendor)==null?void 0:P.id)||0,vendorName:((F=S.vendor)==null?void 0:F.name)||"",depotId:((k=S.depot)==null?void 0:k.id)||0,depotName:((z=S.depot)==null?void 0:z.name)||"",totalAmount:A,paidAmount:C,outstandingAmount:I,paymentStatus:u7e(A,C),paymentCount:E.paymentCount,lastPaymentDate:(O=E.lastPaymentDate)==null?void 0:O.toISOString(),products:(S.purchaseDetails||[]).map(M=>{var R,B;return{productName:g.get(M.variantId)||m.get(M.productId)||((R=M.product)==null?void 0:R.name)||"Unknown Product",variantName:p.get(M.variantId)||((B=M.variant)==null?void 0:B.name)||"Unknown Variant",quantity:parseInt(M.quantity||"0"),rate:parseFloat(M.purchaseRate||M.rate||"0"),amount:parseFloat(M.purchaseRate||M.rate||"0")*parseInt(M.quantity||"0")}})}});let v=b;return e.status&&e.status!=="all"&&(v=b.filter(S=>S.paymentStatus===e.status)),{summary:{totalPurchases:v.length,totalAmount:v.reduce((S,A)=>S+A.totalAmount,0),totalPaid:v.reduce((S,A)=>S+A.paidAmount,0),totalOutstanding:v.reduce((S,A)=>S+A.outstandingAmount,0),averageOrderValue:v.length>0?Math.round(v.reduce((S,A)=>S+A.totalAmount,0)/v.length):0,fullyPaidCount:v.filter(S=>S.paymentStatus==="paid").length,partiallyPaidCount:v.filter(S=>S.paymentStatus==="partial").length,unpaidCount:v.filter(S=>S.paymentStatus==="unpaid").length},vendorSummaries:[],purchases:v,totalPages:a,currentPage:e.page||1}}catch(t){throw console.error("Error fetching purchase report:",t),t}},XQ=async e=>{try{let t="/purchases?limit=1000";e.vendorId&&(t+=`&vendorId=${e.vendorId}`),e.startDate&&(t+=`&startDate=${e.startDate}`),e.endDate&&(t+=`&endDate=${e.endDate}`);const r=await $t(t),n=(r==null?void 0:r.data)||[],a=await h4({limit:1e3}),i=(a==null?void 0:a.payments)||(a==null?void 0:a.data)||[],o=new Map;return n.forEach(c=>{var m;const d=(m=c.vendor)==null?void 0:m.id;if(!d)return;o.has(d)||o.set(d,{vendorName:c.vendor.name,totalPurchases:0,totalAmount:0,totalPaid:0,lastPurchaseDate:c.purchaseDate});const h=o.get(d);h.totalPurchases+=1,h.totalAmount+=KQ(c.purchaseDetails||[]),(!h.lastPurchaseDate||c.purchaseDate>h.lastPurchaseDate)&&(h.lastPurchaseDate=c.purchaseDate)}),i.forEach(c=>{var m;const d=(m=c.vendor)==null?void 0:m.id;if(!d||!o.has(d))return;const h=o.get(d);h.totalPaid+=parseFloat(c.totalAmount||"0"),(!h.lastPaymentDate||c.paymentDate>h.lastPaymentDate)&&(h.lastPaymentDate=c.paymentDate)}),Array.from(o.entries()).map(([c,d])=>({vendorId:c,vendorName:d.vendorName,totalPurchases:d.totalPurchases,totalAmount:d.totalAmount,totalPaid:d.totalPaid,totalOutstanding:Math.max(0,d.totalAmount-d.totalPaid),lastPurchaseDate:d.lastPurchaseDate,lastPaymentDate:d.lastPaymentDate}))}catch(t){return console.error("Error fetching vendor purchase summary:",t),[]}},ZQ=async e=>{try{const t={page:e.page||1,limit:e.limit||20};e.vendorId&&(t.vendorId=e.vendorId),e.startDate&&(t.startDate=e.startDate),e.endDate&&(t.endDate=e.endDate);const r=await h4(t),a=((r==null?void 0:r.payments)||(r==null?void 0:r.data)||[]).map(i=>{var o,l,c;return{paymentId:i.id,paymentNo:i.paymentno||"",paymentDate:i.paymentDate,vendorId:((o=i.vendor)==null?void 0:o.id)||0,vendorName:((l=i.vendor)==null?void 0:l.name)||"",mode:i.mode,referenceNo:i.referenceNo,totalAmount:parseFloat(i.totalAmount||"0"),purchaseCount:((c=i.details)==null?void 0:c.length)||0,purchases:(i.details||[]).map(d=>{var h,m,p,g;return{purchaseId:((h=d.purchase)==null?void 0:h.id)||0,purchaseNo:((m=d.purchase)==null?void 0:m.purchaseNo)||"",invoiceNo:((p=d.purchase)==null?void 0:p.invoiceNo)||"",amount:parseFloat(d.amount||"0"),purchaseDate:((g=d.purchase)==null?void 0:g.purchaseDate)||""}})}});return{payments:a,totalAmount:a.reduce((i,o)=>i+o.totalAmount,0),totalPages:(r==null?void 0:r.totalPages)||1,currentPage:e.page||1}}catch(t){return console.error("Error fetching payment report:",t),{payments:[],totalAmount:0,totalPages:1,currentPage:1}}},h7e=async(e,t="excel")=>{try{const[r,n,a]=await Promise.all([QQ({...e,page:1,limit:1e4}),XQ(e),ZQ({...e,page:1,limit:1e4})]),i=new Date().toISOString().slice(0,19).replace(/:/g,"-"),o=e.startDate&&e.endDate?`_${e.startDate}_to_${e.endDate}`:"";if(t==="excel"){const l=Pn.book_new(),c=[];c.push(["Purchase Report"]),c.push(["Report Date:",new Date]),c.push(["Date Range:",e.startDate||"All","to",e.endDate||"All"]),c.push(["Vendor Filter:",e.vendorId?`Vendor ID: ${e.vendorId}`:"All Vendors"]),c.push(["Status Filter:",e.status||"All Status"]),c.push([]),c.push(["Summary"]),c.push(["Metric","Value"]),c.push(["Total Purchases",r.summary.totalPurchases]),c.push(["Total Amount",r.summary.totalAmount]),c.push(["Amount Paid",r.summary.totalPaid]),c.push(["Outstanding Amount",r.summary.totalOutstanding]),c.push(["Average Order Value",r.summary.averageOrderValue]),c.push(["Fully Paid Purchases",r.summary.fullyPaidCount]),c.push(["Partially Paid Purchases",r.summary.partiallyPaidCount]),c.push(["Unpaid Purchases",r.summary.unpaidCount]),c.push([]),c.push(["Purchase Details"]);const d=c.length+1,h=["Purchase No","Purchase Date","Vendor Name","Invoice No","Invoice Date","Depot Name","Total Amount","Paid Amount","Outstanding Amount","Payment Status","Payment Count"];c.push(h);const m=c.length+1;r.purchases.forEach(S=>{c.push([S.purchaseNo,S.purchaseDate?new Date(S.purchaseDate):"",S.vendorName,S.invoiceNo,S.invoiceDate?new Date(S.invoiceDate):"",S.depotName,S.totalAmount,S.paidAmount,S.outstandingAmount,S.paymentStatus.toUpperCase(),S.paymentCount])});const p=c.length;c.push(["","","","","TOTALS","",{f:`SUM(G${m}:G${p})`},{f:`SUM(H${m}:H${p})`},{f:`SUM(I${m}:I${p})`},"",""]),c.push([]),c.push(["Purchase Items"]);const g=c.length+1,w=["Purchase No","Vendor Name","Product Name","Variant Name","Quantity","Rate","Amount"];c.push(w);const b=c.length+1;r.purchases.forEach(S=>{S.products.forEach(A=>{c.push([S.purchaseNo,S.vendorName,A.productName,A.variantName,A.quantity,A.rate,A.amount])})});const v=c.length;if(c.push(["","","","TOTALS",{f:`SUM(E${b}:E${v})`},"",{f:`SUM(G${b}:G${v})`}]),c.push([]),a.payments.length>0){c.push(["Payment History"]);const S=c.length+1,A=["Payment No","Payment Date","Vendor Name","Mode","Reference No","Total Amount","Purchase Count"];c.push(A);const E=c.length+1;a.payments.forEach(I=>{c.push([I.paymentNo,I.paymentDate?new Date(I.paymentDate):"",I.vendorName,I.mode,I.referenceNo||"",I.totalAmount,I.purchaseCount])});const C=c.length;c.push(["","","","","TOTALS",{f:`SUM(F${E}:F${C})`},{f:`SUM(G${E}:G${C})`},""]),c.push([])}if(n.length>0){c.push(["Vendor Summary"]);const S=c.length+1,A=["Vendor Name","Total Purchases","Total Amount","Amount Paid","Outstanding Amount"];c.push(A);const E=c.length+1;n.forEach(I=>{c.push([I.vendorName,I.totalPurchases,I.totalAmount,I.totalPaid,I.totalOutstanding])});const C=c.length;c.push(["TOTALS",{f:`SUM(B${E}:B${C})`},{f:`SUM(C${E}:C${C})`},{f:`SUM(D${E}:D${C})`},{f:`SUM(E${E}:E${C})`}]),c.push([])}const N=Pn.aoa_to_sheet(c);N["!cols"]=[{width:16},{width:14},{width:24},{width:14},{width:14},{width:18},{width:14},{width:14},{width:16},{width:14},{width:14},{width:16},{width:24},{width:24},{width:18},{width:10},{width:12},{width:14},{width:40}],Pn.book_append_sheet(l,N,"Purchase Report"),o4(l,`Purchase_Report${o}_${i}.xlsx`)}else{const l=["Purchase No","Date","Vendor","Invoice No","Total Amount","Paid Amount","Outstanding","Status","Payment Count","Last Payment Date"],c=r.purchases.map(g=>[g.purchaseNo,g.purchaseDate?new Date(g.purchaseDate).toLocaleDateString():"",g.vendorName,g.invoiceNo,g.totalAmount.toFixed(2),g.paidAmount.toFixed(2),g.outstandingAmount.toFixed(2),g.paymentStatus,g.paymentCount,g.lastPaymentDate?new Date(g.lastPaymentDate).toLocaleDateString():""]),d=[l,...c].map(g=>g.map(w=>`"${w}"`).join(",")).join(`
`),h=new Blob([d],{type:"text/csv;charset=utf-8;"}),m=window.URL.createObjectURL(h),p=document.createElement("a");p.href=m,p.setAttribute("download",`Purchase_Report${o}_${i}.csv`),document.body.appendChild(p),p.click(),p.remove(),window.URL.revokeObjectURL(m)}}catch(r){throw console.error("Export error:",r),r}},dj=({title:e,value:t,change:r,icon:n,trend:a="neutral",className:i,subtitle:o})=>s.jsxs(St,{className:jt("relative overflow-hidden",i),children:[s.jsxs(zt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(dr,{className:"text-sm font-medium text-muted-foreground",children:e}),s.jsx(n,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(_t,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t}),o&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o}),r!==void 0&&s.jsxs("div",{className:"flex items-center space-x-1 text-xs mt-1",children:[a==="up"&&s.jsx(Eb,{className:"h-3 w-3 text-green-500"}),a==="down"&&s.jsx(Fy,{className:"h-3 w-3 text-red-500"}),s.jsxs("span",{className:jt(a==="up"&&"text-green-500",a==="down"&&"text-red-500",a==="neutral"&&"text-muted-foreground"),children:[r>0&&"+",r,"%"]})]})]})]}),f7e=()=>{var R;const[e,t]=y.useState({startDate:Wt(sb(new Date,30),"yyyy-MM-dd"),endDate:Wt(new Date,"yyyy-MM-dd"),status:"all"}),[r,n]=y.useState(1),[a,i]=y.useState(""),[o,l]=y.useState("overview"),[c,d]=y.useState(new Set),[h,m]=y.useState([]),[p,g]=y.useState([]),w=20;y.useEffect(()=>{(async()=>{try{const[Y,U]=await Promise.all([$t("/vendors?limit=1000"),$t("/depots")]);m((Y==null?void 0:Y.data)||Y||[]),g((U==null?void 0:U.data)||U||[])}catch(Y){console.error("Failed to fetch reference data:",Y)}})()},[]);const{data:b,isLoading:v,refetch:N}=cs({queryKey:["purchaseReport",e,r],queryFn:()=>QQ({...e,page:r,limit:w}),placeholderData:B=>B}),{data:S,isLoading:A}=cs({queryKey:["paymentReport",e,r],queryFn:()=>ZQ({startDate:e.startDate,endDate:e.endDate,vendorId:e.vendorId,page:r,limit:w}),placeholderData:B=>B}),{data:E}=cs({queryKey:["vendorPurchaseSummary",e],queryFn:()=>XQ({startDate:e.startDate,endDate:e.endDate,vendorId:e.vendorId})}),C=(B,Y)=>{t(U=>({...U,[B]:Y})),n(1)},I=B=>Y=>{Y&&C(B,Wt(Y,"yyyy-MM-dd"))},P=()=>{t({startDate:Wt(sb(new Date,30),"yyyy-MM-dd"),endDate:Wt(new Date,"yyyy-MM-dd"),status:"all"}),i(""),n(1)},F=async B=>{try{await h7e(e,B),ve.success(`Report exported as ${B.toUpperCase()}`)}catch(Y){ve.error(Y.message||"Export failed")}},k=B=>{const Y=new Set(c);Y.has(B)?Y.delete(B):Y.add(B),d(Y)},z=y.useMemo(()=>!(b!=null&&b.purchases)||!a?(b==null?void 0:b.purchases)||[]:b.purchases.filter(B=>B.purchaseNo.toLowerCase().includes(a.toLowerCase())||B.vendorName.toLowerCase().includes(a.toLowerCase())||B.invoiceNo.toLowerCase().includes(a.toLowerCase())),[b==null?void 0:b.purchases,a]),O=B=>{const U={paid:{variant:"default",icon:M0,text:"Paid"},partial:{variant:"secondary",icon:G0,text:"Partial"},unpaid:{variant:"destructive",icon:Tu,text:"Unpaid"}}[B],Q=U.icon;return s.jsxs(Gr,{variant:U.variant,className:"gap-1",children:[s.jsx(Q,{className:"h-3 w-3"}),U.text]})};if(v)return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((B,Y)=>s.jsx(vr,{className:"h-32 w-full"},Y))}),s.jsx(vr,{className:"h-96 w-full"})]});const M=b==null?void 0:b.summary;return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Purchase Report"}),s.jsx("p",{className:"text-muted-foreground",children:"Track purchases, payments, and outstanding balances"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>N(),children:[s.jsx(Cre,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>F("excel"),children:[s.jsx(zc,{className:"h-4 w-4 mr-2"}),"Export Excel"]}),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>F("csv"),children:[s.jsx(zc,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(Qc,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(_t,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Start Date"}),s.jsxs(Wc,{children:[s.jsx(Gc,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",className:"w-full justify-start text-left",children:[s.jsx(Ma,{className:"h-4 w-4 mr-2"}),e.startDate?Wt(new Date(e.startDate),"dd/MM/yyyy"):"Select date"]})}),s.jsx(Yc,{className:"w-auto p-0",align:"start",children:s.jsx(Bu,{mode:"single",selected:e.startDate?new Date(e.startDate):void 0,onSelect:I("startDate"),initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"End Date"}),s.jsxs(Wc,{children:[s.jsx(Gc,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",className:"w-full justify-start text-left",children:[s.jsx(Ma,{className:"h-4 w-4 mr-2"}),e.endDate?Wt(new Date(e.endDate),"dd/MM/yyyy"):"Select date"]})}),s.jsx(Yc,{className:"w-auto p-0",align:"start",children:s.jsx(Bu,{mode:"single",selected:e.endDate?new Date(e.endDate):void 0,onSelect:I("endDate"),initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Vendor"}),s.jsxs(pr,{value:e.vendorId||"all",onValueChange:B=>C("vendorId",B==="all"?void 0:B),children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"All Vendors"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Vendors"}),h.map(B=>s.jsx(wt,{value:B.id.toString(),children:B.name},B.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Payment Status"}),s.jsxs(pr,{value:e.status||"all",onValueChange:B=>C("status",B),children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"All Status"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All Status"}),s.jsx(wt,{value:"paid",children:"Fully Paid"}),s.jsx(wt,{value:"partial",children:"Partially Paid"}),s.jsx(wt,{value:"unpaid",children:"Unpaid"})]})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(Ee,{variant:"outline",onClick:P,className:"w-full",children:"Clear Filters"})})]})})]}),M&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(dj,{title:"Total Purchases",value:M.totalPurchases,icon:ia,className:"border-l-4 border-l-blue-500",subtitle:`Avg: ${ws(M.averageOrderValue)}`}),s.jsx(dj,{title:"Total Amount",value:ws(M.totalAmount),icon:b9,className:"border-l-4 border-l-green-500"}),s.jsx(dj,{title:"Amount Paid",value:ws(M.totalPaid),icon:M0,className:"border-l-4 border-l-emerald-500",subtitle:`${Math.round(M.totalPaid/M.totalAmount*100||0)}% of total`}),s.jsx(dj,{title:"Outstanding",value:ws(M.totalOutstanding),icon:Tu,className:"border-l-4 border-l-red-500",subtitle:`${M.unpaidCount} unpaid purchases`})]}),M&&s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(Tk,{className:"h-5 w-5"}),"Payment Status Overview"]})}),s.jsx(_t,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-green-700",children:"Fully Paid"}),s.jsx(Gr,{variant:"default",children:M.fullyPaidCount})]}),s.jsx($3,{value:M.fullyPaidCount/M.totalPurchases*100,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Partially Paid"}),s.jsx(Gr,{variant:"secondary",children:M.partiallyPaidCount})]}),s.jsx($3,{value:M.partiallyPaidCount/M.totalPurchases*100,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-red-700",children:"Unpaid"}),s.jsx(Gr,{variant:"destructive",children:M.unpaidCount})]}),s.jsx($3,{value:M.unpaidCount/M.totalPurchases*100,className:"h-2"})]})]})})]}),s.jsxs(IK,{value:o,onValueChange:l,className:"space-y-4",children:[s.jsxs(LK,{className:"grid w-full grid-cols-4",children:[s.jsx(dp,{value:"overview",children:"Purchase Overview"}),s.jsx(dp,{value:"purchases",children:"Purchase Details"}),s.jsx(dp,{value:"vendors",children:"Vendor Summary"}),s.jsx(dp,{value:"payments",children:"Payment History"})]}),s.jsx(up,{value:"overview",children:s.jsxs(St,{children:[s.jsxs(zt,{children:[s.jsx(dr,{children:"Purchase Overview"}),s.jsx(On,{children:"Summary of purchase data for the selected period"})]}),s.jsxs(_t,{children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Hn,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(gt,{placeholder:"Search purchases by number, vendor, or invoice...",value:a,onChange:B=>i(B.target.value),className:"pl-8"})]})}),z&&z.length>0?s.jsx("div",{className:"space-y-4",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Purchase No"}),s.jsx($e,{children:"Date"}),s.jsx($e,{children:"Vendor"}),s.jsx($e,{children:"Invoice No"}),s.jsx($e,{className:"text-right",children:"Amount"}),s.jsx($e,{className:"text-right",children:"Paid"}),s.jsx($e,{className:"text-right",children:"Outstanding"}),s.jsx($e,{children:"Status"}),s.jsx($e,{className:"w-10"})]})}),s.jsx(Hs,{children:z.map(B=>s.jsxs(We.Fragment,{children:[s.jsxs(hr,{className:"hover:bg-muted/50",children:[s.jsx(Oe,{className:"font-medium",children:B.purchaseNo}),s.jsx(Oe,{children:Wt(new Date(B.purchaseDate),"dd MMM yyyy")}),s.jsx(Oe,{children:B.vendorName}),s.jsx(Oe,{children:B.invoiceNo||"-"}),s.jsx(Oe,{className:"text-right font-medium",children:ws(B.totalAmount)}),s.jsx(Oe,{className:"text-right",children:ws(B.paidAmount)}),s.jsx(Oe,{className:"text-right",children:ws(B.outstandingAmount)}),s.jsx(Oe,{children:O(B.paymentStatus)}),s.jsx(Oe,{children:s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>k(B.purchaseId),children:c.has(B.purchaseId)?s.jsx(Ia,{className:"h-4 w-4"}):s.jsx(cc,{className:"h-4 w-4"})})})]}),c.has(B.purchaseId)&&s.jsx(hr,{children:s.jsx(Oe,{colSpan:9,className:"bg-muted/30",children:s.jsxs("div",{className:"py-4 space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Product Details:"}),s.jsx("div",{className:"grid gap-2",children:B.products.map((Y,U)=>s.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded border",children:[s.jsxs("span",{children:[Y.productName," - ",Y.variantName]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{children:["Qty: ",Y.quantity]}),s.jsxs("span",{children:["Rate: ",ws(Y.rate)]}),s.jsxs("span",{className:"font-medium",children:["Amount: ",ws(Y.amount)]})]})]},U))}),B.paymentCount>0&&s.jsxs("div",{className:"pt-2 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Payments made: ",B.paymentCount]}),B.lastPaymentDate&&s.jsxs("span",{className:"ml-4",children:["Last payment: ",Wt(new Date(B.lastPaymentDate),"dd MMM yyyy")]})]})]})})})]},B.purchaseId))})]})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ia,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"No purchases found for the selected criteria"})]})]})]})}),s.jsx(up,{value:"purchases",children:s.jsxs(St,{children:[s.jsxs(zt,{children:[s.jsx(dr,{children:"Detailed Purchase List"}),s.jsx(On,{children:"Complete list of all purchases with product details"})]}),s.jsx(_t,{children:z&&z.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",z.length," of ",((R=b==null?void 0:b.purchases)==null?void 0:R.length)||0," purchases"]})}),s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Purchase No"}),s.jsx($e,{children:"Date"}),s.jsx($e,{children:"Vendor"}),s.jsx($e,{children:"Depot"}),s.jsx($e,{children:"Invoice No"}),s.jsx($e,{className:"text-right",children:"Total Amount"}),s.jsx($e,{className:"text-right",children:"Paid Amount"}),s.jsx($e,{className:"text-right",children:"Outstanding"}),s.jsx($e,{children:"Payment Status"}),s.jsx($e,{className:"text-right",children:"Payment Count"})]})}),s.jsx(Hs,{children:z.map(B=>s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-medium",children:B.purchaseNo}),s.jsx(Oe,{children:Wt(new Date(B.purchaseDate),"dd MMM yyyy")}),s.jsx(Oe,{children:B.vendorName}),s.jsx(Oe,{children:B.depotName||"-"}),s.jsx(Oe,{children:B.invoiceNo||"-"}),s.jsx(Oe,{className:"text-right font-medium",children:ws(B.totalAmount)}),s.jsx(Oe,{className:"text-right",children:ws(B.paidAmount)}),s.jsx(Oe,{className:"text-right",children:ws(B.outstandingAmount)}),s.jsx(Oe,{children:O(B.paymentStatus)}),s.jsx(Oe,{className:"text-right",children:s.jsx(Gr,{variant:"outline",children:B.paymentCount})})]},B.purchaseId))})]}),b&&b.totalPages>1&&s.jsx("div",{className:"flex items-center justify-center mt-6",children:s.jsx(Sg,{children:s.jsxs(Ag,{children:[s.jsx(Ed,{children:s.jsx(Eg,{onClick:()=>n(Math.max(1,r-1)),className:r===1?"pointer-events-none opacity-50":""})}),Array.from({length:Math.min(5,b.totalPages)},(B,Y)=>{const U=Y+1;return s.jsx(Ed,{children:s.jsx(S0,{onClick:()=>n(U),isActive:r===U,children:U})},U)}),b.totalPages>5&&s.jsx(Ed,{children:s.jsx(fpe,{})}),s.jsx(Ed,{children:s.jsx(Cg,{onClick:()=>n(Math.min(b.totalPages,r+1)),className:r===b.totalPages?"pointer-events-none opacity-50":""})})]})})})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ia,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"No detailed purchase data available"})]})})]})}),s.jsx(up,{value:"vendors",children:s.jsxs(St,{children:[s.jsxs(zt,{children:[s.jsx(dr,{children:"Vendor Summary"}),s.jsx(On,{children:"Purchase and payment summary grouped by vendor"})]}),s.jsx(_t,{children:E&&E.length>0?s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Vendor Name"}),s.jsx($e,{className:"text-right",children:"Total Purchases"}),s.jsx($e,{className:"text-right",children:"Total Amount"}),s.jsx($e,{className:"text-right",children:"Amount Paid"}),s.jsx($e,{className:"text-right",children:"Outstanding"}),s.jsx($e,{children:"Last Purchase"}),s.jsx($e,{children:"Last Payment"})]})}),s.jsx(Hs,{children:E.map(B=>s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-medium",children:B.vendorName}),s.jsx(Oe,{className:"text-right",children:s.jsx(Gr,{variant:"outline",children:B.totalPurchases})}),s.jsx(Oe,{className:"text-right font-medium",children:ws(B.totalAmount)}),s.jsx(Oe,{className:"text-right",children:ws(B.totalPaid)}),s.jsx(Oe,{className:"text-right",children:s.jsx("span",{className:jt("font-medium",B.totalOutstanding>0?"text-red-600":"text-green-600"),children:ws(B.totalOutstanding)})}),s.jsx(Oe,{children:B.lastPurchaseDate?Wt(new Date(B.lastPurchaseDate),"dd MMM yyyy"):"-"}),s.jsx(Oe,{children:B.lastPaymentDate?Wt(new Date(B.lastPaymentDate),"dd MMM yyyy"):"-"})]},B.vendorId))})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Q5,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"No vendor summary data available"})]})})]})}),s.jsx(up,{value:"payments",children:s.jsxs(St,{children:[s.jsxs(zt,{children:[s.jsx(dr,{children:"Payment History"}),s.jsx(On,{children:"All payments made against purchases"})]}),s.jsx(_t,{children:S&&S.payments&&S.payments.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total payments: ",S.totalAmount?ws(S.totalAmount):"-"]})}),s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Payment No"}),s.jsx($e,{children:"Date"}),s.jsx($e,{children:"Vendor"}),s.jsx($e,{children:"Mode"}),s.jsx($e,{children:"Reference No"}),s.jsx($e,{className:"text-right",children:"Amount"}),s.jsx($e,{className:"text-right",children:"Purchase Count"}),s.jsx($e,{})]})}),s.jsx(Hs,{children:S.payments.map(B=>s.jsxs(We.Fragment,{children:[s.jsxs(hr,{className:"hover:bg-muted/50",children:[s.jsx(Oe,{className:"font-medium",children:B.paymentNo}),s.jsx(Oe,{children:Wt(new Date(B.paymentDate),"dd MMM yyyy")}),s.jsx(Oe,{children:B.vendorName}),s.jsx(Oe,{children:s.jsx(Gr,{variant:"secondary",children:B.mode})}),s.jsx(Oe,{children:B.referenceNo||"-"}),s.jsx(Oe,{className:"text-right font-medium",children:ws(B.totalAmount)}),s.jsx(Oe,{className:"text-right",children:s.jsx(Gr,{variant:"outline",children:B.purchaseCount})}),s.jsx(Oe,{children:s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>k(B.paymentId),children:c.has(B.paymentId)?s.jsx(Ia,{className:"h-4 w-4"}):s.jsx(cc,{className:"h-4 w-4"})})})]}),c.has(B.paymentId)&&s.jsx(hr,{children:s.jsx(Oe,{colSpan:8,className:"bg-muted/30",children:s.jsxs("div",{className:"py-4 space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Associated Purchases:"}),s.jsx("div",{className:"grid gap-2",children:B.purchases.map((Y,U)=>s.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded border",children:[s.jsxs("span",{children:[Y.purchaseNo," (Invoice: ",Y.invoiceNo,")"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{children:["Purchase Date: ",Wt(new Date(Y.purchaseDate),"dd MMM yyyy")]}),s.jsxs("span",{className:"font-medium",children:["Amount: ",ws(Y.amount)]})]})]},U))})]})})})]},B.paymentId))})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Dh,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"No payment history available"})]})})]})})]})]})},x4="/admin/unit-conversion",m7e=async(e,t)=>{try{return await $t(`${x4}/depot/${e}/product/${t}/variants`)}catch{return(await $t("/admin/depot-product-variants",{depotId:e,productId:t,limit:1e3})).data||[]}},p7e=async(e={})=>{try{return await $t(`${x4}/history`,e)}catch{return{data:[],currentPage:1,totalPages:1,totalRecords:0}}},g7e=async e=>{try{return await $t(`${x4}/suggestions/${e}`)}catch{return[]}},x7e=async e=>await en(`${x4}/bulk-convert`,e),y7e=()=>{const[e,t]=y.useState([]),[r,n]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState(""),[c,d]=y.useState(""),[h,m]=y.useState(""),[p,g]=y.useState(""),[w,b]=y.useState([]),[v,N]=y.useState(!1),[S,A]=y.useState([]),[E,C]=y.useState(!1),[I,P]=y.useState([]),[F,k]=y.useState([]);y.useEffect(()=>{z()},[]),y.useEffect(()=>{o&&(R(),d(""),i([]))},[o]),y.useEffect(()=>{o&&c&&B()},[o,c]),y.useEffect(()=>{h&&U()},[h]);const z=async()=>{try{const D=await X2();t(D)}catch{ve.error("Failed to load depots")}},O=()=>({errors:[],warnings:[]}),M=()=>{const{errors:D,warnings:H}=O();P(D),k(H),C(!0)},R=async()=>{if(o)try{N(!0);const D=await vK();n(D)}catch{ve.error("Failed to load products")}finally{N(!1)}},B=async()=>{if(!(!o||!c))try{N(!0);const D=await m7e(parseInt(o),parseInt(c));i(D)}catch{ve.error("Failed to load variants")}finally{N(!1)}},Y=async()=>{if(!o||!h||w.length===0){ve.error("Please fill required fields and add at least one target");return}const D=parseFloat(p)||0,H=w.reduce((W,re)=>W+(parseFloat(re.targetQuantity)||0),0);if(!Number.isFinite(D)||D<=0){ve.error("Invalid source quantity");return}if(H<=0){ve.error("Total target quantity must be greater than 0");return}const K=w.filter(W=>W.targetVariantId&&parseFloat(W.targetQuantity)>0).map(W=>{const re=parseFloat(W.targetQuantity);return{sourceVariantId:parseInt(h),targetVariantId:parseInt(W.targetVariantId),sourceQuantity:D,targetQuantity:Math.round(re*100)/100}});try{N(!0);const W=await x7e({depotId:parseInt(o),conversions:K});W.success?(ve.success(`Bulk conversion completed. ${W.results.length} applied${W.errors.length?`, ${W.errors.length} errors`:""}`),m(""),g(""),b([]),c&&B()):ve.error(`Bulk conversion completed with errors: ${W.errors[0]||"Unknown error"}`)}catch{ve.error("Bulk conversion failed")}finally{N(!1)}},U=async()=>{if(h)try{const D=await g7e(parseInt(h));A(D)}catch(D){console.error("Failed to load suggestions:",D)}},Q=D=>{const H=D.targetVariant.id.toString();b(K=>{const W=K.findIndex(te=>te.targetVariantId===H),re=p?(parseFloat(p)*D.suggestedRatio).toString():"";if(W>=0){const te=[...K];return te[W]={...te[W],targetQuantity:re},te}return[...K,{targetVariantId:H,targetQuantity:re}]})},V=D=>a.find(H=>H.id.toString()===D),Z=V(h),J=parseFloat(p)||0,ae=We.useMemo(()=>{const D={};for(const H of w){if(!H.targetVariantId)continue;const K=V(H.targetVariantId);K&&(D[H.targetVariantId]||(D[H.targetVariantId]={id:H.targetVariantId,name:K.name,addQty:0,current:K.closingQty}),D[H.targetVariantId].addQty+=parseFloat(H.targetQuantity)||0)}return Object.values(D)},[w,a]);return s.jsxs("div",{className:"w-full h-full min-h-screen px-3 sm:px-4 lg:px-6 xl:px-8 py-4 sm:py-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Unit Conversion"}),s.jsx(Ee,{asChild:!0,variant:"outline",className:"flex items-center gap-2 w-full sm:w-auto",children:s.jsxs(Rs,{to:"/admin/unit-conversion/history",children:[s.jsx(qte,{className:"h-4 w-4"}),s.jsx("span",{className:"sm:inline",children:"View History"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs(St,{className:"lg:col-span-3 min-w-0",children:[s.jsx(zt,{children:s.jsxs(dr,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[s.jsx(Yee,{className:"h-5 w-5"}),"Unit Conversion Setup"]})}),s.jsxs(_t,{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"depot",className:"text-sm font-medium",children:"Select Depot *"}),s.jsxs(pr,{value:o,onValueChange:l,children:[s.jsx(xr,{className:"mt-1",children:s.jsx(gr,{placeholder:"Choose depot"})}),s.jsx(yr,{children:e.map(D=>s.jsx(wt,{value:D.id.toString(),children:D.name},D.id))})]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"product",className:"text-sm font-medium",children:"Select Product *"}),s.jsxs(pr,{value:c,onValueChange:d,disabled:!o,children:[s.jsx(xr,{className:"mt-1",children:s.jsx(gr,{placeholder:"Choose product"})}),s.jsx(yr,{children:r.map(D=>s.jsx(wt,{value:D.id.toString(),children:D.name},D.id))})]})]}),s.jsx(ES,{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx(Be,{className:"text-base font-semibold",children:"From (Source)"}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"sourceVariant",className:"text-sm font-medium",children:"Source Variant *"}),s.jsxs(pr,{value:h,onValueChange:m,disabled:!c,children:[s.jsx(xr,{className:"w-full mt-1",children:s.jsx(gr,{placeholder:"Select source variant"})}),s.jsx(yr,{children:a.map(D=>s.jsx(wt,{value:D.id.toString(),children:s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{children:D.name}),s.jsxs(Gr,{variant:"secondary",className:"ml-2",children:["Stock: ",D.closingQty]})]})},D.id))})]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"sourceQuantity",className:"text-sm font-medium",children:"Source Quantity *"}),s.jsx(gt,{id:"sourceQuantity",type:"number",step:"0.01",value:p,onChange:D=>g(D.target.value),placeholder:"Total quantity to convert",disabled:!h,className:"mt-1"}),Z&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Available: ",Z==null?void 0:Z.closingQty," ",Z==null?void 0:Z.name]})]})]}),s.jsxs("div",{className:"space-y-4 lg:col-span-1 2xl:col-span-2 min-w-0",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(Be,{className:"text-base font-semibold",children:"To (Target)"})}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[s.jsx(Be,{className:"text-sm font-medium",children:"Target Conversions"}),s.jsx(Ee,{size:"sm",onClick:()=>b([...w,{targetVariantId:"",targetQuantity:""}]),className:"w-full sm:w-auto",children:"Add Target"})]}),s.jsx("div",{className:"space-y-3 sm:space-y-4",children:w.map((D,H)=>{const K=V(D.targetVariantId);return s.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg bg-muted/10",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 items-end",children:[s.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[s.jsx(Be,{className:"text-sm font-medium",children:"Target Variant *"}),s.jsxs(pr,{value:D.targetVariantId,onValueChange:W=>{const re=[...w];re[H]={...D,targetVariantId:W},b(re)},disabled:!c,children:[s.jsx(xr,{className:"w-full mt-1",children:s.jsx(gr,{placeholder:"Select target variant"})}),s.jsx(yr,{children:a.filter(W=>W.id.toString()!==h).map(W=>s.jsx(wt,{value:W.id.toString(),children:s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{children:W.name}),s.jsxs(Gr,{variant:"secondary",className:"ml-2",children:["Stock: ",W.closingQty]})]})},W.id))})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Be,{className:"text-sm font-medium",children:"Target Qty *"}),s.jsx(gt,{className:"w-full mt-1",type:"number",step:"0.01",value:D.targetQuantity,onChange:W=>{const re=[...w];re[H]={...D,targetQuantity:W.target.value},b(re)},placeholder:"e.g. 10.00"})]}),s.jsx(Ee,{size:"sm",variant:"destructive",onClick:()=>b(w.filter((W,re)=>re!==H)),className:"mt-6 w-full sm:w-auto",children:"Remove"})]})]}),K&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Current: ",K.closingQty," ",K.name]})]},H)})}),Z&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Source to deduct: ",J," / Available: ",Z.closingQty]})]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:s.jsx(Ee,{onClick:M,disabled:v,className:"w-full sm:w-auto",size:"lg",children:v?"Processing...":"Execute Conversion"})})]})]}),s.jsx("div",{className:"space-y-4 lg:col-span-1",children:S.length>0&&s.jsxs(St,{children:[s.jsx(zt,{children:s.jsx(dr,{className:"text-lg",children:"Conversion Suggestions"})}),s.jsx(_t,{className:"space-y-2",children:S.map((D,H)=>s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-2 mb-2",children:[s.jsx("span",{className:"font-medium text-sm",children:D.targetVariant.name}),s.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>Q(D),className:"w-full sm:w-auto",children:"Apply"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.description}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Ratio: 1:",D.suggestedRatio]})]},H))})]})})]}),s.jsx(pi,{open:E,onOpenChange:C,children:s.jsxs(gi,{className:"max-w-2xl max-h-[90vh] overflow-y-auto mx-4",children:[s.jsxs(xi,{children:[s.jsx(vi,{children:"Confirm Conversion"}),s.jsx(bi,{children:"Review the summary and validation before applying stock changes."})]}),s.jsxs("div",{className:"space-y-4",children:[I.length>0&&s.jsxs("div",{className:"rounded-md border border-red-300 bg-red-50 p-3 text-sm text-red-700",children:[s.jsx("p",{className:"font-medium",children:"Please resolve the following:"}),s.jsx("ul",{className:"list-disc list-inside mt-1 space-y-1",children:I.map((D,H)=>s.jsx("li",{children:D},H))})]}),F.length>0&&s.jsxs("div",{className:"rounded-md border border-yellow-300 bg-yellow-50 p-3 text-sm text-yellow-800",children:[s.jsx("p",{className:"font-medium",children:"Warnings:"}),s.jsx("ul",{className:"list-disc list-inside mt-1 space-y-1",children:F.map((D,H)=>s.jsx("li",{children:D},H))})]}),s.jsxs("div",{className:"rounded-md border p-3 text-sm",children:[s.jsx("p",{className:"font-medium mb-2",children:"Summary"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"p-2 rounded bg-red-50 border border-red-200",children:[s.jsx("p",{className:"font-semibold",children:"From (Source)"}),s.jsxs("p",{className:"text-sm",children:[(Z==null?void 0:Z.name)||"",": ",J]}),Z&&s.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[Z==null?void 0:Z.closingQty,"  ",Math.max(0,((Z==null?void 0:Z.closingQty)??0)-(J||0))]})]}),s.jsxs("div",{className:"p-2 rounded bg-green-50 border border-green-200",children:[s.jsx("p",{className:"font-semibold",children:"To (Target)"}),s.jsxs("div",{className:"space-y-1",children:[ae.length===0&&s.jsx("p",{className:"text-sm",children:""}),ae.map(D=>s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-medium",children:D.name}),s.jsxs("p",{className:"text-green-700",children:[D.current,"  ",D.current+D.addQty]})]},D.id))]})]})]})]})]}),s.jsxs(yi,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[s.jsx(wi,{disabled:v,className:"w-full sm:w-auto",children:"Cancel"}),s.jsx(Ii,{className:"w-full sm:w-auto",onClick:()=>{const{errors:D,warnings:H}=O();if(P(D),k(H),D.length>0){C(!0);return}C(!1),Y()},disabled:v,children:v?"Processing...":"Confirm & Execute"})]})]})})]})},v7e=({onBack:e})=>{const[t,r]=y.useState([]),[n,a]=y.useState([]),[i,o]=y.useState(!1),[l,c]=y.useState(1),[d,h]=y.useState(1),[m,p]=y.useState(0),[g,w]=y.useState(""),[b,v]=y.useState(""),[N,S]=y.useState("");y.useEffect(()=>{A(),E()},[]),y.useEffect(()=>{E()},[l,g,b,N]);const A=async()=>{try{const k=await X2();r(k)}catch{ve.error("Failed to load depots")}},E=async()=>{try{o(!0);const k={page:l,limit:20};g&&g!=="all"&&(k.depotId=parseInt(g)),b&&(k.startDate=b),N&&(k.endDate=N);const z=await p7e(k);a(z.data),h(z.totalPages),p(z.totalRecords)}catch{ve.error("Failed to load conversion history")}finally{o(!1)}},C=()=>{c(1),E()},I=()=>{w(""),v(""),S(""),c(1),E()},P=k=>Wt(new Date(k),"MMM dd, yyyy HH:mm"),F=()=>s.jsx(Gr,{variant:"default",className:"bg-green-100 text-green-800",children:"Completed"});return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[e&&s.jsxs(Ee,{variant:"outline",size:"sm",onClick:e,children:[s.jsx(ku,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Unit Conversion History"})]})}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs(dr,{className:"flex items-center gap-2",children:[s.jsx(Qc,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(_t,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"depot-filter",children:"Depot"}),s.jsxs(pr,{value:g,onValueChange:w,children:[s.jsx(xr,{children:s.jsx(gr,{placeholder:"All depots"})}),s.jsxs(yr,{children:[s.jsx(wt,{value:"all",children:"All depots"}),t.map(k=>s.jsx(wt,{value:k.id.toString(),children:k.name},k.id))]})]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"start-date",children:"Start Date"}),s.jsx(gt,{id:"start-date",type:"date",value:b,onChange:k=>v(k.target.value)})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"end-date",children:"End Date"}),s.jsx(gt,{id:"end-date",type:"date",value:N,onChange:k=>S(k.target.value)})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs(Ee,{onClick:C,className:"flex items-center gap-2",children:[s.jsx(Hn,{className:"h-4 w-4"}),"Search"]}),s.jsx(Ee,{variant:"outline",onClick:I,children:"Clear"})]})]})})]}),s.jsxs(St,{children:[s.jsx(zt,{children:s.jsxs(dr,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ma,{className:"h-5 w-5"}),"Conversion Records"]}),s.jsxs(Gr,{variant:"secondary",children:[m," total records"]})]})}),s.jsx(_t,{children:i?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No conversion records found"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qs,{children:[s.jsx(zs,{children:s.jsxs(hr,{children:[s.jsx($e,{children:"Date & Time"}),s.jsx($e,{children:"Depot"}),s.jsx($e,{children:"From"}),s.jsx($e,{children:"To"}),s.jsx($e,{children:"Quantity"}),s.jsx($e,{children:"Performed By"}),s.jsx($e,{children:"Status"}),s.jsx($e,{children:"Notes"})]})}),s.jsx(Hs,{children:n.map(k=>s.jsxs(hr,{children:[s.jsx(Oe,{className:"font-medium",children:P(k.performedAt)}),s.jsx(Oe,{children:s.jsxs(Gr,{variant:"outline",children:["Depot ",k.depotId]})}),s.jsx(Oe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:k.sourceVariantName}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["-",k.sourceQuantity]})]})}),s.jsx(Oe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:k.targetVariantName}),s.jsxs("p",{className:"text-sm text-green-600",children:["+",k.targetQuantity]})]})}),s.jsx(Oe,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-red-600",children:["-",k.sourceQuantity]}),s.jsx("br",{}),s.jsxs("span",{className:"text-green-600",children:["+",k.targetQuantity]})]})}),s.jsx(Oe,{children:k.performedBy}),s.jsx(Oe,{children:F()}),s.jsx(Oe,{children:s.jsx("span",{className:"text-sm text-muted-foreground",children:k.notes||"-"})})]},k.id))})]})}),d>1&&s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(l-1)*20+1," to ",Math.min(l*20,m)," of ",m," results"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>c(k=>Math.max(1,k-1)),disabled:l===1,children:"Previous"}),s.jsxs("span",{className:"text-sm",children:["Page ",l," of ",d]}),s.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>c(k=>Math.min(d,k+1)),disabled:l===d,children:"Next"})]})]})]})})]})]})},b7e=()=>{y.useEffect(()=>{document.title=jb},[]),We.lazy(()=>vu(()=>import("./SNFLandingPage-CaMqO8Gk.js"),__vite__mapDeps([0,1,2,3])));const e=We.lazy(()=>vu(()=>import("./SNFProductDetailWrapper-3-8qRQ86.js"),__vite__mapDeps([4,1,5,3]))),t=We.lazy(()=>vu(()=>import("./SNFWrapper-BpsIgoVj.js"),__vite__mapDeps([6,1,0,2,3]))),r=We.lazy(()=>vu(()=>import("./SNFCheckoutWrapper-CDQ8CNqp.js"),__vite__mapDeps([7,1,8]))),n=We.lazy(()=>vu(()=>import("./SNFBuyNowWrapper-Cd82csGk.js"),__vite__mapDeps([9,1,8,5]))),a=We.lazy(()=>vu(()=>import("./SNFCartDebugWrapper-BWG8H0NW.js"),__vite__mapDeps([10,1]))),i=We.lazy(()=>vu(()=>import("./SNFAddressWrapper-CPFOsmQd.js"),__vite__mapDeps([11,1]))),o=We.lazy(()=>vu(()=>import("./SNFCategoryPageWrapper-BPZwzCwU.js"),__vite__mapDeps([12,1,2,3,5])));let l=null;try{const c=localStorage.getItem("user");l=c?JSON.parse(c):null}catch{l=null}return s.jsxs(Tee,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:[s.jsx(Pee,{}),s.jsx(QB,{richColors:!0,position:"top-center"}),s.jsx(cee,{children:s.jsxs(BJ,{children:[s.jsx(nr,{path:"/",element:s.jsx(nL,{}),children:s.jsx(nr,{path:"products/:id",element:s.jsx(YCe,{})})}),s.jsx(nr,{path:"/snf",element:s.jsx(We.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((c,d)=>s.jsxs("div",{className:"animate-pulse rounded-lg border p-4 space-y-3","aria-busy":"true","aria-label":"Loading product",children:[s.jsx("div",{className:"h-32 bg-muted/40 rounded-md"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-1/2"}),s.jsx("div",{className:"h-8 bg-muted/40 rounded"})]},d))})}),children:s.jsx(t,{})})}),s.jsx(nr,{path:"/snf/checkout",element:s.jsx(We.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-3",children:Array.from({length:3}).map((c,d)=>s.jsx("div",{className:"h-28 bg-muted/40 rounded-md animate-pulse"},d))}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-36 bg-muted/40 rounded-md animate-pulse"}),s.jsx("div",{className:"h-10 bg-muted/40 rounded-md animate-pulse"})]})]})}),children:s.jsx(r,{})})}),s.jsx(nr,{path:"/snf/debug/cart",element:s.jsx(We.Suspense,{fallback:s.jsx("div",{className:"p-6",children:"Loading debug..."}),children:s.jsx(a,{})})}),s.jsx(nr,{path:"/snf/buy-now",element:s.jsx(We.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-3",children:s.jsx("div",{className:"h-32 bg-muted/40 rounded-md animate-pulse"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-36 bg-muted/40 rounded-md animate-pulse"}),s.jsx("div",{className:"h-10 bg-muted/40 rounded-md animate-pulse"})]})]})}),children:s.jsx(n,{})})}),s.jsx(nr,{path:"/snf/address",element:s.jsx(We.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-3",children:Array.from({length:3}).map((c,d)=>s.jsx("div",{className:"h-28 bg-muted/40 rounded-md animate-pulse"},d))}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-36 bg-muted/40 rounded-md animate-pulse"}),s.jsx("div",{className:"h-10 bg-muted/40 rounded-md animate-pulse"})]})]})}),children:s.jsx(i,{})})}),s.jsx(nr,{path:"/snf/product/:id",element:s.jsx(We.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"h-[420px] bg-muted/40 rounded-md animate-pulse"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-6 bg-muted/40 rounded w-2/3 animate-pulse"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-1/3 animate-pulse"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-1/2 animate-pulse"}),s.jsx("div",{className:"h-24 bg-muted/40 rounded animate-pulse"}),s.jsx("div",{className:"h-10 bg-muted/40 rounded w-1/2 animate-pulse"})]})]})}),children:s.jsx(e,{})})}),s.jsx(nr,{path:"/snf/category/:categoryId",element:s.jsx(We.Suspense,{fallback:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((c,d)=>s.jsxs("div",{className:"animate-pulse rounded-lg border p-4 space-y-3","aria-busy":"true","aria-label":"Loading product",children:[s.jsx("div",{className:"h-32 bg-muted/40 rounded-md"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted/40 rounded w-1/2"}),s.jsx("div",{className:"h-8 bg-muted/40 rounded"})]},d))})}),children:s.jsx(o,{})})}),s.jsxs(nr,{element:s.jsx(Oee,{}),children:[s.jsx(nr,{path:"/admin",element:s.jsx(CR,{})}),s.jsx(nr,{path:"/admin/register",element:s.jsx(_R,{})})," ",s.jsx(nr,{path:"/forgot-password",element:s.jsx(Sxe,{})}),s.jsx(nr,{path:"/reset-password/:token",element:s.jsx(Exe,{})})]}),s.jsxs(nr,{element:s.jsx(VC,{}),children:[s.jsx(nr,{path:"/",element:s.jsx(nL,{})}),s.jsx(nr,{path:"/login",element:s.jsx(CR,{})}),s.jsx(nr,{path:"/about",element:s.jsx(zje,{})}),s.jsx(nr,{path:"/bharwadcow",element:s.jsx(Wje,{})}),s.jsx(nr,{path:"/contact",element:s.jsx(Gje,{})}),s.jsx(nr,{path:"/gratitude",element:s.jsx(Yje,{})}),s.jsx(nr,{path:"/privacy-policy",element:s.jsx(Kje,{})}),s.jsx(nr,{path:"/refund-policy",element:s.jsx(Qje,{})}),s.jsx(nr,{path:"/shipping-policy",element:s.jsx(Xje,{})}),s.jsx(nr,{path:"/terms-and-conditions",element:s.jsx(Zje,{})}),s.jsx(nr,{path:"/register",element:s.jsx(_R,{})})]}),s.jsxs(nr,{element:s.jsx(Zhe,{children:s.jsx(nR,{})}),children:[s.jsx(nr,{path:"/admin/dashboard",element:s.jsxs("div",{className:"space-y-4 ml-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),s.jsx("p",{children:"Welcome to your dashboard. Here you can manage orders."})]})}),s.jsx(nr,{path:"/admin/users",element:s.jsx(bye,{})}),s.jsx(nr,{path:"/admin/variantstock",element:s.jsx(wxe,{})}),s.jsx(nr,{path:"/admin/users/create",element:s.jsx(u5,{mode:"create"})}),s.jsx(nr,{path:"/admin/users/edit/:id",element:s.jsx(u5,{mode:"edit"})}),s.jsx(nr,{path:"/admin/vendors",element:s.jsx(Wye,{})}),s.jsx(nr,{path:"/admin/wastages",element:s.jsx(cge,{})}),s.jsx(nr,{path:"/admin/wastages/create",element:s.jsx(xxe,{})}),s.jsx(nr,{path:"/admin/wastages/edit/:id",element:s.jsx(yxe,{})}),s.jsx(nr,{path:"/admin/transfers",element:s.jsx(aIe,{})}),s.jsx(nr,{path:"/admin/transfers/create",element:s.jsx(oIe,{})}),s.jsx(nr,{path:"/admin/transfers/edit/:id",element:s.jsx(cIe,{})}),s.jsx(nr,{path:"/admin/vendors/create",element:s.jsx(nve,{})}),s.jsx(nr,{path:"/admin/vendors/edit/:id",element:s.jsx(ive,{})}),s.jsx(nr,{path:"/admin/agencies",element:s.jsx(Qye,{})}),s.jsx(nr,{path:"/admin/agencies/create",element:s.jsx(dve,{})}),s.jsx(nr,{path:"/admin/agencies/edit/:id",element:s.jsx(uve,{})}),s.jsx(nr,{path:"/admin/supervisors",element:s.jsx(eve,{})}),s.jsx(nr,{path:"/admin/supervisors/create",element:s.jsx(pve,{})}),s.jsx(nr,{path:"/admin/supervisors/edit/:id",element:s.jsx(gve,{})}),s.jsx(nr,{path:"/admin/orders",element:s.jsx(BR,{})}),s.jsx(nr,{path:"/admin/orders/create",element:s.jsx(v1e,{})}),s.jsx(nr,{path:"/admin/orders/:id",element:s.jsx(DE,{})}),s.jsx(nr,{path:"/admin/orders/:id/edit",element:s.jsx(b1e,{})}),s.jsx(nr,{path:"/admin/orders/:id/record-receipt",element:s.jsx(I1e,{})})," ",s.jsx(nr,{path:"/admin/orders/:id/supervisor-quantity",element:s.jsx(L1e,{})})," ",s.jsx(nr,{path:"/admin/purchases",element:s.jsx(WRe,{})}),s.jsx(nr,{path:"/admin/purchases/create",element:s.jsx(YRe,{})}),s.jsx(nr,{path:"/admin/purchases/edit/:id",element:s.jsx(KRe,{})}),s.jsx(nr,{path:"/admin/purchase-payments",element:s.jsx(JRe,{})}),s.jsx(nr,{path:"/admin/purchase-payments/create",element:s.jsx(rIe,{})}),s.jsx(nr,{path:"/admin/purchase-payments/:id",element:s.jsx(sIe,{})}),s.jsx(nr,{path:"/admin/products",element:s.jsx(F1e,{})}),s.jsx(nr,{path:"/admin/wallet",element:s.jsx(J8e,{})}),s.jsx(nr,{path:"/admin/members",element:s.jsx(eRe,{})})," ",s.jsx(nr,{path:"/admin/members/:memberId/edit",element:s.jsx(Vye,{})})," ",s.jsx(nr,{path:"/admin/products/create",element:s.jsx(WCe,{})}),s.jsx(nr,{path:"/admin/products/edit/:id",element:s.jsx(GCe,{})}),s.jsx(nr,{path:"/admin/products/:id",element:s.jsx(s2,{})})," ",s.jsx(nr,{path:"/admin/subscriptions",element:s.jsx(o_e,{})}),s.jsx(nr,{path:"/depot-order-details",element:s.jsx(e7e,{})})," ",s.jsx(nr,{path:"/admin/delivery",element:s.jsx(Z8e,{})})," ",s.jsx(nr,{path:"/admin/categories",element:s.jsx(fRe,{})})," ",s.jsx(nr,{path:"/admin/cities",element:s.jsx(gRe,{})}),s.jsx(nr,{path:"/admin/locations",element:s.jsx(SRe,{})}),s.jsx(nr,{path:"/admin/areamasters",element:s.jsx(nRe,{})})," ",s.jsx(nr,{path:"/admin/depots",element:s.jsx(CRe,{})})," ",s.jsx(nr,{path:"/admin/teams",element:s.jsx(MRe,{})})," ",s.jsx(nr,{path:"/admin/banners",element:s.jsx(VRe,{})})," ",s.jsx(nr,{path:"/admin/depot-variants",element:s.jsx(RRe,{})})," ",s.jsx(nr,{path:"/admin/snf-orders",element:s.jsx(t7e,{})}),s.jsx(nr,{path:"/admin/snf-orders/:id",element:s.jsx(r7e,{})}),s.jsx(nr,{path:"/admin/reports/purchase-orders",element:s.jsx(D7,{})})," ",s.jsx(nr,{path:"/admin/reports/purchases",element:s.jsx(f7e,{})})," ",s.jsx(nr,{path:"/admin/reports/delivery-agencies",element:s.jsx(hIe,{})})," ",s.jsx(nr,{path:"/admin/reports/delivery-summaries",element:s.jsx(fIe,{})})," ",s.jsx(nr,{path:"/admin/reports/delivery-date-orders",element:s.jsx(EIe,{})})," ",s.jsx(nr,{path:"/admin/reports/subscriptions",element:s.jsx(pIe,{})})," ",s.jsx(nr,{path:"/admin/reports/snf-orders",element:s.jsx(AIe,{})})," ",s.jsx(nr,{path:"/admin/reports/delivery-labeling",element:s.jsx(JFe,{})})," ",s.jsx(nr,{path:"/admin/unit-conversion",element:s.jsx(y7e,{})})," ",s.jsx(nr,{path:"/admin/unit-conversion/history",element:s.jsx(v7e,{})})," "]}),s.jsxs(nr,{element:s.jsx(nR,{}),children:[s.jsx(nr,{path:"/vendor/orders/:id",element:s.jsx(DE,{})}),s.jsx(nr,{path:"/vendor/orders/:id/record-delivery",element:s.jsx(w1e,{})}),s.jsx(nr,{path:"/vendor/reports/purchase-orders",element:s.jsx(D7,{})})," "]}),s.jsxs(nr,{element:s.jsx(VC,{}),children:[s.jsx(nr,{path:"/member/orders",element:s.jsx(BR,{})}),s.jsx(nr,{path:"/member/orders/:id",element:s.jsx(DE,{})}),s.jsx(nr,{path:"/member/products",element:s.jsx(XCe,{})})," ",s.jsx(nr,{path:"/member/products/:id",element:s.jsx(s2,{})})," ",s.jsx(nr,{path:"/member/addresses",element:s.jsx(JCe,{})}),s.jsx(nr,{path:"/member/wallet",element:s.jsx(HRe,{})}),s.jsx(nr,{path:"/member/addresses/create",element:s.jsx(t_e,{})}),s.jsx(nr,{path:"/member/addresses/edit/:id",element:s.jsx(r_e,{})}),s.jsx(nr,{path:"/member/subscriptions",element:s.jsx(k1e,{})}),s.jsx(nr,{path:"/manage-subscription/:id",element:s.jsx(R1e,{})})]})]})})]})},w7e=new yk;hZ.createRoot(document.getElementById("root")).render(s.jsx(y.StrictMode,{children:s.jsx(PZ,{client:w7e,children:s.jsx(b7e,{})})}));export{Bd as $,Ks as A,Ee as B,cv as C,Oi as D,vr as E,yl as F,Wy as G,nc as H,gt as I,Be as J,Gr as K,Rs as L,x0 as M,Dk as N,Cre as O,li as P,Ol as Q,We as R,pr as S,Sa as T,Ws as U,Ok as V,xn as W,yn as X,An as Y,En as Z,FG as _,fee as a,eo as a0,Yk as a1,wr as a2,Rr as a3,_s as a4,bv as a5,KC as a6,yS as a7,PS as a8,jt as a9,IC as aA,Ka as aB,efe as aC,K5 as aD,vu as aE,Pd as aF,Vn as aG,z5 as aH,z7e as aI,Qc as aa,Hn as ab,BC as ac,UC as ad,Ia as ae,$C as af,hl as ag,ul as ah,Hve as ai,r9e as aj,Yve as ak,Kve as al,Qve as am,Xve as an,n9e as ao,s9e as ap,or as aq,o9e as ar,Wc as as,Gc as at,gp as au,Yc as av,bg as aw,wg as ax,Ng as ay,o$ as az,Ls as b,xl as c,St as d,zt as e,dr as f,Ma as g,_t as h,G0 as i,s as j,xr as k,gr as l,yr as m,wt as n,On as o,Op as p,tc as q,y as r,Rd as s,ES as t,Ji as u,$t as v,ve as w,en as x,Ja as y,cs as z};
