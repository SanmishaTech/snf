var ve=Object.defineProperty;var be=(p,t,e)=>t in p?ve(p,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):p[t]=e;var j=(p,t,e)=>be(p,typeof t!="symbol"?t+"":t,e);import{D as we,r as h,j as a,b as Ne,a4 as ie,aa as Ee,L as B,aj as Ae,ak as Se,al as Pe,am as je,an as De,S as Q,T as H,M as Ce,P as ke,k as Oe,B as F,ao as Y,ap as J,l as X,aq as Z,ar as ee,I as _e,F as te,C as Le,as as ae,at as re,au as Re,av as Te}from"./index-Dox9eENA.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Me=we("locate-fixed",Ve);class $e{constructor(){j(this,"DEFAULT_OPTIONS",{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5});j(this,"GEOCODING_API_URL","https://api.opencagedata.com/geocode/v1/json");j(this,"GEOCODING_API_KEY","");j(this,"KNOWN_AREA_PINCODES",{"19.0_72.8":"400001","19.1_72.8":"400050","19.2_72.9":"400099","19.3_72.8":"421202","19.4_73.0":"421301","19.2_73.0":"421202","19.23_73.0":"421202","19.21_73.02":"421202"})}isGeolocationSupported(){return"geolocation"in navigator&&typeof navigator.geolocation=="object"}async checkPermissionStatus(){if(!this.isGeolocationSupported())return"denied";try{return"permissions"in navigator?(await navigator.permissions.query({name:"geolocation"})).state:await this.checkPermissionByPosition()}catch(t){return console.warn("Error checking geolocation permission:",t),"prompt"}}async requestPermission(){if(!this.isGeolocationSupported())throw{type:"PERMISSION_DENIED",message:"Geolocation is not supported in your browser",code:"GEOLOCATION_NOT_SUPPORTED"};try{return"permissions"in navigator?(await navigator.permissions.query({name:"geolocation"})).state:(await this.getCurrentPosition(),"granted")}catch(t){return t.code===1?"denied":"prompt"}}async requestLocationWithExplanation(t){if(!this.isGeolocationSupported())throw{type:"PERMISSION_DENIED",message:"Geolocation is not supported in your browser. Please enter your pincode manually.",code:1,recoverable:!0};try{const e=await this.getCurrentPosition(t);return await this.reverseGeocode(e.coords.latitude,e.coords.longitude)}catch(e){const r=e;switch(r.code){case 1:throw{type:"PERMISSION_DENIED",message:"Location access was denied. Please enable location access or enter your pincode manually.",code:"PERMISSION_DENIED",details:r};case 2:throw{type:"POSITION_UNAVAILABLE",message:"Unable to retrieve your location. Please check your device settings or enter your pincode manually.",code:"POSITION_UNAVAILABLE",details:r};case 3:throw{type:"TIMEOUT",message:"Location request timed out. Please try again or enter your pincode manually.",code:"TIMEOUT",details:r};default:throw{type:"TIMEOUT",message:"An unknown error occurred while getting your location. Please try again or enter your pincode manually.",code:3,recoverable:!0,details:r}}}}getCurrentPosition(t){return new Promise((e,r)=>{navigator.geolocation.getCurrentPosition(e,o=>r(o),{...this.DEFAULT_OPTIONS,...t})})}async checkPermissionByPosition(){try{return await this.getCurrentPosition({timeout:2e3}),"granted"}catch(t){return t.code===1?"denied":"prompt"}}async reverseGeocode(t,e){try{if(!this.GEOCODING_API_KEY){console.warn("GEOCODING_API_KEY not configured. Using fallback pincode mapping.");const c=this.generateMockPincode(t,e);let f="Unknown",y="Maharashtra",d="Unknown Address";return c==="421202"||c==="421201"||c==="421203"?(f="Dombivli",d="Dombivli, Thane"):c==="421301"?(f="Kalyan",d="Kalyan, Thane"):c.startsWith("400")&&(f="Mumbai",d="Mumbai"),{latitude:t,longitude:e,pincode:c,city:f,state:y,country:"India",address:d}}const r=new URL(this.GEOCODING_API_URL);r.searchParams.append("q",`${t}+${e}`),r.searchParams.append("key",this.GEOCODING_API_KEY),r.searchParams.append("limit","1");const o=await fetch(r.toString());if(!o.ok)throw new Error(`Geocoding API request failed: ${o.status}`);const s=await o.json();if(s.results.length===0)throw new Error("No results found for the given coordinates");const i=s.results[0],n=i.components;return{latitude:t,longitude:e,pincode:n.postcode||this.generateMockPincode(t,e),city:n.city||n.town||n.village||"Unknown",state:n.state||"Unknown",country:n.country||"India",address:i.formatted||"Unknown Address"}}catch(r){return console.warn("Reverse geocoding failed, using fallback:",r),{latitude:t,longitude:e,pincode:this.generateMockPincode(t,e),city:"Unknown",state:"Unknown",country:"India",address:"Unknown Address"}}}generateMockPincode(t,e){const r=`${t.toFixed(1)}_${e.toFixed(1)}`;if(this.KNOWN_AREA_PINCODES[r])return console.log(`Using known area pincode for ${r}: ${this.KNOWN_AREA_PINCODES[r]}`),this.KNOWN_AREA_PINCODES[r];if(t>=19.15&&t<=19.35&&e>=72.85&&e<=73.15)return console.log("Detected Dombivli/Kalyan area, returning 421202"),"421202";if(t>=18.9&&t<=19.5&&e>=72.7&&e<=73.2)return console.log("Detected Mumbai metropolitan region, returning default Mumbai pincode"),"400001";console.warn("No known area match found for coordinates, generating mock pincode");const o=Math.abs(t).toString().replace(".",""),s=Math.abs(e).toString().replace(".","");let n=(o+s).substring(0,6);for(;n.length<6;)n+="0";return n}async getPositionFromPincode(t){if(!t||!/^\d{6}$/.test(t))throw{type:"INVALID_PINCODE",message:"Please enter a valid 6-digit pincode",code:"INVALID_PINCODE"};try{if(!this.GEOCODING_API_KEY){console.warn("GEOCODING_API_KEY not configured. Using fallback for known pincodes.");const c={421202:{latitude:19.217,longitude:73.025,pincode:"421202",city:"Dombivli",state:"Maharashtra",country:"India",address:"Dombivli East, Thane"},421201:{latitude:19.218,longitude:73.023,pincode:"421201",city:"Dombivli",state:"Maharashtra",country:"India",address:"Dombivli West, Thane"},421301:{latitude:19.243,longitude:73.129,pincode:"421301",city:"Kalyan",state:"Maharashtra",country:"India",address:"Kalyan, Thane"},400001:{latitude:18.9388,longitude:72.8354,pincode:"400001",city:"Mumbai",state:"Maharashtra",country:"India",address:"Mumbai GPO"}};return c[t]?(console.log(`Using known mapping for pincode ${t}`),c[t]):{latitude:this.generateMockLatitude(t),longitude:this.generateMockLongitude(t),pincode:t,city:"Unknown",state:"Maharashtra",country:"India",address:`Pincode ${t}`}}const e=new URL(this.GEOCODING_API_URL);e.searchParams.append("q",t),e.searchParams.append("countrycode","in"),e.searchParams.append("key",this.GEOCODING_API_KEY),e.searchParams.append("limit","1");const r=await fetch(e.toString());if(!r.ok)throw new Error(`Geocoding API request failed: ${r.status}`);const o=await r.json();if(o.results.length===0)throw{type:"INVALID_PINCODE",message:"No location found for the given pincode. Please check and try again.",code:"PINCODE_NOT_FOUND"};const s=o.results[0],i=s.geometry,n=s.components;return{latitude:i.lat,longitude:i.lng,pincode:t,city:n.city||n.town||n.village||"Unknown",state:n.state||"Unknown",country:n.country||"India",address:s.formatted||`Pincode ${t}`}}catch(e){if(e.type==="INVALID_PINCODE")throw e;return console.warn("Forward geocoding failed, using fallback:",e),{latitude:this.generateMockLatitude(t),longitude:this.generateMockLongitude(t),pincode:t,city:"Unknown",state:"Unknown",country:"India",address:`Pincode ${t}`}}}generateMockLatitude(t){return 8+parseInt(t.substring(0,3))/1e3*10}generateMockLongitude(t){return 68+parseInt(t.substring(3,6))/1e3*20}watchPosition(t,e,r){if(!this.isGeolocationSupported())return e&&e({type:"PERMISSION_DENIED",message:"Geolocation is not supported in your browser",code:1,recoverable:!0}),()=>{};const o=navigator.geolocation.watchPosition(async s=>{try{const i=await this.reverseGeocode(s.coords.latitude,s.coords.longitude);t(i)}catch(i){e&&e(i)}},s=>{if(e){const i={type:"TIMEOUT",message:s.message,code:s.code,recoverable:!0,details:s};e(i)}},{...this.DEFAULT_OPTIONS,...r});return()=>{navigator.geolocation.clearWatch(o)}}calculateDistance(t,e,r,o){const i=this.toRadians(r-t),n=this.toRadians(o-e),c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(this.toRadians(t))*Math.cos(this.toRadians(r))*Math.sin(n/2)*Math.sin(n/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}toRadians(t){return t*(Math.PI/180)}}const U=new $e;class Ue{constructor(){j(this,"API_BASE_URL","/api");j(this,"CACHE_TTL",30*60*1e3)}async getDepotByPincode(t){try{const e=await fetch(`${this.API_BASE_URL}/public/area-masters/by-pincode/${t}`);if(!e.ok){if(e.status===404)return null;throw new Error(`API request failed: ${e.status}`)}const r=await e.json();return!r.success||!r.data||r.data.length===0?null:r.data[0].depot||null}catch(e){throw console.error("Error fetching depot by pincode:",e),e}}async getAllDepotsForPincode(t){try{const e=await fetch(`${this.API_BASE_URL}/public/area-masters/by-pincode/${t}`);if(!e.ok){if(e.status===404)return[];throw new Error(`API request failed: ${e.status}`)}const r=await e.json();return!r.success||!r.data?[]:r.data.filter(s=>s.depot).map(s=>s.depot).filter((s,i,n)=>n.findIndex(c=>c.id===s.id)===i)}catch(e){throw console.error("Error fetching all depots for pincode:",e),e}}async validateServiceAvailability(t){try{const e=await fetch(`${this.API_BASE_URL}/public/area-masters/by-pincode/${t}`);if(!e.ok){if(e.status===404)return{isAvailable:!1,supportedProducts:[]};throw new Error(`API request failed: ${e.status}`)}const r=await e.json();if(!r.success||!r.data||r.data.length===0)return{isAvailable:!1};const s=r.data.filter(i=>i.depot).map(i=>i.depot).filter((i,n,c)=>c.findIndex(f=>f.id===i.id)===n);return{isAvailable:s.length>0,depot:s.length>0?s[0]:void 0,estimatedDeliveryTime:s.length>0?"Same day delivery":void 0,deliveryCharges:s.length>0?0:void 0,minimumOrderAmount:s.length>0?100:void 0,message:s.length>0?"Service available in your area":"Service not available in your area"}}catch(e){return console.error("Error validating service availability:",e),{isAvailable:!1,message:"Error checking service availability"}}}async getOnlineDepot(){try{const t=await fetch(`${this.API_BASE_URL}/public/depots/online`);if(!t.ok)throw new Error(`API request failed: ${t.status}`);const e=await t.json();return!e.success||!e.data||e.data.length===0?null:e.data[0]}catch(t){return console.error("Error fetching online depot:",t),null}}async getOptimalDepot(t){if(t)try{const e=await this.getDepotByPincode(t);if(e)return e}catch(e){console.warn("Failed to get depot for pincode, falling back to online depot:",e)}try{const e=await this.getOnlineDepot();if(e)return e}catch(e){console.error("Failed to get online depot:",e)}return null}async doesDepotServePincode(t,e){try{const r=await fetch(`${this.API_BASE_URL}/public/area-masters/by-pincode/${e}`);if(!r.ok)return!1;const o=await r.json();return!o.success||!o.data?!1:o.data.some(s=>s.depotId===t)}catch(r){return console.error("Error checking if depot serves pincode:",r),!1}}async getAllDepots(){try{const t=await fetch(`${this.API_BASE_URL}/public/depots`);if(!t.ok)throw new Error(`API request failed: ${t.status}`);const e=await t.json();return!e.success||!e.data?[]:e.data}catch(t){return console.error("Error fetching all depots:",t),[]}}async getDepotById(t){try{const e=await fetch(`${this.API_BASE_URL}/public/depots/${t}`);if(!e.ok){if(e.status===404)return null;throw new Error(`API request failed: ${e.status}`)}const r=await e.json();return!r.success||!r.data?null:r.data}catch(e){return console.error("Error fetching depot by ID:",e),null}}async getDepotsByLocation(t,e){try{const r=await fetch(`${this.API_BASE_URL}/public/depots/nearby?lat=${t}&lng=${e}`);if(!r.ok)throw new Error(`API request failed: ${r.status}`);const o=await r.json();return!o.success||!o.data?[]:o.data}catch(r){return console.error("Error fetching depots by location:",r),[]}}getCacheKey(t){return`depot_mapping_${t}`}getCachedDepot(t){try{const e=this.getCacheKey(t),r=localStorage.getItem(e);if(!r)return null;const{depot:o,timestamp:s}=JSON.parse(r);return Date.now()-s>this.CACHE_TTL?(localStorage.removeItem(e),null):o}catch(e){return console.warn("Error reading cached depot:",e),null}}cacheDepot(t,e){try{const r=this.getCacheKey(t),o={depot:e,timestamp:Date.now()};localStorage.setItem(r,JSON.stringify(o))}catch(r){console.warn("Error caching depot:",r)}}clearCachedDepot(t){try{const e=this.getCacheKey(t);localStorage.removeItem(e)}catch(e){console.warn("Error clearing cached depot:",e)}}}const L=new Ue;class Fe{constructor(){j(this,"API_BASE_URL","http://localhost:3006");j(this,"DEFAULT_TIMEOUT",1e4);j(this,"MAX_RETRIES",2)}async getProducts(t){try{const e=new URL(`${this.API_BASE_URL}/api/products/public`);t&&e.searchParams.append("depotId",t.toString());const r=await this.fetchWithRetry(e.toString());if(!r.ok)throw new Error(`API request failed: ${r.status}`);const o=await r.json();if(!o.success||!o.data)return[];if(Array.isArray(o.data)){console.log("Raw products data:",o.data);const s=o.data;return console.log("Filtered non-dairy products:",s),console.log("Total products:",o.data.length,"Non-dairy:",s.length),s}else if(o.data.products&&Array.isArray(o.data.products)){console.log("Raw products data:",o.data.products);const s=o.data.products;return console.log("Filtered non-dairy products:",s),console.log("Total products:",o.data.products.length,"Non-dairy:",s.length),s}return[]}catch(e){throw console.error("Error fetching products:",e),e}}async getProductVariants(t,e){try{const r=new URL(`${this.API_BASE_URL}/api/products/public`);r.searchParams.append("depotId",e.toString());const o=await this.fetchWithRetry(r.toString());if(!o.ok){if(o.status===404)return[];throw new Error(`API request failed: ${o.status}`)}const s=await o.json();if(!s.success||!s.data)return[];let i=[],n=null;if(Array.isArray(s.data)){const c=s.data.find(f=>f.id===t);c&&c.variants&&Array.isArray(c.variants)&&(n=c,i=c.variants)}else if(s.data.products&&Array.isArray(s.data.products)){const c=s.data.products.find(f=>f.id===t);c&&c.variants&&Array.isArray(c.variants)&&(n=c,i=c.variants)}return n?i.map(c=>({id:c.id,depotId:e,productId:t,name:c.name,hsnCode:c.hsnCode,minimumQty:c.minimumQty||1,closingQty:c.closingQty||0,notInStock:c.notInStock||!1,isHidden:c.isHidden||!1,buyOncePrice:c.buyOncePrice?parseFloat(c.buyOncePrice):void 0,price15Day:c.price15Day?parseFloat(c.price15Day):void 0,price1Month:c.price1Month?parseFloat(c.price1Month):void 0,price3Day:c.price3Day?parseFloat(c.price3Day):void 0,price7Day:c.price7Day?parseFloat(c.price7Day):void 0,mrp:parseFloat(c.mrp)||0,purchasePrice:c.purchasePrice?parseFloat(c.purchasePrice):void 0,createdAt:new Date(c.createdAt||Date.now()),updatedAt:new Date(c.updatedAt||Date.now()),depot:{id:e,name:"Depot",address:"",isOnline:!0},product:n?{id:n.id,name:n.name,description:n.description,attachmentUrl:n.attachmentUrl,url:n.url,isDairyProduct:n.isDairyProduct,maintainStock:n.maintainStock,categoryId:n.categoryId,category:n.category,tags:n.tags,createdAt:new Date(n.createdAt||Date.now()),updatedAt:new Date(n.updatedAt||Date.now())}:{id:t,name:"Product",description:"",isDairyProduct:!1,maintainStock:!1,createdAt:new Date,updatedAt:new Date}})):[]}catch(r){throw console.error("Error fetching product variants:",r),r}}async getDepotVariants(t){try{const e=new URL(`${this.API_BASE_URL}/api/products/public`);e.searchParams.append("depotId",t.toString());const r=await this.fetchWithRetry(e.toString());if(!r.ok){if(r.status===404)return[];throw new Error(`API request failed: ${r.status}`)}const o=await r.json();if(!o.success||!o.data)return[];let s=[];return Array.isArray(o.data)?o.data.forEach(i=>{if(i.variants&&Array.isArray(i.variants)){const n=i.variants.map(c=>({...c,product:{id:i.id,name:i.name,description:i.description,attachmentUrl:i.attachmentUrl,url:i.url,isDairyProduct:i.isDairyProduct,maintainStock:i.maintainStock,categoryId:i.categoryId,category:i.category,createdAt:i.createdAt,updatedAt:i.updatedAt}}));s=[...s,...n]}}):o.data.products&&Array.isArray(o.data.products)&&o.data.products.forEach(i=>{if(i.variants&&Array.isArray(i.variants)){const n=i.variants.map(c=>({...c,product:{id:i.id,name:i.name,description:i.description,attachmentUrl:i.attachmentUrl,url:i.url,isDairyProduct:i.isDairyProduct,maintainStock:i.maintainStock,categoryId:i.categoryId,category:i.category,createdAt:i.createdAt,updatedAt:i.updatedAt}}));s=[...s,...n]}}),s.map(i=>{var n;return{id:i.id,depotId:t,productId:i.productId||((n=i.product)==null?void 0:n.id),name:i.name,hsnCode:i.hsnCode,minimumQty:i.minimumQty||1,closingQty:i.closingQty||0,notInStock:i.notInStock||!1,isHidden:i.isHidden||!1,buyOncePrice:i.buyOncePrice?parseFloat(i.buyOncePrice):void 0,price15Day:i.price15Day?parseFloat(i.price15Day):void 0,price1Month:i.price1Month?parseFloat(i.price1Month):void 0,price3Day:i.price3Day?parseFloat(i.price3Day):void 0,price7Day:i.price7Day?parseFloat(i.price7Day):void 0,mrp:parseFloat(i.mrp)||0,purchasePrice:i.purchasePrice?parseFloat(i.purchasePrice):void 0,createdAt:new Date(i.createdAt||Date.now()),updatedAt:new Date(i.updatedAt||Date.now()),depot:i.depot,product:i.product}})}catch(e){throw console.error("Error fetching depot variants:",e),e}}async getAllDepotVariants(){try{const t=new URL(`${this.API_BASE_URL}/public/depot-variants`),e=await this.fetchWithRetry(t.toString());if(!e.ok)throw new Error(`API request failed: ${e.status}`);const r=await e.json();if(!r.success||!r.data)return[];let o=[];return Array.isArray(r.data)?o=r.data:r.data.depot&&r.data.products&&r.data.forEach(s=>{s.products&&s.products.forEach(i=>{i.variants&&(o=[...o,...i.variants])})}),o.map(s=>{var i,n;return{id:s.id,depotId:s.depotId||((i=s.depot)==null?void 0:i.id),productId:s.productId||((n=s.product)==null?void 0:n.id),name:s.name,hsnCode:s.hsnCode,minimumQty:s.minimumQty||1,closingQty:s.closingQty||0,notInStock:s.notInStock||!1,isHidden:s.isHidden||!1,buyOncePrice:s.buyOncePrice?parseFloat(s.buyOncePrice):void 0,price15Day:s.price15Day,price1Month:s.price1Month,price3Day:s.price3Day,price7Day:s.price7Day,mrp:s.mrp||s.price||0,purchasePrice:s.purchasePrice,createdAt:s.createdAt||new Date,updatedAt:s.updatedAt||new Date,depot:s.depot,product:s.product}})}catch(t){throw console.error("Error fetching all depot variants:",t),t}}async getPublicProducts(){try{const t=new URL(`${this.API_BASE_URL}/api/products/public`),e=await this.fetchWithRetry(t.toString());if(!e.ok)throw new Error(`API request failed: ${e.status}`);const r=await e.json();return!r.success||!r.data?[]:r.data}catch(t){throw console.error("Error fetching public products:",t),t}}async getProductsByCategory(t,e){try{const r=new URL(`${this.API_BASE_URL}/api/products/public`);r.searchParams.append("categoryId",t.toString()),e&&r.searchParams.append("depotId",e.toString());const o=await this.fetchWithRetry(r.toString());if(!o.ok)throw new Error(`API request failed: ${o.status}`);const s=await o.json();return!s.success||!s.data?[]:(Array.isArray(s.data)?s.data:Array.isArray(s.data.products)?s.data.products:[]).filter(n=>{var y;const c=n==null?void 0:n.categoryId,f=(y=n==null?void 0:n.category)==null?void 0:y.id;return c===t||f===t})}catch(r){throw console.error("Error fetching products by category:",r),r}}async searchProducts(t,e){try{const r=new URL(`${this.API_BASE_URL}/api/products/public`);r.searchParams.append("search",t),e&&r.searchParams.append("depotId",e.toString());const o=await this.fetchWithRetry(r.toString());if(!o.ok)throw new Error(`API request failed: ${o.status}`);const s=await o.json();return!s.success||!s.data?[]:s.data}catch(r){throw console.error("Error searching products:",r),r}}async getProductById(t){try{const e=new URL(`${this.API_BASE_URL}/api/products/${t}`),r=await this.fetchWithRetry(e.toString());if(!r.ok){if(r.status===404)return null;throw new Error(`API request failed: ${r.status}`)}const o=await r.json();if(o&&typeof o=="object"){if(o.success&&o.data)return o.data;if(o.id)return o}return null}catch(e){throw console.error("Error fetching product by ID:",e),e}}async batchGetProducts(t){if(t.length===0)return[];try{const e=new URL(`${this.API_BASE_URL}/api/products/batch`),r=await this.fetchWithRetry(e.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productIds:t})});if(!r.ok)throw new Error(`API request failed: ${r.status}`);const o=await r.json();return!o.success||!o.data?[]:o.data}catch(e){throw console.error("Error batch fetching products:",e),e}}async fetchWithRetry(t,e){let r=null;for(let o=0;o<=this.MAX_RETRIES;o++)try{const s=new AbortController,i=setTimeout(()=>s.abort(),this.DEFAULT_TIMEOUT),n=await fetch(t,{...e,signal:s.signal});return clearTimeout(i),n}catch(s){if(r=s,o===this.MAX_RETRIES)break;const i=Math.pow(2,o)*1e3;await new Promise(n=>setTimeout(n,i))}throw r||new Error("Max retries exceeded")}extractUnitFromName(t){const e=[/(\d+)\s*(ml|ML|milliliter|milliliters)/i,/(\d+)\s*(l|L|liter|liters)/i,/(\d+)\s*(g|G|gram|grams)/i,/(\d+)\s*(kg|KG|kilogram|kilograms)/i,/(\d+)\s*(pcs|PC|pieces)/i,/(\d+)\s*(pack|Pack|PACK)/i];for(const r of e){const o=t.match(r);if(o)return o[2].toLowerCase()}return t.toLowerCase().includes("500ml")?"500ml":t.toLowerCase().includes("1l")?"1l":t.toLowerCase().includes("1kg")?"1kg":t.toLowerCase().includes("500g")?"500g":"unit"}async getCategories(){try{const t=new URL(`${this.API_BASE_URL}/api/admin/categories/public/AllCategories`),e=await this.fetchWithRetry(t.toString());if(!e.ok)throw new Error(`API request failed: ${e.status}`);const r=await e.json();return!r.success||!r.data?[]:r.data}catch(t){return console.error("Error fetching categories:",t),[]}}}const q=new Fe,ne={currentDepot:null,userLocation:null,products:[],depotVariants:[],isLoading:!1,error:null,isLocationPermissionGranted:!1,serviceAvailability:null};function qe(p,t){switch(t.type){case"SET_DEPOT":return{...p,currentDepot:t.payload,error:null};case"SET_LOCATION":return{...p,userLocation:t.payload,error:null};case"SET_PRODUCTS":return{...p,products:t.payload,isLoading:!1};case"SET_DEPOT_VARIANTS":return{...p,depotVariants:t.payload,isLoading:!1};case"SET_LOADING":return{...p,isLoading:t.payload};case"SET_ERROR":return{...p,error:t.payload,isLoading:!1};case"SET_LOCATION_PERMISSION":return{...p,isLocationPermissionGranted:t.payload};case"SET_SERVICE_AVAILABILITY":return{...p,serviceAvailability:t.payload};case"UPDATE_PRODUCT_VARIANTS":return{...p,depotVariants:p.depotVariants.map(e=>e.product.id===t.payload.productId&&t.payload.variants.find(r=>r.id===e.id)||e)};case"RESET_STATE":return ne;default:return p}}const ce=h.createContext(void 0),Je=({children:p})=>{const[t,e]=h.useReducer(qe,ne);h.useEffect(()=>{r()},[]);const r=h.useCallback(async()=>{try{e({type:"SET_LOADING",payload:!0});const n=await U.checkPermissionStatus();if(e({type:"SET_LOCATION_PERMISSION",payload:n==="granted"}),n==="granted"){const c=await U.requestLocationWithExplanation();e({type:"SET_LOCATION",payload:c});const f=await L.getOptimalDepot(c.pincode);if(f){e({type:"SET_DEPOT",payload:f});const y=await L.validateServiceAvailability(c.pincode);e({type:"SET_SERVICE_AVAILABILITY",payload:y}),await o(f.id)}else{const y=await L.getOnlineDepot();y?(e({type:"SET_DEPOT",payload:y}),await o(y.id)):e({type:"SET_ERROR",payload:{type:"DEPOT_NOT_FOUND",message:"No depot found for your location. Please try again later.",code:"DEPOT_NOT_FOUND"}})}}else if(n==="prompt")try{const c=await U.requestLocationWithExplanation();e({type:"SET_LOCATION",payload:c}),e({type:"SET_LOCATION_PERMISSION",payload:!0});const f=await L.getOptimalDepot(c.pincode);f&&(e({type:"SET_DEPOT",payload:f}),await o(f.id))}catch(c){e({type:"SET_ERROR",payload:c});const y=await L.getOnlineDepot();y&&(e({type:"SET_DEPOT",payload:y}),await o(y.id))}else{const c=await L.getOnlineDepot();c?(e({type:"SET_DEPOT",payload:c}),await o(c.id)):e({type:"SET_ERROR",payload:{type:"DEPOT_NOT_FOUND",message:"Location access denied and no online depot available.",code:"LOCATION_DENIED"}})}}catch(n){console.error("Error initializing location and depot:",n),e({type:"SET_ERROR",payload:{type:"API_ERROR",message:"Failed to initialize location services. Please try again.",details:n}})}finally{e({type:"SET_LOADING",payload:!1})}},[]),o=h.useCallback(async n=>{try{e({type:"SET_LOADING",payload:!0});const c=await q.getProducts(n);e({type:"SET_PRODUCTS",payload:c});const f=await q.getDepotVariants(n);e({type:"SET_DEPOT_VARIANTS",payload:f})}catch(c){console.error("Error loading products and variants:",c),e({type:"SET_ERROR",payload:{type:"API_ERROR",message:"Failed to load products. Please try again.",details:c}})}finally{e({type:"SET_LOADING",payload:!1})}},[]),s={setDepot:h.useCallback(async n=>{e({type:"SET_DEPOT",payload:n}),await o(n.id)},[o]),setLocation:h.useCallback(async n=>{e({type:"SET_LOCATION",payload:n});try{const c=await L.getOptimalDepot(n.pincode);c&&(e({type:"SET_DEPOT",payload:c}),await o(c.id))}catch(c){console.error("Error setting location:",c),e({type:"SET_ERROR",payload:{type:"API_ERROR",message:"Failed to set location. Please try again.",details:c}})}},[o]),setLocationWithDepot:h.useCallback(async(n,c)=>{e({type:"SET_LOCATION",payload:n}),e({type:"SET_DEPOT",payload:c}),await o(c.id)},[o]),refreshPricing:h.useCallback(async()=>{t.currentDepot&&await o(t.currentDepot.id)},[t.currentDepot,o]),setError:h.useCallback(n=>{e({type:"SET_ERROR",payload:n})},[]),setLoading:h.useCallback(n=>{e({type:"SET_LOADING",payload:n})},[]),setLocationPermission:h.useCallback(n=>{e({type:"SET_LOCATION_PERMISSION",payload:n})},[]),setServiceAvailability:h.useCallback(n=>{e({type:"SET_SERVICE_AVAILABILITY",payload:n})},[])},i={state:t,actions:s};return a.jsx(ce.Provider,{value:i,children:p})},le=()=>{const p=h.useContext(ce);if(p===void 0)throw new Error("usePricing must be used within a PricingProvider");return p},Ge=(p=5)=>{const t="snf_recent_searches",[e,r]=h.useState(()=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):[]}catch{return[]}});return{recent:e,save:n=>{if(!n.trim())return;const c=[n.trim(),...e.filter(f=>f!==n.trim())].slice(0,p);r(c),localStorage.setItem(t,JSON.stringify(c))},remove:n=>{const c=e.filter(f=>f!==n);r(c),localStorage.setItem(t,JSON.stringify(c))},clear:()=>{r([]),localStorage.removeItem(t)}}},se=()=>{const[p,t]=h.useState(!1),[e,r]=h.useState(""),[o,s]=h.useState(!1),[i,n]=h.useState(-1),[c,f]=h.useState("relevance"),[y,d]=h.useState("all"),m=h.useRef(null),N=h.useRef(null),{recent:S,save:x,remove:g,clear:I}=Ge(),b=Ne(),{state:l}=le(),v=h.useMemo(()=>{const u=new Set;return l.products.forEach(w=>{var C;const G=(C=w==null?void 0:w.category)==null?void 0:C.name;G&&u.add(G)}),["all",...Array.from(u)]},[l.products]),[A,$]=h.useState("");h.useEffect(()=>{const u=setTimeout(()=>$(e),300);return()=>clearTimeout(u)},[e]);const O=h.useMemo(()=>{const u=A.trim().toLowerCase(),w=new Map;for(const E of l.depotVariants){const P=w.get(E.productId)||[];P.push(E),w.set(E.productId,P)}let C=l.products.map(E=>{var W;const R=(w.get(E.id)||[]).filter(k=>!k.isHidden&&!k.notInStock);let _=0,T,z=Number.POSITIVE_INFINITY;for(const k of R){const V=Number(k.buyOncePrice??k.mrp??0);isFinite(V)&&V>0&&V<z&&(z=V,_=V,T=typeof k.mrp=="number"&&isFinite(k.mrp)&&k.mrp>0?k.mrp:void 0)}(!isFinite(_)||_===0)&&(_=0,T=void 0);const xe=E.attachmentUrl?`http://localhost:3006${E.attachmentUrl}`:void 0,Ie=(W=E==null?void 0:E.category)==null?void 0:W.name;return{id:E.id,name:E.name,description:E.description,imageUrl:xe,category:Ie,price:_,mrp:T}}).filter(E=>{const P=!u||E.name.toLowerCase().includes(u)||(E.description||"").toLowerCase().includes(u)||(E.category||"").toLowerCase().includes(u),R=y==="all"||E.category===y;return P&&R});switch(c){case"price_asc":C=C.sort((E,P)=>(E.price||0)-(P.price||0));break;case"price_desc":C=C.sort((E,P)=>(P.price||0)-(E.price||0));break;case"relevance":default:{C=C.sort((E,P)=>{const R=E.name.toLowerCase(),_=P.name.toLowerCase(),T=R.startsWith(u)?2:R.includes(u)?1:0;return(_.startsWith(u)?2:_.includes(u)?1:0)-T});break}}return C.slice(0,10)},[A,y,c,l.products,l.depotVariants]);h.useEffect(()=>{if(!e){s(!1);return}s(!0);const u=setTimeout(()=>s(!1),320);return()=>clearTimeout(u)},[A]),h.useEffect(()=>{const u=w=>{N.current&&!N.current.contains(w.target)&&m.current&&!m.current.contains(w.target)&&(t(!1),n(-1))};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const pe=u=>{console.log("analytics.impressions",{ids:u,query:e})},K=(u,w)=>{console.log("analytics.click",{id:u,position:w,query:e})};h.useEffect(()=>{p&&O.length&&pe(O.map(u=>u.id))},[p,O]);const me=()=>t(!0),he=u=>{r(u.target.value),t(!0)},ge=u=>{if(p||t(!0),u.key==="ArrowDown")u.preventDefault(),n(w=>Math.min(w+1,O.length-1));else if(u.key==="ArrowUp")u.preventDefault(),n(w=>Math.max(w-1,0));else if(u.key==="Enter"){if(i>=0&&i<O.length){const w=O[i];x(e),K(w.id,i),b(`/snf/product/${w.id}`),t(!1),n(-1)}}else u.key==="Escape"&&(t(!1),n(-1))},ye=()=>r(""),fe=u=>{const w=(u.price||0).toFixed(2);return u.mrp&&u.mrp>u.price?a.jsxs("span",{className:"text-sm",children:[a.jsxs("span",{className:"font-medium",children:["₹",w]}),a.jsxs("span",{className:"ml-2 text-xs line-through text-muted-foreground",children:["₹",u.mrp.toFixed(2)]})]}):a.jsxs("span",{className:"text-sm font-medium",children:["₹",w]})};return a.jsxs("div",{className:"relative w-full max-w-xl",children:[a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full px-4 py-2",children:[a.jsx(ie,{className:"h-5 w-5 text-gray-500 mr-2","aria-hidden":"true"}),a.jsx("input",{ref:m,type:"search",role:"combobox","aria-autocomplete":"list","aria-expanded":p,"aria-controls":"search-suggestion-list","aria-activedescendant":i>=0?`search-option-${i}`:void 0,placeholder:"Search products...",className:"bg-transparent border-none focus:outline-none w-60",value:e,onChange:he,onFocus:me,onKeyDown:ge}),e&&a.jsx("button",{onClick:ye,className:"ml-2 text-gray-400 hover:text-gray-600","aria-label":"Clear search",children:a.jsx(Ee,{className:"h-4 w-4"})})]})}),p&&a.jsxs("div",{ref:N,id:"search-suggestion-list",role:"listbox",className:"absolute left-0 right-0 mt-2 bg-white rounded-lg shadow-lg z-[60] max-h-[460px] overflow-y-auto border",children:[a.jsxs("div",{className:"p-2 border-b flex items-center gap-2",children:[a.jsxs("select",{className:"text-xs border rounded px-2 py-1",value:c,onChange:u=>f(u.target.value),"aria-label":"Sort results",children:[a.jsx("option",{value:"relevance",children:"Relevance"}),a.jsx("option",{value:"price_asc",children:"Price: Low to High"}),a.jsx("option",{value:"price_desc",children:"Price: High to Low"})]}),a.jsx("select",{className:"text-xs border rounded px-2 py-1 ml-auto",value:y,onChange:u=>d(u.target.value),"aria-label":"Filter by category",children:v.map(u=>a.jsx("option",{value:u,children:u},u))})]}),a.jsxs("div",{className:"p-2",children:[!e&&S.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-500",children:"RECENT SEARCHES"}),a.jsx("button",{className:"text-xs text-blue-600",onClick:I,children:"Clear all"})]}),S.map(u=>a.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 hover:bg-gray-50 rounded",children:[a.jsx("button",{className:"text-sm text-left truncate flex-1",onClick:()=>r(u),children:u}),a.jsx("button",{className:"text-xs text-muted-foreground ml-2",onClick:()=>g(u),children:"Remove"})]},u))]}),o&&a.jsx("div",{className:"flex justify-center items-center py-6",children:a.jsx("div",{className:"text-sm text-muted-foreground",children:"Searching…"})}),!o&&e&&O.length===0&&a.jsxs("div",{className:"px-3 py-6 text-center text-sm text-muted-foreground",children:["No products found for “",e,"”. Try a different term or adjust filters."]}),!o&&O.map((u,w)=>a.jsxs(B,{to:`/snf/product/${u.id}`,role:"option",id:`search-option-${w}`,"aria-selected":i===w,onClick:()=>{x(e),K(u.id,w),t(!1),n(-1)},className:`flex gap-3 px-3 py-2 rounded-md hover:bg-gray-50 focus:bg-gray-50 outline-none ${i===w?"ring-2 ring-primary":""}`,children:[a.jsx("div",{className:"w-20 h-16 rounded border overflow-hidden bg-muted/20 grid place-items-center",children:u.imageUrl?a.jsx("img",{src:u.imageUrl,alt:u.name,width:80,height:60,className:"w-full h-full object-cover",loading:"lazy"}):a.jsx("span",{className:"text-[10px] text-muted-foreground",children:"No image"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:u.name}),u.category&&a.jsx("div",{className:"text-xs text-muted-foreground truncate",children:u.category}),a.jsx("div",{className:"mt-1 flex items-center gap-2",children:fe(u)})]})]},u.id))]})]})]})};class D{static getCurrentLocation(){try{const t=localStorage.getItem(this.STORAGE_KEY);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to parse delivery location from storage:",t),null}}static setCurrentLocation(t){try{const e=localStorage.getItem(this.STORAGE_KEY),r=JSON.stringify(t);localStorage.setItem(this.STORAGE_KEY,r);const o=new StorageEvent("storage",{key:this.STORAGE_KEY,newValue:r,oldValue:e,storageArea:localStorage,url:window.location.href});window.dispatchEvent(o)}catch(e){console.warn("Failed to store delivery location:",e)}}static clearCurrentLocation(){const t=localStorage.getItem(this.STORAGE_KEY);localStorage.removeItem(this.STORAGE_KEY);const e=new StorageEvent("storage",{key:this.STORAGE_KEY,newValue:null,oldValue:t,storageArea:localStorage,url:window.location.href});window.dispatchEvent(e)}static async getDepotForPincode(t){try{const e=await Ae(t);if(e.length===0)return null;const r=e.find(s=>s.depot);if(!r||!r.depot)return null;const o={pincode:t,depotId:r.depot.id.toString(),depotName:r.depot.name,areaId:r.id,areaName:r.name};return this.setCurrentLocation(o),o}catch(e){return console.error("Failed to get depot for pincode:",e),null}}static async updateLocationByPincode(t){return this.clearCurrentLocation(),!t||!/^\d{6}$/.test(t)?null:await this.getDepotForPincode(t)}static getCurrentDepotId(){const t=this.getCurrentLocation();return(t==null?void 0:t.depotId)||null}static hasDeliveryLocation(){const t=this.getCurrentLocation();return!!(t&&t.pincode&&t.depotId)}static async migrateFromOldPincodeStorage(){if(this.hasDeliveryLocation())return;const t=localStorage.getItem("snf.pincode");t&&/^\d{6}$/.test(t)&&(await this.updateLocationByPincode(t),localStorage.removeItem("snf.pincode"))}}j(D,"STORAGE_KEY","snf.deliveryLocation");class ze{static async validateCartItems(t,e){if(console.log("[CartValidation] Starting validation:",{cartItems:t.length,depotId:e,itemDetails:t.map(r=>({productId:r.productId,variantId:r.variantId,name:r.name,variantName:r.variantName,fromDepot:r.depotId}))}),t.length===0)return console.log("[CartValidation] No items to validate"),{isValid:!0,availableItems:[],unavailableItems:[],validatedItems:[]};try{console.log("[CartValidation] Fetching depot variants for depot:",e);const r=new Promise((d,m)=>{setTimeout(()=>m(new Error("API timeout")),5e3)}),o=await Promise.race([q.getDepotVariants(e),r]);if(console.log("[CartValidation] Fetched variants:",o.length),o.length===0)return console.log("[CartValidation] No variants found, using fallback validation"),this.fallbackValidation(t,e);const s=new Map,i=new Map,n=new Map;o.forEach(d=>{if(s.set(d.id,d),i.has(d.productId)||i.set(d.productId,[]),i.get(d.productId).push(d),d.product&&d.product.name){const m=d.product.name.trim().toLowerCase();n.has(m)||n.set(m,[]),n.get(m).push(d)}});const c=[],f=[],y=[];for(const d of t){let m,N,S=!1;const x=d.originalDepotId===e;if(console.log("[CartValidation] Processing item:",{name:d.name,variantId:d.variantId,originalVariantId:d.originalVariantId,depotId:d.depotId,originalDepotId:d.originalDepotId,currentDepotId:e,isOriginalDepot:x}),x&&d.originalVariantId&&(m=s.get(d.originalVariantId),m&&(console.log(`[CartValidation] Restoring original variant for ${d.name}: variant ${d.originalVariantId} in depot ${e}`),S=d.variantId!==d.originalVariantId)),m||(m=s.get(d.variantId),m&&console.log(`[CartValidation] Found variant ${d.variantId} in current depot`,{variantName:m.name,closingQty:m.closingQty,notInStock:m.notInStock})),!m){let g=i.get(d.productId)||[];if(g.length===0){const I=d.name.trim().toLowerCase();g=n.get(I)||[],g.length>0&&console.log(`[CartValidation] Found ${g.length} variants by product name '${d.name}' in depot ${e}`)}if(g.length>0){const I=this.normalizeVariantName(d.variantName);console.log(`[CartValidation] Attempting to match variant '${d.variantName}' (normalized: '${I}')`),console.log("[CartValidation] Available variants in depot:",g.map(l=>({id:l.id,name:l.name,normalized:this.normalizeVariantName(l.name),closingQty:l.closingQty,notInStock:l.notInStock,isHidden:l.isHidden})));let b=g.find(l=>{const v=this.normalizeVariantName(l.name),A=v===I&&!l.notInStock&&!l.isHidden&&(l.closingQty===void 0||l.closingQty>=d.quantity);return v===I&&console.log(`[CartValidation] Name match found for variant ${l.id}:`,{matches:!0,available:A,reason:A?"available":{notInStock:l.notInStock,isHidden:l.isHidden,insufficientQty:l.closingQty!==void 0&&l.closingQty<d.quantity,closingQty:l.closingQty,requestedQty:d.quantity}}),A});b||(console.log("[CartValidation] No available variant found, trying to find any matching variant..."),b=g.find(l=>{const A=this.normalizeVariantName(l.name)===I;return A&&console.log(`[CartValidation] Found matching variant ${l.id} (but may have stock issues)`),A})),!b&&g.length>0&&console.log("[CartValidation] ❌ No variant match found for item:",{productName:d.name,cartVariant:d.variantName,normalizedCart:I,availableVariants:g.map(l=>({id:l.id,name:l.name,normalized:this.normalizeVariantName(l.name),closingQty:l.closingQty,inStock:!l.notInStock}))}),b?(m=b,S=!0,console.log(`[CartValidation] Hot-swapped variant for ${d.name} (${d.variantName}): ${d.variantId} -> ${b.id} (${b.name})`)):(console.log(`[CartValidation] Could not find matching variant for ${d.name} (${d.variantName})`),console.log("[CartValidation] Available variants for this product:",g.map(l=>({id:l.id,name:l.name,notInStock:l.notInStock,isHidden:l.isHidden}))))}else console.log(`[CartValidation] No variants found for product ${d.productId} (${d.name}) in depot ${e}`)}if(m)if(m.notInStock||m.isHidden)N={...d,variantId:m.id,isAvailable:!1,unavailableReason:m.notInStock?"Out of stock":"Currently unavailable",depotId:e,originalDepotId:d.originalDepotId||d.depotId,originalVariantId:d.originalVariantId||d.variantId},y.push(N);else if(m.closingQty!==void 0&&m.closingQty<d.quantity)if((d.originalDepotId||d.depotId)===e){console.log("[CartValidation] Keeping item available in original depot despite low stock:",{variantName:m.name,closingQty:m.closingQty,requestedQty:d.quantity,reason:"Item was added from this depot originally"});const I=m.buyOncePrice||m.mrp||0;N={...d,variantId:m.id,variantName:m.name,isAvailable:!0,unavailableReason:void 0,price:I,depotId:e,originalDepotId:d.originalDepotId||d.depotId,originalVariantId:d.originalVariantId||d.variantId},f.push(N)}else{const I=m.closingQty===0?"Out of stock in this area":`Only ${m.closingQty} available in this area`;N={...d,variantId:m.id,isAvailable:!1,unavailableReason:I,depotId:e,originalDepotId:d.originalDepotId||d.depotId,originalVariantId:d.originalVariantId||d.variantId},console.log(`[CartValidation] Variant ${m.id} has insufficient stock in different depot:`,{variantName:m.name,closingQty:m.closingQty,requestedQty:d.quantity,message:I}),y.push(N)}else{const g=m.buyOncePrice||m.mrp||0;N={...d,variantId:m.id,variantName:m.name,isAvailable:!0,unavailableReason:void 0,price:g,depotId:e,originalDepotId:d.originalDepotId||d.depotId,originalVariantId:d.originalVariantId||d.variantId},S&&console.log(`[CartValidation] Successfully swapped to depot ${e} variant:`,{productName:d.name,oldVariantId:d.variantId,newVariantId:m.id,newVariantName:m.name,newPrice:g}),f.push(N)}else{let g=i.get(d.productId)||[];if(g.length===0){const b=d.name.trim().toLowerCase();g=n.get(b)||[]}const I=g.some(b=>b.notInStock);N={...d,isAvailable:!1,unavailableReason:I?"Currently out of stock in this area":"Not available in your area",depotId:e,originalDepotId:d.originalDepotId||d.depotId,originalVariantId:d.originalVariantId||d.variantId},y.push(N)}c.push(N)}return console.log("[CartValidation] Validation complete:",{depotId:e,totalItems:t.length,availableCount:f.length,unavailableCount:y.length,swappedItems:c.filter(d=>t.find(m=>m.variantId!==d.variantId&&m.productId===d.productId)).length}),{isValid:y.length===0,availableItems:f,unavailableItems:y,validatedItems:c}}catch(r){console.error("[CartValidation] Error validating cart items:",r);const o=t.map(s=>({...s,isAvailable:!1,unavailableReason:"Unable to verify availability"}));return console.log("[CartValidation] Returning error result"),{isValid:!1,availableItems:[],unavailableItems:o,validatedItems:o}}}static async checkVariantAvailability(t,e,r=1){try{const s=(await q.getDepotVariants(e)).find(i=>i.id===t);return s?s.notInStock||s.isHidden?{isAvailable:!1,reason:s.notInStock?"Out of stock":"Currently unavailable"}:s.closingQty!==void 0&&s.closingQty<r?{isAvailable:!1,reason:`Only ${s.closingQty} available`,maxQuantity:s.closingQty}:{isAvailable:!0,currentPrice:s.buyOncePrice||s.mrp||0,maxQuantity:s.closingQty}:{isAvailable:!1,reason:"Not available in this location"}}catch(o){return console.error("Error checking variant availability:",o),{isAvailable:!1,reason:"Unable to verify availability"}}}static filterAvailableItems(t){return t.filter(e=>e.isAvailable!==!1)}static getValidationSummary(t){const e=t.validatedItems.length,r=t.availableItems.length,o=t.unavailableItems.length;let s="";return o===0?s="All items are available for delivery":r===0?s="No items are available in this location":s=`${o} item${o>1?"s":""} not available in this location`,{totalItems:e,availableCount:r,unavailableCount:o,message:s}}static normalizeVariantName(t){return t.toLowerCase().replace(/\s+/g,"")}static fallbackValidation(t,e){console.log("[CartValidation] Using fallback validation");const r=[],o=[],s=[];return t.forEach(i=>{const n={...i,depotId:e,originalDepotId:i.originalDepotId||i.depotId,originalVariantId:i.originalVariantId||i.variantId},c=i.originalDepotId===e;!i.depotId||i.depotId===e||c?(n.isAvailable=!0,n.unavailableReason=void 0,c&&i.originalVariantId&&(n.variantId=i.originalVariantId),o.push(n)):(n.isAvailable=!1,n.unavailableReason="Not available in this location",s.push(n)),r.push(n)}),{isValid:s.length===0,availableItems:o,unavailableItems:s,validatedItems:r}}}const Qe={items:[]},oe="snf.cart";function Be(p,t){switch(t.type){case"SET":return t.payload;case"ADD_ITEM":{const e=p.items.findIndex(r=>r.variantId===t.payload.variantId);if(e>=0){const r=[...p.items];return r[e]={...r[e],quantity:r[e].quantity+t.payload.quantity,depotId:t.payload.depotId,originalDepotId:r[e].originalDepotId||t.payload.originalDepotId,originalVariantId:r[e].originalVariantId||t.payload.originalVariantId,isAvailable:t.payload.isAvailable,unavailableReason:t.payload.unavailableReason},{items:r}}return{items:[...p.items,t.payload]}}case"REMOVE_ITEM":return{items:p.items.filter(e=>e.variantId!==t.payload.variantId)};case"INCREMENT":return{items:p.items.map(e=>e.variantId===t.payload.variantId?{...e,quantity:Math.min(99,e.quantity+1)}:e)};case"DECREMENT":return{items:p.items.map(e=>e.variantId===t.payload.variantId?{...e,quantity:Math.max(1,e.quantity-1)}:e)};case"UPDATE_AVAILABILITY":return{items:p.items.map(e=>e.variantId===t.payload.variantId?{...e,isAvailable:t.payload.isAvailable,unavailableReason:t.payload.unavailableReason}:e)};case"VALIDATE_CART":return{items:t.payload.items};case"CLEAR":return{items:[]};default:return p}}const de=h.createContext(void 0),Xe=({children:p})=>{const[t,e]=h.useReducer(Be,Qe,x=>{try{const g=localStorage.getItem(oe);if(g){const I=JSON.parse(g);if(I&&Array.isArray(I.items))return I}}catch{}return x});h.useEffect(()=>{try{localStorage.setItem(oe,JSON.stringify(t))}catch{}},[t]);const r=h.useMemo(()=>t.items.reduce((x,g)=>x+g.price*g.quantity,0),[t.items]),o=h.useMemo(()=>t.items.filter(x=>x.isAvailable!==!1).reduce((x,g)=>x+g.price*g.quantity,0),[t.items]),s=h.useMemo(()=>t.items.reduce((x,g)=>x+g.quantity,0),[t.items]),i=(x,g,I=1)=>{var $;const b=(g==null?void 0:g.buyOncePrice)||(g==null?void 0:g.mrp)||0,l=($=x==null?void 0:x.product)==null?void 0:$.attachmentUrl,v=l?`http://localhost:3006${l}`:void 0,A={productId:x.product.id,variantId:g.id,name:x.product.name,variantName:g.name||"",price:typeof b=="number"?b:0,quantity:Math.max(1,Math.min(99,I||1)),imageUrl:v,depotId:g.depotId,originalDepotId:g.depotId,originalVariantId:g.id,isAvailable:!0};e({type:"ADD_ITEM",payload:A})},n=x=>e({type:"REMOVE_ITEM",payload:{variantId:x}}),c=x=>e({type:"INCREMENT",payload:{variantId:x}}),f=x=>e({type:"DECREMENT",payload:{variantId:x}}),y=()=>e({type:"CLEAR"}),d=h.useCallback(async x=>{console.log("[CartContext] Starting cart validation for depot:",x);const g=t.items;if(g.length===0){console.log("[CartContext] No items to validate");return}try{const I=await ze.validateCartItems(g,x);console.log("[CartContext] Validation completed:",{total:I.validatedItems.length,available:I.availableItems.length,unavailable:I.unavailableItems.length}),e({type:"VALIDATE_CART",payload:{items:I.validatedItems}})}catch(I){console.error("[CartContext] Error validating cart:",I);const b=g.map(l=>({...l,isAvailable:!1,unavailableReason:"Unable to verify availability"}));e({type:"VALIDATE_CART",payload:{items:b}})}},[t.items]),S={state:t,addItem:i,removeItem:n,increment:c,decrement:f,clear:y,validateCart:d,getAvailableItems:()=>t.items.filter(x=>x.isAvailable!==!1),getUnavailableItems:()=>t.items.filter(x=>x.isAvailable===!1),subtotal:r,availableSubtotal:o,totalQuantity:s};return a.jsx(de.Provider,{value:S,children:p})};function ue(){const p=h.useContext(de);if(!p)throw new Error("useCart must be used within CartProvider");return p}const Ke=()=>{const[p,t]=h.useState(()=>{const o=D.getCurrentLocation();return o!=null&&o.depotId?parseInt(o.depotId):1}),[e,r]=h.useState(()=>D.getCurrentLocation());return h.useEffect(()=>{const o=s=>{if(s.key==="snf.deliveryLocation"||s.key===null){const i=D.getCurrentLocation(),n=i!=null&&i.depotId?parseInt(i.depotId):1;console.log("Delivery location changed:",{oldDepotId:p,newDepotId:n,newLocation:i}),n!==p&&t(n),r(i)}};return window.addEventListener("storage",o),()=>{window.removeEventListener("storage",o)}},[p]),{currentDepotId:p,deliveryLocation:e,hasDeliveryLocation:D.hasDeliveryLocation(),getCurrentDepotId:D.getCurrentDepotId}},M=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}),We=()=>{const{state:p,subtotal:t,availableSubtotal:e,totalQuantity:r,increment:o,decrement:s,removeItem:i,validateCart:n,getAvailableItems:c,getUnavailableItems:f}=ue(),{currentDepotId:y}=Ke(),[d,m]=h.useState(!1),[N,S]=h.useState(!1),x=h.useRef(null),g=h.useRef(!1),I=c(),b=f();return g.current=p.items.length>0,h.useEffect(()=>{m(!0);const l=setTimeout(()=>m(!1),300);return()=>clearTimeout(l)},[r]),h.useEffect(()=>{p.items.length>0&&y&&x.current===null&&(console.log("[CartDropdown] Initial validation on mount"),S(!0),x.current=y,n(y).finally(()=>{console.log("[CartDropdown] Initial validation completed"),S(!1)}))},[]),h.useEffect(()=>{const l=g.current,v=y!==x.current;console.log("[CartDropdown] Effect triggered:",{hasItems:l,currentDepotId:y,lastValidatedDepot:x.current,depotChanged:v,isValidating:N}),l&&y&&v&&!N?(console.log("[CartDropdown] Starting validation for depot:",y),S(!0),x.current=y,n(y).finally(()=>{console.log("[CartDropdown] Validation completed"),S(!1)})):console.log("[CartDropdown] Skipping validation:",{hasItems:l,hasDepotId:!!y,depotChanged:v,isValidating:N})},[y,N]),a.jsxs(Se,{children:[a.jsx(Pe,{asChild:!0,children:a.jsxs("button",{id:"snf-cart-button",className:"relative inline-flex items-center justify-center rounded-md h-9 w-9 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring","aria-label":"Cart",children:[a.jsx(je,{className:"size-5","aria-hidden":!0}),a.jsx("span",{className:`absolute -top-1 -right-1 min-w-5 h-5 px-1 rounded-full bg-primary text-[10px] text-primary-foreground grid place-items-center transition-transform duration-300 ${d?"scale-110":""}`,"aria-live":"polite","aria-atomic":"true",children:r})]})}),a.jsxs(De,{align:"end",sideOffset:8,className:"z-[60] w-80 sm:w-96 p-0",children:[a.jsx("div",{className:"p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-semibold",children:"Your Cart"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[r," items"]})]})}),a.jsx(Q,{}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:p.items.length===0?a.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Your cart is empty."}):a.jsxs(a.Fragment,{children:[N&&a.jsxs("div",{className:"p-3 text-sm text-muted-foreground flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Checking availability..."]}),I.length>0&&a.jsx("ul",{className:"divide-y",children:I.map(l=>a.jsxs("li",{className:"p-3 flex gap-3",children:[a.jsx("div",{className:"size-14 shrink-0 rounded-md overflow-hidden bg-muted/30 grid place-items-center",children:l.imageUrl?a.jsx("img",{src:l.imageUrl,alt:l.name,className:"h-full w-full object-cover",loading:"lazy"}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"No image"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:l.name}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:l.variantName})]}),a.jsx("button",{className:"p-1 rounded hover:bg-accent",onClick:()=>i(l.variantId),"aria-label":`Remove ${l.name}`,children:a.jsx(H,{className:"size-4"})})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 border rounded-md px-2 py-1",children:[a.jsx("button",{className:"p-1 rounded hover:bg-accent",onClick:()=>s(l.variantId),"aria-label":"Decrease quantity",children:a.jsx(Ce,{className:"size-4"})}),a.jsx("span",{className:"text-sm w-5 text-center",children:l.quantity}),a.jsx("button",{className:"p-1 rounded hover:bg-accent",onClick:()=>o(l.variantId),"aria-label":"Increase quantity",children:a.jsx(ke,{className:"size-4"})})]}),a.jsx("div",{className:"text-sm font-medium",children:M.format(l.price*l.quantity)})]})]})]},l.variantId))}),b.length>0&&a.jsxs(a.Fragment,{children:[I.length>0&&a.jsx(Q,{}),a.jsxs("div",{className:"p-3 bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Oe,{className:"size-4 text-amber-500"}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Items unavailable"})]}),a.jsx("ul",{className:"divide-y divide-muted-foreground/20",children:b.map(l=>a.jsxs("li",{className:"py-2 flex gap-3 opacity-60",children:[a.jsx("div",{className:"size-14 shrink-0 rounded-md overflow-hidden bg-muted/50 grid place-items-center",children:l.imageUrl?a.jsx("img",{src:l.imageUrl,alt:l.name,className:"h-full w-full object-cover grayscale",loading:"lazy"}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"No image"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate line-through",children:l.name}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:l.variantName}),a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:l.unavailableReason||"Not available in your area"})]}),a.jsx("button",{className:"p-1 rounded hover:bg-accent",onClick:()=>i(l.variantId),"aria-label":`Remove ${l.name}`,children:a.jsx(H,{className:"size-4"})})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Qty: ",l.quantity]}),a.jsx("div",{className:"text-sm text-muted-foreground line-through",children:M.format(l.price*l.quantity)})]})]})]},l.variantId))})]})]})]})}),a.jsx(Q,{}),a.jsxs("div",{className:"p-3 space-y-2",children:[b.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total"}),a.jsx("span",{className:"text-muted-foreground line-through",children:M.format(t)})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Available items"}),a.jsx("span",{className:"font-semibold",children:M.format(e)})]}),a.jsxs("div",{className:"text-xs text-amber-600 bg-amber-50 p-2 rounded",children:[a.jsxs("div",{className:"font-medium mb-1",children:[b.length," item",b.length>1?"s":""," unavailable"]}),a.jsx("div",{className:"text-amber-500",children:"These items are not available in your current delivery area and will be removed at checkout"})]})]}),b.length===0&&a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),a.jsx("span",{className:"font-semibold",children:M.format(t)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(F,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(B,{to:"/snf",children:"Continue shopping"})}),a.jsx(F,{size:"sm",disabled:I.length===0,asChild:!0,children:a.jsx(B,{to:"/snf/checkout",children:b.length>0?`Checkout (${I.length} items)`:"Checkout"})})]}),!1]})]})]})},Ze=p=>{const[t,e]=h.useState(!1),[r,o]=h.useState(!1),[s,i]=h.useState(()=>D.getCurrentLocation()),[n,c]=h.useState(()=>(s==null?void 0:s.pincode)||""),[f,y]=h.useState(null),[d,m]=h.useState(null),N=/^\d{6}$/.test(n),{actions:S}=le(),{validateCart:x,state:g}=ue();h.useEffect(()=>{const l=()=>e(window.scrollY>8);return window.addEventListener("scroll",l,{passive:!0}),()=>window.removeEventListener("scroll",l)},[]),h.useEffect(()=>{(async()=>{await D.migrateFromOldPincodeStorage();const v=D.getCurrentLocation();v&&(i(v),c(v.pincode))})()},[]);const I=async()=>{m(null),y("pin");try{const l=await D.updateLocationByPincode(n);if(l){if(i(l),c(l.pincode),o(!1),console.log(`Location updated: ${l.pincode} -> Depot: ${l.depotName} (${l.depotId})`),l.depotId&&l.depotName)try{const v={pincode:l.pincode,latitude:0,longitude:0,address:`${l.areaName||""}, ${l.pincode}`.trim().replace(/^,\s*/,"")},A={id:parseInt(l.depotId),name:l.depotName,address:l.areaName||"",pincode:l.pincode,isActive:!0};await S.setLocationWithDepot(v,A),g.items.length>0&&(console.log(`[Header] Validating cart for new depot: ${A.id}`),await x(A.id))}catch(v){console.error("Failed to update pricing context:",v)}}else m("We don't deliver to this pincode yet. Check back soon!")}catch(l){m((l==null?void 0:l.message)||"Failed to resolve pincode")}finally{y(null)}},b=async()=>{m(null),y("geo");try{const l=await U.requestLocationWithExplanation(),v=await D.updateLocationByPincode(l.pincode);if(v){i(v),c(v.pincode),o(!1),console.log(`Location detected: ${v.pincode} -> Depot: ${v.depotName} (${v.depotId})`);try{await S.setLocation(l),g.items.length>0&&v.depotId&&(console.log(`[Header] Validating cart for detected depot: ${v.depotId}`),await x(parseInt(v.depotId)))}catch(A){console.error("Failed to update pricing context:",A)}}else{c(l.pincode),m("We don't deliver to this location yet. Check back soon!");try{await S.setLocation(l)}catch(A){console.error("Failed to update pricing context:",A)}}}catch(l){m((l==null?void 0:l.message)||"Unable to get location")}finally{y(null)}};return a.jsx("header",{className:`top-0 inset-x-0 z-40 bg-background/95 supports-[backdrop-filter]:bg-background/60 backdrop-blur border-b transition-all pt-[env(safe-area-inset-top)] ${t?"sticky shadow-sm":"relative"}`,"aria-label":"SNF store global header",children:a.jsxs("div",{className:"container mx-auto px-3 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"h-14 md:h-16 flex items-center justify-between gap-2 md:gap-3 min-w-0",children:[a.jsxs("a",{href:"/snf",className:"flex items-center gap-2 min-w-0","aria-label":"SNF Home",children:[a.jsx("div",{className:"size-8 rounded-md bg-primary text-primary-foreground grid place-items-center font-bold shrink-0",children:"S"}),a.jsx("span",{className:"hidden sm:inline text-base md:text-lg font-semibold tracking-tight truncate",children:"SNF Market"})]}),a.jsx("div",{className:"flex-1 max-w-xl hidden md:flex items-center min-w-0",children:a.jsx(se,{})}),a.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 shrink-0",children:[a.jsxs(Y,{open:r,onOpenChange:o,children:[a.jsx(J,{asChild:!0,children:a.jsxs(F,{variant:"outline",size:"sm","aria-label":"Select delivery location",className:"whitespace-nowrap",children:[a.jsx(X,{className:"size-4"}),s&&s.depotName?a.jsxs("span",{className:"hidden sm:inline",children:[s.pincode," • ",s.depotName]}):n?a.jsxs("span",{className:"hidden sm:inline",children:["Pincode: ",n]}):a.jsx("span",{className:"hidden sm:inline",children:"Set location"})]})}),a.jsxs(Z,{align:"end",sideOffset:8,className:"w-72 z-[60]",children:[a.jsxs(ee,{className:"flex items-center gap-2",children:[a.jsx(X,{className:"size-4"}),"Choose delivery location"]}),a.jsxs("div",{className:"px-2 py-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_e,{inputMode:"numeric",pattern:"\\d{6}",maxLength:6,placeholder:"Enter 6-digit pincode",value:n,onChange:l=>{const v=l.target.value.replace(/\D/g,"").slice(0,6);c(v),m(null)},"aria-invalid":n.length>0&&!N}),a.jsx(F,{size:"sm",disabled:!N||f==="pin",onClick:I,"aria-label":"Apply pincode",children:f==="pin"?a.jsx(te,{className:"size-4 animate-spin"}):a.jsx(Le,{className:"size-4"})})]}),d&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:d}),!d&&n&&!N&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Pincode must be 6 digits"})]}),a.jsx(ae,{}),a.jsxs(re,{onClick:b,className:"cursor-pointer",disabled:f==="geo",children:[f==="geo"?a.jsx(te,{className:"size-4 animate-spin"}):a.jsx(Me,{className:"size-4"}),"Use my current location"]})]})]}),a.jsx("div",{className:"hidden sm:inline-flex",children:a.jsx(Re,{isLoggedIn:!0})}),a.jsx("a",{href:"/snf",className:"md:hidden inline-flex items-center justify-center rounded-md h-9 w-9 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring","aria-label":"Search",children:a.jsx(ie,{className:"size-5","aria-hidden":"true"})}),a.jsxs(Y,{children:[a.jsx(J,{asChild:!0,children:a.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md h-9 w-9 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring","aria-label":"Account",children:a.jsx(Te,{className:"size-5","aria-hidden":!0})})}),a.jsxs(Z,{align:"end",sideOffset:8,className:"w-44",children:[a.jsx(ee,{children:"Account"}),a.jsx(ae,{}),a.jsx(re,{asChild:!0,children:a.jsx("a",{href:"/snf/address",className:"w-full",children:"Address"})})]})]}),a.jsx(We,{})]})]}),a.jsx("div",{className:"md:hidden pb-2",children:a.jsx(se,{})})]})})},et=()=>a.jsxs("footer",{className:"bg-slate-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-8 gap-y-10",children:[a.jsxs("div",{className:"md:col-span-12 lg:col-span-4",children:[a.jsxs("div",{className:"mb-6 flex items-center",children:[a.jsx("span",{className:"inline-grid place-items-center h-10 w-10 rounded bg-primary text-primary-foreground mr-3 font-bold",children:"S"}),a.jsx("span",{className:"text-xl font-bold",children:"SNF Market"})]}),a.jsx("p",{className:"text-sm mb-6 leading-relaxed",children:"Fresh groceries delivered fast. Pure, natural, and carefully curated selection."}),a.jsx("h3",{className:"text-[0.9rem] font-semibold mb-3 text-gray-600 dark:text-gray-400",children:"Payment Accepted"}),a.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:["Mastercard","Discover","UPI","Visa","Stripe"].map(p=>a.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-md shadow-sm",children:p},p))})]}),a.jsx("div",{className:"hidden lg:block lg:col-span-1"}),a.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[a.jsx("h3",{className:"text-md font-semibold mb-4 border-b-2 border-primary pb-1 inline-block",children:"Policies"}),a.jsxs("ul",{className:"space-y-2.5 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"/privacy-policy",className:"hover:text-primary transition-colors",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx("a",{href:"/refund-policy",className:"hover:text-primary transition-colors",children:"Refund Policy"})}),a.jsx("li",{children:a.jsx("a",{href:"/shipping-policy",className:"hover:text-primary transition-colors",children:"Shipping Policy"})}),a.jsx("li",{children:a.jsx("a",{href:"/terms-and-conditions",className:"hover:text-primary transition-colors",children:"Terms & Conditions"})})]})]}),a.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[a.jsx("h3",{className:"text-md font-semibold mb-4 border-b-2 border-primary pb-1 inline-block",children:"Useful Links"}),a.jsxs("ul",{className:"space-y-2.5 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"/snf",className:"hover:text-primary transition-colors",children:"Home"})}),a.jsx("li",{children:a.jsx("a",{href:"/snf#products",className:"hover:text-primary transition-colors",children:"Products"})}),a.jsx("li",{children:a.jsx("a",{href:"/about",className:"hover:text-primary transition-colors",children:"About"})}),a.jsx("li",{children:a.jsx("a",{href:"/contact",className:"hover:text-primary transition-colors",children:"Contact"})})]})]}),a.jsxs("div",{className:"md:col-span-4 lg:col-span-3",children:[a.jsx("h3",{className:"text-md font-semibold mb-4 border-b-2 border-primary pb-1 inline-block",children:"Contact"}),a.jsxs("address",{className:"text-sm not-italic space-y-2 leading-relaxed",children:[a.jsx("p",{children:"SNF Market, Fresh Street, Farm District, 421201"}),a.jsx("p",{children:a.jsx("a",{href:"mailto:hello@snf.example",className:"hover:text-primary transition-colors break-all",children:"hello@snf.example"})}),a.jsx("p",{children:a.jsx("a",{href:"tel:+910000000000",className:"hover:text-primary transition-colors",children:"+91 0000000000"})})]})]})]})}),a.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 py-4 border-t border-gray-300 dark:border-gray-700",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 dark:text-gray-400",children:[a.jsxs("p",{className:"mb-2 md:mb-0 text-center md:text-left",children:["© ",new Date().getFullYear()," SNF Market. All Rights Reserved."]}),a.jsx("p",{className:"text-center md:text-right",children:"Built with love and veggies."})]})})]});export{Xe as C,D,et as F,Ze as H,Je as P,le as a,ue as b,q as p,Ke as u};
