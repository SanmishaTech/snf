var iG=Object.defineProperty;var ID=e=>{throw TypeError(e)};var oG=(e,t,r)=>t in e?iG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var lG=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ot=(e,t,r)=>oG(e,typeof t!="symbol"?t+"":t,r),u2=(e,t,r)=>t.has(e)||ID("Cannot "+r);var we=(e,t,r)=>(u2(e,t,"read from private field"),r?r.call(e):t.get(e)),Qt=(e,t,r)=>t.has(e)?ID("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Rt=(e,t,r,s)=>(u2(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),gr=(e,t,r)=>(u2(e,t,"access private method"),r);var Fv=(e,t,r,s)=>({set _(a){Rt(e,t,a,r)},get _(){return we(e,t,s)}});var BRe=lG((Fi,Li)=>{function cG(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f2={exports:{}},tx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FD;function dG(){if(FD)return tx;FD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:e,type:s,key:o,ref:a!==void 0?a:null,props:i}}return tx.Fragment=t,tx.jsx=r,tx.jsxs=r,tx}var LD;function uG(){return LD||(LD=1,f2.exports=dG()),f2.exports}var n=uG(),h2={exports:{}},xr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BD;function fG(){if(BD)return xr;BD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.iterator;function p(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,b={};function w(q,te,M){this.props=q,this.context=te,this.refs=b,this.updater=M||y}w.prototype.isReactComponent={},w.prototype.setState=function(q,te){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,te,"setState")},w.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function j(){}j.prototype=w.prototype;function S(q,te,M){this.props=q,this.context=te,this.refs=b,this.updater=M||y}var A=S.prototype=new j;A.constructor=S,N(A,w.prototype),A.isPureReactComponent=!0;var C=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function _(q,te,M,W,K,V){return M=V.ref,{$$typeof:e,type:q,key:te,ref:M!==void 0?M:null,props:V}}function O(q,te){return _(q.type,te,void 0,void 0,void 0,q.props)}function P(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function B(q){var te={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(M){return te[M]})}var I=/\/+/g;function G(q,te){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):te.toString(36)}function z(){}function ae(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(z,z):(q.status="pending",q.then(function(te){q.status==="pending"&&(q.status="fulfilled",q.value=te)},function(te){q.status==="pending"&&(q.status="rejected",q.reason=te)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function J(q,te,M,W,K){var V=typeof q;(V==="undefined"||V==="boolean")&&(q=null);var Q=!1;if(q===null)Q=!0;else switch(V){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(q.$$typeof){case e:case t:Q=!0;break;case h:return Q=q._init,J(Q(q._payload),te,M,W,K)}}if(Q)return K=K(q),Q=W===""?"."+G(q,0):W,C(K)?(M="",Q!=null&&(M=Q.replace(I,"$&/")+"/"),J(K,te,M,"",function(ue){return ue})):K!=null&&(P(K)&&(K=O(K,M+(K.key==null||q&&q.key===K.key?"":(""+K.key).replace(I,"$&/")+"/")+Q)),te.push(K)),1;Q=0;var ie=W===""?".":W+":";if(C(q))for(var xe=0;xe<q.length;xe++)W=q[xe],V=ie+G(W,xe),Q+=J(W,te,M,V,K);else if(xe=p(q),typeof xe=="function")for(q=xe.call(q),xe=0;!(W=q.next()).done;)W=W.value,V=ie+G(W,xe++),Q+=J(W,te,M,V,K);else if(V==="object"){if(typeof q.then=="function")return J(ae(q),te,M,W,K);throw te=String(q),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Q}function L(q,te,M){if(q==null)return q;var W=[],K=0;return J(q,W,"","",function(V){return te.call(M,V,K++)}),W}function U(q){if(q._status===-1){var te=q._result;te=te(),te.then(function(M){(q._status===0||q._status===-1)&&(q._status=1,q._result=M)},function(M){(q._status===0||q._status===-1)&&(q._status=2,q._result=M)}),q._status===-1&&(q._status=0,q._result=te)}if(q._status===1)return q._result.default;throw q._result}var F=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function X(){}return xr.Children={map:L,forEach:function(q,te,M){L(q,function(){te.apply(this,arguments)},M)},count:function(q){var te=0;return L(q,function(){te++}),te},toArray:function(q){return L(q,function(te){return te})||[]},only:function(q){if(!P(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},xr.Component=w,xr.Fragment=r,xr.Profiler=a,xr.PureComponent=S,xr.StrictMode=s,xr.Suspense=u,xr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,xr.__COMPILER_RUNTIME={__proto__:null,c:function(q){return T.H.useMemoCache(q)}},xr.cache=function(q){return function(){return q.apply(null,arguments)}},xr.cloneElement=function(q,te,M){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var W=N({},q.props),K=q.key,V=void 0;if(te!=null)for(Q in te.ref!==void 0&&(V=void 0),te.key!==void 0&&(K=""+te.key),te)!D.call(te,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&te.ref===void 0||(W[Q]=te[Q]);var Q=arguments.length-2;if(Q===1)W.children=M;else if(1<Q){for(var ie=Array(Q),xe=0;xe<Q;xe++)ie[xe]=arguments[xe+2];W.children=ie}return _(q.type,K,void 0,void 0,V,W)},xr.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:i,_context:q},q},xr.createElement=function(q,te,M){var W,K={},V=null;if(te!=null)for(W in te.key!==void 0&&(V=""+te.key),te)D.call(te,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(K[W]=te[W]);var Q=arguments.length-2;if(Q===1)K.children=M;else if(1<Q){for(var ie=Array(Q),xe=0;xe<Q;xe++)ie[xe]=arguments[xe+2];K.children=ie}if(q&&q.defaultProps)for(W in Q=q.defaultProps,Q)K[W]===void 0&&(K[W]=Q[W]);return _(q,V,void 0,void 0,null,K)},xr.createRef=function(){return{current:null}},xr.forwardRef=function(q){return{$$typeof:l,render:q}},xr.isValidElement=P,xr.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:U}},xr.memo=function(q,te){return{$$typeof:f,type:q,compare:te===void 0?null:te}},xr.startTransition=function(q){var te=T.T,M={};T.T=M;try{var W=q(),K=T.S;K!==null&&K(M,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(X,F)}catch(V){F(V)}finally{T.T=te}},xr.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},xr.use=function(q){return T.H.use(q)},xr.useActionState=function(q,te,M){return T.H.useActionState(q,te,M)},xr.useCallback=function(q,te){return T.H.useCallback(q,te)},xr.useContext=function(q){return T.H.useContext(q)},xr.useDebugValue=function(){},xr.useDeferredValue=function(q,te){return T.H.useDeferredValue(q,te)},xr.useEffect=function(q,te,M){var W=T.H;if(typeof M=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(q,te)},xr.useId=function(){return T.H.useId()},xr.useImperativeHandle=function(q,te,M){return T.H.useImperativeHandle(q,te,M)},xr.useInsertionEffect=function(q,te){return T.H.useInsertionEffect(q,te)},xr.useLayoutEffect=function(q,te){return T.H.useLayoutEffect(q,te)},xr.useMemo=function(q,te){return T.H.useMemo(q,te)},xr.useOptimistic=function(q,te){return T.H.useOptimistic(q,te)},xr.useReducer=function(q,te,M){return T.H.useReducer(q,te,M)},xr.useRef=function(q){return T.H.useRef(q)},xr.useState=function(q){return T.H.useState(q)},xr.useSyncExternalStore=function(q,te,M){return T.H.useSyncExternalStore(q,te,M)},xr.useTransition=function(){return T.H.useTransition()},xr.version="19.1.0",xr}var $D;function Xb(){return $D||($D=1,h2.exports=fG()),h2.exports}var g=Xb();const Le=Kb(g),hT=cG({__proto__:null,default:Le},[g]);var m2={exports:{}},rx={},p2={exports:{}},x2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UD;function hG(){return UD||(UD=1,function(e){function t(L,U){var F=L.length;L.push(U);e:for(;0<F;){var X=F-1>>>1,q=L[X];if(0<a(q,U))L[X]=U,L[F]=q,F=X;else break e}}function r(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var U=L[0],F=L.pop();if(F!==U){L[0]=F;e:for(var X=0,q=L.length,te=q>>>1;X<te;){var M=2*(X+1)-1,W=L[M],K=M+1,V=L[K];if(0>a(W,F))K<q&&0>a(V,W)?(L[X]=V,L[K]=F,X=K):(L[X]=W,L[M]=F,X=M);else if(K<q&&0>a(V,F))L[X]=V,L[K]=F,X=K;else break e}}return U}function a(L,U){var F=L.sortIndex-U.sortIndex;return F!==0?F:L.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,x=null,p=3,y=!1,N=!1,b=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(L){for(var U=r(f);U!==null;){if(U.callback===null)s(f);else if(U.startTime<=L)s(f),U.sortIndex=U.expirationTime,t(u,U);else break;U=r(f)}}function T(L){if(b=!1,C(L),!N)if(r(u)!==null)N=!0,D||(D=!0,G());else{var U=r(f);U!==null&&J(T,U.startTime-L)}}var D=!1,_=-1,O=5,P=-1;function B(){return w?!0:!(e.unstable_now()-P<O)}function I(){if(w=!1,D){var L=e.unstable_now();P=L;var U=!0;try{e:{N=!1,b&&(b=!1,S(_),_=-1),y=!0;var F=p;try{t:{for(C(L),x=r(u);x!==null&&!(x.expirationTime>L&&B());){var X=x.callback;if(typeof X=="function"){x.callback=null,p=x.priorityLevel;var q=X(x.expirationTime<=L);if(L=e.unstable_now(),typeof q=="function"){x.callback=q,C(L),U=!0;break t}x===r(u)&&s(u),C(L)}else s(u);x=r(u)}if(x!==null)U=!0;else{var te=r(f);te!==null&&J(T,te.startTime-L),U=!1}}break e}finally{x=null,p=F,y=!1}U=void 0}}finally{U?G():D=!1}}}var G;if(typeof A=="function")G=function(){A(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ae=z.port2;z.port1.onmessage=I,G=function(){ae.postMessage(null)}}else G=function(){j(I,0)};function J(L,U){_=j(function(){L(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var F=p;p=U;try{return L()}finally{p=F}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=p;p=L;try{return U()}finally{p=F}},e.unstable_scheduleCallback=function(L,U,F){var X=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?X+F:X):F=X,L){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=F+q,L={id:h++,callback:U,priorityLevel:L,startTime:F,expirationTime:q,sortIndex:-1},F>X?(L.sortIndex=F,t(f,L),r(u)===null&&L===r(f)&&(b?(S(_),_=-1):b=!0,J(T,F-X))):(L.sortIndex=q,t(u,L),N||y||(N=!0,D||(D=!0,G()))),L},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(L){var U=p;return function(){var F=p;p=U;try{return L.apply(this,arguments)}finally{p=F}}}}(x2)),x2}var VD;function mG(){return VD||(VD=1,p2.exports=hG()),p2.exports}var g2={exports:{}},ba={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD;function pG(){if(qD)return ba;qD=1;var e=Xb();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,f,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:u,containerInfo:f,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ba.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ba.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(u,f,null,h)},ba.flushSync=function(u){var f=o.T,h=s.p;try{if(o.T=null,s.p=2,u)return u()}finally{o.T=f,s.p=h,s.d.f()}},ba.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(u,f))},ba.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},ba.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,x=l(h,f.crossOrigin),p=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?s.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:p,fetchPriority:y}):h==="script"&&s.d.X(u,{crossOrigin:x,integrity:p,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ba.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);s.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(u)},ba.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,x=l(h,f.crossOrigin);s.d.L(u,h,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ba.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);s.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(u)},ba.requestFormReset=function(u){s.d.r(u)},ba.unstable_batchedUpdates=function(u,f){return u(f)},ba.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},ba.useFormStatus=function(){return o.H.useHostTransitionStatus()},ba.version="19.1.0",ba}var zD;function tI(){if(zD)return g2.exports;zD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),g2.exports=pG(),g2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HD;function xG(){if(HD)return rx;HD=1;var e=mG(),t=Xb(),r=tI();function s(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function o(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function l(c){if(i(c)!==c)throw Error(s(188))}function u(c){var d=c.alternate;if(!d){if(d=i(c),d===null)throw Error(s(188));return d!==c?null:c}for(var m=c,v=d;;){var E=m.return;if(E===null)break;var k=E.alternate;if(k===null){if(v=E.return,v!==null){m=v;continue}break}if(E.child===k.child){for(k=E.child;k;){if(k===m)return l(E),c;if(k===v)return l(E),d;k=k.sibling}throw Error(s(188))}if(m.return!==v.return)m=E,v=k;else{for(var H=!1,Z=E.child;Z;){if(Z===m){H=!0,m=E,v=k;break}if(Z===v){H=!0,v=E,m=k;break}Z=Z.sibling}if(!H){for(Z=k.child;Z;){if(Z===m){H=!0,m=k,v=E;break}if(Z===v){H=!0,v=k,m=E;break}Z=Z.sibling}if(!H)throw Error(s(189))}}if(m.alternate!==v)throw Error(s(190))}if(m.tag!==3)throw Error(s(188));return m.stateNode.current===m?c:d}function f(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=f(c),d!==null)return d;c=c.sibling}return null}var h=Object.assign,x=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function G(c){return c===null||typeof c!="object"?null:(c=I&&c[I]||c["@@iterator"],typeof c=="function"?c:null)}var z=Symbol.for("react.client.reference");function ae(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===z?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case N:return"Fragment";case w:return"Profiler";case b:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList";case P:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case A:return(c.displayName||"Context")+".Provider";case S:return(c._context.displayName||"Context")+".Consumer";case C:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return d=c.displayName||null,d!==null?d:ae(c.type)||"Memo";case O:d=c._payload,c=c._init;try{return ae(c(d))}catch{}}return null}var J=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},X=[],q=-1;function te(c){return{current:c}}function M(c){0>q||(c.current=X[q],X[q]=null,q--)}function W(c,d){q++,X[q]=c.current,c.current=d}var K=te(null),V=te(null),Q=te(null),ie=te(null);function xe(c,d){switch(W(Q,d),W(V,c),W(K,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?dD(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=dD(d),c=uD(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}M(K),W(K,c)}function ue(){M(K),M(V),M(Q)}function de(c){c.memoizedState!==null&&W(ie,c);var d=K.current,m=uD(d,c.type);d!==m&&(W(V,c),W(K,m))}function De(c){V.current===c&&(M(K),M(V)),ie.current===c&&(M(ie),Xp._currentValue=F)}var Ne=Object.prototype.hasOwnProperty,ot=e.unstable_scheduleCallback,Ee=e.unstable_cancelCallback,Ae=e.unstable_shouldYield,Ye=e.unstable_requestPaint,be=e.unstable_now,ge=e.unstable_getCurrentPriorityLevel,Me=e.unstable_ImmediatePriority,xt=e.unstable_UserBlockingPriority,jt=e.unstable_NormalPriority,fe=e.unstable_LowPriority,Se=e.unstable_IdlePriority,Re=e.log,ye=e.unstable_setDisableYieldValue,$e=null,Pe=null;function Xe(c){if(typeof Re=="function"&&ye(c),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode($e,c)}catch{}}var gt=Math.clz32?Math.clz32:Fs,Vt=Math.log,Mr=Math.LN2;function Fs(c){return c>>>=0,c===0?32:31-(Vt(c)/Mr|0)|0}var qs=256,zs=4194304;function _s(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Nn(c,d,m){var v=c.pendingLanes;if(v===0)return 0;var E=0,k=c.suspendedLanes,H=c.pingedLanes;c=c.warmLanes;var Z=v&134217727;return Z!==0?(v=Z&~k,v!==0?E=_s(v):(H&=Z,H!==0?E=_s(H):m||(m=Z&~c,m!==0&&(E=_s(m))))):(Z=v&~k,Z!==0?E=_s(Z):H!==0?E=_s(H):m||(m=v&~c,m!==0&&(E=_s(m)))),E===0?0:d!==0&&d!==E&&(d&k)===0&&(k=E&-E,m=d&-d,k>=m||k===32&&(m&4194048)!==0)?d:E}function hn(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function tn(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function es(){var c=qs;return qs<<=1,(qs&4194048)===0&&(qs=256),c}function ma(){var c=zs;return zs<<=1,(zs&62914560)===0&&(zs=4194304),c}function jn(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function mn(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function hr(c,d,m,v,E,k){var H=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var Z=c.entanglements,pe=c.expirationTimes,Fe=c.hiddenUpdates;for(m=H&~m;0<m;){var et=31-gt(m),nt=1<<et;Z[et]=0,pe[et]=-1;var Ve=Fe[et];if(Ve!==null)for(Fe[et]=null,et=0;et<Ve.length;et++){var He=Ve[et];He!==null&&(He.lane&=-536870913)}m&=~nt}v!==0&&qt(c,v,0),k!==0&&E===0&&c.tag!==0&&(c.suspendedLanes|=k&~(H&~d))}function qt(c,d,m){c.pendingLanes|=d,c.suspendedLanes&=~d;var v=31-gt(d);c.entangledLanes|=d,c.entanglements[v]=c.entanglements[v]|1073741824|m&4194090}function Ir(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var v=31-gt(m),E=1<<v;E&d|c[v]&d&&(c[v]|=d),m&=~E}}function Yr(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ls(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function rn(){var c=U.p;return c!==0?c:(c=window.event,c===void 0?32:kD(c.type))}function se(c,d){var m=U.p;try{return U.p=c,d()}finally{U.p=m}}var Oe=Math.random().toString(36).slice(2),qe="__reactFiber$"+Oe,at="__reactProps$"+Oe,ut="__reactContainer$"+Oe,It="__reactEvents$"+Oe,Jt="__reactListeners$"+Oe,Y="__reactHandles$"+Oe,oe="__reactResources$"+Oe,re="__reactMarker$"+Oe;function ne(c){delete c[qe],delete c[at],delete c[It],delete c[Jt],delete c[Y]}function le(c){var d=c[qe];if(d)return d;for(var m=c.parentNode;m;){if(d=m[ut]||m[qe]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=pD(c);c!==null;){if(m=c[qe])return m;c=pD(c)}return d}c=m,m=c.parentNode}return null}function ce(c){if(c=c[qe]||c[ut]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function _e(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(s(33))}function We(c){var d=c[oe];return d||(d=c[oe]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function ke(c){c[re]=!0}var Be=new Set,Ue={};function lt(c,d){ft(c,d),ft(c+"Capture",d)}function ft(c,d){for(Ue[c]=d,c=0;c<d.length;c++)Be.add(d[c])}var kt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pt={},Et={};function ir(c){return Ne.call(Et,c)?!0:Ne.call(pt,c)?!1:kt.test(c)?Et[c]=!0:(pt[c]=!0,!1)}function qr(c,d,m){if(ir(d))if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var v=d.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+m)}}function kr(c,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+m)}}function Kr(c,d,m,v){if(v===null)c.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(d,m,""+v)}}var pa,Sn;function On(c){if(pa===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);pa=d&&d[1]||"",Sn=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+c+Sn}var Pa=!1;function To(c,d){if(!c||Pa)return"";Pa=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(d){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(He){var Ve=He}Reflect.construct(c,[],nt)}else{try{nt.call()}catch(He){Ve=He}c.call(nt.prototype)}}else{try{throw Error()}catch(He){Ve=He}(nt=c())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(He){if(He&&Ve&&typeof He.stack=="string")return[He.stack,Ve.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=v.DetermineComponentFrameRoot(),H=k[0],Z=k[1];if(H&&Z){var pe=H.split(`
`),Fe=Z.split(`
`);for(E=v=0;v<pe.length&&!pe[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Fe.length&&!Fe[E].includes("DetermineComponentFrameRoot");)E++;if(v===pe.length||E===Fe.length)for(v=pe.length-1,E=Fe.length-1;1<=v&&0<=E&&pe[v]!==Fe[E];)E--;for(;1<=v&&0<=E;v--,E--)if(pe[v]!==Fe[E]){if(v!==1||E!==1)do if(v--,E--,0>E||pe[v]!==Fe[E]){var et=`
`+pe[v].replace(" at new "," at ");return c.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",c.displayName)),et}while(1<=v&&0<=E);break}}}finally{Pa=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?On(m):""}function Ma(c){switch(c.tag){case 26:case 27:case 5:return On(c.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return To(c.type,!1);case 11:return To(c.type.render,!1);case 1:return To(c.type,!0);case 31:return On("Activity");default:return""}}function _h(c){try{var d="";do d+=Ma(c),c=c.return;while(c);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function xa(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function sc(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Gu(c){var d=sc(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),v=""+c[d];if(!c.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,k=m.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return E.call(this)},set:function(H){v=""+H,k.call(this,H)}}),Object.defineProperty(c,d,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(H){v=""+H},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Wi(c){c._valueTracker||(c._valueTracker=Gu(c))}function Yu(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return c&&(v=sc(c)?c.checked?"true":"false":c.value),c=v,c!==m?(d.setValue(c),!0):!1}function nc(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var dp=/[\n"\\]/g;function ga(c){return c.replace(dp,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Ku(c,d,m,v,E,k,H,Z){c.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?c.type=H:c.removeAttribute("type"),d!=null?H==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+xa(d)):c.value!==""+xa(d)&&(c.value=""+xa(d)):H!=="submit"&&H!=="reset"||c.removeAttribute("value"),d!=null?ac(c,H,xa(d)):m!=null?ac(c,H,xa(m)):v!=null&&c.removeAttribute("value"),E==null&&k!=null&&(c.defaultChecked=!!k),E!=null&&(c.checked=E&&typeof E!="function"&&typeof E!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?c.name=""+xa(Z):c.removeAttribute("name")}function kh(c,d,m,v,E,k,H,Z){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.type=k),d!=null||m!=null){if(!(k!=="submit"&&k!=="reset"||d!=null))return;m=m!=null?""+xa(m):"",d=d!=null?""+xa(d):m,Z||d===c.value||(c.value=d),c.defaultValue=d}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,c.checked=Z?c.checked:!!v,c.defaultChecked=!!v,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(c.name=H)}function ac(c,d,m){d==="number"&&nc(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function yl(c,d,m,v){if(c=c.options,d){d={};for(var E=0;E<m.length;E++)d["$"+m[E]]=!0;for(m=0;m<c.length;m++)E=d.hasOwnProperty("$"+c[m].value),c[m].selected!==E&&(c[m].selected=E),E&&v&&(c[m].defaultSelected=!0)}else{for(m=""+xa(m),d=null,E=0;E<c.length;E++){if(c[E].value===m){c[E].selected=!0,v&&(c[E].defaultSelected=!0);return}d!==null||c[E].disabled||(d=c[E])}d!==null&&(d.selected=!0)}}function Dh(c,d,m){if(d!=null&&(d=""+xa(d),d!==c.value&&(c.value=d),m==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=m!=null?""+xa(m):""}function vl(c,d,m,v){if(d==null){if(v!=null){if(m!=null)throw Error(s(92));if(J(v)){if(1<v.length)throw Error(s(93));v=v[0]}m=v}m==null&&(m=""),d=m}m=xa(d),c.defaultValue=m,v=c.textContent,v===m&&v!==""&&v!==null&&(c.value=v)}function Rn(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gi(c,d,m){var v=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":v?c.setProperty(d,m):typeof m!="number"||m===0||Co.has(d)?d==="float"?c.cssFloat=m:c[d]=(""+m).trim():c[d]=m+"px"}function Oh(c,d,m){if(d!=null&&typeof d!="object")throw Error(s(62));if(c=c.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||d!=null&&d.hasOwnProperty(v)||(v.indexOf("--")===0?c.setProperty(v,""):v==="float"?c.cssFloat="":c[v]="");for(var E in d)v=d[E],d.hasOwnProperty(E)&&m[E]!==v&&Gi(c,E,v)}else for(var k in d)d.hasOwnProperty(k)&&Gi(c,k,d[k])}function Qa(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dd(c){return fp.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var Xu=null;function ud(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Hs=null,_o=null;function Qu(c){var d=ce(c);if(d&&(c=d.stateNode)){var m=c[at]||null;e:switch(c=d.stateNode,d.type){case"input":if(Ku(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+ga(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==c&&v.form===c.form){var E=v[at]||null;if(!E)throw Error(s(90));Ku(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(d=0;d<m.length;d++)v=m[d],v.form===c.form&&Yu(v)}break e;case"textarea":Dh(c,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&yl(c,!!m.multiple,d,!1)}}}var bl=!1;function fd(c,d,m){if(bl)return c(d,m);bl=!0;try{var v=c(d);return v}finally{if(bl=!1,(Hs!==null||_o!==null)&&(xv(),Hs&&(d=Hs,c=_o,_o=Hs=null,Qu(d),c)))for(d=0;d<c.length;d++)Qu(c[d])}}function Yi(c,d){var m=c.stateNode;if(m===null)return null;var v=m[at]||null;if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(s(231,d,typeof m));return m}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=!1;if(wi)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){hd=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{hd=!1}var Ni=null,Za=null,ic=null;function md(){if(ic)return ic;var c,d=Za,m=d.length,v,E="value"in Ni?Ni.value:Ni.textContent,k=E.length;for(c=0;c<m&&d[c]===E[c];c++);var H=m-c;for(v=1;v<=H&&d[m-v]===E[k-v];v++);return ic=E.slice(c,1<v?1-v:void 0)}function pd(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function xd(){return!0}function R(){return!1}function ee(c){function d(m,v,E,k,H){this._reactName=m,this._targetInst=E,this.type=v,this.nativeEvent=k,this.target=H,this.currentTarget=null;for(var Z in c)c.hasOwnProperty(Z)&&(m=c[Z],this[Z]=m?m(k):k[Z]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?xd:R,this.isPropagationStopped=R,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=xd)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=xd)},persist:function(){},isPersistent:xd}),d}var ve={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qe=ee(ve),or=h({},ve,{view:0,detail:0}),Yt=ee(or),Cr,Sr,Ns,Dr=h({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vN,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ns&&(Ns&&c.type==="mousemove"?(Cr=c.screenX-Ns.screenX,Sr=c.screenY-Ns.screenY):Sr=Cr=0,Ns=c),Cr)},movementY:function(c){return"movementY"in c?c.movementY:Sr}}),En=ee(Dr),ya=h({},Dr,{dataTransfer:0}),sn=ee(ya),Pn=h({},or,{relatedTarget:0}),nn=ee(Pn),wl=h({},ve,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=ee(wl),oc=h({},ve,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Iy=ee(oc),Rh=h({},ve,{data:0}),Zu=ee(Rh),pH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yH(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=gH[c])?!!d[c]:!1}function vN(){return yH}var vH=h({},or,{key:function(c){if(c.key){var d=pH[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=pd(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?xH[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vN,charCode:function(c){return c.type==="keypress"?pd(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?pd(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),bH=ee(vH),wH=h({},Dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y4=ee(wH),NH=h({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vN}),jH=ee(NH),SH=h({},ve,{propertyName:0,elapsedTime:0,pseudoElement:0}),EH=ee(SH),AH=h({},Dr,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),TH=ee(AH),CH=h({},ve,{newState:0,oldState:0}),_H=ee(CH),kH=[9,13,27,32],bN=wi&&"CompositionEvent"in window,hp=null;wi&&"documentMode"in document&&(hp=document.documentMode);var DH=wi&&"TextEvent"in window&&!hp,v4=wi&&(!bN||hp&&8<hp&&11>=hp),b4=" ",w4=!1;function N4(c,d){switch(c){case"keyup":return kH.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j4(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ph=!1;function OH(c,d){switch(c){case"compositionend":return j4(d);case"keypress":return d.which!==32?null:(w4=!0,b4);case"textInput":return c=d.data,c===b4&&w4?null:c;default:return null}}function RH(c,d){if(Ph)return c==="compositionend"||!bN&&N4(c,d)?(c=md(),ic=Za=Ni=null,Ph=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return v4&&d.locale!=="ko"?null:d.data;default:return null}}var PH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S4(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!PH[c.type]:d==="textarea"}function E4(c,d,m,v){Hs?_o?_o.push(v):_o=[v]:Hs=v,d=Nv(d,"onChange"),0<d.length&&(m=new Qe("onChange","change",null,m,v),c.push({event:m,listeners:d}))}var mp=null,pp=null;function MH(c){aD(c,0)}function Fy(c){var d=_e(c);if(Yu(d))return c}function A4(c,d){if(c==="change")return d}var T4=!1;if(wi){var wN;if(wi){var NN="oninput"in document;if(!NN){var C4=document.createElement("div");C4.setAttribute("oninput","return;"),NN=typeof C4.oninput=="function"}wN=NN}else wN=!1;T4=wN&&(!document.documentMode||9<document.documentMode)}function _4(){mp&&(mp.detachEvent("onpropertychange",k4),pp=mp=null)}function k4(c){if(c.propertyName==="value"&&Fy(pp)){var d=[];E4(d,pp,c,ud(c)),fd(MH,d)}}function IH(c,d,m){c==="focusin"?(_4(),mp=d,pp=m,mp.attachEvent("onpropertychange",k4)):c==="focusout"&&_4()}function FH(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Fy(pp)}function LH(c,d){if(c==="click")return Fy(d)}function BH(c,d){if(c==="input"||c==="change")return Fy(d)}function $H(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var ji=typeof Object.is=="function"?Object.is:$H;function xp(c,d){if(ji(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var E=m[v];if(!Ne.call(d,E)||!ji(c[E],d[E]))return!1}return!0}function D4(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function O4(c,d){var m=D4(c);c=0;for(var v;m;){if(m.nodeType===3){if(v=c+m.textContent.length,c<=d&&v>=d)return{node:m,offset:d-c};c=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=D4(m)}}function R4(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?R4(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function P4(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=nc(c.document);d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=nc(c.document)}return d}function jN(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var UH=wi&&"documentMode"in document&&11>=document.documentMode,Mh=null,SN=null,gp=null,EN=!1;function M4(c,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;EN||Mh==null||Mh!==nc(v)||(v=Mh,"selectionStart"in v&&jN(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),gp&&xp(gp,v)||(gp=v,v=Nv(SN,"onSelect"),0<v.length&&(d=new Qe("onSelect","select",null,d,m),c.push({event:d,listeners:v}),d.target=Mh)))}function Ju(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var Ih={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionrun:Ju("Transition","TransitionRun"),transitionstart:Ju("Transition","TransitionStart"),transitioncancel:Ju("Transition","TransitionCancel"),transitionend:Ju("Transition","TransitionEnd")},AN={},I4={};wi&&(I4=document.createElement("div").style,"AnimationEvent"in window||(delete Ih.animationend.animation,delete Ih.animationiteration.animation,delete Ih.animationstart.animation),"TransitionEvent"in window||delete Ih.transitionend.transition);function ef(c){if(AN[c])return AN[c];if(!Ih[c])return c;var d=Ih[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in I4)return AN[c]=d[m];return c}var F4=ef("animationend"),L4=ef("animationiteration"),B4=ef("animationstart"),VH=ef("transitionrun"),qH=ef("transitionstart"),zH=ef("transitioncancel"),$4=ef("transitionend"),U4=new Map,TN="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");TN.push("scrollEnd");function Oo(c,d){U4.set(c,d),lt(d,[c])}var V4=new WeakMap;function Ki(c,d){if(typeof c=="object"&&c!==null){var m=V4.get(c);return m!==void 0?m:(d={value:c,source:d,stack:_h(d)},V4.set(c,d),d)}return{value:c,source:d,stack:_h(d)}}var Xi=[],Fh=0,CN=0;function Ly(){for(var c=Fh,d=CN=Fh=0;d<c;){var m=Xi[d];Xi[d++]=null;var v=Xi[d];Xi[d++]=null;var E=Xi[d];Xi[d++]=null;var k=Xi[d];if(Xi[d++]=null,v!==null&&E!==null){var H=v.pending;H===null?E.next=E:(E.next=H.next,H.next=E),v.pending=E}k!==0&&q4(m,E,k)}}function By(c,d,m,v){Xi[Fh++]=c,Xi[Fh++]=d,Xi[Fh++]=m,Xi[Fh++]=v,CN|=v,c.lanes|=v,c=c.alternate,c!==null&&(c.lanes|=v)}function _N(c,d,m,v){return By(c,d,m,v),$y(c)}function Lh(c,d){return By(c,null,null,d),$y(c)}function q4(c,d,m){c.lanes|=m;var v=c.alternate;v!==null&&(v.lanes|=m);for(var E=!1,k=c.return;k!==null;)k.childLanes|=m,v=k.alternate,v!==null&&(v.childLanes|=m),k.tag===22&&(c=k.stateNode,c===null||c._visibility&1||(E=!0)),c=k,k=k.return;return c.tag===3?(k=c.stateNode,E&&d!==null&&(E=31-gt(m),c=k.hiddenUpdates,v=c[E],v===null?c[E]=[d]:v.push(d),d.lane=m|536870912),k):null}function $y(c){if(50<Vp)throw Vp=0,Mj=null,Error(s(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var Bh={};function HH(c,d,m,v){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(c,d,m,v){return new HH(c,d,m,v)}function kN(c){return c=c.prototype,!(!c||!c.isReactComponent)}function lc(c,d){var m=c.alternate;return m===null?(m=Si(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function z4(c,d){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,d=m.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Uy(c,d,m,v,E,k){var H=0;if(v=c,typeof c=="function")kN(c)&&(H=1);else if(typeof c=="string")H=GW(c,m,K.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case P:return c=Si(31,m,d,E),c.elementType=P,c.lanes=k,c;case N:return tf(m.children,E,k,d);case b:H=8,E|=24;break;case w:return c=Si(12,m,d,E|2),c.elementType=w,c.lanes=k,c;case T:return c=Si(13,m,d,E),c.elementType=T,c.lanes=k,c;case D:return c=Si(19,m,d,E),c.elementType=D,c.lanes=k,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:case A:H=10;break e;case S:H=9;break e;case C:H=11;break e;case _:H=14;break e;case O:H=16,v=null;break e}H=29,m=Error(s(130,c===null?"null":typeof c,"")),v=null}return d=Si(H,m,d,E),d.elementType=c,d.type=v,d.lanes=k,d}function tf(c,d,m,v){return c=Si(7,c,v,d),c.lanes=m,c}function DN(c,d,m){return c=Si(6,c,null,d),c.lanes=m,c}function ON(c,d,m){return d=Si(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var $h=[],Uh=0,Vy=null,qy=0,Qi=[],Zi=0,rf=null,cc=1,dc="";function sf(c,d){$h[Uh++]=qy,$h[Uh++]=Vy,Vy=c,qy=d}function H4(c,d,m){Qi[Zi++]=cc,Qi[Zi++]=dc,Qi[Zi++]=rf,rf=c;var v=cc;c=dc;var E=32-gt(v)-1;v&=~(1<<E),m+=1;var k=32-gt(d)+E;if(30<k){var H=E-E%5;k=(v&(1<<H)-1).toString(32),v>>=H,E-=H,cc=1<<32-gt(d)+E|m<<E|v,dc=k+c}else cc=1<<k|m<<E|v,dc=c}function RN(c){c.return!==null&&(sf(c,1),H4(c,1,0))}function PN(c){for(;c===Vy;)Vy=$h[--Uh],$h[Uh]=null,qy=$h[--Uh],$h[Uh]=null;for(;c===rf;)rf=Qi[--Zi],Qi[Zi]=null,dc=Qi[--Zi],Qi[Zi]=null,cc=Qi[--Zi],Qi[Zi]=null}var Ia=null,Ws=null,Xr=!1,nf=null,Nl=!1,MN=Error(s(519));function af(c){var d=Error(s(418,""));throw bp(Ki(d,c)),MN}function W4(c){var d=c.stateNode,m=c.type,v=c.memoizedProps;switch(d[qe]=c,d[at]=v,m){case"dialog":Ar("cancel",d),Ar("close",d);break;case"iframe":case"object":case"embed":Ar("load",d);break;case"video":case"audio":for(m=0;m<zp.length;m++)Ar(zp[m],d);break;case"source":Ar("error",d);break;case"img":case"image":case"link":Ar("error",d),Ar("load",d);break;case"details":Ar("toggle",d);break;case"input":Ar("invalid",d),kh(d,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Wi(d);break;case"select":Ar("invalid",d);break;case"textarea":Ar("invalid",d),vl(d,v.value,v.defaultValue,v.children),Wi(d)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||v.suppressHydrationWarning===!0||cD(d.textContent,m)?(v.popover!=null&&(Ar("beforetoggle",d),Ar("toggle",d)),v.onScroll!=null&&Ar("scroll",d),v.onScrollEnd!=null&&Ar("scrollend",d),v.onClick!=null&&(d.onclick=jv),d=!0):d=!1,d||af(c)}function G4(c){for(Ia=c.return;Ia;)switch(Ia.tag){case 5:case 13:Nl=!1;return;case 27:case 3:Nl=!0;return;default:Ia=Ia.return}}function yp(c){if(c!==Ia)return!1;if(!Xr)return G4(c),Xr=!0,!1;var d=c.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||Qj(c.type,c.memoizedProps)),m=!m),m&&Ws&&af(c),G4(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(m=c.data,m==="/$"){if(d===0){Ws=Po(c.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;c=c.nextSibling}Ws=null}}else d===27?(d=Ws,Od(c.type)?(c=t2,t2=null,Ws=c):Ws=d):Ws=Ia?Po(c.stateNode.nextSibling):null;return!0}function vp(){Ws=Ia=null,Xr=!1}function Y4(){var c=nf;return c!==null&&(ti===null?ti=c:ti.push.apply(ti,c),nf=null),c}function bp(c){nf===null?nf=[c]:nf.push(c)}var IN=te(null),of=null,uc=null;function gd(c,d,m){W(IN,d._currentValue),d._currentValue=m}function fc(c){c._currentValue=IN.current,M(IN)}function FN(c,d,m){for(;c!==null;){var v=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),c===m)break;c=c.return}}function LN(c,d,m,v){var E=c.child;for(E!==null&&(E.return=c);E!==null;){var k=E.dependencies;if(k!==null){var H=E.child;k=k.firstContext;e:for(;k!==null;){var Z=k;k=E;for(var pe=0;pe<d.length;pe++)if(Z.context===d[pe]){k.lanes|=m,Z=k.alternate,Z!==null&&(Z.lanes|=m),FN(k.return,m,c),v||(H=null);break e}k=Z.next}}else if(E.tag===18){if(H=E.return,H===null)throw Error(s(341));H.lanes|=m,k=H.alternate,k!==null&&(k.lanes|=m),FN(H,m,c),H=null}else H=E.child;if(H!==null)H.return=E;else for(H=E;H!==null;){if(H===c){H=null;break}if(E=H.sibling,E!==null){E.return=H.return,H=E;break}H=H.return}E=H}}function wp(c,d,m,v){c=null;for(var E=d,k=!1;E!==null;){if(!k){if((E.flags&524288)!==0)k=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var H=E.alternate;if(H===null)throw Error(s(387));if(H=H.memoizedProps,H!==null){var Z=E.type;ji(E.pendingProps.value,H.value)||(c!==null?c.push(Z):c=[Z])}}else if(E===ie.current){if(H=E.alternate,H===null)throw Error(s(387));H.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(c!==null?c.push(Xp):c=[Xp])}E=E.return}c!==null&&LN(d,c,m,v),d.flags|=262144}function zy(c){for(c=c.firstContext;c!==null;){if(!ji(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function lf(c){of=c,uc=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function va(c){return K4(of,c)}function Hy(c,d){return of===null&&lf(c),K4(c,d)}function K4(c,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},uc===null){if(c===null)throw Error(s(308));uc=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else uc=uc.next=d;return m}var WH=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(m,v){c.push(v)}};this.abort=function(){d.aborted=!0,c.forEach(function(m){return m()})}},GH=e.unstable_scheduleCallback,YH=e.unstable_NormalPriority,An={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function BN(){return{controller:new WH,data:new Map,refCount:0}}function Np(c){c.refCount--,c.refCount===0&&GH(YH,function(){c.controller.abort()})}var jp=null,$N=0,Vh=0,qh=null;function KH(c,d){if(jp===null){var m=jp=[];$N=0,Vh=Vj(),qh={status:"pending",value:void 0,then:function(v){m.push(v)}}}return $N++,d.then(X4,X4),d}function X4(){if(--$N===0&&jp!==null){qh!==null&&(qh.status="fulfilled");var c=jp;jp=null,Vh=0,qh=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function XH(c,d){var m=[],v={status:"pending",value:null,reason:null,then:function(E){m.push(E)}};return c.then(function(){v.status="fulfilled",v.value=d;for(var E=0;E<m.length;E++)(0,m[E])(d)},function(E){for(v.status="rejected",v.reason=E,E=0;E<m.length;E++)(0,m[E])(void 0)}),v}var Q4=L.S;L.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&KH(c,d),Q4!==null&&Q4(c,d)};var cf=te(null);function UN(){var c=cf.current;return c!==null?c:js.pooledCache}function Wy(c,d){d===null?W(cf,cf.current):W(cf,d.pool)}function Z4(){var c=UN();return c===null?null:{parent:An._currentValue,pool:c}}var Sp=Error(s(460)),J4=Error(s(474)),Gy=Error(s(542)),VN={then:function(){}};function ek(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Yy(){}function tk(c,d,m){switch(m=c[m],m===void 0?c.push(d):m!==d&&(d.then(Yy,Yy),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,sk(c),c;default:if(typeof d.status=="string")d.then(Yy,Yy);else{if(c=js,c!==null&&100<c.shellSuspendCounter)throw Error(s(482));c=d,c.status="pending",c.then(function(v){if(d.status==="pending"){var E=d;E.status="fulfilled",E.value=v}},function(v){if(d.status==="pending"){var E=d;E.status="rejected",E.reason=v}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,sk(c),c}throw Ep=d,Sp}}var Ep=null;function rk(){if(Ep===null)throw Error(s(459));var c=Ep;return Ep=null,c}function sk(c){if(c===Sp||c===Gy)throw Error(s(483))}var yd=!1;function qN(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zN(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function vd(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function bd(c,d,m){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,(ts&2)!==0){var E=v.pending;return E===null?d.next=d:(d.next=E.next,E.next=d),v.pending=d,d=$y(c),q4(c,null,m),d}return By(c,v,d,m),$y(c)}function Ap(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var v=d.lanes;v&=c.pendingLanes,m|=v,d.lanes=m,Ir(c,m)}}function HN(c,d){var m=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var E=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var H={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};k===null?E=k=H:k=k.next=H,m=m.next}while(m!==null);k===null?E=k=d:k=k.next=d}else E=k=d;m={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:k,shared:v.shared,callbacks:v.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}var WN=!1;function Tp(){if(WN){var c=qh;if(c!==null)throw c}}function Cp(c,d,m,v){WN=!1;var E=c.updateQueue;yd=!1;var k=E.firstBaseUpdate,H=E.lastBaseUpdate,Z=E.shared.pending;if(Z!==null){E.shared.pending=null;var pe=Z,Fe=pe.next;pe.next=null,H===null?k=Fe:H.next=Fe,H=pe;var et=c.alternate;et!==null&&(et=et.updateQueue,Z=et.lastBaseUpdate,Z!==H&&(Z===null?et.firstBaseUpdate=Fe:Z.next=Fe,et.lastBaseUpdate=pe))}if(k!==null){var nt=E.baseState;H=0,et=Fe=pe=null,Z=k;do{var Ve=Z.lane&-536870913,He=Ve!==Z.lane;if(He?(Fr&Ve)===Ve:(v&Ve)===Ve){Ve!==0&&Ve===Vh&&(WN=!0),et!==null&&(et=et.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var cr=c,nr=Z;Ve=d;var us=m;switch(nr.tag){case 1:if(cr=nr.payload,typeof cr=="function"){nt=cr.call(us,nt,Ve);break e}nt=cr;break e;case 3:cr.flags=cr.flags&-65537|128;case 0:if(cr=nr.payload,Ve=typeof cr=="function"?cr.call(us,nt,Ve):cr,Ve==null)break e;nt=h({},nt,Ve);break e;case 2:yd=!0}}Ve=Z.callback,Ve!==null&&(c.flags|=64,He&&(c.flags|=8192),He=E.callbacks,He===null?E.callbacks=[Ve]:He.push(Ve))}else He={lane:Ve,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},et===null?(Fe=et=He,pe=nt):et=et.next=He,H|=Ve;if(Z=Z.next,Z===null){if(Z=E.shared.pending,Z===null)break;He=Z,Z=He.next,He.next=null,E.lastBaseUpdate=He,E.shared.pending=null}}while(!0);et===null&&(pe=nt),E.baseState=pe,E.firstBaseUpdate=Fe,E.lastBaseUpdate=et,k===null&&(E.shared.lanes=0),Cd|=H,c.lanes=H,c.memoizedState=nt}}function nk(c,d){if(typeof c!="function")throw Error(s(191,c));c.call(d)}function ak(c,d){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)nk(m[c],d)}var zh=te(null),Ky=te(0);function ik(c,d){c=vc,W(Ky,c),W(zh,d),vc=c|d.baseLanes}function GN(){W(Ky,vc),W(zh,zh.current)}function YN(){vc=Ky.current,M(zh),M(Ky)}var wd=0,br=null,cs=null,pn=null,Xy=!1,Hh=!1,df=!1,Qy=0,_p=0,Wh=null,QH=0;function an(){throw Error(s(321))}function KN(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!ji(c[m],d[m]))return!1;return!0}function XN(c,d,m,v,E,k){return wd=k,br=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,L.H=c===null||c.memoizedState===null?qk:zk,df=!1,k=m(v,E),df=!1,Hh&&(k=lk(d,m,v,E)),ok(c),k}function ok(c){L.H=sv;var d=cs!==null&&cs.next!==null;if(wd=0,pn=cs=br=null,Xy=!1,_p=0,Wh=null,d)throw Error(s(300));c===null||Mn||(c=c.dependencies,c!==null&&zy(c)&&(Mn=!0))}function lk(c,d,m,v){br=c;var E=0;do{if(Hh&&(Wh=null),_p=0,Hh=!1,25<=E)throw Error(s(301));if(E+=1,pn=cs=null,c.updateQueue!=null){var k=c.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}L.H=nW,k=d(m,v)}while(Hh);return k}function ZH(){var c=L.H,d=c.useState()[0];return d=typeof d.then=="function"?kp(d):d,c=c.useState()[0],(cs!==null?cs.memoizedState:null)!==c&&(br.flags|=1024),d}function QN(){var c=Qy!==0;return Qy=0,c}function ZN(c,d,m){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~m}function JN(c){if(Xy){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Xy=!1}wd=0,pn=cs=br=null,Hh=!1,_p=Qy=0,Wh=null}function Ja(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?br.memoizedState=pn=c:pn=pn.next=c,pn}function xn(){if(cs===null){var c=br.alternate;c=c!==null?c.memoizedState:null}else c=cs.next;var d=pn===null?br.memoizedState:pn.next;if(d!==null)pn=d,cs=c;else{if(c===null)throw br.alternate===null?Error(s(467)):Error(s(310));cs=c,c={memoizedState:cs.memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},pn===null?br.memoizedState=pn=c:pn=pn.next=c}return pn}function ej(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kp(c){var d=_p;return _p+=1,Wh===null&&(Wh=[]),c=tk(Wh,c,d),d=br,(pn===null?d.memoizedState:pn.next)===null&&(d=d.alternate,L.H=d===null||d.memoizedState===null?qk:zk),c}function Zy(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return kp(c);if(c.$$typeof===A)return va(c)}throw Error(s(438,String(c)))}function tj(c){var d=null,m=br.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var v=br.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(d={data:v.data.map(function(E){return E.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=ej(),br.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(c),v=0;v<c;v++)m[v]=B;return d.index++,m}function hc(c,d){return typeof d=="function"?d(c):d}function Jy(c){var d=xn();return rj(d,cs,c)}function rj(c,d,m){var v=c.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=m;var E=c.baseQueue,k=v.pending;if(k!==null){if(E!==null){var H=E.next;E.next=k.next,k.next=H}d.baseQueue=E=k,v.pending=null}if(k=c.baseState,E===null)c.memoizedState=k;else{d=E.next;var Z=H=null,pe=null,Fe=d,et=!1;do{var nt=Fe.lane&-536870913;if(nt!==Fe.lane?(Fr&nt)===nt:(wd&nt)===nt){var Ve=Fe.revertLane;if(Ve===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),nt===Vh&&(et=!0);else if((wd&Ve)===Ve){Fe=Fe.next,Ve===Vh&&(et=!0);continue}else nt={lane:0,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},pe===null?(Z=pe=nt,H=k):pe=pe.next=nt,br.lanes|=Ve,Cd|=Ve;nt=Fe.action,df&&m(k,nt),k=Fe.hasEagerState?Fe.eagerState:m(k,nt)}else Ve={lane:nt,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},pe===null?(Z=pe=Ve,H=k):pe=pe.next=Ve,br.lanes|=nt,Cd|=nt;Fe=Fe.next}while(Fe!==null&&Fe!==d);if(pe===null?H=k:pe.next=Z,!ji(k,c.memoizedState)&&(Mn=!0,et&&(m=qh,m!==null)))throw m;c.memoizedState=k,c.baseState=H,c.baseQueue=pe,v.lastRenderedState=k}return E===null&&(v.lanes=0),[c.memoizedState,v.dispatch]}function sj(c){var d=xn(),m=d.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=c;var v=m.dispatch,E=m.pending,k=d.memoizedState;if(E!==null){m.pending=null;var H=E=E.next;do k=c(k,H.action),H=H.next;while(H!==E);ji(k,d.memoizedState)||(Mn=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),m.lastRenderedState=k}return[k,v]}function ck(c,d,m){var v=br,E=xn(),k=Xr;if(k){if(m===void 0)throw Error(s(407));m=m()}else m=d();var H=!ji((cs||E).memoizedState,m);H&&(E.memoizedState=m,Mn=!0),E=E.queue;var Z=fk.bind(null,v,E,c);if(Dp(2048,8,Z,[c]),E.getSnapshot!==d||H||pn!==null&&pn.memoizedState.tag&1){if(v.flags|=2048,Gh(9,ev(),uk.bind(null,v,E,m,d),null),js===null)throw Error(s(349));k||(wd&124)!==0||dk(v,d,m)}return m}function dk(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=br.updateQueue,d===null?(d=ej(),br.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function uk(c,d,m,v){d.value=m,d.getSnapshot=v,hk(d)&&mk(c)}function fk(c,d,m){return m(function(){hk(d)&&mk(c)})}function hk(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!ji(c,m)}catch{return!0}}function mk(c){var d=Lh(c,2);d!==null&&_i(d,c,2)}function nj(c){var d=Ja();if(typeof c=="function"){var m=c;if(c=m(),df){Xe(!0);try{m()}finally{Xe(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:c},d}function pk(c,d,m,v){return c.baseState=m,rj(c,cs,typeof v=="function"?v:hc)}function JH(c,d,m,v,E){if(rv(c))throw Error(s(485));if(c=d.action,c!==null){var k={payload:E,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){k.listeners.push(H)}};L.T!==null?m(!0):k.isTransition=!1,v(k),m=d.pending,m===null?(k.next=d.pending=k,xk(d,k)):(k.next=m.next,d.pending=m.next=k)}}function xk(c,d){var m=d.action,v=d.payload,E=c.state;if(d.isTransition){var k=L.T,H={};L.T=H;try{var Z=m(E,v),pe=L.S;pe!==null&&pe(H,Z),gk(c,d,Z)}catch(Fe){aj(c,d,Fe)}finally{L.T=k}}else try{k=m(E,v),gk(c,d,k)}catch(Fe){aj(c,d,Fe)}}function gk(c,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){yk(c,d,v)},function(v){return aj(c,d,v)}):yk(c,d,m)}function yk(c,d,m){d.status="fulfilled",d.value=m,vk(d),c.state=m,d=c.pending,d!==null&&(m=d.next,m===d?c.pending=null:(m=m.next,d.next=m,xk(c,m)))}function aj(c,d,m){var v=c.pending;if(c.pending=null,v!==null){v=v.next;do d.status="rejected",d.reason=m,vk(d),d=d.next;while(d!==v)}c.action=null}function vk(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function bk(c,d){return d}function wk(c,d){if(Xr){var m=js.formState;if(m!==null){e:{var v=br;if(Xr){if(Ws){t:{for(var E=Ws,k=Nl;E.nodeType!==8;){if(!k){E=null;break t}if(E=Po(E.nextSibling),E===null){E=null;break t}}k=E.data,E=k==="F!"||k==="F"?E:null}if(E){Ws=Po(E.nextSibling),v=E.data==="F!";break e}}af(v)}v=!1}v&&(d=m[0])}}return m=Ja(),m.memoizedState=m.baseState=d,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bk,lastRenderedState:d},m.queue=v,m=$k.bind(null,br,v),v.dispatch=m,v=nj(!1),k=dj.bind(null,br,!1,v.queue),v=Ja(),E={state:d,dispatch:null,action:c,pending:null},v.queue=E,m=JH.bind(null,br,E,k,m),E.dispatch=m,v.memoizedState=c,[d,m,!1]}function Nk(c){var d=xn();return jk(d,cs,c)}function jk(c,d,m){if(d=rj(c,d,bk)[0],c=Jy(hc)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var v=kp(d)}catch(H){throw H===Sp?Gy:H}else v=d;d=xn();var E=d.queue,k=E.dispatch;return m!==d.memoizedState&&(br.flags|=2048,Gh(9,ev(),eW.bind(null,E,m),null)),[v,k,c]}function eW(c,d){c.action=d}function Sk(c){var d=xn(),m=cs;if(m!==null)return jk(d,m,c);xn(),d=d.memoizedState,m=xn();var v=m.queue.dispatch;return m.memoizedState=c,[d,v,!1]}function Gh(c,d,m,v){return c={tag:c,create:m,deps:v,inst:d,next:null},d=br.updateQueue,d===null&&(d=ej(),br.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=c.next=c:(v=m.next,m.next=c,c.next=v,d.lastEffect=c),c}function ev(){return{destroy:void 0,resource:void 0}}function Ek(){return xn().memoizedState}function tv(c,d,m,v){var E=Ja();v=v===void 0?null:v,br.flags|=c,E.memoizedState=Gh(1|d,ev(),m,v)}function Dp(c,d,m,v){var E=xn();v=v===void 0?null:v;var k=E.memoizedState.inst;cs!==null&&v!==null&&KN(v,cs.memoizedState.deps)?E.memoizedState=Gh(d,k,m,v):(br.flags|=c,E.memoizedState=Gh(1|d,k,m,v))}function Ak(c,d){tv(8390656,8,c,d)}function Tk(c,d){Dp(2048,8,c,d)}function Ck(c,d){return Dp(4,2,c,d)}function _k(c,d){return Dp(4,4,c,d)}function kk(c,d){if(typeof d=="function"){c=c();var m=d(c);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function Dk(c,d,m){m=m!=null?m.concat([c]):null,Dp(4,4,kk.bind(null,d,c),m)}function ij(){}function Ok(c,d){var m=xn();d=d===void 0?null:d;var v=m.memoizedState;return d!==null&&KN(d,v[1])?v[0]:(m.memoizedState=[c,d],c)}function Rk(c,d){var m=xn();d=d===void 0?null:d;var v=m.memoizedState;if(d!==null&&KN(d,v[1]))return v[0];if(v=c(),df){Xe(!0);try{c()}finally{Xe(!1)}}return m.memoizedState=[v,d],v}function oj(c,d,m){return m===void 0||(wd&1073741824)!==0?c.memoizedState=d:(c.memoizedState=m,c=I3(),br.lanes|=c,Cd|=c,m)}function Pk(c,d,m,v){return ji(m,d)?m:zh.current!==null?(c=oj(c,m,v),ji(c,d)||(Mn=!0),c):(wd&42)===0?(Mn=!0,c.memoizedState=m):(c=I3(),br.lanes|=c,Cd|=c,d)}function Mk(c,d,m,v,E){var k=U.p;U.p=k!==0&&8>k?k:8;var H=L.T,Z={};L.T=Z,dj(c,!1,d,m);try{var pe=E(),Fe=L.S;if(Fe!==null&&Fe(Z,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var et=XH(pe,v);Op(c,d,et,Ci(c))}else Op(c,d,v,Ci(c))}catch(nt){Op(c,d,{then:function(){},status:"rejected",reason:nt},Ci())}finally{U.p=k,L.T=H}}function tW(){}function lj(c,d,m,v){if(c.tag!==5)throw Error(s(476));var E=Ik(c).queue;Mk(c,E,d,F,m===null?tW:function(){return Fk(c),m(v)})}function Ik(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:F},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:m},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function Fk(c){var d=Ik(c).next.queue;Op(c,d,{},Ci())}function cj(){return va(Xp)}function Lk(){return xn().memoizedState}function Bk(){return xn().memoizedState}function rW(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var m=Ci();c=vd(m);var v=bd(d,c,m);v!==null&&(_i(v,d,m),Ap(v,d,m)),d={cache:BN()},c.payload=d;return}d=d.return}}function sW(c,d,m){var v=Ci();m={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},rv(c)?Uk(d,m):(m=_N(c,d,m,v),m!==null&&(_i(m,c,v),Vk(m,d,v)))}function $k(c,d,m){var v=Ci();Op(c,d,m,v)}function Op(c,d,m,v){var E={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(rv(c))Uk(d,E);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var H=d.lastRenderedState,Z=k(H,m);if(E.hasEagerState=!0,E.eagerState=Z,ji(Z,H))return By(c,d,E,0),js===null&&Ly(),!1}catch{}finally{}if(m=_N(c,d,E,v),m!==null)return _i(m,c,v),Vk(m,d,v),!0}return!1}function dj(c,d,m,v){if(v={lane:2,revertLane:Vj(),action:v,hasEagerState:!1,eagerState:null,next:null},rv(c)){if(d)throw Error(s(479))}else d=_N(c,m,v,2),d!==null&&_i(d,c,2)}function rv(c){var d=c.alternate;return c===br||d!==null&&d===br}function Uk(c,d){Hh=Xy=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function Vk(c,d,m){if((m&4194048)!==0){var v=d.lanes;v&=c.pendingLanes,m|=v,d.lanes=m,Ir(c,m)}}var sv={readContext:va,use:Zy,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an},qk={readContext:va,use:Zy,useCallback:function(c,d){return Ja().memoizedState=[c,d===void 0?null:d],c},useContext:va,useEffect:Ak,useImperativeHandle:function(c,d,m){m=m!=null?m.concat([c]):null,tv(4194308,4,kk.bind(null,d,c),m)},useLayoutEffect:function(c,d){return tv(4194308,4,c,d)},useInsertionEffect:function(c,d){tv(4,2,c,d)},useMemo:function(c,d){var m=Ja();d=d===void 0?null:d;var v=c();if(df){Xe(!0);try{c()}finally{Xe(!1)}}return m.memoizedState=[v,d],v},useReducer:function(c,d,m){var v=Ja();if(m!==void 0){var E=m(d);if(df){Xe(!0);try{m(d)}finally{Xe(!1)}}}else E=d;return v.memoizedState=v.baseState=E,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:E},v.queue=c,c=c.dispatch=sW.bind(null,br,c),[v.memoizedState,c]},useRef:function(c){var d=Ja();return c={current:c},d.memoizedState=c},useState:function(c){c=nj(c);var d=c.queue,m=$k.bind(null,br,d);return d.dispatch=m,[c.memoizedState,m]},useDebugValue:ij,useDeferredValue:function(c,d){var m=Ja();return oj(m,c,d)},useTransition:function(){var c=nj(!1);return c=Mk.bind(null,br,c.queue,!0,!1),Ja().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,m){var v=br,E=Ja();if(Xr){if(m===void 0)throw Error(s(407));m=m()}else{if(m=d(),js===null)throw Error(s(349));(Fr&124)!==0||dk(v,d,m)}E.memoizedState=m;var k={value:m,getSnapshot:d};return E.queue=k,Ak(fk.bind(null,v,k,c),[c]),v.flags|=2048,Gh(9,ev(),uk.bind(null,v,k,m,d),null),m},useId:function(){var c=Ja(),d=js.identifierPrefix;if(Xr){var m=dc,v=cc;m=(v&~(1<<32-gt(v)-1)).toString(32)+m,d="«"+d+"R"+m,m=Qy++,0<m&&(d+="H"+m.toString(32)),d+="»"}else m=QH++,d="«"+d+"r"+m.toString(32)+"»";return c.memoizedState=d},useHostTransitionStatus:cj,useFormState:wk,useActionState:wk,useOptimistic:function(c){var d=Ja();d.memoizedState=d.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=dj.bind(null,br,!0,m),m.dispatch=d,[c,d]},useMemoCache:tj,useCacheRefresh:function(){return Ja().memoizedState=rW.bind(null,br)}},zk={readContext:va,use:Zy,useCallback:Ok,useContext:va,useEffect:Tk,useImperativeHandle:Dk,useInsertionEffect:Ck,useLayoutEffect:_k,useMemo:Rk,useReducer:Jy,useRef:Ek,useState:function(){return Jy(hc)},useDebugValue:ij,useDeferredValue:function(c,d){var m=xn();return Pk(m,cs.memoizedState,c,d)},useTransition:function(){var c=Jy(hc)[0],d=xn().memoizedState;return[typeof c=="boolean"?c:kp(c),d]},useSyncExternalStore:ck,useId:Lk,useHostTransitionStatus:cj,useFormState:Nk,useActionState:Nk,useOptimistic:function(c,d){var m=xn();return pk(m,cs,c,d)},useMemoCache:tj,useCacheRefresh:Bk},nW={readContext:va,use:Zy,useCallback:Ok,useContext:va,useEffect:Tk,useImperativeHandle:Dk,useInsertionEffect:Ck,useLayoutEffect:_k,useMemo:Rk,useReducer:sj,useRef:Ek,useState:function(){return sj(hc)},useDebugValue:ij,useDeferredValue:function(c,d){var m=xn();return cs===null?oj(m,c,d):Pk(m,cs.memoizedState,c,d)},useTransition:function(){var c=sj(hc)[0],d=xn().memoizedState;return[typeof c=="boolean"?c:kp(c),d]},useSyncExternalStore:ck,useId:Lk,useHostTransitionStatus:cj,useFormState:Sk,useActionState:Sk,useOptimistic:function(c,d){var m=xn();return cs!==null?pk(m,cs,c,d):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:tj,useCacheRefresh:Bk},Yh=null,Rp=0;function nv(c){var d=Rp;return Rp+=1,Yh===null&&(Yh=[]),tk(Yh,c,d)}function Pp(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function av(c,d){throw d.$$typeof===x?Error(s(525)):(c=Object.prototype.toString.call(d),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function Hk(c){var d=c._init;return d(c._payload)}function Wk(c){function d(Ce,je){if(c){var Ie=Ce.deletions;Ie===null?(Ce.deletions=[je],Ce.flags|=16):Ie.push(je)}}function m(Ce,je){if(!c)return null;for(;je!==null;)d(Ce,je),je=je.sibling;return null}function v(Ce){for(var je=new Map;Ce!==null;)Ce.key!==null?je.set(Ce.key,Ce):je.set(Ce.index,Ce),Ce=Ce.sibling;return je}function E(Ce,je){return Ce=lc(Ce,je),Ce.index=0,Ce.sibling=null,Ce}function k(Ce,je,Ie){return Ce.index=Ie,c?(Ie=Ce.alternate,Ie!==null?(Ie=Ie.index,Ie<je?(Ce.flags|=67108866,je):Ie):(Ce.flags|=67108866,je)):(Ce.flags|=1048576,je)}function H(Ce){return c&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function Z(Ce,je,Ie,rt){return je===null||je.tag!==6?(je=DN(Ie,Ce.mode,rt),je.return=Ce,je):(je=E(je,Ie),je.return=Ce,je)}function pe(Ce,je,Ie,rt){var Bt=Ie.type;return Bt===N?et(Ce,je,Ie.props.children,rt,Ie.key):je!==null&&(je.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===O&&Hk(Bt)===je.type)?(je=E(je,Ie.props),Pp(je,Ie),je.return=Ce,je):(je=Uy(Ie.type,Ie.key,Ie.props,null,Ce.mode,rt),Pp(je,Ie),je.return=Ce,je)}function Fe(Ce,je,Ie,rt){return je===null||je.tag!==4||je.stateNode.containerInfo!==Ie.containerInfo||je.stateNode.implementation!==Ie.implementation?(je=ON(Ie,Ce.mode,rt),je.return=Ce,je):(je=E(je,Ie.children||[]),je.return=Ce,je)}function et(Ce,je,Ie,rt,Bt){return je===null||je.tag!==7?(je=tf(Ie,Ce.mode,rt,Bt),je.return=Ce,je):(je=E(je,Ie),je.return=Ce,je)}function nt(Ce,je,Ie){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=DN(""+je,Ce.mode,Ie),je.return=Ce,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case p:return Ie=Uy(je.type,je.key,je.props,null,Ce.mode,Ie),Pp(Ie,je),Ie.return=Ce,Ie;case y:return je=ON(je,Ce.mode,Ie),je.return=Ce,je;case O:var rt=je._init;return je=rt(je._payload),nt(Ce,je,Ie)}if(J(je)||G(je))return je=tf(je,Ce.mode,Ie,null),je.return=Ce,je;if(typeof je.then=="function")return nt(Ce,nv(je),Ie);if(je.$$typeof===A)return nt(Ce,Hy(Ce,je),Ie);av(Ce,je)}return null}function Ve(Ce,je,Ie,rt){var Bt=je!==null?je.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Bt!==null?null:Z(Ce,je,""+Ie,rt);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case p:return Ie.key===Bt?pe(Ce,je,Ie,rt):null;case y:return Ie.key===Bt?Fe(Ce,je,Ie,rt):null;case O:return Bt=Ie._init,Ie=Bt(Ie._payload),Ve(Ce,je,Ie,rt)}if(J(Ie)||G(Ie))return Bt!==null?null:et(Ce,je,Ie,rt,null);if(typeof Ie.then=="function")return Ve(Ce,je,nv(Ie),rt);if(Ie.$$typeof===A)return Ve(Ce,je,Hy(Ce,Ie),rt);av(Ce,Ie)}return null}function He(Ce,je,Ie,rt,Bt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Ce=Ce.get(Ie)||null,Z(je,Ce,""+rt,Bt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case p:return Ce=Ce.get(rt.key===null?Ie:rt.key)||null,pe(je,Ce,rt,Bt);case y:return Ce=Ce.get(rt.key===null?Ie:rt.key)||null,Fe(je,Ce,rt,Bt);case O:var Nr=rt._init;return rt=Nr(rt._payload),He(Ce,je,Ie,rt,Bt)}if(J(rt)||G(rt))return Ce=Ce.get(Ie)||null,et(je,Ce,rt,Bt,null);if(typeof rt.then=="function")return He(Ce,je,Ie,nv(rt),Bt);if(rt.$$typeof===A)return He(Ce,je,Ie,Hy(je,rt),Bt);av(je,rt)}return null}function cr(Ce,je,Ie,rt){for(var Bt=null,Nr=null,Kt=je,ar=je=0,Fn=null;Kt!==null&&ar<Ie.length;ar++){Kt.index>ar?(Fn=Kt,Kt=null):Fn=Kt.sibling;var zr=Ve(Ce,Kt,Ie[ar],rt);if(zr===null){Kt===null&&(Kt=Fn);break}c&&Kt&&zr.alternate===null&&d(Ce,Kt),je=k(zr,je,ar),Nr===null?Bt=zr:Nr.sibling=zr,Nr=zr,Kt=Fn}if(ar===Ie.length)return m(Ce,Kt),Xr&&sf(Ce,ar),Bt;if(Kt===null){for(;ar<Ie.length;ar++)Kt=nt(Ce,Ie[ar],rt),Kt!==null&&(je=k(Kt,je,ar),Nr===null?Bt=Kt:Nr.sibling=Kt,Nr=Kt);return Xr&&sf(Ce,ar),Bt}for(Kt=v(Kt);ar<Ie.length;ar++)Fn=He(Kt,Ce,ar,Ie[ar],rt),Fn!==null&&(c&&Fn.alternate!==null&&Kt.delete(Fn.key===null?ar:Fn.key),je=k(Fn,je,ar),Nr===null?Bt=Fn:Nr.sibling=Fn,Nr=Fn);return c&&Kt.forEach(function(Fd){return d(Ce,Fd)}),Xr&&sf(Ce,ar),Bt}function nr(Ce,je,Ie,rt){if(Ie==null)throw Error(s(151));for(var Bt=null,Nr=null,Kt=je,ar=je=0,Fn=null,zr=Ie.next();Kt!==null&&!zr.done;ar++,zr=Ie.next()){Kt.index>ar?(Fn=Kt,Kt=null):Fn=Kt.sibling;var Fd=Ve(Ce,Kt,zr.value,rt);if(Fd===null){Kt===null&&(Kt=Fn);break}c&&Kt&&Fd.alternate===null&&d(Ce,Kt),je=k(Fd,je,ar),Nr===null?Bt=Fd:Nr.sibling=Fd,Nr=Fd,Kt=Fn}if(zr.done)return m(Ce,Kt),Xr&&sf(Ce,ar),Bt;if(Kt===null){for(;!zr.done;ar++,zr=Ie.next())zr=nt(Ce,zr.value,rt),zr!==null&&(je=k(zr,je,ar),Nr===null?Bt=zr:Nr.sibling=zr,Nr=zr);return Xr&&sf(Ce,ar),Bt}for(Kt=v(Kt);!zr.done;ar++,zr=Ie.next())zr=He(Kt,Ce,ar,zr.value,rt),zr!==null&&(c&&zr.alternate!==null&&Kt.delete(zr.key===null?ar:zr.key),je=k(zr,je,ar),Nr===null?Bt=zr:Nr.sibling=zr,Nr=zr);return c&&Kt.forEach(function(aG){return d(Ce,aG)}),Xr&&sf(Ce,ar),Bt}function us(Ce,je,Ie,rt){if(typeof Ie=="object"&&Ie!==null&&Ie.type===N&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case p:e:{for(var Bt=Ie.key;je!==null;){if(je.key===Bt){if(Bt=Ie.type,Bt===N){if(je.tag===7){m(Ce,je.sibling),rt=E(je,Ie.props.children),rt.return=Ce,Ce=rt;break e}}else if(je.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===O&&Hk(Bt)===je.type){m(Ce,je.sibling),rt=E(je,Ie.props),Pp(rt,Ie),rt.return=Ce,Ce=rt;break e}m(Ce,je);break}else d(Ce,je);je=je.sibling}Ie.type===N?(rt=tf(Ie.props.children,Ce.mode,rt,Ie.key),rt.return=Ce,Ce=rt):(rt=Uy(Ie.type,Ie.key,Ie.props,null,Ce.mode,rt),Pp(rt,Ie),rt.return=Ce,Ce=rt)}return H(Ce);case y:e:{for(Bt=Ie.key;je!==null;){if(je.key===Bt)if(je.tag===4&&je.stateNode.containerInfo===Ie.containerInfo&&je.stateNode.implementation===Ie.implementation){m(Ce,je.sibling),rt=E(je,Ie.children||[]),rt.return=Ce,Ce=rt;break e}else{m(Ce,je);break}else d(Ce,je);je=je.sibling}rt=ON(Ie,Ce.mode,rt),rt.return=Ce,Ce=rt}return H(Ce);case O:return Bt=Ie._init,Ie=Bt(Ie._payload),us(Ce,je,Ie,rt)}if(J(Ie))return cr(Ce,je,Ie,rt);if(G(Ie)){if(Bt=G(Ie),typeof Bt!="function")throw Error(s(150));return Ie=Bt.call(Ie),nr(Ce,je,Ie,rt)}if(typeof Ie.then=="function")return us(Ce,je,nv(Ie),rt);if(Ie.$$typeof===A)return us(Ce,je,Hy(Ce,Ie),rt);av(Ce,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,je!==null&&je.tag===6?(m(Ce,je.sibling),rt=E(je,Ie),rt.return=Ce,Ce=rt):(m(Ce,je),rt=DN(Ie,Ce.mode,rt),rt.return=Ce,Ce=rt),H(Ce)):m(Ce,je)}return function(Ce,je,Ie,rt){try{Rp=0;var Bt=us(Ce,je,Ie,rt);return Yh=null,Bt}catch(Kt){if(Kt===Sp||Kt===Gy)throw Kt;var Nr=Si(29,Kt,null,Ce.mode);return Nr.lanes=rt,Nr.return=Ce,Nr}finally{}}}var Kh=Wk(!0),Gk=Wk(!1),Ji=te(null),jl=null;function Nd(c){var d=c.alternate;W(Tn,Tn.current&1),W(Ji,c),jl===null&&(d===null||zh.current!==null||d.memoizedState!==null)&&(jl=c)}function Yk(c){if(c.tag===22){if(W(Tn,Tn.current),W(Ji,c),jl===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(jl=c)}}else jd()}function jd(){W(Tn,Tn.current),W(Ji,Ji.current)}function mc(c){M(Ji),jl===c&&(jl=null),M(Tn)}var Tn=te(0);function iv(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||e2(m)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function uj(c,d,m,v){d=c.memoizedState,m=m(v,d),m=m==null?d:h({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var fj={enqueueSetState:function(c,d,m){c=c._reactInternals;var v=Ci(),E=vd(v);E.payload=d,m!=null&&(E.callback=m),d=bd(c,E,v),d!==null&&(_i(d,c,v),Ap(d,c,v))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var v=Ci(),E=vd(v);E.tag=1,E.payload=d,m!=null&&(E.callback=m),d=bd(c,E,v),d!==null&&(_i(d,c,v),Ap(d,c,v))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=Ci(),v=vd(m);v.tag=2,d!=null&&(v.callback=d),d=bd(c,v,m),d!==null&&(_i(d,c,m),Ap(d,c,m))}};function Kk(c,d,m,v,E,k,H){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,k,H):d.prototype&&d.prototype.isPureReactComponent?!xp(m,v)||!xp(E,k):!0}function Xk(c,d,m,v){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==c&&fj.enqueueReplaceState(d,d.state,null)}function uf(c,d){var m=d;if("ref"in d){m={};for(var v in d)v!=="ref"&&(m[v]=d[v])}if(c=c.defaultProps){m===d&&(m=h({},m));for(var E in c)m[E]===void 0&&(m[E]=c[E])}return m}var ov=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function Qk(c){ov(c)}function Zk(c){console.error(c)}function Jk(c){ov(c)}function lv(c,d){try{var m=c.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(v){setTimeout(function(){throw v})}}function e3(c,d,m){try{var v=c.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function hj(c,d,m){return m=vd(m),m.tag=3,m.payload={element:null},m.callback=function(){lv(c,d)},m}function t3(c){return c=vd(c),c.tag=3,c}function r3(c,d,m,v){var E=m.type.getDerivedStateFromError;if(typeof E=="function"){var k=v.value;c.payload=function(){return E(k)},c.callback=function(){e3(d,m,v)}}var H=m.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(c.callback=function(){e3(d,m,v),typeof E!="function"&&(_d===null?_d=new Set([this]):_d.add(this));var Z=v.stack;this.componentDidCatch(v.value,{componentStack:Z!==null?Z:""})})}function aW(c,d,m,v,E){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(d=m.alternate,d!==null&&wp(d,m,E,!0),m=Ji.current,m!==null){switch(m.tag){case 13:return jl===null?Fj():m.alternate===null&&Gs===0&&(Gs=3),m.flags&=-257,m.flags|=65536,m.lanes=E,v===VN?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([v]):d.add(v),Bj(c,v,E)),!1;case 22:return m.flags|=65536,v===VN?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([v]):m.add(v)),Bj(c,v,E)),!1}throw Error(s(435,m.tag))}return Bj(c,v,E),Fj(),!1}if(Xr)return d=Ji.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=E,v!==MN&&(c=Error(s(422),{cause:v}),bp(Ki(c,m)))):(v!==MN&&(d=Error(s(423),{cause:v}),bp(Ki(d,m))),c=c.current.alternate,c.flags|=65536,E&=-E,c.lanes|=E,v=Ki(v,m),E=hj(c.stateNode,v,E),HN(c,E),Gs!==4&&(Gs=2)),!1;var k=Error(s(520),{cause:v});if(k=Ki(k,m),Up===null?Up=[k]:Up.push(k),Gs!==4&&(Gs=2),d===null)return!0;v=Ki(v,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,c=E&-E,m.lanes|=c,c=hj(m.stateNode,v,c),HN(m,c),!1;case 1:if(d=m.type,k=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(_d===null||!_d.has(k))))return m.flags|=65536,E&=-E,m.lanes|=E,E=t3(E),r3(E,c,m,v),HN(m,E),!1}m=m.return}while(m!==null);return!1}var s3=Error(s(461)),Mn=!1;function Wn(c,d,m,v){d.child=c===null?Gk(d,null,m,v):Kh(d,c.child,m,v)}function n3(c,d,m,v,E){m=m.render;var k=d.ref;if("ref"in v){var H={};for(var Z in v)Z!=="ref"&&(H[Z]=v[Z])}else H=v;return lf(d),v=XN(c,d,m,H,k,E),Z=QN(),c!==null&&!Mn?(ZN(c,d,E),pc(c,d,E)):(Xr&&Z&&RN(d),d.flags|=1,Wn(c,d,v,E),d.child)}function a3(c,d,m,v,E){if(c===null){var k=m.type;return typeof k=="function"&&!kN(k)&&k.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=k,i3(c,d,k,v,E)):(c=Uy(m.type,null,v,d,d.mode,E),c.ref=d.ref,c.return=d,d.child=c)}if(k=c.child,!wj(c,E)){var H=k.memoizedProps;if(m=m.compare,m=m!==null?m:xp,m(H,v)&&c.ref===d.ref)return pc(c,d,E)}return d.flags|=1,c=lc(k,v),c.ref=d.ref,c.return=d,d.child=c}function i3(c,d,m,v,E){if(c!==null){var k=c.memoizedProps;if(xp(k,v)&&c.ref===d.ref)if(Mn=!1,d.pendingProps=v=k,wj(c,E))(c.flags&131072)!==0&&(Mn=!0);else return d.lanes=c.lanes,pc(c,d,E)}return mj(c,d,m,v,E)}function o3(c,d,m){var v=d.pendingProps,E=v.children,k=c!==null?c.memoizedState:null;if(v.mode==="hidden"){if((d.flags&128)!==0){if(v=k!==null?k.baseLanes|m:m,c!==null){for(E=d.child=c.child,k=0;E!==null;)k=k|E.lanes|E.childLanes,E=E.sibling;d.childLanes=k&~v}else d.childLanes=0,d.child=null;return l3(c,d,v,m)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&Wy(d,k!==null?k.cachePool:null),k!==null?ik(d,k):GN(),Yk(d);else return d.lanes=d.childLanes=536870912,l3(c,d,k!==null?k.baseLanes|m:m,m)}else k!==null?(Wy(d,k.cachePool),ik(d,k),jd(),d.memoizedState=null):(c!==null&&Wy(d,null),GN(),jd());return Wn(c,d,E,m),d.child}function l3(c,d,m,v){var E=UN();return E=E===null?null:{parent:An._currentValue,pool:E},d.memoizedState={baseLanes:m,cachePool:E},c!==null&&Wy(d,null),GN(),Yk(d),c!==null&&wp(c,d,v,!0),null}function cv(c,d){var m=d.ref;if(m===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(s(284));(c===null||c.ref!==m)&&(d.flags|=4194816)}}function mj(c,d,m,v,E){return lf(d),m=XN(c,d,m,v,void 0,E),v=QN(),c!==null&&!Mn?(ZN(c,d,E),pc(c,d,E)):(Xr&&v&&RN(d),d.flags|=1,Wn(c,d,m,E),d.child)}function c3(c,d,m,v,E,k){return lf(d),d.updateQueue=null,m=lk(d,v,m,E),ok(c),v=QN(),c!==null&&!Mn?(ZN(c,d,k),pc(c,d,k)):(Xr&&v&&RN(d),d.flags|=1,Wn(c,d,m,k),d.child)}function d3(c,d,m,v,E){if(lf(d),d.stateNode===null){var k=Bh,H=m.contextType;typeof H=="object"&&H!==null&&(k=va(H)),k=new m(v,k),d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=fj,d.stateNode=k,k._reactInternals=d,k=d.stateNode,k.props=v,k.state=d.memoizedState,k.refs={},qN(d),H=m.contextType,k.context=typeof H=="object"&&H!==null?va(H):Bh,k.state=d.memoizedState,H=m.getDerivedStateFromProps,typeof H=="function"&&(uj(d,m,H,v),k.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(H=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),H!==k.state&&fj.enqueueReplaceState(k,k.state,null),Cp(d,v,k,E),Tp(),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308),v=!0}else if(c===null){k=d.stateNode;var Z=d.memoizedProps,pe=uf(m,Z);k.props=pe;var Fe=k.context,et=m.contextType;H=Bh,typeof et=="object"&&et!==null&&(H=va(et));var nt=m.getDerivedStateFromProps;et=typeof nt=="function"||typeof k.getSnapshotBeforeUpdate=="function",Z=d.pendingProps!==Z,et||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Z||Fe!==H)&&Xk(d,k,v,H),yd=!1;var Ve=d.memoizedState;k.state=Ve,Cp(d,v,k,E),Tp(),Fe=d.memoizedState,Z||Ve!==Fe||yd?(typeof nt=="function"&&(uj(d,m,nt,v),Fe=d.memoizedState),(pe=yd||Kk(d,m,pe,v,Ve,Fe,H))?(et||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(d.flags|=4194308)):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=Fe),k.props=v,k.state=Fe,k.context=H,v=pe):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{k=d.stateNode,zN(c,d),H=d.memoizedProps,et=uf(m,H),k.props=et,nt=d.pendingProps,Ve=k.context,Fe=m.contextType,pe=Bh,typeof Fe=="object"&&Fe!==null&&(pe=va(Fe)),Z=m.getDerivedStateFromProps,(Fe=typeof Z=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(H!==nt||Ve!==pe)&&Xk(d,k,v,pe),yd=!1,Ve=d.memoizedState,k.state=Ve,Cp(d,v,k,E),Tp();var He=d.memoizedState;H!==nt||Ve!==He||yd||c!==null&&c.dependencies!==null&&zy(c.dependencies)?(typeof Z=="function"&&(uj(d,m,Z,v),He=d.memoizedState),(et=yd||Kk(d,m,et,v,Ve,He,pe)||c!==null&&c.dependencies!==null&&zy(c.dependencies))?(Fe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(v,He,pe),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(v,He,pe)),typeof k.componentDidUpdate=="function"&&(d.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof k.componentDidUpdate!="function"||H===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=He),k.props=v,k.state=He,k.context=pe,v=et):(typeof k.componentDidUpdate!="function"||H===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),v=!1)}return k=v,cv(c,d),v=(d.flags&128)!==0,k||v?(k=d.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:k.render(),d.flags|=1,c!==null&&v?(d.child=Kh(d,c.child,null,E),d.child=Kh(d,null,m,E)):Wn(c,d,m,E),d.memoizedState=k.state,c=d.child):c=pc(c,d,E),c}function u3(c,d,m,v){return vp(),d.flags|=256,Wn(c,d,m,v),d.child}var pj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xj(c){return{baseLanes:c,cachePool:Z4()}}function gj(c,d,m){return c=c!==null?c.childLanes&~m:0,d&&(c|=eo),c}function f3(c,d,m){var v=d.pendingProps,E=!1,k=(d.flags&128)!==0,H;if((H=k)||(H=c!==null&&c.memoizedState===null?!1:(Tn.current&2)!==0),H&&(E=!0,d.flags&=-129),H=(d.flags&32)!==0,d.flags&=-33,c===null){if(Xr){if(E?Nd(d):jd(),Xr){var Z=Ws,pe;if(pe=Z){e:{for(pe=Z,Z=Nl;pe.nodeType!==8;){if(!Z){Z=null;break e}if(pe=Po(pe.nextSibling),pe===null){Z=null;break e}}Z=pe}Z!==null?(d.memoizedState={dehydrated:Z,treeContext:rf!==null?{id:cc,overflow:dc}:null,retryLane:536870912,hydrationErrors:null},pe=Si(18,null,null,0),pe.stateNode=Z,pe.return=d,d.child=pe,Ia=d,Ws=null,pe=!0):pe=!1}pe||af(d)}if(Z=d.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return e2(Z)?d.lanes=32:d.lanes=536870912,null;mc(d)}return Z=v.children,v=v.fallback,E?(jd(),E=d.mode,Z=dv({mode:"hidden",children:Z},E),v=tf(v,E,m,null),Z.return=d,v.return=d,Z.sibling=v,d.child=Z,E=d.child,E.memoizedState=xj(m),E.childLanes=gj(c,H,m),d.memoizedState=pj,v):(Nd(d),yj(d,Z))}if(pe=c.memoizedState,pe!==null&&(Z=pe.dehydrated,Z!==null)){if(k)d.flags&256?(Nd(d),d.flags&=-257,d=vj(c,d,m)):d.memoizedState!==null?(jd(),d.child=c.child,d.flags|=128,d=null):(jd(),E=v.fallback,Z=d.mode,v=dv({mode:"visible",children:v.children},Z),E=tf(E,Z,m,null),E.flags|=2,v.return=d,E.return=d,v.sibling=E,d.child=v,Kh(d,c.child,null,m),v=d.child,v.memoizedState=xj(m),v.childLanes=gj(c,H,m),d.memoizedState=pj,d=E);else if(Nd(d),e2(Z)){if(H=Z.nextSibling&&Z.nextSibling.dataset,H)var Fe=H.dgst;H=Fe,v=Error(s(419)),v.stack="",v.digest=H,bp({value:v,source:null,stack:null}),d=vj(c,d,m)}else if(Mn||wp(c,d,m,!1),H=(m&c.childLanes)!==0,Mn||H){if(H=js,H!==null&&(v=m&-m,v=(v&42)!==0?1:Yr(v),v=(v&(H.suspendedLanes|m))!==0?0:v,v!==0&&v!==pe.retryLane))throw pe.retryLane=v,Lh(c,v),_i(H,c,v),s3;Z.data==="$?"||Fj(),d=vj(c,d,m)}else Z.data==="$?"?(d.flags|=192,d.child=c.child,d=null):(c=pe.treeContext,Ws=Po(Z.nextSibling),Ia=d,Xr=!0,nf=null,Nl=!1,c!==null&&(Qi[Zi++]=cc,Qi[Zi++]=dc,Qi[Zi++]=rf,cc=c.id,dc=c.overflow,rf=d),d=yj(d,v.children),d.flags|=4096);return d}return E?(jd(),E=v.fallback,Z=d.mode,pe=c.child,Fe=pe.sibling,v=lc(pe,{mode:"hidden",children:v.children}),v.subtreeFlags=pe.subtreeFlags&65011712,Fe!==null?E=lc(Fe,E):(E=tf(E,Z,m,null),E.flags|=2),E.return=d,v.return=d,v.sibling=E,d.child=v,v=E,E=d.child,Z=c.child.memoizedState,Z===null?Z=xj(m):(pe=Z.cachePool,pe!==null?(Fe=An._currentValue,pe=pe.parent!==Fe?{parent:Fe,pool:Fe}:pe):pe=Z4(),Z={baseLanes:Z.baseLanes|m,cachePool:pe}),E.memoizedState=Z,E.childLanes=gj(c,H,m),d.memoizedState=pj,v):(Nd(d),m=c.child,c=m.sibling,m=lc(m,{mode:"visible",children:v.children}),m.return=d,m.sibling=null,c!==null&&(H=d.deletions,H===null?(d.deletions=[c],d.flags|=16):H.push(c)),d.child=m,d.memoizedState=null,m)}function yj(c,d){return d=dv({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function dv(c,d){return c=Si(22,c,null,d),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function vj(c,d,m){return Kh(d,c.child,null,m),c=yj(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function h3(c,d,m){c.lanes|=d;var v=c.alternate;v!==null&&(v.lanes|=d),FN(c.return,d,m)}function bj(c,d,m,v,E){var k=c.memoizedState;k===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:E}:(k.isBackwards=d,k.rendering=null,k.renderingStartTime=0,k.last=v,k.tail=m,k.tailMode=E)}function m3(c,d,m){var v=d.pendingProps,E=v.revealOrder,k=v.tail;if(Wn(c,d,v.children,m),v=Tn.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&h3(c,m,d);else if(c.tag===19)h3(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}v&=1}switch(W(Tn,v),E){case"forwards":for(m=d.child,E=null;m!==null;)c=m.alternate,c!==null&&iv(c)===null&&(E=m),m=m.sibling;m=E,m===null?(E=d.child,d.child=null):(E=m.sibling,m.sibling=null),bj(d,!1,E,m,k);break;case"backwards":for(m=null,E=d.child,d.child=null;E!==null;){if(c=E.alternate,c!==null&&iv(c)===null){d.child=E;break}c=E.sibling,E.sibling=m,m=E,E=c}bj(d,!0,m,null,k);break;case"together":bj(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function pc(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),Cd|=d.lanes,(m&d.childLanes)===0)if(c!==null){if(wp(c,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(s(153));if(d.child!==null){for(c=d.child,m=lc(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=lc(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function wj(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&zy(c)))}function iW(c,d,m){switch(d.tag){case 3:xe(d,d.stateNode.containerInfo),gd(d,An,c.memoizedState.cache),vp();break;case 27:case 5:de(d);break;case 4:xe(d,d.stateNode.containerInfo);break;case 10:gd(d,d.type,d.memoizedProps.value);break;case 13:var v=d.memoizedState;if(v!==null)return v.dehydrated!==null?(Nd(d),d.flags|=128,null):(m&d.child.childLanes)!==0?f3(c,d,m):(Nd(d),c=pc(c,d,m),c!==null?c.sibling:null);Nd(d);break;case 19:var E=(c.flags&128)!==0;if(v=(m&d.childLanes)!==0,v||(wp(c,d,m,!1),v=(m&d.childLanes)!==0),E){if(v)return m3(c,d,m);d.flags|=128}if(E=d.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),W(Tn,Tn.current),v)break;return null;case 22:case 23:return d.lanes=0,o3(c,d,m);case 24:gd(d,An,c.memoizedState.cache)}return pc(c,d,m)}function p3(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps)Mn=!0;else{if(!wj(c,m)&&(d.flags&128)===0)return Mn=!1,iW(c,d,m);Mn=(c.flags&131072)!==0}else Mn=!1,Xr&&(d.flags&1048576)!==0&&H4(d,qy,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var v=d.elementType,E=v._init;if(v=E(v._payload),d.type=v,typeof v=="function")kN(v)?(c=uf(v,c),d.tag=1,d=d3(null,d,v,c,m)):(d.tag=0,d=mj(null,d,v,c,m));else{if(v!=null){if(E=v.$$typeof,E===C){d.tag=11,d=n3(null,d,v,c,m);break e}else if(E===_){d.tag=14,d=a3(null,d,v,c,m);break e}}throw d=ae(v)||v,Error(s(306,d,""))}}return d;case 0:return mj(c,d,d.type,d.pendingProps,m);case 1:return v=d.type,E=uf(v,d.pendingProps),d3(c,d,v,E,m);case 3:e:{if(xe(d,d.stateNode.containerInfo),c===null)throw Error(s(387));v=d.pendingProps;var k=d.memoizedState;E=k.element,zN(c,d),Cp(d,v,null,m);var H=d.memoizedState;if(v=H.cache,gd(d,An,v),v!==k.cache&&LN(d,[An],m,!0),Tp(),v=H.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:H.cache},d.updateQueue.baseState=k,d.memoizedState=k,d.flags&256){d=u3(c,d,v,m);break e}else if(v!==E){E=Ki(Error(s(424)),d),bp(E),d=u3(c,d,v,m);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Ws=Po(c.firstChild),Ia=d,Xr=!0,nf=null,Nl=!0,m=Gk(d,null,v,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(vp(),v===E){d=pc(c,d,m);break e}Wn(c,d,v,m)}d=d.child}return d;case 26:return cv(c,d),c===null?(m=vD(d.type,null,d.pendingProps,null))?d.memoizedState=m:Xr||(m=d.type,c=d.pendingProps,v=Sv(Q.current).createElement(m),v[qe]=d,v[at]=c,Yn(v,m,c),ke(v),d.stateNode=v):d.memoizedState=vD(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return de(d),c===null&&Xr&&(v=d.stateNode=xD(d.type,d.pendingProps,Q.current),Ia=d,Nl=!0,E=Ws,Od(d.type)?(t2=E,Ws=Po(v.firstChild)):Ws=E),Wn(c,d,d.pendingProps.children,m),cv(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Xr&&((E=v=Ws)&&(v=PW(v,d.type,d.pendingProps,Nl),v!==null?(d.stateNode=v,Ia=d,Ws=Po(v.firstChild),Nl=!1,E=!0):E=!1),E||af(d)),de(d),E=d.type,k=d.pendingProps,H=c!==null?c.memoizedProps:null,v=k.children,Qj(E,k)?v=null:H!==null&&Qj(E,H)&&(d.flags|=32),d.memoizedState!==null&&(E=XN(c,d,ZH,null,null,m),Xp._currentValue=E),cv(c,d),Wn(c,d,v,m),d.child;case 6:return c===null&&Xr&&((c=m=Ws)&&(m=MW(m,d.pendingProps,Nl),m!==null?(d.stateNode=m,Ia=d,Ws=null,c=!0):c=!1),c||af(d)),null;case 13:return f3(c,d,m);case 4:return xe(d,d.stateNode.containerInfo),v=d.pendingProps,c===null?d.child=Kh(d,null,v,m):Wn(c,d,v,m),d.child;case 11:return n3(c,d,d.type,d.pendingProps,m);case 7:return Wn(c,d,d.pendingProps,m),d.child;case 8:return Wn(c,d,d.pendingProps.children,m),d.child;case 12:return Wn(c,d,d.pendingProps.children,m),d.child;case 10:return v=d.pendingProps,gd(d,d.type,v.value),Wn(c,d,v.children,m),d.child;case 9:return E=d.type._context,v=d.pendingProps.children,lf(d),E=va(E),v=v(E),d.flags|=1,Wn(c,d,v,m),d.child;case 14:return a3(c,d,d.type,d.pendingProps,m);case 15:return i3(c,d,d.type,d.pendingProps,m);case 19:return m3(c,d,m);case 31:return v=d.pendingProps,m=d.mode,v={mode:v.mode,children:v.children},c===null?(m=dv(v,m),m.ref=d.ref,d.child=m,m.return=d,d=m):(m=lc(c.child,v),m.ref=d.ref,d.child=m,m.return=d,d=m),d;case 22:return o3(c,d,m);case 24:return lf(d),v=va(An),c===null?(E=UN(),E===null&&(E=js,k=BN(),E.pooledCache=k,k.refCount++,k!==null&&(E.pooledCacheLanes|=m),E=k),d.memoizedState={parent:v,cache:E},qN(d),gd(d,An,E)):((c.lanes&m)!==0&&(zN(c,d),Cp(d,null,null,m),Tp()),E=c.memoizedState,k=d.memoizedState,E.parent!==v?(E={parent:v,cache:v},d.memoizedState=E,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=E),gd(d,An,v)):(v=k.cache,gd(d,An,v),v!==E.cache&&LN(d,[An],m,!0))),Wn(c,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(s(156,d.tag))}function xc(c){c.flags|=4}function x3(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!SD(d)){if(d=Ji.current,d!==null&&((Fr&4194048)===Fr?jl!==null:(Fr&62914560)!==Fr&&(Fr&536870912)===0||d!==jl))throw Ep=VN,J4;c.flags|=8192}}function uv(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?ma():536870912,c.lanes|=d,Jh|=d)}function Mp(c,d){if(!Xr)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function Ls(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,v=0;if(d)for(var E=c.child;E!==null;)m|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)m|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=v,c.childLanes=m,d}function oW(c,d,m){var v=d.pendingProps;switch(PN(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ls(d),null;case 1:return Ls(d),null;case 3:return m=d.stateNode,v=null,c!==null&&(v=c.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),fc(An),ue(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(yp(d)?xc(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Y4())),Ls(d),null;case 26:return m=d.memoizedState,c===null?(xc(d),m!==null?(Ls(d),x3(d,m)):(Ls(d),d.flags&=-16777217)):m?m!==c.memoizedState?(xc(d),Ls(d),x3(d,m)):(Ls(d),d.flags&=-16777217):(c.memoizedProps!==v&&xc(d),Ls(d),d.flags&=-16777217),null;case 27:De(d),m=Q.current;var E=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==v&&xc(d);else{if(!v){if(d.stateNode===null)throw Error(s(166));return Ls(d),null}c=K.current,yp(d)?W4(d):(c=xD(E,v,m),d.stateNode=c,xc(d))}return Ls(d),null;case 5:if(De(d),m=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==v&&xc(d);else{if(!v){if(d.stateNode===null)throw Error(s(166));return Ls(d),null}if(c=K.current,yp(d))W4(d);else{switch(E=Sv(Q.current),c){case 1:c=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:c=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":c=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":c=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":c=E.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?c.multiple=!0:v.size&&(c.size=v.size);break;default:c=typeof v.is=="string"?E.createElement(m,{is:v.is}):E.createElement(m)}}c[qe]=d,c[at]=v;e:for(E=d.child;E!==null;){if(E.tag===5||E.tag===6)c.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===d)break e;for(;E.sibling===null;){if(E.return===null||E.return===d)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}d.stateNode=c;e:switch(Yn(c,m,v),m){case"button":case"input":case"select":case"textarea":c=!!v.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&xc(d)}}return Ls(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==v&&xc(d);else{if(typeof v!="string"&&d.stateNode===null)throw Error(s(166));if(c=Q.current,yp(d)){if(c=d.stateNode,m=d.memoizedProps,v=null,E=Ia,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}c[qe]=d,c=!!(c.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||cD(c.nodeValue,m)),c||af(d)}else c=Sv(c).createTextNode(v),c[qe]=d,d.stateNode=c}return Ls(d),null;case 13:if(v=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(E=yp(d),v!==null&&v.dehydrated!==null){if(c===null){if(!E)throw Error(s(318));if(E=d.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(s(317));E[qe]=d}else vp(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ls(d),E=!1}else E=Y4(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=E),E=!0;if(!E)return d.flags&256?(mc(d),d):(mc(d),null)}if(mc(d),(d.flags&128)!==0)return d.lanes=m,d;if(m=v!==null,c=c!==null&&c.memoizedState!==null,m){v=d.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var k=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(k=v.memoizedState.cachePool.pool),k!==E&&(v.flags|=2048)}return m!==c&&m&&(d.child.flags|=8192),uv(d,d.updateQueue),Ls(d),null;case 4:return ue(),c===null&&Wj(d.stateNode.containerInfo),Ls(d),null;case 10:return fc(d.type),Ls(d),null;case 19:if(M(Tn),E=d.memoizedState,E===null)return Ls(d),null;if(v=(d.flags&128)!==0,k=E.rendering,k===null)if(v)Mp(E,!1);else{if(Gs!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(k=iv(c),k!==null){for(d.flags|=128,Mp(E,!1),c=k.updateQueue,d.updateQueue=c,uv(d,c),d.subtreeFlags=0,c=m,m=d.child;m!==null;)z4(m,c),m=m.sibling;return W(Tn,Tn.current&1|2),d.child}c=c.sibling}E.tail!==null&&be()>mv&&(d.flags|=128,v=!0,Mp(E,!1),d.lanes=4194304)}else{if(!v)if(c=iv(k),c!==null){if(d.flags|=128,v=!0,c=c.updateQueue,d.updateQueue=c,uv(d,c),Mp(E,!0),E.tail===null&&E.tailMode==="hidden"&&!k.alternate&&!Xr)return Ls(d),null}else 2*be()-E.renderingStartTime>mv&&m!==536870912&&(d.flags|=128,v=!0,Mp(E,!1),d.lanes=4194304);E.isBackwards?(k.sibling=d.child,d.child=k):(c=E.last,c!==null?c.sibling=k:d.child=k,E.last=k)}return E.tail!==null?(d=E.tail,E.rendering=d,E.tail=d.sibling,E.renderingStartTime=be(),d.sibling=null,c=Tn.current,W(Tn,v?c&1|2:c&1),d):(Ls(d),null);case 22:case 23:return mc(d),YN(),v=d.memoizedState!==null,c!==null?c.memoizedState!==null!==v&&(d.flags|=8192):v&&(d.flags|=8192),v?(m&536870912)!==0&&(d.flags&128)===0&&(Ls(d),d.subtreeFlags&6&&(d.flags|=8192)):Ls(d),m=d.updateQueue,m!==null&&uv(d,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048),c!==null&&M(cf),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),fc(An),Ls(d),null;case 25:return null;case 30:return null}throw Error(s(156,d.tag))}function lW(c,d){switch(PN(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return fc(An),ue(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return De(d),null;case 13:if(mc(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(s(340));vp()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return M(Tn),null;case 4:return ue(),null;case 10:return fc(d.type),null;case 22:case 23:return mc(d),YN(),c!==null&&M(cf),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return fc(An),null;case 25:return null;default:return null}}function g3(c,d){switch(PN(d),d.tag){case 3:fc(An),ue();break;case 26:case 27:case 5:De(d);break;case 4:ue();break;case 13:mc(d);break;case 19:M(Tn);break;case 10:fc(d.type);break;case 22:case 23:mc(d),YN(),c!==null&&M(cf);break;case 24:fc(An)}}function Ip(c,d){try{var m=d.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var E=v.next;m=E;do{if((m.tag&c)===c){v=void 0;var k=m.create,H=m.inst;v=k(),H.destroy=v}m=m.next}while(m!==E)}}catch(Z){ys(d,d.return,Z)}}function Sd(c,d,m){try{var v=d.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var k=E.next;v=k;do{if((v.tag&c)===c){var H=v.inst,Z=H.destroy;if(Z!==void 0){H.destroy=void 0,E=d;var pe=m,Fe=Z;try{Fe()}catch(et){ys(E,pe,et)}}}v=v.next}while(v!==k)}}catch(et){ys(d,d.return,et)}}function y3(c){var d=c.updateQueue;if(d!==null){var m=c.stateNode;try{ak(d,m)}catch(v){ys(c,c.return,v)}}}function v3(c,d,m){m.props=uf(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(v){ys(c,d,v)}}function Fp(c,d){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var v=c.stateNode;break;case 30:v=c.stateNode;break;default:v=c.stateNode}typeof m=="function"?c.refCleanup=m(v):m.current=v}}catch(E){ys(c,d,E)}}function Sl(c,d){var m=c.ref,v=c.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(E){ys(c,d,E)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(E){ys(c,d,E)}else m.current=null}function b3(c){var d=c.type,m=c.memoizedProps,v=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(E){ys(c,c.return,E)}}function Nj(c,d,m){try{var v=c.stateNode;_W(v,c.type,m,d),v[at]=d}catch(E){ys(c,c.return,E)}}function w3(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Od(c.type)||c.tag===4}function jj(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||w3(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Od(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Sj(c,d,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(c),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=jv));else if(v!==4&&(v===27&&Od(c.type)&&(m=c.stateNode,d=null),c=c.child,c!==null))for(Sj(c,d,m),c=c.sibling;c!==null;)Sj(c,d,m),c=c.sibling}function fv(c,d,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(v!==4&&(v===27&&Od(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(fv(c,d,m),c=c.sibling;c!==null;)fv(c,d,m),c=c.sibling}function N3(c){var d=c.stateNode,m=c.memoizedProps;try{for(var v=c.type,E=d.attributes;E.length;)d.removeAttributeNode(E[0]);Yn(d,v,m),d[qe]=c,d[at]=m}catch(k){ys(c,c.return,k)}}var gc=!1,on=!1,Ej=!1,j3=typeof WeakSet=="function"?WeakSet:Set,In=null;function cW(c,d){if(c=c.containerInfo,Kj=kv,c=P4(c),jN(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var E=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{m.nodeType,k.nodeType}catch{m=null;break e}var H=0,Z=-1,pe=-1,Fe=0,et=0,nt=c,Ve=null;t:for(;;){for(var He;nt!==m||E!==0&&nt.nodeType!==3||(Z=H+E),nt!==k||v!==0&&nt.nodeType!==3||(pe=H+v),nt.nodeType===3&&(H+=nt.nodeValue.length),(He=nt.firstChild)!==null;)Ve=nt,nt=He;for(;;){if(nt===c)break t;if(Ve===m&&++Fe===E&&(Z=H),Ve===k&&++et===v&&(pe=H),(He=nt.nextSibling)!==null)break;nt=Ve,Ve=nt.parentNode}nt=He}m=Z===-1||pe===-1?null:{start:Z,end:pe}}else m=null}m=m||{start:0,end:0}}else m=null;for(Xj={focusedElem:c,selectionRange:m},kv=!1,In=d;In!==null;)if(d=In,c=d.child,(d.subtreeFlags&1024)!==0&&c!==null)c.return=d,In=c;else for(;In!==null;){switch(d=In,k=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&k!==null){c=void 0,m=d,E=k.memoizedProps,k=k.memoizedState,v=m.stateNode;try{var cr=uf(m.type,E,m.elementType===m.type);c=v.getSnapshotBeforeUpdate(cr,k),v.__reactInternalSnapshotBeforeUpdate=c}catch(nr){ys(m,m.return,nr)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,m=c.nodeType,m===9)Jj(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Jj(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(s(163))}if(c=d.sibling,c!==null){c.return=d.return,In=c;break}In=d.return}}function S3(c,d,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Ed(c,m),v&4&&Ip(5,m);break;case 1:if(Ed(c,m),v&4)if(c=m.stateNode,d===null)try{c.componentDidMount()}catch(H){ys(m,m.return,H)}else{var E=uf(m.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(E,d,c.__reactInternalSnapshotBeforeUpdate)}catch(H){ys(m,m.return,H)}}v&64&&y3(m),v&512&&Fp(m,m.return);break;case 3:if(Ed(c,m),v&64&&(c=m.updateQueue,c!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{ak(c,d)}catch(H){ys(m,m.return,H)}}break;case 27:d===null&&v&4&&N3(m);case 26:case 5:Ed(c,m),d===null&&v&4&&b3(m),v&512&&Fp(m,m.return);break;case 12:Ed(c,m);break;case 13:Ed(c,m),v&4&&T3(c,m),v&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=yW.bind(null,m),IW(c,m))));break;case 22:if(v=m.memoizedState!==null||gc,!v){d=d!==null&&d.memoizedState!==null||on,E=gc;var k=on;gc=v,(on=d)&&!k?Ad(c,m,(m.subtreeFlags&8772)!==0):Ed(c,m),gc=E,on=k}break;case 30:break;default:Ed(c,m)}}function E3(c){var d=c.alternate;d!==null&&(c.alternate=null,E3(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&ne(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var ks=null,ei=!1;function yc(c,d,m){for(m=m.child;m!==null;)A3(c,d,m),m=m.sibling}function A3(c,d,m){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount($e,m)}catch{}switch(m.tag){case 26:on||Sl(m,d),yc(c,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:on||Sl(m,d);var v=ks,E=ei;Od(m.type)&&(ks=m.stateNode,ei=!1),yc(c,d,m),Wp(m.stateNode),ks=v,ei=E;break;case 5:on||Sl(m,d);case 6:if(v=ks,E=ei,ks=null,yc(c,d,m),ks=v,ei=E,ks!==null)if(ei)try{(ks.nodeType===9?ks.body:ks.nodeName==="HTML"?ks.ownerDocument.body:ks).removeChild(m.stateNode)}catch(k){ys(m,d,k)}else try{ks.removeChild(m.stateNode)}catch(k){ys(m,d,k)}break;case 18:ks!==null&&(ei?(c=ks,mD(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),ex(c)):mD(ks,m.stateNode));break;case 4:v=ks,E=ei,ks=m.stateNode.containerInfo,ei=!0,yc(c,d,m),ks=v,ei=E;break;case 0:case 11:case 14:case 15:on||Sd(2,m,d),on||Sd(4,m,d),yc(c,d,m);break;case 1:on||(Sl(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"&&v3(m,d,v)),yc(c,d,m);break;case 21:yc(c,d,m);break;case 22:on=(v=on)||m.memoizedState!==null,yc(c,d,m),on=v;break;default:yc(c,d,m)}}function T3(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{ex(c)}catch(m){ys(d,d.return,m)}}function dW(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new j3),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new j3),d;default:throw Error(s(435,c.tag))}}function Aj(c,d){var m=dW(c);d.forEach(function(v){var E=vW.bind(null,c,v);m.has(v)||(m.add(v),v.then(E,E))})}function Ei(c,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var E=m[v],k=c,H=d,Z=H;e:for(;Z!==null;){switch(Z.tag){case 27:if(Od(Z.type)){ks=Z.stateNode,ei=!1;break e}break;case 5:ks=Z.stateNode,ei=!1;break e;case 3:case 4:ks=Z.stateNode.containerInfo,ei=!0;break e}Z=Z.return}if(ks===null)throw Error(s(160));A3(k,H,E),ks=null,ei=!1,k=E.alternate,k!==null&&(k.return=null),E.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)C3(d,c),d=d.sibling}var Ro=null;function C3(c,d){var m=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ei(d,c),Ai(c),v&4&&(Sd(3,c,c.return),Ip(3,c),Sd(5,c,c.return));break;case 1:Ei(d,c),Ai(c),v&512&&(on||m===null||Sl(m,m.return)),v&64&&gc&&(c=c.updateQueue,c!==null&&(v=c.callbacks,v!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var E=Ro;if(Ei(d,c),Ai(c),v&512&&(on||m===null||Sl(m,m.return)),v&4){var k=m!==null?m.memoizedState:null;if(v=c.memoizedState,m===null)if(v===null)if(c.stateNode===null){e:{v=c.type,m=c.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":k=E.getElementsByTagName("title")[0],(!k||k[re]||k[qe]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=E.createElement(v),E.head.insertBefore(k,E.querySelector("head > title"))),Yn(k,v,m),k[qe]=c,ke(k),v=k;break e;case"link":var H=ND("link","href",E).get(v+(m.href||""));if(H){for(var Z=0;Z<H.length;Z++)if(k=H[Z],k.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&k.getAttribute("rel")===(m.rel==null?null:m.rel)&&k.getAttribute("title")===(m.title==null?null:m.title)&&k.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){H.splice(Z,1);break t}}k=E.createElement(v),Yn(k,v,m),E.head.appendChild(k);break;case"meta":if(H=ND("meta","content",E).get(v+(m.content||""))){for(Z=0;Z<H.length;Z++)if(k=H[Z],k.getAttribute("content")===(m.content==null?null:""+m.content)&&k.getAttribute("name")===(m.name==null?null:m.name)&&k.getAttribute("property")===(m.property==null?null:m.property)&&k.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&k.getAttribute("charset")===(m.charSet==null?null:m.charSet)){H.splice(Z,1);break t}}k=E.createElement(v),Yn(k,v,m),E.head.appendChild(k);break;default:throw Error(s(468,v))}k[qe]=c,ke(k),v=k}c.stateNode=v}else jD(E,c.type,c.stateNode);else c.stateNode=wD(E,v,c.memoizedProps);else k!==v?(k===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):k.count--,v===null?jD(E,c.type,c.stateNode):wD(E,v,c.memoizedProps)):v===null&&c.stateNode!==null&&Nj(c,c.memoizedProps,m.memoizedProps)}break;case 27:Ei(d,c),Ai(c),v&512&&(on||m===null||Sl(m,m.return)),m!==null&&v&4&&Nj(c,c.memoizedProps,m.memoizedProps);break;case 5:if(Ei(d,c),Ai(c),v&512&&(on||m===null||Sl(m,m.return)),c.flags&32){E=c.stateNode;try{Rn(E,"")}catch(He){ys(c,c.return,He)}}v&4&&c.stateNode!=null&&(E=c.memoizedProps,Nj(c,E,m!==null?m.memoizedProps:E)),v&1024&&(Ej=!0);break;case 6:if(Ei(d,c),Ai(c),v&4){if(c.stateNode===null)throw Error(s(162));v=c.memoizedProps,m=c.stateNode;try{m.nodeValue=v}catch(He){ys(c,c.return,He)}}break;case 3:if(Tv=null,E=Ro,Ro=Ev(d.containerInfo),Ei(d,c),Ro=E,Ai(c),v&4&&m!==null&&m.memoizedState.isDehydrated)try{ex(d.containerInfo)}catch(He){ys(c,c.return,He)}Ej&&(Ej=!1,_3(c));break;case 4:v=Ro,Ro=Ev(c.stateNode.containerInfo),Ei(d,c),Ai(c),Ro=v;break;case 12:Ei(d,c),Ai(c);break;case 13:Ei(d,c),Ai(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Oj=be()),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,Aj(c,v)));break;case 22:E=c.memoizedState!==null;var pe=m!==null&&m.memoizedState!==null,Fe=gc,et=on;if(gc=Fe||E,on=et||pe,Ei(d,c),on=et,gc=Fe,Ai(c),v&8192)e:for(d=c.stateNode,d._visibility=E?d._visibility&-2:d._visibility|1,E&&(m===null||pe||gc||on||ff(c)),m=null,d=c;;){if(d.tag===5||d.tag===26){if(m===null){pe=m=d;try{if(k=pe.stateNode,E)H=k.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{Z=pe.stateNode;var nt=pe.memoizedProps.style,Ve=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;Z.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(He){ys(pe,pe.return,He)}}}else if(d.tag===6){if(m===null){pe=d;try{pe.stateNode.nodeValue=E?"":pe.memoizedProps}catch(He){ys(pe,pe.return,He)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}v&4&&(v=c.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,Aj(c,m))));break;case 19:Ei(d,c),Ai(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,Aj(c,v)));break;case 30:break;case 21:break;default:Ei(d,c),Ai(c)}}function Ai(c){var d=c.flags;if(d&2){try{for(var m,v=c.return;v!==null;){if(w3(v)){m=v;break}v=v.return}if(m==null)throw Error(s(160));switch(m.tag){case 27:var E=m.stateNode,k=jj(c);fv(c,k,E);break;case 5:var H=m.stateNode;m.flags&32&&(Rn(H,""),m.flags&=-33);var Z=jj(c);fv(c,Z,H);break;case 3:case 4:var pe=m.stateNode.containerInfo,Fe=jj(c);Sj(c,Fe,pe);break;default:throw Error(s(161))}}catch(et){ys(c,c.return,et)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function _3(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;_3(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Ed(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)S3(c,d.alternate,d),d=d.sibling}function ff(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Sd(4,d,d.return),ff(d);break;case 1:Sl(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&v3(d,d.return,m),ff(d);break;case 27:Wp(d.stateNode);case 26:case 5:Sl(d,d.return),ff(d);break;case 22:d.memoizedState===null&&ff(d);break;case 30:ff(d);break;default:ff(d)}c=c.sibling}}function Ad(c,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var v=d.alternate,E=c,k=d,H=k.flags;switch(k.tag){case 0:case 11:case 15:Ad(E,k,m),Ip(4,k);break;case 1:if(Ad(E,k,m),v=k,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Fe){ys(v,v.return,Fe)}if(v=k,E=v.updateQueue,E!==null){var Z=v.stateNode;try{var pe=E.shared.hiddenCallbacks;if(pe!==null)for(E.shared.hiddenCallbacks=null,E=0;E<pe.length;E++)nk(pe[E],Z)}catch(Fe){ys(v,v.return,Fe)}}m&&H&64&&y3(k),Fp(k,k.return);break;case 27:N3(k);case 26:case 5:Ad(E,k,m),m&&v===null&&H&4&&b3(k),Fp(k,k.return);break;case 12:Ad(E,k,m);break;case 13:Ad(E,k,m),m&&H&4&&T3(E,k);break;case 22:k.memoizedState===null&&Ad(E,k,m),Fp(k,k.return);break;case 30:break;default:Ad(E,k,m)}d=d.sibling}}function Tj(c,d){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&Np(m))}function Cj(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Np(c))}function El(c,d,m,v){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)k3(c,d,m,v),d=d.sibling}function k3(c,d,m,v){var E=d.flags;switch(d.tag){case 0:case 11:case 15:El(c,d,m,v),E&2048&&Ip(9,d);break;case 1:El(c,d,m,v);break;case 3:El(c,d,m,v),E&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Np(c)));break;case 12:if(E&2048){El(c,d,m,v),c=d.stateNode;try{var k=d.memoizedProps,H=k.id,Z=k.onPostCommit;typeof Z=="function"&&Z(H,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(pe){ys(d,d.return,pe)}}else El(c,d,m,v);break;case 13:El(c,d,m,v);break;case 23:break;case 22:k=d.stateNode,H=d.alternate,d.memoizedState!==null?k._visibility&2?El(c,d,m,v):Lp(c,d):k._visibility&2?El(c,d,m,v):(k._visibility|=2,Xh(c,d,m,v,(d.subtreeFlags&10256)!==0)),E&2048&&Tj(H,d);break;case 24:El(c,d,m,v),E&2048&&Cj(d.alternate,d);break;default:El(c,d,m,v)}}function Xh(c,d,m,v,E){for(E=E&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var k=c,H=d,Z=m,pe=v,Fe=H.flags;switch(H.tag){case 0:case 11:case 15:Xh(k,H,Z,pe,E),Ip(8,H);break;case 23:break;case 22:var et=H.stateNode;H.memoizedState!==null?et._visibility&2?Xh(k,H,Z,pe,E):Lp(k,H):(et._visibility|=2,Xh(k,H,Z,pe,E)),E&&Fe&2048&&Tj(H.alternate,H);break;case 24:Xh(k,H,Z,pe,E),E&&Fe&2048&&Cj(H.alternate,H);break;default:Xh(k,H,Z,pe,E)}d=d.sibling}}function Lp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=c,v=d,E=v.flags;switch(v.tag){case 22:Lp(m,v),E&2048&&Tj(v.alternate,v);break;case 24:Lp(m,v),E&2048&&Cj(v.alternate,v);break;default:Lp(m,v)}d=d.sibling}}var Bp=8192;function Qh(c){if(c.subtreeFlags&Bp)for(c=c.child;c!==null;)D3(c),c=c.sibling}function D3(c){switch(c.tag){case 26:Qh(c),c.flags&Bp&&c.memoizedState!==null&&KW(Ro,c.memoizedState,c.memoizedProps);break;case 5:Qh(c);break;case 3:case 4:var d=Ro;Ro=Ev(c.stateNode.containerInfo),Qh(c),Ro=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=Bp,Bp=16777216,Qh(c),Bp=d):Qh(c));break;default:Qh(c)}}function O3(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function $p(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];In=v,P3(v,c)}O3(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)R3(c),c=c.sibling}function R3(c){switch(c.tag){case 0:case 11:case 15:$p(c),c.flags&2048&&Sd(9,c,c.return);break;case 3:$p(c);break;case 12:$p(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,hv(c)):$p(c);break;default:$p(c)}}function hv(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];In=v,P3(v,c)}O3(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Sd(8,d,d.return),hv(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,hv(d));break;default:hv(d)}c=c.sibling}}function P3(c,d){for(;In!==null;){var m=In;switch(m.tag){case 0:case 11:case 15:Sd(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Np(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,In=v;else e:for(m=c;In!==null;){v=In;var E=v.sibling,k=v.return;if(E3(v),v===m){In=null;break e}if(E!==null){E.return=k,In=E;break e}In=k}}}var uW={getCacheForType:function(c){var d=va(An),m=d.data.get(c);return m===void 0&&(m=c(),d.data.set(c,m)),m}},fW=typeof WeakMap=="function"?WeakMap:Map,ts=0,js=null,Er=null,Fr=0,rs=0,Ti=null,Td=!1,Zh=!1,_j=!1,vc=0,Gs=0,Cd=0,hf=0,kj=0,eo=0,Jh=0,Up=null,ti=null,Dj=!1,Oj=0,mv=1/0,pv=null,_d=null,Gn=0,kd=null,em=null,tm=0,Rj=0,Pj=null,M3=null,Vp=0,Mj=null;function Ci(){if((ts&2)!==0&&Fr!==0)return Fr&-Fr;if(L.T!==null){var c=Vh;return c!==0?c:Vj()}return rn()}function I3(){eo===0&&(eo=(Fr&536870912)===0||Xr?es():536870912);var c=Ji.current;return c!==null&&(c.flags|=32),eo}function _i(c,d,m){(c===js&&(rs===2||rs===9)||c.cancelPendingCommit!==null)&&(rm(c,0),Dd(c,Fr,eo,!1)),mn(c,m),((ts&2)===0||c!==js)&&(c===js&&((ts&2)===0&&(hf|=m),Gs===4&&Dd(c,Fr,eo,!1)),Al(c))}function F3(c,d,m){if((ts&6)!==0)throw Error(s(327));var v=!m&&(d&124)===0&&(d&c.expiredLanes)===0||hn(c,d),E=v?pW(c,d):Lj(c,d,!0),k=v;do{if(E===0){Zh&&!v&&Dd(c,d,0,!1);break}else{if(m=c.current.alternate,k&&!hW(m)){E=Lj(c,d,!1),k=!1;continue}if(E===2){if(k=d,c.errorRecoveryDisabledLanes&k)var H=0;else H=c.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){d=H;e:{var Z=c;E=Up;var pe=Z.current.memoizedState.isDehydrated;if(pe&&(rm(Z,H).flags|=256),H=Lj(Z,H,!1),H!==2){if(_j&&!pe){Z.errorRecoveryDisabledLanes|=k,hf|=k,E=4;break e}k=ti,ti=E,k!==null&&(ti===null?ti=k:ti.push.apply(ti,k))}E=H}if(k=!1,E!==2)continue}}if(E===1){rm(c,0),Dd(c,d,0,!0);break}e:{switch(v=c,k=E,k){case 0:case 1:throw Error(s(345));case 4:if((d&4194048)!==d)break;case 6:Dd(v,d,eo,!Td);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if((d&62914560)===d&&(E=Oj+300-be(),10<E)){if(Dd(v,d,eo,!Td),Nn(v,0,!0)!==0)break e;v.timeoutHandle=fD(L3.bind(null,v,m,ti,pv,Dj,d,eo,hf,Jh,Td,k,2,-0,0),E);break e}L3(v,m,ti,pv,Dj,d,eo,hf,Jh,Td,k,0,-0,0)}}break}while(!0);Al(c)}function L3(c,d,m,v,E,k,H,Z,pe,Fe,et,nt,Ve,He){if(c.timeoutHandle=-1,nt=d.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Kp={stylesheets:null,count:0,unsuspend:YW},D3(d),nt=XW(),nt!==null)){c.cancelPendingCommit=nt(H3.bind(null,c,d,k,m,v,E,H,Z,pe,et,1,Ve,He)),Dd(c,k,H,!Fe);return}H3(c,d,k,m,v,E,H,Z,pe)}function hW(c){for(var d=c;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var E=m[v],k=E.getSnapshot;E=E.value;try{if(!ji(k(),E))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Dd(c,d,m,v){d&=~kj,d&=~hf,c.suspendedLanes|=d,c.pingedLanes&=~d,v&&(c.warmLanes|=d),v=c.expirationTimes;for(var E=d;0<E;){var k=31-gt(E),H=1<<k;v[k]=-1,E&=~H}m!==0&&qt(c,m,d)}function xv(){return(ts&6)===0?(qp(0),!1):!0}function Ij(){if(Er!==null){if(rs===0)var c=Er.return;else c=Er,uc=of=null,JN(c),Yh=null,Rp=0,c=Er;for(;c!==null;)g3(c.alternate,c),c=c.return;Er=null}}function rm(c,d){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,DW(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),Ij(),js=c,Er=m=lc(c.current,null),Fr=d,rs=0,Ti=null,Td=!1,Zh=hn(c,d),_j=!1,Jh=eo=kj=hf=Cd=Gs=0,ti=Up=null,Dj=!1,(d&8)!==0&&(d|=d&32);var v=c.entangledLanes;if(v!==0)for(c=c.entanglements,v&=d;0<v;){var E=31-gt(v),k=1<<E;d|=c[E],v&=~k}return vc=d,Ly(),m}function B3(c,d){br=null,L.H=sv,d===Sp||d===Gy?(d=rk(),rs=3):d===J4?(d=rk(),rs=4):rs=d===s3?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ti=d,Er===null&&(Gs=1,lv(c,Ki(d,c.current)))}function $3(){var c=L.H;return L.H=sv,c===null?sv:c}function U3(){var c=L.A;return L.A=uW,c}function Fj(){Gs=4,Td||(Fr&4194048)!==Fr&&Ji.current!==null||(Zh=!0),(Cd&134217727)===0&&(hf&134217727)===0||js===null||Dd(js,Fr,eo,!1)}function Lj(c,d,m){var v=ts;ts|=2;var E=$3(),k=U3();(js!==c||Fr!==d)&&(pv=null,rm(c,d)),d=!1;var H=Gs;e:do try{if(rs!==0&&Er!==null){var Z=Er,pe=Ti;switch(rs){case 8:Ij(),H=6;break e;case 3:case 2:case 9:case 6:Ji.current===null&&(d=!0);var Fe=rs;if(rs=0,Ti=null,sm(c,Z,pe,Fe),m&&Zh){H=0;break e}break;default:Fe=rs,rs=0,Ti=null,sm(c,Z,pe,Fe)}}mW(),H=Gs;break}catch(et){B3(c,et)}while(!0);return d&&c.shellSuspendCounter++,uc=of=null,ts=v,L.H=E,L.A=k,Er===null&&(js=null,Fr=0,Ly()),H}function mW(){for(;Er!==null;)V3(Er)}function pW(c,d){var m=ts;ts|=2;var v=$3(),E=U3();js!==c||Fr!==d?(pv=null,mv=be()+500,rm(c,d)):Zh=hn(c,d);e:do try{if(rs!==0&&Er!==null){d=Er;var k=Ti;t:switch(rs){case 1:rs=0,Ti=null,sm(c,d,k,1);break;case 2:case 9:if(ek(k)){rs=0,Ti=null,q3(d);break}d=function(){rs!==2&&rs!==9||js!==c||(rs=7),Al(c)},k.then(d,d);break e;case 3:rs=7;break e;case 4:rs=5;break e;case 7:ek(k)?(rs=0,Ti=null,q3(d)):(rs=0,Ti=null,sm(c,d,k,7));break;case 5:var H=null;switch(Er.tag){case 26:H=Er.memoizedState;case 5:case 27:var Z=Er;if(!H||SD(H)){rs=0,Ti=null;var pe=Z.sibling;if(pe!==null)Er=pe;else{var Fe=Z.return;Fe!==null?(Er=Fe,gv(Fe)):Er=null}break t}}rs=0,Ti=null,sm(c,d,k,5);break;case 6:rs=0,Ti=null,sm(c,d,k,6);break;case 8:Ij(),Gs=6;break e;default:throw Error(s(462))}}xW();break}catch(et){B3(c,et)}while(!0);return uc=of=null,L.H=v,L.A=E,ts=m,Er!==null?0:(js=null,Fr=0,Ly(),Gs)}function xW(){for(;Er!==null&&!Ae();)V3(Er)}function V3(c){var d=p3(c.alternate,c,vc);c.memoizedProps=c.pendingProps,d===null?gv(c):Er=d}function q3(c){var d=c,m=d.alternate;switch(d.tag){case 15:case 0:d=c3(m,d,d.pendingProps,d.type,void 0,Fr);break;case 11:d=c3(m,d,d.pendingProps,d.type.render,d.ref,Fr);break;case 5:JN(d);default:g3(m,d),d=Er=z4(d,vc),d=p3(m,d,vc)}c.memoizedProps=c.pendingProps,d===null?gv(c):Er=d}function sm(c,d,m,v){uc=of=null,JN(d),Yh=null,Rp=0;var E=d.return;try{if(aW(c,E,d,m,Fr)){Gs=1,lv(c,Ki(m,c.current)),Er=null;return}}catch(k){if(E!==null)throw Er=E,k;Gs=1,lv(c,Ki(m,c.current)),Er=null;return}d.flags&32768?(Xr||v===1?c=!0:Zh||(Fr&536870912)!==0?c=!1:(Td=c=!0,(v===2||v===9||v===3||v===6)&&(v=Ji.current,v!==null&&v.tag===13&&(v.flags|=16384))),z3(d,c)):gv(d)}function gv(c){var d=c;do{if((d.flags&32768)!==0){z3(d,Td);return}c=d.return;var m=oW(d.alternate,d,vc);if(m!==null){Er=m;return}if(d=d.sibling,d!==null){Er=d;return}Er=d=c}while(d!==null);Gs===0&&(Gs=5)}function z3(c,d){do{var m=lW(c.alternate,c);if(m!==null){m.flags&=32767,Er=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(c=c.sibling,c!==null)){Er=c;return}Er=c=m}while(c!==null);Gs=6,Er=null}function H3(c,d,m,v,E,k,H,Z,pe){c.cancelPendingCommit=null;do yv();while(Gn!==0);if((ts&6)!==0)throw Error(s(327));if(d!==null){if(d===c.current)throw Error(s(177));if(k=d.lanes|d.childLanes,k|=CN,hr(c,m,k,H,Z,pe),c===js&&(Er=js=null,Fr=0),em=d,kd=c,tm=m,Rj=k,Pj=E,M3=v,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,bW(jt,function(){return X3(),null})):(c.callbackNode=null,c.callbackPriority=0),v=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||v){v=L.T,L.T=null,E=U.p,U.p=2,H=ts,ts|=4;try{cW(c,d,m)}finally{ts=H,U.p=E,L.T=v}}Gn=1,W3(),G3(),Y3()}}function W3(){if(Gn===1){Gn=0;var c=kd,d=em,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=L.T,L.T=null;var v=U.p;U.p=2;var E=ts;ts|=4;try{C3(d,c);var k=Xj,H=P4(c.containerInfo),Z=k.focusedElem,pe=k.selectionRange;if(H!==Z&&Z&&Z.ownerDocument&&R4(Z.ownerDocument.documentElement,Z)){if(pe!==null&&jN(Z)){var Fe=pe.start,et=pe.end;if(et===void 0&&(et=Fe),"selectionStart"in Z)Z.selectionStart=Fe,Z.selectionEnd=Math.min(et,Z.value.length);else{var nt=Z.ownerDocument||document,Ve=nt&&nt.defaultView||window;if(Ve.getSelection){var He=Ve.getSelection(),cr=Z.textContent.length,nr=Math.min(pe.start,cr),us=pe.end===void 0?nr:Math.min(pe.end,cr);!He.extend&&nr>us&&(H=us,us=nr,nr=H);var Ce=O4(Z,nr),je=O4(Z,us);if(Ce&&je&&(He.rangeCount!==1||He.anchorNode!==Ce.node||He.anchorOffset!==Ce.offset||He.focusNode!==je.node||He.focusOffset!==je.offset)){var Ie=nt.createRange();Ie.setStart(Ce.node,Ce.offset),He.removeAllRanges(),nr>us?(He.addRange(Ie),He.extend(je.node,je.offset)):(Ie.setEnd(je.node,je.offset),He.addRange(Ie))}}}}for(nt=[],He=Z;He=He.parentNode;)He.nodeType===1&&nt.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<nt.length;Z++){var rt=nt[Z];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}kv=!!Kj,Xj=Kj=null}finally{ts=E,U.p=v,L.T=m}}c.current=d,Gn=2}}function G3(){if(Gn===2){Gn=0;var c=kd,d=em,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=L.T,L.T=null;var v=U.p;U.p=2;var E=ts;ts|=4;try{S3(c,d.alternate,d)}finally{ts=E,U.p=v,L.T=m}}Gn=3}}function Y3(){if(Gn===4||Gn===3){Gn=0,Ye();var c=kd,d=em,m=tm,v=M3;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Gn=5:(Gn=0,em=kd=null,K3(c,c.pendingLanes));var E=c.pendingLanes;if(E===0&&(_d=null),ls(m),d=d.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot($e,d,void 0,(d.current.flags&128)===128)}catch{}if(v!==null){d=L.T,E=U.p,U.p=2,L.T=null;try{for(var k=c.onRecoverableError,H=0;H<v.length;H++){var Z=v[H];k(Z.value,{componentStack:Z.stack})}}finally{L.T=d,U.p=E}}(tm&3)!==0&&yv(),Al(c),E=c.pendingLanes,(m&4194090)!==0&&(E&42)!==0?c===Mj?Vp++:(Vp=0,Mj=c):Vp=0,qp(0)}}function K3(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Np(d)))}function yv(c){return W3(),G3(),Y3(),X3()}function X3(){if(Gn!==5)return!1;var c=kd,d=Rj;Rj=0;var m=ls(tm),v=L.T,E=U.p;try{U.p=32>m?32:m,L.T=null,m=Pj,Pj=null;var k=kd,H=tm;if(Gn=0,em=kd=null,tm=0,(ts&6)!==0)throw Error(s(331));var Z=ts;if(ts|=4,R3(k.current),k3(k,k.current,H,m),ts=Z,qp(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot($e,k)}catch{}return!0}finally{U.p=E,L.T=v,K3(c,d)}}function Q3(c,d,m){d=Ki(m,d),d=hj(c.stateNode,d,2),c=bd(c,d,2),c!==null&&(mn(c,2),Al(c))}function ys(c,d,m){if(c.tag===3)Q3(c,c,m);else for(;d!==null;){if(d.tag===3){Q3(d,c,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(_d===null||!_d.has(v))){c=Ki(m,c),m=t3(2),v=bd(d,m,2),v!==null&&(r3(m,v,d,c),mn(v,2),Al(v));break}}d=d.return}}function Bj(c,d,m){var v=c.pingCache;if(v===null){v=c.pingCache=new fW;var E=new Set;v.set(d,E)}else E=v.get(d),E===void 0&&(E=new Set,v.set(d,E));E.has(m)||(_j=!0,E.add(m),c=gW.bind(null,c,d,m),d.then(c,c))}function gW(c,d,m){var v=c.pingCache;v!==null&&v.delete(d),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,js===c&&(Fr&m)===m&&(Gs===4||Gs===3&&(Fr&62914560)===Fr&&300>be()-Oj?(ts&2)===0&&rm(c,0):kj|=m,Jh===Fr&&(Jh=0)),Al(c)}function Z3(c,d){d===0&&(d=ma()),c=Lh(c,d),c!==null&&(mn(c,d),Al(c))}function yW(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),Z3(c,m)}function vW(c,d){var m=0;switch(c.tag){case 13:var v=c.stateNode,E=c.memoizedState;E!==null&&(m=E.retryLane);break;case 19:v=c.stateNode;break;case 22:v=c.stateNode._retryCache;break;default:throw Error(s(314))}v!==null&&v.delete(d),Z3(c,m)}function bW(c,d){return ot(c,d)}var vv=null,nm=null,$j=!1,bv=!1,Uj=!1,mf=0;function Al(c){c!==nm&&c.next===null&&(nm===null?vv=nm=c:nm=nm.next=c),bv=!0,$j||($j=!0,NW())}function qp(c,d){if(!Uj&&bv){Uj=!0;do for(var m=!1,v=vv;v!==null;){if(c!==0){var E=v.pendingLanes;if(E===0)var k=0;else{var H=v.suspendedLanes,Z=v.pingedLanes;k=(1<<31-gt(42|c)+1)-1,k&=E&~(H&~Z),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(m=!0,rD(v,k))}else k=Fr,k=Nn(v,v===js?k:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(k&3)===0||hn(v,k)||(m=!0,rD(v,k));v=v.next}while(m);Uj=!1}}function wW(){J3()}function J3(){bv=$j=!1;var c=0;mf!==0&&(kW()&&(c=mf),mf=0);for(var d=be(),m=null,v=vv;v!==null;){var E=v.next,k=eD(v,d);k===0?(v.next=null,m===null?vv=E:m.next=E,E===null&&(nm=m)):(m=v,(c!==0||(k&3)!==0)&&(bv=!0)),v=E}qp(c)}function eD(c,d){for(var m=c.suspendedLanes,v=c.pingedLanes,E=c.expirationTimes,k=c.pendingLanes&-62914561;0<k;){var H=31-gt(k),Z=1<<H,pe=E[H];pe===-1?((Z&m)===0||(Z&v)!==0)&&(E[H]=tn(Z,d)):pe<=d&&(c.expiredLanes|=Z),k&=~Z}if(d=js,m=Fr,m=Nn(c,c===d?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v=c.callbackNode,m===0||c===d&&(rs===2||rs===9)||c.cancelPendingCommit!==null)return v!==null&&v!==null&&Ee(v),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||hn(c,m)){if(d=m&-m,d===c.callbackPriority)return d;switch(v!==null&&Ee(v),ls(m)){case 2:case 8:m=xt;break;case 32:m=jt;break;case 268435456:m=Se;break;default:m=jt}return v=tD.bind(null,c),m=ot(m,v),c.callbackPriority=d,c.callbackNode=m,d}return v!==null&&v!==null&&Ee(v),c.callbackPriority=2,c.callbackNode=null,2}function tD(c,d){if(Gn!==0&&Gn!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(yv()&&c.callbackNode!==m)return null;var v=Fr;return v=Nn(c,c===js?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v===0?null:(F3(c,v,d),eD(c,be()),c.callbackNode!=null&&c.callbackNode===m?tD.bind(null,c):null)}function rD(c,d){if(yv())return null;F3(c,d,!0)}function NW(){OW(function(){(ts&6)!==0?ot(Me,wW):J3()})}function Vj(){return mf===0&&(mf=es()),mf}function sD(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:dd(""+c)}function nD(c,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,c.id&&m.setAttribute("form",c.id),d.parentNode.insertBefore(m,d),c=new FormData(c),m.parentNode.removeChild(m),c}function jW(c,d,m,v,E){if(d==="submit"&&m&&m.stateNode===E){var k=sD((E[at]||null).action),H=v.submitter;H&&(d=(d=H[at]||null)?sD(d.formAction):H.getAttribute("formAction"),d!==null&&(k=d,H=null));var Z=new Qe("action","action",null,v,E);c.push({event:Z,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(mf!==0){var pe=H?nD(E,H):new FormData(E);lj(m,{pending:!0,data:pe,method:E.method,action:k},null,pe)}}else typeof k=="function"&&(Z.preventDefault(),pe=H?nD(E,H):new FormData(E),lj(m,{pending:!0,data:pe,method:E.method,action:k},k,pe))},currentTarget:E}]})}}for(var qj=0;qj<TN.length;qj++){var zj=TN[qj],SW=zj.toLowerCase(),EW=zj[0].toUpperCase()+zj.slice(1);Oo(SW,"on"+EW)}Oo(F4,"onAnimationEnd"),Oo(L4,"onAnimationIteration"),Oo(B4,"onAnimationStart"),Oo("dblclick","onDoubleClick"),Oo("focusin","onFocus"),Oo("focusout","onBlur"),Oo(VH,"onTransitionRun"),Oo(qH,"onTransitionStart"),Oo(zH,"onTransitionCancel"),Oo($4,"onTransitionEnd"),ft("onMouseEnter",["mouseout","mouseover"]),ft("onMouseLeave",["mouseout","mouseover"]),ft("onPointerEnter",["pointerout","pointerover"]),ft("onPointerLeave",["pointerout","pointerover"]),lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lt("onBeforeInput",["compositionend","keypress","textInput","paste"]),lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zp));function aD(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var v=c[m],E=v.event;v=v.listeners;e:{var k=void 0;if(d)for(var H=v.length-1;0<=H;H--){var Z=v[H],pe=Z.instance,Fe=Z.currentTarget;if(Z=Z.listener,pe!==k&&E.isPropagationStopped())break e;k=Z,E.currentTarget=Fe;try{k(E)}catch(et){ov(et)}E.currentTarget=null,k=pe}else for(H=0;H<v.length;H++){if(Z=v[H],pe=Z.instance,Fe=Z.currentTarget,Z=Z.listener,pe!==k&&E.isPropagationStopped())break e;k=Z,E.currentTarget=Fe;try{k(E)}catch(et){ov(et)}E.currentTarget=null,k=pe}}}}function Ar(c,d){var m=d[It];m===void 0&&(m=d[It]=new Set);var v=c+"__bubble";m.has(v)||(iD(d,c,2,!1),m.add(v))}function Hj(c,d,m){var v=0;d&&(v|=4),iD(m,c,v,d)}var wv="_reactListening"+Math.random().toString(36).slice(2);function Wj(c){if(!c[wv]){c[wv]=!0,Be.forEach(function(m){m!=="selectionchange"&&(AW.has(m)||Hj(m,!1,c),Hj(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[wv]||(d[wv]=!0,Hj("selectionchange",!1,d))}}function iD(c,d,m,v){switch(kD(d)){case 2:var E=JW;break;case 8:E=eG;break;default:E=i2}m=E.bind(null,d,m,c),E=void 0,!hd||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(E=!0),v?E!==void 0?c.addEventListener(d,m,{capture:!0,passive:E}):c.addEventListener(d,m,!0):E!==void 0?c.addEventListener(d,m,{passive:E}):c.addEventListener(d,m,!1)}function Gj(c,d,m,v,E){var k=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var H=v.tag;if(H===3||H===4){var Z=v.stateNode.containerInfo;if(Z===E)break;if(H===4)for(H=v.return;H!==null;){var pe=H.tag;if((pe===3||pe===4)&&H.stateNode.containerInfo===E)return;H=H.return}for(;Z!==null;){if(H=le(Z),H===null)return;if(pe=H.tag,pe===5||pe===6||pe===26||pe===27){v=k=H;continue e}Z=Z.parentNode}}v=v.return}fd(function(){var Fe=k,et=ud(m),nt=[];e:{var Ve=U4.get(c);if(Ve!==void 0){var He=Qe,cr=c;switch(c){case"keypress":if(pd(m)===0)break e;case"keydown":case"keyup":He=bH;break;case"focusin":cr="focus",He=nn;break;case"focusout":cr="blur",He=nn;break;case"beforeblur":case"afterblur":He=nn;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=jH;break;case F4:case L4:case B4:He=Do;break;case $4:He=EH;break;case"scroll":case"scrollend":He=Yt;break;case"wheel":He=TH;break;case"copy":case"cut":case"paste":He=Iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=y4;break;case"toggle":case"beforetoggle":He=_H}var nr=(d&4)!==0,us=!nr&&(c==="scroll"||c==="scrollend"),Ce=nr?Ve!==null?Ve+"Capture":null:Ve;nr=[];for(var je=Fe,Ie;je!==null;){var rt=je;if(Ie=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Ie===null||Ce===null||(rt=Yi(je,Ce),rt!=null&&nr.push(Hp(je,rt,Ie))),us)break;je=je.return}0<nr.length&&(Ve=new He(Ve,cr,null,m,et),nt.push({event:Ve,listeners:nr}))}}if((d&7)===0){e:{if(Ve=c==="mouseover"||c==="pointerover",He=c==="mouseout"||c==="pointerout",Ve&&m!==Xu&&(cr=m.relatedTarget||m.fromElement)&&(le(cr)||cr[ut]))break e;if((He||Ve)&&(Ve=et.window===et?et:(Ve=et.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,He?(cr=m.relatedTarget||m.toElement,He=Fe,cr=cr?le(cr):null,cr!==null&&(us=i(cr),nr=cr.tag,cr!==us||nr!==5&&nr!==27&&nr!==6)&&(cr=null)):(He=null,cr=Fe),He!==cr)){if(nr=En,rt="onMouseLeave",Ce="onMouseEnter",je="mouse",(c==="pointerout"||c==="pointerover")&&(nr=y4,rt="onPointerLeave",Ce="onPointerEnter",je="pointer"),us=He==null?Ve:_e(He),Ie=cr==null?Ve:_e(cr),Ve=new nr(rt,je+"leave",He,m,et),Ve.target=us,Ve.relatedTarget=Ie,rt=null,le(et)===Fe&&(nr=new nr(Ce,je+"enter",cr,m,et),nr.target=Ie,nr.relatedTarget=us,rt=nr),us=rt,He&&cr)t:{for(nr=He,Ce=cr,je=0,Ie=nr;Ie;Ie=am(Ie))je++;for(Ie=0,rt=Ce;rt;rt=am(rt))Ie++;for(;0<je-Ie;)nr=am(nr),je--;for(;0<Ie-je;)Ce=am(Ce),Ie--;for(;je--;){if(nr===Ce||Ce!==null&&nr===Ce.alternate)break t;nr=am(nr),Ce=am(Ce)}nr=null}else nr=null;He!==null&&oD(nt,Ve,He,nr,!1),cr!==null&&us!==null&&oD(nt,us,cr,nr,!0)}}e:{if(Ve=Fe?_e(Fe):window,He=Ve.nodeName&&Ve.nodeName.toLowerCase(),He==="select"||He==="input"&&Ve.type==="file")var Bt=A4;else if(S4(Ve))if(T4)Bt=BH;else{Bt=FH;var Nr=IH}else He=Ve.nodeName,!He||He.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?Fe&&Qa(Fe.elementType)&&(Bt=A4):Bt=LH;if(Bt&&(Bt=Bt(c,Fe))){E4(nt,Bt,m,et);break e}Nr&&Nr(c,Ve,Fe),c==="focusout"&&Fe&&Ve.type==="number"&&Fe.memoizedProps.value!=null&&ac(Ve,"number",Ve.value)}switch(Nr=Fe?_e(Fe):window,c){case"focusin":(S4(Nr)||Nr.contentEditable==="true")&&(Mh=Nr,SN=Fe,gp=null);break;case"focusout":gp=SN=Mh=null;break;case"mousedown":EN=!0;break;case"contextmenu":case"mouseup":case"dragend":EN=!1,M4(nt,m,et);break;case"selectionchange":if(UH)break;case"keydown":case"keyup":M4(nt,m,et)}var Kt;if(bN)e:{switch(c){case"compositionstart":var ar="onCompositionStart";break e;case"compositionend":ar="onCompositionEnd";break e;case"compositionupdate":ar="onCompositionUpdate";break e}ar=void 0}else Ph?N4(c,m)&&(ar="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(ar="onCompositionStart");ar&&(v4&&m.locale!=="ko"&&(Ph||ar!=="onCompositionStart"?ar==="onCompositionEnd"&&Ph&&(Kt=md()):(Ni=et,Za="value"in Ni?Ni.value:Ni.textContent,Ph=!0)),Nr=Nv(Fe,ar),0<Nr.length&&(ar=new Zu(ar,c,null,m,et),nt.push({event:ar,listeners:Nr}),Kt?ar.data=Kt:(Kt=j4(m),Kt!==null&&(ar.data=Kt)))),(Kt=DH?OH(c,m):RH(c,m))&&(ar=Nv(Fe,"onBeforeInput"),0<ar.length&&(Nr=new Zu("onBeforeInput","beforeinput",null,m,et),nt.push({event:Nr,listeners:ar}),Nr.data=Kt)),jW(nt,c,Fe,m,et)}aD(nt,d)})}function Hp(c,d,m){return{instance:c,listener:d,currentTarget:m}}function Nv(c,d){for(var m=d+"Capture",v=[];c!==null;){var E=c,k=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||k===null||(E=Yi(c,m),E!=null&&v.unshift(Hp(c,E,k)),E=Yi(c,d),E!=null&&v.push(Hp(c,E,k))),c.tag===3)return v;c=c.return}return[]}function am(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function oD(c,d,m,v,E){for(var k=d._reactName,H=[];m!==null&&m!==v;){var Z=m,pe=Z.alternate,Fe=Z.stateNode;if(Z=Z.tag,pe!==null&&pe===v)break;Z!==5&&Z!==26&&Z!==27||Fe===null||(pe=Fe,E?(Fe=Yi(m,k),Fe!=null&&H.unshift(Hp(m,Fe,pe))):E||(Fe=Yi(m,k),Fe!=null&&H.push(Hp(m,Fe,pe)))),m=m.return}H.length!==0&&c.push({event:d,listeners:H})}var TW=/\r\n?/g,CW=/\u0000|\uFFFD/g;function lD(c){return(typeof c=="string"?c:""+c).replace(TW,`
`).replace(CW,"")}function cD(c,d){return d=lD(d),lD(c)===d}function jv(){}function ds(c,d,m,v,E,k){switch(m){case"children":typeof v=="string"?d==="body"||d==="textarea"&&v===""||Rn(c,v):(typeof v=="number"||typeof v=="bigint")&&d!=="body"&&Rn(c,""+v);break;case"className":kr(c,"class",v);break;case"tabIndex":kr(c,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(c,m,v);break;case"style":Oh(c,v,k);break;case"data":if(d!=="object"){kr(c,"data",v);break}case"src":case"href":if(v===""&&(d!=="a"||m!=="href")){c.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=dd(""+v),c.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(m==="formAction"?(d!=="input"&&ds(c,d,"name",E.name,E,null),ds(c,d,"formEncType",E.formEncType,E,null),ds(c,d,"formMethod",E.formMethod,E,null),ds(c,d,"formTarget",E.formTarget,E,null)):(ds(c,d,"encType",E.encType,E,null),ds(c,d,"method",E.method,E,null),ds(c,d,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=dd(""+v),c.setAttribute(m,v);break;case"onClick":v!=null&&(c.onclick=jv);break;case"onScroll":v!=null&&Ar("scroll",c);break;case"onScrollEnd":v!=null&&Ar("scrollend",c);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(s(61));if(m=v.__html,m!=null){if(E.children!=null)throw Error(s(60));c.innerHTML=m}}break;case"multiple":c.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":c.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){c.removeAttribute("xlink:href");break}m=dd(""+v),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""+v):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":v===!0?c.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,v):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?c.setAttribute(m,v):c.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?c.removeAttribute(m):c.setAttribute(m,v);break;case"popover":Ar("beforetoggle",c),Ar("toggle",c),qr(c,"popover",v);break;case"xlinkActuate":Kr(c,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Kr(c,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Kr(c,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Kr(c,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Kr(c,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Kr(c,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Kr(c,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Kr(c,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Kr(c,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":qr(c,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=up.get(m)||m,qr(c,m,v))}}function Yj(c,d,m,v,E,k){switch(m){case"style":Oh(c,v,k);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(s(61));if(m=v.__html,m!=null){if(E.children!=null)throw Error(s(60));c.innerHTML=m}}break;case"children":typeof v=="string"?Rn(c,v):(typeof v=="number"||typeof v=="bigint")&&Rn(c,""+v);break;case"onScroll":v!=null&&Ar("scroll",c);break;case"onScrollEnd":v!=null&&Ar("scrollend",c);break;case"onClick":v!=null&&(c.onclick=jv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ue.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(E=m.endsWith("Capture"),d=m.slice(2,E?m.length-7:void 0),k=c[at]||null,k=k!=null?k[m]:null,typeof k=="function"&&c.removeEventListener(d,k,E),typeof v=="function")){typeof k!="function"&&k!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(d,v,E);break e}m in c?c[m]=v:v===!0?c.setAttribute(m,""):qr(c,m,v)}}}function Yn(c,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ar("error",c),Ar("load",c);var v=!1,E=!1,k;for(k in m)if(m.hasOwnProperty(k)){var H=m[k];if(H!=null)switch(k){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,d));default:ds(c,d,k,H,m,null)}}E&&ds(c,d,"srcSet",m.srcSet,m,null),v&&ds(c,d,"src",m.src,m,null);return;case"input":Ar("invalid",c);var Z=k=H=E=null,pe=null,Fe=null;for(v in m)if(m.hasOwnProperty(v)){var et=m[v];if(et!=null)switch(v){case"name":E=et;break;case"type":H=et;break;case"checked":pe=et;break;case"defaultChecked":Fe=et;break;case"value":k=et;break;case"defaultValue":Z=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,d));break;default:ds(c,d,v,et,m,null)}}kh(c,k,Z,pe,Fe,H,E,!1),Wi(c);return;case"select":Ar("invalid",c),v=H=k=null;for(E in m)if(m.hasOwnProperty(E)&&(Z=m[E],Z!=null))switch(E){case"value":k=Z;break;case"defaultValue":H=Z;break;case"multiple":v=Z;default:ds(c,d,E,Z,m,null)}d=k,m=H,c.multiple=!!v,d!=null?yl(c,!!v,d,!1):m!=null&&yl(c,!!v,m,!0);return;case"textarea":Ar("invalid",c),k=E=v=null;for(H in m)if(m.hasOwnProperty(H)&&(Z=m[H],Z!=null))switch(H){case"value":v=Z;break;case"defaultValue":E=Z;break;case"children":k=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(91));break;default:ds(c,d,H,Z,m,null)}vl(c,v,E,k),Wi(c);return;case"option":for(pe in m)if(m.hasOwnProperty(pe)&&(v=m[pe],v!=null))switch(pe){case"selected":c.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:ds(c,d,pe,v,m,null)}return;case"dialog":Ar("beforetoggle",c),Ar("toggle",c),Ar("cancel",c),Ar("close",c);break;case"iframe":case"object":Ar("load",c);break;case"video":case"audio":for(v=0;v<zp.length;v++)Ar(zp[v],c);break;case"image":Ar("error",c),Ar("load",c);break;case"details":Ar("toggle",c);break;case"embed":case"source":case"link":Ar("error",c),Ar("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Fe in m)if(m.hasOwnProperty(Fe)&&(v=m[Fe],v!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,d));default:ds(c,d,Fe,v,m,null)}return;default:if(Qa(d)){for(et in m)m.hasOwnProperty(et)&&(v=m[et],v!==void 0&&Yj(c,d,et,v,m,void 0));return}}for(Z in m)m.hasOwnProperty(Z)&&(v=m[Z],v!=null&&ds(c,d,Z,v,m,null))}function _W(c,d,m,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,k=null,H=null,Z=null,pe=null,Fe=null,et=null;for(He in m){var nt=m[He];if(m.hasOwnProperty(He)&&nt!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":pe=nt;default:v.hasOwnProperty(He)||ds(c,d,He,null,v,nt)}}for(var Ve in v){var He=v[Ve];if(nt=m[Ve],v.hasOwnProperty(Ve)&&(He!=null||nt!=null))switch(Ve){case"type":k=He;break;case"name":E=He;break;case"checked":Fe=He;break;case"defaultChecked":et=He;break;case"value":H=He;break;case"defaultValue":Z=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(s(137,d));break;default:He!==nt&&ds(c,d,Ve,He,v,nt)}}Ku(c,H,Z,pe,Fe,et,k,E);return;case"select":He=H=Z=Ve=null;for(k in m)if(pe=m[k],m.hasOwnProperty(k)&&pe!=null)switch(k){case"value":break;case"multiple":He=pe;default:v.hasOwnProperty(k)||ds(c,d,k,null,v,pe)}for(E in v)if(k=v[E],pe=m[E],v.hasOwnProperty(E)&&(k!=null||pe!=null))switch(E){case"value":Ve=k;break;case"defaultValue":Z=k;break;case"multiple":H=k;default:k!==pe&&ds(c,d,E,k,v,pe)}d=Z,m=H,v=He,Ve!=null?yl(c,!!m,Ve,!1):!!v!=!!m&&(d!=null?yl(c,!!m,d,!0):yl(c,!!m,m?[]:"",!1));return;case"textarea":He=Ve=null;for(Z in m)if(E=m[Z],m.hasOwnProperty(Z)&&E!=null&&!v.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:ds(c,d,Z,null,v,E)}for(H in v)if(E=v[H],k=m[H],v.hasOwnProperty(H)&&(E!=null||k!=null))switch(H){case"value":Ve=E;break;case"defaultValue":He=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:E!==k&&ds(c,d,H,E,v,k)}Dh(c,Ve,He);return;case"option":for(var cr in m)if(Ve=m[cr],m.hasOwnProperty(cr)&&Ve!=null&&!v.hasOwnProperty(cr))switch(cr){case"selected":c.selected=!1;break;default:ds(c,d,cr,null,v,Ve)}for(pe in v)if(Ve=v[pe],He=m[pe],v.hasOwnProperty(pe)&&Ve!==He&&(Ve!=null||He!=null))switch(pe){case"selected":c.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:ds(c,d,pe,Ve,v,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nr in m)Ve=m[nr],m.hasOwnProperty(nr)&&Ve!=null&&!v.hasOwnProperty(nr)&&ds(c,d,nr,null,v,Ve);for(Fe in v)if(Ve=v[Fe],He=m[Fe],v.hasOwnProperty(Fe)&&Ve!==He&&(Ve!=null||He!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(s(137,d));break;default:ds(c,d,Fe,Ve,v,He)}return;default:if(Qa(d)){for(var us in m)Ve=m[us],m.hasOwnProperty(us)&&Ve!==void 0&&!v.hasOwnProperty(us)&&Yj(c,d,us,void 0,v,Ve);for(et in v)Ve=v[et],He=m[et],!v.hasOwnProperty(et)||Ve===He||Ve===void 0&&He===void 0||Yj(c,d,et,Ve,v,He);return}}for(var Ce in m)Ve=m[Ce],m.hasOwnProperty(Ce)&&Ve!=null&&!v.hasOwnProperty(Ce)&&ds(c,d,Ce,null,v,Ve);for(nt in v)Ve=v[nt],He=m[nt],!v.hasOwnProperty(nt)||Ve===He||Ve==null&&He==null||ds(c,d,nt,Ve,v,He)}var Kj=null,Xj=null;function Sv(c){return c.nodeType===9?c:c.ownerDocument}function dD(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uD(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function Qj(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Zj=null;function kW(){var c=window.event;return c&&c.type==="popstate"?c===Zj?!1:(Zj=c,!0):(Zj=null,!1)}var fD=typeof setTimeout=="function"?setTimeout:void 0,DW=typeof clearTimeout=="function"?clearTimeout:void 0,hD=typeof Promise=="function"?Promise:void 0,OW=typeof queueMicrotask=="function"?queueMicrotask:typeof hD<"u"?function(c){return hD.resolve(null).then(c).catch(RW)}:fD;function RW(c){setTimeout(function(){throw c})}function Od(c){return c==="head"}function mD(c,d){var m=d,v=0,E=0;do{var k=m.nextSibling;if(c.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(0<v&&8>v){m=v;var H=c.ownerDocument;if(m&1&&Wp(H.documentElement),m&2&&Wp(H.body),m&4)for(m=H.head,Wp(m),H=m.firstChild;H;){var Z=H.nextSibling,pe=H.nodeName;H[re]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&H.rel.toLowerCase()==="stylesheet"||m.removeChild(H),H=Z}}if(E===0){c.removeChild(k),ex(d);return}E--}else m==="$"||m==="$?"||m==="$!"?E++:v=m.charCodeAt(0)-48;else v=0;m=k}while(m);ex(d)}function Jj(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Jj(m),ne(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function PW(c,d,m,v){for(;c.nodeType===1;){var E=m;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!v&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(v){if(!c[re])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(k=c.getAttribute("rel"),k==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(k!==E.rel||c.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||c.getAttribute("title")!==(E.title==null?null:E.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(k=c.getAttribute("src"),(k!==(E.src==null?null:E.src)||c.getAttribute("type")!==(E.type==null?null:E.type)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&k&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var k=E.name==null?null:""+E.name;if(E.type==="hidden"&&c.getAttribute("name")===k)return c}else return c;if(c=Po(c.nextSibling),c===null)break}return null}function MW(c,d,m){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=Po(c.nextSibling),c===null))return null;return c}function e2(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function IW(c,d){var m=c.ownerDocument;if(c.data!=="$?"||m.readyState==="complete")d();else{var v=function(){d(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),c._reactRetry=v}}function Po(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}var t2=null;function pD(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return c;d--}else m==="/$"&&d++}c=c.previousSibling}return null}function xD(c,d,m){switch(d=Sv(m),c){case"html":if(c=d.documentElement,!c)throw Error(s(452));return c;case"head":if(c=d.head,!c)throw Error(s(453));return c;case"body":if(c=d.body,!c)throw Error(s(454));return c;default:throw Error(s(451))}}function Wp(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);ne(c)}var to=new Map,gD=new Set;function Ev(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var bc=U.d;U.d={f:FW,r:LW,D:BW,C:$W,L:UW,m:VW,X:zW,S:qW,M:HW};function FW(){var c=bc.f(),d=xv();return c||d}function LW(c){var d=ce(c);d!==null&&d.tag===5&&d.type==="form"?Fk(d):bc.r(c)}var im=typeof document>"u"?null:document;function yD(c,d,m){var v=im;if(v&&typeof d=="string"&&d){var E=ga(d);E='link[rel="'+c+'"][href="'+E+'"]',typeof m=="string"&&(E+='[crossorigin="'+m+'"]'),gD.has(E)||(gD.add(E),c={rel:c,crossOrigin:m,href:d},v.querySelector(E)===null&&(d=v.createElement("link"),Yn(d,"link",c),ke(d),v.head.appendChild(d)))}}function BW(c){bc.D(c),yD("dns-prefetch",c,null)}function $W(c,d){bc.C(c,d),yD("preconnect",c,d)}function UW(c,d,m){bc.L(c,d,m);var v=im;if(v&&c&&d){var E='link[rel="preload"][as="'+ga(d)+'"]';d==="image"&&m&&m.imageSrcSet?(E+='[imagesrcset="'+ga(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(E+='[imagesizes="'+ga(m.imageSizes)+'"]')):E+='[href="'+ga(c)+'"]';var k=E;switch(d){case"style":k=om(c);break;case"script":k=lm(c)}to.has(k)||(c=h({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:c,as:d},m),to.set(k,c),v.querySelector(E)!==null||d==="style"&&v.querySelector(Gp(k))||d==="script"&&v.querySelector(Yp(k))||(d=v.createElement("link"),Yn(d,"link",c),ke(d),v.head.appendChild(d)))}}function VW(c,d){bc.m(c,d);var m=im;if(m&&c){var v=d&&typeof d.as=="string"?d.as:"script",E='link[rel="modulepreload"][as="'+ga(v)+'"][href="'+ga(c)+'"]',k=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=lm(c)}if(!to.has(k)&&(c=h({rel:"modulepreload",href:c},d),to.set(k,c),m.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Yp(k)))return}v=m.createElement("link"),Yn(v,"link",c),ke(v),m.head.appendChild(v)}}}function qW(c,d,m){bc.S(c,d,m);var v=im;if(v&&c){var E=We(v).hoistableStyles,k=om(c);d=d||"default";var H=E.get(k);if(!H){var Z={loading:0,preload:null};if(H=v.querySelector(Gp(k)))Z.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":d},m),(m=to.get(k))&&r2(c,m);var pe=H=v.createElement("link");ke(pe),Yn(pe,"link",c),pe._p=new Promise(function(Fe,et){pe.onload=Fe,pe.onerror=et}),pe.addEventListener("load",function(){Z.loading|=1}),pe.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Av(H,d,v)}H={type:"stylesheet",instance:H,count:1,state:Z},E.set(k,H)}}}function zW(c,d){bc.X(c,d);var m=im;if(m&&c){var v=We(m).hoistableScripts,E=lm(c),k=v.get(E);k||(k=m.querySelector(Yp(E)),k||(c=h({src:c,async:!0},d),(d=to.get(E))&&s2(c,d),k=m.createElement("script"),ke(k),Yn(k,"link",c),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(E,k))}}function HW(c,d){bc.M(c,d);var m=im;if(m&&c){var v=We(m).hoistableScripts,E=lm(c),k=v.get(E);k||(k=m.querySelector(Yp(E)),k||(c=h({src:c,async:!0,type:"module"},d),(d=to.get(E))&&s2(c,d),k=m.createElement("script"),ke(k),Yn(k,"link",c),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(E,k))}}function vD(c,d,m,v){var E=(E=Q.current)?Ev(E):null;if(!E)throw Error(s(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=om(m.href),m=We(E).hoistableStyles,v=m.get(d),v||(v={type:"style",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=om(m.href);var k=We(E).hoistableStyles,H=k.get(c);if(H||(E=E.ownerDocument||E,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(c,H),(k=E.querySelector(Gp(c)))&&!k._p&&(H.instance=k,H.state.loading=5),to.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},to.set(c,m),k||WW(E,c,m,H.state))),d&&v===null)throw Error(s(528,""));return H}if(d&&v!==null)throw Error(s(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=lm(m),m=We(E).hoistableScripts,v=m.get(d),v||(v={type:"script",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,c))}}function om(c){return'href="'+ga(c)+'"'}function Gp(c){return'link[rel="stylesheet"]['+c+"]"}function bD(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function WW(c,d,m,v){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?v.loading=1:(d=c.createElement("link"),v.preload=d,d.addEventListener("load",function(){return v.loading|=1}),d.addEventListener("error",function(){return v.loading|=2}),Yn(d,"link",m),ke(d),c.head.appendChild(d))}function lm(c){return'[src="'+ga(c)+'"]'}function Yp(c){return"script[async]"+c}function wD(c,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var v=c.querySelector('style[data-href~="'+ga(m.href)+'"]');if(v)return d.instance=v,ke(v),v;var E=h({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(c.ownerDocument||c).createElement("style"),ke(v),Yn(v,"style",E),Av(v,m.precedence,c),d.instance=v;case"stylesheet":E=om(m.href);var k=c.querySelector(Gp(E));if(k)return d.state.loading|=4,d.instance=k,ke(k),k;v=bD(m),(E=to.get(E))&&r2(v,E),k=(c.ownerDocument||c).createElement("link"),ke(k);var H=k;return H._p=new Promise(function(Z,pe){H.onload=Z,H.onerror=pe}),Yn(k,"link",v),d.state.loading|=4,Av(k,m.precedence,c),d.instance=k;case"script":return k=lm(m.src),(E=c.querySelector(Yp(k)))?(d.instance=E,ke(E),E):(v=m,(E=to.get(k))&&(v=h({},m),s2(v,E)),c=c.ownerDocument||c,E=c.createElement("script"),ke(E),Yn(E,"link",v),c.head.appendChild(E),d.instance=E);case"void":return null;default:throw Error(s(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(v=d.instance,d.state.loading|=4,Av(v,m.precedence,c));return d.instance}function Av(c,d,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,k=E,H=0;H<v.length;H++){var Z=v[H];if(Z.dataset.precedence===d)k=Z;else if(k!==E)break}k?k.parentNode.insertBefore(c,k.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(c,d.firstChild))}function r2(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function s2(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var Tv=null;function ND(c,d,m){if(Tv===null){var v=new Map,E=Tv=new Map;E.set(m,v)}else E=Tv,v=E.get(m),v||(v=new Map,E.set(m,v));if(v.has(c))return v;for(v.set(c,null),m=m.getElementsByTagName(c),E=0;E<m.length;E++){var k=m[E];if(!(k[re]||k[qe]||c==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var H=k.getAttribute(d)||"";H=c+H;var Z=v.get(H);Z?Z.push(k):v.set(H,[k])}}return v}function jD(c,d,m){c=c.ownerDocument||c,c.head.insertBefore(m,d==="title"?c.querySelector("head > title"):null)}function GW(c,d,m){if(m===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function SD(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var Kp=null;function YW(){}function KW(c,d,m){if(Kp===null)throw Error(s(475));var v=Kp;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=om(m.href),k=c.querySelector(Gp(E));if(k){c=k._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(v.count++,v=Cv.bind(v),c.then(v,v)),d.state.loading|=4,d.instance=k,ke(k);return}k=c.ownerDocument||c,m=bD(m),(E=to.get(E))&&r2(m,E),k=k.createElement("link"),ke(k);var H=k;H._p=new Promise(function(Z,pe){H.onload=Z,H.onerror=pe}),Yn(k,"link",m),d.instance=k}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(v.count++,d=Cv.bind(v),c.addEventListener("load",d),c.addEventListener("error",d))}}function XW(){if(Kp===null)throw Error(s(475));var c=Kp;return c.stylesheets&&c.count===0&&n2(c,c.stylesheets),0<c.count?function(d){var m=setTimeout(function(){if(c.stylesheets&&n2(c,c.stylesheets),c.unsuspend){var v=c.unsuspend;c.unsuspend=null,v()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(m)}}:null}function Cv(){if(this.count--,this.count===0){if(this.stylesheets)n2(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var _v=null;function n2(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,_v=new Map,d.forEach(QW,c),_v=null,Cv.call(c))}function QW(c,d){if(!(d.state.loading&4)){var m=_v.get(c);if(m)var v=m.get(null);else{m=new Map,_v.set(c,m);for(var E=c.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<E.length;k++){var H=E[k];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(m.set(H.dataset.precedence,H),v=H)}v&&m.set(null,v)}E=d.instance,H=E.getAttribute("data-precedence"),k=m.get(H)||v,k===v&&m.set(null,E),m.set(H,E),this.count++,v=Cv.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),k?k.parentNode.insertBefore(E,k.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(E,c.firstChild)),d.state.loading|=4}}var Xp={$$typeof:A,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function ZW(c,d,m,v,E,k,H,Z){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=k,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function ED(c,d,m,v,E,k,H,Z,pe,Fe,et,nt){return c=new ZW(c,d,m,H,Z,pe,Fe,nt),d=1,k===!0&&(d|=24),k=Si(3,null,null,d),c.current=k,k.stateNode=c,d=BN(),d.refCount++,c.pooledCache=d,d.refCount++,k.memoizedState={element:v,isDehydrated:m,cache:d},qN(k),c}function AD(c){return c?(c=Bh,c):Bh}function TD(c,d,m,v,E,k){E=AD(E),v.context===null?v.context=E:v.pendingContext=E,v=vd(d),v.payload={element:m},k=k===void 0?null:k,k!==null&&(v.callback=k),m=bd(c,v,d),m!==null&&(_i(m,c,d),Ap(m,c,d))}function CD(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function a2(c,d){CD(c,d),(c=c.alternate)&&CD(c,d)}function _D(c){if(c.tag===13){var d=Lh(c,67108864);d!==null&&_i(d,c,67108864),a2(c,67108864)}}var kv=!0;function JW(c,d,m,v){var E=L.T;L.T=null;var k=U.p;try{U.p=2,i2(c,d,m,v)}finally{U.p=k,L.T=E}}function eG(c,d,m,v){var E=L.T;L.T=null;var k=U.p;try{U.p=8,i2(c,d,m,v)}finally{U.p=k,L.T=E}}function i2(c,d,m,v){if(kv){var E=o2(v);if(E===null)Gj(c,d,v,Dv,m),DD(c,v);else if(rG(E,c,d,m,v))v.stopPropagation();else if(DD(c,v),d&4&&-1<tG.indexOf(c)){for(;E!==null;){var k=ce(E);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var H=_s(k.pendingLanes);if(H!==0){var Z=k;for(Z.pendingLanes|=2,Z.entangledLanes|=2;H;){var pe=1<<31-gt(H);Z.entanglements[1]|=pe,H&=~pe}Al(k),(ts&6)===0&&(mv=be()+500,qp(0))}}break;case 13:Z=Lh(k,2),Z!==null&&_i(Z,k,2),xv(),a2(k,2)}if(k=o2(v),k===null&&Gj(c,d,v,Dv,m),k===E)break;E=k}E!==null&&v.stopPropagation()}else Gj(c,d,v,null,m)}}function o2(c){return c=ud(c),l2(c)}var Dv=null;function l2(c){if(Dv=null,c=le(c),c!==null){var d=i(c);if(d===null)c=null;else{var m=d.tag;if(m===13){if(c=o(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Dv=c,null}function kD(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case Me:return 2;case xt:return 8;case jt:case fe:return 32;case Se:return 268435456;default:return 32}default:return 32}}var c2=!1,Rd=null,Pd=null,Md=null,Qp=new Map,Zp=new Map,Id=[],tG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DD(c,d){switch(c){case"focusin":case"focusout":Rd=null;break;case"dragenter":case"dragleave":Pd=null;break;case"mouseover":case"mouseout":Md=null;break;case"pointerover":case"pointerout":Qp.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zp.delete(d.pointerId)}}function Jp(c,d,m,v,E,k){return c===null||c.nativeEvent!==k?(c={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:k,targetContainers:[E]},d!==null&&(d=ce(d),d!==null&&_D(d)),c):(c.eventSystemFlags|=v,d=c.targetContainers,E!==null&&d.indexOf(E)===-1&&d.push(E),c)}function rG(c,d,m,v,E){switch(d){case"focusin":return Rd=Jp(Rd,c,d,m,v,E),!0;case"dragenter":return Pd=Jp(Pd,c,d,m,v,E),!0;case"mouseover":return Md=Jp(Md,c,d,m,v,E),!0;case"pointerover":var k=E.pointerId;return Qp.set(k,Jp(Qp.get(k)||null,c,d,m,v,E)),!0;case"gotpointercapture":return k=E.pointerId,Zp.set(k,Jp(Zp.get(k)||null,c,d,m,v,E)),!0}return!1}function OD(c){var d=le(c.target);if(d!==null){var m=i(d);if(m!==null){if(d=m.tag,d===13){if(d=o(m),d!==null){c.blockedOn=d,se(c.priority,function(){if(m.tag===13){var v=Ci();v=Yr(v);var E=Lh(m,v);E!==null&&_i(E,m,v),a2(m,v)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Ov(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=o2(c.nativeEvent);if(m===null){m=c.nativeEvent;var v=new m.constructor(m.type,m);Xu=v,m.target.dispatchEvent(v),Xu=null}else return d=ce(m),d!==null&&_D(d),c.blockedOn=m,!1;d.shift()}return!0}function RD(c,d,m){Ov(c)&&m.delete(d)}function sG(){c2=!1,Rd!==null&&Ov(Rd)&&(Rd=null),Pd!==null&&Ov(Pd)&&(Pd=null),Md!==null&&Ov(Md)&&(Md=null),Qp.forEach(RD),Zp.forEach(RD)}function Rv(c,d){c.blockedOn===d&&(c.blockedOn=null,c2||(c2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sG)))}var Pv=null;function PD(c){Pv!==c&&(Pv=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pv===c&&(Pv=null);for(var d=0;d<c.length;d+=3){var m=c[d],v=c[d+1],E=c[d+2];if(typeof v!="function"){if(l2(v||m)===null)continue;break}var k=ce(m);k!==null&&(c.splice(d,3),d-=3,lj(k,{pending:!0,data:E,method:m.method,action:v},v,E))}}))}function ex(c){function d(pe){return Rv(pe,c)}Rd!==null&&Rv(Rd,c),Pd!==null&&Rv(Pd,c),Md!==null&&Rv(Md,c),Qp.forEach(d),Zp.forEach(d);for(var m=0;m<Id.length;m++){var v=Id[m];v.blockedOn===c&&(v.blockedOn=null)}for(;0<Id.length&&(m=Id[0],m.blockedOn===null);)OD(m),m.blockedOn===null&&Id.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var E=m[v],k=m[v+1],H=E[at]||null;if(typeof k=="function")H||PD(m);else if(H){var Z=null;if(k&&k.hasAttribute("formAction")){if(E=k,H=k[at]||null)Z=H.formAction;else if(l2(E)!==null)continue}else Z=H.action;typeof Z=="function"?m[v+1]=Z:(m.splice(v,3),v-=3),PD(m)}}}function d2(c){this._internalRoot=c}Mv.prototype.render=d2.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(s(409));var m=d.current,v=Ci();TD(m,v,c,d,null,null)},Mv.prototype.unmount=d2.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;TD(c.current,2,null,c,null,null),xv(),d[ut]=null}};function Mv(c){this._internalRoot=c}Mv.prototype.unstable_scheduleHydration=function(c){if(c){var d=rn();c={blockedOn:null,target:c,priority:d};for(var m=0;m<Id.length&&d!==0&&d<Id[m].priority;m++);Id.splice(m,0,c),m===0&&OD(c)}};var MD=t.version;if(MD!=="19.1.0")throw Error(s(527,MD,"19.1.0"));U.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=u(d),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var nG={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iv.isDisabled&&Iv.supportsFiber)try{$e=Iv.inject(nG),Pe=Iv}catch{}}return rx.createRoot=function(c,d){if(!a(c))throw Error(s(299));var m=!1,v="",E=Qk,k=Zk,H=Jk,Z=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(H=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Z=d.unstable_transitionCallbacks)),d=ED(c,1,!1,null,null,m,v,E,k,H,Z,null),c[ut]=d.current,Wj(c),new d2(d)},rx.hydrateRoot=function(c,d,m){if(!a(c))throw Error(s(299));var v=!1,E="",k=Qk,H=Zk,Z=Jk,pe=null,Fe=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(k=m.onUncaughtError),m.onCaughtError!==void 0&&(H=m.onCaughtError),m.onRecoverableError!==void 0&&(Z=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(pe=m.unstable_transitionCallbacks),m.formState!==void 0&&(Fe=m.formState)),d=ED(c,1,!0,d,m??null,v,E,k,H,Z,pe,Fe),d.context=AD(null),m=d.current,v=Ci(),v=Yr(v),E=vd(v),E.callback=null,bd(m,E,v),m=v,d.current.lanes=m,mn(d,m),Al(d),c[ut]=d.current,Wj(c),new Mv(d)},rx.version="19.1.0",rx}var WD;function gG(){if(WD)return m2.exports;WD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),m2.exports=xG(),m2.exports}var yG=gG(),D0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bf=typeof window>"u"||"Deno"in globalThis;function lo(){}function vG(e,t){return typeof e=="function"?e(t):e}function oE(e){return typeof e=="number"&&e>=0&&e!==1/0}function rI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Lm(e,t){return typeof e=="function"?e(t):e}function zo(e,t){return typeof e=="function"?e(t):e}function GD(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==mT(o,t.options))return!1}else if(!Wx(t.queryKey,o))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function YD(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if($f(t.options.mutationKey)!==$f(i))return!1}else if(!Wx(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function mT(e,t){return((t==null?void 0:t.queryKeyHashFn)||$f)(e)}function $f(e){return JSON.stringify(e,(t,r)=>lE(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Wx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Wx(e[r],t[r])):!1}function sI(e,t){if(e===t)return e;const r=KD(e)&&KD(t);if(r||lE(e)&&lE(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let u=0;for(let f=0;f<o;f++){const h=r?f:i[f];(!r&&s.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=sI(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function q1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function KD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lE(e){if(!XD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!XD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function XD(e){return Object.prototype.toString.call(e)==="[object Object]"}function bG(e){return new Promise(t=>{setTimeout(t,e)})}function cE(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?sI(e,t):t}function wG(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function NG(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var pT=Symbol();function nI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===pT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Af,ru,t0,H6,jG=(H6=class extends D0{constructor(){super();Qt(this,Af);Qt(this,ru);Qt(this,t0);Rt(this,t0,t=>{if(!Bf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){we(this,ru)||this.setEventListener(we(this,t0))}onUnsubscribe(){var t;this.hasListeners()||((t=we(this,ru))==null||t.call(this),Rt(this,ru,void 0))}setEventListener(t){var r;Rt(this,t0,t),(r=we(this,ru))==null||r.call(this),Rt(this,ru,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){we(this,Af)!==t&&(Rt(this,Af,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof we(this,Af)=="boolean"?we(this,Af):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Af=new WeakMap,ru=new WeakMap,t0=new WeakMap,H6),xT=new jG,r0,su,s0,W6,SG=(W6=class extends D0{constructor(){super();Qt(this,r0,!0);Qt(this,su);Qt(this,s0);Rt(this,s0,t=>{if(!Bf&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){we(this,su)||this.setEventListener(we(this,s0))}onUnsubscribe(){var t;this.hasListeners()||((t=we(this,su))==null||t.call(this),Rt(this,su,void 0))}setEventListener(t){var r;Rt(this,s0,t),(r=we(this,su))==null||r.call(this),Rt(this,su,t(this.setOnline.bind(this)))}setOnline(t){we(this,r0)!==t&&(Rt(this,r0,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return we(this,r0)}},r0=new WeakMap,su=new WeakMap,s0=new WeakMap,W6),z1=new SG;function dE(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function EG(e){return Math.min(1e3*2**e,3e4)}function aI(e){return(e??"online")==="online"?z1.isOnline():!0}var iI=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function y2(e){return e instanceof iI}function oI(e){let t=!1,r=0,s=!1,a;const i=dE(),o=b=>{var w;s||(p(new iI(b)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},u=()=>{t=!1},f=()=>xT.isFocused()&&(e.networkMode==="always"||z1.isOnline())&&e.canRun(),h=()=>aI(e.networkMode)&&e.canRun(),x=b=>{var w;s||(s=!0,(w=e.onSuccess)==null||w.call(e,b),a==null||a(),i.resolve(b))},p=b=>{var w;s||(s=!0,(w=e.onError)==null||w.call(e,b),a==null||a(),i.reject(b))},y=()=>new Promise(b=>{var w;a=j=>{(s||f())&&b(j)},(w=e.onPause)==null||w.call(e)}).then(()=>{var b;a=void 0,s||(b=e.onContinue)==null||b.call(e)}),N=()=>{if(s)return;let b;const w=r===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(j){b=Promise.reject(j)}Promise.resolve(b).then(x).catch(j=>{var D;if(s)return;const S=e.retry??(Bf?0:3),A=e.retryDelay??EG,C=typeof A=="function"?A(r,j):A,T=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,j);if(t||!T){p(j);return}r++,(D=e.onFail)==null||D.call(e,r,j),bG(C).then(()=>f()?void 0:y()).then(()=>{t?p(j):N()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?N():y().then(N),i)}}var AG=e=>setTimeout(e,0);function TG(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=AG;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var kn=TG(),Tf,G6,lI=(G6=class{constructor(){Qt(this,Tf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oE(this.gcTime)&&Rt(this,Tf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bf?1/0:5*60*1e3))}clearGcTimeout(){we(this,Tf)&&(clearTimeout(we(this,Tf)),Rt(this,Tf,void 0))}},Tf=new WeakMap,G6),n0,a0,oo,Cf,wa,Vg,_f,Vo,Ec,Y6,CG=(Y6=class extends lI{constructor(t){super();Qt(this,Vo);Qt(this,n0);Qt(this,a0);Qt(this,oo);Qt(this,Cf);Qt(this,wa);Qt(this,Vg);Qt(this,_f);Rt(this,_f,!1),Rt(this,Vg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Rt(this,Cf,t.client),Rt(this,oo,we(this,Cf).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Rt(this,n0,_G(this.options)),this.state=t.state??we(this,n0),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=we(this,wa))==null?void 0:t.promise}setOptions(t){this.options={...we(this,Vg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&we(this,oo).remove(this)}setData(t,r){const s=cE(this.state.data,t,this.options);return gr(this,Vo,Ec).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){gr(this,Vo,Ec).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=we(this,wa))==null?void 0:s.promise;return(a=we(this,wa))==null||a.cancel(t),r?r.then(lo).catch(lo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(we(this,n0))}isActive(){return this.observers.some(t=>zo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!rI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=we(this,wa))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=we(this,wa))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),we(this,oo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(we(this,wa)&&(we(this,_f)?we(this,wa).cancel({revert:!0}):we(this,wa).cancelRetry()),this.scheduleGc()),we(this,oo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||gr(this,Vo,Ec).call(this,{type:"invalidate"})}fetch(t,r){var u,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(we(this,wa))return we(this,wa).continueRetry(),we(this,wa).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(p=>p.options.queryFn);x&&this.setOptions(x.options)}const s=new AbortController,a=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Rt(this,_f,!0),s.signal)})},i=()=>{const x=nI(this.options,r),p={client:we(this,Cf),queryKey:this.queryKey,meta:this.meta};return a(p),Rt(this,_f,!1),this.options.persister?this.options.persister(x,p,this):x(p)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:we(this,Cf),state:this.state,fetchFn:i};a(o),(u=this.options.behavior)==null||u.onFetch(o,this),Rt(this,a0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&gr(this,Vo,Ec).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=x=>{var p,y,N,b;y2(x)&&x.silent||gr(this,Vo,Ec).call(this,{type:"error",error:x}),y2(x)||((y=(p=we(this,oo).config).onError)==null||y.call(p,x,this),(b=(N=we(this,oo).config).onSettled)==null||b.call(N,this.state.data,x,this)),this.scheduleGc()};return Rt(this,wa,oI({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:x=>{var p,y,N,b;if(x===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(w){l(w);return}(y=(p=we(this,oo).config).onSuccess)==null||y.call(p,x,this),(b=(N=we(this,oo).config).onSettled)==null||b.call(N,x,this.state.error,this),this.scheduleGc()},onError:l,onFail:(x,p)=>{gr(this,Vo,Ec).call(this,{type:"failed",failureCount:x,error:p})},onPause:()=>{gr(this,Vo,Ec).call(this,{type:"pause"})},onContinue:()=>{gr(this,Vo,Ec).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),we(this,wa).start()}},n0=new WeakMap,a0=new WeakMap,oo=new WeakMap,Cf=new WeakMap,wa=new WeakMap,Vg=new WeakMap,_f=new WeakMap,Vo=new WeakSet,Ec=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...cI(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return y2(a)&&a.revert&&we(this,a0)?{...we(this,a0),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),kn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),we(this,oo).notify({query:this,type:"updated",action:t})})},Y6);function cI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _G(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Pl,K6,kG=(K6=class extends D0{constructor(t={}){super();Qt(this,Pl);this.config=t,Rt(this,Pl,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??mT(a,r);let o=this.get(i);return o||(o=new CG({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){we(this,Pl).has(t.queryHash)||(we(this,Pl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=we(this,Pl).get(t.queryHash);r&&(t.destroy(),r===t&&we(this,Pl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return we(this,Pl).get(t)}getAll(){return[...we(this,Pl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>GD(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>GD(t,s)):r}notify(t){kn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Pl=new WeakMap,K6),Ml,Fa,kf,Il,Hd,X6,DG=(X6=class extends lI{constructor(t){super();Qt(this,Il);Qt(this,Ml);Qt(this,Fa);Qt(this,kf);this.mutationId=t.mutationId,Rt(this,Fa,t.mutationCache),Rt(this,Ml,[]),this.state=t.state||dI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){we(this,Ml).includes(t)||(we(this,Ml).push(t),this.clearGcTimeout(),we(this,Fa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Rt(this,Ml,we(this,Ml).filter(r=>r!==t)),this.scheduleGc(),we(this,Fa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){we(this,Ml).length||(this.state.status==="pending"?this.scheduleGc():we(this,Fa).remove(this))}continue(){var t;return((t=we(this,kf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,u,f,h,x,p,y,N,b,w,j,S,A,C,T,D,_,O;const r=()=>{gr(this,Il,Hd).call(this,{type:"continue"})};Rt(this,kf,oI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,B)=>{gr(this,Il,Hd).call(this,{type:"failed",failureCount:P,error:B})},onPause:()=>{gr(this,Il,Hd).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>we(this,Fa).canRun(this)}));const s=this.state.status==="pending",a=!we(this,kf).canStart();try{if(s)r();else{gr(this,Il,Hd).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=we(this,Fa).config).onMutate)==null?void 0:o.call(i,t,this));const B=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t));B!==this.state.context&&gr(this,Il,Hd).call(this,{type:"pending",context:B,variables:t,isPaused:a})}const P=await we(this,kf).start();return await((h=(f=we(this,Fa).config).onSuccess)==null?void 0:h.call(f,P,t,this.state.context,this)),await((p=(x=this.options).onSuccess)==null?void 0:p.call(x,P,t,this.state.context)),await((N=(y=we(this,Fa).config).onSettled)==null?void 0:N.call(y,P,null,this.state.variables,this.state.context,this)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,P,null,t,this.state.context)),gr(this,Il,Hd).call(this,{type:"success",data:P}),P}catch(P){try{throw await((S=(j=we(this,Fa).config).onError)==null?void 0:S.call(j,P,t,this.state.context,this)),await((C=(A=this.options).onError)==null?void 0:C.call(A,P,t,this.state.context)),await((D=(T=we(this,Fa).config).onSettled)==null?void 0:D.call(T,void 0,P,this.state.variables,this.state.context,this)),await((O=(_=this.options).onSettled)==null?void 0:O.call(_,void 0,P,t,this.state.context)),P}finally{gr(this,Il,Hd).call(this,{type:"error",error:P})}}finally{we(this,Fa).runNext(this)}}},Ml=new WeakMap,Fa=new WeakMap,kf=new WeakMap,Il=new WeakSet,Hd=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kn.batch(()=>{we(this,Ml).forEach(s=>{s.onMutationUpdate(t)}),we(this,Fa).notify({mutation:this,type:"updated",action:t})})},X6);function dI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cc,qo,qg,Q6,OG=(Q6=class extends D0{constructor(t={}){super();Qt(this,Cc);Qt(this,qo);Qt(this,qg);this.config=t,Rt(this,Cc,new Set),Rt(this,qo,new Map),Rt(this,qg,0)}build(t,r,s){const a=new DG({mutationCache:this,mutationId:++Fv(this,qg)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){we(this,Cc).add(t);const r=Lv(t);if(typeof r=="string"){const s=we(this,qo).get(r);s?s.push(t):we(this,qo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(we(this,Cc).delete(t)){const r=Lv(t);if(typeof r=="string"){const s=we(this,qo).get(r);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&we(this,qo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Lv(t);if(typeof r=="string"){const s=we(this,qo).get(r),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const r=Lv(t);if(typeof r=="string"){const a=(s=we(this,qo).get(r))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kn.batch(()=>{we(this,Cc).forEach(t=>{this.notify({type:"removed",mutation:t})}),we(this,Cc).clear(),we(this,qo).clear()})}getAll(){return Array.from(we(this,Cc))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>YD(r,s))}findAll(t={}){return this.getAll().filter(r=>YD(t,r))}notify(t){kn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return kn.batch(()=>Promise.all(t.map(r=>r.continue().catch(lo))))}},Cc=new WeakMap,qo=new WeakMap,qg=new WeakMap,Q6);function Lv(e){var t;return(t=e.options.scope)==null?void 0:t.id}function QD(e){return{onFetch:(t,r)=>{var h,x,p,y,N;const s=t.options,a=(p=(x=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:x.fetchMore)==null?void 0:p.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((N=t.state.data)==null?void 0:N.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const f=async()=>{let b=!1;const w=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},j=nI(t.options,t.fetchOptions),S=async(A,C,T)=>{if(b)return Promise.reject();if(C==null&&A.pages.length)return Promise.resolve(A);const D={client:t.client,queryKey:t.queryKey,pageParam:C,direction:T?"backward":"forward",meta:t.options.meta};w(D);const _=await j(D),{maxPages:O}=t.options,P=T?NG:wG;return{pages:P(A.pages,_,O),pageParams:P(A.pageParams,C,O)}};if(a&&i.length){const A=a==="backward",C=A?RG:ZD,T={pages:i,pageParams:o},D=C(s,T);l=await S(T,D,A)}else{const A=e??i.length;do{const C=u===0?o[0]??s.initialPageParam:ZD(s,l);if(u>0&&C==null)break;l=await S(l,C),u++}while(u<A)}return l};t.options.persister?t.fetchFn=()=>{var b,w;return(w=(b=t.options).persister)==null?void 0:w.call(b,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=f}}}function ZD(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function RG(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Ys,nu,au,i0,o0,iu,l0,c0,Z6,uI=(Z6=class{constructor(e={}){Qt(this,Ys);Qt(this,nu);Qt(this,au);Qt(this,i0);Qt(this,o0);Qt(this,iu);Qt(this,l0);Qt(this,c0);Rt(this,Ys,e.queryCache||new kG),Rt(this,nu,e.mutationCache||new OG),Rt(this,au,e.defaultOptions||{}),Rt(this,i0,new Map),Rt(this,o0,new Map),Rt(this,iu,0)}mount(){Fv(this,iu)._++,we(this,iu)===1&&(Rt(this,l0,xT.subscribe(async e=>{e&&(await this.resumePausedMutations(),we(this,Ys).onFocus())})),Rt(this,c0,z1.subscribe(async e=>{e&&(await this.resumePausedMutations(),we(this,Ys).onOnline())})))}unmount(){var e,t;Fv(this,iu)._--,we(this,iu)===0&&((e=we(this,l0))==null||e.call(this),Rt(this,l0,void 0),(t=we(this,c0))==null||t.call(this),Rt(this,c0,void 0))}isFetching(e){return we(this,Ys).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return we(this,nu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=we(this,Ys).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=we(this,Ys).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Lm(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return we(this,Ys).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=we(this,Ys).get(s.queryHash),i=a==null?void 0:a.state.data,o=vG(t,i);if(o!==void 0)return we(this,Ys).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return kn.batch(()=>we(this,Ys).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=we(this,Ys).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=we(this,Ys);kn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=we(this,Ys);return kn.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=kn.batch(()=>we(this,Ys).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(lo).catch(lo)}invalidateQueries(e,t={}){return kn.batch(()=>(we(this,Ys).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=kn.batch(()=>we(this,Ys).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(lo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(lo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=we(this,Ys).build(this,t);return r.isStaleByTime(Lm(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(lo).catch(lo)}fetchInfiniteQuery(e){return e.behavior=QD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(lo).catch(lo)}ensureInfiniteQueryData(e){return e.behavior=QD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return z1.isOnline()?we(this,nu).resumePausedMutations():Promise.resolve()}getQueryCache(){return we(this,Ys)}getMutationCache(){return we(this,nu)}getDefaultOptions(){return we(this,au)}setDefaultOptions(e){Rt(this,au,e)}setQueryDefaults(e,t){we(this,i0).set($f(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...we(this,i0).values()],r={};return t.forEach(s=>{Wx(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){we(this,o0).set($f(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...we(this,o0).values()],r={};return t.forEach(s=>{Wx(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...we(this,au).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=mT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===pT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...we(this,au).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){we(this,Ys).clear(),we(this,nu).clear()}},Ys=new WeakMap,nu=new WeakMap,au=new WeakMap,i0=new WeakMap,o0=new WeakMap,iu=new WeakMap,l0=new WeakMap,c0=new WeakMap,Z6),ai,Or,zg,La,Df,d0,ou,lu,Hg,u0,f0,Of,Rf,cu,h0,Jr,gx,uE,fE,hE,mE,pE,xE,gE,fI,J6,PG=(J6=class extends D0{constructor(t,r){super();Qt(this,Jr);Qt(this,ai);Qt(this,Or);Qt(this,zg);Qt(this,La);Qt(this,Df);Qt(this,d0);Qt(this,ou);Qt(this,lu);Qt(this,Hg);Qt(this,u0);Qt(this,f0);Qt(this,Of);Qt(this,Rf);Qt(this,cu);Qt(this,h0,new Set);this.options=r,Rt(this,ai,t),Rt(this,lu,null),Rt(this,ou,dE()),this.options.experimental_prefetchInRender||we(this,ou).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(we(this,Or).addObserver(this),JD(we(this,Or),this.options)?gr(this,Jr,gx).call(this):this.updateResult(),gr(this,Jr,mE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yE(we(this,Or),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yE(we(this,Or),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,gr(this,Jr,pE).call(this),gr(this,Jr,xE).call(this),we(this,Or).removeObserver(this)}setOptions(t){const r=this.options,s=we(this,Or);if(this.options=we(this,ai).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zo(this.options.enabled,we(this,Or))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");gr(this,Jr,gE).call(this),we(this,Or).setOptions(this.options),r._defaulted&&!q1(this.options,r)&&we(this,ai).getQueryCache().notify({type:"observerOptionsUpdated",query:we(this,Or),observer:this});const a=this.hasListeners();a&&eO(we(this,Or),s,this.options,r)&&gr(this,Jr,gx).call(this),this.updateResult(),a&&(we(this,Or)!==s||zo(this.options.enabled,we(this,Or))!==zo(r.enabled,we(this,Or))||Lm(this.options.staleTime,we(this,Or))!==Lm(r.staleTime,we(this,Or)))&&gr(this,Jr,uE).call(this);const i=gr(this,Jr,fE).call(this);a&&(we(this,Or)!==s||zo(this.options.enabled,we(this,Or))!==zo(r.enabled,we(this,Or))||i!==we(this,cu))&&gr(this,Jr,hE).call(this,i)}getOptimisticResult(t){const r=we(this,ai).getQueryCache().build(we(this,ai),t),s=this.createResult(r,t);return IG(this,s)&&(Rt(this,La,s),Rt(this,d0,this.options),Rt(this,Df,we(this,Or).state)),s}getCurrentResult(){return we(this,La)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){we(this,h0).add(t)}getCurrentQuery(){return we(this,Or)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=we(this,ai).defaultQueryOptions(t),s=we(this,ai).getQueryCache().build(we(this,ai),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return gr(this,Jr,gx).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),we(this,La)))}createResult(t,r){var P;const s=we(this,Or),a=this.options,i=we(this,La),o=we(this,Df),l=we(this,d0),f=t!==s?t.state:we(this,zg),{state:h}=t;let x={...h},p=!1,y;if(r._optimisticResults){const B=this.hasListeners(),I=!B&&JD(t,r),G=B&&eO(t,s,r,a);(I||G)&&(x={...x,...cI(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:N,errorUpdatedAt:b,status:w}=x;y=x.data;let j=!1;if(r.placeholderData!==void 0&&y===void 0&&w==="pending"){let B;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(B=i.data,j=!0):B=typeof r.placeholderData=="function"?r.placeholderData((P=we(this,f0))==null?void 0:P.state.data,we(this,f0)):r.placeholderData,B!==void 0&&(w="success",y=cE(i==null?void 0:i.data,B,r),p=!0)}if(r.select&&y!==void 0&&!j)if(i&&y===(o==null?void 0:o.data)&&r.select===we(this,Hg))y=we(this,u0);else try{Rt(this,Hg,r.select),y=r.select(y),y=cE(i==null?void 0:i.data,y,r),Rt(this,u0,y),Rt(this,lu,null)}catch(B){Rt(this,lu,B)}we(this,lu)&&(N=we(this,lu),y=we(this,u0),b=Date.now(),w="error");const S=x.fetchStatus==="fetching",A=w==="pending",C=w==="error",T=A&&S,D=y!==void 0,O={status:w,fetchStatus:x.fetchStatus,isPending:A,isSuccess:w==="success",isError:C,isInitialLoading:T,isLoading:T,data:y,dataUpdatedAt:x.dataUpdatedAt,error:N,errorUpdatedAt:b,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>f.dataUpdateCount||x.errorUpdateCount>f.errorUpdateCount,isFetching:S,isRefetching:S&&!A,isLoadingError:C&&!D,isPaused:x.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&D,isStale:gT(t,r),refetch:this.refetch,promise:we(this,ou)};if(this.options.experimental_prefetchInRender){const B=z=>{O.status==="error"?z.reject(O.error):O.data!==void 0&&z.resolve(O.data)},I=()=>{const z=Rt(this,ou,O.promise=dE());B(z)},G=we(this,ou);switch(G.status){case"pending":t.queryHash===s.queryHash&&B(G);break;case"fulfilled":(O.status==="error"||O.data!==G.value)&&I();break;case"rejected":(O.status!=="error"||O.error!==G.reason)&&I();break}}return O}updateResult(){const t=we(this,La),r=this.createResult(we(this,Or),this.options);if(Rt(this,Df,we(this,Or).state),Rt(this,d0,this.options),we(this,Df).data!==void 0&&Rt(this,f0,we(this,Or)),q1(r,t))return;Rt(this,La,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!we(this,h0).size)return!0;const o=new Set(i??we(this,h0));return this.options.throwOnError&&o.add("error"),Object.keys(we(this,La)).some(l=>{const u=l;return we(this,La)[u]!==t[u]&&o.has(u)})};gr(this,Jr,fI).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&gr(this,Jr,mE).call(this)}},ai=new WeakMap,Or=new WeakMap,zg=new WeakMap,La=new WeakMap,Df=new WeakMap,d0=new WeakMap,ou=new WeakMap,lu=new WeakMap,Hg=new WeakMap,u0=new WeakMap,f0=new WeakMap,Of=new WeakMap,Rf=new WeakMap,cu=new WeakMap,h0=new WeakMap,Jr=new WeakSet,gx=function(t){gr(this,Jr,gE).call(this);let r=we(this,Or).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(lo)),r},uE=function(){gr(this,Jr,pE).call(this);const t=Lm(this.options.staleTime,we(this,Or));if(Bf||we(this,La).isStale||!oE(t))return;const s=rI(we(this,La).dataUpdatedAt,t)+1;Rt(this,Of,setTimeout(()=>{we(this,La).isStale||this.updateResult()},s))},fE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(we(this,Or)):this.options.refetchInterval)??!1},hE=function(t){gr(this,Jr,xE).call(this),Rt(this,cu,t),!(Bf||zo(this.options.enabled,we(this,Or))===!1||!oE(we(this,cu))||we(this,cu)===0)&&Rt(this,Rf,setInterval(()=>{(this.options.refetchIntervalInBackground||xT.isFocused())&&gr(this,Jr,gx).call(this)},we(this,cu)))},mE=function(){gr(this,Jr,uE).call(this),gr(this,Jr,hE).call(this,gr(this,Jr,fE).call(this))},pE=function(){we(this,Of)&&(clearTimeout(we(this,Of)),Rt(this,Of,void 0))},xE=function(){we(this,Rf)&&(clearInterval(we(this,Rf)),Rt(this,Rf,void 0))},gE=function(){const t=we(this,ai).getQueryCache().build(we(this,ai),this.options);if(t===we(this,Or))return;const r=we(this,Or);Rt(this,Or,t),Rt(this,zg,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},fI=function(t){kn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(we(this,La))}),we(this,ai).getQueryCache().notify({query:we(this,Or),type:"observerResultsUpdated"})})},J6);function MG(e,t){return zo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function JD(e,t){return MG(e,t)||e.state.data!==void 0&&yE(e,t,t.refetchOnMount)}function yE(e,t,r){if(zo(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&gT(e,t)}return!1}function eO(e,t,r,s){return(e!==t||zo(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&gT(e,r)}function gT(e,t){return zo(t.enabled,e)!==!1&&e.isStaleByTime(Lm(t.staleTime,e))}function IG(e,t){return!q1(e.getCurrentResult(),t)}var du,uu,ii,_c,Uc,S1,vE,eI,FG=(eI=class extends D0{constructor(r,s){super();Qt(this,Uc);Qt(this,du);Qt(this,uu);Qt(this,ii);Qt(this,_c);Rt(this,du,r),this.setOptions(s),this.bindMethods(),gr(this,Uc,S1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=we(this,du).defaultMutationOptions(r),q1(this.options,s)||we(this,du).getMutationCache().notify({type:"observerOptionsUpdated",mutation:we(this,ii),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&$f(s.mutationKey)!==$f(this.options.mutationKey)?this.reset():((a=we(this,ii))==null?void 0:a.state.status)==="pending"&&we(this,ii).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=we(this,ii))==null||r.removeObserver(this)}onMutationUpdate(r){gr(this,Uc,S1).call(this),gr(this,Uc,vE).call(this,r)}getCurrentResult(){return we(this,uu)}reset(){var r;(r=we(this,ii))==null||r.removeObserver(this),Rt(this,ii,void 0),gr(this,Uc,S1).call(this),gr(this,Uc,vE).call(this)}mutate(r,s){var a;return Rt(this,_c,s),(a=we(this,ii))==null||a.removeObserver(this),Rt(this,ii,we(this,du).getMutationCache().build(we(this,du),this.options)),we(this,ii).addObserver(this),we(this,ii).execute(r)}},du=new WeakMap,uu=new WeakMap,ii=new WeakMap,_c=new WeakMap,Uc=new WeakSet,S1=function(){var s;const r=((s=we(this,ii))==null?void 0:s.state)??dI();Rt(this,uu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},vE=function(r){kn.batch(()=>{var s,a,i,o,l,u,f,h;if(we(this,_c)&&this.hasListeners()){const x=we(this,uu).variables,p=we(this,uu).context;(r==null?void 0:r.type)==="success"?((a=(s=we(this,_c)).onSuccess)==null||a.call(s,r.data,x,p),(o=(i=we(this,_c)).onSettled)==null||o.call(i,r.data,null,x,p)):(r==null?void 0:r.type)==="error"&&((u=(l=we(this,_c)).onError)==null||u.call(l,r.error,x,p),(h=(f=we(this,_c)).onSettled)==null||h.call(f,void 0,r.error,x,p))}this.listeners.forEach(x=>{x(we(this,uu))})})},eI),hI=g.createContext(void 0),qn=e=>{const t=g.useContext(hI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},LG=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(hI.Provider,{value:e,children:t})),mI=g.createContext(!1),BG=()=>g.useContext(mI);mI.Provider;function $G(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var UG=g.createContext($G()),VG=()=>g.useContext(UG);function pI(e,t){return typeof e=="function"?e(...t):!!e}function bE(){}var qG=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},zG=e=>{g.useEffect(()=>{e.clearReset()},[e])},HG=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||pI(r,[e.error,s])),WG=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},GG=(e,t)=>e.isLoading&&e.isFetching&&!t,YG=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,tO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function KG(e,t,r){var x,p,y,N,b;const s=qn(),a=BG(),i=VG(),o=s.defaultQueryOptions(e);(p=(x=s.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||p.call(x,o),o._optimisticResults=a?"isRestoring":"optimistic",WG(o),qG(o,i),zG(i);const l=!s.getQueryCache().get(o.queryHash),[u]=g.useState(()=>new t(s,o)),f=u.getOptimisticResult(o),h=!a&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(w=>{const j=h?u.subscribe(kn.batchCalls(w)):bE;return u.updateResult(),j},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),g.useEffect(()=>{u.setOptions(o)},[o,u]),YG(o,f))throw tO(o,u,i);if(HG({result:f,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw f.error;if((N=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||N.call(y,o,f),o.experimental_prefetchInRender&&!Bf&&GG(f,a)){const w=l?tO(o,u,i):(b=s.getQueryCache().get(o.queryHash))==null?void 0:b.promise;w==null||w.catch(bE).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?f:u.trackResult(f)}function Br(e,t){return KG(e,PG)}function Gr(e,t){const r=qn(),[s]=g.useState(()=>new FG(r,e));g.useEffect(()=>{s.setOptions(e)},[s,e]);const a=g.useSyncExternalStore(g.useCallback(o=>s.subscribe(kn.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=g.useCallback((o,l)=>{s.mutate(o,l).catch(bE)},[s]);if(a.error&&pI(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Gx="Indraai",XG=()=>"https://www.indraai.in//",Qb=XG();var sx={},rO;function QG(){if(rO)return sx;rO=1,Object.defineProperty(sx,"__esModule",{value:!0}),sx.parse=o,sx.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,y){const N=new i,b=p.length;if(b<2)return N;const w=(y==null?void 0:y.decode)||h;let j=0;do{const S=p.indexOf("=",j);if(S===-1)break;const A=p.indexOf(";",j),C=A===-1?b:A;if(S>C){j=p.lastIndexOf(";",S-1)+1;continue}const T=l(p,j,S),D=u(p,S,T),_=p.slice(T,D);if(N[_]===void 0){let O=l(p,S+1,C),P=u(p,C,O);const B=w(p.slice(O,P));N[_]=B}j=C+1}while(j<b);return N}function l(p,y,N){do{const b=p.charCodeAt(y);if(b!==32&&b!==9)return y}while(++y<N);return N}function u(p,y,N){for(;y>N;){const b=p.charCodeAt(--y);if(b!==32&&b!==9)return y+1}return N}function f(p,y,N){const b=(N==null?void 0:N.encode)||encodeURIComponent;if(!e.test(p))throw new TypeError(`argument name is invalid: ${p}`);const w=b(y);if(!t.test(w))throw new TypeError(`argument val is invalid: ${y}`);let j=p+"="+w;if(!N)return j;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);j+="; Max-Age="+N.maxAge}if(N.domain){if(!r.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);j+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);j+="; Path="+N.path}if(N.expires){if(!x(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);j+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(j+="; HttpOnly"),N.secure&&(j+="; Secure"),N.partitioned&&(j+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return j}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function x(p){return a.call(p)==="[object Date]"}return sx}QG();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sO="popstate";function ZG(e={}){function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return wE("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Yx(a)}return eY(t,r,null,e)}function Ds(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function No(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JG(){return Math.random().toString(36).substring(2,10)}function nO(e,t){return{usr:e.state,key:e.key,idx:t}}function wE(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?O0(t):t,state:r,key:t&&t.key||s||JG()}}function Yx({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function O0(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function eY(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",u=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function x(){l="POP";let w=h(),j=w==null?null:w-f;f=w,u&&u({action:l,location:b.location,delta:j})}function p(w,j){l="PUSH";let S=wE(b.location,w,j);f=h()+1;let A=nO(S,f),C=b.createHref(S);try{o.pushState(A,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(C)}i&&u&&u({action:l,location:b.location,delta:1})}function y(w,j){l="REPLACE";let S=wE(b.location,w,j);f=h();let A=nO(S,f),C=b.createHref(S);o.replaceState(A,"",C),i&&u&&u({action:l,location:b.location,delta:0})}function N(w){let j=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof w=="string"?w:Yx(w);return S=S.replace(/ $/,"%20"),Ds(j,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,j)}let b={get action(){return l},get location(){return e(a,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(sO,x),u=w,()=>{a.removeEventListener(sO,x),u=null}},createHref(w){return t(a,w)},createURL:N,encodeLocation(w){let j=N(w);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:y,go(w){return o.go(w)}};return b}function xI(e,t,r="/"){return tY(e,t,r,!1)}function tY(e,t,r,s){let a=typeof t=="string"?O0(t):t,i=Vc(a.pathname||"/",r);if(i==null)return null;let o=gI(e);rY(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=hY(i);l=uY(o[u],f,s)}return l}function gI(e,t=[],r=[],s=""){let a=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Ds(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length));let f=Rc([s,u.relativePath]),h=r.concat(u);i.children&&i.children.length>0&&(Ds(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),gI(i.children,t,h,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:cY(f,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let u of yI(i.path))a(i,o,u)}),t}function yI(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=yI(s.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function rY(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:dY(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var sY=/^:[\w-]+$/,nY=3,aY=2,iY=1,oY=10,lY=-2,aO=e=>e==="*";function cY(e,t){let r=e.split("/"),s=r.length;return r.some(aO)&&(s+=lY),t&&(s+=aY),r.filter(a=>!aO(a)).reduce((a,i)=>a+(sY.test(i)?nY:i===""?iY:oY),s)}function dY(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function uY(e,t,r=!1){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let u=s[l],f=l===s.length-1,h=i==="/"?t:t.slice(i.length)||"/",x=H1({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),p=u.route;if(!x&&f&&r&&!s[s.length-1].route.index&&(x=H1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!x)return null;Object.assign(a,x.params),o.push({params:a,pathname:Rc([i,x.pathname]),pathnameBase:gY(Rc([i,x.pathnameBase])),route:p}),x.pathnameBase!=="/"&&(i=Rc([i,x.pathnameBase]))}return o}function H1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=fY(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((f,{paramName:h,isOptional:x},p)=>{if(h==="*"){let N=l[p]||"";o=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const y=l[p];return x&&!y?f[h]=void 0:f[h]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:e}}function fY(e,t=!1,r=!0){No(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(s.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function hY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return No(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Vc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function mY(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?O0(e):e;return{pathname:r?r.startsWith("/")?r:pY(r,t):t,search:yY(s),hash:vY(a)}}function pY(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function v2(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xY(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function yT(e){let t=xY(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function vT(e,t,r,s=!1){let a;typeof e=="string"?a=O0(e):(a={...e},Ds(!a.pathname||!a.pathname.includes("?"),v2("?","pathname","search",a)),Ds(!a.pathname||!a.pathname.includes("#"),v2("#","pathname","hash",a)),Ds(!a.search||!a.search.includes("#"),v2("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let x=t.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),x-=1;a.pathname=p.join("/")}l=x>=0?t[x]:"/"}let u=mY(a,l),f=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var Rc=e=>e.join("/").replace(/\/\/+/g,"/"),gY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var vI=["POST","PUT","PATCH","DELETE"];new Set(vI);var wY=["GET",...vI];new Set(wY);var R0=g.createContext(null);R0.displayName="DataRouter";var Zb=g.createContext(null);Zb.displayName="DataRouterState";var bI=g.createContext({isTransitioning:!1});bI.displayName="ViewTransition";var NY=g.createContext(new Map);NY.displayName="Fetchers";var jY=g.createContext(null);jY.displayName="Await";var dl=g.createContext(null);dl.displayName="Navigation";var Wg=g.createContext(null);Wg.displayName="Location";var So=g.createContext({outlet:null,matches:[],isDataRoute:!1});So.displayName="Route";var bT=g.createContext(null);bT.displayName="RouteError";function SY(e,{relative:t}={}){Ds(P0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=g.useContext(dl),{hash:a,pathname:i,search:o}=Gg(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:Rc([r,i])),s.createHref({pathname:l,search:o,hash:a})}function P0(){return g.useContext(Wg)!=null}function Oa(){return Ds(P0(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Wg).location}var wI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NI(e){g.useContext(dl).static||g.useLayoutEffect(e)}function jr(){let{isDataRoute:e}=g.useContext(So);return e?BY():EY()}function EY(){Ds(P0(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(R0),{basename:t,navigator:r}=g.useContext(dl),{matches:s}=g.useContext(So),{pathname:a}=Oa(),i=JSON.stringify(yT(s)),o=g.useRef(!1);return NI(()=>{o.current=!0}),g.useCallback((u,f={})=>{if(No(o.current,wI),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=vT(u,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Rc([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,a,e])}var AY=g.createContext(null);function TY(e){let t=g.useContext(So).outlet;return t&&g.createElement(AY.Provider,{value:e},t)}function Ra(){let{matches:e}=g.useContext(So),t=e[e.length-1];return t?t.params:{}}function Gg(e,{relative:t}={}){let{matches:r}=g.useContext(So),{pathname:s}=Oa(),a=JSON.stringify(yT(r));return g.useMemo(()=>vT(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function CY(e,t){return jI(e,t)}function jI(e,t,r,s){var S;Ds(P0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=g.useContext(dl),{matches:o}=g.useContext(So),l=o[o.length-1],u=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",x=l&&l.route;{let A=x&&x.path||"";SI(f,!x||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=Oa(),y;if(t){let A=typeof t=="string"?O0(t):t;Ds(h==="/"||((S=A.pathname)==null?void 0:S.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),y=A}else y=p;let N=y.pathname||"/",b=N;if(h!=="/"){let A=h.replace(/^\//,"").split("/");b="/"+N.replace(/^\//,"").split("/").slice(A.length).join("/")}let w=!i&&r&&r.matches&&r.matches.length>0?r.matches:xI(e,{pathname:b});No(x||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),No(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=RY(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Rc([h,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:Rc([h,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,r,s);return t&&j?g.createElement(Wg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},j):j}function _Y(){let e=LY(),t=bY(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,o)}var kY=g.createElement(_Y,null),DY=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?g.createElement(So.Provider,{value:this.props.routeContext},g.createElement(bT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OY({routeContext:e,match:t,children:r}){let s=g.useContext(R0);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(So.Provider,{value:e},r)}function RY(e,t=[],r=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let u=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);Ds(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let o=!1,l=-1;if(r)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=u),f.route.id){let{loaderData:h,errors:x}=r,p=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||p){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,f,h)=>{let x,p=!1,y=null,N=null;r&&(x=i&&f.route.id?i[f.route.id]:void 0,y=f.route.errorElement||kY,o&&(l<0&&h===0?(SI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,N=null):l===h&&(p=!0,N=f.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,h+1)),w=()=>{let j;return x?j=y:p?j=N:f.route.Component?j=g.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=u,g.createElement(OY,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(DY,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}function wT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PY(e){let t=g.useContext(R0);return Ds(t,wT(e)),t}function MY(e){let t=g.useContext(Zb);return Ds(t,wT(e)),t}function IY(e){let t=g.useContext(So);return Ds(t,wT(e)),t}function NT(e){let t=IY(e),r=t.matches[t.matches.length-1];return Ds(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function FY(){return NT("useRouteId")}function LY(){var s;let e=g.useContext(bT),t=MY("useRouteError"),r=NT("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[r]}function BY(){let{router:e}=PY("useNavigate"),t=NT("useNavigate"),r=g.useRef(!1);return NI(()=>{r.current=!0}),g.useCallback(async(a,i={})=>{No(r.current,wI),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var iO={};function SI(e,t,r){!t&&!iO[e]&&(iO[e]=!0,No(!1,r))}g.memo($Y);function $Y({routes:e,future:t,state:r}){return jI(e,void 0,r,t)}function UY({to:e,replace:t,state:r,relative:s}){Ds(P0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=g.useContext(dl);No(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=g.useContext(So),{pathname:o}=Oa(),l=jr(),u=vT(e,yT(i),o,s==="path"),f=JSON.stringify(u);return g.useEffect(()=>{l(JSON.parse(f),{replace:t,state:r,relative:s})},[l,f,s,t,r]),null}function jT(e){return TY(e.context)}function St(e){Ds(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VY({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:i=!1}){Ds(!P0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=O0(r));let{pathname:u="/",search:f="",hash:h="",state:x=null,key:p="default"}=r,y=g.useMemo(()=>{let N=Vc(u,o);return N==null?null:{location:{pathname:N,search:f,hash:h,state:x,key:p},navigationType:s}},[o,u,f,h,x,p,s]);return No(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:g.createElement(dl.Provider,{value:l},g.createElement(Wg.Provider,{children:t,value:y}))}function qY({children:e,location:t}){return CY(NE(e),t)}function NE(e,t=[]){let r=[];return g.Children.forEach(e,(s,a)=>{if(!g.isValidElement(s))return;let i=[...t,a];if(s.type===g.Fragment){r.push.apply(r,NE(s.props.children,i));return}Ds(s.type===St,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ds(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=NE(s.props.children,i)),r.push(o)}),r}var E1="get",A1="application/x-www-form-urlencoded";function Jb(e){return e!=null&&typeof e.tagName=="string"}function zY(e){return Jb(e)&&e.tagName.toLowerCase()==="button"}function HY(e){return Jb(e)&&e.tagName.toLowerCase()==="form"}function WY(e){return Jb(e)&&e.tagName.toLowerCase()==="input"}function GY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YY(e,t){return e.button===0&&(!t||t==="_self")&&!GY(e)}function jE(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function KY(e,t){let r=jE(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var Bv=null;function XY(){if(Bv===null)try{new FormData(document.createElement("form"),0),Bv=!1}catch{Bv=!0}return Bv}var QY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b2(e){return e!=null&&!QY.has(e)?(No(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${A1}"`),null):e}function ZY(e,t){let r,s,a,i,o;if(HY(e)){let l=e.getAttribute("action");s=l?Vc(l,t):null,r=e.getAttribute("method")||E1,a=b2(e.getAttribute("enctype"))||A1,i=new FormData(e)}else if(zY(e)||WY(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(s=u?Vc(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||E1,a=b2(e.getAttribute("formenctype"))||b2(l.getAttribute("enctype"))||A1,i=new FormData(l,e),!XY()){let{name:f,type:h,value:x}=e;if(h==="image"){let p=f?`${f}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else f&&i.append(f,x)}}else{if(Jb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=E1,s=null,a=A1,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:i,body:o}}function ST(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function JY(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eK(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tK(e,t,r){let s=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await JY(i,r);return o.links?o.links():[]}return[]}));return aK(s.flat(1).filter(eK).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function oO(e,t,r,s,a,i){let o=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,l=(u,f)=>{var h;return r[f].pathname!==u.pathname||((h=r[f].route.path)==null?void 0:h.endsWith("*"))&&r[f].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,f)=>o(u,f)||l(u,f)):i==="data"?t.filter((u,f)=>{var x;let h=s.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function rK(e,t,{includeHydrateFallback:r}={}){return sK(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function sK(e){return[...new Set(e)]}function nK(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function aK(e,t){let r=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(nK(a));return r.has(i)||(r.add(i),s.push({key:i,link:a})),s},[])}var iK=new Set([100,101,204,205]);function oK(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Vc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function EI(){let e=g.useContext(R0);return ST(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function lK(){let e=g.useContext(Zb);return ST(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ET=g.createContext(void 0);ET.displayName="FrameworkContext";function AI(){let e=g.useContext(ET);return ST(e,"You must render this element inside a <HydratedRouter> element"),e}function cK(e,t){let r=g.useContext(ET),[s,a]=g.useState(!1),[i,o]=g.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:x}=t,p=g.useRef(null);g.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=j=>{j.forEach(S=>{o(S.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),g.useEffect(()=>{if(s){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[s]);let y=()=>{a(!0)},N=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:nx(l,y),onBlur:nx(u,N),onMouseEnter:nx(f,y),onMouseLeave:nx(h,N),onTouchStart:nx(x,y)}]:[!1,p,{}]}function nx(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function dK({page:e,...t}){let{router:r}=EI(),s=g.useMemo(()=>xI(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?g.createElement(fK,{page:e,matches:s,...t}):null}function uK(e){let{manifest:t,routeModules:r}=AI(),[s,a]=g.useState([]);return g.useEffect(()=>{let i=!1;return tK(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),s}function fK({page:e,matches:t,...r}){let s=Oa(),{manifest:a,routeModules:i}=AI(),{basename:o}=EI(),{loaderData:l,matches:u}=lK(),f=g.useMemo(()=>oO(e,t,u,a,s,"data"),[e,t,u,a,s]),h=g.useMemo(()=>oO(e,t,u,a,s,"assets"),[e,t,u,a,s]),x=g.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let N=new Set,b=!1;if(t.forEach(j=>{var A;let S=a.routes[j.route.id];!S||!S.hasLoader||(!f.some(C=>C.route.id===j.route.id)&&j.route.id in l&&((A=i[j.route.id])!=null&&A.shouldRevalidate)||S.hasClientLoader?b=!0:N.add(j.route.id))}),N.size===0)return[];let w=oK(e,o);return b&&N.size>0&&w.searchParams.set("_routes",t.filter(j=>N.has(j.route.id)).map(j=>j.route.id).join(",")),[w.pathname+w.search]},[o,l,s,a,f,t,e,i]),p=g.useMemo(()=>rK(h,a),[h,a]),y=uK(h);return g.createElement(g.Fragment,null,x.map(N=>g.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),p.map(N=>g.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),y.map(({key:N,link:b})=>g.createElement("link",{key:N,...b})))}function hK(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var TI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TI&&(window.__reactRouterVersion="7.5.1")}catch{}function mK({basename:e,children:t,window:r}){let s=g.useRef();s.current==null&&(s.current=ZG({window:r,v5Compat:!0}));let a=s.current,[i,o]=g.useState({action:a.action,location:a.location}),l=g.useCallback(u=>{g.startTransition(()=>o(u))},[o]);return g.useLayoutEffect(()=>a.listen(l),[a,l]),g.createElement(VY,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var CI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rr=g.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:u,to:f,preventScrollReset:h,viewTransition:x,...p},y){let{basename:N}=g.useContext(dl),b=typeof f=="string"&&CI.test(f),w,j=!1;if(typeof f=="string"&&b&&(w=f,TI))try{let P=new URL(window.location.href),B=f.startsWith("//")?new URL(P.protocol+f):new URL(f),I=Vc(B.pathname,N);B.origin===P.origin&&I!=null?f=I+B.search+B.hash:j=!0}catch{No(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=SY(f,{relative:a}),[A,C,T]=cK(s,p),D=gK(f,{replace:o,state:l,target:u,preventScrollReset:h,relative:a,viewTransition:x});function _(P){t&&t(P),P.defaultPrevented||D(P)}let O=g.createElement("a",{...p,...T,href:w||S,onClick:j||i?t:_,ref:hK(y,C),target:u,"data-discover":!b&&r==="render"?"true":void 0});return A&&!b?g.createElement(g.Fragment,null,O,g.createElement(dK,{page:S})):O});Rr.displayName="Link";var yx=g.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:u,...f},h){let x=Gg(o,{relative:f.relative}),p=Oa(),y=g.useContext(Zb),{navigator:N,basename:b}=g.useContext(dl),w=y!=null&&jK(x)&&l===!0,j=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,S=p.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(S=S.toLowerCase(),A=A?A.toLowerCase():null,j=j.toLowerCase()),A&&b&&(A=Vc(A,b)||A);const C=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let T=S===j||!a&&S.startsWith(j)&&S.charAt(C)==="/",D=A!=null&&(A===j||!a&&A.startsWith(j)&&A.charAt(j.length)==="/"),_={isActive:T,isPending:D,isTransitioning:w},O=T?t:void 0,P;typeof s=="function"?P=s(_):P=[s,T?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(_):i;return g.createElement(Rr,{...f,"aria-current":O,className:P,ref:h,style:B,to:o,viewTransition:l},typeof u=="function"?u(_):u)});yx.displayName="NavLink";var pK=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:i,method:o=E1,action:l,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:x,...p},y)=>{let N=wK(),b=NK(l,{relative:f}),w=o.toLowerCase()==="get"?"get":"post",j=typeof l=="string"&&CI.test(l),S=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let C=A.nativeEvent.submitter,T=(C==null?void 0:C.getAttribute("formmethod"))||o;N(C||A.currentTarget,{fetcherKey:t,method:T,navigate:r,replace:a,state:i,relative:f,preventScrollReset:h,viewTransition:x})};return g.createElement("form",{ref:y,method:w,action:b,onSubmit:s?u:S,...p,"data-discover":!j&&e==="render"?"true":void 0})});pK.displayName="Form";function xK(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _I(e){let t=g.useContext(R0);return Ds(t,xK(e)),t}function gK(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=jr(),u=Oa(),f=Gg(e,{relative:i});return g.useCallback(h=>{if(YY(h,t)){h.preventDefault();let x=r!==void 0?r:Yx(u)===Yx(f);l(e,{replace:x,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[u,l,f,r,s,t,e,a,i,o])}function yK(e){No(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(jE(e)),r=g.useRef(!1),s=Oa(),a=g.useMemo(()=>KY(s.search,r.current?null:t.current),[s.search]),i=jr(),o=g.useCallback((l,u)=>{const f=jE(typeof l=="function"?l(a):l);r.current=!0,i("?"+f,u)},[i,a]);return[a,o]}var vK=0,bK=()=>`__${String(++vK)}__`;function wK(){let{router:e}=_I("useSubmit"),{basename:t}=g.useContext(dl),r=FY();return g.useCallback(async(s,a={})=>{let{action:i,method:o,encType:l,formData:u,body:f}=ZY(s,t);if(a.navigate===!1){let h=a.fetcherKey||bK();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function NK(e,{relative:t}={}){let{basename:r}=g.useContext(dl),s=g.useContext(So);Ds(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...Gg(e||".",{relative:t})},o=Oa();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(x=>x).forEach(x=>l.append("index",x));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Rc([r,i.pathname])),Yx(i)}function jK(e,t={}){let r=g.useContext(bI);Ds(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_I("useViewTransitionState"),a=Gg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Vc(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=Vc(r.nextLocation.pathname,s)||r.nextLocation.pathname;return H1(a.pathname,o)!=null||H1(a.pathname,i)!=null}new TextEncoder;[...iK];var oh=tI();const Lu=Kb(oh);var SK=(e,t,r,s,a,i,o,l)=>{let u=document.documentElement,f=["light","dark"];function h(y){(Array.isArray(e)?e:[e]).forEach(N=>{let b=N==="class",w=b&&i?a.map(j=>i[j]||j):a;b?(u.classList.remove(...w),u.classList.add(i&&i[y]?i[y]:y)):u.setAttribute(N,y)}),x(y)}function x(y){l&&f.includes(y)&&(u.style.colorScheme=y)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)h(s);else try{let y=localStorage.getItem(t)||r,N=o&&y==="system"?p():y;h(N)}catch{}},lO=["light","dark"],kI="(prefers-color-scheme: dark)",EK=typeof window>"u",AT=g.createContext(void 0),AK={setTheme:e=>{},themes:[]},TK=()=>{var e;return(e=g.useContext(AT))!=null?e:AK},CK=e=>g.useContext(AT)?g.createElement(g.Fragment,null,e.children):g.createElement(kK,{...e}),_K=["light","dark"],kK=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:i=_K,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:u,children:f,nonce:h,scriptProps:x})=>{let[p,y]=g.useState(()=>OK(a,o)),[N,b]=g.useState(()=>p==="system"?w2():p),w=u?Object.values(u):i,j=g.useCallback(T=>{let D=T;if(!D)return;T==="system"&&r&&(D=w2());let _=u?u[D]:D,O=t?RK(h):null,P=document.documentElement,B=I=>{I==="class"?(P.classList.remove(...w),_&&P.classList.add(_)):I.startsWith("data-")&&(_?P.setAttribute(I,_):P.removeAttribute(I))};if(Array.isArray(l)?l.forEach(B):B(l),s){let I=lO.includes(o)?o:null,G=lO.includes(D)?D:I;P.style.colorScheme=G}O==null||O()},[h]),S=g.useCallback(T=>{let D=typeof T=="function"?T(p):T;y(D);try{localStorage.setItem(a,D)}catch{}},[p]),A=g.useCallback(T=>{let D=w2(T);b(D),p==="system"&&r&&!e&&j("system")},[p,e]);g.useEffect(()=>{let T=window.matchMedia(kI);return T.addListener(A),A(T),()=>T.removeListener(A)},[A]),g.useEffect(()=>{let T=D=>{D.key===a&&(D.newValue?y(D.newValue):S(o))};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[S]),g.useEffect(()=>{j(e??p)},[e,p]);let C=g.useMemo(()=>({theme:p,setTheme:S,forcedTheme:e,resolvedTheme:p==="system"?N:p,themes:r?[...i,"system"]:i,systemTheme:r?N:void 0}),[p,S,e,N,r,i]);return g.createElement(AT.Provider,{value:C},g.createElement(DK,{forcedTheme:e,storageKey:a,attribute:l,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:u,themes:i,nonce:h,scriptProps:x}),f)},DK=g.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:u,scriptProps:f})=>{let h=JSON.stringify([r,t,i,e,l,o,s,a]).slice(1,-1);return g.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${SK.toString()})(${h})`}})}),OK=(e,t)=>{if(EK)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},RK=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},w2=e=>(e||(e=window.matchMedia(kI)),e.matches?"dark":"light");const PK={theme:"system",setTheme:()=>null};g.createContext(PK);function MK({children:e,...t}){const[r,s]=g.useState(!1),[a,i]=g.useState(void 0);return g.useEffect(()=>{s(!0);const o=()=>{const u=navigator.userAgent||navigator.vendor||window.opera,f=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(u.toLowerCase()),h="ontouchstart"in window||navigator.maxTouchPoints>0,x=window.innerWidth<=768;return f||h&&x};o()&&(i("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"));const l=()=>{o()?(i("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")):i(void 0)};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[]),r?n.jsx(CK,{...t,forcedTheme:a,defaultTheme:"light",enableSystem:!a,disableTransitionOnChange:!0,children:e}):null}const IK=()=>{const{setTheme:e,theme:t,resolvedTheme:r}=TK();return g.useEffect(()=>{const s=()=>{const i=navigator.userAgent||navigator.vendor||window.opera,o=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(i.toLowerCase()),l="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,u=window.innerWidth<=768,f=window.matchMedia("(pointer: coarse)").matches||window.matchMedia("(hover: none)").matches;if(o||l&&u||f){e("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),document.documentElement.style.colorScheme="light";const x=document.querySelector('meta[name="theme-color"]');if(x)x.setAttribute("content","#ffffff");else{const p=document.createElement("meta");p.name="theme-color",p.content="#ffffff",document.head.appendChild(p)}}};s(),window.addEventListener("resize",s),window.addEventListener("orientationchange",s);const a=new MutationObserver(i=>{i.forEach(o=>{if(o.type==="attributes"&&o.attributeName==="class"){const l=o.target;l===document.documentElement&&l.classList.contains("dark")&&s()}})});return a.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>{window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s),a.disconnect()}},[e]),{theme:t,resolvedTheme:r}},FK=()=>(IK(),null),LK=()=>n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-muted/40 p-4",children:n.jsx(jT,{})});/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$K=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),cO=e=>{const t=$K(e);return t.charAt(0).toUpperCase()+t.slice(1)},DI=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim(),UK=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},u)=>g.createElement("svg",{ref:u,...VK,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:DI("lucide",a),...!i&&!UK(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,h])=>g.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(e,t)=>{const r=g.forwardRef(({className:s,...a},i)=>g.createElement(qK,{ref:i,iconNode:t,className:DI(`lucide-${BK(cO(e))}`,`lucide-${e}`,s),...a}));return r.displayName=cO(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ew=vt("arrow-down",zK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_x=vt("arrow-left",HK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],tw=vt("arrow-up",WK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]],YK=vt("audio-waveform",GK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],N2=vt("book-open",KK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ld=vt("briefcase",XK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],ZK=vt("calendar-check",QK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],SE=vt("calendar-days",JK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ta=vt("calendar",eX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],io=vt("check",tX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],li=vt("chevron-down",rX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],M0=vt("chevron-left",sX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wu=vt("chevron-right",nX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kc=vt("chevron-up",aX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],oX=vt("chevrons-left",iX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],cX=vt("chevrons-right",lX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Yg=vt("chevrons-up-down",dX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xu=vt("circle-alert",uX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],hX=vt("circle-arrow-up",fX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rl=vt("circle-check-big",mX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kx=vt("circle-check",pX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Zs=vt("circle-plus",xX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],j2=vt("circle-user",gX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Zo=vt("circle-x",yX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bX=vt("circle",vX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Kx=vt("clipboard-check",wX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Xx=vt("clock",NX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],SX=vt("command",jX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],OI=vt("credit-card",EX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],TT=vt("download",AX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],CX=vt("droplets",TX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],rw=vt("ellipsis",_X);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],DX=vt("eye-off",kX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gu=vt("eye",OX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],PX=vt("facebook",RX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ln=vt("file-text",MX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Kg=vt("funnel",IX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]],dO=vt("gallery-vertical-end",FX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],EE=vt("heart",LX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],RI=vt("house",BX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],UX=vt("image",$X);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Qx=vt("indian-rupee",VX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],zX=vt("info",qX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],WX=vt("instagram",HX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z",key:"165ttr"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814",key:"1ubxi2"}]],YX=vt("key-square",GX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],XX=vt("landmark",KX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Uf=vt("leaf",QX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],JX=vt("list-ordered",ZX);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zr=vt("loader-circle",eQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Zx=vt("loader",tQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],AE=vt("log-out",rQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CT=vt("mail",sQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Bm=vt("map-pin",nQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],PI=vt("menu",aQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M5 12h14",key:"1ays0h"}]],yf=vt("minus",iQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],lQ=vt("moon",oQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],dQ=vt("package-check",cQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],TE=vt("package-search",uQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],yo=vt("package",fQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],mQ=vt("panel-left",hQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],_T=vt("pencil",pQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],MI=vt("phone",xQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vn=vt("plus",gQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],I0=vt("save",yQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Os=vt("search",vQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wQ=vt("send",bQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]],II=vt("shield-ellipsis",NQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],SQ=vt("shield",jQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],uO=vt("shopping-bag",EQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],m0=vt("shopping-cart",AQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],CQ=vt("skip-forward",TQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],FI=vt("sparkles",_Q);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bi=vt("square-pen",kQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],OQ=vt("square-terminal",DQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],PQ=vt("star",RQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],IQ=vt("sun",MQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],fn=vt("trash-2",FQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Jx=vt("trending-down",LQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],CE=vt("trending-up",BQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Oc=vt("triangle-alert",$Q);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Wo=vt("truck",UQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qQ=vt("user-check",VQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fO=vt("user-plus",zQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sw=vt("user",HQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],GQ=vt("users-round",WQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LI=vt("users",YQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Pc=vt("wallet",KQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vo=vt("x",XQ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nw=vt("zap",QQ);var Lr;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Lr||(Lr={}));var _E;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(_E||(_E={}));const Pt=Lr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Tc=e=>{switch(typeof e){case"undefined":return Pt.undefined;case"string":return Pt.string;case"number":return isNaN(e)?Pt.nan:Pt.number;case"boolean":return Pt.boolean;case"function":return Pt.function;case"bigint":return Pt.bigint;case"symbol":return Pt.symbol;case"object":return Array.isArray(e)?Pt.array:e===null?Pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Pt.promise:typeof Map<"u"&&e instanceof Map?Pt.map:typeof Set<"u"&&e instanceof Set?Pt.set:typeof Date<"u"&&e instanceof Date?Pt.date:Pt.object;default:return Pt.unknown}},ht=Lr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ZQ=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Bi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,u=0;for(;u<o.path.length;){const f=o.path[u];u===o.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(r(o))):l[f]=l[f]||{_errors:[]},l=l[f],u++}}};return a(this),s}static assert(t){if(!(t instanceof Bi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Lr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Bi.create=e=>new Bi(e);const p0=(e,t)=>{let r;switch(e.code){case ht.invalid_type:e.received===Pt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ht.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Lr.jsonStringifyReplacer)}`;break;case ht.unrecognized_keys:r=`Unrecognized key(s) in object: ${Lr.joinValues(e.keys,", ")}`;break;case ht.invalid_union:r="Invalid input";break;case ht.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Lr.joinValues(e.options)}`;break;case ht.invalid_enum_value:r=`Invalid enum value. Expected ${Lr.joinValues(e.options)}, received '${e.received}'`;break;case ht.invalid_arguments:r="Invalid function arguments";break;case ht.invalid_return_type:r="Invalid function return type";break;case ht.invalid_date:r="Invalid date";break;case ht.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Lr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ht.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ht.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ht.custom:r="Invalid input";break;case ht.invalid_intersection_types:r="Intersection results could not be merged";break;case ht.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ht.not_finite:r="Number must be finite";break;default:r=t.defaultError,Lr.assertNever(e)}return{message:r}};let BI=p0;function JQ(e){BI=e}function W1(){return BI}const G1=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const u=s.filter(f=>!!f).slice().reverse();for(const f of u)l=f(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},eZ=[];function Ct(e,t){const r=W1(),s=G1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===p0?void 0:p0].filter(a=>!!a)});e.common.issues.push(s)}class Da{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return fr;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Da.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return fr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const fr=Object.freeze({status:"aborted"}),Cm=e=>({status:"dirty",value:e}),Ga=e=>({status:"valid",value:e}),kE=e=>e.status==="aborted",DE=e=>e.status==="dirty",Vf=e=>e.status==="valid",eg=e=>typeof Promise<"u"&&e instanceof Promise;function Y1(e,t,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function $I(e,t,r,s,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Ht;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ht||(Ht={}));var vx,bx;class Gl{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hO=(e,t)=>{if(Vf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Bi(e.common.issues);return this._error=r,this._error}}};function pr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var u,f;const{message:h}=e;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(u=h??s)!==null&&u!==void 0?u:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(f=h??r)!==null&&f!==void 0?f:l.defaultError}},description:a}}class vr{get description(){return this._def.description}_getType(t){return Tc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Tc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Da,ctx:{common:t.parent.common,data:t.data,parsedType:Tc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(eg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Tc(t)},i=this._parseSync({data:t,path:a.path,parent:a});return hO(a,i)}"~validate"(t){var r,s;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Tc(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return Vf(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((s=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>Vf(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Tc(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(eg(a)?a:Promise.resolve(a));return hO(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ht.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new sl({schema:this,typeName:lr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $l.create(this,this._def)}nullable(){return Eu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jo.create(this)}promise(){return g0.create(this,this._def)}or(t){return ng.create([this,t],this._def)}and(t){return ag.create(this,t,this._def)}transform(t){return new sl({...pr(this._def),schema:this,typeName:lr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new dg({...pr(this._def),innerType:this,defaultValue:r,typeName:lr.ZodDefault})}brand(){return new kT({typeName:lr.ZodBranded,type:this,...pr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ug({...pr(this._def),innerType:this,catchValue:r,typeName:lr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Xg.create(this,t)}readonly(){return fg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tZ=/^c[^\s-]{8,}$/i,rZ=/^[0-9a-z]+$/,sZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,nZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aZ=/^[a-z0-9_-]{21}$/i,iZ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let S2;const dZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mZ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pZ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,UI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xZ=new RegExp(`^${UI}$`);function VI(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function gZ(e){return new RegExp(`^${VI(e)}$`)}function qI(e){let t=`${UI}T${VI(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function yZ(e,t){return!!((t==="v4"||!t)&&dZ.test(e)||(t==="v6"||!t)&&fZ.test(e))}function vZ(e,t){if(!iZ.test(e))return!1;try{const[r]=e.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function bZ(e,t){return!!((t==="v4"||!t)&&uZ.test(e)||(t==="v6"||!t)&&hZ.test(e))}class Xo extends vr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Pt.string){const i=this._getOrReturnCtx(t);return Ct(i,{code:ht.invalid_type,expected:Pt.string,received:i.parsedType}),fr}const s=new Da;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ct(a,{code:ht.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ct(a,{code:ht.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Ct(a,{code:ht.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ct(a,{code:ht.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")lZ.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"email",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")S2||(S2=new RegExp(cZ,"u")),S2.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"emoji",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")nZ.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"uuid",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")aZ.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"nanoid",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")tZ.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"cuid",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")rZ.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"cuid2",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")sZ.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"ulid",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ct(a,{validation:"url",code:ht.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"regex",code:ht.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ct(a,{code:ht.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ct(a,{code:ht.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ct(a,{code:ht.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?qI(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{code:ht.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?xZ.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{code:ht.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?gZ(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{code:ht.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?oZ.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"duration",code:ht.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?yZ(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"ip",code:ht.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?vZ(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"jwt",code:ht.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?bZ(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"cidr",code:ht.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?mZ.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"base64",code:ht.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?pZ.test(t.data)||(a=this._getOrReturnCtx(t,a),Ct(a,{validation:"base64url",code:ht.invalid_string,message:i.message}),s.dirty()):Lr.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:ht.invalid_string,...Ht.errToObj(s)})}_addCheck(t){return new Xo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ht.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ht.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ht.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ht.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ht.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ht.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ht.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ht.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ht.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ht.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ht.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ht.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ht.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...Ht.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ht.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ht.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ht.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ht.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ht.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ht.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ht.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ht.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ht.errToObj(r)})}nonempty(t){return this.min(1,Ht.errToObj(t))}trim(){return new Xo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Xo.create=e=>{var t;return new Xo({checks:[],typeName:lr.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...pr(e)})};function wZ(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Nu extends vr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Pt.number){const i=this._getOrReturnCtx(t);return Ct(i,{code:ht.invalid_type,expected:Pt.number,received:i.parsedType}),fr}let s;const a=new Da;for(const i of this._def.checks)i.kind==="int"?Lr.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{code:ht.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),Ct(s,{code:ht.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),Ct(s,{code:ht.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?wZ(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),Ct(s,{code:ht.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{code:ht.not_finite,message:i.message}),a.dirty()):Lr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ht.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ht.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ht.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ht.toString(r))}setLimit(t,r,s,a){return new Nu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ht.toString(a)}]})}_addCheck(t){return new Nu({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ht.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ht.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ht.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ht.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ht.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ht.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Lr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Nu.create=e=>new Nu({checks:[],typeName:lr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...pr(e)});class ju extends vr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Pt.bigint)return this._getInvalidInput(t);let s;const a=new Da;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),Ct(s,{code:ht.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),Ct(s,{code:ht.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),Ct(s,{code:ht.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Lr.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ct(r,{code:ht.invalid_type,expected:Pt.bigint,received:r.parsedType}),fr}gte(t,r){return this.setLimit("min",t,!0,Ht.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ht.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ht.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ht.toString(r))}setLimit(t,r,s,a){return new ju({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ht.toString(a)}]})}_addCheck(t){return new ju({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ht.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ht.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ju.create=e=>{var t;return new ju({checks:[],typeName:lr.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...pr(e)})};class tg extends vr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Pt.boolean){const s=this._getOrReturnCtx(t);return Ct(s,{code:ht.invalid_type,expected:Pt.boolean,received:s.parsedType}),fr}return Ga(t.data)}}tg.create=e=>new tg({typeName:lr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...pr(e)});class qf extends vr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Pt.date){const i=this._getOrReturnCtx(t);return Ct(i,{code:ht.invalid_type,expected:Pt.date,received:i.parsedType}),fr}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ct(i,{code:ht.invalid_date}),fr}const s=new Da;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ct(a,{code:ht.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ct(a,{code:ht.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Lr.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new qf({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ht.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ht.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}qf.create=e=>new qf({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:lr.ZodDate,...pr(e)});class K1 extends vr{_parse(t){if(this._getType(t)!==Pt.symbol){const s=this._getOrReturnCtx(t);return Ct(s,{code:ht.invalid_type,expected:Pt.symbol,received:s.parsedType}),fr}return Ga(t.data)}}K1.create=e=>new K1({typeName:lr.ZodSymbol,...pr(e)});class rg extends vr{_parse(t){if(this._getType(t)!==Pt.undefined){const s=this._getOrReturnCtx(t);return Ct(s,{code:ht.invalid_type,expected:Pt.undefined,received:s.parsedType}),fr}return Ga(t.data)}}rg.create=e=>new rg({typeName:lr.ZodUndefined,...pr(e)});class sg extends vr{_parse(t){if(this._getType(t)!==Pt.null){const s=this._getOrReturnCtx(t);return Ct(s,{code:ht.invalid_type,expected:Pt.null,received:s.parsedType}),fr}return Ga(t.data)}}sg.create=e=>new sg({typeName:lr.ZodNull,...pr(e)});class x0 extends vr{constructor(){super(...arguments),this._any=!0}_parse(t){return Ga(t.data)}}x0.create=e=>new x0({typeName:lr.ZodAny,...pr(e)});class Pf extends vr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ga(t.data)}}Pf.create=e=>new Pf({typeName:lr.ZodUnknown,...pr(e)});class qc extends vr{_parse(t){const r=this._getOrReturnCtx(t);return Ct(r,{code:ht.invalid_type,expected:Pt.never,received:r.parsedType}),fr}}qc.create=e=>new qc({typeName:lr.ZodNever,...pr(e)});class X1 extends vr{_parse(t){if(this._getType(t)!==Pt.undefined){const s=this._getOrReturnCtx(t);return Ct(s,{code:ht.invalid_type,expected:Pt.void,received:s.parsedType}),fr}return Ga(t.data)}}X1.create=e=>new X1({typeName:lr.ZodVoid,...pr(e)});class Jo extends vr{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==Pt.array)return Ct(r,{code:ht.invalid_type,expected:Pt.array,received:r.parsedType}),fr;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ct(r,{code:o?ht.too_big:ht.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ct(r,{code:ht.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ct(r,{code:ht.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Gl(r,o,r.path,l)))).then(o=>Da.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Gl(r,o,r.path,l)));return Da.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Jo({...this._def,minLength:{value:t,message:Ht.toString(r)}})}max(t,r){return new Jo({...this._def,maxLength:{value:t,message:Ht.toString(r)}})}length(t,r){return new Jo({...this._def,exactLength:{value:t,message:Ht.toString(r)}})}nonempty(t){return this.min(1,t)}}Jo.create=(e,t)=>new Jo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:lr.ZodArray,...pr(t)});function ym(e){if(e instanceof $s){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=$l.create(ym(s))}return new $s({...e._def,shape:()=>t})}else return e instanceof Jo?new Jo({...e._def,type:ym(e.element)}):e instanceof $l?$l.create(ym(e.unwrap())):e instanceof Eu?Eu.create(ym(e.unwrap())):e instanceof Yl?Yl.create(e.items.map(t=>ym(t))):e}class $s extends vr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Lr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Pt.object){const f=this._getOrReturnCtx(t);return Ct(f,{code:ht.invalid_type,expected:Pt.object,received:f.parsedType}),fr}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof qc&&this._def.unknownKeys==="strip"))for(const f in a.data)o.includes(f)||l.push(f);const u=[];for(const f of o){const h=i[f],x=a.data[f];u.push({key:{status:"valid",value:f},value:h._parse(new Gl(a,x,a.path,f)),alwaysSet:f in a.data})}if(this._def.catchall instanceof qc){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of l)u.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(f==="strict")l.length>0&&(Ct(a,{code:ht.unrecognized_keys,keys:l}),s.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of l){const x=a.data[h];u.push({key:{status:"valid",value:h},value:f._parse(new Gl(a,x,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of u){const x=await h.key,p=await h.value;f.push({key:x,value:p,alwaysSet:h.alwaysSet})}return f}).then(f=>Da.mergeObjectSync(s,f)):Da.mergeObjectSync(s,u)}get shape(){return this._def.shape()}strict(t){return Ht.errToObj,new $s({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i,o,l;const u=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=Ht.errToObj(t).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new $s({...this._def,unknownKeys:"strip"})}passthrough(){return new $s({...this._def,unknownKeys:"passthrough"})}extend(t){return new $s({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new $s({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:lr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new $s({...this._def,catchall:t})}pick(t){const r={};return Lr.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new $s({...this._def,shape:()=>r})}omit(t){const r={};return Lr.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new $s({...this._def,shape:()=>r})}deepPartial(){return ym(this)}partial(t){const r={};return Lr.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}),new $s({...this._def,shape:()=>r})}required(t){const r={};return Lr.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof $l;)i=i._def.innerType;r[s]=i}}),new $s({...this._def,shape:()=>r})}keyof(){return zI(Lr.objectKeys(this.shape))}}$s.create=(e,t)=>new $s({shape:()=>e,unknownKeys:"strip",catchall:qc.create(),typeName:lr.ZodObject,...pr(t)});$s.strictCreate=(e,t)=>new $s({shape:()=>e,unknownKeys:"strict",catchall:qc.create(),typeName:lr.ZodObject,...pr(t)});$s.lazycreate=(e,t)=>new $s({shape:e,unknownKeys:"strip",catchall:qc.create(),typeName:lr.ZodObject,...pr(t)});class ng extends vr{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Bi(l.ctx.common.issues));return Ct(r,{code:ht.invalid_union,unionErrors:o}),fr}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const u of s){const f={...r,common:{...r.common,issues:[]},parent:null},h=u._parseSync({data:r.data,path:r.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(u=>new Bi(u));return Ct(r,{code:ht.invalid_union,unionErrors:l}),fr}}get options(){return this._def.options}}ng.create=(e,t)=>new ng({options:e,typeName:lr.ZodUnion,...pr(t)});const Ac=e=>e instanceof og?Ac(e.schema):e instanceof sl?Ac(e.innerType()):e instanceof lg?[e.value]:e instanceof Su?e.options:e instanceof cg?Lr.objectValues(e.enum):e instanceof dg?Ac(e._def.innerType):e instanceof rg?[void 0]:e instanceof sg?[null]:e instanceof $l?[void 0,...Ac(e.unwrap())]:e instanceof Eu?[null,...Ac(e.unwrap())]:e instanceof kT||e instanceof fg?Ac(e.unwrap()):e instanceof ug?Ac(e._def.innerType):[];class aw extends vr{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Pt.object)return Ct(r,{code:ht.invalid_type,expected:Pt.object,received:r.parsedType}),fr;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Ct(r,{code:ht.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),fr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=Ac(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new aw({typeName:lr.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...pr(s)})}}function OE(e,t){const r=Tc(e),s=Tc(t);if(e===t)return{valid:!0,data:e};if(r===Pt.object&&s===Pt.object){const a=Lr.objectKeys(t),i=Lr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const u=OE(e[l],t[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(r===Pt.array&&s===Pt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],u=OE(o,l);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return r===Pt.date&&s===Pt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ag extends vr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(kE(i)||kE(o))return fr;const l=OE(i.value,o.value);return l.valid?((DE(i)||DE(o))&&r.dirty(),{status:r.value,value:l.data}):(Ct(s,{code:ht.invalid_intersection_types}),fr)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}ag.create=(e,t,r)=>new ag({left:e,right:t,typeName:lr.ZodIntersection,...pr(r)});class Yl extends vr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pt.array)return Ct(s,{code:ht.invalid_type,expected:Pt.array,received:s.parsedType}),fr;if(s.data.length<this._def.items.length)return Ct(s,{code:ht.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fr;!this._def.rest&&s.data.length>this._def.items.length&&(Ct(s,{code:ht.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Gl(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Da.mergeArray(r,o)):Da.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Yl({...this._def,rest:t})}}Yl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yl({items:e,typeName:lr.ZodTuple,rest:null,...pr(t)})};class ig extends vr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pt.object)return Ct(s,{code:ht.invalid_type,expected:Pt.object,received:s.parsedType}),fr;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new Gl(s,l,s.path,l)),value:o._parse(new Gl(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Da.mergeObjectAsync(r,a):Da.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof vr?new ig({keyType:t,valueType:r,typeName:lr.ZodRecord,...pr(s)}):new ig({keyType:Xo.create(),valueType:t,typeName:lr.ZodRecord,...pr(r)})}}class Q1 extends vr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pt.map)return Ct(s,{code:ht.invalid_type,expected:Pt.map,received:s.parsedType}),fr;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,u],f)=>({key:a._parse(new Gl(s,l,s.path,[f,"key"])),value:i._parse(new Gl(s,u,s.path,[f,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const f=await u.key,h=await u.value;if(f.status==="aborted"||h.status==="aborted")return fr;(f.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(f.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const u of o){const f=u.key,h=u.value;if(f.status==="aborted"||h.status==="aborted")return fr;(f.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(f.value,h.value)}return{status:r.value,value:l}}}}Q1.create=(e,t,r)=>new Q1({valueType:t,keyType:e,typeName:lr.ZodMap,...pr(r)});class zf extends vr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pt.set)return Ct(s,{code:ht.invalid_type,expected:Pt.set,received:s.parsedType}),fr;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(Ct(s,{code:ht.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(Ct(s,{code:ht.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(u){const f=new Set;for(const h of u){if(h.status==="aborted")return fr;h.status==="dirty"&&r.dirty(),f.add(h.value)}return{status:r.value,value:f}}const l=[...s.data.values()].map((u,f)=>i._parse(new Gl(s,u,s.path,f)));return s.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(t,r){return new zf({...this._def,minSize:{value:t,message:Ht.toString(r)}})}max(t,r){return new zf({...this._def,maxSize:{value:t,message:Ht.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}zf.create=(e,t)=>new zf({valueType:e,minSize:null,maxSize:null,typeName:lr.ZodSet,...pr(t)});class $m extends vr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Pt.function)return Ct(r,{code:ht.invalid_type,expected:Pt.function,received:r.parsedType}),fr;function s(l,u){return G1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,W1(),p0].filter(f=>!!f),issueData:{code:ht.invalid_arguments,argumentsError:u}})}function a(l,u){return G1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,W1(),p0].filter(f=>!!f),issueData:{code:ht.invalid_return_type,returnTypeError:u}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof g0){const l=this;return Ga(async function(...u){const f=new Bi([]),h=await l._def.args.parseAsync(u,i).catch(y=>{throw f.addIssue(s(u,y)),f}),x=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(x,i).catch(y=>{throw f.addIssue(a(x,y)),f})})}else{const l=this;return Ga(function(...u){const f=l._def.args.safeParse(u,i);if(!f.success)throw new Bi([s(u,f.error)]);const h=Reflect.apply(o,this,f.data),x=l._def.returns.safeParse(h,i);if(!x.success)throw new Bi([a(h,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new $m({...this._def,args:Yl.create(t).rest(Pf.create())})}returns(t){return new $m({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new $m({args:t||Yl.create([]).rest(Pf.create()),returns:r||Pf.create(),typeName:lr.ZodFunction,...pr(s)})}}class og extends vr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}og.create=(e,t)=>new og({getter:e,typeName:lr.ZodLazy,...pr(t)});class lg extends vr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ct(r,{received:r.data,code:ht.invalid_literal,expected:this._def.value}),fr}return{status:"valid",value:t.data}}get value(){return this._def.value}}lg.create=(e,t)=>new lg({value:e,typeName:lr.ZodLiteral,...pr(t)});function zI(e,t){return new Su({values:e,typeName:lr.ZodEnum,...pr(t)})}class Su extends vr{constructor(){super(...arguments),vx.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return Ct(r,{expected:Lr.joinValues(s),received:r.parsedType,code:ht.invalid_type}),fr}if(Y1(this,vx)||$I(this,vx,new Set(this._def.values)),!Y1(this,vx).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return Ct(r,{received:r.data,code:ht.invalid_enum_value,options:s}),fr}return Ga(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Su.create(t,{...this._def,...r})}exclude(t,r=this._def){return Su.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}vx=new WeakMap;Su.create=zI;class cg extends vr{constructor(){super(...arguments),bx.set(this,void 0)}_parse(t){const r=Lr.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Pt.string&&s.parsedType!==Pt.number){const a=Lr.objectValues(r);return Ct(s,{expected:Lr.joinValues(a),received:s.parsedType,code:ht.invalid_type}),fr}if(Y1(this,bx)||$I(this,bx,new Set(Lr.getValidEnumValues(this._def.values))),!Y1(this,bx).has(t.data)){const a=Lr.objectValues(r);return Ct(s,{received:s.data,code:ht.invalid_enum_value,options:a}),fr}return Ga(t.data)}get enum(){return this._def.values}}bx=new WeakMap;cg.create=(e,t)=>new cg({values:e,typeName:lr.ZodNativeEnum,...pr(t)});class g0 extends vr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Pt.promise&&r.common.async===!1)return Ct(r,{code:ht.invalid_type,expected:Pt.promise,received:r.parsedType}),fr;const s=r.parsedType===Pt.promise?r.data:Promise.resolve(r.data);return Ga(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}g0.create=(e,t)=>new g0({type:e,typeName:lr.ZodPromise,...pr(t)});class sl extends vr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===lr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Ct(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return fr;const u=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return u.status==="aborted"?fr:u.status==="dirty"||r.value==="dirty"?Cm(u.value):u});{if(r.value==="aborted")return fr;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?fr:l.status==="dirty"||r.value==="dirty"?Cm(l.value):l}}if(a.type==="refinement"){const o=l=>{const u=a.refinement(l,i);if(s.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?fr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?fr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Vf(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Vf(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);Lr.assertNever(a)}}sl.create=(e,t,r)=>new sl({schema:e,typeName:lr.ZodEffects,effect:t,...pr(r)});sl.createWithPreprocess=(e,t,r)=>new sl({schema:t,effect:{type:"preprocess",transform:e},typeName:lr.ZodEffects,...pr(r)});class $l extends vr{_parse(t){return this._getType(t)===Pt.undefined?Ga(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$l.create=(e,t)=>new $l({innerType:e,typeName:lr.ZodOptional,...pr(t)});class Eu extends vr{_parse(t){return this._getType(t)===Pt.null?Ga(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Eu.create=(e,t)=>new Eu({innerType:e,typeName:lr.ZodNullable,...pr(t)});class dg extends vr{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===Pt.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}dg.create=(e,t)=>new dg({innerType:e,typeName:lr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...pr(t)});class ug extends vr{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return eg(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Bi(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Bi(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}ug.create=(e,t)=>new ug({innerType:e,typeName:lr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...pr(t)});class Z1 extends vr{_parse(t){if(this._getType(t)!==Pt.nan){const s=this._getOrReturnCtx(t);return Ct(s,{code:ht.invalid_type,expected:Pt.nan,received:s.parsedType}),fr}return{status:"valid",value:t.data}}}Z1.create=e=>new Z1({typeName:lr.ZodNaN,...pr(e)});const NZ=Symbol("zod_brand");class kT extends vr{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class Xg extends vr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?fr:i.status==="dirty"?(r.dirty(),Cm(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?fr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new Xg({in:t,out:r,typeName:lr.ZodPipeline})}}class fg extends vr{_parse(t){const r=this._def.innerType._parse(t),s=a=>(Vf(a)&&(a.value=Object.freeze(a.value)),a);return eg(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}fg.create=(e,t)=>new fg({innerType:e,typeName:lr.ZodReadonly,...pr(t)});function mO(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function DT(e,t={},r){return e?x0.create().superRefine((s,a)=>{var i,o;const l=e(s);if(l instanceof Promise)return l.then(u=>{var f,h;if(!u){const x=mO(t,s),p=(h=(f=x.fatal)!==null&&f!==void 0?f:r)!==null&&h!==void 0?h:!0;a.addIssue({code:"custom",...x,fatal:p})}});if(!l){const u=mO(t,s),f=(o=(i=u.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...u,fatal:f})}}):x0.create()}const jZ={object:$s.lazycreate};var lr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(lr||(lr={}));const OT=(e,t={message:`Input not instance of ${e.name}`})=>DT(r=>r instanceof e,t),ct=Xo.create,xi=Nu.create,SZ=Z1.create,EZ=ju.create,nl=tg.create,zc=qf.create,AZ=K1.create,TZ=rg.create,CZ=sg.create,RE=x0.create,_Z=Pf.create,kZ=qc.create,DZ=X1.create,lh=Jo.create,ws=$s.create,OZ=$s.strictCreate,HI=ng.create,RZ=aw.create,PZ=ag.create,MZ=Yl.create,IZ=ig.create,FZ=Q1.create,LZ=zf.create,BZ=$m.create,$Z=og.create,Um=lg.create,RT=Su.create,UZ=cg.create,VZ=g0.create,pO=sl.create,qZ=$l.create,zZ=Eu.create,PT=sl.createWithPreprocess,HZ=Xg.create,WZ=()=>ct().optional(),GZ=()=>xi().optional(),YZ=()=>nl().optional(),Ln={string:e=>Xo.create({...e,coerce:!0}),number:e=>Nu.create({...e,coerce:!0}),boolean:e=>tg.create({...e,coerce:!0}),bigint:e=>ju.create({...e,coerce:!0}),date:e=>qf.create({...e,coerce:!0})},KZ=fr;var Tr=Object.freeze({__proto__:null,defaultErrorMap:p0,setErrorMap:JQ,getErrorMap:W1,makeIssue:G1,EMPTY_PATH:eZ,addIssueToContext:Ct,ParseStatus:Da,INVALID:fr,DIRTY:Cm,OK:Ga,isAborted:kE,isDirty:DE,isValid:Vf,isAsync:eg,get util(){return Lr},get objectUtil(){return _E},ZodParsedType:Pt,getParsedType:Tc,ZodType:vr,datetimeRegex:qI,ZodString:Xo,ZodNumber:Nu,ZodBigInt:ju,ZodBoolean:tg,ZodDate:qf,ZodSymbol:K1,ZodUndefined:rg,ZodNull:sg,ZodAny:x0,ZodUnknown:Pf,ZodNever:qc,ZodVoid:X1,ZodArray:Jo,ZodObject:$s,ZodUnion:ng,ZodDiscriminatedUnion:aw,ZodIntersection:ag,ZodTuple:Yl,ZodRecord:ig,ZodMap:Q1,ZodSet:zf,ZodFunction:$m,ZodLazy:og,ZodLiteral:lg,ZodEnum:Su,ZodNativeEnum:cg,ZodPromise:g0,ZodEffects:sl,ZodTransformer:sl,ZodOptional:$l,ZodNullable:Eu,ZodDefault:dg,ZodCatch:ug,ZodNaN:Z1,BRAND:NZ,ZodBranded:kT,ZodPipeline:Xg,ZodReadonly:fg,custom:DT,Schema:vr,ZodSchema:vr,late:jZ,get ZodFirstPartyTypeKind(){return lr},coerce:Ln,any:RE,array:lh,bigint:EZ,boolean:nl,date:zc,discriminatedUnion:RZ,effect:pO,enum:RT,function:BZ,instanceof:OT,intersection:PZ,lazy:$Z,literal:Um,map:FZ,nan:SZ,nativeEnum:UZ,never:kZ,null:CZ,nullable:zZ,number:xi,object:ws,oboolean:YZ,onumber:GZ,optional:qZ,ostring:WZ,pipeline:HZ,preprocess:PT,promise:VZ,record:IZ,set:LZ,strictObject:OZ,string:ct,symbol:AZ,transformer:pO,tuple:MZ,undefined:TZ,union:HI,unknown:_Z,void:DZ,NEVER:KZ,ZodIssueCode:ht,quotelessJson:ZQ,ZodError:Bi});function dt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function xO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function td(...e){return t=>{let r=!1;const s=e.map(a=>{const i=xO(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():xO(e[a],null)}}}}function Ft(...e){return g.useCallback(td(...e),e)}function WI(e,t){const r=g.createContext(t),s=i=>{const{children:o,...l}=i,u=g.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:u,children:o})};s.displayName=e+"Provider";function a(i){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function zn(e,t=[]){let r=[];function s(i,o){const l=g.createContext(o),u=r.length;r=[...r,o];const f=x=>{var j;const{scope:p,children:y,...N}=x,b=((j=p==null?void 0:p[e])==null?void 0:j[u])||l,w=g.useMemo(()=>N,Object.values(N));return n.jsx(b.Provider,{value:w,children:y})};f.displayName=i+"Provider";function h(x,p){var b;const y=((b=p==null?void 0:p[e])==null?void 0:b[u])||l,N=g.useContext(y);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${x}\` must be used within \`${i}\``)}return[f,h]}const a=()=>{const i=r.map(o=>g.createContext(o));return function(l){const u=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return a.scopeName=e,[s,XZ(a,...t)]}function XZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:u,scopeName:f})=>{const x=u(i)[`__scope${f}`];return{...l,...x}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var gs=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},QZ=hT[" useId ".trim().toString()]||(()=>{}),ZZ=0;function Ha(e){const[t,r]=g.useState(QZ());return gs(()=>{r(s=>s??String(ZZ++))},[e]),e||(t?`radix-${t}`:"")}var JZ=hT[" useInsertionEffect ".trim().toString()]||gs;function jo({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=eJ({defaultProp:t,onChange:r}),l=e!==void 0,u=l?e:a;{const h=g.useRef(e!==void 0);g.useEffect(()=>{const x=h.current;x!==l&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,s])}const f=g.useCallback(h=>{var x;if(l){const p=tJ(h)?h(e):h;p!==e&&((x=o.current)==null||x.call(o,p))}else i(h)},[l,e,i,o]);return[u,f]}function eJ({defaultProp:e,onChange:t}){const[r,s]=g.useState(e),a=g.useRef(r),i=g.useRef(t);return JZ(()=>{i.current=t},[t]),g.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,s,i]}function tJ(e){return typeof e=="function"}function F0(e){const t=rJ(e),r=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),u=l.find(nJ);if(u){const f=u.props.children,h=l.map(x=>x===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:x);return n.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var iw=F0("Slot");function rJ(e){const t=g.forwardRef((r,s)=>{const{children:a,...i}=r,o=g.isValidElement(a)?iJ(a):void 0,l=Ft(o,s);if(g.isValidElement(a)){const u=aJ(i,a.props);return a.type!==g.Fragment&&(u.ref=l),g.cloneElement(a,u)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sJ=Symbol("radix.slottable");function nJ(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sJ}function aJ(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const u=i(...l);return a(...l),u}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function iJ(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var oJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],GI=oJ.reduce((e,t)=>{const r=F0(`Primitive.${t}`),s=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function lJ(e,t){e&&oh.flushSync(()=>e.dispatchEvent(t))}function _r(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function L0(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e);g.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var cJ="DismissableLayer",PE="dismissableLayer.update",dJ="dismissableLayer.pointerDownOutside",uJ="dismissableLayer.focusOutside",gO,YI=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),KI=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(YI),[h,x]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),N=Ft(t,_=>x(_)),b=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(w),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,C=S>=j,T=mJ(_=>{const O=_.target,P=[...f.branches].some(B=>B.contains(O));!C||P||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},p),D=pJ(_=>{const O=_.target;[...f.branches].some(B=>B.contains(O))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},p);return L0(_=>{S===f.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},p),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(gO=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),yO(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=gO)}},[h,p,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),yO())},[h,f]),g.useEffect(()=>{const _=()=>y({});return document.addEventListener(PE,_),()=>document.removeEventListener(PE,_)},[]),n.jsx(GI.div,{...u,ref:N,style:{pointerEvents:A?C?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,T.onPointerDownCapture)})});KI.displayName=cJ;var fJ="DismissableLayerBranch",hJ=g.forwardRef((e,t)=>{const r=g.useContext(YI),s=g.useRef(null),a=Ft(t,s);return g.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(GI.div,{...e,ref:a})});hJ.displayName=fJ;function mJ(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){XI(dJ,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function pJ(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!s.current&&XI(uJ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function yO(){const e=new CustomEvent(PE);document.dispatchEvent(e)}function XI(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?lJ(a,i):a.dispatchEvent(i)}var xJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gJ=xJ.reduce((e,t)=>{const r=F0(`Primitive.${t}`),s=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),E2="focusScope.autoFocusOnMount",A2="focusScope.autoFocusOnUnmount",vO={bubbles:!1,cancelable:!0},yJ="FocusScope",QI=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=_r(a),h=_r(i),x=g.useRef(null),p=Ft(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let b=function(A){if(y.paused||!l)return;const C=A.target;l.contains(C)?x.current=C:Wd(x.current,{select:!0})},w=function(A){if(y.paused||!l)return;const C=A.relatedTarget;C!==null&&(l.contains(C)||Wd(x.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&Wd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),S.disconnect()}}},[s,l,y.paused]),g.useEffect(()=>{if(l){wO.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(E2,vO);l.addEventListener(E2,f),l.dispatchEvent(j),j.defaultPrevented||(vJ(SJ(ZI(l)),{select:!0}),document.activeElement===b&&Wd(l))}return()=>{l.removeEventListener(E2,f),setTimeout(()=>{const j=new CustomEvent(A2,vO);l.addEventListener(A2,h),l.dispatchEvent(j),j.defaultPrevented||Wd(b??document.body,{select:!0}),l.removeEventListener(A2,h),wO.remove(y)},0)}}},[l,f,h,y]);const N=g.useCallback(b=>{if(!r&&!s||y.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(w&&j){const S=b.currentTarget,[A,C]=bJ(S);A&&C?!b.shiftKey&&j===C?(b.preventDefault(),r&&Wd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Wd(C,{select:!0})):j===S&&b.preventDefault()}},[r,s,y.paused]);return n.jsx(gJ.div,{tabIndex:-1,...o,ref:p,onKeyDown:N})});QI.displayName=yJ;function vJ(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Wd(s,{select:t}),document.activeElement!==r)return}function bJ(e){const t=ZI(e),r=bO(t,e),s=bO(t.reverse(),e);return[r,s]}function ZI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function bO(e,t){for(const r of e)if(!wJ(r,{upTo:t}))return r}function wJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function NJ(e){return e instanceof HTMLInputElement&&"select"in e}function Wd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&NJ(e)&&t&&e.select()}}var wO=jJ();function jJ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=NO(e,t),e.unshift(t)},remove(t){var r;e=NO(e,t),(r=e[0])==null||r.resume()}}}function NO(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function SJ(e){return e.filter(t=>t.tagName!=="A")}var EJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AJ=EJ.reduce((e,t)=>{const r=F0(`Primitive.${t}`),s=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),TJ="Portal",JI=g.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=g.useState(!1);gs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(n.jsx(AJ.div,{...s,ref:t}),o):null});JI.displayName=TJ;function CJ(e,t){return g.useReducer((r,s)=>t[r][s]??r,e)}var ow=e=>{const{present:t,children:r}=e,s=_J(t),a=typeof r=="function"?r({present:s.isPresent}):g.Children.only(r),i=Ft(s.ref,kJ(a));return typeof r=="function"||s.isPresent?g.cloneElement(a,{ref:i}):null};ow.displayName="Presence";function _J(e){const[t,r]=g.useState(),s=g.useRef(null),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,u]=CJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const f=$v(s.current);i.current=l==="mounted"?f:"none"},[l]),gs(()=>{const f=s.current,h=a.current;if(h!==e){const p=i.current,y=$v(f);e?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),gs(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,x=y=>{const b=$v(s.current).includes(y.animationName);if(y.target===t&&b&&(u("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=y=>{y.target===t&&(i.current=$v(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(f=>{s.current=f?getComputedStyle(f):null,r(f)},[])}}function $v(e){return(e==null?void 0:e.animationName)||"none"}function kJ(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var DJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qg=DJ.reduce((e,t)=>{const r=F0(`Primitive.${t}`),s=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),T2=0;function Zg(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??jO()),document.body.insertAdjacentElement("beforeend",e[1]??jO()),T2++,()=>{T2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),T2--}},[])}function jO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fl=function(){return Fl=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Fl.apply(this,arguments)};function eF(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function OJ(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var T1="right-scroll-bar-position",C1="width-before-scroll-bar",RJ="with-scroll-bars-hidden",PJ="--removed-body-scroll-bar-size";function C2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function MJ(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var IJ=typeof window<"u"?g.useLayoutEffect:g.useEffect,SO=new WeakMap;function FJ(e,t){var r=MJ(null,function(s){return e.forEach(function(a){return C2(a,s)})});return IJ(function(){var s=SO.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||C2(l,null)}),i.forEach(function(l){a.has(l)||C2(l,o)})}SO.set(r,e)},[e]),r}function LJ(e){return e}function BJ(e,t){t===void 0&&(t=LJ);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var u=function(){var h=o;o=[],h.forEach(i)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(h){o.push(h),f()},filter:function(h){return o=o.filter(h),r}}}};return a}function $J(e){e===void 0&&(e={});var t=BJ(null);return t.options=Fl({async:!0,ssr:!1},e),t}var tF=function(e){var t=e.sideCar,r=eF(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,Fl({},r))};tF.isSideCarExport=!0;function UJ(e,t){return e.useMedium(t),tF}var rF=$J(),_2=function(){},lw=g.forwardRef(function(e,t){var r=g.useRef(null),s=g.useState({onScrollCapture:_2,onWheelCapture:_2,onTouchMoveCapture:_2}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,u=e.className,f=e.removeScrollBar,h=e.enabled,x=e.shards,p=e.sideCar,y=e.noIsolation,N=e.inert,b=e.allowPinchZoom,w=e.as,j=w===void 0?"div":w,S=e.gapMode,A=eF(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,T=FJ([r,t]),D=Fl(Fl({},A),a);return g.createElement(g.Fragment,null,h&&g.createElement(C,{sideCar:rF,removeScrollBar:f,shards:x,noIsolation:y,inert:N,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:S}),o?g.cloneElement(g.Children.only(l),Fl(Fl({},D),{ref:T})):g.createElement(j,Fl({},D,{className:u,ref:T}),l))});lw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lw.classNames={fullWidth:C1,zeroRight:T1};var VJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VJ();return t&&e.setAttribute("nonce",t),e}function zJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function HJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WJ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=qJ())&&(zJ(t,r),HJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GJ=function(){var e=WJ();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},sF=function(){var e=GJ(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},YJ={left:0,top:0,right:0,gap:0},k2=function(e){return parseInt(e||"",10)||0},KJ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[k2(r),k2(s),k2(a)]},XJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return YJ;var t=KJ(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},QJ=sF(),Vm="data-scroll-locked",ZJ=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(RJ,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Vm,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(T1,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(C1,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(T1," .").concat(T1,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(C1," .").concat(C1,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Vm,`] {
    `).concat(PJ,": ").concat(l,`px;
  }
`)},EO=function(){var e=parseInt(document.body.getAttribute(Vm)||"0",10);return isFinite(e)?e:0},JJ=function(){g.useEffect(function(){return document.body.setAttribute(Vm,(EO()+1).toString()),function(){var e=EO()-1;e<=0?document.body.removeAttribute(Vm):document.body.setAttribute(Vm,e.toString())}},[])},eee=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;JJ();var i=g.useMemo(function(){return XJ(a)},[a]);return g.createElement(QJ,{styles:ZJ(i,!t,a,r?"":"!important")})},ME=!1;if(typeof window<"u")try{var Uv=Object.defineProperty({},"passive",{get:function(){return ME=!0,!0}});window.addEventListener("test",Uv,Uv),window.removeEventListener("test",Uv,Uv)}catch{ME=!1}var cm=ME?{passive:!1}:!1,tee=function(e){return e.tagName==="TEXTAREA"},nF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!tee(e)&&r[t]==="visible")},ree=function(e){return nF(e,"overflowY")},see=function(e){return nF(e,"overflowX")},AO=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=aF(e,s);if(a){var i=iF(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},nee=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},aee=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},aF=function(e,t){return e==="v"?ree(t):see(t)},iF=function(e,t){return e==="v"?nee(t):aee(t)},iee=function(e,t){return e==="h"&&t==="rtl"?-1:1},oee=function(e,t,r,s,a){var i=iee(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,u=t.contains(l),f=!1,h=o>0,x=0,p=0;do{var y=iF(e,l),N=y[0],b=y[1],w=y[2],j=b-w-i*N;(N||j)&&aF(e,l)&&(x+=j,p+=N),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(h&&Math.abs(x)<1||!h&&Math.abs(p)<1)&&(f=!0),f},Vv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},TO=function(e){return[e.deltaX,e.deltaY]},CO=function(e){return e&&"current"in e?e.current:e},lee=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cee=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dee=0,dm=[];function uee(e){var t=g.useRef([]),r=g.useRef([0,0]),s=g.useRef(),a=g.useState(dee++)[0],i=g.useState(sF)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=OJ([e.lockRef.current],(e.shards||[]).map(CO),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(b,w){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var j=Vv(b),S=r.current,A="deltaX"in b?b.deltaX:S[0]-j[0],C="deltaY"in b?b.deltaY:S[1]-j[1],T,D=b.target,_=Math.abs(A)>Math.abs(C)?"h":"v";if("touches"in b&&_==="h"&&D.type==="range")return!1;var O=AO(_,D);if(!O)return!0;if(O?T=_:(T=_==="v"?"h":"v",O=AO(_,D)),!O)return!1;if(!s.current&&"changedTouches"in b&&(A||C)&&(s.current=T),!T)return!0;var P=s.current||T;return oee(P,w,b,P==="h"?A:C)},[]),u=g.useCallback(function(b){var w=b;if(!(!dm.length||dm[dm.length-1]!==i)){var j="deltaY"in w?TO(w):Vv(w),S=t.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&lee(T.delta,j)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var A=(o.current.shards||[]).map(CO).filter(Boolean).filter(function(T){return T.contains(w.target)}),C=A.length>0?l(w,A[0]):!o.current.noIsolation;C&&w.cancelable&&w.preventDefault()}}},[]),f=g.useCallback(function(b,w,j,S){var A={name:b,delta:w,target:j,should:S,shadowParent:fee(j)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(C){return C!==A})},1)},[]),h=g.useCallback(function(b){r.current=Vv(b),s.current=void 0},[]),x=g.useCallback(function(b){f(b.type,TO(b),b.target,l(b,e.lockRef.current))},[]),p=g.useCallback(function(b){f(b.type,Vv(b),b.target,l(b,e.lockRef.current))},[]);g.useEffect(function(){return dm.push(i),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:p}),document.addEventListener("wheel",u,cm),document.addEventListener("touchmove",u,cm),document.addEventListener("touchstart",h,cm),function(){dm=dm.filter(function(b){return b!==i}),document.removeEventListener("wheel",u,cm),document.removeEventListener("touchmove",u,cm),document.removeEventListener("touchstart",h,cm)}},[]);var y=e.removeScrollBar,N=e.inert;return g.createElement(g.Fragment,null,N?g.createElement(i,{styles:cee(a)}):null,y?g.createElement(eee,{gapMode:e.gapMode}):null)}function fee(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hee=UJ(rF,uee);var ch=g.forwardRef(function(e,t){return g.createElement(lw,Fl({},e,{ref:t,sideCar:hee}))});ch.classNames=lw.classNames;var mee=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},um=new WeakMap,qv=new WeakMap,zv={},D2=0,oF=function(e){return e&&(e.host||oF(e.parentNode))},pee=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=oF(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},xee=function(e,t,r,s){var a=pee(t,Array.isArray(e)?e:[e]);zv[r]||(zv[r]=new WeakMap);var i=zv[r],o=[],l=new Set,u=new Set(a),f=function(x){!x||l.has(x)||(l.add(x),f(x.parentNode))};a.forEach(f);var h=function(x){!x||u.has(x)||Array.prototype.forEach.call(x.children,function(p){if(l.has(p))h(p);else try{var y=p.getAttribute(s),N=y!==null&&y!=="false",b=(um.get(p)||0)+1,w=(i.get(p)||0)+1;um.set(p,b),i.set(p,w),o.push(p),b===1&&N&&qv.set(p,!0),w===1&&p.setAttribute(r,"true"),N||p.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",p,j)}})};return h(t),l.clear(),D2++,function(){o.forEach(function(x){var p=um.get(x)-1,y=i.get(x)-1;um.set(x,p),i.set(x,y),p||(qv.has(x)||x.removeAttribute(s),qv.delete(x)),y||x.removeAttribute(r)}),D2--,D2||(um=new WeakMap,um=new WeakMap,qv=new WeakMap,zv={})}},B0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=mee(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),xee(s,a,r,"aria-hidden")):function(){return null}},cw="Dialog",[lF,VRe]=zn(cw),[gee,ul]=lF(cw),cF=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),u=g.useRef(null),[f,h]=jo({prop:s,defaultProp:a??!1,onChange:i,caller:cw});return n.jsx(gee,{scope:t,triggerRef:l,contentRef:u,contentId:Ha(),titleId:Ha(),descriptionId:Ha(),open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(x=>!x),[h]),modal:o,children:r})};cF.displayName=cw;var dF="DialogTrigger",uF=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ul(dF,r),i=Ft(t,a.triggerRef);return n.jsx(Qg.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":FT(a.open),...s,ref:i,onClick:dt(e.onClick,a.onOpenToggle)})});uF.displayName=dF;var MT="DialogPortal",[yee,fF]=lF(MT,{forceMount:void 0}),hF=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=ul(MT,t);return n.jsx(yee,{scope:t,forceMount:r,children:g.Children.map(s,o=>n.jsx(ow,{present:r||i.open,children:n.jsx(JI,{asChild:!0,container:a,children:o})}))})};hF.displayName=MT;var J1="DialogOverlay",mF=g.forwardRef((e,t)=>{const r=fF(J1,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ul(J1,e.__scopeDialog);return i.modal?n.jsx(ow,{present:s||i.open,children:n.jsx(bee,{...a,ref:t})}):null});mF.displayName=J1;var vee=F0("DialogOverlay.RemoveScroll"),bee=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ul(J1,r);return n.jsx(ch,{as:vee,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Qg.div,{"data-state":FT(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Hf="DialogContent",pF=g.forwardRef((e,t)=>{const r=fF(Hf,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ul(Hf,e.__scopeDialog);return n.jsx(ow,{present:s||i.open,children:i.modal?n.jsx(wee,{...a,ref:t}):n.jsx(Nee,{...a,ref:t})})});pF.displayName=Hf;var wee=g.forwardRef((e,t)=>{const r=ul(Hf,e.__scopeDialog),s=g.useRef(null),a=Ft(t,r.contentRef,s);return g.useEffect(()=>{const i=s.current;if(i)return B0(i)},[]),n.jsx(xF,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,i=>i.preventDefault())})}),Nee=g.forwardRef((e,t)=>{const r=ul(Hf,e.__scopeDialog),s=g.useRef(!1),a=g.useRef(!1);return n.jsx(xF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),xF=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ul(Hf,r),u=g.useRef(null),f=Ft(t,u);return Zg(),n.jsxs(n.Fragment,{children:[n.jsx(QI,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(KI,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":FT(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(jee,{titleId:l.titleId}),n.jsx(Eee,{contentRef:u,descriptionId:l.descriptionId})]})]})}),IT="DialogTitle",gF=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ul(IT,r);return n.jsx(Qg.h2,{id:a.titleId,...s,ref:t})});gF.displayName=IT;var yF="DialogDescription",vF=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ul(yF,r);return n.jsx(Qg.p,{id:a.descriptionId,...s,ref:t})});vF.displayName=yF;var bF="DialogClose",wF=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ul(bF,r);return n.jsx(Qg.button,{type:"button",...s,ref:t,onClick:dt(e.onClick,()=>a.onOpenChange(!1))})});wF.displayName=bF;function FT(e){return e?"open":"closed"}var NF="DialogTitleWarning",[qRe,jF]=WI(NF,{contentName:Hf,titleName:IT,docsSlug:"dialog"}),jee=({titleId:e})=>{const t=jF(NF),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},See="DialogDescriptionWarning",Eee=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jF(See).contentName}}.`;return g.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},SF=cF,Aee=uF,EF=hF,LT=mF,BT=pF,$T=gF,UT=vF,VT=wF;function AF(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=AF(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function eu(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=AF(e))&&(s&&(s+=" "),s+=t);return s}const qT="-",Tee=e=>{const t=_ee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(qT);return l[0]===""&&l.length!==1&&l.shift(),TF(l,t)||Cee(o)},getConflictingClassGroupIds:(o,l)=>{const u=r[o]||[];return l&&s[o]?[...u,...s[o]]:u}}},TF=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?TF(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(qT);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},_O=/^\[(.+)\]$/,Cee=e=>{if(_O.test(e)){const t=_O.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},_ee=e=>{const{theme:t,classGroups:r}=e,s={nextPart:new Map,validators:[]};for(const a in r)IE(r[a],s,a,t);return s},IE=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:kO(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(kee(a)){IE(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{IE(o,kO(t,i),r,s)})})},kO=(e,t)=>{let r=e;return t.split(qT).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},kee=e=>e.isThemeGetter,Dee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},FE="!",LE=":",Oee=LE.length,Ree=e=>{const{prefix:t,experimentalParseClassName:r}=e;let s=a=>{const i=[];let o=0,l=0,u=0,f;for(let N=0;N<a.length;N++){let b=a[N];if(o===0&&l===0){if(b===LE){i.push(a.slice(u,N)),u=N+Oee;continue}if(b==="/"){f=N;continue}}b==="["?o++:b==="]"?o--:b==="("?l++:b===")"&&l--}const h=i.length===0?a:a.substring(u),x=Pee(h),p=x!==h,y=f&&f>u?f-u:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:y}};if(t){const a=t+LE,i=s;s=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=s;s=i=>r({className:i,parseClassName:a})}return s},Pee=e=>e.endsWith(FE)?e.substring(0,e.length-1):e.startsWith(FE)?e.substring(1):e,Mee=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let i=[];return s.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},Iee=e=>({cache:Dee(e.cacheSize),parseClassName:Ree(e),sortModifiers:Mee(e),...Tee(e)}),Fee=/\s+/,Lee=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(Fee);let u="";for(let f=l.length-1;f>=0;f-=1){const h=l[f],{isExternal:x,modifiers:p,hasImportantModifier:y,baseClassName:N,maybePostfixModifierPosition:b}=r(h);if(x){u=h+(u.length>0?" "+u:u);continue}let w=!!b,j=s(w?N.substring(0,b):N);if(!j){if(!w){u=h+(u.length>0?" "+u:u);continue}if(j=s(N),!j){u=h+(u.length>0?" "+u:u);continue}w=!1}const S=i(p).join(":"),A=y?S+FE:S,C=A+j;if(o.includes(C))continue;o.push(C);const T=a(j,w);for(let D=0;D<T.length;++D){const _=T[D];o.push(A+_)}u=h+(u.length>0?" "+u:u)}return u};function Bee(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=CF(t))&&(s&&(s+=" "),s+=r);return s}const CF=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=CF(e[s]))&&(r&&(r+=" "),r+=t);return r};function $ee(e,...t){let r,s,a,i=o;function o(u){const f=t.reduce((h,x)=>x(h),e());return r=Iee(f),s=r.cache.get,a=r.cache.set,i=l,l(u)}function l(u){const f=s(u);if(f)return f;const h=Lee(u,r);return a(u,h),h}return function(){return i(Bee.apply(null,arguments))}}const Cn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},_F=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kF=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Uee=/^\d+\/\d+$/,Vee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Hee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fm=e=>Uee.test(e),wr=e=>!!e&&!Number.isNaN(Number(e)),Bd=e=>!!e&&Number.isInteger(Number(e)),O2=e=>e.endsWith("%")&&wr(e.slice(0,-1)),wc=e=>Vee.test(e),Gee=()=>!0,Yee=e=>qee.test(e)&&!zee.test(e),DF=()=>!1,Kee=e=>Hee.test(e),Xee=e=>Wee.test(e),Qee=e=>!$t(e)&&!Ut(e),Zee=e=>$0(e,PF,DF),$t=e=>_F.test(e),pf=e=>$0(e,MF,Yee),R2=e=>$0(e,ste,wr),DO=e=>$0(e,OF,DF),Jee=e=>$0(e,RF,Xee),Hv=e=>$0(e,IF,Kee),Ut=e=>kF.test(e),ax=e=>U0(e,MF),ete=e=>U0(e,nte),OO=e=>U0(e,OF),tte=e=>U0(e,PF),rte=e=>U0(e,RF),Wv=e=>U0(e,IF,!0),$0=(e,t,r)=>{const s=_F.exec(e);return s?s[1]?t(s[1]):r(s[2]):!1},U0=(e,t,r=!1)=>{const s=kF.exec(e);return s?s[1]?t(s[1]):r:!1},OF=e=>e==="position"||e==="percentage",RF=e=>e==="image"||e==="url",PF=e=>e==="length"||e==="size"||e==="bg-size",MF=e=>e==="length",ste=e=>e==="number",nte=e=>e==="family-name",IF=e=>e==="shadow",ate=()=>{const e=Cn("color"),t=Cn("font"),r=Cn("text"),s=Cn("font-weight"),a=Cn("tracking"),i=Cn("leading"),o=Cn("breakpoint"),l=Cn("container"),u=Cn("spacing"),f=Cn("radius"),h=Cn("shadow"),x=Cn("inset-shadow"),p=Cn("text-shadow"),y=Cn("drop-shadow"),N=Cn("blur"),b=Cn("perspective"),w=Cn("aspect"),j=Cn("ease"),S=Cn("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...C(),Ut,$t],D=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],O=()=>[Ut,$t,u],P=()=>[fm,"full","auto",...O()],B=()=>[Bd,"none","subgrid",Ut,$t],I=()=>["auto",{span:["full",Bd,Ut,$t]},Bd,Ut,$t],G=()=>[Bd,"auto",Ut,$t],z=()=>["auto","min","max","fr",Ut,$t],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...O()],U=()=>[fm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],F=()=>[e,Ut,$t],X=()=>[...C(),OO,DO,{position:[Ut,$t]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",tte,Zee,{size:[Ut,$t]}],M=()=>[O2,ax,pf],W=()=>["","none","full",f,Ut,$t],K=()=>["",wr,ax,pf],V=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[wr,O2,OO,DO],xe=()=>["","none",N,Ut,$t],ue=()=>["none",wr,Ut,$t],de=()=>["none",wr,Ut,$t],De=()=>[wr,Ut,$t],Ne=()=>[fm,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wc],breakpoint:[wc],color:[Gee],container:[wc],"drop-shadow":[wc],ease:["in","out","in-out"],font:[Qee],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wc],shadow:[wc],spacing:["px",wr],text:[wc],"text-shadow":[wc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fm,$t,Ut,w]}],container:["container"],columns:[{columns:[wr,$t,Ut,l]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Bd,"auto",Ut,$t]}],basis:[{basis:[fm,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[wr,fm,"auto","initial","none",$t]}],grow:[{grow:["",wr,Ut,$t]}],shrink:[{shrink:["",wr,Ut,$t]}],order:[{order:[Bd,"first","last","none",Ut,$t]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[l,"screen",...U()]}],"min-w":[{"min-w":[l,"screen","none",...U()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...U()]}],h:[{h:["screen",...U()]}],"min-h":[{"min-h":["screen","none",...U()]}],"max-h":[{"max-h":["screen",...U()]}],"font-size":[{text:["base",r,ax,pf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ut,R2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",O2,$t]}],"font-family":[{font:[ete,$t,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ut,$t]}],"line-clamp":[{"line-clamp":[wr,"none",Ut,R2]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",Ut,$t]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ut,$t]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[wr,"from-font","auto",Ut,pf]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[wr,"auto",Ut,$t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut,$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut,$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bd,Ut,$t],radial:["",Ut,$t],conic:[Bd,Ut,$t]},rte,Jee]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[wr,Ut,$t]}],"outline-w":[{outline:["",wr,ax,pf]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",h,Wv,Hv]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",x,Wv,Hv]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[wr,pf]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",p,Wv,Hv]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[wr,Ut,$t]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[wr]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Ut,$t]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[wr]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ut,$t]}],filter:[{filter:["","none",Ut,$t]}],blur:[{blur:xe()}],brightness:[{brightness:[wr,Ut,$t]}],contrast:[{contrast:[wr,Ut,$t]}],"drop-shadow":[{"drop-shadow":["","none",y,Wv,Hv]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",wr,Ut,$t]}],"hue-rotate":[{"hue-rotate":[wr,Ut,$t]}],invert:[{invert:["",wr,Ut,$t]}],saturate:[{saturate:[wr,Ut,$t]}],sepia:[{sepia:["",wr,Ut,$t]}],"backdrop-filter":[{"backdrop-filter":["","none",Ut,$t]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[wr,Ut,$t]}],"backdrop-contrast":[{"backdrop-contrast":[wr,Ut,$t]}],"backdrop-grayscale":[{"backdrop-grayscale":["",wr,Ut,$t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[wr,Ut,$t]}],"backdrop-invert":[{"backdrop-invert":["",wr,Ut,$t]}],"backdrop-opacity":[{"backdrop-opacity":[wr,Ut,$t]}],"backdrop-saturate":[{"backdrop-saturate":[wr,Ut,$t]}],"backdrop-sepia":[{"backdrop-sepia":["",wr,Ut,$t]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ut,$t]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[wr,"initial",Ut,$t]}],ease:[{ease:["linear","initial",j,Ut,$t]}],delay:[{delay:[wr,Ut,$t]}],animate:[{animate:["none",S,Ut,$t]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ut,$t]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[Ut,$t,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut,$t]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut,$t]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[wr,ax,pf,R2]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ite=$ee(ate);function Je(...e){return ite(eu(e))}const hs=SF,V0=Aee,ote=EF,Mc=VT,FF=g.forwardRef(({className:e,...t},r)=>n.jsx(LT,{ref:r,className:Je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));FF.displayName=LT.displayName;const ms=g.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(ote,{children:[n.jsx(FF,{}),n.jsxs(BT,{ref:s,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(VT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(vo,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ms.displayName=BT.displayName;const ps=({className:e,...t})=>n.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ps.displayName="DialogHeader";const gi=({className:e,...t})=>n.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gi.displayName="DialogFooter";const xs=g.forwardRef(({className:e,...t},r)=>n.jsx($T,{ref:r,className:Je("text-lg font-semibold leading-none tracking-tight",e),...t}));xs.displayName=$T.displayName;const Ya=g.forwardRef(({className:e,...t},r)=>n.jsx(UT,{ref:r,className:Je("text-sm text-muted-foreground",e),...t}));Ya.displayName=UT.displayName;const RO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PO=eu,dw=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return PO(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(f=>{const h=r==null?void 0:r[f],x=i==null?void 0:i[f];if(h===null)return null;const p=RO(h)||RO(x);return a[f][p]}),l=r&&Object.entries(r).reduce((f,h)=>{let[x,p]=h;return p===void 0||(f[x]=p),f},{}),u=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((f,h)=>{let{class:x,className:p,...y}=h;return Object.entries(y).every(N=>{let[b,w]=N;return Array.isArray(w)?w.includes({...i,...l}[b]):{...i,...l}[b]===w})?[...f,x,p]:f},[]);return PO(e,o,u,r==null?void 0:r.class,r==null?void 0:r.className)},y0=dw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 ",outline:"border bg-background shadow-xs hover:bg-accent hover:text-gray-700-foreground ",secondary:"bg-secondary text-white  shadow-xs hover:bg-white/80",ghost:"hover:bg-accent hover:text-gray-700-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function he({className:e,variant:t,size:r,asChild:s=!1,...a}){const i=s?iw:"button";return n.jsx(i,{"data-slot":"button",className:Je(y0({variant:t,size:r,className:e})),...a})}function tt({className:e,type:t,...r}){return n.jsx("input",{type:t,"data-slot":"input",className:Je("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}const Vn=g.forwardRef(({className:e,onChange:t,onBlur:r,...s},a)=>{const[i,o]=g.useState(!1);return n.jsxs("div",{className:"relative",children:[n.jsx(tt,{type:i?"text":"password",className:Je("hide-password-toggle pr-10",e),ref:a,onChange:t,onBlur:r,autoComplete:"new-password",...s}),n.jsxs(he,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>{o(l=>!l)},children:[i?n.jsx(DX,{className:"h-4 w-4","aria-hidden":"true"}):n.jsx(gu,{className:"h-4 w-4","aria-hidden":"true"}),n.jsx("span",{className:"sr-only",children:i?"Hide password":"Show password"})]}),n.jsx("style",{children:`
          .hide-password-toggle::-ms-reveal,
          .hide-password-toggle::-ms-clear {
            visibility: hidden;
            pointer-events: none;
            display: none;
          }
        `})]})});Vn.displayName="PasswordInput";function lte(e){const t=cte(e),r=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),u=l.find(ute);if(u){const f=u.props.children,h=l.map(x=>x===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:x);return n.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function cte(e){const t=g.forwardRef((r,s)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=hte(a),l=fte(i,a.props);return a.type!==g.Fragment&&(l.ref=s?td(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dte=Symbol("radix.slottable");function ute(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dte}function fte(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function hte(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_t=mte.reduce((e,t)=>{const r=lte(`Primitive.${t}`),s=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function q0(e,t){e&&oh.flushSync(()=>e.dispatchEvent(t))}var pte="Label",LF=g.forwardRef((e,t)=>n.jsx(_t.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));LF.displayName=pte;var xte=LF;function Te({className:e,...t}){return n.jsx(xte,{"data-slot":"label",className:Je("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function BF(e,t){return function(){return e.apply(t,arguments)}}const{toString:gte}=Object.prototype,{getPrototypeOf:zT}=Object,uw=(e=>t=>{const r=gte.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),fl=e=>(e=e.toLowerCase(),t=>uw(t)===e),fw=e=>t=>typeof t===e,{isArray:z0}=Array,hg=fw("undefined");function yte(e){return e!==null&&!hg(e)&&e.constructor!==null&&!hg(e.constructor)&&$i(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $F=fl("ArrayBuffer");function vte(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$F(e.buffer),t}const bte=fw("string"),$i=fw("function"),UF=fw("number"),hw=e=>e!==null&&typeof e=="object",wte=e=>e===!0||e===!1,_1=e=>{if(uw(e)!=="object")return!1;const t=zT(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nte=fl("Date"),jte=fl("File"),Ste=fl("Blob"),Ete=fl("FileList"),Ate=e=>hw(e)&&$i(e.pipe),Tte=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||$i(e.append)&&((t=uw(e))==="formdata"||t==="object"&&$i(e.toString)&&e.toString()==="[object FormData]"))},Cte=fl("URLSearchParams"),[_te,kte,Dte,Ote]=["ReadableStream","Request","Response","Headers"].map(fl),Rte=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jg(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),z0(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function VF(e,t){t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const Nf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qF=e=>!hg(e)&&e!==Nf;function BE(){const{caseless:e}=qF(this)&&this||{},t={},r=(s,a)=>{const i=e&&VF(t,a)||a;_1(t[i])&&_1(s)?t[i]=BE(t[i],s):_1(s)?t[i]=BE({},s):z0(s)?t[i]=s.slice():t[i]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Jg(arguments[s],r);return t}const Pte=(e,t,r,{allOwnKeys:s}={})=>(Jg(t,(a,i)=>{r&&$i(a)?e[i]=BF(a,r):e[i]=a},{allOwnKeys:s}),e),Mte=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ite=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Fte=(e,t,r,s)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&zT(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Lte=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Bte=e=>{if(!e)return null;if(z0(e))return e;let t=e.length;if(!UF(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},$te=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zT(Uint8Array)),Ute=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Vte=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},qte=fl("HTMLFormElement"),zte=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),MO=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Hte=fl("RegExp"),zF=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Jg(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},Wte=e=>{zF(e,(t,r)=>{if($i(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if($i(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Gte=(e,t)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return z0(e)?s(e):s(String(e).split(t)),r},Yte=()=>{},Kte=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Xte(e){return!!(e&&$i(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Qte=e=>{const t=new Array(10),r=(s,a)=>{if(hw(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[a]=s;const i=z0(s)?[]:{};return Jg(s,(o,l)=>{const u=r(o,a+1);!hg(u)&&(i[l]=u)}),t[a]=void 0,i}}return s};return r(e,0)},Zte=fl("AsyncFunction"),Jte=e=>e&&(hw(e)||$i(e))&&$i(e.then)&&$i(e.catch),HF=((e,t)=>e?setImmediate:t?((r,s)=>(Nf.addEventListener("message",({source:a,data:i})=>{a===Nf&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),Nf.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",$i(Nf.postMessage)),ere=typeof queueMicrotask<"u"?queueMicrotask.bind(Nf):typeof process<"u"&&process.nextTick||HF,Ge={isArray:z0,isArrayBuffer:$F,isBuffer:yte,isFormData:Tte,isArrayBufferView:vte,isString:bte,isNumber:UF,isBoolean:wte,isObject:hw,isPlainObject:_1,isReadableStream:_te,isRequest:kte,isResponse:Dte,isHeaders:Ote,isUndefined:hg,isDate:Nte,isFile:jte,isBlob:Ste,isRegExp:Hte,isFunction:$i,isStream:Ate,isURLSearchParams:Cte,isTypedArray:$te,isFileList:Ete,forEach:Jg,merge:BE,extend:Pte,trim:Rte,stripBOM:Mte,inherits:Ite,toFlatObject:Fte,kindOf:uw,kindOfTest:fl,endsWith:Lte,toArray:Bte,forEachEntry:Ute,matchAll:Vte,isHTMLForm:qte,hasOwnProperty:MO,hasOwnProp:MO,reduceDescriptors:zF,freezeMethods:Wte,toObjectSet:Gte,toCamelCase:zte,noop:Yte,toFiniteNumber:Kte,findKey:VF,global:Nf,isContextDefined:qF,isSpecCompliantForm:Xte,toJSONObject:Qte,isAsyncFn:Zte,isThenable:Jte,setImmediate:HF,asap:ere};function mr(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Ge.inherits(mr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ge.toJSONObject(this.config),code:this.code,status:this.status}}});const WF=mr.prototype,GF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{GF[e]={value:e}});Object.defineProperties(mr,GF);Object.defineProperty(WF,"isAxiosError",{value:!0});mr.from=(e,t,r,s,a,i)=>{const o=Object.create(WF);return Ge.toFlatObject(e,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),mr.call(o,e.message,t,r,s,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const tre=null;function $E(e){return Ge.isPlainObject(e)||Ge.isArray(e)}function YF(e){return Ge.endsWith(e,"[]")?e.slice(0,-2):e}function IO(e,t,r){return e?e.concat(t).map(function(a,i){return a=YF(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function rre(e){return Ge.isArray(e)&&!e.some($E)}const sre=Ge.toFlatObject(Ge,{},null,function(t){return/^is[A-Z]/.test(t)});function mw(e,t,r){if(!Ge.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ge.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!Ge.isUndefined(w[b])});const s=r.metaTokens,a=r.visitor||h,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Ge.isSpecCompliantForm(t);if(!Ge.isFunction(a))throw new TypeError("visitor must be a function");function f(N){if(N===null)return"";if(Ge.isDate(N))return N.toISOString();if(!u&&Ge.isBlob(N))throw new mr("Blob is not supported. Use a Buffer instead.");return Ge.isArrayBuffer(N)||Ge.isTypedArray(N)?u&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function h(N,b,w){let j=N;if(N&&!w&&typeof N=="object"){if(Ge.endsWith(b,"{}"))b=s?b:b.slice(0,-2),N=JSON.stringify(N);else if(Ge.isArray(N)&&rre(N)||(Ge.isFileList(N)||Ge.endsWith(b,"[]"))&&(j=Ge.toArray(N)))return b=YF(b),j.forEach(function(A,C){!(Ge.isUndefined(A)||A===null)&&t.append(o===!0?IO([b],C,i):o===null?b:b+"[]",f(A))}),!1}return $E(N)?!0:(t.append(IO(w,b,i),f(N)),!1)}const x=[],p=Object.assign(sre,{defaultVisitor:h,convertValue:f,isVisitable:$E});function y(N,b){if(!Ge.isUndefined(N)){if(x.indexOf(N)!==-1)throw Error("Circular reference detected in "+b.join("."));x.push(N),Ge.forEach(N,function(j,S){(!(Ge.isUndefined(j)||j===null)&&a.call(t,j,Ge.isString(S)?S.trim():S,b,p))===!0&&y(j,b?b.concat(S):[S])}),x.pop()}}if(!Ge.isObject(e))throw new TypeError("data must be an object");return y(e),t}function FO(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function HT(e,t){this._pairs=[],e&&mw(e,this,t)}const KF=HT.prototype;KF.append=function(t,r){this._pairs.push([t,r])};KF.toString=function(t){const r=t?function(s){return t.call(this,s,FO)}:FO;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function nre(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XF(e,t,r){if(!t)return e;const s=r&&r.encode||nre;Ge.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Ge.isURLSearchParams(t)?t.toString():new HT(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class LO{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ge.forEach(this.handlers,function(s){s!==null&&t(s)})}}const QF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},are=typeof URLSearchParams<"u"?URLSearchParams:HT,ire=typeof FormData<"u"?FormData:null,ore=typeof Blob<"u"?Blob:null,lre={isBrowser:!0,classes:{URLSearchParams:are,FormData:ire,Blob:ore},protocols:["http","https","file","blob","url","data"]},WT=typeof window<"u"&&typeof document<"u",UE=typeof navigator=="object"&&navigator||void 0,cre=WT&&(!UE||["ReactNative","NativeScript","NS"].indexOf(UE.product)<0),dre=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ure=WT&&window.location.href||"http://localhost",fre=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:WT,hasStandardBrowserEnv:cre,hasStandardBrowserWebWorkerEnv:dre,navigator:UE,origin:ure},Symbol.toStringTag,{value:"Module"})),Sa={...fre,...lre};function hre(e,t){return mw(e,new Sa.classes.URLSearchParams,Object.assign({visitor:function(r,s,a,i){return Sa.isNode&&Ge.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function mre(e){return Ge.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function pre(e){const t={},r=Object.keys(e);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],t[i]=e[i];return t}function ZF(e){function t(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=r.length;return o=!o&&Ge.isArray(a)?a.length:o,u?(Ge.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!Ge.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],i)&&Ge.isArray(a[o])&&(a[o]=pre(a[o])),!l)}if(Ge.isFormData(e)&&Ge.isFunction(e.entries)){const r={};return Ge.forEachEntry(e,(s,a)=>{t(mre(s),a,r,0)}),r}return null}function xre(e,t,r){if(Ge.isString(e))try{return(t||JSON.parse)(e),Ge.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const ey={transitional:QF,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=Ge.isObject(t);if(i&&Ge.isHTMLForm(t)&&(t=new FormData(t)),Ge.isFormData(t))return a?JSON.stringify(ZF(t)):t;if(Ge.isArrayBuffer(t)||Ge.isBuffer(t)||Ge.isStream(t)||Ge.isFile(t)||Ge.isBlob(t)||Ge.isReadableStream(t))return t;if(Ge.isArrayBufferView(t))return t.buffer;if(Ge.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return hre(t,this.formSerializer).toString();if((l=Ge.isFileList(t))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return mw(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),xre(t)):t}],transformResponse:[function(t){const r=this.transitional||ey.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Ge.isResponse(t)||Ge.isReadableStream(t))return t;if(t&&Ge.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?mr.from(l,mr.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sa.classes.FormData,Blob:Sa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ge.forEach(["delete","get","head","post","put","patch"],e=>{ey.headers[e]={}});const gre=Ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yre=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&gre[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},BO=Symbol("internals");function ix(e){return e&&String(e).trim().toLowerCase()}function k1(e){return e===!1||e==null?e:Ge.isArray(e)?e.map(k1):String(e)}function vre(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const bre=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function P2(e,t,r,s,a){if(Ge.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!Ge.isString(t)){if(Ge.isString(s))return t.indexOf(s)!==-1;if(Ge.isRegExp(s))return s.test(t)}}function wre(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function Nre(e,t){const r=Ge.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}let fi=class{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function i(l,u,f){const h=ix(u);if(!h)throw new Error("header name must be a non-empty string");const x=Ge.findKey(a,h);(!x||a[x]===void 0||f===!0||f===void 0&&a[x]!==!1)&&(a[x||u]=k1(l))}const o=(l,u)=>Ge.forEach(l,(f,h)=>i(f,h,u));if(Ge.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Ge.isString(t)&&(t=t.trim())&&!bre(t))o(yre(t),r);else if(Ge.isHeaders(t))for(const[l,u]of t.entries())i(u,l,s);else t!=null&&i(r,t,s);return this}get(t,r){if(t=ix(t),t){const s=Ge.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return vre(a);if(Ge.isFunction(r))return r.call(this,a,s);if(Ge.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ix(t),t){const s=Ge.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||P2(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function i(o){if(o=ix(o),o){const l=Ge.findKey(s,o);l&&(!r||P2(s,s[l],l,r))&&(delete s[l],a=!0)}}return Ge.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!t||P2(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,s={};return Ge.forEach(this,(a,i)=>{const o=Ge.findKey(s,i);if(o){r[o]=k1(a),delete r[i];return}const l=t?wre(i):String(i).trim();l!==i&&delete r[i],r[l]=k1(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ge.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&Ge.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[BO]=this[BO]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=ix(o);s[l]||(Nre(a,o),s[l]=!0)}return Ge.isArray(t)?t.forEach(i):i(t),this}};fi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ge.reduceDescriptors(fi.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});Ge.freezeMethods(fi);function M2(e,t){const r=this||ey,s=t||r,a=fi.from(s.headers);let i=s.data;return Ge.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function JF(e){return!!(e&&e.__CANCEL__)}function H0(e,t,r){mr.call(this,e??"canceled",mr.ERR_CANCELED,t,r),this.name="CanceledError"}Ge.inherits(H0,mr,{__CANCEL__:!0});function eL(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new mr("Request failed with status code "+r.status,[mr.ERR_BAD_REQUEST,mr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function jre(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Sre(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),h=s[i];o||(o=f),r[a]=u,s[a]=f;let x=i,p=0;for(;x!==a;)p+=r[x++],x=x%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),f-o<t)return;const y=h&&f-h;return y?Math.round(p*1e3/y):void 0}}function Ere(e,t){let r=0,s=1e3/t,a,i;const o=(f,h=Date.now())=>{r=h,a=null,i&&(clearTimeout(i),i=null),e.apply(null,f)};return[(...f)=>{const h=Date.now(),x=h-r;x>=s?o(f,h):(a=f,i||(i=setTimeout(()=>{i=null,o(a)},s-x)))},()=>a&&o(a)]}const eb=(e,t,r=3)=>{let s=0;const a=Sre(50,250);return Ere(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-s,f=a(u),h=o<=l;s=o;const x={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&h?(l-o)/f:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(x)},r)},$O=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},UO=e=>(...t)=>Ge.asap(()=>e(...t)),Are=Sa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Sa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Sa.origin),Sa.navigator&&/(msie|trident)/i.test(Sa.navigator.userAgent)):()=>!0,Tre=Sa.hasStandardBrowserEnv?{write(e,t,r,s,a,i){const o=[e+"="+encodeURIComponent(t)];Ge.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Ge.isString(s)&&o.push("path="+s),Ge.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cre(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _re(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function tL(e,t,r){let s=!Cre(t);return e&&(s||r==!1)?_re(e,t):t}const VO=e=>e instanceof fi?{...e}:e;function Wf(e,t){t=t||{};const r={};function s(f,h,x,p){return Ge.isPlainObject(f)&&Ge.isPlainObject(h)?Ge.merge.call({caseless:p},f,h):Ge.isPlainObject(h)?Ge.merge({},h):Ge.isArray(h)?h.slice():h}function a(f,h,x,p){if(Ge.isUndefined(h)){if(!Ge.isUndefined(f))return s(void 0,f,x,p)}else return s(f,h,x,p)}function i(f,h){if(!Ge.isUndefined(h))return s(void 0,h)}function o(f,h){if(Ge.isUndefined(h)){if(!Ge.isUndefined(f))return s(void 0,f)}else return s(void 0,h)}function l(f,h,x){if(x in t)return s(f,h);if(x in e)return s(void 0,f)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(f,h,x)=>a(VO(f),VO(h),x,!0)};return Ge.forEach(Object.keys(Object.assign({},e,t)),function(h){const x=u[h]||a,p=x(e[h],t[h],h);Ge.isUndefined(p)&&x!==l||(r[h]=p)}),r}const rL=e=>{const t=Wf({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=fi.from(o),t.url=XF(tL(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Ge.isFormData(r)){if(Sa.hasStandardBrowserEnv||Sa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[f,...h]=u?u.split(";").map(x=>x.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...h].join("; "))}}if(Sa.hasStandardBrowserEnv&&(s&&Ge.isFunction(s)&&(s=s(t)),s||s!==!1&&Are(t.url))){const f=a&&i&&Tre.read(i);f&&o.set(a,f)}return t},kre=typeof XMLHttpRequest<"u",Dre=kre&&function(e){return new Promise(function(r,s){const a=rL(e);let i=a.data;const o=fi.from(a.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:f}=a,h,x,p,y,N;function b(){y&&y(),N&&N(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function j(){if(!w)return;const A=fi.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:A,config:e,request:w};eL(function(_){r(_),b()},function(_){s(_),b()},T),w=null}"onloadend"in w?w.onloadend=j:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(j)},w.onabort=function(){w&&(s(new mr("Request aborted",mr.ECONNABORTED,e,w)),w=null)},w.onerror=function(){s(new mr("Network Error",mr.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const T=a.transitional||QF;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),s(new mr(C,T.clarifyTimeoutError?mr.ETIMEDOUT:mr.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&Ge.forEach(o.toJSON(),function(C,T){w.setRequestHeader(T,C)}),Ge.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),l&&l!=="json"&&(w.responseType=a.responseType),f&&([p,N]=eb(f,!0),w.addEventListener("progress",p)),u&&w.upload&&([x,y]=eb(u),w.upload.addEventListener("progress",x),w.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(h=A=>{w&&(s(!A||A.type?new H0(null,e,w):A),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const S=jre(a.url);if(S&&Sa.protocols.indexOf(S)===-1){s(new mr("Unsupported protocol "+S+":",mr.ERR_BAD_REQUEST,e));return}w.send(i||null)})},Ore=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const i=function(f){if(!a){a=!0,l();const h=f instanceof Error?f:this.reason;s.abort(h instanceof mr?h:new H0(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new mr(`timeout ${t} of ms exceeded`,mr.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:u}=s;return u.unsubscribe=()=>Ge.asap(l),u}},Rre=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},Pre=async function*(e,t){for await(const r of Mre(e))yield*Rre(r,t)},Mre=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},qO=(e,t,r,s)=>{const a=Pre(e,t);let i=0,o,l=u=>{o||(o=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:f,value:h}=await a.next();if(f){l(),u.close();return}let x=h.byteLength;if(r){let p=i+=x;r(p)}u.enqueue(new Uint8Array(h))}catch(f){throw l(f),f}},cancel(u){return l(u),a.return()}},{highWaterMark:2})},pw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sL=pw&&typeof ReadableStream=="function",Ire=pw&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),nL=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Fre=sL&&nL(()=>{let e=!1;const t=new Request(Sa.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),zO=64*1024,VE=sL&&nL(()=>Ge.isReadableStream(new Response("").body)),tb={stream:VE&&(e=>e.body)};pw&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!tb[t]&&(tb[t]=Ge.isFunction(e[t])?r=>r[t]():(r,s)=>{throw new mr(`Response type '${t}' is not supported`,mr.ERR_NOT_SUPPORT,s)})})})(new Response);const Lre=async e=>{if(e==null)return 0;if(Ge.isBlob(e))return e.size;if(Ge.isSpecCompliantForm(e))return(await new Request(Sa.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ge.isArrayBufferView(e)||Ge.isArrayBuffer(e))return e.byteLength;if(Ge.isURLSearchParams(e)&&(e=e+""),Ge.isString(e))return(await Ire(e)).byteLength},Bre=async(e,t)=>{const r=Ge.toFiniteNumber(e.getContentLength());return r??Lre(t)},$re=pw&&(async e=>{let{url:t,method:r,data:s,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:f,headers:h,withCredentials:x="same-origin",fetchOptions:p}=rL(e);f=f?(f+"").toLowerCase():"text";let y=Ore([a,i&&i.toAbortSignal()],o),N;const b=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let w;try{if(u&&Fre&&r!=="get"&&r!=="head"&&(w=await Bre(h,s))!==0){let T=new Request(t,{method:"POST",body:s,duplex:"half"}),D;if(Ge.isFormData(s)&&(D=T.headers.get("content-type"))&&h.setContentType(D),T.body){const[_,O]=$O(w,eb(UO(u)));s=qO(T.body,zO,_,O)}}Ge.isString(x)||(x=x?"include":"omit");const j="credentials"in Request.prototype;N=new Request(t,{...p,signal:y,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:s,duplex:"half",credentials:j?x:void 0});let S=await fetch(N);const A=VE&&(f==="stream"||f==="response");if(VE&&(l||A&&b)){const T={};["status","statusText","headers"].forEach(P=>{T[P]=S[P]});const D=Ge.toFiniteNumber(S.headers.get("content-length")),[_,O]=l&&$O(D,eb(UO(l),!0))||[];S=new Response(qO(S.body,zO,_,()=>{O&&O(),b&&b()}),T)}f=f||"text";let C=await tb[Ge.findKey(tb,f)||"text"](S,e);return!A&&b&&b(),await new Promise((T,D)=>{eL(T,D,{data:C,headers:fi.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:N})})}catch(j){throw b&&b(),j&&j.name==="TypeError"&&/fetch/i.test(j.message)?Object.assign(new mr("Network Error",mr.ERR_NETWORK,e,N),{cause:j.cause||j}):mr.from(j,j&&j.code,e,N)}}),qE={http:tre,xhr:Dre,fetch:$re};Ge.forEach(qE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const HO=e=>`- ${e}`,Ure=e=>Ge.isFunction(e)||e===null||e===!1,aL={getAdapter:e=>{e=Ge.isArray(e)?e:[e];const{length:t}=e;let r,s;const a={};for(let i=0;i<t;i++){r=e[i];let o;if(s=r,!Ure(r)&&(s=qE[(o=String(r)).toLowerCase()],s===void 0))throw new mr(`Unknown adapter '${o}'`);if(s)break;a[o||"#"+i]=s}if(!s){const i=Object.entries(a).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(HO).join(`
`):" "+HO(i[0]):"as no adapter specified";throw new mr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:qE};function I2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new H0(null,e)}function WO(e){return I2(e),e.headers=fi.from(e.headers),e.data=M2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),aL.getAdapter(e.adapter||ey.adapter)(e).then(function(s){return I2(e),s.data=M2.call(e,e.transformResponse,s),s.headers=fi.from(s.headers),s},function(s){return JF(s)||(I2(e),s&&s.response&&(s.response.data=M2.call(e,e.transformResponse,s.response),s.response.headers=fi.from(s.response.headers))),Promise.reject(s)})}const iL="1.8.4",xw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xw[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const GO={};xw.transitional=function(t,r,s){function a(i,o){return"[Axios v"+iL+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new mr(a(o," has been removed"+(r?" in "+r:"")),mr.ERR_DEPRECATED);return r&&!GO[o]&&(GO[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};xw.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Vre(e,t,r){if(typeof e!="object")throw new mr("options must be an object",mr.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new mr("option "+i+" must be "+u,mr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new mr("Unknown option "+i,mr.ERR_BAD_OPTION)}}const D1={assertOptions:Vre,validators:xw},Tl=D1.validators;let Mf=class{constructor(t){this.defaults=t,this.interceptors={request:new LO,response:new LO}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Wf(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&D1.assertOptions(s,{silentJSONParsing:Tl.transitional(Tl.boolean),forcedJSONParsing:Tl.transitional(Tl.boolean),clarifyTimeoutError:Tl.transitional(Tl.boolean)},!1),a!=null&&(Ge.isFunction(a)?r.paramsSerializer={serialize:a}:D1.assertOptions(a,{encode:Tl.function,serialize:Tl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),D1.assertOptions(r,{baseUrl:Tl.spelling("baseURL"),withXsrfToken:Tl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Ge.merge(i.common,i[r.method]);i&&Ge.forEach(["delete","get","head","post","put","patch","common"],N=>{delete i[N]}),r.headers=fi.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(u=u&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let h,x=0,p;if(!u){const N=[WO.bind(this),void 0];for(N.unshift.apply(N,l),N.push.apply(N,f),p=N.length,h=Promise.resolve(r);x<p;)h=h.then(N[x++],N[x++]);return h}p=l.length;let y=r;for(x=0;x<p;){const N=l[x++],b=l[x++];try{y=N(y)}catch(w){b.call(this,w);break}}try{h=WO.call(this,y)}catch(N){return Promise.reject(N)}for(x=0,p=f.length;x<p;)h=h.then(f[x++],f[x++]);return h}getUri(t){t=Wf(this.defaults,t);const r=tL(t.baseURL,t.url,t.allowAbsoluteUrls);return XF(r,t.params,t.paramsSerializer)}};Ge.forEach(["delete","get","head","options"],function(t){Mf.prototype[t]=function(r,s){return this.request(Wf(s||{},{method:t,url:r,data:(s||{}).data}))}});Ge.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,l){return this.request(Wf(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Mf.prototype[t]=r(),Mf.prototype[t+"Form"]=r(!0)});let qre=class oL{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new H0(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new oL(function(a){t=a}),cancel:t}}};function zre(e){return function(r){return e.apply(null,r)}}function Hre(e){return Ge.isObject(e)&&e.isAxiosError===!0}const zE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zE).forEach(([e,t])=>{zE[t]=e});function lL(e){const t=new Mf(e),r=BF(Mf.prototype.request,t);return Ge.extend(r,Mf.prototype,t,{allOwnKeys:!0}),Ge.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return lL(Wf(e,a))},r}const Rs=lL(ey);Rs.Axios=Mf;Rs.CanceledError=H0;Rs.CancelToken=qre;Rs.isCancel=JF;Rs.VERSION=iL;Rs.toFormData=mw;Rs.AxiosError=mr;Rs.Cancel=Rs.CanceledError;Rs.all=function(t){return Promise.all(t)};Rs.spread=zre;Rs.isAxiosError=Hre;Rs.mergeConfig=Wf;Rs.AxiosHeaders=fi;Rs.formToJSON=e=>ZF(Ge.isHTMLForm(e)?new FormData(e):e);Rs.getAdapter=aL.getAdapter;Rs.HttpStatusCode=zE;Rs.default=Rs;const{Axios:WRe,AxiosError:GRe,CanceledError:YRe,isCancel:KRe,CancelToken:XRe,VERSION:QRe,all:ZRe,Cancel:JRe,isAxiosError:ePe,spread:tPe,toFormData:rPe,AxiosHeaders:sPe,HttpStatusCode:nPe,formToJSON:aPe,getAdapter:iPe,mergeConfig:oPe}=Rs;function Wre(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Gre=e=>{switch(e){case"success":return Xre;case"info":return Zre;case"warning":return Qre;case"error":return Jre;default:return null}},Yre=Array(12).fill(0),Kre=({visible:e,className:t})=>Le.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Le.createElement("div",{className:"sonner-spinner"},Yre.map((r,s)=>Le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Xre=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Qre=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Zre=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Jre=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ese=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),tse=()=>{const[e,t]=Le.useState(document.hidden);return Le.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let HE=1;class rse{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:s,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:HE++,o=this.toasts.find(u=>u.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:s}),{...u,...t,id:i,dismissible:l,title:s}):u):this.addToast({title:s,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=s!==void 0,o;const l=a.then(async f=>{if(o=["resolve",f],Le.isValidElement(f))i=!1,this.create({id:s,type:"default",message:f});else if(nse(f)&&!f.ok){i=!1;const x=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,N=typeof x=="object"&&!Le.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:p,...N})}else if(f instanceof Error){i=!1;const x=typeof r.error=="function"?await r.error(f):r.error,p=typeof r.description=="function"?await r.description(f):r.description,N=typeof x=="object"&&!Le.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:p,...N})}else if(r.success!==void 0){i=!1;const x=typeof r.success=="function"?await r.success(f):r.success,p=typeof r.description=="function"?await r.description(f):r.description,N=typeof x=="object"&&!Le.isValidElement(x)?x:{message:x};this.create({id:s,type:"success",description:p,...N})}}).catch(async f=>{if(o=["reject",f],r.error!==void 0){i=!1;const h=typeof r.error=="function"?await r.error(f):r.error,x=typeof r.description=="function"?await r.description(f):r.description,y=typeof h=="object"&&!Le.isValidElement(h)?h:{message:h};this.create({id:s,type:"error",description:x,...y})}}).finally(()=>{i&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),u=()=>new Promise((f,h)=>l.then(()=>o[0]==="reject"?h(o[1]):f(o[1])).catch(h));return typeof s!="string"&&typeof s!="number"?{unwrap:u}:Object.assign(s,{unwrap:u})},this.custom=(t,r)=>{const s=(r==null?void 0:r.id)||HE++;return this.create({jsx:t(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const oi=new rse,sse=(e,t)=>{const r=(t==null?void 0:t.id)||HE++;return oi.addToast({title:e,...t,id:r}),r},nse=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ase=sse,ise=()=>oi.toasts,ose=()=>oi.getActiveToasts(),me=Object.assign(ase,{success:oi.success,info:oi.info,warning:oi.warning,error:oi.error,custom:oi.custom,message:oi.message,promise:oi.promise,dismiss:oi.dismiss,loading:oi.loading},{getHistory:ise,getToasts:ose});Wre("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Gv(e){return e.label!==void 0}const lse=3,cse="24px",dse="16px",YO=4e3,use=356,fse=14,hse=45,mse=200;function Cl(...e){return e.filter(Boolean).join(" ")}function pse(e){const[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}const xse=e=>{var t,r,s,a,i,o,l,u,f;const{invert:h,toast:x,unstyled:p,interacting:y,setHeights:N,visibleToasts:b,heights:w,index:j,toasts:S,expanded:A,removeToast:C,defaultRichColors:T,closeButton:D,style:_,cancelButtonStyle:O,actionButtonStyle:P,className:B="",descriptionClassName:I="",duration:G,position:z,gap:ae,expandByDefault:J,classNames:L,icons:U,closeButtonAriaLabel:F="Close toast"}=e,[X,q]=Le.useState(null),[te,M]=Le.useState(null),[W,K]=Le.useState(!1),[V,Q]=Le.useState(!1),[ie,xe]=Le.useState(!1),[ue,de]=Le.useState(!1),[De,Ne]=Le.useState(!1),[ot,Ee]=Le.useState(0),[Ae,Ye]=Le.useState(0),be=Le.useRef(x.duration||G||YO),ge=Le.useRef(null),Me=Le.useRef(null),xt=j===0,jt=j+1<=b,fe=x.type,Se=x.dismissible!==!1,Re=x.className||"",ye=x.descriptionClassName||"",$e=Le.useMemo(()=>w.findIndex(qt=>qt.toastId===x.id)||0,[w,x.id]),Pe=Le.useMemo(()=>{var qt;return(qt=x.closeButton)!=null?qt:D},[x.closeButton,D]),Xe=Le.useMemo(()=>x.duration||G||YO,[x.duration,G]),gt=Le.useRef(0),Vt=Le.useRef(0),Mr=Le.useRef(0),Fs=Le.useRef(null),[qs,zs]=z.split("-"),_s=Le.useMemo(()=>w.reduce((qt,Ir,Yr)=>Yr>=$e?qt:qt+Ir.height,0),[w,$e]),Nn=tse(),hn=x.invert||h,tn=fe==="loading";Vt.current=Le.useMemo(()=>$e*ae+_s,[$e,_s]),Le.useEffect(()=>{be.current=Xe},[Xe]),Le.useEffect(()=>{K(!0)},[]),Le.useEffect(()=>{const qt=Me.current;if(qt){const Ir=qt.getBoundingClientRect().height;return Ye(Ir),N(Yr=>[{toastId:x.id,height:Ir,position:x.position},...Yr]),()=>N(Yr=>Yr.filter(ls=>ls.toastId!==x.id))}},[N,x.id]),Le.useLayoutEffect(()=>{if(!W)return;const qt=Me.current,Ir=qt.style.height;qt.style.height="auto";const Yr=qt.getBoundingClientRect().height;qt.style.height=Ir,Ye(Yr),N(ls=>ls.find(se=>se.toastId===x.id)?ls.map(se=>se.toastId===x.id?{...se,height:Yr}:se):[{toastId:x.id,height:Yr,position:x.position},...ls])},[W,x.title,x.description,N,x.id]);const es=Le.useCallback(()=>{Q(!0),Ee(Vt.current),N(qt=>qt.filter(Ir=>Ir.toastId!==x.id)),setTimeout(()=>{C(x)},mse)},[x,C,N,Vt]);Le.useEffect(()=>{if(x.promise&&fe==="loading"||x.duration===1/0||x.type==="loading")return;let qt;return A||y||Nn?(()=>{if(Mr.current<gt.current){const ls=new Date().getTime()-gt.current;be.current=be.current-ls}Mr.current=new Date().getTime()})():(()=>{be.current!==1/0&&(gt.current=new Date().getTime(),qt=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),es()},be.current))})(),()=>clearTimeout(qt)},[A,y,x,fe,Nn,es]),Le.useEffect(()=>{x.delete&&es()},[es,x.delete]);function ma(){var qt;if(U!=null&&U.loading){var Ir;return Le.createElement("div",{className:Cl(L==null?void 0:L.loader,x==null||(Ir=x.classNames)==null?void 0:Ir.loader,"sonner-loader"),"data-visible":fe==="loading"},U.loading)}return Le.createElement(Kre,{className:Cl(L==null?void 0:L.loader,x==null||(qt=x.classNames)==null?void 0:qt.loader),visible:fe==="loading"})}const jn=x.icon||(U==null?void 0:U[fe])||Gre(fe);var mn,hr;return Le.createElement("li",{tabIndex:0,ref:Me,className:Cl(B,Re,L==null?void 0:L.toast,x==null||(t=x.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[fe],x==null||(r=x.classNames)==null?void 0:r[fe]),"data-sonner-toast":"","data-rich-colors":(mn=x.richColors)!=null?mn:T,"data-styled":!(x.jsx||x.unstyled||p),"data-mounted":W,"data-promise":!!x.promise,"data-swiped":De,"data-removed":V,"data-visible":jt,"data-y-position":qs,"data-x-position":zs,"data-index":j,"data-front":xt,"data-swiping":ie,"data-dismissible":Se,"data-type":fe,"data-invert":hn,"data-swipe-out":ue,"data-swipe-direction":te,"data-expanded":!!(A||J&&W),style:{"--index":j,"--toasts-before":j,"--z-index":S.length-j,"--offset":`${V?ot:Vt.current}px`,"--initial-height":J?"auto":`${Ae}px`,..._,...x.style},onDragEnd:()=>{xe(!1),q(null),Fs.current=null},onPointerDown:qt=>{tn||!Se||(ge.current=new Date,Ee(Vt.current),qt.target.setPointerCapture(qt.pointerId),qt.target.tagName!=="BUTTON"&&(xe(!0),Fs.current={x:qt.clientX,y:qt.clientY}))},onPointerUp:()=>{var qt,Ir,Yr;if(ue||!Se)return;Fs.current=null;const ls=Number(((qt=Me.current)==null?void 0:qt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rn=Number(((Ir=Me.current)==null?void 0:Ir.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),se=new Date().getTime()-((Yr=ge.current)==null?void 0:Yr.getTime()),Oe=X==="x"?ls:rn,qe=Math.abs(Oe)/se;if(Math.abs(Oe)>=hse||qe>.11){Ee(Vt.current),x.onDismiss==null||x.onDismiss.call(x,x),M(X==="x"?ls>0?"right":"left":rn>0?"down":"up"),es(),de(!0);return}else{var at,ut;(at=Me.current)==null||at.style.setProperty("--swipe-amount-x","0px"),(ut=Me.current)==null||ut.style.setProperty("--swipe-amount-y","0px")}Ne(!1),xe(!1),q(null)},onPointerMove:qt=>{var Ir,Yr,ls;if(!Fs.current||!Se||((Ir=window.getSelection())==null?void 0:Ir.toString().length)>0)return;const se=qt.clientY-Fs.current.y,Oe=qt.clientX-Fs.current.x;var qe;const at=(qe=e.swipeDirections)!=null?qe:pse(z);!X&&(Math.abs(Oe)>1||Math.abs(se)>1)&&q(Math.abs(Oe)>Math.abs(se)?"x":"y");let ut={x:0,y:0};const It=Jt=>1/(1.5+Math.abs(Jt)/20);if(X==="y"){if(at.includes("top")||at.includes("bottom"))if(at.includes("top")&&se<0||at.includes("bottom")&&se>0)ut.y=se;else{const Jt=se*It(se);ut.y=Math.abs(Jt)<Math.abs(se)?Jt:se}}else if(X==="x"&&(at.includes("left")||at.includes("right")))if(at.includes("left")&&Oe<0||at.includes("right")&&Oe>0)ut.x=Oe;else{const Jt=Oe*It(Oe);ut.x=Math.abs(Jt)<Math.abs(Oe)?Jt:Oe}(Math.abs(ut.x)>0||Math.abs(ut.y)>0)&&Ne(!0),(Yr=Me.current)==null||Yr.style.setProperty("--swipe-amount-x",`${ut.x}px`),(ls=Me.current)==null||ls.style.setProperty("--swipe-amount-y",`${ut.y}px`)}},Pe&&!x.jsx&&fe!=="loading"?Le.createElement("button",{"aria-label":F,"data-disabled":tn,"data-close-button":!0,onClick:tn||!Se?()=>{}:()=>{es(),x.onDismiss==null||x.onDismiss.call(x,x)},className:Cl(L==null?void 0:L.closeButton,x==null||(s=x.classNames)==null?void 0:s.closeButton)},(hr=U==null?void 0:U.close)!=null?hr:ese):null,(fe||x.icon||x.promise)&&x.icon!==null&&((U==null?void 0:U[fe])!==null||x.icon)?Le.createElement("div",{"data-icon":"",className:Cl(L==null?void 0:L.icon,x==null||(a=x.classNames)==null?void 0:a.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||ma():null,x.type!=="loading"?jn:null):null,Le.createElement("div",{"data-content":"",className:Cl(L==null?void 0:L.content,x==null||(i=x.classNames)==null?void 0:i.content)},Le.createElement("div",{"data-title":"",className:Cl(L==null?void 0:L.title,x==null||(o=x.classNames)==null?void 0:o.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?Le.createElement("div",{"data-description":"",className:Cl(I,ye,L==null?void 0:L.description,x==null||(l=x.classNames)==null?void 0:l.description)},typeof x.description=="function"?x.description():x.description):null),Le.isValidElement(x.cancel)?x.cancel:x.cancel&&Gv(x.cancel)?Le.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||O,onClick:qt=>{Gv(x.cancel)&&Se&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,qt),es())},className:Cl(L==null?void 0:L.cancelButton,x==null||(u=x.classNames)==null?void 0:u.cancelButton)},x.cancel.label):null,Le.isValidElement(x.action)?x.action:x.action&&Gv(x.action)?Le.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||P,onClick:qt=>{Gv(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,qt),!qt.defaultPrevented&&es())},className:Cl(L==null?void 0:L.actionButton,x==null||(f=x.classNames)==null?void 0:f.actionButton)},x.action.label):null)};function KO(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function gse(e,t){const r={};return[e,t].forEach((s,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",l=i?dse:cse;function u(f){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof f=="number"?`${f}px`:f})}typeof s=="number"||typeof s=="string"?u(s):typeof s=="object"?["top","right","bottom","left"].forEach(f=>{s[f]===void 0?r[`${o}-${f}`]=l:r[`${o}-${f}`]=typeof s[f]=="number"?`${s[f]}px`:s[f]}):u(l)}),r}const yse=Le.forwardRef(function(t,r){const{invert:s,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:f,mobileOffset:h,theme:x="light",richColors:p,duration:y,style:N,visibleToasts:b=lse,toastOptions:w,dir:j=KO(),gap:S=fse,icons:A,containerAriaLabel:C="Notifications"}=t,[T,D]=Le.useState([]),_=Le.useMemo(()=>Array.from(new Set([a].concat(T.filter(te=>te.position).map(te=>te.position)))),[T,a]),[O,P]=Le.useState([]),[B,I]=Le.useState(!1),[G,z]=Le.useState(!1),[ae,J]=Le.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=Le.useRef(null),U=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=Le.useRef(null),X=Le.useRef(!1),q=Le.useCallback(te=>{D(M=>{var W;return(W=M.find(K=>K.id===te.id))!=null&&W.delete||oi.dismiss(te.id),M.filter(({id:K})=>K!==te.id)})},[]);return Le.useEffect(()=>oi.subscribe(te=>{if(te.dismiss){requestAnimationFrame(()=>{D(M=>M.map(W=>W.id===te.id?{...W,delete:!0}:W))});return}setTimeout(()=>{Lu.flushSync(()=>{D(M=>{const W=M.findIndex(K=>K.id===te.id);return W!==-1?[...M.slice(0,W),{...M[W],...te},...M.slice(W+1)]:[te,...M]})})})}),[T]),Le.useEffect(()=>{if(x!=="system"){J(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:M})=>{J(M?"dark":"light")})}catch{te.addListener(({matches:W})=>{try{J(W?"dark":"light")}catch(K){console.error(K)}})}},[x]),Le.useEffect(()=>{T.length<=1&&I(!1)},[T]),Le.useEffect(()=>{const te=M=>{var W;if(i.every(Q=>M[Q]||M.code===Q)){var V;I(!0),(V=L.current)==null||V.focus()}M.code==="Escape"&&(document.activeElement===L.current||(W=L.current)!=null&&W.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[i]),Le.useEffect(()=>{if(L.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,X.current=!1)}},[L.current]),Le.createElement("section",{ref:r,"aria-label":`${C} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((te,M)=>{var W;const[K,V]=te.split("-");return T.length?Le.createElement("ol",{key:te,dir:j==="auto"?KO():j,tabIndex:-1,ref:L,className:u,"data-sonner-toaster":!0,"data-sonner-theme":ae,"data-y-position":K,"data-lifted":B&&T.length>1&&!o,"data-x-position":V,style:{"--front-toast-height":`${((W=O[0])==null?void 0:W.height)||0}px`,"--width":`${use}px`,"--gap":`${S}px`,...N,...gse(f,h)},onBlur:Q=>{X.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(X.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||X.current||(X.current=!0,F.current=Q.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{G||I(!1)},onDragEnd:()=>I(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},T.filter(Q=>!Q.position&&M===0||Q.position===te).map((Q,ie)=>{var xe,ue;return Le.createElement(xse,{key:Q.id,icons:A,index:ie,toast:Q,defaultRichColors:p,duration:(xe=w==null?void 0:w.duration)!=null?xe:y,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:s,visibleToasts:b,closeButton:(ue=w==null?void 0:w.closeButton)!=null?ue:l,interacting:G,position:te,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:q,toasts:T.filter(de=>de.position==Q.position),heights:O.filter(de=>de.position==Q.position),setHeights:P,expandByDefault:o,gap:S,expanded:B,swipeDirections:t.swipeDirections})})):null}))}),dh=Rs.create({baseURL:Qb});dh.interceptors.response.use(e=>e,e=>{var s,a,i,o,l,u,f,h,x,p;const t=(s=e.response)==null?void 0:s.status,r=((o=(i=(a=e.response)==null?void 0:a.data)==null?void 0:i.error)==null?void 0:o.message)||((u=(l=e.response)==null?void 0:l.data)==null?void 0:u.message);if(t===403&&(r!=null&&r.toLowerCase().includes("insufficient privileges"))){const y=(p=(x=(h=(f=e.response)==null?void 0:f.data)==null?void 0:h.error)==null?void 0:x.role)==null?void 0:p.toLowerCase();me(`Insufficient privileges detected. Redirecting user with role: ${y}`),window.location.href=y==="MEMBER"?"/":"/admin/dashboard"}return Promise.reject(e)});const uh=e=>e.startsWith("/api")?e:`/api${e.startsWith("/")?"":"/"}${e}`,fh=e=>{var r,s,a,i,o,l,u,f,h,x,p,y,N;const t=((s=(r=e.response)==null?void 0:r.data)==null?void 0:s.message)||((o=(i=(a=e.response)==null?void 0:a.data)==null?void 0:i.error)==null?void 0:o.message)||((f=(u=(l=e.response)==null?void 0:l.data)==null?void 0:u.errors)==null?void 0:f.message)||((y=(p=(x=(h=e.response)==null?void 0:h.data)==null?void 0:x.errors)==null?void 0:p[0])==null?void 0:y.message)||e.message||"Request failed";return(N=e.response)!=null&&N.status?`${{400:"Bad Request: ",401:"Unauthorized: ",403:"Forbidden: ",404:"Not Found: ",409:"Conflict: ",422:"Validation Error: ",500:"Server Error: "}[e.response.status]||`Error ${e.response.status}: `}${t}`:t};dh.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const mt=async(e,t,r)=>{var s,a,i,o,l;try{const u={params:t,...r},f=await dh.get(uh(e),u);return(r==null?void 0:r.responseType)==="blob"?f:f.data}catch(u){throw console.error("GET request error details:",(s=u.response)==null?void 0:s.data),{status:(a=u.response)==null?void 0:a.status,errors:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:fh(u),data:(l=u.response)==null?void 0:l.data,originalError:u}}},$r=async(e,t,r)=>{var s,a,i,o,l;try{const u=await dh.post(uh(e),t,r);return(r==null?void 0:r.responseType)==="blob"?u:u.data}catch(u){throw console.error("POST request error details:",(s=u.response)==null?void 0:s.data),{status:(a=u.response)==null?void 0:a.status,errors:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:fh(u),data:(l=u.response)==null?void 0:l.data,originalError:u}}},un=async(e,t)=>{var r,s,a,i,o;try{return(await dh.put(uh(e),t)).data}catch(l){throw console.error("PUT request error details:",(r=l.response)==null?void 0:r.data),{status:(s=l.response)==null?void 0:s.status,errors:((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.errors)||[],message:fh(l),data:(o=l.response)==null?void 0:o.data,originalError:l}}},zi=async(e,t)=>{var r,s,a,i,o;try{return(await dh.patch(uh(e),t)).data}catch(l){throw console.error("PATCH request error details:",(r=l.response)==null?void 0:r.data),{status:(s=l.response)==null?void 0:s.status,errors:((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.errors)||[],message:fh(l),data:(o=l.response)==null?void 0:o.data,originalError:l}}},Hn=async e=>{var t,r,s,a,i;try{return(await dh.delete(uh(e))).data}catch(o){throw console.error("DELETE request error details:",(t=o.response)==null?void 0:t.data),{status:(r=o.response)==null?void 0:r.status,errors:((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.errors)||[],message:fh(o),data:(i=o.response)==null?void 0:i.data,originalError:o}}},vse=async(e,t,r)=>{var s,a,i,o,l;try{const u=Rs.create({baseURL:Qb});return u.interceptors.request.use(h=>{const x=localStorage.getItem("authToken");return x&&(h.headers.Authorization=`Bearer ${x}`),h}),(await u.post(uh(e),t,r)).data}catch(u){throw console.error("POST UPLOAD request error details:",(s=u.response)==null?void 0:s.data),{status:(a=u.response)==null?void 0:a.status,errors:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:fh(u),data:(l=u.response)==null?void 0:l.data,originalError:u}}},bse=async(e,t,r)=>{var s,a,i,o,l;try{const u=Rs.create({baseURL:Qb});return u.interceptors.request.use(h=>{const x=localStorage.getItem("authToken");return x&&(h.headers.Authorization=`Bearer ${x}`),h}),(await u.put(uh(e),t,r)).data}catch(u){throw console.error("PUT UPLOAD request error details:",(s=u.response)==null?void 0:s.data),{status:(a=u.response)==null?void 0:a.status,errors:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.errors)||[],message:fh(u),data:(l=u.response)==null?void 0:l.data,originalError:u}}};var kl=(e=>(e.PENDING="PENDING",e.DELIVERED="DELIVERED",e.NOT_DELIVERED="NOT_DELIVERED",e.CANCELLED="CANCELLED",e))(kl||{});const wse=Tr.object({currentPassword:Tr.string().min(1,"Current Password is required"),newPassword:Tr.string().min(6,"New password must be at least 6 characters long"),confirmPassword:Tr.string().min(1,"Confirm New Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"New passwords must match",path:["confirmPassword"]}),Nse=({isOpen:e,onClose:t})=>{const[r,s]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,i]=g.useState({});g.useEffect(()=>{e||(s({currentPassword:"",newPassword:"",confirmPassword:""}),i({}))},[e]);const o=Gr({mutationFn:f=>zi("/auth/change-password",f),onSuccess:()=>{me.success("Password changed successfully!"),t()},onError:f=>{var x,p,y,N;const h=((p=(x=f.response)==null?void 0:x.data)==null?void 0:p.message)||f.message;if(me.error(h||"Failed to change password. Please try again."),(N=(y=f.response)==null?void 0:y.data)!=null&&N.errors){const b={};f.response.data.errors.forEach(w=>{w.path&&w.path.length>0&&(b[w.path[w.path.length-1]]=w.message)}),i(b)}else h&&h.toLowerCase().includes("current password")&&i({currentPassword:h})}}),l=f=>{const{name:h,value:x}=f.target;s(p=>({...p,[h]:x})),a[h]&&i(p=>({...p,[h]:""}))},u=f=>{f.preventDefault(),i({});const h=wse.safeParse(r);if(!h.success){const x={};h.error.errors.forEach(p=>{p.path.length>0&&(x[p.path[0]]=p.message)}),i(x);return}o.mutate({currentPassword:h.data.currentPassword,newPassword:h.data.newPassword})};return n.jsx(hs,{open:e,onOpenChange:t,children:n.jsxs(ms,{className:"sm:max-w-[450px]",children:[n.jsxs(ps,{children:[n.jsx(xs,{children:"Change Your Password"}),n.jsx(Ya,{children:"Enter your current password and a new password below."})]}),n.jsxs("form",{onSubmit:u,className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Te,{htmlFor:"currentPassword",children:"Current Password"}),n.jsx(Vn,{id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:l,autoComplete:"current-password",disabled:o.isPending}),a.currentPassword&&n.jsx("p",{className:"text-xs text-red-500",children:a.currentPassword})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Te,{htmlFor:"newPassword",children:"New Password"}),n.jsx(Vn,{id:"newPassword",name:"newPassword",value:r.newPassword,onChange:l,autoComplete:"new-password",disabled:o.isPending}),a.newPassword&&n.jsx("p",{className:"text-xs text-red-500",children:a.newPassword})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Te,{htmlFor:"confirmPassword",children:"Confirm New Password"}),n.jsx(Vn,{id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:l,autoComplete:"new-password",disabled:o.isPending}),a.confirmPassword&&n.jsx("p",{className:"text-xs text-red-500",children:a.confirmPassword})]}),n.jsxs(gi,{className:"pt-4",children:[n.jsx(he,{type:"button",variant:"outline",onClick:t,disabled:o.isPending,children:"Cancel"}),n.jsx(he,{type:"submit",disabled:o.isPending,children:o.isPending?"Changing...":"Change Password"})]})]})]})})},ty=({isOpen:e,title:t,description:r,confirmLabel:s="Confirm",cancelLabel:a="Cancel",onConfirm:i,onCancel:o,children:l})=>{console.log("[confirm-dialog.tsx] ConfirmDialog rendered. isOpen:",e);const u=n.jsxs(ms,{className:"sm:max-w-[425px]",children:[n.jsxs(ps,{children:[n.jsx(xs,{children:t}),n.jsx(Ya,{children:r})]}),n.jsxs(gi,{children:[n.jsx(he,{variant:"secondary",onClick:o,children:a}),n.jsx(he,{variant:"destructive",onClick:i,children:s})]})]});return l?n.jsxs(hs,{open:e,onOpenChange:o,modal:!1,children:[n.jsx(V0,{asChild:!0,children:l}),u]}):n.jsx(hs,{open:e,onOpenChange:o,modal:!0,children:e&&u})};function XO(e){const t=jse(e),r=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),u=l.find(Ese);if(u){const f=u.props.children,h=l.map(x=>x===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:x);return n.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function jse(e){const t=g.forwardRef((r,s)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=Tse(a),l=Ase(i,a.props);return a.type!==g.Fragment&&(l.ref=s?td(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sse=Symbol("radix.slottable");function Ese(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sse}function Ase(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Tse(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function GT(e){const t=e+"CollectionProvider",[r,s]=zn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:w,children:j}=b,S=Le.useRef(null),A=Le.useRef(new Map).current;return n.jsx(a,{scope:w,itemMap:A,collectionRef:S,children:j})};o.displayName=t;const l=e+"CollectionSlot",u=XO(l),f=Le.forwardRef((b,w)=>{const{scope:j,children:S}=b,A=i(l,j),C=Ft(w,A.collectionRef);return n.jsx(u,{ref:C,children:S})});f.displayName=l;const h=e+"CollectionItemSlot",x="data-radix-collection-item",p=XO(h),y=Le.forwardRef((b,w)=>{const{scope:j,children:S,...A}=b,C=Le.useRef(null),T=Ft(w,C),D=i(h,j);return Le.useEffect(()=>(D.itemMap.set(C,{ref:C,...A}),()=>void D.itemMap.delete(C))),n.jsx(p,{[x]:"",ref:T,children:S})});y.displayName=h;function N(b){const w=i(e+"CollectionConsumer",b);return Le.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const A=Array.from(S.querySelectorAll(`[${x}]`));return Array.from(w.itemMap.values()).sort((D,_)=>A.indexOf(D.ref.current)-A.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:f,ItemSlot:y},N,s]}var Cse=g.createContext(void 0);function ry(e){const t=g.useContext(Cse);return e||t||"ltr"}var _se="DismissableLayer",WE="dismissableLayer.update",kse="dismissableLayer.pointerDownOutside",Dse="dismissableLayer.focusOutside",QO,cL=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dL=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(cL),[h,x]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),N=Ft(t,_=>x(_)),b=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(w),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,C=S>=j,T=Pse(_=>{const O=_.target,P=[...f.branches].some(B=>B.contains(O));!C||P||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},p),D=Mse(_=>{const O=_.target;[...f.branches].some(B=>B.contains(O))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},p);return L0(_=>{S===f.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},p),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(QO=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),ZO(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=QO)}},[h,p,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),ZO())},[h,f]),g.useEffect(()=>{const _=()=>y({});return document.addEventListener(WE,_),()=>document.removeEventListener(WE,_)},[]),n.jsx(_t.div,{...u,ref:N,style:{pointerEvents:A?C?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,T.onPointerDownCapture)})});dL.displayName=_se;var Ose="DismissableLayerBranch",Rse=g.forwardRef((e,t)=>{const r=g.useContext(cL),s=g.useRef(null),a=Ft(t,s);return g.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(_t.div,{...e,ref:a})});Rse.displayName=Ose;function Pse(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){uL(kse,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Mse(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!s.current&&uL(Dse,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ZO(){const e=new CustomEvent(WE);document.dispatchEvent(e)}function uL(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?q0(a,i):a.dispatchEvent(i)}var F2="focusScope.autoFocusOnMount",L2="focusScope.autoFocusOnUnmount",JO={bubbles:!1,cancelable:!0},Ise="FocusScope",fL=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=_r(a),h=_r(i),x=g.useRef(null),p=Ft(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let b=function(A){if(y.paused||!l)return;const C=A.target;l.contains(C)?x.current=C:Gd(x.current,{select:!0})},w=function(A){if(y.paused||!l)return;const C=A.relatedTarget;C!==null&&(l.contains(C)||Gd(x.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&Gd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),S.disconnect()}}},[s,l,y.paused]),g.useEffect(()=>{if(l){t5.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(F2,JO);l.addEventListener(F2,f),l.dispatchEvent(j),j.defaultPrevented||(Fse(Vse(hL(l)),{select:!0}),document.activeElement===b&&Gd(l))}return()=>{l.removeEventListener(F2,f),setTimeout(()=>{const j=new CustomEvent(L2,JO);l.addEventListener(L2,h),l.dispatchEvent(j),j.defaultPrevented||Gd(b??document.body,{select:!0}),l.removeEventListener(L2,h),t5.remove(y)},0)}}},[l,f,h,y]);const N=g.useCallback(b=>{if(!r&&!s||y.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(w&&j){const S=b.currentTarget,[A,C]=Lse(S);A&&C?!b.shiftKey&&j===C?(b.preventDefault(),r&&Gd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Gd(C,{select:!0})):j===S&&b.preventDefault()}},[r,s,y.paused]);return n.jsx(_t.div,{tabIndex:-1,...o,ref:p,onKeyDown:N})});fL.displayName=Ise;function Fse(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Gd(s,{select:t}),document.activeElement!==r)return}function Lse(e){const t=hL(e),r=e5(t,e),s=e5(t.reverse(),e);return[r,s]}function hL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function e5(e,t){for(const r of e)if(!Bse(r,{upTo:t}))return r}function Bse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $se(e){return e instanceof HTMLInputElement&&"select"in e}function Gd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&$se(e)&&t&&e.select()}}var t5=Use();function Use(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=r5(e,t),e.unshift(t)},remove(t){var r;e=r5(e,t),(r=e[0])==null||r.resume()}}}function r5(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Vse(e){return e.filter(t=>t.tagName!=="A")}const qse=["top","right","bottom","left"],Au=Math.min,Ri=Math.max,rb=Math.round,Yv=Math.floor,Ul=e=>({x:e,y:e}),zse={left:"right",right:"left",bottom:"top",top:"bottom"},Hse={start:"end",end:"start"};function GE(e,t,r){return Ri(e,Au(t,r))}function Hc(e,t){return typeof e=="function"?e(t):e}function Wc(e){return e.split("-")[0]}function W0(e){return e.split("-")[1]}function YT(e){return e==="x"?"y":"x"}function KT(e){return e==="y"?"height":"width"}function Tu(e){return["top","bottom"].includes(Wc(e))?"y":"x"}function XT(e){return YT(Tu(e))}function Wse(e,t,r){r===void 0&&(r=!1);const s=W0(e),a=XT(e),i=KT(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=sb(o)),[o,sb(o)]}function Gse(e){const t=sb(e);return[YE(e),t,YE(t)]}function YE(e){return e.replace(/start|end/g,t=>Hse[t])}function Yse(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function Kse(e,t,r,s){const a=W0(e);let i=Yse(Wc(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(YE)))),i}function sb(e){return e.replace(/left|right|bottom|top/g,t=>zse[t])}function Xse(e){return{top:0,right:0,bottom:0,left:0,...e}}function mL(e){return typeof e!="number"?Xse(e):{top:e,right:e,bottom:e,left:e}}function nb(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function s5(e,t,r){let{reference:s,floating:a}=e;const i=Tu(t),o=XT(t),l=KT(o),u=Wc(t),f=i==="y",h=s.x+s.width/2-a.width/2,x=s.y+s.height/2-a.height/2,p=s[l]/2-a[l]/2;let y;switch(u){case"top":y={x:h,y:s.y-a.height};break;case"bottom":y={x:h,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:x};break;case"left":y={x:s.x-a.width,y:x};break;default:y={x:s.x,y:s.y}}switch(W0(t)){case"start":y[o]-=p*(r&&f?-1:1);break;case"end":y[o]+=p*(r&&f?-1:1);break}return y}const Qse=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let f=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:x}=s5(f,s,u),p=s,y={},N=0;for(let b=0;b<l.length;b++){const{name:w,fn:j}=l[b],{x:S,y:A,data:C,reset:T}=await j({x:h,y:x,initialPlacement:s,placement:p,strategy:a,middlewareData:y,rects:f,platform:o,elements:{reference:e,floating:t}});h=S??h,x=A??x,y={...y,[w]:{...y[w],...C}},T&&N<=50&&(N++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(f=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:h,y:x}=s5(f,p,u)),b=-1)}return{x:h,y:x,placement:p,strategy:a,middlewareData:y}};async function mg(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:x="floating",altBoundary:p=!1,padding:y=0}=Hc(t,e),N=mL(y),w=l[p?x==="floating"?"reference":"floating":x],j=nb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:f,rootBoundary:h,strategy:u})),S=x==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},T=nb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:A,strategy:u}):S);return{top:(j.top-T.top+N.top)/C.y,bottom:(T.bottom-j.bottom+N.bottom)/C.y,left:(j.left-T.left+N.left)/C.x,right:(T.right-j.right+N.right)/C.x}}const Zse=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:u}=t,{element:f,padding:h=0}=Hc(e,t)||{};if(f==null)return{};const x=mL(h),p={x:r,y:s},y=XT(a),N=KT(y),b=await o.getDimensions(f),w=y==="y",j=w?"top":"left",S=w?"bottom":"right",A=w?"clientHeight":"clientWidth",C=i.reference[N]+i.reference[y]-p[y]-i.floating[N],T=p[y]-i.reference[y],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let _=D?D[A]:0;(!_||!await(o.isElement==null?void 0:o.isElement(D)))&&(_=l.floating[A]||i.floating[N]);const O=C/2-T/2,P=_/2-b[N]/2-1,B=Au(x[j],P),I=Au(x[S],P),G=B,z=_-b[N]-I,ae=_/2-b[N]/2+O,J=GE(G,ae,z),L=!u.arrow&&W0(a)!=null&&ae!==J&&i.reference[N]/2-(ae<G?B:I)-b[N]/2<0,U=L?ae<G?ae-G:ae-z:0;return{[y]:p[y]+U,data:{[y]:J,centerOffset:ae-J-U,...L&&{alignmentOffset:U}},reset:L}}}),Jse=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:f}=t,{mainAxis:h=!0,crossAxis:x=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:b=!0,...w}=Hc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=Wc(a),S=Tu(l),A=Wc(l)===l,C=await(u.isRTL==null?void 0:u.isRTL(f.floating)),T=p||(A||!b?[sb(l)]:Gse(l)),D=N!=="none";!p&&D&&T.push(...Kse(l,b,N,C));const _=[l,...T],O=await mg(t,w),P=[];let B=((s=i.flip)==null?void 0:s.overflows)||[];if(h&&P.push(O[j]),x){const ae=Wse(a,o,C);P.push(O[ae[0]],O[ae[1]])}if(B=[...B,{placement:a,overflows:P}],!P.every(ae=>ae<=0)){var I,G;const ae=(((I=i.flip)==null?void 0:I.index)||0)+1,J=_[ae];if(J)return{data:{index:ae,overflows:B},reset:{placement:J}};let L=(G=B.filter(U=>U.overflows[0]<=0).sort((U,F)=>U.overflows[1]-F.overflows[1])[0])==null?void 0:G.placement;if(!L)switch(y){case"bestFit":{var z;const U=(z=B.filter(F=>{if(D){const X=Tu(F.placement);return X===S||X==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(X=>X>0).reduce((X,q)=>X+q,0)]).sort((F,X)=>F[1]-X[1])[0])==null?void 0:z[0];U&&(L=U);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function n5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function a5(e){return qse.some(t=>e[t]>=0)}const ene=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Hc(e,t);switch(s){case"referenceHidden":{const i=await mg(t,{...a,elementContext:"reference"}),o=n5(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:a5(o)}}}case"escaped":{const i=await mg(t,{...a,altBoundary:!0}),o=n5(i,r.floating);return{data:{escapedOffsets:o,escaped:a5(o)}}}default:return{}}}}};async function tne(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Wc(r),l=W0(r),u=Tu(r)==="y",f=["left","top"].includes(o)?-1:1,h=i&&u?-1:1,x=Hc(t,e);let{mainAxis:p,crossAxis:y,alignmentAxis:N}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return l&&typeof N=="number"&&(y=l==="end"?N*-1:N),u?{x:y*h,y:p*f}:{x:p*f,y:y*h}}const rne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,u=await tne(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+u.x,y:i+u.y,data:{...u,placement:o}}}}},sne=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:j,y:S}=w;return{x:j,y:S}}},...u}=Hc(e,t),f={x:r,y:s},h=await mg(t,u),x=Tu(Wc(a)),p=YT(x);let y=f[p],N=f[x];if(i){const w=p==="y"?"top":"left",j=p==="y"?"bottom":"right",S=y+h[w],A=y-h[j];y=GE(S,y,A)}if(o){const w=x==="y"?"top":"left",j=x==="y"?"bottom":"right",S=N+h[w],A=N-h[j];N=GE(S,N,A)}const b=l.fn({...t,[p]:y,[x]:N});return{...b,data:{x:b.x-r,y:b.y-s,enabled:{[p]:i,[x]:o}}}}}},nne=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=Hc(e,t),h={x:r,y:s},x=Tu(a),p=YT(x);let y=h[p],N=h[x];const b=Hc(l,t),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const A=p==="y"?"height":"width",C=i.reference[p]-i.floating[A]+w.mainAxis,T=i.reference[p]+i.reference[A]-w.mainAxis;y<C?y=C:y>T&&(y=T)}if(f){var j,S;const A=p==="y"?"width":"height",C=["top","left"].includes(Wc(a)),T=i.reference[x]-i.floating[A]+(C&&((j=o.offset)==null?void 0:j[x])||0)+(C?0:w.crossAxis),D=i.reference[x]+i.reference[A]+(C?0:((S=o.offset)==null?void 0:S[x])||0)-(C?w.crossAxis:0);N<T?N=T:N>D&&(N=D)}return{[p]:y,[x]:N}}}},ane=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:u=()=>{},...f}=Hc(e,t),h=await mg(t,f),x=Wc(a),p=W0(a),y=Tu(a)==="y",{width:N,height:b}=i.floating;let w,j;x==="top"||x==="bottom"?(w=x,j=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=x,w=p==="end"?"top":"bottom");const S=b-h.top-h.bottom,A=N-h.left-h.right,C=Au(b-h[w],S),T=Au(N-h[j],A),D=!t.middlewareData.shift;let _=C,O=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=A),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(_=S),D&&!p){const B=Ri(h.left,0),I=Ri(h.right,0),G=Ri(h.top,0),z=Ri(h.bottom,0);y?O=N-2*(B!==0||I!==0?B+I:Ri(h.left,h.right)):_=b-2*(G!==0||z!==0?G+z:Ri(h.top,h.bottom))}await u({...t,availableWidth:O,availableHeight:_});const P=await o.getDimensions(l.floating);return N!==P.width||b!==P.height?{reset:{rects:!0}}:{}}}};function gw(){return typeof window<"u"}function G0(e){return pL(e)?(e.nodeName||"").toLowerCase():"#document"}function Ui(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ec(e){var t;return(t=(pL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pL(e){return gw()?e instanceof Node||e instanceof Ui(e).Node:!1}function al(e){return gw()?e instanceof Element||e instanceof Ui(e).Element:!1}function Kl(e){return gw()?e instanceof HTMLElement||e instanceof Ui(e).HTMLElement:!1}function i5(e){return!gw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ui(e).ShadowRoot}function sy(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=il(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function ine(e){return["table","td","th"].includes(G0(e))}function yw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function QT(e){const t=ZT(),r=al(e)?il(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function one(e){let t=Cu(e);for(;Kl(t)&&!v0(t);){if(QT(t))return t;if(yw(t))return null;t=Cu(t)}return null}function ZT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function v0(e){return["html","body","#document"].includes(G0(e))}function il(e){return Ui(e).getComputedStyle(e)}function vw(e){return al(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cu(e){if(G0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||i5(e)&&e.host||ec(e);return i5(t)?t.host:t}function xL(e){const t=Cu(e);return v0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Kl(t)&&sy(t)?t:xL(t)}function pg(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=xL(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Ui(a);if(i){const l=KE(o);return t.concat(o,o.visualViewport||[],sy(a)?a:[],l&&r?pg(l):[])}return t.concat(a,pg(a,[],r))}function KE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gL(e){const t=il(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Kl(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=rb(r)!==i||rb(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function JT(e){return al(e)?e:e.contextElement}function qm(e){const t=JT(e);if(!Kl(t))return Ul(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=gL(t);let o=(i?rb(r.width):r.width)/s,l=(i?rb(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const lne=Ul(0);function yL(e){const t=Ui(e);return!ZT()||!t.visualViewport?lne:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function cne(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ui(e)?!1:t}function Gf(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=JT(e);let o=Ul(1);t&&(s?al(s)&&(o=qm(s)):o=qm(e));const l=cne(i,r,s)?yL(i):Ul(0);let u=(a.left+l.x)/o.x,f=(a.top+l.y)/o.y,h=a.width/o.x,x=a.height/o.y;if(i){const p=Ui(i),y=s&&al(s)?Ui(s):s;let N=p,b=KE(N);for(;b&&s&&y!==N;){const w=qm(b),j=b.getBoundingClientRect(),S=il(b),A=j.left+(b.clientLeft+parseFloat(S.paddingLeft))*w.x,C=j.top+(b.clientTop+parseFloat(S.paddingTop))*w.y;u*=w.x,f*=w.y,h*=w.x,x*=w.y,u+=A,f+=C,N=Ui(b),b=KE(N)}}return nb({width:h,height:x,x:u,y:f})}function eC(e,t){const r=vw(e).scrollLeft;return t?t.left+r:Gf(ec(e)).left+r}function vL(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:eC(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function dne(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=ec(s),l=t?yw(t.floating):!1;if(s===o||l&&i)return r;let u={scrollLeft:0,scrollTop:0},f=Ul(1);const h=Ul(0),x=Kl(s);if((x||!x&&!i)&&((G0(s)!=="body"||sy(o))&&(u=vw(s)),Kl(s))){const y=Gf(s);f=qm(s),h.x=y.x+s.clientLeft,h.y=y.y+s.clientTop}const p=o&&!x&&!i?vL(o,u,!0):Ul(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+h.x+p.x,y:r.y*f.y-u.scrollTop*f.y+h.y+p.y}}function une(e){return Array.from(e.getClientRects())}function fne(e){const t=ec(e),r=vw(e),s=e.ownerDocument.body,a=Ri(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Ri(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+eC(e);const l=-r.scrollTop;return il(s).direction==="rtl"&&(o+=Ri(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function hne(e,t){const r=Ui(e),s=ec(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,u=0;if(a){i=a.width,o=a.height;const f=ZT();(!f||f&&t==="fixed")&&(l=a.offsetLeft,u=a.offsetTop)}return{width:i,height:o,x:l,y:u}}function mne(e,t){const r=Gf(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Kl(e)?qm(e):Ul(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,u=a*i.x,f=s*i.y;return{width:o,height:l,x:u,y:f}}function o5(e,t,r){let s;if(t==="viewport")s=hne(e,r);else if(t==="document")s=fne(ec(e));else if(al(t))s=mne(t,r);else{const a=yL(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return nb(s)}function bL(e,t){const r=Cu(e);return r===t||!al(r)||v0(r)?!1:il(r).position==="fixed"||bL(r,t)}function pne(e,t){const r=t.get(e);if(r)return r;let s=pg(e,[],!1).filter(l=>al(l)&&G0(l)!=="body"),a=null;const i=il(e).position==="fixed";let o=i?Cu(e):e;for(;al(o)&&!v0(o);){const l=il(o),u=QT(o);!u&&l.position==="fixed"&&(a=null),(i?!u&&!a:!u&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||sy(o)&&!u&&bL(e,o))?s=s.filter(h=>h!==o):a=l,o=Cu(o)}return t.set(e,s),s}function xne(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?yw(t)?[]:pne(t,this._c):[].concat(r),s],l=o[0],u=o.reduce((f,h)=>{const x=o5(t,h,a);return f.top=Ri(x.top,f.top),f.right=Au(x.right,f.right),f.bottom=Au(x.bottom,f.bottom),f.left=Ri(x.left,f.left),f},o5(t,l,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function gne(e){const{width:t,height:r}=gL(e);return{width:t,height:r}}function yne(e,t,r){const s=Kl(t),a=ec(t),i=r==="fixed",o=Gf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const u=Ul(0);if(s||!s&&!i)if((G0(t)!=="body"||sy(a))&&(l=vw(t)),s){const p=Gf(t,!0,i,t);u.x=p.x+t.clientLeft,u.y=p.y+t.clientTop}else a&&(u.x=eC(a));const f=a&&!s&&!i?vL(a,l):Ul(0),h=o.left+l.scrollLeft-u.x-f.x,x=o.top+l.scrollTop-u.y-f.y;return{x:h,y:x,width:o.width,height:o.height}}function B2(e){return il(e).position==="static"}function l5(e,t){if(!Kl(e)||il(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ec(e)===r&&(r=r.ownerDocument.body),r}function wL(e,t){const r=Ui(e);if(yw(e))return r;if(!Kl(e)){let a=Cu(e);for(;a&&!v0(a);){if(al(a)&&!B2(a))return a;a=Cu(a)}return r}let s=l5(e,t);for(;s&&ine(s)&&B2(s);)s=l5(s,t);return s&&v0(s)&&B2(s)&&!QT(s)?r:s||one(e)||r}const vne=async function(e){const t=this.getOffsetParent||wL,r=this.getDimensions,s=await r(e.floating);return{reference:yne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function bne(e){return il(e).direction==="rtl"}const wne={convertOffsetParentRelativeRectToViewportRelativeRect:dne,getDocumentElement:ec,getClippingRect:xne,getOffsetParent:wL,getElementRects:vne,getClientRects:une,getDimensions:gne,getScale:qm,isElement:al,isRTL:bne};function NL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Nne(e,t){let r=null,s;const a=ec(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const f=e.getBoundingClientRect(),{left:h,top:x,width:p,height:y}=f;if(l||t(),!p||!y)return;const N=Yv(x),b=Yv(a.clientWidth-(h+p)),w=Yv(a.clientHeight-(x+y)),j=Yv(h),A={rootMargin:-N+"px "+-b+"px "+-w+"px "+-j+"px",threshold:Ri(0,Au(1,u))||1};let C=!0;function T(D){const _=D[0].intersectionRatio;if(_!==u){if(!C)return o();_?o(!1,_):s=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!NL(f,e.getBoundingClientRect())&&o(),C=!1}try{r=new IntersectionObserver(T,{...A,root:a.ownerDocument})}catch{r=new IntersectionObserver(T,A)}r.observe(e)}return o(!0),i}function jne(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,f=JT(e),h=a||i?[...f?pg(f):[],...pg(t)]:[];h.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const x=f&&l?Nne(f,r):null;let p=-1,y=null;o&&(y=new ResizeObserver(j=>{let[S]=j;S&&S.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),r()}),f&&!u&&y.observe(f),y.observe(t));let N,b=u?Gf(e):null;u&&w();function w(){const j=Gf(e);b&&!NL(b,j)&&r(),b=j,N=requestAnimationFrame(w)}return r(),()=>{var j;h.forEach(S=>{a&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),x==null||x(),(j=y)==null||j.disconnect(),y=null,u&&cancelAnimationFrame(N)}}const Sne=rne,Ene=sne,Ane=Jse,Tne=ane,Cne=ene,c5=Zse,_ne=nne,kne=(e,t,r)=>{const s=new Map,a={platform:wne,...r},i={...a.platform,_c:s};return Qse(e,t,{...a,platform:i})};var O1=typeof document<"u"?g.useLayoutEffect:g.useEffect;function ab(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!ab(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!ab(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function jL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function d5(e,t){const r=jL(e);return Math.round(t*r)/r}function $2(e){const t=g.useRef(e);return O1(()=>{t.current=e}),t}function Dne(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:f}=e,[h,x]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,y]=g.useState(s);ab(p,s)||y(s);const[N,b]=g.useState(null),[w,j]=g.useState(null),S=g.useCallback(F=>{F!==D.current&&(D.current=F,b(F))},[]),A=g.useCallback(F=>{F!==_.current&&(_.current=F,j(F))},[]),C=i||N,T=o||w,D=g.useRef(null),_=g.useRef(null),O=g.useRef(h),P=u!=null,B=$2(u),I=$2(a),G=$2(f),z=g.useCallback(()=>{if(!D.current||!_.current)return;const F={placement:t,strategy:r,middleware:p};I.current&&(F.platform=I.current),kne(D.current,_.current,F).then(X=>{const q={...X,isPositioned:G.current!==!1};ae.current&&!ab(O.current,q)&&(O.current=q,oh.flushSync(()=>{x(q)}))})},[p,t,r,I,G]);O1(()=>{f===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,x(F=>({...F,isPositioned:!1})))},[f]);const ae=g.useRef(!1);O1(()=>(ae.current=!0,()=>{ae.current=!1}),[]),O1(()=>{if(C&&(D.current=C),T&&(_.current=T),C&&T){if(B.current)return B.current(C,T,z);z()}},[C,T,z,B,P]);const J=g.useMemo(()=>({reference:D,floating:_,setReference:S,setFloating:A}),[S,A]),L=g.useMemo(()=>({reference:C,floating:T}),[C,T]),U=g.useMemo(()=>{const F={position:r,left:0,top:0};if(!L.floating)return F;const X=d5(L.floating,h.x),q=d5(L.floating,h.y);return l?{...F,transform:"translate("+X+"px, "+q+"px)",...jL(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:q}},[r,l,L.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:z,refs:J,elements:L,floatingStyles:U}),[h,z,J,L,U])}const One=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?c5({element:s.current,padding:a}).fn(r):{}:s?c5({element:s,padding:a}).fn(r):{}}}},Rne=(e,t)=>({...Sne(e),options:[e,t]}),Pne=(e,t)=>({...Ene(e),options:[e,t]}),Mne=(e,t)=>({..._ne(e),options:[e,t]}),Ine=(e,t)=>({...Ane(e),options:[e,t]}),Fne=(e,t)=>({...Tne(e),options:[e,t]}),Lne=(e,t)=>({...Cne(e),options:[e,t]}),Bne=(e,t)=>({...One(e),options:[e,t]});var $ne="Arrow",SL=g.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(_t.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});SL.displayName=$ne;var Une=SL;function bw(e){const[t,r]=g.useState(void 0);return gs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,l=f.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var tC="Popper",[EL,Bu]=zn(tC),[Vne,AL]=EL(tC),TL=e=>{const{__scopePopper:t,children:r}=e,[s,a]=g.useState(null);return n.jsx(Vne,{scope:t,anchor:s,onAnchorChange:a,children:r})};TL.displayName=tC;var CL="PopperAnchor",_L=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=AL(CL,r),o=g.useRef(null),l=Ft(t,o);return g.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(_t.div,{...a,ref:l})});_L.displayName=CL;var rC="PopperContent",[qne,zne]=EL(rC),kL=g.forwardRef((e,t)=>{var ie,xe,ue,de,De,Ne;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:x="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:N,...b}=e,w=AL(rC,r),[j,S]=g.useState(null),A=Ft(t,ot=>S(ot)),[C,T]=g.useState(null),D=bw(C),_=(D==null?void 0:D.width)??0,O=(D==null?void 0:D.height)??0,P=s+(i!=="center"?"-"+i:""),B=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(f)?f:[f],G=I.length>0,z={padding:B,boundary:I.filter(Wne),altBoundary:G},{refs:ae,floatingStyles:J,placement:L,isPositioned:U,middlewareData:F}=Dne({strategy:"fixed",placement:P,whileElementsMounted:(...ot)=>jne(...ot,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[Rne({mainAxis:a+O,alignmentAxis:o}),u&&Pne({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?Mne():void 0,...z}),u&&Ine({...z}),Fne({...z,apply:({elements:ot,rects:Ee,availableWidth:Ae,availableHeight:Ye})=>{const{width:be,height:ge}=Ee.reference,Me=ot.floating.style;Me.setProperty("--radix-popper-available-width",`${Ae}px`),Me.setProperty("--radix-popper-available-height",`${Ye}px`),Me.setProperty("--radix-popper-anchor-width",`${be}px`),Me.setProperty("--radix-popper-anchor-height",`${ge}px`)}}),C&&Bne({element:C,padding:l}),Gne({arrowWidth:_,arrowHeight:O}),p&&Lne({strategy:"referenceHidden",...z})]}),[X,q]=RL(L),te=_r(N);gs(()=>{U&&(te==null||te())},[U,te]);const M=(ie=F.arrow)==null?void 0:ie.x,W=(xe=F.arrow)==null?void 0:xe.y,K=((ue=F.arrow)==null?void 0:ue.centerOffset)!==0,[V,Q]=g.useState();return gs(()=>{j&&Q(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:U?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(de=F.transformOrigin)==null?void 0:de.x,(De=F.transformOrigin)==null?void 0:De.y].join(" "),...((Ne=F.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(qne,{scope:r,placedSide:X,onArrowChange:T,arrowX:M,arrowY:W,shouldHideArrow:K,children:n.jsx(_t.div,{"data-side":X,"data-align":q,...b,ref:A,style:{...b.style,animation:U?void 0:"none"}})})})});kL.displayName=rC;var DL="PopperArrow",Hne={top:"bottom",right:"left",bottom:"top",left:"right"},OL=g.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=zne(DL,s),o=Hne[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(Une,{...a,ref:r,style:{...a.style,display:"block"}})})});OL.displayName=DL;function Wne(e){return e!==null}var Gne=e=>({name:"transformOrigin",options:e,fn(t){var w,j,S;const{placement:r,rects:s,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,u=o?0:e.arrowHeight,[f,h]=RL(r),x={start:"0%",center:"50%",end:"100%"}[h],p=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,y=(((S=a.arrow)==null?void 0:S.y)??0)+u/2;let N="",b="";return f==="bottom"?(N=o?x:`${p}px`,b=`${-u}px`):f==="top"?(N=o?x:`${p}px`,b=`${s.floating.height+u}px`):f==="right"?(N=`${-u}px`,b=o?x:`${y}px`):f==="left"&&(N=`${s.floating.width+u}px`,b=o?x:`${y}px`),{data:{x:N,y:b}}}});function RL(e){const[t,r="center"]=e.split("-");return[t,r]}var ww=TL,ny=_L,Nw=kL,jw=OL,Yne="Portal",PL=g.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=g.useState(!1);gs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(n.jsx(_t.div,{...s,ref:t}),o):null});PL.displayName=Yne;function Kne(e,t){return g.useReducer((r,s)=>t[r][s]??r,e)}var Dn=e=>{const{present:t,children:r}=e,s=Xne(t),a=typeof r=="function"?r({present:s.isPresent}):g.Children.only(r),i=Ft(s.ref,Qne(a));return typeof r=="function"||s.isPresent?g.cloneElement(a,{ref:i}):null};Dn.displayName="Presence";function Xne(e){const[t,r]=g.useState(),s=g.useRef({}),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,u]=Kne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const f=Kv(s.current);i.current=l==="mounted"?f:"none"},[l]),gs(()=>{const f=s.current,h=a.current;if(h!==e){const p=i.current,y=Kv(f);e?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),gs(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,x=y=>{const b=Kv(s.current).includes(y.animationName);if(y.target===t&&b&&(u("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=y=>{y.target===t&&(i.current=Kv(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(f=>{f&&(s.current=getComputedStyle(f)),r(f)},[])}}function Kv(e){return(e==null?void 0:e.animationName)||"none"}function Qne(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var U2="rovingFocusGroup.onEntryFocus",Zne={bubbles:!1,cancelable:!0},ay="RovingFocusGroup",[XE,ML,Jne]=GT(ay),[eae,Sw]=zn(ay,[Jne]),[tae,rae]=eae(ay),IL=g.forwardRef((e,t)=>n.jsx(XE.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(XE.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(sae,{...e,ref:t})})}));IL.displayName=ay;var sae=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...x}=e,p=g.useRef(null),y=Ft(t,p),N=ry(i),[b,w]=jo({prop:o,defaultProp:l??null,onChange:u,caller:ay}),[j,S]=g.useState(!1),A=_r(f),C=ML(r),T=g.useRef(!1),[D,_]=g.useState(0);return g.useEffect(()=>{const O=p.current;if(O)return O.addEventListener(U2,A),()=>O.removeEventListener(U2,A)},[A]),n.jsx(tae,{scope:r,orientation:s,dir:N,loop:a,currentTabStopId:b,onItemFocus:g.useCallback(O=>w(O),[w]),onItemShiftTab:g.useCallback(()=>S(!0),[]),onFocusableItemAdd:g.useCallback(()=>_(O=>O+1),[]),onFocusableItemRemove:g.useCallback(()=>_(O=>O-1),[]),children:n.jsx(_t.div,{tabIndex:j||D===0?-1:0,"data-orientation":s,...x,ref:y,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{T.current=!0}),onFocus:dt(e.onFocus,O=>{const P=!T.current;if(O.target===O.currentTarget&&P&&!j){const B=new CustomEvent(U2,Zne);if(O.currentTarget.dispatchEvent(B),!B.defaultPrevented){const I=C().filter(L=>L.focusable),G=I.find(L=>L.active),z=I.find(L=>L.id===b),J=[G,z,...I].filter(Boolean).map(L=>L.ref.current);BL(J,h)}}T.current=!1}),onBlur:dt(e.onBlur,()=>S(!1))})})}),FL="RovingFocusGroupItem",LL=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,u=Ha(),f=i||u,h=rae(FL,r),x=h.currentTabStopId===f,p=ML(r),{onFocusableItemAdd:y,onFocusableItemRemove:N,currentTabStopId:b}=h;return g.useEffect(()=>{if(s)return y(),()=>N()},[s,y,N]),n.jsx(XE.ItemSlot,{scope:r,id:f,focusable:s,active:a,children:n.jsx(_t.span,{tabIndex:x?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:dt(e.onMouseDown,w=>{s?h.onItemFocus(f):w.preventDefault()}),onFocus:dt(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:dt(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const j=iae(w,h.orientation,h.dir);if(j!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let A=p().filter(C=>C.focusable).map(C=>C.ref.current);if(j==="last")A.reverse();else if(j==="prev"||j==="next"){j==="prev"&&A.reverse();const C=A.indexOf(w.currentTarget);A=h.loop?oae(A,C+1):A.slice(C+1)}setTimeout(()=>BL(A))}}),children:typeof o=="function"?o({isCurrentTabStop:x,hasTabStop:b!=null}):o})})});LL.displayName=FL;var nae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function iae(e,t,r){const s=aae(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return nae[s]}function BL(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function oae(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var $L=IL,UL=LL;function lae(e){const t=cae(e),r=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),u=l.find(uae);if(u){const f=u.props.children,h=l.map(x=>x===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:x);return n.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function cae(e){const t=g.forwardRef((r,s)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=hae(a),l=fae(i,a.props);return a.type!==g.Fragment&&(l.ref=s?td(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dae=Symbol("radix.slottable");function uae(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dae}function fae(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function hae(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var QE=["Enter"," "],mae=["ArrowDown","PageUp","Home"],VL=["ArrowUp","PageDown","End"],pae=[...mae,...VL],xae={ltr:[...QE,"ArrowRight"],rtl:[...QE,"ArrowLeft"]},gae={ltr:["ArrowLeft"],rtl:["ArrowRight"]},iy="Menu",[xg,yae,vae]=GT(iy),[hh,qL]=zn(iy,[vae,Bu,Sw]),Ew=Bu(),zL=Sw(),[bae,mh]=hh(iy),[wae,oy]=hh(iy),HL=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=Ew(t),[u,f]=g.useState(null),h=g.useRef(!1),x=_r(i),p=ry(a);return g.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),n.jsx(ww,{...l,children:n.jsx(bae,{scope:t,open:r,onOpenChange:x,content:u,onContentChange:f,children:n.jsx(wae,{scope:t,onClose:g.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:h,dir:p,modal:o,children:s})})})};HL.displayName=iy;var Nae="MenuAnchor",sC=g.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Ew(r);return n.jsx(ny,{...a,...s,ref:t})});sC.displayName=Nae;var nC="MenuPortal",[jae,WL]=hh(nC,{forceMount:void 0}),GL=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=mh(nC,t);return n.jsx(jae,{scope:t,forceMount:r,children:n.jsx(Dn,{present:r||i.open,children:n.jsx(PL,{asChild:!0,container:a,children:s})})})};GL.displayName=nC;var bo="MenuContent",[Sae,aC]=hh(bo),YL=g.forwardRef((e,t)=>{const r=WL(bo,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=mh(bo,e.__scopeMenu),o=oy(bo,e.__scopeMenu);return n.jsx(xg.Provider,{scope:e.__scopeMenu,children:n.jsx(Dn,{present:s||i.open,children:n.jsx(xg.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(Eae,{...a,ref:t}):n.jsx(Aae,{...a,ref:t})})})})}),Eae=g.forwardRef((e,t)=>{const r=mh(bo,e.__scopeMenu),s=g.useRef(null),a=Ft(t,s);return g.useEffect(()=>{const i=s.current;if(i)return B0(i)},[]),n.jsx(iC,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:dt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Aae=g.forwardRef((e,t)=>{const r=mh(bo,e.__scopeMenu);return n.jsx(iC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Tae=lae("MenuContent.ScrollLock"),iC=g.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:x,onInteractOutside:p,onDismiss:y,disableOutsideScroll:N,...b}=e,w=mh(bo,r),j=oy(bo,r),S=Ew(r),A=zL(r),C=yae(r),[T,D]=g.useState(null),_=g.useRef(null),O=Ft(t,_,w.onContentChange),P=g.useRef(0),B=g.useRef(""),I=g.useRef(0),G=g.useRef(null),z=g.useRef("right"),ae=g.useRef(0),J=N?ch:g.Fragment,L=N?{as:Tae,allowPinchZoom:!0}:void 0,U=X=>{var ie,xe;const q=B.current+X,te=C().filter(ue=>!ue.disabled),M=document.activeElement,W=(ie=te.find(ue=>ue.ref.current===M))==null?void 0:ie.textValue,K=te.map(ue=>ue.textValue),V=Bae(K,q,W),Q=(xe=te.find(ue=>ue.textValue===V))==null?void 0:xe.ref.current;(function ue(de){B.current=de,window.clearTimeout(P.current),de!==""&&(P.current=window.setTimeout(()=>ue(""),1e3))})(q),Q&&setTimeout(()=>Q.focus())};g.useEffect(()=>()=>window.clearTimeout(P.current),[]),Zg();const F=g.useCallback(X=>{var te,M;return z.current===((te=G.current)==null?void 0:te.side)&&Uae(X,(M=G.current)==null?void 0:M.area)},[]);return n.jsx(Sae,{scope:r,searchRef:B,onItemEnter:g.useCallback(X=>{F(X)&&X.preventDefault()},[F]),onItemLeave:g.useCallback(X=>{var q;F(X)||((q=_.current)==null||q.focus(),D(null))},[F]),onTriggerLeave:g.useCallback(X=>{F(X)&&X.preventDefault()},[F]),pointerGraceTimerRef:I,onPointerGraceIntentChange:g.useCallback(X=>{G.current=X},[]),children:n.jsx(J,{...L,children:n.jsx(fL,{asChild:!0,trapped:a,onMountAutoFocus:dt(i,X=>{var q;X.preventDefault(),(q=_.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(dL,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:x,onInteractOutside:p,onDismiss:y,children:n.jsx($L,{asChild:!0,...A,dir:j.dir,orientation:"vertical",loop:s,currentTabStopId:T,onCurrentTabStopIdChange:D,onEntryFocus:dt(u,X=>{j.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(Nw,{role:"menu","aria-orientation":"vertical","data-state":d8(w.open),"data-radix-menu-content":"",dir:j.dir,...S,...b,ref:O,style:{outline:"none",...b.style},onKeyDown:dt(b.onKeyDown,X=>{const te=X.target.closest("[data-radix-menu-content]")===X.currentTarget,M=X.ctrlKey||X.altKey||X.metaKey,W=X.key.length===1;te&&(X.key==="Tab"&&X.preventDefault(),!M&&W&&U(X.key));const K=_.current;if(X.target!==K||!pae.includes(X.key))return;X.preventDefault();const Q=C().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);VL.includes(X.key)&&Q.reverse(),Fae(Q)}),onBlur:dt(e.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(P.current),B.current="")}),onPointerMove:dt(e.onPointerMove,gg(X=>{const q=X.target,te=ae.current!==X.clientX;if(X.currentTarget.contains(q)&&te){const M=X.clientX>ae.current?"right":"left";z.current=M,ae.current=X.clientX}}))})})})})})})});YL.displayName=bo;var Cae="MenuGroup",oC=g.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(_t.div,{role:"group",...s,ref:t})});oC.displayName=Cae;var _ae="MenuLabel",KL=g.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(_t.div,{...s,ref:t})});KL.displayName=_ae;var ib="MenuItem",u5="menu.itemSelect",Aw=g.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=g.useRef(null),o=oy(ib,e.__scopeMenu),l=aC(ib,e.__scopeMenu),u=Ft(t,i),f=g.useRef(!1),h=()=>{const x=i.current;if(!r&&x){const p=new CustomEvent(u5,{bubbles:!0,cancelable:!0});x.addEventListener(u5,y=>s==null?void 0:s(y),{once:!0}),q0(x,p),p.defaultPrevented?f.current=!1:o.onClose()}};return n.jsx(XL,{...a,ref:u,disabled:r,onClick:dt(e.onClick,h),onPointerDown:x=>{var p;(p=e.onPointerDown)==null||p.call(e,x),f.current=!0},onPointerUp:dt(e.onPointerUp,x=>{var p;f.current||(p=x.currentTarget)==null||p.click()}),onKeyDown:dt(e.onKeyDown,x=>{const p=l.searchRef.current!=="";r||p&&x.key===" "||QE.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});Aw.displayName=ib;var XL=g.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=aC(ib,r),l=zL(r),u=g.useRef(null),f=Ft(t,u),[h,x]=g.useState(!1),[p,y]=g.useState("");return g.useEffect(()=>{const N=u.current;N&&y((N.textContent??"").trim())},[i.children]),n.jsx(xg.ItemSlot,{scope:r,disabled:s,textValue:a??p,children:n.jsx(UL,{asChild:!0,...l,focusable:!s,children:n.jsx(_t.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:f,onPointerMove:dt(e.onPointerMove,gg(N=>{s?o.onItemLeave(N):(o.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:dt(e.onPointerLeave,gg(N=>o.onItemLeave(N))),onFocus:dt(e.onFocus,()=>x(!0)),onBlur:dt(e.onBlur,()=>x(!1))})})})}),kae="MenuCheckboxItem",QL=g.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(r8,{scope:e.__scopeMenu,checked:r,children:n.jsx(Aw,{role:"menuitemcheckbox","aria-checked":ob(r)?"mixed":r,...a,ref:t,"data-state":cC(r),onSelect:dt(a.onSelect,()=>s==null?void 0:s(ob(r)?!0:!r),{checkForDefaultPrevented:!1})})})});QL.displayName=kae;var ZL="MenuRadioGroup",[Dae,Oae]=hh(ZL,{value:void 0,onValueChange:()=>{}}),JL=g.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=_r(s);return n.jsx(Dae,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(oC,{...a,ref:t})})});JL.displayName=ZL;var e8="MenuRadioItem",t8=g.forwardRef((e,t)=>{const{value:r,...s}=e,a=Oae(e8,e.__scopeMenu),i=r===a.value;return n.jsx(r8,{scope:e.__scopeMenu,checked:i,children:n.jsx(Aw,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":cC(i),onSelect:dt(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});t8.displayName=e8;var lC="MenuItemIndicator",[r8,Rae]=hh(lC,{checked:!1}),s8=g.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=Rae(lC,r);return n.jsx(Dn,{present:s||ob(i.checked)||i.checked===!0,children:n.jsx(_t.span,{...a,ref:t,"data-state":cC(i.checked)})})});s8.displayName=lC;var Pae="MenuSeparator",n8=g.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(_t.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});n8.displayName=Pae;var Mae="MenuArrow",a8=g.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Ew(r);return n.jsx(jw,{...a,...s,ref:t})});a8.displayName=Mae;var Iae="MenuSub",[lPe,i8]=hh(Iae),wx="MenuSubTrigger",o8=g.forwardRef((e,t)=>{const r=mh(wx,e.__scopeMenu),s=oy(wx,e.__scopeMenu),a=i8(wx,e.__scopeMenu),i=aC(wx,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=i,f={__scopeMenu:e.__scopeMenu},h=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>h,[h]),g.useEffect(()=>{const x=l.current;return()=>{window.clearTimeout(x),u(null)}},[l,u]),n.jsx(sC,{asChild:!0,...f,children:n.jsx(XL,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":d8(r.open),...e,ref:td(t,a.onTriggerChange),onClick:x=>{var p;(p=e.onClick)==null||p.call(e,x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:dt(e.onPointerMove,gg(x=>{i.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:dt(e.onPointerLeave,gg(x=>{var y,N;h();const p=(y=r.content)==null?void 0:y.getBoundingClientRect();if(p){const b=(N=r.content)==null?void 0:N.dataset.side,w=b==="right",j=w?-5:5,S=p[w?"left":"right"],A=p[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:x.clientX+j,y:x.clientY},{x:S,y:p.top},{x:A,y:p.top},{x:A,y:p.bottom},{x:S,y:p.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(x),x.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:dt(e.onKeyDown,x=>{var y;const p=i.searchRef.current!=="";e.disabled||p&&x.key===" "||xae[s.dir].includes(x.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),x.preventDefault())})})})});o8.displayName=wx;var l8="MenuSubContent",c8=g.forwardRef((e,t)=>{const r=WL(bo,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=mh(bo,e.__scopeMenu),o=oy(bo,e.__scopeMenu),l=i8(l8,e.__scopeMenu),u=g.useRef(null),f=Ft(t,u);return n.jsx(xg.Provider,{scope:e.__scopeMenu,children:n.jsx(Dn,{present:s||i.open,children:n.jsx(xg.Slot,{scope:e.__scopeMenu,children:n.jsx(iC,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var x;o.isUsingKeyboardRef.current&&((x=u.current)==null||x.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:dt(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:dt(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:dt(e.onKeyDown,h=>{var y;const x=h.currentTarget.contains(h.target),p=gae[o.dir].includes(h.key);x&&p&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});c8.displayName=l8;function d8(e){return e?"open":"closed"}function ob(e){return e==="indeterminate"}function cC(e){return ob(e)?"indeterminate":e?"checked":"unchecked"}function Fae(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Lae(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function Bae(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Lae(e,Math.max(i,0));a.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function $ae(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],u=t[o],f=l.x,h=l.y,x=u.x,p=u.y;h>s!=p>s&&r<(x-f)*(s-h)/(p-h)+f&&(a=!a)}return a}function Uae(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return $ae(r,t)}function gg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Vae=HL,qae=sC,zae=GL,Hae=YL,Wae=oC,Gae=KL,Yae=Aw,Kae=QL,Xae=JL,Qae=t8,Zae=s8,Jae=n8,eie=a8,tie=o8,rie=c8,Tw="DropdownMenu",[sie,cPe]=zn(Tw,[qL]),Ka=qL(),[nie,u8]=sie(Tw),f8=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,u=Ka(t),f=g.useRef(null),[h,x]=jo({prop:a,defaultProp:i??!1,onChange:o,caller:Tw});return n.jsx(nie,{scope:t,triggerId:Ha(),triggerRef:f,contentId:Ha(),open:h,onOpenChange:x,onOpenToggle:g.useCallback(()=>x(p=>!p),[x]),modal:l,children:n.jsx(Vae,{...u,open:h,onOpenChange:x,dir:s,modal:l,children:r})})};f8.displayName=Tw;var h8="DropdownMenuTrigger",m8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=u8(h8,r),o=Ka(r);return n.jsx(qae,{asChild:!0,...o,children:n.jsx(_t.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:td(t,i.triggerRef),onPointerDown:dt(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:dt(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});m8.displayName=h8;var aie="DropdownMenuPortal",p8=e=>{const{__scopeDropdownMenu:t,...r}=e,s=Ka(t);return n.jsx(zae,{...s,...r})};p8.displayName=aie;var x8="DropdownMenuContent",g8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=u8(x8,r),i=Ka(r),o=g.useRef(!1);return n.jsx(Hae,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:dt(e.onCloseAutoFocus,l=>{var u;o.current||(u=a.triggerRef.current)==null||u.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:dt(e.onInteractOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;(!a.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});g8.displayName=x8;var iie="DropdownMenuGroup",y8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ka(r);return n.jsx(Wae,{...a,...s,ref:t})});y8.displayName=iie;var oie="DropdownMenuLabel",v8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ka(r);return n.jsx(Gae,{...a,...s,ref:t})});v8.displayName=oie;var lie="DropdownMenuItem",b8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ka(r);return n.jsx(Yae,{...a,...s,ref:t})});b8.displayName=lie;var cie="DropdownMenuCheckboxItem",die=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ka(r);return n.jsx(Kae,{...a,...s,ref:t})});die.displayName=cie;var uie="DropdownMenuRadioGroup",fie=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ka(r);return n.jsx(Xae,{...a,...s,ref:t})});fie.displayName=uie;var hie="DropdownMenuRadioItem",mie=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ka(r);return n.jsx(Qae,{...a,...s,ref:t})});mie.displayName=hie;var pie="DropdownMenuItemIndicator",xie=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ka(r);return n.jsx(Zae,{...a,...s,ref:t})});xie.displayName=pie;var gie="DropdownMenuSeparator",w8=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ka(r);return n.jsx(Jae,{...a,...s,ref:t})});w8.displayName=gie;var yie="DropdownMenuArrow",vie=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ka(r);return n.jsx(eie,{...a,...s,ref:t})});vie.displayName=yie;var bie="DropdownMenuSubTrigger",wie=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ka(r);return n.jsx(tie,{...a,...s,ref:t})});wie.displayName=bie;var Nie="DropdownMenuSubContent",jie=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ka(r);return n.jsx(rie,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jie.displayName=Nie;var Sie=f8,Eie=m8,Aie=p8,Tie=g8,Cie=y8,_ie=v8,kie=b8,Die=w8;function Y0({...e}){return n.jsx(Sie,{"data-slot":"dropdown-menu",...e})}function K0({...e}){return n.jsx(Eie,{"data-slot":"dropdown-menu-trigger",...e})}function X0({className:e,sideOffset:t=4,...r}){return n.jsx(Aie,{children:n.jsx(Tie,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function dC({...e}){return n.jsx(Cie,{"data-slot":"dropdown-menu-group",...e})}function Jn({className:e,inset:t,variant:r="default",...s}){return n.jsx(kie,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Je("focus:bg-accent focus:text-gray-700-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function N8({className:e,inset:t,...r}){return n.jsx(_ie,{"data-slot":"dropdown-menu-label","data-inset":t,className:Je("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function ZE({className:e,...t}){return n.jsx(Die,{"data-slot":"dropdown-menu-separator",className:Je("bg-border -mx-1 my-1 h-px",e),...t})}var V2={exports:{}},q2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f5;function Oie(){if(f5)return q2;f5=1;var e=Xb();function t(x,p){return x===p&&(x!==0||1/x===1/p)||x!==x&&p!==p}var r=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(x,p){var y=p(),N=s({inst:{value:y,getSnapshot:p}}),b=N[0].inst,w=N[1];return i(function(){b.value=y,b.getSnapshot=p,u(b)&&w({inst:b})},[x,y,p]),a(function(){return u(b)&&w({inst:b}),x(function(){u(b)&&w({inst:b})})},[x]),o(y),y}function u(x){var p=x.getSnapshot;x=x.value;try{var y=p();return!r(x,y)}catch{return!0}}function f(x,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return q2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,q2}var h5;function Rie(){return h5||(h5=1,V2.exports=Oie()),V2.exports}var Pie=Rie();function Mie(){return Pie.useSyncExternalStore(Iie,()=>!0,()=>!1)}function Iie(){return()=>{}}var uC="Avatar",[Fie,dPe]=zn(uC),[Lie,j8]=Fie(uC),S8=g.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=g.useState("idle");return n.jsx(Lie,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(_t.span,{...s,ref:t})})});S8.displayName=uC;var E8="AvatarImage",A8=g.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=j8(E8,r),l=Bie(s,i),u=_r(f=>{a(f),o.onImageLoadingStatusChange(f)});return gs(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?n.jsx(_t.img,{...i,ref:t,src:s}):null});A8.displayName=E8;var T8="AvatarFallback",C8=g.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=j8(T8,r),[o,l]=g.useState(s===void 0);return g.useEffect(()=>{if(s!==void 0){const u=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(u)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(_t.span,{...a,ref:t}):null});C8.displayName=T8;function m5(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Bie(e,{referrerPolicy:t,crossOrigin:r}){const s=Mie(),a=g.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=g.useState(()=>m5(i,e));return gs(()=>{l(m5(i,e))},[i,e]),gs(()=>{const u=x=>()=>{l(x)};if(!i)return;const f=u("loaded"),h=u("error");return i.addEventListener("load",f),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",f),i.removeEventListener("error",h)}},[i,r,t]),o}var $ie=S8,Uie=A8,Vie=C8;function p5({className:e,...t}){return n.jsx($ie,{"data-slot":"avatar",className:Je("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function x5({className:e,...t}){return n.jsx(Uie,{"data-slot":"avatar-image",className:Je("aspect-square size-full",e),...t})}function g5({className:e,...t}){return n.jsx(Vie,{"data-slot":"avatar-fallback",className:Je("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const z2=768;function qie(){const[e,t]=g.useState(void 0);return g.useEffect(()=>{const r=window.matchMedia(`(max-width: ${z2-1}px)`),s=()=>{t(window.innerWidth<z2)};return r.addEventListener("change",s),t(window.innerWidth<z2),()=>r.removeEventListener("change",s)},[]),!!e}var zie="Separator",y5="horizontal",Hie=["horizontal","vertical"],_8=g.forwardRef((e,t)=>{const{decorative:r,orientation:s=y5,...a}=e,i=Wie(s)?s:y5,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(_t.div,{"data-orientation":i,...l,...a,ref:t})});_8.displayName=zie;function Wie(e){return Hie.includes(e)}var Gie=_8;function k8({className:e,orientation:t="horizontal",decorative:r=!0,...s}){return n.jsx(Gie,{"data-slot":"separator-root",decorative:r,orientation:t,className:Je("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}function Yie({...e}){return n.jsx(SF,{"data-slot":"sheet",...e})}function Kie({...e}){return n.jsx(EF,{"data-slot":"sheet-portal",...e})}function Xie({className:e,...t}){return n.jsx(LT,{"data-slot":"sheet-overlay",className:Je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Qie({className:e,children:t,side:r="right",...s}){return n.jsxs(Kie,{children:[n.jsx(Xie,{}),n.jsxs(BT,{"data-slot":"sheet-content",className:Je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...s,children:[t,n.jsxs(VT,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[n.jsx(vo,{className:"size-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Zie({className:e,...t}){return n.jsx("div",{"data-slot":"sheet-header",className:Je("flex flex-col gap-1.5 p-4",e),...t})}function Jie({className:e,...t}){return n.jsx($T,{"data-slot":"sheet-title",className:Je("text-foreground font-semibold",e),...t})}function eoe({className:e,...t}){return n.jsx(UT,{"data-slot":"sheet-description",className:Je("text-muted-foreground text-sm",e),...t})}function Tt({className:e,...t}){return n.jsx("div",{"data-slot":"skeleton",className:Je("bg-accent animate-pulse rounded-md",e),...t})}var toe="DismissableLayer",JE="dismissableLayer.update",roe="dismissableLayer.pointerDownOutside",soe="dismissableLayer.focusOutside",v5,D8=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),O8=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(D8),[h,x]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),N=Ft(t,_=>x(_)),b=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(w),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,C=S>=j,T=ioe(_=>{const O=_.target,P=[...f.branches].some(B=>B.contains(O));!C||P||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},p),D=ooe(_=>{const O=_.target;[...f.branches].some(B=>B.contains(O))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},p);return L0(_=>{S===f.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},p),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(v5=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),b5(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=v5)}},[h,p,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),b5())},[h,f]),g.useEffect(()=>{const _=()=>y({});return document.addEventListener(JE,_),()=>document.removeEventListener(JE,_)},[]),n.jsx(_t.div,{...u,ref:N,style:{pointerEvents:A?C?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,T.onPointerDownCapture)})});O8.displayName=toe;var noe="DismissableLayerBranch",aoe=g.forwardRef((e,t)=>{const r=g.useContext(D8),s=g.useRef(null),a=Ft(t,s);return g.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(_t.div,{...e,ref:a})});aoe.displayName=noe;function ioe(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){R8(roe,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function ooe(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!s.current&&R8(soe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function b5(){const e=new CustomEvent(JE);document.dispatchEvent(e)}function R8(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?q0(a,i):a.dispatchEvent(i)}var loe="Portal",P8=g.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=g.useState(!1);gs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(n.jsx(_t.div,{...s,ref:t}),o):null});P8.displayName=loe;var coe=Symbol("radix.slottable");function doe(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=coe,t}var M8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uoe="VisuallyHidden",I8=g.forwardRef((e,t)=>n.jsx(_t.span,{...e,ref:t,style:{...M8,...e.style}}));I8.displayName=uoe;var foe=I8,[Cw,uPe]=zn("Tooltip",[Bu]),_w=Bu(),F8="TooltipProvider",hoe=700,eA="tooltip.open",[moe,fC]=Cw(F8),L8=e=>{const{__scopeTooltip:t,delayDuration:r=hoe,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=g.useRef(!0),l=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),n.jsx(moe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(f=>{l.current=f},[]),disableHoverableContent:a,children:i})};L8.displayName=F8;var yg="Tooltip",[poe,ly]=Cw(yg),B8=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,u=fC(yg,e.__scopeTooltip),f=_w(t),[h,x]=g.useState(null),p=Ha(),y=g.useRef(0),N=o??u.disableHoverableContent,b=l??u.delayDuration,w=g.useRef(!1),[j,S]=jo({prop:s,defaultProp:a??!1,onChange:_=>{_?(u.onOpen(),document.dispatchEvent(new CustomEvent(eA))):u.onClose(),i==null||i(_)},caller:yg}),A=g.useMemo(()=>j?w.current?"delayed-open":"instant-open":"closed",[j]),C=g.useCallback(()=>{window.clearTimeout(y.current),y.current=0,w.current=!1,S(!0)},[S]),T=g.useCallback(()=>{window.clearTimeout(y.current),y.current=0,S(!1)},[S]),D=g.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{w.current=!0,S(!0),y.current=0},b)},[b,S]);return g.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),n.jsx(ww,{...f,children:n.jsx(poe,{scope:t,contentId:p,open:j,stateAttribute:A,trigger:h,onTriggerChange:x,onTriggerEnter:g.useCallback(()=>{u.isOpenDelayedRef.current?D():C()},[u.isOpenDelayedRef,D,C]),onTriggerLeave:g.useCallback(()=>{N?T():(window.clearTimeout(y.current),y.current=0)},[T,N]),onOpen:C,onClose:T,disableHoverableContent:N,children:r})})};B8.displayName=yg;var tA="TooltipTrigger",$8=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=ly(tA,r),i=fC(tA,r),o=_w(r),l=g.useRef(null),u=Ft(t,l,a.onTriggerChange),f=g.useRef(!1),h=g.useRef(!1),x=g.useCallback(()=>f.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),n.jsx(ny,{asChild:!0,...o,children:n.jsx(_t.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:u,onPointerMove:dt(e.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{a.open&&a.onClose(),f.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:dt(e.onFocus,()=>{f.current||a.onOpen()}),onBlur:dt(e.onBlur,a.onClose),onClick:dt(e.onClick,a.onClose)})})});$8.displayName=tA;var hC="TooltipPortal",[xoe,goe]=Cw(hC,{forceMount:void 0}),U8=e=>{const{__scopeTooltip:t,forceMount:r,children:s,container:a}=e,i=ly(hC,t);return n.jsx(xoe,{scope:t,forceMount:r,children:n.jsx(Dn,{present:r||i.open,children:n.jsx(P8,{asChild:!0,container:a,children:s})})})};U8.displayName=hC;var b0="TooltipContent",V8=g.forwardRef((e,t)=>{const r=goe(b0,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=ly(b0,e.__scopeTooltip);return n.jsx(Dn,{present:s||o.open,children:o.disableHoverableContent?n.jsx(q8,{side:a,...i,ref:t}):n.jsx(yoe,{side:a,...i,ref:t})})}),yoe=g.forwardRef((e,t)=>{const r=ly(b0,e.__scopeTooltip),s=fC(b0,e.__scopeTooltip),a=g.useRef(null),i=Ft(t,a),[o,l]=g.useState(null),{trigger:u,onClose:f}=r,h=a.current,{onPointerInTransitChange:x}=s,p=g.useCallback(()=>{l(null),x(!1)},[x]),y=g.useCallback((N,b)=>{const w=N.currentTarget,j={x:N.clientX,y:N.clientY},S=Noe(j,w.getBoundingClientRect()),A=joe(j,S),C=Soe(b.getBoundingClientRect()),T=Aoe([...A,...C]);l(T),x(!0)},[x]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(u&&h){const N=w=>y(w,h),b=w=>y(w,u);return u.addEventListener("pointerleave",N),h.addEventListener("pointerleave",b),()=>{u.removeEventListener("pointerleave",N),h.removeEventListener("pointerleave",b)}}},[u,h,y,p]),g.useEffect(()=>{if(o){const N=b=>{const w=b.target,j={x:b.clientX,y:b.clientY},S=(u==null?void 0:u.contains(w))||(h==null?void 0:h.contains(w)),A=!Eoe(j,o);S?p():A&&(p(),f())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[u,h,o,f,p]),n.jsx(q8,{...e,ref:i})}),[voe,boe]=Cw(yg,{isInside:!1}),woe=doe("TooltipContent"),q8=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,u=ly(b0,r),f=_w(r),{onClose:h}=u;return g.useEffect(()=>(document.addEventListener(eA,h),()=>document.removeEventListener(eA,h)),[h]),g.useEffect(()=>{if(u.trigger){const x=p=>{const y=p.target;y!=null&&y.contains(u.trigger)&&h()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[u.trigger,h]),n.jsx(O8,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:x=>x.preventDefault(),onDismiss:h,children:n.jsxs(Nw,{"data-state":u.stateAttribute,...f,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(woe,{children:s}),n.jsx(voe,{scope:r,isInside:!0,children:n.jsx(foe,{id:u.contentId,role:"tooltip",children:a||s})})]})})});V8.displayName=b0;var z8="TooltipArrow",H8=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=_w(r);return boe(z8,r).isInside?null:n.jsx(jw,{...a,...s,ref:t})});H8.displayName=z8;function Noe(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function joe(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function Soe(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function Eoe(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],u=t[o],f=l.x,h=l.y,x=u.x,p=u.y;h>s!=p>s&&r<(x-f)*(s-h)/(p-h)+f&&(a=!a)}return a}function Aoe(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),Toe(t)}function Toe(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Coe=L8,_oe=B8,koe=$8,Doe=U8,Ooe=V8,Roe=H8;function kw({delayDuration:e=0,...t}){return n.jsx(Coe,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function lb({...e}){return n.jsx(kw,{children:n.jsx(_oe,{"data-slot":"tooltip",...e})})}function cb({...e}){return n.jsx(koe,{"data-slot":"tooltip-trigger",...e})}function db({className:e,sideOffset:t=0,children:r,...s}){return n.jsx(Doe,{children:n.jsxs(Ooe,{"data-slot":"tooltip-content",sideOffset:t,className:Je("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...s,children:[r,n.jsx(Roe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const Poe="sidebar_state",Moe=60*60*24*7,Ioe="16rem",Foe="18rem",Loe="3rem",Boe="b",W8=g.createContext(null);function cy(){const e=g.useContext(W8);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function $oe({defaultOpen:e=!0,open:t,onOpenChange:r,className:s,style:a,children:i,...o}){const l=qie(),[u,f]=g.useState(!1),[h,x]=g.useState(e),p=t??h,y=g.useCallback(j=>{const S=typeof j=="function"?j(p):j;r?r(S):x(S),document.cookie=`${Poe}=${S}; path=/; max-age=${Moe}`},[r,p]),N=g.useCallback(()=>l?f(j=>!j):y(j=>!j),[l,y,f]);g.useEffect(()=>{const j=S=>{S.key===Boe&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),N())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[N]);const b=p?"expanded":"collapsed",w=g.useMemo(()=>({state:b,open:p,setOpen:y,isMobile:l,openMobile:u,setOpenMobile:f,toggleSidebar:N}),[b,p,y,l,u,f,N]);return n.jsx(W8.Provider,{value:w,children:n.jsx(kw,{delayDuration:0,children:n.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Ioe,"--sidebar-width-icon":Loe,...a},className:Je("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",s),...o,children:i})})})}function Uoe({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:s,children:a,...i}){const{isMobile:o,state:l,openMobile:u,setOpenMobile:f}=cy();return r==="none"?n.jsx("div",{"data-slot":"sidebar",className:Je("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",s),...i,children:a}):o?n.jsx(Yie,{open:u,onOpenChange:f,...i,children:n.jsxs(Qie,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Foe},side:e,children:[n.jsxs(Zie,{className:"sr-only",children:[n.jsx(Jie,{children:"Sidebar"}),n.jsx(eoe,{children:"Displays the mobile sidebar."})]}),n.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):n.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[n.jsx("div",{"data-slot":"sidebar-gap",className:Je("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),n.jsx("div",{"data-slot":"sidebar-container",className:Je("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...i,children:n.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function Voe({className:e,onClick:t,...r}){const{toggleSidebar:s}=cy();return n.jsxs(he,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Je("size-7",e),onClick:a=>{t==null||t(a),s()},...r,children:[n.jsx(mQ,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function qoe({className:e,...t}){const{toggleSidebar:r}=cy();return n.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:Je("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})}function zoe({className:e,...t}){return n.jsx("main",{"data-slot":"sidebar-inset",className:Je("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function Hoe({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Je("flex flex-col gap-2 p-2",e),...t})}function Woe({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Je("flex flex-col gap-2 p-2",e),...t})}function Goe({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Je("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function G8({className:e,...t}){return n.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Je("flex w-full min-w-0 flex-col gap-1",e),...t})}function Y8({className:e,...t}){return n.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Je("group/menu-item relative",e),...t})}const Yoe=dw("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function K8({asChild:e=!1,isActive:t=!1,variant:r="default",size:s="default",tooltip:a,className:i,...o}){const l=e?iw:"button",{isMobile:u,state:f}=cy(),h=n.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":s,"data-active":t,className:Je(Yoe({variant:r,size:s}),i),...o});return a?(typeof a=="string"&&(a={children:a}),n.jsxs(lb,{children:[n.jsx(cb,{asChild:!0,children:h}),n.jsx(db,{side:"right",align:"center",hidden:f!=="collapsed"||u,...a})]})):h}function Koe({user:e}){const{isMobile:t}=cy(),r=jr(),[s,a]=g.useState(!1),[i,o]=g.useState(!1),l=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),a(!1),r("/")};return n.jsxs(n.Fragment,{children:[n.jsx(G8,{children:n.jsx(Y8,{children:n.jsxs(Y0,{modal:!1,children:[n.jsx(K0,{asChild:!0,children:n.jsxs(K8,{size:"lg",className:"hover:bg-white/10 data-[state=open]:bg-white data-[state=open]:hover:bg-white cursor-pointer transition-colors group",children:[n.jsxs(p5,{className:"h-8 w-8 rounded-lg",children:[n.jsx(x5,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),n.jsx(g5,{className:"rounded-lg",children:e==null?void 0:e.avatarName})]}),n.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[n.jsx("span",{className:"truncate font-semibold text-white group-data-[state=open]:text-[#1d398d]",children:e==null?void 0:e.name}),n.jsx("span",{className:"truncate text-xs text-white group-data-[state=open]:text-[#1d398d]/70",children:e==null?void 0:e.email})]}),n.jsx(Yg,{className:"ml-auto size-4 text-blue-200 group-data-[state=open]:text-[#1d398d]"})]})}),n.jsxs(X0,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:t?"bottom":"right",align:"end",sideOffset:4,children:[n.jsx(N8,{className:"p-0 font-normal",children:n.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[n.jsxs(p5,{className:"h-8 w-8 rounded-lg",children:[n.jsx(x5,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),n.jsx(g5,{className:"rounded-lg",children:e==null?void 0:e.avatarName})]}),n.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[n.jsx("span",{className:"truncate font-semibold",children:e==null?void 0:e.name}),n.jsx("span",{className:"truncate text-xs",children:e==null?void 0:e.email})]})]})}),n.jsx(ZE,{}),n.jsxs(Jn,{onSelect:u=>{u.preventDefault(),o(!0)},className:"cursor-pointer",children:[n.jsx(YX,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Change Password"})]}),n.jsx(ZE,{}),n.jsxs(Jn,{onSelect:u=>{u.preventDefault(),console.log("[nav-user.tsx] Logout DropdownMenuItem clicked. Setting showConfirmation to true."),a(!0)},className:"cursor-pointer text-destructive",children:[n.jsx(AE,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Log out"})]})]})]})})}),n.jsx(Nse,{isOpen:i,onClose:()=>o(!1)}),n.jsx(ty,{isOpen:s,title:"Confirm Logout",description:"Are you sure you want to log out? You will need to login again to access your account.",cancelLabel:"Cancel",confirmLabel:"Log out",onCancel:()=>a(!1),onConfirm:l})]})}var Dw="Collapsible",[Xoe,fPe]=zn(Dw),[Qoe,mC]=Xoe(Dw),X8=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[u,f]=jo({prop:s,defaultProp:a??!1,onChange:o,caller:Dw});return n.jsx(Qoe,{scope:r,disabled:i,contentId:Ha(),open:u,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),children:n.jsx(_t.div,{"data-state":xC(u),"data-disabled":i?"":void 0,...l,ref:t})})});X8.displayName=Dw;var Q8="CollapsibleTrigger",Z8=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=mC(Q8,r);return n.jsx(_t.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":xC(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:dt(e.onClick,a.onOpenToggle)})});Z8.displayName=Q8;var pC="CollapsibleContent",J8=g.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=mC(pC,e.__scopeCollapsible);return n.jsx(Dn,{present:r||a.open,children:({present:i})=>n.jsx(Zoe,{...s,ref:t,present:i})})});J8.displayName=pC;var Zoe=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=mC(pC,r),[l,u]=g.useState(s),f=g.useRef(null),h=Ft(t,f),x=g.useRef(0),p=x.current,y=g.useRef(0),N=y.current,b=o.open||l,w=g.useRef(b),j=g.useRef(void 0);return g.useEffect(()=>{const S=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(S)},[]),gs(()=>{const S=f.current;if(S){j.current=j.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const A=S.getBoundingClientRect();x.current=A.height,y.current=A.width,w.current||(S.style.transitionDuration=j.current.transitionDuration,S.style.animationName=j.current.animationName),u(s)}},[o.open,s]),n.jsx(_t.div,{"data-state":xC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...i,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...e.style},children:b&&a})});function xC(e){return e?"open":"closed"}var Joe=X8;function ele({...e}){return n.jsx(Joe,{"data-slot":"collapsible",...e})}function tle({...e}){return n.jsx(Z8,{"data-slot":"collapsible-trigger",...e})}function rle({...e}){return n.jsx(J8,{"data-slot":"collapsible-content",...e})}const $d={obNavigation:[{title:"Office Bearers",url:"#",icon:GQ,isActive:!1,items:[{title:"Chapter Performance",url:"/chapter-performance"},{title:"Customer",url:"/members"},{title:"Visitors",url:"/chapter-visitors"},{title:"Meetings",url:"/chaptermeetings"}]}],roles:{super_admin:{projects:[{title:"Transfers",url:"/admin/transfers",icon:ln,groupLabel:"Master"},{title:"Purchases",url:"/admin/purchases",icon:ln,groupLabel:"Master"},{title:"Depot Varients",url:"/admin/depot-variants",icon:ln,groupLabel:"Master"},{title:"Variant Stock",url:"/admin/variantstock",icon:ln,groupLabel:"Master"},{title:"Wastage",url:"/admin/wastages",icon:ln,groupLabel:"Master"},{title:"Areas",url:"/admin/areamasters",icon:ln,groupLabel:"Master"},{title:"Depots",url:"/admin/depots",icon:ln,groupLabel:"Master"},{title:"Vendors",url:"/admin/vendors",icon:Ld,groupLabel:"Master"},{title:"Banners",url:"/admin/banners",icon:dO,groupLabel:"Master"},{title:"Purchase Payments",url:"/admin/purchase-payments",icon:ln,groupLabel:"Master"},{title:"Categories",url:"/admin/categories",icon:ln,groupLabel:"Products"},{title:"Cities",url:"/admin/cities",icon:ln,groupLabel:"Master"},{title:"Locations",url:"/admin/locations",icon:ln,groupLabel:"Master"},{title:"Products",url:"/admin/products",icon:Ld,groupLabel:"Products"},{title:"Delivery Agencies",url:"/admin/agencies",icon:Ld,groupLabel:"Indraai"},{title:"Orders",url:"/admin/orders",icon:Ld,groupLabel:"Indraai"},{title:"Subscriptions",url:"/admin/subscriptions",icon:Ld,groupLabel:"Indraai"},{title:"Delivery",url:"/admin/delivery",icon:ln,groupLabel:"Indraai"},{title:"Customer",url:"/admin/members",icon:Ld,groupLabel:"Member"},{title:"Users",url:"/admin/users",icon:Ld,groupLabel:"System"}],navMain:[]},admin:{projects:[{title:"Master",url:"#",icon:OQ,groupLabel:"Master",isActive:!1,items:[{title:"Vendors",url:"/admin/vendors",icon:Ld}]}],navMain:[]},member:{projects:[{title:"References",url:"/references",icon:N2,groupLabel:"References",isActive:!1,items:[]},{title:"Done Deals",url:"/member/done-deal",icon:ln,groupLabel:"Done Deals",isActive:!1,items:[]},{title:"One To Ones",url:"/member/one-to-ones",groupLabel:"One To Ones",icon:N2,isActive:!1,items:[]},{title:"Requirements",url:"/member/requirements",icon:N2,groupLabel:"Requirements",isActive:!1,items:[{title:"Requirements",url:"/member/requirements"},{title:"View Requirements",url:"/member/viewrequirements"}]}],navMain:[]},VENDOR:{projects:[{title:"Orders",url:"/admin/orders",icon:ln,groupLabel:"Vendor Portal"}],navMain:[]},DepotAdmin:{projects:[{title:"Purchases",url:"/admin/purchases",icon:ln,groupLabel:"Depot"},{title:"Wastage",url:"/admin/wastages",icon:ln,groupLabel:"Depot"},{title:"Depot Variants",url:"/admin/depot-variants",icon:ln,groupLabel:"Depot"},{title:"Transfers",url:"/admin/transfers",icon:ln,groupLabel:"Depot"}],navMain:[]},AGENCY:{projects:[{title:"Orders",url:"/admin/orders",icon:ln,groupLabel:"Agency Portal"},{title:"Delivery",url:"/admin/delivery",icon:ln,groupLabel:"Agency Portal"}],navMain:[]}},user:{name:"",email:"",avatar:"",avatarName:""},teams:[{name:"Acme Inc",logo:dO,plan:"Enterprise"},{name:"Acme Corp.",logo:YK,plan:"Startup"},{name:"Evil Corp.",logo:SX,plan:"Free"}]};function sle(e){const{pathname:t}=Oa(),[r,s]=g.useState({...$d,projects:[],navMain:[],obNav:[],isOB:!1}),[a,i]=g.useState({});g.useEffect(()=>{var x;const u=localStorage.getItem("user"),f=localStorage.getItem("roles");let h=!1;if(f&&f!=="undefined"&&f.trim()!=="")try{const p=JSON.parse(f);Array.isArray(p)&&(h=p.some(y=>y.role==="OB"&&y.chapters&&y.chapters.length>0))}catch(p){console.error("Failed to parse roles from localStorage",p),localStorage.removeItem("roles")}if(u)try{const p=JSON.parse(u);p.avatarName=((x=p.name)==null?void 0:x.charAt(0).toUpperCase())||"U";let y=p.role||"admin";$d.roles[y]||(y="super_admin");const N=$d.roles[y];s(j=>({...j,projects:(N==null?void 0:N.projects)||[],navMain:(N==null?void 0:N.navMain)||[],user:p,obNav:h?$d.obNavigation:[],isOB:h}));const w=[...new Set(N==null?void 0:N.projects.map(j=>j.groupLabel))].reduce((j,S)=>(j[S]=!0,j),{});i(w)}catch(p){console.error("Failed to parse user from localStorage",p),s(y=>({...y,projects:$d.roles.super_admin.projects,navMain:$d.roles.super_admin.navMain,obNav:[],isOB:!1}))}else s(p=>({...p,projects:$d.roles.super_admin.projects,navMain:$d.roles.super_admin.navMain,obNav:[],isOB:!1}))},[]);const o=u=>{i(f=>({...f,[u]:!f[u]}))},l=r.projects.reduce((u,f)=>{const h=f.groupLabel||"Other";return u[h]||(u[h]=[]),u[h].push(f),u},{});return n.jsxs(Uoe,{collapsible:"icon",...e,className:"bg-[#1d398d] border-r border-[#1d398d]/80",children:[n.jsx(Hoe,{className:"border-b border-[#1d398d]/30 bg-[#1d398d]",children:n.jsx(G8,{className:"flex",children:n.jsx(Y8,{children:n.jsx(K8,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-2 hover:bg-white/10 transition-colors rounded-lg",children:n.jsx("div",{className:"flex items-center gap-2 justify-between",children:n.jsxs(Rr,{to:"/",className:"flex items-center gap-2",children:[n.jsx(hX,{className:"h-5 w-5 text-white"}),n.jsx("span",{className:"text-sm font-medium text-white",children:Gx})]})})})})})}),n.jsxs(Goe,{className:"space-y-1 overflow-y-auto [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden bg-[#1d398d]",children:[r.isOB&&n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"px-3 py-2 text-xs font-medium text-blue-200 border-b border-[#1d398d]/30 mb-2",children:"Office Bearer Menu"}),r.obNav.map(u=>{var f;return n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"px-3 py-2 text-sm font-medium text-blue-200 flex items-center gap-2",children:[n.jsx(u.icon,{className:"h-4 w-4 text-blue-300"}),u.title]}),n.jsx("div",{className:"ml-6",children:(f=u.items)==null?void 0:f.map(h=>n.jsx(Rr,{to:h.url,className:Je("block w-full px-3 py-2 text-sm transition-colors",t===h.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:h.title},h.url))})]},u.title)})]}),n.jsx("div",{className:"space-y-2",children:Object.entries(l).map(([u,f])=>n.jsx("div",{className:"mb-2",children:n.jsxs(ele,{open:a[u],onOpenChange:()=>o(u),children:[n.jsx(tle,{className:"w-full",children:n.jsxs("div",{className:"px-3 py-2 flex items-center justify-between text-sm font-medium text-blue-200 hover:bg-white/10 cursor-pointer transition-colors rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(li,{className:`h-4 w-4 transition-transform text-blue-300 ${a[u]?"rotate-0":"-rotate-90"}`}),n.jsx("span",{children:u})]}),n.jsx("span",{className:"text-xs text-blue-100 bg-white/20 px-2 py-1 rounded-full font-medium",children:f.length})]})}),n.jsx(rle,{children:n.jsx("div",{className:"ml-6 mt-1",children:f.map(h=>n.jsxs(Rr,{to:h.url,className:Je("flex items-center gap-2 px-3 py-2 text-sm transition-colors",t===h.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:[h.icon&&n.jsx(h.icon,{className:Je("h-4 w-4 flex-shrink-0",t===h.url?"text-[#1d398d]":"text-blue-200")}),n.jsx("span",{children:h.title})]},h.url))})})]})},u))}),r.navMain.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-3 py-2 text-xs font-medium text-blue-200 border-b border-[#1d398d]/30 mt-4 mb-2",children:"Management"}),r.navMain.map(u=>n.jsxs(Rr,{to:u.url,className:Je("flex items-center gap-2 w-full px-3 py-2 text-sm transition-colors",t===u.url?"bg-white text-[#1d398d] rounded-md font-medium shadow-sm":"text-blue-100 hover:bg-white/15 hover:text-white rounded-md"),children:[u.icon&&n.jsx(u.icon,{className:Je("h-4 w-4",t===u.url?"text-[#1d398d]":"text-blue-200")}),n.jsx("span",{children:u.title})]},u.url))]})]}),n.jsx(Woe,{className:"border-t border-[#1d398d]/30 bg-[#1d398d]",children:n.jsx(Koe,{user:r.user})}),n.jsx(qoe,{})]})}const e7=()=>{const[e,t]=g.useState(!1),r=Oa();return g.useEffect(()=>{const s=localStorage.getItem("user");t(!!s)},[r.pathname]),n.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white  border-t  shadow-lg z-50",children:n.jsxs("div",{className:"flex justify-around py-2",children:[n.jsxs(yx,{to:"/",end:!0,className:({isActive:s})=>`flex flex-col items-center hover:text-secondary ${s?"text-secondary":"text-gray-600"}`,children:[n.jsx(RI,{size:24}),n.jsx("span",{className:"text-xs",children:"Home"})]}),e&&n.jsxs(yx,{to:"/member/products",className:({isActive:s})=>`flex flex-col items-center hover:text-secondary ${s?"text-secondary":"text-gray-600"}`,children:[n.jsx(m0,{size:24}),n.jsx("span",{className:"text-xs",children:"Products"})]}),n.jsxs(yx,{to:e?"/member/subscriptions":"/login",className:({isActive:s})=>`flex flex-col items-center hover:text-secondary ${s?"text-secondary":"text-gray-600"}`,children:[n.jsx(sw,{size:24}),n.jsx("span",{className:"text-xs",children:e?"My Subscription":"Login"})]}),n.jsxs(yx,{to:"/about",className:({isActive:s})=>`flex flex-col items-center hover:text-secondary ${s?"text-secondary":"text-gray-600"}`,children:[n.jsx(PI,{size:24}),n.jsx("span",{className:"text-xs",children:"Menu"})]})]})})};function w5(){const e=jr(),[t,r]=g.useState(()=>{const f=localStorage.getItem("theme");return f?f==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});g.useEffect(()=>{document.documentElement.classList.toggle("dark",t)},[t]);const s=localStorage.getItem("user"),a=s?JSON.parse(s):null;g.useEffect(()=>{const f=window.matchMedia("(prefers-color-scheme: dark)"),h=x=>{localStorage.getItem("theme")||r(x.matches)};return f.addEventListener("change",h),()=>f.removeEventListener("change",h)},[]);const i=Oa(),o=()=>{const f=!t;r(f),localStorage.setItem("theme",f?"dark":"light")},[l,u]=g.useState(void 0);return g.useEffect(()=>{var x;const f=localStorage.getItem("user"),h=f?JSON.parse(f):null;u(((x=h==null?void 0:h.role)==null?void 0:x.toString().toUpperCase())||void 0)},[i.pathname]),n.jsxs($oe,{children:[n.jsx(sle,{}),n.jsxs(zoe,{children:[n.jsx("header",{className:"bg-blue-900 sticky top-0 z-20 flex h-16 shrink-0 items-center border-b bg-background shadow-sm transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-13 -ml-[1px] -mt-0",children:n.jsxs("div",{className:"flex items-center justify-between w-full px-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Voe,{className:"text-white -ml-1"}),n.jsx(he,{onClick:()=>e(-1),children:"Back"}),n.jsxs("h1",{className:"text-white",children:["Welcome, ",a==null?void 0:a.name," ",n.jsxs("span",{className:"text-blue-200 text-sm",children:["(",a==null?void 0:a.role,")"]})]})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsx(he,{onClick:o,className:"text-white size-7 cursor-pointer",variant:"ghost",size:"icon","aria-label":"Toggle Dark Mode",children:t?n.jsx(lQ,{}):n.jsx(IQ,{})})})]})}),n.jsx("main",{className:"pt-2",children:n.jsx(jT,{})})]}),l==="MEMBER"&&n.jsx(e7,{})]})}const nle=()=>{console.log("[AuthDebug] useAuth called");const e=localStorage.getItem("authToken"),t=localStorage.getItem("user");if(console.log("[AuthDebug] Token from localStorage:",e),console.log("[AuthDebug] User string from localStorage:",t),e&&t)try{const r=JSON.parse(t);if(console.log("[AuthDebug] Parsed user object:",r),console.log("[AuthDebug] Parsed user role:",r==null?void 0:r.role),r&&typeof r.role=="string"){const s={isAuthenticated:!0,user:r};return console.log("[AuthDebug] useAuth returning (authenticated):",s),s}else{console.error("[AuthDebug] AuthCheck: Parsed user is invalid or role is missing/not a string.",r);const s={isAuthenticated:!1,user:null};return console.log("[AuthDebug] useAuth returning (unauthenticated - bad user data):",s),s}}catch(r){console.error("[AuthDebug] AuthCheck: Failed to parse user from localStorage. Error:",r),console.log("[AuthDebug] Raw userString that failed parsing:",t);const s={isAuthenticated:!1,user:null};return console.log("[AuthDebug] useAuth returning (unauthenticated - parse error):",s),s}else return console.log("[AuthDebug] useAuth returning (unauthenticated - token or userString missing)"),{isAuthenticated:!1,user:null}},ale=({children:e})=>{const{isAuthenticated:t,user:r}=nle();return!t||(r==null?void 0:r.role)==="MEMBER"?n.jsx(UY,{to:"/",replace:!0}):n.jsx(n.Fragment,{children:e})},ile=15e3;function ole({isLoggedIn:e}){const t=jr(),[r,s]=g.useState(null),[a,i]=g.useState(!0),[o,l]=g.useState(null);return g.useEffect(()=>{if(!e)return;let u=!0;const f=async()=>{var x,p;i(!0),l(null);try{const y=await mt("/wallet");let N;y&&y.data&&typeof y.data.balance=="number"?N=y.data.balance:typeof y.balance=="number"&&(N=y.balance),u&&(typeof N=="number"?s(N):(console.warn("Unexpected response structure for wallet balance:",y),l("Failed to fetch balance: unexpected data format."),s(0)))}catch(y){if(u){console.error("Failed to fetch wallet balance:",y);const N=((p=(x=y.response)==null?void 0:x.data)==null?void 0:p.message)||y.message||"Failed to fetch wallet balance";l(N),me.error(N),s(0)}}finally{u&&i(!1)}};f();const h=setInterval(f,ile);return()=>{u=!1,clearInterval(h)}},[e]),e?a?n.jsxs(he,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg",disabled:!0,children:[n.jsx(Zr,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{className:"font-medium",children:"Loading..."})]}):o&&r===0?n.jsxs(he,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-destructive text-destructive rounded-lg hover:bg-destructive/10",title:o,onClick:()=>{},children:[n.jsx(Pc,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Error"})]}):n.jsxs(Y0,{children:[n.jsx(K0,{asChild:!0,children:n.jsxs(he,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(Pc,{className:"w-5 h-5 text-orange-500"}),n.jsxs("span",{className:"font-medium",children:["₹",r!==null?r.toFixed(2):"N/A"]}),n.jsx(li,{className:"w-4 h-4 text-gray-500"})]})}),n.jsxs(X0,{className:"w-56",align:"end",children:[n.jsxs(N8,{className:"flex items-center gap-2",children:[n.jsx(Pc,{className:"w-4 h-4"}),"Wallet Balance: ₹",r!==null?r.toFixed(2):"N/A"]}),n.jsx(ZE,{}),n.jsxs(Jn,{onClick:()=>t("/member/wallet"),className:"flex items-center gap-2 cursor-pointer",children:[n.jsx(vn,{className:"w-4 h-4"}),"Add Money"]})]})]}):null}const lle="/assets/Sarkhot-Natural-Farms-Png-DTJXlgmL.webp",cle="/assets/WhatsApp%20Image%202025-06-24%20at%2018.32.39%20(1)%20(1)-M5cSOnyy.png",t7=({isLoggedIn:e,userName:t,onLogout:r,showWallet:s})=>{const a=g.useRef(null),[i,o]=g.useState(!1),[l,u]=g.useState(!1),[f,h]=g.useState(!0),[x,p]=g.useState(!1),[y,N]=g.useState(()=>{try{const S=localStorage.getItem("user");return S?JSON.parse(S).role:null}catch(S){return console.error("Failed to parse user data from localStorage on init",S),null}}),b=g.useRef(0),w=g.useRef(null);g.useEffect(()=>{try{const S=localStorage.getItem("user"),A=S?JSON.parse(S).role:null;N(A)}catch(S){console.error("Failed to parse user data from localStorage in effect",S),N(null)}},[e]);const j=[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Bharwad Cow",path:"/bharwadcow"},{name:"Products",path:"/member/products/1"},{name:"Contact Us",path:"/contact"}];return g.useEffect(()=>{const S=()=>{const A=window.scrollY;if(A<=10){h(!0),p(!1),b.current=A;return}p(!0),A>b.current+10?h(!1):b.current>A+10&&h(!0),b.current=A};return window.addEventListener("scroll",S,{passive:!0}),()=>window.removeEventListener("scroll",S)},[]),g.useEffect(()=>{const S=()=>{if(a.current){const A=a.current.offsetHeight;document.documentElement.style.setProperty("--header-height",`${A}px`)}};return S(),window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S),document.documentElement.style.removeProperty("--header-height")}},[e,t,i,x]),g.useEffect(()=>{!f&&i&&o(!1)},[f,i]),n.jsxs("header",{ref:a,className:`fixed top-0 w-full z-50 transition-all duration-500 ease-out ${f?"translate-y-0":"-translate-y-full"} ${x?"shadow-lg":"shadow-sm"}`,children:[n.jsx("div",{className:"bg-white transition-colors duration-300",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center py-2",children:[n.jsx(Rr,{to:"/",className:"flex items-center",children:n.jsx("img",{src:cle,alt:"Logo",className:"h-10 w-auto object-contain mr-2"})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("a",{href:"/","aria-label":"Sarkhot Logo",children:n.jsx("img",{src:lle,alt:"Sarkhot Logo",className:"h-8 w-auto object-contain"})}),n.jsx("a",{target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",href:"https://www.facebook.com/sarkhotnaturalfarms",className:"text-gray-500 hover:text-green-600 transition-colors",children:n.jsx(PX,{size:18})}),n.jsx("a",{target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",href:"https://www.instagram.com/sarkhotnaturalfarms/",className:"text-gray-500 hover:text-amber-600 transition-colors",children:n.jsx(WX,{size:18})}),n.jsx("span",{className:"hidden sm:block border-l border-gray-300 h-6 mx-2"}),e?n.jsxs("div",{className:"relative",onMouseEnter:()=>{w.current&&clearTimeout(w.current),u(!0)},onMouseLeave:()=>{w.current=setTimeout(()=>{u(!1)},200)},children:[n.jsxs("button",{className:"flex items-center text-sm text-gray-700 hover:text-green-600 transition-colors",children:[n.jsx("div",{className:"bg-gradient-to-r from-green-500 to-amber-500 rounded-full p-0.5 mr-1",children:n.jsx(j2,{size:18,className:"text-white bg-gray-100 rounded-full"})}),n.jsx("span",{className:"hidden sm:inline",children:"Account"})]}),l&&r&&n.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-100",onMouseEnter:()=>{w.current&&clearTimeout(w.current)},onMouseLeave:()=>{w.current=setTimeout(()=>{u(!1)},200)},children:[t&&n.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Signed in as"}),n.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:t})]}),y!=="ADMIN"&&n.jsxs(Rr,{to:"/member/subscriptions",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",onClick:()=>u(!1),children:[n.jsx(uO,{size:16,className:"mr-2 text-green-600"}),"My Subscriptions"]}),y==="MEMBER"&&n.jsxs(Rr,{to:"/member/addresses",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",onClick:()=>u(!1),children:[n.jsx(uO,{size:16,className:"mr-2 text-green-600"}),"Manage Address"]}),n.jsxs("button",{onClick:()=>{r(),u(!1)},className:"w-full flex items-center text-left px-4 py-2 text-sm text-gray-700 hover:bg-red-50 transition-colors",children:[n.jsx(AE,{size:16,className:"mr-2 text-red-500"}),"Sign out"]})]})]}):n.jsxs(Rr,{to:"/login",className:"text-sm text-gray-700 hover:text-green-600 transition-colors flex items-center",children:[n.jsx("div",{className:"bg-gradient-to-r from-green-500 to-amber-500 rounded-full p-0.5 mr-1",children:n.jsx(j2,{size:18,className:"text-white bg-gray-100 rounded-full"})}),n.jsx("span",{className:"hidden sm:inline",children:"Account"})]})]})]})})}),n.jsx("div",{className:"bg-primary transition-colors duration-300",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center py-3",children:[n.jsx("div",{className:"hidden md:flex space-x-6 items-center",children:j.map(S=>n.jsxs(Rr,{to:S.path,className:"text-white font-semibold hover:text-white/90 transition-colors relative group",children:[S.name,n.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"})]},S.name))}),n.jsx("div",{className:"flex items-center space-x-4",children:s&&n.jsx(ole,{isLoggedIn:e})}),n.jsx("div",{className:"md:hidden flex items-center",children:n.jsx("button",{onClick:()=>o(!i),className:`p-2 rounded-full transition-colors text-white hover:bg-white/20 ${i?"bg-white/20":""}`,"aria-label":i?"Close menu":"Open menu",children:i?n.jsx(vo,{size:24}):n.jsx(PI,{size:24})})})]})})}),i&&n.jsx("div",{className:"md:hidden bg-white border-t border-gray-200 shadow-inner",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 space-y-2",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"search",placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full text-sm focus:ring-2 focus:ring-green-300 focus:border-green-500"}),n.jsx(Os,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),j.map(S=>n.jsxs(Rr,{to:S.path,className:"block py-3 px-4 text-gray-700 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex items-center group",onClick:()=>o(!1),children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),S.name]},S.name)),n.jsxs(Rr,{to:"/about",className:"block py-3 px-4 text-gray-700 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors flex items-center group",onClick:()=>o(!1),children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),"About Us"]}),e&&r?n.jsxs("button",{onClick:()=>{r(),o(!1)},className:"w-full text-left block py-3 px-4 text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors flex items-center group",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),n.jsx(AE,{size:16,className:"mr-2"})," Sign out"]}):n.jsxs(Rr,{to:"/login",className:"block py-3 px-4 text-gray-700 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex items-center group",onClick:()=>o(!1),children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity"}),n.jsx(j2,{size:16,className:"mr-2"})," Account"]})]})})]})};function rA({children:e}){var b;const t=Oa(),r=jr(),[s,a]=g.useState(()=>{const w=localStorage.getItem("theme");return w?w==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),i=localStorage.getItem("user"),o=i?JSON.parse(i):null,l=((b=o==null?void 0:o.role)==null?void 0:b.toString().toUpperCase())||void 0,[u,f]=g.useState(!!o),h=(o==null?void 0:o.name)||(o==null?void 0:o.username)||(o==null?void 0:o.email),[x,p]=g.useState(h),y=u&&l==="MEMBER";g.useEffect(()=>{document.documentElement.classList.toggle("dark",s)},[s]),g.useEffect(()=>{const w=()=>{const j=localStorage.getItem("user"),S=j?JSON.parse(j):null;f(!!S),p((S==null?void 0:S.name)||(S==null?void 0:S.username)||(S==null?void 0:S.email)||null)};return window.addEventListener("storage",w),w(),()=>{window.removeEventListener("storage",w)}},[t.pathname]),g.useEffect(()=>{if(!o||t.pathname.startsWith("/member/products"))return;const w=async()=>{try{const j=await mt("/products");let S=[];if(Array.isArray(j)?S=j:j&&j.data&&Array.isArray(j.data)&&(S=j.data),S.length>0){const A=S[0].id;r(`/member/products/${A}`)}else r("/member/products")}catch(j){console.error("Failed to fetch products for redirect:",j),r("/member/products")}};t.pathname==="/dashboard"&&w()},[o,r,t.pathname]),g.useEffect(()=>{const w=window.matchMedia("(prefers-color-scheme: dark)"),j=S=>{localStorage.getItem("theme")||a(S.matches)};return w.addEventListener("change",j),()=>w.removeEventListener("change",j)},[]);const N=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("roles"),localStorage.removeItem("memberId"),me.success("You have been logged out"),r("/")};return n.jsxs("div",{className:"flex flex-col min-h-screen",children:[n.jsx(t7,{isLoggedIn:u,userName:x,onLogout:N,showWallet:y}),n.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 pb-8",style:{paddingTop:"var(--header-height)"},children:e||n.jsx(jT,{})}),n.jsx(dle,{}),l==="MEMBER"&&n.jsx(e7,{})]})}const dle=()=>n.jsxs("footer",{className:"bg-slate-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-8 gap-y-10",children:[n.jsxs("div",{className:"md:col-span-12 lg:col-span-4",children:[n.jsxs("div",{className:"mb-6 flex items-center",children:[n.jsx(Uf,{className:"h-10 w-10 text-green-600 mr-3"}),n.jsx("span",{className:"text-2xl font-bold text-green-700 dark:text-green-500",children:"Sarkhot Natural Farms"})]}),n.jsxs("p",{className:"text-sm mb-6 leading-relaxed",children:["Sarkhot Natural farms denote the community of natural farmers. Natural means ",n.jsx("span",{className:"font-semibold text-red-500",children:"💯%"})," chemical free, preservative free and poison free."]}),n.jsx("h3",{className:"text-[0.9rem] font-semibold mb-3 text-gray-600 dark:text-gray-400",children:"Payment Accepted"}),n.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:["Mastercard","Discover","BitPay","Visa","Stripe"].map(e=>n.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-md shadow-sm",children:e},e))})]}),n.jsx("div",{className:"hidden lg:block lg:col-span-1"}),n.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[n.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Policies"}),n.jsxs("ul",{className:"space-y-2.5 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/privacy-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/refund-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Refund and Returns Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/shipping-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Shipping and delivery policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms-and-conditions",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Terms and Conditions"})})]})]}),n.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[n.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Useful Links"}),n.jsxs("ul",{className:"space-y-2.5 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Home"})}),n.jsx("li",{children:n.jsx("a",{href:"/member/products",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Shop"})}),n.jsx("li",{children:n.jsx("a",{href:"/about",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"About"})}),n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Contact Us"})})]})]}),n.jsxs("div",{className:"md:col-span-4 lg:col-span-3",children:[n.jsx("h3",{className:"text-md font-semibold mb-4 text-green-700 dark:text-green-500 border-b-2 border-green-500 pb-1 inline-block",children:"Contact"}),n.jsxs("address",{className:"text-sm not-italic space-y-2 leading-relaxed",children:[n.jsx("p",{children:"Sarkhot Natural Farms, Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East - 421201"}),n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:"Landmark"})," - Near Brahman Sabha hall."]}),n.jsx("p",{children:n.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors break-all",children:"sarkhotnaturalfarms@gmail.com"})}),n.jsx("p",{children:n.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"+91 9920999100"})})]})]})]})}),n.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 py-4 border-t border-gray-300 dark:border-gray-700",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 dark:text-gray-400",children:[n.jsxs("p",{className:"mb-2 md:mb-0 text-center md:text-left",children:["© ",new Date().getFullYear()," Sarkhot Natural Farms. All Rights Reserved."]}),n.jsxs("p",{className:"text-center md:text-right",children:["Powered by ",n.jsx("a",{href:"https://sanmisha.com/",className:"font-semibold text-green-700 dark:text-green-500 hover:underline",children:"Sanmisha Technologies"})]})]})})]});var ule="DismissableLayer",sA="dismissableLayer.update",fle="dismissableLayer.pointerDownOutside",hle="dismissableLayer.focusOutside",N5,r7=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),s7=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(r7),[h,x]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),N=Ft(t,_=>x(_)),b=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(w),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,C=S>=j,T=xle(_=>{const O=_.target,P=[...f.branches].some(B=>B.contains(O));!C||P||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},p),D=gle(_=>{const O=_.target;[...f.branches].some(B=>B.contains(O))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},p);return L0(_=>{S===f.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},p),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(N5=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),j5(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=N5)}},[h,p,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),j5())},[h,f]),g.useEffect(()=>{const _=()=>y({});return document.addEventListener(sA,_),()=>document.removeEventListener(sA,_)},[]),n.jsx(_t.div,{...u,ref:N,style:{pointerEvents:A?C?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,T.onPointerDownCapture)})});s7.displayName=ule;var mle="DismissableLayerBranch",ple=g.forwardRef((e,t)=>{const r=g.useContext(r7),s=g.useRef(null),a=Ft(t,s);return g.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(_t.div,{...e,ref:a})});ple.displayName=mle;function xle(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){n7(fle,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function gle(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!s.current&&n7(hle,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function j5(){const e=new CustomEvent(sA);document.dispatchEvent(e)}function n7(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?q0(a,i):a.dispatchEvent(i)}var H2="focusScope.autoFocusOnMount",W2="focusScope.autoFocusOnUnmount",S5={bubbles:!1,cancelable:!0},yle="FocusScope",a7=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=_r(a),h=_r(i),x=g.useRef(null),p=Ft(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let b=function(A){if(y.paused||!l)return;const C=A.target;l.contains(C)?x.current=C:Yd(x.current,{select:!0})},w=function(A){if(y.paused||!l)return;const C=A.relatedTarget;C!==null&&(l.contains(C)||Yd(x.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&Yd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),S.disconnect()}}},[s,l,y.paused]),g.useEffect(()=>{if(l){A5.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(H2,S5);l.addEventListener(H2,f),l.dispatchEvent(j),j.defaultPrevented||(vle(Sle(i7(l)),{select:!0}),document.activeElement===b&&Yd(l))}return()=>{l.removeEventListener(H2,f),setTimeout(()=>{const j=new CustomEvent(W2,S5);l.addEventListener(W2,h),l.dispatchEvent(j),j.defaultPrevented||Yd(b??document.body,{select:!0}),l.removeEventListener(W2,h),A5.remove(y)},0)}}},[l,f,h,y]);const N=g.useCallback(b=>{if(!r&&!s||y.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(w&&j){const S=b.currentTarget,[A,C]=ble(S);A&&C?!b.shiftKey&&j===C?(b.preventDefault(),r&&Yd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Yd(C,{select:!0})):j===S&&b.preventDefault()}},[r,s,y.paused]);return n.jsx(_t.div,{tabIndex:-1,...o,ref:p,onKeyDown:N})});a7.displayName=yle;function vle(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Yd(s,{select:t}),document.activeElement!==r)return}function ble(e){const t=i7(e),r=E5(t,e),s=E5(t.reverse(),e);return[r,s]}function i7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function E5(e,t){for(const r of e)if(!wle(r,{upTo:t}))return r}function wle(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Nle(e){return e instanceof HTMLInputElement&&"select"in e}function Yd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Nle(e)&&t&&e.select()}}var A5=jle();function jle(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=T5(e,t),e.unshift(t)},remove(t){var r;e=T5(e,t),(r=e[0])==null||r.resume()}}}function T5(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Sle(e){return e.filter(t=>t.tagName!=="A")}var Ele="Portal",o7=g.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=g.useState(!1);gs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(n.jsx(_t.div,{...s,ref:t}),o):null});o7.displayName=Ele;function Ale(e){const t=Tle(e),r=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),u=l.find(_le);if(u){const f=u.props.children,h=l.map(x=>x===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:x);return n.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Tle(e){const t=g.forwardRef((r,s)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=Dle(a),l=kle(i,a.props);return a.type!==g.Fragment&&(l.ref=s?td(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var l7=Symbol("radix.slottable");function Cle(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=l7,t}function _le(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===l7}function kle(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Dle(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ow="Dialog",[c7,d7]=zn(Ow),[Ole,hl]=c7(Ow),u7=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),u=g.useRef(null),[f,h]=jo({prop:s,defaultProp:a??!1,onChange:i,caller:Ow});return n.jsx(Ole,{scope:t,triggerRef:l,contentRef:u,contentId:Ha(),titleId:Ha(),descriptionId:Ha(),open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(x=>!x),[h]),modal:o,children:r})};u7.displayName=Ow;var f7="DialogTrigger",h7=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=hl(f7,r),i=Ft(t,a.triggerRef);return n.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":vC(a.open),...s,ref:i,onClick:dt(e.onClick,a.onOpenToggle)})});h7.displayName=f7;var gC="DialogPortal",[Rle,m7]=c7(gC,{forceMount:void 0}),p7=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=hl(gC,t);return n.jsx(Rle,{scope:t,forceMount:r,children:g.Children.map(s,o=>n.jsx(Dn,{present:r||i.open,children:n.jsx(o7,{asChild:!0,container:a,children:o})}))})};p7.displayName=gC;var ub="DialogOverlay",x7=g.forwardRef((e,t)=>{const r=m7(ub,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=hl(ub,e.__scopeDialog);return i.modal?n.jsx(Dn,{present:s||i.open,children:n.jsx(Mle,{...a,ref:t})}):null});x7.displayName=ub;var Ple=Ale("DialogOverlay.RemoveScroll"),Mle=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=hl(ub,r);return n.jsx(ch,{as:Ple,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(_t.div,{"data-state":vC(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Yf="DialogContent",g7=g.forwardRef((e,t)=>{const r=m7(Yf,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=hl(Yf,e.__scopeDialog);return n.jsx(Dn,{present:s||i.open,children:i.modal?n.jsx(Ile,{...a,ref:t}):n.jsx(Fle,{...a,ref:t})})});g7.displayName=Yf;var Ile=g.forwardRef((e,t)=>{const r=hl(Yf,e.__scopeDialog),s=g.useRef(null),a=Ft(t,r.contentRef,s);return g.useEffect(()=>{const i=s.current;if(i)return B0(i)},[]),n.jsx(y7,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,i=>i.preventDefault())})}),Fle=g.forwardRef((e,t)=>{const r=hl(Yf,e.__scopeDialog),s=g.useRef(!1),a=g.useRef(!1);return n.jsx(y7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),y7=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=hl(Yf,r),u=g.useRef(null),f=Ft(t,u);return Zg(),n.jsxs(n.Fragment,{children:[n.jsx(a7,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(s7,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":vC(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Ble,{titleId:l.titleId}),n.jsx(Ule,{contentRef:u,descriptionId:l.descriptionId})]})]})}),yC="DialogTitle",v7=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=hl(yC,r);return n.jsx(_t.h2,{id:a.titleId,...s,ref:t})});v7.displayName=yC;var b7="DialogDescription",w7=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=hl(b7,r);return n.jsx(_t.p,{id:a.descriptionId,...s,ref:t})});w7.displayName=b7;var N7="DialogClose",j7=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=hl(N7,r);return n.jsx(_t.button,{type:"button",...s,ref:t,onClick:dt(e.onClick,()=>a.onOpenChange(!1))})});j7.displayName=N7;function vC(e){return e?"open":"closed"}var S7="DialogTitleWarning",[Lle,E7]=WI(S7,{contentName:Yf,titleName:yC,docsSlug:"dialog"}),Ble=({titleId:e})=>{const t=E7(S7),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$le="DialogDescriptionWarning",Ule=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${E7($le).contentName}}.`;return g.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Vle=u7,qle=h7,zle=p7,Hle=x7,Wle=g7,Gle=v7,Yle=w7,A7=j7,T7="AlertDialog",[Kle,hPe]=zn(T7,[d7]),rd=d7(),C7=e=>{const{__scopeAlertDialog:t,...r}=e,s=rd(t);return n.jsx(Vle,{...s,...r,modal:!0})};C7.displayName=T7;var Xle="AlertDialogTrigger",_7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=rd(r);return n.jsx(qle,{...a,...s,ref:t})});_7.displayName=Xle;var Qle="AlertDialogPortal",k7=e=>{const{__scopeAlertDialog:t,...r}=e,s=rd(t);return n.jsx(zle,{...s,...r})};k7.displayName=Qle;var Zle="AlertDialogOverlay",D7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=rd(r);return n.jsx(Hle,{...a,...s,ref:t})});D7.displayName=Zle;var zm="AlertDialogContent",[Jle,ece]=Kle(zm),tce=Cle("AlertDialogContent"),O7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=rd(r),o=g.useRef(null),l=Ft(t,o),u=g.useRef(null);return n.jsx(Lle,{contentName:zm,titleName:R7,docsSlug:"alert-dialog",children:n.jsx(Jle,{scope:r,cancelRef:u,children:n.jsxs(Wle,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:dt(a.onOpenAutoFocus,f=>{var h;f.preventDefault(),(h=u.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[n.jsx(tce,{children:s}),n.jsx(sce,{contentRef:o})]})})})});O7.displayName=zm;var R7="AlertDialogTitle",P7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=rd(r);return n.jsx(Gle,{...a,...s,ref:t})});P7.displayName=R7;var M7="AlertDialogDescription",I7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=rd(r);return n.jsx(Yle,{...a,...s,ref:t})});I7.displayName=M7;var rce="AlertDialogAction",F7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=rd(r);return n.jsx(A7,{...a,...s,ref:t})});F7.displayName=rce;var L7="AlertDialogCancel",B7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=ece(L7,r),i=rd(r),o=Ft(t,a);return n.jsx(A7,{...i,...s,ref:o})});B7.displayName=L7;var sce=({contentRef:e})=>{const t=`\`${zm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${zm}\` by passing a \`${M7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${zm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nce=C7,ace=_7,ice=k7,oce=D7,lce=O7,cce=F7,dce=B7,uce=P7,fce=I7;function aa({...e}){return n.jsx(nce,{"data-slot":"alert-dialog",...e})}function ph({...e}){return n.jsx(ace,{"data-slot":"alert-dialog-trigger",...e})}function hce({...e}){return n.jsx(ice,{"data-slot":"alert-dialog-portal",...e})}function mce({className:e,...t}){return n.jsx(oce,{"data-slot":"alert-dialog-overlay",className:Je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function ia({className:e,...t}){return n.jsxs(hce,{children:[n.jsx(mce,{}),n.jsx(lce,{"data-slot":"alert-dialog-content",className:Je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function oa({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-header",className:Je("flex flex-col gap-2 text-center sm:text-left",e),...t})}function la({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-footer",className:Je("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ca({className:e,...t}){return n.jsx(uce,{"data-slot":"alert-dialog-title",className:Je("text-lg font-semibold",e),...t})}function da({className:e,...t}){return n.jsx(fce,{"data-slot":"alert-dialog-description",className:Je("text-muted-foreground text-sm",e),...t})}function ua({className:e,...t}){return n.jsx(cce,{className:Je(y0(),e),...t})}function fa({className:e,...t}){return n.jsx(dce,{className:Je(y0({variant:"outline"}),e),...t})}function Vr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Vi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Zn(e,t){const r=Vr(e);return isNaN(t)?Vi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ol(e,t){const r=Vr(e);if(isNaN(t))return Vi(e,NaN);if(!t)return r;const s=r.getDate(),a=Vi(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const bC=6048e5,pce=864e5,$7=6e4,U7=36e5;let xce={};function dy(){return xce}function Xl(e,t){var l,u,f,h;const r=dy(),s=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,a=Vr(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Kf(e){return Xl(e,{weekStartsOn:1})}function V7(e){const t=Vr(e),r=t.getFullYear(),s=Vi(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Kf(s),i=Vi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Kf(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Ic(e){const t=Vr(e);return t.setHours(0,0,0,0),t}function fb(e){const t=Vr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ll(e,t){const r=Ic(e),s=Ic(t),a=+r-fb(r),i=+s-fb(s);return Math.round((a-i)/pce)}function gce(e){const t=V7(e),r=Vi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Kf(r)}function nA(e,t){const r=t*7;return Zn(e,r)}function yce(e,t){return ol(e,t*12)}function vce(e){let t;return e.forEach(function(r){const s=Vr(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function bce(e){let t;return e.forEach(r=>{const s=Vr(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function ci(e,t){const r=Ic(e),s=Ic(t);return+r==+s}function wC(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wce(e){if(!wC(e)&&typeof e!="number")return!1;const t=Vr(e);return!isNaN(Number(t))}function vg(e,t){const r=Vr(e),s=Vr(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function Nce(e,t,r){const s=Xl(e,r),a=Xl(t,r),i=+s-fb(s),o=+a-fb(a);return Math.round((i-o)/bC)}function NC(e){const t=Vr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function hi(e){const t=Vr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function q7(e){const t=Vr(e),r=Vi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function jC(e,t){var l,u,f,h;const r=dy(),s=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,a=Vr(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function z7(e){return jC(e,{weekStartsOn:1})}const jce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sce=(e,t,r)=>{let s;const a=jce[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function G2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ece={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ace={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cce={date:G2({formats:Ece,defaultWidth:"full"}),time:G2({formats:Ace,defaultWidth:"full"}),dateTime:G2({formats:Tce,defaultWidth:"full"})},_ce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kce=(e,t,r,s)=>_ce[e];function ox(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Dce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Oce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ice={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fce=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Lce={ordinalNumber:Fce,era:ox({values:Dce,defaultWidth:"wide"}),quarter:ox({values:Oce,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ox({values:Rce,defaultWidth:"wide"}),day:ox({values:Pce,defaultWidth:"wide"}),dayPeriod:ox({values:Mce,defaultWidth:"wide",formattingValues:Ice,defaultFormattingWidth:"wide"})};function lx(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?$ce(l,x=>x.test(o)):Bce(l,x=>x.test(o));let f;f=e.valueCallback?e.valueCallback(u):u,f=r.valueCallback?r.valueCallback(f):f;const h=t.slice(o.length);return{value:f,rest:h}}}function Bce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function $ce(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Uce(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Vce=/^(\d+)(th|st|nd|rd)?/i,qce=/\d+/i,zce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hce={any:[/^b/i,/^(a|c)/i]},Wce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gce={any:[/1/i,/2/i,/3/i,/4/i]},Yce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ede={ordinalNumber:Uce({matchPattern:Vce,parsePattern:qce,valueCallback:e=>parseInt(e,10)}),era:lx({matchPatterns:zce,defaultMatchWidth:"wide",parsePatterns:Hce,defaultParseWidth:"any"}),quarter:lx({matchPatterns:Wce,defaultMatchWidth:"wide",parsePatterns:Gce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lx({matchPatterns:Yce,defaultMatchWidth:"wide",parsePatterns:Kce,defaultParseWidth:"any"}),day:lx({matchPatterns:Xce,defaultMatchWidth:"wide",parsePatterns:Qce,defaultParseWidth:"any"}),dayPeriod:lx({matchPatterns:Zce,defaultMatchWidth:"any",parsePatterns:Jce,defaultParseWidth:"any"})},H7={code:"en-US",formatDistance:Sce,formatLong:Cce,formatRelative:kce,localize:Lce,match:ede,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tde(e){const t=Vr(e);return Ll(t,q7(t))+1}function W7(e){const t=Vr(e),r=+Kf(t)-+gce(t);return Math.round(r/bC)+1}function G7(e,t){var h,x,p,y;const r=Vr(e),s=r.getFullYear(),a=dy(),i=(t==null?void 0:t.firstWeekContainsDate)??((x=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:x.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(p=a.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,o=Vi(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Xl(o,t),u=Vi(e,0);u.setFullYear(s,0,i),u.setHours(0,0,0,0);const f=Xl(u,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=f.getTime()?s:s-1}function rde(e,t){var l,u,f,h;const r=dy(),s=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,a=G7(e,t),i=Vi(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Xl(i,t)}function Y7(e,t){const r=Vr(e),s=+Xl(r,t)-+rde(r,t);return Math.round(s/bC)+1}function ns(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Ud={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return ns(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ns(r+1,2)},d(e,t){return ns(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ns(e.getHours()%12||12,t.length)},H(e,t){return ns(e.getHours(),t.length)},m(e,t){return ns(e.getMinutes(),t.length)},s(e,t){return ns(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return ns(a,t.length)}},hm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},C5={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Ud.y(e,t)},Y:function(e,t,r,s){const a=G7(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ns(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ns(i,t.length)},R:function(e,t){const r=V7(e);return ns(r,t.length)},u:function(e,t){const r=e.getFullYear();return ns(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return ns(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return ns(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Ud.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return ns(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=Y7(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ns(a,t.length)},I:function(e,t,r){const s=W7(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):ns(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ud.d(e,t)},D:function(e,t,r){const s=tde(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ns(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ns(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ns(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return ns(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=hm.noon:s===0?a=hm.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=hm.evening:s>=12?a=hm.afternoon:s>=4?a=hm.morning:a=hm.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ud.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ud.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ns(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):ns(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ud.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ud.s(e,t)},S:function(e,t){return Ud.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return k5(s);case"XXXX":case"XX":return vf(s);case"XXXXX":case"XXX":default:return vf(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return k5(s);case"xxxx":case"xx":return vf(s);case"xxxxx":case"xxx":default:return vf(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_5(s,":");case"OOOO":default:return"GMT"+vf(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_5(s,":");case"zzzz":default:return"GMT"+vf(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return ns(s,t.length)},T:function(e,t,r){const s=e.getTime();return ns(s,t.length)}};function _5(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+ns(i,2)}function k5(e,t){return e%60===0?(e>0?"-":"+")+ns(Math.abs(e)/60,2):vf(e,t)}function vf(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=ns(Math.trunc(s/60),2),i=ns(s%60,2);return r+a+t+i}const D5=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},K7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},sde=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return D5(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",D5(s,t)).replace("{{time}}",K7(a,t))},nde={p:K7,P:sde},ade=/^D+$/,ide=/^Y+$/,ode=["D","DD","YY","YYYY"];function lde(e){return ade.test(e)}function cde(e){return ide.test(e)}function dde(e,t,r){const s=ude(e,t,r);if(console.warn(s),ode.includes(e))throw new RangeError(s)}function ude(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mde=/^'([^]*?)'?$/,pde=/''/g,xde=/[a-zA-Z]/;function Gt(e,t,r){var h,x,p,y,N,b,w,j;const s=dy(),a=(r==null?void 0:r.locale)??s.locale??H7,i=(r==null?void 0:r.firstWeekContainsDate)??((x=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(p=s.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((b=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:b.weekStartsOn)??s.weekStartsOn??((j=(w=s.locale)==null?void 0:w.options)==null?void 0:j.weekStartsOn)??0,l=Vr(e);if(!wce(l))throw new RangeError("Invalid time value");let u=t.match(hde).map(S=>{const A=S[0];if(A==="p"||A==="P"){const C=nde[A];return C(S,a.formatLong)}return S}).join("").match(fde).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const A=S[0];if(A==="'")return{isToken:!1,value:gde(S)};if(C5[A])return{isToken:!0,value:S};if(A.match(xde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:S}});a.localize.preprocessor&&(u=a.localize.preprocessor(l,u));const f={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return u.map(S=>{if(!S.isToken)return S.value;const A=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&cde(A)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&lde(A))&&dde(A,t,String(e));const C=C5[A[0]];return C(l,A,a.localize,f)}).join("")}function gde(e){const t=e.match(mde);return t?t[1].replace(pde,"'"):e}function yde(e){const t=Vr(e),r=t.getFullYear(),s=t.getMonth(),a=Vi(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function vde(e){return Math.trunc(+Vr(e)/1e3)}function bde(e){const t=Vr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function wde(e,t){return Nce(bde(e),hi(e),t)+1}function Hm(e,t){const r=Vr(e),s=Vr(t);return r.getTime()>s.getTime()}function X7(e,t){const r=Vr(e),s=Vr(t);return+r<+s}function SC(e,t){const r=Vr(e),s=Vr(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function Nde(e,t){const r=Vr(e),s=Vr(t);return r.getFullYear()===s.getFullYear()}function Y2(e,t){return Zn(e,-t)}function jde(e,t){const s=Tde(e);let a;if(s.date){const u=Cde(s.date,2);a=_de(u.restDateString,u.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(s.time&&(o=kde(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=Dde(s.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(i+o),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(i+o+l)}const Xv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Sde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ede=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ade=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Tde(e){const t={},r=e.split(Xv.dateTimeDelimiter);let s;if(r.length>2)return t;if(/:/.test(r[0])?s=r[0]:(t.date=r[0],s=r[1],Xv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Xv.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const a=Xv.timezone.exec(s);a?(t.time=s.replace(a[1],""),t.timezone=a[1]):t.time=s}return t}function Cde(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(r);if(!s)return{year:NaN,restDateString:""};const a=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((s[1]||s[2]).length)}}function _de(e,t){if(t===null)return new Date(NaN);const r=e.match(Sde);if(!r)return new Date(NaN);const s=!!r[4],a=cx(r[1]),i=cx(r[2])-1,o=cx(r[3]),l=cx(r[4]),u=cx(r[5])-1;if(s)return Ide(t,l,u)?Ode(t,l,u):new Date(NaN);{const f=new Date(0);return!Pde(t,i,o)||!Mde(t,a)?new Date(NaN):(f.setUTCFullYear(t,i,Math.max(a,o)),f)}}function cx(e){return e?parseInt(e):1}function kde(e){const t=e.match(Ede);if(!t)return NaN;const r=K2(t[1]),s=K2(t[2]),a=K2(t[3]);return Fde(r,s,a)?r*U7+s*$7+a*1e3:NaN}function K2(e){return e&&parseFloat(e.replace(",","."))||0}function Dde(e){if(e==="Z")return 0;const t=e.match(Ade);if(!t)return 0;const r=t[1]==="+"?-1:1,s=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Lde(s,a)?r*(s*U7+a*$7):NaN}function Ode(e,t,r){const s=new Date(0);s.setUTCFullYear(e,0,4);const a=s.getUTCDay()||7,i=(t-1)*7+r+1-a;return s.setUTCDate(s.getUTCDate()+i),s}const Rde=[31,null,31,30,31,30,31,31,30,31,30,31];function Q7(e){return e%400===0||e%4===0&&e%100!==0}function Pde(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Rde[t]||(Q7(e)?29:28))}function Mde(e,t){return t>=1&&t<=(Q7(e)?366:365)}function Ide(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Fde(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Lde(e,t){return t>=0&&t<=59}function X2(e,t){const r=Vr(e),s=r.getFullYear(),a=r.getDate(),i=Vi(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=yde(i);return r.setMonth(t,Math.min(a,o)),r}function O5(e,t){const r=Vr(e);return isNaN(+r)?Vi(e,NaN):(r.setFullYear(t),r)}function At({className:e,...t}){return n.jsx("div",{"data-slot":"card",className:Je("bg-card text-card-foreground flex flex-col gap-6 rounded-xl py-6 shadow",e),...t})}function Mt({className:e,...t}){return n.jsx("div",{"data-slot":"card-header",className:Je("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Zt({className:e,...t}){return n.jsx("div",{"data-slot":"card-title",className:Je("leading-none font-semibold",e),...t})}function mi({className:e,...t}){return n.jsx("div",{"data-slot":"card-description",className:Je("text-muted-foreground text-sm",e),...t})}function Dt({className:e,...t}){return n.jsx("div",{"data-slot":"card-content",className:Je("px-6",e),...t})}function xh({className:e,...t}){return n.jsx("div",{"data-slot":"card-footer",className:Je("flex items-center px-6 [.border-t]:pt-6",e),...t})}function Ps({className:e,...t}){return n.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:n.jsx("table",{"data-slot":"table",className:Je("w-full caption-bottom text-sm",e),...t})})}function Ms({className:e,...t}){return n.jsx("thead",{"data-slot":"table-header",className:Je("[&_tr]:border-b",e),...t})}function Is({className:e,...t}){return n.jsx("tbody",{"data-slot":"table-body",className:Je("[&_tr:last-child]:border-0",e),...t})}function Xt({className:e,...t}){return n.jsx("tr",{"data-slot":"table-row",className:Je("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ke({className:e,...t}){return n.jsx("th",{"data-slot":"table-head",className:Je("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ze({className:e,...t}){return n.jsx("td",{"data-slot":"table-cell",className:Je("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Bde({className:e,...t}){return n.jsx("caption",{"data-slot":"table-caption",className:Je("text-muted-foreground mt-4 text-sm",e),...t})}function Q0({className:e,...t}){return n.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:Je("mx-auto flex w-full justify-center",e),...t})}function Z0({className:e,...t}){return n.jsx("ul",{"data-slot":"pagination-content",className:Je("flex flex-row items-center gap-1",e),...t})}function Vd({...e}){return n.jsx("li",{"data-slot":"pagination-item",...e})}function _m({className:e,isActive:t,size:r="icon",...s}){return n.jsx("a",{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:Je(y0({variant:t?"outline":"ghost",size:r}),e),...s})}function J0({className:e,...t}){return n.jsxs(_m,{"aria-label":"Go to previous page",size:"default",className:Je("gap-1 px-2.5 sm:pl-2.5",e),...t,children:[n.jsx(M0,{}),n.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function ep({className:e,...t}){return n.jsxs(_m,{"aria-label":"Go to next page",size:"default",className:Je("gap-1 px-2.5 sm:pr-2.5",e),...t,children:[n.jsx("span",{className:"hidden sm:block",children:"Next"}),n.jsx(wu,{})]})}var $de="DismissableLayer",aA="dismissableLayer.update",Ude="dismissableLayer.pointerDownOutside",Vde="dismissableLayer.focusOutside",R5,Z7=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),J7=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(Z7),[h,x]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),N=Ft(t,_=>x(_)),b=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(w),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,C=S>=j,T=Hde(_=>{const O=_.target,P=[...f.branches].some(B=>B.contains(O));!C||P||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},p),D=Wde(_=>{const O=_.target;[...f.branches].some(B=>B.contains(O))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},p);return L0(_=>{S===f.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},p),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(R5=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),P5(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=R5)}},[h,p,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),P5())},[h,f]),g.useEffect(()=>{const _=()=>y({});return document.addEventListener(aA,_),()=>document.removeEventListener(aA,_)},[]),n.jsx(_t.div,{...u,ref:N,style:{pointerEvents:A?C?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,T.onPointerDownCapture)})});J7.displayName=$de;var qde="DismissableLayerBranch",zde=g.forwardRef((e,t)=>{const r=g.useContext(Z7),s=g.useRef(null),a=Ft(t,s);return g.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(_t.div,{...e,ref:a})});zde.displayName=qde;function Hde(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){e9(Ude,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Wde(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!s.current&&e9(Vde,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function P5(){const e=new CustomEvent(aA);document.dispatchEvent(e)}function e9(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?q0(a,i):a.dispatchEvent(i)}var Q2="focusScope.autoFocusOnMount",Z2="focusScope.autoFocusOnUnmount",M5={bubbles:!1,cancelable:!0},Gde="FocusScope",t9=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=_r(a),h=_r(i),x=g.useRef(null),p=Ft(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let b=function(A){if(y.paused||!l)return;const C=A.target;l.contains(C)?x.current=C:Kd(x.current,{select:!0})},w=function(A){if(y.paused||!l)return;const C=A.relatedTarget;C!==null&&(l.contains(C)||Kd(x.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&Kd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),S.disconnect()}}},[s,l,y.paused]),g.useEffect(()=>{if(l){F5.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(Q2,M5);l.addEventListener(Q2,f),l.dispatchEvent(j),j.defaultPrevented||(Yde(Jde(r9(l)),{select:!0}),document.activeElement===b&&Kd(l))}return()=>{l.removeEventListener(Q2,f),setTimeout(()=>{const j=new CustomEvent(Z2,M5);l.addEventListener(Z2,h),l.dispatchEvent(j),j.defaultPrevented||Kd(b??document.body,{select:!0}),l.removeEventListener(Z2,h),F5.remove(y)},0)}}},[l,f,h,y]);const N=g.useCallback(b=>{if(!r&&!s||y.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(w&&j){const S=b.currentTarget,[A,C]=Kde(S);A&&C?!b.shiftKey&&j===C?(b.preventDefault(),r&&Kd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Kd(C,{select:!0})):j===S&&b.preventDefault()}},[r,s,y.paused]);return n.jsx(_t.div,{tabIndex:-1,...o,ref:p,onKeyDown:N})});t9.displayName=Gde;function Yde(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Kd(s,{select:t}),document.activeElement!==r)return}function Kde(e){const t=r9(e),r=I5(t,e),s=I5(t.reverse(),e);return[r,s]}function r9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function I5(e,t){for(const r of e)if(!Xde(r,{upTo:t}))return r}function Xde(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qde(e){return e instanceof HTMLInputElement&&"select"in e}function Kd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Qde(e)&&t&&e.select()}}var F5=Zde();function Zde(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=L5(e,t),e.unshift(t)},remove(t){var r;e=L5(e,t),(r=e[0])==null||r.resume()}}}function L5(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Jde(e){return e.filter(t=>t.tagName!=="A")}var eue="Portal",s9=g.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=g.useState(!1);gs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(n.jsx(_t.div,{...s,ref:t}),o):null});s9.displayName=eue;function tue(e){const t=rue(e),r=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),u=l.find(nue);if(u){const f=u.props.children,h=l.map(x=>x===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:x);return n.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function rue(e){const t=g.forwardRef((r,s)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=iue(a),l=aue(i,a.props);return a.type!==g.Fragment&&(l.ref=s?td(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sue=Symbol("radix.slottable");function nue(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sue}function aue(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function iue(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rw="Popover",[n9,mPe]=zn(Rw,[Bu]),uy=Bu(),[oue,$u]=n9(Rw),a9=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=uy(t),u=g.useRef(null),[f,h]=g.useState(!1),[x,p]=jo({prop:s,defaultProp:a??!1,onChange:i,caller:Rw});return n.jsx(ww,{...l,children:n.jsx(oue,{scope:t,contentId:Ha(),triggerRef:u,open:x,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(y=>!y),[p]),hasCustomAnchor:f,onCustomAnchorAdd:g.useCallback(()=>h(!0),[]),onCustomAnchorRemove:g.useCallback(()=>h(!1),[]),modal:o,children:r})})};a9.displayName=Rw;var i9="PopoverAnchor",lue=g.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=$u(i9,r),i=uy(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return g.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(ny,{...i,...s,ref:t})});lue.displayName=i9;var o9="PopoverTrigger",l9=g.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=$u(o9,r),i=uy(r),o=Ft(t,a.triggerRef),l=n.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":h9(a.open),...s,ref:o,onClick:dt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(ny,{asChild:!0,...i,children:l})});l9.displayName=o9;var EC="PopoverPortal",[cue,due]=n9(EC,{forceMount:void 0}),c9=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=$u(EC,t);return n.jsx(cue,{scope:t,forceMount:r,children:n.jsx(Dn,{present:r||i.open,children:n.jsx(s9,{asChild:!0,container:a,children:s})})})};c9.displayName=EC;var w0="PopoverContent",d9=g.forwardRef((e,t)=>{const r=due(w0,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=$u(w0,e.__scopePopover);return n.jsx(Dn,{present:s||i.open,children:i.modal?n.jsx(fue,{...a,ref:t}):n.jsx(hue,{...a,ref:t})})});d9.displayName=w0;var uue=tue("PopoverContent.RemoveScroll"),fue=g.forwardRef((e,t)=>{const r=$u(w0,e.__scopePopover),s=g.useRef(null),a=Ft(t,s),i=g.useRef(!1);return g.useEffect(()=>{const o=s.current;if(o)return B0(o)},[]),n.jsx(ch,{as:uue,allowPinchZoom:!0,children:n.jsx(u9,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:dt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),hue=g.forwardRef((e,t)=>{const r=$u(w0,e.__scopePopover),s=g.useRef(!1),a=g.useRef(!1);return n.jsx(u9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),u9=g.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,...x}=e,p=$u(w0,r),y=uy(r);return Zg(),n.jsx(t9,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(J7,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>p.onOpenChange(!1),children:n.jsx(Nw,{"data-state":h9(p.open),role:"dialog",id:p.contentId,...y,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),f9="PopoverClose",mue=g.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=$u(f9,r);return n.jsx(_t.button,{type:"button",...s,ref:t,onClick:dt(e.onClick,()=>a.onOpenChange(!1))})});mue.displayName=f9;var pue="PopoverArrow",xue=g.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=uy(r);return n.jsx(jw,{...a,...s,ref:t})});xue.displayName=pue;function h9(e){return e?"open":"closed"}var gue=a9,yue=l9,vue=c9,bue=d9;function sd({...e}){return n.jsx(gue,{"data-slot":"popover",...e})}function nd({...e}){return n.jsx(yue,{"data-slot":"popover-trigger",...e})}function ad({className:e,align:t="center",sideOffset:r=4,...s}){return n.jsx(vue,{children:n.jsx(bue,{"data-slot":"popover-content",align:t,sideOffset:r,className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})})}var ur=function(){return ur=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ur.apply(this,arguments)};function wue(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function m9(e,t,r){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function fy(e){return e.mode==="multiple"}function hy(e){return e.mode==="range"}function Pw(e){return e.mode==="single"}var Nue={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function jue(e,t){return Gt(e,"LLLL y",t)}function Sue(e,t){return Gt(e,"d",t)}function Eue(e,t){return Gt(e,"LLLL",t)}function Aue(e){return"".concat(e)}function Tue(e,t){return Gt(e,"cccccc",t)}function Cue(e,t){return Gt(e,"yyyy",t)}var _ue=Object.freeze({__proto__:null,formatCaption:jue,formatDay:Sue,formatMonthCaption:Eue,formatWeekNumber:Aue,formatWeekdayName:Tue,formatYearCaption:Cue}),kue=function(e,t,r){return Gt(e,"do MMMM (EEEE)",r)},Due=function(){return"Month: "},Oue=function(){return"Go to next month"},Rue=function(){return"Go to previous month"},Pue=function(e,t){return Gt(e,"cccc",t)},Mue=function(e){return"Week n. ".concat(e)},Iue=function(){return"Year: "},Fue=Object.freeze({__proto__:null,labelDay:kue,labelMonthDropdown:Due,labelNext:Oue,labelPrevious:Rue,labelWeekNumber:Mue,labelWeekday:Pue,labelYearDropdown:Iue});function Lue(){var e="buttons",t=Nue,r=H7,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:_ue,labels:Fue,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Bue(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=hi(s):t&&(i=new Date(t,0,1)),a?o=NC(a):r&&(o=new Date(r,11,31)),{fromDate:i?Ic(i):void 0,toDate:o?Ic(o):void 0}}var p9=g.createContext(void 0);function $ue(e){var t,r=e.initialProps,s=Lue(),a=Bue(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var u;(Pw(r)||fy(r)||hy(r))&&(u=r.onSelect);var f=ur(ur(ur({},s),r),{captionLayout:l,classNames:ur(ur({},s.classNames),r.classNames),components:ur({},r.components),formatters:ur(ur({},s.formatters),r.formatters),fromDate:i,labels:ur(ur({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:ur(ur({},s.modifiers),r.modifiers),modifiersClassNames:ur(ur({},s.modifiersClassNames),r.modifiersClassNames),onSelect:u,styles:ur(ur({},s.styles),r.styles),toDate:o});return n.jsx(p9.Provider,{value:f,children:e.children})}function Es(){var e=g.useContext(p9);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function x9(e){var t=Es(),r=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Uue(e){return n.jsx("svg",ur({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function g9(e){var t,r,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,u=e.style,f=Es(),h=(r=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Uue;return n.jsxs("div",{className:l,style:u,children:[n.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:a,onChange:s,children:i}),n.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(h,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function Vue(e){var t,r=Es(),s=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,u=r.classNames,f=r.components,h=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var x=[];if(Nde(s,a))for(var p=hi(s),y=s.getMonth();y<=a.getMonth();y++)x.push(X2(p,y));else for(var p=hi(new Date),y=0;y<=11;y++)x.push(X2(p,y));var N=function(w){var j=Number(w.target.value),S=X2(hi(e.displayMonth),j);e.onChange(S)},b=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:g9;return n.jsx(b,{name:"months","aria-label":h(),className:u.dropdown_month,style:i.dropdown_month,onChange:N,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:x.map(function(w){return n.jsx("option",{value:w.getMonth(),children:l(w,{locale:o})},w.getMonth())})})}function que(e){var t,r=e.displayMonth,s=Es(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,u=s.classNames,f=s.components,h=s.formatters.formatYearCaption,x=s.labels.labelYearDropdown,p=[];if(!a)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var y=a.getFullYear(),N=i.getFullYear(),b=y;b<=N;b++)p.push(O5(q7(new Date),b));var w=function(S){var A=O5(hi(r),Number(S.target.value));e.onChange(A)},j=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:g9;return n.jsx(j,{name:"years","aria-label":x(),className:u.dropdown_year,style:l.dropdown_year,onChange:w,value:r.getFullYear(),caption:h(r,{locale:o}),children:p.map(function(S){return n.jsx("option",{value:S.getFullYear(),children:h(S,{locale:o})},S.getFullYear())})})}function zue(e,t){var r=g.useState(e),s=r[0],a=r[1],i=t===void 0?s:t;return[i,a]}function Hue(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,u=l===void 0?1:l;if(i&&vg(i,a)<0){var f=-1*(u-1);a=ol(i,f)}return o&&vg(a,o)<0&&(a=o),hi(a)}function Wue(){var e=Es(),t=Hue(e),r=zue(t,e.month),s=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var u=hi(o);a(u),(l=e.onMonthChange)===null||l===void 0||l.call(e,u)}};return[s,i]}function Gue(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=hi(e),i=hi(ol(a,s)),o=vg(i,a),l=[],u=0;u<o;u++){var f=ol(a,u);l.push(f)}return r&&(l=l.reverse()),l}function Yue(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=hi(e);if(!r)return ol(l,o);var u=vg(r,e);if(!(u<i))return ol(l,o)}}function Kue(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=hi(e);if(!r)return ol(l,-o);var u=vg(l,r);if(!(u<=0))return ol(l,-o)}}var y9=g.createContext(void 0);function Xue(e){var t=Es(),r=Wue(),s=r[0],a=r[1],i=Gue(s,t),o=Yue(s,t),l=Kue(s,t),u=function(x){return i.some(function(p){return SC(x,p)})},f=function(x,p){u(x)||(p&&X7(x,p)?a(ol(x,1+t.numberOfMonths*-1)):a(x))},h={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:f,previousMonth:l,nextMonth:o,isDateDisplayed:u};return n.jsx(y9.Provider,{value:h,children:e.children})}function my(){var e=g.useContext(y9);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function B5(e){var t,r=Es(),s=r.classNames,a=r.styles,i=r.components,o=my().goToMonth,l=function(h){o(ol(h,e.displayIndex?-e.displayIndex:0))},u=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:x9,f=n.jsx(u,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:f}),n.jsx(Vue,{onChange:l,displayMonth:e.displayMonth}),n.jsx(que,{onChange:l,displayMonth:e.displayMonth})]})}function Que(e){return n.jsx("svg",ur({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Zue(e){return n.jsx("svg",ur({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var hb=g.forwardRef(function(e,t){var r=Es(),s=r.classNames,a=r.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=ur(ur({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",ur({},e,{ref:t,type:"button",className:o,style:l}))});function Jue(e){var t,r,s=Es(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,u=s.labels,f=u.labelPrevious,h=u.labelNext,x=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var p=f(e.previousMonth,{locale:i}),y=[o.nav_button,o.nav_button_previous].join(" "),N=h(e.nextMonth,{locale:i}),b=[o.nav_button,o.nav_button_next].join(" "),w=(t=x==null?void 0:x.IconRight)!==null&&t!==void 0?t:Zue,j=(r=x==null?void 0:x.IconLeft)!==null&&r!==void 0?r:Que;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(hb,{name:"previous-month","aria-label":p,className:y,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(w,{className:o.nav_icon,style:l.nav_icon}):n.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(hb,{name:"next-month","aria-label":N,className:b,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(j,{className:o.nav_icon,style:l.nav_icon}):n.jsx(w,{className:o.nav_icon,style:l.nav_icon})})]})}function $5(e){var t=Es().numberOfMonths,r=my(),s=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(N){return SC(e.displayMonth,N)}),u=l===0,f=l===o.length-1,h=t>1&&(u||!f),x=t>1&&(f||!u),p=function(){s&&i(s)},y=function(){a&&i(a)};return n.jsx(Jue,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:x,nextMonth:a,previousMonth:s,onPreviousClick:p,onNextClick:y})}function efe(e){var t,r=Es(),s=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,u=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:x9,f;return a?f=n.jsx(u,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?f=n.jsx(B5,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?f=n.jsxs(n.Fragment,{children:[n.jsx(B5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx($5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=n.jsxs(n.Fragment,{children:[n.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx($5,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:i.caption,children:f})}function tfe(e){var t=Es(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function rfe(e,t,r){for(var s=r?Kf(new Date):Xl(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Zn(s,i);a.push(o)}return a}function sfe(){var e=Es(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,f=rfe(a,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),f.map(function(h,x){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":u(h,{locale:a}),children:l(h,{locale:a})},x)})]})}function nfe(){var e,t=Es(),r=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:sfe;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(i,{})})}function afe(e){var t=Es(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var AC=g.createContext(void 0);function ife(e){if(!fy(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(AC.Provider,{value:t,children:e.children})}return n.jsx(ofe,{initialProps:e.initialProps,children:e.children})}function ofe(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,i=t.max,o=function(f,h,x){var p,y;(p=t.onDayClick)===null||p===void 0||p.call(t,f,h,x);var N=!!(h.selected&&a&&(s==null?void 0:s.length)===a);if(!N){var b=!!(!h.selected&&i&&(s==null?void 0:s.length)===i);if(!b){var w=s?m9([],s):[];if(h.selected){var j=w.findIndex(function(S){return ci(f,S)});w.splice(j,1)}else w.push(f);(y=t.onSelect)===null||y===void 0||y.call(t,w,f,h,x)}}},l={disabled:[]};s&&l.disabled.push(function(f){var h=i&&s.length>i-1,x=s.some(function(p){return ci(p,f)});return!!(h&&!x)});var u={selected:s,onDayClick:o,modifiers:l};return n.jsx(AC.Provider,{value:u,children:r})}function TC(){var e=g.useContext(AC);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function lfe(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?ci(a,e)&&ci(s,e)?void 0:ci(a,e)?{from:a,to:void 0}:ci(s,e)?void 0:Hm(s,e)?{from:e,to:a}:{from:s,to:e}:a?Hm(e,a)?{from:a,to:e}:{from:e,to:a}:s?X7(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var CC=g.createContext(void 0);function cfe(e){if(!hy(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(CC.Provider,{value:t,children:e.children})}return n.jsx(dfe,{initialProps:e.initialProps,children:e.children})}function dfe(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,u=t.max,f=function(y,N,b){var w,j;(w=t.onDayClick)===null||w===void 0||w.call(t,y,N,b);var S=lfe(y,s);(j=t.onSelect)===null||j===void 0||j.call(t,S,y,N,b)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(h.range_start=[i],o?(h.range_end=[o],ci(i,o)||(h.range_middle=[{after:i,before:o}])):h.range_end=[i]):o&&(h.range_start=[o],h.range_end=[o]),l&&(i&&!o&&h.disabled.push({after:Y2(i,l-1),before:Zn(i,l-1)}),i&&o&&h.disabled.push({after:i,before:Zn(i,l-1)}),!i&&o&&h.disabled.push({after:Y2(o,l-1),before:Zn(o,l-1)})),u){if(i&&!o&&(h.disabled.push({before:Zn(i,-u+1)}),h.disabled.push({after:Zn(i,u-1)})),i&&o){var x=Ll(o,i)+1,p=u-x;h.disabled.push({before:Y2(i,p)}),h.disabled.push({after:Zn(o,p)})}!i&&o&&(h.disabled.push({before:Zn(o,-u+1)}),h.disabled.push({after:Zn(o,u-1)}))}return n.jsx(CC.Provider,{value:{selected:s,onDayClick:f,modifiers:h},children:r})}function _C(){var e=g.useContext(CC);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function R1(e){return Array.isArray(e)?m9([],e):e!==void 0?[e]:[]}function ufe(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=R1(a)}),t}var ll;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ll||(ll={}));var ffe=ll.Selected,Nc=ll.Disabled,hfe=ll.Hidden,mfe=ll.Today,J2=ll.RangeEnd,eS=ll.RangeMiddle,tS=ll.RangeStart,pfe=ll.Outside;function xfe(e,t,r){var s,a=(s={},s[ffe]=R1(e.selected),s[Nc]=R1(e.disabled),s[hfe]=R1(e.hidden),s[mfe]=[e.today],s[J2]=[],s[eS]=[],s[tS]=[],s[pfe]=[],s);return e.fromDate&&a[Nc].push({before:e.fromDate}),e.toDate&&a[Nc].push({after:e.toDate}),fy(e)?a[Nc]=a[Nc].concat(t.modifiers[Nc]):hy(e)&&(a[Nc]=a[Nc].concat(r.modifiers[Nc]),a[tS]=r.modifiers[tS],a[eS]=r.modifiers[eS],a[J2]=r.modifiers[J2]),a}var v9=g.createContext(void 0);function gfe(e){var t=Es(),r=TC(),s=_C(),a=xfe(t,r,s),i=ufe(t.modifiers),o=ur(ur({},a),i);return n.jsx(v9.Provider,{value:o,children:e.children})}function b9(){var e=g.useContext(v9);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function yfe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function vfe(e){return!!(e&&typeof e=="object"&&"from"in e)}function bfe(e){return!!(e&&typeof e=="object"&&"after"in e)}function wfe(e){return!!(e&&typeof e=="object"&&"before"in e)}function Nfe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function jfe(e,t){var r,s=t.from,a=t.to;if(s&&a){var i=Ll(a,s)<0;i&&(r=[a,s],s=r[0],a=r[1]);var o=Ll(e,s)>=0&&Ll(a,e)>=0;return o}return a?ci(a,e):s?ci(s,e):!1}function Sfe(e){return wC(e)}function Efe(e){return Array.isArray(e)&&e.every(wC)}function Afe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Sfe(r))return ci(e,r);if(Efe(r))return r.includes(e);if(vfe(r))return jfe(e,r);if(Nfe(r))return r.dayOfWeek.includes(e.getDay());if(yfe(r)){var s=Ll(r.before,e),a=Ll(r.after,e),i=s>0,o=a<0,l=Hm(r.before,r.after);return l?o&&i:i||o}return bfe(r)?Ll(e,r.after)>0:wfe(r)?Ll(r.before,e)>0:typeof r=="function"?r(e):!1})}function kC(e,t,r){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return Afe(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),r&&!SC(e,r)&&(a.outside=!0),a}function Tfe(e,t){for(var r=hi(e[0]),s=NC(e[e.length-1]),a,i,o=r;o<=s;){var l=kC(o,t),u=!l.disabled&&!l.hidden;if(!u){o=Zn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Zn(o,1)}return i||a}var Cfe=365;function w9(e,t){var r=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,u=a.weekStartsOn,f=a.fromDate,h=a.toDate,x=a.locale,p={day:Zn,week:nA,month:ol,year:yce,startOfWeek:function(w){return a.ISOWeek?Kf(w):Xl(w,{locale:x,weekStartsOn:u})},endOfWeek:function(w){return a.ISOWeek?z7(w):jC(w,{locale:x,weekStartsOn:u})}},y=p[r](e,s==="after"?1:-1);s==="before"&&f?y=vce([f,y]):s==="after"&&h&&(y=bce([h,y]));var N=!0;if(i){var b=kC(y,i);N=!b.disabled&&!b.hidden}return N?y:l.count>Cfe?l.lastFocused:w9(y,{moveBy:r,direction:s,context:a,modifiers:i,retry:ur(ur({},l),{count:l.count+1})})}var N9=g.createContext(void 0);function _fe(e){var t=my(),r=b9(),s=g.useState(),a=s[0],i=s[1],o=g.useState(),l=o[0],u=o[1],f=Tfe(t.displayMonths,r),h=a??(l&&t.isDateDisplayed(l))?l:f,x=function(){u(a),i(void 0)},p=function(w){i(w)},y=Es(),N=function(w,j){if(a){var S=w9(a,{moveBy:w,direction:j,context:y,modifiers:r});ci(a,S)||(t.goToDate(S,a),p(S))}},b={focusedDay:a,focusTarget:h,blur:x,focus:p,focusDayAfter:function(){return N("day","after")},focusDayBefore:function(){return N("day","before")},focusWeekAfter:function(){return N("week","after")},focusWeekBefore:function(){return N("week","before")},focusMonthBefore:function(){return N("month","before")},focusMonthAfter:function(){return N("month","after")},focusYearBefore:function(){return N("year","before")},focusYearAfter:function(){return N("year","after")},focusStartOfWeek:function(){return N("startOfWeek","before")},focusEndOfWeek:function(){return N("endOfWeek","after")}};return n.jsx(N9.Provider,{value:b,children:e.children})}function DC(){var e=g.useContext(N9);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function kfe(e,t){var r=b9(),s=kC(e,r,t);return s}var OC=g.createContext(void 0);function Dfe(e){if(!Pw(e.initialProps)){var t={selected:void 0};return n.jsx(OC.Provider,{value:t,children:e.children})}return n.jsx(Ofe,{initialProps:e.initialProps,children:e.children})}function Ofe(e){var t=e.initialProps,r=e.children,s=function(i,o,l){var u,f,h;if((u=t.onDayClick)===null||u===void 0||u.call(t,i,o,l),o.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,i,o,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return n.jsx(OC.Provider,{value:a,children:r})}function j9(){var e=g.useContext(OC);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Rfe(e,t){var r=Es(),s=j9(),a=TC(),i=_C(),o=DC(),l=o.focusDayAfter,u=o.focusDayBefore,f=o.focusWeekAfter,h=o.focusWeekBefore,x=o.blur,p=o.focus,y=o.focusMonthBefore,N=o.focusMonthAfter,b=o.focusYearBefore,w=o.focusYearAfter,j=o.focusStartOfWeek,S=o.focusEndOfWeek,A=function(U){var F,X,q,te;Pw(r)?(F=s.onDayClick)===null||F===void 0||F.call(s,e,t,U):fy(r)?(X=a.onDayClick)===null||X===void 0||X.call(a,e,t,U):hy(r)?(q=i.onDayClick)===null||q===void 0||q.call(i,e,t,U):(te=r.onDayClick)===null||te===void 0||te.call(r,e,t,U)},C=function(U){var F;p(e),(F=r.onDayFocus)===null||F===void 0||F.call(r,e,t,U)},T=function(U){var F;x(),(F=r.onDayBlur)===null||F===void 0||F.call(r,e,t,U)},D=function(U){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,e,t,U)},_=function(U){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,e,t,U)},O=function(U){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,e,t,U)},P=function(U){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,e,t,U)},B=function(U){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,e,t,U)},I=function(U){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,e,t,U)},G=function(U){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,e,t,U)},z=function(U){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,e,t,U)},ae=function(U){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,e,t,U)},J=function(U){var F;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?l():u();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?u():l();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),f();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),h();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?b():y();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?w():N();break;case"Home":U.preventDefault(),U.stopPropagation(),j();break;case"End":U.preventDefault(),U.stopPropagation(),S();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,e,t,U)},L={onClick:A,onFocus:C,onBlur:T,onKeyDown:J,onKeyUp:ae,onMouseEnter:D,onMouseLeave:_,onPointerEnter:O,onPointerLeave:P,onTouchCancel:B,onTouchEnd:I,onTouchMove:G,onTouchStart:z};return L}function Pfe(){var e=Es(),t=j9(),r=TC(),s=_C(),a=Pw(e)?t.selected:fy(e)?r.selected:hy(e)?s.selected:void 0;return a}function Mfe(e){return Object.values(ll).includes(e)}function Ife(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(Mfe(s)){var i=e.classNames["day_".concat(s)];i&&r.push(i)}}),r}function Ffe(e,t){var r=ur({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=ur(ur({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function Lfe(e,t,r){var s,a,i,o=Es(),l=DC(),u=kfe(e,t),f=Rfe(e,u),h=Pfe(),x=!!(o.onDayClick||o.mode!=="default");g.useEffect(function(){var D;u.outside||l.focusedDay&&x&&ci(l.focusedDay,e)&&((D=r.current)===null||D===void 0||D.focus())},[l.focusedDay,e,r,x,u.outside]);var p=Ife(o,u).join(" "),y=Ffe(o,u),N=!!(u.outside&&!o.showOutsideDays||u.hidden),b=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:afe,w=n.jsx(b,{date:e,displayMonth:t,activeModifiers:u}),j={style:y,className:p,children:w,role:"gridcell"},S=l.focusTarget&&ci(l.focusTarget,e)&&!u.outside,A=l.focusedDay&&ci(l.focusedDay,e),C=ur(ur(ur({},j),(s={disabled:u.disabled,role:"gridcell"},s["aria-selected"]=u.selected,s.tabIndex=A||S?0:-1,s)),f),T={isButton:x,isHidden:N,activeModifiers:u,selectedDays:h,buttonProps:C,divProps:j};return T}function Bfe(e){var t=g.useRef(null),r=Lfe(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(hb,ur({name:"day",ref:t},r.buttonProps)):n.jsx("div",ur({},r.divProps))}function $fe(e){var t=e.number,r=e.dates,s=Es(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,u=s.labels.labelWeekNumber,f=s.formatters.formatWeekNumber,h=f(Number(t),{locale:l});if(!a)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:h});var x=u(Number(t),{locale:l}),p=function(y){a(t,r,y)};return n.jsx(hb,{name:"week-number","aria-label":x,className:o.weeknumber,style:i.weeknumber,onClick:p,children:h})}function Ufe(e){var t,r,s=Es(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,u=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Bfe,f=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:$fe,h;return o&&(h=n.jsx("td",{className:i.cell,style:a.cell,children:n.jsx(f,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:a.row,children:[h,e.dates.map(function(x){return n.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:n.jsx(u,{displayMonth:e.displayMonth,date:x})},vde(x))})]})}function U5(e,t,r){for(var s=r!=null&&r.ISOWeek?z7(t):jC(t,r),a=r!=null&&r.ISOWeek?Kf(e):Xl(e,r),i=Ll(s,a),o=[],l=0;l<=i;l++)o.push(Zn(a,l));var u=o.reduce(function(f,h){var x=r!=null&&r.ISOWeek?W7(h):Y7(h,r),p=f.find(function(y){return y.weekNumber===x});return p?(p.dates.push(h),f):(f.push({weekNumber:x,dates:[h]}),f)},[]);return u}function Vfe(e,t){var r=U5(hi(e),NC(e),t);if(t!=null&&t.useFixedWeeks){var s=wde(e,t);if(s<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=nA(i,6-s),l=U5(nA(i,1),o,t);r.push.apply(r,l)}}return r}function qfe(e){var t,r,s,a=Es(),i=a.locale,o=a.classNames,l=a.styles,u=a.hideHead,f=a.fixedWeeks,h=a.components,x=a.weekStartsOn,p=a.firstWeekContainsDate,y=a.ISOWeek,N=Vfe(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:y,locale:i,weekStartsOn:x,firstWeekContainsDate:p}),b=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:nfe,w=(r=h==null?void 0:h.Row)!==null&&r!==void 0?r:Ufe,j=(s=h==null?void 0:h.Footer)!==null&&s!==void 0?s:tfe;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&n.jsx(b,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:N.map(function(S){return n.jsx(w,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),n.jsx(j,{displayMonth:e.displayMonth})]})}function zfe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Hfe=zfe()?g.useLayoutEffect:g.useEffect,rS=!1,Wfe=0;function V5(){return"react-day-picker-".concat(++Wfe)}function Gfe(e){var t,r=e??(rS?V5():null),s=g.useState(r),a=s[0],i=s[1];return Hfe(function(){a===null&&i(V5())},[]),g.useEffect(function(){rS===!1&&(rS=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Yfe(e){var t,r,s=Es(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,u=my().displayMonths,f=Gfe(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),h=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,x=[i.month],p=o.month,y=e.displayIndex===0,N=e.displayIndex===u.length-1,b=!y&&!N;a==="rtl"&&(t=[y,N],N=t[0],y=t[1]),y&&(x.push(i.caption_start),p=ur(ur({},p),o.caption_start)),N&&(x.push(i.caption_end),p=ur(ur({},p),o.caption_end)),b&&(x.push(i.caption_between),p=ur(ur({},p),o.caption_between));var w=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:efe;return n.jsxs("div",{className:x.join(" "),style:p,children:[n.jsx(w,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(qfe,{id:h,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function Kfe(e){var t=Es(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function Xfe(e){var t,r,s=e.initialProps,a=Es(),i=DC(),o=my(),l=g.useState(!1),u=l[0],f=l[1];g.useEffect(function(){a.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),f(!0)))},[a.initialFocus,u,i.focus,i.focusTarget,i]);var h=[a.classNames.root,a.className];a.numberOfMonths>1&&h.push(a.classNames.multiple_months),a.showWeekNumber&&h.push(a.classNames.with_weeknumber);var x=ur(ur({},a.styles.root),a.style),p=Object.keys(s).filter(function(N){return N.startsWith("data-")}).reduce(function(N,b){var w;return ur(ur({},N),(w={},w[b]=s[b],w))},{}),y=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Kfe;return n.jsx("div",ur({className:h.join(" "),style:x,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},p,{children:n.jsx(y,{children:o.displayMonths.map(function(N,b){return n.jsx(Yfe,{displayIndex:b,displayMonth:N},b)})})}))}function Qfe(e){var t=e.children,r=wue(e,["children"]);return n.jsx($ue,{initialProps:r,children:n.jsx(Xue,{children:n.jsx(Dfe,{initialProps:r,children:n.jsx(ife,{initialProps:r,children:n.jsx(cfe,{initialProps:r,children:n.jsx(gfe,{children:n.jsx(_fe,{children:t})})})})})})})}function Zfe(e){return n.jsx(Qfe,ur({},e,{children:n.jsx(Xfe,{initialProps:e})}))}function id({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(Zfe,{showOutsideDays:r,className:Je("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Je(y0({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Je("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",s.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Je(y0({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-gray-700-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-gray-700-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>n.jsx(M0,{className:Je("size-4",a),...i}),IconRight:({className:a,...i})=>n.jsx(wu,{className:Je("size-4",a),...i})},...s})}const Jfe=()=>{const[e,t]=g.useState(1),r=10,[s,a]=g.useState(""),[i,o]=g.useState(""),[l,u]=g.useState(),f=g.useRef(null),[h,x]=g.useState(null),p=g.useCallback(D=>{a(D.target.value)},[]);g.useEffect(()=>(f.current&&window.clearTimeout(f.current),f.current=window.setTimeout(()=>o(s),400),()=>{f.current&&window.clearTimeout(f.current)}),[s]);const{data:y,isLoading:N,isError:b,refetch:w}=Br({queryKey:["wastages",e,i,l],queryFn:async()=>{let D=`/wastages?page=${e}&limit=${r}`;return i&&(D+=`&search=${i}`),l&&(D+=`&date=${Gt(l,"yyyy-MM-dd")}`),mt(D)}}),j=(y==null?void 0:y.data)||[],S=(y==null?void 0:y.totalPages)||1,A=()=>{a(""),o(""),u(void 0),t(1)},C=D=>D.reduce((_,O)=>_+(O.quantity||0),0),T=async()=>{if(h)try{await Hn(`/wastages/${h}`),me.success("Wastage deleted"),w(),x(null)}catch(D){me.error(D.message||"Failed to delete wastage")}};return N?n.jsx("div",{className:"p-10 text-center",children:"Loading wastages..."}):b?n.jsx("div",{className:"p-10 text-center",children:"Error loading wastages"}):n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(At,{className:"mb-6",children:[n.jsxs(Mt,{className:"flex flex-row items-center justify-between pb-4",children:[n.jsx(Zt,{className:"text-2xl",children:"Wastage Management"}),n.jsx(Rr,{to:"/admin/wastages/create",children:n.jsxs(he,{children:[n.jsx(vn,{className:"mr-2 size-4"})," New Wastage"]})})]}),n.jsxs(Dt,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx(tt,{placeholder:"Search by wastage no",value:s,onChange:p}),n.jsxs(sd,{children:[n.jsx(nd,{asChild:!0,children:n.jsxs(he,{variant:"outline",className:Je("w-full justify-start",!l&&"text-muted-foreground"),children:[n.jsx(Ta,{className:"mr-2 h-4 w-4"}),l?Gt(l,"dd/MM/yyyy"):"Pick a date"]})}),n.jsx(ad,{className:"w-auto p-0",align:"start",children:n.jsx(id,{mode:"single",selected:l,onSelect:u})})]}),n.jsx(he,{variant:"outline",onClick:A,children:"Clear Filters"})]}),j.length===0?n.jsx("div",{className:"py-10 text-center",children:"No wastages found."}):n.jsxs(Ps,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[n.jsx(Ms,{className:"bg-gray-100",children:n.jsxs(Xt,{children:[n.jsx(Ke,{className:"px-6 py-3",children:"Wastage No"}),n.jsx(Ke,{className:"px-6 py-3",children:"Wastage Date"}),n.jsx(Ke,{className:"px-6 py-3",children:"Invoice No"}),n.jsx(Ke,{className:"px-6 py-3",children:"Invoice Date"}),n.jsx(Ke,{className:"px-6 py-3 text-right",children:"Total Qty"}),n.jsx(Ke,{className:"px-6 py-3",children:"Actions"})]})}),n.jsx(Is,{className:"divide-y",children:j.map(D=>n.jsxs(Xt,{className:"hover:bg-gray-50",children:[n.jsx(ze,{className:"px-6 py-4 font-medium",children:D.wastageNo}),n.jsx(ze,{className:"px-6 py-4",children:Gt(new Date(D.wastageDate),"dd/MM/yyyy")}),n.jsx(ze,{className:"px-6 py-4",children:D.invoiceNo}),n.jsx(ze,{className:"px-6 py-4",children:Gt(new Date(D.invoiceDate),"dd/MM/yyyy")}),n.jsx(ze,{className:"px-6 py-4 text-right",children:C(D.details)}),n.jsxs(ze,{className:"px-6 py-4 space-x-2",children:[n.jsx(Rr,{to:`/admin/wastages/edit/${D.id}`,children:n.jsx(he,{size:"icon",variant:"ghost",children:n.jsx(_T,{className:"size-4"})})}),n.jsxs(aa,{children:[n.jsx(ph,{asChild:!0,children:n.jsx(he,{size:"icon",variant:"ghost",onClick:()=>x(D.id),children:n.jsx(fn,{className:"size-4"})})}),n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Are you sure?"}),n.jsx(da,{children:"This action cannot be undone. This will permanently delete the wastage and remove its data from our servers."})]}),n.jsxs(la,{children:[n.jsx(fa,{onClick:()=>x(null),children:"Cancel"}),n.jsx(ua,{onClick:T,children:"Continue"})]})]})]})]})]},D.id))})]}),S>1&&n.jsx(Q0,{className:"mt-6",children:n.jsxs(Z0,{children:[n.jsx(J0,{onClick:()=>t(D=>Math.max(1,D-1))}),n.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",S]}),n.jsx(ep,{onClick:()=>t(D=>Math.min(S,D+1))})]})})]})]})})};var py=e=>e.type==="checkbox",jf=e=>e instanceof Date,Ba=e=>e==null;const S9=e=>typeof e=="object";var dn=e=>!Ba(e)&&!Array.isArray(e)&&S9(e)&&!jf(e),E9=e=>dn(e)&&e.target?py(e.target)?e.target.checked:e.target.value:e,ehe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,A9=(e,t)=>e.has(ehe(t)),the=e=>{const t=e.constructor&&e.constructor.prototype;return dn(t)&&t.hasOwnProperty("isPrototypeOf")},RC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bs(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(RC&&(e instanceof Blob||s))&&(r||dn(e)))if(t=r?[]:{},!r&&!the(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Bs(e[a]));else return e;return t}var xy=e=>Array.isArray(e)?e.filter(Boolean):[],Ts=e=>e===void 0,Nt=(e,t,r)=>{if(!t||!dn(e))return r;const s=xy(t.split(/[,[\].]+?/)).reduce((a,i)=>Ba(a)?a:a[i],e);return Ts(s)||s===e?Ts(e[t])?r:e[t]:s},Di=e=>typeof e=="boolean",PC=e=>/^\w*$/.test(e),T9=e=>xy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Hr=(e,t,r)=>{let s=-1;const a=PC(t)?[t]:T9(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let u=r;if(s!==o){const f=e[l];u=dn(f)||Array.isArray(f)?f:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=u,e=e[l]}};const mb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ho={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},C9=Le.createContext(null),gy=()=>Le.useContext(C9),rhe=e=>{const{children:t,...r}=e;return Le.createElement(C9.Provider,{value:r},t)};var _9=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ho.all&&(t._proxyFormState[o]=!s||ho.all),r&&(r[o]=!0),e[o]}});return a},iA=e=>Ba(e)||!S9(e);function Dc(e,t){if(iA(e)||iA(t))return e===t;if(jf(e)&&jf(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(jf(i)&&jf(o)||dn(i)&&dn(o)||Array.isArray(i)&&Array.isArray(o)?!Dc(i,o):i!==o)return!1}}return!0}const k9=(e,t)=>{const r=g.useRef(t);Dc(t,r.current)||(r.current=t),g.useEffect(e,r.current)};function D9(e){const t=gy(),{control:r=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=Le.useState(r._formState),u=Le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return k9(()=>r._subscribe({name:a,formState:u.current,exact:i,callback:f=>{!s&&l({...r._formState,...f})}}),[a,s,i]),Le.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),Le.useMemo(()=>_9(o,r,u.current,!1),[o,r])}var Bl=e=>typeof e=="string",O9=(e,t,r,s,a)=>Bl(e)?(s&&t.watch.add(e),Nt(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),Nt(r,i))):(s&&(t.watchAll=!0),r);function she(e){const t=gy(),{control:r=t.control,name:s,defaultValue:a,disabled:i,exact:o}=e||{},[l,u]=Le.useState(r._getWatch(s,a));return k9(()=>r._subscribe({name:s,formState:{values:!0},exact:o,callback:f=>!i&&u(O9(s,r._names,f.values||r._formValues,!1,a))}),[s,a,i,o]),Le.useEffect(()=>r._removeUnmounted()),l}function nhe(e){const t=gy(),{name:r,disabled:s,control:a=t.control,shouldUnregister:i}=e,o=A9(a._names.array,r),l=she({control:a,name:r,defaultValue:Nt(a._formValues,r,Nt(a._defaultValues,r,e.defaultValue)),exact:!0}),u=D9({control:a,name:r,exact:!0}),f=Le.useRef(e),h=Le.useRef(a.register(r,{...e.rules,value:l,...Di(e.disabled)?{disabled:e.disabled}:{}})),x=Le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Nt(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!Nt(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Nt(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Nt(u.validatingFields,r)},error:{enumerable:!0,get:()=>Nt(u.errors,r)}}),[u,r]),p=Le.useCallback(w=>h.current.onChange({target:{value:E9(w),name:r},type:mb.CHANGE}),[r]),y=Le.useCallback(()=>h.current.onBlur({target:{value:Nt(a._formValues,r),name:r},type:mb.BLUR}),[r,a._formValues]),N=Le.useCallback(w=>{const j=Nt(a._fields,r);j&&w&&(j._f.ref={focus:()=>w.focus(),select:()=>w.select(),setCustomValidity:S=>w.setCustomValidity(S),reportValidity:()=>w.reportValidity()})},[a._fields,r]),b=Le.useMemo(()=>({name:r,value:l,...Di(s)||u.disabled?{disabled:u.disabled||s}:{},onChange:p,onBlur:y,ref:N}),[r,s,u.disabled,p,y,N,l]);return Le.useEffect(()=>{const w=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...Di(f.current.disabled)?{disabled:f.current.disabled}:{}});const j=(S,A)=>{const C=Nt(a._fields,S);C&&C._f&&(C._f.mount=A)};if(j(r,!0),w){const S=Bs(Nt(a._options.defaultValues,r));Hr(a._defaultValues,r,S),Ts(Nt(a._formValues,r))&&Hr(a._formValues,r,S)}return!o&&a.register(r),()=>{(o?w&&!a._state.action:w)?a.unregister(r):j(r,!1)}},[r,a,o,i]),Le.useEffect(()=>{a._setDisabledField({disabled:s,name:r})},[s,r,a]),Le.useMemo(()=>({field:b,formState:u,fieldState:x}),[b,u,x])}const Ur=e=>e.render(nhe(e));var R9=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},di=e=>Array.isArray(e)?e:[e],q5=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Na=e=>dn(e)&&!Object.keys(e).length,MC=e=>e.type==="file",Go=e=>typeof e=="function",pb=e=>{if(!RC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},P9=e=>e.type==="select-multiple",IC=e=>e.type==="radio",ahe=e=>IC(e)||py(e),sS=e=>pb(e)&&e.isConnected;function ihe(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Ts(e)?s++:e[t[s++]];return e}function ohe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ts(e[t]))return!1;return!0}function yn(e,t){const r=Array.isArray(t)?t:PC(t)?[t]:T9(t),s=r.length===1?e:ihe(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(dn(s)&&Na(s)||Array.isArray(s)&&ohe(s))&&yn(e,r.slice(0,-1)),e}var M9=e=>{for(const t in e)if(Go(e[t]))return!0;return!1};function xb(e,t={}){const r=Array.isArray(e);if(dn(e)||r)for(const s in e)Array.isArray(e[s])||dn(e[s])&&!M9(e[s])?(t[s]=Array.isArray(e[s])?[]:{},xb(e[s],t[s])):Ba(e[s])||(t[s]=!0);return t}function I9(e,t,r){const s=Array.isArray(e);if(dn(e)||s)for(const a in e)Array.isArray(e[a])||dn(e[a])&&!M9(e[a])?Ts(t)||iA(r[a])?r[a]=Array.isArray(e[a])?xb(e[a],[]):{...xb(e[a])}:I9(e[a],Ba(t)?{}:t[a],r[a]):r[a]=!Dc(e[a],t[a]);return r}var dx=(e,t)=>I9(e,t,xb(t));const z5={value:!1,isValid:!1},H5={value:!0,isValid:!0};var F9=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ts(e[0].attributes.value)?Ts(e[0].value)||e[0].value===""?H5:{value:e[0].value,isValid:!0}:H5:z5}return z5},L9=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Ts(e)?e:t?e===""?NaN:e&&+e:r&&Bl(e)?new Date(e):s?s(e):e;const W5={isValid:!1,value:null};var B9=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,W5):W5;function G5(e){const t=e.ref;return MC(t)?t.files:IC(t)?B9(e.refs).value:P9(t)?[...t.selectedOptions].map(({value:r})=>r):py(t)?F9(e.refs).value:L9(Ts(t.value)?e.ref.value:t.value,e)}var lhe=(e,t,r,s)=>{const a={};for(const i of e){const o=Nt(t,i);o&&Hr(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},gb=e=>e instanceof RegExp,ux=e=>Ts(e)?e:gb(e)?e.source:dn(e)?gb(e.value)?e.value.source:e.value:e,km=e=>({isOnSubmit:!e||e===ho.onSubmit,isOnBlur:e===ho.onBlur,isOnChange:e===ho.onChange,isOnAll:e===ho.all,isOnTouch:e===ho.onTouched});const Y5="AsyncFunction";var che=e=>!!e&&!!e.validate&&!!(Go(e.validate)&&e.validate.constructor.name===Y5||dn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Y5)),dhe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),oA=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Wm=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=Nt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Wm(l,t))break}else if(dn(l)&&Wm(l,t))break}}};function K5(e,t,r){const s=Nt(e,r);if(s||PC(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Nt(t,i),l=Nt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var uhe=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Na(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||ho.all))},fhe=(e,t,r)=>!e||!t||e===t||di(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),hhe=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,mhe=(e,t)=>!xy(Nt(e,t)).length&&yn(e,t),$9=(e,t,r)=>{const s=di(Nt(e,r));return Hr(s,"root",t[r]),Hr(e,r,s),e},P1=e=>Bl(e);function X5(e,t,r="validate"){if(P1(e)||Array.isArray(e)&&e.every(P1)||Di(e)&&!e)return{type:r,message:P1(e)?e:"",ref:t}}var mm=e=>dn(e)&&!gb(e)?e:{value:e,message:""},lA=async(e,t,r,s,a,i)=>{const{ref:o,refs:l,required:u,maxLength:f,minLength:h,min:x,max:p,pattern:y,validate:N,name:b,valueAsNumber:w,mount:j}=e._f,S=Nt(r,b);if(!j||t.has(b))return{};const A=l?l[0]:o,C=G=>{a&&A.reportValidity&&(A.setCustomValidity(Di(G)?"":G||""),A.reportValidity())},T={},D=IC(o),_=py(o),O=D||_,P=(w||MC(o))&&Ts(o.value)&&Ts(S)||pb(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,B=R9.bind(null,b,s,T),I=(G,z,ae,J=jc.maxLength,L=jc.minLength)=>{const U=G?z:ae;T[b]={type:G?J:L,message:U,ref:o,...B(G?J:L,U)}};if(i?!Array.isArray(S)||!S.length:u&&(!O&&(P||Ba(S))||Di(S)&&!S||_&&!F9(l).isValid||D&&!B9(l).isValid)){const{value:G,message:z}=P1(u)?{value:!!u,message:u}:mm(u);if(G&&(T[b]={type:jc.required,message:z,ref:A,...B(jc.required,z)},!s))return C(z),T}if(!P&&(!Ba(x)||!Ba(p))){let G,z;const ae=mm(p),J=mm(x);if(!Ba(S)&&!isNaN(S)){const L=o.valueAsNumber||S&&+S;Ba(ae.value)||(G=L>ae.value),Ba(J.value)||(z=L<J.value)}else{const L=o.valueAsDate||new Date(S),U=q=>new Date(new Date().toDateString()+" "+q),F=o.type=="time",X=o.type=="week";Bl(ae.value)&&S&&(G=F?U(S)>U(ae.value):X?S>ae.value:L>new Date(ae.value)),Bl(J.value)&&S&&(z=F?U(S)<U(J.value):X?S<J.value:L<new Date(J.value))}if((G||z)&&(I(!!G,ae.message,J.message,jc.max,jc.min),!s))return C(T[b].message),T}if((f||h)&&!P&&(Bl(S)||i&&Array.isArray(S))){const G=mm(f),z=mm(h),ae=!Ba(G.value)&&S.length>+G.value,J=!Ba(z.value)&&S.length<+z.value;if((ae||J)&&(I(ae,G.message,z.message),!s))return C(T[b].message),T}if(y&&!P&&Bl(S)){const{value:G,message:z}=mm(y);if(gb(G)&&!S.match(G)&&(T[b]={type:jc.pattern,message:z,ref:o,...B(jc.pattern,z)},!s))return C(z),T}if(N){if(Go(N)){const G=await N(S,r),z=X5(G,A);if(z&&(T[b]={...z,...B(jc.validate,z.message)},!s))return C(z.message),T}else if(dn(N)){let G={};for(const z in N){if(!Na(G)&&!s)break;const ae=X5(await N[z](S,r),A,z);ae&&(G={...ae,...B(z,ae.message)},C(ae.message),s&&(T[b]=G))}if(!Na(G)&&(T[b]={ref:A,...G},!s))return T}}return C(!0),T};const phe={mode:ho.onSubmit,reValidateMode:ho.onChange,shouldFocusError:!0};function xhe(e={}){let t={...phe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Go(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let a=dn(t.defaultValues)||dn(t.values)?Bs(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Bs(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,f=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...h};const p={array:q5(),state:q5()},y=km(t.mode),N=km(t.reValidateMode),b=t.criteriaMode===ho.all,w=fe=>Se=>{clearTimeout(f),f=setTimeout(fe,Se)},j=async fe=>{if(!t.disabled&&(h.isValid||x.isValid||fe)){const Se=t.resolver?Na((await P()).errors):await I(s,!0);Se!==r.isValid&&p.state.next({isValid:Se})}},S=(fe,Se)=>{!t.disabled&&(h.isValidating||h.validatingFields||x.isValidating||x.validatingFields)&&((fe||Array.from(l.mount)).forEach(Re=>{Re&&(Se?Hr(r.validatingFields,Re,Se):yn(r.validatingFields,Re))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Na(r.validatingFields)}))},A=(fe,Se=[],Re,ye,$e=!0,Pe=!0)=>{if(ye&&Re&&!t.disabled){if(o.action=!0,Pe&&Array.isArray(Nt(s,fe))){const Xe=Re(Nt(s,fe),ye.argA,ye.argB);$e&&Hr(s,fe,Xe)}if(Pe&&Array.isArray(Nt(r.errors,fe))){const Xe=Re(Nt(r.errors,fe),ye.argA,ye.argB);$e&&Hr(r.errors,fe,Xe),mhe(r.errors,fe)}if((h.touchedFields||x.touchedFields)&&Pe&&Array.isArray(Nt(r.touchedFields,fe))){const Xe=Re(Nt(r.touchedFields,fe),ye.argA,ye.argB);$e&&Hr(r.touchedFields,fe,Xe)}(h.dirtyFields||x.dirtyFields)&&(r.dirtyFields=dx(a,i)),p.state.next({name:fe,isDirty:z(fe,Se),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Hr(i,fe,Se)},C=(fe,Se)=>{Hr(r.errors,fe,Se),p.state.next({errors:r.errors})},T=fe=>{r.errors=fe,p.state.next({errors:r.errors,isValid:!1})},D=(fe,Se,Re,ye)=>{const $e=Nt(s,fe);if($e){const Pe=Nt(i,fe,Ts(Re)?Nt(a,fe):Re);Ts(Pe)||ye&&ye.defaultChecked||Se?Hr(i,fe,Se?Pe:G5($e._f)):L(fe,Pe),o.mount&&j()}},_=(fe,Se,Re,ye,$e)=>{let Pe=!1,Xe=!1;const gt={name:fe};if(!t.disabled){if(!Re||ye){(h.isDirty||x.isDirty)&&(Xe=r.isDirty,r.isDirty=gt.isDirty=z(),Pe=Xe!==gt.isDirty);const Vt=Dc(Nt(a,fe),Se);Xe=!!Nt(r.dirtyFields,fe),Vt?yn(r.dirtyFields,fe):Hr(r.dirtyFields,fe,!0),gt.dirtyFields=r.dirtyFields,Pe=Pe||(h.dirtyFields||x.dirtyFields)&&Xe!==!Vt}if(Re){const Vt=Nt(r.touchedFields,fe);Vt||(Hr(r.touchedFields,fe,Re),gt.touchedFields=r.touchedFields,Pe=Pe||(h.touchedFields||x.touchedFields)&&Vt!==Re)}Pe&&$e&&p.state.next(gt)}return Pe?gt:{}},O=(fe,Se,Re,ye)=>{const $e=Nt(r.errors,fe),Pe=(h.isValid||x.isValid)&&Di(Se)&&r.isValid!==Se;if(t.delayError&&Re?(u=w(()=>C(fe,Re)),u(t.delayError)):(clearTimeout(f),u=null,Re?Hr(r.errors,fe,Re):yn(r.errors,fe)),(Re?!Dc($e,Re):$e)||!Na(ye)||Pe){const Xe={...ye,...Pe&&Di(Se)?{isValid:Se}:{},errors:r.errors,name:fe};r={...r,...Xe},p.state.next(Xe)}},P=async fe=>{S(fe,!0);const Se=await t.resolver(i,t.context,lhe(fe||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return S(fe),Se},B=async fe=>{const{errors:Se}=await P(fe);if(fe)for(const Re of fe){const ye=Nt(Se,Re);ye?Hr(r.errors,Re,ye):yn(r.errors,Re)}else r.errors=Se;return Se},I=async(fe,Se,Re={valid:!0})=>{for(const ye in fe){const $e=fe[ye];if($e){const{_f:Pe,...Xe}=$e;if(Pe){const gt=l.array.has(Pe.name),Vt=$e._f&&che($e._f);Vt&&h.validatingFields&&S([ye],!0);const Mr=await lA($e,l.disabled,i,b,t.shouldUseNativeValidation&&!Se,gt);if(Vt&&h.validatingFields&&S([ye]),Mr[Pe.name]&&(Re.valid=!1,Se))break;!Se&&(Nt(Mr,Pe.name)?gt?$9(r.errors,Mr,Pe.name):Hr(r.errors,Pe.name,Mr[Pe.name]):yn(r.errors,Pe.name))}!Na(Xe)&&await I(Xe,Se,Re)}}return Re.valid},G=()=>{for(const fe of l.unMount){const Se=Nt(s,fe);Se&&(Se._f.refs?Se._f.refs.every(Re=>!sS(Re)):!sS(Se._f.ref))&&ue(fe)}l.unMount=new Set},z=(fe,Se)=>!t.disabled&&(fe&&Se&&Hr(i,fe,Se),!Dc(M(),a)),ae=(fe,Se,Re)=>O9(fe,l,{...o.mount?i:Ts(Se)?a:Bl(fe)?{[fe]:Se}:Se},Re,Se),J=fe=>xy(Nt(o.mount?i:a,fe,t.shouldUnregister?Nt(a,fe,[]):[])),L=(fe,Se,Re={})=>{const ye=Nt(s,fe);let $e=Se;if(ye){const Pe=ye._f;Pe&&(!Pe.disabled&&Hr(i,fe,L9(Se,Pe)),$e=pb(Pe.ref)&&Ba(Se)?"":Se,P9(Pe.ref)?[...Pe.ref.options].forEach(Xe=>Xe.selected=$e.includes(Xe.value)):Pe.refs?py(Pe.ref)?Pe.refs.length>1?Pe.refs.forEach(Xe=>(!Xe.defaultChecked||!Xe.disabled)&&(Xe.checked=Array.isArray($e)?!!$e.find(gt=>gt===Xe.value):$e===Xe.value)):Pe.refs[0]&&(Pe.refs[0].checked=!!$e):Pe.refs.forEach(Xe=>Xe.checked=Xe.value===$e):MC(Pe.ref)?Pe.ref.value="":(Pe.ref.value=$e,Pe.ref.type||p.state.next({name:fe,values:Bs(i)})))}(Re.shouldDirty||Re.shouldTouch)&&_(fe,$e,Re.shouldTouch,Re.shouldDirty,!0),Re.shouldValidate&&te(fe)},U=(fe,Se,Re)=>{for(const ye in Se){const $e=Se[ye],Pe=`${fe}.${ye}`,Xe=Nt(s,Pe);(l.array.has(fe)||dn($e)||Xe&&!Xe._f)&&!jf($e)?U(Pe,$e,Re):L(Pe,$e,Re)}},F=(fe,Se,Re={})=>{const ye=Nt(s,fe),$e=l.array.has(fe),Pe=Bs(Se);Hr(i,fe,Pe),$e?(p.array.next({name:fe,values:Bs(i)}),(h.isDirty||h.dirtyFields||x.isDirty||x.dirtyFields)&&Re.shouldDirty&&p.state.next({name:fe,dirtyFields:dx(a,i),isDirty:z(fe,Pe)})):ye&&!ye._f&&!Ba(Pe)?U(fe,Pe,Re):L(fe,Pe,Re),oA(fe,l)&&p.state.next({...r}),p.state.next({name:o.mount?fe:void 0,values:Bs(i)})},X=async fe=>{o.mount=!0;const Se=fe.target;let Re=Se.name,ye=!0;const $e=Nt(s,Re),Pe=Xe=>{ye=Number.isNaN(Xe)||jf(Xe)&&isNaN(Xe.getTime())||Dc(Xe,Nt(i,Re,Xe))};if($e){let Xe,gt;const Vt=Se.type?G5($e._f):E9(fe),Mr=fe.type===mb.BLUR||fe.type===mb.FOCUS_OUT,Fs=!dhe($e._f)&&!t.resolver&&!Nt(r.errors,Re)&&!$e._f.deps||hhe(Mr,Nt(r.touchedFields,Re),r.isSubmitted,N,y),qs=oA(Re,l,Mr);Hr(i,Re,Vt),Mr?($e._f.onBlur&&$e._f.onBlur(fe),u&&u(0)):$e._f.onChange&&$e._f.onChange(fe);const zs=_(Re,Vt,Mr),_s=!Na(zs)||qs;if(!Mr&&p.state.next({name:Re,type:fe.type,values:Bs(i)}),Fs)return(h.isValid||x.isValid)&&(t.mode==="onBlur"?Mr&&j():Mr||j()),_s&&p.state.next({name:Re,...qs?{}:zs});if(!Mr&&qs&&p.state.next({...r}),t.resolver){const{errors:Nn}=await P([Re]);if(Pe(Vt),ye){const hn=K5(r.errors,s,Re),tn=K5(Nn,s,hn.name||Re);Xe=tn.error,Re=tn.name,gt=Na(Nn)}}else S([Re],!0),Xe=(await lA($e,l.disabled,i,b,t.shouldUseNativeValidation))[Re],S([Re]),Pe(Vt),ye&&(Xe?gt=!1:(h.isValid||x.isValid)&&(gt=await I(s,!0)));ye&&($e._f.deps&&te($e._f.deps),O(Re,gt,Xe,zs))}},q=(fe,Se)=>{if(Nt(r.errors,Se)&&fe.focus)return fe.focus(),1},te=async(fe,Se={})=>{let Re,ye;const $e=di(fe);if(t.resolver){const Pe=await B(Ts(fe)?fe:$e);Re=Na(Pe),ye=fe?!$e.some(Xe=>Nt(Pe,Xe)):Re}else fe?(ye=(await Promise.all($e.map(async Pe=>{const Xe=Nt(s,Pe);return await I(Xe&&Xe._f?{[Pe]:Xe}:Xe)}))).every(Boolean),!(!ye&&!r.isValid)&&j()):ye=Re=await I(s);return p.state.next({...!Bl(fe)||(h.isValid||x.isValid)&&Re!==r.isValid?{}:{name:fe},...t.resolver||!fe?{isValid:Re}:{},errors:r.errors}),Se.shouldFocus&&!ye&&Wm(s,q,fe?$e:l.mount),ye},M=fe=>{const Se={...o.mount?i:a};return Ts(fe)?Se:Bl(fe)?Nt(Se,fe):fe.map(Re=>Nt(Se,Re))},W=(fe,Se)=>({invalid:!!Nt((Se||r).errors,fe),isDirty:!!Nt((Se||r).dirtyFields,fe),error:Nt((Se||r).errors,fe),isValidating:!!Nt(r.validatingFields,fe),isTouched:!!Nt((Se||r).touchedFields,fe)}),K=fe=>{fe&&di(fe).forEach(Se=>yn(r.errors,Se)),p.state.next({errors:fe?r.errors:{}})},V=(fe,Se,Re)=>{const ye=(Nt(s,fe,{_f:{}})._f||{}).ref,$e=Nt(r.errors,fe)||{},{ref:Pe,message:Xe,type:gt,...Vt}=$e;Hr(r.errors,fe,{...Vt,...Se,ref:ye}),p.state.next({name:fe,errors:r.errors,isValid:!1}),Re&&Re.shouldFocus&&ye&&ye.focus&&ye.focus()},Q=(fe,Se)=>Go(fe)?p.state.subscribe({next:Re=>fe(ae(void 0,Se),Re)}):ae(fe,Se,!0),ie=fe=>p.state.subscribe({next:Se=>{fhe(fe.name,Se.name,fe.exact)&&uhe(Se,fe.formState||h,Me,fe.reRenderRoot)&&fe.callback({values:{...i},...r,...Se})}}).unsubscribe,xe=fe=>(o.mount=!0,x={...x,...fe.formState},ie({...fe,formState:x})),ue=(fe,Se={})=>{for(const Re of fe?di(fe):l.mount)l.mount.delete(Re),l.array.delete(Re),Se.keepValue||(yn(s,Re),yn(i,Re)),!Se.keepError&&yn(r.errors,Re),!Se.keepDirty&&yn(r.dirtyFields,Re),!Se.keepTouched&&yn(r.touchedFields,Re),!Se.keepIsValidating&&yn(r.validatingFields,Re),!t.shouldUnregister&&!Se.keepDefaultValue&&yn(a,Re);p.state.next({values:Bs(i)}),p.state.next({...r,...Se.keepDirty?{isDirty:z()}:{}}),!Se.keepIsValid&&j()},de=({disabled:fe,name:Se})=>{(Di(fe)&&o.mount||fe||l.disabled.has(Se))&&(fe?l.disabled.add(Se):l.disabled.delete(Se))},De=(fe,Se={})=>{let Re=Nt(s,fe);const ye=Di(Se.disabled)||Di(t.disabled);return Hr(s,fe,{...Re||{},_f:{...Re&&Re._f?Re._f:{ref:{name:fe}},name:fe,mount:!0,...Se}}),l.mount.add(fe),Re?de({disabled:Di(Se.disabled)?Se.disabled:t.disabled,name:fe}):D(fe,!0,Se.value),{...ye?{disabled:Se.disabled||t.disabled}:{},...t.progressive?{required:!!Se.required,min:ux(Se.min),max:ux(Se.max),minLength:ux(Se.minLength),maxLength:ux(Se.maxLength),pattern:ux(Se.pattern)}:{},name:fe,onChange:X,onBlur:X,ref:$e=>{if($e){De(fe,Se),Re=Nt(s,fe);const Pe=Ts($e.value)&&$e.querySelectorAll&&$e.querySelectorAll("input,select,textarea")[0]||$e,Xe=ahe(Pe),gt=Re._f.refs||[];if(Xe?gt.find(Vt=>Vt===Pe):Pe===Re._f.ref)return;Hr(s,fe,{_f:{...Re._f,...Xe?{refs:[...gt.filter(sS),Pe,...Array.isArray(Nt(a,fe))?[{}]:[]],ref:{type:Pe.type,name:fe}}:{ref:Pe}}}),D(fe,!1,void 0,Pe)}else Re=Nt(s,fe,{}),Re._f&&(Re._f.mount=!1),(t.shouldUnregister||Se.shouldUnregister)&&!(A9(l.array,fe)&&o.action)&&l.unMount.add(fe)}}},Ne=()=>t.shouldFocusError&&Wm(s,q,l.mount),ot=fe=>{Di(fe)&&(p.state.next({disabled:fe}),Wm(s,(Se,Re)=>{const ye=Nt(s,Re);ye&&(Se.disabled=ye._f.disabled||fe,Array.isArray(ye._f.refs)&&ye._f.refs.forEach($e=>{$e.disabled=ye._f.disabled||fe}))},0,!1))},Ee=(fe,Se)=>async Re=>{let ye;Re&&(Re.preventDefault&&Re.preventDefault(),Re.persist&&Re.persist());let $e=Bs(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Pe,values:Xe}=await P();r.errors=Pe,$e=Xe}else await I(s);if(l.disabled.size)for(const Pe of l.disabled)Hr($e,Pe,void 0);if(yn(r.errors,"root"),Na(r.errors)){p.state.next({errors:{}});try{await fe($e,Re)}catch(Pe){ye=Pe}}else Se&&await Se({...r.errors},Re),Ne(),setTimeout(Ne);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Na(r.errors)&&!ye,submitCount:r.submitCount+1,errors:r.errors}),ye)throw ye},Ae=(fe,Se={})=>{Nt(s,fe)&&(Ts(Se.defaultValue)?F(fe,Bs(Nt(a,fe))):(F(fe,Se.defaultValue),Hr(a,fe,Bs(Se.defaultValue))),Se.keepTouched||yn(r.touchedFields,fe),Se.keepDirty||(yn(r.dirtyFields,fe),r.isDirty=Se.defaultValue?z(fe,Bs(Nt(a,fe))):z()),Se.keepError||(yn(r.errors,fe),h.isValid&&j()),p.state.next({...r}))},Ye=(fe,Se={})=>{const Re=fe?Bs(fe):a,ye=Bs(Re),$e=Na(fe),Pe=$e?a:ye;if(Se.keepDefaultValues||(a=Re),!Se.keepValues){if(Se.keepDirtyValues){const Xe=new Set([...l.mount,...Object.keys(dx(a,i))]);for(const gt of Array.from(Xe))Nt(r.dirtyFields,gt)?Hr(Pe,gt,Nt(i,gt)):F(gt,Nt(Pe,gt))}else{if(RC&&Ts(fe))for(const Xe of l.mount){const gt=Nt(s,Xe);if(gt&&gt._f){const Vt=Array.isArray(gt._f.refs)?gt._f.refs[0]:gt._f.ref;if(pb(Vt)){const Mr=Vt.closest("form");if(Mr){Mr.reset();break}}}}for(const Xe of l.mount)F(Xe,Nt(Pe,Xe))}i=Bs(Pe),p.array.next({values:{...Pe}}),p.state.next({values:{...Pe}})}l={mount:Se.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!Se.keepIsValid||!!Se.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:Se.keepSubmitCount?r.submitCount:0,isDirty:$e?!1:Se.keepDirty?r.isDirty:!!(Se.keepDefaultValues&&!Dc(fe,a)),isSubmitted:Se.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:$e?{}:Se.keepDirtyValues?Se.keepDefaultValues&&i?dx(a,i):r.dirtyFields:Se.keepDefaultValues&&fe?dx(a,fe):Se.keepDirty?r.dirtyFields:{},touchedFields:Se.keepTouched?r.touchedFields:{},errors:Se.keepErrors?r.errors:{},isSubmitSuccessful:Se.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},be=(fe,Se)=>Ye(Go(fe)?fe(i):fe,Se),ge=(fe,Se={})=>{const Re=Nt(s,fe),ye=Re&&Re._f;if(ye){const $e=ye.refs?ye.refs[0]:ye.ref;$e.focus&&($e.focus(),Se.shouldSelect&&Go($e.select)&&$e.select())}},Me=fe=>{r={...r,...fe}},jt={control:{register:De,unregister:ue,getFieldState:W,handleSubmit:Ee,setError:V,_subscribe:ie,_runSchema:P,_getWatch:ae,_getDirty:z,_setValid:j,_setFieldArray:A,_setDisabledField:de,_setErrors:T,_getFieldArray:J,_reset:Ye,_resetDefaultValues:()=>Go(t.defaultValues)&&t.defaultValues().then(fe=>{be(fe,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:ot,_subjects:p,_proxyFormState:h,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(fe){o=fe},get _defaultValues(){return a},get _names(){return l},set _names(fe){l=fe},get _formState(){return r},get _options(){return t},set _options(fe){t={...t,...fe}}},subscribe:xe,trigger:te,register:De,handleSubmit:Ee,watch:Q,setValue:F,getValues:M,reset:be,resetField:Ae,clearErrors:K,unregister:ue,setError:V,setFocus:ge,getFieldState:W};return{...jt,formControl:jt}}var qd=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},nS=(e,t,r={})=>r.shouldFocus||Ts(r.shouldFocus)?r.focusName||`${e}.${Ts(r.focusIndex)?t:r.focusIndex}.`:"",aS=(e,t)=>[...e,...di(t)],iS=e=>Array.isArray(e)?e.map(()=>{}):void 0;function oS(e,t,r){return[...e.slice(0,t),...di(r),...e.slice(t)]}var lS=(e,t,r)=>Array.isArray(e)?(Ts(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],cS=(e,t)=>[...di(t),...di(e)];function ghe(e,t){let r=0;const s=[...e];for(const a of t)s.splice(a-r,1),r++;return xy(s).length?s:[]}var dS=(e,t)=>Ts(t)?[]:ghe(e,di(t).sort((r,s)=>r-s)),uS=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},Q5=(e,t,r)=>(e[t]=r,e);function yy(e){const t=gy(),{control:r=t.control,name:s,keyName:a="id",shouldUnregister:i,rules:o}=e,[l,u]=Le.useState(r._getFieldArray(s)),f=Le.useRef(r._getFieldArray(s).map(qd)),h=Le.useRef(l),x=Le.useRef(s),p=Le.useRef(!1);x.current=s,h.current=l,r._names.array.add(s),o&&r.register(s,o),Le.useEffect(()=>r._subjects.array.subscribe({next:({values:D,name:_})=>{if(_===x.current||!_){const O=Nt(D,x.current);Array.isArray(O)&&(u(O),f.current=O.map(qd))}}}).unsubscribe,[r]);const y=Le.useCallback(D=>{p.current=!0,r._setFieldArray(s,D)},[r,s]),N=(D,_)=>{const O=di(Bs(D)),P=aS(r._getFieldArray(s),O);r._names.focus=nS(s,P.length-1,_),f.current=aS(f.current,O.map(qd)),y(P),u(P),r._setFieldArray(s,P,aS,{argA:iS(D)})},b=(D,_)=>{const O=di(Bs(D)),P=cS(r._getFieldArray(s),O);r._names.focus=nS(s,0,_),f.current=cS(f.current,O.map(qd)),y(P),u(P),r._setFieldArray(s,P,cS,{argA:iS(D)})},w=D=>{const _=dS(r._getFieldArray(s),D);f.current=dS(f.current,D),y(_),u(_),!Array.isArray(Nt(r._fields,s))&&Hr(r._fields,s,void 0),r._setFieldArray(s,_,dS,{argA:D})},j=(D,_,O)=>{const P=di(Bs(_)),B=oS(r._getFieldArray(s),D,P);r._names.focus=nS(s,D,O),f.current=oS(f.current,D,P.map(qd)),y(B),u(B),r._setFieldArray(s,B,oS,{argA:D,argB:iS(_)})},S=(D,_)=>{const O=r._getFieldArray(s);uS(O,D,_),uS(f.current,D,_),y(O),u(O),r._setFieldArray(s,O,uS,{argA:D,argB:_},!1)},A=(D,_)=>{const O=r._getFieldArray(s);lS(O,D,_),lS(f.current,D,_),y(O),u(O),r._setFieldArray(s,O,lS,{argA:D,argB:_},!1)},C=(D,_)=>{const O=Bs(_),P=Q5(r._getFieldArray(s),D,O);f.current=[...P].map((B,I)=>!B||I===D?qd():f.current[I]),y(P),u([...P]),r._setFieldArray(s,P,Q5,{argA:D,argB:O},!0,!1)},T=D=>{const _=di(Bs(D));f.current=_.map(qd),y([..._]),u([..._]),r._setFieldArray(s,[..._],O=>O,{},!0,!1)};return Le.useEffect(()=>{if(r._state.action=!1,oA(s,r._names)&&r._subjects.state.next({...r._formState}),p.current&&(!km(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!km(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([s]).then(D=>{const _=Nt(D.errors,s),O=Nt(r._formState.errors,s);(O?!_&&O.type||_&&(O.type!==_.type||O.message!==_.message):_&&_.type)&&(_?Hr(r._formState.errors,s,_):yn(r._formState.errors,s),r._subjects.state.next({errors:r._formState.errors}))});else{const D=Nt(r._fields,s);D&&D._f&&!(km(r._options.reValidateMode).isOnSubmit&&km(r._options.mode).isOnSubmit)&&lA(D,r._names.disabled,r._formValues,r._options.criteriaMode===ho.all,r._options.shouldUseNativeValidation,!0).then(_=>!Na(_)&&r._subjects.state.next({errors:$9(r._formState.errors,_,s)}))}r._subjects.state.next({name:s,values:Bs(r._formValues)}),r._names.focus&&Wm(r._fields,(D,_)=>{if(r._names.focus&&_.startsWith(r._names.focus)&&D.focus)return D.focus(),1}),r._names.focus="",r._setValid(),p.current=!1},[l,s,r]),Le.useEffect(()=>(!Nt(r._formValues,s)&&r._setFieldArray(s),()=>{const D=(_,O)=>{const P=Nt(r._fields,_);P&&P._f&&(P._f.mount=O)};r._options.shouldUnregister||i?r.unregister(s):D(s,!1)}),[s,r,a,i]),{swap:Le.useCallback(S,[y,s,r]),move:Le.useCallback(A,[y,s,r]),prepend:Le.useCallback(b,[y,s,r]),append:Le.useCallback(N,[y,s,r]),remove:Le.useCallback(w,[y,s,r]),insert:Le.useCallback(j,[y,s,r]),update:Le.useCallback(C,[y,s,r]),replace:Le.useCallback(T,[y,s,r]),fields:Le.useMemo(()=>l.map((D,_)=>({...D,[a]:f.current[_]||qd()})),[l,a])}}const yhe=typeof window<"u"?Le.useLayoutEffect:Le.useEffect;function Js(e={}){const t=Le.useRef(void 0),r=Le.useRef(void 0),[s,a]=Le.useState({isDirty:!1,isValidating:!1,isLoading:Go(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Go(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:xhe(e),formState:s},e.formControl&&e.defaultValues&&!Go(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,yhe(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),o},[i]),Le.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Le.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode),e.errors&&!Na(e.errors)&&i._setErrors(e.errors)},[i,e.errors,e.mode,e.reValidateMode]),Le.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Le.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),Le.useEffect(()=>{e.values&&!Dc(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),Le.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=_9(s,i),t.current}const Z5=(e,t,r)=>{if(e&&"reportValidity"in e){const s=Nt(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},U9=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?Z5(s.ref,r,e):s&&s.refs&&s.refs.forEach(a=>Z5(a,r,e))}},vhe=(e,t)=>{t.shouldUseNativeValidation&&U9(e,t);const r={};for(const s in e){const a=Nt(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(bhe(t.names||Object.keys(e),s)){const o=Object.assign({},Nt(r,s));Hr(o,"root",i),Hr(r,s,o)}else Hr(r,s,i)}return r},bhe=(e,t)=>{const r=J5(t);return e.some(s=>J5(s).match(`^${r}\\.\\d+`))};function J5(e){return e.replace(/\]|\[/g,"")}function whe(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(h){return h.errors.forEach(function(x){return e.push(x)})}),t){var u=r[o].types,f=u&&u[s.code];r[o]=R9(o,t,r,a,f?[].concat(f,s.message):s.message)}e.shift()}return r}function en(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var u=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(f){return i.shouldUseNativeValidation&&U9({},i),{errors:{},values:r.raw?Object.assign({},s):f}})}catch(f){return l(f)}return u&&u.then?u.then(void 0,l):u}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:vhe(whe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}}function cA(e,[t,r]){return Math.min(r,Math.max(t,e))}var Nhe="DismissableLayer",dA="dismissableLayer.update",jhe="dismissableLayer.pointerDownOutside",She="dismissableLayer.focusOutside",eR,V9=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),q9=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(V9),[h,x]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),N=Ft(t,_=>x(_)),b=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(w),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,C=S>=j,T=The(_=>{const O=_.target,P=[...f.branches].some(B=>B.contains(O));!C||P||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},p),D=Che(_=>{const O=_.target;[...f.branches].some(B=>B.contains(O))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},p);return L0(_=>{S===f.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},p),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(eR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),tR(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=eR)}},[h,p,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),tR())},[h,f]),g.useEffect(()=>{const _=()=>y({});return document.addEventListener(dA,_),()=>document.removeEventListener(dA,_)},[]),n.jsx(_t.div,{...u,ref:N,style:{pointerEvents:A?C?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,T.onPointerDownCapture)})});q9.displayName=Nhe;var Ehe="DismissableLayerBranch",Ahe=g.forwardRef((e,t)=>{const r=g.useContext(V9),s=g.useRef(null),a=Ft(t,s);return g.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(_t.div,{...e,ref:a})});Ahe.displayName=Ehe;function The(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){z9(jhe,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Che(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),s=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!s.current&&z9(She,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function tR(){const e=new CustomEvent(dA);document.dispatchEvent(e)}function z9(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?q0(a,i):a.dispatchEvent(i)}var fS="focusScope.autoFocusOnMount",hS="focusScope.autoFocusOnUnmount",rR={bubbles:!1,cancelable:!0},_he="FocusScope",H9=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=_r(a),h=_r(i),x=g.useRef(null),p=Ft(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let b=function(A){if(y.paused||!l)return;const C=A.target;l.contains(C)?x.current=C:Xd(x.current,{select:!0})},w=function(A){if(y.paused||!l)return;const C=A.relatedTarget;C!==null&&(l.contains(C)||Xd(x.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&Xd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),S.disconnect()}}},[s,l,y.paused]),g.useEffect(()=>{if(l){nR.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(fS,rR);l.addEventListener(fS,f),l.dispatchEvent(j),j.defaultPrevented||(khe(Mhe(W9(l)),{select:!0}),document.activeElement===b&&Xd(l))}return()=>{l.removeEventListener(fS,f),setTimeout(()=>{const j=new CustomEvent(hS,rR);l.addEventListener(hS,h),l.dispatchEvent(j),j.defaultPrevented||Xd(b??document.body,{select:!0}),l.removeEventListener(hS,h),nR.remove(y)},0)}}},[l,f,h,y]);const N=g.useCallback(b=>{if(!r&&!s||y.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(w&&j){const S=b.currentTarget,[A,C]=Dhe(S);A&&C?!b.shiftKey&&j===C?(b.preventDefault(),r&&Xd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Xd(C,{select:!0})):j===S&&b.preventDefault()}},[r,s,y.paused]);return n.jsx(_t.div,{tabIndex:-1,...o,ref:p,onKeyDown:N})});H9.displayName=_he;function khe(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Xd(s,{select:t}),document.activeElement!==r)return}function Dhe(e){const t=W9(e),r=sR(t,e),s=sR(t.reverse(),e);return[r,s]}function W9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sR(e,t){for(const r of e)if(!Ohe(r,{upTo:t}))return r}function Ohe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Rhe(e){return e instanceof HTMLInputElement&&"select"in e}function Xd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Rhe(e)&&t&&e.select()}}var nR=Phe();function Phe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=aR(e,t),e.unshift(t)},remove(t){var r;e=aR(e,t),(r=e[0])==null||r.resume()}}}function aR(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Mhe(e){return e.filter(t=>t.tagName!=="A")}var Ihe="Portal",G9=g.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=g.useState(!1);gs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(n.jsx(_t.div,{...s,ref:t}),o):null});G9.displayName=Ihe;function Fhe(e){const t=Lhe(e),r=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),u=l.find($he);if(u){const f=u.props.children,h=l.map(x=>x===u?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:x);return n.jsx(t,{...o,ref:a,children:g.isValidElement(f)?g.cloneElement(f,void 0,h):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Lhe(e){const t=g.forwardRef((r,s)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=Vhe(a),l=Uhe(i,a.props);return a.type!==g.Fragment&&(l.ref=s?td(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Bhe=Symbol("radix.slottable");function $he(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Bhe}function Uhe(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Vhe(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Mw(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var qhe=[" ","Enter","ArrowUp","ArrowDown"],zhe=[" ","Enter"],Xf="Select",[Iw,Fw,Hhe]=GT(Xf),[tp,pPe]=zn(Xf,[Hhe,Bu]),Lw=Bu(),[Whe,Uu]=tp(Xf),[Ghe,Yhe]=tp(Xf),Y9=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:f,name:h,autoComplete:x,disabled:p,required:y,form:N}=e,b=Lw(t),[w,j]=g.useState(null),[S,A]=g.useState(null),[C,T]=g.useState(!1),D=ry(f),[_,O]=jo({prop:s,defaultProp:a??!1,onChange:i,caller:Xf}),[P,B]=jo({prop:o,defaultProp:l,onChange:u,caller:Xf}),I=g.useRef(null),G=w?N||!!w.closest("form"):!0,[z,ae]=g.useState(new Set),J=Array.from(z).map(L=>L.props.value).join(";");return n.jsx(ww,{...b,children:n.jsxs(Whe,{required:y,scope:t,trigger:w,onTriggerChange:j,valueNode:S,onValueNodeChange:A,valueNodeHasChildren:C,onValueNodeHasChildrenChange:T,contentId:Ha(),value:P,onValueChange:B,open:_,onOpenChange:O,dir:D,triggerPointerDownPosRef:I,disabled:p,children:[n.jsx(Iw.Provider,{scope:t,children:n.jsx(Ghe,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(L=>{ae(U=>new Set(U).add(L))},[]),onNativeOptionRemove:g.useCallback(L=>{ae(U=>{const F=new Set(U);return F.delete(L),F})},[]),children:r})}),G?n.jsxs(xB,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:x,value:P,onChange:L=>B(L.target.value),disabled:p,form:N,children:[P===void 0?n.jsx("option",{value:""}):null,Array.from(z)]},J):null]})})};Y9.displayName=Xf;var K9="SelectTrigger",X9=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=Lw(r),o=Uu(K9,r),l=o.disabled||s,u=Ft(t,o.onTriggerChange),f=Fw(r),h=g.useRef("touch"),[x,p,y]=yB(b=>{const w=f().filter(A=>!A.disabled),j=w.find(A=>A.value===o.value),S=vB(w,b,j);S!==void 0&&o.onValueChange(S.value)}),N=b=>{l||(o.onOpenChange(!0),y()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return n.jsx(ny,{asChild:!0,...i,children:n.jsx(_t.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gB(o.value)?"":void 0,...a,ref:u,onClick:dt(a.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&N(b)}),onPointerDown:dt(a.onPointerDown,b=>{h.current=b.pointerType;const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(N(b),b.preventDefault())}),onKeyDown:dt(a.onKeyDown,b=>{const w=x.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(w&&b.key===" ")&&qhe.includes(b.key)&&(N(),b.preventDefault())})})})});X9.displayName=K9;var Q9="SelectValue",Z9=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,u=Uu(Q9,r),{onValueNodeHasChildrenChange:f}=u,h=i!==void 0,x=Ft(t,u.onValueNodeChange);return gs(()=>{f(h)},[f,h]),n.jsx(_t.span,{...l,ref:x,style:{pointerEvents:"none"},children:gB(u.value)?n.jsx(n.Fragment,{children:o}):i})});Z9.displayName=Q9;var Khe="SelectIcon",J9=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(_t.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});J9.displayName=Khe;var Xhe="SelectPortal",eB=e=>n.jsx(G9,{asChild:!0,...e});eB.displayName=Xhe;var Qf="SelectContent",tB=g.forwardRef((e,t)=>{const r=Uu(Qf,e.__scopeSelect),[s,a]=g.useState();if(gs(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?oh.createPortal(n.jsx(rB,{scope:e.__scopeSelect,children:n.jsx(Iw.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(sB,{...e,ref:t})});tB.displayName=Qf;var Bo=10,[rB,Vu]=tp(Qf),Qhe="SelectContentImpl",Zhe=Fhe("SelectContent.RemoveScroll"),sB=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:f,alignOffset:h,arrowPadding:x,collisionBoundary:p,collisionPadding:y,sticky:N,hideWhenDetached:b,avoidCollisions:w,...j}=e,S=Uu(Qf,r),[A,C]=g.useState(null),[T,D]=g.useState(null),_=Ft(t,ie=>C(ie)),[O,P]=g.useState(null),[B,I]=g.useState(null),G=Fw(r),[z,ae]=g.useState(!1),J=g.useRef(!1);g.useEffect(()=>{if(A)return B0(A)},[A]),Zg();const L=g.useCallback(ie=>{const[xe,...ue]=G().map(Ne=>Ne.ref.current),[de]=ue.slice(-1),De=document.activeElement;for(const Ne of ie)if(Ne===De||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===xe&&T&&(T.scrollTop=0),Ne===de&&T&&(T.scrollTop=T.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==De))return},[G,T]),U=g.useCallback(()=>L([O,A]),[L,O,A]);g.useEffect(()=>{z&&U()},[z,U]);const{onOpenChange:F,triggerPointerDownPosRef:X}=S;g.useEffect(()=>{if(A){let ie={x:0,y:0};const xe=de=>{var De,Ne;ie={x:Math.abs(Math.round(de.pageX)-(((De=X.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(de.pageY)-(((Ne=X.current)==null?void 0:Ne.y)??0))}},ue=de=>{ie.x<=10&&ie.y<=10?de.preventDefault():A.contains(de.target)||F(!1),document.removeEventListener("pointermove",xe),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",ue,{capture:!0})}}},[A,F,X]),g.useEffect(()=>{const ie=()=>F(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[F]);const[q,te]=yB(ie=>{const xe=G().filter(De=>!De.disabled),ue=xe.find(De=>De.ref.current===document.activeElement),de=vB(xe,ie,ue);de&&setTimeout(()=>de.ref.current.focus())}),M=g.useCallback((ie,xe,ue)=>{const de=!J.current&&!ue;(S.value!==void 0&&S.value===xe||de)&&(P(ie),de&&(J.current=!0))},[S.value]),W=g.useCallback(()=>A==null?void 0:A.focus(),[A]),K=g.useCallback((ie,xe,ue)=>{const de=!J.current&&!ue;(S.value!==void 0&&S.value===xe||de)&&I(ie)},[S.value]),V=s==="popper"?uA:nB,Q=V===uA?{side:l,sideOffset:u,align:f,alignOffset:h,arrowPadding:x,collisionBoundary:p,collisionPadding:y,sticky:N,hideWhenDetached:b,avoidCollisions:w}:{};return n.jsx(rB,{scope:r,content:A,viewport:T,onViewportChange:D,itemRefCallback:M,selectedItem:O,onItemLeave:W,itemTextRefCallback:K,focusSelectedItem:U,selectedItemText:B,position:s,isPositioned:z,searchRef:q,children:n.jsx(ch,{as:Zhe,allowPinchZoom:!0,children:n.jsx(H9,{asChild:!0,trapped:S.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:dt(a,ie=>{var xe;(xe=S.trigger)==null||xe.focus({preventScroll:!0}),ie.preventDefault()}),children:n.jsx(q9,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:n.jsx(V,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:ie=>ie.preventDefault(),...j,...Q,onPlaced:()=>ae(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:dt(j.onKeyDown,ie=>{const xe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!xe&&ie.key.length===1&&te(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let de=G().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const De=ie.target,Ne=de.indexOf(De);de=de.slice(Ne+1)}setTimeout(()=>L(de)),ie.preventDefault()}})})})})})})});sB.displayName=Qhe;var Jhe="SelectItemAlignedPosition",nB=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Uu(Qf,r),o=Vu(Qf,r),[l,u]=g.useState(null),[f,h]=g.useState(null),x=Ft(t,_=>h(_)),p=Fw(r),y=g.useRef(!1),N=g.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:j,focusSelectedItem:S}=o,A=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&f&&b&&w&&j){const _=i.trigger.getBoundingClientRect(),O=f.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),B=j.getBoundingClientRect();if(i.dir!=="rtl"){const De=B.left-O.left,Ne=P.left-De,ot=_.left-Ne,Ee=_.width+ot,Ae=Math.max(Ee,O.width),Ye=window.innerWidth-Bo,be=cA(Ne,[Bo,Math.max(Bo,Ye-Ae)]);l.style.minWidth=Ee+"px",l.style.left=be+"px"}else{const De=O.right-B.right,Ne=window.innerWidth-P.right-De,ot=window.innerWidth-_.right-Ne,Ee=_.width+ot,Ae=Math.max(Ee,O.width),Ye=window.innerWidth-Bo,be=cA(Ne,[Bo,Math.max(Bo,Ye-Ae)]);l.style.minWidth=Ee+"px",l.style.right=be+"px"}const I=p(),G=window.innerHeight-Bo*2,z=b.scrollHeight,ae=window.getComputedStyle(f),J=parseInt(ae.borderTopWidth,10),L=parseInt(ae.paddingTop,10),U=parseInt(ae.borderBottomWidth,10),F=parseInt(ae.paddingBottom,10),X=J+L+z+F+U,q=Math.min(w.offsetHeight*5,X),te=window.getComputedStyle(b),M=parseInt(te.paddingTop,10),W=parseInt(te.paddingBottom,10),K=_.top+_.height/2-Bo,V=G-K,Q=w.offsetHeight/2,ie=w.offsetTop+Q,xe=J+L+ie,ue=X-xe;if(xe<=K){const De=I.length>0&&w===I[I.length-1].ref.current;l.style.bottom="0px";const Ne=f.clientHeight-b.offsetTop-b.offsetHeight,ot=Math.max(V,Q+(De?W:0)+Ne+U),Ee=xe+ot;l.style.height=Ee+"px"}else{const De=I.length>0&&w===I[0].ref.current;l.style.top="0px";const ot=Math.max(K,J+b.offsetTop+(De?M:0)+Q)+ue;l.style.height=ot+"px",b.scrollTop=xe-K+b.offsetTop}l.style.margin=`${Bo}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=G+"px",s==null||s(),requestAnimationFrame(()=>y.current=!0)}},[p,i.trigger,i.valueNode,l,f,b,w,j,i.dir,s]);gs(()=>A(),[A]);const[C,T]=g.useState();gs(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const D=g.useCallback(_=>{_&&N.current===!0&&(A(),S==null||S(),N.current=!1)},[A,S]);return n.jsx(tme,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:D,children:n.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:n.jsx(_t.div,{...a,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});nB.displayName=Jhe;var eme="SelectPopperPosition",uA=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Bo,...i}=e,o=Lw(r);return n.jsx(Nw,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});uA.displayName=eme;var[tme,FC]=tp(Qf,{}),fA="SelectViewport",aB=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=Vu(fA,r),o=FC(fA,r),l=Ft(t,i.onViewportChange),u=g.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Iw.Slot,{scope:r,children:n.jsx(_t.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:dt(a.onScroll,f=>{const h=f.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&x){const y=Math.abs(u.current-h.scrollTop);if(y>0){const N=window.innerHeight-Bo*2,b=parseFloat(x.style.minHeight),w=parseFloat(x.style.height),j=Math.max(b,w);if(j<N){const S=j+y,A=Math.min(N,S),C=S-A;x.style.height=A+"px",x.style.bottom==="0px"&&(h.scrollTop=C>0?C:0,x.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});aB.displayName=fA;var iB="SelectGroup",[rme,sme]=tp(iB),nme=g.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Ha();return n.jsx(rme,{scope:r,id:a,children:n.jsx(_t.div,{role:"group","aria-labelledby":a,...s,ref:t})})});nme.displayName=iB;var oB="SelectLabel",ame=g.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=sme(oB,r);return n.jsx(_t.div,{id:a.id,...s,ref:t})});ame.displayName=oB;var yb="SelectItem",[ime,lB]=tp(yb),cB=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Uu(yb,r),u=Vu(yb,r),f=l.value===s,[h,x]=g.useState(i??""),[p,y]=g.useState(!1),N=Ft(t,S=>{var A;return(A=u.itemRefCallback)==null?void 0:A.call(u,S,s,a)}),b=Ha(),w=g.useRef("touch"),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(ime,{scope:r,value:s,disabled:a,textId:b,isSelected:f,onItemTextChange:g.useCallback(S=>{x(A=>A||((S==null?void 0:S.textContent)??"").trim())},[]),children:n.jsx(Iw.ItemSlot,{scope:r,value:s,disabled:a,textValue:h,children:n.jsx(_t.div,{role:"option","aria-labelledby":b,"data-highlighted":p?"":void 0,"aria-selected":f&&p,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:N,onFocus:dt(o.onFocus,()=>y(!0)),onBlur:dt(o.onBlur,()=>y(!1)),onClick:dt(o.onClick,()=>{w.current!=="mouse"&&j()}),onPointerUp:dt(o.onPointerUp,()=>{w.current==="mouse"&&j()}),onPointerDown:dt(o.onPointerDown,S=>{w.current=S.pointerType}),onPointerMove:dt(o.onPointerMove,S=>{var A;w.current=S.pointerType,a?(A=u.onItemLeave)==null||A.call(u):w.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(o.onPointerLeave,S=>{var A;S.currentTarget===document.activeElement&&((A=u.onItemLeave)==null||A.call(u))}),onKeyDown:dt(o.onKeyDown,S=>{var C;((C=u.searchRef)==null?void 0:C.current)!==""&&S.key===" "||(zhe.includes(S.key)&&j(),S.key===" "&&S.preventDefault())})})})})});cB.displayName=yb;var Nx="SelectItemText",dB=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Uu(Nx,r),l=Vu(Nx,r),u=lB(Nx,r),f=Yhe(Nx,r),[h,x]=g.useState(null),p=Ft(t,j=>x(j),u.onItemTextChange,j=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,j,u.value,u.disabled)}),y=h==null?void 0:h.textContent,N=g.useMemo(()=>n.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=f;return gs(()=>(b(N),()=>w(N)),[b,w,N]),n.jsxs(n.Fragment,{children:[n.jsx(_t.span,{id:u.textId,...i,ref:p}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?oh.createPortal(i.children,o.valueNode):null]})});dB.displayName=Nx;var uB="SelectItemIndicator",fB=g.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return lB(uB,r).isSelected?n.jsx(_t.span,{"aria-hidden":!0,...s,ref:t}):null});fB.displayName=uB;var hA="SelectScrollUpButton",hB=g.forwardRef((e,t)=>{const r=Vu(hA,e.__scopeSelect),s=FC(hA,e.__scopeSelect),[a,i]=g.useState(!1),o=Ft(t,s.onScrollButtonChange);return gs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollTop>0;i(f)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(pB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});hB.displayName=hA;var mA="SelectScrollDownButton",mB=g.forwardRef((e,t)=>{const r=Vu(mA,e.__scopeSelect),s=FC(mA,e.__scopeSelect),[a,i]=g.useState(!1),o=Ft(t,s.onScrollButtonChange);return gs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<f;i(h)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(pB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});mB.displayName=mA;var pB=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=Vu("SelectScrollButton",r),o=g.useRef(null),l=Fw(r),u=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>u(),[u]),gs(()=>{var h;const f=l().find(x=>x.ref.current===document.activeElement);(h=f==null?void 0:f.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),n.jsx(_t.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:dt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:dt(a.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:dt(a.onPointerLeave,()=>{u()})})}),ome="SelectSeparator",lme=g.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(_t.div,{"aria-hidden":!0,...s,ref:t})});lme.displayName=ome;var pA="SelectArrow",cme=g.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Lw(r),i=Uu(pA,r),o=Vu(pA,r);return i.open&&o.position==="popper"?n.jsx(jw,{...a,...s,ref:t}):null});cme.displayName=pA;var dme="SelectBubbleInput",xB=g.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{const a=g.useRef(null),i=Ft(s,a),o=Mw(t);return g.useEffect(()=>{const l=a.current;if(!l)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==t&&h){const x=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(x)}},[o,t]),n.jsx(_t.select,{...r,style:{...M8,...r.style},ref:i,defaultValue:t})});xB.displayName=dme;function gB(e){return e===""||e===void 0}function yB(e){const t=_r(e),r=g.useRef(""),s=g.useRef(0),a=g.useCallback(o=>{const l=r.current+o;t(l),function u(f){r.current=f,window.clearTimeout(s.current),f!==""&&(s.current=window.setTimeout(()=>u(""),1e3))}(l)},[t]),i=g.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function vB(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=ume(e,Math.max(i,0));a.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function ume(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var fme=Y9,hme=X9,mme=Z9,pme=J9,xme=eB,gme=tB,yme=aB,vme=cB,bme=dB,wme=fB,Nme=hB,jme=mB;function er({...e}){return n.jsx(fme,{"data-slot":"select",...e})}function tr({...e}){return n.jsx(mme,{"data-slot":"select-value",...e})}function rr({className:e,size:t="default",children:r,...s}){return n.jsxs(hme,{"data-slot":"select-trigger","data-size":t,className:Je("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s,children:[r,n.jsx(pme,{asChild:!0,children:n.jsx(li,{className:"size-4 opacity-50"})})]})}function sr({className:e,children:t,position:r="popper",...s}){return n.jsx(xme,{children:n.jsxs(gme,{"data-slot":"select-content",className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(Sme,{}),n.jsx(yme,{className:Je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),n.jsx(Eme,{})]})})}function yt({className:e,children:t,...r}){return n.jsxs(vme,{"data-slot":"select-item",className:Je("focus:bg-accent focus:text-gray-700-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[n.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:n.jsx(wme,{children:n.jsx(io,{className:"size-4"})})}),n.jsx(bme,{children:t})]})}function Sme({className:e,...t}){return n.jsx(Nme,{"data-slot":"select-scroll-up-button",className:Je("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(kc,{className:"size-4"})})}function Eme({className:e,...t}){return n.jsx(jme,{"data-slot":"select-scroll-down-button",className:Je("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(li,{className:"size-4"})})}function Zf({className:e,...t}){return n.jsx("textarea",{"data-slot":"textarea",className:Je("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Ame=ws({wastageNo:ct().optional(),wastageDate:zc(),invoiceNo:ct().min(1,"Invoice number is required"),invoiceDate:zc(),depotId:ct().min(1,"Depot is required"),notes:ct().optional(),details:lh(ws({productId:ct().min(1,"Product is required"),variantId:ct().min(1,"Variant is required"),quantity:xi().min(1,"Quantity must be at least 1")})).min(1,"Add at least one line item")});function mS(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function iR(e){return!!e&&!isNaN(e.getTime())}function oR({value:e,onChange:t,label:r,id:s,fromDate:a}){const[i,o]=g.useState(!1),[l,u]=g.useState(e),[f,h]=g.useState(mS(e));return g.useEffect(()=>{h(mS(e)),iR(e)&&u(e)},[e]),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx(Te,{htmlFor:s,children:r}),n.jsxs("div",{className:"relative flex gap-2",children:[n.jsx(tt,{id:s,value:f,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:x=>{const p=x.target.value;h(p);const y=new Date(p);iR(y)?(t(y),u(y)):t(void 0)}}),n.jsxs(sd,{open:i,onOpenChange:o,children:[n.jsx(nd,{asChild:!0,children:n.jsx(he,{variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 size-6",type:"button",children:n.jsx(Ta,{className:"size-3.5"})})}),n.jsx(ad,{className:"p-0",children:n.jsx(id,{mode:"single",selected:e,month:l,captionLayout:"dropdown",onMonthChange:u,fromDate:a,onSelect:x=>{t(x),h(mS(x)),o(!1)}})})]})]})]})}const bB=({mode:e,wastageId:t,initialData:r,onSuccess:s})=>{var z;const a=jr(),i=qn(),o=typeof window<"u"?localStorage.getItem("user"):null,l=o?JSON.parse(o):null,{register:u,control:f,handleSubmit:h,setValue:x,watch:p,formState:{errors:y}}=Js({resolver:en(Ame),defaultValues:{wastageNo:e==="edit"?r==null?void 0:r.wastageNo:"",wastageDate:e==="edit"&&(r!=null&&r.wastageDate)?new Date(r.wastageDate):new Date,invoiceNo:(r==null?void 0:r.invoiceNo)||"",invoiceDate:e==="edit"&&(r!=null&&r.invoiceDate)?new Date(r.invoiceDate):new Date,depotId:e==="edit"&&(r!=null&&r.depotId)?String(r.depotId):l!=null&&l.depotId?String(l.depotId):"",notes:(r==null?void 0:r.notes)||"",details:e==="edit"&&((z=r==null?void 0:r.details)!=null&&z.length)?r.details.map(ae=>({productId:String(ae.productId),variantId:String(ae.variantId),quantity:ae.quantity})):[{productId:"",variantId:"",quantity:1}]}}),[N,b]=g.useState([]),[w,j]=g.useState([]),[S,A]=g.useState([]);g.useEffect(()=>{p("depotId")||(l!=null&&l.depotId?x("depotId",String(l.depotId)):S.length&&x("depotId",String(S[0].id)))},[S,l==null?void 0:l.depotId]);const[C,T]=g.useState(null);g.useEffect(()=>{(async()=>{try{const ae=await mt("/products");b((ae==null?void 0:ae.data)||ae||[]);const J=await mt("/depots");A((J==null?void 0:J.data)||J||[])}catch{me.error("Failed to fetch reference data")}})()},[]);const D=p("depotId"),_=(l==null?void 0:l.depotId)??D;g.useEffect(()=>{if(!_){j([]);return}(async()=>{try{const ae=await mt(`/depot-product-variants?depotId=${_}&limit=1000`);j((ae==null?void 0:ae.data)||ae||[])}catch{me.error("Failed to fetch depot variants")}})()},[_,l==null?void 0:l.depotId]);const{fields:O,append:P,remove:B}=yy({control:f,name:"details"}),I=Gr({mutationFn:async ae=>{const J={...ae,details:ae.details};return e==="edit"&&t?un(`/wastages/${t}`,J):$r("/wastages",J)},onSuccess:()=>{me.success("Wastage saved"),i.invalidateQueries({queryKey:["wastages"]}),a("/admin/wastages"),s==null||s()},onError:ae=>me.error(ae.message||"Error saving wastage")}),G=ae=>I.mutate(ae);return n.jsxs("form",{onSubmit:h(G),className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(At,{children:[n.jsx(Mt,{children:n.jsx(Zt,{children:"Wastage Details"})}),n.jsxs(Dt,{className:"space-y-4",children:[e==="edit"&&n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2",children:"Wastage No"}),n.jsx(tt,{disabled:!0,...u("wastageNo")})]}),n.jsx(Ur,{control:f,name:"wastageDate",render:({field:ae})=>n.jsx(oR,{id:"wastageDate",label:"Wastage Date",value:ae.value,onChange:ae.onChange})}),n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2",children:"Invoice No"}),n.jsx(tt,{...u("invoiceNo")}),y.invoiceNo&&n.jsx("p",{className:"text-xs text-red-600",children:y.invoiceNo.message})]}),n.jsx(Ur,{control:f,name:"invoiceDate",render:({field:ae})=>n.jsx(oR,{id:"invoiceDate",label:"Invoice Date",value:ae.value,onChange:ae.onChange})}),n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2",children:"Notes"}),n.jsx(Zf,{rows:3,...u("notes")})]})]})]}),n.jsxs(At,{children:[n.jsx(Mt,{children:n.jsx(Zt,{children:"Depot"})}),n.jsx(Dt,{className:"space-y-4",children:n.jsx(Ur,{control:f,name:"depotId",render:({field:ae})=>n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2 block w-full",htmlFor:"depotId",children:"Depot"}),n.jsxs(er,{value:ae.value,onValueChange:ae.onChange,disabled:!!(l!=null&&l.depotId),children:[n.jsx(rr,{className:"w-full",children:n.jsx(tr,{placeholder:"Select depot"})}),n.jsx(sr,{children:S.map(J=>n.jsx(yt,{value:String(J.id),children:J.name},J.id))})]}),y.depotId&&n.jsx("p",{className:"text-xs text-red-600",children:y.depotId.message})]})})})]})]}),n.jsxs(At,{children:[n.jsxs(Mt,{className:"flex-row items-center justify-between",children:[n.jsx(Zt,{children:"Items"}),n.jsxs(he,{type:"button",size:"sm",onClick:()=>P({productId:"",variantId:"",quantity:1}),children:[n.jsx(vn,{className:"mr-2 size-4"})," Add Item"]})]}),n.jsxs(Dt,{children:[n.jsx("div",{className:"space-y-4",children:O.map((ae,J)=>{const L=p(`details.${J}.productId`),U=w.filter(F=>String(F.productId)===L);return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 border rounded-md items-end",children:[n.jsxs("div",{className:"md:col-span-3",children:[n.jsx(Te,{children:"Product"}),n.jsx(Ur,{control:f,name:`details.${J}.productId`,render:({field:F})=>n.jsxs(er,{value:F.value,onValueChange:F.onChange,children:[n.jsx(rr,{className:"w-full",children:n.jsx(tr,{placeholder:"Select Product"})}),n.jsx(sr,{children:N.map(X=>n.jsx(yt,{value:String(X.id),children:X.name},X.id))})]})})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx(Te,{children:"Variant"}),n.jsx(Ur,{control:f,name:`details.${J}.variantId`,render:({field:F})=>n.jsxs(er,{value:F.value,onValueChange:X=>{F.onChange(X)},children:[n.jsx(rr,{className:"w-full",children:n.jsx(tr,{placeholder:"Select Variant"})}),n.jsx(sr,{children:U.map(X=>n.jsx(yt,{value:String(X.id),children:X.name},X.id))})]})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Te,{children:"Quantity"}),n.jsx(tt,{type:"number",...u(`details.${J}.quantity`,{valueAsNumber:!0})})]}),n.jsx("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:n.jsxs(aa,{children:[n.jsx(ph,{asChild:!0,children:n.jsx(he,{type:"button",size:"icon",variant:"ghost",children:n.jsx(fn,{className:"size-4 text-red-500"})})}),n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Remove item?"}),n.jsx(da,{children:"This will remove the selected line item from the wastage."})]}),n.jsxs(la,{children:[n.jsx(fa,{children:"Cancel"}),n.jsx(ua,{onClick:()=>B(J),children:"Continue"})]})]})]})})]},ae.id)})}),y.details&&n.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in y.details?y.details.message:null})]})]}),n.jsx("div",{className:"text-right",children:n.jsx(he,{type:"submit",disabled:I.isPending,children:"Save Wastage"})})]})};function Tme(){return n.jsx("div",{className:"container mx-auto space-y-6",children:n.jsxs(At,{children:[n.jsx(Mt,{}),n.jsx(Dt,{children:n.jsx(bB,{mode:"create"})})]})})}function Cme(){const{id:e}=Ra(),{data:t,isLoading:r,isError:s}=Br({queryKey:["wastage",e],queryFn:()=>mt(`/wastages/${e}`),enabled:!!e});return r?n.jsx("div",{className:"flex items-center justify-center h-40",children:n.jsx(Zr,{className:"animate-spin"})}):s||!t?(me.error("Failed to load wastage"),null):n.jsx("div",{className:"container mx-auto space-y-6",children:n.jsxs(At,{children:[n.jsx(Mt,{}),n.jsx(Dt,{children:n.jsx(bB,{mode:"edit",wastageId:e,initialData:t})})]})})}const _me=Tr.object({identifier:Tr.string().min(1,"Email or mobile is required"),password:Tr.string().min(1,"Password is required")}),lR=()=>{const[e,t]=g.useState(!1),[r,s]=g.useState(""),[a,i]=g.useState(!1),o=Oa(),l=jr(),u=o.pathname.startsWith("/admin"),f=qn(),h=T=>T&&T.role==="MEMBER"?"/member/products/1":T&&T.role==="DepotAdmin"?"/admin/purchases":T&&T.role==="ADMIN"||T&&T.role==="VENDOR"||T&&T.role==="AGENCY"?"/admin/dashboard":"/",{register:x,handleSubmit:p,setError:y,formState:{errors:N}}=Js({resolver:en(_me)});g.useEffect(()=>{var T;(T=o.state)!=null&&T.unauthorized&&(me.error("You are not authorized."),setTimeout(()=>{l(o.pathname,{replace:!0,state:{}})},0))},[o,l]);const b=Gr({mutationFn:async T=>await $r("/auth/login",T),onSuccess:T=>{if(console.log("Login successful:",T),console.log("[Login.tsx] Login API Response Data:",T),console.log("[Login.tsx] Access Token from data:",T.accesstoken,"Type:",typeof T.accesstoken),localStorage.setItem("authToken",T.token||T.accesstoken),localStorage.setItem("refreshToken",T.token),localStorage.setItem("user",JSON.stringify(T.user)),localStorage.setItem("roles",JSON.stringify(T.user.accessibleChapters||[])),T.user.member&&T.user.member.id&&localStorage.setItem("memberId",T.user.member.id.toString()),T.requiresPolicyAcceptance)console.log("Login successful, policy acceptance required. Fetching policy..."),w.mutate();else{me.success("Login successful!"),f.invalidateQueries({queryKey:["user"]});const D=h(T.user);l(D)}},onError:T=>{var P;const _=T.errors&&Array.isArray(T.errors)?(T.errors.forEach(B=>{if(B.path&&B.message&&Array.isArray(B.path)){const I=B.path[B.path.length-1]||B.path[0];typeof I=="string"&&(I==="identifier"||I==="password")&&y(I,{type:"server",message:B.message})}}),!0):!1,O=((P=T.data)==null?void 0:P.message)||T.message;T.status===403&&O&&O.toLowerCase().includes("account is inactive")?me.error(O):(!_||T.status===401)&&me.error(O||"An error occurred during login."),console.error("Login error details:",T)}}),w=Gr({mutationFn:async()=>(i(!0),await mt("/auth/policy-text")),onSuccess:T=>{s(T.policyText),t(!0)},onError:T=>{me.error(T.message||"Failed to load policy."),console.error("Policy fetch error:",T)},onSettled:()=>{i(!1)}}),j=Gr({mutationFn:async()=>await zi("/auth/accept-policy",{}),onSuccess:T=>{const D=T.user||JSON.parse(localStorage.getItem("user")||"null");localStorage.setItem("user",JSON.stringify(D)),me.success("Policy accepted. Login complete!"),f.invalidateQueries({queryKey:["user"]});const _=h(D);l(_),t(!1)},onError:T=>{me.error(T.message||"Failed to accept policy. Please try again."),console.error("Accept policy error:",T)}}),S=T=>{b.mutate(T)},A=()=>{t(!1)},C=()=>{j.mutate()};return n.jsxs(n.Fragment,{children:[e&&n.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-card border border-border rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b border-border",children:[n.jsx("h2",{className:"text-2xl font-bold text-center",children:"Accept Terms & Conditions"}),n.jsxs("p",{className:"text-center text-muted-foreground mt-2",children:["To continue using ",Gx,", please review and accept our policy"]})]}),n.jsx("div",{className:"p-6 overflow-y-auto flex-grow bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"prose prose-sm max-w-none bg-white dark:bg-gray-800 p-6 rounded-lg border",children:a?n.jsx("div",{className:"flex justify-center items-center h-40",children:n.jsx(Zr,{className:"animate-spin text-primary",size:24})}):n.jsx("div",{dangerouslySetInnerHTML:{__html:r}})})}),n.jsxs("div",{className:"p-6 border-t border-border flex flex-col sm:flex-row justify-end gap-3",children:[n.jsx(he,{variant:"outline",onClick:A,disabled:a||b.isPending||j.isPending,className:"w-full sm:w-auto",children:"Cancel"}),n.jsxs(he,{onClick:C,disabled:a||b.isPending||!r||j.isPending,className:"w-full sm:w-auto",children:[j.isPending?n.jsx(Zr,{className:"animate-spin mr-2",size:16}):null,"Agree & Continue"]})]})]})}),n.jsxs("div",{className:"w-full max-w-md mx-auto mt-10",children:[n.jsxs("div",{className:"text-center mb-8",children:[o.pathname!=="/"&&n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome back"}),o.pathname!=="/"&&n.jsxs("p",{className:"text-muted-foreground",children:["Sign in to continue to ",Gx]})]}),n.jsx("form",{onSubmit:p(S),children:n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"identifier",children:"Email or Mobile"}),n.jsx(tt,{id:"identifier",type:"text",placeholder:"name@example.com or 9876543210",...x("identifier"),disabled:b.isPending||j.isPending,className:"py-5 px-4"}),N.identifier&&n.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),N.identifier.message]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Te,{htmlFor:"password",children:"Password"}),n.jsx(Rr,{to:u?"/admin/forgot-password":"/forgot-password",className:"text-sm font-medium text-primary hover:underline",children:"Forgot password?"})]}),n.jsx(Vn,{id:"password",placeholder:"••••••••",...x("password"),disabled:b.isPending||j.isPending,className:"py-5 px-4"}),N.password&&n.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),N.password.message]})]}),n.jsx(he,{type:"submit",className:"w-full py-5 font-semibold",disabled:b.isPending||j.isPending,children:b.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"animate-spin mr-2",size:20}),"Signing in..."]}):"Sign In"}),o.pathname!=="/"&&n.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6 pt-4 border-t border-border",children:["Don't have an account?"," ",n.jsx(Rr,{to:u?"/admin/register":"/register",className:"font-semibold text-primary hover:underline p-0 h-auto",children:"Create account"})]})]})})]})]})},kme=async e=>mt("/variant-stocks",e),wB=async()=>mt("/admin/depots/all-list"),Dme=()=>{const[e,t]=g.useState(null),[r,s]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState(1),[u,f]=g.useState(1),[h,x]=g.useState(0),[p,y]=g.useState(""),[N,b]=g.useState(!1),[w,j]=g.useState(!0),S=g.useRef(null),A=g.useCallback(async()=>{j(!0);try{const _=await wB();s(_),_.length&&t(_[0].id)}catch(_){me.error(_.message||"Failed to fetch depots")}finally{j(!1)}},[]),C=g.useCallback(async()=>{if(e){b(!0);try{const _=await kme({depotId:e,page:o,limit:10,search:p});i(_.data),f(_.totalPages||1),x(_.totalRecords||_.data.length)}catch(_){me.error(_.message||"Failed to fetch stocks")}finally{b(!1)}}},[e,o,p]),T=_=>{y(_),l(1)};g.useEffect(()=>{A()},[A]),g.useEffect(()=>(S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{C()},500),()=>{S.current&&clearTimeout(S.current)}),[C]);const D=()=>{y(""),l(1)};return n.jsx("div",{className:"container mx-auto p-4 md:p-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 md:p-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Variant Stock"}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[h," variants across ",r.length," depots"]})]}),n.jsxs("div",{className:"w-full md:w-auto flex flex-col-reverse md:flex-row gap-3",children:[n.jsxs("div",{className:"relative w-full md:w-64",children:[n.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx(tt,{className:"pl-10 pr-10",placeholder:"Search products or variants...",value:p,onChange:_=>T(_.target.value)}),p&&n.jsx(he,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:bg-transparent",onClick:D,children:n.jsx(vo,{size:18})})]}),n.jsx("div",{className:"w-full md:w-48",children:n.jsxs(er,{value:e?e.toString():void 0,onValueChange:_=>{t(parseInt(_,10)),l(1)},disabled:w,children:[n.jsx(rr,{children:w?n.jsx(Tt,{className:"h-5 w-full"}):n.jsx(tr,{placeholder:"Select depot"})}),n.jsx(sr,{children:r.map(_=>n.jsx(yt,{value:_.id.toString(),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),_.name]})},_.id))})]})})]})]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Ps,{children:[n.jsx(Ms,{className:"bg-gray-50",children:n.jsxs(Xt,{children:[n.jsx(Ke,{className:"w-[45%]",children:"Product"}),n.jsx(Ke,{className:"w-[30%]",children:"Variant"}),n.jsx(Ke,{className:"text-right w-[25%]",children:"Closing Quantity"})]})}),n.jsx(Is,{children:N?Array.from({length:5}).map((_,O)=>n.jsxs(Xt,{children:[n.jsx(ze,{children:n.jsx(Tt,{className:"h-4 w-3/4"})}),n.jsx(ze,{children:n.jsx(Tt,{className:"h-4 w-2/3"})}),n.jsx(ze,{className:"text-right",children:n.jsx(Tt,{className:"h-4 w-1/4 ml-auto"})})]},O)):a.length>0?a.map(_=>n.jsxs(Xt,{className:"hover:bg-gray-50",children:[n.jsx(ze,{className:"font-medium",children:_.product.name}),n.jsx(ze,{className:"text-gray-600",children:_.variant.name}),n.jsx(ze,{className:"text-right font-medium",children:n.jsx("span",{className:"bg-blue-50 text-blue-700 py-1 px-3 rounded-full text-sm",children:_.closingQty})})]},_.id)):n.jsx(Xt,{children:n.jsx(ze,{colSpan:3,className:"text-center py-10",children:n.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[n.jsx(Os,{size:36,className:"text-gray-400"}),n.jsx("h3",{className:"font-medium text-gray-700",children:"No stock records found"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Try changing your search or depot selection"})]})})})})]})}),u>1&&n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",a.length," of ",h," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>l(_=>Math.max(_-1,1)),disabled:o===1||N,children:[n.jsx(M0,{size:16,className:"mr-1"})," Previous"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,u)},(_,O)=>{let P;return u<=5||o<=3?P=O+1:o>=u-2?P=u-4+O:P=o-2+O,n.jsx(he,{variant:o===P?"solid":"ghost",size:"sm",onClick:()=>l(P),disabled:N,children:P},P)}),u>5&&o<u-2&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"px-2",children:"..."}),n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>l(u),disabled:N,children:u})]})]}),n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>l(_=>Math.min(_+1,u)),disabled:o===u||N,children:["Next ",n.jsx(wu,{size:16,className:"ml-1"})]})]})]})]})})};function _u(e,t){console.log("Error from server:",e.errors);const r=e.errors;r&&Object.entries(r).forEach(([s,a])=>{t(s,a)})}const Ome=Tr.object({name:Tr.string().nonempty("Name is required"),email:Tr.string().email("Invalid email address").optional(),mobile:Tr.string().regex(/^\d{10}$/,"Mobile must be a 10 digit number").optional(),password:Tr.string().nonempty("Password is required").min(5,"Password must be at least 5 characters long"),confirmPassword:Tr.string().nonempty("Confirm Password is required")}).refine(e=>!!(e.email||e.mobile),{message:"Either email or mobile is required",path:["email"]}).refine(e=>e.password===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),cR=()=>{var f;const e=Oa(),t=jr(),r=e.pathname==="/admin/register",{register:s,handleSubmit:a,setError:i,formState:{errors:o}}=Js({resolver:en(Ome)}),l=Gr({mutationFn:h=>$r("/auth/register",h),onSuccess:()=>{me.success("Registration successful! Please log in."),e.pathname==="/admin/register"&&t("/admin"),e.pathname==="/register"?t("/login"):window.location.reload()},onError:h=>{if(h.status===409){h.message.toLowerCase().includes("mobile")?i("mobile",{type:"manual",message:h.message}):h.message.toLowerCase().includes("email")?i("email",{type:"manual",message:h.message}):me.error(h.message);return}_u(h,i),h.message?me.error(h.message):me.error("An unexpected error occurred")}}),u=h=>{l.mutate(h)};return n.jsxs("div",{className:"w-full max-w-md mx-auto mt-10",children:[n.jsxs("div",{className:"text-center mb-8",children:[e.pathname!=="/"&&n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create your account"}),e.pathname!=="/"&&n.jsxs("p",{className:"text-muted-foreground",children:["Join ",Gx," today to get started."]})]}),n.jsx("form",{onSubmit:a(u),children:n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"name",children:"Full Name"}),n.jsx(tt,{id:"name",type:"text",placeholder:"Your full name",...s("name"),disabled:l.isPending,className:"py-5 px-4"}),o.name&&n.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.name.message]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"email",children:"Email Address"}),n.jsx(tt,{id:"email",type:"email",placeholder:"name@example.com",...s("email"),disabled:l.isPending,className:"py-5 px-4"}),o.email&&n.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),(f=o.email)==null?void 0:f.message]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"mobile",children:"Mobile Number"}),n.jsx(tt,{id:"mobile",type:"tel",placeholder:"9876543210",...s("mobile"),disabled:l.isPending,className:"py-5 px-4"}),o.mobile&&n.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.mobile.message]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"password",children:"Password"}),n.jsx(Vn,{id:"password",placeholder:"••••••••",...s("password"),disabled:l.isPending,className:"py-5 px-4"}),o.password&&n.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.password.message]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"confirmPassword",children:"Confirm Password"}),n.jsx(Vn,{id:"confirmPassword",placeholder:"••••••••",...s("confirmPassword"),disabled:l.isPending,className:"py-5 px-4"}),o.confirmPassword&&n.jsxs("p",{className:"text-destructive text-sm flex items-center mt-1",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 mr-1",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),o.confirmPassword.message]})]}),n.jsx(he,{type:"submit",className:"w-full py-5 font-semibold",disabled:l.isPending,children:l.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"animate-spin mr-2",size:20}),"Creating account..."]}):"Create Account"}),e.pathname!=="/"&&n.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6 pt-4 border-t border-border",children:["Already have an account?"," ",n.jsx(Rr,{to:r?"/admin":"/login",className:"font-semibold text-primary hover:underline p-0 h-auto",children:"Sign In"})]})]})})]})},Rme=Tr.object({email:Tr.string().email("Invalid email address").min(1,"Email is required")}),Pme=()=>{const e=jr(),{register:t,handleSubmit:r,setError:s,formState:{errors:a}}=Js({resolver:en(Rme)}),i=Gr({mutationFn:l=>$r("/auth/forgot-password",l),onSuccess:()=>{me.success("Password reset instructions have been sent to your email."),e("/")},onError:l=>{_u(l,s),l.message?me.error(l.message):me.error("An unexpected error occurred")}}),o=l=>{const u=`${window.location.origin}/reset-password`;i.mutate({...l,resetUrl:u})};return n.jsx("form",{className:"p-6 md:p-8",onSubmit:r(o),children:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Forgot Password"}),n.jsx("p",{className:"text-balance text-muted-foreground",children:"Enter your email address to reset your password"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"email",children:"Email"}),n.jsx(tt,{id:"email",type:"email",...t("email"),required:!0,disabled:i.isPending}),a.email&&n.jsx("span",{className:"text-red-500",children:a.email.message})]}),n.jsx(he,{type:"submit",className:"w-full",disabled:i.isPending,children:i.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"}),n.jsxs("div",{className:"text-center text-sm",children:["Remember your password?"," ",n.jsx("a",{href:"/",className:"underline underline-offset-4",children:"Login"})]})]})})},Mme=Tr.object({password:Tr.string().min(6,"Password must be at least 6 characters long").min(1,"Password is required"),confirmPassword:Tr.string().min(1,"Confirm Password is required")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),Ime=()=>{const{register:e,setError:t,handleSubmit:r,formState:{errors:s}}=Js({resolver:en(Mme)}),a=jr(),{token:i}=Ra(),o=Gr({mutationFn:u=>$r(`/auth/reset-password/${i}`,{password:u.password}),onSuccess:()=>{me.success("Password reset successful!"),a("/")},onError:u=>{_u(u,t),u.message?me.error(u.message):me.error("An unexpected error occurred")}}),l=u=>{if(!i){me.error("Invalid or missing reset token");return}o.mutate({password:u.password})};return n.jsx("form",{className:"p-6 md:p-8",onSubmit:r(l),children:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Reset Password"}),n.jsx("p",{className:"text-balance text-muted-foreground",children:"Enter your new password to reset your account"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"password",children:"New Password"}),n.jsx(Vn,{id:"password",type:"password",...e("password"),required:!0,disabled:o.isPending}),s.password&&n.jsx("span",{className:"text-red-500",children:s.password.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"confirmPassword",children:"Confirm Password"}),n.jsx(Vn,{id:"confirmPassword",type:"password",...e("confirmPassword"),required:!0,disabled:o.isPending}),s.confirmPassword&&n.jsx("span",{className:"text-red-500",children:s.confirmPassword.message})]}),n.jsx(he,{type:"submit",className:"w-full",disabled:o.isPending,children:o.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})};function bs(e){const t="en-US",r="INR";return new Intl.NumberFormat(t,{style:"currency",currency:r}).format(e)}function Fme(e){const t="en-US",r=typeof e=="string"?new Date(e):e;return new Intl.DateTimeFormat(t,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}var dR=1,Lme=.9,Bme=.8,$me=.17,pS=.1,xS=.999,Ume=.9999,Vme=.99,qme=/[\\\/_+.#"@\[\(\{&]/,zme=/[\\\/_+.#"@\[\(\{&]/g,Hme=/[\s-]/,NB=/[\s-]/g;function xA(e,t,r,s,a,i,o){if(i===t.length)return a===e.length?dR:Vme;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var u=s.charAt(i),f=r.indexOf(u,a),h=0,x,p,y,N;f>=0;)x=xA(e,t,r,s,f+1,i+1,o),x>h&&(f===a?x*=dR:qme.test(e.charAt(f-1))?(x*=Bme,y=e.slice(a,f-1).match(zme),y&&a>0&&(x*=Math.pow(xS,y.length))):Hme.test(e.charAt(f-1))?(x*=Lme,N=e.slice(a,f-1).match(NB),N&&a>0&&(x*=Math.pow(xS,N.length))):(x*=$me,a>0&&(x*=Math.pow(xS,f-a))),e.charAt(f)!==t.charAt(i)&&(x*=Ume)),(x<pS&&r.charAt(f-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&r.charAt(f-1)!==s.charAt(i))&&(p=xA(e,t,r,s,f+1,i+2,o),p*pS>x&&(x=p*pS)),x>h&&(h=x),f=r.indexOf(u,f+1);return o[l]=h,h}function uR(e){return e.toLowerCase().replace(NB," ")}function Wme(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,xA(e,t,uR(e),uR(t),0,0,{})}function yu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function fR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ku(...e){return t=>{let r=!1;const s=e.map(a=>{const i=fR(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():fR(e[a],null)}}}}function gh(...e){return g.useCallback(ku(...e),e)}function Gme(e,t){const r=g.createContext(t),s=i=>{const{children:o,...l}=i,u=g.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:u,children:o})};s.displayName=e+"Provider";function a(i){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Yme(e,t=[]){let r=[];function s(i,o){const l=g.createContext(o),u=r.length;r=[...r,o];const f=x=>{var j;const{scope:p,children:y,...N}=x,b=((j=p==null?void 0:p[e])==null?void 0:j[u])||l,w=g.useMemo(()=>N,Object.values(N));return n.jsx(b.Provider,{value:w,children:y})};f.displayName=i+"Provider";function h(x,p){var b;const y=((b=p==null?void 0:p[e])==null?void 0:b[u])||l,N=g.useContext(y);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${x}\` must be used within \`${i}\``)}return[f,h]}const a=()=>{const i=r.map(o=>g.createContext(o));return function(l){const u=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return a.scopeName=e,[s,Kme(a,...t)]}function Kme(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:u,scopeName:f})=>{const x=u(i)[`__scope${f}`];return{...l,...x}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Xme=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Qme=hT.useId||(()=>{}),Zme=0;function Fc(e){const[t,r]=g.useState(Qme());return Xme(()=>{r(s=>s??String(Zme++))},[e]),t?`radix-${t}`:""}function jB(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function Jme({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=e0e({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=jB(r),u=g.useCallback(f=>{if(i){const x=typeof f=="function"?f(e):f;x!==e&&l(x)}else a(f)},[i,e,a,l]);return[o,u]}function e0e({defaultProp:e,onChange:t}){const r=g.useState(e),[s]=r,a=g.useRef(s),i=jB(t);return g.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var SB=g.forwardRef((e,t)=>{const{children:r,...s}=e,a=g.Children.toArray(r),i=a.find(r0e);if(i){const o=i.props.children,l=a.map(u=>u===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:u);return n.jsx(gA,{...s,ref:t,children:g.isValidElement(o)?g.cloneElement(o,void 0,l):null})}return n.jsx(gA,{...s,ref:t,children:r})});SB.displayName="Slot";var gA=g.forwardRef((e,t)=>{const{children:r,...s}=e;if(g.isValidElement(r)){const a=n0e(r),i=s0e(s,r.props);return r.type!==g.Fragment&&(i.ref=t?ku(t,a):a),g.cloneElement(r,i)}return g.Children.count(r)>1?g.Children.only(null):null});gA.displayName="SlotClone";var t0e=({children:e})=>n.jsx(n.Fragment,{children:e});function r0e(e){return g.isValidElement(e)&&e.type===t0e}function s0e(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function n0e(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var a0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ha=a0e.reduce((e,t)=>{const r=g.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?SB:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function i0e(e,t){e&&oh.flushSync(()=>e.dispatchEvent(t))}function LC(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function o0e(e,t=globalThis==null?void 0:globalThis.document){const r=LC(e);g.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var l0e="DismissableLayer",yA="dismissableLayer.update",c0e="dismissableLayer.pointerDownOutside",d0e="dismissableLayer.focusOutside",hR,EB=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),AB=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,f=g.useContext(EB),[h,x]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),N=gh(t,_=>x(_)),b=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(w),S=h?b.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,C=S>=j,T=h0e(_=>{const O=_.target,P=[...f.branches].some(B=>B.contains(O));!C||P||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},p),D=m0e(_=>{const O=_.target;[...f.branches].some(B=>B.contains(O))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},p);return o0e(_=>{S===f.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},p),g.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(hR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),mR(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=hR)}},[h,p,r,f]),g.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),mR())},[h,f]),g.useEffect(()=>{const _=()=>y({});return document.addEventListener(yA,_),()=>document.removeEventListener(yA,_)},[]),n.jsx(ha.div,{...u,ref:N,style:{pointerEvents:A?C?"auto":"none":void 0,...e.style},onFocusCapture:yu(e.onFocusCapture,D.onFocusCapture),onBlurCapture:yu(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:yu(e.onPointerDownCapture,T.onPointerDownCapture)})});AB.displayName=l0e;var u0e="DismissableLayerBranch",f0e=g.forwardRef((e,t)=>{const r=g.useContext(EB),s=g.useRef(null),a=gh(t,s);return g.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(ha.div,{...e,ref:a})});f0e.displayName=u0e;function h0e(e,t=globalThis==null?void 0:globalThis.document){const r=LC(e),s=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){TB(c0e,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function m0e(e,t=globalThis==null?void 0:globalThis.document){const r=LC(e),s=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!s.current&&TB(d0e,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function mR(){const e=new CustomEvent(yA);document.dispatchEvent(e)}function TB(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?i0e(a,i):a.dispatchEvent(i)}function pR(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}var gS="focusScope.autoFocusOnMount",yS="focusScope.autoFocusOnUnmount",xR={bubbles:!1,cancelable:!0},p0e="FocusScope",CB=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=g.useState(null),f=pR(a),h=pR(i),x=g.useRef(null),p=gh(t,b=>u(b)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let b=function(A){if(y.paused||!l)return;const C=A.target;l.contains(C)?x.current=C:Qd(x.current,{select:!0})},w=function(A){if(y.paused||!l)return;const C=A.relatedTarget;C!==null&&(l.contains(C)||Qd(x.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&Qd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),S.disconnect()}}},[s,l,y.paused]),g.useEffect(()=>{if(l){yR.add(y);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(gS,xR);l.addEventListener(gS,f),l.dispatchEvent(j),j.defaultPrevented||(x0e(w0e(_B(l)),{select:!0}),document.activeElement===b&&Qd(l))}return()=>{l.removeEventListener(gS,f),setTimeout(()=>{const j=new CustomEvent(yS,xR);l.addEventListener(yS,h),l.dispatchEvent(j),j.defaultPrevented||Qd(b??document.body,{select:!0}),l.removeEventListener(yS,h),yR.remove(y)},0)}}},[l,f,h,y]);const N=g.useCallback(b=>{if(!r&&!s||y.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(w&&j){const S=b.currentTarget,[A,C]=g0e(S);A&&C?!b.shiftKey&&j===C?(b.preventDefault(),r&&Qd(A,{select:!0})):b.shiftKey&&j===A&&(b.preventDefault(),r&&Qd(C,{select:!0})):j===S&&b.preventDefault()}},[r,s,y.paused]);return n.jsx(ha.div,{tabIndex:-1,...o,ref:p,onKeyDown:N})});CB.displayName=p0e;function x0e(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Qd(s,{select:t}),document.activeElement!==r)return}function g0e(e){const t=_B(e),r=gR(t,e),s=gR(t.reverse(),e);return[r,s]}function _B(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function gR(e,t){for(const r of e)if(!y0e(r,{upTo:t}))return r}function y0e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function v0e(e){return e instanceof HTMLInputElement&&"select"in e}function Qd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&v0e(e)&&t&&e.select()}}var yR=b0e();function b0e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=vR(e,t),e.unshift(t)},remove(t){var r;e=vR(e,t),(r=e[0])==null||r.resume()}}}function vR(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function w0e(e){return e.filter(t=>t.tagName!=="A")}var N0e=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},j0e="Portal",kB=g.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=g.useState(!1);N0e(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lu.createPortal(n.jsx(ha.div,{...s,ref:t}),o):null});kB.displayName=j0e;var bR=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{};function S0e(e,t){return g.useReducer((r,s)=>t[r][s]??r,e)}var Bw=e=>{const{present:t,children:r}=e,s=E0e(t),a=typeof r=="function"?r({present:s.isPresent}):g.Children.only(r),i=gh(s.ref,A0e(a));return typeof r=="function"||s.isPresent?g.cloneElement(a,{ref:i}):null};Bw.displayName="Presence";function E0e(e){const[t,r]=g.useState(),s=g.useRef({}),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,u]=S0e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const f=Qv(s.current);i.current=l==="mounted"?f:"none"},[l]),bR(()=>{const f=s.current,h=a.current;if(h!==e){const p=i.current,y=Qv(f);e?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),bR(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,x=y=>{const b=Qv(s.current).includes(y.animationName);if(y.target===t&&b&&(u("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=y=>{y.target===t&&(i.current=Qv(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(f=>{f&&(s.current=getComputedStyle(f)),r(f)},[])}}function Qv(e){return(e==null?void 0:e.animationName)||"none"}function A0e(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vS=0;function T0e(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wR()),document.body.insertAdjacentElement("beforeend",e[1]??wR()),vS++,()=>{vS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vS--}},[])}function wR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var DB=g.forwardRef((e,t)=>{const{children:r,...s}=e,a=g.Children.toArray(r),i=a.find(_0e);if(i){const o=i.props.children,l=a.map(u=>u===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:u);return n.jsx(vA,{...s,ref:t,children:g.isValidElement(o)?g.cloneElement(o,void 0,l):null})}return n.jsx(vA,{...s,ref:t,children:r})});DB.displayName="Slot";var vA=g.forwardRef((e,t)=>{const{children:r,...s}=e;if(g.isValidElement(r)){const a=D0e(r),i=k0e(s,r.props);return r.type!==g.Fragment&&(i.ref=t?ku(t,a):a),g.cloneElement(r,i)}return g.Children.count(r)>1?g.Children.only(null):null});vA.displayName="SlotClone";var C0e=({children:e})=>n.jsx(n.Fragment,{children:e});function _0e(e){return g.isValidElement(e)&&e.type===C0e}function k0e(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function D0e(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var BC="Dialog",[OB,xPe]=Yme(BC),[O0e,ml]=OB(BC),RB=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),u=g.useRef(null),[f=!1,h]=Jme({prop:s,defaultProp:a,onChange:i});return n.jsx(O0e,{scope:t,triggerRef:l,contentRef:u,contentId:Fc(),titleId:Fc(),descriptionId:Fc(),open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(x=>!x),[h]),modal:o,children:r})};RB.displayName=BC;var PB="DialogTrigger",R0e=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ml(PB,r),i=gh(t,a.triggerRef);return n.jsx(ha.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":VC(a.open),...s,ref:i,onClick:yu(e.onClick,a.onOpenToggle)})});R0e.displayName=PB;var $C="DialogPortal",[P0e,MB]=OB($C,{forceMount:void 0}),IB=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=ml($C,t);return n.jsx(P0e,{scope:t,forceMount:r,children:g.Children.map(s,o=>n.jsx(Bw,{present:r||i.open,children:n.jsx(kB,{asChild:!0,container:a,children:o})}))})};IB.displayName=$C;var vb="DialogOverlay",FB=g.forwardRef((e,t)=>{const r=MB(vb,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ml(vb,e.__scopeDialog);return i.modal?n.jsx(Bw,{present:s||i.open,children:n.jsx(M0e,{...a,ref:t})}):null});FB.displayName=vb;var M0e=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ml(vb,r);return n.jsx(ch,{as:DB,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(ha.div,{"data-state":VC(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Jf="DialogContent",LB=g.forwardRef((e,t)=>{const r=MB(Jf,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ml(Jf,e.__scopeDialog);return n.jsx(Bw,{present:s||i.open,children:i.modal?n.jsx(I0e,{...a,ref:t}):n.jsx(F0e,{...a,ref:t})})});LB.displayName=Jf;var I0e=g.forwardRef((e,t)=>{const r=ml(Jf,e.__scopeDialog),s=g.useRef(null),a=gh(t,r.contentRef,s);return g.useEffect(()=>{const i=s.current;if(i)return B0(i)},[]),n.jsx(BB,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yu(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:yu(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:yu(e.onFocusOutside,i=>i.preventDefault())})}),F0e=g.forwardRef((e,t)=>{const r=ml(Jf,e.__scopeDialog),s=g.useRef(!1),a=g.useRef(!1);return n.jsx(BB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),BB=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ml(Jf,r),u=g.useRef(null),f=gh(t,u);return T0e(),n.jsxs(n.Fragment,{children:[n.jsx(CB,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(AB,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":VC(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(U0e,{titleId:l.titleId}),n.jsx(q0e,{contentRef:u,descriptionId:l.descriptionId})]})]})}),UC="DialogTitle",L0e=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ml(UC,r);return n.jsx(ha.h2,{id:a.titleId,...s,ref:t})});L0e.displayName=UC;var $B="DialogDescription",B0e=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ml($B,r);return n.jsx(ha.p,{id:a.descriptionId,...s,ref:t})});B0e.displayName=$B;var UB="DialogClose",$0e=g.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ml(UB,r);return n.jsx(ha.button,{type:"button",...s,ref:t,onClick:yu(e.onClick,()=>a.onOpenChange(!1))})});$0e.displayName=UB;function VC(e){return e?"open":"closed"}var VB="DialogTitleWarning",[gPe,qB]=Gme(VB,{contentName:Jf,titleName:UC,docsSlug:"dialog"}),U0e=({titleId:e})=>{const t=qB(VB),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},V0e="DialogDescriptionWarning",q0e=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qB(V0e).contentName}}.`;return g.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},z0e=RB,H0e=IB,W0e=FB,G0e=LB,fx='[cmdk-group=""]',bS='[cmdk-group-items=""]',Y0e='[cmdk-group-heading=""]',zB='[cmdk-item=""]',NR=`${zB}:not([aria-disabled="true"])`,bA="cmdk-item-select",vm="data-value",K0e=(e,t,r)=>Wme(e,t,r),HB=g.createContext(void 0),vy=()=>g.useContext(HB),WB=g.createContext(void 0),qC=()=>g.useContext(WB),GB=g.createContext(void 0),YB=g.forwardRef((e,t)=>{let r=bm(()=>{var M,W;return{search:"",value:(W=(M=e.value)!=null?M:e.defaultValue)!=null?W:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=bm(()=>new Set),a=bm(()=>new Map),i=bm(()=>new Map),o=bm(()=>new Set),l=KB(e),{label:u,children:f,value:h,onValueChange:x,filter:p,shouldFilter:y,loop:N,disablePointerSelection:b=!1,vimBindings:w=!0,...j}=e,S=Fc(),A=Fc(),C=Fc(),T=g.useRef(null),D=ipe();eh(()=>{if(h!==void 0){let M=h.trim();r.current.value=M,_.emit()}},[h]),eh(()=>{D(6,z)},[]);let _=g.useMemo(()=>({subscribe:M=>(o.current.add(M),()=>o.current.delete(M)),snapshot:()=>r.current,setState:(M,W,K)=>{var V,Q,ie,xe;if(!Object.is(r.current[M],W)){if(r.current[M]=W,M==="search")G(),B(),D(1,I);else if(M==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ue=document.getElementById(C);ue?ue.focus():(V=document.getElementById(S))==null||V.focus()}if(D(7,()=>{var ue;r.current.selectedItemId=(ue=ae())==null?void 0:ue.id,_.emit()}),K||D(5,z),((Q=l.current)==null?void 0:Q.value)!==void 0){let ue=W??"";(xe=(ie=l.current).onValueChange)==null||xe.call(ie,ue);return}}_.emit()}},emit:()=>{o.current.forEach(M=>M())}}),[]),O=g.useMemo(()=>({value:(M,W,K)=>{var V;W!==((V=i.current.get(M))==null?void 0:V.value)&&(i.current.set(M,{value:W,keywords:K}),r.current.filtered.items.set(M,P(W,K)),D(2,()=>{B(),_.emit()}))},item:(M,W)=>(s.current.add(M),W&&(a.current.has(W)?a.current.get(W).add(M):a.current.set(W,new Set([M]))),D(3,()=>{G(),B(),r.current.value||I(),_.emit()}),()=>{i.current.delete(M),s.current.delete(M),r.current.filtered.items.delete(M);let K=ae();D(4,()=>{G(),(K==null?void 0:K.getAttribute("id"))===M&&I(),_.emit()})}),group:M=>(a.current.has(M)||a.current.set(M,new Set),()=>{i.current.delete(M),a.current.delete(M)}),filter:()=>l.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:S,inputId:C,labelId:A,listInnerRef:T}),[]);function P(M,W){var K,V;let Q=(V=(K=l.current)==null?void 0:K.filter)!=null?V:K0e;return M?Q(M,r.current.search,W):0}function B(){if(!r.current.search||l.current.shouldFilter===!1)return;let M=r.current.filtered.items,W=[];r.current.filtered.groups.forEach(V=>{let Q=a.current.get(V),ie=0;Q.forEach(xe=>{let ue=M.get(xe);ie=Math.max(ue,ie)}),W.push([V,ie])});let K=T.current;J().sort((V,Q)=>{var ie,xe;let ue=V.getAttribute("id"),de=Q.getAttribute("id");return((ie=M.get(de))!=null?ie:0)-((xe=M.get(ue))!=null?xe:0)}).forEach(V=>{let Q=V.closest(bS);Q?Q.appendChild(V.parentElement===Q?V:V.closest(`${bS} > *`)):K.appendChild(V.parentElement===K?V:V.closest(`${bS} > *`))}),W.sort((V,Q)=>Q[1]-V[1]).forEach(V=>{var Q;let ie=(Q=T.current)==null?void 0:Q.querySelector(`${fx}[${vm}="${encodeURIComponent(V[0])}"]`);ie==null||ie.parentElement.appendChild(ie)})}function I(){let M=J().find(K=>K.getAttribute("aria-disabled")!=="true"),W=M==null?void 0:M.getAttribute(vm);_.setState("value",W||void 0)}function G(){var M,W,K,V;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let Q=0;for(let ie of s.current){let xe=(W=(M=i.current.get(ie))==null?void 0:M.value)!=null?W:"",ue=(V=(K=i.current.get(ie))==null?void 0:K.keywords)!=null?V:[],de=P(xe,ue);r.current.filtered.items.set(ie,de),de>0&&Q++}for(let[ie,xe]of a.current)for(let ue of xe)if(r.current.filtered.items.get(ue)>0){r.current.filtered.groups.add(ie);break}r.current.filtered.count=Q}function z(){var M,W,K;let V=ae();V&&(((M=V.parentElement)==null?void 0:M.firstChild)===V&&((K=(W=V.closest(fx))==null?void 0:W.querySelector(Y0e))==null||K.scrollIntoView({block:"nearest"})),V.scrollIntoView({block:"nearest"}))}function ae(){var M;return(M=T.current)==null?void 0:M.querySelector(`${zB}[aria-selected="true"]`)}function J(){var M;return Array.from(((M=T.current)==null?void 0:M.querySelectorAll(NR))||[])}function L(M){let W=J()[M];W&&_.setState("value",W.getAttribute(vm))}function U(M){var W;let K=ae(),V=J(),Q=V.findIndex(xe=>xe===K),ie=V[Q+M];(W=l.current)!=null&&W.loop&&(ie=Q+M<0?V[V.length-1]:Q+M===V.length?V[0]:V[Q+M]),ie&&_.setState("value",ie.getAttribute(vm))}function F(M){let W=ae(),K=W==null?void 0:W.closest(fx),V;for(;K&&!V;)K=M>0?npe(K,fx):ape(K,fx),V=K==null?void 0:K.querySelector(NR);V?_.setState("value",V.getAttribute(vm)):U(M)}let X=()=>L(J().length-1),q=M=>{M.preventDefault(),M.metaKey?X():M.altKey?F(1):U(1)},te=M=>{M.preventDefault(),M.metaKey?L(0):M.altKey?F(-1):U(-1)};return g.createElement(ha.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:M=>{var W;(W=j.onKeyDown)==null||W.call(j,M);let K=M.nativeEvent.isComposing||M.keyCode===229;if(!(M.defaultPrevented||K))switch(M.key){case"n":case"j":{w&&M.ctrlKey&&q(M);break}case"ArrowDown":{q(M);break}case"p":case"k":{w&&M.ctrlKey&&te(M);break}case"ArrowUp":{te(M);break}case"Home":{M.preventDefault(),L(0);break}case"End":{M.preventDefault(),X();break}case"Enter":{M.preventDefault();let V=ae();if(V){let Q=new Event(bA);V.dispatchEvent(Q)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:lpe},u),$w(e,M=>g.createElement(WB.Provider,{value:_},g.createElement(HB.Provider,{value:O},M))))}),X0e=g.forwardRef((e,t)=>{var r,s;let a=Fc(),i=g.useRef(null),o=g.useContext(GB),l=vy(),u=KB(e),f=(s=(r=u.current)==null?void 0:r.forceMount)!=null?s:o==null?void 0:o.forceMount;eh(()=>{if(!f)return l.item(a,o==null?void 0:o.id)},[f]);let h=XB(a,i,[e.value,e.children,i],e.keywords),x=qC(),p=Gc(D=>D.value&&D.value===h.current),y=Gc(D=>f||l.filter()===!1?!0:D.search?D.filtered.items.get(a)>0:!0);g.useEffect(()=>{let D=i.current;if(!(!D||e.disabled))return D.addEventListener(bA,N),()=>D.removeEventListener(bA,N)},[y,e.onSelect,e.disabled]);function N(){var D,_;b(),(_=(D=u.current).onSelect)==null||_.call(D,h.current)}function b(){x.setState("value",h.current,!0)}if(!y)return null;let{disabled:w,value:j,onSelect:S,forceMount:A,keywords:C,...T}=e;return g.createElement(ha.div,{ref:ku(i,t),...T,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!p,"data-disabled":!!w,"data-selected":!!p,onPointerMove:w||l.getDisablePointerSelection()?void 0:b,onClick:w?void 0:N},e.children)}),Q0e=g.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:a,...i}=e,o=Fc(),l=g.useRef(null),u=g.useRef(null),f=Fc(),h=vy(),x=Gc(y=>a||h.filter()===!1?!0:y.search?y.filtered.groups.has(o):!0);eh(()=>h.group(o),[]),XB(o,l,[e.value,e.heading,u]);let p=g.useMemo(()=>({id:o,forceMount:a}),[a]);return g.createElement(ha.div,{ref:ku(l,t),...i,"cmdk-group":"",role:"presentation",hidden:x?void 0:!0},r&&g.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:f},r),$w(e,y=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?f:void 0},g.createElement(GB.Provider,{value:p},y))))}),Z0e=g.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,a=g.useRef(null),i=Gc(o=>!o.search);return!r&&!i?null:g.createElement(ha.div,{ref:ku(a,t),...s,"cmdk-separator":"",role:"separator"})}),J0e=g.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,a=e.value!=null,i=qC(),o=Gc(f=>f.search),l=Gc(f=>f.selectedItemId),u=vy();return g.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),g.createElement(ha.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":l,id:u.inputId,type:"text",value:a?e.value:o,onChange:f=>{a||i.setState("search",f.target.value),r==null||r(f.target.value)}})}),epe=g.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...a}=e,i=g.useRef(null),o=g.useRef(null),l=Gc(f=>f.selectedItemId),u=vy();return g.useEffect(()=>{if(o.current&&i.current){let f=o.current,h=i.current,x,p=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let y=f.offsetHeight;h.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return p.observe(f),()=>{cancelAnimationFrame(x),p.unobserve(f)}}},[]),g.createElement(ha.div,{ref:ku(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:u.listId},$w(e,f=>g.createElement("div",{ref:ku(o,u.listInnerRef),"cmdk-list-sizer":""},f)))}),tpe=g.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...l}=e;return g.createElement(z0e,{open:r,onOpenChange:s},g.createElement(H0e,{container:o},g.createElement(W0e,{"cmdk-overlay":"",className:a}),g.createElement(G0e,{"aria-label":e.label,"cmdk-dialog":"",className:i},g.createElement(YB,{ref:t,...l}))))}),rpe=g.forwardRef((e,t)=>Gc(r=>r.filtered.count===0)?g.createElement(ha.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),spe=g.forwardRef((e,t)=>{let{progress:r,children:s,label:a="Loading...",...i}=e;return g.createElement(ha.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},$w(e,o=>g.createElement("div",{"aria-hidden":!0},o)))}),Xa=Object.assign(YB,{List:epe,Item:X0e,Input:J0e,Group:Q0e,Separator:Z0e,Dialog:tpe,Empty:rpe,Loading:spe});function npe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function ape(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function KB(e){let t=g.useRef(e);return eh(()=>{t.current=e}),t}var eh=typeof window>"u"?g.useEffect:g.useLayoutEffect;function bm(e){let t=g.useRef();return t.current===void 0&&(t.current=e()),t}function Gc(e){let t=qC(),r=()=>e(t.snapshot());return g.useSyncExternalStore(t.subscribe,r,r)}function XB(e,t,r,s=[]){let a=g.useRef(),i=vy();return eh(()=>{var o;let l=(()=>{var f;for(let h of r){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(f=h.current.textContent)==null?void 0:f.trim():a.current}})(),u=s.map(f=>f.trim());i.value(e,l,u),(o=t.current)==null||o.setAttribute(vm,l),a.current=l}),a}var ipe=()=>{let[e,t]=g.useState(),r=bm(()=>new Map);return eh(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),t({})}};function ope(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function $w({asChild:e,children:t},r){return e&&g.isValidElement(t)?g.cloneElement(ope(t),{ref:t.ref},r(t.props.children)):r(t)}var lpe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const cpe=dw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-white [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 ",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-gray-700"}},defaultVariants:{variant:"default"}});function Pr({className:e,variant:t,asChild:r=!1,...s}){const a=r?iw:"span";return n.jsx(a,{"data-slot":"badge",className:Je(cpe({variant:t}),e),...s})}const QB=g.forwardRef(({className:e,...t},r)=>n.jsx(Xa,{ref:r,className:Je("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));QB.displayName=Xa.displayName;const dpe=g.forwardRef(({className:e,...t},r)=>n.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[n.jsx(Os,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),n.jsx(Xa.Input,{ref:r,className:Je("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));dpe.displayName=Xa.Input.displayName;const ZB=g.forwardRef(({className:e,...t},r)=>n.jsx(Xa.List,{ref:r,className:Je("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ZB.displayName=Xa.List.displayName;const upe=g.forwardRef((e,t)=>n.jsx(Xa.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));upe.displayName=Xa.Empty.displayName;const JB=g.forwardRef(({className:e,...t},r)=>n.jsx(Xa.Group,{ref:r,className:Je("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));JB.displayName=Xa.Group.displayName;const fpe=g.forwardRef(({className:e,...t},r)=>n.jsx(Xa.Separator,{ref:r,className:Je("-mx-1 h-px bg-border",e),...t}));fpe.displayName=Xa.Separator.displayName;const jx=g.forwardRef(({className:e,...t},r)=>n.jsx(Xa.Item,{ref:r,className:Je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-gray-700-foreground data-[disabled=true]:opacity-50",e),...t}));jx.displayName=Xa.Item.displayName;function hpe(e,t){const[r,s]=g.useState(e);return g.useEffect(()=>{const a=setTimeout(()=>s(e),t);return()=>{clearTimeout(a)}},[e,t]),r}function Zv(e,t){if(e.length===0)return{};if(!t)return{"":e};const r={};return e.forEach(s=>{const a=s[t]||"";r[a]||(r[a]=[]),r[a].push(s)}),r}function mpe(e,t){const r=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(r))r[s]=a.filter(i=>!t.find(o=>o.value===i.value));return r}function ppe(e,t){for(const[,r]of Object.entries(e))if(r.some(s=>t.find(a=>a.value===s.value)))return!0;return!1}const e$=g.forwardRef(({className:e,...t},r)=>Gc(a=>a.filtered.count===0)?n.jsx("div",{ref:r,className:Je("py-6 text-center text-sm",e),"cmdk-empty":"",role:"presentation",...t}):null);e$.displayName="CommandEmpty";const t$=g.forwardRef(({value:e,onChange:t,placeholder:r,defaultOptions:s=[],options:a,delay:i,onSearch:o,onSearchSync:l,loadingIndicator:u,emptyIndicator:f,maxSelected:h=Number.MAX_SAFE_INTEGER,onMaxSelected:x,hidePlaceholderWhenSelected:p,disabled:y,groupBy:N,className:b,badgeClassName:w,selectFirstItem:j=!0,creatable:S=!1,triggerSearchOnFocus:A=!1,commandProps:C,inputProps:T,hideClearAllButton:D=!1},_)=>{const O=g.useRef(null),[P,B]=g.useState(!1),[I,G]=g.useState(!1),[z,ae]=g.useState(!1),J=g.useRef(null),[L,U]=g.useState(e||[]),[F,X]=g.useState(Zv(s,N)),[q,te]=g.useState(""),M=hpe(q,i||500);g.useImperativeHandle(_,()=>({selectedValue:[...L],input:O.current,focus:()=>{var de;return(de=O==null?void 0:O.current)==null?void 0:de.focus()},reset:()=>U([])}),[L]);const W=de=>{J.current&&!J.current.contains(de.target)&&O.current&&!O.current.contains(de.target)&&(B(!1),O.current.blur())},K=g.useCallback(de=>{const De=L.filter(Ne=>Ne.value!==de.value);U(De),t==null||t(De)},[t,L]),V=g.useCallback(de=>{const De=O.current;De&&((de.key==="Delete"||de.key==="Backspace")&&De.value===""&&L.length>0&&(L[L.length-1].fixed||K(L[L.length-1])),de.key==="Escape"&&De.blur())},[K,L]);g.useEffect(()=>(P?(document.addEventListener("mousedown",W),document.addEventListener("touchend",W)):(document.removeEventListener("mousedown",W),document.removeEventListener("touchend",W)),()=>{document.removeEventListener("mousedown",W),document.removeEventListener("touchend",W)}),[P]),g.useEffect(()=>{e&&U(e)},[e]),g.useEffect(()=>{if(!a||o)return;const de=Zv(a||[],N);JSON.stringify(de)!==JSON.stringify(F)&&X(de)},[s,a,N,o,F]),g.useEffect(()=>{const de=()=>{const Ne=l==null?void 0:l(M);X(Zv(Ne||[],N))};(async()=>{!l||!P||(A&&de(),M&&de())})()},[M,N,P,A]),g.useEffect(()=>{const de=async()=>{ae(!0);const Ne=await(o==null?void 0:o(M));X(Zv(Ne||[],N)),ae(!1)};(async()=>{!o||!P||(A&&await de(),M&&await de())})()},[M,N,P,A]);const Q=()=>{if(!S||ppe(F,[{value:q,label:q}])||L.find(De=>De.value===q))return;const de=n.jsx(jx,{value:q,className:"cursor-pointer",onMouseDown:De=>{De.preventDefault(),De.stopPropagation()},onSelect:De=>{if(L.length>=h){x==null||x(L.length);return}te("");const Ne=[...L,{value:De,label:De}];U(Ne),t==null||t(Ne)},children:`Create "${q}"`});if(!o&&q.length>0||o&&M.length>0&&!z)return de},ie=g.useCallback(()=>{if(f)return o&&!S&&Object.keys(F).length===0?n.jsx(jx,{value:"-",disabled:!0,children:f}):n.jsx(e$,{children:f})},[S,f,o,F]),xe=g.useMemo(()=>mpe(F,L),[F,L]),ue=g.useCallback(()=>{if(C!=null&&C.filter)return C.filter;if(S)return(de,De)=>de.toLowerCase().includes(De.toLowerCase())?1:-1},[S,C==null?void 0:C.filter]);return n.jsxs(QB,{ref:J,...C,onKeyDown:de=>{var De;V(de),(De=C==null?void 0:C.onKeyDown)==null||De.call(C,de)},className:Je("h-auto overflow-visible bg-transparent",C==null?void 0:C.className),shouldFilter:(C==null?void 0:C.shouldFilter)!==void 0?C.shouldFilter:!o,filter:ue(),children:[n.jsx("div",{className:Je("min-h-10 rounded-md border border-input text-base ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2 md:text-sm",{"px-3 py-2":L.length!==0,"cursor-text":!y&&L.length!==0},b),onClick:()=>{var de;y||(de=O==null?void 0:O.current)==null||de.focus()},children:n.jsxs("div",{className:"relative flex flex-wrap gap-1",children:[L.map(de=>n.jsxs(Pr,{className:Je("data-[disabled]:bg-muted-foreground data-[disabled]:text-muted data-[disabled]:hover:bg-muted-foreground","data-[fixed]:bg-muted-foreground data-[fixed]:text-muted data-[fixed]:hover:bg-muted-foreground",w),"data-fixed":de.fixed,"data-disabled":y||void 0,children:[de.label,n.jsx("button",{type:"button",className:Je("ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",(y||de.fixed)&&"hidden"),onKeyDown:De=>{De.key==="Enter"&&K(de)},onMouseDown:De=>{De.preventDefault(),De.stopPropagation()},onClick:()=>K(de),children:n.jsx(vo,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},de.value)),n.jsx(Xa.Input,{...T,ref:O,value:q,disabled:y,onValueChange:de=>{var De;te(de),(De=T==null?void 0:T.onValueChange)==null||De.call(T,de)},onBlur:de=>{var De;I||B(!1),(De=T==null?void 0:T.onBlur)==null||De.call(T,de)},onFocus:de=>{var De;B(!0),(De=T==null?void 0:T.onFocus)==null||De.call(T,de)},placeholder:p&&L.length!==0?"":r,className:Je("flex-1 bg-transparent outline-none placeholder:text-muted-foreground",{"w-full":p,"px-3 py-2":L.length===0,"ml-1":L.length!==0},T==null?void 0:T.className)}),n.jsx("button",{type:"button",onClick:()=>{U(L.filter(de=>de.fixed)),t==null||t(L.filter(de=>de.fixed))},className:Je("absolute right-0 h-6 w-6 p-0",(D||y||L.length<1||L.filter(de=>de.fixed).length===L.length)&&"hidden"),children:n.jsx(vo,{})})]})}),n.jsx("div",{className:"relative",children:P&&n.jsx(ZB,{className:"absolute top-1 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",onMouseLeave:()=>{G(!1)},onMouseEnter:()=>{G(!0)},onMouseUp:()=>{var de;(de=O==null?void 0:O.current)==null||de.focus()},children:z?n.jsx(n.Fragment,{children:u}):n.jsxs(n.Fragment,{children:[ie(),Q(),!j&&n.jsx(jx,{value:"-",className:"hidden"}),Object.entries(xe).map(([de,De])=>n.jsx(JB,{heading:de,className:"h-full overflow-auto",children:n.jsx(n.Fragment,{children:De.map(Ne=>n.jsx(jx,{value:Ne.label,disabled:Ne.disable,onMouseDown:ot=>{ot.preventDefault(),ot.stopPropagation()},onSelect:()=>{if(L.length>=h){x==null||x(L.length);return}te("");const ot=[...L,Ne];U(ot),t==null||t(ot)},className:Je("cursor-pointer",Ne.disable&&"cursor-default text-muted-foreground"),children:Ne.label},Ne.value))})},de))]})})})]})});t$.displayName="MultipleSelector";const Uw=({currentPage:e,totalPages:t,totalRecords:r,recordsPerPage:s,onPageChange:a,onRecordsPerPageChange:i})=>{const o=r===0?0:(e-1)*s+1,l=Math.min(e*s,r);return g.useEffect(()=>{e>t&&t>0&&a(t)},[e,t,a]),n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3 gap-3",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",n.jsx("span",{className:"font-medium",children:o})," to"," ",n.jsx("span",{className:"font-medium",children:l})," of"," ",n.jsx("span",{className:"font-medium",children:r})," records"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Records per page:"}),n.jsxs(er,{value:(s==null?void 0:s.toString())||"10",onValueChange:u=>i(Number(u)),children:[n.jsx(rr,{className:"w-[70px] h-8",children:n.jsx(tr,{placeholder:`${s||10}`})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"5",children:"5"}),n.jsx(yt,{value:"10",children:"10"}),n.jsx(yt,{value:"20",children:"20"}),n.jsx(yt,{value:"50",children:"50"}),n.jsx(yt,{value:"100",children:"100"})]})]})]})]}),t>0&&n.jsx("div",{className:"flex justify-center md:justify-end w-full overflow-x-auto py-1",children:n.jsx(Q0,{children:n.jsxs(Z0,{children:[n.jsx(Vd,{children:n.jsx(J0,{onClick:()=>e>1&&a(e-1),className:e===1?"pointer-events-none opacity-50":"cursor-pointer"})}),t<=7?Array.from({length:t},(u,f)=>f+1).map(u=>n.jsx(Vd,{children:n.jsx(_m,{isActive:e===u,onClick:()=>a(u),children:u})},u)):n.jsxs(n.Fragment,{children:[n.jsx(Vd,{children:n.jsx(_m,{isActive:e===1,onClick:()=>a(1),children:"1"})}),e>3&&n.jsx(Vd,{children:n.jsx("span",{className:"px-4",children:"..."})}),Array.from({length:t},(u,f)=>f+1).filter(u=>u!==1&&u!==t&&(Math.abs(u-e)<2||e<=3&&u<=5||e>=t-2&&u>=t-4)).map(u=>n.jsx(Vd,{children:n.jsx(_m,{isActive:e===u,onClick:()=>a(u),children:u})},u)),e<t-2&&n.jsx(Vd,{children:n.jsx("span",{className:"px-4",children:"..."})}),n.jsx(Vd,{children:n.jsx(_m,{isActive:e===t,onClick:()=>a(t),children:t})})]}),n.jsx(Vd,{children:n.jsx(ep,{onClick:()=>e<t&&a(e+1),className:e>=t?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})};var M1={exports:{}},xpe=M1.exports,jR;function gpe(){return jR||(jR=1,function(e,t){(function(r,s){s()})(xpe,function(){function r(f,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function s(f,h,x){var p=new XMLHttpRequest;p.open("GET",f),p.responseType="blob",p.onload=function(){u(p.response,h,x)},p.onerror=function(){console.error("could not download file")},p.send()}function a(f){var h=new XMLHttpRequest;h.open("HEAD",f,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function i(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof xo=="object"&&xo.global===xo?xo:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(f,h,x){var p=o.URL||o.webkitURL,y=document.createElement("a");h=h||f.name||"download",y.download=h,y.rel="noopener",typeof f=="string"?(y.href=f,y.origin===location.origin?i(y):a(y.href)?s(f,h,x):i(y,y.target="_blank")):(y.href=p.createObjectURL(f),setTimeout(function(){p.revokeObjectURL(y.href)},4e4),setTimeout(function(){i(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,h,x){if(h=h||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(r(f,x),h);else if(a(f))s(f,h,x);else{var p=document.createElement("a");p.href=f,p.target="_blank",setTimeout(function(){i(p)})}}:function(f,h,x,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof f=="string")return s(f,h,x);var y=f.type==="application/octet-stream",N=/constructor/i.test(o.HTMLElement)||o.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||y&&N||l)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var A=w.result;A=b?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=A:location=A,p=null},w.readAsDataURL(f)}else{var j=o.URL||o.webkitURL,S=j.createObjectURL(f);p?p.location=S:location.href=S,p=null,setTimeout(function(){j.revokeObjectURL(S)},4e4)}});o.saveAs=u.saveAs=u,e.exports=u})}(M1)),M1.exports}var ype=gpe();const vpe=Tr.object({newPassword:Tr.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Tr.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),bpe=({userId:e,isOpen:t,onClose:r})=>{const[s,a]=g.useState(""),[i,o]=g.useState(""),l=Gr({mutationFn:f=>zi(`/users/${e}/password`,{password:f}),onSuccess:()=>{me.success("Password changed successfully!"),r()},onError:f=>{me.error(f.message||"Failed to change password. Please try again.")}}),u=f=>{var x;f.preventDefault();const h=vpe.safeParse({newPassword:s,confirmPassword:i});if(!h.success){const p=(x=h.error.errors[0])==null?void 0:x.message;me.error(p||"Validation failed");return}l.mutate(s)};return n.jsx(hs,{open:t,onOpenChange:r,children:n.jsxs(ms,{className:"sm:max-w-[425px]",children:[n.jsx(ps,{children:n.jsx(xs,{children:"Change Password"})}),n.jsxs("form",{onSubmit:u,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(Vn,{value:s,onChange:f=>a(f.target.value),required:!0,className:"w-full"}),n.jsx(Vn,{value:i,onChange:f=>o(f.target.value),required:!0,className:"w-full"})]}),n.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[n.jsx(he,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),n.jsx(he,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})};var Vw="Switch",[wpe,yPe]=zn(Vw),[Npe,jpe]=wpe(Vw),r$=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:u="on",onCheckedChange:f,form:h,...x}=e,[p,y]=g.useState(null),N=Ft(t,A=>y(A)),b=g.useRef(!1),w=p?h||!!p.closest("form"):!0,[j,S]=jo({prop:a,defaultProp:i??!1,onChange:f,caller:Vw});return n.jsxs(Npe,{scope:r,checked:j,disabled:l,children:[n.jsx(_t.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":i$(j),"data-disabled":l?"":void 0,disabled:l,value:u,...x,ref:N,onClick:dt(e.onClick,A=>{S(C=>!C),w&&(b.current=A.isPropagationStopped(),b.current||A.stopPropagation())})}),w&&n.jsx(a$,{control:p,bubbles:!b.current,name:s,value:u,checked:j,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});r$.displayName=Vw;var s$="SwitchThumb",n$=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=jpe(s$,r);return n.jsx(_t.span,{"data-state":i$(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});n$.displayName=s$;var Spe="SwitchBubbleInput",a$=g.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=g.useRef(null),l=Ft(o,i),u=Mw(r),f=bw(t);return g.useEffect(()=>{const h=o.current;if(!h)return;const x=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(x,"checked").set;if(u!==r&&y){const N=new Event("click",{bubbles:s});y.call(h,r),h.dispatchEvent(N)}},[u,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});a$.displayName=Spe;function i$(e){return e?"checked":"unchecked"}var Epe=r$,Ape=n$;function bb({className:e,...t}){return n.jsx(Epe,{"data-slot":"switch",className:Je("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(Ape,{"data-slot":"switch-thumb",className:Je("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Tpe=e=>e?e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):"",Cpe=ws({name:ct().min(1,"Name is required"),email:ct().email("Invalid email address"),password:ct().min(6,"Password must be at least 6 characters long").optional(),role:ct().min(1,"Role is required"),active:nl().optional()}),_pe=["VENDOR","AGENCY","ADMIN","MEMBER"],wb=({mode:e,userId:t,onSuccess:r,className:s})=>{const a=_pe,i=qn(),{id:o}=Ra(),l=t??o,{register:u,handleSubmit:f,setValue:h,watch:x,control:p,setError:y,formState:{errors:N}}=Js({resolver:en(Cpe)}),b=x("active");g.useEffect(()=>{e==="edit"&&l&&(async()=>{try{const D=await mt(`/users/${l}`);h("name",D.name),h("email",D.email),h("role",D.role),h("active",D.active)}catch{me.error("Failed to fetch user details")}})()},[l,e,h]);const w=Gr({mutationFn:T=>$r("/users",T),onSuccess:()=>{me.success("User created successfully"),i.invalidateQueries({queryKey:["users"]}),r==null||r()},onError:T=>{_u(T,y),T.message?me.error(T.message):me.error("Failed to create user")}}),j=Gr({mutationFn:T=>un(`/users/${l}`,T),onSuccess:()=>{me.success("User updated successfully"),i.invalidateQueries({queryKey:["users"]}),r==null||r()},onError:T=>{_u(T,y),T.message?me.error(T.message):me.error("Failed to update user")}}),S=T=>{e==="create"?w.mutate(T):j.mutate(T)},A=()=>{r&&r()};return n.jsx("div",{className:s,children:n.jsx(C,{})});function C(){return n.jsxs("form",{onSubmit:f(S),className:"space-y-7",children:[n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"name",children:"Full Name"}),n.jsx(tt,{id:"name",type:"text",...u("name")}),N.name&&n.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:N.name.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"email",children:"Email Address"}),n.jsx(tt,{id:"email",type:"email",...u("email")}),N.email&&n.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:N.email.message})]}),e==="create"&&n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"password",children:"Password"}),n.jsx(Vn,{id:"password",...u("password")}),N.password&&n.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:N.password.message})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"role",children:"Role"}),n.jsx(Ur,{name:"role",control:p,render:({field:T})=>n.jsxs(er,{value:T.value,onValueChange:T.onChange,children:[n.jsx(rr,{children:n.jsx(tr,{})}),n.jsx(sr,{children:a.map(D=>n.jsxs(yt,{value:D,children:[Tpe(D)," "]},D))})]})}),N.role&&n.jsx("span",{className:"text-red-500 text-[10px] absolute bottom-0 translate-y-[105%]",children:N.role.message})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Te,{htmlFor:"active",children:"Active"}),n.jsx(bb,{id:"active",checked:b,onCheckedChange:T=>h("active",T)})]})]}),n.jsxs("div",{className:"justify-end flex gap-4",children:[n.jsx(he,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),n.jsx(he,{type:"submit",disabled:w.isPending||j.isPending,className:"flex items-center justify-center gap-2",children:w.isPending||j.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"animate-spin h-4 w-4"}),"Saving..."]}):e==="create"?"Create":"Update"})]})]})}},kpe=({isOpen:e,onClose:t})=>n.jsx(hs,{open:e,onOpenChange:t,children:n.jsxs(ms,{className:"sm:max-w-[600px]",children:[n.jsx(ps,{children:n.jsx(xs,{children:"Create New User"})}),n.jsx(wb,{mode:"create",onSuccess:t,className:"mt-4"})]})}),Dpe=({isOpen:e,onClose:t,userId:r})=>n.jsx(hs,{open:e,onOpenChange:t,children:n.jsxs(ms,{className:"sm:max-w-[600px]",children:[n.jsx(ps,{children:n.jsx(xs,{children:"Edit User"})}),n.jsx(wb,{mode:"edit",userId:r,onSuccess:t,className:"mt-4"})]})}),Ope=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "),Rpe=async(e,t,r,s,a,i,o)=>{const l=i.length>0?`&roles=${i.join(",")}`:"";return await mt(`/users?page=${e}&sortBy=${t}&sortOrder=${r}&search=${s}&active=${a}${l}&limit=${o}`)},Ppe=()=>{const e=qn(),[t,r]=g.useState(1),[s,a]=g.useState(10),[i,o]=g.useState("name"),[l,u]=g.useState("asc"),[f,h]=g.useState(""),[x,p]=g.useState("all"),[y,N]=g.useState([]),[b,w]=g.useState([]),[j,S]=g.useState(!1),[A,C]=g.useState(!1),[T,D]=g.useState(null),[_,O]=g.useState(!1),[P,B]=g.useState(null),[I,G]=g.useState(!1),[z,ae]=g.useState(!1),[J,L]=g.useState(null);jr(),g.useEffect(()=>{(async()=>{})()},[]);const{data:U,isLoading:F,isError:X,refetch:q}=Br({queryKey:["users",t,i,l,f,x,y,s],queryFn:()=>Rpe(t,i,l,f,x,y,s)}),te=(U==null?void 0:U.users)||[],M=(U==null?void 0:U.totalPages)||1,W=(U==null?void 0:U.totalUsers)||0,K=Gr({mutationFn:ge=>Hn(`/users/${ge}`),onSuccess:()=>{me.success("User deleted successfully"),e.invalidateQueries(["users"])},onError:()=>{me.error("Failed to delete user")}}),V=ge=>{B(ge),O(!0)},Q=()=>{P&&(K.mutate(P),O(!1),B(null))},ie=Gr({mutationFn:({userId:ge,active:Me})=>zi(`/users/${ge}/status`,{active:Me}),onSuccess:()=>{me.success("User status updated successfully"),e.invalidateQueries(["users"])},onError:()=>{me.error("Failed to update user status")}}),xe=(ge,Me)=>{ie.mutate({userId:ge,active:!Me})},ue=ge=>{i===ge?u(l==="asc"?"desc":"asc"):(o(ge),u("asc"))},de=ge=>{h(ge.target.value),r(1)},De=ge=>{p(ge),r(1)},Ne=ge=>{N(ge.map(Me=>Me.value)),r(1)},ot=async()=>{try{const ge=y.length>0?`roles=${encodeURIComponent(y.join(","))}`:"",xt=`/users?${[`sortBy=${encodeURIComponent(i)}`,`sortOrder=${encodeURIComponent(l)}`,`search=${encodeURIComponent(f)}`,`active=${encodeURIComponent(x)}`,ge,"export=true"].filter(Boolean).join("&")}`,jt=await mt(xt,null,{responseType:"blob"}),fe=new Blob([jt.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});ype.saveAs(fe,"users.xlsx"),me.success("User data exported successfully")}catch(ge){console.error("Export Error:",ge),me.error("Failed to export user data")}},Ee=ge=>{D(ge),C(!0)},Ae=()=>{D(null),C(!1)},Ye=ge=>{L(ge),ae(!0)},be=()=>{ae(!1),L(null)};return n.jsxs("div",{className:"mt-2 p-4 sm:p-6",children:[n.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"User Management"}),n.jsx(At,{className:"mx-auto mt-6 sm:mt-10",children:n.jsxs(Dt,{children:[n.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[n.jsx("div",{className:"flex-grow",children:n.jsx(tt,{value:f,onChange:de,className:"w-full",icon:n.jsx(Os,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(he,{variant:j||y.length>0||x!=="all"?"default":"outline",className:`
                  ${j||y.length>0||x!=="all"?"bg-primary hover:bg-primary/90 text-white shadow-sm":"hover:bg-accent"}
                  transition-all duration-200
                `,onClick:()=>S(!j),children:[n.jsx(Kg,{className:`mr-2 h-4 w-4 ${j?"text-white":""}`}),"Filters",(y.length>0||x!=="all")&&n.jsx("span",{className:"ml-2 bg-white text-primary font-medium rounded-full px-2 py-0.5 text-xs",children:y.length+(x!=="all"?1:0)})]}),n.jsxs(he,{variant:"outline",onClick:ot,disabled:F||te.length===0,children:[n.jsx(TT,{className:"mr-2 h-4 w-4"}),"Export"]}),n.jsxs(he,{onClick:()=>G(!0),className:"bg-primary hover:bg-primary/90 text-white shadow-sm transition-all duration-200 hover:shadow-md",children:[n.jsx(Zs,{className:"mr-2 h-5 w-5"}),"Add"]})]})]}),j&&n.jsx(At,{className:"p-4",children:n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),n.jsxs(er,{value:x,onValueChange:De,children:[n.jsx(rr,{children:n.jsx(tr,{})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"all",children:"All Users"}),n.jsx(yt,{value:"true",children:"Active Users"}),n.jsx(yt,{value:"false",children:"Inactive Users"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Roles"}),b.length>0?n.jsx(t$,{defaultOptions:b,selectedOptions:y.map(ge=>({label:Ope(ge),value:ge})),onChange:Ne}):n.jsxs("div",{className:"h-10 flex items-center text-gray-500",children:[n.jsx(Zx,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading roles..."]})]}),n.jsx("div",{className:"flex justify-end mt-7",children:n.jsx(he,{size:"sm",onClick:()=>{h(""),p("all"),N([]),r(1),S(!1)},children:"Clear Filters"})})]})}),n.jsx(k8,{className:"mb-4"}),F?n.jsx("div",{className:"flex justify-center items-center h-32",children:n.jsx(Zx,{className:"mr-2 h-8 w-8 animate-spin"})}):X?n.jsx("div",{className:"text-center text-red-500",children:"Failed to load users."}):te.length>0?n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsxs(Xt,{children:[n.jsx(Ke,{onClick:()=>ue("name"),className:"cursor-pointer",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Name"}),i==="name"&&n.jsx("span",{className:"ml-1",children:l==="asc"?n.jsx(kc,{size:16}):n.jsx(li,{size:16})})]})}),n.jsx(Ke,{onClick:()=>ue("email"),className:"cursor-pointer",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Email"}),i==="email"&&n.jsx("span",{className:"ml-1",children:l==="asc"?n.jsx(kc,{size:16}):n.jsx(li,{size:16})})]})}),n.jsx(Ke,{onClick:()=>ue("role"),className:"cursor-pointer",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Role"}),i==="role"&&n.jsx("span",{className:"ml-1",children:l==="asc"?n.jsx(kc,{size:16}):n.jsx(li,{size:16})})]})}),n.jsx(Ke,{onClick:()=>ue("lastLogin"),className:"cursor-pointer",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Last Login"}),i==="lastLogin"&&n.jsx("span",{className:"ml-1",children:l==="asc"?n.jsx(kc,{size:16}):n.jsx(li,{size:16})})]})}),n.jsx(Ke,{onClick:()=>ue("active"),className:"cursor-pointer",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:"Active"}),i==="active"&&n.jsx("span",{className:"ml-1",children:l==="asc"?n.jsx(kc,{size:16}):n.jsx(li,{size:16})})]})}),n.jsx(Ke,{children:"Actions"})]})}),n.jsx(Is,{children:te.map(ge=>n.jsxs(Xt,{children:[n.jsx(ze,{children:ge.name}),n.jsx(ze,{children:ge.email}),n.jsx(ze,{children:n.jsx(Pr,{variant:"outline",children:ge.role.split(" ").map(Me=>Me.charAt(0).toUpperCase()+Me.slice(1)).join(" ")})}),n.jsx(ze,{children:ge.lastLogin?Fme(ge.lastLogin):"Never"}),n.jsx(ze,{children:ge.active?n.jsx(Pr,{variant:"outline",children:"Active"}):n.jsx(Pr,{variant:"secondary",children:"Inactive"})}),n.jsx(ze,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(he,{variant:"outline",size:"sm",onClick:()=>Ye(ge.id.toString()),children:n.jsx(bi,{size:16})}),n.jsx(he,{variant:"destructive",size:"sm",onClick:()=>V(ge.id),children:n.jsx(fn,{size:16})}),n.jsxs(Y0,{modal:!1,children:[n.jsx(K0,{asChild:!0,children:n.jsxs(he,{variant:"ghost",className:"h-8 w-8 p-0",children:[n.jsx("span",{className:"sr-only",children:"Open menu"}),n.jsx(rw,{className:"h-4 w-4"})]})}),n.jsx(X0,{className:"w-56",children:n.jsxs(dC,{children:[n.jsx(Jn,{onClick:()=>xe(ge.id,ge.active),children:n.jsxs("div",{className:"flex items-center gap-2",children:[ge.active?n.jsx(Zo,{className:"h-4 w-4"}):n.jsx(rl,{className:"h-4 w-4"}),n.jsxs("span",{children:["Set ",ge.active?"Inactive":"Active"]})]})}),n.jsx(Jn,{onClick:()=>Ee(ge.id),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(II,{className:"h-4 w-4"}),n.jsx("span",{children:"Change Password"})]})})]})})]})]})})]},ge.id))})]}),n.jsx(Uw,{currentPage:t,totalPages:M,totalRecords:W,recordsPerPage:s,onPageChange:r,onRecordsPerPageChange:ge=>{a(ge),r(1)}})]}):n.jsx("div",{className:"text-center",children:"No users found."})]})}),T&&n.jsx(bpe,{userId:T,isOpen:A,onClose:Ae}),n.jsx(ty,{isOpen:_,title:"Confirm Deletion",description:"Are you sure you want to delete this user? This action cannot be undone.",onCancel:()=>{O(!1),B(null)},onConfirm:Q}),n.jsx(kpe,{isOpen:I,onClose:()=>G(!1)}),J&&n.jsx(Dpe,{isOpen:z,onClose:be,userId:J})]})},Mpe=ws({name:ct().min(1,"Name is required"),email:ct().email("Invalid email address"),mobile:ct().optional().refine(e=>!e||/^\d{10,15}$/.test(e),{message:"Mobile number must be 10-15 digits if provided."})}),Ipe=()=>{const{memberId:e}=Ra(),t=jr(),r=qn(),{register:s,handleSubmit:a,setValue:i,setError:o,formState:{errors:l,isSubmitting:u}}=Js({resolver:en(Mpe)});g.useEffect(()=>{e&&(async()=>{var p,y;try{const N=await mt(`/admin/users/${e}`);i("name",N.name),i("email",N.email),N.mobile&&i("mobile",N.mobile.toString())}catch(N){me.error(((y=(p=N.response)==null?void 0:p.data)==null?void 0:y.message)||"Failed to fetch member details"),t("/admin/members")}})()},[e,i,t]);const f=Gr({mutationFn:x=>un(`/admin/users/${e}`,x),onSuccess:()=>{me.success("Member details updated successfully"),r.invalidateQueries({queryKey:["admin-members-list"]}),r.invalidateQueries({queryKey:["user",e]}),t("/admin/members")},onError:x=>{var p,y;_u(x,o),me.error(((y=(p=x.response)==null?void 0:p.data)==null?void 0:y.message)||"Failed to update member details")}}),h=x=>{f.mutate(x)};return n.jsx("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8 flex justify-center",children:n.jsxs(At,{className:"w-full ",children:[n.jsx(Mt,{children:n.jsx(Zt,{children:"Edit Member Details "})}),n.jsxs("form",{onSubmit:a(h),children:[n.jsxs(Dt,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"name",children:"Full Name"}),n.jsx(tt,{id:"name",type:"text",...s("name")}),l.name&&n.jsx("span",{className:"text-red-500 text-sm mt-1",children:l.name.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"email",children:"Email Address"}),n.jsx(tt,{id:"email",type:"email",...s("email")}),l.email&&n.jsx("span",{className:"text-red-500 text-sm mt-1",children:l.email.message})]})]}),n.jsxs(xh,{className:"flex justify-end gap-4 pt-6",children:[n.jsx(he,{type:"button",variant:"outline",onClick:()=>t("/admin/members"),disabled:u||f.isPending,children:"Cancel"}),n.jsx(he,{type:"submit",disabled:u||f.isPending,className:"flex items-center justify-center gap-2",children:u||f.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"animate-spin h-4 w-4"}),"Saving..."]}):"Update Customer"})]})]})]})})},Fpe=Tr.object({newPassword:Tr.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Tr.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),Lpe=({userId:e,isOpen:t,onClose:r})=>{const[s,a]=g.useState(""),[i,o]=g.useState(""),l=Gr({mutationFn:f=>zi(`/users/${e}/password`,{password:f}),onSuccess:()=>{me.success("Password changed successfully!"),r()},onError:f=>{me.error(f.message||"Failed to change password. Please try again.")}}),u=f=>{var x;f.preventDefault();const h=Fpe.safeParse({newPassword:s,confirmPassword:i});if(!h.success){const p=(x=h.error.errors[0])==null?void 0:x.message;me.error(p||"Validation failed");return}l.mutate(s)};return n.jsx(hs,{open:t,onOpenChange:r,children:n.jsxs(ms,{className:"sm:max-w-[425px]",children:[n.jsx(ps,{children:n.jsx(xs,{children:"Change Password"})}),n.jsxs("form",{onSubmit:u,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(Vn,{value:s,onChange:f=>a(f.target.value),required:!0,className:"w-full"}),n.jsx(Vn,{value:i,onChange:f=>o(f.target.value),required:!0,className:"w-full"})]}),n.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[n.jsx(he,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),n.jsx(he,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})},Bpe=async(e,t,r,s,a,i)=>{const o=await mt(`/vendors?page=${e}&sortBy=${t}&sortOrder=${r}&search=${s}&active=${a}&limit=${i}`);return Array.isArray(o),o},$pe=()=>{const e=qn(),t=jr(),[r,s]=g.useState(1),[a,i]=g.useState(10),[o,l]=g.useState("name"),[u,f]=g.useState("asc"),[h,x]=g.useState(""),[p,y]=g.useState("all"),[N,b]=g.useState(!1),[w,j]=g.useState(!1),[S,A]=g.useState(null),[C,T]=g.useState(!1),[D,_]=g.useState(null),{data:O,isLoading:P,isError:B,error:I}=Br({queryKey:["vendors",r,o,u,h,p,a],queryFn:()=>Bpe(r,o,u,h,p,a),placeholderData:V=>V}),G=Array.isArray(O)?O:(O==null?void 0:O.data)||[],z=Array.isArray(O)?Math.ceil(O.length/a):(O==null?void 0:O.totalPages)||1,ae=Array.isArray(O)?O.length:(O==null?void 0:O.totalRecords)||0,J=Gr({mutationFn:V=>Hn(`/vendors/${V}`),onSuccess:()=>{me.success("Vendor deleted successfully."),e.invalidateQueries({queryKey:["vendors"]}),T(!1),_(null)},onError:V=>{me.error(`Failed to delete vendor: ${V.message}`),T(!1)}}),L=Gr({mutationFn:({vendorUserId:V,active:Q})=>zi(`/users/${V}/status`,{active:Q}),onSuccess:(V,Q)=>{me.success(`Vendor user status updated to ${Q.active?"Active":"Inactive"}.`),e.invalidateQueries({queryKey:["vendors"]})},onError:V=>{me.error(`Failed to update status: ${V.message}`)}}),U=V=>{o===V?f(u==="asc"?"desc":"asc"):(l(V),f("asc")),s(1)},F=V=>{x(V.target.value),s(1)},X=V=>{y(V),s(1)},q=()=>{A(null),j(!1),e.invalidateQueries({queryKey:["vendors"]})},te=V=>{_(V),T(!0)},M=()=>{D&&J.mutate(D)},W=V=>{V.user&&V.user.id?L.mutate({vendorUserId:V.user.id,active:!V.user.active}):me.error("User information not available for this vendor.")};if(P)return n.jsxs("div",{className:"flex justify-center items-center h-64",children:[n.jsx(Zx,{className:"h-8 w-8 animate-spin text-primary"}),n.jsx("p",{className:"ml-2 text-lg",children:"Loading vendors..."})]});if(B)return n.jsx("div",{className:"text-center py-10",children:n.jsxs("p",{className:"text-red-500 text-lg",children:["Error loading vendors: ",I==null?void 0:I.message]})});const K=V=>o===V?u==="asc"?n.jsx(kc,{size:16}):n.jsx(li,{size:16}):null;return n.jsxs("div",{className:"container mx-auto py-4 px-2 sm:px-4 md:px-6 lg:px-8",children:[n.jsxs(At,{className:"shadow-lg",children:[n.jsx(Mt,{className:"bg-muted/50 p-4 sm:p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[n.jsxs("div",{children:[n.jsx(Zt,{className:"text-2xl font-semibold",children:"Vendors"}),n.jsx(mi,{className:"mt-1 text-sm text-muted-foreground",children:"Manage your vendors and their details."})]}),n.jsxs("div",{className:"mt-3 sm:mt-0 flex flex-col sm:flex-row gap-2",children:[n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>b(!N),className:"w-full sm:w-auto",children:[n.jsx(Kg,{size:16,className:"mr-2"}),N?"Hide":"Show"," Filters"]}),n.jsxs(he,{size:"sm",onClick:()=>t("/admin/vendors/create"),className:"w-full sm:w-auto bg-green-600 hover:bg-primary text-white",children:[n.jsx(Zs,{size:16,className:"mr-2"}),"Add Vendor"]})]})]})}),n.jsxs(Dt,{className:"p-0",children:[N&&n.jsx("div",{className:"p-4 sm:p-6 border-b bg-slate-50",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 items-end",children:[n.jsxs("div",{className:"flex-grow",children:[n.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Vendors"}),n.jsxs("div",{className:"relative",children:[n.jsx(tt,{id:"search",type:"text",value:h,onChange:F,className:"pl-10"}),n.jsx(Os,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"activeFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"User Status"}),n.jsxs(er,{value:p,onValueChange:X,children:[n.jsx(rr,{id:"activeFilter",children:n.jsx(tr,{})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"all",children:"All Users"}),n.jsx(yt,{value:"true",children:"Active Users"}),n.jsx(yt,{value:"false",children:"Inactive Users"})]})]})]})]})}),G.length>0?n.jsx("div",{className:"overflow-x-auto px-4",children:n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsxs(Xt,{children:[n.jsx(Ke,{className:"pl-6 cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>U("name"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Vendor Name ",K("name")]})}),n.jsx(Ke,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>U("contactPersonName"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Contact Person ",K("contactPersonName")]})}),n.jsx(Ke,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>U("email"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Email ",K("email")]})}),n.jsx(Ke,{className:"w-[130px]",children:"Mobile"}),n.jsx(Ke,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px]",onClick:()=>U("city"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["City ",K("city")]})}),n.jsx(Ke,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px] text-center",onClick:()=>U("user.active"),children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:["User Active ",K("user.active")]})}),n.jsx(Ke,{className:"w-[150px] text-center pr-6",children:"Actions"})]})}),n.jsx(Is,{children:G.map(V=>n.jsxs(Xt,{className:"hover:bg-muted/50 transition-colors",children:[n.jsx(ze,{className:"font-medium",children:V.name}),n.jsx(ze,{children:V.contactPersonName||"N/A"}),n.jsx(ze,{children:V.email}),n.jsx(ze,{children:V.mobile}),n.jsx(ze,{children:V.city}),n.jsx(ze,{className:"text-center",children:V.user?n.jsx(Pr,{variant:V.user.active?"default":"destructive",children:V.user.active?"Active":"Inactive"}):n.jsx(Pr,{variant:"outline",children:"No User"})}),n.jsx(ze,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[n.jsx(he,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>t(`/admin/vendors/edit/${V.id}`),title:"Edit Vendor",children:n.jsx(bi,{size:16})}),n.jsx(he,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>te(V.id),title:"Delete Vendor",children:n.jsx(fn,{size:16})}),V.user&&n.jsx(he,{variant:"outline",size:"icon",className:"h-8 w-8 ml-2",onClick:()=>W(V),disabled:L.isPending,title:V.user.active?"Deactivate Vendor User":"Activate Vendor User",children:V.user.active?n.jsx(Zo,{size:16,className:"text-red-500"}):n.jsx(rl,{size:16,className:"text-green-500"})})]})})]},V.id))})]})}):n.jsxs("div",{className:"text-center py-10 px-4",children:[n.jsx(Os,{size:48,className:"mx-auto text-gray-400 mb-3"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"No vendors found."}),n.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search or filter criteria, or add a new vendor."})]})]}),G.length>0&&n.jsx(xh,{className:"px-4 py-3 border-t",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsx(Uw,{currentPage:r,totalPages:z,totalRecords:ae,recordsPerPage:a,onPageChange:s,onRecordsPerPageChange:V=>{i(V),s(1)}})})})]}),S&&n.jsx(Lpe,{userId:S,isOpen:w,onClose:q}),n.jsx(ty,{isOpen:C,title:"Confirm Deletion",description:"Are you sure you want to delete this vendor? This action cannot be undone and might affect related records.",onCancel:()=>{T(!1),_(null)},onConfirm:M,confirmLabel:"Delete Vendor"})]})},Upe=Tr.object({newPassword:Tr.string().min(6,"Password must be at least 6 characters long").min(1,"New Password is required"),confirmPassword:Tr.string().min(1,"Confirm Password is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),Vpe=({userId:e,isOpen:t,onClose:r})=>{const[s,a]=g.useState(""),[i,o]=g.useState(""),l=Gr({mutationFn:f=>zi(`/users/${e}/password`,{password:f}),onSuccess:()=>{me.success("Password changed successfully!"),r()},onError:f=>{me.error(f.message||"Failed to change password. Please try again.")}}),u=f=>{var x;f.preventDefault();const h=Upe.safeParse({newPassword:s,confirmPassword:i});if(!h.success){const p=(x=h.error.errors[0])==null?void 0:x.message;me.error(p||"Validation failed");return}l.mutate(s)};return n.jsx(hs,{open:t,onOpenChange:r,children:n.jsxs(ms,{className:"sm:max-w-[425px]",children:[n.jsx(ps,{children:n.jsx(xs,{children:"Change Password"})}),n.jsxs("form",{onSubmit:u,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(Vn,{value:s,onChange:f=>a(f.target.value),required:!0,className:"w-full"}),n.jsx(Vn,{value:i,onChange:f=>o(f.target.value),required:!0,className:"w-full"})]}),n.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[n.jsx(he,{variant:"secondary",onClick:r,disabled:l.isPending,children:"Cancel"}),n.jsx(he,{type:"submit",disabled:l.isPending,children:l.isPending?"Changing...":"Change Password"})]})]})]})})},qpe=async(e,t,r,s,a,i)=>{const o=await mt(`/agencies?page=${e}&sortBy=${t}&sortOrder=${r}&search=${s}&active=${a}&limit=${i}`);return Array.isArray(o),o},zpe=()=>{const e=qn(),t=jr(),[r,s]=g.useState(1),[a,i]=g.useState(10),[o,l]=g.useState("name"),[u,f]=g.useState("asc"),[h,x]=g.useState(""),[p,y]=g.useState("all"),[N,b]=g.useState(!1),[w,j]=g.useState(!1),[S,A]=g.useState(null),[C,T]=g.useState(!1),[D,_]=g.useState(null),{data:O,isLoading:P,isError:B,error:I}=Br({queryKey:["agencies",r,o,u,h,p,a],queryFn:()=>qpe(r,o,u,h,p,a),placeholderData:ue=>ue}),G=Array.isArray(O)?O:(O==null?void 0:O.data)||[],z=Array.isArray(O)?Math.ceil(O.length/a):(O==null?void 0:O.totalPages)||1,ae=Array.isArray(O)?O.length:(O==null?void 0:O.totalRecords)||0,J=Gr({mutationFn:ue=>Hn(`/agencies/${ue}`),onSuccess:()=>{me.success("Agency deleted successfully."),e.invalidateQueries({queryKey:["agencies"]}),T(!1),_(null)},onError:ue=>{me.error(`Failed to delete agency: ${ue.message}`),T(!1)}}),L=Gr({mutationFn:({agencyUserId:ue,active:de})=>zi(`/users/${ue}/status`,{active:de}),onSuccess:(ue,de)=>{me.success(`Agency user status updated to ${de.active?"Active":"Inactive"}.`),e.invalidateQueries({queryKey:["agencies"]})},onError:ue=>{me.error(`Failed to update status: ${ue.message}`)}}),U=ue=>{o===ue?f(u==="asc"?"desc":"asc"):(l(ue),f("asc")),s(1)},F=ue=>{x(ue.target.value),s(1)},X=ue=>{y(ue),s(1)},q=ue=>{A(ue),j(!0)},te=()=>{A(null),j(!1),e.invalidateQueries({queryKey:["agencies"]})},M=ue=>{_(ue),T(!0)},W=()=>{D&&J.mutate(D)},K=ue=>{ue.user&&L.mutate({agencyUserId:ue.user.id,active:!ue.user.active})},V=ue=>o===ue?u==="asc"?n.jsx(kc,{size:16}):n.jsx(li,{size:16}):null,[Q,ie]=g.useState({isOpen:!1,title:"",description:"",confirmButtonText:"",onConfirm:null}),xe=ue=>{s(ue)};return B&&I instanceof Error?n.jsx("div",{className:"p-4 text-red-600",children:n.jsxs("p",{children:["Error loading agencies: ",I.message]})}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs(At,{className:"shadow-md",children:[n.jsx(Mt,{className:"pb-2",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(Zt,{className:"text-2xl",children:"Delivery Agencies"}),n.jsx(mi,{children:"Manage your delivery agencies and their details."})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(he,{size:"sm",variant:"outline",onClick:()=>b(!N),className:"w-full sm:w-auto",children:[n.jsx(Kg,{size:16,className:"mr-2"}),N?"Hide Filters":"Show Filters"]}),n.jsxs(he,{size:"sm",onClick:()=>t("/admin/agencies/create"),className:"w-full sm:w-auto bg-green-600 hover:bg-primary text-white",children:[n.jsx(Zs,{size:16,className:"mr-2"}),"Add Delivery Agency"]})]})]})}),n.jsxs(Dt,{children:[N&&n.jsx("div",{className:"bg-muted/30 p-4 rounded-md mb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Os,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(tt,{value:h,onChange:F,className:"pl-8"})]})]}),n.jsxs("div",{className:"w-full sm:w-48",children:[n.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),n.jsxs(er,{value:p,onValueChange:X,children:[n.jsx(rr,{children:n.jsx(tr,{})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"all",children:"All Users"}),n.jsx(yt,{value:"true",children:"Active Users"}),n.jsx(yt,{value:"false",children:"Inactive Users"})]})]})]})]})}),G.length>0?n.jsx("div",{className:"overflow-x-auto px-4",children:n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsxs(Xt,{children:[n.jsx(Ke,{className:"pl-6 cursor-pointer hover:bg-muted/80 transition-colors w-[200px]",onClick:()=>U("name"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Delivery Agency Name ",V("name")]})}),n.jsx(Ke,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>U("mobile"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Mobile ",V("mobile")]})}),n.jsx(Ke,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[180px]",onClick:()=>U("email"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Email ",V("email")]})}),n.jsx(Ke,{className:"w-[130px]",children:"Mobile"}),n.jsx(Ke,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px]",onClick:()=>U("city"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["City ",V("city")]})}),n.jsx(Ke,{className:"cursor-pointer hover:bg-muted/80 transition-colors w-[120px] text-center",onClick:()=>U("user.active"),children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:["User Active ",V("user.active")]})}),n.jsx(Ke,{className:"w-[150px] text-center pr-6",children:"Actions"})]})}),n.jsx(Is,{children:G.map(ue=>{var de;return n.jsxs(Xt,{children:[n.jsx(ze,{className:"font-medium",children:ue.name}),n.jsx(ze,{children:ue.mobile}),n.jsx(ze,{children:ue.email}),n.jsx(ze,{children:ue.mobile}),n.jsx(ze,{children:ue.city}),n.jsx(ze,{className:"text-center",children:ue.user&&n.jsx(Pr,{variant:ue.user.active?"default":"destructive",className:"inline-flex items-center justify-center",children:ue.user.active?n.jsxs(n.Fragment,{children:[n.jsx(rl,{size:14,className:"mr-1"})," Active"]}):n.jsxs(n.Fragment,{children:[n.jsx(Zo,{size:14,className:"mr-1"})," Inactive"]})})}),n.jsx(ze,{children:n.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[n.jsx(he,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>t(`/admin/agencies/edit/${ue.id}`),title:"Edit Agency",children:n.jsx(bi,{size:16})}),n.jsx(he,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>M(ue.id),title:"Delete Agency",children:n.jsx(fn,{size:16})}),n.jsxs(Y0,{modal:!1,children:[n.jsx(K0,{asChild:!0,children:n.jsx(he,{variant:"ghost",size:"icon",className:"h-8 w-8",children:n.jsx(rw,{size:16})})}),n.jsx(X0,{align:"end",children:n.jsxs(dC,{children:[n.jsx(Jn,{onClick:()=>K(ue),disabled:!ue.user||L.isPending,children:(de=ue.user)!=null&&de.active?n.jsxs(n.Fragment,{children:[n.jsx(Zo,{size:16,className:"mr-2 text-red-500"})," Set Inactive"]}):n.jsxs(n.Fragment,{children:[n.jsx(rl,{size:16,className:"mr-2 text-green-500"})," Set Active"]})}),ue.user&&n.jsxs(Jn,{onClick:()=>q(ue.user.id),children:[n.jsx(II,{size:16,className:"mr-2 text-amber-500"})," Change Password"]})]})})]})]})})]},ue.id)})})]})}):P?n.jsx("div",{className:"flex justify-center items-center py-24",children:n.jsx(Zx,{size:30,className:"animate-spin"})}):n.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-center",children:[n.jsxs("div",{className:"mb-3 text-muted-foreground",children:[n.jsx(Os,{size:40,className:"mx-auto mb-2"}),n.jsx("h3",{className:"text-lg font-semibold",children:"No Delivery Agencies found"})]}),n.jsx("p",{className:"mb-6 text-muted-foreground max-w-sm",children:h?"Try a different search term or clear filters":"Get started by adding your first Delivery Agency"}),n.jsxs(he,{onClick:()=>t("/admin/agencies/create"),className:"bg-green-600 hover:bg-primary text-white",children:[n.jsx(Zs,{size:16,className:"mr-2"}),"Add Delivery Agency"]})]}),G.length>0&&n.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between items-center",children:[n.jsxs("div",{className:"mb-4 sm:mb-0 text-sm text-muted-foreground",children:["Showing ",G.length>0?(r-1)*a+1:0," to"," ",Math.min(r*a,ae)," of ",ae," records"]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm whitespace-nowrap",children:"Records per page:"}),n.jsxs(er,{value:a.toString(),onValueChange:ue=>{i(Number(ue)),s(1)},children:[n.jsx(rr,{className:"h-8 w-[70px]",children:n.jsx(tr,{placeholder:a.toString()})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"5",children:"5"}),n.jsx(yt,{value:"10",children:"10"}),n.jsx(yt,{value:"20",children:"20"}),n.jsx(yt,{value:"50",children:"50"})]})]})]}),z>1&&n.jsx(Uw,{currentPage:r,totalPages:z,onPageChange:xe})]})]})]})]}),S&&n.jsx(Vpe,{isOpen:w,userId:S,onClose:te}),n.jsx(ty,{isOpen:C,title:"Delete Delivery Agency",description:"Are you sure you want to delete this delivery agency? This action cannot be undone.",onCancel:()=>{T(!1),_(null)},onConfirm:W,confirmLabel:"Delete Delivery Agency"})]})};var qw="Checkbox",[Hpe,vPe]=zn(qw),[Wpe,Gpe]=Hpe(qw),o$=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:u="on",onCheckedChange:f,form:h,...x}=e,[p,y]=g.useState(null),N=Ft(t,C=>y(C)),b=g.useRef(!1),w=p?h||!!p.closest("form"):!0,[j,S]=jo({prop:a,defaultProp:i??!1,onChange:f,caller:qw}),A=g.useRef(j);return g.useEffect(()=>{const C=p==null?void 0:p.form;if(C){const T=()=>S(A.current);return C.addEventListener("reset",T),()=>C.removeEventListener("reset",T)}},[p,S]),n.jsxs(Wpe,{scope:r,state:j,disabled:l,children:[n.jsx(_t.button,{type:"button",role:"checkbox","aria-checked":vu(j)?"mixed":j,"aria-required":o,"data-state":u$(j),"data-disabled":l?"":void 0,disabled:l,value:u,...x,ref:N,onKeyDown:dt(e.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:dt(e.onClick,C=>{S(T=>vu(T)?!0:!T),w&&(b.current=C.isPropagationStopped(),b.current||C.stopPropagation())})}),w&&n.jsx(d$,{control:p,bubbles:!b.current,name:s,value:u,checked:j,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:vu(i)?!1:i})]})});o$.displayName=qw;var l$="CheckboxIndicator",c$=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=Gpe(l$,r);return n.jsx(Dn,{present:s||vu(i.state)||i.state===!0,children:n.jsx(_t.span,{"data-state":u$(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});c$.displayName=l$;var Ype="CheckboxBubbleInput",d$=g.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:s=!0,defaultChecked:a,...i},o)=>{const l=g.useRef(null),u=Ft(l,o),f=Mw(r),h=bw(t);g.useEffect(()=>{const p=l.current;if(!p)return;const y=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==r&&b){const w=new Event("click",{bubbles:s});p.indeterminate=vu(r),b.call(p,vu(r)?!1:r),p.dispatchEvent(w)}},[f,r,s]);const x=g.useRef(vu(r)?!1:r);return n.jsx(_t.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??x.current,...i,tabIndex:-1,ref:u,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});d$.displayName=Ype;function vu(e){return e==="indeterminate"}function u$(e){return vu(e)?"indeterminate":e?"checked":"unchecked"}var Kpe=o$,Xpe=c$;function Du({className:e,...t}){return n.jsx(Kpe,{"data-slot":"checkbox",className:Je("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(Xpe,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:n.jsx(io,{className:"size-3.5"})})})}const zC=ws({name:ct().min(1,"Vendor name is required"),contactPersonName:ct().min(1,"Contact person's name is required").optional(),email:ct().optional().nullable(),mobile:ct().regex(/^\d{10}$/,"Mobile number must be 10 digits"),alternateMobile:HI([Um(""),ct().regex(/^\d{10}$/,"Alternate mobile must be 10 digits")]).nullable().optional(),address1:ct().min(1,"Address Line 1 is required"),address2:ct().nullable().optional(),city:ct().optional().nullable(),pincode:Ln.number().int("Pincode must be an integer").positive("Pincode must be positive").refine(e=>String(e).length===6,"Pincode must be 6 digits"),isDairySupplier:nl().optional()}),Qpe=ws({userLoginEmail:ct().email("Invalid login email for user"),userPassword:ct().min(6,"Password must be at least 6 characters")});zC.extend({userFullName:ct().optional(),userLoginEmail:ct().email().optional(),userPassword:ct().optional()});const Zpe=zC.merge(Qpe),Jpe=zC,f$=({mode:e,vendorId:t,onSuccess:r,initialData:s,className:a})=>{const i=qn(),{register:o,handleSubmit:l,setValue:u,setError:f,formState:{errors:h,isSubmitting:x},control:p}=Js({mode:"onChange",resolver:en(e==="create"?Zpe:Jpe),defaultValues:s||{name:"",contactPersonName:"",email:"",mobile:"",alternateMobile:null,address1:"",address2:null,city:"",pincode:void 0,isDairySupplier:!1,...e==="create"?{userFullName:"",userLoginEmail:"",userPassword:""}:{}}});g.useEffect(()=>{e==="edit"&&t&&!s?(async()=>{try{const w=await mt(`/vendors/${t}`);u("name",w.name),u("contactPersonName",w.contactPersonName||""),u("mobile",w.mobile),u("alternateMobile",w.alternateMobile||null),u("address1",w.address1),u("address2",w.address2||null),u("city",w.city),u("pincode",w.pincode),u("email",w.email),u("isDairySupplier",w.isDairySupplier||!1)}catch{me.error("Failed to fetch vendor details")}})():s&&Object.keys(s).forEach(b=>{const w=s[b];u(b,w)})},[t,e,u,s]);const y=Gr({mutationFn:b=>{if(e==="create"){const w={vendorName:b.name,contactPersonName:b.contactPersonName,vendorContactEmail:b.email,mobile:b.mobile,alternateMobile:b.alternateMobile,address1:b.address1,address2:b.address2,city:b.city,pincode:b.pincode,isDairySupplier:b.isDairySupplier,userFullName:b.name,userLoginEmail:b.userLoginEmail,userPassword:b.userPassword,role:"VENDOR"};return $r("/vendors",w)}else{const{userFullName:w,userLoginEmail:j,userPassword:S,...A}=b,C={name:A.name,contactPersonName:A.contactPersonName,email:A.email,mobile:A.mobile,alternateMobile:A.alternateMobile,address1:A.address1,address2:A.address2,city:A.city,pincode:A.pincode,isDairySupplier:A.isDairySupplier};return un(`/vendors/${t}`,C)}},onSuccess:()=>{me.success(`Vendor ${e==="create"?"created (with user)":"updated"} successfully`),i.invalidateQueries({queryKey:["vendors"]}),i.invalidateQueries({queryKey:["users"]}),t&&e==="edit"&&i.invalidateQueries({queryKey:["vendor",t]}),r==null||r()},onError:b=>{var j,S;_u(b,f);const w=`Failed to ${e} vendor.`;me.error(((S=(j=b==null?void 0:b.response)==null?void 0:j.data)==null?void 0:S.message)||b.message||w)}}),N=b=>{y.mutate(b)};return n.jsxs("form",{onSubmit:l(N),className:`space-y-6 ${a}`,children:[n.jsx("div",{className:"border-b pb-4 mb-4 mt-6",children:n.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Vendor Details"})}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"name",children:"Vendor Company Name"}),n.jsx(tt,{id:"name",type:"text",...o("name"),disabled:x}),h.name&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.name.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"contactPersonName",children:"Contact Person Name"}),n.jsx(tt,{id:"contactPersonName",type:"text",...o("contactPersonName"),disabled:x}),h.contactPersonName&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.contactPersonName.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"email",children:"Contact Person Email"}),n.jsx(tt,{id:"email",type:"email",...o("email"),disabled:x}),h.email&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.email.message})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"mobile",children:"Mobile Number"}),n.jsx(tt,{id:"mobile",type:"tel",...o("mobile"),disabled:x}),h.mobile&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.mobile.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"alternateMobile",children:"Alternate Mobile (Optional)"}),n.jsx(tt,{id:"alternateMobile",type:"tel",...o("alternateMobile"),disabled:x}),h.alternateMobile&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.alternateMobile.message})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"address1",children:"Address Line 1"}),n.jsx(tt,{id:"address1",type:"text",...o("address1"),disabled:x}),h.address1&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.address1.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"address2",children:"Address Line 2 (Optional)"}),n.jsx(tt,{id:"address2",type:"text",...o("address2"),disabled:x}),h.address2&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.address2.message})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"city",children:"City"}),n.jsx(tt,{id:"city",type:"text",...o("city"),disabled:x}),h.city&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.city.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"pincode",children:"Pincode"}),n.jsx(tt,{id:"pincode",type:"number",...o("pincode"),disabled:x}),h.pincode&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.pincode.message})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 my-4",children:[n.jsx(Ur,{name:"isDairySupplier",control:p,render:({field:b})=>n.jsx(Du,{id:"isDairySupplier",checked:b.value,onCheckedChange:b.onChange,disabled:x})}),n.jsx(Te,{htmlFor:"isDairySupplier",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Is Dairy Supplier?"}),h.isDairySupplier&&n.jsx("span",{className:"text-red-500 text-xs",children:h.isDairySupplier.message})]}),e==="create"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b pb-4 mb-4",children:n.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Details"})}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"userLoginEmail",children:"Login Email"}),n.jsx(tt,{id:"userLoginEmail",type:"email",...o("userLoginEmail"),disabled:x}),h.userLoginEmail&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.userLoginEmail.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"userPassword",children:"Password"}),n.jsx(Vn,{id:"userPassword",...o("userPassword"),disabled:x}),h.userPassword&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:h.userPassword.message})]})]}),n.jsx("div",{className:"w-full  flex items-end justify-end",children:n.jsxs(he,{type:"submit",disabled:x||y.isPending,className:"w-full sm:w-auto right-0",children:[x||y.isPending?n.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"}):null,e==="create"?"Create Vendor":"Save Changes"]})})]})},exe=()=>{const e=jr(),t=()=>{e("/admin/vendors")};return n.jsx("div",{className:"container mx-auto p-4 md:p-6",children:n.jsxs(At,{className:"w-full mx-auto",children:[n.jsx(Mt,{children:n.jsx(Zt,{className:"text-2xl font-semibold",children:"Create New Vendor"})}),n.jsxs(Dt,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Fill in the details below to create a new vendor profile and an associated user account."}),n.jsx(f$,{mode:"create",onSuccess:t})]})]})})},txe=dw("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Va({className:e,variant:t,...r}){return n.jsx("div",{"data-slot":"alert",role:"alert",className:Je(txe({variant:t}),e),...r})}function Ii({className:e,...t}){return n.jsx("div",{"data-slot":"alert-title",className:Je("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function qa({className:e,...t}){return n.jsx("div",{"data-slot":"alert-description",className:Je("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const rxe=()=>{var f,h;const e=jr(),{id:t}=Ra(),r=async x=>await mt(`/vendors/${x}`),{data:s,isLoading:a,isError:i,error:o}=Br({queryKey:["vendor",t],queryFn:()=>r(t),enabled:!!t,staleTime:1e3*60*5}),l=()=>{e("/admin/vendors")};if(!t)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(Va,{variant:"destructive",children:[n.jsx(Oc,{className:"h-4 w-4"}),n.jsx(Ii,{children:"Error"}),n.jsx(qa,{children:"No Vendor ID provided. Please go back and select a vendor to edit."})]})});if(a)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(At,{className:" mx-auto",children:[n.jsx(Mt,{children:n.jsx(Tt,{className:"h-8 w-1/2"})}),n.jsxs(Dt,{className:"space-y-6",children:[n.jsx(Tt,{className:"h-10 w-full"}),n.jsx(Tt,{className:"h-10 w-full"}),n.jsx(Tt,{className:"h-10 w-full"}),n.jsx(Tt,{className:"h-10 w-1/3 ml-auto"})]})]})});if(i)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(Va,{variant:"destructive",children:[n.jsx(Oc,{className:"h-4 w-4"}),n.jsx(Ii,{children:"Error Fetching Vendor"}),n.jsxs(qa,{children:["There was a problem retrieving the vendor details. Error: ",(o==null?void 0:o.message)||"Unknown error"]})]})});if(!s)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(Va,{variant:"destructive",children:[n.jsx(Oc,{className:"h-4 w-4"}),n.jsx(Ii,{children:"Error"}),n.jsx(qa,{children:"Vendor data not found or unavailable."})]})});if(!s)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(Va,{variant:"destructive",children:[n.jsx(Oc,{className:"h-4 w-4"}),n.jsx(Ii,{children:"Error"}),n.jsx(qa,{children:"Vendor data not found or unavailable after loading."})]})});const u={name:s.name,email:s.email,mobile:s.mobile,address1:s.address1,address2:s.address2||null,city:s.city,pincode:s.pincode,contactPersonName:s.contactPersonName||"",alternateMobile:s.alternateMobile||null,userFullName:((f=s.user)==null?void 0:f.name)||"",userLoginEmail:((h=s.user)==null?void 0:h.email)||"",isDairySupplier:s.isDairySupplier||!1};return n.jsx("div",{className:"container mx-auto p-4 md:p-6",children:n.jsxs(At,{className:"mx-auto",children:[n.jsx(Mt,{children:n.jsxs(Zt,{children:["Edit Vendor: ",s.name]})}),n.jsx(Dt,{children:n.jsx(f$,{mode:"edit",vendorId:t,initialData:u,onSuccess:l})})]})})},HC=ws({name:ct().min(1,"Agency name is required"),contactPersonName:ct().optional(),email:ct().optional().nullable(),mobile:ct().regex(/^\d{10}$/,"Mobile number must be 10 digits"),alternateMobile:RE().nullable().optional(),address1:ct().min(1,"Address Line 1 is required"),address2:RE().nullable().optional(),city:ct().optional().nullable(),pincode:Ln.number().int("Pincode must be an integer").positive("Pincode must be positive").refine(e=>String(e).length===6,"Pincode must be 6 digits"),status:RT(["ACTIVE","INACTIVE"]).default("ACTIVE")}),sxe=ws({userFullName:ct().min(1,"User's full name is required"),userLoginEmail:ct().email("Invalid login email for user"),userPassword:ct().min(6,"User password must be at least 6 characters")});HC.extend({userFullName:ct().optional(),userLoginEmail:ct().email().optional(),userPassword:ct().optional()});const nxe=HC.merge(sxe),axe=HC,h$=({mode:e,agencyId:t,onSuccess:r,initialData:s,className:a})=>{const i=qn(),{register:o,handleSubmit:l,setValue:u,setError:f,control:h,watch:x,formState:{errors:p,isSubmitting:y}}=Js({mode:"onChange",resolver:en(e==="create"?nxe:axe),defaultValues:s||{name:"",contactPersonName:"",email:"",mobile:"",alternateMobile:null,address1:"",address2:null,city:"",pincode:void 0,status:"ACTIVE",userFullName:"",userLoginEmail:"",userPassword:""}}),N=x("name");g.useEffect(()=>{e==="create"&&N&&u("userFullName",N)},[N,e,u]),g.useEffect(()=>{e==="edit"&&t&&!s?(async()=>{var S;try{const A=await mt(`/agencies/${t}`);console.log("Agency Data:",A),u("name",A.name),u("contactPersonName",A.contactPersonName||""),u("mobile",A.mobile),u("alternateMobile",A.alternateMobile||null),u("address1",A.address1),u("address2",A.address2||null),u("city",A.city),u("pincode",A.pincode),u("email",A.email),u("status",(S=A.user)!=null&&S.active?"ACTIVE":"INACTIVE")}catch{me.error("Failed to fetch agency details")}})():s&&Object.keys(s).forEach(j=>{u(j,s[j])})},[t,e,u,s]);const b=Gr({mutationFn:async j=>{if(j.contactPersonName=j.name,e==="create"){const S={name:j.name,contactPersonName:j.contactPersonName,email:j.email,mobile:j.mobile,alternateMobile:j.alternateMobile,address1:j.address1,address2:j.address2,city:j.city,pincode:j.pincode,userFullName:j.userFullName,userLoginEmail:j.userLoginEmail,userPassword:j.userPassword,role:"AGENCY",status:j.status};return $r("/agencies",S)}else{const{userFullName:S,userLoginEmail:A,userPassword:C,...T}=j,D={name:T.name,contactPersonName:T.contactPersonName,email:T.email,mobile:T.mobile,alternateMobile:T.alternateMobile,address1:T.address1,address2:T.address2,city:T.city,pincode:T.pincode,status:T.status};return un(`/agencies/${t}`,D)}},onSuccess:()=>{me.success(`Agency ${e==="create"?"created (with user)":"updated"} successfully`),i.invalidateQueries({queryKey:["agencies"]}),i.invalidateQueries({queryKey:["users"]}),t&&e==="edit"&&i.invalidateQueries({queryKey:["agency",t]}),r==null||r()},onError:j=>{var A,C;_u(j,f);const S=`Failed to ${e} agency.`;me.error(((C=(A=j==null?void 0:j.response)==null?void 0:A.data)==null?void 0:C.message)||j.message||S)}}),w=j=>{b.mutate(j)};return n.jsxs("form",{onSubmit:l(w),className:`space-y-6 ${a}`,children:[n.jsx("div",{className:"border-b pb-4 mb-4 mt-6",children:n.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Delivery Agency Details"})}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"name",children:"Delivery Agency Name"}),n.jsx(tt,{id:"name",type:"text",...o("name"),disabled:y}),p.name&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:p.name.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"email",children:"Email"}),n.jsx(tt,{id:"email",type:"email",...o("email"),disabled:y}),p.email&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:p.email.message})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"mobile",children:"Mobile Number"}),n.jsx(tt,{id:"mobile",type:"text",...o("mobile"),disabled:y}),p.mobile&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:p.mobile.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"alternateMobile",children:"Alternate Mobile (Optional)"}),n.jsx(tt,{id:"alternateMobile",type:"text",...o("alternateMobile"),disabled:y}),p.alternateMobile&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:p.alternateMobile.message})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"address1",children:"Address Line 1"}),n.jsx(tt,{id:"address1",type:"text",...o("address1"),disabled:y}),p.address1&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:p.address1.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"address2",children:"Address Line 2 (Optional)"}),n.jsx(tt,{id:"address2",type:"text",...o("address2"),disabled:y}),p.address2&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:p.address2.message})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"city",children:"City"}),n.jsx(tt,{id:"city",type:"text",...o("city"),disabled:y}),p.city&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:p.city.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"pincode",children:"Pin Code"}),n.jsx(tt,{id:"pincode",type:"number",...o("pincode"),disabled:y}),p.pincode&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:p.pincode.message})]})]}),e==="create"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b pb-4 mb-4 pt-6",children:n.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Details"})}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"userLoginEmail",children:"Login Email"}),n.jsx(tt,{id:"userLoginEmail",type:"email",...o("userLoginEmail"),disabled:y}),p.userLoginEmail&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:p.userLoginEmail.message})]}),n.jsxs("div",{className:"grid gap-2 relative",children:[n.jsx(Te,{htmlFor:"userPassword",children:"Password"}),n.jsx(Vn,{id:"userPassword",...o("userPassword"),disabled:y}),p.userPassword&&n.jsx("span",{className:"text-red-500 text-xs absolute bottom-0 translate-y-full pt-1",children:p.userPassword.message})]})]}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx(he,{type:"submit",disabled:y,className:"w-full sm:w-auto",children:y?n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"}),e==="create"?"Creating...":"Updating..."]}):n.jsx(n.Fragment,{children:e==="create"?"Create Delivery Agency":"Update Delivery Agency"})})})]})},ixe=()=>{const e=jr(),t=()=>{e("/admin/agencies")};return n.jsx("div",{className:"container mx-auto p-4 md:p-6",children:n.jsxs(At,{className:" mx-auto",children:[n.jsx(Mt,{children:n.jsx(Zt,{className:"text-2xl font-semibold",children:"Create New Delivery Agency"})}),n.jsxs(Dt,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Fill in the details below to create a new delivery agency and an associated user account."}),n.jsx(h$,{mode:"create",onSuccess:t})]})]})})},oxe=()=>{var f;const{id:e}=Ra(),t=jr(),r=async h=>await mt(`/agencies/${h}`),{data:s,isLoading:a,isError:i,error:o}=Br({queryKey:["agency",e],queryFn:()=>r(e),enabled:!!e,staleTime:1e3*60*5}),l=()=>{t("/admin/agencies")};if(!e)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(Va,{variant:"destructive",children:[n.jsx(Oc,{className:"h-4 w-4"}),n.jsx(Ii,{children:"Error"}),n.jsx(qa,{children:"No Delivery Agency ID provided. Please go back and select a delivery agency to edit."})]})});if(a)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(At,{className:" mx-auto",children:[n.jsx(Mt,{children:n.jsx(Tt,{className:"h-8 w-1/2"})}),n.jsxs(Dt,{className:"space-y-6",children:[n.jsx(Tt,{className:"h-10 w-full"}),n.jsx(Tt,{className:"h-10 w-full"}),n.jsx(Tt,{className:"h-10 w-full"}),n.jsx(Tt,{className:"h-10 w-1/3 ml-auto"})]})]})});if(i)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(Va,{variant:"destructive",children:[n.jsx(Oc,{className:"h-4 w-4"}),n.jsx(Ii,{children:"Error Fetching Delivery Agency"}),n.jsxs(qa,{children:["There was a problem retrieving the delivery agency details. Error: ",(o==null?void 0:o.message)||"Unknown error"]})]})});if(!s)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(Va,{variant:"default",children:[n.jsx(Oc,{className:"h-4 w-4"}),n.jsx(Ii,{children:"Not Found"}),n.jsx(qa,{children:"Delivery Agency data could not be loaded or found."})]})});const u={name:s.name,contactPersonName:s.contactPersonName||"",email:s.email||"",mobile:s.mobile,alternateMobile:s.alternateMobile||null,address1:s.address1,address2:s.address2||null,city:s.city,pincode:s.pincode,status:(f=s.user)!=null&&f.active?"ACTIVE":"INACTIVE"};return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(At,{className:"max-w-4xl mx-auto",children:[n.jsx(Mt,{children:n.jsx(Zt,{className:"text-2xl font-semibold",children:"Edit Delivery Agency"})}),n.jsx(Dt,{children:n.jsx(h$,{mode:"edit",agencyId:e,initialData:u,onSuccess:l})})]})})},lxe=()=>{const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);return{role:(t==null?void 0:t.role)||null,id:(t==null?void 0:t.id)||null}}catch(t){return console.error("Failed to parse user from localStorage",t),{role:null,id:null}}return{role:null,id:null}},SR=()=>{const[e,t]=g.useState(1),[r,s]=g.useState(""),[a,i]=g.useState(""),[o,l]=g.useState(void 0),[u,f]=g.useState(""),h=g.useRef(null),x=10,[p,y]=g.useState(lxe()),[N,b]=g.useState(null),[w,j]=g.useState(!1),S=p==null?void 0:p.role,A=g.useCallback(J=>{s(J.target.value)},[]);g.useEffect(()=>{(async()=>{if(S==="AGENCY"){j(!0);try{const L=await mt("/users/me");console.log("agencyinfo",L),b(L!=null&&L.agencyId?String(L.agencyId):null)}catch(L){console.error("Failed to fetch agency info:",L),me.error("Could not load agency details."),b(null)}j(!1)}})()},[S]),g.useEffect(()=>{S==="AGENCY"&&u==="PENDING"&&f("")},[S,u]),g.useEffect(()=>(h.current&&window.clearTimeout(h.current),h.current=window.setTimeout(()=>{i(r)},500),()=>{h.current&&window.clearTimeout(h.current)}),[r]);const C=!!S&&(S!=="AGENCY"||S==="AGENCY"&&!w&&N!==void 0),{data:T,isLoading:D,isError:_,refetch:O}=Br({queryKey:["orders",e,a,o,u,S,N],queryFn:async()=>{if(!S)return{data:[],totalPages:0};if(S==="AGENCY"&&!N)return{data:[],totalPages:0};let J="/vendor-orders";S==="VENDOR"?J="/vendor-orders/my":S==="AGENCY"&&(J="/vendor-orders/my-agency-orders");let L=`${J}?page=${e}&limit=${x}`;return a&&(L+=`&search=${a}`),o&&(L+=`&date=${Gt(o,"yyyy-MM-dd")}`),u&&(L+=`&status=${u}`),S==="AGENCY"&&(L+="&excludeStatus=PENDING",N&&(L+=`&agencyId=${N}`)),await mt(L)},enabled:C}),P=(T==null?void 0:T.data)||[],B=(T==null?void 0:T.totalPages)||1,I=async J=>{try{await Hn(`/vendor-orders/${J}`),me.success("Order deleted successfully"),O()}catch{me.error("Failed to delete order")}},G=J=>{switch(J){case"PENDING":return"bg-yellow-500";case"DELIVERED":return"bg-secondary";case"RECEIVED":return"bg-primary";default:return"bg-gray-500"}},z=J=>{if(!J||J.length===0)return{ordered:0,delivered:0,received:0};const L=J.reduce((X,q)=>X+(q.quantity||0),0),U=J.reduce((X,q)=>X+(q.deliveredQuantity||0),0),F=J.reduce((X,q)=>X+(q.receivedQuantity||0),0);return{ordered:L,delivered:U,received:F}},ae=()=>{s(""),i(""),l(void 0),f(""),t(1)};return S==="AGENCY"&&w?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsx("p",{children:"Loading agency details..."})}):D&&C?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsx("p",{children:"Loading orders..."})}):_&&C?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsx("p",{children:"Error loading orders. Please try again later."})}):n.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[n.jsxs(At,{className:"mb-6 shadow-lg dark:bg-gray-800",children:[n.jsxs(Mt,{className:"flex flex-row items-center justify-between pb-4",children:[n.jsx(Zt,{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Order Management"}),S==="ADMIN"&&n.jsx(Rr,{to:"/admin/orders/create",children:n.jsxs(he,{className:"bg-blue-600 hover:bg-blue-700 text-white dark:bg-secondary dark:hover:bg-blue-600",children:[n.jsx(m0,{className:"mr-2 h-5 w-5"})," Create New Order"]})})]}),n.jsxs(Dt,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 min-w-full ",children:[n.jsx(tt,{placeholder:"Search by PO, Vendor...",value:r,onChange:A,className:"dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 w-full"}),n.jsxs("select",{value:u,onChange:J=>f(J.target.value),className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",children:[n.jsx("option",{value:"",children:"All Status"}),S!=="AGENCY"&&n.jsx("option",{value:"PENDING",children:"Pending"}),n.jsx("option",{value:"DELIVERED",children:"Delivered"}),n.jsx("option",{value:"RECEIVED",children:"Received"})]}),n.jsxs(he,{onClick:ae,variant:"outline",className:"dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600",children:[n.jsx(Kg,{className:"mr-2 h-4 w-4"})," Clear Filters"]})]}),P.length===0?n.jsxs("div",{className:"text-center py-10",children:[n.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"No orders found."}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Try adjusting your filters or creating a new order."})]}):n.jsxs(Ps,{className:"min-w-full bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:[n.jsx(Ms,{className:"bg-gray-100 dark:bg-gray-700",children:n.jsxs(Xt,{children:[n.jsx(Ke,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"PO Number"}),n.jsx(Ke,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Vendor"}),n.jsx(Ke,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Agency/Depot"}),n.jsx(Ke,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Order Date"}),n.jsx(Ke,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Delivery Date"}),n.jsx(Ke,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Total Amount"}),S==="ADMIN"&&n.jsx(Ke,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Quantities (O/D/R)"}),n.jsx(Ke,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Status"}),n.jsx(Ke,{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Actions"})]})}),n.jsx(Is,{className:"divide-y divide-gray-200 dark:divide-gray-700",children:P.map(J=>{var X;const L=S==="AGENCY"&&!!N&&J.status==="RECEIVED"&&!((X=J.recordedByAgencies)!=null&&X.includes(N)),U=S==="AGENCY"&&!!N&&(J.status==="DELIVERED"||L),F=z(J.items);return n.jsxs(Xt,{className:"hover:bg-gray-50 dark:hover:bg-gray-750",children:[n.jsx(ze,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:J.poNumber}),n.jsx(ze,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:J.vendor.name}),n.jsx(ze,{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:(()=>{var K,V;const q=((K=J.items)==null?void 0:K.map(Q=>Q.agency).filter(Boolean))||[],te=((V=J.items)==null?void 0:V.map(Q=>Q.depot).filter(Boolean))||[],M=q.filter((Q,ie,xe)=>Q&&xe.findIndex(ue=>(ue==null?void 0:ue.id)===Q.id)===ie),W=te.filter((Q,ie,xe)=>Q&&xe.findIndex(ue=>(ue==null?void 0:ue.id)===Q.id)===ie);return n.jsxs("div",{className:"space-y-1",children:[M.map(Q=>Q&&n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{className:"font-medium text-blue-600",children:Q.name}),Q.user&&n.jsxs("div",{className:"text-gray-400",children:[Q.user.name," • ",Q.user.mobile]})]},`agency-${Q.id}`)),W.map(Q=>Q&&n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{className:"font-medium text-green-600",children:Q.name}),Q.address&&n.jsx("div",{className:"text-gray-400 truncate max-w-xs",children:Q.address})]},`depot-${Q.id}`)),M.length===0&&W.length===0&&n.jsx("span",{className:"text-gray-400",children:"N/A"})]})})()}),n.jsx(ze,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Gt(new Date(J.orderDate),"dd/MM/yyyy")}),n.jsx(ze,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Gt(new Date(J.deliveryDate),"dd/MM/yyyy")}),n.jsx(ze,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:bs(J.totalAmount)}),S==="ADMIN"&&n.jsx(ze,{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsx("div",{className:"flex flex-col space-y-1",children:(()=>{const q=J.items.map(M=>M.depotVariantName).filter((M,W,K)=>M&&K.indexOf(M)===W),te=q.length>0?` (${q.join(", ")})`:"";return console.log(J.items),n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Ordered:"})," ",F.ordered,te]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Delivered:"})," ",n.jsx("span",{className:F.delivered<F.ordered?"text-red-500 font-medium":"text-gray-500 dark:text-gray-300",children:F.delivered})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Received:"})," ",n.jsx("span",{className:F.received<F.delivered?"text-red-500 font-medium":"text-gray-500 dark:text-gray-300",children:F.received})]})]})})()})}),n.jsxs(ze,{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx(Pr,{className:`${G(J.status)} text-white px-2 py-1 rounded-full text-xs`,children:J.status}),L&&n.jsx(kw,{children:n.jsxs(lb,{children:[n.jsx(cb,{asChild:!0,children:n.jsx(xu,{className:"ml-2 h-4 w-4 text-red-500 inline-block"})}),n.jsx(db,{className:"bg-black text-white p-2 rounded",children:n.jsx("p",{children:"You need to record your quantities for this order."})})]})})]}),n.jsx(ze,{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs(Y0,{modal:!1,children:[n.jsx(K0,{asChild:!0,children:n.jsx(he,{variant:"ghost",className:"h-8 w-8 p-0",children:n.jsx(rw,{className:"h-4 w-4"})})}),n.jsxs(X0,{align:"end",className:"dark:bg-gray-800 dark:text-gray-200",children:[S==="ADMIN"&&n.jsxs(n.Fragment,{children:[n.jsx(Jn,{asChild:!0,children:n.jsxs(Rr,{to:`/admin/orders/${J.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[n.jsx(gu,{className:"mr-2 h-4 w-4"})," View Details"]})}),J.status==="PENDING"&&n.jsxs(Jn,{onClick:()=>I(J.id),className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/50 cursor-pointer",children:[n.jsx(fn,{className:"mr-2 h-4 w-4"})," Delete"]})]}),S==="VENDOR"&&n.jsxs(n.Fragment,{children:[(J.status==="PENDING"||J.status==="DELIVERED")&&n.jsx(Jn,{asChild:!0,children:n.jsxs(Rr,{to:`/vendor/orders/${J.id}/record-delivery`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[n.jsx(Kx,{className:"mr-2 h-4 w-4"})," Record Delivery"]})}),n.jsx(Jn,{asChild:!0,children:n.jsxs(Rr,{to:`/vendor/orders/${J.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[n.jsx(gu,{className:"mr-2 h-4 w-4"})," View Details"]})})]}),S==="AGENCY"&&n.jsxs(n.Fragment,{children:[n.jsx(Jn,{asChild:!0,children:n.jsxs(Rr,{to:`/admin/orders/${J.id}`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[n.jsx(gu,{className:"mr-2 h-4 w-4"})," View Details"]})}),U&&n.jsx(Jn,{asChild:!0,children:n.jsxs(Rr,{to:`/admin/orders/${J.id}/record-receipt`,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",children:[n.jsx(Kx,{className:"mr-2 h-4 w-4"}),L?"Record Your Quantities":"Record Receipt"]})})]}),S!=="ADMIN"&&S!=="VENDOR"&&S!=="AGENCY"&&n.jsx(Jn,{disabled:!0,className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-200",children:"No actions available for your role."})]})]})})]},J.id)})})]})]})]}),!D&&!_&&P.length>0&&n.jsx("div",{className:"flex justify-center mt-6",children:n.jsxs(Q0,{children:[n.jsx(J0,{onClick:()=>e>1&&t(e-1),className:Je("cursor-pointer",e<=1&&"pointer-events-none opacity-50")}),n.jsx(Z0,{children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",e," of ",B]})})}),n.jsx(ep,{onClick:()=>e<B&&t(e+1),className:Je("cursor-pointer",e>=B&&"pointer-events-none opacity-50")})]})})]})},cxe=ws({poNumber:ct().optional(),orderDate:zc(),deliveryDate:zc(),contactPersonName:ct().min(1,"Contact person name is required"),vendorId:ct().min(1,"Farmer is required"),notes:ct().optional(),orderItems:lh(ws({depotId:ct().min(1,"Depot is required"),agencyId:ct().min(1,"Agency is required"),productId:ct().min(1,"Product is required"),depotVariantId:ct().min(1,"Depot variant is required"),quantity:xi().min(1,"Quantity must be at least 1"),variantUnit:ct().optional()})).min(1,"At least one product item is required")});function wS(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function ER(e){return e?!isNaN(e.getTime()):!1}function AR({value:e,onChange:t,label:r,id:s,fromDate:a}){const[i,o]=g.useState(!1),[l,u]=g.useState(e),[f,h]=g.useState(wS(e));return g.useEffect(()=>{h(wS(e)),ER(e)&&u(e)},[e]),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx(Te,{htmlFor:s,className:"px-1",children:r}),n.jsxs("div",{className:"relative flex gap-2",children:[n.jsx(tt,{id:s,value:f,placeholder:"01/06/2025",className:"bg-background pr-10",onChange:x=>{const p=x.target.value;h(p);const y=new Date(p);ER(y)?(t(y),u(y)):t(void 0)},onKeyDown:x=>{x.key==="ArrowDown"&&(x.preventDefault(),o(!0))}}),n.jsxs(sd,{open:i,onOpenChange:o,children:[n.jsx(nd,{asChild:!0,children:n.jsxs(he,{variant:"ghost",className:"absolute top-1/2 right-2 size-6 -translate-y-1/2",children:[n.jsx(Ta,{className:"size-3.5"}),n.jsx("span",{className:"sr-only",children:"Select date"})]})}),n.jsx(ad,{className:"w-auto overflow-hidden p-0",align:"end",alignOffset:-8,sideOffset:10,children:n.jsx(id,{mode:"single",selected:e,captionLayout:"dropdown",month:l,onMonthChange:u,onSelect:x=>{t(x),h(wS(x)),o(!1)},fromDate:a,initialFocus:!0})})]})]})]})}const m$=({mode:e,orderId:t,initialData:r,onSuccess:s})=>{const a=qn(),[i,o]=g.useState([]),[l,u]=g.useState([]),[f,h]=g.useState([]),[x,p]=g.useState([]),[y,N]=g.useState([]),[b,w]=g.useState(null),[j,S]=g.useState(),[A,C]=g.useState(!1),[T,D]=g.useState(!0),[_,O]=g.useState({}),P=jr(),B=()=>{D(!T)},I=Ee=>{O(Ae=>({...Ae,[Ee]:!Ae[Ee]}))},{register:G,control:z,handleSubmit:ae,setValue:J,watch:L,formState:{errors:U,isSubmitting:F}}=Js({resolver:en(cxe),defaultValues:{poNumber:e==="create"?"":(r==null?void 0:r.poNumber)||"",orderDate:e==="edit"&&(r!=null&&r.orderDate)?new Date(r.orderDate):new Date,deliveryDate:e==="edit"&&(r!=null&&r.deliveryDate)?new Date(r.deliveryDate):Zn(new Date,1),receivedById:e==="edit"&&(r!=null&&r.receivedById)?r.receivedById:"",contactPersonName:e==="edit"&&(r!=null&&r.contactPersonName)?r.contactPersonName:"",vendorId:e==="edit"&&(r!=null&&r.vendorId)?r.vendorId:"",notes:e==="edit"&&(r!=null&&r.notes)?r.notes:"",orderItems:e==="edit"&&(r!=null&&r.orderItems)&&r.orderItems.length>0?r.orderItems.map(Ee=>({productId:String((Ee==null?void 0:Ee.productId)||""),quantity:Number((Ee==null?void 0:Ee.quantity)||1),agencyId:String((Ee==null?void 0:Ee.agencyId)||""),depotId:String((Ee==null?void 0:Ee.depotId)||""),depotVariantId:String((Ee==null?void 0:Ee.depotVariantId)||"")})):[{productId:"",quantity:1,agencyId:"",depotId:"",depotVariantId:""}]},mode:"onChange"}),X=L("orderItems"),q=JSON.stringify(X),te=L("deliveryDate"),M=Le.useMemo(()=>{console.log("[OrderForm] Recalculating groupedProductSummary. Watched items (stringified for dep):",q,"Product count:",l.length);const Ee={};return!X||X.length===0||!l||l.length===0||(X.forEach(Ae=>{if(!Ae||!Ae.productId||Ae.quantity===void 0||Ae.quantity===null||Number(Ae.quantity)<=0)return;const Ye=l.find(xt=>String(xt.id)===Ae.productId),be=y.find(xt=>String(xt.id)===Ae.depotVariantId),ge=f.find(xt=>String(xt.id)===Ae.agencyId),Me=x.find(xt=>String(xt.id)===Ae.depotId);if(Ye&&be){const xt=Number(be.mrp)||Number(be.buyOncePrice)||0,jt=Number(Ae.quantity);Ee[Ae.productId]||(Ee[Ae.productId]={name:Ye.name,totalQuantity:0,totalPrice:0,variants:{}}),Ee[Ae.productId].totalQuantity+=jt,Ee[Ae.productId].totalPrice=(Ee[Ae.productId].totalPrice||0)+xt*jt,be&&Ae.depotVariantId&&(Ee[Ae.productId].variants[Ae.depotVariantId]||(Ee[Ae.productId].variants[Ae.depotVariantId]={name:be.name,quantity:0,agencies:[],depots:[],unit:be.unit,price:xt}),Ee[Ae.productId].variants[Ae.depotVariantId].quantity+=jt,ge&&!Ee[Ae.productId].variants[Ae.depotVariantId].agencies.includes(ge.name)&&Ee[Ae.productId].variants[Ae.depotVariantId].agencies.push(ge.name),Me&&!Ee[Ae.productId].variants[Ae.depotVariantId].depots.includes(Me.name)&&Ee[Ae.productId].variants[Ae.depotVariantId].depots.push(Me.name))}}),console.log("[OrderForm] Enhanced groupedProductSummary result:",JSON.parse(JSON.stringify(Ee)))),Ee},[q,l,y,f,x]),W=()=>{const Ee={};Object.keys(M).forEach(Ae=>{Ee[Ae]=!0}),O(Ee)},K=()=>{const Ee={};Object.keys(M).forEach(Ae=>{Ee[Ae]=!1}),O(Ee)},V=Object.keys(M).length>0&&Object.keys(M).every(Ee=>_[Ee]!==!1),Q=Object.keys(M).length>0&&Object.keys(M).every(Ee=>_[Ee]===!1),{fields:ie,append:xe,remove:ue}=yy({control:z,name:"orderItems"});g.useEffect(()=>{console.log("[OrderForm] Fields updated:",ie),console.log("[OrderForm] Fields length:",ie.length)},[ie]),g.useEffect(()=>{(async()=>{try{const Ae=await mt("/vendors?limit=1000&dairyOnly=true");Ae&&Array.isArray(Ae)?o(Ae.map(Ye=>({...Ye,id:String(Ye.id)}))):Ae&&Ae.data&&Array.isArray(Ae.data)?o(Ae.data.map(Ye=>({...Ye,id:String(Ye.id)}))):(o([]),me.error("Failed to fetch farmer or data is not in expected format."))}catch{me.error("Failed to fetch farmer"),o([])}})()},[]),g.useEffect(()=>{(async()=>{try{const Ae=await mt("/products");let Ye=[];if(Ae&&Array.isArray(Ae)?Ye=Ae:Ae&&Ae.data&&Array.isArray(Ae.data)?Ye=Ae.data:(console.error("Unexpected product API response structure:",Ae),me.error("Products data is not in the expected array format.")),u(Ye),e==="edit"&&(r!=null&&r.orderItems)&&Array.isArray(r.orderItems)&&r.orderItems.length>0&&Ye.length>0&&f.length>0){console.log("Attempting to set order items. initialData.orderItems:",r.orderItems);const be=r.orderItems.map(Me=>({...Me,productId:String((Me==null?void 0:Me.productId)||""),quantity:Number((Me==null?void 0:Me.quantity)||1),agencyId:String((Me==null?void 0:Me.agencyId)||""),depotId:String((Me==null?void 0:Me.depotId)||""),depotVariantId:String((Me==null?void 0:Me.depotVariantId)||"")}));be.every(Me=>Ye.some(xt=>String(xt.id)===Me.productId))||console.warn("Some products in initialData.orderItems do not exist in the fetched products list. Items might not display correctly or be selectable."),J("orderItems",be),console.log("Order items set in form with:",be)}}catch(Ae){console.error("Error fetching products or setting items:",Ae),u([]),me.error("Failed to fetch products")}})()},[e,r,J,f]),g.useEffect(()=>{(async()=>{try{const Ae=await mt("/agencies");let Ye=[];Ae&&Array.isArray(Ae.data)?Ye=Ae.data.map(be=>({...be,id:String(be.id)})):Ae&&Array.isArray(Ae)&&(Ye=Ae.map(be=>({...be,id:String(be.id)}))),h(Ye),Ye.length>0||(h([]),console.warn("Fetched agencies data is not an array or is missing:",Ae),me.error("Could not load agencies."))}catch(Ae){console.error("Error fetching agencies:",Ae),me.error("Failed to fetch agencies."),h([])}})()},[]),g.useEffect(()=>{(async()=>{try{const Ae=await mt("/depots");let Ye=[];Ae&&Array.isArray(Ae.data)?Ye=Ae.data.map(be=>({...be,id:String(be.id)})):Ae&&Array.isArray(Ae)&&(Ye=Ae.map(be=>({...be,id:String(be.id)}))),p(Ye),Ye.length>0||(p([]),console.warn("Fetched depots data is not an array or is missing:",Ae),me.error("Could not load depots."))}catch(Ae){console.error("Error fetching depots:",Ae),me.error("Failed to fetch depots."),p([])}})()},[]),g.useEffect(()=>{(async()=>{try{const Ae=await mt("/depot-product-variants");let Ye=[];Ae&&Array.isArray(Ae.data)?Ye=Ae.data.map(be=>({...be,id:String(be.id)})):Ae&&Array.isArray(Ae)&&(Ye=Ae.map(be=>({...be,id:String(be.id)}))),N(Ye),Ye.length>0||(N([]),console.warn("Fetched depot variants data is not an array or is missing:",Ae),me.error("Could not load depot variants."))}catch(Ae){console.error("Error fetching depot variants:",Ae),me.error("Failed to fetch depot variants."),N([])}})()},[]),g.useEffect(()=>{e==="create"&&te&&(async()=>{C(!0);try{const Ae=Gt(te,"yyyy-MM-dd");console.log("[OrderForm] Fetching prefill data for date:",Ae);const Ye=await mt(`/vendor-orders/get-order-details?date=${Ae}`);console.log("[OrderForm] Raw API response:",Ye);const be=Ye;if(console.log("[OrderForm] Response data:",be),console.log("[OrderForm] Type of responseData:",typeof be),console.log("[OrderForm] responseData.data exists:",!!be.data),console.log("[OrderForm] responseData.data is Array:",Array.isArray(be.data)),console.log("[OrderForm] responseData.data length:",be.data?be.data.length:"N/A"),be&&be.data&&Array.isArray(be.data)&&be.data.length>0){console.log("[OrderForm] Number of depot-variant groups from API:",be.data.length),console.log("[OrderForm] Summary:",be.summary);const ge=[];be.data.forEach(Me=>{if(console.log("[OrderForm] Processing group:",Me),Me.depot&&Me.variant&&Me.product)if(Me.agencies&&Me.agencies.ids.length>1){const xt={};Me.members&&Array.isArray(Me.members)&&Me.members.forEach(fe=>{});const jt=Math.ceil(Me.statistics.totalQuantity/Me.agencies.ids.length);Me.agencies.ids.forEach((fe,Se)=>{const Re={depotId:String(Me.depot.id||""),agencyId:String(fe),productId:String(Me.product.id||""),depotVariantId:String(Me.variant.id||""),quantity:jt};console.log(`[OrderForm] Mapped item for agency ${Me.agencies.names[Se]}:`,Re),Re.depotId&&Re.agencyId&&Re.productId&&Re.depotVariantId&&Re.quantity>0&&ge.push(Re)})}else{const xt=Me.agencies&&Me.agencies.ids.length>0?String(Me.agencies.ids[0]):"",jt={depotId:String(Me.depot.id||""),agencyId:xt,productId:String(Me.product.id||""),depotVariantId:String(Me.variant.id||""),quantity:Number(Me.statistics.totalQuantity||0)};console.log("[OrderForm] Mapped item:",jt),jt.depotId||console.warn("[OrderForm] Item missing depotId"),jt.agencyId||console.warn("[OrderForm] Item missing agencyId - user will need to select"),jt.productId||console.warn("[OrderForm] Item missing productId"),jt.depotVariantId||console.warn("[OrderForm] Item missing depotVariantId"),jt.quantity<=0&&console.warn("[OrderForm] Item has invalid quantity:",jt.quantity),jt.depotId&&jt.productId&&jt.depotVariantId&&jt.quantity>0&&ge.push(jt)}}),console.log("[OrderForm] Final mapped order items:",ge),console.log("[OrderForm] Setting form with",ge.length,"items"),ge.length>0?(J("orderItems",ge,{shouldValidate:!0}),me.success(`${ge.length} order items prefilled for ${Gt(te,"dd/MM/yyyy")}. Total quantity: ${be.summary.totalQuantity} units across ${be.summary.totalDepots} depots.`)):(console.warn("[OrderForm] No valid items could be mapped from the response"),J("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0}),me.warning(`Data found but could not map items for ${Gt(te,"dd/MM/yyyy")}.`))}else console.log("[OrderForm] No data found or data format incorrect"),console.log("[OrderForm] responseData:",be),console.log("[OrderForm] Condition failed:",{hasResponseData:!!be,hasDataProperty:!!(be&&be.data),isDataArray:Array.isArray(be&&be.data),dataLength:be&&be.data?be.data.length:0}),J("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0}),me.info(`No scheduled order items found for ${Gt(te,"dd/MM/yyyy")}.`)}catch(Ae){console.error("[OrderForm] Error fetching prefill data:",Ae),me.error(Ae.message||"Failed to fetch prefill order items."),J("orderItems",[{depotId:"",agencyId:"",productId:"",depotVariantId:"",quantity:1}],{shouldValidate:!0})}finally{C(!1)}})()},[te,e,J,l,f]),g.useEffect(()=>{e==="edit"&&r&&(console.log("Populating basic form fields with initialData:",r),r.poNumber&&J("poNumber",r.poNumber),r.orderDate&&J("orderDate",new Date(r.orderDate)),r.deliveryDate&&J("deliveryDate",new Date(r.deliveryDate)),r.contactPersonName&&J("contactPersonName",r.contactPersonName),r.notes&&J("notes",r.notes))},[e,r,J]),g.useEffect(()=>{if(e==="edit"&&(r!=null&&r.vendorId)&&i.length>0){const Ee=String(r.vendorId);J("vendorId",Ee);const Ae=i.find(Ye=>Ye.id===Ee);Ae?(w(Ae),console.log("Vendor set in form:",r.vendorId,Ae)):(console.warn(`Vendor with ID ${r.vendorId} not found in fetched farmer list. Cannot preselect.`),w(null))}},[e,r==null?void 0:r.vendorId,i,J]);const de=L("vendorId");g.useEffect(()=>{if(de){const Ee=i.find(Ae=>Ae.id===de);w(Ee||null),Ee!=null&&Ee.contactPersonName&&J("contactPersonName",Ee.contactPersonName)}else w(null)},[de,i,J]);const De=Gr({mutationFn:async Ee=>e==="edit"&&t?un(`/vendor-orders/${t}`,Ee):$r("/vendor-orders",Ee),onSuccess:()=>{me.success("Order created successfully"),a.invalidateQueries({queryKey:["orders"]}),P("/admin/orders"),s&&s()},onError:Ee=>{me.error(Ee.message||"Failed to create order")}}),Ne=Ee=>{const Ae={...Ee,orderItems:Ee.orderItems.map((Ye,be)=>{const ge=X[be];return{productId:Ye.productId,quantity:Ye.quantity,agencyId:Ye.agencyId,depotId:(ge==null?void 0:ge.depotId)||Ye.depotId||"",depotVariantId:(ge==null?void 0:ge.depotVariantId)||Ye.depotVariantId||""}}),totalAmount:j||0};console.log("[OrderForm] Submitting complete order data:",Ae),De.mutate(Ae)};g.useEffect(()=>{console.log("[OrderForm] Recalculating orderTotal. groupedProductSummary:",JSON.parse(JSON.stringify(M)),"Product count:",l.length,"Watched items (stringified for dep):",q);const Ee=Object.values(M).reduce((Ae,Ye)=>Ae+(Ye.totalPrice||0),0);console.log("[OrderForm] calculatedTotalPrice:",Ee),S(Ee)},[M,l,q]);const ot=()=>n.jsxs(Le.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800",children:[n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsx(m0,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),n.jsxs("div",{className:"grid gap-4",children:[e!=="create"&&n.jsxs("div",{className:"relative",children:[n.jsx(Te,{htmlFor:"poNumber",className:"text-gray-700 dark:text-gray-300 font-medium",children:"PO Number"}),n.jsx(tt,{id:"poNumber",className:"bg-white/80 dark:bg-gray-900/80 border-gray-300 dark:border-gray-700",...G("poNumber"),disabled:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ur,{control:z,name:"orderDate",render:({field:Ee})=>n.jsx(AR,{id:"orderDate",label:"Order Date",value:Ee.value,onChange:Ee.onChange,fromDate:new Date})}),U.orderDate&&n.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:U.orderDate.message})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ur,{control:z,name:"deliveryDate",render:({field:Ee})=>n.jsx(AR,{id:"deliveryDate",label:"Delivery Date",value:Ee.value,onChange:Ee.onChange,fromDate:L("orderDate")||new Date})}),U.deliveryDate&&n.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:U.deliveryDate.message}),e==="create"&&n.jsx(n.Fragment,{children:A&&n.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",children:[n.jsx(Zr,{className:"animate-spin h-4 w-4 mr-2"}),"Checking for scheduled items..."]})})]})]}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx(Te,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Notes / Special Instructions"}),n.jsx(Zf,{id:"notes",...G("notes"),rows:3,className:"bg-white/80 dark:bg-gray-900/80 border-gray-300 dark:border-gray-700"}),U.notes&&n.jsx("span",{className:"text-red-500 text-xs mt-1",children:U.notes.message})]})]})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Wo,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Farmer Information"})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Te,{htmlFor:"vendorId",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Select Farmer"}),n.jsx(Ur,{control:z,name:"vendorId",render:({field:Ee})=>n.jsxs(er,{onValueChange:Ee.onChange,value:Ee.value||"",defaultValue:Ee.value||"",children:[n.jsx(rr,{className:"bg-white dark:bg-gray-700 w-full",children:n.jsx(tr,{placeholder:"Select a Farmer"})}),n.jsx(sr,{children:i.map(Ae=>n.jsx(yt,{value:Ae.id,children:Ae.name},Ae.id))})]})}),U.vendorId&&n.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:U.vendorId.message})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Te,{htmlFor:"contactPersonName",className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:"Contact Person"}),n.jsx(tt,{id:"contactPersonName",disabled:!0,className:"bg-white/80 dark:bg-gray-900/80 border-emerald-200 dark:border-emerald-800",...G("contactPersonName")}),U.contactPersonName&&n.jsx("span",{className:"text-red-500 text-xs absolute -bottom-5",children:U.contactPersonName.message})]})]}),b&&n.jsxs("div",{className:"mt-4 p-3 bg-white/90 dark:bg-gray-900/90 rounded-md border border-emerald-200 dark:border-emerald-800",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Farmer Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Email:"}),n.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:b.email})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Phone:"}),n.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:b.mobile})]})]})]})]})]}),n.jsxs(At,{className:"shadow-lg mt-6",children:[n.jsxs(Mt,{className:"bg-gray-50 dark:bg-gray-900",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yo,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),n.jsx(Zt,{className:"text-gray-700 dark:text-gray-300",children:"Products & Agencies"})]}),n.jsxs(he,{type:"button",size:"sm",variant:"outline",onClick:()=>xe({productId:"",quantity:1,agencyId:"",depotId:"",depotVariantId:""}),className:"border-gray-300 mt-4 mb-4 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:[n.jsx(vn,{className:"h-4 w-4 mr-1"}),"Add Product Item"]})]}),n.jsx(mi,{className:"text-gray-600 dark:text-gray-400",children:"Add products to your order, specify quantities, and assign an agency to each item."})]}),n.jsxs(Dt,{className:"p-6 space-y-6",children:[ie.length===0&&n.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[n.jsx(TE,{className:"h-12 w-12 mx-auto mb-2 text-gray-400 dark:text-gray-500"}),'No products added yet. Click "Add Product Item" to begin.']}),ie.length>0&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Depot"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[150px]",children:"Agency"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[200px]",children:"Product"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Depot Variant"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[80px]",children:"QTY"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[80px]",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:ie.map((Ee,Ae)=>{var ge;console.log(`[OrderForm] Rendering field ${Ae}:`,Ee,"Watched item:",X[Ae]);const Ye=y.find(Me=>{var xt;return String(Me.id)===((xt=X[Ae])==null?void 0:xt.depotVariantId)});return(Ye&&(Number(Ye.mrp)||Number(Ye.buyOncePrice))||0)*(((ge=X[Ae])==null?void 0:ge.quantity)||0),n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:n.jsx(Ur,{control:z,name:`orderItems.${Ae}.depotId`,render:({field:Me})=>n.jsxs(er,{onValueChange:Me.onChange,value:Me.value||"",children:[n.jsx(rr,{className:"h-9 text-sm bg-white dark:bg-gray-700 min-w-full",children:n.jsx(tr,{placeholder:"Select Depot"})}),n.jsx(sr,{children:x.map(xt=>n.jsx(yt,{value:xt.id,children:xt.name},xt.id))})]})})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:n.jsx(Ur,{control:z,name:`orderItems.${Ae}.agencyId`,render:({field:Me})=>n.jsxs(er,{onValueChange:Me.onChange,value:Me.value||"",children:[n.jsx(rr,{className:"h-9 text-sm bg-white dark:bg-gray-700 min-w-full",children:n.jsx(tr,{placeholder:"Select Agency"})}),n.jsx(sr,{children:f.map(xt=>n.jsx(yt,{value:xt.id,children:xt.name},xt.id))})]})})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:n.jsx(Ur,{control:z,name:`orderItems.${Ae}.productId`,render:({field:Me})=>n.jsxs(er,{onValueChange:Me.onChange,value:Me.value||"",children:[n.jsx(rr,{className:"h-9 text-sm bg-white dark:bg-gray-700/50 border-gray-300 dark:border-gray-600 w-full",children:n.jsx(tr,{placeholder:"Select Product"})}),n.jsx(sr,{children:l.map(xt=>n.jsx(yt,{value:String(xt.id),children:xt.name},xt.id))})]})})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[200px]",children:n.jsx(Ur,{control:z,name:`orderItems.${Ae}.depotVariantId`,render:({field:Me})=>n.jsxs(er,{onValueChange:Me.onChange,value:Me.value||"",children:[n.jsx(rr,{className:"h-9 text-sm bg-white dark:bg-gray-700 min-w-full",children:n.jsx(tr,{placeholder:"Select Depot Variant"})}),n.jsx(sr,{children:y.map(xt=>n.jsx(yt,{value:xt.id,children:xt.name},xt.id))})]})})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap min-w-[100px]",children:n.jsx(tt,{id:`orderItems.${Ae}.quantity`,type:"number",min:"1",...G(`orderItems.${Ae}.quantity`,{valueAsNumber:!0}),className:"h-9 text-sm bg-white dark:bg-gray-700/50 border-gray-300 dark:border-gray-600 w-full"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx(he,{type:"button",size:"icon",variant:"ghost",onClick:()=>ue(Ae),className:"h-8 w-8 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800/50",disabled:ie.length===1,children:n.jsx(fn,{className:"h-4 w-4"})})})]},Ee.id)})})]})}),U.orderItems&&typeof U.orderItems=="object"&&"message"in U.orderItems&&n.jsx("p",{className:"text-red-500 text-sm mt-2",children:U.orderItems.message}),ie.length>0&&n.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex justify-between items-center text-lg",children:[n.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-300",children:"Current Order Total :"}),n.jsx("span",{className:"font-bold text-lg text-gray-800 dark:text-gray-300",children:bs(j)})]})})]})]}),ie.length>0&&n.jsxs(At,{className:"shadow-lg mt-6 border-2 border-blue-100 dark:border-blue-900",children:[n.jsxs(Mt,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950",children:[n.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-blue-100/50 dark:hover:bg-blue-900/50 transition-colors rounded p-2 -m-2",onClick:B,onKeyDown:Ee=>{(Ee.key==="Enter"||Ee.key===" ")&&(Ee.preventDefault(),B())},tabIndex:0,role:"button","aria-expanded":T,"aria-label":`${T?"Collapse":"Expand"} order summary`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(JX,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),n.jsx(Zt,{className:"text-blue-800 dark:text-blue-200",children:"Order Summary"}),n.jsxs("span",{className:"text-sm text-blue-600 dark:text-blue-400 ml-2",children:["(",Object.keys(M).length," product",Object.keys(M).length!==1?"s":"",")"]})]}),n.jsx(he,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900",children:T?n.jsx(li,{className:"h-4 w-4"}):n.jsx(wu,{className:"h-4 w-4"})})]}),T&&Object.keys(M).length>1&&n.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-blue-200 dark:border-blue-800",children:[n.jsx(mi,{className:"text-blue-600 dark:text-blue-300",children:"Detailed breakdown of products, variants, and distribution."}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(he,{type:"button",variant:"outline",size:"sm",onClick:Ee=>{Ee.stopPropagation(),W()},disabled:V,className:"h-7 text-xs border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/50",children:"Expand All"}),n.jsx(he,{type:"button",variant:"outline",size:"sm",onClick:Ee=>{Ee.stopPropagation(),K()},disabled:Q,className:"h-7 text-xs border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/50",children:"Collapse All"})]})]}),(!T||Object.keys(M).length<=1)&&n.jsx(mi,{className:"text-blue-600 dark:text-blue-300",children:T?"Detailed breakdown of products, variants, and distribution.":`${Object.values(M).reduce((Ee,Ae)=>Ee+Ae.totalQuantity,0)} total items • ${bs(j||0)}`})]}),n.jsx("div",{className:Je("transition-all duration-300 ease-in-out overflow-hidden",T?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"),children:n.jsx(Dt,{className:"p-6",children:(()=>{const Ee=Object.entries(M);if(Ee.length===0){const Ae=(X==null?void 0:X.filter(Ye=>Ye.productId&&Number(Ye.quantity)>0))||[];return l.length===0&&Ae.length>0?n.jsx("div",{className:"space-y-3",children:Array.from({length:Math.min(Ae.length,3)}).map((Ye,be)=>n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]},`summary-loading-${be}`))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(TE,{className:"h-12 w-12 mx-auto mb-3 text-gray-400 dark:text-gray-500"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products selected yet"})]})}return n.jsxs("div",{className:"space-y-6",children:[Ee.map(([Ae,Ye])=>{const be=Object.keys(Ye.variants).length>0,ge=Ye.totalPrice||0,Me=_[Ae]??!0;return n.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>I(Ae),onKeyDown:xt=>{(xt.key==="Enter"||xt.key===" ")&&(xt.preventDefault(),I(Ae))},tabIndex:0,role:"button","aria-expanded":Me,"aria-label":`${Me?"Collapse":"Expand"} ${Ye.name} details`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-8 bg-secondary rounded-full"}),n.jsx(he,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-500 dark:text-gray-400",children:Me?n.jsx(li,{className:"h-4 w-4"}):n.jsx(wu,{className:"h-4 w-4"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-800 dark:text-gray-200",children:Ye.name}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:!Me&&be&&n.jsxs("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded-full",children:[Object.keys(Ye.variants).length," variant",Object.keys(Ye.variants).length!==1?"s":""]})})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:[Ye.totalQuantity," items"]}),n.jsx("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:bs(ge)})]})]}),Me&&be&&n.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-900/50",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-600 pb-2 mb-3",children:"Variant Distribution"}),n.jsx("div",{className:"grid gap-3",children:Object.entries(Ye.variants).map(([xt,jt])=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md p-3 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{children:n.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:jt.name})}),n.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:[jt.quantity," ",jt.unit||"Quantity"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:[jt.agencies.length>0&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Agencies:"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:jt.agencies.map((fe,Se)=>n.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full text-xs",children:fe},`agency-${Se}`))})]}),jt.depots.length>0&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Depots:"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:jt.depots.map((fe,Se)=>n.jsx("span",{className:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 px-2 py-1 rounded-full text-xs",children:fe},`depot-${Se}`))})]})]})]},`variant-${xt}`))})]}),Me&&!be&&n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-600 bg-yellow-50 dark:bg-yellow-900/20",children:n.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"No variant details available for this product"})})]},`summary-group-${Ae}`)}),n.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-lg p-4 border-2 border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Items:"}),n.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:[Object.values(M).reduce((Ae,Ye)=>Ae+Ye.totalQuantity,0)," Quantity"]})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Product Types:"}),n.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:Object.keys(M).length})]}),n.jsx("div",{className:"border-t border-gray-300 dark:border-gray-500 pt-2",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Total Order Value:"}),n.jsx("span",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:bs(j||0)})]})})]})})]})})()})})]})]});return n.jsx("div",{className:"space-y-8 mx-auto p-4 sm:p-6 lg:p-8",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:e==="create"?"Create New Order":"Edit Order"}),n.jsxs("form",{onSubmit:ae(Ne),children:[ot(),n.jsx("div",{className:"flex justify-end items-center pt-6 border-t dark:border-gray-700",children:n.jsxs(he,{type:"submit",disabled:F||De.isPending,className:"bg-gray-600 hover:bg-gray-700 text-white font-semibold px-6 py-2.5 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center gap-2",children:[F||De.isPending?n.jsx(Zr,{className:"h-5 w-5 animate-spin"}):n.jsx(I0,{className:"h-5 w-5"}),"Submit Order"]})})]})]})})},dxe=()=>n.jsx("div",{className:"container mx-auto space-y-6",children:n.jsxs(At,{children:[n.jsx(Mt,{}),n.jsx(Dt,{children:n.jsx(m$,{mode:"create"})})]})}),NS=()=>{var p,y,N,b,w;const{id:e}=Ra(),[t,r]=g.useState("details"),{data:s,isLoading:a}=Br({queryKey:["currentUserProfile"],queryFn:async()=>mt("/api/users/me"),staleTime:5*60*1e3}),{data:i,isLoading:o,isError:l}=Br({queryKey:["order",e],queryFn:async()=>{const j=await mt(`/vendor-orders/${e}`),S=j.items.map(A=>{var C,T,D,_,O,P,B,I;return{id:String(A.id),productId:String(A.productId),productName:((C=A.product)==null?void 0:C.name)||"Unknown Product",priceAtPurchase:Number(A.priceAtPurchase||0),deliveredQuantity:A.deliveredQuantity!==null&&A.deliveredQuantity!==void 0?Number(A.deliveredQuantity):void 0,receivedQuantity:A.receivedQuantity!==null&&A.receivedQuantity!==void 0?Number(A.receivedQuantity):void 0,quantity:Number(A.quantity||0),agencyId:(T=A.agency)!=null&&T.id?String(A.agency.id):void 0,agencyName:((D=A.agency)==null?void 0:D.name)||void 0,unit:((_=A.product)==null?void 0:_.unit)||void 0,depotId:(O=A.depot)!=null&&O.id?String(A.depot.id):void 0,depotName:((P=A.depot)==null?void 0:P.name)||void 0,depotVariantId:(B=A.depotVariant)!=null&&B.id?String(A.depotVariant.id):void 0,depotVariantName:((I=A.depotVariant)==null?void 0:I.name)||void 0}});return{...j,items:S}}}),u=g.useMemo(()=>i!=null&&i.items?(s==null?void 0:s.role)==="AGENCY"&&s.agencyId!=null?i.items.filter(j=>j.agencyId!=null&&String(j.agencyId)===String(s.agencyId)):i.items:[],[i,s]),f=j=>{switch(j){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"RECEIVED":return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}},h=j=>{switch(j){case"PENDING":return"Pending";case"DELIVERED":return"Delivered";case"RECEIVED":return"Received";default:const S=j;return S?S.charAt(0).toUpperCase()+S.slice(1):"Unknown Status"}},x=j=>{switch(j){case"PENDING":return"Order has been created and is awaiting vendor action.";case"DELIVERED":return"Order has been marked as delivered by the vendor.";case"RECEIVED":return"Order has been received and verified.";default:return`Order status is currently ${j||"unknown"}.`}};return o||a?n.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):l?n.jsx("div",{className:"container mx-auto py-10",children:n.jsx("p",{className:"text-center text-red-500",children:"Error loading order details."})}):i?n.jsxs("div",{className:"container mx-auto py-6 space-y-6 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:n.jsx("div",{children:n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Order #",i.poNumber]})})})}),n.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[n.jsx("button",{onClick:()=>r("details"),className:Je("whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm",t==="details"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-300":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Order Details"}),(s==null?void 0:s.role)!=="AGENCY"&&n.jsx("button",{onClick:()=>r("timeline"),className:Je("whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm",t==="timeline"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-300":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Order Timeline"})]})}),t==="details"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(At,{children:[n.jsx(Mt,{className:"pb-3",children:n.jsxs(Zt,{className:"text-xl flex items-center gap-2",children:[n.jsx(m0,{className:"h-5 w-5 text-secondary"}),"Order Information"]})}),n.jsx(Dt,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Order Number"}),n.jsx("p",{className:"mt-1 text-lg font-semibold",children:i.poNumber})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx("p",{className:"mt-1",children:n.jsx(Pr,{className:Je("font-medium border text-xs px-2.5 py-0.5",f(i.status)),children:h(i.status)})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Order Date"}),n.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:Gt(new Date(i.orderDate),"dd/MM/yyyy")})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Delivery Date"}),n.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:Gt(new Date(i.deliveryDate),"dd/MM/yyyy")})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Contact Person"}),n.jsx("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:i.contactPersonName})]})]})})]}),n.jsxs(At,{children:[n.jsx(Mt,{className:"pb-3",children:n.jsxs(Zt,{className:"text-xl flex items-center gap-2",children:[n.jsx(yo,{className:"h-5 w-5 text-secondary"}),"Order Items"]})}),n.jsx(Dt,{children:n.jsxs("div",{className:"overflow-hidden rounded-lg border border-gray-200 dark:border-gray-800",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-4 py-3 text-sm font-medium text-gray-500 dark:text-gray-400 grid grid-cols-12",children:[n.jsx("div",{className:"col-span-6",children:"Product"}),n.jsx("div",{className:"col-span-2 text-right",children:"Ordered"}),n.jsx("div",{className:"col-span-2 text-right",children:"Delivered"}),n.jsx("div",{className:"col-span-2 text-right",children:"Received"})]}),n.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-800 mb-2",children:u.map(j=>n.jsxs("div",{className:"mb-2 px-4 py-4 grid grid-cols-12 items-center",children:[n.jsx("div",{className:"col-span-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-md bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:n.jsx(yo,{className:"h-5 w-5 text-gray-500"})}),n.jsxs("div",{className:"ml-4",children:[n.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[j.productName," ",`(${j.depotVariantName})`]}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.depotName&&n.jsxs("span",{children:["Depot: ",j.depotName]})}),j.agencyName&&n.jsxs("p",{className:"text-xs text-secondary dark:text-blue-400",children:["Agency: ",j.agencyName]})]})]})}),n.jsxs("div",{className:"col-span-2 text-right",children:[j.quantity," ",j.depotVariantName&&n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:`(${j.depotVariantName})`})]}),n.jsx("div",{className:"col-span-2 text-right",children:typeof j.deliveredQuantity=="number"?n.jsxs(n.Fragment,{children:[j.deliveredQuantity," ",j.depotVariantName&&n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:`(${j.depotVariantName})`})]}):"-"}),n.jsx("div",{className:"col-span-2 text-right",children:typeof j.receivedQuantity=="number"?n.jsxs(n.Fragment,{children:[j.receivedQuantity," ",j.depotVariantName&&n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:`(${j.depotVariantName})`})]}):"-"})]},j.id))})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(At,{children:[n.jsx(Mt,{className:"pb-3",children:n.jsxs(Zt,{className:"text-xl flex items-center gap-2",children:[n.jsx(Wo,{className:"h-5 w-5 text-secondary"}),"Vendor Information"]})}),n.jsxs(Dt,{children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:(p=i==null?void 0:i.vendor)==null?void 0:p.name.substring(0,2).toUpperCase()}),n.jsx("div",{className:"ml-4",children:n.jsx("h3",{className:"font-semibold text-lg",children:(y=i==null?void 0:i.vendor)==null?void 0:y.name})})]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400 w-20",children:"Email:"}),n.jsx("span",{className:"font-medium",children:(N=i==null?void 0:i.vendor)==null?void 0:N.email})]}),n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400 w-20",children:"Phone:"}),n.jsx("span",{className:"font-medium",children:(b=i==null?void 0:i.vendor)==null?void 0:b.mobile})]}),n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400 w-20",children:"Address:"}),n.jsx("span",{className:"font-medium",children:(w=i==null?void 0:i.vendor)==null?void 0:w.address})]})]})]})]}),n.jsxs(At,{children:[n.jsx(Mt,{className:"pb-3",children:n.jsxs(Zt,{className:"text-xl flex items-center gap-2",children:[n.jsx(Kx,{className:"h-5 w-5 text-secondary"}),"Status Update"]})}),n.jsx(Dt,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-gray-900",children:[n.jsx("h3",{className:"font-medium mb-2",children:"Current Status"}),n.jsx(Pr,{className:Je("font-medium border text-xs px-2.5 py-0.5",f(i.status)),children:h(i.status)}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:x(i.status)})]})})})]})]})]}),t==="timeline"&&(s==null?void 0:s.role)!=="AGENCY"&&n.jsxs(At,{className:"mt-6",children:[n.jsx(Mt,{children:n.jsx(Zt,{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Order Progress Timeline"})}),n.jsx(Dt,{children:n.jsx("div",{className:"relative pl-6 space-y-4 before:absolute before:inset-y-0 before:left-6 before:w-0.5 before:bg-gray-300 dark:before:bg-gray-700",children:(()=>{const j=["PENDING","DELIVERED","RECEIVED"],S=j.indexOf(i.status);return[{title:"Order Created",icon:n.jsx(m0,{className:"h-5 w-5 text-white"}),iconBg:"bg-secondary",time:Gt(new Date(i.createdAt),"dd/MM/yyyy"),description:`Order #${i.poNumber} was created with ${i.items.length} product(s).`,stepStatus:"PENDING"},{title:"Order Delivered",activeIcon:n.jsx(io,{className:"h-5 w-5 text-white"}),activeIconBg:"bg-primary",placeholderIcon:n.jsx(Wo,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),placeholderIconBg:"bg-gray-300 dark:bg-gray-700",time:i.status==="DELIVERED"||i.status==="RECEIVED"?Gt(new Date(i.updatedAt),"dd/MM/yyyy HH:mm"):"Awaiting delivery",description:"Order has been marked as delivered by the vendor.",stepStatus:"DELIVERED"},{title:"Order Received",activeIcon:n.jsx(dQ,{className:"h-5 w-5 text-white"}),activeIconBg:"bg-purple-500",placeholderIcon:n.jsx(yo,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),placeholderIconBg:"bg-gray-300 dark:bg-gray-700",time:i.status==="RECEIVED"?Gt(new Date(i.updatedAt),"dd/MM/yyyy HH:mm"):"Awaiting confirmation",description:"Order has been received and verified.",stepStatus:"RECEIVED"}].map(C=>{const T=j.indexOf(C.stepStatus);let D,_,O,P;return S===T?(D=C.activeIcon||C.icon,_=C.activeIconBg||C.iconBg,O="bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800 shadow-sm",P="font-semibold text-gray-900 dark:text-gray-100"):S>T?(D=C.activeIcon||C.icon,_=C.activeIconBg||C.iconBg,O="bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800 shadow-sm opacity-80",P="font-semibold text-gray-700 dark:text-gray-300"):(D=C.placeholderIcon||C.icon,_=C.placeholderIconBg||C.iconBg,O="bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 border-dashed opacity-70",P="font-semibold text-gray-600 dark:text-gray-400"),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`absolute left-0 top-2 -ml-6 h-10 w-10 rounded-full flex items-center justify-center border-4 border-white dark:border-gray-900 ${_}`,children:D}),n.jsxs("div",{className:`p-4 rounded-lg border shadow-sm ml-8 ${O}`,children:[n.jsx("h3",{className:`${P} flex items-center`,children:C.title}),n.jsx("time",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mt-1 mb-2",children:C.time}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:C.description})]})]},C.title)})})()})})]})]}):n.jsx("div",{className:"container mx-auto py-10",children:n.jsx("p",{className:"text-center text-gray-500",children:"Order data not available."})})},uxe=()=>{const{id:e}=Ra(),t=jr(),[r,s]=g.useState(null),{data:a,isLoading:i,isError:o}=Br({queryKey:["order",e],queryFn:async()=>await mt(`/vendor-orders/${e}`)});g.useEffect(()=>{if(a){const u={poNumber:a.poNumber,orderDate:new Date(a.orderDate),deliveryDate:new Date(a.deliveryDate),contactPersonName:a.contactPersonName,vendorId:a.vendorId,notes:a.notes||"",orderItems:a.items.map(f=>({productId:f.productId,quantity:f.quantity,agencyId:f.agencyId||"",depotId:String(f.depotId||""),depotVariantId:String(f.depotVariantId||"")}))};s(u)}},[a]);const l=()=>{t("/admin/orders")};return i?n.jsx("div",{className:"container mx-auto py-6",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})})}):o?n.jsx("div",{className:"container mx-auto py-6",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx(At,{className:"bg-red-50 dark:bg-red-950 border-red-100 dark:border-red-900",children:n.jsx(Dt,{className:"p-6 text-center",children:n.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Failed to load order details. Please try again."})})})})}):n.jsxs("div",{className:"container mx-auto py-6",children:[n.jsx("div",{className:"max-w-7xl mx-auto w-full mb-6"}),r&&n.jsx(m$,{mode:"edit",orderId:e,initialData:r,onSuccess:l})]})},fxe=()=>{var x,p;const{id:e}=Ra(),t=jr(),[r,s]=g.useState({}),a=Gr({mutationFn:y=>{if(!e)throw new Error("Order ID is missing for delivery submission.");return un(`/vendor-orders/${e}/record-delivery`,y)},onSuccess:()=>{me.success("Delivery recorded successfully!"),t("/admin/orders")},onError:y=>{var N,b;me.error(((b=(N=y==null?void 0:y.response)==null?void 0:N.data)==null?void 0:b.message)||"Failed to record delivery. Please try again."),console.error("Submit delivery error:",y)}}),{data:i,isLoading:o,isError:l}=Br({queryKey:["order",e,"delivery"],queryFn:async()=>{var w;if(!e)throw new Error("Order ID is undefined");const y=await mt(`/vendor-orders/${e}`),N=y.items.map(j=>{var S,A,C,T,D,_,O,P;return{id:String(j.id),productId:String(j.productId),productName:((S=j.product)==null?void 0:S.name)||"Unknown Product",productUnit:((A=j.product)==null?void 0:A.unit)||"",priceAtPurchase:Number(j.priceAtPurchase||0),quantity:Number(j.quantity||0),agencyId:(C=j.agency)!=null&&C.id?String(j.agency.id):void 0,agencyName:((T=j.agency)==null?void 0:T.name)||void 0,depotId:(D=j.depot)!=null&&D.id?String(j.depot.id):void 0,depotName:((_=j.depot)==null?void 0:_.name)||void 0,depotVariantId:(O=j.depotVariant)!=null&&O.id?String(j.depotVariant.id):void 0,depotVariantName:((P=j.depotVariant)==null?void 0:P.name)||void 0}}),b=((w=y.status)==null?void 0:w.toUpperCase())||"PENDING";return{...y,items:N,status:b}},enabled:!!e});g.useEffect(()=>{if(i){const y=i.items.reduce((N,b)=>(N[b.id]=String(b.quantity),N),{});s(y)}},[i]);const u=(y,N)=>{const b=i==null?void 0:i.items.find(w=>w.id===y);if(b){const w=parseInt(N,10);if(!isNaN(w)&&w>b.quantity){me.error(`Delivered quantity for ${b.productName} cannot exceed ordered quantity of ${b.quantity}.`),s(j=>({...j,[y]:String(b.quantity)}));return}}s(w=>({...w,[y]:N}))},f=async()=>{if(!i||!e){me.error("Order details are not available. Cannot submit delivery.");return}const y=i.items.map(N=>({orderItemId:N.id,deliveredQuantity:parseInt(r[N.id]||String(N.quantity),10)}));for(const N of y){const b=i.items.find(w=>w.id===N.orderItemId);if(N.deliveredQuantity<0){me.error(`Delivered quantity for ${(b==null?void 0:b.productName)||"an item"} cannot be negative.`);return}}a.mutate({items:y})},h=(y="")=>{switch(y.toUpperCase()){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"RECEIVED":return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}};return o?n.jsx("div",{className:"p-6",children:"Loading order details..."}):l||!i?n.jsx("div",{className:"p-6 text-red-500",children:"Error loading order details. Please try again."}):n.jsx("div",{className:"p-4 md:p-6 space-y-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsxs("div",{className:"lg:w-2/3 space-y-6",children:[n.jsxs(At,{children:[n.jsx(Mt,{className:"flex flex-row items-center justify-between pb-4",children:n.jsxs(Zt,{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:["Record Delivery for Order #",i.poNumber]})}),n.jsx(Dt,{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"PO Number"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:i.poNumber})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Order Date"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Gt(new Date(i.orderDate),"dd/MM/yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expected Delivery Date"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Gt(new Date(i.deliveryDate),"dd/MM/yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx(Pr,{className:Je("text-xs font-semibold px-2 py-0.5 rounded-full",h(i.status)),children:i.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Contact Person"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:i.contactPersonName})]})]})})]}),n.jsxs(At,{children:[n.jsx(Mt,{children:n.jsx(Zt,{className:"text-xl font-medium text-gray-800 dark:text-gray-100",children:"Order Items"})}),n.jsx(Dt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Product"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Agency"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ordered Qty"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Delivered Qty"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-gray-800/50 divide-y divide-gray-200 dark:divide-gray-700",children:i.items.map(y=>{var N;return n.jsxs("tr",{children:[n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:y.productName}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[y.depotName&&n.jsxs("span",{children:["Depot: ",y.depotName]}),y.depotVariantName&&n.jsxs("span",{children:[" (",y.depotVariantName,")"]})]})]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:y.agencyName||"N/A"}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right text-gray-500 dark:text-gray-400",children:[y.quantity," ",y.depotVariantName&&`(${y.depotVariantName})`]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx(tt,{type:"number",value:r[y.id]||"",onChange:b=>u(y.id,b.target.value),onFocus:b=>b.target.select(),className:"w-20 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 text-right pr-1",min:"0",disabled:((N=i==null?void 0:i.status)==null?void 0:N.toUpperCase())==="DELIVERED"}),y.depotVariantName&&n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:y.depotVariantName})]})})]},y.id)})})]})})}),n.jsxs(xh,{className:"flex flex-col items-end pt-4",children:[((x=i==null?void 0:i.status)==null?void 0:x.toUpperCase())==="DELIVERED"&&n.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mb-2",children:"Delivery has already been recorded for this order and cannot be modified."}),n.jsxs(he,{onClick:f,className:"flex items-center",disabled:((p=i==null?void 0:i.status)==null?void 0:p.toUpperCase())==="DELIVERED"||a.isPending,children:[n.jsx(Kx,{className:"h-4 w-4 mr-2"})," Submit Delivery"]})]})]})]}),n.jsx("div",{className:"lg:w-1/3 space-y-6",children:n.jsxs(At,{children:[n.jsx(Mt,{children:n.jsx(Zt,{className:"text-xl font-medium text-gray-800 dark:text-gray-100",children:"Vendor Details"})}),n.jsxs(Dt,{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-600 dark:text-gray-300",children:"Name:"})," ",i.vendor.name]}),n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-600 dark:text-gray-300",children:"Email:"})," ",i.vendor.email]}),n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-600 dark:text-gray-300",children:"Mobile:"})," ",i.vendor.mobile]}),n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-600 dark:text-gray-300",children:"Address:"})," ",i.vendor.address]})]})]})})]})})},hxe=e=>{const t={DAYS_7:"7 Days",DAYS_15:"15 Days",DAYS_30:"1 Month",DAYS_90:"3 Months"};if(typeof e=="string"&&t[e])return t[e];const r=String(e),s={7:"7 Days",15:"15 Days",30:"1 Month",90:"3 Months"};return s[r]?s[r]:r.startsWith("DAYS_")?r.replace("DAYS_","")+" Days":isNaN(Number(r))?r:`${r} Days`},mxe=(e,t,r,s)=>{let a="";switch(e){case"DAILY":a="Daily";break;case"ALTERNATE_DAYS":a="Alternate Days";break;case"SELECT_DAYS":a=`Selected Days (${(t==null?void 0:t.map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(", "))||"N/A"})`;break;case"VARYING":a="Varying Quantities";break;default:a=e}return e==="VARYING"&&r&&s?`${a} (${r} / ${s})`:r?`${a} - ${r} unit(s)`:a},pxe=()=>{const{data:e,isLoading:t,error:r}=Br({queryKey:["mySubscriptions"],queryFn:async()=>mt("/subscriptions"),refetchOnWindowFocus:!0,refetchOnMount:!0,staleTime:3e5,gcTime:6e5});return t?n.jsxs("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:[n.jsx(Zr,{className:"h-12 w-12 animate-spin text-primary"}),n.jsx("p",{className:"ml-3 text-lg text-gray-600",children:"Loading your subscriptions..."})]}):r?n.jsx("div",{className:"container mx-auto p-4",children:n.jsxs(Va,{variant:"destructive",className:"mt-4",children:[n.jsx(Ii,{children:"Error Loading Subscriptions"}),n.jsxs(qa,{children:["We encountered an issue while fetching your subscriptions. Please try again later or contact support if the problem persists.",n.jsxs("p",{className:"mt-2 text-xs",children:["Error: ",r.message]})]})]})}):n.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"My Active Subscriptions"}),e&&e.length>0&&n.jsxs("span",{className:"px-3 py-1 text-sm font-semibold text-primary bg-primary-foreground rounded-full",children:[e.length," Active"]})]}),e&&e.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:e==null?void 0:e.map(s=>{var a,i,o;return n.jsxs(At,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300 ease-in-out rounded-lg overflow-hidden flex flex-col",children:[n.jsx(Mt,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:n.jsx(Zt,{className:"text-lg font-semibold text-primary",children:s.product.name})}),n.jsxs(Dt,{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300 p-4 flex-grow",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Quantity:"})," ",s.qty," ",s.product.unit,s.qty>1?"s":"",s.altQty?n.jsxs(n.Fragment,{children:[" "," & ",s.altQty," ",s.product.unit,s.altQty>1?"s":""]}):null]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Period:"})," ",hxe(s.period)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Starts On:"})," ",Gt(new Date(s.startDate),"dd/MM/yyyy")]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Expires On:"})," ",Gt(new Date(s.expiryDate),"dd/MM/yyyy")]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Delivery:"})," ",mxe(s.deliverySchedule,s.selectedDays,s.qty,s.altQty)]}),s.paymentStatus&&n.jsxs("p",{children:[n.jsx("strong",{children:"Payment:"})," ",n.jsx("span",{className:`capitalize font-medium ${s.paymentStatus==="PAID"?"text-green-600":"text-orange-500"}`,children:s.paymentStatus.toLowerCase()})]}),s.agency&&n.jsxs("p",{children:[n.jsx("strong",{children:"Assigned Agent:"})," ",s.agency.user.name]}),s.deliveryAddress&&n.jsxs("p",{children:[n.jsx("strong",{children:"Delivering to:"})," ",`${((a=s.deliveryAddress)==null?void 0:a.streetArea)&&((i=s.deliveryAddress)==null?void 0:i.streetArea)}, ${s.deliveryAddress.landmark&&s.deliveryAddress.landmark}, ${s.deliveryAddress.city}, ${s.deliveryAddress.state} ${s.deliveryAddress.pincode}`]}),s.amount!==void 0&&n.jsxs("p",{className:"font-semibold text-base",children:[n.jsx("strong",{children:"Total Amount:"})," ₹",s.amount.toFixed(2)]})]}),n.jsx(xh,{className:"p-4 pt-0",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-2",children:[s.paymentStatus==="PAID"&&n.jsx(Rr,{to:`/manage-subscription/${s.id}`,className:"w-full sm:flex-1",children:n.jsx(he,{variant:"outline",className:"w-full",children:"Manage"})}),((o=s.productOrder)==null?void 0:o.invoicePath)&&n.jsxs(he,{onClick:()=>{const u=`https://www.indraai.in///invoices/${s.productOrder.invoicePath}`;window.open(u,"_blank")},variant:"outline",className:"w-full sm:flex-1 flex items-center justify-center gap-2",children:[n.jsx(TT,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Download Invoice"})]})]})})]},s.id)})}):n.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-10 py-12 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-800/30",children:[n.jsx(TE,{className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-500"}),n.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900 dark:text-white",children:"No Active Subscriptions Found"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"It looks like you don't have any active subscriptions at the moment."})]})]})},xxe=e=>{const t={DAYS_7:"7 Days",DAYS_15:"15 Days",DAYS_30:"1 Month",DAYS_90:"3 Months"};if(typeof e=="string"&&t[e])return t[e];const r=String(e),s={7:"7 Days",15:"15 Days",30:"1 Month",90:"3 Months"};return s[r]?s[r]:r.startsWith("DAYS_")?r.replace("DAYS_","")+" Days":isNaN(Number(r))?r:`${r} Days`},gxe=(e,t,r,s)=>{let a="";switch(e){case"DAILY":a="Daily";break;case"ALTERNATE_DAYS":a="Alternate Days";break;case"SELECT_DAYS":a=`Selected Days (${(t==null?void 0:t.map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(", "))||"N/A"})`;break;case"VARYING":a="Varying Quantities";break;default:a=e}return e==="VARYING"&&r&&s?`${a} (${r} / ${s})`:r?`${a} - ${r} unit(s)`:a},yxe=async e=>{console.log(`Fetching subscription details for ${e} using apiService...`);try{return await mt(`subscriptions/${e}`)}catch(t){if(t.status===404)return console.warn(t.message),null;throw t}},vxe=()=>{var j,S,A,C,T;const{id:e}=Ra(),[t,r]=g.useState(null),[s,a]=g.useState({}),[i,o]=g.useState({isOpen:!1,deliveryId:null}),[l,u]=g.useState([]),[f,h]=g.useState(!0),[x,p]=g.useState(null),y=Ic(new Date);g.useEffect(()=>{if(!e){p("Subscription ID is missing."),h(!1);return}(async()=>{h(!0);try{const _=await yxe(e);_?(r(_),N(_)):p("Subscription not found.")}catch(_){const O=_;p(O.message||"Failed to load subscription details."),console.error("Error in fetchDetails useEffect:",O)}h(!1)})()},[e]);const N=D=>{if(!D.deliveryScheduleEntries||D.deliveryScheduleEntries.length===0){console.warn("No delivery schedule entries received from backend. Displaying empty schedule."),u([]);return}const _=Ic(new Date),O=D.deliveryScheduleEntries.map(P=>{const B=jde(P.deliveryDate);let I;switch(P.status){case"SKIPPED":case"SKIPPED":I="SKIPPED";break;case"PENDING":I=B.getTime()===_.getTime()?"SCHEDULED":"PENDING";break;case"DELIVERED":I="DELIVERED";break;case"NOT_DELIVERED":I="NOT_DELIVERED";break;case"CANCELLED":I="CANCELLED";break;default:I=B<_?"DELIVERED":B.getTime()===_.getTime()?"SCHEDULED":"PENDING"}return{id:P.id,date:B,status:I,originalQty:P.quantity}});O.sort((P,B)=>P.date.getTime()-B.date.getTime()),u(O)},b=async()=>{var _,O;if(!i.deliveryId)return;const D=i.deliveryId;a(P=>({...P,[D]:!0})),o({isOpen:!1,deliveryId:null});try{const P=await zi(`/subscriptions/member/deliveries/${D}/skip`,{});u(B=>B.map(I=>I.id===D?{...I,status:"SKIPPED"}:I)),me.success(P.message||"Delivery action processed successfully!")}catch(P){console.error("Failed to process delivery skip/refund:",P);const B=((O=(_=P==null?void 0:P.response)==null?void 0:_.data)==null?void 0:O.message)||P.message||"Could not process delivery action. Please try again.";me.error(B)}a(P=>({...P,[D]:!1}))},w=async D=>{o({isOpen:!0,deliveryId:D})};return f?n.jsxs("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:[n.jsx(Zr,{className:"h-12 w-12 animate-spin text-primary"}),n.jsx("p",{className:"ml-3 text-lg text-gray-600",children:"Loading subscription details..."})]}):x||!t?n.jsx("div",{className:"container mx-auto p-4",children:n.jsxs(Va,{variant:"destructive",className:"mt-4",children:[n.jsx(Ii,{children:"Error"}),n.jsx(qa,{children:x||"Could not load subscription details."})]})}):n.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[n.jsxs(At,{className:"shadow-lg mb-6",children:[n.jsx(Mt,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:n.jsx(Zt,{className:"text-xl md:text-2xl font-bold text-primary",children:"Subscription Info"})}),n.jsxs(Dt,{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300 p-4",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Product:"})," ",t.product.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Quantity:"})," ",t.qty," ",t.product.unit,t.qty>1?"s":"",t.altQty?n.jsxs(n.Fragment,{children:[" "," & ",t.altQty," ",t.product.unit,t.altQty>1?"s":""]}):null]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Period:"})," ",xxe(t.period)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Starts On:"})," ",Gt(new Date(t.startDate),"dd/MM/yyyy")]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Expires On:"})," ",Gt(new Date(t.expiryDate),"dd/MM/yyyy")]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Delivery:"})," ",gxe(t.deliverySchedule,t.selectedDays,t.qty,t.altQty)]}),t.paymentStatus&&n.jsxs("p",{children:[n.jsx("strong",{children:"Payment:"})," ",n.jsx("span",{className:`capitalize font-medium ${t.paymentStatus==="PAID"?"text-green-600":"text-orange-500"}`,children:t.paymentStatus.toLowerCase()})]}),t.agency&&n.jsxs("p",{children:[n.jsx("strong",{children:"Assigned Agent:"})," ",t.agency.user.name]}),t.deliveryAddress&&n.jsxs("p",{children:[n.jsx("strong",{children:"Delivering to:"})," ",`${((j=t.deliveryAddress)==null?void 0:j.streetArea)&&((S=t.deliveryAddress)==null?void 0:S.streetArea)}, ${((A=t.deliveryAddress)==null?void 0:A.landmark)&&((C=t.deliveryAddress)==null?void 0:C.landmark)}, ${t.deliveryAddress.city}, ${t.deliveryAddress.state} ${t.deliveryAddress.pincode}`]}),t.amount!==void 0&&n.jsxs("p",{className:"font-semibold text-base",children:[n.jsx("strong",{children:"Total Amount:"})," ₹",t.amount.toFixed(2)]})]}),((T=t.productOrder)==null?void 0:T.invoicePath)&&n.jsx("div",{className:"px-4 pb-4",children:n.jsxs(he,{onClick:()=>{const _=`https://www.indraai.in///invoices/${t.productOrder.invoicePath}`;window.open(_,"_blank")},variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[n.jsx(TT,{className:"h-4 w-4"}),"Download Invoice"]})})]}),n.jsxs(At,{className:"shadow-lg",children:[n.jsx(Mt,{className:"bg-gray-50 dark:bg-gray-800 pb-4",children:n.jsxs(Zt,{className:"text-xl md:text-2xl font-bold text-primary",children:["Manage Subscription: ",t.product.name]})}),n.jsxs(Dt,{className:"p-4 md:p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center",children:[n.jsx(SE,{className:"mr-2 h-5 w-5 text-primary"})," Delivery Schedule"]}),l.length>0?n.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:l.map((D,_)=>(console.log(`Rendering delivery - ID: ${JSON.stringify(D)}, Status: ${D.status}, Date: ${D.date?D.date.toISOString():"N/A"}, isAfterToday: ${D.date?Hm(D.date,y):"N/A"}`),n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-md border ${D.status==="SKIPPED"?"bg-red-50 border-red-200 dark:bg-red-900/30 dark:border-red-700":D.status==="DELIVERED"?"bg-green-50 border-green-200 dark:bg-green-900/30 dark:border-green-700":D.date.getTime()===y.getTime()?"bg-blue-50 border-blue-200 dark:bg-blue-900/30 dark:border-blue-700":"bg-gray-50 border-gray-200 dark:bg-gray-700/30 dark:border-gray-600"}`,children:[n.jsxs("div",{className:"flex items-center",children:[D.status==="SKIPPED"&&n.jsx(Zo,{className:"h-5 w-5 mr-2 text-red-500 flex-shrink-0"}),D.status==="DELIVERED"&&n.jsx(rl,{className:"h-5 w-5 mr-2 text-green-500 flex-shrink-0"}),D.status==="NOT_DELIVERED"&&n.jsx(Zo,{className:"h-5 w-5 mr-2 text-orange-500 flex-shrink-0"}),D.status==="CANCELLED"&&n.jsx(Zo,{className:"h-5 w-5 mr-2 text-gray-400 flex-shrink-0"}),(D.status==="PENDING"||D.status==="SCHEDULED")&&n.jsx(SE,{className:"h-5 w-5 mr-2 text-gray-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:Gt(D.date,"EEE, dd/MM/yyyy")}),n.jsx("span",{className:`ml-2 text-xs font-semibold px-2 py-0.5 rounded-full ${D.status==="SKIPPED"?"bg-red-100 text-red-700 dark:bg-red-700 dark:text-red-100":D.status==="DELIVERED"?"bg-green-100 text-green-700 dark:bg-primary dark:text-green-100":D.status==="NOT_DELIVERED"?"bg-orange-100 text-orange-700 dark:bg-orange-700 dark:text-orange-100":D.status==="CANCELLED"?"bg-gray-200 text-gray-600 dark:bg-gray-600 dark:text-gray-300":D.date.getTime()===y.getTime()&&D.status==="SCHEDULED"?"bg-blue-100 text-blue-700 dark:bg-blue-700 dark:text-blue-100":"bg-gray-100 text-gray-700 dark:bg-gray-600 dark:text-gray-200"}`,children:D.date.getTime()===y.getTime()&&D.status==="SCHEDULED"?"TODAY":D.status})]})]}),Hm(Ic(D.date),y)&&(D.status==="PENDING"||D.status==="SCHEDULED")&&n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>w(D.id),disabled:s[D.id],className:"flex items-center text-sm text-amber-600 hover:bg-amber-50 dark:text-amber-400 dark:hover:bg-amber-900/50 border-amber-300 hover:border-amber-400",children:[s[D.id]?n.jsx(Zr,{className:"mr-1.5 h-4 w-4 animate-spin"}):n.jsx(CQ,{className:"mr-1.5 h-4 w-4"}),s[D.id]?"Skipping...":"Skip"]}),D.status==="SKIPPED"&&Hm(D.date,y)&&n.jsx("span",{className:"text-xs text-red-500 italic ml-auto",children:"Skipped by you"})]},_)))}):n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No delivery dates found for this subscription."})]})]}),n.jsx(aa,{open:i.isOpen,onOpenChange:D=>o({...i,isOpen:D}),children:n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Are you sure you want to skip this delivery?"}),n.jsx(da,{children:"This action cannot be undone. Skipping will prevent the delivery for the selected date. If a refund is applicable for a pre-paid delivery, it will be processed automatically to your wallet."})]}),n.jsxs(la,{children:[n.jsx(fa,{onClick:()=>o({isOpen:!1,deliveryId:null}),children:"Cancel"}),n.jsx(ua,{onClick:b,children:"Confirm Skip"})]})]})})]})},bxe=()=>{var y,N,b,w;const{id:e}=Ra(),t=jr(),[r,s]=g.useState({}),{data:a,isLoading:i}=Br({queryKey:["currentUserProfile"],queryFn:async()=>mt("/api/users/me")}),o=Gr({mutationFn:j=>{if(!e)throw new Error("Order ID is missing for receipt submission.");return un(`/vendor-orders/${e}/record-receipt`,j)},onSuccess:()=>{me.success("Receipt recorded successfully!"),TR.invalidateQueries({queryKey:["order",e]}),TR.invalidateQueries({queryKey:["orders"]}),t("/admin/orders")},onError:j=>{var S,A;me.error(((A=(S=j==null?void 0:j.response)==null?void 0:S.data)==null?void 0:A.message)||"Failed to record receipt. Please try again."),console.error("Submit receipt error:",j)}}),{data:l,isLoading:u,isError:f}=Br({queryKey:["order",e,"receipt"],queryFn:async()=>{var C;if(!e)throw new Error("Order ID is undefined");const j=await mt(`/vendor-orders/${e}`),S=j.items.map(T=>{var D,_,O,P,B,I,G;return{id:String(T.id),productId:String(T.productId),productName:((D=T.product)==null?void 0:D.name)||"Unknown Product",priceAtPurchase:Number(T.priceAtPurchase||0),quantity:Number(T.quantity||0),deliveredQuantity:T.deliveredQuantity!==null&&T.deliveredQuantity!==void 0?Number(T.deliveredQuantity):void 0,agencyId:(_=T.agency)!=null&&_.id?String(T.agency.id):void 0,agencyName:((O=T.agency)==null?void 0:O.name)||void 0,depotId:(P=T.depot)!=null&&P.id?String(T.depot.id):void 0,depotName:((B=T.depot)==null?void 0:B.name)||void 0,depotVariantId:(I=T.depotVariant)!=null&&I.id?String(T.depotVariant.id):void 0,depotVariantName:((G=T.depotVariant)==null?void 0:G.name)||void 0}}),A=((C=j.status)==null?void 0:C.toUpperCase())||"PENDING";return{...j,items:S,status:A}},enabled:!!e});g.useEffect(()=>{if(l){const j=l.items.reduce((S,A)=>(S[A.id]=String(A.deliveredQuantity??A.quantity),S),{});s(j)}},[l]);const h=(j,S)=>{const A=l==null?void 0:l.items.find(C=>C.id===j);if(A&&typeof A.deliveredQuantity<"u"){const C=parseInt(S,10);if(!isNaN(C)&&C>A.deliveredQuantity){me.error(`Received quantity for ${A.productName} cannot exceed delivered quantity of ${A.deliveredQuantity}.`),s(T=>({...T,[j]:String(A.deliveredQuantity)}));return}}s(C=>({...C,[j]:S}))},x=()=>{if(!l||!l.items||!a){me.error("Order data or user profile is not loaded yet.");return}let j=null;a.role==="AGENCY"&&a.agencyId!=null&&(j=new Set(l.items.filter(A=>A.agencyId!=null&&String(A.agencyId)===String(a.agencyId)).map(A=>A.id)));const S=Object.entries(r).filter(([A])=>j?j.has(A):!0).map(([A,C])=>{const T=l.items.find(_=>_.id===A);if(!T)return null;const D=parseInt(C,10);return isNaN(D)||D<0?(me.info(`Invalid quantity for item ${T.productName}. Please enter a valid non-negative number.`),null):T.deliveredQuantity!==void 0&&D>T.deliveredQuantity?(me.info(`Received quantity for ${T.productName} (${D}) cannot exceed delivered quantity (${T.deliveredQuantity}).`),null):{orderItemId:A,receivedQuantity:D}}).filter(A=>A!==null);if(S.length===0){me.info(a.role==="AGENCY"?"No quantities entered for your agency's items, or all quantities are invalid/exceed delivered amounts. Nothing to submit.":"No quantities entered or all quantities are invalid/exceed delivered amounts. Nothing to submit.");return}o.mutate({items:S})},p=(j="")=>{switch(j.toUpperCase()){case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"DELIVERED":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800";case"PARTIALLY_RECEIVED":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800";case"RECEIVED":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-800"}};return u||i?n.jsx("div",{className:"p-6",children:"Loading order details..."}):f||!l?n.jsx("div",{className:"p-6 text-red-500",children:"Error loading order details. Please try again."}):n.jsx("div",{className:"p-4 md:p-6 space-y-6 bg-gray-50 dark:bg-gray-950 min-h-screen",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"lg:w-2/3 space-y-6",children:n.jsxs(At,{children:[n.jsx(Mt,{className:"flex flex-row items-center justify-between pb-4",children:n.jsxs(Zt,{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:["Record Receipt for Order #",l.poNumber]})}),n.jsxs(Dt,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"PO Number"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:l.poNumber})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Order Date"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Gt(new Date(l.orderDate),"dd/MM/yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expected Delivery Date"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:Gt(new Date(l.deliveryDate),"dd/MM/yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx(Pr,{className:Je("text-xs font-semibold px-2 py-0.5 rounded-full",p(l.status)),children:l.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Contact Person"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:l.contactPersonName})]})]}),n.jsxs("div",{className:"space-y-1 pt-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Order Items"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Enter the quantity received for each item."})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Product"}),n.jsx("th",{className:"px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300",children:"Ordered"}),n.jsx("th",{className:"px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300",children:"Delivered"}),n.jsx("th",{className:"px-4 py-2 text-right font-medium text-gray-600 dark:text-gray-300 w-32",children:"Received Qty"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:((a==null?void 0:a.role)==="AGENCY"&&(a==null?void 0:a.agencyId)!=null?((l==null?void 0:l.items)||[]).filter(j=>j.agencyId!=null&&String(j.agencyId)===String(a.agencyId)):(l==null?void 0:l.items)||[]).map(j=>n.jsxs("tr",{children:[n.jsxs("td",{className:"px-4 py-3 text-gray-800 dark:text-gray-200",children:[j.productName,n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[j.depotName&&n.jsxs("span",{children:["Depot: ",j.depotName]}),j.depotVariantName&&n.jsxs("span",{children:[" (",j.depotVariantName,")"]})]}),j.agencyName&&n.jsxs("span",{className:"block text-xs text-gray-500 dark:text-gray-400",children:["Agency: ",j.agencyName]})]}),n.jsxs("td",{className:"px-4 py-3 text-right text-gray-600 dark:text-gray-300",children:[j.quantity," ",j.depotVariantName&&`(${j.depotVariantName})`]}),n.jsx("td",{className:"px-4 py-3 text-right text-gray-600 dark:text-gray-300",children:j.deliveredQuantity!=null?`${j.deliveredQuantity} (${j.depotVariantName})`:"N/A"}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx(tt,{type:"number",value:r[j.id]||"",onChange:S=>h(j.id,S.target.value),className:"w-24 text-right dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 pr-1",min:"0"}),j.depotVariantName&&n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.depotVariantName})]})})]},j.id))})]})})]}),n.jsxs(xh,{className:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs(he,{variant:"outline",onClick:()=>t(-1),className:"mr-3",disabled:o.isPending||i,children:[n.jsx(_x,{className:"h-4 w-4 mr-1.5"})," Cancel"]}),n.jsxs(he,{onClick:x,disabled:o.isPending||Object.keys(r).length===0||i,className:"flex items-center",children:[n.jsx(Kx,{className:"h-4 w-4 mr-1.5"}),o.isPending?"Submitting...":"Submit Received Quantities"]})]})]})}),n.jsx("div",{className:"lg:w-1/3 space-y-6",children:n.jsxs(At,{children:[n.jsx(Mt,{children:n.jsx(Zt,{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Vendor Details"})}),n.jsxs(Dt,{className:"space-y-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Name"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:(y=l==null?void 0:l.vendor)==null?void 0:y.name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Email"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:(N=l==null?void 0:l.vendor)==null?void 0:N.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Mobile"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:(b=l==null?void 0:l.vendor)==null?void 0:b.mobile})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Address"}),n.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:(w=l==null?void 0:l.vendor)==null?void 0:w.address})]})]})]})})]})})},TR=new uI,wxe=async(e,t,r,s,a)=>{const i=await mt(`/products?page=${e}&sortBy=${t}&sortOrder=${r}&search=${s}&limit=${a}`);return Array.isArray(i),i},Nxe=()=>{const e=qn(),t=jr(),s=Oa().pathname.includes("/admin/"),[a,i]=g.useState(1),[o,l]=g.useState(10),[u,f]=g.useState("createdAt"),[h,x]=g.useState("desc"),[p,y]=g.useState(""),[N,b]=g.useState(!1);g.useEffect(()=>{try{const X=localStorage.getItem("user");if(X){const q=JSON.parse(X);q&&q.role==="ADMIN"&&b(!0)}}catch(X){console.error("Failed to parse user data from localStorage",X)}},[]);const[w,j]=g.useState(!1),[S,A]=g.useState(null),{data:C,isLoading:T,isError:D,error:_}=Br({queryKey:["products",a,u,h,p,o],queryFn:()=>wxe(a,u,h,p,o),placeholderData:X=>X}),O=Array.isArray(C)?C:(C==null?void 0:C.data)||[],P=Array.isArray(C)?Math.ceil(C.length/o):(C==null?void 0:C.totalPages)||1,B=Array.isArray(C)?C.length:(C==null?void 0:C.totalRecords)||0,I=Gr({mutationFn:X=>Hn(`/products/${X}`),onSuccess:()=>{me.success("Product deleted successfully!"),e.invalidateQueries({queryKey:["products"]}),j(!1),A(null)},onError:X=>{me.error(`Failed to delete product: ${X.message}`),j(!1),A(null)}}),G=X=>{u===X?x(h==="asc"?"desc":"asc"):(f(X),x("asc")),i(1)},z=X=>{y(X.target.value),i(1)},ae=X=>{A(X),j(!0)},J=()=>{S!==null&&I.mutate(S)},L=X=>u===X?h==="asc"?n.jsx(kc,{size:16}):n.jsx(li,{size:16}):null,U=X=>{i(X)},F=X=>{l(X),i(1)};return D?n.jsxs("div",{className:"text-red-500 p-4",children:["Error fetching products: ",(_==null?void 0:_.message)||"Unknown error"]}):n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsxs(At,{children:[n.jsxs(Mt,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Zt,{children:"Products"}),n.jsx(mi,{children:"Manage your product inventory."})]}),n.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[n.jsxs("div",{className:"relative w-full max-w-sm",children:[n.jsx(Os,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(tt,{type:"search",value:p,onChange:z,className:"pl-8 w-full"})]}),n.jsxs(he,{onClick:()=>t("/admin/products/create"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[n.jsx(Zs,{size:18,className:"mr-2"}),"Add Product"]})]})]}),n.jsxs(Dt,{children:[T&&O.length===0?n.jsx("div",{className:"flex justify-center items-center py-24",children:n.jsx(Zx,{size:30,className:"animate-spin text-blue-600"})}):!T&&O.length===0?n.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-center",children:[n.jsxs("div",{className:"mb-3 text-muted-foreground",children:[n.jsx(Os,{size:40,className:"mx-auto mb-2"}),n.jsx("h3",{className:"text-lg font-semibold",children:"No products found"})]}),n.jsx("p",{className:"mb-6 text-muted-foreground max-w-sm",children:p?"Try a different search term.":"Get started by adding your first product."}),n.jsxs(he,{onClick:()=>t("/admin/products/create"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[n.jsx(Zs,{size:16,className:"mr-2"}),"Add Product"]})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsxs(Xt,{children:[n.jsxs(Ke,{onClick:()=>G("name"),className:"cursor-pointer hover:bg-muted/50 transition-colors min-w-[150px]",children:["Name ",L("name")]}),n.jsx(Ke,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>G("price"),children:n.jsxs("div",{className:"flex items-center",children:["Price ",L("price")]})}),n.jsx(Ke,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>G("rate"),children:n.jsxs("div",{className:"flex items-center",children:["Rate ",L("rate")]})}),n.jsx(Ke,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>G("unit"),children:n.jsxs("div",{className:"flex items-center",children:["Unit ",L("unit")]})}),n.jsx(Ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Is,{children:O.map(X=>n.jsxs(Xt,{children:[n.jsx(ze,{className:"font-medium cursor-pointer hover:text-blue-600 hover:underline",title:X.name,onClick:()=>t(s?`/admin/products/${X.id}`:`/member/products/${X.id}`),children:X.name}),n.jsx(ze,{children:X.price?bs(parseFloat(X.price)):"N/A"}),n.jsx(ze,{children:X.rate?bs(parseFloat(X.rate)):"N/A"}),n.jsx(ze,{children:X.unit||"N/A"}),n.jsx(ze,{className:"text-right",children:n.jsxs(Y0,{modal:!1,children:[n.jsx(K0,{asChild:!0,children:n.jsx(he,{variant:"ghost",size:"sm",children:n.jsx(rw,{size:16})})}),n.jsx(X0,{align:"end",children:n.jsxs(dC,{children:[n.jsxs(Jn,{onClick:()=>t(s?`/admin/products/${X.id}`:`/member/products/${X.id}`),children:[n.jsx(gu,{size:14,className:"mr-2"})," View"]}),n.jsxs(Jn,{onClick:()=>t(`/admin/products/edit/${X.id}`),children:[n.jsx(bi,{size:14,className:"mr-2"})," Edit"]}),n.jsxs(Jn,{onClick:()=>ae(X.id),className:"text-red-600 hover:!text-red-700",children:[n.jsx(fn,{size:14,className:"mr-2"})," Delete"]})]})})]})})]},X.id))})]})}),O.length>0&&n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center",children:[n.jsx("div",{className:"mb-4 sm:mb-0 text-sm text-muted-foreground",children:`Showing ${O.length>0?(a-1)*o+1:0} to ${Math.min(a*o,B)} of ${B} records`}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm whitespace-nowrap",children:"Rows:"}),n.jsxs(er,{value:o.toString(),onValueChange:X=>{const q=parseInt(X,10);isNaN(q)||F(q)},children:[n.jsx(rr,{className:"h-8 w-[70px]",children:n.jsx(tr,{placeholder:o.toString()})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"5",children:"5"}),n.jsx(yt,{value:"10",children:"10"}),n.jsx(yt,{value:"20",children:"20"}),n.jsx(yt,{value:"50",children:"50"})]})]})]}),P>1&&n.jsx(Uw,{currentPage:a,totalPages:P,onPageChange:U,totalRecords:B,recordsPerPage:o,onRecordsPerPageChange:F})]})]})]})]}),n.jsx(ty,{isOpen:w,title:"Delete Product",description:"Are you sure you want to delete this product? This action cannot be undone.",onCancel:()=>{j(!1),A(null)},onConfirm:J,confirmLabel:"Delete Product"})]})};var p$={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},CR=Le.createContext&&Le.createContext(p$),jxe=["attr","size","title"];function Sxe(e,t){if(e==null)return{};var r=Exe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Exe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Nb.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(s){Axe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Axe(e,t,r){return t=Txe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Txe(e){var t=Cxe(e,"string");return typeof t=="symbol"?t:t+""}function Cxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x$(e){return e&&e.map((t,r)=>Le.createElement(t.tag,jb({key:r},t.attr),x$(t.child)))}function WC(e){return t=>Le.createElement(_xe,Nb({attr:jb({},e.attr)},t),x$(e.child))}function _xe(e){var t=r=>{var{attr:s,size:a,title:i}=e,o=Sxe(e,jxe),l=a||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),Le.createElement("svg",Nb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,o,{className:u,style:jb(jb({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Le.createElement("title",null,i),e.children)};return CR!==void 0?Le.createElement(CR.Consumer,null,r=>t(r)):t(p$)}function kxe(e){return WC({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function Dxe(e){return WC({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function Oxe(e){return WC({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224l0 32 0 160c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-88.2c9.9 6.6 20.6 12 32 16.1l0 24.2c0 8.8 7.2 16 16 16s16-7.2 16-16l0-16.9c5.3 .6 10.6 .9 16 .9s10.7-.3 16-.9l0 16.9c0 8.8 7.2 16 16 16s16-7.2 16-16l0-24.2c11.4-4 22.1-9.4 32-16.1l0 88.2c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-160 32 32 0 49.5c0 9.5 2.8 18.7 8.1 26.6L530 427c8.8 13.1 23.5 21 39.3 21c22.5 0 41.9-15.9 46.3-38l20.3-101.6c2.6-13-.3-26.5-8-37.3l-3.9-5.5 0-81.6c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 14.4-52.9-74.1C496 86.5 452.4 64 405.9 64L272 64l-16 0-64 0-48 0C77.7 64 24 117.7 24 184l0 54C9.4 249.8 0 267.8 0 288l0 17.6c0 8 6.4 14.4 14.4 14.4C46.2 320 72 294.2 72 262.4l0-6.4 0-32 0-40c0-24.3 12.1-45.8 30.5-58.9C98.3 135.9 96 147.7 96 160l0 64zM560 336a16 16 0 1 1 32 0 16 16 0 1 1 -32 0zM166.6 166.6c-4.2-4.2-6.6-10-6.6-16c0-12.5 10.1-22.6 22.6-22.6l178.7 0c12.5 0 22.6 10.1 22.6 22.6c0 6-2.4 11.8-6.6 16l-23.4 23.4C332.2 211.8 302.7 224 272 224s-60.2-12.2-81.9-33.9l-23.4-23.4z"},child:[]}]})(e)}const GC=g.createContext({});function YC(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const KC=typeof window<"u",g$=KC?g.useLayoutEffect:g.useEffect,zw=g.createContext(null),XC=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Rxe extends g.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const s=r.offsetParent,a=s instanceof HTMLElement&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Pxe({children:e,isPresent:t,anchorX:r}){const s=g.useId(),a=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=g.useContext(XC);return g.useInsertionEffect(()=>{const{width:l,height:u,top:f,left:h,right:x}=i.current;if(t||!a.current||!l||!u)return;const p=r==="left"?`left: ${h}`:`right: ${x}`;a.current.dataset.motionPopId=s;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[t]),n.jsx(Rxe,{isPresent:t,childRef:a,sizeRef:i,children:g.cloneElement(e,{ref:a})})}const Mxe=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const u=YC(Ixe),f=g.useId();let h=!0,x=g.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:r,custom:a,onExitComplete:p=>{u.set(p,!0);for(const y of u.values())if(!y)return;s&&s()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,s]);return i&&h&&(x={...x}),g.useMemo(()=>{u.forEach((p,y)=>u.set(y,!1))},[r]),g.useEffect(()=>{!r&&!u.size&&s&&s()},[r]),o==="popLayout"&&(e=n.jsx(Pxe,{isPresent:r,anchorX:l,children:e})),n.jsx(zw.Provider,{value:x,children:e})};function Ixe(){return new Map}function y$(e=!0){const t=g.useContext(zw);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=t,i=g.useId();g.useEffect(()=>{if(e)return a(i)},[e]);const o=g.useCallback(()=>e&&s&&s(i),[i,s,e]);return!r&&s?[!1,o]:[!0]}const Jv=e=>e.key||"";function kR(e){const t=[];return g.Children.forEach(e,r=>{g.isValidElement(r)&&t.push(r)}),t}const Fxe=({children:e,custom:t,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[u,f]=y$(o),h=g.useMemo(()=>kR(e),[e]),x=o&&!u?[]:h.map(Jv),p=g.useRef(!0),y=g.useRef(h),N=YC(()=>new Map),[b,w]=g.useState(h),[j,S]=g.useState(h);g$(()=>{p.current=!1,y.current=h;for(let T=0;T<j.length;T++){const D=Jv(j[T]);x.includes(D)?N.delete(D):N.get(D)!==!0&&N.set(D,!1)}},[j,x.length,x.join("-")]);const A=[];if(h!==b){let T=[...h];for(let D=0;D<j.length;D++){const _=j[D],O=Jv(_);x.includes(O)||(T.splice(D,0,_),A.push(_))}return i==="wait"&&A.length&&(T=A),S(kR(T)),w(h),null}const{forceRender:C}=g.useContext(GC);return n.jsx(n.Fragment,{children:j.map(T=>{const D=Jv(T),_=o&&!u?!1:h===j||x.includes(D),O=()=>{if(N.has(D))N.set(D,!0);else return;let P=!0;N.forEach(B=>{B||(P=!1)}),P&&(C==null||C(),S(y.current),o&&(f==null||f()),s&&s())};return n.jsx(Mxe,{isPresent:_,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:_?void 0:O,anchorX:l,children:T},D)})})};function QC(e,t){e.indexOf(t)===-1&&e.push(t)}function ZC(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Yc=(e,t,r)=>r>t?t:r<e?e:r;let JC=()=>{};const Kc={},v$=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),b$=e=>/^0[^.\s]+$/u.test(e);function e_(e){let t;return()=>(t===void 0&&(t=e()),t)}const wo=e=>e,Lxe=(e,t)=>r=>t(e(r)),by=(...e)=>e.reduce(Lxe),bg=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s};class t_{constructor(){this.subscriptions=[]}add(t){return QC(this.subscriptions,t),()=>ZC(this.subscriptions,t)}notify(t,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vl=e=>e*1e3,ql=e=>e/1e3;function w$(e,t){return t?e*(1e3/t):0}const N$=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Bxe=1e-7,$xe=12;function Uxe(e,t,r,s,a){let i,o,l=0;do o=t+(r-t)/2,i=N$(o,s,a)-e,i>0?r=o:t=o;while(Math.abs(i)>Bxe&&++l<$xe);return o}function wy(e,t,r,s){if(e===t&&r===s)return wo;const a=i=>Uxe(i,0,1,e,r);return i=>i===0||i===1?i:N$(a(i),t,s)}const j$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,S$=e=>t=>1-e(1-t),E$=wy(.33,1.53,.69,.99),r_=S$(E$),A$=j$(r_),T$=e=>(e*=2)<1?.5*r_(e):.5*(2-Math.pow(2,-10*(e-1))),s_=e=>1-Math.sin(Math.acos(e)),C$=S$(s_),_$=j$(s_),Vxe=wy(.42,0,1,1),qxe=wy(0,0,.58,1),k$=wy(.42,0,.58,1),zxe=e=>Array.isArray(e)&&typeof e[0]!="number",D$=e=>Array.isArray(e)&&typeof e[0]=="number",Hxe={linear:wo,easeIn:Vxe,easeInOut:k$,easeOut:qxe,circIn:s_,circInOut:_$,circOut:C$,backIn:r_,backInOut:A$,backOut:E$,anticipate:T$},Wxe=e=>typeof e=="string",DR=e=>{if(D$(e)){JC(e.length===4);const[t,r,s,a]=e;return wy(t,r,s,a)}else if(Wxe(e))return Hxe[e];return e},e1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],OR={value:null};function Gxe(e,t){let r=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},u=0;function f(x){o.has(x)&&(h.schedule(x),e()),u++,x(l)}const h={schedule:(x,p=!1,y=!1)=>{const b=y&&a?r:s;return p&&o.add(x),b.has(x)||b.add(x),x},cancel:x=>{s.delete(x),o.delete(x)},process:x=>{if(l=x,a){i=!0;return}a=!0,[r,s]=[s,r],r.forEach(f),t&&OR.value&&OR.value.frameloop[t].push(u),u=0,r.clear(),a=!1,i&&(i=!1,h.process(x))}};return h}const Yxe=40;function O$(e,t){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=e1.reduce((A,C)=>(A[C]=Gxe(i,t?C:void 0),A),{}),{setup:l,read:u,resolveKeyframes:f,preUpdate:h,update:x,preRender:p,render:y,postRender:N}=o,b=()=>{const A=Kc.useManualTiming?a.timestamp:performance.now();r=!1,Kc.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(A-a.timestamp,Yxe),1)),a.timestamp=A,a.isProcessing=!0,l.process(a),u.process(a),f.process(a),h.process(a),x.process(a),p.process(a),y.process(a),N.process(a),a.isProcessing=!1,r&&t&&(s=!1,e(b))},w=()=>{r=!0,s=!0,a.isProcessing||e(b)};return{schedule:e1.reduce((A,C)=>{const T=o[C];return A[C]=(D,_=!1,O=!1)=>(r||w(),T.schedule(D,_,O)),A},{}),cancel:A=>{for(let C=0;C<e1.length;C++)o[e1[C]].cancel(A)},state:a,steps:o}}const{schedule:Vs,cancel:Ou,state:Xn,steps:jS}=O$(typeof requestAnimationFrame<"u"?requestAnimationFrame:wo,!0);let I1;function Kxe(){I1=void 0}const ui={now:()=>(I1===void 0&&ui.set(Xn.isProcessing||Kc.useManualTiming?Xn.timestamp:performance.now()),I1),set:e=>{I1=e,queueMicrotask(Kxe)}},R$=e=>t=>typeof t=="string"&&t.startsWith(e),n_=R$("--"),Xxe=R$("var(--"),a_=e=>Xxe(e)?Qxe.test(e.split("/*")[0].trim()):!1,Qxe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wg={...rp,transform:e=>Yc(0,1,e)},t1={...rp,default:1},Dx=e=>Math.round(e*1e5)/1e5,i_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Zxe(e){return e==null}const Jxe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,o_=(e,t)=>r=>!!(typeof r=="string"&&Jxe.test(r)&&r.startsWith(e)||t&&!Zxe(r)&&Object.prototype.hasOwnProperty.call(r,t)),P$=(e,t,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(i_);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},ege=e=>Yc(0,255,e),SS={...rp,transform:e=>Math.round(ege(e))},Sf={test:o_("rgb","red"),parse:P$("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+SS.transform(e)+", "+SS.transform(t)+", "+SS.transform(r)+", "+Dx(wg.transform(s))+")"};function tge(e){let t="",r="",s="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const wA={test:o_("#"),parse:tge,transform:Sf.transform},Ny=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zd=Ny("deg"),zl=Ny("%"),dr=Ny("px"),rge=Ny("vh"),sge=Ny("vw"),RR={...zl,parse:e=>zl.parse(e)/100,transform:e=>zl.transform(e*100)},Dm={test:o_("hsl","hue"),parse:P$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+zl.transform(Dx(t))+", "+zl.transform(Dx(r))+", "+Dx(wg.transform(s))+")"},ja={test:e=>Sf.test(e)||wA.test(e)||Dm.test(e),parse:e=>Sf.test(e)?Sf.parse(e):Dm.test(e)?Dm.parse(e):wA.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Sf.transform(e):Dm.transform(e)},nge=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function age(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(i_))==null?void 0:t.length)||0)+(((r=e.match(nge))==null?void 0:r.length)||0)>0}const M$="number",I$="color",ige="var",oge="var(",PR="${}",lge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ng(e){const t=e.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(lge,u=>(ja.test(u)?(s.color.push(i),a.push(I$),r.push(ja.parse(u))):u.startsWith(oge)?(s.var.push(i),a.push(ige),r.push(u)):(s.number.push(i),a.push(M$),r.push(parseFloat(u))),++i,PR)).split(PR);return{values:r,split:l,indexes:s,types:a}}function F$(e){return Ng(e).values}function L$(e){const{split:t,types:r}=Ng(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===M$?i+=Dx(a[o]):l===I$?i+=ja.transform(a[o]):i+=a[o]}return i}}const cge=e=>typeof e=="number"?0:e;function dge(e){const t=F$(e);return L$(e)(t.map(cge))}const Ru={test:age,parse:F$,createTransformer:L$,getAnimatableNone:dge};function ES(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function uge({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,u=2*r-l;a=ES(u,l,e+1/3),i=ES(u,l,e),o=ES(u,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Sb(e,t){return r=>r>0?t:e}const Us=(e,t,r)=>e+(t-e)*r,AS=(e,t,r)=>{const s=e*e,a=r*(t*t-s)+s;return a<0?0:Math.sqrt(a)},fge=[wA,Sf,Dm],hge=e=>fge.find(t=>t.test(e));function MR(e){const t=hge(e);if(!t)return!1;let r=t.parse(e);return t===Dm&&(r=uge(r)),r}const IR=(e,t)=>{const r=MR(e),s=MR(t);if(!r||!s)return Sb(e,t);const a={...r};return i=>(a.red=AS(r.red,s.red,i),a.green=AS(r.green,s.green,i),a.blue=AS(r.blue,s.blue,i),a.alpha=Us(r.alpha,s.alpha,i),Sf.transform(a))},NA=new Set(["none","hidden"]);function mge(e,t){return NA.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function pge(e,t){return r=>Us(e,t,r)}function l_(e){return typeof e=="number"?pge:typeof e=="string"?a_(e)?Sb:ja.test(e)?IR:yge:Array.isArray(e)?B$:typeof e=="object"?ja.test(e)?IR:xge:Sb}function B$(e,t){const r=[...e],s=r.length,a=e.map((i,o)=>l_(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function xge(e,t){const r={...e,...t},s={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(s[a]=l_(e[a])(e[a],t[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function gge(e,t){const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],l=e.values[o]??0;r[a]=l,s[i]++}return r}const yge=(e,t)=>{const r=Ru.createTransformer(t),s=Ng(e),a=Ng(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?NA.has(e)&&!a.values.length||NA.has(t)&&!s.values.length?mge(e,t):by(B$(gge(s,a),a.values),r):Sb(e,t)};function $$(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Us(e,t,r):l_(e)(e,t)}const vge=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Vs.update(t,r),stop:()=>Ou(t),now:()=>Xn.isProcessing?Xn.timestamp:ui.now()}},U$=(e,t,r=10)=>{let s="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)s+=e(i/(a-1))+", ";return`linear(${s.substring(0,s.length-2)})`},Eb=2e4;function c_(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<Eb;)t+=r,s=e.next(t);return t>=Eb?1/0:t}function bge(e,t=100,r){const s=r({...e,keyframes:[0,t]}),a=Math.min(c_(s),Eb);return{type:"keyframes",ease:i=>s.next(a*i).value/t,duration:ql(a)}}const wge=5;function V$(e,t,r){const s=Math.max(t-wge,0);return w$(r-e(s),t-s)}const Ks={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},FR=.001;function Nge({duration:e=Ks.duration,bounce:t=Ks.bounce,velocity:r=Ks.velocity,mass:s=Ks.mass}){let a,i,o=1-t;o=Yc(Ks.minDamping,Ks.maxDamping,o),e=Yc(Ks.minDuration,Ks.maxDuration,ql(e)),o<1?(a=f=>{const h=f*o,x=h*e,p=h-r,y=jA(f,o),N=Math.exp(-x);return FR-p/y*N},i=f=>{const x=f*o*e,p=x*r+r,y=Math.pow(o,2)*Math.pow(f,2)*e,N=Math.exp(-x),b=jA(Math.pow(f,2),o);return(-a(f)+FR>0?-1:1)*((p-y)*N)/b}):(a=f=>{const h=Math.exp(-f*e),x=(f-r)*e+1;return-.001+h*x},i=f=>{const h=Math.exp(-f*e),x=(r-f)*(e*e);return h*x});const l=5/e,u=Sge(a,i,l);if(e=Vl(e),isNaN(u))return{stiffness:Ks.stiffness,damping:Ks.damping,duration:e};{const f=Math.pow(u,2)*s;return{stiffness:f,damping:o*2*Math.sqrt(s*f),duration:e}}}const jge=12;function Sge(e,t,r){let s=r;for(let a=1;a<jge;a++)s=s-e(s)/t(s);return s}function jA(e,t){return e*Math.sqrt(1-t*t)}const Ege=["duration","bounce"],Age=["stiffness","damping","mass"];function LR(e,t){return t.some(r=>e[r]!==void 0)}function Tge(e){let t={velocity:Ks.velocity,stiffness:Ks.stiffness,damping:Ks.damping,mass:Ks.mass,isResolvedFromDuration:!1,...e};if(!LR(e,Age)&&LR(e,Ege))if(e.visualDuration){const r=e.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*Yc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ks.mass,stiffness:a,damping:i}}else{const r=Nge(e);t={...t,...r,mass:Ks.mass},t.isResolvedFromDuration=!0}return t}function Ab(e=Ks.visualDuration,t=Ks.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:f,mass:h,duration:x,velocity:p,isResolvedFromDuration:y}=Tge({...r,velocity:-ql(r.velocity||0)}),N=p||0,b=f/(2*Math.sqrt(u*h)),w=o-i,j=ql(Math.sqrt(u/h)),S=Math.abs(w)<5;s||(s=S?Ks.restSpeed.granular:Ks.restSpeed.default),a||(a=S?Ks.restDelta.granular:Ks.restDelta.default);let A;if(b<1){const T=jA(j,b);A=D=>{const _=Math.exp(-b*j*D);return o-_*((N+b*j*w)/T*Math.sin(T*D)+w*Math.cos(T*D))}}else if(b===1)A=T=>o-Math.exp(-j*T)*(w+(N+j*w)*T);else{const T=j*Math.sqrt(b*b-1);A=D=>{const _=Math.exp(-b*j*D),O=Math.min(T*D,300);return o-_*((N+b*j*w)*Math.sinh(O)+T*w*Math.cosh(O))/T}}const C={calculatedDuration:y&&x||null,next:T=>{const D=A(T);if(y)l.done=T>=x;else{let _=T===0?N:0;b<1&&(_=T===0?Vl(N):V$(A,T,D));const O=Math.abs(_)<=s,P=Math.abs(o-D)<=a;l.done=O&&P}return l.value=l.done?o:D,l},toString:()=>{const T=Math.min(c_(C),Eb),D=U$(_=>C.next(T*_).value,T,30);return T+"ms "+D},toTransition:()=>{}};return C}Ab.applyToOptions=e=>{const t=bge(e,100,Ab);return e.ease=t.ease,e.duration=Vl(t.duration),e.type="keyframes",e};function SA({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:f=.5,restSpeed:h}){const x=e[0],p={done:!1,value:x},y=O=>l!==void 0&&O<l||u!==void 0&&O>u,N=O=>l===void 0?u:u===void 0||Math.abs(l-O)<Math.abs(u-O)?l:u;let b=r*t;const w=x+b,j=o===void 0?w:o(w);j!==w&&(b=j-x);const S=O=>-b*Math.exp(-O/s),A=O=>j+S(O),C=O=>{const P=S(O),B=A(O);p.done=Math.abs(P)<=f,p.value=p.done?j:B};let T,D;const _=O=>{y(p.value)&&(T=O,D=Ab({keyframes:[p.value,N(p.value)],velocity:V$(A,O,p.value),damping:a,stiffness:i,restDelta:f,restSpeed:h}))};return _(0),{calculatedDuration:null,next:O=>{let P=!1;return!D&&T===void 0&&(P=!0,C(O),_(O)),T!==void 0&&O>=T?D.next(O-T):(!P&&C(O),p)}}}function Cge(e,t,r){const s=[],a=r||Kc.mix||$$,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||wo:t;l=by(u,l)}s.push(l)}return s}function _ge(e,t,{clamp:r=!0,ease:s,mixer:a}={}){const i=e.length;if(JC(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Cge(t,s,a),u=l.length,f=h=>{if(o&&h<e[0])return t[0];let x=0;if(u>1)for(;x<e.length-2&&!(h<e[x+1]);x++);const p=bg(e[x],e[x+1],h);return l[x](p)};return r?h=>f(Yc(e[0],e[i-1],h)):f}function kge(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const a=bg(0,t,s);e.push(Us(r,1,a))}}function Dge(e){const t=[0];return kge(t,e.length-1),t}function Oge(e,t){return e.map(r=>r*t)}function Rge(e,t){return e.map(()=>t||k$).splice(0,e.length-1)}function Ox({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const a=zxe(s)?s.map(DR):DR(s),i={done:!1,value:t[0]},o=Oge(r&&r.length===t.length?r:Dge(t),e),l=_ge(o,t,{ease:Array.isArray(a)?a:Rge(t,a)});return{calculatedDuration:e,next:u=>(i.value=l(u),i.done=u>=e,i)}}const Pge=e=>e!==null;function d_(e,{repeat:t,repeatType:r="loop"},s,a=1){const i=e.filter(Pge),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const Mge={decay:SA,inertia:SA,tween:Ox,keyframes:Ox,spring:Ab};function q$(e){typeof e.type=="string"&&(e.type=Mge[e.type])}class u_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Ige=e=>e/100;class f_ extends u_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var s,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==ui.now()&&this.tick(ui.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;q$(t);const{type:r=Ox,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const u=r||Ox;u!==Ox&&typeof l[0]!="number"&&(this.mixKeyframes=by(Ige,$$(l[0],l[1])),l=[0,100]);const f=u({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=c_(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=f}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:h,repeat:x,repeatType:p,repeatDelay:y,type:N,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const j=this.currentTime-f*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let A=this.currentTime,C=s;if(x){const O=Math.min(this.currentTime,a)/l;let P=Math.floor(O),B=O%1;!B&&O>=1&&(B=1),B===1&&P--,P=Math.min(P,x+1),!!(P%2)&&(p==="reverse"?(B=1-B,y&&(B-=y/l)):p==="mirror"&&(C=o)),A=Yc(0,1,B)*l}const T=S?{done:!1,value:h[0]}:C.next(A);i&&(T.value=i(T.value));let{done:D}=T;!S&&u!==null&&(D=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return _&&N!==SA&&(T.value=d_(h,this.options,w,this.speed)),b&&b(T.value),_&&this.finish(),T}then(t,r){return this.finished.then(t,r)}get duration(){return ql(this.calculatedDuration)}get time(){return ql(this.currentTime)}set time(t){var r;t=Vl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ui.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ql(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=vge,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ui.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Fge(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ef=e=>e*180/Math.PI,EA=e=>{const t=Ef(Math.atan2(e[1],e[0]));return AA(t)},Lge={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:EA,rotateZ:EA,skewX:e=>Ef(Math.atan(e[1])),skewY:e=>Ef(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},AA=e=>(e=e%360,e<0&&(e+=360),e),BR=EA,$R=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),UR=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Bge={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$R,scaleY:UR,scale:e=>($R(e)+UR(e))/2,rotateX:e=>AA(Ef(Math.atan2(e[6],e[5]))),rotateY:e=>AA(Ef(Math.atan2(-e[2],e[0]))),rotateZ:BR,rotate:BR,skewX:e=>Ef(Math.atan(e[4])),skewY:e=>Ef(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function VR(e){return e.includes("scale")?1:0}function TA(e,t){if(!e||e==="none")return VR(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(r)s=Bge,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Lge,a=l}if(!a)return VR(t);const i=s[t],o=a[1].split(",").map(Uge);return typeof i=="function"?i(o):o[i]}const $ge=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return TA(r,t)};function Uge(e){return parseFloat(e.trim())}const sp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],np=new Set(sp),qR=e=>e===rp||e===dr,Vge=new Set(["x","y","z"]),qge=sp.filter(e=>!Vge.has(e));function zge(e){const t=[];return qge.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t}const If={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>TA(t,"x"),y:(e,{transform:t})=>TA(t,"y")};If.translateX=If.x;If.translateY=If.y;const Ff=new Set;let CA=!1,_A=!1,kA=!1;function z$(){if(_A){const e=Array.from(Ff).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),r=new Map;t.forEach(s=>{const a=zge(s);a.length&&(r.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}_A=!1,CA=!1,Ff.forEach(e=>e.complete(kA)),Ff.clear()}function H$(){Ff.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_A=!0)})}function Hge(){kA=!0,H$(),z$(),kA=!1}class h_{constructor(t,r,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ff.add(this),CA||(CA=!0,Vs.read(H$),Vs.resolveKeyframes(z$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:s,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&r){const l=s.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}Fge(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ff.delete(this)}cancel(){this.state==="scheduled"&&(Ff.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Wge=e=>e.startsWith("--");function Gge(e,t,r){Wge(t)?e.style.setProperty(t,r):e.style[t]=r}const Yge=e_(()=>window.ScrollTimeline!==void 0),Kge={};function Xge(e,t){const r=e_(e);return()=>Kge[t]??r()}const W$=Xge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sx=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,zR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sx([0,.65,.55,1]),circOut:Sx([.55,0,1,.45]),backIn:Sx([.31,.01,.66,-.59]),backOut:Sx([.33,1.53,.69,.99])};function G$(e,t){if(e)return typeof e=="function"?W$()?U$(e,t):"ease-out":D$(e)?Sx(e):Array.isArray(e)?e.map(r=>G$(r,t)||zR.easeOut):zR[e]}function Qge(e,t,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:u}={},f=void 0){const h={[t]:r};u&&(h.offset=u);const x=G$(l,a);Array.isArray(x)&&(h.easing=x);const p={delay:s,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return f&&(p.pseudoElement=f),e.animate(h,p)}function Y$(e){return typeof e=="function"&&"applyToOptions"in e}function Zge({type:e,...t}){return Y$(e)&&W$()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Jge extends u_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,JC(typeof t.type!="string");const f=Zge(t);this.animation=Qge(r,s,a,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=d_(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):Gge(r,s,h),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,s;const t=((s=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:s.call(r).duration)||0;return ql(Number(t))}get time(){return ql(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Vl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Yge()?(this.animation.timeline=t,wo):r(this)}}const K$={anticipate:T$,backInOut:A$,circInOut:_$};function eye(e){return e in K$}function tye(e){typeof e.ease=="string"&&eye(e.ease)&&(e.ease=K$[e.ease])}const HR=10;class rye extends Jge{constructor(t){tye(t),q$(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new f_({...o,autoplay:!1}),u=Vl(this.finishedTime??this.time);r.setWithVelocity(l.sample(u-HR).value,l.sample(u).value,HR),l.stop()}}const WR=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ru.test(e)||e==="0")&&!e.startsWith("url("));function sye(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function nye(e,t,r,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=WR(a,t),l=WR(i,t);return!o||!l?!1:sye(e)||(r==="spring"||Y$(r))&&s}const aye=new Set(["opacity","clipPath","filter","transform"]),iye=e_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oye(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:i,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return iye()&&r&&aye.has(r)&&(r!=="transform"||!u)&&!l&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const lye=40;class cye extends u_{constructor({autoplay:t=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:u,motionValue:f,element:h,...x}){var N;super(),this.stop=()=>{var b,w;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=ui.now();const p={autoplay:t,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,name:u,motionValue:f,element:h,...x},y=(h==null?void 0:h.KeyframeResolver)||h_;this.keyframeResolver=new y(l,(b,w,j)=>this.onKeyframesResolved(b,w,p,!j),u,f,h),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(t,r,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:u,isHandoff:f,onUpdate:h}=s;this.resolvedAt=ui.now(),nye(t,i,o,l)||((Kc.instantAnimations||!u)&&(h==null||h(d_(t,s,r))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const p={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>lye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:t},y=!f&&oye(p)?new rye({...p,element:p.motionValue.owner.current}):new f_(p);y.finished.then(()=>this.notifyFinished()).catch(wo),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Hge()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const dye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uye(e){const t=dye.exec(e);if(!t)return[,];const[,r,s,a]=t;return[`--${r??s}`,a]}function X$(e,t,r=1){const[s,a]=uye(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return v$(o)?parseFloat(o):o}return a_(a)?X$(a,t,r+1):a}function m_(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Q$=new Set(["width","height","top","left","right","bottom",...sp]),fye={test:e=>e==="auto",parse:e=>e},Z$=e=>t=>t.test(e),J$=[rp,dr,zl,Zd,sge,rge,fye],GR=e=>J$.find(Z$(e));function hye(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||b$(e):!0}const mye=new Set(["brightness","contrast","saturate","opacity"]);function pye(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match(i_)||[];if(!s)return e;const a=r.replace(s,"");let i=mye.has(t)?1:0;return s!==r&&(i*=100),t+"("+i+a+")"}const xye=/\b([a-z-]*)\(.*?\)/gu,DA={...Ru,getAnimatableNone:e=>{const t=e.match(xye);return t?t.map(pye).join(" "):e}},YR={...rp,transform:Math.round},gye={rotate:Zd,rotateX:Zd,rotateY:Zd,rotateZ:Zd,scale:t1,scaleX:t1,scaleY:t1,scaleZ:t1,skew:Zd,skewX:Zd,skewY:Zd,distance:dr,translateX:dr,translateY:dr,translateZ:dr,x:dr,y:dr,z:dr,perspective:dr,transformPerspective:dr,opacity:wg,originX:RR,originY:RR,originZ:dr},p_={borderWidth:dr,borderTopWidth:dr,borderRightWidth:dr,borderBottomWidth:dr,borderLeftWidth:dr,borderRadius:dr,radius:dr,borderTopLeftRadius:dr,borderTopRightRadius:dr,borderBottomRightRadius:dr,borderBottomLeftRadius:dr,width:dr,maxWidth:dr,height:dr,maxHeight:dr,top:dr,right:dr,bottom:dr,left:dr,padding:dr,paddingTop:dr,paddingRight:dr,paddingBottom:dr,paddingLeft:dr,margin:dr,marginTop:dr,marginRight:dr,marginBottom:dr,marginLeft:dr,backgroundPositionX:dr,backgroundPositionY:dr,...gye,zIndex:YR,fillOpacity:wg,strokeOpacity:wg,numOctaves:YR},yye={...p_,color:ja,backgroundColor:ja,outlineColor:ja,fill:ja,stroke:ja,borderColor:ja,borderTopColor:ja,borderRightColor:ja,borderBottomColor:ja,borderLeftColor:ja,filter:DA,WebkitFilter:DA},eU=e=>yye[e];function tU(e,t){let r=eU(e);return r!==DA&&(r=Ru),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const vye=new Set(["auto","none","0"]);function bye(e,t,r){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!vye.has(i)&&Ng(i).values.length&&(a=e[s]),s++}if(a&&r)for(const i of t)e[i]=tU(r,a)}class wye extends h_{constructor(t,r,s,a,i){super(t,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),a_(f))){const h=X$(f,r.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Q$.has(s)||t.length!==2)return;const[a,i]=t,o=GR(a),l=GR(i);if(o!==l)if(qR(o)&&qR(l))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else If[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||hye(t[a]))&&s.push(a);s.length&&bye(t,s,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=If[s](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=If[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,f])=>{t.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function Nye(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=(r==null?void 0:r[e])??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const KR=30,jye=e=>!isNaN(parseFloat(e));class Sye{constructor(t,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var o,l;const i=ui.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();a&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ui.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=jye(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new t_);const s=this.events[t].add(r);return t==="change"?()=>{s(),Vs.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ui.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>KR)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,KR);return w$(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function N0(e,t){return new Sye(e,t)}const rU=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:x_}=O$(queueMicrotask,!1),$o={x:!1,y:!1};function sU(){return $o.x||$o.y}function Eye(e){return e==="x"||e==="y"?$o[e]?null:($o[e]=!0,()=>{$o[e]=!1}):$o.x||$o.y?null:($o.x=$o.y=!0,()=>{$o.x=$o.y=!1})}function nU(e,t){const r=Nye(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[r,a,()=>s.abort()]}function XR(e){return!(e.pointerType==="touch"||sU())}function Aye(e,t,r={}){const[s,a,i]=nU(e,r),o=l=>{if(!XR(l))return;const{target:u}=l,f=t(u,l);if(typeof f!="function"||!u)return;const h=x=>{XR(x)&&(f(x),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const aU=(e,t)=>t?e===t?!0:aU(e,t.parentElement):!1,g_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Tye=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Cye(e){return Tye.has(e.tagName)||e.tabIndex!==-1}const F1=new WeakSet;function QR(e){return t=>{t.key==="Enter"&&e(t)}}function TS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _ye=(e,t)=>{const r=e.currentTarget;if(!r)return;const s=QR(()=>{if(F1.has(r))return;TS(r,"down");const a=QR(()=>{TS(r,"up")}),i=()=>TS(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",s,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),t)};function ZR(e){return g_(e)&&!sU()}function kye(e,t,r={}){const[s,a,i]=nU(e,r),o=l=>{const u=l.currentTarget;if(!ZR(l))return;F1.add(u);const f=t(u,l),h=(y,N)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",p),F1.has(u)&&F1.delete(u),ZR(y)&&typeof f=="function"&&f(y,{success:N})},x=y=>{h(y,u===window||u===document||r.useGlobalTarget||aU(u,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",p,a)};return s.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l instanceof HTMLElement&&(l.addEventListener("focus",f=>_ye(f,a)),!Cye(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}const Dye=[...J$,ja,Ru],Oye=e=>Dye.find(Z$(e)),iU=g.createContext({strict:!1}),JR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},j0={};for(const e in JR)j0[e]={isEnabled:t=>JR[e].some(r=>!!t[r])};function Rye(e){for(const t in e)j0[t]={...j0[t],...e[t]}}const Pye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Pye.has(e)}let oU=e=>!Tb(e);function Mye(e){e&&(oU=t=>t.startsWith("on")?!Tb(t):e(t))}try{Mye(require("@emotion/is-prop-valid").default)}catch{}function Iye(e,t,r){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(oU(a)||r===!0&&Tb(a)||!t&&!Tb(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function Fye(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...s)=>e(...s);return new Proxy(r,{get:(s,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Hw=g.createContext({});function Ww(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function jg(e){return typeof e=="string"||Array.isArray(e)}const y_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v_=["initial",...y_];function Gw(e){return Ww(e.animate)||v_.some(t=>jg(e[t]))}function lU(e){return!!(Gw(e)||e.variants)}function Lye(e,t){if(Gw(e)){const{initial:r,animate:s}=e;return{initial:r===!1||jg(r)?r:void 0,animate:jg(s)?s:void 0}}return e.inherit!==!1?t:{}}function Bye(e){const{initial:t,animate:r}=Lye(e,g.useContext(Hw));return g.useMemo(()=>({initial:t,animate:r}),[eP(t),eP(r)])}function eP(e){return Array.isArray(e)?e.join(" "):e}const $ye=Symbol.for("motionComponentSymbol");function Om(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Uye(e,t,r){return g.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):Om(r)&&(r.current=s))},[t])}const b_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Vye="framerAppearId",cU="data-"+b_(Vye),dU=g.createContext({});function qye(e,t,r,s,a){var b,w;const{visualElement:i}=g.useContext(Hw),o=g.useContext(iU),l=g.useContext(zw),u=g.useContext(XC).reducedMotion,f=g.useRef(null);s=s||o.renderer,!f.current&&s&&(f.current=s(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,x=g.useContext(dU);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&zye(f.current,r,a,x);const p=g.useRef(!1);g.useInsertionEffect(()=>{h&&p.current&&h.update(r,l)});const y=r[cU],N=g.useRef(!!y&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,y))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,y)));return g$(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),x_.render(h.render),N.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!N.current&&h.animationState&&h.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,y)}),N.current=!1))}),h}function zye(e,t,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:f,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:uU(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Om(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:h,layoutScroll:u,layoutRoot:f})}function uU(e){if(e)return e.options.allowProjection!==!1?e.projection:uU(e.parent)}function Hye({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:s,Component:a}){e&&Rye(e);function i(l,u){let f;const h={...g.useContext(XC),...l,layoutId:Wye(l)},{isStatic:x}=h,p=Bye(l),y=s(l,x);if(!x&&KC){Gye();const N=Yye(h);f=N.MeasureLayout,p.visualElement=qye(a,y,h,t,N.ProjectionNode)}return n.jsxs(Hw.Provider,{value:p,children:[f&&p.visualElement?n.jsx(f,{visualElement:p.visualElement,...h}):null,r(a,l,Uye(y,p.visualElement,u),y,x,p.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const o=g.forwardRef(i);return o[$ye]=a,o}function Wye({layoutId:e}){const t=g.useContext(GC).id;return t&&e!==void 0?t+"-"+e:e}function Gye(e,t){g.useContext(iU).strict}function Yye(e){const{drag:t,layout:r}=j0;if(!t&&!r)return{};const s={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Sg={};function Kye(e){for(const t in e)Sg[t]=e[t],n_(t)&&(Sg[t].isCSSVariable=!0)}function fU(e,{layout:t,layoutId:r}){return np.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Sg[e]||e==="opacity")}const Aa=e=>!!(e&&e.getVelocity),Xye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qye=sp.length;function Zye(e,t,r){let s="",a=!0;for(let i=0;i<Qye;i++){const o=sp[i],l=e[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||r){const f=rU(l,p_[o]);if(!u){a=!1;const h=Xye[o]||o;s+=`${h}(${f}) `}r&&(t[o]=f)}}return s=s.trim(),r?s=r(t,a?"":s):a&&(s="none"),s}function w_(e,t,r){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const u in t){const f=t[u];if(np.has(u)){o=!0;continue}else if(n_(u)){a[u]=f;continue}else{const h=rU(f,p_[u]);u.startsWith("origin")?(l=!0,i[u]=h):s[u]=h}}if(t.transform||(o||r?s.transform=Zye(t,e.transform,r):s.transform&&(s.transform="none")),l){const{originX:u="50%",originY:f="50%",originZ:h=0}=i;s.transformOrigin=`${u} ${f} ${h}`}}const N_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hU(e,t,r){for(const s in t)!Aa(t[s])&&!fU(s,r)&&(e[s]=t[s])}function Jye({transformTemplate:e},t){return g.useMemo(()=>{const r=N_();return w_(r,t,e),Object.assign({},r.vars,r.style)},[t])}function eve(e,t){const r=e.style||{},s={};return hU(s,r,e),Object.assign(s,Jye(e,t)),s}function tve(e,t){const r={},s=eve(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const rve=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function j_(e){return typeof e!="string"||e.includes("-")?!1:!!(rve.indexOf(e)>-1||/[A-Z]/u.test(e))}const sve={offset:"stroke-dashoffset",array:"stroke-dasharray"},nve={offset:"strokeDashoffset",array:"strokeDasharray"};function ave(e,t,r=1,s=0,a=!0){e.pathLength=1;const i=a?sve:nve;e[i.offset]=dr.transform(-s);const o=dr.transform(t),l=dr.transform(r);e[i.array]=`${o} ${l}`}function mU(e,{attrX:t,attrY:r,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},u,f,h){if(w_(e,l,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:p}=e;x.transform&&(p.transform=x.transform,delete x.transform),(p.transform||x.transformOrigin)&&(p.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),r!==void 0&&(x.y=r),s!==void 0&&(x.scale=s),a!==void 0&&ave(x,a,i,o,!1)}const pU=()=>({...N_(),attrs:{}}),xU=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ive(e,t,r,s){const a=g.useMemo(()=>{const i=pU();return mU(i,t,xU(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};hU(i,e.style,e),a.style={...i,...a.style}}return a}function ove(e=!1){return(r,s,a,{latestValues:i},o)=>{const u=(j_(r)?ive:tve)(s,i,o,r),f=Iye(s,typeof r=="string",e),h=r!==g.Fragment?{...f,...u,ref:a}:{},{children:x}=s,p=g.useMemo(()=>Aa(x)?x.get():x,[x]);return g.createElement(r,{...h,children:p})}}function tP(e){const t=[{},{}];return e==null||e.values.forEach((r,s)=>{t[0][s]=r.get(),t[1][s]=r.getVelocity()}),t}function S_(e,t,r,s){if(typeof t=="function"){const[a,i]=tP(s);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=tP(s);t=t(r!==void 0?r:e.custom,a,i)}return t}function L1(e){return Aa(e)?e.get():e}function lve({scrapeMotionValuesFromProps:e,createRenderState:t},r,s,a){return{latestValues:cve(r,s,a,e),renderState:t()}}const gU=e=>(t,r)=>{const s=g.useContext(Hw),a=g.useContext(zw),i=()=>lve(e,t,s,a);return r?i():YC(i)};function cve(e,t,r,s){const a={},i=s(e,{});for(const p in i)a[p]=L1(i[p]);let{initial:o,animate:l}=e;const u=Gw(e),f=lU(e);t&&f&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const x=h?l:o;if(x&&typeof x!="boolean"&&!Ww(x)){const p=Array.isArray(x)?x:[x];for(let y=0;y<p.length;y++){const N=S_(e,p[y]);if(N){const{transitionEnd:b,transition:w,...j}=N;for(const S in j){let A=j[S];if(Array.isArray(A)){const C=h?A.length-1:0;A=A[C]}A!==null&&(a[S]=A)}for(const S in b)a[S]=b[S]}}}return a}function E_(e,t,r){var i;const{style:s}=e,a={};for(const o in s)(Aa(s[o])||t.style&&Aa(t.style[o])||fU(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=s[o]);return a}const dve={useVisualState:gU({scrapeMotionValuesFromProps:E_,createRenderState:N_})};function yU(e,t,r){const s=E_(e,t,r);for(const a in e)if(Aa(e[a])||Aa(t[a])){const i=sp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}const uve={useVisualState:gU({scrapeMotionValuesFromProps:yU,createRenderState:pU})};function fve(e,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...j_(s)?uve:dve,preloadedFeatures:e,useRender:ove(a),createVisualElement:t,Component:s};return Hye(o)}}function Eg(e,t,r){const s=e.getProps();return S_(s,t,r!==void 0?r:s.custom,e)}const OA=e=>Array.isArray(e);function hve(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,N0(r))}function mve(e){return OA(e)?e[e.length-1]||0:e}function pve(e,t){const r=Eg(e,t);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const l=mve(i[o]);hve(e,o,l)}}function xve(e){return!!(Aa(e)&&e.add)}function RA(e,t){const r=e.getValue("willChange");if(xve(r))return r.add(t);if(!r&&Kc.WillChange){const s=new Kc.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function vU(e){return e.props[cU]}const gve=e=>e!==null;function yve(e,{repeat:t,repeatType:r="loop"},s){const a=e.filter(gve),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const vve={type:"spring",stiffness:500,damping:25,restSpeed:10},bve=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),wve={type:"keyframes",duration:.8},Nve={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jve=(e,{keyframes:t})=>t.length>2?wve:np.has(e)?e.startsWith("scale")?bve(t[1]):vve:Nve;function Sve({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:f,...h}){return!!Object.keys(h).length}const A_=(e,t,r,s={},a,i)=>o=>{const l=m_(s,e)||{},u=l.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Vl(u);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-f,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};Sve(l)||Object.assign(h,jve(e,h)),h.duration&&(h.duration=Vl(h.duration)),h.repeatDelay&&(h.repeatDelay=Vl(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let x=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(x=!0)),(Kc.instantAnimations||Kc.skipAnimations)&&(x=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,x&&!i&&t.get()!==void 0){const p=yve(h.keyframes,l);if(p!==void 0){Vs.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new f_(h):new cye(h)};function Eve({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function bU(e,t,{delay:r=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(i=s);const u=[],f=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const x=e.getValue(h,e.latestValues[h]??null),p=l[h];if(p===void 0||f&&Eve(f,h))continue;const y={delay:r,...m_(i||{},h)},N=x.get();if(N!==void 0&&!x.isAnimating&&!Array.isArray(p)&&p===N&&!y.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const j=vU(e);if(j){const S=window.MotionHandoffAnimation(j,h,Vs);S!==null&&(y.startTime=S,b=!0)}}RA(e,h),x.start(A_(h,x,p,e.shouldReduceMotion&&Q$.has(h)?{type:!1}:y,e,b));const w=x.animation;w&&u.push(w)}return o&&Promise.all(u).then(()=>{Vs.update(()=>{o&&pve(e,o)})}),u}function PA(e,t,r={}){var u;const s=Eg(e,t,r.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const i=s?()=>Promise.all(bU(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:x,staggerDirection:p}=a;return Ave(e,t,h+f,x,p,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[f,h]=l==="beforeChildren"?[i,o]:[o,i];return f().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function Ave(e,t,r=0,s=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*s,u=a===1?(f=0)=>f*s:(f=0)=>l-f*s;return Array.from(e.variantChildren).sort(Tve).forEach((f,h)=>{f.notify("AnimationStart",t),o.push(PA(f,t,{...i,delay:r+u(h)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(o)}function Tve(e,t){return e.sortNodePosition(t)}function Cve(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>PA(e,i,r));s=Promise.all(a)}else if(typeof t=="string")s=PA(e,t,r);else{const a=typeof t=="function"?Eg(e,t,r.custom):t;s=Promise.all(bU(e,a,r))}return s.then(()=>{e.notify("AnimationComplete",t)})}function wU(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}const _ve=v_.length;function NU(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?NU(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<_ve;r++){const s=v_[r],a=e.props[s];(jg(a)||a===!1)&&(t[s]=a)}return t}const kve=[...y_].reverse(),Dve=y_.length;function Ove(e){return t=>Promise.all(t.map(({animation:r,options:s})=>Cve(e,r,s)))}function Rve(e){let t=Ove(e),r=rP(),s=!0;const a=u=>(f,h)=>{var p;const x=Eg(e,h,u==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(x){const{transition:y,transitionEnd:N,...b}=x;f={...f,...b,...N}}return f};function i(u){t=u(e)}function o(u){const{props:f}=e,h=NU(e.parent)||{},x=[],p=new Set;let y={},N=1/0;for(let w=0;w<Dve;w++){const j=kve[w],S=r[j],A=f[j]!==void 0?f[j]:h[j],C=jg(A),T=j===u?S.isActive:null;T===!1&&(N=w);let D=A===h[j]&&A!==f[j]&&C;if(D&&s&&e.manuallyAnimateOnMount&&(D=!1),S.protectedKeys={...y},!S.isActive&&T===null||!A&&!S.prevProp||Ww(A)||typeof A=="boolean")continue;const _=Pve(S.prevProp,A);let O=_||j===u&&S.isActive&&!D&&C||w>N&&C,P=!1;const B=Array.isArray(A)?A:[A];let I=B.reduce(a(j),{});T===!1&&(I={});const{prevResolvedValues:G={}}=S,z={...G,...I},ae=U=>{O=!0,p.has(U)&&(P=!0,p.delete(U)),S.needsAnimating[U]=!0;const F=e.getValue(U);F&&(F.liveStyle=!1)};for(const U in z){const F=I[U],X=G[U];if(y.hasOwnProperty(U))continue;let q=!1;OA(F)&&OA(X)?q=!wU(F,X):q=F!==X,q?F!=null?ae(U):p.add(U):F!==void 0&&p.has(U)?ae(U):S.protectedKeys[U]=!0}S.prevProp=A,S.prevResolvedValues=I,S.isActive&&(y={...y,...I}),s&&e.blockInitialAnimation&&(O=!1),O&&(!(D&&_)||P)&&x.push(...B.map(U=>({animation:U,options:{type:j}})))}if(p.size){const w={};if(typeof f.initial!="boolean"){const j=Eg(e,Array.isArray(f.initial)?f.initial[0]:f.initial);j&&j.transition&&(w.transition=j.transition)}p.forEach(j=>{const S=e.getBaseTarget(j),A=e.getValue(j);A&&(A.liveStyle=!0),w[j]=S??null}),x.push({animation:w})}let b=!!x.length;return s&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(b=!1),s=!1,b?t(x):Promise.resolve()}function l(u,f){var x;if(r[u].isActive===f)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(u,f)}),r[u].isActive=f;const h=o(u);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=rP(),s=!0}}}function Pve(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!wU(t,e):!1}function xf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rP(){return{animate:xf(!0),whileInView:xf(),whileHover:xf(),whileTap:xf(),whileDrag:xf(),whileFocus:xf(),exit:xf()}}class qu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Mve extends qu{constructor(t){super(t),t.animationState||(t.animationState=Rve(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ww(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Ive=0;class Fve extends qu{constructor(){super(...arguments),this.id=Ive++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Lve={animation:{Feature:Mve},exit:{Feature:Fve}};function Ag(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}function jy(e){return{point:{x:e.pageX,y:e.pageY}}}const Bve=e=>t=>g_(t)&&e(t,jy(t));function Rx(e,t,r,s){return Ag(e,t,Bve(r),s)}function jU({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function $ve({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Uve(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}const SU=1e-4,Vve=1-SU,qve=1+SU,EU=.01,zve=0-EU,Hve=0+EU;function za(e){return e.max-e.min}function Wve(e,t,r){return Math.abs(e-t)<=r}function sP(e,t,r,s=.5){e.origin=s,e.originPoint=Us(t.min,t.max,e.origin),e.scale=za(r)/za(t),e.translate=Us(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Vve&&e.scale<=qve||isNaN(e.scale))&&(e.scale=1),(e.translate>=zve&&e.translate<=Hve||isNaN(e.translate))&&(e.translate=0)}function Px(e,t,r,s){sP(e.x,t.x,r.x,s?s.originX:void 0),sP(e.y,t.y,r.y,s?s.originY:void 0)}function nP(e,t,r){e.min=r.min+t.min,e.max=e.min+za(t)}function Gve(e,t,r){nP(e.x,t.x,r.x),nP(e.y,t.y,r.y)}function aP(e,t,r){e.min=t.min-r.min,e.max=e.min+za(t)}function Mx(e,t,r){aP(e.x,t.x,r.x),aP(e.y,t.y,r.y)}const iP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rm=()=>({x:iP(),y:iP()}),oP=()=>({min:0,max:0}),cn=()=>({x:oP(),y:oP()});function no(e){return[e("x"),e("y")]}function CS(e){return e===void 0||e===1}function MA({scale:e,scaleX:t,scaleY:r}){return!CS(e)||!CS(t)||!CS(r)}function bf(e){return MA(e)||AU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function AU(e){return lP(e.x)||lP(e.y)}function lP(e){return e&&e!=="0%"}function Cb(e,t,r){const s=e-r,a=t*s;return r+a}function cP(e,t,r,s,a){return a!==void 0&&(e=Cb(e,a,s)),Cb(e,r,s)+t}function IA(e,t=0,r=1,s,a){e.min=cP(e.min,t,r,s,a),e.max=cP(e.max,t,r,s,a)}function TU(e,{x:t,y:r}){IA(e.x,t.translate,t.scale,t.originPoint),IA(e.y,r.translate,r.scale,r.originPoint)}const dP=.999999999999,uP=1.0000000000001;function Yve(e,t,r,s=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mm(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,TU(e,o)),s&&bf(i.latestValues)&&Mm(e,i.latestValues))}t.x<uP&&t.x>dP&&(t.x=1),t.y<uP&&t.y>dP&&(t.y=1)}function Pm(e,t){e.min=e.min+t,e.max=e.max+t}function fP(e,t,r,s,a=.5){const i=Us(e.min,e.max,a);IA(e,t,r,i,s)}function Mm(e,t){fP(e.x,t.x,t.scaleX,t.scale,t.originX),fP(e.y,t.y,t.scaleY,t.scale,t.originY)}function CU(e,t){return jU(Uve(e.getBoundingClientRect(),t))}function Kve(e,t,r){const s=CU(e,r),{scroll:a}=t;return a&&(Pm(s.x,a.offset.x),Pm(s.y,a.offset.y)),s}const _U=({current:e})=>e?e.ownerDocument.defaultView:null,hP=(e,t)=>Math.abs(e-t);function Xve(e,t){const r=hP(e.x,t.x),s=hP(e.y,t.y);return Math.sqrt(r**2+s**2)}class kU{constructor(t,r,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=kS(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=Xve(x.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:N}=x,{timestamp:b}=Xn;this.history.push({...N,timestamp:b});const{onStart:w,onMove:j}=this.handlers;p||(w&&w(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,x)},this.handlePointerMove=(x,p)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=_S(p,this.transformPagePoint),Vs.update(this.updatePoint,!0)},this.handlePointerUp=(x,p)=>{this.end();const{onEnd:y,onSessionEnd:N,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=kS(x.type==="pointercancel"?this.lastMoveEventInfo:_S(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(x,w),N&&N(x,w)},!g_(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.contextWindow=a||window;const o=jy(t),l=_S(o,this.transformPagePoint),{point:u}=l,{timestamp:f}=Xn;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,kS(l,this.history)),this.removeListeners=by(Rx(this.contextWindow,"pointermove",this.handlePointerMove),Rx(this.contextWindow,"pointerup",this.handlePointerUp),Rx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ou(this.updatePoint)}}function _S(e,t){return t?{point:t(e.point)}:e}function mP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kS({point:e},t){return{point:e,delta:mP(e,DU(t)),offset:mP(e,Qve(t)),velocity:Zve(t,.1)}}function Qve(e){return e[0]}function DU(e){return e[e.length-1]}function Zve(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const a=DU(e);for(;r>=0&&(s=e[r],!(a.timestamp-s.timestamp>Vl(t)));)r--;if(!s)return{x:0,y:0};const i=ql(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Jve(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?Us(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?Us(r,e,s.max):Math.min(e,r)),e}function pP(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function e1e(e,{top:t,left:r,bottom:s,right:a}){return{x:pP(e.x,r,a),y:pP(e.y,t,s)}}function xP(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function t1e(e,t){return{x:xP(e.x,t.x),y:xP(e.y,t.y)}}function r1e(e,t){let r=.5;const s=za(e),a=za(t);return a>s?r=bg(t.min,t.max-s,e.min):s>a&&(r=bg(e.min,e.max-a,t.min)),Yc(0,1,r)}function s1e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const FA=.35;function n1e(e=FA){return e===!1?e=0:e===!0&&(e=FA),{x:gP(e,"left","right"),y:gP(e,"top","bottom")}}function gP(e,t,r){return{min:yP(e,t),max:yP(e,r)}}function yP(e,t){return typeof e=="number"?e:e[t]||0}const a1e=new WeakMap;class i1e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(jy(h).point)},i=(h,x)=>{const{drag:p,dragPropagation:y,onDragStart:N}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Eye(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),no(w=>{let j=this.getAxisMotionValue(w).get()||0;if(zl.test(j)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[w];A&&(j=za(A)*(parseFloat(j)/100))}}this.originPoint[w]=j}),N&&Vs.postRender(()=>N(h,x)),RA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,x)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:N,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=x;if(y&&this.currentDirection===null){this.currentDirection=o1e(w),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",x.point,w),this.updateAxis("y",x.point,w),this.visualElement.render(),b&&b(h,x)},l=(h,x)=>this.stop(h,x),u=()=>no(h=>{var x;return this.getAnimationState(h)==="paused"&&((x=this.getAxisMotionValue(h).animation)==null?void 0:x.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new kU(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:_U(this.visualElement)})}stop(t,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Vs.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:a}=this.getProps();if(!s||!r1(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=Jve(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&Om(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=e1e(s.layoutBox,t):this.constraints=!1,this.elastic=n1e(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&no(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=s1e(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Om(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Kve(s,a.root,this.visualElement.getTransformPagePoint());let o=t1e(a.layout.layoutBox,i);if(r){const l=r($ve(o));this.hasMutatedConstraints=!!l,l&&(o=jU(l))}return o}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},f=no(h=>{if(!r1(h,r,this.currentDirection))return;let x=u&&u[h]||{};o&&(x={min:0,max:0});const p=a?200:1e6,y=a?40:1e7,N={type:"inertia",velocity:s?t[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...x};return this.startAxisValueAnimation(h,N)});return Promise.all(f).then(l)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return RA(this.visualElement,t),s.start(A_(t,s,0,r,this.visualElement,!1))}stopAnimation(){no(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){no(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){no(r=>{const{drag:s}=this.getProps();if(!r1(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-Us(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!Om(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};no(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();a[o]=r1e({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),no(o=>{if(!r1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:u,max:f}=this.constraints[o];l.set(Us(u,f,a[o]))})}addListeners(){if(!this.visualElement.current)return;a1e.set(this.visualElement,this);const t=this.visualElement.current,r=Rx(t,"pointerdown",u=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();Om(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Vs.read(s);const o=Ag(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(no(h=>{const x=this.getAxisMotionValue(h);x&&(this.originPoint[h]+=u[h].translate,x.set(x.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=FA,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function r1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function o1e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class l1e extends qu{constructor(t){super(t),this.removeGroupControls=wo,this.removeListeners=wo,this.controls=new i1e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wo}unmount(){this.removeGroupControls(),this.removeListeners()}}const vP=e=>(t,r)=>{e&&Vs.postRender(()=>e(t,r))};class c1e extends qu{constructor(){super(...arguments),this.removePointerDownListener=wo}onPointerDown(t){this.session=new kU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_U(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:vP(t),onStart:vP(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&Vs.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Rx(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const B1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const hx={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(dr.test(e))e=parseFloat(e);else return e;const r=bP(e,t.target.x),s=bP(e,t.target.y);return`${r}% ${s}%`}},d1e={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,a=Ru.parse(e);if(a.length>5)return s;const i=Ru.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,u=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=u;const f=Us(l,u,.5);return typeof a[2+o]=="number"&&(a[2+o]/=f),typeof a[3+o]=="number"&&(a[3+o]/=f),i(a)}};class u1e extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;Kye(f1e),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),B1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Vs.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),x_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function OU(e){const[t,r]=y$(),s=g.useContext(GC);return n.jsx(u1e,{...e,layoutGroup:s,switchLayoutGroup:g.useContext(dU),isPresent:t,safeToRemove:r})}const f1e={borderRadius:{...hx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hx,borderTopRightRadius:hx,borderBottomLeftRadius:hx,borderBottomRightRadius:hx,boxShadow:d1e};function h1e(e,t,r){const s=Aa(e)?e:N0(e);return s.start(A_("",s,t,r)),s.animation}function m1e(e){return e instanceof SVGElement&&e.tagName!=="svg"}const p1e=(e,t)=>e.depth-t.depth;class x1e{constructor(){this.children=[],this.isDirty=!1}add(t){QC(this.children,t),this.isDirty=!0}remove(t){ZC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(p1e),this.isDirty=!1,this.children.forEach(t)}}function g1e(e,t){const r=ui.now(),s=({timestamp:a})=>{const i=a-r;i>=t&&(Ou(s),e(i-t))};return Vs.setup(s,!0),()=>Ou(s)}const RU=["TopLeft","TopRight","BottomLeft","BottomRight"],y1e=RU.length,wP=e=>typeof e=="string"?parseFloat(e):e,NP=e=>typeof e=="number"||dr.test(e);function v1e(e,t,r,s,a,i){a?(e.opacity=Us(0,r.opacity??1,b1e(s)),e.opacityExit=Us(t.opacity??1,0,w1e(s))):i&&(e.opacity=Us(t.opacity??1,r.opacity??1,s));for(let o=0;o<y1e;o++){const l=`border${RU[o]}Radius`;let u=jP(t,l),f=jP(r,l);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||NP(u)===NP(f)?(e[l]=Math.max(Us(wP(u),wP(f),s),0),(zl.test(f)||zl.test(u))&&(e[l]+="%")):e[l]=f}(t.rotate||r.rotate)&&(e.rotate=Us(t.rotate||0,r.rotate||0,s))}function jP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const b1e=PU(0,.5,C$),w1e=PU(.5,.95,wo);function PU(e,t,r){return s=>s<e?0:s>t?1:r(bg(e,t,s))}function SP(e,t){e.min=t.min,e.max=t.max}function ro(e,t){SP(e.x,t.x),SP(e.y,t.y)}function EP(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function AP(e,t,r,s,a){return e-=t,e=Cb(e,1/r,s),a!==void 0&&(e=Cb(e,1/a,s)),e}function N1e(e,t=0,r=1,s=.5,a,i=e,o=e){if(zl.test(t)&&(t=parseFloat(t),t=Us(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Us(i.min,i.max,s);e===i&&(l-=t),e.min=AP(e.min,t,r,l,a),e.max=AP(e.max,t,r,l,a)}function TP(e,t,[r,s,a],i,o){N1e(e,t[r],t[s],t[a],t.scale,i,o)}const j1e=["x","scaleX","originX"],S1e=["y","scaleY","originY"];function CP(e,t,r,s){TP(e.x,t,j1e,r?r.x:void 0,s?s.x:void 0),TP(e.y,t,S1e,r?r.y:void 0,s?s.y:void 0)}function _P(e){return e.translate===0&&e.scale===1}function MU(e){return _P(e.x)&&_P(e.y)}function kP(e,t){return e.min===t.min&&e.max===t.max}function E1e(e,t){return kP(e.x,t.x)&&kP(e.y,t.y)}function DP(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function IU(e,t){return DP(e.x,t.x)&&DP(e.y,t.y)}function OP(e){return za(e.x)/za(e.y)}function RP(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class A1e{constructor(){this.members=[]}add(t){QC(this.members,t),t.scheduleRender()}remove(t){if(ZC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T1e(e,t,r){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:f,rotate:h,rotateX:x,rotateY:p,skewX:y,skewY:N}=r;f&&(s=`perspective(${f}px) ${s}`),h&&(s+=`rotate(${h}deg) `),x&&(s+=`rotateX(${x}deg) `),p&&(s+=`rotateY(${p}deg) `),y&&(s+=`skewX(${y}deg) `),N&&(s+=`skewY(${N}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(s+=`scale(${l}, ${u})`),s||"none"}const DS=["","X","Y","Z"],C1e={visibility:"hidden"},_1e=1e3;let k1e=0;function OS(e,t,r,s){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function FU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=vU(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Vs,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&FU(s)}function LU({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=k1e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(R1e),this.nodes.forEach(L1e),this.nodes.forEach(B1e),this.nodes.forEach(P1e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new x1e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new t_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=m1e(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const x=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=g1e(x,250),B1.hasAnimatedSinceResize&&(B1.hasAnimatedSinceResize=!1,this.nodes.forEach(MP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:x,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||f.getDefaultTransition()||z1e,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=f.getProps(),j=!this.targetLayout||!IU(this.targetLayout,y),S=!x&&p;if(this.options.layoutRoot||this.resumeFrom||S||x&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const A={...m_(N,"layout"),onPlay:b,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else x||MP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ou(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($1e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const x=this.path[h];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PP);return}this.isUpdating||this.nodes.forEach(I1e),this.isUpdating=!1,this.nodes.forEach(F1e),this.nodes.forEach(D1e),this.nodes.forEach(O1e),this.clearAllSnapshots();const l=ui.now();Xn.delta=Yc(0,1e3/60,l-Xn.timestamp),Xn.timestamp=l,Xn.isProcessing=!0,jS.update.process(Xn),jS.preRender.process(Xn),jS.render.process(Xn),Xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,x_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(M1e),this.sharedNodes.forEach(U1e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!za(this.snapshot.measuredBox.x)&&!za(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!MU(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;o&&this.instance&&(l||bf(this.latestValues)||h)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),H1e(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return cn();const l=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(W1e))){const{scroll:h}=this.root;h&&(Pm(l.x,h.offset.x),Pm(l.y,h.offset.y))}return l}removeElementScroll(o){var u;const l=cn();if(ro(l,o),(u=this.scroll)!=null&&u.wasRoot)return l;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:x,options:p}=h;h!==this.root&&x&&p.layoutScroll&&(x.wasRoot&&ro(l,o),Pm(l.x,x.offset.x),Pm(l.y,x.offset.y))}return l}applyTransform(o,l=!1){const u=cn();ro(u,o);for(let f=0;f<this.path.length;f++){const h=this.path[f];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Mm(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),bf(h.latestValues)&&Mm(u,h.latestValues)}return bf(this.latestValues)&&Mm(u,this.latestValues),u}removeTransform(o){const l=cn();ro(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!bf(f.latestValues))continue;MA(f.latestValues)&&f.updateSnapshot();const h=cn(),x=f.measurePageBox();ro(h,x),CP(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return bf(this.latestValues)&&CP(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:x}=this.options;if(!(!this.layout||!(h||x))){if(this.resolvedRelativeTargetAt=Xn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),Mx(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=cn(),this.targetWithTransforms=cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ro(this.target,this.layout.layoutBox),TU(this.target,this.targetDelta)):ro(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),Mx(this.relativeTargetOrigin,this.target,y.target),ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||MA(this.parent.latestValues)||AU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Xn.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;ro(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,p=this.treeScale.y;Yve(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=cn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EP(this.prevProjectionDelta.x,this.projectionDelta.x),EP(this.prevProjectionDelta.y,this.projectionDelta.y)),Px(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==p||!RP(this.projectionDelta.x,this.prevProjectionDelta.x)||!RP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rm(),this.projectionDelta=Rm(),this.projectionDeltaWithTransform=Rm()}setAnimationOrigin(o,l=!1){const u=this.snapshot,f=u?u.latestValues:{},h={...this.latestValues},x=Rm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=cn(),y=u?u.source:void 0,N=this.layout?this.layout.source:void 0,b=y!==N,w=this.getStack(),j=!w||w.members.length<=1,S=!!(b&&!j&&this.options.crossfade===!0&&!this.path.some(q1e));this.animationProgress=0;let A;this.mixTargetDelta=C=>{const T=C/1e3;IP(x.x,o.x,T),IP(x.y,o.y,T),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mx(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V1e(this.relativeTarget,this.relativeTargetOrigin,p,T),A&&E1e(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=cn()),ro(A,this.relativeTarget)),b&&(this.animationValues=h,v1e(h,f,this.latestValues,T,S,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,u,f;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(f=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||f.stop(!1),this.pendingAnimation&&(Ou(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vs.update(()=>{B1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=N0(0)),this.currentAnimation=h1e(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_1e),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:f,latestValues:h}=o;if(!(!l||!u||!f)){if(this!==o&&this.layout&&f&&BU(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||cn();const x=za(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+x;const p=za(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}ro(l,u),Mm(l,h),Px(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new A1e),this.sharedNodes.get(o).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const f={};u.z&&OS("z",o,f,this.animationValues);for(let h=0;h<DS.length;h++)OS(`rotate${DS[h]}`,o,f,this.animationValues),OS(`skew${DS[h]}`,o,f,this.animationValues);o.render();for(const h in f)o.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return C1e;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=L1(o==null?void 0:o.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=L1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!bf(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=T1e(this.projectionDeltaWithTransform,this.treeScale,h),u&&(l.transform=u(h,l.transform));const{x,y:p}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${p.origin*100}% 0`,f.animationValues?l.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Sg){if(h[y]===void 0)continue;const{correct:N,applyTo:b,isCSSVariable:w}=Sg[y],j=l.transform==="none"?h[y]:N(h[y],f);if(b){const S=b.length;for(let A=0;A<S;A++)l[b[A]]=j}else w?this.options.visualElement.renderState.vars[y]=j:l[y]=j}return this.options.layoutId&&(l.pointerEvents=f===this?L1(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(PP),this.root.sharedNodes.clear()}}}function D1e(e){e.updateLayout()}function O1e(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?no(x=>{const p=o?t.measuredBox[x]:t.layoutBox[x],y=za(p);p.min=s[x].min,p.max=p.min+y}):BU(i,t.layoutBox,s)&&no(x=>{const p=o?t.measuredBox[x]:t.layoutBox[x],y=za(s[x]);p.max=p.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+y)});const l=Rm();Px(l,s,t.layoutBox);const u=Rm();o?Px(u,e.applyTransform(a,!0),t.measuredBox):Px(u,s,t.layoutBox);const f=!MU(l);let h=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:p,layout:y}=x;if(p&&y){const N=cn();Mx(N,t.layoutBox,p.layoutBox);const b=cn();Mx(b,s,y.layoutBox),IU(N,b)||(h=!0),x.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=N,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function R1e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function P1e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function M1e(e){e.clearSnapshot()}function PP(e){e.clearMeasurements()}function I1e(e){e.isLayoutDirty=!1}function F1e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function MP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function L1e(e){e.resolveTargetDelta()}function B1e(e){e.calcProjection()}function $1e(e){e.resetSkewAndRotation()}function U1e(e){e.removeLeadSnapshot()}function IP(e,t,r){e.translate=Us(t.translate,0,r),e.scale=Us(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function FP(e,t,r,s){e.min=Us(t.min,r.min,s),e.max=Us(t.max,r.max,s)}function V1e(e,t,r,s){FP(e.x,t.x,r.x,s),FP(e.y,t.y,r.y,s)}function q1e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const z1e={duration:.45,ease:[.4,0,.1,1]},LP=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),BP=LP("applewebkit/")&&!LP("chrome/")?Math.round:wo;function $P(e){e.min=BP(e.min),e.max=BP(e.max)}function H1e(e){$P(e.x),$P(e.y)}function BU(e,t,r){return e==="position"||e==="preserve-aspect"&&!Wve(OP(t),OP(r),.2)}function W1e(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const G1e=LU({attachResizeListener:(e,t)=>Ag(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),RS={current:void 0},$U=LU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!RS.current){const e=new G1e({});e.mount(window),e.setOptions({layoutScroll:!0}),RS.current=e}return RS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Y1e={pan:{Feature:c1e},drag:{Feature:l1e,ProjectionNode:$U,MeasureLayout:OU}};function UP(e,t,r){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=s[a];i&&Vs.postRender(()=>i(t,jy(t)))}class K1e extends qu{mount(){const{current:t}=this.node;t&&(this.unmount=Aye(t,(r,s)=>(UP(this.node,s,"Start"),a=>UP(this.node,a,"End"))))}unmount(){}}class X1e extends qu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=by(Ag(this.node.current,"focus",()=>this.onFocus()),Ag(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VP(e,t,r){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=s[a];i&&Vs.postRender(()=>i(t,jy(t)))}class Q1e extends qu{mount(){const{current:t}=this.node;t&&(this.unmount=kye(t,(r,s)=>(VP(this.node,s,"Start"),(a,{success:i})=>VP(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const LA=new WeakMap,PS=new WeakMap,Z1e=e=>{const t=LA.get(e.target);t&&t(e)},J1e=e=>{e.forEach(Z1e)};function ebe({root:e,...t}){const r=e||document;PS.has(r)||PS.set(r,{});const s=PS.get(r),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(J1e,{root:e,...t})),s[a]}function tbe(e,t,r){const s=ebe(t);return LA.set(e,r),s.observe(e),()=>{LA.delete(e),s.unobserve(e)}}const rbe={some:0,all:1};class sbe extends qu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:rbe[a]},l=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:x}=this.node.getProps(),p=f?h:x;p&&p(u)};return tbe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(nbe(t,r))&&this.startObserver()}unmount(){}}function nbe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const abe={inView:{Feature:sbe},tap:{Feature:Q1e},focus:{Feature:X1e},hover:{Feature:K1e}},ibe={layout:{ProjectionNode:$U,MeasureLayout:OU}},BA={current:null},UU={current:!1};function obe(){if(UU.current=!0,!!KC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>BA.current=e.matches;e.addListener(t),t()}else BA.current=!1}const lbe=new WeakMap;function cbe(e,t,r){for(const s in t){const a=t[s],i=r[s];if(Aa(a))e.addValue(s,a);else if(Aa(i))e.addValue(s,N0(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,N0(o!==void 0?o:a,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const qP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dbe{scrapeMotionValuesFromProps(t,r,s){return{}}constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=h_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ui.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Vs.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Gw(r),this.isVariantNode=lU(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in x){const y=x[p];u[p]!==void 0&&Aa(y)&&y.set(u[p],!1)}}mount(t){this.current=t,lbe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),UU.current||obe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:BA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ou(this.notifyUpdate),Ou(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=np.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Vs.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in j0){const r=j0[t];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<qP.length;s++){const a=qP[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=cbe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const s=this.values.get(t);r!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=N0(r===null?void 0:r,{owner:this}),this.addValue(t,s)),s}readValue(t,r){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(v$(s)||b$(s))?s=parseFloat(s):!Oye(s)&&Ru.test(r)&&(s=tU(t,r)),this.setBaseTarget(t,Aa(s)?s.get():s)),Aa(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=S_(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Aa(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new t_),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class VU extends dbe{constructor(){super(...arguments),this.KeyframeResolver=wye}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Aa(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function qU(e,{style:t,vars:r},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const i in r)e.style.setProperty(i,r[i])}function ube(e){return window.getComputedStyle(e)}class fbe extends VU{constructor(){super(...arguments),this.type="html",this.renderInstance=qU}readValueFromInstance(t,r){if(np.has(r))return $ge(t,r);{const s=ube(t),a=(n_(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return CU(t,r)}build(t,r,s){w_(t,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,r,s){return E_(t,r,s)}}const zU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hbe(e,t,r,s){qU(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(zU.has(a)?a:b_(a),t.attrs[a])}class mbe extends VU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(np.has(r)){const s=eU(r);return s&&s.default||0}return r=zU.has(r)?r:b_(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,s){return yU(t,r,s)}build(t,r,s){mU(t,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,r,s,a){hbe(t,r,s,a)}mount(t){this.isSVGTag=xU(t.tagName),super.mount(t)}}const pbe=(e,t)=>j_(e)?new mbe(t):new fbe(t,{allowProjection:e!==g.Fragment}),xbe=fve({...Lve,...abe,...Y1e,...ibe},pbe),vs=Fye(xbe),gbe="/assets/indraai%20640%20x%20960-DM1tbB-f.png",ybe=({images:e,subtitle:t="",description:r="",className:s})=>{const[a,i]=g.useState(0),[o,l]=g.useState(!1),[u,f]=g.useState(!1),h=g.useRef(null),x=jr();g.useEffect(()=>{const N=setTimeout(()=>l(!0),100);return()=>clearTimeout(N)},[]),g.useEffect(()=>{const N=()=>{f(window.innerWidth<436)};return N(),window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}},[]),g.useEffect(()=>{if(e&&e.length>1)return h.current=setInterval(()=>{i(N=>N===e.length-1?0:N+1)},5e3),()=>{h.current&&clearInterval(h.current)}},[e]);const p=N=>{N===0&&l(!0)},y=()=>{const N=localStorage.getItem("authToken"),b=localStorage.getItem("user");if(N&&b){const w=document.getElementById("product-detail-section");w&&w.scrollIntoView({behavior:"smooth",block:"start"})}else x("/login")};return!e||e.length===0?n.jsx("section",{className:Je("relative w-full h-screen overflow-hidden flex items-center justify-center bg-gray-200",s),children:n.jsx("div",{className:"text-center",children:n.jsx("p",{children:"Loading Banners..."})})}):n.jsx("section",{className:Je("relative w-full overflow-hidden",s),children:n.jsxs("div",{className:"relative w-full mx-auto max-sm:w-full max-sm:h-[16rem] max-[439px]:min-h-[39rem] ",style:{maxWidth:"1920px",aspectRatio:"1584 / 632"},children:[n.jsx("div",{className:"absolute inset-0 ",children:e.map((N,b)=>n.jsxs("div",{className:Je("absolute inset-0 transition-opacity duration-1000 ease-in-out","opacity-100"),children:[n.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:n.jsx("img",{src:u?gbe:N.src,alt:N.alt,className:"w-full h-full object-cover max-sm:object-fit max-[380px]:object-contain ",onLoad:()=>p(b),loading:b===0?"eager":"lazy"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"})]},N.id))}),n.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"text-center max-w-4xl mx-auto",children:n.jsxs(vs.div,{initial:{opacity:1,y:30},animate:{opacity:o?1:0,y:o?1:30},transition:{duration:.8,delay:.2},className:"space-y-6",children:[n.jsx(vs.h1,{initial:{opacity:1,y:30},animate:{opacity:o?1:0,y:o?1:30},transition:{duration:.8,delay:.6},className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight",children:t}),n.jsx(vs.p,{initial:{opacity:1,y:20},animate:{opacity:o?1:0,y:o?1:20},transition:{duration:.6,delay:.8},className:"text-lg sm:text-xl text-white/80 max-w-2xl mx-auto leading-relaxed",children:r})]})})}),e.length>1&&n.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20",children:n.jsx("div",{className:"flex space-x-2",children:e.map((N,b)=>n.jsx("button",{onClick:()=>i(b),className:Je("w-3 h-3 rounded-full transition-all duration-300",b===a?"bg-white scale-110":"bg-white/50 hover:bg-white/70"),"aria-label":`Go to image ${b+1}`},b))})}),n.jsx(vs.div,{initial:{opacity:1,y:20},animate:{opacity:o?1:0,y:o?1:20},transition:{duration:.6,delay:1},className:`absolute bottom-20 left-1/2 transform -translate-x-1/2 z-20 
                     lg:bottom-20 
                     md:bottom-16 
                     sm:bottom-12 
                     max-sm:bottom-8`,children:n.jsx("button",{onClick:y,className:`px-8 py-3 bg-primary text-white font-semibold rounded-full hover:bg-red-400/90 transition-colors duration-300 
                       min-w-[240px] 
                       lg:min-w-[240px] lg:px-8 lg:py-3 lg:text-base
                       md:min-w-[200px] md:px-6 md:py-2.5 md:text-sm
                       sm:min-w-[180px] sm:px-5 sm:py-2 sm:text-sm
                       max-sm:min-w-[150px] max-sm:px-4 max-sm:py-2 max-sm:text-xs`,children:"Join Our Milk Club"})})]})})},T_=[{value:"andhra-pradesh",label:"Andhra Pradesh"},{value:"arunachal-pradesh",label:"Arunachal Pradesh"},{value:"assam",label:"Assam"},{value:"bihar",label:"Bihar"},{value:"chhattisgarh",label:"Chhattisgarh"},{value:"goa",label:"Goa"},{value:"gujarat",label:"Gujarat"},{value:"haryana",label:"Haryana"},{value:"himachal-pradesh",label:"Himachal Pradesh"},{value:"jharkhand",label:"Jharkhand"},{value:"karnataka",label:"Karnataka"},{value:"kerala",label:"Kerala"},{value:"madhya-pradesh",label:"Madhya Pradesh"},{value:"maharashtra",label:"Maharashtra"},{value:"manipur",label:"Manipur"},{value:"meghalaya",label:"Meghalaya"},{value:"mizoram",label:"Mizoram"},{value:"nagaland",label:"Nagaland"},{value:"odisha",label:"Odisha"},{value:"punjab",label:"Punjab"},{value:"rajasthan",label:"Rajasthan"},{value:"sikkim",label:"Sikkim"},{value:"tamil-nadu",label:"Tamil Nadu"},{value:"telangana",label:"Telangana"},{value:"tripura",label:"Tripura"},{value:"uttar-pradesh",label:"Uttar Pradesh"},{value:"uttarakhand",label:"Uttarakhand"},{value:"west-bengal",label:"West Bengal"},{value:"andaman-nicobar",label:"Andaman and Nicobar Islands"},{value:"chandigarh",label:"Chandigarh"},{value:"dadra-nagar-haveli-daman-diu",label:"Dadra and Nagar Haveli and Daman and Diu"},{value:"delhi",label:"Delhi"},{value:"jammu-kashmir",label:"Jammu and Kashmir"},{value:"ladakh",label:"Ladakh"},{value:"lakshadweep",label:"Lakshadweep"},{value:"puducherry",label:"Puducherry"}];var C_="Radio",[vbe,HU]=zn(C_),[bbe,wbe]=vbe(C_),WU=g.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:u,form:f,...h}=e,[x,p]=g.useState(null),y=Ft(t,w=>p(w)),N=g.useRef(!1),b=x?f||!!x.closest("form"):!0;return n.jsxs(bbe,{scope:r,checked:a,disabled:o,children:[n.jsx(_t.button,{type:"button",role:"radio","aria-checked":a,"data-state":XU(a),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:y,onClick:dt(e.onClick,w=>{a||u==null||u(),b&&(N.current=w.isPropagationStopped(),N.current||w.stopPropagation())})}),b&&n.jsx(KU,{control:x,bubbles:!N.current,name:s,value:l,checked:a,required:i,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});WU.displayName=C_;var GU="RadioIndicator",YU=g.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=wbe(GU,r);return n.jsx(Dn,{present:s||i.checked,children:n.jsx(_t.span,{"data-state":XU(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});YU.displayName=GU;var Nbe="RadioBubbleInput",KU=g.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=g.useRef(null),l=Ft(o,i),u=Mw(r),f=bw(t);return g.useEffect(()=>{const h=o.current;if(!h)return;const x=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(x,"checked").set;if(u!==r&&y){const N=new Event("click",{bubbles:s});y.call(h,r),h.dispatchEvent(N)}},[u,r,s]),n.jsx(_t.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});KU.displayName=Nbe;function XU(e){return e?"checked":"unchecked"}var jbe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yw="RadioGroup",[Sbe,wPe]=zn(Yw,[Sw,HU]),QU=Sw(),ZU=HU(),[Ebe,Abe]=Sbe(Yw),JU=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:u,dir:f,loop:h=!0,onValueChange:x,...p}=e,y=QU(r),N=ry(f),[b,w]=jo({prop:i,defaultProp:a??"",onChange:x,caller:Yw});return n.jsx(Ebe,{scope:r,name:s,required:o,disabled:l,value:b,onValueChange:w,children:n.jsx($L,{asChild:!0,...y,orientation:u,dir:N,loop:h,children:n.jsx(_t.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":l?"":void 0,dir:N,...p,ref:t})})})});JU.displayName=Yw;var eV="RadioGroupItem",tV=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=Abe(eV,r),o=i.disabled||s,l=QU(r),u=ZU(r),f=g.useRef(null),h=Ft(t,f),x=i.value===a.value,p=g.useRef(!1);return g.useEffect(()=>{const y=b=>{jbe.includes(b.key)&&(p.current=!0)},N=()=>p.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",N),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",N)}},[]),n.jsx(UL,{asChild:!0,...l,focusable:!o,active:x,children:n.jsx(WU,{disabled:o,required:i.required,checked:x,...u,...a,name:i.name,ref:h,onCheck:()=>i.onValueChange(a.value),onKeyDown:dt(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:dt(a.onFocus,()=>{var y;p.current&&((y=f.current)==null||y.click())})})})});tV.displayName=eV;var Tbe="RadioGroupIndicator",rV=g.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=ZU(r);return n.jsx(YU,{...a,...s,ref:t})});rV.displayName=Tbe;var Cbe=JU,_be=tV,kbe=rV;function Gm({className:e,...t}){return n.jsx(Cbe,{"data-slot":"radio-group",className:Je("grid gap-3",e),...t})}function mo({className:e,...t}){return n.jsx(_be,{"data-slot":"radio-group-item",className:Je("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(kbe,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:n.jsx(bX,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const Dbe="/product-orders",Obe=async e=>$r(`${Dbe}/with-subscriptions`,e);var Im=(e=>(e.HandDelivery="HandDelivery",e.Courier="Courier",e))(Im||{});const Kw="/admin/areamasters",Rbe=async e=>$r(Kw,e),Pbe=async e=>mt(Kw,e),Mbe=async(e,t)=>un(`${Kw}/${e}`,t),Ibe=async e=>Hn(`${Kw}/${e}`),sV=async()=>(await mt("/api/public/area-masters")).data,nV=async e=>{const t=await $r("/api/leads",e);if(!t.success||!t.data)throw new Error(t.message||"Failed to create lead");return t.data},Fbe=rhe,aV=g.createContext({}),Mo=({...e})=>n.jsx(aV.Provider,{value:{name:e.name},children:n.jsx(Ur,{...e})}),__=()=>{const e=g.useContext(aV),t=g.useContext(iV),{getFieldState:r}=gy(),s=D9({name:e.name}),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},iV=g.createContext({});function ri({className:e,...t}){const r=g.useId();return n.jsx(iV.Provider,{value:{id:r},children:n.jsx("div",{"data-slot":"form-item",className:Je("grid gap-2",e),...t})})}function si({className:e,...t}){const{error:r,formItemId:s}=__();return n.jsx(Te,{"data-slot":"form-label","data-error":!!r,className:Je("data-[error=true]:text-destructive",e),htmlFor:s,...t})}function ni({...e}){const{error:t,formItemId:r,formDescriptionId:s,formMessageId:a}=__();return n.jsx(iw,{"data-slot":"form-control",id:r,"aria-describedby":t?`${s} ${a}`:`${s}`,"aria-invalid":!!t,...e})}function _l({className:e,...t}){const{error:r,formMessageId:s}=__(),a=r?String((r==null?void 0:r.message)??""):t.children;return a?n.jsx("p",{"data-slot":"form-message",id:s,className:Je("text-destructive text-sm",e),...t,children:a}):null}ws({name:ct().min(1,"Name is required").min(2,"Name must be at least 2 characters"),mobile:ct().min(1,"Mobile number is required").regex(/^\d{10,}$/,"Mobile number must be at least 10 digits and contain only numbers"),email:ct().email("Invalid email address").optional().or(Um("")),plotBuilding:ct().min(1,"Flat/House/Plot number is required"),streetArea:ct().min(1,"Street/Area name is required"),landmark:ct().optional(),pincode:ct().min(1,"Pincode is required").regex(/^\d{6}$/,"Pincode must be exactly 6 digits"),city:ct().min(1,"City is required"),state:ct().min(1,"State is required"),notes:ct().optional()});const oV=({isOpen:e,onOpenChange:t,productName:r,areaName:s,message:a})=>{const i=()=>{t(!1)};return n.jsx(hs,{open:e,onOpenChange:t,children:n.jsxs(ms,{className:"w-full max-w-md mx-auto p-0 max-h-[90vh] overflow-hidden",children:[n.jsxs(ps,{className:"px-6 py-6 text-center bg-gradient-to-r from-green-50 to-blue-50",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:n.jsx(rl,{className:"h-8 w-8 text-green-600"})})}),n.jsx(xs,{className:"text-xl font-semibold text-gray-900 mb-2",children:"Thank You for Your Interest!"}),n.jsx(Ya,{className:"text-gray-600 leading-relaxed",children:a||`We're excited about your interest in ${r||"our dairy products"}${s?` for ${s}`:""}!`})]}),n.jsxs("div",{className:"px-6 py-4",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Bm,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"We've noted your location"}),n.jsx("p",{className:"text-sm text-blue-700",children:"Your details have been saved and we're working hard to expand our dairy delivery services to your area."})]})]})}),n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(EE,{className:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-orange-900 mb-1",children:"We'll reach out to you shortly"}),n.jsx("p",{className:"text-sm text-orange-700",children:"Our team will contact you as soon as we begin serving your area. Thank you for your patience!"})]})]})})]}),n.jsx(gi,{className:"px-6 py-4 bg-gray-50",children:n.jsx(he,{onClick:i,className:"w-full bg-primary hover:bg-primary/90 text-white",children:"Got it, Thank You!"})})]})})},s1=[{id:"mon",label:"Mon",fullName:"Monday"},{id:"tue",label:"Tue",fullName:"Tuesday"},{id:"wed",label:"Wed",fullName:"Wednesday"},{id:"thu",label:"Thu",fullName:"Thursday"},{id:"fri",label:"Fri",fullName:"Friday"},{id:"sat",label:"Sat",fullName:"Saturday"},{id:"sun",label:"Sun",fullName:"Sunday"}],zP=[{value:3,label:"3 Days (Trial Pack)"},{value:15,label:"15 Days (Mid Saver Pack)"},{value:30,label:"30 Days (Super Saver Pack)"}],Lbe=({isOpen:e,onOpenChange:t,product:r,productId:s,depotId:a,selectedDepot:i})=>{var Yr,ls,rn;const[o,l]=g.useState(1),[u,f]=g.useState(1),[h,x]=g.useState("daily"),[p,y]=g.useState(()=>{const se=new Date;return se.setDate(se.getDate()+3),se}),[N,b]=g.useState(!1),[w,j]=g.useState(3),[S,A]=g.useState([]),[C,T]=g.useState(!1),[D,_]=g.useState([]),[O,P]=g.useState([]),[B,I]=g.useState(!1),[G,z]=g.useState(null),[ae,J]=g.useState("subscriptionDetails"),[L,U]=g.useState({}),[F,X]=g.useState(""),[q,te]=g.useState(0),[M,W]=g.useState([]),[K,V]=g.useState(!1),[Q,ie]=g.useState(!0),[xe,ue]=g.useState([]),[de,De]=g.useState([]),[Ne,ot]=g.useState(null),[Ee,Ae]=g.useState(!1),[Ye,be]=g.useState("");g.useEffect(()=>{const se=Oe=>{const qe=w<15&&Oe==="alternate-days",at=w<7&&Oe==="day1-day2",ut=w<30&&Oe==="select-days";return qe||at||ut?"daily":Oe};C?A(Oe=>Oe.map(qe=>({...qe,deliveryOption:se(qe.deliveryOption)}))):x(se(h))},[w,C]);const[ge,Me]=g.useState({recipientName:"",mobile:F||"",plotBuilding:"",streetArea:"",landmark:"",city:"Dombivli",state:"Maharashtra",pincode:"",isDefault:!1,label:"Home",locationId:void 0}),xt=(se,Oe)=>{Me(qe=>({...qe,[se]:Oe})),L[se]&&U(qe=>({...qe,[se]:""}))},jt=se=>{const{name:Oe,value:qe}=se.target;xt(Oe,qe)},fe=se=>{xt("label",se)},Se=se=>{const Oe=Number(se);return Number.isFinite(Oe)&&Oe>0?Oe:void 0},Re=se=>{var Oe;return{id:((Oe=se.id)==null?void 0:Oe.toString())||se.id,name:se.name,mrp:Se(se.mrp),buyOncePrice:Se(se.buyOncePrice),price3Day:Se(se.price3Day),price15Day:Se(se.price15Day),price1Month:Se(se.price1Month),unit:se.name,description:se.description,isAvailable:se.isAvailable??!0}},ye=(se,Oe)=>{const qe=ut=>Number.isFinite(ut)&&ut>0?ut:void 0;let at;switch(Oe){case 3:at=qe(se.price3Day);break;case 15:at=qe(se.price15Day);break;case 30:at=qe(se.price1Month);break}return at??se.buyOncePrice??se.mrp??0},$e=g.useCallback(async(se,Oe)=>{if(!(!se||Oe==null))try{const qe=await mt(`/public/depot-variants/${se}?depotId=${Oe}`),at=(qe==null?void 0:qe.data)||qe;if(at&&Array.isArray(at)&&at.length>0){const ut=at.map(It=>Re(It));_(ut),T(!0),S.length===0&&A([{variantId:ut[0].id,quantity:1,quantityVarying2:1,deliveryOption:"daily",selectedDays:[]}])}else _([]),T(!1)}catch(qe){console.error("Failed to fetch product variants:",qe),me.error("Could not load product variants."),_([]),T(!1)}},[S.length]);g.useEffect(()=>{const se=async()=>{try{const Oe=await sV();De(Oe)}catch(Oe){console.error("Failed to fetch area masters:",Oe),me.error("Could not load delivery areas.")}};e?(s&&a!=null&&$e(s,a),se()):(_([]),T(!1),A([]),J("subscriptionDetails"))},[e,s,a,$e]);const Pe=(se,Oe)=>{A(qe=>qe.map(at=>at.variantId===se?{...at,deliveryOption:Oe,selectedDays:Oe==="select-days"?at.selectedDays:[]}:at))},Xe=(se,Oe)=>{A(qe=>qe.map(at=>{if(at.variantId===se){const ut=at.selectedDays.includes(Oe)?at.selectedDays.filter(It=>It!==Oe):[...at.selectedDays,Oe];return{...at,selectedDays:ut}}return at}))},gt=(se,Oe,qe)=>{A(at=>at.map(ut=>ut.variantId===se?{...ut,[Oe]:Math.max(1,qe)}:ut))},Vt=se=>{switch(se.deliveryOption){case"daily":return w;case"select-days":if(se.selectedDays.length===0)return 0;const Oe=se.selectedDays.map(It=>{switch(It){case"mon":return 1;case"tue":return 2;case"wed":return 3;case"thu":return 4;case"fri":return 5;case"sat":return 6;case"sun":return 0;default:return-1}}).filter(It=>It>=0);if(!p)return 0;let qe=0;const at=new Date(p),ut=new Date(p);ut.setDate(ut.getDate()+w-1);for(let It=new Date(at);It<=ut;It.setDate(It.getDate()+1)){const Jt=It.getDay();Oe.includes(Jt)&&qe++}return qe;case"day1-day2":return w;case"alternate-days":return p?Math.ceil(w/2):0;default:return w}};g.useEffect(()=>{e&&s&&a!=null?$e(s,a):e||(_([]),T(!1),A([]))},[e,s,a,$e]),g.useEffect(()=>{(async()=>{try{const Oe=await mt("/users/me");Oe&&Oe.mobile&&X(Oe.mobile)}catch(Oe){console.error("Failed to fetch user profile:",Oe)}})()},[]),g.useEffect(()=>{F&&Me(se=>({...se,mobile:F}))},[F]);const Mr=()=>{J("subscriptionDetails"),Me({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",city:"Dombivli",state:"Maharashtra",pincode:"",isDefault:!1,label:"Home",locationId:void 0}),U({})},Fs=()=>{var Oe,qe,at,ut,It,Jt,Y,oe;const se={};return(Oe=ge==null?void 0:ge.recipientName)!=null&&Oe.trim()||(se.recipientName="Recipient name is required."),(qe=ge==null?void 0:ge.mobile)!=null&&qe.trim()?/^\d{10}$/.test(ge.mobile.trim())||(se.mobile="Mobile number must be 10 digits."):se.mobile="Mobile number is required.",(at=ge==null?void 0:ge.plotBuilding)!=null&&at.trim()||(se.plotBuilding="Plot/Building is required."),(ut=ge==null?void 0:ge.streetArea)!=null&&ut.trim()||(se.streetArea="Street/Area is required."),(It=ge==null?void 0:ge.pincode)!=null&&It.trim()?/^\d{6}$/.test(ge.pincode.trim())||(se.pincode="Pincode must be 6 digits."):se.pincode="Pincode is required.",(Jt=ge==null?void 0:ge.city)!=null&&Jt.trim()||(se.city="City is required."),(Y=ge==null?void 0:ge.state)!=null&&Y.trim()||(se.state="State is required."),(oe=ge==null?void 0:ge.label)!=null&&oe.trim()||(se.label="Address label is required."),Ne||(se.areaMaster="Please select a delivery area."),U(se),Object.keys(se).length===0},qs=()=>{const se={};if(!p)se.startDate="Start date is required.";else{const Oe=new Date;Oe.setDate(Oe.getDate()+3),Oe.setHours(0,0,0,0),p<Oe&&(se.startDate="Start date must be at least 3 days from today.")}if(C&&S.length>0){let Oe=!0;S.forEach(qe=>{qe.deliveryOption==="select-days"&&qe.selectedDays.length===0&&(Oe=!1)}),Oe||(se.variantSchedules="Please select delivery days for all variants with 'Select Days' option.")}else h==="select-days"&&M.length===0&&(se.selectedDays="Please select at least one delivery day.");return i!=null&&i.isOnline?(G==null||String(G).trim()==="")&&(se.selectedAddressId="Please select a delivery address."):(i==null?void 0:i.address)==null&&(se.depotAddress="Depot address information is missing. Please contact support."),C&&S.length===0&&(se.selectedVariants="Please select at least one variant."),U(se),Object.keys(se).length===0},zs={getUserAddresses:async()=>{try{I(!0);const se=await mt("/delivery-addresses"),Oe=Array.isArray(se)?se.map(qe=>({id:qe.id.toString(),recipientName:qe.recipientName||"",mobile:qe.mobile||"",plotBuilding:qe.plotBuilding||"",streetArea:qe.streetArea||"",landmark:qe.landmark||"",city:qe.city||"",state:qe.state||"",pincode:qe.pincode||"",isDefault:qe.isDefault||!1,label:qe.label||qe.type||"Home"})):[];return P(Oe),Oe.length>0&&!G&&z(Oe[0].id),Oe}catch(se){return console.error("Error fetching addresses:",se),[]}finally{I(!1)}},createUserAddress:async se=>{try{const Oe=await $r("/delivery-addresses",se),qe={id:Oe.id.toString(),recipientName:Oe.recipientName||"",mobile:Oe.mobile||"",plotBuilding:Oe.plotBuilding||"",streetArea:Oe.streetArea||"",landmark:Oe.landmark||"",city:Oe.city||"",state:Oe.state||"",pincode:Oe.pincode||"",isDefault:Oe.isDefault||!1,label:Oe.label||Oe.type||se.label||"Home"};return P(at=>[...at,qe]),z(qe.id),qe}catch(Oe){throw console.error("Error creating address:",Oe),Oe}}};g.useEffect(()=>{e&&(async()=>{try{const se=await mt("/api/wallet/balance");let Oe=0;typeof se=="number"?Oe=se:se&&typeof se.balance=="number"?Oe=se.balance:se&&se.data&&typeof se.data.balance=="number"&&(Oe=se.data.balance),te(Oe)}catch(se){console.error("Failed to fetch wallet balance",se)}})()},[e]),g.useEffect(()=>{e&&ae==="subscriptionDetails"&&(i!=null&&i.isOnline)&&zs.getUserAddresses().then(se=>{se.length>0&&!G&&se.length>0&&z(se[0].id)}).catch(se=>console.error("Error loading addresses:",se)),e||J("subscriptionDetails")},[e,ae,i==null?void 0:i.isOnline]);const _s=async()=>{if(!Fs())return;if((r==null?void 0:r.isDairyProduct)&&Ne&&!Ne.isDairyProduct){const Oe={name:ge.recipientName,mobile:ge.mobile,email:"",plotBuilding:ge.plotBuilding,streetArea:ge.streetArea,landmark:ge.landmark||"",pincode:ge.pincode,city:ge.city,state:ge.state,productId:r.id,isDairyProduct:!0,notes:`Lead captured from subscription modal for area: ${Ne.name}`,status:"NEW"};try{await nV(Oe),me.success("Thank you for your interest! We've noted your details and will contact you when we expand dairy delivery to your area."),be(`We don't currently serve dairy products in ${Ne.name}. However, we'd love to expand our dairy delivery services to your area! We've saved your details and will notify you when service becomes available.`),Ae(!0),Me({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",city:"",state:"",isDefault:!1,label:"Home"}),ot(null),J("subscriptionDetails")}catch(qe){console.error("Failed to save lead:",qe),me.error("An error occurred while saving your information. Please try again.")}}else{const Oe={...ge};try{await zs.createUserAddress(Oe),me.success("Address saved successfully!"),J("subscriptionDetails"),Me({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",city:"",state:"",isDefault:!1,label:"Home"})}catch(qe){console.error("Failed to save address:",qe),me.error("An error occurred while saving your address. Please try again.")}}},Nn=async se=>{if(ot(se),r!=null&&r.isDairyProduct&&!se.isDairyProduct){const Oe=`We don't currently serve dairy products in ${se.name}. However, we'd love to expand our dairy delivery services to your area!`;be(Oe)}else be("")},hn=se=>{M.includes(se)?W(M.filter(Oe=>Oe!==se)):W([...M,se])},tn=()=>{if(!C&&h==="select-days"&&M.length<3){me.error("Please select at least 3 delivery days.");return}if(C&&S.some(se=>se.deliveryOption==="select-days"&&se.selectedDays.length<3)){me.error("Please select at least 3 delivery days for all selected variants.");return}if(i!=null&&i.isOnline&&G==null){console.error("No address selected. Please select or add an address."),me.error("Please select a delivery address");return}if(!(i!=null&&i.isOnline)&&(i==null?void 0:i.address)==null){me.error("Depot address information is missing. Please contact support.");return}J("confirmation")},es=(se,Oe)=>{const qe=ut=>Number.isFinite(ut)&&ut>0?ut:void 0;let at;switch(Oe){case 3:at=qe(se.price3Day);break;case 15:at=qe(se.price15Day);break;case 30:at=qe(se.price1Month);break}return at??se.buyOncePrice??se.mrp??0},ma=()=>{const se={mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:0};switch(h){case"daily":return w;case"select-days":{if(!p||M.length===0)return 0;const Oe=M.map(ut=>se[ut]).filter(ut=>ut!==void 0);let qe=0;const at=new Date(p);at.setDate(at.getDate()+w-1);for(let ut=new Date(p);ut<=at;ut.setDate(ut.getDate()+1))Oe.includes(ut.getDay())&&qe++;return qe}case"day1-day2":return w;case"alternate-days":return Math.ceil(w/2);default:return w}},jn=()=>{if(!C||S.length===0){if(!r)return 0;const at=ma(),ut=r.mrp||r.buyOncePrice||0,It=es(r,w);if(It>=ut)return 0;let Jt=0;if(h==="day1-day2"){const ne=Math.ceil(w/2),le=Math.floor(w/2);Jt=o*ne+u*le}else Jt=o*at;const Y=ut*Jt,oe=It*Jt;return Math.max(0,Y-oe)}let se=0,Oe=0;return S.forEach(at=>{const ut=D.find(re=>re.id===at.variantId);if(!ut)return;const It=ut.mrp||ut.buyOncePrice||0,Jt=ye(ut,w),Y=Vt(at);let oe=0;switch(at.deliveryOption){case"daily":case"select-days":case"alternate-days":oe=at.quantity*Y;break;case"day1-day2":const re=Math.ceil(w/2),ne=Math.floor(w/2);oe=at.quantity*re+(at.quantityVarying2||1)*ne;break}se+=It*oe,Oe+=Jt*oe}),Math.max(0,se-Oe)},mn=async()=>{var at,ut;if(!qs())return;if(r!=null&&r.isDairyProduct&&Ne&&!Ne.isDairyProduct){Ae(!0);return}const se=i!=null&&i.isOnline?G:i==null?void 0:i.address;if(r==null||s==null||se==null||p==null){const It=[];r==null&&It.push("product information"),s==null&&It.push("product ID"),se==null&&(i!=null&&i.isOnline?It.push("delivery address"):It.push("depot address information")),p==null&&It.push("start date");const Jt=`Missing: ${It.join(", ")}. Please ensure all required information is provided.`;me.error(Jt);return}let Oe=[];if(C)Oe=S.filter(It=>It.quantity>0).map(It=>{const Jt=It.deliveryOption,Y={productId:parseInt(It.variantId,10),period:w,startDate:p.toISOString(),deliverySchedule:Jt,qty:It.quantity,internalScheduleLogicType:Jt};return(Jt==="select-days"||Jt==="SELECT-DAYS")&&(Y.weekdays=It.selectedDays),Jt==="day1-day2"&&(Y.altQty=It.quantityVarying2),Y});else{const It=h,Jt={productId:parseInt(s,10),period:w,startDate:p.toISOString(),deliverySchedule:It,qty:o,internalScheduleLogicType:It};(It==="select-days"||It==="SELECT-DAYS")&&(Jt.weekdays=M),It==="day1-day2"&&(Jt.altQty=u),Oe.push(Jt)}if(Oe.length===0){me.error("Please set a quantity for at least one subscription.");return}const qe={subscriptions:Oe,deliveryAddressId:parseInt(String(se),10),walletamt:Q?qt:0};try{V(!0),await Obe(qe),me.success("Subscription created successfully!"),t(!1)}catch(It){console.error("Failed to create subscription:",It);const Jt=((ut=(at=It.response)==null?void 0:at.data)==null?void 0:ut.message)||"An unexpected error occurred.";me.error(`Failed to create subscription: ${Jt}`)}finally{V(!1)}},hr=g.useMemo(()=>{var at;if(!r)return null;let se=0,Oe=0,qe="";if(C&&S.length>0)S.forEach(ut=>{const It=D.find(ne=>ne.id===ut.variantId);if(!It)return;const Jt=Vt(ut);let Y=0;switch(ut.deliveryOption){case"daily":case"select-days":Y=ut.quantity*Jt;break;case"day1-day2":const ne=Math.ceil(w/2),le=Math.floor(w/2);Y=ut.quantity*ne+(ut.quantityVarying2||1)*le;break;case"alternate-days":Y=ut.quantity*Math.ceil(w/2);break}const re=ye(It,w)*Y;se+=Y,Oe+=re}),qe=`${S.length} variant${S.length>1?"s":""} `;else{let ut=0;switch(h){case"daily":ut=w,se=o*ut,qe=`Daily delivery of ${o} item${o>1?"s":""}`;break;case"select-days":if(M.length===0)ut=0,se=0,qe="No days selected";else{const oe=M.map(ne=>{switch(ne){case"mon":return 1;case"tue":return 2;case"wed":return 3;case"thu":return 4;case"fri":return 5;case"sat":return 6;case"sun":return 0;default:return-1}}).filter(ne=>ne>=0);if(ut=0,p){const ne=new Date(p),le=new Date(p);le.setDate(le.getDate()+w-1);for(let ce=new Date(ne);ce<=le;ce.setDate(ce.getDate()+1)){const _e=ce.getDay();oe.includes(_e)&&ut++}}se=o*ut,qe=`On ${s1.filter(ne=>M.includes(ne.id)).map(ne=>ne.label).join(", ")||"selected days"}`}break;case"day1-day2":ut=w;const Jt=Math.ceil(w/2),Y=Math.floor(w/2);se=o*Jt+u*Y,qe=`Day1-Day2: ${o} & ${u} Qty`;break;case"alternate-days":ut=Math.ceil(w/2),se=o*ut,qe="Alternate Day, starting from start date";break}Oe=es(r,w)*se}return{totalQuantity:se,deliveryDescription:qe,totalPrice:Oe,period:((at=zP.find(ut=>ut.value===w))==null?void 0:at.label)||`${w} days`,startDate:p&&!isNaN(new Date(p).getTime())?Gt(new Date(p),"dd/MM/yyyy"):"Not set"}},[r,h,w,o,u,M,p,C,S,D]),qt=g.useMemo(()=>!hr||!Q?0:Math.min(q||0,hr.totalPrice||0),[q,hr,Q]),Ir=g.useMemo(()=>{if(!hr)return 0;const se=hr.totalPrice||0;return Q?se-qt:se},[hr,qt,Q]);return r?n.jsxs(hs,{open:e,onOpenChange:se=>{t(se),se||J("subscriptionDetails")},children:[n.jsxs(ms,{className:"max-sm:max-w-[95vw] flex flex-col max-h-[95vh] p-0 bg-white min-w-[95vw] max-w-2xl rounded-xl overflow-hidden",onPointerDownOutside:se=>{const Oe=se.target;(Oe.closest("[data-radix-popover-content]")||Oe.closest(".rdp")||Oe.closest(".calendar-day")||Oe.closest('[role="gridcell"]'))&&se.preventDefault()},children:[n.jsx(ps,{className:"p-4 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsxs(xs,{className:"text-lg font-semibold text-gray-800",children:["Create Subscription for ",r==null?void 0:r.name]})}),n.jsx("div",{className:"flex-grow overflow-y-auto px-4 py-3 space-y-4 bg-gray-50",children:ae==="subscriptionDetails"?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-600 mb-2 flex items-center gap-1",children:[n.jsx(Ta,{className:"h-3.5 w-3.5"}),"Subscription Period"]}),n.jsx("div",{className:"flex gap-1.5 bg-gray-50 p-1 rounded-lg",children:zP.map(se=>n.jsx("button",{type:"button",className:`flex-1 h-9 px-3 rounded-md transition-all duration-200 relative ${w===se.value?"bg-primary text-white shadow-sm":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200"}`,onClick:()=>j(se.value),children:n.jsxs("div",{className:"flex items-center justify-center h-full",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("span",{className:"font-semibold text-base",children:se.value}),n.jsx("span",{className:`text-sm ${w===se.value?"text-white/90":"text-gray-500"}`,children:"days"})]}),se.value===30&&n.jsx("span",{className:"absolute -top-2 -right-1 bg-green-500 text-white text-[9px] px-1.5 py-0.5 rounded-full font-medium",children:"Best Value"})]})},se.value))})]}),C&&D.length>0&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[n.jsx(yo,{className:"h-3 w-3"}),"Product Variants"]}),n.jsx(he,{variant:"outline",size:"sm",onClick:()=>A([]),className:"text-sm h-7",disabled:S.length===0,children:"Clear"})]}),n.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-2 px-2",children:D.map(se=>{const Oe=S.some(at=>at.variantId===se.id),qe=S.find(at=>at.variantId===se.id);return n.jsxs("div",{className:`flex-shrink-0 w-72 border rounded-lg p-3 transition-all ${Oe?"border-red-500 bg-red-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[n.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mt-0.5 cursor-pointer flex-shrink-0 ${Oe?"bg-primary border-primary":"border-gray-300"}`,onClick:()=>{A(Oe?at=>at.filter(ut=>ut.variantId!==se.id):at=>[...at,{variantId:se.id,quantity:1,quantityVarying2:1,deliveryOption:"daily",selectedDays:[]}])},children:Oe&&n.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),n.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:se.name})]}),n.jsxs(Pr,{variant:"outline",className:"bg-green-50 border-green-600 px-2 py-1",children:[se.mrp&&se.mrp>ye(se,w)?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["₹",se.mrp]}),n.jsxs("span",{className:"text-sm text-green-700 font-bold",children:["₹",ye(se,w)]})]}):n.jsxs("span",{className:"text-sm text-green-700 font-bold",children:["₹",ye(se,w)]}),se.unit&&n.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:["/",se.unit]})]})]}),se.description&&n.jsx("p",{className:"text-sm text-gray-600 ml-7",children:se.description})]}),Oe&&qe&&n.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-3",children:[n.jsxs("div",{children:[n.jsxs(Te,{className:"text-[10px] font-medium text-gray-700 mb-1 block flex items-center gap-0.5",children:[n.jsx(Xx,{className:"h-2.5 w-2.5"}),"Schedule"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-0.5",children:[n.jsx(he,{variant:qe.deliveryOption==="daily"?"default":"outline",size:"sm",className:`h-6 text-sm px-1 ${qe.deliveryOption==="daily"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,onClick:()=>Pe(se.id,"daily"),children:"Daily"}),w>=15&&n.jsx(he,{variant:qe.deliveryOption==="alternate-days"?"default":"outline",size:"sm",className:`h-7 text-sm ${qe.deliveryOption==="alternate-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every other day",onClick:()=>Pe(se.id,"alternate-days"),children:"Alternate Days"}),w>=7&&n.jsx(he,{variant:qe.deliveryOption==="day1-day2"?"default":"outline",size:"sm",className:`h-7 text-sm ${qe.deliveryOption==="day1-day2"?"bg-secondary hover:bg-blue-600":"border-gray-300"} truncate`,title:"Daily Delivery with Varying Quantities",onClick:()=>Pe(se.id,"day1-day2"),children:"Day 1 - Day 2"}),w>=30&&n.jsx(he,{variant:qe.deliveryOption==="select-days"?"default":"outline",size:"sm",className:`h-7 text-sm ${qe.deliveryOption==="select-days"?"bg-secondary hover:bg-blue-600":"border-gray-300"}`,title:"Choose specific days for delivery",onClick:()=>Pe(se.id,"select-days"),children:"Weekdays"})]})]}),qe.deliveryOption==="select-days"&&n.jsxs("div",{children:[n.jsx(Te,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Select days (min 3):"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:s1.map(at=>n.jsx(he,{type:"button",size:"sm",variant:qe.selectedDays.includes(at.id)?"default":"outline",className:`h-6 w-8 p-0 text-sm ${qe.selectedDays.includes(at.id)?"bg-primary":"border-gray-300 text-gray-700"}`,onClick:()=>Xe(se.id,at.id),children:at.label},at.id))})]}),(qe.deliveryOption==="daily"||qe.deliveryOption==="select-days"||qe.deliveryOption==="alternate-days")&&n.jsxs("div",{children:[n.jsx(Te,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Quantity per delivery:"}),n.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white w-fit",children:[n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>gt(se.id,"quantity",qe.quantity-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:n.jsx(yf,{className:"h-3 w-3"})}),n.jsx("span",{className:"px-3 py-1 text-sm font-medium min-w-[40px] text-center",children:qe.quantity}),n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>gt(se.id,"quantity",qe.quantity+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:n.jsx(vn,{className:"h-3 w-3"})})]})]}),qe.deliveryOption==="day1-day2"&&n.jsxs("div",{children:[n.jsx(Te,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Quantities:"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day 1:"}),n.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>gt(se.id,"quantity",qe.quantity-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:n.jsx(yf,{className:"h-3 w-3"})}),n.jsx("span",{className:"px-2 py-1 text-sm font-medium min-w-[30px] text-center",children:qe.quantity}),n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>gt(se.id,"quantity",qe.quantity+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:n.jsx(vn,{className:"h-3 w-3"})})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day 2:"}),n.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>gt(se.id,"quantityVarying2",(qe.quantityVarying2||1)-1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:n.jsx(yf,{className:"h-3 w-3"})}),n.jsx("span",{className:"px-2 py-1 text-sm font-medium min-w-[30px] text-center",children:qe.quantityVarying2||1}),n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>gt(se.id,"quantityVarying2",(qe.quantityVarying2||1)+1),className:"h-7 w-7 p-0 hover:bg-gray-100",children:n.jsx(vn,{className:"h-3 w-3"})})]})]})]})]}),n.jsx("div",{className:"bg-blue-50 px-2 py-1 rounded text-sm text-blue-700 border border-blue-200",children:n.jsxs("span",{className:"font-medium",children:[qe.deliveryOption==="daily"&&"Daily delivery",qe.deliveryOption==="select-days"&&(qe.selectedDays.length>0?`${qe.selectedDays.length} days/week`:"Select delivery days"),qe.deliveryOption==="alternate-days"&&"Alternate days",qe.deliveryOption==="day1-day2"&&"Varying quantities"]})})]})]},se.id)})}),L.selectedVariants&&n.jsx("p",{className:"text-red-500 text-sm mt-2",children:L.selectedVariants}),L.variantSchedules&&n.jsx("p",{className:"text-red-500 text-sm mt-2",children:L.variantSchedules})]}),!C&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[n.jsx(Xx,{className:"h-4 w-4"}),"Delivery Schedule"]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx(he,{variant:h==="daily"?"default":"outline",className:`h-8 text-sm px-3 ${h==="daily"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every day",onClick:()=>x("daily"),children:"Daily"}),w>=15&&n.jsx(he,{variant:h==="alternate-days"?"default":"outline",className:`h-8 text-sm px-3 ${h==="alternate-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Delivery every other day",onClick:()=>x("alternate-days"),children:"Alternate"}),w>=7&&n.jsx(he,{variant:h==="day1-day2"?"default":"outline",className:`h-8 text-sm px-3 ${h==="day1-day2"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Customize quantities for Day 1 and Day 2",onClick:()=>x("day1-day2"),children:"Day 1-2"}),w>=30&&n.jsx(he,{variant:h==="select-days"?"default":"outline",className:`h-8 text-sm px-3 ${h==="select-days"?"bg-secondary hover:bg-secondary/80":"border-gray-300"}`,title:"Choose specific days for delivery",onClick:()=>x("select-days"),children:"Select Days"})]}),n.jsxs("div",{className:"mt-3",children:[h==="daily"&&n.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Daily delivery - Fresh products every day"}),h==="alternate-days"&&n.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Every other day starting from your selected start date"}),h==="day1-day2"&&n.jsx("div",{className:"text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:"Daily delivery with different quantities on alternating days"}),h==="select-days"&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Select delivery days (minimum 3):"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:s1.map(se=>n.jsx(he,{type:"button",size:"sm",variant:M.includes(se.id)?"default":"outline",className:`h-7 w-10 p-0 text-sm ${M.includes(se.id)?"bg-primary":"border-gray-300 text-gray-700"}`,onClick:()=>{hn(se.id),L.selectedDays&&U(Oe=>({...Oe,selectedDays:""}))},children:se.label},se.id))}),L.selectedDays&&n.jsx("p",{className:"text-red-500 text-sm",children:L.selectedDays})]})]}),n.jsxs("div",{className:"mt-4 border-t pt-4",children:[(h==="daily"||h==="select-days"||h==="alternate-days")&&n.jsxs("div",{children:[n.jsx(Te,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Quantity per delivery:"}),n.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white w-fit",children:[n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(1,o-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:n.jsx(yf,{className:"h-3 w-3"})}),n.jsx("span",{className:"px-4 text-center font-medium min-w-[50px]",children:o}),n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>l(o+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:n.jsx(vn,{className:"h-3 w-3"})})]})]}),h==="day1-day2"&&n.jsxs("div",{children:[n.jsx(Te,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Quantities:"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day A:"}),n.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(1,o-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:n.jsx(yf,{className:"h-3 w-3"})}),n.jsx("span",{className:"px-3 text-center font-medium min-w-[40px]",children:o}),n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>l(o+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:n.jsx(vn,{className:"h-3 w-3"})})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Day B:"}),n.jsxs("div",{className:"flex items-center border rounded overflow-hidden bg-white",children:[n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>f(Math.max(1,u-1)),className:"h-8 w-8 p-0 hover:bg-gray-100",children:n.jsx(yf,{className:"h-3 w-3"})}),n.jsx("span",{className:"px-3 text-center font-medium min-w-[40px]",children:u}),n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>f(u+1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:n.jsx(vn,{className:"h-3 w-3"})})]})]})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:i!=null&&i.isOnline?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[n.jsxs("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Delivery Address"]}),n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>{Me(se=>({...se,mobile:F})),J("addressForm")},className:"text-[10px] h-6 px-1.5",children:[n.jsx(vn,{className:"h-2.5 w-2.5 mr-0.5"})," Add"]})]}),B?n.jsx("div",{className:"flex items-center justify-center py-2",children:n.jsx("span",{className:"text-gray-500 text-[10px]",children:"Loading..."})}):O.length>0?n.jsx("div",{className:"flex gap-1.5 overflow-x-auto pb-1 -mx-1 px-1",children:n.jsx(Gm,{value:G||"",onValueChange:se=>{z(se),L.selectedAddressId&&U(Oe=>({...Oe,selectedAddressId:""}))},className:"flex gap-1.5",children:O.map(se=>n.jsx("div",{className:`flex-shrink-0 w-52 p-1.5 border rounded cursor-pointer transition-all ${G===se.id?"border-red-500 bg-red-50 shadow-sm":"border-gray-200 hover:bg-gray-50"}`,children:n.jsxs(Te,{htmlFor:`address-item-${se.id}`,className:"flex items-start space-x-1.5 w-full cursor-pointer",children:[n.jsx(mo,{value:se.id,id:`address-item-${se.id}`,className:"mt-0.5 h-3 w-3"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-1 mb-0.5",children:[n.jsx("span",{className:"font-medium text-gray-900 text-[12px] truncate ",children:se.recipientName}),n.jsx(Pr,{variant:"outline",className:"text-[9px] py-0 px-1 h-3.5",children:se.label})]}),n.jsxs("p",{className:"text-[10px] text-gray-600 truncate leading-tight",children:[se.plotBuilding,", ",se.streetArea]}),n.jsxs("p",{className:"text-[10px] text-gray-600 truncate leading-tight",children:[se.city," - ",se.pincode]}),se.isDefault&&n.jsx("span",{className:"inline-block mt-0.5 px-1 py-0 bg-blue-100 text-blue-800 rounded text-[8px]",children:"Default"})]})]})},se.id))})}):n.jsxs("div",{className:"text-center py-2",children:[n.jsx("p",{className:"text-gray-500 text-[10px] mb-1",children:"No addresses saved"}),n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>{Me(se=>({...se,mobile:F})),J("addressForm")},className:"text-[10px] h-6 px-2",children:[n.jsx(vn,{className:"h-2.5 w-2.5 mr-0.5"})," Add Address"]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex justify-between items-center mb-1.5",children:n.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Pickup Location"]})}),i?n.jsxs("div",{className:"p-1.5 border rounded bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"font-medium text-gray-900 text-[11px]",children:i.name}),n.jsx(Pr,{variant:"secondary",className:"text-[9px] py-0 px-1 h-3.5",children:"Pickup"})]}),n.jsxs("p",{className:"text-[10px] text-gray-600 mt-0.5",children:[i.address,", ",i.city," - ",i.pincode]}),n.jsx("div",{className:"mt-3 p-1 bg-blue-50 border border-blue-200 rounded-md",children:n.jsxs("p",{className:"text-[11px] text-blue-700 flex items-start ml-2 ",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5  flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"You will need to pick up your order from this depot location."]})})]}):n.jsx("div",{className:"text-center py-2",children:n.jsx("p",{className:"text-gray-500 text-[10px]",children:"Depot address not available"})})]})}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2.5",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-1.5 flex items-center gap-1",children:[n.jsx(Ta,{className:"h-3 w-3"}),"Start Date"]}),n.jsxs(sd,{open:N,onOpenChange:b,children:[n.jsx(nd,{asChild:!0,children:n.jsxs(he,{variant:"outline",className:Je("w-full justify-start text-left font-normal border-gray-300 rounded h-7 text-sm",!p&&"text-muted-foreground"),children:[n.jsx(Ta,{className:"mr-1.5 h-3 w-3"}),p?Gt(p,"dd/MM/yyyy"):n.jsx("span",{children:"Select date"})]})}),n.jsx(ad,{className:"w-auto p-0 pointer-events-auto",onClick:se=>se.stopPropagation(),children:n.jsx(id,{mode:"single",selected:p,onSelect:se=>{y(se),b(!1),L.startDate&&U(Oe=>({...Oe,startDate:""}))},initialFocus:!0,disabled:se=>{const Oe=new Date;return Oe.setDate(Oe.getDate()+3),Oe.setHours(0,0,0,0),se<Oe}})})]}),L.startDate&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:L.startDate})]}),hr&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[n.jsx(yo,{className:"h-3.5 w-3.5"}),"Order Summary"]}),n.jsxs("div",{className:"space-y-1.5 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Period:"}),n.jsx("span",{children:hr.period})]}),C&&S.length>0&&n.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[n.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[n.jsx(yo,{className:"h-3 w-3 text-blue-600"}),n.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Variant Details"})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1",children:S.map((se,Oe)=>{const qe=D.find(Y=>Y.id===se.variantId);if(!qe)return null;const at=Vt(se);let ut=0;switch(se.deliveryOption){case"daily":case"select-days":ut=se.quantity*at;break;case"day1-day2":const Y=Math.ceil(w/2),oe=Math.floor(w/2);ut=se.quantity*Y+(se.quantityVarying2||1)*oe;break;case"alternate-days":ut=se.quantity*Math.ceil(w/2);break}const It=se.deliveryOption==="daily"?"Daily":se.deliveryOption==="select-days"?`${se.selectedDays.length} days/week`:se.deliveryOption==="alternate-days"?"Alternate Days":"Day1-Day2",Jt=()=>{switch(se.deliveryOption){case"daily":return"🌅";case"select-days":return"📅";case"alternate-days":return"🔄";case"day1-day2":return"⚖️";default:return"📦"}};return n.jsxs("div",{className:"flex-shrink-0 w-56 border border-gray-200 rounded-md p-2 bg-gradient-to-r from-gray-50 to-blue-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[n.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[n.jsx("span",{className:"text-sm",children:Jt()}),n.jsx("span",{className:"font-medium text-gray-800 text-sm truncate",children:qe.name})]}),n.jsx(Pr,{variant:"secondary",className:"text-[11px] bg-blue-100 text-blue-700 border-blue-200 py-0 px-1.5 h-4",children:It})]}),n.jsxs("div",{className:"text-[11px] space-y-1",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600 text-xs",children:"Qty/delivery:"}),n.jsx("span",{className:"text-gray-900 font-medium text-xs",children:se.deliveryOption==="day1-day2"?n.jsxs(n.Fragment,{children:[se.quantity," + ",se.quantityVarying2||1," - ",qe.name||"Quantity",se.quantity>1||(se.quantityVarying2||1)>1?"s":""]}):n.jsxs(n.Fragment,{children:[se.quantity," - ",qe.name||"Quantity"]})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600 text-xs",children:"Total:"}),n.jsxs("span",{className:"text-gray-900 font-medium text-xs",children:[ut," - ",qe.name||"Quantity"]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Price:"}),n.jsxs("span",{className:"text-green-700 font-semibold",children:["₹",(ut*ye(qe,w)).toFixed(2)]})]})]}),se.deliveryOption==="select-days"&&se.selectedDays.length>0&&n.jsx("div",{className:"mt-1 pt-1 border-t border-gray-200",children:n.jsxs("div",{className:"text-[10px] text-gray-600",children:["Days: ",se.selectedDays.join(", ")]})})]},Oe)})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Quantity:"}),n.jsxs("span",{className:"font-medium",children:[hr.totalQuantity," ",C?"items":(r==null?void 0:r.name)||""]})]}),jn()>0&&n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 animate-pulse"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/90 via-green-400/90 to-teal-400/90"}),n.jsx("div",{className:"absolute top-2 left-4 animate-bounce delay-75",children:n.jsx(PQ,{className:"h-3 w-3 text-yellow-300 fill-yellow-300"})}),n.jsx("div",{className:"absolute top-3 right-6 animate-bounce delay-150",children:n.jsx(FI,{className:"h-2 w-2 text-yellow-200 fill-yellow-200"})}),n.jsx("div",{className:"absolute bottom-2 right-4 animate-bounce delay-300",children:n.jsx(nw,{className:"h-3 w-3 text-yellow-300 fill-yellow-300"})})]}),n.jsx("div",{className:"border-t border-gray-200 pt-1.5 mt-1.5",children:n.jsxs("div",{className:"flex justify-between font-medium text-sm",children:[n.jsx("span",{children:"Total Price:"}),n.jsxs("span",{className:"text-green-600",children:["₹",hr.totalPrice.toFixed(2)]})]})})]})]})]})]})}):ae==="confirmation"?n.jsxs("div",{className:"bg-white p-4 rounded-md space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-center",children:"Confirm Your Subscription"}),n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Product:"}),n.jsx("span",{className:"font-semibold",children:r.name})]}),C&&S.length>0&&n.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[n.jsx("span",{className:"text-sm font-medium block mb-2",children:"Selected Variants & Schedules:"}),n.jsx("div",{className:"space-y-3",children:S.map((se,Oe)=>{const qe=D.find(It=>It.id===se.variantId);if(!qe)return null;const at=Vt(se),ut=se.deliveryOption==="daily"?"Daily delivery":se.deliveryOption==="select-days"?`On ${se.selectedDays.map(It=>{var Jt;return(Jt=s1.find(Y=>Y.id===It))==null?void 0:Jt.label}).join(", ")}`:se.deliveryOption==="alternate-days"?"Alternate Day":"Day1-Day2";return n.jsxs("div",{className:"bg-white p-3 rounded border text-sm",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium",children:qe.name}),n.jsxs(Pr,{variant:"outline",children:["₹",ye(qe,w)," ",qe.name&&`per ${qe.name}`]})]}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("div",{children:["Schedule: ",ut]}),n.jsxs("div",{children:["Deliveries: ",at," times"]}),se.deliveryOption!=="day1-day2"&&n.jsxs("div",{children:["Quantity per delivery:"," ",se.quantity]})]})]},Oe)})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Period:"}),n.jsx("span",{children:hr==null?void 0:hr.period})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Start Date:"}),n.jsx("span",{children:hr==null?void 0:hr.startDate})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Total Quantity:"}),n.jsxs("span",{children:[hr==null?void 0:hr.totalQuantity," ",C?"items":(r==null?void 0:r.name)||""]})]}),n.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Subtotal:"}),n.jsxs("span",{className:"text-sm",children:["₹",(Yr=hr==null?void 0:hr.totalPrice)==null?void 0:Yr.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Wallet Credit:"}),n.jsxs("span",{className:"text-sm text-green-600",children:["-₹",qt.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between font-medium pt-2",children:[n.jsx("span",{className:"text-sm font-semibold",children:"Amount Payable:"}),n.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["₹",Ir.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs(Te,{className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[n.jsx(Pc,{className:"h-4 w-4"})," Use Wallet Balance"]}),n.jsxs("div",{className:"text-sm font-medium",children:["Available: ₹",q.toFixed(2)]})]}),Q&&q>0&&n.jsx("div",{className:"bg-white p-3 rounded border border-blue-300",children:n.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Wallet Balance:"}),n.jsxs("span",{children:["₹",q.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Amount to be deducted:"}),n.jsxs("span",{className:"font-medium text-green-600",children:["₹",qt.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between font-medium pt-1 border-t",children:[n.jsx("span",{children:"Remaining in wallet:"}),n.jsxs("span",{children:["₹",(q-qt).toFixed(2)]})]})]})})]}),hr&&n.jsx(n.Fragment,{children:Ir>0?n.jsx("div",{className:"bg-blue-50 p-3 rounded-md border border-blue-100",children:n.jsxs("p",{className:"text-sm text-blue-700 flex items-start",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),qt>0?`₹${qt.toFixed(2)} will be deducted from your wallet. The remaining ₹${Ir.toFixed(2)} will be collected via Cash/UPI before delivery.`:`Full amount of ₹${Ir.toFixed(2)} will be collected via Cash/UPI before delivery.`]})}):n.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:n.jsxs("p",{className:"text-sm text-green-700 flex items-start",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Full amount of ₹",(ls=hr==null?void 0:hr.totalPrice)==null?void 0:ls.toFixed(2)," will be deducted from your wallet."]})})}),n.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:n.jsxs("p",{className:"text-sm text-primary flex items-start",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"This is not a cash on delivery. But Amount will be collected, Our team will contact you for futher instructions"]})}),i!=null&&i.isOnline?n.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"Delivery Address:"}),O.map(se=>se.id===G?n.jsxs("div",{className:"text-sm",children:[n.jsx(Pr,{variant:"outline",className:"mt-1 ",children:se.label}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium ",children:se.recipientName})," ","• ",se.mobile]}),n.jsxs("p",{children:[se.plotBuilding,", ",se.streetArea]}),se.landmark&&n.jsx("p",{children:se.landmark}),n.jsxs("p",{children:[se.city,", ",se.state," - ",se.pincode]})]},se.id):null)]}):n.jsxs("div",{className:"bg-white p-4 rounded-md border",children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"Pickup from Depot:"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium",children:i==null?void 0:i.name}),n.jsx("p",{children:i==null?void 0:i.address})]})]})]}):n.jsxs("div",{className:"bg-white p-4 rounded-md space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Add New Address"}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"address-label",className:"text-sm font-medium mb-2 block",children:"Address Label"}),n.jsxs(Gm,{defaultValue:"Home",value:ge.label,onValueChange:fe,className:"flex gap-4 mt-1",id:"address-label",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mo,{value:"Home",id:"type-home",className:"text-green-500"}),n.jsx(Te,{htmlFor:"type-home",className:"text-sm",children:"Home"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mo,{value:"Work",id:"type-work",className:"text-green-500"}),n.jsx(Te,{htmlFor:"type-work",className:"text-sm",children:"Work"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mo,{value:"Other",id:"label-other"}),n.jsx(Te,{htmlFor:"label-other",children:"Other"})]})]}),L.label&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:L.label})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"recipientName",className:"text-sm font-medium mb-1.5 block",children:"Delivery To*"}),n.jsx("input",{id:"recipientName",name:"recipientName",value:ge.recipientName,onChange:jt,placeholder:"Full name of recipient",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),L.recipientName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:L.recipientName})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"mobile",className:"text-sm font-medium mb-1.5 block",children:"Mobile*"}),n.jsx("input",{id:"mobile",name:"mobile",value:ge.mobile,onChange:jt,placeholder:"Mobile number",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),L.mobile&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:L.mobile})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"plotBuilding",className:"text-sm font-medium mb-1.5 block",children:"Plot/Building*"}),n.jsx("input",{id:"plotBuilding",name:"plotBuilding",value:ge.plotBuilding,onChange:jt,placeholder:"Plot number, building name",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),L.plotBuilding&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:L.plotBuilding})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"streetArea",className:"text-sm font-medium mb-1.5 block",children:"Street/Area*"}),n.jsx("input",{id:"streetArea",name:"streetArea",value:ge.streetArea,onChange:jt,placeholder:"Street, area",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),L.streetArea&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:L.streetArea})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"landmark",className:"text-sm font-medium mb-1.5 block",children:"Landmark (Optional)"}),n.jsx("input",{id:"landmark",name:"landmark",value:ge.landmark,onChange:jt,placeholder:"Nearby landmark",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"city",className:"text-sm font-medium mb-1.5 block",children:"City*"}),n.jsx(tt,{id:"city",value:ge.city,onChange:se=>xt("city",se.target.value),placeholder:"e.g., Metropolis",className:L.city?"border-red-500":""}),L.city&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:L.city})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"state",className:"text-sm font-medium mb-1.5 block",children:"State*"}),n.jsxs(er,{onValueChange:se=>xt("state",se),defaultValue:ge.state,children:[n.jsx(rr,{className:L.state?"border-red-500":"",children:n.jsx(tr,{placeholder:"Select a state"})}),n.jsx(sr,{className:"max-h-60 overflow-y-auto",children:T_.filter(se=>se&&typeof se.label=="string").map(se=>n.jsx(yt,{value:se.label,children:se.label},se.value))})]}),L.state&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:L.state})]})]}),n.jsxs("div",{children:[n.jsxs(Te,{htmlFor:"areaMaster",className:"text-sm font-medium mb-1.5 block",children:["Our Delivery Areas*",(r==null?void 0:r.isDairyProduct)&&n.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Dairy Product"})]}),n.jsxs(er,{onValueChange:se=>{const Oe=de.find(qe=>qe.id===parseInt(se));Oe&&Nn(Oe)},value:((rn=Ne==null?void 0:Ne.id)==null?void 0:rn.toString())||"",children:[n.jsx(rr,{className:L.areaMaster?"border-red-500":"",children:n.jsx(tr,{placeholder:"Select your delivery area"})}),n.jsx(sr,{className:"max-h-60 overflow-y-auto",children:de.sort((se,Oe)=>se.name.localeCompare(Oe.name)).map(se=>n.jsx(yt,{value:se.id.toString(),children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{children:se.name}),n.jsxs("div",{className:"flex gap-1 ml-2",children:[n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${se.deliveryType==="HandDelivery"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:se.deliveryType==="HandDelivery"?"Hand Delivery":"Courier"}),se.isDairyProduct&&n.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full",children:"Dairy Available"})]})]})},se.id))})]}),L.areaMaster&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:L.areaMaster}),n.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-700",children:[n.jsx("span",{className:"font-medium",children:"Note:"})," If your area is not listed above, please use the form that appears after selection to help us expand to your location."]})})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"pincode",className:"text-sm font-medium mb-1.5 block",children:"Pincode*"}),n.jsx("input",{id:"pincode",name:"pincode",type:"text",value:ge.pincode,onChange:jt,placeholder:"Pincode",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),L.pincode&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:L.pincode})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:ge.isDefault,onChange:se=>Me(Oe=>({...Oe,isDefault:se.target.checked})),className:"h-4 w-4 text-green-500 focus:ring-green-500 border-gray-300 rounded"}),n.jsx(Te,{htmlFor:"isDefault",className:"text-sm",children:"Set as default address"})]})]})]})}),n.jsx("div",{className:"p-4 border-t bg-white",children:ae==="subscriptionDetails"?n.jsxs("div",{className:"space-y-3",children:[jn()>0&&n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[n.jsx(Jx,{className:"h-4 w-4"}),n.jsxs("span",{className:"font-medium",children:["You Save: ₹",jn().toFixed(2)]})]}),n.jsx("span",{className:"text-gray-500 text-sm",children:"vs MRP pricing"})]}),n.jsx(he,{onClick:tn,disabled:B||!C&&h==="select-days"&&M.length<3||C&&S.some(se=>se.deliveryOption==="select-days"&&se.selectedDays.length<3),className:"w-full bg-primary hover:bg-primary text-white py-2 rounded-md font-medium",children:"Review Subscription"})]}):ae==="addressForm"?n.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[n.jsx(he,{variant:"outline",onClick:Mr,className:"rounded-lg h-11 border-gray-300",children:"Cancel"}),n.jsx(he,{onClick:_s,className:"bg-primary hover:bg-primary text-white rounded-lg h-11",disabled:!!(L.recipientName||L.mobile||L.plotBuilding||L.streetArea||L.pincode||L.city||L.state||L.label||L.areaMaster),children:"Save Address"})]}):n.jsxs("div",{className:"space-y-3",children:[jn()>0&&n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[n.jsx(Jx,{className:"h-4 w-4"}),n.jsxs("span",{className:"font-medium",children:["Total Savings: ₹",jn().toFixed(2)]})]}),n.jsx("span",{className:"text-gray-500 text-sm",children:"vs MRP pricing"})]}),n.jsxs("div",{className:"flex justify-end items-center gap-3 w-full",children:[n.jsx(he,{variant:"outline",className:"rounded-lg h-11 border-gray-300",onClick:()=>J("subscriptionDetails"),children:"Back"}),n.jsx(he,{className:"bg-primary hover:bg-primary text-white rounded-lg h-11",onClick:mn,disabled:K||!!(L.startDate||L.selectedDays||L.selectedAddressId||L.variantSchedules),children:K?"Confirming...":"Confirm Subscription"})]})]})})]}),n.jsx(oV,{isOpen:Ee,onOpenChange:Ae,productName:r==null?void 0:r.name,areaName:Ne==null?void 0:Ne.name,message:Ye})]}):null},Bbe=e=>{switch(e==null?void 0:e.toLowerCase()){case"home":return"Home";case"work":return"Work";case"other":return"Other";default:return e||"Address"}},$be=({isOpen:e,onOpenChange:t,product:r,productId:s,selectedDepot:a})=>{var Re;const[i,o]=g.useState(1),[l,u]=g.useState(Zn(new Date,3)),[f,h]=g.useState([]),[x,p]=g.useState(!1),[y,N]=g.useState(null),[b,w]=g.useState(!1),[j,S]=g.useState(0),[A,C]=g.useState(0),[T,D]=g.useState(0),[_,O]=g.useState(!1),[P,B]=g.useState([]),[I,G]=g.useState(null),[z,ae]=g.useState([]),[J,L]=g.useState([]),[U,F]=g.useState(null),[X,q]=g.useState(!1),[te,M]=g.useState(""),[W,K]=g.useState({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}),[V,Q]=g.useState({});g.useEffect(()=>{e&&ie()},[e]);const ie=async()=>{try{const ye=await sV();L(ye)}catch(ye){console.error("Failed to fetch area masters:",ye),me.error("Could not load delivery areas.")}},xe=async ye=>{if(F(ye),r!=null&&r.isDairyProduct&&!ye.isDairyProduct){const $e=`We don't currently serve dairy products in ${ye.name}. However, we'd love to expand our dairy delivery services to your area!`;M($e)}else M("")},ue=(ye,$e)=>{K(Pe=>({...Pe,[ye]:$e}))},de=ye=>{const{name:$e,value:Pe,type:Xe,checked:gt}=ye.target;K(Vt=>({...Vt,[$e]:Xe==="checkbox"?gt:Pe}))},De=ye=>{K($e=>({...$e,label:ye}))},Ne=()=>{var $e,Pe,Xe,gt,Vt,Mr,Fs,qs;const ye={};return($e=W==null?void 0:W.recipientName)!=null&&$e.trim()||(ye.recipientName="Recipient name is required."),(Pe=W==null?void 0:W.mobile)!=null&&Pe.trim()?/^\d{10}$/.test(W.mobile.trim())||(ye.mobile="Mobile number must be 10 digits."):ye.mobile="Mobile number is required.",(Xe=W==null?void 0:W.plotBuilding)!=null&&Xe.trim()||(ye.plotBuilding="Plot/Building is required."),(gt=W==null?void 0:W.streetArea)!=null&&gt.trim()||(ye.streetArea="Street/Area is required."),(Vt=W==null?void 0:W.pincode)!=null&&Vt.trim()?/^\d{6}$/.test(W.pincode.trim())||(ye.pincode="Pincode must be 6 digits."):ye.pincode="Pincode is required.",(Mr=W==null?void 0:W.city)!=null&&Mr.trim()||(ye.city="City is required."),(Fs=W==null?void 0:W.state)!=null&&Fs.trim()||(ye.state="State is required."),(qs=W==null?void 0:W.label)!=null&&qs.trim()||(ye.label="Address label is required."),U||(ye.areaMaster="Please select a delivery area."),Q(ye),Object.keys(ye).length===0},ot=async()=>{if(!Ne())return;if((r==null?void 0:r.isDairyProduct)&&U&&!U.isDairyProduct){const $e={name:W.recipientName,mobile:W.mobile,email:"",plotBuilding:W.plotBuilding,streetArea:W.streetArea,landmark:W.landmark||"",pincode:W.pincode,city:W.city,state:W.state,productId:r.id,isDairyProduct:!0,notes:`Lead captured from buy-once modal for area: ${U.name}`,status:"NEW"};try{await nV($e),me.success("Thank you for your interest! We've noted your details and will contact you when we expand dairy delivery to your area."),M(`We don't currently serve dairy products in ${U.name}. However, we've saved your details and will notify you when service becomes available in your area!`),q(!0),K({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}),F(null),w(!1)}catch(Pe){console.error("Failed to save lead:",Pe),me.error("An error occurred while saving your information. Please try again.")}}else try{const $e=await $r("/delivery-addresses",W);await Ae(),N($e.id),w(!1),me.success("Address added successfully!"),K({recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"})}catch($e){console.error("Failed to save address:",$e),me.error("An error occurred while saving your address. Please try again.")}},Ee=()=>{var ye;return((ye=r==null?void 0:r.depotVariantPricing)==null?void 0:ye.buyOncePrice)||(r==null?void 0:r.buyOncePrice)||(r==null?void 0:r.mrp)||0};g.useEffect(()=>{(async()=>{if(!(!e||!s)){O(!0);try{const $e=await mt(`/api/public/depot-variants/${s}`);let Pe=($e==null?void 0:$e.data)||[];a&&(Pe=Pe.filter(gt=>gt.depot.id===a.id));const Xe=Pe.map(gt=>({id:parseInt(gt.id,10),name:gt.name,depot:gt.depot,buyOncePrice:parseFloat(gt.buyOncePrice)||0,sellingPrice:parseFloat(gt.buyOncePrice)||parseFloat(gt.mrp)||0,mrp:parseFloat(gt.mrp)||parseFloat(gt.buyOncePrice)||0,minimumQty:gt.minimumQty||0}));if(B(Xe),Xe.length>0){const gt=Xe[0];C(gt.buyOncePrice),D(gt.mrp||gt.sellingPrice||gt.buyOncePrice),G(gt.id)}else C(Ee()),D(Ee()),G(null)}catch($e){console.error("Failed to fetch depot variant pricing, using default:",$e),C(Ee()),D(Ee()),B([]),G(null)}finally{O(!1)}}})()},[e,s,r,a]),g.useEffect(()=>{(async()=>{var $e;if(e)try{const Pe=await mt("/api/wallet/balance");console.log("Wallet balance response:",Pe);let Xe=0;Pe!=null&&Pe.success&&(($e=Pe==null?void 0:Pe.data)==null?void 0:$e.balance)!==void 0?Xe=Pe.data.balance:(Pe==null?void 0:Pe.balance)!==void 0?Xe=Pe.balance:typeof Pe=="number"&&(Xe=Pe),S(Xe)}catch(Pe){console.error("Failed to fetch wallet balance",Pe),S(0)}})()},[e]);const Ae=async()=>{p(!0);try{const ye=await mt("/delivery-addresses");h(ye||[]);const $e=ye==null?void 0:ye.find(Pe=>Pe.isDefault);$e?N($e.id):(ye==null?void 0:ye.length)>0&&N(ye[0].id)}catch(ye){console.error("Failed to fetch addresses:",ye),me.error("Could not load your delivery addresses")}finally{p(!1)}};g.useEffect(()=>{var ye;if(e&&I){const $e=P.find(Pe=>Pe.id===I);(ye=$e==null?void 0:$e.depot)!=null&&ye.isOnline&&Ae()}},[e,I,P]);const Ye=ye=>ye?Gt(ye,"yyyy-MM-dd"):"",[be,ge]=g.useState(!0),Me=g.useMemo(()=>i*A,[i,A]),xt=g.useMemo(()=>be?Math.min(j||0,Me):0,[j,Me,be]),jt=g.useMemo(()=>Me-xt,[Me,xt]),fe=g.useMemo(()=>{if(!T||T<=A)return 0;const ye=T*i,$e=A*i;return Math.max(0,ye-$e)},[T,A,i]),Se=async()=>{var Xe,gt;if(!l||!I){me.error("Please select a delivery date and depot variant.");return}const ye=P.find(Vt=>Vt.id===I);if(!ye){me.error("Invalid depot variant selected.");return}const $e=ye.depot.isOnline?y:ye.depot.address;if(ye.depot.isOnline&&!y){me.error("Please select a delivery address.");return}else if(!ye.depot.isOnline&&!ye.depot.address){me.error("Depot address information is missing. Please contact support.");return}if(!$e){me.error("Address information is missing.");return}const Pe={subscriptions:[{productId:I,period:1,startDate:l.toISOString(),deliverySchedule:"DAILY",qty:i}],deliveryAddressId:parseInt(String($e),10),walletamt:be?xt:0};try{await $r("/api/product-orders/with-subscriptions",Pe),me.success("Order placed successfully!"),t(!1)}catch(Vt){console.error("Failed to place order:",Vt),me.error(((gt=(Xe=Vt==null?void 0:Vt.response)==null?void 0:Xe.data)==null?void 0:gt.message)||"Failed to place order. Please try again.")}};return r?n.jsxs(hs,{open:e,onOpenChange:t,children:[n.jsxs(ms,{className:"w-full max-w-4xl mx-auto p-0 flex flex-col max-h-[95vh] overflow-hidden",children:[n.jsxs(ps,{className:"px-4 py-4 sm:px-6 sm:py-6 pb-2 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[n.jsx(Mc,{className:"absolute right-3 top-3 sm:right-4 sm:top-4 z-10 p-2 rounded-full hover:bg-white/80 transition-colors",onClick:()=>t(!1)}),n.jsx(xs,{className:"text-lg sm:text-xl font-bold text-center pr-8",children:b?"Add New Delivery Address":`${r==null?void 0:r.name} - Buy Once`}),!b&&r&&n.jsx("div",{className:"mt-2 flex justify-center",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-4 py-2 border border-green-200",children:[n.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Buy Once Price"}),_?n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-green-500 border-t-transparent rounded-full"}),n.jsx("p",{className:"text-sm font-semibold",children:"Loading..."})]}):n.jsx("div",{className:"text-center",children:T&&T>A?n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsxs("span",{className:"text-sm text-gray-500 line-through font-medium",children:["₹",Number(T).toFixed(2)]}),n.jsxs("span",{className:"text-lg font-bold text-green-600",children:["₹",Number(A||0).toFixed(2)]})]}):n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["₹",Number(A||0).toFixed(2)]})})]})})]}),n.jsx("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 overflow-y-auto flex-grow pb-8",children:b?n.jsxs("div",{className:"bg-white p-4 rounded-md space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Add New Address"}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"address-label",className:"text-sm font-medium mb-2 block",children:"Address Label"}),n.jsxs(Gm,{defaultValue:"Home",value:W.label,onValueChange:De,className:"flex gap-4 mt-1",id:"address-label",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mo,{value:"Home",id:"type-home",className:"text-green-500"}),n.jsx(Te,{htmlFor:"type-home",className:"text-sm",children:"Home"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mo,{value:"Work",id:"type-work",className:"text-green-500"}),n.jsx(Te,{htmlFor:"type-work",className:"text-sm",children:"Work"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mo,{value:"Other",id:"label-other"}),n.jsx(Te,{htmlFor:"label-other",children:"Other"})]})]}),V.label&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.label})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"recipientName",className:"text-sm font-medium mb-1.5 block",children:"Delivery To*"}),n.jsx("input",{id:"recipientName",name:"recipientName",value:W.recipientName,onChange:de,placeholder:"Full name of recipient",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),V.recipientName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.recipientName})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"mobile",className:"text-sm font-medium mb-1.5 block",children:"Mobile*"}),n.jsx("input",{id:"mobile",name:"mobile",type:"tel",value:W.mobile,onChange:ye=>{const $e=ye.target.value.replace(/\D/g,"").slice(0,10);K(Pe=>({...Pe,mobile:$e}))},placeholder:"Mobile number",maxLength:10,className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),V.mobile&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.mobile})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"plotBuilding",className:"text-sm font-medium mb-1.5 block",children:"Plot/Building*"}),n.jsx("input",{id:"plotBuilding",name:"plotBuilding",value:W.plotBuilding,onChange:de,placeholder:"Plot number, building name",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),V.plotBuilding&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.plotBuilding})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"streetArea",className:"text-sm font-medium mb-1.5 block",children:"Street/Area*"}),n.jsx("input",{id:"streetArea",name:"streetArea",value:W.streetArea,onChange:de,placeholder:"Street, area",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),V.streetArea&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.streetArea})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"landmark",className:"text-sm font-medium mb-1.5 block",children:"Landmark (Optional)"}),n.jsx("input",{id:"landmark",name:"landmark",value:W.landmark,onChange:de,placeholder:"Nearby landmark",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"city",className:"text-sm font-medium mb-1.5 block",children:"City*"}),n.jsx(tt,{id:"city",value:W.city,onChange:ye=>ue("city",ye.target.value),placeholder:"e.g., Metropolis",className:V.city?"border-red-500":""}),V.city&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.city})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"state",className:"text-sm font-medium mb-1.5 block",children:"State*"}),n.jsxs(er,{onValueChange:ye=>ue("state",ye),value:W.state,children:[n.jsx(rr,{className:V.state?"border-red-500":"",children:n.jsx(tr,{placeholder:"Select a state"})}),n.jsx(sr,{className:"max-h-60 overflow-y-auto",children:T_.filter(ye=>ye&&typeof ye.label=="string").map(ye=>n.jsx(yt,{value:ye.label,children:ye.label},ye.value))})]}),V.state&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.state})]})]}),n.jsxs("div",{children:[n.jsxs(Te,{htmlFor:"areaMaster",className:"text-sm font-medium mb-1.5 block",children:["Our Delivery Areas*",(r==null?void 0:r.isDairyProduct)&&n.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Dairy Product"})]}),n.jsxs(er,{onValueChange:ye=>{const $e=J.find(Pe=>Pe.id===parseInt(ye));$e&&xe($e)},value:((Re=U==null?void 0:U.id)==null?void 0:Re.toString())||"",children:[n.jsx(rr,{className:V.areaMaster?"border-red-500":"",children:n.jsx(tr,{placeholder:"Select your delivery area"})}),n.jsx(sr,{className:"max-h-60 overflow-y-auto",children:J.sort((ye,$e)=>ye.name.localeCompare($e.name)).map(ye=>n.jsx(yt,{value:ye.id.toString(),children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{children:ye.name}),n.jsxs("div",{className:"flex gap-1 ml-2",children:[n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${ye.deliveryType==="HandDelivery"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:ye.deliveryType==="HandDelivery"?"Hand Delivery":"Courier"}),ye.isDairyProduct&&n.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full",children:"Dairy Available"})]})]})},ye.id))})]}),V.areaMaster&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.areaMaster})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"pincode",className:"text-sm font-medium mb-1.5 block",children:"Pincode*"}),n.jsx("input",{id:"pincode",name:"pincode",type:"text",value:W.pincode,onChange:de,placeholder:"Pincode",className:"w-full h-11 px-3 border border-gray-300 rounded-md bg-white"}),V.pincode&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.pincode})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:W.isDefault,onChange:ye=>K($e=>({...$e,isDefault:ye.target.checked})),className:"h-4 w-4 text-green-500 focus:ring-green-500 border-gray-300 rounded"}),n.jsx(Te,{htmlFor:"isDefault",className:"text-sm",children:"Set as default address"})]})]})]}):n.jsxs(n.Fragment,{children:[(()=>{var Pe;const ye=P.find(Xe=>Xe.id===I);return((Pe=ye==null?void 0:ye.depot)==null?void 0:Pe.isOnline)?n.jsxs("div",{children:[n.jsx(Te,{className:"text-sm font-medium mb-2 block",children:"Select delivery address:"}),x?n.jsx("div",{className:"text-center py-4",children:"Loading addresses..."}):f.length>0?n.jsx(Gm,{value:y||"",onValueChange:N,className:"gap-3 mt-2",children:f.map(Xe=>n.jsx("div",{className:`border rounded-lg p-3 cursor-pointer ${y===Xe.id?"border-green-500 bg-green-50":"border-gray-200"}`,onClick:()=>N(Xe.id),children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(mo,{value:Xe.id,id:`address-${Xe.id}`,className:"mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"flex justify-between items-start",children:n.jsxs(Te,{htmlFor:`address-${Xe.id}`,className:"font-medium cursor-pointer flex items-center gap-1",children:[Xe.label,Xe.isDefault&&n.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Default"})]})}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Xe.recipientName," • ",Xe.mobile]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[Xe.plotBuilding,", ",Xe.streetArea,Xe.landmark?`, ${Xe.landmark}`:"",", ",Xe.city,", ",Xe.state," - ",Xe.pincode]})]})]})},Xe.id))}):n.jsxs("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:[n.jsx(Bm,{className:"mx-auto h-6 w-6 text-gray-400 mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No saved addresses found."}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Please add an address in your profile first."})]}),n.jsxs(he,{variant:"outline",className:"mt-4 text-sm border-orange-500 text-orange-500 w-full hover:bg-orange-50",size:"sm",onClick:()=>{w(!0)},children:[n.jsx(vn,{className:"h-4 w-4 mr-2"})," Add New Address"]})]}):ye?n.jsxs("div",{children:[n.jsx(Te,{className:"text-sm font-medium mb-2 block",children:"Pickup from Depot:"}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("svg",{className:"h-4 w-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),n.jsx("span",{className:"font-medium",children:ye.depot.name}),n.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Pickup"})]}),ye.depot.address?n.jsxs("p",{className:"text-sm text-gray-600",children:[ye.depot.address,ye.depot.city&&`, ${ye.depot.city}`,ye.depot.pincode&&` - ${ye.depot.pincode}`]}):n.jsx("p",{className:"text-sm text-gray-500 italic",children:"Depot address information not available"})]}),n.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-700 flex items-start",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"You will need to pick up your order from this depot location."]})})]}):n.jsxs("div",{children:[n.jsx(Te,{className:"text-sm font-medium mb-2 block",children:"Delivery/Pickup Address:"}),n.jsx("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:n.jsx("p",{className:"text-gray-500",children:"Please select a depot variant first"})})]})})(),n.jsxs("div",{children:[n.jsx(Te,{className:"text-sm font-medium mb-2 block",children:a?`Available variants for ${a.name}:`:"Available depot variants:"}),P.length>0?n.jsx(Gm,{value:(I==null?void 0:I.toString())||"",onValueChange:ye=>{const $e=parseInt(ye,10);G($e);const Pe=P.find(Xe=>Xe.id===$e);Pe&&(C(Pe.buyOncePrice),D(Pe.mrp||Pe.sellingPrice||Pe.buyOncePrice))},className:"gap-3 mt-2",children:P.map(ye=>n.jsx("div",{className:`border rounded-lg p-3 cursor-pointer ${I===ye.id?"border-green-500 bg-green-50":"border-gray-200"}`,onClick:()=>{G(ye.id),C(ye.buyOncePrice),D(ye.mrp||ye.sellingPrice||ye.buyOncePrice)},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(mo,{value:ye.id.toString(),id:`variant-${ye.id}`,className:"mt-1"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx(Te,{htmlFor:`variant-${ye.id}`,className:"font-medium cursor-pointer flex items-center gap-1",children:ye.name}),n.jsx("div",{className:"text-right",children:ye.mrp&&ye.mrp>ye.buyOncePrice?n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["₹",Number(ye.mrp).toFixed(2)]}),n.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["₹",Number(ye.buyOncePrice||0).toFixed(2)]})]}):n.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["₹",Number(ye.buyOncePrice||0).toFixed(2)]})})]})})]})},ye.id))}):n.jsxs("div",{className:"text-center py-4 border border-dashed border-gray-300 rounded-lg",children:[n.jsx("p",{className:"text-gray-500",children:a?`No variants available for ${a.name}`:"No depot variants available for this product"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Please try selecting a different depot."})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Te,{htmlFor:"quantityBuyOnce",className:"text-sm font-medium block",children:"Quantity:"}),n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center border-2 border-green-200 rounded-xl overflow-hidden bg-white shadow-sm",children:[n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>o(Math.max(1,i-1)),className:"h-12 w-12 p-0 flex items-center justify-center rounded-none hover:bg-green-50 border-r border-green-200 transition-colors",children:n.jsx(yf,{className:"h-5 w-5 text-green-600"})}),n.jsx("span",{className:"px-6 py-3 text-xl font-bold text-green-700 min-w-[80px] text-center",children:i}),n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>o(i+1),className:"h-12 w-12 p-0 flex items-center justify-center rounded-none hover:bg-green-50 border-l border-green-200 transition-colors",children:n.jsx(vn,{className:"h-5 w-5 text-green-600"})})]})})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"deliveryDateBuyOnce",className:"text-sm font-medium mb-2 block",children:"Select delivery date:"}),n.jsx("input",{type:"date",id:"deliveryDateBuyOnce",value:Ye(l),onChange:ye=>{ye.target.value?u(new Date(ye.target.value+"T00:00:00")):u(void 0)},min:Ye(new Date),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"}),!l&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please select a delivery date."})]}),n.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-100",children:n.jsxs("p",{className:"text-xs text-primary flex items-start",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"This is not a cash on delivery. But Amount will be collected, Our team will contact you for futher instructions"]})}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs(Te,{className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[n.jsx(Pc,{className:"h-4 w-4"})," Use Wallet Balance"]}),n.jsxs("div",{className:"text-sm font-medium",children:["Available: ₹",j.toFixed(2)]})]}),be&&j>0&&n.jsx("div",{className:"bg-white p-3 rounded border border-blue-300",children:n.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Wallet Balance:"}),n.jsxs("span",{children:["₹",j.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Amount to be deducted:"}),n.jsxs("span",{className:"font-medium text-green-600",children:["₹",xt.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between font-medium pt-1 border-t",children:[n.jsx("span",{children:"Remaining in wallet:"}),n.jsxs("span",{children:["₹",(j-xt).toFixed(2)]})]})]})})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Product:"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:r==null?void 0:r.name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Quantity:"}),n.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[i," ",(r==null?void 0:r.unit)||""]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Price per unit:"}),n.jsxs("span",{className:"text-sm font-medium text-gray-800",children:["₹",Me.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Date:"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:l?Gt(l,"dd/MM/yyyy"):"Not selected"})]}),n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Address:"}),y&&f.find(ye=>ye.id===y)?(()=>{const ye=f.find($e=>$e.id===y);return n.jsxs("span",{className:"text-sm font-medium text-gray-800 text-right max-w-[65%]",children:[ye.label?`${Bbe(ye.label)}: `:"",ye.plotBuilding,", ",ye.streetArea,", ",ye.city," - ",ye.pincode]})})():n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Product Total:"}),n.jsxs("span",{className:"text-sm font-medium text-gray-800",children:["₹",Me.toFixed(2)]})]}),xt>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Wallet Deduction:"}),n.jsxs("span",{className:"text-sm font-medium text-green-600",children:["-₹",xt.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-dashed",children:[n.jsx("span",{className:"text-gray-700 font-semibold text-base",children:"Amount Payable:"}),n.jsxs("span",{className:"font-bold text-green-600 text-base",children:["₹",jt.toFixed(2)]})]})]})]})}),b&&n.jsx(gi,{className:"p-4 sm:p-6 border-t bg-white",children:n.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[n.jsx(he,{variant:"outline",onClick:()=>w(!1),className:"rounded-lg h-11 border-gray-300",children:"Cancel"}),n.jsx(he,{onClick:ot,className:"bg-primary hover:bg-primary text-white rounded-lg h-11",disabled:!!(V.recipientName||V.mobile||V.plotBuilding||V.streetArea||V.pincode||V.city||V.state||V.label||V.areaMaster),children:"Save Address"})]})}),!b&&n.jsx(gi,{className:"p-4 sm:p-6 border-t bg-gray-50",children:n.jsxs("div",{className:"space-y-3 w-full",children:[fe>0&&n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),n.jsxs("span",{className:"font-medium",children:["You Save: ₹",fe.toFixed(2)]})]}),n.jsx("span",{className:"text-gray-500 text-xs",children:"vs MRP pricing"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[n.jsx(he,{variant:"outline",onClick:()=>{t(!1),w(!1)},className:"flex-1 sm:flex-none sm:min-w-[120px] py-3 text-base border-gray-300 hover:bg-gray-100 transition-colors",children:"Cancel"}),n.jsxs(he,{onClick:Se,disabled:!l||!y||!I||i<1,className:"flex-1 sm:flex-auto bg-primary hover:bg-primary/80 text-white py-3 text-base font-semibold rounded-lg shadow-md disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none transition-all duration-200",children:[n.jsxs("span",{className:"hidden sm:inline",children:["Confirm Order & Pay ₹",jt.toFixed(2)]}),n.jsxs("span",{className:"sm:hidden",children:["Pay ₹",jt.toFixed(2)]})]})]})]})})]}),n.jsx(oV,{isOpen:X,onOpenChange:q,productName:r==null?void 0:r.name,areaName:U==null?void 0:U.name,message:te})]}):null},MS=[{value:3,label:"3 Days",description:"Trial Pack",color:"#3B82F6",icon:n.jsx(nw,{className:"h-4 w-4"})},{value:15,label:"15 Days",description:"Mid Saver Pack",color:"#10B981",icon:n.jsx(Xx,{className:"h-4 w-4"})},{value:30,label:"30 Days",description:"Super Saver Pack",color:"#8B5CF6",icon:n.jsx(Ta,{className:"h-4 w-4"})}],Ube=({product:e,variants:t,className:r,deliveryPreference:s="home",selectedDepotId:a})=>{var j;const[i,o]=g.useState(!1),l=async()=>e!=null&&e.id?(await mt(`/api/public/depot-variants/${e.id}`)).data||[]:[],{data:u=[],isLoading:f}=Br({queryKey:["depot-variants",e==null?void 0:e.id],queryFn:l,enabled:!!(e!=null&&e.id)}),h=(S,A,C=!1)=>u.filter(T=>{const D=S==="home"?T.depot.isOnline:!T.depot.isOnline;let _=!1;A==="500ml"?_=T.unit==="500ml"||T.name.includes("500ml")||T.name.includes("500 ml"):A==="1L"&&(_=T.unit==="1L"||T.name.includes("1L")||T.name.includes("1 L")||T.name.includes("1 Ltrs")||T.name.includes("1 Ltr")||T.name.includes("1000ml")||T.name.includes("1000 ml"));let O=!0;return C||S==="home"?O=!0:S==="pickup"&&(O=!a||T.depot.id===a),D&&_&&O}),x=()=>{const S=h("home","500ml"),A=h("home","1L"),C=h("pickup","500ml"),T=h("pickup","1L");return console.log("Available variants:",{online500ml:S.map(D=>({name:D.name,unit:D.unit,depot:D.depot.name})),online1L:A.map(D=>({name:D.name,unit:D.unit,depot:D.depot.name})),pickup500ml:C.map(D=>({name:D.name,unit:D.unit,depot:D.depot.name})),pickup1L:T.map(D=>({name:D.name,unit:D.unit,depot:D.depot.name}))}),{online500ml:S,online1L:A,pickup500ml:C,pickup1L:T}},p=(S,A=s,C="500ml",T=!1)=>{const D=h(A,C,T);if(D.length===0)return 0;const _=D[0];if(S==="mrp")return _.mrp||_.price||0;if(S==="buyOnce")return _.buyOncePrice||0;switch(S){case 3:return _.price3Day||0;case 15:return _.price15Day||0;case 30:return _.price1Month||0;default:return 0}},y=(S,A=s,C="500ml",T=!1)=>{const D=p("mrp",A,C,T),_=p(S,A,C,T);if(D===0||_===0)return 0;const O=Math.round((D-_)/D*100);return Math.max(0,O)},N=(S,A=s,C="500ml",T=!1)=>{const D=p("mrp",A,C,T),_=p(S,A,C,T);return D===0||_===0?0:Math.max(0,D-_)},b=()=>{var A;if(!a)return"";const S=(A=u.find(C=>C.depot.id===a))==null?void 0:A.depot;return S?S.name:""},w=S=>[{id:"daily",label:"Daily",description:"Fresh delivery every single day",tooltip:"Receive your order every day, so you never run out.",minPeriod:3},{id:"alternate-days",label:"Alternate Days",description:"Every other day delivery",tooltip:"Get your order every other day (Day 1, Day 3, Day 5…). Great if you use it regularly but not daily.",minPeriod:15},{id:"day1-day2",label:"Day 1–Day 2",description:"Varying quantities",tooltip:"On Day 1 you’ll get one quantity, on Day 2 a different quantity, then it repeats. Ideal for changing needs.",minPeriod:15},{id:"select-days",label:"Weekdays",description:"Custom days selection",tooltip:"Pick the exact weekdays you want deliveries (e.g., Monday, Wednesday, Friday). Total flexibility.",minPeriod:30}].filter(C=>S>=C.minPeriod);return Le.useEffect(()=>{u.length>0&&x()},[u,a]),Le.useMemo(()=>MS.map(S=>({period:S.label,periodValue:S.value,price:p(S.value,s),buyOncePrice:p("buyOnce",s),savings:y(S.value,s),color:S.color,description:S.description,icon:S.icon,availableSchedules:w(S.value)})),[s,u,a]),f?n.jsxs(he,{variant:"outline",disabled:!0,className:"w-full py-3 text-sm border-blue-500 text-blue-600 hover:bg-blue-50 flex items-center justify-center gap-2",children:[n.jsx(Tt,{className:"h-4 w-4 rounded-full"}),"Loading Pricing..."]}):!e&&(!t||t.length===0)&&u.length===0?null:(e!=null&&e.unit||(j=t==null?void 0:t[0])!=null&&j.unit,n.jsxs(n.Fragment,{children:[n.jsxs(he,{variant:"outline",onClick:()=>o(!0),className:"w-full py-3 text-sm border-blue-500 text-blue-600 hover:bg-blue-50 flex items-center justify-center gap-2",children:[n.jsx(Qx,{className:"h-4 w-4"}),"View Subscription Pricing & Schedules"]}),n.jsx(hs,{open:i,onOpenChange:o,children:n.jsxs(ms,{className:"sm:max-w-6xl max-h-[90vh] overflow-hidden",children:[n.jsxs(ps,{children:[n.jsxs(xs,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx(Jx,{className:"h-5 w-5 text-blue-600"}),"Subscription Pricing & Schedules"]}),n.jsx(Mc,{className:"absolute right-4 top-4",children:n.jsx(vo,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"overflow-y-auto max-h-[70vh] space-y-6 pr-2",children:[n.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-lg border",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:(e==null?void 0:e.name)||"Product"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Choose the best subscription plan for your needs. Longer periods offer better savings!"}),s==="pickup"&&a&&b()&&n.jsx("div",{className:"bg-green-100 p-2 rounded-md",children:n.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["📍 Showing prices for: ",b()]})}),s==="home"&&n.jsx("div",{className:"bg-blue-100 p-2 rounded-md",children:n.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"🚚 Showing online delivery prices"})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 text-lg",children:["Subscription Pricing for ",s==="home"?"Online Delivery":"Store Pickup"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[n.jsxs("thead",{children:[n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700 border-r border-gray-200",children:"Period"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-700 border-r border-gray-200",colSpan:2,children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"500ml"]})}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-700",colSpan:2,children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"1L"]})})]}),n.jsxs("tr",{className:"bg-gray-50 border-t border-gray-200",children:[n.jsx("th",{className:"py-2 px-4 border-r border-gray-200"}),n.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-600 border-r border-gray-100",children:"Price"}),n.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-600 border-r border-gray-200",children:"Savings"}),n.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-600 border-r border-gray-100",children:"Price"}),n.jsx("th",{className:"text-center py-2 px-3 text-xs font-medium text-gray-600",children:"Savings"})]})]}),n.jsxs("tbody",{className:"divide-y divide-gray-100",children:[n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 border-r border-gray-200",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("div",{className:"text-gray-600 font-medium",children:"Buy Once"})})}),n.jsxs("td",{className:"text-center py-3 px-3 font-semibold text-gray-900 border-r border-gray-100",children:["₹",p("buyOnce",s,"500ml")||"--"]}),n.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-200",children:n.jsx("span",{className:"text-xs text-black",children:"Base Price"})}),n.jsxs("td",{className:"text-center py-3 px-3 font-semibold text-gray-900 border-r border-gray-100",children:["₹",p("buyOnce",s,"1L")||"--"]}),n.jsx("td",{className:"text-center py-3 px-3",children:n.jsx("span",{className:"text-xs text-black",children:"Base Price"})})]}),MS.map(S=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 border-r border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{style:{color:S.color},className:"flex items-center",children:S.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 text-sm",children:S.label}),n.jsx("div",{className:"text-xs text-gray-500",children:S.description})]})]})}),n.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-100",children:n.jsxs("span",{className:"font-semibold text-green-600",children:["₹",p(S.value,s,"500ml")||"--"]})}),n.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-200",children:y(S.value,s,"500ml")>0?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs(Pr,{className:"bg-green-200 text-green-800 text-xs mb-1",children:[y(S.value,s,"500ml"),"% off"]}),n.jsxs("span",{className:"text-xs text-primary-foreground font-medium",children:["Save ₹",N(S.value,s,"500ml")]})]}):n.jsx("span",{className:"text-xs text-gray-400",children:"No savings"})}),n.jsx("td",{className:"text-center py-3 px-3 border-r border-gray-100",children:n.jsxs("span",{className:"font-semibold text-green-600",children:["₹",p(S.value,s,"1L")||"--"]})}),n.jsx("td",{className:"text-center py-3 px-3",children:y(S.value,s,"1L")>0?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs(Pr,{className:"bg-green-200 text-green-800 text-xs mb-1",children:[y(S.value,s,"1L"),"% off"]}),n.jsxs("span",{className:"text-xs text-primary-foreground font-medium",children:["Save ₹",N(S.value,s,"1L")]})]}):n.jsx("span",{className:"text-xs text-gray-400",children:"No savings"})})]},S.value))]})]})}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Available Delivery Schedules by Period"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:MS.map(S=>{const A=w(S.value);return n.jsxs("div",{className:"bg-white rounded-lg p-3 border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{style:{color:S.color},children:S.icon}),n.jsx("span",{className:"font-medium text-sm",children:S.label})]}),n.jsx("div",{className:"space-y-1",children:A.map(C=>n.jsx(Pr,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200 mr-1 mb-1",children:C.label},C.id))})]},S.value)})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 text-lg flex items-center gap-2",children:[n.jsx(Xx,{className:"h-5 w-5 text-blue-600"}),"Delivery Schedule Details"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w(30).map(S=>n.jsx("div",{className:"border rounded-lg p-4 bg-gradient-to-br from-blue-50/30 to-white hover:shadow-md transition-all duration-200 cursor-help group relative",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-3 h-3 bg-secondary rounded-full mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-1 group-hover:text-blue-700 transition-colors",children:S.label}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:S.description}),n.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:["Available for: ",S.id==="daily"?"All periods":S.id==="alternate-days"||S.id==="day1-day2"?"15+ days":"30 days only"]}),n.jsxs("div",{className:"absolute left-4 right-4 top-full mt-2 bg-gray-900 text-white text-xs p-3 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 shadow-lg",children:[n.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-900 rotate-45"}),S.tooltip]})]})]})},S.id))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:"Subscription Benefits"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),n.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Better pricing than one-time purchases"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),n.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Flexible delivery schedules"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),n.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Pause or modify anytime"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-green-50/50",children:[n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),n.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Fresh delivery guaranteed"})]})]})]})]})]})})]}))},Vbe=()=>Br({queryKey:["area-masters"],queryFn:async()=>{const t=await mt("/api/public/area-masters");return t.data||t},staleTime:5*60*1e3,cacheTime:10*60*1e3}),qbe=({title:e="Home Delivery Areas",showDeliveryInfo:t=!0,showDairyOnly:r=!1})=>{const[s,a]=g.useState(""),{data:i=[],isLoading:o,isError:l}=Vbe(),u=Array.isArray(i)?i:[],f=g.useMemo(()=>{let p=u;return p=p.filter(y=>y.deliveryType==="HandDelivery"),r&&(p=p.filter(y=>y.isDairyProduct)),s&&(p=p.filter(y=>{var N;return y.name.toLowerCase().includes(s.toLowerCase())||y.pincodes.includes(s)||((N=y.depot)==null?void 0:N.name.toLowerCase().includes(s.toLowerCase()))})),p},[u,s,r]),h=f,x=p=>{if(!p||p.trim()==="")return[];try{const y=JSON.parse(p);if(Array.isArray(y))return y.slice(0,5).map(N=>String(N).trim()).filter(Boolean)}catch{}if(p.includes(","))return p.split(",").slice(0,5).map(y=>y.trim()).filter(Boolean);if(p.includes(";"))return p.split(";").slice(0,5).map(y=>y.trim()).filter(Boolean);if(p.includes("|"))return p.split("|").slice(0,5).map(y=>y.trim()).filter(Boolean);{const y=p.trim().split(/\s+/);return y.length>1?y.slice(0,5).filter(Boolean):[p.trim()]}};return o?n.jsxs("div",{className:"space-y-4",children:[n.jsx(Tt,{className:"h-6 w-48"}),n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((p,y)=>n.jsxs(At,{className:"w-full",children:[n.jsx(Mt,{children:n.jsx(Tt,{className:"h-6 w-32"})}),n.jsxs(Dt,{className:"space-y-2",children:[n.jsx(Tt,{className:"h-4 w-full"}),n.jsx(Tt,{className:"h-4 w-3/4"})]})]},y))})]}):l?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Bm,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Failed to load delivery areas"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please try again later"})]}):u.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Bm,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"No delivery areas available"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"We're expanding our coverage soon"})]}):n.jsxs("div",{className:"space-y-6",children:[t&&n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:n.jsx(Wo,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"We deliver to the following areas:"}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Fresh products delivered daily to your doorstep. Select your area during checkout to confirm delivery availability."}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[n.jsxs(Pr,{variant:"secondary",className:"bg-green-100 text-green-700",children:[n.jsx(yo,{className:"h-3 w-3 mr-1"}),u.filter(p=>p.isDairyProduct).length," Dairy Areas"]}),n.jsxs(Pr,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[n.jsx(Wo,{className:"h-3 w-3 mr-1"}),u.filter(p=>p.deliveryType==="HandDelivery").length," Hand Delivery Areas"]})]})]})]})}),n.jsxs("div",{className:"relative",children:[n.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(tt,{type:"text",placeholder:"Search by area name, pincode, or depot...",value:s,onChange:p=>a(p.target.value),className:"pl-10 bg-white"})]}),f.length===0&&s&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Os,{className:"mx-auto h-8 w-8 mb-3 text-gray-400"}),n.jsxs("p",{className:"text-gray-500",children:['No areas found for "',s,'"']}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try a different search term or pincode"})]}),h.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:n.jsx(Wo,{className:"h-5 w-5 text-green-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Hand Delivery Areas"}),n.jsxs(Pr,{variant:"secondary",className:"bg-green-100 text-green-700",children:[h.length," areas"]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:h.map(p=>n.jsxs(At,{className:"hover:shadow-md transition-shadow border-green-100",children:[n.jsx(Mt,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs(Zt,{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(Bm,{className:"h-4 w-4 text-green-600"}),p.name]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(Pr,{variant:"secondary",className:"bg-green-100 text-green-700 text-xs",children:"Hand Delivery"}),p.isDairyProduct&&n.jsx(Pr,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:"Dairy"})]})]})}),n.jsx(Dt,{className:"pt-0 space-y-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Pincodes Covered:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:x(p.pincodes).map((y,N)=>n.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:y},N))})]})})]},p.id))})]})]})},Tg=()=>{const[e,t]=g.useState(null),[r,s]=g.useState("home"),a=1,[i,o]=g.useState(!1),[l,u]=g.useState(!1),[f,h]=g.useState(!1),[x,p]=g.useState(!1),[y,N]=g.useState(!1),[b,w]=g.useState(!1),[j,S]=g.useState(!1);g.useEffect(()=>{try{const U=localStorage.getItem("user");if(U){const F=JSON.parse(U);w(!!F),F&&F.role==="ADMIN"&&S(!0)}else w(!1)}catch(U){console.error("Failed to parse user data from localStorage",U),w(!1)}},[]);const A=async()=>{const U=await mt("/depots?limit=1000");return(U==null?void 0:U.data)??U},{data:C=[],isLoading:T}=Br({queryKey:["depots"],queryFn:A});g.useEffect(()=>{if(b&&C&&C.length>0){let U=C;if(r==="home"?U=C.filter(F=>F.isOnline):r==="pickup"&&(U=C.filter(F=>!F.isOnline)),U.length>0){const F=C.find(q=>q.id===e);F&&(r==="home"&&F.isOnline||r==="pickup"&&!F.isOnline)||t(U[0].id)}else t(null)}else!b&&C&&C.length>0&&!e&&t(C[0].id)},[C,r,b,e]);const D=async U=>await mt(`/products/${U}`),{data:_,isLoading:O,isError:P,error:B}=Br({queryKey:["product",a],queryFn:()=>D(a),enabled:!0}),I=C.find(U=>U.id===e),G=()=>{o(!0)},z=()=>{u(!0)},ae=async U=>{console.log("Subscription Confirmed, preparing to send to backend:",U);try{const F=parseInt(U.selectedAddress,10);if(isNaN(F)){console.error("Invalid deliveryAddressId after parsing:",U.selectedAddress);return}const X={productId:U.productId?Number(U.productId):void 0,deliveryAddressId:F,period:U.selectedPeriod,deliverySchedule:U.deliveryOption.toUpperCase(),weekdays:U.deliveryOption==="select-days"&&U.selectedDays&&U.selectedDays.length>0?U.selectedDays:void 0,qty:U.quantity,altQty:U.deliveryOption==="varying"?U.quantityVarying2:void 0,startDate:U.startDate};console.log("Payload to be sent:",X);const q=await $r("/subscriptions",X);console.log("Subscription created successfully:",q)}catch(F){console.error("Failed to create subscription:",F)}},J=async U=>{console.log("Buy Once Confirmed, processing as single-day subscription:",{...U,selectedDate:U.selectedDate?Gt(U.selectedDate,"yyyy-MM-dd"):void 0});try{const F=U.selectedAddress,X=parseInt(F,10);if(isNaN(X)){console.error("Invalid deliveryAddressId after parsing:",F),me.error("Invalid delivery address selected");return}const q={productId:U.productId?Number(U.productId):void 0,deliveryAddressId:X,period:1,deliverySchedule:"DAILY",weekdays:void 0,qty:U.quantity,startDate:U.selectedDate?Gt(U.selectedDate,"yyyy-MM-dd"):void 0,altQty:void 0,isOneTimePurchase:!0};console.log("Buy Once payload (sent as subscription):",q);const te=await $r("/subscriptions",q);console.log("One-time purchase created as subscription successfully:",te),me.success("Your order has been placed successfully!")}catch(F){console.error("Failed to create one-time purchase:",F),me.error("Failed to place your order. Please try again.")}};if(O)return n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsx(Tt,{className:"h-[400px] w-full rounded-2xl"}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Tt,{className:"h-9 w-3/4"}),n.jsx(Tt,{className:"h-6 w-1/2"}),n.jsxs("div",{className:"space-y-2 mt-6",children:[n.jsx(Tt,{className:"h-5 w-full"}),n.jsx(Tt,{className:"h-5 w-4/5"}),n.jsx(Tt,{className:"h-5 w-3/4"})]}),n.jsxs("div",{className:"mt-8 space-y-4",children:[n.jsx(Tt,{className:"h-12 w-full"}),n.jsx(Tt,{className:"h-12 w-full"})]}),n.jsx(Tt,{className:"h-14 w-full mt-8 rounded-2xl"})]})]})})});if(P||!_)return n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(Va,{variant:"destructive",className:"max-w-4xl mx-auto",children:[n.jsx(xu,{className:"h-4 w-4"}),n.jsx(Ii,{children:"Error Loading Product"}),n.jsxs(qa,{children:["There was a problem retrieving the product details. Error: ",(B==null?void 0:B.message)||"Product data not found."]}),n.jsx("div",{className:"mt-4",children:n.jsx(he,{variant:"outline",onClick:()=>window.location.reload(),className:"text-primary",children:"Try Again"})})]})});const L=[{icon:n.jsx(Uf,{className:"w-6 h-6 text-green-600"}),title:"100% Natural",description:"No additives or preservatives"},{icon:n.jsx(Wo,{className:"w-6 h-6 text-blue-600"}),title:"Daily Delivery",description:"Fresh to your doorstep every morning"},{icon:n.jsx(Ta,{className:"w-6 h-6 text-purple-600"}),title:"Flexible Schedule",description:"Pause or modify anytime"}];return n.jsx("div",{className:"container min-w-full px-4 py-8 bg-white",children:n.jsxs(vs.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[n.jsx("div",{className:"bg-muted/10 rounded-2xl flex items-center justify-center  border border-muted/20",children:_.attachmentUrl?n.jsx(vs.img,{src:`https://www.indraai.in//${_.attachmentUrl}`,alt:_.name,className:"object-cover max-md:object-fit max-sm:object-contain rounded-2xl max-h-[900px] min-h-[600px]",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5}}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-gray-700",children:[n.jsx("div",{className:"bg-muted/30 rounded-full p-6 mb-4",children:n.jsx(Uf,{className:"w-16 h-16"})}),n.jsx("p",{className:"text-lg",children:"Fresh Milk Image"})]})}),n.jsxs("div",{className:"py-4",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-3",children:_.name}),n.jsx("div",{className:"mt-6",children:n.jsx("div",{className:"flex items-baseline gap-3"})}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Description"}),n.jsx("div",{style:{textAlign:"justify"},className:"text-gray-700 leading-relaxed prose",children:_.description?n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{maxHeight:"6em",overflow:"hidden",position:"relative",cursor:_.description.length>200?"pointer":"default"},onClick:()=>_.description&&_.description.length>200&&h(!0),dangerouslySetInnerHTML:{__html:_.description}}),_.description.length>200&&n.jsx("span",{onClick:()=>h(!0),className:"text-primary font-medium ml-1 cursor-pointer hover:underline",children:"Read more"})]}):n.jsx("p",{children:"Our premium milk comes from grass-fed cows raised in natural pastures. Rich in calcium and essential nutrients, it's pasteurized for safety while maintaining its natural goodness."})})]}),n.jsx("div",{className:"border-t border-muted/20 my-4"}),n.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Subscribe by making an online payment or by paying in advance."}),n.jsx("div",{className:"border-t border-muted/20 my-4"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block mb-3 font-medium",children:"Delivery Preference:"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"deliveryPreference",value:"home",checked:r==="home",onChange:U=>s(U.target.value),className:"mr-2"}),"Home Delivery"]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"deliveryPreference",value:"pickup",checked:r==="pickup",onChange:U=>s(U.target.value),className:"mr-2"}),"Store Pickup"]})]})]}),r==="pickup"&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"mr-2 mb-2 font-medium block",children:"Select Store for Pickup:"}),T?n.jsx(Tt,{className:"h-10 w-full"}):n.jsxs(er,{value:(e==null?void 0:e.toString())??"",onValueChange:U=>t(parseInt(U,10)),children:[n.jsx(rr,{className:"w-full mt-2",children:n.jsx(tr,{placeholder:"Select a store for pickup"})}),n.jsx(sr,{children:C.filter(U=>!U.isOnline).map(U=>n.jsxs(yt,{value:U.id.toString(),children:[U.name," - ",U.address]},U.id))})]})]}),r==="home"&&n.jsx("div",{className:"mb-4",children:n.jsxs(he,{variant:"outline",onClick:()=>N(!0),className:"w-full py-2 text-sm border-primary text-primary hover:bg-primary/10 hover:text-white",children:[n.jsx(Wo,{className:"h-4 w-4 mr-2"}),"View Home Delivery Areas"]})}),r==="pickup"&&n.jsx("div",{className:"mb-4",children:n.jsxs(he,{variant:"outline",onClick:()=>p(!0),className:"w-full py-2 text-sm border-blue-500 text-blue-600 hover:bg-blue-50",children:[n.jsx(Wo,{className:"h-4 w-4 mr-2"}),"View Store Pickup Locations"]})}),n.jsx("div",{className:"mt-8",children:n.jsx(Ube,{product:_,deliveryPreference:r,selectedDepotId:e})})]}),n.jsx("div",{className:"border-t border-muted/20 my-4"}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Benefits"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:L.map((U,F)=>n.jsxs(vs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},className:"bg-card p-4 rounded-xl border border-muted/20 flex items-start",children:[n.jsx("div",{className:"mr-3 mt-1",children:U.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:U.title}),n.jsx("p",{className:"text-sm text-gray-700",children:U.description})]})]},F))})]}),n.jsx("div",{className:"mt-8 space-y-4",children:b?n.jsx(n.Fragment,{children:b&&!j&&n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx(vs.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:n.jsx(he,{className:"w-full py-6 text-md sm:text-lg bg-secondary hover:bg-secondary/80 text-white shadow-lg transition-all duration-300 rounded-xl",onClick:z,children:"Buy Once"})}),n.jsx(vs.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:n.jsx(he,{className:"w-full py-6 text-md sm:text-lg bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary text-white shadow-lg transition-all duration-300 rounded-xl",onClick:G,children:"Subscribe Now"})})]})}):n.jsx(he,{asChild:!0,className:"w-full bg-primary hover:bg-primary/80 text-white py-6 rounded-lg text-lg font-semibold transition-transform duration-200 hover:scale-105",children:n.jsx(Rr,{to:"/login",children:"Subscribe"})})})]})]}),n.jsx(Lbe,{depotId:e,isOpen:i,onOpenChange:o,product:_,productId:a,selectedDepot:I,onSubscribeConfirm:ae}),n.jsx($be,{isOpen:l,onOpenChange:u,selectedDepot:I,product:_,productId:a,onBuyOnceConfirm:J}),n.jsx(hs,{open:f,onOpenChange:h,children:n.jsxs(ms,{className:"sm:max-w-2xl",children:[n.jsxs(ps,{children:[n.jsxs(xs,{className:"text-xl font-bold",children:[_.name," - Full Description"]}),n.jsx(Mc,{className:"absolute right-4 top-4",children:n.jsx(vo,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"mt-4 max-h-[70vh] overflow-y-auto",children:n.jsx("div",{className:"text-gray-700 leading-relaxed prose",dangerouslySetInnerHTML:{__html:_.description||"Our premium milk comes from grass-fed cows raised in natural pastures. Rich in calcium and essential nutrients, it's pasteurized for safety while maintaining its natural goodness. We source our milk from local farms that prioritize animal welfare and sustainable farming practices. Each bottle undergoes rigorous quality checks to ensure you receive the freshest, most nutritious product possible. The cows are fed a natural diet without hormones or antibiotics, resulting in milk that's both delicious and healthier. Perfect for drinking, cooking, or adding to your morning coffee, our milk is a versatile addition to any kitchen. We're proud to support local farmers and bring you a product that's not only good for you but also good for the environment."}})})]})}),n.jsx(hs,{open:x,onOpenChange:p,children:n.jsxs(ms,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden",children:[n.jsxs(ps,{children:[n.jsxs(xs,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx(Wo,{className:"h-5 w-5 text-blue-600"}),"All Delivery Locations"]}),n.jsx(Mc,{className:"absolute right-4 top-4",children:n.jsx(vo,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"mt-4",children:T?n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((U,F)=>n.jsx(Tt,{className:"h-16 w-full"},F))}):n.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:n.jsx("div",{className:"grid gap-4",children:n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 text-orange-600 flex items-center gap-2",children:[n.jsx(Ta,{className:"h-4 w-4"}),"Store Pickup Locations"]}),n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg overflow-hidden",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-orange-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-orange-800",children:"Store Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-orange-800",children:"Address"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-orange-800",children:"Contact Person"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-orange-800",children:"Contact Number"})]})}),n.jsx("tbody",{children:C.filter(U=>!U.isOnline).map((U,F)=>n.jsxs("tr",{className:F%2===0?"bg-white":"bg-orange-25",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:U.name}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:U.address}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:U.contactPerson}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:U.contactNumber})]},U.id))})]}),C.filter(U=>!U.isOnline).length===0&&n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(Ta,{className:"mx-auto h-8 w-8 mb-2 text-gray-400"}),n.jsx("p",{children:"No store pickup locations available"})]})]})]})})})}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx(he,{variant:"outline",onClick:()=>p(!1),children:"Close"})})]})}),n.jsx(hs,{open:y,onOpenChange:N,children:n.jsxs(ms,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden",children:[n.jsxs(ps,{children:[n.jsxs(xs,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx(Wo,{className:"h-5 w-5 text-green-600"}),"Home Delivery Areas"]}),n.jsx(Mc,{className:"absolute right-4 top-4",children:n.jsx(vo,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:n.jsx(qbe,{title:"Home Delivery Areas",showDeliveryInfo:!0,showDairyOnly:_==null?void 0:_.isDairyProduct})})}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx(he,{variant:"outline",onClick:()=>N(!1),children:"Close"})})]})})]})})};function zbe(){return n.jsx("div",{className:"w-full ",children:n.jsx("div",{className:"container mx-auto",style:{textAlign:"justify"},children:n.jsxs("div",{className:"flex gap-4 py-10 mb-10 lg:py-10 flex-col items-start",children:[n.jsx("div",{className:"flex gap-2 flex-col",children:n.jsx("h2",{className:"text-primary text-xl md:text-3xl tracking-tighter lg:max-w-xl font-regular",children:"Why choose Indraai"})}),n.jsx("div",{className:"flex gap-10 pt-12 flex-col w-full",children:n.jsxs("div",{className:"grid grid-cols-2 items-start lg:grid-cols-3 gap-10 ",children:[n.jsxs("div",{className:"flex flex-row gap-6 w-full items-start",children:[n.jsx(io,{className:"w-4 h-4 mt-2 text-primary"}),n.jsxs("div",{className:"flex flex-col gap-1 text-primary",children:[n.jsx("p",{children:"100% Pure A2 Gir Cow Milk"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Naturally nutritious and easy to digest                  "})]})]}),n.jsxs("div",{className:"flex flex-row gap-6 items-start",children:[n.jsx(io,{className:"w-4 h-4 mt-2 text-primary"}),n.jsxs("div",{className:"flex flex-col gap-1 text-primary",children:[n.jsx("p",{children:"Absolutely No Adulteration"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Only clean, untainted milk"})]})]}),n.jsxs("div",{className:"flex flex-row gap-6 items-start",children:[n.jsx(io,{className:"w-4 h-4 mt-2 text-primary"}),n.jsxs("div",{className:"flex flex-col gap-1 text-primary",children:[n.jsx("p",{children:"Free from Antibiotics"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Safe and chemical-free"})]})]}),n.jsxs("div",{className:"flex flex-row gap-6 w-full items-start",children:[n.jsx(io,{className:"w-4 h-4 mt-2 text-primary"}),n.jsxs("div",{className:"flex flex-col gap-1 text-primary",children:[n.jsx("p",{children:"No Artificial Insemination"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Ethical, traditional breeding practices                  "})]})]}),n.jsxs("div",{className:"flex flex-row gap-6 items-start",children:[n.jsx(io,{className:"w-4 h-4 mt-2 text-primary"}),n.jsxs("div",{className:"flex flex-col gap-1 text-primary",children:[n.jsx("p",{children:"Cruelty-Free"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Respectful, humane treatment of animals                  "})]})]}),n.jsxs("div",{className:"flex flex-row gap-6 items-start",children:[n.jsx(io,{className:"w-4 h-4 mt-2 text-primary"}),n.jsxs("div",{className:"flex flex-col gap-1 text-primary",children:[n.jsx("p",{children:"Hormone-Free"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"No growth hormones or unnatural additives                  "})]})]}),n.jsxs("div",{className:"flex flex-row gap-6 items-start",children:[n.jsx(io,{className:"w-4 h-4 mt-2 text-primary"}),n.jsxs("div",{className:"flex flex-col gap-1 text-primary",children:[n.jsx("p",{children:"Chemical-Free"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Zero exposure to harmful substances"})]})]}),n.jsxs("div",{className:"flex flex-row gap-6 items-start",children:[n.jsx(io,{className:"w-4 h-4 mt-2 text-primary"}),n.jsxs("div",{className:"flex flex-col gap-1 text-primary",children:[n.jsx("p",{children:"No Steroids"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Clean, unmodified milk                  "})]})]}),n.jsxs("div",{className:"flex flex-row gap-6 items-start",children:[n.jsx(io,{className:"w-4 h-4 mt-2 text-primary"}),n.jsxs("div",{className:"flex flex-col gap-1 text-primary",children:[n.jsx("p",{children:"Free-Grazing Cows"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Open pasture grazing for natural well-being                 "})]})]})]})})]})})})}const Hbe="/assets/cows-DFTGI_QC.png",Wbe=({className:e=""})=>{const t=[{icon:SQ,title:"Strengthens Immunity",description:"Supports the body's natural defense system"},{icon:nw,title:"High in Calcium & Protein",description:"Essential nutrients for strong bones and muscles"},{icon:rl,title:"Gentle on the Stomach",description:"Does not cause bloating or indigestion"},{icon:EE,title:"Anti-Inflammatory Benefits",description:"Helps reduce internal inflammation"},{icon:EE,title:"Supports Heart Health",description:"Promotes cardiovascular well-being"},{icon:FI,title:"Nourishes the Skin",description:"Contributes to healthy, glowing skin"}],r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},s={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},a={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}},i={hidden:{opacity:0,x:50},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}};return n.jsx("div",{className:`min-h-screen py-16 px-4 overflow-x-hidden ${e}`,children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-16",children:[n.jsxs(vs.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center ",variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[n.jsxs(vs.div,{className:"relative   ",variants:a,children:[n.jsx("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl",children:n.jsx("img",{src:Hbe,alt:"A2 Milk from Indian Desi Cows",className:"w-full h-[400px] lg:h-[500px] object-cover"})}),n.jsxs(vs.div,{className:"absolute z-22 -bottom-4 -right-4 bg-primary text-primary-foreground px-4 py-2 rounded-full shadow-lg",initial:{scale:0},animate:{scale:1},transition:{duration:.5},children:[n.jsx(CX,{className:"w-5 h-5 inline mr-2"}),"Pure A2 Milk"]})]}),n.jsx(vs.div,{className:"space-y-6 overflow-hidden",variants:i,children:n.jsxs("div",{children:[n.jsx(Pr,{variant:"outline",className:"mb-4",children:"Premium Quality"}),n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-6",children:"A2 Milk"}),n.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed text-justify",children:[n.jsx("p",{children:"A2 milk contains the A2 beta-casein protein, which is naturally present in the milk of Indian-origin (Desi) cow breeds such as Gir, Kathiawadi, Dangi, Sahiwal, Hallikar, Konkan Gidda, and others. This protein makes A2 milk lighter on the stomach and easier to digest."}),n.jsx("p",{children:"A2 milk is structurally closer to human mother's milk, making it not only more digestible but also suitable for young children."}),n.jsx("p",{children:"In contrast, regular milk typically comes from hybrid breeds like Holstein Friesian and Jersey cows. While these breeds are preferred in commercial dairies due to their high milk yield, their milk contains A1 beta-casein, which may cause digestive discomfort—such as bloating, gas, or cramps—in some individuals."}),n.jsx("p",{children:"For those sensitive to regular milk, A2 milk offers a gentler, nutrient-rich alternative that supports better digestion and overall well-being."})]})]})})]}),n.jsxs(vs.div,{className:"space-y-8",variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[n.jsxs(vs.div,{className:"text-center space-y-4",variants:s,children:[n.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-foreground",children:"A2 Milk Benefits"}),n.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:"Discover the numerous health advantages of choosing A2 milk for you and your family"})]}),n.jsx(vs.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",variants:r,children:t.map((o,l)=>n.jsx(vs.div,{variants:s,whileHover:{y:-5},transition:{duration:.2},children:n.jsxs(At,{className:"h-full hover:shadow-lg transition-all duration-300 border-border/50 hover:border-primary/20",children:[n.jsx(Mt,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(o.icon,{className:"w-6 h-6 text-primary"})}),n.jsx(Zt,{className:"text-lg",children:o.title})]})}),n.jsx(Dt,{children:n.jsx(mi,{className:"text-sm leading-relaxed",children:o.description})})]})},l))})]})]})})},HP=()=>{const e=jr(),[t,r]=g.useState("login"),[s,a]=g.useState([]),[i,o]=g.useState(!0),[l,u]=g.useState(null),[f,h]=g.useState(!1),[x,p]=g.useState(null),[y,N]=g.useState([]),[b,w]=g.useState(!0),[j,S]=g.useState(null),[A,C]=g.useState(!1),[T,D]=g.useState(null),_={},O="https://www.indraai.in//";g.useEffect(()=>{(async()=>{o(!0),u(null);try{const z=await fetch("/api/products/public");if(!z.ok)throw new Error(`HTTP error! status: ${z.status}`);const ae=await z.json();a(ae)}catch(z){u(z instanceof Error?z.message:"An unknown error occurred")}finally{o(!1)}})();const G=localStorage.getItem("user");if(G)try{const z=JSON.parse(G);z&&(C(!0),D(z.name||z.username||z.email||"User"),z.role&&p(z.role))}catch(z){console.error("Failed to parse user data from localStorage",z),p(null),C(!1),D(null)}else p(null),C(!1),D(null)},[]),g.useEffect(()=>{(async()=>{w(!0),S(null);try{const G=await mt("/api/admin/public/banners",{sortBy:"listOrder",sortOrder:"asc",limit:7});if(G&&G.banners&&G.banners.length>0){const z=G.banners.filter(ae=>ae.imagePath).map(ae=>{const J=_[ae.id]||(ae.mobileImagePath?`${O}${ae.mobileImagePath}`:`${O}${ae.imagePath}`);return{id:ae.id,src:`${O}${ae.imagePath}`,alt:ae.caption||`Indraai Milk Banner ${ae.id}`,title:ae.description||void 0,mobileSrc:J}});N(z)}else N([{id:"unsplash-1",src:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=640&auto=format&fit=crop",alt:"Fresh milk in glass bottles",title:"Pure A2 Milk, Delivered Fresh"},{id:"unsplash-2",src:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=640&auto=format&fit=crop",alt:"Cows grazing in green pasture",title:"From Happy Cows to Your Home"},{id:"unsplash-3",src:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=2080&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=640&auto=format&fit=crop",alt:"Dairy farm at sunrise",title:"Natural, Ethical, Sustainable"}])}catch(G){const z=G instanceof Error?G.message:"Failed to fetch banners for hero section";console.error("Error fetching hero banners:",z),S(z),N([{id:"unsplash-1",src:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1528821128474-27f963b062bf?q=80&w=640&auto=format&fit=crop",alt:"Fresh milk in glass bottles",title:"Pure A2 Milk, Delivered Fresh"},{id:"unsplash-2",src:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=2070&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1516640000-9951dfc3c8d1?q=80&w=640&auto=format&fit=crop",alt:"Cows grazing in green pasture",title:"From Happy Cows to Your Home"},{id:"unsplash-3",src:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=2080&auto=format&fit=crop",mobileSrc:"https://images.unsplash.com/photo-1523473827533-2a64d0d36748?q=80&w=640&auto=format&fit=crop",alt:"Dairy farm at sunrise",title:"Natural, Ethical, Sustainable"}])}finally{w(!1)}})()},[]);const P=()=>{localStorage.removeItem("user"),e("/"),window.location.reload()},B=A&&x==="MEMBER";return n.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[n.jsx(t7,{isLoggedIn:A,userName:T,onLogout:P,showWallet:B}),n.jsx("section",{className:"relative mt-25",children:n.jsxs("div",{className:"relative w-full",children:[b&&n.jsxs("div",{className:"absolute inset-0 flex items-center justify-center ",children:[n.jsx("p",{children:"Loading images..."})," "]}),!b&&j&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-100",children:n.jsxs("p",{className:"text-red-700",children:["Could not load banner images: ",j]})}),!b&&!j&&y.length>0&&n.jsx(ybe,{images:y})]})}),n.jsx("section",{id:"benefits",className:"py-16 bg-white",children:n.jsxs("div",{className:"container max-w-6xl mx-auto px-4",children:[n.jsxs("div",{className:"text-center text-primary mb-16",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight mb-3 text-primary",children:"Indraai"}),n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"h-1 w-20  rounded-full"})}),n.jsxs("p",{className:"text-lg max-w-7xl text-gray-800 leading-relaxed text-justify",children:["Indraai combines two words Indriya (Senses) that connect the soul - Atma to the physical world and Aai (Mother) - i.e., the food from the mother to nourish the senses.",n.jsx("br",{}),n.jsx("br",{}),"Indraai is a brand of"," ",n.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"})," ","that aims to give wholesome pure food, without addition of any artificial substances.",n.jsx("br",{}),n.jsx("br",{}),"The Dairy and Processed products such as A2 ghee, A2 Ghee ladoos, Woodpressed oils, Namkeen etc. are marketed under the brand name of Indraai."]})]}),n.jsx("div",{className:"block",children:n.jsx(zbe,{})}),n.jsx("div",{children:n.jsx(Wbe,{})})]})}),n.jsx("div",{id:"product-detail-section",children:n.jsx(Tg,{})}),n.jsx("section",{className:"py-16   ",children:n.jsxs("div",{className:"container max-w-6xl mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"The way we satisfy the demand of A2 Milk"}),n.jsx("div",{className:"w-[46rem] max-md:w-36 h-1 bg-primary rounded-full mx-auto mb-6"}),n.jsx("p",{className:"text-lg text-gray-700 max-w-4xl mx-auto leading-relaxed text-justify",children:"Absolutely nothing—we don't regulate milk supply based on demand. Our milk comes directly from the Bharwad community, who have been rearing Gir cows for generations, without any external chemicals or additives to boost production."}),n.jsx("p",{className:"text-lg text-gray-700 max-w-4xl mx-auto leading-relaxed mt-4 text-justify",children:"Instead, the Bharwad community's relationship with Desi Gir cows transcends today's commercial mindset:"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[n.jsx("div",{className:"group",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 h-full hover:shadow-xl transition-all duration-300 hover:-translate-y-2",children:[n.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-orange-200 rounded-full mb-6 mx-auto group-hover:bg-primary/20 transition-colors",children:n.jsx(Oxe,{className:"w-8 h-8 text-primary"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"Native Heritage"}),n.jsx("p",{className:"text-gray-600 leading-relaxed text-center",children:"The Desi Gir cow originates in the Gir Forest of Gujarat, India. She's distinguished by a pronounced hump and loose skin around her neck, celebrated for her gentle disposition and remarkable resilience in any climate."})]})}),n.jsx("div",{className:"group",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 h-full hover:shadow-xl transition-all duration-300 hover:-translate-y-2",children:[n.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-primary/20 rounded-full mb-6 mx-auto group-hover:bg-primary/20 transition-colors",children:n.jsx(kxe,{className:"w-8 h-8 text-primary"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"Natural Milking Cycle"}),n.jsx("p",{className:"text-gray-600 leading-relaxed text-center",children:"On each farm, some Gir cows are in their milking phase while others rest. Calves always feed first; any remaining milk is then collected by the farmer. Cows not lactating receive the same dedicated care until the end of their natural lives."})]})}),n.jsx("div",{className:"group",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 h-full hover:shadow-xl transition-all duration-300 hover:-translate-y-2",children:[n.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-6 mx-auto group-hover:bg-blue-200 transition-colors",children:n.jsx(Dxe,{className:"w-8 h-8 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"Essential Bulls"}),n.jsx("p",{className:"text-gray-600 leading-relaxed text-center",children:"Gir bulls assist with agricultural work and help sustain the herd through natural breeding, ensuring the continuation of the breed's legacy."})]})})]})]})}),n.jsx(Gbe,{})]})},Gbe=()=>n.jsxs("footer",{className:"bg-slate-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-8 gap-y-10",children:[n.jsxs("div",{className:"md:col-span-12 lg:col-span-4",children:[n.jsxs("div",{className:"mb-6 flex items-center",children:[n.jsx(Uf,{className:"h-10 w-10 text-green-600 mr-3"}),n.jsx("a",{href:"https://sarkhotnaturalfarms.com/",className:"text-xl font-bold text-green-700 dark:text-green-500",children:"Sarkhot Natural Farms"})]}),n.jsxs("p",{className:"text-sm mb-6 leading-relaxed",children:[n.jsx("a",{href:"https://sarkhotnaturalfarms.com/",className:"  text-green-700 dark:text-green-500 mr-1",children:"Sarkhot Natural Farms"}),"denote the community of natural farmers. Natural means"," ",n.jsx("span",{className:"font-semibold text-red-500",children:"💯%"})," chemical free, preservative free and poison free."]}),n.jsx("h3",{className:"text-[0.9rem] font-semibold mb-3 text-gray-600 dark:text-gray-400",children:"Payment Accepted"}),n.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:["Mastercard","Discover","BitPay","Visa","Stripe"].map(e=>n.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-md shadow-sm",children:e},e))})]}),n.jsx("div",{className:"hidden lg:block lg:col-span-1"}),n.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[n.jsx("h3",{className:"text-md font-semibold mb-4    border-b-2 border-primary pb-1 inline-block",children:"Policies"}),n.jsxs("ul",{className:"space-y-2.5 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/privacy-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/refund-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Refund and Returns Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/shipping-policy",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Shipping and delivery policy"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms-conditions",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Terms and Conditions"})})]})]}),n.jsxs("div",{className:"md:col-span-4 lg:col-span-2",children:[n.jsx("h3",{className:"text-md font-semibold mb-4    border-b-2 border-primary pb-1 inline-block",children:"Useful Links"}),n.jsxs("ul",{className:"space-y-2.5 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Home"})}),n.jsx("li",{children:n.jsx("a",{href:"/member/products",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Products"})}),n.jsx("li",{children:n.jsx("a",{href:"/about",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"About"})}),n.jsx("li",{children:n.jsx("a",{href:"/contact",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"Contact Us"})})]})]}),n.jsxs("div",{className:"md:col-span-4 lg:col-span-3",children:[n.jsx("h3",{className:"text-md font-semibold mb-4  dark  border-b-2 border-primary pb-1 inline-block",children:"Store Location"}),n.jsxs("address",{className:"text-sm not-italic space-y-2 leading-relaxed",children:[n.jsxs("p",{children:[n.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),", Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East - 421201"]}),n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:"Landmark"})," ","- Near Brahman Sabha hall."]}),n.jsx("p",{children:n.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors break-all",children:"sarkhotnaturalfarms@gmail.com"})}),n.jsx("p",{children:n.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:"+91 9920999100"})})]})]})]})}),n.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 py-4 border-t border-gray-300 dark:border-gray-700",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 dark:text-gray-400",children:[n.jsxs("p",{className:"mb-2 md:mb-0 text-center md:text-left",children:["© ",new Date().getFullYear()," ",n.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),". All Rights Reserved."]}),n.jsxs("p",{className:"text-center md:text-right",children:["Powered by"," ",n.jsx("a",{href:"https://sanmisha.com/",className:"font-semibold text-primary dark:text-primary hover:underline",children:"Sanmisha Technologies"})]})]})})]}),Ybe=()=>n.jsx("div",{className:"min-h-screen ",children:n.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",style:{textAlign:"justify"},children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:n.jsx(Uf,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"About Us"})]}),n.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"}),n.jsxs("p",{className:"text-lg text-gray-600 font-medium",children:["Namaste, welcome to ",n.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"})," Family."]})]}),n.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed space-y-8",children:[n.jsxs("p",{children:[n.jsx("a",{className:"hover:text-green-800 font-bold dark:hover:text-green-400 transition-colors",href:"https://sarkhotnaturalfarms.com/",children:"Sarkhot Natural Farms"}),' is a dedicated one-stop destination for 100% naturally grown farm produce. By "natural," we mean completely chemical-free, preservative-free, and toxin-free food — cultivated using traditional methods passed down through generations.']}),n.jsx("p",{children:"Our farming practices rely solely on desi cow dung and cow urine-based homemade inputs, both at our own farm and among our network of like-minded farmers. This ensures that the food you receive is as pure and wholesome as what your grandparents once enjoyed."}),n.jsx("p",{children:"Located in Kambe village, Shahpur district, Maharashtra, our flagship Sarkhot Farm is rooted in the principles of Natural Farming. In addition to our own produce, we also source from a trusted network of natural farmers across India who share our values."}),n.jsx("p",{children:"Our farmer community is diverse — united by purpose but inspired by various philosophies. While most follow Dr. Subhash Palekar's Natural Farming methods, others draw wisdom from Shri Rajiv Dixit, the Varkari tradition, tribal knowledge, and spiritual teachings. Together, they form a powerful movement dedicated to producing nutritious food — free from harmful chemicals and full of life-giving energy."})]})]})})}),Kbe="/assets/IMG_20240610_080210527-Dwp_T3eN.jpg",Xbe=()=>n.jsx("div",{className:"min-h-screen ",children:n.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",style:{textAlign:"justify"},children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:n.jsx(Uf,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Bharwad Gir Cow"})]}),n.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[n.jsx("div",{children:n.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg",children:n.jsx("img",{src:Kbe,alt:"Bharwad community with Gir cows",className:"w-full h-[300px] md:h-[400px] object-cover"})})}),n.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed space-y-8",children:[n.jsx("p",{children:"The Bharwad are a nomadic tribe with a long-standing tradition of rearing Desi Gir cows across generations. Our Indraai A2 milk comes from these cherished Gir cows, lovingly raised by the Bharwad community settled near Alephata, Pune."}),n.jsx("p",{children:"Deeply devoted to their cows—whom they revere as mothers—the Bharwads follow only traditional, ethical practices. They use gentle hand-milking and never resort to hormones, artificial insemination, steroids, or chemical interventions."}),n.jsx("p",{children:"With Indraai A2 milk, you receive more than just nourishment—you experience the pure, natural essence of milk that supports the body, mind, and soul, just as nature intended."})]})]})]})})}),Qbe=()=>{const[e,t]=g.useState({name:"",email:"",message:""}),r=a=>{t({...e,[a.target.name]:a.target.value})},s=a=>{a.preventDefault(),console.log("Form data submitted:",e),alert("Message sent (simulated)!"),t({name:"",email:"",message:""})};return n.jsx("div",{className:"container mx-auto px-4 py-8 md:py-12 lg:py-16 bg-gray-50 min-h-screen",children:n.jsx("div",{className:"max-w-5xl mx-auto bg-white p-6 md:p-10 shadow-xl rounded-xl border border-gray-200",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-12",children:[n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-800 mb-4",children:"Our Shop"}),n.jsxs("div",{className:"space-y-3 text-gray-700",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(Bm,{className:"w-5 h-5 mr-3 mt-1 text-green-600 flex-shrink-0"}),n.jsxs("span",{children:["Sarkhot Natural Farms, Shop no 3, Chidghan society, Opp. Maharashtra Steel, Tilak cross Phadke Road, Dombivli East : 421201",n.jsx("br",{}),n.jsx("span",{className:"text-sm text-gray-500",children:"Landmark - Near Brahman Sabha hall."})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(MI,{className:"w-5 h-5 mr-3 text-green-600 flex-shrink-0"}),n.jsx("a",{href:"tel:+919920999100",className:"hover:text-green-700",children:"+91 9920999100"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(CT,{className:"w-5 h-5 mr-3 text-green-600 flex-shrink-0"}),n.jsx("a",{href:"mailto:sarkhotnaturalfarms@gmail.com",className:"hover:text-green-700",children:"sarkhotnaturalfarms@gmail.com"})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-800 mb-4",children:"Opening Time"}),n.jsx("div",{className:"space-y-1 text-gray-700",children:n.jsx("p",{children:"Store time : 7 am - 9 pm (Monday - Sunday)"})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-800 mb-1",children:"Get In Touch"}),n.jsx("p",{className:"text-gray-600",children:"Questions?"}),n.jsx("p",{className:"text-gray-600 -mt-4",children:"Suggestions?"}),n.jsx("h3",{className:"text-xl font-medium text-gray-700 pt-2",children:"Write Us"}),n.jsxs("form",{onSubmit:s,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"sr-only",children:"Name"}),n.jsx("input",{type:"text",name:"name",id:"name",value:e.name,onChange:r,placeholder:"Name",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),n.jsx("input",{type:"email",name:"email",id:"email",value:e.email,onChange:r,placeholder:"Email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"sr-only",children:"Message"}),n.jsx("textarea",{name:"message",id:"message",rows:4,value:e.message,onChange:r,placeholder:"Message",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 shadow-sm"})]}),n.jsx("div",{children:n.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center px-6 py-3 bg-primary text-white font-semibold rounded-md hover:bg-primary focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 shadow-md transition duration-150 ease-in-out",children:[n.jsx(wQ,{className:"w-5 h-5 mr-2"})," Send"]})})]})]})]})})})},Zbe=()=>{const e=[{title:"Our Mentor",text:"Shri Prashant Sarkhot, helps us to find the direction and keeps us grounded.",icon:"👨‍🏫"},{title:"Our dear staff",text:"have spent long hours meeting deadlines. They have kept their calm while delivering items even at odd places and at odd times. They have made sure that the quality control is always at its best and have been receptive and eager to improve with feedback. Our team is our backbone, and we are grateful to have them.",icon:"👨‍💼"},{title:"Our consumers",text:"have helped in improving the quality of service, packing, delivery schedules, and adding various products with their valuable feedback which was always constructive. The faith that they have kept in us, their appreciation, and respect have helped us in having the clarity of WHY IS THERE A NEED OF SNF?",icon:"👥"},{title:"Nature (This Universe)",text:"has been so helpful and supportive to make us meet the right people at the right time. It has helped us to get the answers when we were full of doubts and questions.",icon:"🌿"},{title:"Swami Vivekanand, Dr. Subhash Palekar, Shri Rajeev Dixit and our Freedom Fighters",text:"Their teachings have shaped SNF as well as the life of many farmers. This farming technique is also spiritual due to the presence of spiritual teachers. Their direction helped us to understand nature more deeply.",icon:"📜"},{title:"Our Network farmers",text:"have been instrumental in supplying naturally grown food. Despite problems, they have made natural farming successful and helped so many of us to lead healthy lives. They have listened to consumer feedback and improved their quality with consistent efforts.",icon:"👨‍🌾"},{title:"Our Friends & Family",text:"have been instrumental in our growth. Their love keeps us going and is the best example of Unconditional love.",icon:"👨‍👩‍👧‍👦"},{title:"Innumerable People",text:"have met us and influenced us in day-to-day life. Many ideas were generated due to them, and we are grateful to learn from them.",icon:"🤝"}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-green-50 py-8 md:py-12 lg:py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("div",{className:"inline-block bg-gradient-to-r from-amber-400 to-green-500 p-1 rounded-full mb-6",children:n.jsx("div",{className:"bg-white rounded-full p-3",children:n.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-green-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:n.jsx("span",{className:"text-3xl text-white",children:"🙏"})})})}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-amber-600 to-green-700 bg-clip-text text-transparent mb-4",children:"GRATITUDE"}),n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsx("p",{className:"text-lg text-gray-700 leading-relaxed bg-white/80 backdrop-blur-sm p-4 rounded-lg border border-amber-100 shadow-sm",children:"We have come a long way from where we started. From having a little sense of direction, we now have a clear path that is becoming clearer day by day. This is due to the presence of so many people and we are happy to recognize them."})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>n.jsxs("div",{className:"bg-white rounded-xl border border-amber-100 overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 ease-in-out transform hover:-translate-y-1 flex flex-col h-full",children:[n.jsxs("div",{className:"p-5 pb-4 flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 bg-gradient-to-br from-amber-100 to-green-100 w-12 h-12 rounded-lg flex items-center justify-center mr-4 mt-1",children:n.jsx("span",{className:"text-xl",children:t.icon})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.title}),n.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.text})]})]}),n.jsx("div",{className:"mt-auto px-5 pb-4 pt-2",children:n.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-amber-300/30 to-green-400/30 rounded-full"})})]},r))}),n.jsxs("div",{className:"mt-10 text-center text-gray-700",children:[n.jsxs("p",{className:"mb-1",children:["Please drop an email at ",n.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"contact@sarkhotnaturalfarms.com"})]}),n.jsxs("p",{className:"mb-1",children:["Connect on WhatsApp / Call: ",n.jsx("span",{className:"font-medium",children:"9920999100"})]}),n.jsx("p",{children:"We will get back to you within 48 hours"})]})]})})})},Jbe=()=>n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 prose dark:prose-invert max-w-4xl",children:[n.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Privacy Policy"}),n.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Last updated: August 29, 2022"}),n.jsx("p",{className:"mb-4",children:"Namaste! We are glad to have you here. Sarkhot Natural Farms denotes the community of natural farmers. Natural means chemical-free, preservative-free, and poison-free. Only cow dung and cow urine-based homemade preparations are used by farmers in cultivation. All our products are grown with natural farming practices. Our farm is at Kambe, Shahpur, Maharashtra."}),n.jsx("p",{className:"mb-4",children:"We and our network farmers are inspired by SPNF, SPK, Natural farming, Freedom fighters and teachings of Swami Vivekanand, Shri Rajeev Dixit, Dr. Subhash Palekar and our spiritual Gurus. Visit our Gratitude page to know more about us."}),n.jsxs("p",{className:"mb-4",children:["Our website address is: ",n.jsx("a",{href:"https://sarkhotnaturalfarms.com",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"https://sarkhotnaturalfarms.com"})," and our store is located at B/3, Prabhat Society, Dr Mukherjee Road, Dombivali East – 421201. Our website showcases our products, e-commerce shop, services, our work, our engagement with farmers etc."]}),n.jsx("p",{className:"mb-6",children:"At SNF, we understand that when you use our services, you trust us with your information. Our privacy policy helps to explain what information we may gather about you, and how it may be utilized."}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What Data Do We Collect?"}),n.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:n.jsx("li",{children:"We collect personal information such as your first name, last name, contact details, email, residence address and all such relevant information that is necessary for our engagement with you. We collect information when you buy from us, enquire about us, or engage with us through any mode."})}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Accuracy of information?"}),n.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:n.jsx("li",{children:"When you share your personal information with us, we assume it to be accurate and up to date."})}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Do we store your details of Banking/Payment?"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"You may choose to pay in cash, online or wallet transfer."}),n.jsx("li",{children:"When you make online payments, third party networks or our processing partners may take certain details such as your credit card, debit card, net-banking login etc. We do not access, store, or collect such banking/payment details."})]}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What about engagement on Website and Social media accounts?"}),n.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:n.jsx("li",{children:"When you engage with us through our social media handles, we collect your personal information such as name, age, location, gender, area of interest etc. This information is collected so that we can work on your feedback, analyze it for market research or suggest relevant products to you or as part of our marketing campaigns."})}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What do we do with your Comments?"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"When visitors leave comments on our site/social media handles, we collect the data shown in the comments, visitor’s IP address and browser user agent string to help spam detection."}),n.jsxs("li",{children:["An anonymized string created from your email address (also called a hash) may be provided to the Gravatar service to see if you are using it. The Gravatar service privacy policy is available here:"," ",n.jsx("a",{href:"https://automatic.com/privacy/",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"https://automatic.com/privacy/"}),"."]}),n.jsx("li",{children:"After approval of your comment, your profile picture is visible to the public in the context of your comment."})]}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"What is the use of Media (Image/audio/video etc)?"}),n.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:n.jsx("li",{children:"If you upload images to the website, you should avoid uploading images with embedded location data (EXIF GPS) included. Visitors to the website can download and extract any location data from images on the website."})}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What are Cookies?"}),n.jsx("p",{className:"mb-4",children:"Cookies are small text files that are placed on your computer by websites that you visit. These files may be used to record information about your use of the site and thus may help to improve the efficiency of the site."}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"If you leave a comment on our site, you may opt-in to saving your name, email address and website in cookies. These are for your convenience so that you do not have to fill in your details again when you leave another comment. These cookies will last for one year."}),n.jsx("li",{children:"If you visit our login page, we will set a temporary cookie to determine if your browser accepts cookies. This cookie contains no personal data and is discarded when you close your browser."}),n.jsx("li",{children:"When you log in, we will also set up several cookies to save your login information and your screen display choices. Login cookies last for two days, and screen options cookies last for a year. If you select “Remember Me”, your login will persist for two weeks. If you log out of your account, the login cookies will be removed."}),n.jsx("li",{children:"If you edit or publish an article, an additional cookie will be saved in your browser. This cookie includes no personal data and simply indicates the post ID of the article you just edited. It expires after 1 day."})]}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does Web Analytics work?"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"Our Website uses Google Analytics, a web analytics service. Google Analytics uses cookies, text files that are stored on your computer and enable analysis of your use of the website. The information generated by the cookies is stored on third party (Google) server."}),n.jsx("li",{children:"You may refuse the use of cookies by selecting the relevant settings on your browser software. You can also prevent the data generated by the cookie of your use by installing the “Google Analytics Opt-out Browser Add-on”."})]}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does Embedded content work?"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"Articles on this site may include embedded content (e.g. videos, images, articles, etc.). Embedded content from other websites behaves in the exact same way as if the visitor has visited the other website."}),n.jsx("li",{children:"These websites may collect data about you, use cookies, embed additional third-party tracking, and monitor your interaction with that embedded content, including tracking your interaction with the embedded content if you have an account and are logged in to that website."})]}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"How does E-mail Newsletters work?"}),n.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:n.jsx("li",{children:"If you have received one of our e-mail newsletters, we may use some additional cookies to enable us to track the open rates of e-mails. This allows us to track the interest levels of our newsletters to ensure we are only sending out relevant information. They only work if you have downloaded the images. All our e-mail newsletters have the option to unsubscribe, so if you no longer wish to receive these e-mails, you can unsubscribe from the list."})}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What do we do with your data?"}),n.jsx("p",{className:"mb-2",children:"We use the details for the following purposes:"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"Share product updates, farmer stories, new recipes."}),n.jsx("li",{children:"Create and maintain your unique account on our e-commerce shop;"}),n.jsx("li",{children:"Process your orders"}),n.jsx("li",{children:"Calculate your bill for the products/services"}),n.jsx("li",{children:"Facilitate consumer research"}),n.jsx("li",{children:"Respond to requests, enquiries, complaints, and other customer care related activities,"}),n.jsx("li",{children:"Maintain internal record and comply with our legal or statutory obligations."}),n.jsx("li",{children:"All other relevant activities which facilitate us to achieve the mission of Sarkhot Natural Farms."})]}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Who we share your data with?"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"We don’t sell, rent, lease, use or share your data with third parties in a way as to reveal any of your personal information."}),n.jsx("li",{children:"Any contact messages received through this website related to hiring and customer service are also never used for marketing purposes or shared with any third parties."})]}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"How long do we retain your data?"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"If you leave a comment, the comment and its metadata are retained indefinitely. This is so we can recognize and approve any follow-up comments automatically instead of holding them in a moderation queue."}),n.jsx("li",{children:"For users that register on our website (if any), we also store the personal information they provide in their user profiles. All users can see, edit, or delete their personal information at any time (except they cannot change their username). Website administrators can also see and edit that information."})]}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What rights do you have over your data?"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"You have the right to access, rectify, modify, restrict or withdraw your consent of our use of your personal information."}),n.jsx("li",{children:"If you have an account on this site or have left comments, you can request to receive an exported file of the personal data we hold about you, including any data you have provided to us."}),n.jsx("li",{children:"You can also request that we erase any personal data we hold about you. This does not include any data we are obliged to keep for administrative, legal, or security purposes."})]}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"What security measures do we follow?"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"Your Personal Information is stored on third-party cloud servers. Although we provide appropriate firewalls and protections, we cannot warrant the security of personal information transmitted as these systems are not hack proof."}),n.jsx("li",{children:"Data pilferage due to unauthorized hacking, virus attacks, technical issues is possible, and we will take necessary measures to mitigate such events."}),n.jsx("li",{children:"You are required to be careful to avoid “phishing” scams, where someone may send you an e-mail that looks like it is received from us."})]}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Limitation of liability"}),n.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:n.jsx("li",{children:"To the extent permissible under the law, we shall not be liable for any direct, indirect, incidental, special, consequential, or exemplary damages, including but not limited to, damages for loss of profits, goodwill, data, information, or other intangible losses arising out of this Privacy Policy."})}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Governing laws and disputes"}),n.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:n.jsx("li",{children:"This Privacy Policy shall be construed and governed by the laws of India. The courts in Kalyan-Dombivali, Maharashtra India shall have exclusive jurisdiction over such disputes."})}),n.jsx("p",{className:"mt-8 mb-4 text-sm text-gray-600 dark:text-gray-400",children:"This Privacy Policy was updated on August 29, 2022."}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Need Help?"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsxs("li",{children:[n.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"contact@sarkhotnaturalfarms.com"})," – is our email for general enquiries or for any assistance."]}),n.jsxs("li",{children:[n.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@sarkhotnaturalfarms.com"})," – is our email for any queries, complaints, or grievances."]}),n.jsxs("li",{children:[n.jsx("a",{href:"tel:+919920999100",className:"text-green-600 hover:underline",children:"9920999100"})," is our contact number both for WhatsApp and call. However, it may not be feasible to meet you always on call and so we request you drop us an SMS or WhatsApp message so that we can get back to you at the earliest."]})]}),n.jsx("p",{className:"mt-8 mb-4",children:"Sarkhot Natural farms denote the community of natural farmers. Natural means 💯% chemical free, preservative free and poison free."})]}),ewe=()=>n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 prose dark:prose-invert max-w-4xl",children:[n.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Refund and Returns Policy"}),n.jsx("p",{className:"mb-4",children:"All our products are grown with natural farming practices. There is no use of chemicals or heavy machinery which can give similar/standard results. This means two batches can vary in size, taste, etc."}),n.jsx("p",{className:"mb-4",children:"Our promise to you is that we are enthusiastic about our farming practice, which is simple, traditional, and natural. Our network partners are inspired by SPNF, SPK, or Natural farming practices. Only Desi Cow dung and cow urine are used in our farming. No chemical by whatever name is used and so you get pure natural health products."}),n.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:n.jsx("li",{children:"We have a 10 days return policy."})}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Points to note before jumping to Returns/Refunds policy:"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"We recommend you try small size packets first so that you understand if you like the product. Once you are happy, then start bulk buying. This shall reduce your chances of returns/refunds drastically and give you a better consumer experience."}),n.jsxs("li",{children:["If you have doubts about any products, read the information given on our website"," ",n.jsx("a",{href:"https://www.Sarkhotnaturalfarms.com",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"www.Sarkhotnaturalfarms.com"}),". We have used actual photos of products at most places with a humble belief that our product images along with the content will help you in your buying journey. If still, you have questions, kindly reach us on WhatsApp / call – ",n.jsx("a",{href:"tel:9920999100",className:"text-green-600 hover:underline",children:"9920999100"})," or email us at"," ",n.jsx("a",{href:"mailto:Contact@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Contact@sarkhotnaturalfarms.com"})," before buying any product."]}),n.jsx("li",{children:"We have curated our Refund & Returns policy (given below) so that genuine cases of damage/defect are promptly resolved."}),n.jsx("li",{children:"Refund/return request is eligible only in cases where the items are defective/damaged OR are missing."}),n.jsx("li",{children:"Good faith is a key to being eligible for a refund/replacement. If we come across bad intentions/bad faith or any such setting which tries to take advantage of this policy, we have every right to deny any replacement/refund."}),n.jsx("li",{children:"In cases, where a consumer has purchased something by mistake, returns/refund request is denied as a fair amount of cost has already been incurred in packaging, Quality control, billing & delivery."})]}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Timeline for raising refund/return request:"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"Dry items such as Grocery, Wood Pressed OR Cold pressed oils, A2 Desi ghee & butter: Within 10 days from the delivery date."}),n.jsx("li",{children:"Fresh Fruits & Vegetables: Within 1 day from the delivery date."}),n.jsx("li",{children:"Fresh Fruits (Delivered in raw form): In the case of Fruits, where the items were delivered in their raw stage, the replacement/refund timeline starts when the fruits start to ripen. However, as these items are at the consumers’ place, storage care must be taken by the consumer."}),n.jsx("li",{children:"For Items with specific replacement/refund timelines: Specific timelines will precede the general timelines. For Mangoes, if it is mentioned that 2 in every 12 mangoes are assumed to get spoilt and replacement/refund is eligible for 3 mangoes and above. Then this special replacement/refund policy for mangoes precedes our general replacement policy."}),n.jsx("li",{children:"Missing product: If in a package, one or more items are missing, then notify us within 3 days from the delivery date. Here return/replacement will be applicable only for missing items (Not for the whole package)."}),n.jsx("li",{children:"If a consumer reaches out to us within the given timelines, we shall replace/process their refund after our due diligence."})]}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Situations where no refund/replacement is granted:"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"Items of personal use eg: Panchgavya soap."}),n.jsx("li",{children:"Items with the seal broken/used e.g.: Honey, Kakvi (Blackstrap molasses), Oil, Ghee, etc."}),n.jsx("li",{children:"Any item not in its original condition is damaged or missing parts for reasons not due to our error."})]}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"There are certain situations where only partial refunds are granted:"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"Items with an obvious sign of usage."}),n.jsx("li",{children:"Any item not in its original condition is damaged or missing parts for reasons not due to our error."})]}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Returns pickup"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"If your returns match our delivery to your location, then we may pick it up. But this can take time as arranging separately for a return pickup is not cost-effective and so we normally pick up items when we are delivering to you or nearby locations."}),n.jsx("li",{children:"You may also mail your product to B/3, Prabhat Society, Ground floor, Dr. Mukherjee Road, Near CKP Hall, Dombivali East, 421201. The consumer will bear the shipping costs."}),n.jsx("li",{children:"For perishables, vegetables, fruits, etc., returns might not be possible. Here we rely on clear images, your writeup, and communication with our team."})]}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Refunds"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"Once your return/refund request is received and inspected, we will send you an email to notify you that we have received your returned item. In the case of perishables, (Fruits/vegetables), returns are not always possible and so we will carry out due diligence based on clear photos and issue identification by our team."}),n.jsx("li",{children:"We will notify you of the approval or rejection of your refund."}),n.jsx("li",{children:"If you are approved, then your refund will be processed."}),n.jsx("li",{children:"You may choose to get a refund to your bank account or add the money to your website wallet. For credits to your wallet, you get a 1% additional amount added. Other than a wallet, we prefer online transfer among all banking modes, but the refund mode shall depend on the situation at the time of refund."}),n.jsx("li",{children:"Refund will be processed within 10 – 30 days from the date of approval."})]}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Late or missing refunds"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsx("li",{children:"If you haven’t received a refund yet, first check your bank account again."}),n.jsx("li",{children:"Next contact your bank. There is often some processing time before a refund is posted."}),n.jsxs("li",{children:["If you’ve done all of this and you still have not received your refund yet, please contact us at"," ",n.jsx("a",{href:"mailto:support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"support@sarkhotnaturalfarms.com"}),"."]})]}),n.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3 text-gray-700 dark:text-gray-300",children:"Sale items"}),n.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:n.jsx("li",{children:"Only regular-priced items may be refunded. Sale items cannot be refunded."})}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"How to notify us/inform us about a refund/return request?"}),n.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[n.jsxs("li",{children:["WhatsApp us on ",n.jsx("a",{href:"https://wa.me/919920999100",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"9920999100"})," or email us at"," ",n.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@sarkhotnaturalfarms.com"}),"."]}),n.jsx("li",{children:"Mention the Order no, Bill amount, date of delivery, and 3 clear photos of the product with a brief of the issue."}),n.jsx("li",{children:"We understand Marathi, Hindi & English so you may choose to communicate in any of these languages."}),n.jsx("li",{children:"We condemn the use of foul language and welcome those who can communicate their feelings respectfully."})]}),n.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4 text-gray-800 dark:text-gray-200",children:"Need help?"}),n.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",children:n.jsxs("li",{children:["Contact us at"," ",n.jsx("a",{href:"mailto:Support@SarkhotNaturalfarms.com",className:"text-green-600 hover:underline",children:"Support@SarkhotNaturalfarms.com"})," or WhatsApp us at"," ",n.jsx("a",{href:"https://wa.me/919920999100",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline",children:"9920999100"}),"."]})}),n.jsx("p",{className:"mt-8 mb-4",children:"Sarkhot Natural farms denote the community of natural farmers. Natural means 💯% chemical free, preservative free and poison free."})]}),twe=()=>n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-lg p-6 md:p-8 lg:p-10 prose dark:prose-invert max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-green-700 dark:text-green-500",children:"Shipping and Delivery Policy"}),n.jsx("p",{className:"lead text-lg",children:"Namaste! We are glad to have you here. Our Shipping and Delivery Policy will guide you with a clear understanding of how items are shipped, delivery timelines, the nature of goods available, delivery locations, and where to reach out in case of any assistance."}),n.jsx("h2",{children:"Accuracy of Address"}),n.jsx("p",{children:"To ship your items accurately, we require your precise details. Kindly ensure that your pin code, postal address, email ID, and contact number are correct before you place your order."}),n.jsx("h2",{children:"Shipping Mode"}),n.jsx("p",{children:"We deliver through transport vehicles, courier services, train, and traveler van facilities."}),n.jsx("h3",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai, Dombivali & Kalyan"}),n.jsx("p",{children:"We deliver through goods vehicles on most days. Delivery rates are provided separately in the ‘Delivery Charges’ section."}),n.jsx("p",{children:"In exceptional situations, we may use train, courier, or traveler bus facilities. In such cases, delivery costs may vary from the general rates. We will coordinate with you to decide the best option based on actual shipping rates and feasibility."}),n.jsx("h3",{children:"For Rest of India"}),n.jsx("p",{children:"We use courier, traveler bus, and train facilities to deliver to the Rest of India."}),n.jsx("p",{children:"Dry grocery items are delivered throughout India."}),n.jsx("p",{children:"Some fruits can also be delivered, e.g., Mangoes, Grapes, Pomegranate, Apples, Mosambi (Sweet lime), etc."}),n.jsxs("p",{children:["Drop us an email at ",n.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or SMS/WhatsApp us on ",n.jsx("a",{href:"tel:9920999100",children:"9920999100"}),", and we will guide you if delivery of items is possible. We can then decide on the best route and delivery fee together."]}),n.jsx("h2",{children:"Timeline"}),n.jsx("h3",{children:"For Grocery (dry items)"}),n.jsx("p",{children:"Once a product is shipped, it will typically be delivered on the same day for local areas."}),n.jsx("p",{children:"The tentative delivery date is updated on our website. In case of any changes, we shall reach out to you via WhatsApp, call, or email."}),n.jsx("p",{children:"For far-off locations, delivery time will depend on the mode of transport. We will share a tracking link or timeline on WhatsApp/Email for your reference."}),n.jsx("h3",{children:"For Fresh Fruits & Vegetables"}),n.jsx("p",{children:"The availability of fruits and vegetables depends on the climate and their respective harvesting times."}),n.jsx("p",{children:"The tentative delivery date is updated on our website. In case of any changes, we shall reach out to you via WhatsApp, call, or email."}),n.jsx("h2",{children:"Free Shipping"}),n.jsx("p",{children:"Free shipping applies to orders that are above a certain cart value for a specific delivery location. The following limits apply:"}),n.jsxs("ul",{children:[n.jsxs("li",{children:[n.jsx("strong",{children:"For KDMC (Kalyan-Dombivli Municipal Corporation):"})," Order value of INR 299 and above is eligible for free shipping."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," Order value of INR 799 and above is eligible for free shipping."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"For Rest of India:"})," At present, there is no free delivery limit. We promise to provide you with the best items at the most effective rates. Email us at ",n.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",n.jsx("a",{href:"tel:9920999100",children:"9920999100"})," to inquire about shipping rates."]})]}),n.jsx("h2",{children:"Delivery Charges"}),n.jsx("p",{children:"Delivery charges apply for order values below the free shipping limits as follows:"}),n.jsxs("ul",{children:[n.jsxs("li",{children:[n.jsx("strong",{children:"For KDMC:"})," Rs 25/- for order value below INR 299."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," Rs 80/- for order value below INR 799."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"For Rest of India:"})," Email us at ",n.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",n.jsx("a",{href:"tel:9920999100",children:"9920999100"})," to know the shipping rates. We will update you about the diverse options with rates, considering the safety of the parcel. Delivery charges will be at actuals and will depend on the mode of transport you agree to."]})]}),n.jsx("h2",{children:"Minimum Cart Value to Place Order"}),n.jsx("p",{children:"A minimum cart value is required to accept an order:"}),n.jsxs("ul",{children:[n.jsxs("li",{children:[n.jsx("strong",{children:"For KDMC:"})," A minimum cart value of INR 99/- is required."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"For Mumbai, Mumbai Suburbs, Thane, Navi Mumbai:"})," A minimum cart value of INR 399/- is required."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"For Rest of India:"})," There is no minimum cart value, but we recommend you buy a decent value to make it cost-effective. Email us at ",n.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or call ",n.jsx("a",{href:"tel:9920999100",children:"9920999100"})," for shipping rates."]})]}),n.jsx("h2",{children:"Summary of Shipping / Delivery Charges"}),n.jsx("div",{className:"overflow-x-auto my-6",children:n.jsxs("table",{className:"min-w-full text-left border-collapse border border-gray-300 dark:border-gray-600",children:[n.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Location / Type"}),n.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Free Delivery Limit (FDL)"}),n.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Delivery Fee (Below FDL)"}),n.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 font-semibold",children:"Minimum Cart Value (MCV)"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"KDMC"}),n.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 299"}),n.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 25"}),n.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 99"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"Mumbai, Mumbai Suburbs, Thane, Navi Mumbai"}),n.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 799"}),n.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 80"}),n.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"INR 399"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:"Rest of India"}),n.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 p-2",colSpan:3,children:["Contact ",n.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," or ",n.jsx("a",{href:"tel:9920999100",children:"9920999100"})]})]})]})]})}),n.jsx("h2",{className:"mt-6",children:"Notes"}),n.jsxs("ul",{children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Courier mode of delivery:"})," Our courier partners will deliver goods between Monday to Saturday, 9 am to 7 pm. Working days exclude public holidays, festival holidays, and Sundays. Courier cost depends on weight, and we will let you know the options to choose from."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Traveler bus or train mode of delivery:"})," These facilities are far cheaper than courier. However, the delivery is only up to a certain stop, and you will have to pick up the parcel from a train/road location."]}),n.jsx("li",{children:"Delivery time is subject to factors beyond our control, including unexpected travel delays from our courier partners and transporters due to climate conditions or any urgency."}),n.jsx("li",{children:"We shall send you an update as soon as we dispatch your package."})]}),n.jsx("h2",{className:"mt-6",children:"Need Help?"}),n.jsxs("p",{children:[n.jsx("a",{href:"mailto:contact@sarkhotnaturalfarms.com",children:"contact@sarkhotnaturalfarms.com"})," – is our email for general enquiries or for any assistance."]}),n.jsxs("p",{children:[n.jsx("a",{href:"mailto:Support@sarkhotnaturalfarms.com",children:"Support@sarkhotnaturalfarms.com"})," – is our email for any queries, complaints, or grievances."]}),n.jsxs("p",{children:[n.jsx("strong",{children:n.jsx("a",{href:"tel:9920999100",children:"9920999100"})})," is our contact number for both WhatsApp and calls. However, it may not always be feasible to answer your call immediately, so we request you to drop us an SMS or WhatsApp message so that we can get back to you at the earliest."]}),n.jsx("p",{className:"mt-8 text-sm italic",children:"Sarkhot Natural Farms denotes the community of natural farmers. Natural means 💯% chemical-free, preservative-free, and poison-free."})]})})}),rwe=()=>n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-lg p-6 md:p-8 lg:p-10 prose dark:prose-invert max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold mb-6 text-green-700 dark:text-green-500",children:"Terms and Conditions"}),n.jsx("p",{children:"This document is an electronic record in terms of the Information Technology Act, 2000, and the rules thereunder as applicable, including the amended provisions pertaining to electronic records in various statutes as amended by the Information Technology Act, 2000. This electronic record is generated by a computer system and does not require any physical or digital signatures."}),n.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:[n.jsx("p",{children:"This document is published in accordance with the provisions of Rule 3 (1) of the Information Technology (Intermediaries Guidelines) Rules, 2011, that require publishing the rules and regulations, privacy policy, and Terms of Use for access or usage of the domain name sarkhotnaturalfarms.com, including the related mobile site and mobile application (hereinafter referred to as the “Platform”)."}),n.jsx("p",{children:"The Platform is owned by Sarkhot Natural Farms, a registered entity with its office at (Address of Sarkhot Natural Farms) (hereinafter referred to as “Platform Owner”, “we”, “us”, or “our”)."}),n.jsx("p",{children:"Your use of the Platform, services, and tools is governed by the following terms and conditions (“Terms of Use”) as applicable to the Platform, including the applicable policies which are incorporated herein by reference. If you transact on the Platform, you shall be subject to the policies that are applicable to the Platform for such transactions. By merely using the Platform, you shall be contracting with the Platform Owner, and these terms and conditions, including the policies, shall constitute your binding obligations with the Platform Owner."}),n.jsx("p",{children:"These Terms of Use relate to your use of our website, goods (as applicable), or services (as applicable) (collectively, “Services”). Any terms and conditions proposed by you that are in addition to or conflict with these Terms of Use are expressly rejected by the Platform Owner and shall be of no force or effect."}),n.jsx("p",{children:"These Terms of Use can be modified at any time without assigning any reason. It is your responsibility to periodically review these Terms of Use to stay informed of updates. For the purpose of these Terms of Use, wherever the context so requires, “you”, “your”, or “user” shall mean any natural or legal person who has agreed to become a user/buyer on the Platform."}),n.jsx("p",{className:"font-semibold",children:"ACCESSING, BROWSING, OR OTHERWISE USING THE PLATFORM INDICATES YOUR AGREEMENT TO ALL THE TERMS AND CONDITIONS UNDER THESE TERMS OF USE, SO PLEASE READ THE TERMS OF USE CAREFULLY BEFORE PROCEEDING."}),n.jsx("p",{children:"The use of the Platform and/or availing of our Services is subject to the following Terms of Use:"})]}),n.jsx("p",{children:"This document is published in accordance with the provisions of Rule 3 (1) of the Information Technology (Intermediaries Guidelines) Rules, 2011, that require publishing the rules and regulations, privacy policy, and Terms of Use for access or usage of the domain name sarkhotnaturalfarms.com, including the related mobile site and mobile application (hereinafter referred to as the “Platform”)."}),n.jsx("p",{children:"The Platform is owned by Sarkhot Natural Farms, a registered entity with its office at (Address of Sarkhot Natural Farms) (hereinafter referred to as “Platform Owner”, “we”, “us”, or “our”)."}),n.jsx("p",{children:"Your use of the Platform, services, and tools is governed by the following terms and conditions (“Terms of Use”) as applicable to the Platform, including the applicable policies which are incorporated herein by reference. If you transact on the Platform, you shall be subject to the policies that are applicable to the Platform for such transactions. By merely using the Platform, you shall be contracting with the Platform Owner, and these terms and conditions, including the policies, shall constitute your binding obligations with the Platform Owner."}),n.jsx("p",{children:"These Terms of Use relate to your use of our website, goods (as applicable), or services (as applicable) (collectively, “Services”). Any terms and conditions proposed by you that are in addition to or conflict with these Terms of Use are expressly rejected by the Platform Owner and shall be of no force or effect."}),n.jsx("p",{children:"These Terms of Use can be modified at any time without assigning any reason. It is your responsibility to periodically review these Terms of Use to stay informed of updates. For the purpose of these Terms of Use, wherever the context so requires, “you”, “your”, or “user” shall mean any natural or legal person who has agreed to become a user/buyer on the Platform."}),n.jsx("p",{className:"font-semibold",children:"ACCESSING, BROWSING, OR OTHERWISE USING THE PLATFORM INDICATES YOUR AGREEMENT TO ALL THE TERMS AND CONDITIONS UNDER THESE TERMS OF USE, SO PLEASE READ THE TERMS OF USE CAREFULLY BEFORE PROCEEDING."}),n.jsx("p",{children:"The use of the Platform and/or availing of our Services is subject to the following Terms of Use:"}),n.jsx("h2",{children:"1. User Registration & Information"}),n.jsx("p",{children:"To access and use the Services, you agree to provide true, accurate, and complete information during registration and after. You shall be responsible for all acts done through the use of your registered account on the Platform."}),n.jsx("h2",{children:"2. No Warranties"}),n.jsx("p",{children:"Neither we nor any third parties provide any warranty or guarantee as to the accuracy, timeliness, performance, completeness, or suitability of the information and materials offered on this website or through the Services, for any specific purpose. You acknowledge that such information and materials may contain inaccuracies or errors, and we expressly exclude liability for any such inaccuracies or errors to the fullest extent permitted by law."}),n.jsx("h2",{children:"3. User Discretion"}),n.jsx("p",{children:"Your use of our Services and the Platform is solely at your own risk and discretion, for which we shall not be liable. You are required to independently assess and ensure that the Services meet your requirements."}),n.jsx("h2",{children:"4. Intellectual Property"}),n.jsx("p",{children:"The contents of the Platform and the Services are proprietary to us and are licensed to us. You will not have any authority to claim any intellectual property rights, title, or interest in its contents, including but not limited to design, layout, look, and graphics."}),n.jsx("h2",{children:"5. Unauthorized Use"}),n.jsx("p",{children:"You acknowledge that unauthorized use of the Platform and/or the Services may lead to action against you as per these Terms of Use and/or applicable laws."}),n.jsx("h2",{children:"6. Payment Obligations"}),n.jsx("p",{children:"You agree to pay us the charges associated with availing of the Services."}),n.jsx("h2",{children:"7. Prohibited Use"}),n.jsx("p",{children:"You agree not to use the Platform and/or Services for any purpose that is unlawful, illegal, or forbidden by these Terms, Indian law, or local laws that might apply to you."}),n.jsx("h2",{children:"8. Third-Party Links"}),n.jsx("p",{children:"The Platform and the Services may contain links to third-party websites. Upon accessing these links, you will be governed by the terms of use, privacy policy, and other policies of such third-party websites. These links are provided for your convenience only."}),n.jsx("h2",{children:"9. Legal Binding"}),n.jsx("p",{children:"Upon initiating a transaction for availing of the Services, you are entering into a legally binding and enforceable contract with the Platform Owner for the Services."}),n.jsx("h2",{children:"10. Indemnity"}),n.jsx("p",{children:"You agree to indemnify and hold harmless the Platform Owner, its affiliates, group companies (as applicable), and their respective officers, directors, agents, and employees, from any claims, demands, or actions, including reasonable attorney’s fees, made by any third party arising out of your breach of these Terms of Use, Privacy Policy, other policies, or your violation of any law, rules, or regulations or the rights (including infringement of intellectual property rights) of a third party."}),n.jsx("h2",{children:"11. Limitation of Liability"}),n.jsx("p",{children:"In no event will the Platform Owner be liable for any indirect, consequential, incidental, special, or punitive damages, including without limitation damages for loss of profits or revenues, business interruption, loss of business opportunities, loss of data, or other economic interests, whether in contract, negligence, tort, or otherwise, arising from the use of or inability to use the Services, however caused, and whether arising in contract, tort, negligence, warranty, or otherwise. Our liability shall not exceed the amount paid by you for using the Services, or Rupees One Hundred (Rs. 100), whichever is less."}),n.jsx("h2",{children:"12. Force Majeure"}),n.jsx("p",{children:"Notwithstanding anything contained in these Terms of Use, neither party shall be liable for any failure to perform an obligation under these Terms if performance is prevented or delayed by a force majeure event."}),n.jsx("h2",{children:"13. Governing Law & Jurisdiction"}),n.jsx("p",{children:"These Terms and any disputes or claims relating to them, or their enforceability, shall be governed by and construed in accordance with the laws of India. All disputes arising out of or in connection with these Terms shall be subject to the exclusive jurisdiction of the courts in India."}),n.jsx("h2",{children:"14. Contact Information"}),n.jsx("p",{children:"All concerns or communications relating to these Terms must be communicated to us using the contact information provided on this website."}),n.jsx("p",{children:"Sarkhot Natural farms denote the community of natural farmers. Natural means 💯% chemical free, preservative free and poison free."})]})})});var lV=typeof global=="object"&&global&&global.Object===Object&&global,swe=typeof self=="object"&&self&&self.Object===Object&&self,tc=lV||swe||Function("return this")(),Pu=tc.Symbol,cV=Object.prototype,nwe=cV.hasOwnProperty,awe=cV.toString,mx=Pu?Pu.toStringTag:void 0;function iwe(e){var t=nwe.call(e,mx),r=e[mx];try{e[mx]=void 0;var s=!0}catch{}var a=awe.call(e);return s&&(t?e[mx]=r:delete e[mx]),a}var owe=Object.prototype,lwe=owe.toString;function cwe(e){return lwe.call(e)}var dwe="[object Null]",uwe="[object Undefined]",WP=Pu?Pu.toStringTag:void 0;function ap(e){return e==null?e===void 0?uwe:dwe:WP&&WP in Object(e)?iwe(e):cwe(e)}function Xc(e){return e!=null&&typeof e=="object"}var th=Array.isArray;function zu(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function dV(e){return e}var fwe="[object AsyncFunction]",hwe="[object Function]",mwe="[object GeneratorFunction]",pwe="[object Proxy]";function k_(e){if(!zu(e))return!1;var t=ap(e);return t==hwe||t==mwe||t==fwe||t==pwe}var IS=tc["__core-js_shared__"],GP=function(){var e=/[^.]+$/.exec(IS&&IS.keys&&IS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xwe(e){return!!GP&&GP in e}var gwe=Function.prototype,ywe=gwe.toString;function yh(e){if(e!=null){try{return ywe.call(e)}catch{}try{return e+""}catch{}}return""}var vwe=/[\\^$.*+?()[\]{}|]/g,bwe=/^\[object .+?Constructor\]$/,wwe=Function.prototype,Nwe=Object.prototype,jwe=wwe.toString,Swe=Nwe.hasOwnProperty,Ewe=RegExp("^"+jwe.call(Swe).replace(vwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Awe(e){if(!zu(e)||xwe(e))return!1;var t=k_(e)?Ewe:bwe;return t.test(yh(e))}function Twe(e,t){return e==null?void 0:e[t]}function vh(e,t){var r=Twe(e,t);return Awe(r)?r:void 0}var $A=vh(tc,"WeakMap"),YP=Object.create,Cwe=function(){function e(){}return function(t){if(!zu(t))return{};if(YP)return YP(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function _we(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function kwe(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t}var Dwe=800,Owe=16,Rwe=Date.now;function Pwe(e){var t=0,r=0;return function(){var s=Rwe(),a=Owe-(s-r);if(r=s,a>0){if(++t>=Dwe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Mwe(e){return function(){return e}}var _b=function(){try{var e=vh(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Iwe=_b?function(e,t){return _b(e,"toString",{configurable:!0,enumerable:!1,value:Mwe(t),writable:!0})}:dV,Fwe=Pwe(Iwe);function Lwe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s&&t(e[r],r,e)!==!1;);return e}var Bwe=9007199254740991,$we=/^(?:0|[1-9]\d*)$/;function uV(e,t){var r=typeof e;return t=t??Bwe,!!t&&(r=="number"||r!="symbol"&&$we.test(e))&&e>-1&&e%1==0&&e<t}function D_(e,t,r){t=="__proto__"&&_b?_b(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Sy(e,t){return e===t||e!==e&&t!==t}var Uwe=Object.prototype,Vwe=Uwe.hasOwnProperty;function fV(e,t,r){var s=e[t];(!(Vwe.call(e,t)&&Sy(s,r))||r===void 0&&!(t in e))&&D_(e,t,r)}function qwe(e,t,r,s){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var l=t[i],u=void 0;u===void 0&&(u=e[l]),a?D_(r,l,u):fV(r,l,u)}return r}var KP=Math.max;function zwe(e,t,r){return t=KP(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=KP(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=r(o),_we(e,this,l)}}function Hwe(e,t){return Fwe(zwe(e,t,dV),e+"")}var Wwe=9007199254740991;function hV(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Wwe}function Xw(e){return e!=null&&hV(e.length)&&!k_(e)}function Gwe(e,t,r){if(!zu(r))return!1;var s=typeof t;return(s=="number"?Xw(r)&&uV(t,r.length):s=="string"&&t in r)?Sy(r[t],e):!1}function Ywe(e){return Hwe(function(t,r){var s=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&Gwe(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++s<a;){var l=r[s];l&&e(t,l,s,i)}return t})}var Kwe=Object.prototype;function O_(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Kwe;return e===r}function Xwe(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var Qwe="[object Arguments]";function XP(e){return Xc(e)&&ap(e)==Qwe}var mV=Object.prototype,Zwe=mV.hasOwnProperty,Jwe=mV.propertyIsEnumerable,UA=XP(function(){return arguments}())?XP:function(e){return Xc(e)&&Zwe.call(e,"callee")&&!Jwe.call(e,"callee")};function eNe(){return!1}var pV=typeof Fi=="object"&&Fi&&!Fi.nodeType&&Fi,QP=pV&&typeof Li=="object"&&Li&&!Li.nodeType&&Li,tNe=QP&&QP.exports===pV,ZP=tNe?tc.Buffer:void 0,rNe=ZP?ZP.isBuffer:void 0,Cg=rNe||eNe,sNe="[object Arguments]",nNe="[object Array]",aNe="[object Boolean]",iNe="[object Date]",oNe="[object Error]",lNe="[object Function]",cNe="[object Map]",dNe="[object Number]",uNe="[object Object]",fNe="[object RegExp]",hNe="[object Set]",mNe="[object String]",pNe="[object WeakMap]",xNe="[object ArrayBuffer]",gNe="[object DataView]",yNe="[object Float32Array]",vNe="[object Float64Array]",bNe="[object Int8Array]",wNe="[object Int16Array]",NNe="[object Int32Array]",jNe="[object Uint8Array]",SNe="[object Uint8ClampedArray]",ENe="[object Uint16Array]",ANe="[object Uint32Array]",As={};As[yNe]=As[vNe]=As[bNe]=As[wNe]=As[NNe]=As[jNe]=As[SNe]=As[ENe]=As[ANe]=!0;As[sNe]=As[nNe]=As[xNe]=As[aNe]=As[gNe]=As[iNe]=As[oNe]=As[lNe]=As[cNe]=As[dNe]=As[uNe]=As[fNe]=As[hNe]=As[mNe]=As[pNe]=!1;function TNe(e){return Xc(e)&&hV(e.length)&&!!As[ap(e)]}function R_(e){return function(t){return e(t)}}var xV=typeof Fi=="object"&&Fi&&!Fi.nodeType&&Fi,Ix=xV&&typeof Li=="object"&&Li&&!Li.nodeType&&Li,CNe=Ix&&Ix.exports===xV,FS=CNe&&lV.process,S0=function(){try{var e=Ix&&Ix.require&&Ix.require("util").types;return e||FS&&FS.binding&&FS.binding("util")}catch{}}(),JP=S0&&S0.isTypedArray,P_=JP?R_(JP):TNe,_Ne=Object.prototype,kNe=_Ne.hasOwnProperty;function gV(e,t){var r=th(e),s=!r&&UA(e),a=!r&&!s&&Cg(e),i=!r&&!s&&!a&&P_(e),o=r||s||a||i,l=o?Xwe(e.length,String):[],u=l.length;for(var f in e)(t||kNe.call(e,f))&&!(o&&(f=="length"||a&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||uV(f,u)))&&l.push(f);return l}function yV(e,t){return function(r){return e(t(r))}}var DNe=yV(Object.keys,Object),ONe=Object.prototype,RNe=ONe.hasOwnProperty;function PNe(e){if(!O_(e))return DNe(e);var t=[];for(var r in Object(e))RNe.call(e,r)&&r!="constructor"&&t.push(r);return t}function MNe(e){return Xw(e)?gV(e):PNe(e)}function INe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var FNe=Object.prototype,LNe=FNe.hasOwnProperty;function BNe(e){if(!zu(e))return INe(e);var t=O_(e),r=[];for(var s in e)s=="constructor"&&(t||!LNe.call(e,s))||r.push(s);return r}function vV(e){return Xw(e)?gV(e,!0):BNe(e)}var _g=vh(Object,"create");function $Ne(){this.__data__=_g?_g(null):{},this.size=0}function UNe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var VNe="__lodash_hash_undefined__",qNe=Object.prototype,zNe=qNe.hasOwnProperty;function HNe(e){var t=this.__data__;if(_g){var r=t[e];return r===VNe?void 0:r}return zNe.call(t,e)?t[e]:void 0}var WNe=Object.prototype,GNe=WNe.hasOwnProperty;function YNe(e){var t=this.__data__;return _g?t[e]!==void 0:GNe.call(t,e)}var KNe="__lodash_hash_undefined__";function XNe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_g&&t===void 0?KNe:t,this}function rh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}rh.prototype.clear=$Ne;rh.prototype.delete=UNe;rh.prototype.get=HNe;rh.prototype.has=YNe;rh.prototype.set=XNe;function QNe(){this.__data__=[],this.size=0}function Qw(e,t){for(var r=e.length;r--;)if(Sy(e[r][0],t))return r;return-1}var ZNe=Array.prototype,JNe=ZNe.splice;function eje(e){var t=this.__data__,r=Qw(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():JNe.call(t,r,1),--this.size,!0}function tje(e){var t=this.__data__,r=Qw(t,e);return r<0?void 0:t[r][1]}function rje(e){return Qw(this.__data__,e)>-1}function sje(e,t){var r=this.__data__,s=Qw(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}function od(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}od.prototype.clear=QNe;od.prototype.delete=eje;od.prototype.get=tje;od.prototype.has=rje;od.prototype.set=sje;var kg=vh(tc,"Map");function nje(){this.size=0,this.__data__={hash:new rh,map:new(kg||od),string:new rh}}function aje(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Zw(e,t){var r=e.__data__;return aje(t)?r[typeof t=="string"?"string":"hash"]:r.map}function ije(e){var t=Zw(this,e).delete(e);return this.size-=t?1:0,t}function oje(e){return Zw(this,e).get(e)}function lje(e){return Zw(this,e).has(e)}function cje(e,t){var r=Zw(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}function bh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}bh.prototype.clear=nje;bh.prototype.delete=ije;bh.prototype.get=oje;bh.prototype.has=lje;bh.prototype.set=cje;function dje(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var bV=yV(Object.getPrototypeOf,Object),uje="[object Object]",fje=Function.prototype,hje=Object.prototype,wV=fje.toString,mje=hje.hasOwnProperty,pje=wV.call(Object);function xje(e){if(!Xc(e)||ap(e)!=uje)return!1;var t=bV(e);if(t===null)return!0;var r=mje.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&wV.call(r)==pje}function gje(){this.__data__=new od,this.size=0}function yje(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function vje(e){return this.__data__.get(e)}function bje(e){return this.__data__.has(e)}var wje=200;function Nje(e,t){var r=this.__data__;if(r instanceof od){var s=r.__data__;if(!kg||s.length<wje-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new bh(s)}return r.set(e,t),this.size=r.size,this}function Hl(e){var t=this.__data__=new od(e);this.size=t.size}Hl.prototype.clear=gje;Hl.prototype.delete=yje;Hl.prototype.get=vje;Hl.prototype.has=bje;Hl.prototype.set=Nje;var NV=typeof Fi=="object"&&Fi&&!Fi.nodeType&&Fi,eM=NV&&typeof Li=="object"&&Li&&!Li.nodeType&&Li,jje=eM&&eM.exports===NV,tM=jje?tc.Buffer:void 0,rM=tM?tM.allocUnsafe:void 0;function jV(e,t){if(t)return e.slice();var r=e.length,s=rM?rM(r):new e.constructor(r);return e.copy(s),s}function Sje(e,t){for(var r=-1,s=e==null?0:e.length,a=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function Eje(){return[]}var Aje=Object.prototype,Tje=Aje.propertyIsEnumerable,sM=Object.getOwnPropertySymbols,Cje=sM?function(e){return e==null?[]:(e=Object(e),Sje(sM(e),function(t){return Tje.call(e,t)}))}:Eje;function _je(e,t,r){var s=t(e);return th(e)?s:dje(s,r(e))}function VA(e){return _je(e,MNe,Cje)}var qA=vh(tc,"DataView"),zA=vh(tc,"Promise"),HA=vh(tc,"Set"),nM="[object Map]",kje="[object Object]",aM="[object Promise]",iM="[object Set]",oM="[object WeakMap]",lM="[object DataView]",Dje=yh(qA),Oje=yh(kg),Rje=yh(zA),Pje=yh(HA),Mje=yh($A),Ho=ap;(qA&&Ho(new qA(new ArrayBuffer(1)))!=lM||kg&&Ho(new kg)!=nM||zA&&Ho(zA.resolve())!=aM||HA&&Ho(new HA)!=iM||$A&&Ho(new $A)!=oM)&&(Ho=function(e){var t=ap(e),r=t==kje?e.constructor:void 0,s=r?yh(r):"";if(s)switch(s){case Dje:return lM;case Oje:return nM;case Rje:return aM;case Pje:return iM;case Mje:return oM}return t});var Ije=Object.prototype,Fje=Ije.hasOwnProperty;function Lje(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Fje.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var kb=tc.Uint8Array;function M_(e){var t=new e.constructor(e.byteLength);return new kb(t).set(new kb(e)),t}function Bje(e,t){var r=M_(e.buffer);return new e.constructor(r,e.byteOffset,e.byteLength)}var $je=/\w*$/;function Uje(e){var t=new e.constructor(e.source,$je.exec(e));return t.lastIndex=e.lastIndex,t}var cM=Pu?Pu.prototype:void 0,dM=cM?cM.valueOf:void 0;function Vje(e){return dM?Object(dM.call(e)):{}}function SV(e,t){var r=t?M_(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var qje="[object Boolean]",zje="[object Date]",Hje="[object Map]",Wje="[object Number]",Gje="[object RegExp]",Yje="[object Set]",Kje="[object String]",Xje="[object Symbol]",Qje="[object ArrayBuffer]",Zje="[object DataView]",Jje="[object Float32Array]",e2e="[object Float64Array]",t2e="[object Int8Array]",r2e="[object Int16Array]",s2e="[object Int32Array]",n2e="[object Uint8Array]",a2e="[object Uint8ClampedArray]",i2e="[object Uint16Array]",o2e="[object Uint32Array]";function l2e(e,t,r){var s=e.constructor;switch(t){case Qje:return M_(e);case qje:case zje:return new s(+e);case Zje:return Bje(e);case Jje:case e2e:case t2e:case r2e:case s2e:case n2e:case a2e:case i2e:case o2e:return SV(e,r);case Hje:return new s;case Wje:case Kje:return new s(e);case Gje:return Uje(e);case Yje:return new s;case Xje:return Vje(e)}}function EV(e){return typeof e.constructor=="function"&&!O_(e)?Cwe(bV(e)):{}}var c2e="[object Map]";function d2e(e){return Xc(e)&&Ho(e)==c2e}var uM=S0&&S0.isMap,u2e=uM?R_(uM):d2e,f2e="[object Set]";function h2e(e){return Xc(e)&&Ho(e)==f2e}var fM=S0&&S0.isSet,m2e=fM?R_(fM):h2e,p2e=1,AV="[object Arguments]",x2e="[object Array]",g2e="[object Boolean]",y2e="[object Date]",v2e="[object Error]",TV="[object Function]",b2e="[object GeneratorFunction]",w2e="[object Map]",N2e="[object Number]",CV="[object Object]",j2e="[object RegExp]",S2e="[object Set]",E2e="[object String]",A2e="[object Symbol]",T2e="[object WeakMap]",C2e="[object ArrayBuffer]",_2e="[object DataView]",k2e="[object Float32Array]",D2e="[object Float64Array]",O2e="[object Int8Array]",R2e="[object Int16Array]",P2e="[object Int32Array]",M2e="[object Uint8Array]",I2e="[object Uint8ClampedArray]",F2e="[object Uint16Array]",L2e="[object Uint32Array]",Ss={};Ss[AV]=Ss[x2e]=Ss[C2e]=Ss[_2e]=Ss[g2e]=Ss[y2e]=Ss[k2e]=Ss[D2e]=Ss[O2e]=Ss[R2e]=Ss[P2e]=Ss[w2e]=Ss[N2e]=Ss[CV]=Ss[j2e]=Ss[S2e]=Ss[E2e]=Ss[A2e]=Ss[M2e]=Ss[I2e]=Ss[F2e]=Ss[L2e]=!0;Ss[v2e]=Ss[TV]=Ss[T2e]=!1;function $1(e,t,r,s,a,i){var o,l=t&p2e;if(o!==void 0)return o;if(!zu(e))return e;var u=th(e);if(u)o=Lje(e);else{var f=Ho(e),h=f==TV||f==b2e;if(Cg(e))return jV(e,l);if(f==CV||f==AV||h&&!a)o=h?{}:EV(e);else{if(!Ss[f])return a?e:{};o=l2e(e,f,l)}}i||(i=new Hl);var x=i.get(e);if(x)return x;i.set(e,o),m2e(e)?e.forEach(function(N){o.add($1(N,t,r,N,e,i))}):u2e(e)&&e.forEach(function(N,b){o.set(b,$1(N,t,r,b,e,i))});var p=VA,y=u?void 0:p(e);return Lwe(y||e,function(N,b){y&&(b=N,N=e[b]),fV(o,b,$1(N,t,r,b,e,i))}),o}var B2e=1,$2e=4;function Ym(e){return $1(e,B2e|$2e)}var U2e="__lodash_hash_undefined__";function V2e(e){return this.__data__.set(e,U2e),this}function q2e(e){return this.__data__.has(e)}function Db(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new bh;++t<r;)this.add(e[t])}Db.prototype.add=Db.prototype.push=V2e;Db.prototype.has=q2e;function z2e(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}function H2e(e,t){return e.has(t)}var W2e=1,G2e=2;function _V(e,t,r,s,a,i){var o=r&W2e,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var f=i.get(e),h=i.get(t);if(f&&h)return f==t&&h==e;var x=-1,p=!0,y=r&G2e?new Db:void 0;for(i.set(e,t),i.set(t,e);++x<l;){var N=e[x],b=t[x];if(s)var w=o?s(b,N,x,t,e,i):s(N,b,x,e,t,i);if(w!==void 0){if(w)continue;p=!1;break}if(y){if(!z2e(t,function(j,S){if(!H2e(y,S)&&(N===j||a(N,j,r,s,i)))return y.push(S)})){p=!1;break}}else if(!(N===b||a(N,b,r,s,i))){p=!1;break}}return i.delete(e),i.delete(t),p}function Y2e(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}function K2e(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var X2e=1,Q2e=2,Z2e="[object Boolean]",J2e="[object Date]",eSe="[object Error]",tSe="[object Map]",rSe="[object Number]",sSe="[object RegExp]",nSe="[object Set]",aSe="[object String]",iSe="[object Symbol]",oSe="[object ArrayBuffer]",lSe="[object DataView]",hM=Pu?Pu.prototype:void 0,LS=hM?hM.valueOf:void 0;function cSe(e,t,r,s,a,i,o){switch(r){case lSe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oSe:return!(e.byteLength!=t.byteLength||!i(new kb(e),new kb(t)));case Z2e:case J2e:case rSe:return Sy(+e,+t);case eSe:return e.name==t.name&&e.message==t.message;case sSe:case aSe:return e==t+"";case tSe:var l=Y2e;case nSe:var u=s&X2e;if(l||(l=K2e),e.size!=t.size&&!u)return!1;var f=o.get(e);if(f)return f==t;s|=Q2e,o.set(e,t);var h=_V(l(e),l(t),s,a,i,o);return o.delete(e),h;case iSe:if(LS)return LS.call(e)==LS.call(t)}return!1}var dSe=1,uSe=Object.prototype,fSe=uSe.hasOwnProperty;function hSe(e,t,r,s,a,i){var o=r&dSe,l=VA(e),u=l.length,f=VA(t),h=f.length;if(u!=h&&!o)return!1;for(var x=u;x--;){var p=l[x];if(!(o?p in t:fSe.call(t,p)))return!1}var y=i.get(e),N=i.get(t);if(y&&N)return y==t&&N==e;var b=!0;i.set(e,t),i.set(t,e);for(var w=o;++x<u;){p=l[x];var j=e[p],S=t[p];if(s)var A=o?s(S,j,p,t,e,i):s(j,S,p,e,t,i);if(!(A===void 0?j===S||a(j,S,r,s,i):A)){b=!1;break}w||(w=p=="constructor")}if(b&&!w){var C=e.constructor,T=t.constructor;C!=T&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof T=="function"&&T instanceof T)&&(b=!1)}return i.delete(e),i.delete(t),b}var mSe=1,mM="[object Arguments]",pM="[object Array]",n1="[object Object]",pSe=Object.prototype,xM=pSe.hasOwnProperty;function xSe(e,t,r,s,a,i){var o=th(e),l=th(t),u=o?pM:Ho(e),f=l?pM:Ho(t);u=u==mM?n1:u,f=f==mM?n1:f;var h=u==n1,x=f==n1,p=u==f;if(p&&Cg(e)){if(!Cg(t))return!1;o=!0,h=!1}if(p&&!h)return i||(i=new Hl),o||P_(e)?_V(e,t,r,s,a,i):cSe(e,t,u,r,s,a,i);if(!(r&mSe)){var y=h&&xM.call(e,"__wrapped__"),N=x&&xM.call(t,"__wrapped__");if(y||N){var b=y?e.value():e,w=N?t.value():t;return i||(i=new Hl),a(b,w,r,s,i)}}return p?(i||(i=new Hl),hSe(e,t,r,s,a,i)):!1}function kV(e,t,r,s,a){return e===t?!0:e==null||t==null||!Xc(e)&&!Xc(t)?e!==e&&t!==t:xSe(e,t,r,s,kV,a)}function gSe(e){return function(t,r,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var u=o[++a];if(r(i[u],u,i)===!1)break}return t}}var ySe=gSe();function WA(e,t,r){(r!==void 0&&!Sy(e[t],r)||r===void 0&&!(t in e))&&D_(e,t,r)}function vSe(e){return Xc(e)&&Xw(e)}function GA(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function bSe(e){return qwe(e,vV(e))}function wSe(e,t,r,s,a,i,o){var l=GA(e,r),u=GA(t,r),f=o.get(u);if(f){WA(e,r,f);return}var h=i?i(l,u,r+"",e,t,o):void 0,x=h===void 0;if(x){var p=th(u),y=!p&&Cg(u),N=!p&&!y&&P_(u);h=u,p||y||N?th(l)?h=l:vSe(l)?h=kwe(l):y?(x=!1,h=jV(u,!0)):N?(x=!1,h=SV(u,!0)):h=[]:xje(u)||UA(u)?(h=l,UA(l)?h=bSe(l):(!zu(l)||k_(l))&&(h=EV(u))):x=!1}x&&(o.set(u,h),a(h,u,s,i,o),o.delete(u)),WA(e,r,h)}function DV(e,t,r,s,a){e!==t&&ySe(t,function(i,o){if(a||(a=new Hl),zu(i))wSe(e,t,o,r,DV,s,a);else{var l=s?s(GA(e,o),i,o+"",e,t,a):void 0;l===void 0&&(l=i),WA(e,o,l)}},vV)}function tu(e,t){return kV(e,t)}var bu=Ywe(function(e,t,r){DV(e,t,r)}),Wt=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Wt||{});class Ql{constructor(t,r,s={}){this.attrName=t,this.keyName=r;const a=Wt.TYPE&Wt.ATTRIBUTE;this.scope=s.scope!=null?s.scope&Wt.LEVEL|a:Wt.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(t){return Array.from(t.attributes).map(r=>r.name)}add(t,r){return this.canAdd(t,r)?(t.setAttribute(this.keyName,r),!0):!1}canAdd(t,r){return this.whitelist==null?!0:typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const r=t.getAttribute(this.keyName);return this.canAdd(t,r)&&r?r:""}}class Km extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const OV=class YA{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,r=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(r){let s=null;try{s=t.parentNode}catch{return null}return this.find(s,r)}return null}create(t,r,s){const a=this.query(r);if(a==null)throw new Km(`Unable to create ${r} blot`);const i=a,o=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:i.create(s),l=new i(t,o,s);return YA.blots.set(l.domNode,l),l}find(t,r=!1){return YA.find(t,r)}query(t,r=Wt.ANY){let s;return typeof t=="string"?s=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?s=this.types.text:typeof t=="number"?t&Wt.LEVEL&Wt.BLOCK?s=this.types.block:t&Wt.LEVEL&Wt.INLINE&&(s=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(a=>(s=this.classes[a],!!s)),s=s||this.tags[t.tagName]),s==null?null:"scope"in s&&r&Wt.LEVEL&s.scope&&r&Wt.TYPE&s.scope?s:null}register(...t){return t.map(r=>{const s="blotName"in r,a="attrName"in r;if(!s&&!a)throw new Km("Invalid definition");if(s&&r.blotName==="abstract")throw new Km("Cannot register abstract class");const i=s?r.blotName:a?r.attrName:void 0;return this.types[i]=r,a?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):s&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(o=>o.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(o=>{(this.tags[o]==null||r.className==null)&&(this.tags[o]=r)}))),r})}};OV.blots=new WeakMap;let E0=OV;function gM(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${t}-`)===0)}class NSe extends Ql{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(r=>r.split("-").slice(0,-1).join("-"))}add(t,r){return this.canAdd(t,r)?(this.remove(t),t.classList.add(`${this.keyName}-${r}`),!0):!1}remove(t){gM(t,this.keyName).forEach(r=>{t.classList.remove(r)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const r=(gM(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,r)?r:""}}const pl=NSe;function BS(e){const t=e.split("-"),r=t.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return t[0]+r}class jSe extends Ql{static keys(t){return(t.getAttribute("style")||"").split(";").map(r=>r.split(":")[0].trim())}add(t,r){return this.canAdd(t,r)?(t.style[BS(this.keyName)]=r,!0):!1}remove(t){t.style[BS(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const r=t.style[BS(this.keyName)];return this.canAdd(t,r)?r:""}}const Hu=jSe;class SSe{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,r){r?t.add(this.domNode,r)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=E0.find(this.domNode);if(t==null)return;const r=Ql.keys(this.domNode),s=pl.keys(this.domNode),a=Hu.keys(this.domNode);r.concat(s).concat(a).forEach(i=>{const o=t.scroll.query(i,Wt.ATTRIBUTE);o instanceof Ql&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(r=>{const s=this.attributes[r].value(this.domNode);t.format(r,s)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(r=>{this.attributes[r].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,r)=>(t[r]=this.attributes[r].value(this.domNode),t),{})}}const Jw=SSe,RV=class{constructor(t,r){this.scroll=t,this.domNode=r,E0.blots.set(r,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Km("Blot definition missing tagName");let r,s;return Array.isArray(this.tagName)?(typeof t=="string"?(s=t.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof t=="number"&&(s=t),typeof s=="number"?r=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?r=document.createElement(s):r=document.createElement(this.tagName[0])):r=document.createElement(this.tagName),this.className&&r.classList.add(this.className),r}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),E0.blots.delete(this.domNode)}deleteAt(t,r){this.isolate(t,r).remove()}formatAt(t,r,s,a){const i=this.isolate(t,r);if(this.scroll.query(s,Wt.BLOT)!=null&&a)i.wrap(s,a);else if(this.scroll.query(s,Wt.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(s,a)}}insertAt(t,r,s){const a=s==null?this.scroll.create("text",r):this.scroll.create(r,s),i=this.split(t);this.parent.insertBefore(a,i||void 0)}isolate(t,r){const s=this.split(t);if(s==null)throw new Error("Attempt to isolate at end");return s.split(r),s}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,r){const s=typeof t=="string"?this.scroll.create(t,r):t;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(t,r){return t===0?this:this.next}update(t,r){}wrap(t,r){const s=typeof t=="string"?this.scroll.create(t,r):t;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new Km(`Cannot wrap ${t}`);return s.appendChild(this),s}};RV.blotName="abstract";let PV=RV;const MV=class extends PV{static value(t){return!0}index(t,r){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1}position(t,r){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};MV.scope=Wt.INLINE_BLOT;let ESe=MV;const Ea=ESe;class ASe{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const r=t.slice(1);this.append(...r)}}at(t){const r=this.iterator();let s=r();for(;s&&t>0;)t-=1,s=r();return s}contains(t){const r=this.iterator();let s=r();for(;s;){if(s===t)return!0;s=r()}return!1}indexOf(t){const r=this.iterator();let s=r(),a=0;for(;s;){if(s===t)return a;a+=1,s=r()}return-1}insertBefore(t,r){t!=null&&(this.remove(t),t.next=r,r!=null?(t.prev=r.prev,r.prev!=null&&(r.prev.next=t),r.prev=t,r===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let r=0,s=this.head;for(;s!=null;){if(s===t)return r;r+=s.length(),s=s.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const r=t;return t!=null&&(t=t.next),r}}find(t,r=!1){const s=this.iterator();let a=s();for(;a;){const i=a.length();if(t<i||r&&t===i&&(a.next==null||a.next.length()!==0))return[a,t];t-=i,a=s()}return[null,0]}forEach(t){const r=this.iterator();let s=r();for(;s;)t(s),s=r()}forEachAt(t,r,s){if(r<=0)return;const[a,i]=this.find(t);let o=t-i;const l=this.iterator(a);let u=l();for(;u&&o<t+r;){const f=u.length();t>o?s(u,t-o,Math.min(r,o+f-t)):s(u,0,Math.min(f,t+r-o)),o+=f,u=l()}}map(t){return this.reduce((r,s)=>(r.push(t(s)),r),[])}reduce(t,r){const s=this.iterator();let a=s();for(;a;)r=t(r,a),a=s();return r}}function yM(e,t){const r=t.find(e);if(r)return r;try{return t.create(e)}catch{const s=t.create(Wt.INLINE);return Array.from(e.childNodes).forEach(a=>{s.domNode.appendChild(a)}),e.parentNode&&e.parentNode.replaceChild(s.domNode,e),s.attach(),s}}const IV=class Jd extends PV{constructor(t,r){super(t,r),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Jd.uiClass&&this.uiNode.classList.add(Jd.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new ASe,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const r=yM(t,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof Km)return;throw r}})}deleteAt(t,r){if(t===0&&r===this.length())return this.remove();this.children.forEachAt(t,r,(s,a,i)=>{s.deleteAt(a,i)})}descendant(t,r=0){const[s,a]=this.children.find(r);return t.blotName==null&&t(s)||t.blotName!=null&&s instanceof t?[s,a]:s instanceof Jd?s.descendant(t,a):[null,-1]}descendants(t,r=0,s=Number.MAX_VALUE){let a=[],i=s;return this.children.forEachAt(r,s,(o,l,u)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&a.push(o),o instanceof Jd&&(a=a.concat(o.descendants(t,l,i))),i-=u}),a}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(r=>{t||this.statics.allowedChildren.some(s=>r instanceof s)||(r.statics.scope===Wt.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),t=!0):r instanceof Jd?r.unwrap():r.remove())})}formatAt(t,r,s,a){this.children.forEachAt(t,r,(i,o,l)=>{i.formatAt(o,l,s,a)})}insertAt(t,r,s){const[a,i]=this.children.find(t);if(a)a.insertAt(i,r,s);else{const o=s==null?this.scroll.create("text",r):this.scroll.create(r,s);this.appendChild(o)}}insertBefore(t,r){t.parent!=null&&t.parent.children.remove(t);let s=null;this.children.insertBefore(t,r||null),t.parent=this,r!=null&&(s=r.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(t.domNode,s),t.attach()}length(){return this.children.reduce((t,r)=>t+r.length(),0)}moveChildren(t,r){this.children.forEach(s=>{t.insertBefore(s,r)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(t,r=!1){const[s,a]=this.children.find(t,r),i=[[this,t]];return s instanceof Jd?i.concat(s.path(a,r)):(s!=null&&i.push([s,a]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,r){const s=typeof t=="string"?this.scroll.create(t,r):t;return s instanceof Jd&&this.moveChildren(s),super.replaceWith(s)}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(t,this.length(),(a,i,o)=>{const l=a.split(i,r);l!=null&&s.appendChild(l)}),s}splitAfter(t){const r=this.clone();for(;t.next!=null;)r.appendChild(t.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,r){const s=[],a=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(s.push(...i.addedNodes),a.push(...i.removedNodes))}),a.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),s.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const l=yM(i,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};IV.uiClass="";let TSe=IV;const el=TSe;function CSe(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}const wm=class Nm extends el{static create(t){return super.create(t)}static formats(t,r){const s=r.query(Nm.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new Jw(this.domNode)}format(t,r){if(t===this.statics.blotName&&!r)this.children.forEach(s=>{s instanceof Nm||(s=s.wrap(Nm.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(t,Wt.INLINE);if(s==null)return;s instanceof Ql?this.attributes.attribute(s,r):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r)}}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,s,a){this.formats()[s]!=null||this.scroll.query(s,Wt.ATTRIBUTE)?this.isolate(t,r).format(s,a):super.formatAt(t,r,s,a)}optimize(t){super.optimize(t);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const s=this.next;s instanceof Nm&&s.prev===this&&CSe(r,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(t,r){const s=super.replaceWith(t,r);return this.attributes.copy(s),s}update(t,r){super.update(t,r),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(t,r){const s=super.wrap(t,r);return s instanceof Nm&&this.attributes.move(s),s}};wm.allowedChildren=[wm,Ea],wm.blotName="inline",wm.scope=Wt.INLINE_BLOT,wm.tagName="SPAN";let _Se=wm;const I_=_Se,jm=class KA extends el{static create(t){return super.create(t)}static formats(t,r){const s=r.query(KA.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,r){super(t,r),this.attributes=new Jw(this.domNode)}format(t,r){const s=this.scroll.query(t,Wt.BLOCK);s!=null&&(s instanceof Ql?this.attributes.attribute(s,r):t===this.statics.blotName&&!r?this.replaceWith(KA.blotName):r&&(t!==this.statics.blotName||this.formats()[t]!==r)&&this.replaceWith(t,r))}formats(){const t=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(t[this.statics.blotName]=r),t}formatAt(t,r,s,a){this.scroll.query(s,Wt.BLOCK)!=null?this.format(s,a):super.formatAt(t,r,s,a)}insertAt(t,r,s){if(s==null||this.scroll.query(r,Wt.INLINE)!=null)super.insertAt(t,r,s);else{const a=this.split(t);if(a!=null){const i=this.scroll.create(r,s);a.parent.insertBefore(i,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,r){const s=super.replaceWith(t,r);return this.attributes.copy(s),s}update(t,r){super.update(t,r),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};jm.blotName="block",jm.scope=Wt.BLOCK_BLOT,jm.tagName="P",jm.allowedChildren=[I_,jm,Ea];let kSe=jm;const Dg=kSe,XA=class extends el{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,r){super.deleteAt(t,r),this.enforceAllowedChildren()}formatAt(t,r,s,a){super.formatAt(t,r,s,a),this.enforceAllowedChildren()}insertAt(t,r,s){super.insertAt(t,r,s),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};XA.blotName="container",XA.scope=Wt.BLOCK_BLOT;let DSe=XA;const eN=DSe;class OSe extends Ea{static formats(t,r){}format(t,r){super.formatAt(0,this.length(),t,r)}formatAt(t,r,s,a){t===0&&r===this.length()?this.format(s,a):super.formatAt(t,r,s,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Hi=OSe,RSe={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},PSe=100,Sm=class extends el{constructor(t,r){super(null,r),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,RSe),this.attach()}create(t,r){return this.registry.create(this,t,r)}find(t,r=!1){const s=this.registry.find(t,r);return s?s.scroll===this?s:r?this.find(s.scroll.domNode.parentNode,!0):null:null}query(t,r=Wt.ANY){return this.registry.query(t,r)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,r){this.update(),t===0&&r===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(t,r)}formatAt(t,r,s,a){this.update(),super.formatAt(t,r,s,a)}insertAt(t,r,s){this.update(),super.insertAt(t,r,s)}optimize(t=[],r={}){super.optimize(r);const s=r.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)t.push(a.pop());const i=(u,f=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(s.has(u.domNode)||s.set(u.domNode,[]),f&&i(u.parent))},o=u=>{s.has(u.domNode)&&(u instanceof el&&u.children.forEach(o),s.delete(u.domNode),u.optimize(r))};let l=t;for(let u=0;l.length>0;u+=1){if(u>=PSe)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(f=>{const h=this.find(f.target,!0);h!=null&&(h.domNode===f.target&&(f.type==="childList"?(i(this.find(f.previousSibling,!1)),Array.from(f.addedNodes).forEach(x=>{const p=this.find(x,!1);i(p,!1),p instanceof el&&p.children.forEach(y=>{i(y,!1)})})):f.type==="attributes"&&i(h.prev)),i(h))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),a=l.slice();a.length>0;)t.push(a.pop())}}update(t,r={}){t=t||this.observer.takeRecords();const s=new WeakMap;t.map(a=>{const i=this.find(a.target,!0);return i==null?null:s.has(i.domNode)?(s.get(i.domNode).push(a),null):(s.set(i.domNode,[a]),i)}).forEach(a=>{a!=null&&a!==this&&s.has(a.domNode)&&a.update(s.get(a.domNode)||[],r)}),r.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),r),this.optimize(t,r)}};Sm.blotName="scroll",Sm.defaultChild=Dg,Sm.allowedChildren=[Dg,eN],Sm.scope=Wt.BLOCK_BLOT,Sm.tagName="DIV";let MSe=Sm;const F_=MSe,QA=class FV extends Ea{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,r){super(t,r),this.text=this.statics.value(this.domNode)}deleteAt(t,r){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+r)}index(t,r){return this.domNode===t?r:-1}insertAt(t,r,s){s==null?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,r,s)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof FV&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,r=!1){return[this.domNode,t]}split(t,r=!1){if(!r){if(t===0)return this;if(t===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(t,r){t.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};QA.blotName="text",QA.scope=Wt.INLINE_BLOT;let ISe=QA;const Ob=ISe,FSe=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Ql,AttributorStore:Jw,BlockBlot:Dg,ClassAttributor:pl,ContainerBlot:eN,EmbedBlot:Hi,InlineBlot:I_,LeafBlot:Ea,ParentBlot:el,Registry:E0,Scope:Wt,ScrollBlot:F_,StyleAttributor:Hu,TextBlot:Ob},Symbol.toStringTag,{value:"Module"}));var a1={exports:{}},$S,vM;function LSe(){if(vM)return $S;vM=1;var e=-1,t=1,r=0;function s(I,G,z,ae,J){if(I===G)return I?[[r,I]]:[];if(z!=null){var L=P(I,G,z);if(L)return L}var U=l(I,G),F=I.substring(0,U);I=I.substring(U),G=G.substring(U),U=f(I,G);var X=I.substring(I.length-U);I=I.substring(0,I.length-U),G=G.substring(0,G.length-U);var q=a(I,G);return F&&q.unshift([r,F]),X&&q.push([r,X]),S(q,J),ae&&x(q),q}function a(I,G){var z;if(!I)return[[t,G]];if(!G)return[[e,I]];var ae=I.length>G.length?I:G,J=I.length>G.length?G:I,L=ae.indexOf(J);if(L!==-1)return z=[[t,ae.substring(0,L)],[r,J],[t,ae.substring(L+J.length)]],I.length>G.length&&(z[0][0]=z[2][0]=e),z;if(J.length===1)return[[e,I],[t,G]];var U=h(I,G);if(U){var F=U[0],X=U[1],q=U[2],te=U[3],M=U[4],W=s(F,q),K=s(X,te);return W.concat([[r,M]],K)}return i(I,G)}function i(I,G){for(var z=I.length,ae=G.length,J=Math.ceil((z+ae)/2),L=J,U=2*J,F=new Array(U),X=new Array(U),q=0;q<U;q++)F[q]=-1,X[q]=-1;F[L+1]=0,X[L+1]=0;for(var te=z-ae,M=te%2!==0,W=0,K=0,V=0,Q=0,ie=0;ie<J;ie++){for(var xe=-ie+W;xe<=ie-K;xe+=2){var ue=L+xe,de;xe===-ie||xe!==ie&&F[ue-1]<F[ue+1]?de=F[ue+1]:de=F[ue-1]+1;for(var De=de-xe;de<z&&De<ae&&I.charAt(de)===G.charAt(De);)de++,De++;if(F[ue]=de,de>z)K+=2;else if(De>ae)W+=2;else if(M){var Ne=L+te-xe;if(Ne>=0&&Ne<U&&X[Ne]!==-1){var ot=z-X[Ne];if(de>=ot)return o(I,G,de,De)}}}for(var Ee=-ie+V;Ee<=ie-Q;Ee+=2){var Ne=L+Ee,ot;Ee===-ie||Ee!==ie&&X[Ne-1]<X[Ne+1]?ot=X[Ne+1]:ot=X[Ne-1]+1;for(var Ae=ot-Ee;ot<z&&Ae<ae&&I.charAt(z-ot-1)===G.charAt(ae-Ae-1);)ot++,Ae++;if(X[Ne]=ot,ot>z)Q+=2;else if(Ae>ae)V+=2;else if(!M){var ue=L+te-Ee;if(ue>=0&&ue<U&&F[ue]!==-1){var de=F[ue],De=L+de-ue;if(ot=z-ot,de>=ot)return o(I,G,de,De)}}}}return[[e,I],[t,G]]}function o(I,G,z,ae){var J=I.substring(0,z),L=G.substring(0,ae),U=I.substring(z),F=G.substring(ae),X=s(J,L),q=s(U,F);return X.concat(q)}function l(I,G){if(!I||!G||I.charAt(0)!==G.charAt(0))return 0;for(var z=0,ae=Math.min(I.length,G.length),J=ae,L=0;z<J;)I.substring(L,J)==G.substring(L,J)?(z=J,L=z):ae=J,J=Math.floor((ae-z)/2+z);return A(I.charCodeAt(J-1))&&J--,J}function u(I,G){var z=I.length,ae=G.length;if(z==0||ae==0)return 0;z>ae?I=I.substring(z-ae):z<ae&&(G=G.substring(0,z));var J=Math.min(z,ae);if(I==G)return J;for(var L=0,U=1;;){var F=I.substring(J-U),X=G.indexOf(F);if(X==-1)return L;U+=X,(X==0||I.substring(J-U)==G.substring(0,U))&&(L=U,U++)}}function f(I,G){if(!I||!G||I.slice(-1)!==G.slice(-1))return 0;for(var z=0,ae=Math.min(I.length,G.length),J=ae,L=0;z<J;)I.substring(I.length-J,I.length-L)==G.substring(G.length-J,G.length-L)?(z=J,L=z):ae=J,J=Math.floor((ae-z)/2+z);return C(I.charCodeAt(I.length-J))&&J--,J}function h(I,G){var z=I.length>G.length?I:G,ae=I.length>G.length?G:I;if(z.length<4||ae.length*2<z.length)return null;function J(K,V,Q){for(var ie=K.substring(Q,Q+Math.floor(K.length/4)),xe=-1,ue="",de,De,Ne,ot;(xe=V.indexOf(ie,xe+1))!==-1;){var Ee=l(K.substring(Q),V.substring(xe)),Ae=f(K.substring(0,Q),V.substring(0,xe));ue.length<Ae+Ee&&(ue=V.substring(xe-Ae,xe)+V.substring(xe,xe+Ee),de=K.substring(0,Q-Ae),De=K.substring(Q+Ee),Ne=V.substring(0,xe-Ae),ot=V.substring(xe+Ee))}return ue.length*2>=K.length?[de,De,Ne,ot,ue]:null}var L=J(z,ae,Math.ceil(z.length/4)),U=J(z,ae,Math.ceil(z.length/2)),F;if(!L&&!U)return null;U?L?F=L[4].length>U[4].length?L:U:F=U:F=L;var X,q,te,M;I.length>G.length?(X=F[0],q=F[1],te=F[2],M=F[3]):(te=F[0],M=F[1],X=F[2],q=F[3]);var W=F[4];return[X,q,te,M,W]}function x(I){for(var G=!1,z=[],ae=0,J=null,L=0,U=0,F=0,X=0,q=0;L<I.length;)I[L][0]==r?(z[ae++]=L,U=X,F=q,X=0,q=0,J=I[L][1]):(I[L][0]==t?X+=I[L][1].length:q+=I[L][1].length,J&&J.length<=Math.max(U,F)&&J.length<=Math.max(X,q)&&(I.splice(z[ae-1],0,[e,J]),I[z[ae-1]+1][0]=t,ae--,ae--,L=ae>0?z[ae-1]:-1,U=0,F=0,X=0,q=0,J=null,G=!0)),L++;for(G&&S(I),j(I),L=1;L<I.length;){if(I[L-1][0]==e&&I[L][0]==t){var te=I[L-1][1],M=I[L][1],W=u(te,M),K=u(M,te);W>=K?(W>=te.length/2||W>=M.length/2)&&(I.splice(L,0,[r,M.substring(0,W)]),I[L-1][1]=te.substring(0,te.length-W),I[L+1][1]=M.substring(W),L++):(K>=te.length/2||K>=M.length/2)&&(I.splice(L,0,[r,te.substring(0,K)]),I[L-1][0]=t,I[L-1][1]=M.substring(0,M.length-K),I[L+1][0]=e,I[L+1][1]=te.substring(K),L++),L++}L++}}var p=/[^a-zA-Z0-9]/,y=/\s/,N=/[\r\n]/,b=/\n\r?\n$/,w=/^\r?\n\r?\n/;function j(I){function G(K,V){if(!K||!V)return 6;var Q=K.charAt(K.length-1),ie=V.charAt(0),xe=Q.match(p),ue=ie.match(p),de=xe&&Q.match(y),De=ue&&ie.match(y),Ne=de&&Q.match(N),ot=De&&ie.match(N),Ee=Ne&&K.match(b),Ae=ot&&V.match(w);return Ee||Ae?5:Ne||ot?4:xe&&!de&&De?3:de||De?2:xe||ue?1:0}for(var z=1;z<I.length-1;){if(I[z-1][0]==r&&I[z+1][0]==r){var ae=I[z-1][1],J=I[z][1],L=I[z+1][1],U=f(ae,J);if(U){var F=J.substring(J.length-U);ae=ae.substring(0,ae.length-U),J=F+J.substring(0,J.length-U),L=F+L}for(var X=ae,q=J,te=L,M=G(ae,J)+G(J,L);J.charAt(0)===L.charAt(0);){ae+=J.charAt(0),J=J.substring(1)+L.charAt(0),L=L.substring(1);var W=G(ae,J)+G(J,L);W>=M&&(M=W,X=ae,q=J,te=L)}I[z-1][1]!=X&&(X?I[z-1][1]=X:(I.splice(z-1,1),z--),I[z][1]=q,te?I[z+1][1]=te:(I.splice(z+1,1),z--))}z++}}function S(I,G){I.push([r,""]);for(var z=0,ae=0,J=0,L="",U="",F;z<I.length;){if(z<I.length-1&&!I[z][1]){I.splice(z,1);continue}switch(I[z][0]){case t:J++,U+=I[z][1],z++;break;case e:ae++,L+=I[z][1],z++;break;case r:var X=z-J-ae-1;if(G){if(X>=0&&D(I[X][1])){var q=I[X][1].slice(-1);if(I[X][1]=I[X][1].slice(0,-1),L=q+L,U=q+U,!I[X][1]){I.splice(X,1),z--;var te=X-1;I[te]&&I[te][0]===t&&(J++,U=I[te][1]+U,te--),I[te]&&I[te][0]===e&&(ae++,L=I[te][1]+L,te--),X=te}}if(T(I[z][1])){var q=I[z][1].charAt(0);I[z][1]=I[z][1].slice(1),L+=q,U+=q}}if(z<I.length-1&&!I[z][1]){I.splice(z,1);break}if(L.length>0||U.length>0){L.length>0&&U.length>0&&(F=l(U,L),F!==0&&(X>=0?I[X][1]+=U.substring(0,F):(I.splice(0,0,[r,U.substring(0,F)]),z++),U=U.substring(F),L=L.substring(F)),F=f(U,L),F!==0&&(I[z][1]=U.substring(U.length-F)+I[z][1],U=U.substring(0,U.length-F),L=L.substring(0,L.length-F)));var M=J+ae;L.length===0&&U.length===0?(I.splice(z-M,M),z=z-M):L.length===0?(I.splice(z-M,M,[t,U]),z=z-M+1):U.length===0?(I.splice(z-M,M,[e,L]),z=z-M+1):(I.splice(z-M,M,[e,L],[t,U]),z=z-M+2)}z!==0&&I[z-1][0]===r?(I[z-1][1]+=I[z][1],I.splice(z,1)):z++,J=0,ae=0,L="",U="";break}}I[I.length-1][1]===""&&I.pop();var W=!1;for(z=1;z<I.length-1;)I[z-1][0]===r&&I[z+1][0]===r&&(I[z][1].substring(I[z][1].length-I[z-1][1].length)===I[z-1][1]?(I[z][1]=I[z-1][1]+I[z][1].substring(0,I[z][1].length-I[z-1][1].length),I[z+1][1]=I[z-1][1]+I[z+1][1],I.splice(z-1,1),W=!0):I[z][1].substring(0,I[z+1][1].length)==I[z+1][1]&&(I[z-1][1]+=I[z+1][1],I[z][1]=I[z][1].substring(I[z+1][1].length)+I[z+1][1],I.splice(z+1,1),W=!0)),z++;W&&S(I,G)}function A(I){return I>=55296&&I<=56319}function C(I){return I>=56320&&I<=57343}function T(I){return C(I.charCodeAt(0))}function D(I){return A(I.charCodeAt(I.length-1))}function _(I){for(var G=[],z=0;z<I.length;z++)I[z][1].length>0&&G.push(I[z]);return G}function O(I,G,z,ae){return D(I)||T(ae)?null:_([[r,I],[e,G],[t,z],[r,ae]])}function P(I,G,z){var ae=typeof z=="number"?{index:z,length:0}:z.oldRange,J=typeof z=="number"?null:z.newRange,L=I.length,U=G.length;if(ae.length===0&&(J===null||J.length===0)){var F=ae.index,X=I.slice(0,F),q=I.slice(F),te=J?J.index:null;e:{var M=F+U-L;if(te!==null&&te!==M||M<0||M>U)break e;var W=G.slice(0,M),K=G.slice(M);if(K!==q)break e;var V=Math.min(F,M),Q=X.slice(0,V),ie=W.slice(0,V);if(Q!==ie)break e;var xe=X.slice(V),ue=W.slice(V);return O(Q,xe,ue,q)}e:{if(te!==null&&te!==F)break e;var de=F,W=G.slice(0,de),K=G.slice(de);if(W!==X)break e;var De=Math.min(L-de,U-de),Ne=q.slice(q.length-De),ot=K.slice(K.length-De);if(Ne!==ot)break e;var xe=q.slice(0,q.length-De),ue=K.slice(0,K.length-De);return O(X,xe,ue,Ne)}}if(ae.length>0&&J&&J.length===0)e:{var Q=I.slice(0,ae.index),Ne=I.slice(ae.index+ae.length),V=Q.length,De=Ne.length;if(U<V+De)break e;var ie=G.slice(0,V),ot=G.slice(U-De);if(Q!==ie||Ne!==ot)break e;var xe=I.slice(V,L-De),ue=G.slice(V,U-De);return O(Q,xe,ue,Ne)}return null}function B(I,G,z,ae){return s(I,G,z,ae,!0)}return B.INSERT=t,B.DELETE=e,B.EQUAL=r,$S=B,$S}var Ex={exports:{}};Ex.exports;var bM;function LV(){return bM||(bM=1,function(e,t){var r=200,s="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",o="[object Array]",l="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",x="[object GeneratorFunction]",p="[object Map]",y="[object Number]",N="[object Object]",b="[object Promise]",w="[object RegExp]",j="[object Set]",S="[object String]",A="[object Symbol]",C="[object WeakMap]",T="[object ArrayBuffer]",D="[object DataView]",_="[object Float32Array]",O="[object Float64Array]",P="[object Int8Array]",B="[object Int16Array]",I="[object Int32Array]",G="[object Uint8Array]",z="[object Uint8ClampedArray]",ae="[object Uint16Array]",J="[object Uint32Array]",L=/[\\^$.*+?()[\]{}|]/g,U=/\w*$/,F=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,q={};q[i]=q[o]=q[T]=q[D]=q[l]=q[u]=q[_]=q[O]=q[P]=q[B]=q[I]=q[p]=q[y]=q[N]=q[w]=q[j]=q[S]=q[A]=q[G]=q[z]=q[ae]=q[J]=!0,q[f]=q[h]=q[C]=!1;var te=typeof xo=="object"&&xo&&xo.Object===Object&&xo,M=typeof self=="object"&&self&&self.Object===Object&&self,W=te||M||Function("return this")(),K=t&&!t.nodeType&&t,V=K&&!0&&e&&!e.nodeType&&e,Q=V&&V.exports===K;function ie(R,ee){return R.set(ee[0],ee[1]),R}function xe(R,ee){return R.add(ee),R}function ue(R,ee){for(var ve=-1,Qe=R?R.length:0;++ve<Qe&&ee(R[ve],ve,R)!==!1;);return R}function de(R,ee){for(var ve=-1,Qe=ee.length,or=R.length;++ve<Qe;)R[or+ve]=ee[ve];return R}function De(R,ee,ve,Qe){for(var or=-1,Yt=R?R.length:0;++or<Yt;)ve=ee(ve,R[or],or,R);return ve}function Ne(R,ee){for(var ve=-1,Qe=Array(R);++ve<R;)Qe[ve]=ee(ve);return Qe}function ot(R,ee){return R==null?void 0:R[ee]}function Ee(R){var ee=!1;if(R!=null&&typeof R.toString!="function")try{ee=!!(R+"")}catch{}return ee}function Ae(R){var ee=-1,ve=Array(R.size);return R.forEach(function(Qe,or){ve[++ee]=[or,Qe]}),ve}function Ye(R,ee){return function(ve){return R(ee(ve))}}function be(R){var ee=-1,ve=Array(R.size);return R.forEach(function(Qe){ve[++ee]=Qe}),ve}var ge=Array.prototype,Me=Function.prototype,xt=Object.prototype,jt=W["__core-js_shared__"],fe=function(){var R=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),Se=Me.toString,Re=xt.hasOwnProperty,ye=xt.toString,$e=RegExp("^"+Se.call(Re).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=Q?W.Buffer:void 0,Xe=W.Symbol,gt=W.Uint8Array,Vt=Ye(Object.getPrototypeOf,Object),Mr=Object.create,Fs=xt.propertyIsEnumerable,qs=ge.splice,zs=Object.getOwnPropertySymbols,_s=Pe?Pe.isBuffer:void 0,Nn=Ye(Object.keys,Object),hn=Rn(W,"DataView"),tn=Rn(W,"Map"),es=Rn(W,"Promise"),ma=Rn(W,"Set"),jn=Rn(W,"WeakMap"),mn=Rn(Object,"create"),hr=Hs(hn),qt=Hs(tn),Ir=Hs(es),Yr=Hs(ma),ls=Hs(jn),rn=Xe?Xe.prototype:void 0,se=rn?rn.valueOf:void 0;function Oe(R){var ee=-1,ve=R?R.length:0;for(this.clear();++ee<ve;){var Qe=R[ee];this.set(Qe[0],Qe[1])}}function qe(){this.__data__=mn?mn(null):{}}function at(R){return this.has(R)&&delete this.__data__[R]}function ut(R){var ee=this.__data__;if(mn){var ve=ee[R];return ve===s?void 0:ve}return Re.call(ee,R)?ee[R]:void 0}function It(R){var ee=this.__data__;return mn?ee[R]!==void 0:Re.call(ee,R)}function Jt(R,ee){var ve=this.__data__;return ve[R]=mn&&ee===void 0?s:ee,this}Oe.prototype.clear=qe,Oe.prototype.delete=at,Oe.prototype.get=ut,Oe.prototype.has=It,Oe.prototype.set=Jt;function Y(R){var ee=-1,ve=R?R.length:0;for(this.clear();++ee<ve;){var Qe=R[ee];this.set(Qe[0],Qe[1])}}function oe(){this.__data__=[]}function re(R){var ee=this.__data__,ve=pa(ee,R);if(ve<0)return!1;var Qe=ee.length-1;return ve==Qe?ee.pop():qs.call(ee,ve,1),!0}function ne(R){var ee=this.__data__,ve=pa(ee,R);return ve<0?void 0:ee[ve][1]}function le(R){return pa(this.__data__,R)>-1}function ce(R,ee){var ve=this.__data__,Qe=pa(ve,R);return Qe<0?ve.push([R,ee]):ve[Qe][1]=ee,this}Y.prototype.clear=oe,Y.prototype.delete=re,Y.prototype.get=ne,Y.prototype.has=le,Y.prototype.set=ce;function _e(R){var ee=-1,ve=R?R.length:0;for(this.clear();++ee<ve;){var Qe=R[ee];this.set(Qe[0],Qe[1])}}function We(){this.__data__={hash:new Oe,map:new(tn||Y),string:new Oe}}function ke(R){return vl(this,R).delete(R)}function Be(R){return vl(this,R).get(R)}function Ue(R){return vl(this,R).has(R)}function lt(R,ee){return vl(this,R).set(R,ee),this}_e.prototype.clear=We,_e.prototype.delete=ke,_e.prototype.get=Be,_e.prototype.has=Ue,_e.prototype.set=lt;function ft(R){this.__data__=new Y(R)}function kt(){this.__data__=new Y}function pt(R){return this.__data__.delete(R)}function Et(R){return this.__data__.get(R)}function ir(R){return this.__data__.has(R)}function qr(R,ee){var ve=this.__data__;if(ve instanceof Y){var Qe=ve.__data__;if(!tn||Qe.length<r-1)return Qe.push([R,ee]),this;ve=this.__data__=new _e(Qe)}return ve.set(R,ee),this}ft.prototype.clear=kt,ft.prototype.delete=pt,ft.prototype.get=Et,ft.prototype.has=ir,ft.prototype.set=qr;function kr(R,ee){var ve=fd(R)||bl(R)?Ne(R.length,String):[],Qe=ve.length,or=!!Qe;for(var Yt in R)Re.call(R,Yt)&&!(or&&(Yt=="length"||fp(Yt,Qe)))&&ve.push(Yt);return ve}function Kr(R,ee,ve){var Qe=R[ee];(!(Re.call(R,ee)&&Qu(Qe,ve))||ve===void 0&&!(ee in R))&&(R[ee]=ve)}function pa(R,ee){for(var ve=R.length;ve--;)if(Qu(R[ve][0],ee))return ve;return-1}function Sn(R,ee){return R&&ac(ee,md(ee),R)}function On(R,ee,ve,Qe,or,Yt,Cr){var Sr;if(Qe&&(Sr=Yt?Qe(R,or,Yt,Cr):Qe(R)),Sr!==void 0)return Sr;if(!Za(R))return R;var Ns=fd(R);if(Ns){if(Sr=Oh(R),!ee)return kh(R,Sr)}else{var Dr=Gi(R),En=Dr==h||Dr==x;if(hd(R))return sc(R,ee);if(Dr==N||Dr==i||En&&!Yt){if(Ee(R))return Yt?R:{};if(Sr=Qa(En?{}:R),!ee)return yl(R,Sn(Sr,R))}else{if(!q[Dr])return Yt?R:{};Sr=up(R,Dr,On,ee)}}Cr||(Cr=new ft);var ya=Cr.get(R);if(ya)return ya;if(Cr.set(R,Sr),!Ns)var sn=ve?Dh(R):md(R);return ue(sn||R,function(Pn,nn){sn&&(nn=Pn,Pn=R[nn]),Kr(Sr,nn,On(Pn,ee,ve,Qe,nn,R,Cr))}),Sr}function Pa(R){return Za(R)?Mr(R):{}}function To(R,ee,ve){var Qe=ee(R);return fd(R)?Qe:de(Qe,ve(R))}function Ma(R){return ye.call(R)}function _h(R){if(!Za(R)||Xu(R))return!1;var ee=ko(R)||Ee(R)?$e:F;return ee.test(Hs(R))}function xa(R){if(!ud(R))return Nn(R);var ee=[];for(var ve in Object(R))Re.call(R,ve)&&ve!="constructor"&&ee.push(ve);return ee}function sc(R,ee){if(ee)return R.slice();var ve=new R.constructor(R.length);return R.copy(ve),ve}function Gu(R){var ee=new R.constructor(R.byteLength);return new gt(ee).set(new gt(R)),ee}function Wi(R,ee){var ve=ee?Gu(R.buffer):R.buffer;return new R.constructor(ve,R.byteOffset,R.byteLength)}function Yu(R,ee,ve){var Qe=ee?ve(Ae(R),!0):Ae(R);return De(Qe,ie,new R.constructor)}function nc(R){var ee=new R.constructor(R.source,U.exec(R));return ee.lastIndex=R.lastIndex,ee}function dp(R,ee,ve){var Qe=ee?ve(be(R),!0):be(R);return De(Qe,xe,new R.constructor)}function ga(R){return se?Object(se.call(R)):{}}function Ku(R,ee){var ve=ee?Gu(R.buffer):R.buffer;return new R.constructor(ve,R.byteOffset,R.length)}function kh(R,ee){var ve=-1,Qe=R.length;for(ee||(ee=Array(Qe));++ve<Qe;)ee[ve]=R[ve];return ee}function ac(R,ee,ve,Qe){ve||(ve={});for(var or=-1,Yt=ee.length;++or<Yt;){var Cr=ee[or],Sr=void 0;Kr(ve,Cr,Sr===void 0?R[Cr]:Sr)}return ve}function yl(R,ee){return ac(R,Co(R),ee)}function Dh(R){return To(R,md,Co)}function vl(R,ee){var ve=R.__data__;return dd(ee)?ve[typeof ee=="string"?"string":"hash"]:ve.map}function Rn(R,ee){var ve=ot(R,ee);return _h(ve)?ve:void 0}var Co=zs?Ye(zs,Object):pd,Gi=Ma;(hn&&Gi(new hn(new ArrayBuffer(1)))!=D||tn&&Gi(new tn)!=p||es&&Gi(es.resolve())!=b||ma&&Gi(new ma)!=j||jn&&Gi(new jn)!=C)&&(Gi=function(R){var ee=ye.call(R),ve=ee==N?R.constructor:void 0,Qe=ve?Hs(ve):void 0;if(Qe)switch(Qe){case hr:return D;case qt:return p;case Ir:return b;case Yr:return j;case ls:return C}return ee});function Oh(R){var ee=R.length,ve=R.constructor(ee);return ee&&typeof R[0]=="string"&&Re.call(R,"index")&&(ve.index=R.index,ve.input=R.input),ve}function Qa(R){return typeof R.constructor=="function"&&!ud(R)?Pa(Vt(R)):{}}function up(R,ee,ve,Qe){var or=R.constructor;switch(ee){case T:return Gu(R);case l:case u:return new or(+R);case D:return Wi(R,Qe);case _:case O:case P:case B:case I:case G:case z:case ae:case J:return Ku(R,Qe);case p:return Yu(R,Qe,ve);case y:case S:return new or(R);case w:return nc(R);case j:return dp(R,Qe,ve);case A:return ga(R)}}function fp(R,ee){return ee=ee??a,!!ee&&(typeof R=="number"||X.test(R))&&R>-1&&R%1==0&&R<ee}function dd(R){var ee=typeof R;return ee=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?R!=="__proto__":R===null}function Xu(R){return!!fe&&fe in R}function ud(R){var ee=R&&R.constructor,ve=typeof ee=="function"&&ee.prototype||xt;return R===ve}function Hs(R){if(R!=null){try{return Se.call(R)}catch{}try{return R+""}catch{}}return""}function _o(R){return On(R,!0,!0)}function Qu(R,ee){return R===ee||R!==R&&ee!==ee}function bl(R){return wi(R)&&Re.call(R,"callee")&&(!Fs.call(R,"callee")||ye.call(R)==i)}var fd=Array.isArray;function Yi(R){return R!=null&&Ni(R.length)&&!ko(R)}function wi(R){return ic(R)&&Yi(R)}var hd=_s||xd;function ko(R){var ee=Za(R)?ye.call(R):"";return ee==h||ee==x}function Ni(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=a}function Za(R){var ee=typeof R;return!!R&&(ee=="object"||ee=="function")}function ic(R){return!!R&&typeof R=="object"}function md(R){return Yi(R)?kr(R):xa(R)}function pd(){return[]}function xd(){return!1}e.exports=_o}(Ex,Ex.exports)),Ex.exports}var Ax={exports:{}};Ax.exports;var wM;function BV(){return wM||(wM=1,function(e,t){var r=200,s="__lodash_hash_undefined__",a=1,i=2,o=9007199254740991,l="[object Arguments]",u="[object Array]",f="[object AsyncFunction]",h="[object Boolean]",x="[object Date]",p="[object Error]",y="[object Function]",N="[object GeneratorFunction]",b="[object Map]",w="[object Number]",j="[object Null]",S="[object Object]",A="[object Promise]",C="[object Proxy]",T="[object RegExp]",D="[object Set]",_="[object String]",O="[object Symbol]",P="[object Undefined]",B="[object WeakMap]",I="[object ArrayBuffer]",G="[object DataView]",z="[object Float32Array]",ae="[object Float64Array]",J="[object Int8Array]",L="[object Int16Array]",U="[object Int32Array]",F="[object Uint8Array]",X="[object Uint8ClampedArray]",q="[object Uint16Array]",te="[object Uint32Array]",M=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,V={};V[z]=V[ae]=V[J]=V[L]=V[U]=V[F]=V[X]=V[q]=V[te]=!0,V[l]=V[u]=V[I]=V[h]=V[G]=V[x]=V[p]=V[y]=V[b]=V[w]=V[S]=V[T]=V[D]=V[_]=V[B]=!1;var Q=typeof xo=="object"&&xo&&xo.Object===Object&&xo,ie=typeof self=="object"&&self&&self.Object===Object&&self,xe=Q||ie||Function("return this")(),ue=t&&!t.nodeType&&t,de=ue&&!0&&e&&!e.nodeType&&e,De=de&&de.exports===ue,Ne=De&&Q.process,ot=function(){try{return Ne&&Ne.binding&&Ne.binding("util")}catch{}}(),Ee=ot&&ot.isTypedArray;function Ae(R,ee){for(var ve=-1,Qe=R==null?0:R.length,or=0,Yt=[];++ve<Qe;){var Cr=R[ve];ee(Cr,ve,R)&&(Yt[or++]=Cr)}return Yt}function Ye(R,ee){for(var ve=-1,Qe=ee.length,or=R.length;++ve<Qe;)R[or+ve]=ee[ve];return R}function be(R,ee){for(var ve=-1,Qe=R==null?0:R.length;++ve<Qe;)if(ee(R[ve],ve,R))return!0;return!1}function ge(R,ee){for(var ve=-1,Qe=Array(R);++ve<R;)Qe[ve]=ee(ve);return Qe}function Me(R){return function(ee){return R(ee)}}function xt(R,ee){return R.has(ee)}function jt(R,ee){return R==null?void 0:R[ee]}function fe(R){var ee=-1,ve=Array(R.size);return R.forEach(function(Qe,or){ve[++ee]=[or,Qe]}),ve}function Se(R,ee){return function(ve){return R(ee(ve))}}function Re(R){var ee=-1,ve=Array(R.size);return R.forEach(function(Qe){ve[++ee]=Qe}),ve}var ye=Array.prototype,$e=Function.prototype,Pe=Object.prototype,Xe=xe["__core-js_shared__"],gt=$e.toString,Vt=Pe.hasOwnProperty,Mr=function(){var R=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),Fs=Pe.toString,qs=RegExp("^"+gt.call(Vt).replace(M,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zs=De?xe.Buffer:void 0,_s=xe.Symbol,Nn=xe.Uint8Array,hn=Pe.propertyIsEnumerable,tn=ye.splice,es=_s?_s.toStringTag:void 0,ma=Object.getOwnPropertySymbols,jn=zs?zs.isBuffer:void 0,mn=Se(Object.keys,Object),hr=Co(xe,"DataView"),qt=Co(xe,"Map"),Ir=Co(xe,"Promise"),Yr=Co(xe,"Set"),ls=Co(xe,"WeakMap"),rn=Co(Object,"create"),se=Hs(hr),Oe=Hs(qt),qe=Hs(Ir),at=Hs(Yr),ut=Hs(ls),It=_s?_s.prototype:void 0,Jt=It?It.valueOf:void 0;function Y(R){var ee=-1,ve=R==null?0:R.length;for(this.clear();++ee<ve;){var Qe=R[ee];this.set(Qe[0],Qe[1])}}function oe(){this.__data__=rn?rn(null):{},this.size=0}function re(R){var ee=this.has(R)&&delete this.__data__[R];return this.size-=ee?1:0,ee}function ne(R){var ee=this.__data__;if(rn){var ve=ee[R];return ve===s?void 0:ve}return Vt.call(ee,R)?ee[R]:void 0}function le(R){var ee=this.__data__;return rn?ee[R]!==void 0:Vt.call(ee,R)}function ce(R,ee){var ve=this.__data__;return this.size+=this.has(R)?0:1,ve[R]=rn&&ee===void 0?s:ee,this}Y.prototype.clear=oe,Y.prototype.delete=re,Y.prototype.get=ne,Y.prototype.has=le,Y.prototype.set=ce;function _e(R){var ee=-1,ve=R==null?0:R.length;for(this.clear();++ee<ve;){var Qe=R[ee];this.set(Qe[0],Qe[1])}}function We(){this.__data__=[],this.size=0}function ke(R){var ee=this.__data__,ve=sc(ee,R);if(ve<0)return!1;var Qe=ee.length-1;return ve==Qe?ee.pop():tn.call(ee,ve,1),--this.size,!0}function Be(R){var ee=this.__data__,ve=sc(ee,R);return ve<0?void 0:ee[ve][1]}function Ue(R){return sc(this.__data__,R)>-1}function lt(R,ee){var ve=this.__data__,Qe=sc(ve,R);return Qe<0?(++this.size,ve.push([R,ee])):ve[Qe][1]=ee,this}_e.prototype.clear=We,_e.prototype.delete=ke,_e.prototype.get=Be,_e.prototype.has=Ue,_e.prototype.set=lt;function ft(R){var ee=-1,ve=R==null?0:R.length;for(this.clear();++ee<ve;){var Qe=R[ee];this.set(Qe[0],Qe[1])}}function kt(){this.size=0,this.__data__={hash:new Y,map:new(qt||_e),string:new Y}}function pt(R){var ee=Rn(this,R).delete(R);return this.size-=ee?1:0,ee}function Et(R){return Rn(this,R).get(R)}function ir(R){return Rn(this,R).has(R)}function qr(R,ee){var ve=Rn(this,R),Qe=ve.size;return ve.set(R,ee),this.size+=ve.size==Qe?0:1,this}ft.prototype.clear=kt,ft.prototype.delete=pt,ft.prototype.get=Et,ft.prototype.has=ir,ft.prototype.set=qr;function kr(R){var ee=-1,ve=R==null?0:R.length;for(this.__data__=new ft;++ee<ve;)this.add(R[ee])}function Kr(R){return this.__data__.set(R,s),this}function pa(R){return this.__data__.has(R)}kr.prototype.add=kr.prototype.push=Kr,kr.prototype.has=pa;function Sn(R){var ee=this.__data__=new _e(R);this.size=ee.size}function On(){this.__data__=new _e,this.size=0}function Pa(R){var ee=this.__data__,ve=ee.delete(R);return this.size=ee.size,ve}function To(R){return this.__data__.get(R)}function Ma(R){return this.__data__.has(R)}function _h(R,ee){var ve=this.__data__;if(ve instanceof _e){var Qe=ve.__data__;if(!qt||Qe.length<r-1)return Qe.push([R,ee]),this.size=++ve.size,this;ve=this.__data__=new ft(Qe)}return ve.set(R,ee),this.size=ve.size,this}Sn.prototype.clear=On,Sn.prototype.delete=Pa,Sn.prototype.get=To,Sn.prototype.has=Ma,Sn.prototype.set=_h;function xa(R,ee){var ve=bl(R),Qe=!ve&&Qu(R),or=!ve&&!Qe&&Yi(R),Yt=!ve&&!Qe&&!or&&ic(R),Cr=ve||Qe||or||Yt,Sr=Cr?ge(R.length,String):[],Ns=Sr.length;for(var Dr in R)Vt.call(R,Dr)&&!(Cr&&(Dr=="length"||or&&(Dr=="offset"||Dr=="parent")||Yt&&(Dr=="buffer"||Dr=="byteLength"||Dr=="byteOffset")||up(Dr,Ns)))&&Sr.push(Dr);return Sr}function sc(R,ee){for(var ve=R.length;ve--;)if(_o(R[ve][0],ee))return ve;return-1}function Gu(R,ee,ve){var Qe=ee(R);return bl(R)?Qe:Ye(Qe,ve(R))}function Wi(R){return R==null?R===void 0?P:j:es&&es in Object(R)?Gi(R):ud(R)}function Yu(R){return Za(R)&&Wi(R)==l}function nc(R,ee,ve,Qe,or){return R===ee?!0:R==null||ee==null||!Za(R)&&!Za(ee)?R!==R&&ee!==ee:dp(R,ee,ve,Qe,nc,or)}function dp(R,ee,ve,Qe,or,Yt){var Cr=bl(R),Sr=bl(ee),Ns=Cr?u:Qa(R),Dr=Sr?u:Qa(ee);Ns=Ns==l?S:Ns,Dr=Dr==l?S:Dr;var En=Ns==S,ya=Dr==S,sn=Ns==Dr;if(sn&&Yi(R)){if(!Yi(ee))return!1;Cr=!0,En=!1}if(sn&&!En)return Yt||(Yt=new Sn),Cr||ic(R)?ac(R,ee,ve,Qe,or,Yt):yl(R,ee,Ns,ve,Qe,or,Yt);if(!(ve&a)){var Pn=En&&Vt.call(R,"__wrapped__"),nn=ya&&Vt.call(ee,"__wrapped__");if(Pn||nn){var wl=Pn?R.value():R,Do=nn?ee.value():ee;return Yt||(Yt=new Sn),or(wl,Do,ve,Qe,Yt)}}return sn?(Yt||(Yt=new Sn),Dh(R,ee,ve,Qe,or,Yt)):!1}function ga(R){if(!Ni(R)||dd(R))return!1;var ee=hd(R)?qs:W;return ee.test(Hs(R))}function Ku(R){return Za(R)&&ko(R.length)&&!!V[Wi(R)]}function kh(R){if(!Xu(R))return mn(R);var ee=[];for(var ve in Object(R))Vt.call(R,ve)&&ve!="constructor"&&ee.push(ve);return ee}function ac(R,ee,ve,Qe,or,Yt){var Cr=ve&a,Sr=R.length,Ns=ee.length;if(Sr!=Ns&&!(Cr&&Ns>Sr))return!1;var Dr=Yt.get(R);if(Dr&&Yt.get(ee))return Dr==ee;var En=-1,ya=!0,sn=ve&i?new kr:void 0;for(Yt.set(R,ee),Yt.set(ee,R);++En<Sr;){var Pn=R[En],nn=ee[En];if(Qe)var wl=Cr?Qe(nn,Pn,En,ee,R,Yt):Qe(Pn,nn,En,R,ee,Yt);if(wl!==void 0){if(wl)continue;ya=!1;break}if(sn){if(!be(ee,function(Do,oc){if(!xt(sn,oc)&&(Pn===Do||or(Pn,Do,ve,Qe,Yt)))return sn.push(oc)})){ya=!1;break}}else if(!(Pn===nn||or(Pn,nn,ve,Qe,Yt))){ya=!1;break}}return Yt.delete(R),Yt.delete(ee),ya}function yl(R,ee,ve,Qe,or,Yt,Cr){switch(ve){case G:if(R.byteLength!=ee.byteLength||R.byteOffset!=ee.byteOffset)return!1;R=R.buffer,ee=ee.buffer;case I:return!(R.byteLength!=ee.byteLength||!Yt(new Nn(R),new Nn(ee)));case h:case x:case w:return _o(+R,+ee);case p:return R.name==ee.name&&R.message==ee.message;case T:case _:return R==ee+"";case b:var Sr=fe;case D:var Ns=Qe&a;if(Sr||(Sr=Re),R.size!=ee.size&&!Ns)return!1;var Dr=Cr.get(R);if(Dr)return Dr==ee;Qe|=i,Cr.set(R,ee);var En=ac(Sr(R),Sr(ee),Qe,or,Yt,Cr);return Cr.delete(R),En;case O:if(Jt)return Jt.call(R)==Jt.call(ee)}return!1}function Dh(R,ee,ve,Qe,or,Yt){var Cr=ve&a,Sr=vl(R),Ns=Sr.length,Dr=vl(ee),En=Dr.length;if(Ns!=En&&!Cr)return!1;for(var ya=Ns;ya--;){var sn=Sr[ya];if(!(Cr?sn in ee:Vt.call(ee,sn)))return!1}var Pn=Yt.get(R);if(Pn&&Yt.get(ee))return Pn==ee;var nn=!0;Yt.set(R,ee),Yt.set(ee,R);for(var wl=Cr;++ya<Ns;){sn=Sr[ya];var Do=R[sn],oc=ee[sn];if(Qe)var Iy=Cr?Qe(oc,Do,sn,ee,R,Yt):Qe(Do,oc,sn,R,ee,Yt);if(!(Iy===void 0?Do===oc||or(Do,oc,ve,Qe,Yt):Iy)){nn=!1;break}wl||(wl=sn=="constructor")}if(nn&&!wl){var Rh=R.constructor,Zu=ee.constructor;Rh!=Zu&&"constructor"in R&&"constructor"in ee&&!(typeof Rh=="function"&&Rh instanceof Rh&&typeof Zu=="function"&&Zu instanceof Zu)&&(nn=!1)}return Yt.delete(R),Yt.delete(ee),nn}function vl(R){return Gu(R,md,Oh)}function Rn(R,ee){var ve=R.__data__;return fp(ee)?ve[typeof ee=="string"?"string":"hash"]:ve.map}function Co(R,ee){var ve=jt(R,ee);return ga(ve)?ve:void 0}function Gi(R){var ee=Vt.call(R,es),ve=R[es];try{R[es]=void 0;var Qe=!0}catch{}var or=Fs.call(R);return Qe&&(ee?R[es]=ve:delete R[es]),or}var Oh=ma?function(R){return R==null?[]:(R=Object(R),Ae(ma(R),function(ee){return hn.call(R,ee)}))}:pd,Qa=Wi;(hr&&Qa(new hr(new ArrayBuffer(1)))!=G||qt&&Qa(new qt)!=b||Ir&&Qa(Ir.resolve())!=A||Yr&&Qa(new Yr)!=D||ls&&Qa(new ls)!=B)&&(Qa=function(R){var ee=Wi(R),ve=ee==S?R.constructor:void 0,Qe=ve?Hs(ve):"";if(Qe)switch(Qe){case se:return G;case Oe:return b;case qe:return A;case at:return D;case ut:return B}return ee});function up(R,ee){return ee=ee??o,!!ee&&(typeof R=="number"||K.test(R))&&R>-1&&R%1==0&&R<ee}function fp(R){var ee=typeof R;return ee=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?R!=="__proto__":R===null}function dd(R){return!!Mr&&Mr in R}function Xu(R){var ee=R&&R.constructor,ve=typeof ee=="function"&&ee.prototype||Pe;return R===ve}function ud(R){return Fs.call(R)}function Hs(R){if(R!=null){try{return gt.call(R)}catch{}try{return R+""}catch{}}return""}function _o(R,ee){return R===ee||R!==R&&ee!==ee}var Qu=Yu(function(){return arguments}())?Yu:function(R){return Za(R)&&Vt.call(R,"callee")&&!hn.call(R,"callee")},bl=Array.isArray;function fd(R){return R!=null&&ko(R.length)&&!hd(R)}var Yi=jn||xd;function wi(R,ee){return nc(R,ee)}function hd(R){if(!Ni(R))return!1;var ee=Wi(R);return ee==y||ee==N||ee==f||ee==C}function ko(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=o}function Ni(R){var ee=typeof R;return R!=null&&(ee=="object"||ee=="function")}function Za(R){return R!=null&&typeof R=="object"}var ic=Ee?Me(Ee):Ku;function md(R){return fd(R)?xa(R):kh(R)}function pd(){return[]}function xd(){return!1}e.exports=wi}(Ax,Ax.exports)),Ax.exports}var i1={},NM;function BSe(){if(NM)return i1;NM=1,Object.defineProperty(i1,"__esModule",{value:!0});const e=LV(),t=BV();var r;return function(s){function a(u={},f={},h=!1){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});let x=e(f);h||(x=Object.keys(x).reduce((p,y)=>(x[y]!=null&&(p[y]=x[y]),p),{}));for(const p in u)u[p]!==void 0&&f[p]===void 0&&(x[p]=u[p]);return Object.keys(x).length>0?x:void 0}s.compose=a;function i(u={},f={}){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});const h=Object.keys(u).concat(Object.keys(f)).reduce((x,p)=>(t(u[p],f[p])||(x[p]=f[p]===void 0?null:f[p]),x),{});return Object.keys(h).length>0?h:void 0}s.diff=i;function o(u={},f={}){u=u||{};const h=Object.keys(f).reduce((x,p)=>(f[p]!==u[p]&&u[p]!==void 0&&(x[p]=f[p]),x),{});return Object.keys(u).reduce((x,p)=>(u[p]!==f[p]&&f[p]===void 0&&(x[p]=null),x),h)}s.invert=o;function l(u,f,h=!1){if(typeof u!="object")return f;if(typeof f!="object")return;if(!h)return f;const x=Object.keys(f).reduce((p,y)=>(u[y]===void 0&&(p[y]=f[y]),p),{});return Object.keys(x).length>0?x:void 0}s.transform=l}(r||(r={})),i1.default=r,i1}var o1={},jM;function $V(){if(jM)return o1;jM=1,Object.defineProperty(o1,"__esModule",{value:!0});var e;return function(t){function r(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}t.length=r}(e||(e={})),o1.default=e,o1}var l1={},SM;function $Se(){if(SM)return l1;SM=1,Object.defineProperty(l1,"__esModule",{value:!0});const e=$V();class t{constructor(s){this.ops=s,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(s){s||(s=1/0);const a=this.ops[this.index];if(a){const i=this.offset,o=e.default.length(a);if(s>=o-i?(s=o-i,this.index+=1,this.offset=0):this.offset+=s,typeof a.delete=="number")return{delete:s};{const l={};return a.attributes&&(l.attributes=a.attributes),typeof a.retain=="number"?l.retain=s:typeof a.retain=="object"&&a.retain!==null?l.retain=a.retain:typeof a.insert=="string"?l.insert=a.insert.substr(i,s):l.insert=a.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const s=this.ops[this.index];return s?typeof s.delete=="number"?"delete":typeof s.retain=="number"||typeof s.retain=="object"&&s.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const s=this.offset,a=this.index,i=this.next(),o=this.ops.slice(this.index);return this.offset=s,this.index=a,[i].concat(o)}}else return[]}}return l1.default=t,l1}var EM;function USe(){return EM||(EM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const r=LSe(),s=LV(),a=BV(),i=BSe();t.AttributeMap=i.default;const o=$V();t.Op=o.default;const l=$Se();t.OpIterator=l.default;const u="\0",f=(x,p)=>{if(typeof x!="object"||x===null)throw new Error(`cannot retain a ${typeof x}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const y=Object.keys(x)[0];if(!y||y!==Object.keys(p)[0])throw new Error(`embed types not matched: ${y} != ${Object.keys(p)[0]}`);return[y,x[y],p[y]]};class h{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,y){this.handlers[p]=y}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const y=this.handlers[p];if(!y)throw new Error(`no handlers for embed type "${p}"`);return y}insert(p,y){const N={};return typeof p=="string"&&p.length===0?this:(N.insert=p,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(N.attributes=y),this.push(N))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,y){if(typeof p=="number"&&p<=0)return this;const N={retain:p};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(N.attributes=y),this.push(N)}push(p){let y=this.ops.length,N=this.ops[y-1];if(p=s(p),typeof N=="object"){if(typeof p.delete=="number"&&typeof N.delete=="number")return this.ops[y-1]={delete:N.delete+p.delete},this;if(typeof N.delete=="number"&&p.insert!=null&&(y-=1,N=this.ops[y-1],typeof N!="object"))return this.ops.unshift(p),this;if(a(p.attributes,N.attributes)){if(typeof p.insert=="string"&&typeof N.insert=="string")return this.ops[y-1]={insert:N.insert+p.insert},typeof p.attributes=="object"&&(this.ops[y-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof N.retain=="number")return this.ops[y-1]={retain:N.retain+p.retain},typeof p.attributes=="object"&&(this.ops[y-1].attributes=p.attributes),this}}return y===this.ops.length?this.ops.push(p):this.ops.splice(y,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const y=[],N=[];return this.forEach(b=>{(p(b)?y:N).push(b)}),[y,N]}reduce(p,y){return this.ops.reduce(p,y)}changeLength(){return this.reduce((p,y)=>y.insert?p+o.default.length(y):y.delete?p-y.delete:p,0)}length(){return this.reduce((p,y)=>p+o.default.length(y),0)}slice(p=0,y=1/0){const N=[],b=new l.default(this.ops);let w=0;for(;w<y&&b.hasNext();){let j;w<p?j=b.next(p-w):(j=b.next(y-w),N.push(j)),w+=o.default.length(j)}return new h(N)}compose(p){const y=new l.default(this.ops),N=new l.default(p.ops),b=[],w=N.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){let S=w.retain;for(;y.peekType()==="insert"&&y.peekLength()<=S;)S-=y.peekLength(),b.push(y.next());w.retain-S>0&&N.next(w.retain-S)}const j=new h(b);for(;y.hasNext()||N.hasNext();)if(N.peekType()==="insert")j.push(N.next());else if(y.peekType()==="delete")j.push(y.next());else{const S=Math.min(y.peekLength(),N.peekLength()),A=y.next(S),C=N.next(S);if(C.retain){const T={};if(typeof A.retain=="number")T.retain=typeof C.retain=="number"?S:C.retain;else if(typeof C.retain=="number")A.retain==null?T.insert=A.insert:T.retain=A.retain;else{const _=A.retain==null?"insert":"retain",[O,P,B]=f(A[_],C.retain),I=h.getHandler(O);T[_]={[O]:I.compose(P,B,_==="retain")}}const D=i.default.compose(A.attributes,C.attributes,typeof A.retain=="number");if(D&&(T.attributes=D),j.push(T),!N.hasNext()&&a(j.ops[j.ops.length-1],T)){const _=new h(y.rest());return j.concat(_).chop()}}else typeof C.delete=="number"&&(typeof A.retain=="number"||typeof A.retain=="object"&&A.retain!==null)&&j.push(C)}return j.chop()}concat(p){const y=new h(this.ops.slice());return p.ops.length>0&&(y.push(p.ops[0]),y.ops=y.ops.concat(p.ops.slice(1))),y}diff(p,y){if(this.ops===p.ops)return new h;const N=[this,p].map(A=>A.map(C=>{if(C.insert!=null)return typeof C.insert=="string"?C.insert:u;const T=A===p?"on":"with";throw new Error("diff() called "+T+" non-document")}).join("")),b=new h,w=r(N[0],N[1],y,!0),j=new l.default(this.ops),S=new l.default(p.ops);return w.forEach(A=>{let C=A[1].length;for(;C>0;){let T=0;switch(A[0]){case r.INSERT:T=Math.min(S.peekLength(),C),b.push(S.next(T));break;case r.DELETE:T=Math.min(C,j.peekLength()),j.next(T),b.delete(T);break;case r.EQUAL:T=Math.min(j.peekLength(),S.peekLength(),C);const D=j.next(T),_=S.next(T);a(D.insert,_.insert)?b.retain(T,i.default.diff(D.attributes,_.attributes)):b.push(_).delete(T);break}C-=T}}),b.chop()}eachLine(p,y=`
`){const N=new l.default(this.ops);let b=new h,w=0;for(;N.hasNext();){if(N.peekType()!=="insert")return;const j=N.peek(),S=o.default.length(j)-N.peekLength(),A=typeof j.insert=="string"?j.insert.indexOf(y,S)-S:-1;if(A<0)b.push(N.next());else if(A>0)b.push(N.next(A));else{if(p(b,N.next(1).attributes||{},w)===!1)return;w+=1,b=new h}}b.length()>0&&p(b,{},w)}invert(p){const y=new h;return this.reduce((N,b)=>{if(b.insert)y.delete(o.default.length(b));else{if(typeof b.retain=="number"&&b.attributes==null)return y.retain(b.retain),N+b.retain;if(b.delete||typeof b.retain=="number"){const w=b.delete||b.retain;return p.slice(N,N+w).forEach(S=>{b.delete?y.push(S):b.retain&&b.attributes&&y.retain(o.default.length(S),i.default.invert(b.attributes,S.attributes))}),N+w}else if(typeof b.retain=="object"&&b.retain!==null){const w=p.slice(N,N+1),j=new l.default(w.ops).next(),[S,A,C]=f(b.retain,j.insert),T=h.getHandler(S);return y.retain({[S]:T.invert(A,C)},i.default.invert(b.attributes,j.attributes)),N+1}}return N},0),y.chop()}transform(p,y=!1){if(y=!!y,typeof p=="number")return this.transformPosition(p,y);const N=p,b=new l.default(this.ops),w=new l.default(N.ops),j=new h;for(;b.hasNext()||w.hasNext();)if(b.peekType()==="insert"&&(y||w.peekType()!=="insert"))j.retain(o.default.length(b.next()));else if(w.peekType()==="insert")j.push(w.next());else{const S=Math.min(b.peekLength(),w.peekLength()),A=b.next(S),C=w.next(S);if(A.delete)continue;if(C.delete)j.push(C);else{const T=A.retain,D=C.retain;let _=typeof D=="object"&&D!==null?D:S;if(typeof T=="object"&&T!==null&&typeof D=="object"&&D!==null){const O=Object.keys(T)[0];if(O===Object.keys(D)[0]){const P=h.getHandler(O);P&&(_={[O]:P.transform(T[O],D[O],y)})}}j.retain(_,i.default.transform(A.attributes,C.attributes,y))}}return j.chop()}transformPosition(p,y=!1){y=!!y;const N=new l.default(this.ops);let b=0;for(;N.hasNext()&&b<=p;){const w=N.peekLength(),j=N.peekType();if(N.next(),j==="delete"){p-=Math.min(w,p-b);continue}else j==="insert"&&(b<p||!y)&&(p+=w);b+=w}return p}}h.Op=o.default,h.OpIterator=l.default,h.AttributeMap=i.default,h.handlers={},t.default=h,e.exports=h,e.exports.default=h}(a1,a1.exports)),a1.exports}var go=USe();const zt=Kb(go);class xl extends Hi{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}xl.blotName="break";xl.tagName="BR";let cl=class extends Ob{};const VSe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tN(e){return e.replace(/[&<>"']/g,t=>VSe[t])}const Rl=class Rl extends I_{static compare(t,r){const s=Rl.order.indexOf(t),a=Rl.order.indexOf(r);return s>=0||a>=0?s-a:t===r?0:t<r?-1:1}formatAt(t,r,s,a){if(Rl.compare(this.statics.blotName,s)<0&&this.scroll.query(s,Wt.BLOT)){const i=this.isolate(t,r);a&&i.wrap(s,a)}else super.formatAt(t,r,s,a)}optimize(t){if(super.optimize(t),this.parent instanceof Rl&&Rl.compare(this.statics.blotName,this.parent.statics.blotName)>0){const r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}};Ot(Rl,"allowedChildren",[Rl,xl,Hi,cl]),Ot(Rl,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Zl=Rl;const AM=1;class ra extends Dg{constructor(){super(...arguments);Ot(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=UV(this)),this.cache.delta}deleteAt(r,s){super.deleteAt(r,s),this.cache={}}formatAt(r,s,a,i){s<=0||(this.scroll.query(a,Wt.BLOCK)?r+s===this.length()&&this.format(a,i):super.formatAt(r,Math.min(s,this.length()-r-1),a,i),this.cache={})}insertAt(r,s,a){if(a!=null){super.insertAt(r,s,a),this.cache={};return}if(s.length===0)return;const i=s.split(`
`),o=i.shift();o.length>0&&(r<this.length()-1||this.children.tail==null?super.insertAt(Math.min(r,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;i.reduce((u,f)=>(l=l.split(u,!0),l.insertAt(0,f),f.length),r+o.length)}insertBefore(r,s){const{head:a}=this.children;super.insertBefore(r,s),a instanceof xl&&a.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+AM),this.cache.length}moveChildren(r,s){super.moveChildren(r,s),this.cache={}}optimize(r){super.optimize(r),this.cache={}}path(r){return super.path(r,!0)}removeChild(r){super.removeChild(r),this.cache={}}split(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s&&(r===0||r>=this.length()-AM)){const i=this.clone();return r===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const a=super.split(r,s);return this.cache={},a}}ra.blotName="block";ra.tagName="P";ra.defaultChild=xl;ra.allowedChildren=[xl,Zl,Hi,cl];class po extends Hi{attach(){super.attach(),this.attributes=new Jw(this.domNode)}delta(){return new zt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,r){const s=this.scroll.query(t,Wt.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,r)}formatAt(t,r,s,a){this.format(s,a)}insertAt(t,r,s){if(s!=null){super.insertAt(t,r,s);return}const a=r.split(`
`),i=a.pop(),o=a.map(u=>{const f=this.scroll.create(ra.blotName);return f.insertAt(0,u),f}),l=this.split(t);o.forEach(u=>{this.parent.insertBefore(u,l)}),i&&this.parent.insertBefore(this.scroll.create("text",i),l)}}po.scope=Wt.BLOCK_BLOT;function UV(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Ea).reduce((r,s)=>s.length()===0?r:r.insert(s.value(),uo(s,{},t)),new zt).insert(`
`,uo(e))}function uo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(t={...t,...e.formats()},r&&delete t["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?t:uo(e.parent,t,r)}const ao=class ao extends Hi{static value(){}constructor(t,r,s){super(t,r),this.selection=s,this.textNode=document.createTextNode(ao.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,r){if(this.savedLength!==0){super.format(t,r);return}let s=this,a=0;for(;s!=null&&s.statics.scope!==Wt.BLOCK_BLOT;)a+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=ao.CONTENTS.length,s.optimize(),s.formatAt(a,ao.CONTENTS.length,t,r),this.savedLength=0)}index(t,r){return t===this.textNode?0:super.index(t,r)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const r=this.prev instanceof cl?this.prev:null,s=r?r.length():0,a=this.next instanceof cl?this.next:null,i=a?a.text:"",{textNode:o}=this,l=o.data.split(ao.CONTENTS).join("");o.data=ao.CONTENTS;let u;if(r)u=r,(l||a)&&(r.insertAt(r.length(),l+i),a&&a.remove());else if(a)u=a,a.insertAt(0,l);else{const f=document.createTextNode(l);u=this.scroll.create(f),this.parent.insertBefore(u,this)}if(this.remove(),t){const f=(p,y)=>r&&p===r.domNode?y:p===o?s+y-1:a&&p===a.domNode?s+l.length+y:null,h=f(t.start.node,t.start.offset),x=f(t.end.node,t.end.offset);if(h!==null&&x!==null)return{startNode:u.domNode,startOffset:h,endNode:u.domNode,endOffset:x}}return null}update(t,r){if(t.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(r.range=s)}}optimize(t){super.optimize(t);let{parent:r}=this;for(;r;){if(r.domNode.tagName==="A"){this.savedLength=ao.CONTENTS.length,r.isolate(this.offset(r),this.length()).unwrap(),this.savedLength=0;break}r=r.parent}}value(){return""}};Ot(ao,"blotName","cursor"),Ot(ao,"className","ql-cursor"),Ot(ao,"tagName","span"),Ot(ao,"CONTENTS","\uFEFF");let A0=ao;var US={exports:{}},TM;function qSe(){return TM||(TM=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,x,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new a(h,x||u,p),N=r?r+f:f;return u._events[N]?u._events[N].fn?u._events[N]=[u._events[N],y]:u._events[N].push(y):(u._events[N]=y,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new s:delete u._events[f]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,x;if(this._eventsCount===0)return f;for(x in h=this._events)t.call(h,x)&&f.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=r?r+f:f,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var p=0,y=x.length,N=new Array(y);p<y;p++)N[p]=x[p].fn;return N},l.prototype.listenerCount=function(f){var h=r?r+f:f,x=this._events[h];return x?x.fn?1:x.length:0},l.prototype.emit=function(f,h,x,p,y,N){var b=r?r+f:f;if(!this._events[b])return!1;var w=this._events[b],j=arguments.length,S,A;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),j){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,x),!0;case 4:return w.fn.call(w.context,h,x,p),!0;case 5:return w.fn.call(w.context,h,x,p,y),!0;case 6:return w.fn.call(w.context,h,x,p,y,N),!0}for(A=1,S=new Array(j-1);A<j;A++)S[A-1]=arguments[A];w.fn.apply(w.context,S)}else{var C=w.length,T;for(A=0;A<C;A++)switch(w[A].once&&this.removeListener(f,w[A].fn,void 0,!0),j){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,h);break;case 3:w[A].fn.call(w[A].context,h,x);break;case 4:w[A].fn.call(w[A].context,h,x,p);break;default:if(!S)for(T=1,S=new Array(j-1);T<j;T++)S[T-1]=arguments[T];w[A].fn.apply(w[A].context,S)}}return!0},l.prototype.on=function(f,h,x){return i(this,f,h,x,!1)},l.prototype.once=function(f,h,x){return i(this,f,h,x,!0)},l.prototype.removeListener=function(f,h,x,p){var y=r?r+f:f;if(!this._events[y])return this;if(!h)return o(this,y),this;var N=this._events[y];if(N.fn)N.fn===h&&(!p||N.once)&&(!x||N.context===x)&&o(this,y);else{for(var b=0,w=[],j=N.length;b<j;b++)(N[b].fn!==h||p&&!N[b].once||x&&N[b].context!==x)&&w.push(N[b]);w.length?this._events[y]=w.length===1?w[0]:w:o(this,y)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&o(this,h)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l}(US)),US.exports}var zSe=qSe();const HSe=Kb(zSe),ZA=new WeakMap,JA=["error","warn","log","info"];let eT="warn";function VV(e){if(eT&&JA.indexOf(e)<=JA.indexOf(eT)){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];console[e](...r)}}function ld(e){return JA.reduce((t,r)=>(t[r]=VV.bind(console,r,e),t),{})}ld.level=e=>{eT=e};VV.level=ld.level;const VS=ld("quill:events"),WSe=["selectionchange","mousedown","mouseup","click"];WSe.forEach(e=>{document.addEventListener(e,function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const i=ZA.get(a);i&&i.emitter&&i.emitter.handleDOM(...r)})})});class Lt extends HSe{constructor(){super(),this.domListeners={},this.on("error",VS.error)}emit(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return VS.log.call(VS,...r),super.emit(...r)}handleDOM(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];(this.domListeners[t.type]||[]).forEach(i=>{let{node:o,handler:l}=i;(t.target===o||o.contains(t.target))&&l(t,...s)})}listenDOM(t,r,s){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:r,handler:s})}}Ot(Lt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Ot(Lt,"sources",{API:"api",SILENT:"silent",USER:"user"});const qS=ld("quill:selection");class sh{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=r}}class GSe{constructor(t,r){this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new sh(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Lt.sources.USER),1)}),this.emitter.on(Lt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(Lt.events.SCROLL_UPDATE,(a,i)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const o=i.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?Lt.sources.SILENT:a)}catch{}})}),this.emitter.on(Lt.events.SCROLL_OPTIMIZE,(s,a)=>{if(a.range){const{startNode:i,startOffset:o,endNode:l,endOffset:u}=a.range;this.setNativeRange(i,o,l,u),this.update(Lt.sources.SILENT)}}),this.update(Lt.sources.SILENT)}handleComposition(){this.emitter.on(Lt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Lt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Lt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,r){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(t,Wt.BLOCK))){if(s.start.node!==this.cursor.textNode){const a=this.scroll.find(s.start.node,!1);if(a==null)return;if(a instanceof Ea){const i=a.split(s.start.offset);a.parent.insertBefore(this.cursor,i)}else a.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(t,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();t=Math.min(t,s-1),r=Math.min(t+r,s-1)-t;let a,[i,o]=this.scroll.leaf(t);if(i==null)return null;if(r>0&&o===i.length()){const[h]=this.scroll.leaf(t+1);if(h){const[x]=this.scroll.line(t),[p]=this.scroll.line(t+1);x===p&&(i=h,o=0)}}[a,o]=i.position(o,!0);const l=document.createRange();if(r>0)return l.setStart(a,o),[i,o]=this.scroll.leaf(t+r),i==null?null:([a,o]=i.position(o,!0),l.setEnd(a,o),l.getBoundingClientRect());let u="left",f;if(a instanceof Text){if(!a.data.length)return null;o<a.data.length?(l.setStart(a,o),l.setEnd(a,o+1)):(l.setStart(a,o-1),l.setEnd(a,o),u="right"),f=l.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;f=i.domNode.getBoundingClientRect(),o>0&&(u="right")}return{bottom:f.top+f.height,height:f.height,left:f[u],right:f[u],top:f.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const r=t.getRangeAt(0);if(r==null)return null;const s=this.normalizeNative(r);return qS.info("getNativeRange",s),s}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const r=this.getNativeRange();return r==null?[null,null]:[this.normalizedToRange(r),r]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&zS(this.root,document.activeElement)}normalizedToRange(t){const r=[[t.start.node,t.start.offset]];t.native.collapsed||r.push([t.end.node,t.end.offset]);const s=r.map(o=>{const[l,u]=o,f=this.scroll.find(l,!0),h=f.offset(this.scroll);return u===0?h:f instanceof Ea?h+f.index(l,u):h+f.length()}),a=Math.min(Math.max(...s),this.scroll.length()-1),i=Math.min(a,...s);return new sh(i,a-i)}normalizeNative(t){if(!zS(this.root,t.startContainer)||!t.collapsed&&!zS(this.root,t.endContainer))return null;const r={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[r.start,r.end].forEach(s=>{let{node:a,offset:i}=s;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>i)a=a.childNodes[i],i=0;else if(a.childNodes.length===i)a=a.lastChild,a instanceof Text?i=a.data.length:a.childNodes.length>0?i=a.childNodes.length:i=a.childNodes.length+1;else break;s.node=a,s.offset=i}),r}rangeToNative(t){const r=this.scroll.length(),s=(a,i)=>{a=Math.min(r-1,a);const[o,l]=this.scroll.leaf(a);return o?o.position(l,i):[null,-1]};return[...s(t.index,!1),...s(t.index+t.length,!0)]}setNativeRange(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(qS.info("setNativeRange",t,r,s,a),t!=null&&(this.root.parentNode==null||t.parentNode==null||s.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||i||t!==l.startContainer||r!==l.startOffset||s!==l.endContainer||a!==l.endOffset){t instanceof Element&&t.tagName==="BR"&&(r=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),s instanceof Element&&s.tagName==="BR"&&(a=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const u=document.createRange();u.setStart(t,r),u.setEnd(s,a),o.removeAllRanges(),o.addRange(u)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Lt.sources.API;if(typeof r=="string"&&(s=r,r=!1),qS.info("setRange",t),t!=null){const a=this.rangeToNative(t);this.setNativeRange(...a,r)}else this.setNativeRange(null);this.update(s)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lt.sources.USER;const r=this.lastRange,[s,a]=this.getRange();if(this.lastRange=s,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!tu(r,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[Lt.events.SELECTION_CHANGE,Ym(this.lastRange),Ym(r),t];this.emitter.emit(Lt.events.EDITOR_CHANGE,...i),t!==Lt.sources.SILENT&&this.emitter.emit(...i)}}}function zS(e,t){try{t.parentNode}catch{return!1}return e.contains(t)}const YSe=/^[ -~]*$/;class KSe{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const s=CM(t),a=new zt;return QSe(s.ops.slice()).reduce((o,l)=>{const u=go.Op.length(l);let f=l.attributes||{},h=!1,x=!1;if(l.insert!=null){if(a.retain(u),typeof l.insert=="string"){const N=l.insert;x=!N.endsWith(`
`)&&(r<=o||!!this.scroll.descendant(po,o)[0]),this.scroll.insertAt(o,N);const[b,w]=this.scroll.line(o);let j=bu({},uo(b));if(b instanceof ra){const[S]=b.descendant(Ea,w);S&&(j=bu(j,uo(S)))}f=go.AttributeMap.diff(j,f)||{}}else if(typeof l.insert=="object"){const N=Object.keys(l.insert)[0];if(N==null)return o;const b=this.scroll.query(N,Wt.INLINE)!=null;if(b)(r<=o||this.scroll.descendant(po,o)[0])&&(x=!0);else if(o>0){const[w,j]=this.scroll.descendant(Ea,o-1);w instanceof cl?w.value()[j]!==`
`&&(h=!0):w instanceof Hi&&w.statics.scope===Wt.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,N,l.insert[N]),b){const[w]=this.scroll.descendant(Ea,o);if(w){const j=bu({},uo(w));f=go.AttributeMap.diff(j,f)||{}}}}r+=u}else if(a.push(l),l.retain!==null&&typeof l.retain=="object"){const N=Object.keys(l.retain)[0];if(N==null)return o;this.scroll.updateEmbedAt(o,N,l.retain[N])}Object.keys(f).forEach(N=>{this.scroll.formatAt(o,u,N,f[N])});const p=h?1:0,y=x?1:0;return r+=p+y,a.retain(p),a.delete(y),o+u+p+y},0),a.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+go.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(t,r){return this.scroll.deleteAt(t,r),this.update(new zt().retain(t).delete(r))}formatLine(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(i=>{this.scroll.lines(t,Math.max(r,1)).forEach(o=>{o.format(i,s[i])})}),this.scroll.optimize();const a=new zt().retain(t).retain(r,Ym(s));return this.update(a)}formatText(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(i=>{this.scroll.formatAt(t,r,i,s[i])});const a=new zt().retain(t).retain(r,Ym(s));return this.update(a)}getContents(t,r){return this.delta.slice(t,t+r)}getDelta(){return this.scroll.lines().reduce((t,r)=>t.concat(r.delta()),new zt)}getFormat(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],a=[];r===0?this.scroll.path(t).forEach(l=>{const[u]=l;u instanceof ra?s.push(u):u instanceof Ea&&a.push(u)}):(s=this.scroll.lines(t,r),a=this.scroll.descendants(Ea,t,r));const[i,o]=[s,a].map(l=>{const u=l.shift();if(u==null)return{};let f=uo(u);for(;Object.keys(f).length>0;){const h=l.shift();if(h==null)return f;f=XSe(uo(h),f)}return f});return{...i,...o}}getHTML(t,r){const[s,a]=this.scroll.line(t);if(s){const i=s.length();return s.length()>=a+r&&!(a===0&&r===i)?Og(s,a,r,!0):Og(this.scroll,t,r,!0)}return""}getText(t,r){return this.getContents(t,r).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(t,r){const s=CM(r),a=new zt().retain(t).concat(s);return this.scroll.insertContents(t,s),this.update(a)}insertEmbed(t,r,s){return this.scroll.insertAt(t,r,s),this.update(new zt().retain(t).insert({[r]:s}))}insertText(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,r),Object.keys(s).forEach(a=>{this.scroll.formatAt(t,r.length,a,s[a])}),this.update(new zt().retain(t).insert(r,Ym(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==ra.blotName)return!1;const r=t;return r.children.length>1?!1:r.children.head instanceof xl}removeFormat(t,r){const s=this.getText(t,r),[a,i]=this.scroll.line(t+r);let o=0,l=new zt;a!=null&&(o=a.length()-i,l=a.delta().slice(i,i+o-1).insert(`
`));const f=this.getContents(t,r+o).diff(new zt().insert(s).concat(l)),h=new zt().retain(t).concat(f);return this.applyDelta(h)}update(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(YSe)&&this.scroll.find(r[0].target)){const i=this.scroll.find(r[0].target),o=uo(i),l=i.offset(this.scroll),u=r[0].oldValue.replace(A0.CONTENTS,""),f=new zt().insert(u),h=new zt().insert(i.value()),x=s&&{oldRange:_M(s.oldRange,-l),newRange:_M(s.newRange,-l)};t=new zt().retain(l).concat(f.diff(h,x)).reduce((y,N)=>N.insert?y.insert(N.insert,o):y.push(N),new zt),this.delta=a.compose(t)}else this.delta=this.getDelta(),(!t||!tu(a.compose(t),this.delta))&&(t=a.diff(this.delta,s));return t}}function Em(e,t,r){if(e.length===0){const[y]=HS(r.pop());return t<=0?`</li></${y}>`:`</li></${y}>${Em([],t-1,r)}`}const[{child:s,offset:a,length:i,indent:o,type:l},...u]=e,[f,h]=HS(l);if(o>t)return r.push(l),o===t+1?`<${f}><li${h}>${Og(s,a,i)}${Em(u,o,r)}`:`<${f}><li>${Em(e,t+1,r)}`;const x=r[r.length-1];if(o===t&&l===x)return`</li><li${h}>${Og(s,a,i)}${Em(u,o,r)}`;const[p]=HS(r.pop());return`</li></${p}>${Em(e,t-1,r)}`}function Og(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(t,r);if(e instanceof cl)return tN(e.value().slice(t,t+r)).replaceAll(" ","&nbsp;");if(e instanceof el){if(e.statics.blotName==="list-container"){const f=[];return e.children.forEachAt(t,r,(h,x,p)=>{const y="formats"in h&&typeof h.formats=="function"?h.formats():{};f.push({child:h,offset:x,length:p,indent:y.indent||0,type:y.list})}),Em(f,-1,[])}const a=[];if(e.children.forEachAt(t,r,(f,h,x)=>{a.push(Og(f,h,x))}),s||e.statics.blotName==="list")return a.join("");const{outerHTML:i,innerHTML:o}=e.domNode,[l,u]=i.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${u}`:`${l}>${a.join("")}<${u}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function XSe(e,t){return Object.keys(t).reduce((r,s)=>{if(e[s]==null)return r;const a=t[s];return a===e[s]?r[s]=a:Array.isArray(a)?a.indexOf(e[s])<0?r[s]=a.concat([e[s]]):r[s]=a:r[s]=[a,e[s]],r},{})}function HS(e){const t=e==="ordered"?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function CM(e){return e.reduce((t,r)=>{if(typeof r.insert=="string"){const s=r.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(s,r.attributes)}return t.push(r)},new zt)}function _M(e,t){let{index:r,length:s}=e;return new sh(r+t,s)}function QSe(e){const t=[];return e.forEach(r=>{typeof r.insert=="string"?r.insert.split(`
`).forEach((a,i)=>{i&&t.push({insert:`
`,attributes:r.attributes}),a&&t.push({insert:a,attributes:r.attributes})}):t.push(r)}),t}class gl{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=r}}Ot(gl,"DEFAULTS",{});const c1="\uFEFF";class L_ extends Hi{constructor(t,r){super(t,r),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(c1),this.rightGuard=document.createTextNode(c1),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,r){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,r)}restore(t){let r=null,s;const a=t.data.split(c1).join("");if(t===this.leftGuard)if(this.prev instanceof cl){const i=this.prev.length();this.prev.insertAt(i,a),r={startNode:this.prev.domNode,startOffset:i+a.length}}else s=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(s),this),r={startNode:s,startOffset:a.length};else t===this.rightGuard&&(this.next instanceof cl?(this.next.insertAt(0,a),r={startNode:this.next.domNode,startOffset:a.length}):(s=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(s),this.next),r={startNode:s,startOffset:a.length}));return t.data=c1,r}update(t,r){t.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const a=this.restore(s.target);a&&(r.range=a)}})}}class ZSe{constructor(t,r){Ot(this,"isComposing",!1);this.scroll=t,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const r=t.target instanceof Node?this.scroll.find(t.target,!0):null;r&&!(r instanceof L_)&&(this.emitter.emit(Lt.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(Lt.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(Lt.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(Lt.events.COMPOSITION_END,t),this.isComposing=!1}}const zx=class zx{constructor(t,r){Ot(this,"modules",{});this.quill=t,this.options=r}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const r=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new r(this.quill,this.options.modules[t]||{}),this.modules[t]}};Ot(zx,"DEFAULTS",{modules:{}}),Ot(zx,"themes",{default:zx});let T0=zx;const JSe=e=>e.parentElement||e.getRootNode().host||null,eEe=e=>{const t=e.getBoundingClientRect(),r="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,s="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*r,bottom:t.top+e.clientHeight*s,left:t.left}},d1=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},kM=(e,t,r,s,a,i)=>e<r&&t>s?0:e<r?-(r-e+a):t>s?t-e>s-r?e+a-r:t-s+i:0,tEe=(e,t)=>{var i,o,l;const r=e.ownerDocument;let s=t,a=e;for(;a;){const u=a===r.body,f=u?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??r.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??r.documentElement.clientHeight,left:0}:eEe(a),h=getComputedStyle(a),x=kM(s.left,s.right,f.left,f.right,d1(h.scrollPaddingLeft),d1(h.scrollPaddingRight)),p=kM(s.top,s.bottom,f.top,f.bottom,d1(h.scrollPaddingTop),d1(h.scrollPaddingBottom));if(x||p)if(u)(l=r.defaultView)==null||l.scrollBy(x,p);else{const{scrollLeft:y,scrollTop:N}=a;p&&(a.scrollTop+=p),x&&(a.scrollLeft+=x);const b=a.scrollLeft-y,w=a.scrollTop-N;s={left:s.left-b,top:s.top-w,right:s.right-b,bottom:s.bottom-w}}a=u||h.position==="fixed"?null:JSe(a)}},rEe=100,sEe=["block","break","cursor","inline","scroll","text"],nEe=(e,t,r)=>{const s=new E0;return sEe.forEach(a=>{const i=t.query(a);i&&s.register(i)}),e.forEach(a=>{let i=t.query(a);i||r.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(s.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>rEe){r.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),s},Xm=ld("quill"),u1=new E0;el.uiClass="ql-ui";const Uo=class Uo{static debug(t){t===!0&&(t="log"),ld.level(t)}static find(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ZA.get(t)||u1.find(t,r)}static import(t){return this.imports[t]==null&&Xm.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],r=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in t?t.attrName:t.blotName;typeof s=="string"?this.register(`formats/${s}`,t,r):Object.keys(t).forEach(a=>{this.register(a,t[a],r)})}else{const t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!s&&Xm.warn(`Overwriting ${t} with`,r),this.imports[t]=r,(t.startsWith("blots/")||t.startsWith("formats/"))&&r&&typeof r!="boolean"&&r.blotName!=="abstract"&&u1.register(r),typeof r.register=="function"&&r.register(u1)}}constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=aEe(t,r),this.container=this.options.container,this.container==null){Xm.error("Invalid Quill container",t);return}this.options.debug&&Uo.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",ZA.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Lt;const a=F_.blotName,i=this.options.registry.query(a);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new KSe(this.scroll),this.selection=new GSe(this.scroll,this.emitter),this.composition=new ZSe(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Lt.events.EDITOR_CHANGE,o=>{o===Lt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Lt.events.SCROLL_UPDATE,(o,l)=>{const u=this.selection.lastRange,[f]=this.selection.getRange(),h=u&&f?{oldRange:u,newRange:f}:void 0;Io.call(this,()=>this.editor.update(null,l,h),o)}),this.emitter.on(Lt.events.SCROLL_EMBED_UPDATE,(o,l)=>{const u=this.selection.lastRange,[f]=this.selection.getRange(),h=u&&f?{oldRange:u,newRange:f}:void 0;Io.call(this,()=>{const x=new zt().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(x,[],h)},Uo.sources.USER)}),s){const o=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const s=t;t=document.createElement("div"),t.classList.add(s)}return this.container.insertBefore(t,r),t}blur(){this.selection.setRange(null)}deleteText(t,r,s){return[t,r,,s]=Sc(t,r,s),Io.call(this,()=>this.editor.deleteText(t,r),s,t,-1*r)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const r=t();return this.allowReadOnlyEdits=!1,r}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Lt.sources.API;return Io.call(this,()=>{const a=this.getSelection(!0);let i=new zt;if(a==null)return i;if(this.scroll.query(t,Wt.BLOCK))i=this.editor.formatLine(a.index,a.length,{[t]:r});else{if(a.length===0)return this.selection.format(t,r),i;i=this.editor.formatText(a.index,a.length,{[t]:r})}return this.setSelection(a,Lt.sources.SILENT),i},s)}formatLine(t,r,s,a,i){let o;return[t,r,o,i]=Sc(t,r,s,a,i),Io.call(this,()=>this.editor.formatLine(t,r,o),i,t,0)}formatText(t,r,s,a,i){let o;return[t,r,o,i]=Sc(t,r,s,a,i),Io.call(this,()=>this.editor.formatText(t,r,o),i,t,0)}getBounds(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof t=="number"?s=this.selection.getBounds(t,r):s=this.selection.getBounds(t.index,t.length),!s)return null;const a=this.container.getBoundingClientRect();return{bottom:s.bottom-a.top,height:s.height,left:s.left-a.left,right:s.right-a.left,top:s.top-a.top,width:s.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,r]=Sc(t,r),this.editor.getContents(t,r)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,r):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,r)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=Sc(t,r),this.editor.getHTML(t,r)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(r=r??this.getLength()-t),[t,r]=Sc(t,r),this.editor.getText(t,r)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,r,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Uo.sources.API;return Io.call(this,()=>this.editor.insertEmbed(t,r,s),a,t)}insertText(t,r,s,a,i){let o;return[t,,o,i]=Sc(t,0,s,a,i),Io.call(this,()=>this.editor.insertText(t,r,o),i,t,r.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,r,s){return[t,r,,s]=Sc(t,r,s),Io.call(this,()=>this.editor.removeFormat(t,r),s,t)}scrollRectIntoView(t){tEe(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,r=t&&this.selection.getBounds(t.index,t.length);r&&this.scrollRectIntoView(r)}setContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lt.sources.API;return Io.call(this,()=>{t=new zt(t);const s=this.getLength(),a=this.editor.deleteText(0,s),i=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return a.compose(i).compose(o)},r)}setSelection(t,r,s){t==null?this.selection.setRange(null,r||Uo.sources.API):([t,r,,s]=Sc(t,r,s),this.selection.setRange(new sh(Math.max(0,t),r),s),s!==Lt.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lt.sources.API;const s=new zt().insert(t);return this.setContents(s,r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lt.sources.USER;const r=this.scroll.update(t);return this.selection.update(t),r}updateContents(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lt.sources.API;return Io.call(this,()=>(t=new zt(t),this.editor.applyDelta(t)),r,!0)}};Ot(Uo,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:u1,theme:"default"}),Ot(Uo,"events",Lt.events),Ot(Uo,"sources",Lt.sources),Ot(Uo,"version","2.0.3"),Ot(Uo,"imports",{delta:zt,parchment:FSe,"core/module":gl,"core/theme":T0});let st=Uo;function DM(e){return typeof e=="string"?document.querySelector(e):e}function WS(e){return Object.entries(e??{}).reduce((t,r)=>{let[s,a]=r;return{...t,[s]:a===!0?{}:a}},{})}function OM(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function aEe(e,t){const r=DM(e);if(!r)throw new Error("Invalid Quill container");const a=!t.theme||t.theme===st.DEFAULTS.theme?T0:st.import(`themes/${t.theme}`);if(!a)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...o}=st.DEFAULTS,{modules:l,...u}=a.DEFAULTS;let f=WS(t.modules);f!=null&&f.toolbar&&f.toolbar.constructor!==Object&&(f={...f,toolbar:{container:f.toolbar}});const h=bu({},WS(i),WS(l),f),x={...o,...OM(u),...OM(t)};let p=t.registry;return p?t.formats&&Xm.warn('Ignoring "formats" option because "registry" is specified'):p=t.formats?nEe(t.formats,x.registry,Xm):x.registry,{...x,registry:p,container:r,theme:a,modules:Object.entries(h).reduce((y,N)=>{let[b,w]=N;if(!w)return y;const j=st.import(`modules/${b}`);return j==null?(Xm.error(`Cannot load ${b} module. Are you sure you registered it?`),y):{...y,[b]:bu({},j.DEFAULTS||{},w)}},{}),bounds:DM(x.bounds)}}function Io(e,t,r,s){if(!this.isEnabled()&&t===Lt.sources.USER&&!this.allowReadOnlyEdits)return new zt;let a=r==null?null:this.getSelection();const i=this.editor.delta,o=e();if(a!=null&&(r===!0&&(r=a.index),s==null?a=RM(a,o,t):s!==0&&(a=RM(a,r,s,t)),this.setSelection(a,Lt.sources.SILENT)),o.length()>0){const l=[Lt.events.TEXT_CHANGE,o,i,t];this.emitter.emit(Lt.events.EDITOR_CHANGE,...l),t!==Lt.sources.SILENT&&this.emitter.emit(...l)}return o}function Sc(e,t,r,s,a){let i={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(a=s,s=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(a=s,s=r,r=t,t=0),typeof r=="object"?(i=r,a=s):typeof r=="string"&&(s!=null?i[r]=s:a=r),a=a||Lt.sources.API,[e,t,i,a]}function RM(e,t,r,s){const a=typeof r=="number"?r:0;if(e==null)return null;let i,o;return t&&typeof t.transformPosition=="function"?[i,o]=[e.index,e.index+e.length].map(l=>t.transformPosition(l,s!==Lt.sources.USER)):[i,o]=[e.index,e.index+e.length].map(l=>l<t||l===t&&s===Lt.sources.USER?l:a>=0?l+a:Math.max(t,l+a)),new sh(i,o-i)}class wh extends eN{}function PM(e){return e instanceof ra||e instanceof po}function MM(e){return typeof e.updateContent=="function"}class Am extends F_{constructor(t,r,s){let{emitter:a}=s;super(t,r),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(Lt.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Lt.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,r){this.emitter.emit(Lt.events.SCROLL_EMBED_UPDATE,t,r)}deleteAt(t,r){const[s,a]=this.line(t),[i]=this.line(t+r);if(super.deleteAt(t,r),i!=null&&s!==i&&a>0){if(s instanceof po||i instanceof po){this.optimize();return}const o=i.children.head instanceof xl?null:i.children.head;s.moveChildren(i,o),s.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,r,s,a){super.formatAt(t,r,s,a),this.optimize()}insertAt(t,r,s){if(t>=this.length())if(s==null||this.scroll.query(r,Wt.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),s==null&&r.endsWith(`
`)?a.insertAt(0,r.slice(0,-1),s):a.insertAt(0,r,s)}else{const a=this.scroll.create(r,s);this.appendChild(a)}else super.insertAt(t,r,s);this.optimize()}insertBefore(t,r){if(t.statics.scope===Wt.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(t),super.insertBefore(s,r)}else super.insertBefore(t,r)}insertContents(t,r){const s=this.deltaToRenderBlocks(r.concat(new zt().insert(`
`))),a=s.pop();if(a==null)return;this.batchStart();const i=s.shift();if(i){const u=i.type==="block"&&(i.delta.length()===0||!this.descendant(po,t)[0]&&t<this.length()),f=i.type==="block"?i.delta:new zt().insert({[i.key]:i.value});GS(this,t,f);const h=i.type==="block"?1:0,x=t+f.length()+h;u&&this.insertAt(x-1,`
`);const p=uo(this.line(t)[0]),y=go.AttributeMap.diff(p,i.attributes)||{};Object.keys(y).forEach(N=>{this.formatAt(x-1,1,N,y[N])}),t=x}let[o,l]=this.children.find(t);if(s.length&&(o&&(o=o.split(l),l=0),s.forEach(u=>{if(u.type==="block"){const f=this.createBlock(u.attributes,o||void 0);GS(f,0,u.delta)}else{const f=this.create(u.key,u.value);this.insertBefore(f,o||void 0),Object.keys(u.attributes).forEach(h=>{f.format(h,u.attributes[h])})}})),a.type==="block"&&a.delta.length()){const u=o?o.offset(o.scroll)+l:this.length();GS(this,u,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const r=this.path(t).pop();if(!r)return[null,-1];const[s,a]=r;return s instanceof Ea?[s,a]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(PM,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(a,i,o)=>{let l=[],u=o;return a.children.forEachAt(i,o,(f,h,x)=>{PM(f)?l.push(f):f instanceof eN&&(l=l.concat(s(f,h,u))),u-=x}),l};return s(this,t,r)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,r),t.length>0&&this.emitter.emit(Lt.events.SCROLL_OPTIMIZE,t,r))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let r=Lt.sources.USER;typeof t=="string"&&(r=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(s=>{let{target:a}=s;const i=this.find(a,!0);return i&&!MM(i)}),t.length>0&&this.emitter.emit(Lt.events.SCROLL_BEFORE_UPDATE,r,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(Lt.events.SCROLL_UPDATE,r,t)}updateEmbedAt(t,r,s){const[a]=this.descendant(i=>i instanceof po,t);a&&a.statics.blotName===r&&MM(a)&&a.updateContent(s)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const r=[];let s=new zt;return t.forEach(a=>{const i=a==null?void 0:a.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(u=>{s.insert(u,a.attributes),r.push({type:"block",delta:s,attributes:a.attributes??{}}),s=new zt});const l=o[o.length-1];l&&s.insert(l,a.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,Wt.INLINE)?s.push(a):(s.length()&&r.push({type:"block",delta:s,attributes:{}}),s=new zt,r.push({type:"blockEmbed",key:o,value:i[o],attributes:a.attributes??{}}))}}),s.length()&&r.push({type:"block",delta:s,attributes:{}}),r}createBlock(t,r){let s;const a={};Object.entries(t).forEach(l=>{let[u,f]=l;this.query(u,Wt.BLOCK&Wt.BLOT)!=null?s=u:a[u]=f});const i=this.create(s||this.statics.defaultChild.blotName,s?t[s]:void 0);this.insertBefore(i,r||void 0);const o=i.length();return Object.entries(a).forEach(l=>{let[u,f]=l;i.formatAt(0,o,u,f)}),i}}Ot(Am,"blotName","scroll"),Ot(Am,"className","ql-editor"),Ot(Am,"tagName","DIV"),Ot(Am,"defaultChild",ra),Ot(Am,"allowedChildren",[ra,po,wh]);function GS(e,t,r){r.reduce((s,a)=>{const i=go.Op.length(a);let o=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const l=a.insert;e.insertAt(s,l);const[u]=e.descendant(Ea,s),f=uo(u);o=go.AttributeMap.diff(f,o)||{}}else if(typeof a.insert=="object"){const l=Object.keys(a.insert)[0];if(l==null)return s;if(e.insertAt(s,l,a.insert[l]),e.scroll.query(l,Wt.INLINE)!=null){const[f]=e.descendant(Ea,s),h=uo(f);o=go.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(l=>{e.formatAt(s,i,l,o[l])}),s+i},t)}const B_={scope:Wt.BLOCK,whitelist:["right","center","justify"]},iEe=new Ql("align","align",B_),qV=new pl("align","ql-align",B_),zV=new Hu("align","text-align",B_);class HV extends Hu{value(t){let r=super.value(t);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${r.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):r}}const oEe=new pl("color","ql-color",{scope:Wt.INLINE}),$_=new HV("color","color",{scope:Wt.INLINE}),lEe=new pl("background","ql-bg",{scope:Wt.INLINE}),U_=new HV("background","background-color",{scope:Wt.INLINE});class Nh extends wh{static create(t){const r=super.create(t);return r.setAttribute("spellcheck","false"),r}code(t,r){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(t,t+r)}html(t,r){return`<pre>
${tN(this.code(t,r))}
</pre>`}}class Ca extends ra{static register(){st.register(Nh)}}Ot(Ca,"TAB","  ");class V_ extends Zl{}V_.blotName="code";V_.tagName="CODE";Ca.blotName="code-block";Ca.className="ql-code-block";Ca.tagName="DIV";Nh.blotName="code-block-container";Nh.className="ql-code-block-container";Nh.tagName="DIV";Nh.allowedChildren=[Ca];Ca.allowedChildren=[cl,xl,A0];Ca.requiredContainer=Nh;const q_={scope:Wt.BLOCK,whitelist:["rtl"]},WV=new Ql("direction","dir",q_),GV=new pl("direction","ql-direction",q_),YV=new Hu("direction","direction",q_),KV={scope:Wt.INLINE,whitelist:["serif","monospace"]},XV=new pl("font","ql-font",KV);class cEe extends Hu{value(t){return super.value(t).replace(/["']/g,"")}}const QV=new cEe("font","font-family",KV),ZV=new pl("size","ql-size",{scope:Wt.INLINE,whitelist:["small","large","huge"]}),JV=new Hu("size","font-size",{scope:Wt.INLINE,whitelist:["10px","18px","32px"]}),dEe=ld("quill:keyboard"),uEe=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class rN extends gl{static match(t,r){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!r[s]!==t[s]&&r[s]!==null)?!1:r.key===t.key||r.key===t.which}constructor(t,r){super(t,r),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=hEe(t);if(a==null){dEe.warn("Attempted to add invalid keyboard binding",a);return}typeof r=="function"&&(r={handler:r}),typeof s=="function"&&(s={handler:s}),(Array.isArray(a.key)?a.key:[a.key]).forEach(o=>{const l={...a,key:o,...r,...s};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const a=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(j=>rN.match(t,j));if(a.length===0)return;const i=st.find(t.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,u]=this.quill.getLine(o.index),[f,h]=this.quill.getLeaf(o.index),[x,p]=o.length===0?[f,h]:this.quill.getLeaf(o.index+o.length),y=f instanceof Ob?f.value().slice(0,h):"",N=x instanceof Ob?x.value().slice(p):"",b={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:u,prefix:y,suffix:N,event:t};a.some(j=>{if(j.collapsed!=null&&j.collapsed!==b.collapsed||j.empty!=null&&j.empty!==b.empty||j.offset!=null&&j.offset!==b.offset)return!1;if(Array.isArray(j.format)){if(j.format.every(S=>b.format[S]==null))return!1}else if(typeof j.format=="object"&&!Object.keys(j.format).every(S=>j.format[S]===!0?b.format[S]!=null:j.format[S]===!1?b.format[S]==null:tu(j.format[S],b.format[S])))return!1;return j.prefix!=null&&!j.prefix.test(b.prefix)||j.suffix!=null&&!j.suffix.test(b.suffix)?!1:j.handler.call(this,o,b,j)!==!0})&&t.preventDefault()})}handleBackspace(t,r){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(r.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let a={};const[i]=this.quill.getLine(t.index);let o=new zt().retain(t.index-s).delete(s);if(r.offset===0){const[l]=this.quill.getLine(t.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const f=i.formats(),h=this.quill.getFormat(t.index-1,1);if(a=go.AttributeMap.diff(f,h)||{},Object.keys(a).length>0){const x=new zt().retain(t.index+i.length()-2).retain(1,a);o=o.compose(x)}}}this.quill.updateContents(o,st.sources.USER),this.quill.focus()}handleDelete(t,r){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(r.suffix)?2:1;if(t.index>=this.quill.getLength()-s)return;let a={};const[i]=this.quill.getLine(t.index);let o=new zt().retain(t.index).delete(s);if(r.offset>=i.length()-1){const[l]=this.quill.getLine(t.index+1);if(l){const u=i.formats(),f=this.quill.getFormat(t.index,1);a=go.AttributeMap.diff(u,f)||{},Object.keys(a).length>0&&(o=o.retain(l.length()-1).retain(1,a))}}this.quill.updateContents(o,st.sources.USER),this.quill.focus()}handleDeleteRange(t){z_({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,r){const s=Object.keys(r.format).reduce((i,o)=>(this.quill.scroll.query(o,Wt.BLOCK)&&!Array.isArray(r.format[o])&&(i[o]=r.format[o]),i),{}),a=new zt().retain(t.index).delete(t.length).insert(`
`,s);this.quill.updateContents(a,st.sources.USER),this.quill.setSelection(t.index+1,st.sources.SILENT),this.quill.focus()}}const fEe={bindings:{bold:YS("bold"),italic:YS("italic"),underline:YS("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",st.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",st.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){t.format.indent!=null?this.quill.format("indent","-1",st.sources.USER):t.format.list!=null&&this.quill.format("list",!1,st.sources.USER)}},"indent code-block":IM(!0),"outdent code-block":IM(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,st.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const r=new zt().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(r,st.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,st.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,st.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const r={list:!1};t.format.indent&&(r.indent=!1),this.quill.formatLine(e.index,e.length,r,st.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,r]=this.quill.getLine(e.index),s={...t.formats(),list:"checked"},a=new zt().retain(e.index).insert(`
`,s).retain(t.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,st.sources.USER),this.quill.setSelection(e.index+1,st.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[r,s]=this.quill.getLine(e.index),a=new zt().retain(e.index).insert(`
`,t.format).retain(r.length()-s-1).retain(1,{header:null});this.quill.updateContents(a,st.sources.USER),this.quill.setSelection(e.index+1,st.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[r,s,a,i]=t.getTable(e),o=mEe(r,s,a,i);if(o==null)return;let l=r.offset();if(o<0){const u=new zt().retain(l).insert(`
`);this.quill.updateContents(u,st.sources.USER),this.quill.setSelection(e.index+1,e.length,st.sources.SILENT)}else if(o>0){l+=r.length();const u=new zt().retain(l).insert(`
`);this.quill.updateContents(u,st.sources.USER),this.quill.setSelection(l,st.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:r,line:s}=t,a=s.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(a-1,st.sources.USER):this.quill.setSelection(a+s.length(),st.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query("list")==null)return!0;const{length:r}=t.prefix,[s,a]=this.quill.getLine(e.index);if(a>r)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(e.index," ",st.sources.USER),this.quill.history.cutoff();const o=new zt().retain(e.index-a).delete(r+1).retain(s.length()-2-a).retain(1,{list:i});return this.quill.updateContents(o,st.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,st.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,r]=this.quill.getLine(e.index);let s=2,a=t;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,s-=1,s<=0){const i=new zt().retain(e.index+t.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,st.sources.USER),this.quill.setSelection(e.index-1,st.sources.SILENT),!1}return!0}},"embed left":f1("ArrowLeft",!1),"embed left shift":f1("ArrowLeft",!0),"embed right":f1("ArrowRight",!1),"embed right shift":f1("ArrowRight",!0),"table down":FM(!1),"table up":FM(!0)}};rN.DEFAULTS=fEe;function IM(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,r){let{event:s}=r;const a=this.quill.scroll.query("code-block"),{TAB:i}=a;if(t.length===0&&!s.shiftKey){this.quill.insertText(t.index,i,st.sources.USER),this.quill.setSelection(t.index+i.length,st.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:u}=t;o.forEach((f,h)=>{e?(f.insertAt(0,i),h===0?l+=i.length:u+=i.length):f.domNode.textContent.startsWith(i)&&(f.deleteAt(0,i.length),h===0?l-=i.length:u-=i.length)}),this.quill.update(st.sources.USER),this.quill.setSelection(l,u,st.sources.SILENT)}}}function f1(e,t){return{key:e,shiftKey:t,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:a}=s;e==="ArrowRight"&&(a+=s.length+1);const[i]=this.quill.getLeaf(a);return i instanceof Hi?(e==="ArrowLeft"?t?this.quill.setSelection(s.index-1,s.length+1,st.sources.USER):this.quill.setSelection(s.index-1,st.sources.USER):t?this.quill.setSelection(s.index,s.length+1,st.sources.USER):this.quill.setSelection(s.index+s.length+1,st.sources.USER),!1):!0}}}function YS(e){return{key:e[0],shortKey:!0,handler(t,r){this.quill.format(e,!r.format[e],st.sources.USER)}}}function FM(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,r){const s=e?"prev":"next",a=r.line,i=a.parent[s];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,l=a;for(;l.prev!=null;)l=l.prev,o=o.next;const u=o.offset(this.quill.scroll)+Math.min(r.offset,o.length()-1);this.quill.setSelection(u,0,st.sources.USER)}}else{const o=a.table()[s];o!=null&&(e?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,st.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,st.sources.USER))}return!1}}}function hEe(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=Ym(e);else return null;return e.shortKey&&(e[uEe]=e.shortKey,delete e.shortKey),e}function z_(e){let{quill:t,range:r}=e;const s=t.getLines(r);let a={};if(s.length>1){const i=s[0].formats(),o=s[s.length-1].formats();a=go.AttributeMap.diff(o,i)||{}}t.deleteText(r,st.sources.USER),Object.keys(a).length>0&&t.formatLine(r.index,1,a,st.sources.USER),t.setSelection(r.index,st.sources.SILENT)}function mEe(e,t,r,s){return t.prev==null&&t.next==null?r.prev==null&&r.next==null?s===0?-1:1:r.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const pEe=/font-weight:\s*normal/,xEe=["P","OL","UL"],LM=e=>e&&xEe.includes(e.tagName),gEe=e=>{Array.from(e.querySelectorAll("br")).filter(t=>LM(t.previousElementSibling)&&LM(t.nextElementSibling)).forEach(t=>{var r;(r=t.parentNode)==null||r.removeChild(t)})},yEe=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var r;return(r=t.getAttribute("style"))==null?void 0:r.match(pEe)}).forEach(t=>{var s;const r=e.createDocumentFragment();r.append(...t.childNodes),(s=t.parentNode)==null||s.replaceChild(r,t)})};function vEe(e){e.querySelector('[id^="docs-internal-guid-"]')&&(yEe(e),gEe(e))}const bEe=/\bmso-list:[^;]*ignore/i,wEe=/\bmso-list:[^;]*\bl(\d+)/i,NEe=/\bmso-list:[^;]*\blevel(\d+)/i,jEe=(e,t)=>{const r=e.getAttribute("style"),s=r==null?void 0:r.match(wEe);if(!s)return null;const a=Number(s[1]),i=r==null?void 0:r.match(NEe),o=i?Number(i[1]):1,l=new RegExp(`@list l${a}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=t.match(l),f=u&&u[1]==="bullet"?"bullet":"ordered";return{id:a,indent:o,type:f,element:e}},SEe=e=>{var o,l;const t=Array.from(e.querySelectorAll("[style*=mso-list]")),r=[],s=[];t.forEach(u=>{(u.getAttribute("style")||"").match(bEe)?r.push(u):s.push(u)}),r.forEach(u=>{var f;return(f=u.parentNode)==null?void 0:f.removeChild(u)});const a=e.documentElement.innerHTML,i=s.map(u=>jEe(u,a)).filter(u=>u);for(;i.length;){const u=[];let f=i.shift();for(;f;)u.push(f),f=i.length&&((o=i[0])==null?void 0:o.element)===f.element.nextElementSibling&&i[0].id===f.id?i.shift():null;const h=document.createElement("ul");u.forEach(y=>{const N=document.createElement("li");N.setAttribute("data-list",y.type),y.indent>1&&N.setAttribute("class",`ql-indent-${y.indent-1}`),N.innerHTML=y.element.innerHTML,h.appendChild(N)});const x=(l=u[0])==null?void 0:l.element,{parentNode:p}=x??{};x&&(p==null||p.replaceChild(h,x)),u.slice(1).forEach(y=>{let{element:N}=y;p==null||p.removeChild(N)})}};function EEe(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&SEe(e)}const AEe=[EEe,vEe],TEe=e=>{e.documentElement&&AEe.forEach(t=>{t(e)})},CEe=ld("quill:clipboard"),_Ee=[[Node.TEXT_NODE,UEe],[Node.TEXT_NODE,$M],["br",PEe],[Node.ELEMENT_NODE,$M],[Node.ELEMENT_NODE,REe],[Node.ELEMENT_NODE,OEe],[Node.ELEMENT_NODE,BEe],["li",FEe],["ol, ul",LEe],["pre",MEe],["tr",$Ee],["b",KS("bold")],["i",KS("italic")],["strike",KS("strike")],["style",IEe]],kEe=[iEe,WV].reduce((e,t)=>(e[t.keyName]=t,e),{}),BM=[zV,U_,$_,YV,QV,JV].reduce((e,t)=>(e[t.keyName]=t,e),{});class eq extends gl{constructor(t,r){super(t,r),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],_Ee.concat(this.options.matchers??[]).forEach(s=>{let[a,i]=s;this.addMatcher(a,i)})}addMatcher(t,r){this.matchers.push([t,r])}convert(t){let{html:r,text:s}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[Ca.blotName])return new zt().insert(s||"",{[Ca.blotName]:a[Ca.blotName]});if(!r)return new zt().insert(s||"",a);const i=this.convertHTML(r);return Ey(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||a.table)?i.compose(new zt().retain(i.length()-1).delete(1)):i}normalizeHTML(t){TEe(t)}convertHTML(t){const r=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(r);const s=r.body,a=new WeakMap,[i,o]=this.prepareMatching(s,a);return H_(this.quill.scroll,s,i,o,a)}dangerouslyPasteHTML(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:st.sources.API;if(typeof t=="string"){const a=this.convert({html:t,text:""});this.quill.setContents(a,r),this.quill.setSelection(0,st.sources.SILENT)}else{const a=this.convert({html:r,text:""});this.quill.updateContents(new zt().retain(t).concat(a),s),this.quill.setSelection(t+a.length(),st.sources.SILENT)}}onCaptureCopy(t){var o,l;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:a,text:i}=this.onCopy(s,r);(o=t.clipboardData)==null||o.setData("text/plain",i),(l=t.clipboardData)==null||l.setData("text/html",a),r&&z_({range:s,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(r=>r[0]!=="#").join(`
`)}onCapturePaste(t){var o,l,u,f,h;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const r=this.quill.getSelection(!0);if(r==null)return;const s=(o=t.clipboardData)==null?void 0:o.getData("text/html");let a=(l=t.clipboardData)==null?void 0:l.getData("text/plain");if(!s&&!a){const x=(u=t.clipboardData)==null?void 0:u.getData("text/uri-list");x&&(a=this.normalizeURIList(x))}const i=Array.from(((f=t.clipboardData)==null?void 0:f.files)||[]);if(!s&&i.length>0){this.quill.uploader.upload(r,i);return}if(s&&i.length>0){const x=new DOMParser().parseFromString(s,"text/html");if(x.body.childElementCount===1&&((h=x.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(r,i);return}}this.onPaste(r,{html:s,text:a})}onCopy(t){const r=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:r}}onPaste(t,r){let{text:s,html:a}=r;const i=this.quill.getFormat(t.index),o=this.convert({text:s,html:a},i);CEe.log("onPaste",o,{text:s,html:a});const l=new zt().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(l,st.sources.USER),this.quill.setSelection(l.length()-t.length,st.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,r){const s=[],a=[];return this.matchers.forEach(i=>{const[o,l]=i;switch(o){case Node.TEXT_NODE:a.push(l);break;case Node.ELEMENT_NODE:s.push(l);break;default:Array.from(t.querySelectorAll(o)).forEach(u=>{if(r.has(u)){const f=r.get(u);f==null||f.push(l)}else r.set(u,[l])});break}}),[s,a]}}Ot(eq,"DEFAULTS",{matchers:[]});function jh(e,t,r,s){return s.query(t)?e.reduce((a,i)=>{if(!i.insert)return a;if(i.attributes&&i.attributes[t])return a.push(i);const o=r?{[t]:r}:{};return a.insert(i.insert,{...o,...i.attributes})},new zt):e}function Ey(e,t){let r="";for(let s=e.ops.length-1;s>=0&&r.length<t.length;--s){const a=e.ops[s];if(typeof a.insert!="string")break;r=a.insert+r}return r.slice(-1*t.length)===t}function fu(e,t){if(!(e instanceof Element))return!1;const r=t.query(e);return r&&r.prototype instanceof Hi?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function DEe(e,t){return e.previousElementSibling&&e.nextElementSibling&&!fu(e.previousElementSibling,t)&&!fu(e.nextElementSibling,t)}const h1=new WeakMap;function tq(e){return e==null?!1:(h1.has(e)||(e.tagName==="PRE"?h1.set(e,!0):h1.set(e,tq(e.parentNode))),h1.get(e))}function H_(e,t,r,s,a){return t.nodeType===t.TEXT_NODE?s.reduce((i,o)=>o(t,i,e),new zt):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,o)=>{let l=H_(e,o,r,s,a);return o.nodeType===t.ELEMENT_NODE&&(l=r.reduce((u,f)=>f(o,u,e),l),l=(a.get(o)||[]).reduce((u,f)=>f(o,u,e),l)),i.concat(l)},new zt):new zt}function KS(e){return(t,r,s)=>jh(r,e,!0,s)}function OEe(e,t,r){const s=Ql.keys(e),a=pl.keys(e),i=Hu.keys(e),o={};return s.concat(a).concat(i).forEach(l=>{let u=r.query(l,Wt.ATTRIBUTE);u!=null&&(o[u.attrName]=u.value(e),o[u.attrName])||(u=kEe[l],u!=null&&(u.attrName===l||u.keyName===l)&&(o[u.attrName]=u.value(e)||void 0),u=BM[l],u!=null&&(u.attrName===l||u.keyName===l)&&(u=BM[l],o[u.attrName]=u.value(e)||void 0))}),Object.entries(o).reduce((l,u)=>{let[f,h]=u;return jh(l,f,h,r)},t)}function REe(e,t,r){const s=r.query(e);if(s==null)return t;if(s.prototype instanceof Hi){const a={},i=s.value(e);if(i!=null)return a[s.blotName]=i,new zt().insert(a,s.formats(e,r))}else if(s.prototype instanceof Dg&&!Ey(t,`
`)&&t.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return jh(t,s.blotName,s.formats(e,r),r);return t}function PEe(e,t){return Ey(t,`
`)||t.insert(`
`),t}function MEe(e,t,r){const s=r.query("code-block"),a=s&&"formats"in s&&typeof s.formats=="function"?s.formats(e,r):!0;return jh(t,"code-block",a,r)}function IEe(){return new zt}function FEe(e,t,r){const s=r.query(e);if(s==null||s.blotName!=="list"||!Ey(t,`
`))return t;let a=-1,i=e.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(a+=1),i=i.parentNode;return a<=0?t:t.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:a,...l.attributes||{}}):o,new zt)}function LEe(e,t,r){const s=e;let a=s.tagName==="OL"?"ordered":"bullet";const i=s.getAttribute("data-checked");return i&&(a=i==="true"?"checked":"unchecked"),jh(t,"list",a,r)}function $M(e,t,r){if(!Ey(t,`
`)){if(fu(e,r)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&e.nextSibling){let s=e.nextSibling;for(;s!=null;){if(fu(s,r))return t.insert(`
`);const a=r.query(s);if(a&&a.prototype instanceof po)return t.insert(`
`);s=s.firstChild}}}return t}function BEe(e,t,r){var i;const s={},a=e.style||{};return a.fontStyle==="italic"&&(s.italic=!0),a.textDecoration==="underline"&&(s.underline=!0),a.textDecoration==="line-through"&&(s.strike=!0),((i=a.fontWeight)!=null&&i.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(s.bold=!0),t=Object.entries(s).reduce((o,l)=>{let[u,f]=l;return jh(o,u,f,r)},t),parseFloat(a.textIndent||0)>0?new zt().insert("	").concat(t):t}function $Ee(e,t,r){var a,i;const s=((a=e.parentElement)==null?void 0:a.tagName)==="TABLE"?e.parentElement:(i=e.parentElement)==null?void 0:i.parentElement;if(s!=null){const l=Array.from(s.querySelectorAll("tr")).indexOf(e)+1;return jh(t,"table",l,r)}return t}function UEe(e,t,r){var a;let s=e.data;if(((a=e.parentElement)==null?void 0:a.tagName)==="O:P")return t.insert(s.trim());if(!tq(e)){if(s.trim().length===0&&s.includes(`
`)&&!DEe(e,r))return t;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&fu(e.parentElement,r)||e.previousSibling instanceof Element&&fu(e.previousSibling,r))&&(s=s.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&fu(e.parentElement,r)||e.nextSibling instanceof Element&&fu(e.nextSibling,r))&&(s=s.replace(/ $/,"")),s=s.replaceAll(" "," ")}return t.insert(s)}class rq extends gl{constructor(r,s){super(r,s);Ot(this,"lastRecorded",0);Ot(this,"ignoreChange",!1);Ot(this,"stack",{undo:[],redo:[]});Ot(this,"currentRange",null);this.quill.on(st.events.EDITOR_CHANGE,(a,i,o,l)=>{a===st.events.SELECTION_CHANGE?i&&l!==st.sources.SILENT&&(this.currentRange=i):a===st.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===st.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=tT(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",a=>{a.inputType==="historyUndo"?(this.undo(),a.preventDefault()):a.inputType==="historyRedo"&&(this.redo(),a.preventDefault())})}change(r,s){if(this.stack[r].length===0)return;const a=this.stack[r].pop();if(!a)return;const i=this.quill.getContents(),o=a.delta.invert(i);this.stack[s].push({delta:o,range:tT(a.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(a.delta,st.sources.USER),this.ignoreChange=!1,this.restoreSelection(a)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,s){if(r.ops.length===0)return;this.stack.redo=[];let a=r.invert(s),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(a=a.compose(l.delta),i=l.range)}else this.lastRecorded=o;a.length()!==0&&(this.stack.undo.push({delta:a,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){UM(this.stack.undo,r),UM(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,st.sources.USER);else{const s=qEe(this.quill.scroll,r.delta);this.quill.setSelection(s,st.sources.USER)}}}Ot(rq,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function UM(e,t){let r=t;for(let s=e.length-1;s>=0;s-=1){const a=e[s];e[s]={delta:r.transform(a.delta,!0),range:a.range&&tT(a.range,r)},r=a.delta.transform(r),e[s].delta.length()===0&&e.splice(s,1)}}function VEe(e,t){const r=t.ops[t.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(s=>e.query(s,Wt.BLOCK)!=null):!1}function qEe(e,t){const r=t.reduce((a,i)=>a+(i.delete||0),0);let s=t.length()-r;return VEe(e,t)&&(s-=1),s}function tT(e,t){if(!e)return e;const r=t.transformPosition(e.index),s=t.transformPosition(e.index+e.length);return{index:r,length:s-r}}class sq extends gl{constructor(t,r){super(t,r),t.root.addEventListener("drop",s=>{var o;s.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(s.clientX,s.clientY);a=document.createRange(),a.setStart(l.offsetNode,l.offset),a.setEnd(l.offsetNode,l.offset)}const i=a&&t.selection.normalizeNative(a);if(i){const l=t.selection.normalizedToRange(i);(o=s.dataTransfer)!=null&&o.files&&this.upload(l,s.dataTransfer.files)}})}upload(t,r){const s=[];Array.from(r).forEach(a=>{var i;a&&((i=this.options.mimetypes)!=null&&i.includes(a.type))&&s.push(a)}),s.length>0&&this.options.handler.call(this,t,s)}}sq.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const r=t.map(s=>new Promise(a=>{const i=new FileReader;i.onload=()=>{a(i.result)},i.readAsDataURL(s)}));Promise.all(r).then(s=>{const a=s.reduce((i,o)=>i.insert({image:o}),new zt().retain(e.index).delete(e.length));this.quill.updateContents(a,Lt.sources.USER),this.quill.setSelection(e.index+s.length,Lt.sources.SILENT)})}};const zEe=["insertText","insertReplacementText"];class HEe extends gl{constructor(t,r){super(t,r),t.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||t.on(st.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){z_({range:t,quill:this.quill})}replaceText(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(r){const s=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new zt().retain(t.index).insert(r,s),st.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+r.length,0,st.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!zEe.includes(t.inputType))return;const r=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!r||r.collapsed===!0)return;const s=WEe(t);if(s==null)return;const a=this.quill.selection.normalizeNative(r),i=a?this.quill.selection.normalizedToRange(a):null;i&&this.replaceText(i,s)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function WEe(e){var t;return typeof e.data=="string"?e.data:(t=e.dataTransfer)!=null&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const GEe=/Mac/i.test(navigator.platform),YEe=100,KEe=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||GEe&&e.key==="a"&&e.ctrlKey===!0);class XEe extends gl{constructor(r,s){super(r,s);Ot(this,"isListening",!1);Ot(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,s){let{line:a,event:i}=s;if(!(a instanceof el)||!a.uiNode)return!0;const o=getComputedStyle(a.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(r.index-1,r.length+(i.shiftKey?1:0),st.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",r=>{!r.defaultPrevented&&KEe(r)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+YEe,this.isListening)return;this.isListening=!0;const r=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",r,{once:!0})}handleSelectionChange(){const r=document.getSelection();if(!r)return;const s=r.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;const a=this.quill.scroll.find(s.startContainer);if(!(a instanceof el)||!a.uiNode)return;const i=document.createRange();i.setStartAfter(a.uiNode),i.setEndAfter(a.uiNode),r.removeAllRanges(),r.addRange(i)}}st.register({"blots/block":ra,"blots/block/embed":po,"blots/break":xl,"blots/container":wh,"blots/cursor":A0,"blots/embed":L_,"blots/inline":Zl,"blots/scroll":Am,"blots/text":cl,"modules/clipboard":eq,"modules/history":rq,"modules/keyboard":rN,"modules/uploader":sq,"modules/input":HEe,"modules/uiNode":XEe});class QEe extends pl{add(t,r){let s=0;if(r==="+1"||r==="-1"){const a=this.value(t)||0;s=r==="+1"?a+1:a-1}else typeof r=="number"&&(s=r);return s===0?(this.remove(t),!0):super.add(t,s.toString())}canAdd(t,r){return super.canAdd(t,r)||super.canAdd(t,parseInt(r,10))}value(t){return parseInt(super.value(t),10)||void 0}}const ZEe=new QEe("indent","ql-indent",{scope:Wt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class rT extends ra{}Ot(rT,"blotName","blockquote"),Ot(rT,"tagName","blockquote");class sT extends ra{static formats(t){return this.tagName.indexOf(t.tagName)+1}}Ot(sT,"blotName","header"),Ot(sT,"tagName",["H1","H2","H3","H4","H5","H6"]);class Ay extends wh{}Ay.blotName="list-container";Ay.tagName="OL";class Ty extends ra{static create(t){const r=super.create();return r.setAttribute("data-list",t),r}static formats(t){return t.getAttribute("data-list")||void 0}static register(){st.register(Ay)}constructor(t,r){super(t,r);const s=r.ownerDocument.createElement("span"),a=i=>{if(!t.isEnabled())return;const o=this.statics.formats(r,t);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};s.addEventListener("mousedown",a),s.addEventListener("touchstart",a),this.attachUI(s)}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-list",r):super.format(t,r)}}Ty.blotName="list";Ty.tagName="LI";Ay.allowedChildren=[Ty];Ty.requiredContainer=Ay;class Rg extends Zl{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Ot(Rg,"blotName","bold"),Ot(Rg,"tagName",["STRONG","B"]);class nT extends Rg{}Ot(nT,"blotName","italic"),Ot(nT,"tagName",["EM","I"]);class hu extends Zl{static create(t){const r=super.create(t);return r.setAttribute("href",this.sanitize(t)),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(t){return t.getAttribute("href")}static sanitize(t){return nq(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,r){t!==this.statics.blotName||!r?super.format(t,r):this.domNode.setAttribute("href",this.constructor.sanitize(r))}}Ot(hu,"blotName","link"),Ot(hu,"tagName","A"),Ot(hu,"SANITIZED_URL","about:blank"),Ot(hu,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function nq(e,t){const r=document.createElement("a");r.href=e;const s=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(s)>-1}class aT extends Zl{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}Ot(aT,"blotName","script"),Ot(aT,"tagName",["SUB","SUP"]);class iT extends Rg{}Ot(iT,"blotName","strike"),Ot(iT,"tagName",["S","STRIKE"]);class oT extends Zl{}Ot(oT,"blotName","underline"),Ot(oT,"tagName","U");class U1 extends L_{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const r=super.create(t);return typeof t=="string"&&(window.katex.render(t,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",t)),r}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}Ot(U1,"blotName","formula"),Ot(U1,"className","ql-formula"),Ot(U1,"tagName","SPAN");const VM=["alt","height","width"];class lT extends Hi{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("src",this.sanitize(t)),r}static formats(t){return VM.reduce((r,s)=>(t.hasAttribute(s)&&(r[s]=t.getAttribute(s)),r),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return nq(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,r){VM.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}}Ot(lT,"blotName","image"),Ot(lT,"tagName","IMG");const qM=["height","width"];class V1 extends po{static create(t){const r=super.create(t);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("src",this.sanitize(t)),r}static formats(t){return qM.reduce((r,s)=>(t.hasAttribute(s)&&(r[s]=t.getAttribute(s)),r),{})}static sanitize(t){return hu.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,r){qM.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}Ot(V1,"blotName","video"),Ot(V1,"className","ql-video"),Ot(V1,"tagName","IFRAME");const Tx=new pl("code-token","hljs",{scope:Wt.INLINE});class Qc extends Zl{static formats(t,r){for(;t!=null&&t!==r.domNode;){if(t.classList&&t.classList.contains(Ca.className))return super.formats(t,r);t=t.parentNode}}constructor(t,r,s){super(t,r,s),Tx.add(this.domNode,s)}format(t,r){t!==Qc.blotName?super.format(t,r):r?Tx.add(this.domNode,r):(Tx.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Tx.value(this.domNode)||this.unwrap()}}Qc.blotName="code-token";Qc.className="ql-token";class fo extends Ca{static create(t){const r=super.create(t);return typeof t=="string"&&r.setAttribute("data-language",t),r}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,r){t===this.statics.blotName&&r?this.domNode.setAttribute("data-language",r):super.format(t,r)}replaceWith(t,r){return this.formatAt(0,this.length(),Qc.blotName,!1),super.replaceWith(t,r)}}class Fx extends Nh{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,r){t===fo.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(t,r)}))}formatAt(t,r,s,a){s===fo.blotName&&(this.forceNext=!0),super.formatAt(t,r,s,a)}highlight(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=fo.formats(this.children.head.domNode);if(r||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const o=this.children.reduce((u,f)=>u.concat(UV(f,!1)),new zt),l=t(a,i);o.diff(l).reduce((u,f)=>{let{retain:h,attributes:x}=f;return h?(x&&Object.keys(x).forEach(p=>{[fo.blotName,Qc.blotName].includes(p)&&this.formatAt(u,h,p,x[p])}),u+h):u},0)}this.cachedText=a,this.forceNext=!1}}html(t,r){const[s]=this.children.find(t);return`<pre data-language="${s?fo.formats(s.domNode):"plain"}">
${tN(this.code(t,r))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const r=fo.formats(this.children.head.domNode);r!==this.uiNode.value&&(this.uiNode.value=r)}}}Fx.allowedChildren=[fo];fo.requiredContainer=Fx;fo.allowedChildren=[Qc,A0,cl,xl];const JEe=(e,t,r)=>{if(typeof e.versionString=="string"){const s=e.versionString.split(".")[0];if(parseInt(s,10)>=11)return e.highlight(r,{language:t}).value}return e.highlight(t,r).value};class aq extends gl{static register(){st.register(Qc,!0),st.register(fo,!0),st.register(Fx,!0)}constructor(t,r){if(super(t,r),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,a)=>{let{key:i}=a;return s[i]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(st.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Fx))return;const r=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:a,label:i}=s;const o=r.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",a),r.appendChild(o)}),r.addEventListener("change",()=>{t.format(fo.blotName,r.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(r),t.children.head&&(r.value=fo.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(st.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(st.sources.USER);const s=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Fx):[t]).forEach(i=>{i.highlight(this.highlightBlot,r)}),this.quill.update(st.sources.SILENT),s!=null&&this.quill.setSelection(s,st.sources.SILENT)}highlightBlot(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(r=this.languages[r]?r:"plain",r==="plain")return tN(t).split(`
`).reduce((a,i,o)=>(o!==0&&a.insert(`
`,{[Ca.blotName]:r}),a.insert(i)),new zt);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(Ca.className),s.innerHTML=JEe(this.options.hljs,r,t),H_(this.quill.scroll,s,[(a,i)=>{const o=Tx.value(a);return o?i.compose(new zt().retain(i.length(),{[Qc.blotName]:o})):i}],[(a,i)=>a.data.split(`
`).reduce((o,l,u)=>(u!==0&&o.insert(`
`,{[Ca.blotName]:r}),o.insert(l)),i)],new WeakMap)}}aq.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Hx=class Hx extends ra{static create(t){const r=super.create();return t?r.setAttribute("data-row",t):r.setAttribute("data-row",W_()),r}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,r){t===Hx.blotName&&r?this.domNode.setAttribute("data-row",r):super.format(t,r)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Ot(Hx,"blotName","table"),Ot(Hx,"tagName","TD");let Yo=Hx;class Zc extends wh{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),r=this.children.tail.formats(),s=this.next.children.head.formats(),a=this.next.children.tail.formats();return t.table===r.table&&t.table===s.table&&t.table===a.table}return!1}optimize(t){super.optimize(t),this.children.forEach(r=>{if(r.next==null)return;const s=r.formats(),a=r.next.formats();if(s.table!==a.table){const i=this.splitAfter(r);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Ot(Zc,"blotName","table-row"),Ot(Zc,"tagName","TR");class Wl extends wh{}Ot(Wl,"blotName","table-body"),Ot(Wl,"tagName","TBODY");class C0 extends wh{balanceCells(){const t=this.descendants(Zc),r=t.reduce((s,a)=>Math.max(a.children.length,s),0);t.forEach(s=>{new Array(r-s.children.length).fill(0).forEach(()=>{let a;s.children.head!=null&&(a=Yo.formats(s.children.head.domNode));const i=this.scroll.create(Yo.blotName,a);s.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(r=>r.children.at(t))}deleteColumn(t){const[r]=this.descendant(Wl);r==null||r.children.head==null||r.children.forEach(s=>{const a=s.children.at(t);a!=null&&a.remove()})}insertColumn(t){const[r]=this.descendant(Wl);r==null||r.children.head==null||r.children.forEach(s=>{const a=s.children.at(t),i=Yo.formats(s.children.head.domNode),o=this.scroll.create(Yo.blotName,i);s.insertBefore(o,a)})}insertRow(t){const[r]=this.descendant(Wl);if(r==null||r.children.head==null)return;const s=W_(),a=this.scroll.create(Zc.blotName);r.children.head.children.forEach(()=>{const o=this.scroll.create(Yo.blotName,s);a.appendChild(o)});const i=r.children.at(t);r.insertBefore(a,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(r=>r)}}Ot(C0,"blotName","table-container"),Ot(C0,"tagName","TABLE");C0.allowedChildren=[Wl];Wl.requiredContainer=C0;Wl.allowedChildren=[Zc];Zc.requiredContainer=Wl;Zc.allowedChildren=[Yo];Yo.requiredContainer=Zc;function W_(){return`row-${Math.random().toString(36).slice(2,6)}`}class eAe extends gl{static register(){st.register(Yo),st.register(Zc),st.register(Wl),st.register(C0)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(C0).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,r]=this.getTable();r!=null&&(t.deleteColumn(r.cellOffset()),this.quill.update(st.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(st.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const r=t.offset();t.remove(),this.quill.update(st.sources.USER),this.quill.setSelection(r,st.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[r,s]=this.quill.getLine(t.index);if(r==null||r.statics.blotName!==Yo.blotName)return[null,null,null,-1];const a=r.parent;return[a.parent.parent,a,r,s]}insertColumn(t){const r=this.quill.getSelection();if(!r)return;const[s,a,i]=this.getTable(r);if(i==null)return;const o=i.cellOffset();s.insertColumn(o+t),this.quill.update(st.sources.USER);let l=a.rowOffset();t===0&&(l+=1),this.quill.setSelection(r.index+l,r.length,st.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const r=this.quill.getSelection();if(!r)return;const[s,a,i]=this.getTable(r);if(i==null)return;const o=a.rowOffset();s.insertRow(o+t),this.quill.update(st.sources.USER),t>0?this.quill.setSelection(r,st.sources.SILENT):this.quill.setSelection(r.index+a.children.length,r.length,st.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,r){const s=this.quill.getSelection();if(s==null)return;const a=new Array(t).fill(0).reduce(i=>{const o=new Array(r).fill(`
`).join("");return i.insert(o,{table:W_()})},new zt().retain(s.index));this.quill.updateContents(a,st.sources.USER),this.quill.setSelection(s.index,st.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(st.events.SCROLL_OPTIMIZE,t=>{t.some(r=>["TD","TR","TBODY","TABLE"].includes(r.target.tagName)?(this.quill.once(st.events.TEXT_CHANGE,(s,a,i)=>{i===st.sources.USER&&this.balanceTables()}),!0):!1)})}}const zM=ld("quill:toolbar");class G_ extends gl{constructor(t,r){var s,a;if(super(t,r),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),tAe(i,this.options.container),(a=(s=t.container)==null?void 0:s.parentNode)==null||a.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){zM.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var l;const o=(l=this.options.handlers)==null?void 0:l[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(st.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,r){this.handlers[t]=r}attach(t){let r=Array.from(t.classList).find(a=>a.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[r]==null&&this.quill.scroll.query(r)==null){zM.warn("ignoring attaching to nonexistent format",r,t);return}const s=t.tagName==="SELECT"?"change":"click";t.addEventListener(s,a=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const l=t.options[t.selectedIndex];l.hasAttribute("selected")?i=!1:i=l.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),a.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,i);else if(this.quill.scroll.query(r).prototype instanceof Hi){if(i=prompt(`Enter ${r}`),!i)return;this.quill.updateContents(new zt().retain(o.index).delete(o.length).insert({[r]:i}),st.sources.USER)}else this.quill.format(r,i,st.sources.USER);this.update(o)}),this.controls.push([r,t])}update(t){const r=t==null?{}:this.quill.getFormat(t);this.controls.forEach(s=>{const[a,i]=s;if(i.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(r[a]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(r[a])){let l=r[a];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${l}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=r[a],l=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",l),i.setAttribute("aria-pressed",l.toString())}else{const o=r[a]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}G_.DEFAULTS={};function HM(e,t,r){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${t}`),s.setAttribute("aria-pressed","false"),r!=null?(s.value=r,s.setAttribute("aria-label",`${t}: ${r}`)):s.setAttribute("aria-label",t),e.appendChild(s)}function tAe(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(r=>{const s=document.createElement("span");s.classList.add("ql-formats"),r.forEach(a=>{if(typeof a=="string")HM(s,a);else{const i=Object.keys(a)[0],o=a[i];Array.isArray(o)?rAe(s,i,o):HM(s,i,o)}}),e.appendChild(s)})}function rAe(e,t,r){const s=document.createElement("select");s.classList.add(`ql-${t}`),r.forEach(a=>{const i=document.createElement("option");a!==!1?i.setAttribute("value",String(a)):i.setAttribute("selected","selected"),s.appendChild(i)}),e.appendChild(s)}G_.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(r=>{this.quill.scroll.query(r,Wt.INLINE)!=null&&this.quill.format(r,!1,st.sources.USER)})}else this.quill.removeFormat(e.index,e.length,st.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();e==="rtl"&&t==null?this.quill.format("align","right",st.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,st.sources.USER),this.quill.format("direction",e,st.sources.USER)},indent(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t),s=parseInt(r.indent||0,10);if(e==="+1"||e==="-1"){let a=e==="+1"?1:-1;r.direction==="rtl"&&(a*=-1),this.quill.format("indent",s+a,st.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,st.sources.USER)},list(e){const t=this.quill.getSelection(),r=this.quill.getFormat(t);e==="check"?r.list==="checked"||r.list==="unchecked"?this.quill.format("list",!1,st.sources.USER):this.quill.format("list","unchecked",st.sources.USER):this.quill.format("list",e,st.sources.USER)}}};const sAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',nAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',aAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',iAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',oAe='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',lAe='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',cAe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',dAe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',WM='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',uAe='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',fAe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',hAe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',mAe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',pAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',xAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',gAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',yAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',vAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',bAe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',wAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',NAe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',jAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',SAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',EAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',AAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',TAe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',CAe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',_Ae='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',kAe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',DAe='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',OAe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',RAe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',PAe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Pg={align:{"":sAe,center:nAe,right:aAe,justify:iAe},background:oAe,blockquote:lAe,bold:cAe,clean:dAe,code:WM,"code-block":WM,color:uAe,direction:{"":fAe,rtl:hAe},formula:mAe,header:{1:pAe,2:xAe,3:gAe,4:yAe,5:vAe,6:bAe},italic:wAe,image:NAe,indent:{"+1":jAe,"-1":SAe},link:EAe,list:{bullet:AAe,check:TAe,ordered:CAe},script:{sub:_Ae,super:kAe},strike:DAe,table:OAe,underline:RAe,video:PAe},MAe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let GM=0;function YM(e,t){e.setAttribute(t,`${e.getAttribute(t)!=="true"}`)}class sN{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),r.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),YM(this.label,"aria-expanded"),YM(this.options,"aria-hidden")}buildItem(t){const r=document.createElement("span");r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item");const s=t.getAttribute("value");return s&&r.setAttribute("data-value",s),t.textContent&&r.setAttribute("data-label",t.textContent),r.addEventListener("click",()=>{this.selectItem(r,!0)}),r.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(r,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),r}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=MAe,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${GM}`,GM+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(r=>{const s=this.buildItem(r);t.appendChild(s),r.selected===!0&&this.selectItem(s)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");t!==s&&(s!=null&&s.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),r&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const r=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}class iq extends sN{constructor(t,r){super(t),this.label.innerHTML=r,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(t){const r=super.buildItem(t);return r.style.backgroundColor=t.getAttribute("value")||"",r}selectItem(t,r){super.selectItem(t,r);const s=this.label.querySelector(".ql-color-label"),a=t&&t.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=a:s.style.fill=a)}}class oq extends sN{constructor(t,r){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=r[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,r){super.selectItem(t,r);const s=t||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const IAe=e=>{const{overflowY:t}=getComputedStyle(e,null);return t!=="visible"&&t!=="clip"};class lq{constructor(t,r){this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,IAe(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const r=t.left+t.width/2-this.root.offsetWidth/2,s=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${r}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>a.right&&(o=a.right-i.right,this.root.style.left=`${r+o}px`),i.left<a.left&&(o=a.left-i.left,this.root.style.left=`${r+o}px`),i.bottom>a.bottom){const l=i.bottom-i.top,u=t.bottom-t.top+l;this.root.style.top=`${s-u}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const FAe=[!1,"center","right","justify"],LAe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],BAe=[!1,"serif","monospace"],$Ae=["1","2","3",!1],UAe=["small",!1,"large","huge"];class Cy extends T0{constructor(t,r){super(t,r);const s=a=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(a.target)||i.close()})};t.emitter.listenDOM("click",document.body,s)}addModule(t){const r=super.addModule(t);return t==="toolbar"&&this.extendToolbar(r),r}buildButtons(t,r){Array.from(t).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),r[i]!=null))if(i==="direction")s.innerHTML=r[i][""]+r[i].rtl;else if(typeof r[i]=="string")s.innerHTML=r[i];else{const o=s.value||"";o!=null&&r[i][o]&&(s.innerHTML=r[i][o])}})})}buildPickers(t,r){this.pickers=Array.from(t).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&px(a,FAe),typeof r.align=="object"))return new oq(a,r.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const i=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&px(a,LAe,i==="background"?"#ffffff":"#000000"),new iq(a,r[i])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?px(a,BAe):a.classList.contains("ql-header")?px(a,$Ae):a.classList.contains("ql-size")&&px(a,UAe)),new sN(a)});const s=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(Lt.events.EDITOR_CHANGE,s)}}Cy.DEFAULTS=bu({},T0.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class cq extends lq{constructor(t,r){super(t,r),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;r!=null?this.textbox.value=r:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:r}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,Lt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,Lt.sources.USER)),this.quill.root.scrollTop=r;break}case"video":t=VAe(t);case"formula":{if(!t)break;const r=this.quill.getSelection(!0);if(r!=null){const s=r.index+r.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),t,Lt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",Lt.sources.USER),this.quill.setSelection(s+2,Lt.sources.USER)}break}}this.textbox.value="",this.hide()}}function VAe(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}function px(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(s=>{const a=document.createElement("option");s===r?a.setAttribute("selected","selected"):a.setAttribute("value",String(s)),e.appendChild(a)})}const qAe=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class dq extends cq{constructor(t,r){super(t,r),this.quill.on(Lt.events.EDITOR_CHANGE,(s,a,i,o)=>{if(s===Lt.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&o===Lt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(a.index,a.length);if(l.length===1){const u=this.quill.getBounds(a);u!=null&&this.position(u)}else{const u=l[l.length-1],f=this.quill.getIndex(u),h=Math.min(u.length()-1,a.index+a.length-f),x=this.quill.getBounds(new sh(f,h));x!=null&&this.position(x)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Lt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const r=this.quill.getBounds(t);r!=null&&this.position(r)}},1)})}cancel(){this.show()}position(t){const r=super.position(t),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",r!==0&&(s.style.marginLeft=`${-1*r-s.offsetWidth/2}px`),r}}Ot(dq,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class uq extends Cy{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=qAe),super(t,r),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new dq(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Pg),this.buildPickers(t.container.querySelectorAll("select"),Pg))}}uq.DEFAULTS=bu({},Cy.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,st.sources.USER)}}}}});const zAe=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class fq extends cq{constructor(){super(...arguments);Ot(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",r=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),r.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",r=>{if(this.linkRange!=null){const s=this.linkRange;this.restoreFocus(),this.quill.formatText(s,"link",!1,Lt.sources.USER),delete this.linkRange}r.preventDefault(),this.hide()}),this.quill.on(Lt.events.SELECTION_CHANGE,(r,s,a)=>{if(r!=null){if(r.length===0&&a===Lt.sources.USER){const[i,o]=this.quill.scroll.descendant(hu,r.index);if(i!=null){this.linkRange=new sh(r.index-o,i.length());const l=hu.formats(i.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Ot(fq,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class hq extends Cy{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=zAe),super(t,r),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Pg),this.buildPickers(t.container.querySelectorAll("select"),Pg),this.tooltip=new fq(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(r,s)=>{t.handlers.link.call(t,!s.format.link)}))}}hq.DEFAULTS=bu({},Cy.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const t=this.quill.getSelection();if(t==null||t.length===0)return;let r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0&&(r=`mailto:${r}`);const{tooltip:s}=this.quill.theme;s.edit("link",r)}else this.quill.format("link",!1,st.sources.USER)}}}}});st.register({"attributors/attribute/direction":WV,"attributors/class/align":qV,"attributors/class/background":lEe,"attributors/class/color":oEe,"attributors/class/direction":GV,"attributors/class/font":XV,"attributors/class/size":ZV,"attributors/style/align":zV,"attributors/style/background":U_,"attributors/style/color":$_,"attributors/style/direction":YV,"attributors/style/font":QV,"attributors/style/size":JV},!0);st.register({"formats/align":qV,"formats/direction":GV,"formats/indent":ZEe,"formats/background":U_,"formats/color":$_,"formats/font":XV,"formats/size":ZV,"formats/blockquote":rT,"formats/code-block":Ca,"formats/header":sT,"formats/list":Ty,"formats/bold":Rg,"formats/code":V_,"formats/italic":nT,"formats/link":hu,"formats/script":aT,"formats/strike":iT,"formats/underline":oT,"formats/formula":U1,"formats/image":lT,"formats/video":V1,"modules/syntax":aq,"modules/table":eAe,"modules/toolbar":G_,"themes/bubble":uq,"themes/snow":hq,"ui/icons":Pg,"ui/picker":sN,"ui/icon-picker":oq,"ui/color-picker":iq,"ui/tooltip":lq},!0);class nN extends Le.Component{constructor(t){super(t),this.editingAreaRef=g.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(s,a,i,o)=>{var l,u;s==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,a,o,this.unprivilegedEditor):s==="selection-change"&&((u=this.onEditorChangeSelection)==null||u.call(this,a,o,this.unprivilegedEditor))};const r=this.isControlled()?t.value:t.defaultValue;this.value=r??""}validateProps(t){if(Le.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Le.Children.count(t.children)){const r=Le.Children.only(t.children);if((r==null?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(t,r){if(this.validateProps(t),!this.editor||this.state.generation!==r.generation)return!0;if("value"in t){const s=this.getEditorContents(),a=t.value??"";this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),[...this.cleanProps,...this.dirtyProps].some(s=>!tu(t[s],this.props[s]))}shouldComponentRegenerate(t){return this.dirtyProps.some(r=>!tu(t[r],this.props[r]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(t,r){if(this.editor&&this.shouldComponentRegenerate(t)){const s=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){const{delta:s,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const i=this.editor;i.setContents(s),KM(()=>this.setEditorSelection(i,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var s;if(!this.editor)return;this.unhookEditor(this.editor);const t=(s=this.props.modules)==null?void 0:s.toolbar;if(!(typeof t=="object"&&t&&"container"in t&&typeof t.container=="string"||typeof t=="string")){const a=document.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(t,r){const s=new st(t,r);return r.tabIndex!=null&&this.setEditorTabIndex(s,r.tabIndex),this.hookEditor(s),s}hookEditor(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)}unhookEditor(t){t.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(t){return t&&t.ops}isEqualValue(t,r){return this.isDelta(t)&&this.isDelta(r)?tu(t.ops,r.ops):tu(t,r)}setEditorContents(t,r){this.value=r;const s=this.getEditorSelection();typeof r=="string"?t.setContents(t.clipboard.convert({html:r})):t.setContents(r),KM(()=>this.setEditorSelection(t,s))}setEditorSelection(t,r){if(this.selection=r,r){const s=t.getLength();r.index=Math.max(0,Math.min(r.index,s-1)),r.length=Math.max(0,Math.min(r.length,s-1-r.index)),t.setSelection(r)}}setEditorTabIndex(t,r){var s;(s=t==null?void 0:t.scroll)!=null&&s.domNode&&(t.scroll.domNode.tabIndex=r)}setEditorReadOnly(t,r){r?t.disable():t.enable()}makeUnprivilegedEditor(t){const r=t;return{getHTML:()=>r.root.innerHTML,getSemanticHTML:r.getSemanticHTML.bind(r),getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}}getEditingArea(){const t=this.editingAreaRef.current;if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t}renderEditingArea(){const{children:t,preserveWhitespace:r}=this.props,{generation:s}=this.state,a={key:s,ref:this.editingAreaRef};return Le.Children.count(t)?Le.cloneElement(Le.Children.only(t),a):r?Le.createElement("pre",{...a}):Le.createElement("div",{...a})}render(){return Le.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(t,r,s,a){var o,l;if(!this.editor)return;const i=this.isDelta(this.value)?a.getContents():a.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=i,(l=(o=this.props).onChange)==null||l.call(o,t,r,s,a))}onEditorChangeSelection(t,r,s){var l,u,f,h,x,p;if(!this.editor)return;const a=this.getEditorSelection(),i=!a&&t,o=a&&!t;tu(t,a)||(this.selection=t,(u=(l=this.props).onChangeSelection)==null||u.call(l,t,r,s),i?(h=(f=this.props).onFocus)==null||h.call(f,t,r,s):o&&((p=(x=this.props).onBlur)==null||p.call(x,a,r,s)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}nN.displayName="React Quill";nN.Quill=st;nN.defaultProps={theme:"snow",modules:{},readOnly:!1};function KM(e){Promise.resolve().then(e)}const HAe=async()=>(await mt("/admin/categories?limit=1000")).categories,WAe=(e,t)=>$r(`/products/${e}/variants/bulk`,{variants:t}),GAe=5*1024*1024,mq=["image/jpeg","image/jpg","image/png","image/webp","image/gif"],YAe=ws({id:xi().optional(),hsnCode:ct().optional().nullable(),mrp:Ln.number().positive("MRP must be positive"),sellingPrice:Ln.number().positive("Selling price must be positive"),purchasePrice:Ln.number().positive("Purchase price must be positive"),name:ct().min(1,"Variant name is required"),gstRate:Ln.number().min(0,"GST rate cannot be negative")}),KAe=ws({maintainStock:nl().default(!1),name:ct().min(1,"Product name is required"),price:Ln.number().positive({message:"Price must be a positive number"}),rate:Ln.number().positive({message:"Rate must be a positive number"}),unit:ct().optional().nullable(),description:ct().optional().nullable(),isDairyProduct:nl().default(!1),categoryId:Ln.number().positive("Please select a category").optional().nullable(),attachmentUrl:OT(FileList).optional().nullable().refine(e=>!e||e.length===0||e[0].size<=GAe,"Max image size is 5MB.").refine(e=>!e||e.length===0||mq.includes(e[0].type),"Only .jpg, .jpeg, .png, .webp and .gif formats are supported."),variants:lh(YAe).optional()}),pq=({mode:e,productId:t,initialData:r,onSuccess:s,className:a})=>{const i=qn(),{data:o,isLoading:l}=Br({queryKey:["categories"],queryFn:HAe}),[u,f]=g.useState(null),[h,x]=g.useState(""),p=Js({resolver:en(KAe),defaultValues:{name:"",price:void 0,rate:void 0,unit:null,description:"",isDairyProduct:!1,maintainStock:!1,attachmentUrl:null,variants:[],categoryId:null}}),{register:y,handleSubmit:N,reset:b,control:w,formState:{errors:j,isDirty:S}}=p;yy({control:w,name:"variants"}),g.useEffect(()=>{if(e==="edit"&&r&&o){const T={name:r.name||"",price:r.price!==void 0?Number(r.price):void 0,rate:r.rate!==void 0?Number(r.rate):void 0,unit:r.unit||null,description:r.description||"",isDairyProduct:r.isDairyProduct||!1,maintainStock:r.maintainStock||!1,variants:r.variants||[],categoryId:r.categoryId||null};if(b(T),r.attachmentUrl){const D=`https://www.indraai.in//${r==null?void 0:r.attachmentUrl}`;f(D)}else f(null)}else e==="create"&&(b(),f(null),x(""))},[r,e,b,o]);const A=Gr({mutationFn:async({productData:T,variants:D})=>{const _=e==="create"?"/products":`/products/${t}`,O=e==="create"?$r:un;if(e==="edit"&&!t)throw new Error("Product ID is required for update.");const P=await O(_,T),B=(P==null?void 0:P.id)||t;if(!B)throw new Error("Failed to get product ID.");return D&&D.length>0&&await WAe(B,D),P},onSuccess:T=>{me.success(`Product ${e==="create"?"created":"updated"} successfully!`),i.invalidateQueries({queryKey:["products"]});const D=(T==null?void 0:T.id)||t;D&&i.invalidateQueries({queryKey:["product",D]}),s&&s()},onError:T=>{var _,O;const D=((O=(_=T.response)==null?void 0:_.data)==null?void 0:O.message)||T.message||"An unexpected error occurred";me.error(`Failed to save product: ${D}`)}}),C=T=>{console.log("Submitting variants:",T.variants);const D=new FormData;D.append("name",T.name),D.append("price",String(T.price)),D.append("rate",String(T.rate)),D.append("isDairyProduct",String(T.isDairyProduct)),D.append("maintainStock",String(T.maintainStock)),T.unit&&D.append("unit",T.unit),T.description&&D.append("description",T.description),T.categoryId&&D.append("categoryId",String(T.categoryId)),T.attachmentUrl&&T.attachmentUrl.length>0?D.append("productAttachment",T.attachmentUrl[0],T.attachmentUrl[0].name):r!=null&&r.attachmentUrl&&u===null&&D.append("attachmentUrl",""),A.mutate({productData:D,variants:T.variants||[]})};return n.jsxs("form",{onSubmit:N(C),className:Je("space-y-8",a),children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Product Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Te,{htmlFor:"name",children:"Product Name"}),n.jsx(tt,{id:"name",type:"text",...y("name"),disabled:A.isPending}),j.name&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"categoryId",children:"Category"}),n.jsx(Ur,{name:"categoryId",control:w,render:({field:T})=>n.jsxs(er,{onValueChange:T.onChange,value:T.value?String(T.value):"",disabled:A.isPending||l,children:[n.jsx(rr,{children:n.jsx(tr,{placeholder:l?"Loading...":"Select a category"})}),n.jsx(sr,{children:o==null?void 0:o.map(D=>n.jsx(yt,{value:String(D.id),children:D.name},D.id))})]},T.value)}),j.categoryId&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.categoryId.message})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ur,{name:"maintainStock",control:w,render:({field:T})=>n.jsx(Du,{id:"maintainStock",checked:T.value,onCheckedChange:T.onChange,disabled:A.isPending})}),n.jsx(Te,{htmlFor:"maintainStock",children:"Maintain Stock"})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Te,{htmlFor:"description",children:"Description"}),n.jsx(Ur,{name:"description",control:w,render:({field:T})=>n.jsx(nN,{theme:"snow",value:T.value||"",onChange:T.onChange,onBlur:T.onBlur})}),j.description&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.description.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"price",children:"Price"}),n.jsx(tt,{id:"price",type:"number",step:"0.01",...y("price"),disabled:A.isPending}),j.price&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.price.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"rate",children:"Rate"}),n.jsx(tt,{id:"rate",type:"number",step:"0.01",...y("rate"),disabled:A.isPending}),j.rate&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.rate.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"unit",children:"Unit"}),n.jsx(tt,{id:"unit",type:"text",...y("unit"),disabled:A.isPending}),j.unit&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.unit.message})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[n.jsx(Ur,{name:"isDairyProduct",control:w,render:({field:T})=>n.jsx(Du,{id:"isDairyProduct",checked:T.value,onCheckedChange:T.onChange,disabled:A.isPending})}),n.jsx(Te,{htmlFor:"isDairyProduct",children:"Is this a Dairy Product?"})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Te,{htmlFor:"attachmentUrl",children:"Product Image"}),n.jsx(tt,{id:"attachmentUrl",type:"file",accept:mq.join(","),...y("attachmentUrl",{onChange:T=>{var _;const D=(_=T.target.files)==null?void 0:_[0];if(D){const O=URL.createObjectURL(D);f(O),x(D.name)}else f(null),x("")}}),disabled:A.isPending}),h&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",h]}),j.attachmentUrl&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.attachmentUrl.message}),u&&n.jsxs("div",{className:"mt-4 relative w-48 h-48 border rounded-md overflow-hidden",children:[n.jsx("img",{src:u,alt:"Preview",className:"w-full h-full object-cover"}),n.jsx(he,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>{f(null),x(""),p.setValue("attachmentUrl",null,{shouldDirty:!0})},children:"X"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[n.jsx(he,{type:"button",variant:"outline",onClick:()=>s==null?void 0:s(),disabled:A.isPending,children:"Cancel"}),n.jsxs(he,{type:"submit",disabled:A.isPending||!S,children:[A.isPending?n.jsx(Zr,{className:"animate-spin mr-2"}):null,e==="create"?"Create Product":"Save Changes"]})]})]})},XAe=()=>{const e=jr(),t=()=>{e("/admin/products")};return n.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[n.jsx(_x,{size:16,className:"mr-2"}),"Back to Product List"]}),n.jsxs(At,{className:" mx-auto",children:[n.jsxs(Mt,{children:[n.jsx(Zt,{className:"text-2xl font-semibold",children:"Create New Product"}),n.jsx(mi,{children:"Fill in the details below to add a new product to the inventory."})]}),n.jsx(Dt,{children:n.jsx(pq,{mode:"create",onSuccess:t})})]})]})},QAe=()=>{const e=jr(),{id:t}=Ra(),r=async f=>await mt(`/products/${f}`),{data:s,isLoading:a,isError:i,error:o}=Br({queryKey:["product",t],queryFn:()=>r(t),enabled:!!t,staleTime:1e3*60*2}),l=()=>{e("/admin/products")};if(!t)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(Va,{variant:"destructive",children:[n.jsx(Oc,{className:"h-4 w-4"}),n.jsx(Ii,{children:"Error"}),n.jsx(qa,{children:"No Product ID provided. Please go back and select a product to edit."})]})});if(a)return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[n.jsx(_x,{size:16,className:"mr-2"}),"Back to Product List"]}),n.jsxs(At,{className:"max-w-4xl mx-auto",children:[n.jsxs(Mt,{children:[n.jsx(Tt,{className:"h-8 w-3/4 mb-2"}),n.jsx(Tt,{className:"h-4 w-1/2"})]}),n.jsxs(Dt,{className:"space-y-6 pt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Tt,{className:"h-10 w-full"}),n.jsx(Tt,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Tt,{className:"h-10 w-full"}),n.jsx(Tt,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"flex justify-end pt-4",children:[n.jsx(Tt,{className:"h-10 w-24 mr-2"}),n.jsx(Tt,{className:"h-10 w-32"})]})]})]})]});if(i||!s)return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[n.jsx(_x,{size:16,className:"mr-2"}),"Back to Product List"]}),n.jsxs(Va,{variant:"destructive",children:[n.jsx(Oc,{className:"h-4 w-4"}),n.jsx(Ii,{children:"Error Fetching Product"}),n.jsxs(qa,{children:["There was a problem retrieving the product details. Error: ",(o==null?void 0:o.message)||"Product data not found."]})]})]});const u={...s,date:s.date?new Date(s.date):void 0,categoryId:s.categoryId??null};return n.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>e("/admin/products"),className:"mb-4",children:[n.jsx(_x,{size:16,className:"mr-2"}),"Back to Product List"]}),n.jsxs(At,{className:" mx-auto",children:[n.jsxs(Mt,{children:[n.jsx(Zt,{className:"text-2xl font-semibold",children:"Edit Product"}),n.jsx(mi,{children:"Update the details"})]}),n.jsx(Dt,{children:n.jsx(pq,{mode:"edit",productId:t,initialData:u,onSuccess:l})})]})]})},ZAe=()=>{const[e,t]=g.useState(null),[r,s]=g.useState(!0);return g.useEffect(()=>{const a=localStorage.getItem("user");if(a)try{const i=JSON.parse(a);t(i.role)}catch(i){console.error("Error parsing user data from localStorage:",i),t(null)}else t(null);s(!1)},[]),r?n.jsx("div",{children:"Loading..."}):e==="MEMBER"?n.jsx(rA,{children:n.jsx(Tg,{})}):n.jsx(Tg,{})},JAe=async()=>{const e=await mt("/products");return Array.isArray(e)?e.map(t=>({...t,price:t.rate})):e&&e.data?e.data.map(t=>({...t,price:t.rate})):[]},eTe=({product:e,onViewDetails:t})=>{const[r,s]=g.useState(!1),[a,i]=g.useState(!1),o={rest:{scale:1,y:0,boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)"},hover:{scale:1.03,y:-5,boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.2)",transition:{type:"spring",stiffness:350,damping:25}}},l={rest:{scale:1},hover:{scale:1.05}},u={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:20}}};return n.jsx(vs.div,{variants:o,initial:"rest",whileHover:"hover",animate:"rest",onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),onClick:()=>t(e.id),className:"h-full rounded-xl overflow-hidden cursor-pointer",children:n.jsxs(At,{className:"relative h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 transition-all duration-300 group",children:[n.jsxs("div",{className:"relative h-52 sm:h-56 overflow-hidden",children:[n.jsx(vs.div,{variants:l,className:"h-full w-full",children:e.attachmentUrl?n.jsx("img",{src:e.attachmentUrl.startsWith("http")?e.attachmentUrl:`https://www.indraai.in//${e.attachmentUrl}`,alt:e.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}):n.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-700",children:n.jsx("span",{className:"mt-2 text-xs text-gray-700 dark:text-gray-400",children:"No Image Available"})})}),n.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-black/30 to-transparent"}),n.jsxs(vs.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,type:"spring",stiffness:200},className:"absolute top-3 left-3 bg-primary text-white px-3 py-1.5 rounded-full text-xs font-semibold shadow-lg flex items-center",children:[n.jsx(nw,{size:14,className:"mr-1"})," Fresh"]}),n.jsx(Fxe,{children:a&&n.jsx(vs.div,{variants:u,initial:"hidden",animate:"visible",exit:"hidden",className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex flex-col items-center justify-center p-4",onClick:f=>{f.stopPropagation(),t(e.id)},children:n.jsxs(vs.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1,transition:{delay:.1}},className:"text-white text-center",children:[n.jsx(gu,{className:"w-10 h-10 mx-auto mb-2 text-primary"}),n.jsx("p",{className:"text-base font-semibold",children:"Subscribe"}),n.jsx("p",{className:"text-xs text-gray-300",children:"Click to subscribe"})]})})})]}),n.jsxs(Mt,{className:"pb-0 pt-4 px-4",children:[" ",n.jsxs("div",{className:"flex items-start justify-between space-x-2",children:[n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx(Zt,{className:"text-base sm:text-lg font-semibold leading-tight line-clamp-2 text-gray-700 dark:text-gray-100 group-hover:text-primary dark:group-hover:text-primary transition-colors duration-200",children:e.name})}),n.jsx("div",{className:"flex-shrink-0 pt-1"})]})]}),n.jsxs(Dt,{className:"flex-grow pt-0 pb-3 px-4",children:[n.jsxs("div",{className:"space-y-2.5",children:[n.jsx("div",{className:"flex items-baseline space-x-1.5",children:n.jsx("span",{className:"text-xl sm:text-2xl font-bold text-primary dark:text-primary",children:bs(e.price)})}),e.description&&n.jsx("div",{className:"mt-2 text-xs text-gray-700 dark:text-gray-400 prose prose-sm dark:prose-invert max-w-full",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden",textOverflow:"ellipsis",maxHeight:"4.5em"},dangerouslySetInnerHTML:{__html:e.description}}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-3",children:[n.jsxs("div",{className:"bg-primary/10 dark:bg-primary/20 rounded-md p-2 text-center flex flex-col items-center justify-center",children:[n.jsx(Uf,{size:16,className:"text-primary dark:text-primary mb-0.5"}),n.jsx("div",{className:"text-xs font-medium text-primary dark:text-primary",children:"Organic"})]}),n.jsxs("div",{className:"bg-primary/10 dark:bg-primary/20 rounded-md p-2 text-center flex flex-col items-center justify-center",children:[n.jsx(rl,{size:16,className:"text-primary dark:text-primary mb-0.5"}),n.jsx("div",{className:"text-xs font-medium text-primary dark:text-primary",children:"Certified"})]})]})]})," "]}),n.jsx(xh,{className:"pt-2 pb-4 px-4",children:n.jsx(vs.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full",children:n.jsxs(he,{className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold py-2.5 sm:py-3 shadow-md hover:shadow-lg transition-all duration-200 group text-sm sm:text-base rounded-lg",onClick:f=>{f.stopPropagation(),t(e.id)},"aria-label":`Subscribe for ${e.name}`,children:[n.jsx(gu,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 transition-transform duration-200 group-hover:scale-110"}),"Subscribe"]})})})]})})},tTe=()=>{const e=jr(),{data:t,isLoading:r,isError:s,error:a}=Br({queryKey:["memberPublicProducts"],queryFn:JAe}),i=t||[],o=u=>{e(`/member/products/${u}`)},l=()=>n.jsxs(At,{className:"overflow-hidden bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg",children:[n.jsx(Tt,{className:"h-52 sm:h-56 w-full bg-gray-200 dark:bg-gray-700"}),n.jsxs(Mt,{className:"pb-2 pt-4",children:[n.jsx(Tt,{className:"h-5 w-3/4 mb-2 bg-gray-200 dark:bg-gray-700"}),n.jsx(Tt,{className:"h-3 w-1/2 bg-gray-200 dark:bg-gray-700"})]}),n.jsxs(Dt,{className:"pt-2 pb-3",children:[n.jsx(Tt,{className:"h-6 w-1/3 mb-2 bg-gray-200 dark:bg-gray-700"}),n.jsx(Tt,{className:"h-3 w-full mb-1 bg-gray-200 dark:bg-gray-700"}),n.jsx(Tt,{className:"h-3 w-5/6 mb-3 bg-gray-200 dark:bg-gray-700"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[n.jsx(Tt,{className:"h-10 rounded-md bg-gray-200 dark:bg-gray-700"}),n.jsx(Tt,{className:"h-10 rounded-md bg-gray-200 dark:bg-gray-700"})]})]}),n.jsx(xh,{className:"pt-2 pb-4 px-4",children:n.jsx(Tt,{className:"h-10 sm:h-12 w-full rounded-lg bg-gray-200 dark:bg-gray-700"})})]});return r?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-gray-850 dark:to-gray-900 py-8 sm:py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[n.jsx(Tt,{className:"h-10 sm:h-12 w-3/5 sm:w-1/2 mx-auto mb-4 bg-gray-300 dark:bg-gray-700"}),n.jsx(Tt,{className:"h-5 sm:h-6 w-4/5 sm:w-2/3 mx-auto bg-gray-300 dark:bg-gray-700"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:[...Array(8)].map((u,f)=>n.jsx(l,{},f))})]})}):s&&a?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(Va,{variant:"destructive",className:"max-w-lg mx-auto bg-red-100 dark:bg-red-900/50 border-red-500 dark:border-red-700 p-6 rounded-lg shadow-xl",children:[n.jsx(xu,{className:"h-6 w-6 text-red-700 dark:text-red-400"}),n.jsx(Ii,{className:"text-xl font-semibold text-red-800 dark:text-red-300",children:"Oops! Something went wrong."}),n.jsx(qa,{className:"text-gray-700 dark:text-red-400 mt-1",children:(a==null?void 0:a.message)||"We couldn't fetch the products at this moment. Please try refreshing the page or check back later."}),n.jsx(he,{variant:"outline",className:"mt-4 border-primary text-primary hover:bg-primary/10 dark:border-primary dark:text-primary dark:hover:bg-primary/20",onClick:()=>window.location.reload(),children:"Refresh Page"})]})})}):i.length===0?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:n.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:n.jsxs(vs.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},children:[n.jsx(Os,{size:72,className:"mx-auto mb-6 text-primary dark:text-primary"}),n.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-3 text-gray-700 dark:text-gray-100",children:"No Products Found"}),n.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-400 max-w-md mx-auto",children:"It seems we're all out of stock for now! Please check back soon for fresh arrivals."}),n.jsx(he,{className:"mt-8 bg-primary hover:bg-primary/90 text-white",onClick:()=>window.location.reload(),children:"Check Again"})]})})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-slate-800 dark:to-gray-900 selection:bg-primary selection:text-white",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-10 sm:py-16",children:[n.jsxs(vs.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"mb-12 sm:mb-20",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 bg-primary rounded-full shadow-lg mr-3",children:n.jsx(yo,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:"Our Products"})]}),n.jsx("div",{className:"w-[12rem] h-1 bg-primary rounded-full mb-4"}),n.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-700 dark:text-gray-300 max-w-xl lg:max-w-2xl leading-relaxed",children:"Explore a curated selection of farm-fresh dairy, organic groceries, and artisanal goods. Subscribe for convenience and quality, delivered to your door."})]}),n.jsx(vs.div,{initial:"hidden",animate:"visible",variants:{visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.2}},hidden:{opacity:0}},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:i.map(u=>n.jsx(vs.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},children:n.jsx(eTe,{product:u,onViewDetails:o})},u.id))})]})})},rTe=({selectable:e=!1,onSelect:t,selectedAddressId:r})=>{const s=jr(),a=qn(),[i,o]=g.useState(null),{data:l,isLoading:u,isError:f,error:h}=Br({queryKey:["addresses"],queryFn:async()=>await mt("/delivery-addresses")}),x=Gr({mutationFn:async j=>await zi(`/delivery-addresses/${j}/set-default`,{}),onSuccess:()=>{a.invalidateQueries({queryKey:["addresses"]}),me.success("Default address updated successfully")},onError:j=>{me.error(j.message||"Failed to update default address")}}),p=Gr({mutationFn:async j=>await Hn(`/delivery-addresses/${j}`),onSuccess:()=>{a.invalidateQueries({queryKey:["addresses"]}),me.success("Address deleted successfully"),o(null)},onError:j=>{me.error(j.message||"Failed to delete address")}}),y=j=>{x.mutate(j)},N=()=>{i&&p.mutate(i)},b=j=>{s(`/member/addresses/edit/${j}`)},w=j=>{e&&t&&t(j)};return u?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((j,S)=>n.jsx(At,{className:"w-full",children:n.jsx(Dt,{className:"p-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Tt,{className:"h-4 w-3/4"}),n.jsx(Tt,{className:"h-4 w-1/2"}),n.jsx(Tt,{className:"h-4 w-5/6"})]})})},S))}):f?n.jsxs("div",{className:"text-center p-4 text-red-500",children:["Error loading addresses: ",(h==null?void 0:h.message)||"Unknown error"]}):!l||l.length===0?n.jsxs("div",{className:"text-center p-8",children:[n.jsx("p",{className:"mb-4",children:"You don't have any saved addresses yet."}),n.jsxs(he,{onClick:()=>s("/member/addresses/create"),children:[n.jsx(Zs,{className:"mr-2 h-4 w-4"})," Add New Delivery Address"]})]}):n.jsxs("div",{className:"space-y-4",children:[!e&&n.jsx("div",{className:"flex justify-between items-center mb-4"}),l.map(j=>n.jsx(At,{className:`w-full transition-all ${e?"cursor-pointer hover:border-primary hover:shadow-md":""} ${r===j.id?"border-2 border-primary shadow-md":""}`,onClick:()=>e&&w(j),children:n.jsx(Dt,{className:"p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("h3",{className:"font-medium text-lg mr-2",children:j.recipientName}),j.label&&n.jsx(Pr,{variant:"secondary",className:"mr-2 font-normal",children:j.label}),j.isDefault&&n.jsxs(Pr,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[n.jsx(RI,{className:"h-3 w-3 mr-1"}),"Default"]})]}),n.jsxs("p",{className:"text-sm text-gray-700",children:[j.plotBuilding,", ",j.streetArea,j.landmark&&`, Near ${j.landmark}`]}),n.jsxs("p",{className:"text-sm text-gray-700",children:[j.city,", ",j.state," - ",j.pincode]}),n.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:["Mobile: ",j.mobile]})]}),!e&&n.jsxs("div",{className:"flex gap-2",children:[!j.isDefault&&n.jsxs(he,{variant:"outline",size:"sm",onClick:S=>{S.stopPropagation(),y(j.id)},children:[n.jsx(rl,{className:"h-4 w-4 mr-1"})," Set Default"]}),n.jsx(he,{variant:"outline",size:"sm",onClick:S=>{S.stopPropagation(),b(j.id)},children:n.jsx(bi,{className:"h-4 w-4"})})]})]})})},j.id)),n.jsx(aa,{open:!!i,onOpenChange:j=>!j&&o(null),children:n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Are you sure?"}),n.jsx(da,{children:"This will permanently delete this address. This action cannot be undone."})]}),n.jsxs(la,{children:[n.jsx(fa,{children:"Cancel"}),n.jsx(ua,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},sTe=()=>{const e=jr();return n.jsxs("div",{className:"container py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"My Delivery Addresses"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your delivery addresses"})]}),n.jsxs(he,{onClick:()=>e("/member/addresses/create"),children:[n.jsx(Zs,{className:"mr-2 h-4 w-4"})," Add New Delivery Address"]})]}),n.jsx(rTe,{})]})},nTe=ws({recipientName:ct().min(1,"Recipient name is required"),mobile:ct().min(1,"Mobile number is required").regex(/^\d{10,}$/,"Mobile number must be at least 10 digits and contain only numbers"),plotBuilding:ct().min(1,"Flat/House/Plot number is required"),streetArea:ct().min(1,"Street/Area name is required"),landmark:ct().optional(),pincode:ct().min(1,"Pincode is required").regex(/^\d{6}$/,"Pincode must be exactly 6 numeric digits"),city:ct().min(1,"City is required"),state:ct().min(1,"State is required"),isDefault:nl().default(!1),label:RT(["Home","Work","Other"]).optional().default("Home"),locationId:ct().optional()}),xq=({mode:e,addressId:t,initialData:r,onSuccess:s,onCancel:a,depotId:i,locations:o})=>{const l=jr(),u=e==="edit",[f,h]=g.useState(o||[]),[x,p]=g.useState(!1);g.useEffect(()=>{(async()=>{if(o&&o.length>0){h(o);return}p(!0);try{const w=await mt("/public/locations");w&&w.data&&Array.isArray(w.data.locations)?h(w.data.locations):w&&Array.isArray(w)&&h(w)}catch(w){console.error("Failed to fetch locations:",w),me.error("Could not load locations.")}finally{p(!1)}})()},[o]);const y=Js({resolver:en(nTe),defaultValues:r?{recipientName:r.recipientName,mobile:r.mobile,plotBuilding:r.plotBuilding,streetArea:r.streetArea,locationId:r.locationId?String(r.locationId):void 0,landmark:r.landmark||"",pincode:r.pincode,city:r.city,state:r.state,isDefault:r.isDefault,label:r.label==="Home"||r.label==="Work"||r.label==="Other"?r.label:"Home"}:{recipientName:"",mobile:"",plotBuilding:"",streetArea:"",landmark:"",pincode:"",city:"Dombivli",state:"Maharashtra",isDefault:!1,label:"Home"}});g.useEffect(()=>{r&&(console.log("Initial data:",r),console.log("LocationId from initial data:",r.locationId),console.log("Converted locationId:",r.locationId?String(r.locationId):void 0),y.reset({recipientName:r.recipientName,mobile:r.mobile,plotBuilding:r.plotBuilding,streetArea:r.streetArea,locationId:r.locationId?String(r.locationId):void 0,landmark:r.landmark||"",pincode:r.pincode,city:r.city,state:r.state,isDefault:r.isDefault,label:r.label==="Home"||r.label==="Work"||r.label==="Other"?r.label:"Home"}))},[r,y]);const N=async b=>{try{let w;if(u&&t)w=await un(`/delivery-addresses/${t}`,b),me.success("Address updated successfully");else{const j={...b,depotId:i};w=await $r("/delivery-addresses",j),me.success("Address created successfully")}s?s(w):l("/member/addresses")}catch(w){me.error(w.message||"An error occurred while saving the address")}};return n.jsxs(At,{className:"w-full  mx-auto",children:[n.jsx(Mt,{children:n.jsx(Zt,{children:u?"Edit Address":"Add New Delivery Address"})}),n.jsx(Dt,{children:n.jsx(Fbe,{...y,children:n.jsxs("form",{onSubmit:y.handleSubmit(N),className:"space-y-6",children:[n.jsx(Mo,{control:y.control,name:"label",render:({field:b})=>n.jsxs(ri,{className:"mb-4",children:[n.jsx(si,{children:"Label As"}),n.jsx(ni,{children:n.jsxs(Gm,{onValueChange:b.onChange,defaultValue:b.value,className:"flex space-x-4 pt-2",children:[n.jsxs(ri,{className:"flex items-center space-x-2 space-y-0",children:[n.jsx(ni,{children:n.jsx(mo,{value:"Home"})}),n.jsx(si,{className:"font-normal",children:"Home"})]}),n.jsxs(ri,{className:"flex items-center space-x-2 space-y-0",children:[n.jsx(ni,{children:n.jsx(mo,{value:"Work"})}),n.jsx(si,{className:"font-normal",children:"Work"})]}),n.jsxs(ri,{className:"flex items-center space-x-2 space-y-0",children:[n.jsx(ni,{children:n.jsx(mo,{value:"Other"})}),n.jsx(si,{className:"font-normal",children:"Other"})]})]})}),n.jsx(_l,{})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Mo,{control:y.control,name:"recipientName",render:({field:b})=>n.jsxs(ri,{children:[n.jsx(si,{children:"Recipient Name*"}),n.jsx(ni,{children:n.jsx(tt,{placeholder:"Enter recipient name",...b})}),n.jsx(_l,{})]})}),n.jsx(Mo,{control:y.control,name:"mobile",render:({field:b})=>n.jsxs(ri,{children:[n.jsx(si,{children:"Mobile Number*"}),n.jsx(ni,{children:n.jsx(tt,{placeholder:"Enter mobile number",...b})}),n.jsx(_l,{})]})})]}),n.jsx(Mo,{control:y.control,name:"plotBuilding",render:({field:b})=>n.jsxs(ri,{children:[n.jsx(si,{children:"Flat, House, Plot Number*"}),n.jsx(ni,{children:n.jsx(tt,{placeholder:"Enter flat, house, or plot number",...b})}),n.jsx(_l,{})]})}),n.jsx(Mo,{control:y.control,name:"streetArea",render:({field:b})=>n.jsxs(ri,{children:[n.jsx(si,{children:"Street/Area Name*"}),n.jsx(ni,{children:n.jsx(tt,{placeholder:"Enter street or area name",...b})}),n.jsx(_l,{})]})}),n.jsx(Mo,{control:y.control,name:"landmark",render:({field:b})=>n.jsxs(ri,{children:[n.jsx(si,{children:"Landmark (Optional)"}),n.jsx(ni,{children:n.jsx(tt,{placeholder:"Enter landmark",...b})}),n.jsx(_l,{})]})}),n.jsx(Mo,{control:y.control,name:"locationId",render:({field:b})=>(console.log("Location field value:",b.value),console.log("Available locations:",f),n.jsxs(ri,{children:[n.jsx(si,{children:"Our Delivery Areas*"}),n.jsxs(er,{onValueChange:b.onChange,value:b.value,disabled:x,children:[n.jsx(ni,{children:n.jsx(rr,{children:n.jsx(tr,{placeholder:x?"Loading locations...":"Select a location"})})}),n.jsx(sr,{className:"max-h-60 overflow-y-auto",children:x?n.jsx(yt,{value:"loading",disabled:!0,children:"Loading locations..."}):f.length>0?f.sort((w,j)=>{var A,C;const S=(((A=w.city)==null?void 0:A.name)||"").localeCompare(((C=j.city)==null?void 0:C.name)||"");return S!==0?S:w.name.localeCompare(j.name)}).map(w=>{var j;return n.jsxs(yt,{value:String(w.id),children:[w.name," - ",((j=w.city)==null?void 0:j.name)||"Unknown City"]},w.id)}):n.jsx(yt,{value:"no-locations",disabled:!0,children:"No locations available"})})]}),n.jsx(_l,{}),n.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:n.jsxs("p",{className:"text-xs text-blue-700",children:[n.jsx("span",{className:"font-medium",children:"Note:"})," If your area is not listed above, please contact us at ",n.jsx("span",{className:"font-semibold",children:"+91-9920999100"})," for assistance with delivery arrangements."]})})]}))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Mo,{control:y.control,name:"pincode",render:({field:b})=>n.jsxs(ri,{children:[n.jsx(si,{children:"Pincode*"}),n.jsx(ni,{children:n.jsx(tt,{type:"number",placeholder:"Enter pincode",...b})}),n.jsx(_l,{})]})}),n.jsx(Mo,{control:y.control,name:"city",render:({field:b})=>n.jsxs(ri,{children:[n.jsx(si,{children:"City*"}),n.jsx(ni,{children:n.jsx(tt,{placeholder:"Enter city",...b})}),n.jsx(_l,{})]})}),n.jsx(Mo,{control:y.control,name:"state",render:({field:b})=>n.jsxs(ri,{children:[n.jsx(si,{children:"State*"}),n.jsxs(er,{onValueChange:b.onChange,value:b.value,children:[n.jsx(ni,{children:n.jsx(rr,{children:n.jsx(tr,{placeholder:"Select a state"})})}),n.jsx(sr,{className:"max-h-60 overflow-y-auto",children:T_.map(w=>n.jsx(yt,{value:w.label,children:w.label},w.value))})]}),n.jsx(_l,{})]})})]}),n.jsx(Mo,{control:y.control,name:"isDefault",render:({field:b})=>n.jsxs(ri,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[n.jsx(ni,{children:n.jsx(Du,{checked:b.value,onCheckedChange:b.onChange})}),n.jsx("div",{className:"space-y-1 leading-none",children:n.jsx(si,{children:"Set as Default Address"})})]})}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(he,{type:"button",variant:"outline",onClick:()=>{a?a():l("/member/addresses")},disabled:y.formState.isSubmitting,className:"w-full md:w-auto mr-2",children:"Cancel"}),n.jsx(he,{type:"submit",disabled:y.formState.isSubmitting,className:"w-full md:w-auto",children:y.formState.isSubmitting?u?"Saving...":"Adding...":u?"Save Changes":"Add Address"})]})]})})})]})},aTe=()=>{const e=jr(),t=()=>{e("/member/addresses")};return n.jsxs("div",{className:"container py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Add New Delivery Address"}),n.jsx("p",{className:"text-muted-foreground",children:"Create a new delivery address for your account"})]}),n.jsx(xq,{mode:"create",onSuccess:t})]})},iTe=()=>{const{id:e}=Ra(),t=jr(),{data:r,isLoading:s,isError:a,error:i}=Br({queryKey:["address",e],queryFn:async()=>{if(!e)throw new Error("Address ID is required");return await mt(`/delivery-addresses/${e}`)}}),o=()=>{t("/member/addresses")};if(s)return n.jsxs("div",{className:"container py-8",children:[n.jsx(Tt,{className:"h-8 w-1/4 mb-4"}),n.jsx(Tt,{className:"h-4 w-1/3 mb-8"}),n.jsx("div",{className:"space-y-6 max-w-3xl mx-auto",children:n.jsx(Tt,{className:"h-[400px] w-full rounded-lg"})})]});if(a||!r){const l=(i==null?void 0:i.message)||"Failed to load address";return me.error(l),n.jsxs("div",{className:"container py-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Address"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:l}),n.jsx("button",{onClick:()=>t("/addresses"),className:"bg-primary text-white px-4 py-2 rounded-md",children:"Return to Address List"})]})}return n.jsxs("div",{className:"container py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Edit Delivery Address"}),n.jsx("p",{className:"text-muted-foreground",children:"Update your delivery address details"})]}),n.jsx(xq,{mode:"edit",addressId:e,initialData:r,onSuccess:o})]})};function oTe(e,t){return g.useReducer((r,s)=>t[r][s]??r,e)}var Y_="ScrollArea",[gq,TPe]=zn(Y_),[lTe,Eo]=gq(Y_),yq=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,u]=g.useState(null),[f,h]=g.useState(null),[x,p]=g.useState(null),[y,N]=g.useState(null),[b,w]=g.useState(null),[j,S]=g.useState(0),[A,C]=g.useState(0),[T,D]=g.useState(!1),[_,O]=g.useState(!1),P=Ft(t,I=>u(I)),B=ry(a);return n.jsx(lTe,{scope:r,type:s,dir:B,scrollHideDelay:i,scrollArea:l,viewport:f,onViewportChange:h,content:x,onContentChange:p,scrollbarX:y,onScrollbarXChange:N,scrollbarXEnabled:T,onScrollbarXEnabledChange:D,scrollbarY:b,onScrollbarYChange:w,scrollbarYEnabled:_,onScrollbarYEnabledChange:O,onCornerWidthChange:S,onCornerHeightChange:C,children:n.jsx(_t.div,{dir:B,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});yq.displayName=Y_;var vq="ScrollAreaViewport",bq=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:a,...i}=e,o=Eo(vq,r),l=g.useRef(null),u=Ft(t,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(_t.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});bq.displayName=vq;var rc="ScrollAreaScrollbar",wq=g.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Eo(rc,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(cTe,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(dTe,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(Nq,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(K_,{...s,ref:t}):null});wq.displayName=rc;var cTe=g.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Eo(rc,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=a.scrollArea;let u=0;if(l){const f=()=>{window.clearTimeout(u),o(!0)},h=()=>{u=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(Dn,{present:r||i,children:n.jsx(Nq,{"data-state":i?"visible":"hidden",...s,ref:t})})}),dTe=g.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Eo(rc,e.__scopeScrollArea),i=e.orientation==="horizontal",o=iN(()=>u("SCROLL_END"),100),[l,u]=oTe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const f=window.setTimeout(()=>u("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(f)}},[l,a.scrollHideDelay,u]),g.useEffect(()=>{const f=a.viewport,h=i?"scrollLeft":"scrollTop";if(f){let x=f[h];const p=()=>{const y=f[h];x!==y&&(u("SCROLL"),o()),x=y};return f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[a.viewport,i,u,o]),n.jsx(Dn,{present:r||l!=="hidden",children:n.jsx(K_,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:dt(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:dt(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),Nq=g.forwardRef((e,t)=>{const r=Eo(rc,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=g.useState(!1),l=e.orientation==="horizontal",u=iN(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?f:h)}},10);return _0(r.viewport,u),_0(r.content,u),n.jsx(Dn,{present:s||i,children:n.jsx(K_,{"data-state":i?"visible":"hidden",...a,ref:t})})}),K_=g.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=Eo(rc,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,u]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Tq(l.viewport,l.content),h={...s,sizes:l,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function x(p,y){return xTe(p,o.current,l,y)}return r==="horizontal"?n.jsx(uTe,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,y=XM(p,l,a.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=x(p,a.dir))}}):r==="vertical"?n.jsx(fTe,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,y=XM(p,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=x(p))}}):null}),uTe=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Eo(rc,e.__scopeScrollArea),[o,l]=g.useState(),u=g.useRef(null),f=Ft(t,u,i.onScrollbarXChange);return g.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),n.jsx(Sq,{"data-orientation":"horizontal",...a,ref:f,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":aN(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,x)=>{if(i.viewport){const p=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(p),_q(p,x)&&h.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Pb(o.paddingLeft),paddingEnd:Pb(o.paddingRight)}})}})}),fTe=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Eo(rc,e.__scopeScrollArea),[o,l]=g.useState(),u=g.useRef(null),f=Ft(t,u,i.onScrollbarYChange);return g.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),n.jsx(Sq,{"data-orientation":"vertical",...a,ref:f,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":aN(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,x)=>{if(i.viewport){const p=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(p),_q(p,x)&&h.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Pb(o.paddingTop),paddingEnd:Pb(o.paddingBottom)}})}})}),[hTe,jq]=gq(rc),Sq=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:h,onResize:x,...p}=e,y=Eo(rc,r),[N,b]=g.useState(null),w=Ft(t,P=>b(P)),j=g.useRef(null),S=g.useRef(""),A=y.viewport,C=s.content-s.viewport,T=_r(h),D=_r(u),_=iN(x,10);function O(P){if(j.current){const B=P.clientX-j.current.left,I=P.clientY-j.current.top;f({x:B,y:I})}}return g.useEffect(()=>{const P=B=>{const I=B.target;(N==null?void 0:N.contains(I))&&T(B,C)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[A,N,C,T]),g.useEffect(D,[s,D]),_0(N,_),_0(y.content,_),n.jsx(hTe,{scope:r,scrollbar:N,hasThumb:a,onThumbChange:_r(i),onThumbPointerUp:_r(o),onThumbPositionChange:D,onThumbPointerDown:_r(l),children:n.jsx(_t.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:dt(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),j.current=N.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),O(P))}),onPointerMove:dt(e.onPointerMove,O),onPointerUp:dt(e.onPointerUp,P=>{const B=P.target;B.hasPointerCapture(P.pointerId)&&B.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=S.current,y.viewport&&(y.viewport.style.scrollBehavior=""),j.current=null})})})}),Rb="ScrollAreaThumb",Eq=g.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=jq(Rb,e.__scopeScrollArea);return n.jsx(Dn,{present:r||a.hasThumb,children:n.jsx(mTe,{ref:t,...s})})}),mTe=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=Eo(Rb,r),o=jq(Rb,r),{onThumbPositionChange:l}=o,u=Ft(t,x=>o.onThumbChange(x)),f=g.useRef(void 0),h=iN(()=>{f.current&&(f.current(),f.current=void 0)},100);return g.useEffect(()=>{const x=i.viewport;if(x){const p=()=>{if(h(),!f.current){const y=gTe(x,l);f.current=y,l()}};return l(),x.addEventListener("scroll",p),()=>x.removeEventListener("scroll",p)}},[i.viewport,h,l]),n.jsx(_t.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:dt(e.onPointerDownCapture,x=>{const y=x.target.getBoundingClientRect(),N=x.clientX-y.left,b=x.clientY-y.top;o.onThumbPointerDown({x:N,y:b})}),onPointerUp:dt(e.onPointerUp,o.onThumbPointerUp)})});Eq.displayName=Rb;var X_="ScrollAreaCorner",Aq=g.forwardRef((e,t)=>{const r=Eo(X_,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(pTe,{...e,ref:t}):null});Aq.displayName=X_;var pTe=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=Eo(X_,r),[i,o]=g.useState(0),[l,u]=g.useState(0),f=!!(i&&l);return _0(a.scrollbarX,()=>{var x;const h=((x=a.scrollbarX)==null?void 0:x.offsetHeight)||0;a.onCornerHeightChange(h),u(h)}),_0(a.scrollbarY,()=>{var x;const h=((x=a.scrollbarY)==null?void 0:x.offsetWidth)||0;a.onCornerWidthChange(h),o(h)}),f?n.jsx(_t.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Pb(e){return e?parseInt(e,10):0}function Tq(e,t){const r=e/t;return isNaN(r)?0:r}function aN(e){const t=Tq(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function xTe(e,t,r,s="ltr"){const a=aN(r),i=a/2,o=t||i,l=a-o,u=r.scrollbar.paddingStart+o,f=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,x=s==="ltr"?[0,h]:[h*-1,0];return Cq([u,f],x)(e)}function XM(e,t,r="ltr"){const s=aN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,u=r==="ltr"?[0,o]:[o*-1,0],f=cA(e,u);return Cq([0,o],[0,l])(f)}function Cq(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function _q(e,t){return e>0&&e<t}var gTe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function iN(e,t){const r=_r(e),s=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),g.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function _0(e,t){const r=_r(t);gs(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}var yTe=yq,vTe=bq,bTe=Aq;function wTe({className:e,children:t,...r}){return n.jsxs(yTe,{"data-slot":"scroll-area",className:Je("relative",e),...r,children:[n.jsx(vTe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),n.jsx(NTe,{}),n.jsx(bTe,{})]})}function NTe({className:e,orientation:t="vertical",...r}){return n.jsx(wq,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Je("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:n.jsx(Eq,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const jTe=({isOpen:e,onOpenChange:t,subscriptions:r,agencies:s,isLoadingAgencies:a,onBulkUpdateSubscriptions:i})=>{const[o,l]=g.useState(new Set),[u,f]=g.useState(""),[h,x]=g.useState("unassigned"),[p,y]=g.useState(!1),N=g.useMemo(()=>r.filter(O=>{if(O.paymentStatus!=="PAID")return!1;switch(h){case"unassigned":return!O.agencyId;case"assigned":return!!O.agencyId;default:return!0}}),[r,h]),b=(O,P)=>{const B=new Set(o);P?B.add(O):B.delete(O),l(B)},w=O=>{if(O){const P=new Set(N.map(B=>B.id));l(P)}else l(new Set)},j=async()=>{if(o.size===0){me.error("Please select at least one subscription");return}if(!u){me.error("Please select an agency");return}y(!0);try{const O=u==="NONE"?null:parseInt(u,10);await i(Array.from(o),O),me.success(`Successfully assigned agency to ${o.size} subscription(s)`),l(new Set),f(""),t(!1)}catch(O){console.error("Bulk assignment failed:",O),me.error("Failed to assign agencies. Please try again.")}finally{y(!1)}},S=O=>{var P;return O?((P=O.user)==null?void 0:P.name)||O.name:"Unassigned"},A=r.filter(O=>O.paymentStatus==="PAID").length,C=r.filter(O=>O.paymentStatus==="PAID"&&!O.agencyId).length,T=r.filter(O=>O.paymentStatus==="PAID"&&O.agencyId).length,D=N.length>0&&o.size===N.length,_=o.size>0&&o.size<N.length;return n.jsx(hs,{open:e,onOpenChange:t,children:n.jsxs(ms,{className:"max-w-5xl max-h-[90vh] flex flex-col",children:[n.jsxs(ps,{children:[n.jsxs(xs,{className:"flex items-center gap-2",children:[n.jsx(LI,{className:"h-5 w-5"}),"Bulk Agency Assignment"]}),n.jsx(Ya,{children:"Assign delivery agencies to multiple subscriptions at once"})]}),n.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Paid"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:C}),n.jsx("div",{className:"text-sm text-gray-600",children:"Unassigned"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:T}),n.jsx("div",{className:"text-sm text-gray-600",children:"Assigned"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:o.size}),n.jsx("div",{className:"text-sm text-gray-600",children:"Selected"})]})]}),n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kg,{className:"h-4 w-4"}),n.jsx(Te,{children:"Filter:"}),n.jsxs(er,{value:h,onValueChange:O=>x(O),children:[n.jsx(rr,{className:"w-40",children:n.jsx(tr,{})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"unassigned",children:"Unassigned Only"}),n.jsx(yt,{value:"assigned",children:"Assigned Only"}),n.jsx(yt,{value:"all",children:"All Paid"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Te,{children:"Assign to:"}),n.jsxs(er,{value:u,onValueChange:f,disabled:a,children:[n.jsx(rr,{className:"w-48",children:n.jsx(tr,{placeholder:a?"Loading...":"Select agency"})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"NONE",children:"Remove Assignment"}),s.map(O=>n.jsx(yt,{value:O.id.toString(),children:S(O)},O.id))]})]})]})]}),n.jsx(wTe,{className:"flex-1 border rounded-md",children:n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsxs(Xt,{children:[n.jsx(Ke,{className:"w-12",children:n.jsx(Du,{checked:D,ref:O=>{O&&(O.indeterminate=_)},onCheckedChange:w})}),n.jsx(Ke,{children:"Product"}),n.jsx(Ke,{children:"Member"}),n.jsx(Ke,{children:"Location"}),n.jsx(Ke,{children:"Current Agency"}),n.jsx(Ke,{children:"Period"})]})}),n.jsxs(Is,{children:[N.map(O=>{var P,B;return n.jsxs(Xt,{children:[n.jsx(ze,{children:n.jsx(Du,{checked:o.has(O.id),onCheckedChange:I=>b(O.id,I)})}),n.jsx(ze,{className:"font-medium",children:O.product.name}),n.jsx(ze,{children:((B=(P=O.member)==null?void 0:P.user)==null?void 0:B.name)||"Unknown Member"}),n.jsx(ze,{children:n.jsx("div",{className:"text-sm",children:O.deliveryAddress?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-medium",children:O.deliveryAddress.recipientName||"No Recipient"}),n.jsx("div",{className:"text-gray-500",children:O.deliveryAddress.mobile}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[O.deliveryAddress.plotBuilding,", ",O.deliveryAddress.streetArea,O.deliveryAddress.landmark&&`, ${O.deliveryAddress.landmark}`]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[O.deliveryAddress.city,", ",O.deliveryAddress.state," - ",O.deliveryAddress.pincode]}),O.deliveryAddress.location&&n.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["📍 ",O.deliveryAddress.location.name]})]}):n.jsx("div",{className:"text-gray-400 italic",children:"No Address"})})}),n.jsx(ze,{children:O.agency?n.jsx(Pr,{variant:"secondary",children:S(O.agency)}):n.jsx(Pr,{variant:"outline",children:"Unassigned"})}),n.jsxs(ze,{className:"text-sm",children:[n.jsx("div",{children:new Date(O.startDate).toLocaleDateString()}),n.jsxs("div",{className:"text-gray-500",children:["to ",new Date(O.expiryDate).toLocaleDateString()]})]})]},O.id)}),N.length===0&&n.jsx(Xt,{children:n.jsx(ze,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No subscriptions match the current filter"})})]})]})})]}),n.jsxs(gi,{className:"flex justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(rl,{className:"h-4 w-4"}),o.size," subscription(s) selected"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(he,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(he,{type:"button",onClick:j,disabled:p||o.size===0||!u,children:p?"Assigning...":`Assign to ${o.size} Subscription(s)`})]})]})]})})},STe=[{value:"ONLINE",label:"Online"},{value:"CASH",label:"Cash"},{value:"UPI",label:"UPI"},{value:"BANK",label:"Bank Transfer"}],ETe=({isOpen:e,onOpenChange:t,order:r,onUpdateOrder:s})=>{const[a,i]=g.useState(""),[o,l]=g.useState(""),[u,f]=g.useState(""),[h,x]=g.useState(""),[p,y]=g.useState({}),[N,b]=g.useState(""),[w,j]=g.useState(""),S=(r==null?void 0:r.paymentStatus)==="PAID";g.useEffect(()=>{var T,D;r?(console.log("Payment Modal Data:",{orderId:r.id,totalAmount:r.totalAmount,walletamt:r.walletamt,payableamt:r.payableamt,currentStatus:r.paymentStatus}),i(r.paymentMode||""),l(r.paymentReferenceNo||""),f(r.paymentDate?Gt(new Date(r.paymentDate),"yyyy-MM-dd"):""),x(r.paymentStatus||""),j(((T=r.payableamt)==null?void 0:T.toString())||"0"),b(((D=r.payableamt)==null?void 0:D.toString())||"0")):(i(""),l(""),f(""),x(""),j(""),b(""))},[r]);const A=()=>{const T={};return h||(T.paymentStatus="Payment status is required"),y(T),Object.keys(T).length===0},C=async()=>{if(!r||S||!A())return;const T=parseFloat(N);if(isNaN(T)||T<=0){me.error("Please enter a valid received amount.");return}const D=r.payableamt??0,_=r.totalAmount??0;if(console.log("payable",D,"total",_),h==="PAID"&&!(T===D||D===0&&T===_)){const B=D===0&&_>0?_:D;me.error(`Received amount (₹${T.toFixed(2)}) must equal the payable amount (₹${B.toFixed(2)}) to mark as PAID.`);return}if(h!=="PAID"&&h!=="FAILED"){me.error("Payment Status is Required");return}const O={orderId:r.id,paymentMode:a,paymentReference:o,paymentDate:u,paymentStatus:h,receivedAmount:T};try{await s(O)&&t(!1)}catch(P){console.error("Failed to update payment:",P)}};return!e||!r?null:n.jsx(hs,{open:e,onOpenChange:t,children:n.jsxs(ms,{className:"sm:max-w-lg",children:[n.jsxs(ps,{children:[n.jsxs(xs,{children:["Update Payment for Order: ",r.orderNo]}),n.jsx(Ya,{children:"Modify payment details for the entire order."})]}),n.jsx(Mc,{className:"absolute right-4 top-4 z-10",onClick:()=>t(!1),children:n.jsx(vo,{className:"h-4 w-4"})}),n.jsx("div",{className:"grid gap-6 py-4",children:n.jsxs("fieldset",{disabled:S,className:"grid gap-4 border p-4 rounded-md",children:[n.jsxs("legend",{className:"text-sm font-medium px-1",children:["Payment Information ",S?`(Status: ${r.paymentStatus} - Disabled)`:""]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsxs(Te,{htmlFor:"paymentMode",className:"text-right col-span-1",children:["Payment Mode ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(er,{value:a,onValueChange:T=>i(T),disabled:S,children:[n.jsx(rr,{id:"paymentMode",className:"col-span-3 mt-1",children:n.jsx(tr,{placeholder:"Select payment mode"})}),n.jsx(sr,{children:STe.map(T=>n.jsx(yt,{value:T.value,children:T.label},T.value))})]})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(Te,{htmlFor:"payment-reference",className:"text-right col-span-1",children:"Reference #"}),n.jsx(tt,{id:"payment-reference",value:o,onChange:T=>l(T.target.value),className:"col-span-3"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(Te,{htmlFor:"payment-date",className:"text-right col-span-1",children:"Payment Date"}),n.jsx(tt,{type:"date",id:"payment-date",value:u,onChange:T=>f(T.target.value),className:"col-span-3"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(Te,{htmlFor:"payable-amount",className:"text-right col-span-1",children:"Payable Amount"}),n.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[n.jsx(Qx,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{id:"payable-amount",className:"font-semibold",children:w})]})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsxs(Te,{htmlFor:"received-amount",className:"text-right col-span-1",children:["Received Amount ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(tt,{id:"received-amount",type:"number",value:N,onChange:T=>b(T.target.value),className:"col-span-3",placeholder:"Enter amount received"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsxs(Te,{className:"text-right col-span-1",htmlFor:"payment-status-modal",children:["Status ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[n.jsxs(er,{value:h,onValueChange:T=>{if(x(T),T){const D={...p};delete D.paymentStatus,y(D)}},children:[n.jsx(rr,{id:"payment-status-modal",className:p.paymentStatus?"border-red-500":"",children:n.jsx(tr,{placeholder:"Select status"})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"PAID",children:"Paid"}),n.jsx(yt,{value:"FAILED",children:"Failed"})]})]}),p.paymentStatus&&n.jsx("p",{className:"text-xs text-red-500",children:p.paymentStatus})]})]})]})}),n.jsxs(gi,{children:[n.jsx(he,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(he,{onClick:C,disabled:S,children:"Save Changes"})]})]})})},ATe=({isOpen:e,onOpenChange:t,subscription:r,agencies:s,isLoadingAgencies:a,onUpdateSubscription:i})=>{var x,p,y,N,b,w,j,S;const[o,l]=g.useState("NONE");g.useEffect(()=>{var A;l(r&&((A=r.agencyId)==null?void 0:A.toString())||"NONE")},[r]);const u=async()=>{if(!r)return;const A={subscriptionId:r.id,agencyId:o!=="NONE"?parseInt(o,10):null};try{await i(A),t(!1)}catch(C){console.error("Failed to update subscription in modal:",C)}};if(!e||!r)return null;const f=(A,C)=>{switch(A){case"DAILY":return"Daily";case"WEEKDAYS":return"Weekdays (Mon-Fri)";case"ALTERNATE_DAYS":return"Alternate Days";case"SELECT_DAYS":try{return C?`Selected Days: ${JSON.parse(C).join(", ")}`:"Selected Days"}catch{return"Selected Days"}case"VARYING":return"Varying Schedule";default:return A}},h=A=>A?new Date(A).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"Not set";return n.jsx(hs,{open:e,onOpenChange:t,children:n.jsxs(ms,{className:"sm:max-w-xl max-h-[85vh] flex flex-col",children:[n.jsxs(ps,{children:[n.jsxs(xs,{children:["Assign Agent for: ",r.product.name]}),n.jsxs(Ya,{children:["Subscription for ",((p=(x=r.member)==null?void 0:x.user)==null?void 0:p.name)||"Unknown Member"]})]}),n.jsx(Mc,{className:"absolute right-4 top-4 z-10",onClick:()=>t(!1),children:n.jsx(vo,{className:"h-4 w-4"})}),n.jsxs("div",{className:"grid gap-6 py-4 px-1 overflow-y-auto flex-grow",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-medium mb-2",children:"Subscription Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Product"}),n.jsx("p",{className:"font-medium",children:r.product.name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Quantity"}),n.jsx("p",{className:"font-medium",children:r.deliverySchedule==="ALTERNATE_DAYS"?`${r.qty} / ${r.altQty??"-"}`:r.qty})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Delivery Schedule"}),n.jsx("p",{className:"font-medium",children:f(r.deliverySchedule,r.weekdays)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Start Date"}),n.jsx("p",{className:"font-medium",children:h(r.startDate)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Expiry Date"}),n.jsx("p",{className:"font-medium",children:h(r.expiryDate)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Payment Status"}),n.jsx("p",{className:"font-medium",children:n.jsx("span",{className:`inline-block px-2 py-0.5 rounded ${r.paymentStatus==="PAID"?"bg-green-100 text-green-800":r.paymentStatus==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.paymentStatus})})]})]})]}),r.deliveryAddress&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-medium mb-2",children:"Delivery Address"}),n.jsxs("div",{className:"grid gap-1 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:r.deliveryAddress.recipientName}),r.deliveryAddress.label&&n.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded",children:r.deliveryAddress.label})]}),n.jsxs("p",{children:[r.deliveryAddress.plotBuilding,", ",r.deliveryAddress.streetArea]}),r.deliveryAddress.landmark&&n.jsx("p",{children:r.deliveryAddress.landmark}),n.jsxs("p",{children:[r.deliveryAddress.city,", ",r.deliveryAddress.state," - ",r.deliveryAddress.pincode]}),n.jsxs("p",{className:"text-blue-600",children:["Mobile: ",r.deliveryAddress.mobile]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-medium mb-2",children:"Member Details"}),n.jsxs("div",{className:"grid gap-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Name:"})," ",((N=(y=r.member)==null?void 0:y.user)==null?void 0:N.name)||"N/A"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Email:"})," ",((w=(b=r.member)==null?void 0:b.user)==null?void 0:w.email)||"N/A"]}),((S=(j=r.member)==null?void 0:j.user)==null?void 0:S.mobile)&&n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Mobile:"})," ",r.member.user.mobile]})]})]}),n.jsxs("fieldset",{className:"grid gap-4 border p-4 rounded-md",children:[n.jsx("legend",{className:"text-sm font-medium px-1",children:"Delivery Agent"}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(Te,{htmlFor:"delivery-agent",className:"text-right col-span-1",children:"Agent"}),n.jsxs(er,{value:o,onValueChange:l,disabled:a,children:[n.jsx(rr,{id:"delivery-agent",className:"col-span-3",children:n.jsx(tr,{placeholder:a?"Loading agents...":"Select agent"})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"NONE",children:"Unassign / Not Assigned"}),s.map(A=>{var C;return n.jsx(yt,{value:A.id.toString(),children:((C=A.user)==null?void 0:C.name)||A.name},A.id)}),s.length===0&&!a&&n.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"No agents available."})]})]})]})]})]}),n.jsxs(gi,{children:[n.jsx(he,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(he,{type:"button",onClick:u,disabled:a,children:a?"Loading...":"Assign Agent"})]})]})})},TTe=()=>{const[e,t]=g.useState([]),[r,s]=g.useState(1),[a,i]=g.useState(10),[o,l]=g.useState(0),[u,f]=g.useState(!0),[h,x]=g.useState(null),[p,y]=g.useState(null),[N,b]=g.useState(!1),[w,j]=g.useState(!1),[S,A]=g.useState(!1),[C,T]=g.useState([]),[D,_]=g.useState(!1),[O]=g.useState(!1),[P,B]=g.useState(!1),[I,G]=g.useState({searchTerm:"",memberName:"",subscriptionDate:"",paymentStatus:"ALL",deliveryStatus:"",agencyId:"",productId:""}),z=g.useCallback(async(Q=r,ie=10,xe=I)=>{var Ee,Ae;f(!0);const ue=Q!==void 0?Q:r!==void 0?r:1,de=ie!==void 0?ie:a!==void 0?a:10,De=xe||I||{},Ne={};for(const[Ye,be]of Object.entries(De)){if(be==null)continue;const ge=String(be).trim();ge===""||ge.toLowerCase()==="all"||(Ye==="memberName"?Ne.searchTerm=ge:Ye==="subscriptionDate"?Ne.startDate=ge:Ne[Ye]=ge)}const ot=new URLSearchParams({page:ue.toString(),limit:de.toString(),...Ne}).toString();try{const Ye=await mt(`/product-orders?${ot}`);t(Ye.data||[]),l(Ye.totalPages),s(Ye.currentPage)}catch(Ye){console.error("Failed to fetch subscriptions:",Ye);const be=((Ae=(Ee=Ye.response)==null?void 0:Ee.data)==null?void 0:Ae.message)||Ye.message||"Failed to fetch subscriptions.";me.error(be),t([])}finally{f(!1)}},[r,a,I]),ae=g.useCallback(async()=>{var Q,ie;_(!0);try{const xe=await mt("/agencies");T(xe.data||[])}catch(xe){console.error("Failed to fetch agencies:",xe);const ue=((ie=(Q=xe.response)==null?void 0:Q.data)==null?void 0:ie.message)||xe.message||"Failed to load delivery agents.";me.error(ue),T([])}finally{_(!1)}},[]);g.useEffect(()=>{z(r,a,I)},[z,r,a,I]),g.useEffect(()=>{ae()},[ae]);const J=Q=>{s(Q),z(Q,a,I)},L=Q=>{i(Q),s(1),z(1,Q,I)},U=async Q=>{var ue,de;if(!h)return me.error("No order selected for update."),!1;const{orderId:ie,...xe}=Q;try{return await un(`/product-orders/${h.id}/payment`,xe),me.success("Payment updated successfully!"),z(),!0}catch(De){const Ne=((de=(ue=De.response)==null?void 0:ue.data)==null?void 0:de.message)||"Failed to update payment.";return me.error(Ne),console.error("Error updating payment:",De),!1}},F=async Q=>{if(!p)return;const{subscriptionId:ie,agencyId:xe}=Q,ue={agencyId:xe===void 0?null:Number(xe)};try{await un(`/subscriptions/${ie}/assign-agent`,ue),me.success("Agent assigned successfully!"),z()}catch(de){me.error("Failed to assign agent."),console.error("Error assigning agent:",de)}},X=Q=>{Q&&(x(Q),b(!0))},q=Q=>{Q&&(y(Q),j(!0),ae())},te=()=>{A(!0),ae()},M=async(Q,ie)=>{try{await $r("/subscriptions/bulk-assign-agency",{subscriptionIds:Q,agencyId:ie}),me.success(`Successfully assigned agency to ${Q.length} subscription(s)`),z()}catch(xe){throw console.error("Bulk agency assignment failed:",xe),me.error("Failed to assign agencies. Please try again."),xe}},W=Q=>({MONDAY:"Mon",TUESDAY:"Tue",WEDNESDAY:"Wed",THURSDAY:"Thu",FRIDAY:"Fri",SATURDAY:"Sat",SUNDAY:"Sun"})[Q.toUpperCase()]||Q,K=(Q,ie)=>{const xe=Q.replace(/_/g," ").replace(/\b\w/g,De=>De.toUpperCase());let ue=[],de=!1;if((Q==="WEEKDAYS"||Q==="SELECT_DAYS"||Q==="VARYING")&&(de=!0,ie))try{const De=JSON.parse(ie);Array.isArray(De)&&De.length>0&&(ue=De.map(Ne=>Ne.toString().toUpperCase()))}catch(De){console.error("Error parsing weekdays JSON:",ie,De)}return{scheduleType:xe,weekdaysArray:ue,isSpecificDays:de}},V=(Q=12)=>{const ie=[];for(let xe=0;xe<a;xe++){const ue=[];for(let de=0;de<Q;de++){const De=de===Q-1?"w-[80px]":"w-full";ue.push(n.jsx(ze,{children:n.jsx(Tt,{className:`h-4 ${De}`})},`skeleton-cell-${xe}-${de}`))}ie.push(n.jsx(Xt,{children:ue},`skeleton-row-${xe}`))}return ie};return n.jsxs("div",{className:"container mx-auto p-4 md:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Admin - Subscriptions Management"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(he,{variant:P?"default":"outline",onClick:()=>B(!P),className:"flex items-center gap-2",children:[n.jsx(fO,{className:"h-4 w-4"}),P?"Show All":"Unassigned Only"]}),n.jsxs(he,{onClick:te,className:"flex items-center gap-2",children:[n.jsx(LI,{className:"h-4 w-4"}),"Bulk Assign Agencies"]})]})]}),!1,n.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm",children:"Items per page:"}),n.jsxs(er,{value:a.toString(),onValueChange:Q=>L(Number(Q)),children:[n.jsx(rr,{className:"w-20",children:n.jsx(tr,{placeholder:a.toString()})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"10",children:"10"}),n.jsx(yt,{value:"20",children:"20"}),n.jsx(yt,{value:"50",children:"50"}),n.jsx(yt,{value:"100",children:"100"})]})]})]})]}),n.jsx("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden",children:n.jsxs(Ps,{className:"min-w-full",children:[n.jsx(Ms,{className:"bg-gray-50",children:n.jsxs(Xt,{className:"border-b border-gray-200",children:[n.jsx(Ke,{className:"px-4 py-3 font-medium text-gray-700",children:"Member"}),n.jsx(Ke,{className:"px-4 py-3 font-medium text-gray-700",children:"Subscription Details"}),n.jsx(Ke,{className:"px-4 py-3 font-medium text-gray-700",children:"Delivery"}),n.jsx(Ke,{className:"px-4 py-3 font-medium text-gray-700",children:"Payment"}),n.jsx(Ke,{className:"px-4 py-3 font-medium text-gray-700",children:"Dates"}),n.jsx(Ke,{className:"px-4 py-3 font-medium text-gray-700",children:"Agent"}),n.jsx(Ke,{className:"px-4 py-3 font-medium text-gray-700 text-right",children:"Actions"})]})}),n.jsx(Is,{children:u?V(7):e.length>0?e.filter(Q=>P?Q.subscriptions.some(ie=>!ie.agencyId):!0).map(Q=>{var xe,ue,de,De,Ne,ot,Ee,Ae,Ye;const ie=Q.subscriptions[0];return n.jsxs(Xt,{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[n.jsx(ze,{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-gray-100 border-2 border-dashed rounded-xl w-10 h-10 flex items-center justify-center",children:n.jsx(sw,{className:"h-5 w-5 text-gray-400"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:((ue=(xe=Q.member)==null?void 0:xe.user)==null?void 0:ue.name)||"N/A"}),n.jsxs("div",{className:"flex flex-col gap-1 mt-1 text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(MI,{className:"h-3.5 w-3.5"}),n.jsx("span",{children:((De=(de=Q==null?void 0:Q.member)==null?void 0:de.user)==null?void 0:De.mobile)||"N/A"})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(CT,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"truncate max-w-[120px]",children:((ot=(Ne=Q.member)==null?void 0:Ne.user)==null?void 0:ot.email)||"N/A"})]})]})]})]})}),n.jsx(ze,{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("div",{className:"flex flex-wrap gap-1.5",children:Q.subscriptions.map(be=>{var ge,Me;return n.jsxs("div",{className:"bg-blue-50 text-blue-700 px-2.5 py-1 rounded-full flex items-center gap-1.5 text-xs",children:[n.jsx(yo,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"font-medium",children:(ge=be.product)==null?void 0:ge.name}),n.jsx("span",{children:be.deliverySchedule==="ALTERNATE_DAYS"?`×${be.qty}/${be.altQty??"-"}`:`×${be.qty}`}),n.jsx("span",{className:"text-blue-600",children:((Me=be.depotProductVariant)==null?void 0:Me.name)||""})]},be.id)})}),n.jsxs("div",{className:"flex items-center gap-3 text-sm mt-1",children:[n.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-1 rounded",children:[n.jsx(m0,{className:"h-4 w-4 text-gray-500"}),n.jsxs("span",{children:[Q.subscriptions.length," item",Q.subscriptions.length>1?"s":""]})]}),n.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[n.jsx(Qx,{className:"h-4 w-4"}),n.jsx("span",{children:(Q.payableamt||0).toFixed(2)})]})]})]})}),n.jsx(ze,{className:"px-4 py-3",children:n.jsx("div",{className:"flex flex-col gap-1.5",children:Q.subscriptions.map(be=>{var jt,fe,Se,Re,ye;const{weekdaysArray:ge,isSpecificDays:Me}=K(be.deliverySchedule,be.weekdays),xt=be.deliverySchedule==="DAILY"?"Daily":be.deliverySchedule==="WEEKDAYS"?"Weekdays Only":be.deliverySchedule==="WEEKENDS"?"Weekends":be.deliverySchedule==="ALTERNATE_DAYS"?"Every Other Day":be.deliverySchedule==="DAY1_DAY2"?"Daily (Varying Qty)":"Custom";return n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium text-gray-700 mb-1",children:xt}),be.deliverySchedule==="ALTERNATE_DAYS"&&(be.qty||be.altQty)?n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-secondary rounded-full"}),n.jsxs("span",{className:"text-blue-700 font-medium",children:[be.qty," - ",((jt=be.depotProductVariant)==null?void 0:jt.name)||"units"]})]}),n.jsx("span",{className:"text-gray-400",children:"•"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n.jsxs("span",{className:"text-green-700 font-medium",children:[be.altQty," - ",((fe=be.depotProductVariant)==null?void 0:fe.name)||"units"]})]}),n.jsx("span",{className:"text-gray-400 text-xs italic ml-1",children:"skip day pattern"})]}):be.deliverySchedule==="DAY1_DAY2"&&(be.qty||be.altQty)?n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-secondary rounded-full"}),n.jsxs("span",{className:"text-blue-700 font-medium",children:[be.qty," - ",((Se=be.depotProductVariant)==null?void 0:Se.name)||"units"]})]}),n.jsx("span",{className:"text-gray-400",children:"•"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n.jsxs("span",{className:"text-green-700 font-medium",children:[be.altQty," - ",((Re=be.depotProductVariant)==null?void 0:Re.name)||"units"]})]}),n.jsx("span",{className:"text-gray-400 text-xs italic ml-1",children:"daily rotation"})]}):be.qty&&n.jsxs("div",{className:"text-xs text-gray-600",children:[be.qty," - ",((ye=be.depotProductVariant)==null?void 0:ye.name)||"units",be.deliverySchedule==="DAILY"?" daily":be.deliverySchedule==="WEEKDAYS"?" on weekdays":be.deliverySchedule==="WEEKENDS"?" on weekends":" per delivery"]}),Me&&ge.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ge.map(($e,Pe)=>n.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded bg-blue-100 text-blue-700",children:W($e)},Pe))})]},be.id)})})}),n.jsx(ze,{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("div",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Q.paymentStatus==="PAID"?"bg-green-100 text-green-800":Q.paymentStatus==="PENDING"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:Q.paymentStatus}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Q.paymentStatus==="PAID"?"Payment completed":Q.paymentStatus==="PENDING"?"Processing payment":"Payment required"})]})}),n.jsx(ze,{className:"px-4 py-3",children:ie?n.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Start"}),n.jsx("span",{children:Gt(new Date(ie.startDate),"dd MMM yyyy")})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(ZK,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Expiry"}),n.jsx("span",{children:ie.expiryDate?Gt(new Date(ie.expiryDate),"dd MMM yyyy"):"N/A"})]})]})]}):n.jsx("span",{className:"text-sm text-gray-500",children:"No subscription"})}),n.jsx(ze,{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-1.5",children:n.jsx(qQ,{className:"h-4 w-4 text-gray-500"})}),n.jsx("span",{className:"text-sm",children:((Ae=(Ee=ie==null?void 0:ie.agency)==null?void 0:Ee.user)==null?void 0:Ae.name)||((Ye=ie==null?void 0:ie.agency)==null?void 0:Ye.name)||n.jsx("span",{className:"text-gray-400",children:"Unassigned"})})]})}),n.jsx(ze,{className:"px-4 py-3 text-right",children:n.jsx("div",{className:"flex justify-end gap-1.5",children:n.jsxs(kw,{children:[n.jsxs(lb,{children:[n.jsx(cb,{asChild:!0,children:n.jsx(he,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full bg-white hover:bg-gray-50",onClick:()=>X(Q),disabled:Q.paymentStatus==="PAID",children:n.jsx(yo,{className:"h-4 w-4"})})}),n.jsx(db,{side:"top",children:n.jsx("p",{children:"Update Payment"})})]}),n.jsxs(lb,{children:[n.jsx(cb,{asChild:!0,children:n.jsx(he,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full bg-white hover:bg-gray-50",onClick:()=>q(ie),disabled:(ie==null?void 0:ie.paymentStatus)!=="PAID"||!!(ie!=null&&ie.agencyId),children:n.jsx(fO,{className:"h-4 w-4"})})}),n.jsx(db,{side:"top",children:n.jsx("p",{children:ie!=null&&ie.agencyId?"Agent assigned":(ie==null?void 0:ie.paymentStatus)!=="PAID"?"Complete payment first":"Assign Agent"})})]})]})})})]},Q.id)}):n.jsx(Xt,{children:n.jsx(ze,{colSpan:7,className:"px-4 py-12 text-center text-gray-500",children:n.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[n.jsx(yo,{className:"h-10 w-10 text-gray-300"}),n.jsx("div",{className:"text-gray-600",children:"No subscriptions found"}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Start by creating a new subscription"})]})})})})]})}),o>1&&n.jsxs("div",{className:"mt-6 flex justify-center items-center space-x-2",children:[n.jsx(he,{onClick:()=>J(r-1),disabled:r===1,variant:"outline",children:"Previous"}),n.jsxs("span",{className:"text-sm",children:["Page ",r," of ",o]}),n.jsx(he,{onClick:()=>J(r+1),disabled:r===o,variant:"outline",children:"Next"})]}),h&&n.jsx(ETe,{isOpen:N,onOpenChange:b,order:h,onUpdateOrder:U}),p&&n.jsx(ATe,{isOpen:w,onOpenChange:j,subscription:p,agencies:C,isLoadingAgencies:D,onUpdateSubscription:F}),n.jsx(jTe,{isOpen:S,onOpenChange:A,subscriptions:e.flatMap(Q=>Q.subscriptions),agencies:C,isLoadingAgencies:D,onBulkUpdateSubscriptions:M})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Mb={};Mb.version="0.18.5";var kq=1252,CTe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Dq=function(e){CTe.indexOf(e)!=-1&&(kq=e)};function _Te(){Dq(1252)}var Mg=function(e){Dq(e)};function kTe(){Mg(1200),_Te()}var m1=function(t){return String.fromCharCode(t)},QM=function(t){return String.fromCharCode(t)},ZM,mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ig(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),i=r>>2,s=e.charCodeAt(f++),o=(r&3)<<4|s>>4,a=e.charCodeAt(f++),l=(s&15)<<2|a>>6,u=a&63,isNaN(s)?l=u=64:isNaN(a)&&(u=64),t+=mu.charAt(i)+mu.charAt(o)+mu.charAt(l)+mu.charAt(u);return t}function Jc(e){var t="",r=0,s=0,a=0,i=0,o=0,l=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)i=mu.indexOf(e.charAt(f++)),o=mu.indexOf(e.charAt(f++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=mu.indexOf(e.charAt(f++)),s=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(s)),u=mu.indexOf(e.charAt(f++)),a=(l&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var Qr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),cd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function nh(e){return Qr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function JM(e){return Qr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ko=function(t){return Qr?cd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function oN(e){if(typeof ArrayBuffer>"u")return Ko(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),s=0;s!=e.length;++s)r[s]=e.charCodeAt(s)&255;return t}function _y(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function DTe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var ea=Qr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:cd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var s=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),r)}return s}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function OTe(e){for(var t=[],r=0,s=e.length+250,a=nh(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>s&&(t.push(a.slice(0,r)),r=0,a=nh(65535),s=65530)}return t.push(a.slice(0,r)),ea(t)}var Lx=/\u0000/g,p1=/[\u0001-\u0006]/g;function Qm(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Qo(e,t){var r=""+e;return r.length>=t?r:Xs("0",t-r.length)+r}function Q_(e,t){var r=""+e;return r.length>=t?r:Xs(" ",t-r.length)+r}function Ib(e,t){var r=""+e;return r.length>=t?r:r+Xs(" ",t-r.length)}function RTe(e,t){var r=""+Math.round(e);return r.length>=t?r:Xs("0",t-r.length)+r}function PTe(e,t){var r=""+e;return r.length>=t?r:Xs("0",t-r.length)+r}var e6=Math.pow(2,32);function pm(e,t){if(e>e6||e<-e6)return RTe(e,t);var r=Math.round(e);return PTe(r,t)}function Fb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var t6=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],XS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function MTe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Qs={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},r6={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ITe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Lb(e,t,r){for(var s=e<0?-1:1,a=e*s,i=0,o=1,l=0,u=1,f=0,h=0,x=Math.floor(a);f<t&&(x=Math.floor(a),l=x*o+i,h=x*f+u,!(a-x<5e-8));)a=1/(a-x),i=o,o=l,u=f,f=h;if(h>t&&(f>t?(h=u,l=i):(h=f,l=o)),!r)return[0,s*l,h];var p=Math.floor(s*l/h);return[p,s*l-p*h,h]}function x1(e,t,r){if(e>2958465||e<0)return null;var s=e|0,a=Math.floor(86400*(e-s)),i=0,o=[],l={D:s,T:a,u:86400*(e-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(s===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var u=new Date(1900,0,1);u.setDate(u.getDate()+s-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),s<60&&(i=(i+6)%7),r&&(i=qTe(u,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var Oq=new Date(1899,11,31,0,0,0),FTe=Oq.getTime(),LTe=new Date(1900,2,1,0,0,0);function Rq(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=LTe&&(r+=24*60*60*1e3),(r-(FTe+(e.getTimezoneOffset()-Oq.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Z_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function BTe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function $Te(e){var t=e<0?12:11,r=Z_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function UTe(e){var t=Z_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function VTe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=$Te(e):t===10?r=e.toFixed(10).substr(0,12):r=UTe(e),Z_(BTe(r.toUpperCase()))}function cT(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):VTe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Mu(14,Rq(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function qTe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function zTe(e,t,r,s){var a="",i=0,o=0,l=r.y,u,f=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:u=l%100,f=2;break;default:u=l%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return XS[r.m-1][1];case 5:return XS[r.m-1][0];default:return XS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return t6[r.q][0];default:return t6[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Qo(r.S,t.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=Qo(i,2+s),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=l,f=1;break}var h=f>0?Qo(u,f):"";return h}function pu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,s=e.substr(0,r);r!=e.length;r+=t)s+=(s.length>0?",":"")+e.substr(r,t);return s}var Pq=/%/g;function HTe(e,t,r){var s=t.replace(Pq,""),a=t.length-s.length;return Lc(e,s,r*Math.pow(10,2*a))+Xs("%",a)}function WTe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Lc(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function Mq(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Mq(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Iq=/# (\?+)( ?)\/( ?)(\d+)/;function GTe(e,t,r){var s=parseInt(e[4],10),a=Math.round(t*s),i=Math.floor(a/s),o=a-i*s,l=s;return r+(i===0?"":""+i)+" "+(o===0?Xs(" ",e[1].length+1+e[4].length):Q_(o,e[1].length)+e[2]+"/"+e[3]+Qo(l,e[4].length))}function YTe(e,t,r){return r+(t===0?"":""+t)+Xs(" ",e[1].length+2+e[4].length)}var Fq=/^#*0*\.([0#]+)/,Lq=/\).*[0#]/,Bq=/\(###\) ###\\?-####/;function $a(e){for(var t="",r,s=0;s!=e.length;++s)switch(r=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function s6(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function n6(e,t){var r=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(r*s)).length?0:Math.round(r*s)}function KTe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function XTe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function so(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Lq)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?so("n",s,r):"("+so("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return WTe(e,t,r);if(t.indexOf("%")!==-1)return HTe(e,t,r);if(t.indexOf("E")!==-1)return Mq(t,r);if(t.charCodeAt(0)===36)return"$"+so(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+pm(u,t.length);if(t.match(/^[#?]+$/))return a=pm(r,0),a==="0"&&(a=""),a.length>t.length?a:$a(t.substr(0,t.length-a.length))+a;if(i=t.match(Iq))return GTe(i,u,f);if(t.match(/^#+0+$/))return f+pm(u,t.length-t.indexOf("0"));if(i=t.match(Fq))return a=s6(r,i[1].length).replace(/^([^\.]+)$/,"$1."+$a(i[1])).replace(/\.$/,"."+$a(i[1])).replace(/\.(\d*)$/,function(N,b){return"."+b+Xs("0",$a(i[1]).length-b.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+s6(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+pu(pm(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+so(e,t,-r):pu(""+(Math.floor(r)+KTe(r,i[1].length)))+"."+Qo(n6(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return so(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Qm(so(e,t.replace(/[\\-]/g,""),r)),o=0,Qm(Qm(t.replace(/\\/g,"")).replace(/[0#]/g,function(N){return o<a.length?a.charAt(o++):N==="0"?"0":""}));if(t.match(Bq))return a=so(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Lb(u,Math.pow(10,o)-1,!1),a=""+f,h=Lc("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Ib(l[2],o),h.length<i[4].length&&(h=$a(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Lb(u,Math.pow(10,o)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Q_(l[1],o)+i[2]+"/"+i[3]+Ib(l[2],o):Xs(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=pm(r,0),t.length<=a.length?a:$a(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var x=t.indexOf(".")-o,p=t.length-a.length-x;return $a(t.substr(0,x)+a+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=n6(r,i[1].length),r<0?"-"+so(e,t,-r):pu(XTe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(N){return"00,"+(N.length<3?Qo(0,3-N.length):"")+N})+"."+Qo(o,i[1].length);switch(t){case"###,##0.00":return so(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var y=pu(pm(u,0));return y!=="0"?f+y:"";case"###,###.00":return so(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return so(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function QTe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Lc(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function ZTe(e,t,r){var s=t.replace(Pq,""),a=t.length-s.length;return Lc(e,s,r*Math.pow(10,2*a))+Xs("%",a)}function $q(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+$q(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Dl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Lq)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Dl("n",s,r):"("+Dl("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return QTe(e,t,r);if(t.indexOf("%")!==-1)return ZTe(e,t,r);if(t.indexOf("E")!==-1)return $q(t,r);if(t.charCodeAt(0)===36)return"$"+Dl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Qo(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:$a(t.substr(0,t.length-a.length))+a;if(i=t.match(Iq))return YTe(i,u,f);if(t.match(/^#+0+$/))return f+Qo(u,t.length-t.indexOf("0"));if(i=t.match(Fq))return a=(""+r).replace(/^([^\.]+)$/,"$1."+$a(i[1])).replace(/\.$/,"."+$a(i[1])),a=a.replace(/\.(\d*)$/,function(N,b){return"."+b+Xs("0",$a(i[1]).length-b.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+pu(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Dl(e,t,-r):pu(""+r)+"."+Xs("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Dl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Qm(Dl(e,t.replace(/[\\-]/g,""),r)),o=0,Qm(Qm(t.replace(/\\/g,"")).replace(/[0#]/g,function(N){return o<a.length?a.charAt(o++):N==="0"?"0":""}));if(t.match(Bq))return a=Dl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Lb(u,Math.pow(10,o)-1,!1),a=""+f,h=Lc("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Ib(l[2],o),h.length<i[4].length&&(h=$a(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Lb(u,Math.pow(10,o)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Q_(l[1],o)+i[2]+"/"+i[3]+Ib(l[2],o):Xs(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:$a(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var x=t.indexOf(".")-o,p=t.length-a.length-x;return $a(t.substr(0,x)+a+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Dl(e,t,-r):pu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(N){return"00,"+(N.length<3?Qo(0,3-N.length):"")+N})+"."+Qo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var y=pu(""+u);return y!=="0"?f+y:"";default:if(t.match(/\.[0#?]*$/))return Dl(e,t.slice(0,t.lastIndexOf(".")),r)+$a(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Lc(e,t,r){return(r|0)===r?Dl(e,t,r):so(e,t,r)}function JTe(e){for(var t=[],r=!1,s=0,a=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(a,s-a),a=s+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Uq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Vq(e){for(var t=0,r="",s="";t<e.length;)switch(r=e.charAt(t)){case"G":Fb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(s=r;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(Uq))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function eCe(e,t,r,s){for(var a=[],i="",o=0,l="",u="t",f,h,x,p="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Fb(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(x=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(x);a[a.length]={t:"t",v:i},++o;break;case"\\":var y=e.charAt(++o),N=y==="("||y===")"?y:"t";a[a.length]={t:N,v:y},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(f==null&&(f=x1(t,r,e.charAt(o+1)==="2"),f==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},u=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=x1(t,r),f==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=p),a[a.length]={t:l,v:i},u=l;break;case"A":case"a":case"上":var b={t:l,v:l};if(f==null&&(f=x1(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(f!=null&&(b.v=f.H>=12?"P":"A"),b.t="T",p="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(f!=null&&(b.v=f.H>=12?"PM":"AM"),b.t="T",o+=5,p="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(f!=null&&(b.v=f.H>=12?"下午":"上午"),b.t="T",o+=5,p="h"):(b.t="t",++o),f==null&&b.t==="T")return"";a[a.length]=b,u=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Uq)){if(f==null&&(f=x1(t,r),f==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Vq(e)||(a[a.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},u=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var w=0,j=0,S;for(o=a.length-1,u="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=p,u="h",w<1&&(w=1);break;case"s":(S=a[o].v.match(/\.0+$/))&&(j=Math.max(j,S[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":u=a[o].t;break;case"m":u==="s"&&(a[o].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&a[o].v.match(/[Hh]/)&&(w=1),w<2&&a[o].v.match(/[Mm]/)&&(w=2),w<3&&a[o].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var A="",C;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=zTe(a[o].t.charCodeAt(0),a[o].v,f,j),a[o].t="t";break;case"n":case"?":for(C=o+1;a[C]!=null&&((l=a[C].t)==="?"||l==="D"||(l===" "||l==="t")&&a[C+1]!=null&&(a[C+1].t==="?"||a[C+1].t==="t"&&a[C+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[C].v==="/"||a[C].v===" "&&a[C+1]!=null&&a[C+1].t=="?"));)a[o].v+=a[C].v,a[C]={v:"",t:";"},++C;A+=a[o].v,o=C-1;break;case"G":a[o].t="t",a[o].v=cT(t,r);break}var T="",D,_;if(A.length>0){A.charCodeAt(0)==40?(D=t<0&&A.charCodeAt(0)===45?-t:t,_=Lc("n",A,D)):(D=t<0&&s>1?-t:t,_=Lc("n",A,D),D<0&&a[0]&&a[0].t=="t"&&(_=_.substr(1),a[0].v="-"+a[0].v)),C=_.length-1;var O=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){O=o;break}var P=a.length;if(O===a.length&&_.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(C>=a[o].v.length-1?(C-=a[o].v.length,a[o].v=_.substr(C+1,a[o].v.length)):C<0?a[o].v="":(a[o].v=_.substr(0,C+1),C=-1),a[o].t="t",P=o);C>=0&&P<a.length&&(a[P].v=_.substr(0,C+1)+a[P].v)}else if(O!==a.length&&_.indexOf("E")===-1){for(C=_.indexOf(".")-1,o=O;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(h=a[o].v.indexOf(".")>-1&&o===O?a[o].v.indexOf(".")-1:a[o].v.length-1,T=a[o].v.substr(h+1);h>=0;--h)C>=0&&(a[o].v.charAt(h)==="0"||a[o].v.charAt(h)==="#")&&(T=_.charAt(C--)+T);a[o].v=T,a[o].t="t",P=o}for(C>=0&&P<a.length&&(a[P].v=_.substr(0,C+1)+a[P].v),C=_.indexOf(".")+1,o=O;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==O)){for(h=a[o].v.indexOf(".")>-1&&o===O?a[o].v.indexOf(".")+1:0,T=a[o].v.substr(0,h);h<a[o].v.length;++h)C<_.length&&(T+=_.charAt(C++));a[o].v=T,a[o].t="t",P=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(D=s>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Lc(a[o].t,a[o].v,D),a[o].t="t");var B="";for(o=0;o!==a.length;++o)a[o]!=null&&(B+=a[o].v);return B}var a6=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function i6(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function tCe(e,t){var r=JTe(e),s=r.length,a=r[s-1].indexOf("@");if(s<4&&a>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(a6),l=r[1].match(a6);return i6(t,o)?[s,r[0]]:i6(t,l)?[s,r[1]]:[s,r[o!=null&&l!=null?2:1]]}return[s,i]}function Mu(e,t,r){r==null&&(r={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?s=r.dateNF:s=e;break;case"number":e==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:Qs)[e],s==null&&(s=r.table&&r.table[r6[e]]||Qs[r6[e]]),s==null&&(s=ITe[e]||"General");break}if(Fb(s,0))return cT(t,r);t instanceof Date&&(t=Rq(t,r.date1904));var a=tCe(s,t);if(Fb(a[1]))return cT(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return eCe(a[1],t,r,a[0])}function qq(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Qs[r]==null){t<0&&(t=r);continue}if(Qs[r]==e){t=r;break}}t<0&&(t=391)}return Qs[t]=e,t}function lN(e){for(var t=0;t!=392;++t)e[t]!==void 0&&qq(e[t],t)}function cN(){Qs=MTe()}var zq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function rCe(e){var t=typeof e=="number"?Qs[e]:e;return t=t.replace(zq,"(\\d+)"),new RegExp("^"+t+"$")}function sCe(e,t,r){var s=-1,a=-1,i=-1,o=-1,l=-1,u=-1;(t.match(zq)||[]).forEach(function(x,p){var y=parseInt(r[p+1],10);switch(x.toLowerCase().charAt(0)){case"y":s=y;break;case"d":i=y;break;case"h":o=y;break;case"s":u=y;break;case"m":o>=0?l=y:a=y;break}}),u>=0&&l==-1&&a>=0&&(l=a,a=-1);var f=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&l==-1&&u==-1?f:s==-1&&a==-1&&i==-1?h:f+"T"+h}var nCe=function(){var e={};e.version="1.2.0";function t(){for(var _=0,O=new Array(256),P=0;P!=256;++P)_=P,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,O[P]=_;return typeof Int32Array<"u"?new Int32Array(O):O}var r=t();function s(_){var O=0,P=0,B=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)I[B]=_[B];for(B=0;B!=256;++B)for(P=_[B],O=256+B;O<4096;O+=256)P=I[O]=P>>>8^_[P&255];var G=[];for(B=1;B!=16;++B)G[B-1]=typeof Int32Array<"u"?I.subarray(B*256,B*256+256):I.slice(B*256,B*256+256);return G}var a=s(r),i=a[0],o=a[1],l=a[2],u=a[3],f=a[4],h=a[5],x=a[6],p=a[7],y=a[8],N=a[9],b=a[10],w=a[11],j=a[12],S=a[13],A=a[14];function C(_,O){for(var P=O^-1,B=0,I=_.length;B<I;)P=P>>>8^r[(P^_.charCodeAt(B++))&255];return~P}function T(_,O){for(var P=O^-1,B=_.length-15,I=0;I<B;)P=A[_[I++]^P&255]^S[_[I++]^P>>8&255]^j[_[I++]^P>>16&255]^w[_[I++]^P>>>24]^b[_[I++]]^N[_[I++]]^y[_[I++]]^p[_[I++]]^x[_[I++]]^h[_[I++]]^f[_[I++]]^u[_[I++]]^l[_[I++]]^o[_[I++]]^i[_[I++]]^r[_[I++]];for(B+=15;I<B;)P=P>>>8^r[(P^_[I++])&255];return~P}function D(_,O){for(var P=O^-1,B=0,I=_.length,G=0,z=0;B<I;)G=_.charCodeAt(B++),G<128?P=P>>>8^r[(P^G)&255]:G<2048?(P=P>>>8^r[(P^(192|G>>6&31))&255],P=P>>>8^r[(P^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,z=_.charCodeAt(B++)&1023,P=P>>>8^r[(P^(240|G>>8&7))&255],P=P>>>8^r[(P^(128|G>>2&63))&255],P=P>>>8^r[(P^(128|z>>6&15|(G&3)<<4))&255],P=P>>>8^r[(P^(128|z&63))&255]):(P=P>>>8^r[(P^(224|G>>12&15))&255],P=P>>>8^r[(P^(128|G>>6&63))&255],P=P>>>8^r[(P^(128|G&63))&255]);return~P}return e.table=r,e.bstr=C,e.buf=T,e.str=D,e}(),fs=function(){var t={};t.version="1.2.1";function r(Y,oe){for(var re=Y.split("/"),ne=oe.split("/"),le=0,ce=0,_e=Math.min(re.length,ne.length);le<_e;++le){if(ce=re[le].length-ne[le].length)return ce;if(re[le]!=ne[le])return re[le]<ne[le]?-1:1}return re.length-ne.length}function s(Y){if(Y.charAt(Y.length-1)=="/")return Y.slice(0,-1).indexOf("/")===-1?Y:s(Y.slice(0,-1));var oe=Y.lastIndexOf("/");return oe===-1?Y:Y.slice(0,oe+1)}function a(Y){if(Y.charAt(Y.length-1)=="/")return a(Y.slice(0,-1));var oe=Y.lastIndexOf("/");return oe===-1?Y:Y.slice(oe+1)}function i(Y,oe){typeof oe=="string"&&(oe=new Date(oe));var re=oe.getHours();re=re<<6|oe.getMinutes(),re=re<<5|oe.getSeconds()>>>1,Y.write_shift(2,re);var ne=oe.getFullYear()-1980;ne=ne<<4|oe.getMonth()+1,ne=ne<<5|oe.getDate(),Y.write_shift(2,ne)}function o(Y){var oe=Y.read_shift(2)&65535,re=Y.read_shift(2)&65535,ne=new Date,le=re&31;re>>>=5;var ce=re&15;re>>>=4,ne.setMilliseconds(0),ne.setFullYear(re+1980),ne.setMonth(ce-1),ne.setDate(le);var _e=oe&31;oe>>>=5;var We=oe&63;return oe>>>=6,ne.setHours(oe),ne.setMinutes(We),ne.setSeconds(_e<<1),ne}function l(Y){Oi(Y,0);for(var oe={},re=0;Y.l<=Y.length-4;){var ne=Y.read_shift(2),le=Y.read_shift(2),ce=Y.l+le,_e={};switch(ne){case 21589:re=Y.read_shift(1),re&1&&(_e.mtime=Y.read_shift(4)),le>5&&(re&2&&(_e.atime=Y.read_shift(4)),re&4&&(_e.ctime=Y.read_shift(4))),_e.mtime&&(_e.mt=new Date(_e.mtime*1e3));break}Y.l=ce,oe[ne]=_e}return oe}var u;function f(){return u||(u={})}function h(Y,oe){if(Y[0]==80&&Y[1]==75)return ma(Y,oe);if((Y[0]|32)==109&&(Y[1]|32)==105)return se(Y,oe);if(Y.length<512)throw new Error("CFB file size "+Y.length+" < 512");var re=3,ne=512,le=0,ce=0,_e=0,We=0,ke=0,Be=[],Ue=Y.slice(0,512);Oi(Ue,0);var lt=x(Ue);switch(re=lt[0],re){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(lt[1]==0)return ma(Y,oe);default:throw new Error("Major Version: Expected 3 or 4 saw "+re)}ne!==512&&(Ue=Y.slice(0,ne),Oi(Ue,28));var ft=Y.slice(0,ne);p(Ue,re);var kt=Ue.read_shift(4,"i");if(re===3&&kt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+kt);Ue.l+=4,_e=Ue.read_shift(4,"i"),Ue.l+=4,Ue.chk("00100000","Mini Stream Cutoff Size: "),We=Ue.read_shift(4,"i"),le=Ue.read_shift(4,"i"),ke=Ue.read_shift(4,"i"),ce=Ue.read_shift(4,"i");for(var pt=-1,Et=0;Et<109&&(pt=Ue.read_shift(4,"i"),!(pt<0));++Et)Be[Et]=pt;var ir=y(Y,ne);w(ke,ce,ir,ne,Be);var qr=S(ir,_e,Be,ne);qr[_e].name="!Directory",le>0&&We!==z&&(qr[We].name="!MiniFAT"),qr[Be[0]].name="!FAT",qr.fat_addrs=Be,qr.ssz=ne;var kr={},Kr=[],pa=[],Sn=[];A(_e,qr,ir,Kr,le,kr,pa,We),N(pa,Sn,Kr),Kr.shift();var On={FileIndex:pa,FullPaths:Sn};return oe&&oe.raw&&(On.raw={header:ft,sectors:ir}),On}function x(Y){if(Y[Y.l]==80&&Y[Y.l+1]==75)return[0,0];Y.chk(ae,"Header Signature: "),Y.l+=16;var oe=Y.read_shift(2,"u");return[Y.read_shift(2,"u"),oe]}function p(Y,oe){var re=9;switch(Y.l+=2,re=Y.read_shift(2)){case 9:if(oe!=3)throw new Error("Sector Shift: Expected 9 saw "+re);break;case 12:if(oe!=4)throw new Error("Sector Shift: Expected 12 saw "+re);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+re)}Y.chk("0600","Mini Sector Shift: "),Y.chk("000000000000","Reserved: ")}function y(Y,oe){for(var re=Math.ceil(Y.length/oe)-1,ne=[],le=1;le<re;++le)ne[le-1]=Y.slice(le*oe,(le+1)*oe);return ne[re-1]=Y.slice(re*oe),ne}function N(Y,oe,re){for(var ne=0,le=0,ce=0,_e=0,We=0,ke=re.length,Be=[],Ue=[];ne<ke;++ne)Be[ne]=Ue[ne]=ne,oe[ne]=re[ne];for(;We<Ue.length;++We)ne=Ue[We],le=Y[ne].L,ce=Y[ne].R,_e=Y[ne].C,Be[ne]===ne&&(le!==-1&&Be[le]!==le&&(Be[ne]=Be[le]),ce!==-1&&Be[ce]!==ce&&(Be[ne]=Be[ce])),_e!==-1&&(Be[_e]=ne),le!==-1&&ne!=Be[ne]&&(Be[le]=Be[ne],Ue.lastIndexOf(le)<We&&Ue.push(le)),ce!==-1&&ne!=Be[ne]&&(Be[ce]=Be[ne],Ue.lastIndexOf(ce)<We&&Ue.push(ce));for(ne=1;ne<ke;++ne)Be[ne]===ne&&(ce!==-1&&Be[ce]!==ce?Be[ne]=Be[ce]:le!==-1&&Be[le]!==le&&(Be[ne]=Be[le]));for(ne=1;ne<ke;++ne)if(Y[ne].type!==0){if(We=ne,We!=Be[We])do We=Be[We],oe[ne]=oe[We]+"/"+oe[ne];while(We!==0&&Be[We]!==-1&&We!=Be[We]);Be[ne]=-1}for(oe[0]+="/",ne=1;ne<ke;++ne)Y[ne].type!==2&&(oe[ne]+="/")}function b(Y,oe,re){for(var ne=Y.start,le=Y.size,ce=[],_e=ne;re&&le>0&&_e>=0;)ce.push(oe.slice(_e*G,_e*G+G)),le-=G,_e=wf(re,_e*4);return ce.length===0?Ze(0):ea(ce).slice(0,Y.size)}function w(Y,oe,re,ne,le){var ce=z;if(Y===z){if(oe!==0)throw new Error("DIFAT chain shorter than expected")}else if(Y!==-1){var _e=re[Y],We=(ne>>>2)-1;if(!_e)return;for(var ke=0;ke<We&&(ce=wf(_e,ke*4))!==z;++ke)le.push(ce);w(wf(_e,ne-4),oe-1,re,ne,le)}}function j(Y,oe,re,ne,le){var ce=[],_e=[];le||(le=[]);var We=ne-1,ke=0,Be=0;for(ke=oe;ke>=0;){le[ke]=!0,ce[ce.length]=ke,_e.push(Y[ke]);var Ue=re[Math.floor(ke*4/ne)];if(Be=ke*4&We,ne<4+Be)throw new Error("FAT boundary crossed: "+ke+" 4 "+ne);if(!Y[Ue])break;ke=wf(Y[Ue],Be)}return{nodes:ce,data:m6([_e])}}function S(Y,oe,re,ne){var le=Y.length,ce=[],_e=[],We=[],ke=[],Be=ne-1,Ue=0,lt=0,ft=0,kt=0;for(Ue=0;Ue<le;++Ue)if(We=[],ft=Ue+oe,ft>=le&&(ft-=le),!_e[ft]){ke=[];var pt=[];for(lt=ft;lt>=0;){pt[lt]=!0,_e[lt]=!0,We[We.length]=lt,ke.push(Y[lt]);var Et=re[Math.floor(lt*4/ne)];if(kt=lt*4&Be,ne<4+kt)throw new Error("FAT boundary crossed: "+lt+" 4 "+ne);if(!Y[Et]||(lt=wf(Y[Et],kt),pt[lt]))break}ce[ft]={nodes:We,data:m6([ke])}}return ce}function A(Y,oe,re,ne,le,ce,_e,We){for(var ke=0,Be=ne.length?2:0,Ue=oe[Y].data,lt=0,ft=0,kt;lt<Ue.length;lt+=128){var pt=Ue.slice(lt,lt+128);Oi(pt,64),ft=pt.read_shift(2),kt=s4(pt,0,ft-Be),ne.push(kt);var Et={name:kt,type:pt.read_shift(1),color:pt.read_shift(1),L:pt.read_shift(4,"i"),R:pt.read_shift(4,"i"),C:pt.read_shift(4,"i"),clsid:pt.read_shift(16),state:pt.read_shift(4,"i"),start:0,size:0},ir=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);ir!==0&&(Et.ct=C(pt,pt.l-8));var qr=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);qr!==0&&(Et.mt=C(pt,pt.l-8)),Et.start=pt.read_shift(4,"i"),Et.size=pt.read_shift(4,"i"),Et.size<0&&Et.start<0&&(Et.size=Et.type=0,Et.start=z,Et.name=""),Et.type===5?(ke=Et.start,le>0&&ke!==z&&(oe[ke].name="!StreamData")):Et.size>=4096?(Et.storage="fat",oe[Et.start]===void 0&&(oe[Et.start]=j(re,Et.start,oe.fat_addrs,oe.ssz)),oe[Et.start].name=Et.name,Et.content=oe[Et.start].data.slice(0,Et.size)):(Et.storage="minifat",Et.size<0?Et.size=0:ke!==z&&Et.start!==z&&oe[ke]&&(Et.content=b(Et,oe[ke].data,(oe[We]||{}).data))),Et.content&&Oi(Et.content,0),ce[kt]=Et,_e.push(Et)}}function C(Y,oe){return new Date((Mi(Y,oe+4)/1e7*Math.pow(2,32)+Mi(Y,oe)/1e7-11644473600)*1e3)}function T(Y,oe){return f(),h(u.readFileSync(Y),oe)}function D(Y,oe){var re=oe&&oe.type;switch(re||Qr&&Buffer.isBuffer(Y)&&(re="buffer"),re||"base64"){case"file":return T(Y,oe);case"base64":return h(Ko(Jc(Y)),oe);case"binary":return h(Ko(Y),oe)}return h(Y,oe)}function _(Y,oe){var re=oe||{},ne=re.root||"Root Entry";if(Y.FullPaths||(Y.FullPaths=[]),Y.FileIndex||(Y.FileIndex=[]),Y.FullPaths.length!==Y.FileIndex.length)throw new Error("inconsistent CFB structure");Y.FullPaths.length===0&&(Y.FullPaths[0]=ne+"/",Y.FileIndex[0]={name:ne,type:5}),re.CLSID&&(Y.FileIndex[0].clsid=re.CLSID),O(Y)}function O(Y){var oe="Sh33tJ5";if(!fs.find(Y,"/"+oe)){var re=Ze(4);re[0]=55,re[1]=re[3]=50,re[2]=54,Y.FileIndex.push({name:oe,type:2,content:re,size:4,L:69,R:69,C:69}),Y.FullPaths.push(Y.FullPaths[0]+oe),P(Y)}}function P(Y,oe){_(Y);for(var re=!1,ne=!1,le=Y.FullPaths.length-1;le>=0;--le){var ce=Y.FileIndex[le];switch(ce.type){case 0:ne?re=!0:(Y.FileIndex.pop(),Y.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(ce.R*ce.L*ce.C)&&(re=!0),ce.R>-1&&ce.L>-1&&ce.R==ce.L&&(re=!0);break;default:re=!0;break}}if(!(!re&&!oe)){var _e=new Date(1987,1,19),We=0,ke=Object.create?Object.create(null):{},Be=[];for(le=0;le<Y.FullPaths.length;++le)ke[Y.FullPaths[le]]=!0,Y.FileIndex[le].type!==0&&Be.push([Y.FullPaths[le],Y.FileIndex[le]]);for(le=0;le<Be.length;++le){var Ue=s(Be[le][0]);ne=ke[Ue],ne||(Be.push([Ue,{name:a(Ue).replace("/",""),type:1,clsid:L,ct:_e,mt:_e,content:null}]),ke[Ue]=!0)}for(Be.sort(function(kt,pt){return r(kt[0],pt[0])}),Y.FullPaths=[],Y.FileIndex=[],le=0;le<Be.length;++le)Y.FullPaths[le]=Be[le][0],Y.FileIndex[le]=Be[le][1];for(le=0;le<Be.length;++le){var lt=Y.FileIndex[le],ft=Y.FullPaths[le];if(lt.name=a(ft).replace("/",""),lt.L=lt.R=lt.C=-(lt.color=1),lt.size=lt.content?lt.content.length:0,lt.start=0,lt.clsid=lt.clsid||L,le===0)lt.C=Be.length>1?1:-1,lt.size=0,lt.type=5;else if(ft.slice(-1)=="/"){for(We=le+1;We<Be.length&&s(Y.FullPaths[We])!=ft;++We);for(lt.C=We>=Be.length?-1:We,We=le+1;We<Be.length&&s(Y.FullPaths[We])!=s(ft);++We);lt.R=We>=Be.length?-1:We,lt.type=1}else s(Y.FullPaths[le+1]||"")==s(ft)&&(lt.R=le+1),lt.type=2}}}function B(Y,oe){var re=oe||{};if(re.fileType=="mad")return Oe(Y,re);switch(P(Y),re.fileType){case"zip":return mn(Y,re)}var ne=function(kt){for(var pt=0,Et=0,ir=0;ir<kt.FileIndex.length;++ir){var qr=kt.FileIndex[ir];if(qr.content){var kr=qr.content.length;kr>0&&(kr<4096?pt+=kr+63>>6:Et+=kr+511>>9)}}for(var Kr=kt.FullPaths.length+3>>2,pa=pt+7>>3,Sn=pt+127>>7,On=pa+Et+Kr+Sn,Pa=On+127>>7,To=Pa<=109?0:Math.ceil((Pa-109)/127);On+Pa+To+127>>7>Pa;)To=++Pa<=109?0:Math.ceil((Pa-109)/127);var Ma=[1,To,Pa,Sn,Kr,Et,pt,0];return kt.FileIndex[0].size=pt<<6,Ma[7]=(kt.FileIndex[0].start=Ma[0]+Ma[1]+Ma[2]+Ma[3]+Ma[4]+Ma[5])+(Ma[6]+7>>3),Ma}(Y),le=Ze(ne[7]<<9),ce=0,_e=0;{for(ce=0;ce<8;++ce)le.write_shift(1,J[ce]);for(ce=0;ce<8;++ce)le.write_shift(2,0);for(le.write_shift(2,62),le.write_shift(2,3),le.write_shift(2,65534),le.write_shift(2,9),le.write_shift(2,6),ce=0;ce<3;++ce)le.write_shift(2,0);for(le.write_shift(4,0),le.write_shift(4,ne[2]),le.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),le.write_shift(4,0),le.write_shift(4,4096),le.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:z),le.write_shift(4,ne[3]),le.write_shift(-4,ne[1]?ne[0]-1:z),le.write_shift(4,ne[1]),ce=0;ce<109;++ce)le.write_shift(-4,ce<ne[2]?ne[1]+ce:-1)}if(ne[1])for(_e=0;_e<ne[1];++_e){for(;ce<236+_e*127;++ce)le.write_shift(-4,ce<ne[2]?ne[1]+ce:-1);le.write_shift(-4,_e===ne[1]-1?z:_e+1)}var We=function(kt){for(_e+=kt;ce<_e-1;++ce)le.write_shift(-4,ce+1);kt&&(++ce,le.write_shift(-4,z))};for(_e=ce=0,_e+=ne[1];ce<_e;++ce)le.write_shift(-4,U.DIFSECT);for(_e+=ne[2];ce<_e;++ce)le.write_shift(-4,U.FATSECT);We(ne[3]),We(ne[4]);for(var ke=0,Be=0,Ue=Y.FileIndex[0];ke<Y.FileIndex.length;++ke)Ue=Y.FileIndex[ke],Ue.content&&(Be=Ue.content.length,!(Be<4096)&&(Ue.start=_e,We(Be+511>>9)));for(We(ne[6]+7>>3);le.l&511;)le.write_shift(-4,U.ENDOFCHAIN);for(_e=ce=0,ke=0;ke<Y.FileIndex.length;++ke)Ue=Y.FileIndex[ke],Ue.content&&(Be=Ue.content.length,!(!Be||Be>=4096)&&(Ue.start=_e,We(Be+63>>6)));for(;le.l&511;)le.write_shift(-4,U.ENDOFCHAIN);for(ce=0;ce<ne[4]<<2;++ce){var lt=Y.FullPaths[ce];if(!lt||lt.length===0){for(ke=0;ke<17;++ke)le.write_shift(4,0);for(ke=0;ke<3;++ke)le.write_shift(4,-1);for(ke=0;ke<12;++ke)le.write_shift(4,0);continue}Ue=Y.FileIndex[ce],ce===0&&(Ue.start=Ue.size?Ue.start-1:z);var ft=ce===0&&re.root||Ue.name;if(Be=2*(ft.length+1),le.write_shift(64,ft,"utf16le"),le.write_shift(2,Be),le.write_shift(1,Ue.type),le.write_shift(1,Ue.color),le.write_shift(-4,Ue.L),le.write_shift(-4,Ue.R),le.write_shift(-4,Ue.C),Ue.clsid)le.write_shift(16,Ue.clsid,"hex");else for(ke=0;ke<4;++ke)le.write_shift(4,0);le.write_shift(4,Ue.state||0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,Ue.start),le.write_shift(4,Ue.size),le.write_shift(4,0)}for(ce=1;ce<Y.FileIndex.length;++ce)if(Ue=Y.FileIndex[ce],Ue.size>=4096)if(le.l=Ue.start+1<<9,Qr&&Buffer.isBuffer(Ue.content))Ue.content.copy(le,le.l,0,Ue.size),le.l+=Ue.size+511&-512;else{for(ke=0;ke<Ue.size;++ke)le.write_shift(1,Ue.content[ke]);for(;ke&511;++ke)le.write_shift(1,0)}for(ce=1;ce<Y.FileIndex.length;++ce)if(Ue=Y.FileIndex[ce],Ue.size>0&&Ue.size<4096)if(Qr&&Buffer.isBuffer(Ue.content))Ue.content.copy(le,le.l,0,Ue.size),le.l+=Ue.size+63&-64;else{for(ke=0;ke<Ue.size;++ke)le.write_shift(1,Ue.content[ke]);for(;ke&63;++ke)le.write_shift(1,0)}if(Qr)le.l=le.length;else for(;le.l<le.length;)le.write_shift(1,0);return le}function I(Y,oe){var re=Y.FullPaths.map(function(ke){return ke.toUpperCase()}),ne=re.map(function(ke){var Be=ke.split("/");return Be[Be.length-(ke.slice(-1)=="/"?2:1)]}),le=!1;oe.charCodeAt(0)===47?(le=!0,oe=re[0].slice(0,-1)+oe):le=oe.indexOf("/")!==-1;var ce=oe.toUpperCase(),_e=le===!0?re.indexOf(ce):ne.indexOf(ce);if(_e!==-1)return Y.FileIndex[_e];var We=!ce.match(p1);for(ce=ce.replace(Lx,""),We&&(ce=ce.replace(p1,"!")),_e=0;_e<re.length;++_e)if((We?re[_e].replace(p1,"!"):re[_e]).replace(Lx,"")==ce||(We?ne[_e].replace(p1,"!"):ne[_e]).replace(Lx,"")==ce)return Y.FileIndex[_e];return null}var G=64,z=-2,ae="d0cf11e0a1b11ae1",J=[208,207,17,224,161,177,26,225],L="00000000000000000000000000000000",U={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:L,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function F(Y,oe,re){f();var ne=B(Y,re);u.writeFileSync(oe,ne)}function X(Y){for(var oe=new Array(Y.length),re=0;re<Y.length;++re)oe[re]=String.fromCharCode(Y[re]);return oe.join("")}function q(Y,oe){var re=B(Y,oe);switch(oe&&oe.type||"buffer"){case"file":return f(),u.writeFileSync(oe.filename,re),re;case"binary":return typeof re=="string"?re:X(re);case"base64":return Ig(typeof re=="string"?re:X(re));case"buffer":if(Qr)return Buffer.isBuffer(re)?re:cd(re);case"array":return typeof re=="string"?Ko(re):re}return re}var te;function M(Y){try{var oe=Y.InflateRaw,re=new oe;if(re._processChunk(new Uint8Array([3,0]),re._finishFlushFlag),re.bytesRead)te=Y;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function W(Y,oe){if(!te)return tn(Y,oe);var re=te.InflateRaw,ne=new re,le=ne._processChunk(Y.slice(Y.l),ne._finishFlushFlag);return Y.l+=ne.bytesRead,le}function K(Y){return te?te.deflateRawSync(Y):Vt(Y)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(Y){var oe=(Y<<1|Y<<11)&139536|(Y<<5|Y<<15)&558144;return(oe>>16|oe>>8|oe)&255}for(var ue=typeof Uint8Array<"u",de=ue?new Uint8Array(256):[],De=0;De<256;++De)de[De]=xe(De);function Ne(Y,oe){var re=de[Y&255];return oe<=8?re>>>8-oe:(re=re<<8|de[Y>>8&255],oe<=16?re>>>16-oe:(re=re<<8|de[Y>>16&255],re>>>24-oe))}function ot(Y,oe){var re=oe&7,ne=oe>>>3;return(Y[ne]|(re<=6?0:Y[ne+1]<<8))>>>re&3}function Ee(Y,oe){var re=oe&7,ne=oe>>>3;return(Y[ne]|(re<=5?0:Y[ne+1]<<8))>>>re&7}function Ae(Y,oe){var re=oe&7,ne=oe>>>3;return(Y[ne]|(re<=4?0:Y[ne+1]<<8))>>>re&15}function Ye(Y,oe){var re=oe&7,ne=oe>>>3;return(Y[ne]|(re<=3?0:Y[ne+1]<<8))>>>re&31}function be(Y,oe){var re=oe&7,ne=oe>>>3;return(Y[ne]|(re<=1?0:Y[ne+1]<<8))>>>re&127}function ge(Y,oe,re){var ne=oe&7,le=oe>>>3,ce=(1<<re)-1,_e=Y[le]>>>ne;return re<8-ne||(_e|=Y[le+1]<<8-ne,re<16-ne)||(_e|=Y[le+2]<<16-ne,re<24-ne)||(_e|=Y[le+3]<<24-ne),_e&ce}function Me(Y,oe,re){var ne=oe&7,le=oe>>>3;return ne<=5?Y[le]|=(re&7)<<ne:(Y[le]|=re<<ne&255,Y[le+1]=(re&7)>>8-ne),oe+3}function xt(Y,oe,re){var ne=oe&7,le=oe>>>3;return re=(re&1)<<ne,Y[le]|=re,oe+1}function jt(Y,oe,re){var ne=oe&7,le=oe>>>3;return re<<=ne,Y[le]|=re&255,re>>>=8,Y[le+1]=re,oe+8}function fe(Y,oe,re){var ne=oe&7,le=oe>>>3;return re<<=ne,Y[le]|=re&255,re>>>=8,Y[le+1]=re&255,Y[le+2]=re>>>8,oe+16}function Se(Y,oe){var re=Y.length,ne=2*re>oe?2*re:oe+5,le=0;if(re>=oe)return Y;if(Qr){var ce=JM(ne);if(Y.copy)Y.copy(ce);else for(;le<Y.length;++le)ce[le]=Y[le];return ce}else if(ue){var _e=new Uint8Array(ne);if(_e.set)_e.set(Y);else for(;le<re;++le)_e[le]=Y[le];return _e}return Y.length=ne,Y}function Re(Y){for(var oe=new Array(Y),re=0;re<Y;++re)oe[re]=0;return oe}function ye(Y,oe,re){var ne=1,le=0,ce=0,_e=0,We=0,ke=Y.length,Be=ue?new Uint16Array(32):Re(32);for(ce=0;ce<32;++ce)Be[ce]=0;for(ce=ke;ce<re;++ce)Y[ce]=0;ke=Y.length;var Ue=ue?new Uint16Array(ke):Re(ke);for(ce=0;ce<ke;++ce)Be[le=Y[ce]]++,ne<le&&(ne=le),Ue[ce]=0;for(Be[0]=0,ce=1;ce<=ne;++ce)Be[ce+16]=We=We+Be[ce-1]<<1;for(ce=0;ce<ke;++ce)We=Y[ce],We!=0&&(Ue[ce]=Be[We+16]++);var lt=0;for(ce=0;ce<ke;++ce)if(lt=Y[ce],lt!=0)for(We=Ne(Ue[ce],ne)>>ne-lt,_e=(1<<ne+4-lt)-1;_e>=0;--_e)oe[We|_e<<lt]=lt&15|ce<<4;return ne}var $e=ue?new Uint16Array(512):Re(512),Pe=ue?new Uint16Array(32):Re(32);if(!ue){for(var Xe=0;Xe<512;++Xe)$e[Xe]=0;for(Xe=0;Xe<32;++Xe)Pe[Xe]=0}(function(){for(var Y=[],oe=0;oe<32;oe++)Y.push(5);ye(Y,Pe,32);var re=[];for(oe=0;oe<=143;oe++)re.push(8);for(;oe<=255;oe++)re.push(9);for(;oe<=279;oe++)re.push(7);for(;oe<=287;oe++)re.push(8);ye(re,$e,288)})();var gt=function(){for(var oe=ue?new Uint8Array(32768):[],re=0,ne=0;re<ie.length-1;++re)for(;ne<ie[re+1];++ne)oe[ne]=re;for(;ne<32768;++ne)oe[ne]=29;var le=ue?new Uint8Array(259):[];for(re=0,ne=0;re<Q.length-1;++re)for(;ne<Q[re+1];++ne)le[ne]=re;function ce(We,ke){for(var Be=0;Be<We.length;){var Ue=Math.min(65535,We.length-Be),lt=Be+Ue==We.length;for(ke.write_shift(1,+lt),ke.write_shift(2,Ue),ke.write_shift(2,~Ue&65535);Ue-- >0;)ke[ke.l++]=We[Be++]}return ke.l}function _e(We,ke){for(var Be=0,Ue=0,lt=ue?new Uint16Array(32768):[];Ue<We.length;){var ft=Math.min(65535,We.length-Ue);if(ft<10){for(Be=Me(ke,Be,+(Ue+ft==We.length)),Be&7&&(Be+=8-(Be&7)),ke.l=Be/8|0,ke.write_shift(2,ft),ke.write_shift(2,~ft&65535);ft-- >0;)ke[ke.l++]=We[Ue++];Be=ke.l*8;continue}Be=Me(ke,Be,+(Ue+ft==We.length)+2);for(var kt=0;ft-- >0;){var pt=We[Ue];kt=(kt<<5^pt)&32767;var Et=-1,ir=0;if((Et=lt[kt])&&(Et|=Ue&-32768,Et>Ue&&(Et-=32768),Et<Ue))for(;We[Et+ir]==We[Ue+ir]&&ir<250;)++ir;if(ir>2){pt=le[ir],pt<=22?Be=jt(ke,Be,de[pt+1]>>1)-1:(jt(ke,Be,3),Be+=5,jt(ke,Be,de[pt-23]>>5),Be+=3);var qr=pt<8?0:pt-4>>2;qr>0&&(fe(ke,Be,ir-Q[pt]),Be+=qr),pt=oe[Ue-Et],Be=jt(ke,Be,de[pt]>>3),Be-=3;var kr=pt<4?0:pt-2>>1;kr>0&&(fe(ke,Be,Ue-Et-ie[pt]),Be+=kr);for(var Kr=0;Kr<ir;++Kr)lt[kt]=Ue&32767,kt=(kt<<5^We[Ue])&32767,++Ue;ft-=ir-1}else pt<=143?pt=pt+48:Be=xt(ke,Be,1),Be=jt(ke,Be,de[pt]),lt[kt]=Ue&32767,++Ue}Be=jt(ke,Be,0)-1}return ke.l=(Be+7)/8|0,ke.l}return function(ke,Be){return ke.length<8?ce(ke,Be):_e(ke,Be)}}();function Vt(Y){var oe=Ze(50+Math.floor(Y.length*1.1)),re=gt(Y,oe);return oe.slice(0,re)}var Mr=ue?new Uint16Array(32768):Re(32768),Fs=ue?new Uint16Array(32768):Re(32768),qs=ue?new Uint16Array(128):Re(128),zs=1,_s=1;function Nn(Y,oe){var re=Ye(Y,oe)+257;oe+=5;var ne=Ye(Y,oe)+1;oe+=5;var le=Ae(Y,oe)+4;oe+=4;for(var ce=0,_e=ue?new Uint8Array(19):Re(19),We=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ke=1,Be=ue?new Uint8Array(8):Re(8),Ue=ue?new Uint8Array(8):Re(8),lt=_e.length,ft=0;ft<le;++ft)_e[V[ft]]=ce=Ee(Y,oe),ke<ce&&(ke=ce),Be[ce]++,oe+=3;var kt=0;for(Be[0]=0,ft=1;ft<=ke;++ft)Ue[ft]=kt=kt+Be[ft-1]<<1;for(ft=0;ft<lt;++ft)(kt=_e[ft])!=0&&(We[ft]=Ue[kt]++);var pt=0;for(ft=0;ft<lt;++ft)if(pt=_e[ft],pt!=0){kt=de[We[ft]]>>8-pt;for(var Et=(1<<7-pt)-1;Et>=0;--Et)qs[kt|Et<<pt]=pt&7|ft<<3}var ir=[];for(ke=1;ir.length<re+ne;)switch(kt=qs[be(Y,oe)],oe+=kt&7,kt>>>=3){case 16:for(ce=3+ot(Y,oe),oe+=2,kt=ir[ir.length-1];ce-- >0;)ir.push(kt);break;case 17:for(ce=3+Ee(Y,oe),oe+=3;ce-- >0;)ir.push(0);break;case 18:for(ce=11+be(Y,oe),oe+=7;ce-- >0;)ir.push(0);break;default:ir.push(kt),ke<kt&&(ke=kt);break}var qr=ir.slice(0,re),kr=ir.slice(re);for(ft=re;ft<286;++ft)qr[ft]=0;for(ft=ne;ft<30;++ft)kr[ft]=0;return zs=ye(qr,Mr,286),_s=ye(kr,Fs,30),oe}function hn(Y,oe){if(Y[0]==3&&!(Y[1]&3))return[nh(oe),2];for(var re=0,ne=0,le=JM(oe||1<<18),ce=0,_e=le.length>>>0,We=0,ke=0;(ne&1)==0;){if(ne=Ee(Y,re),re+=3,ne>>>1)ne>>1==1?(We=9,ke=5):(re=Nn(Y,re),We=zs,ke=_s);else{re&7&&(re+=8-(re&7));var Be=Y[re>>>3]|Y[(re>>>3)+1]<<8;if(re+=32,Be>0)for(!oe&&_e<ce+Be&&(le=Se(le,ce+Be),_e=le.length);Be-- >0;)le[ce++]=Y[re>>>3],re+=8;continue}for(;;){!oe&&_e<ce+32767&&(le=Se(le,ce+32767),_e=le.length);var Ue=ge(Y,re,We),lt=ne>>>1==1?$e[Ue]:Mr[Ue];if(re+=lt&15,lt>>>=4,(lt>>>8&255)===0)le[ce++]=lt;else{if(lt==256)break;lt-=257;var ft=lt<8?0:lt-4>>2;ft>5&&(ft=0);var kt=ce+Q[lt];ft>0&&(kt+=ge(Y,re,ft),re+=ft),Ue=ge(Y,re,ke),lt=ne>>>1==1?Pe[Ue]:Fs[Ue],re+=lt&15,lt>>>=4;var pt=lt<4?0:lt-2>>1,Et=ie[lt];for(pt>0&&(Et+=ge(Y,re,pt),re+=pt),!oe&&_e<kt&&(le=Se(le,kt+100),_e=le.length);ce<kt;)le[ce]=le[ce-Et],++ce}}}return oe?[le,re+7>>>3]:[le.slice(0,ce),re+7>>>3]}function tn(Y,oe){var re=Y.slice(Y.l||0),ne=hn(re,oe);return Y.l+=ne[1],ne[0]}function es(Y,oe){if(Y)typeof console<"u"&&console.error(oe);else throw new Error(oe)}function ma(Y,oe){var re=Y;Oi(re,0);var ne=[],le=[],ce={FileIndex:ne,FullPaths:le};_(ce,{root:oe.root});for(var _e=re.length-4;(re[_e]!=80||re[_e+1]!=75||re[_e+2]!=5||re[_e+3]!=6)&&_e>=0;)--_e;re.l=_e+4,re.l+=4;var We=re.read_shift(2);re.l+=6;var ke=re.read_shift(4);for(re.l=ke,_e=0;_e<We;++_e){re.l+=20;var Be=re.read_shift(4),Ue=re.read_shift(4),lt=re.read_shift(2),ft=re.read_shift(2),kt=re.read_shift(2);re.l+=8;var pt=re.read_shift(4),Et=l(re.slice(re.l+lt,re.l+lt+ft));re.l+=lt+ft+kt;var ir=re.l;re.l=pt+4,jn(re,Be,Ue,ce,Et),re.l=ir}return ce}function jn(Y,oe,re,ne,le){Y.l+=2;var ce=Y.read_shift(2),_e=Y.read_shift(2),We=o(Y);if(ce&8257)throw new Error("Unsupported ZIP encryption");for(var ke=Y.read_shift(4),Be=Y.read_shift(4),Ue=Y.read_shift(4),lt=Y.read_shift(2),ft=Y.read_shift(2),kt="",pt=0;pt<lt;++pt)kt+=String.fromCharCode(Y[Y.l++]);if(ft){var Et=l(Y.slice(Y.l,Y.l+ft));(Et[21589]||{}).mt&&(We=Et[21589].mt),((le||{})[21589]||{}).mt&&(We=le[21589].mt)}Y.l+=ft;var ir=Y.slice(Y.l,Y.l+Be);switch(_e){case 8:ir=W(Y,Ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+_e)}var qr=!1;ce&8&&(ke=Y.read_shift(4),ke==134695760&&(ke=Y.read_shift(4),qr=!0),Be=Y.read_shift(4),Ue=Y.read_shift(4)),Be!=oe&&es(qr,"Bad compressed size: "+oe+" != "+Be),Ue!=re&&es(qr,"Bad uncompressed size: "+re+" != "+Ue),at(ne,kt,ir,{unsafe:!0,mt:We})}function mn(Y,oe){var re=oe||{},ne=[],le=[],ce=Ze(1),_e=re.compression?8:0,We=0,ke=0,Be=0,Ue=0,lt=0,ft=Y.FullPaths[0],kt=ft,pt=Y.FileIndex[0],Et=[],ir=0;for(ke=1;ke<Y.FullPaths.length;++ke)if(kt=Y.FullPaths[ke].slice(ft.length),pt=Y.FileIndex[ke],!(!pt.size||!pt.content||kt=="Sh33tJ5")){var qr=Ue,kr=Ze(kt.length);for(Be=0;Be<kt.length;++Be)kr.write_shift(1,kt.charCodeAt(Be)&127);kr=kr.slice(0,kr.l),Et[lt]=nCe.buf(pt.content,0);var Kr=pt.content;_e==8&&(Kr=K(Kr)),ce=Ze(30),ce.write_shift(4,67324752),ce.write_shift(2,20),ce.write_shift(2,We),ce.write_shift(2,_e),pt.mt?i(ce,pt.mt):ce.write_shift(4,0),ce.write_shift(-4,Et[lt]),ce.write_shift(4,Kr.length),ce.write_shift(4,pt.content.length),ce.write_shift(2,kr.length),ce.write_shift(2,0),Ue+=ce.length,ne.push(ce),Ue+=kr.length,ne.push(kr),Ue+=Kr.length,ne.push(Kr),ce=Ze(46),ce.write_shift(4,33639248),ce.write_shift(2,0),ce.write_shift(2,20),ce.write_shift(2,We),ce.write_shift(2,_e),ce.write_shift(4,0),ce.write_shift(-4,Et[lt]),ce.write_shift(4,Kr.length),ce.write_shift(4,pt.content.length),ce.write_shift(2,kr.length),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(4,0),ce.write_shift(4,qr),ir+=ce.l,le.push(ce),ir+=kr.length,le.push(kr),++lt}return ce=Ze(22),ce.write_shift(4,101010256),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,lt),ce.write_shift(2,lt),ce.write_shift(4,ir),ce.write_shift(4,Ue),ce.write_shift(2,0),ea([ea(ne),ea(le),ce])}var hr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function qt(Y,oe){if(Y.ctype)return Y.ctype;var re=Y.name||"",ne=re.match(/\.([^\.]+)$/);return ne&&hr[ne[1]]||oe&&(ne=(re=oe).match(/[\.\\]([^\.\\])+$/),ne&&hr[ne[1]])?hr[ne[1]]:"application/octet-stream"}function Ir(Y){for(var oe=Ig(Y),re=[],ne=0;ne<oe.length;ne+=76)re.push(oe.slice(ne,ne+76));return re.join(`\r
`)+`\r
`}function Yr(Y){var oe=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var Ue=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(Ue.length==1?"0"+Ue:Ue)});oe=oe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),oe.charAt(0)==`
`&&(oe="=0D"+oe.slice(1)),oe=oe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var re=[],ne=oe.split(`\r
`),le=0;le<ne.length;++le){var ce=ne[le];if(ce.length==0){re.push("");continue}for(var _e=0;_e<ce.length;){var We=76,ke=ce.slice(_e,_e+We);ke.charAt(We-1)=="="?We--:ke.charAt(We-2)=="="?We-=2:ke.charAt(We-3)=="="&&(We-=3),ke=ce.slice(_e,_e+We),_e+=We,_e<ce.length&&(ke+="="),re.push(ke)}}return re.join(`\r
`)}function ls(Y){for(var oe=[],re=0;re<Y.length;++re){for(var ne=Y[re];re<=Y.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+Y[++re];oe.push(ne)}for(var le=0;le<oe.length;++le)oe[le]=oe[le].replace(/[=][0-9A-Fa-f]{2}/g,function(ce){return String.fromCharCode(parseInt(ce.slice(1),16))});return Ko(oe.join(`\r
`))}function rn(Y,oe,re){for(var ne="",le="",ce="",_e,We=0;We<10;++We){var ke=oe[We];if(!ke||ke.match(/^\s*$/))break;var Be=ke.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":ne=Be[2].trim();break;case"content-type":ce=Be[2].trim();break;case"content-transfer-encoding":le=Be[2].trim();break}}switch(++We,le.toLowerCase()){case"base64":_e=Ko(Jc(oe.slice(We).join("")));break;case"quoted-printable":_e=ls(oe.slice(We));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+le)}var Ue=at(Y,ne.slice(re.length),_e,{unsafe:!0});ce&&(Ue.ctype=ce)}function se(Y,oe){if(X(Y.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var re=oe&&oe.root||"",ne=(Qr&&Buffer.isBuffer(Y)?Y.toString("binary"):X(Y)).split(`\r
`),le=0,ce="";for(le=0;le<ne.length;++le)if(ce=ne[le],!!/^Content-Location:/i.test(ce)&&(ce=ce.slice(ce.indexOf("file")),re||(re=ce.slice(0,ce.lastIndexOf("/")+1)),ce.slice(0,re.length)!=re))for(;re.length>0&&(re=re.slice(0,re.length-1),re=re.slice(0,re.lastIndexOf("/")+1),ce.slice(0,re.length)!=re););var _e=(ne[1]||"").match(/boundary="(.*?)"/);if(!_e)throw new Error("MAD cannot find boundary");var We="--"+(_e[1]||""),ke=[],Be=[],Ue={FileIndex:ke,FullPaths:Be};_(Ue);var lt,ft=0;for(le=0;le<ne.length;++le){var kt=ne[le];kt!==We&&kt!==We+"--"||(ft++&&rn(Ue,ne.slice(lt,le),re),lt=le)}return Ue}function Oe(Y,oe){var re=oe||{},ne=re.boundary||"SheetJS";ne="------="+ne;for(var le=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],ce=Y.FullPaths[0],_e=ce,We=Y.FileIndex[0],ke=1;ke<Y.FullPaths.length;++ke)if(_e=Y.FullPaths[ke].slice(ce.length),We=Y.FileIndex[ke],!(!We.size||!We.content||_e=="Sh33tJ5")){_e=_e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ir){return"_x"+ir.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ir){return"_u"+ir.charCodeAt(0).toString(16)+"_"});for(var Be=We.content,Ue=Qr&&Buffer.isBuffer(Be)?Be.toString("binary"):X(Be),lt=0,ft=Math.min(1024,Ue.length),kt=0,pt=0;pt<=ft;++pt)(kt=Ue.charCodeAt(pt))>=32&&kt<128&&++lt;var Et=lt>=ft*4/5;le.push(ne),le.push("Content-Location: "+(re.root||"file:///C:/SheetJS/")+_e),le.push("Content-Transfer-Encoding: "+(Et?"quoted-printable":"base64")),le.push("Content-Type: "+qt(We,_e)),le.push(""),le.push(Et?Yr(Ue):Ir(Ue))}return le.push(ne+`--\r
`),le.join(`\r
`)}function qe(Y){var oe={};return _(oe,Y),oe}function at(Y,oe,re,ne){var le=ne&&ne.unsafe;le||_(Y);var ce=!le&&fs.find(Y,oe);if(!ce){var _e=Y.FullPaths[0];oe.slice(0,_e.length)==_e?_e=oe:(_e.slice(-1)!="/"&&(_e+="/"),_e=(_e+oe).replace("//","/")),ce={name:a(oe),type:2},Y.FileIndex.push(ce),Y.FullPaths.push(_e),le||fs.utils.cfb_gc(Y)}return ce.content=re,ce.size=re?re.length:0,ne&&(ne.CLSID&&(ce.clsid=ne.CLSID),ne.mt&&(ce.mt=ne.mt),ne.ct&&(ce.ct=ne.ct)),ce}function ut(Y,oe){_(Y);var re=fs.find(Y,oe);if(re){for(var ne=0;ne<Y.FileIndex.length;++ne)if(Y.FileIndex[ne]==re)return Y.FileIndex.splice(ne,1),Y.FullPaths.splice(ne,1),!0}return!1}function It(Y,oe,re){_(Y);var ne=fs.find(Y,oe);if(ne){for(var le=0;le<Y.FileIndex.length;++le)if(Y.FileIndex[le]==ne)return Y.FileIndex[le].name=a(re),Y.FullPaths[le]=re,!0}return!1}function Jt(Y){P(Y,!0)}return t.find=I,t.read=D,t.parse=h,t.write=q,t.writeFile=F,t.utils={cfb_new:qe,cfb_add:at,cfb_del:ut,cfb_mov:It,cfb_gc:Jt,ReadShift:$x,CheckField:lz,prep_blob:Oi,bconcat:ea,use_zlib:M,_deflateRaw:Vt,_inflateRaw:tn,consts:U},t}();function aCe(e){return typeof e=="string"?oN(e):Array.isArray(e)?DTe(e):e}function ky(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=oN(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var s=r=="utf8"?Lg(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,e);if(typeof Blob<"u"){var a=new Blob([aCe(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=_y(t)),l.write(t),l.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function na(e){for(var t=Object.keys(e),r=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&r.push(t[s]);return r}function o6(e,t){for(var r=[],s=na(e),a=0;a!==s.length;++a)r[e[s[a]][t]]==null&&(r[e[s[a]][t]]=s[a]);return r}function J_(e){for(var t=[],r=na(e),s=0;s!==r.length;++s)t[e[r[s]]]=r[s];return t}function dN(e){for(var t=[],r=na(e),s=0;s!==r.length;++s)t[e[r[s]]]=parseInt(r[s],10);return t}function iCe(e){for(var t=[],r=na(e),s=0;s!==r.length;++s)t[e[r[s]]]==null&&(t[e[r[s]]]=[]),t[e[r[s]]].push(r[s]);return t}var Bb=new Date(1899,11,30,0,0,0);function yi(e,t){var r=e.getTime(),s=Bb.getTime()+(e.getTimezoneOffset()-Bb.getTimezoneOffset())*6e4;return(r-s)/(24*60*60*1e3)}var Hq=new Date,oCe=Bb.getTime()+(Hq.getTimezoneOffset()-Bb.getTimezoneOffset())*6e4,l6=Hq.getTimezoneOffset();function Wq(e){var t=new Date;return t.setTime(e*24*60*60*1e3+oCe),t.getTimezoneOffset()!==l6&&t.setTime(t.getTime()+(t.getTimezoneOffset()-l6)*6e4),t}var c6=new Date("2017-02-19T19:06:09.000Z"),Gq=isNaN(c6.getFullYear())?new Date("2/19/17"):c6,lCe=Gq.getFullYear()==2017;function Wa(e,t){var r=new Date(e);if(lCe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Gq.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return e.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function uN(e,t){if(Qr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var s=[],a=0;a!=e.length;++a)s.push(String.fromCharCode(e[a]));return s.join("")}function vi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=vi(e[r]));return t}function Xs(e,t){for(var r="";r.length<t;)r+=e;return r}function Bc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(s)))?t/r:t}var cCe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Fg(e){var t=new Date(e),r=new Date(NaN),s=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&cCe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return s<0||s>8099?r:(a>0||i>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function yr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var s;return Qr?s=cd(r):s=OTe(r),fs.utils.cfb_add(e,t,s)}fs.utils.cfb_add(e,t,r)}else e.file(t,r)}function e4(){return fs.utils.cfb_new()}var wn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,dCe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},t4=J_(dCe),r4=/[&<>'"]/g,uCe=/[\u0000-\u0008\u000b-\u001f]/g;function is(e){var t=e+"";return t.replace(r4,function(r){return t4[r]}).replace(uCe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function d6(e){return is(e).replace(/ /g,"_x0020_")}var Yq=/[\u0000-\u001f]/g;function fCe(e){var t=e+"";return t.replace(r4,function(r){return t4[r]}).replace(/\n/g,"<br/>").replace(Yq,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function hCe(e){var t=e+"";return t.replace(r4,function(r){return t4[r]}).replace(Yq,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function mCe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function pCe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function QS(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0;r<e.length;){if(s=e.charCodeAt(r++),s<128){t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),s>191&&s<224){o=(s&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),s<240){t+=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function u6(e){var t=nh(2*e.length),r,s,a=1,i=0,o=0,l;for(s=0;s<e.length;s+=a)a=1,(l=e.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(s+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function f6(e){return cd(e,"binary").toString("utf8")}var g1="foo bar bazâð£",Bx=Qr&&(f6(g1)==QS(g1)&&f6||u6(g1)==QS(g1)&&u6)||QS,Lg=Qr?function(e){return cd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,s=0,a=0;r<e.length;)switch(s=e.charCodeAt(r++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=e.charCodeAt(r++)-56320+(s<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},xCe=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)s=s.replace(e[a][0],e[a][1]);return s}}(),Kq=/(^\s|\s$|\n)/;function ta(e,t){return"<"+e+(t.match(Kq)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Bg(e){return na(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function bt(e,t,r){return"<"+e+(r!=null?Bg(r):"")+(t!=null?(t.match(Kq)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function dT(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function gCe(e,t){switch(typeof e){case"string":var r=bt("vt:lpwstr",is(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return bt((e|0)==e?"vt:i4":"vt:r8",is(String(e)));case"boolean":return bt("vt:bool",e?"true":"false")}if(e instanceof Date)return bt("vt:filetime",dT(e));throw new Error("Unable to serialize "+e)}var Bn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ip=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Pi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function yCe(e,t){for(var r=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return s==2047?a==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),r*Math.pow(2,s-52)*a)}function vCe(e,t,r){var s=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=s?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|s}var h6=function(e){for(var t=[],r=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var a=0,i=e[0][s].length;a<i;a+=r)t.push.apply(t,e[0][s].slice(a,a+r));return t},m6=Qr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:cd(t)})):h6(e)}:h6,p6=function(e,t,r){for(var s=[],a=t;a<r;a+=2)s.push(String.fromCharCode(Cx(e,a)));return s.join("").replace(Lx,"")},s4=Qr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Lx,""):p6(e,t,r)}:p6,x6=function(e,t,r){for(var s=[],a=t;a<t+r;++a)s.push(("0"+e[a].toString(16)).slice(-2));return s.join("")},Xq=Qr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):x6(e,t,r)}:x6,g6=function(e,t,r){for(var s=[],a=t;a<r;a++)s.push(String.fromCharCode(Tm(e,a)));return s.join("")},Dy=Qr?function(t,r,s){return Buffer.isBuffer(t)?t.toString("utf8",r,s):g6(t,r,s)}:g6,Qq=function(e,t){var r=Mi(e,t);return r>0?Dy(e,t+4,t+4+r-1):""},Zq=Qq,Jq=function(e,t){var r=Mi(e,t);return r>0?Dy(e,t+4,t+4+r-1):""},ez=Jq,tz=function(e,t){var r=2*Mi(e,t);return r>0?Dy(e,t+4,t+4+r-1):""},rz=tz,sz=function(t,r){var s=Mi(t,r);return s>0?s4(t,r+4,r+4+s):""},nz=sz,az=function(e,t){var r=Mi(e,t);return r>0?Dy(e,t+4,t+4+r):""},iz=az,oz=function(e,t){return yCe(e,t)},$b=oz,n4=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Qr&&(Zq=function(t,r){if(!Buffer.isBuffer(t))return Qq(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},ez=function(t,r){if(!Buffer.isBuffer(t))return Jq(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},rz=function(t,r){if(!Buffer.isBuffer(t))return tz(t,r);var s=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s-1)},nz=function(t,r){if(!Buffer.isBuffer(t))return sz(t,r);var s=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s)},iz=function(t,r){if(!Buffer.isBuffer(t))return az(t,r);var s=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+s)},$b=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):oz(t,r)},n4=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Tm=function(e,t){return e[t]},Cx=function(e,t){return e[t+1]*256+e[t]},bCe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Mi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},wf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},wCe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function $x(e,t){var r="",s,a,i=[],o,l,u,f;switch(t){case"dbcs":if(f=this.l,Qr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(Cx(this,f)),f+=2;e*=2;break;case"utf8":r=Dy(this,this.l,this.l+e);break;case"utf16le":e*=2,r=s4(this,this.l,this.l+e);break;case"wstr":return $x.call(this,e,"dbcs");case"lpstr-ansi":r=Zq(this,this.l),e=4+Mi(this,this.l);break;case"lpstr-cp":r=ez(this,this.l),e=4+Mi(this,this.l);break;case"lpwstr":r=rz(this,this.l),e=4+2*Mi(this,this.l);break;case"lpp4":e=4+Mi(this,this.l),r=nz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Mi(this,this.l),r=iz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Tm(this,this.l+e++))!==0;)i.push(m1(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Cx(this,this.l+e))!==0;)i.push(m1(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Tm(this,f),this.l=f+1,l=$x.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(m1(Cx(this,f))),f+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Tm(this,f),this.l=f+1,l=$x.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(m1(Tm(this,f))),f+=1}r=i.join("");break;default:switch(e){case 1:return s=Tm(this,this.l),this.l++,s;case 2:return s=(t==="i"?bCe:Cx)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(s=(e>0?wf:wCe)(this,this.l),this.l+=4,s):(a=Mi(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=$b(this,this.l):a=$b([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Xq(this,this.l,e);break}}return this.l+=e,r}var NCe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},jCe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},SCe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ECe(e,t,r){var s=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)SCe(this,t.charCodeAt(a),this.l+2*a);s=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;s=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,NCe(this,t,this.l);break;case 8:if(s=8,r==="f"){vCe(this,t,this.l);break}case 16:break;case-4:s=4,jCe(this,t,this.l);break}return this.l+=s,this}function lz(e,t){var r=Xq(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Oi(e,t){e.l=t,e.read_shift=$x,e.chk=lz,e.write_shift=ECe}function Jl(e,t){e.l+=t}function Ze(e){var t=nh(e);return Oi(t,0),t}function pi(){var e=[],t=Qr?256:2048,r=function(f){var h=Ze(f);return Oi(h,0),h},s=r(t),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},i=function(f){return s&&f<s.length-s.l?s:(a(),s=r(Math.max(f+1,t)))},o=function(){return a(),ea(e)},l=function(f){a(),s=f,s.l==null&&(s.l=s.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function it(e,t,r,s){var a=+t,i;if(!isNaN(a)){s||(s=yOe[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,s>=128&&++i,s>=16384&&++i,s>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&n4(r)&&e.push(r)}}function Ux(e,t,r){var s=vi(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function y6(e,t,r){var s=vi(e);return s.s=Ux(s.s,t.s,r),s.e=Ux(s.e,t.s,r),s}function Vx(e,t){if(e.cRel&&e.c<0)for(e=vi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=vi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=os(e);return!e.cRel&&e.cRel!=null&&(r=CCe(r)),!e.rRel&&e.rRel!=null&&(r=ACe(r)),r}function ZS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+_a(e.s.c)+":"+(e.e.cRel?"":"$")+_a(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+sa(e.s.r)+":"+(e.e.rRel?"":"$")+sa(e.e.r):Vx(e.s,t.biff)+":"+Vx(e.e,t.biff)}function a4(e){return parseInt(TCe(e),10)-1}function sa(e){return""+(e+1)}function ACe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function TCe(e){return e.replace(/\$(\d+)$/,"$1")}function i4(e){for(var t=_Ce(e),r=0,s=0;s!==t.length;++s)r=26*r+t.charCodeAt(s)-64;return r-1}function _a(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function CCe(e){return e.replace(/^([A-Z])/,"$$$1")}function _Ce(e){return e.replace(/^\$([A-Z])/,"$1")}function kCe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function $n(e){for(var t=0,r=0,s=0;s<e.length;++s){var a=e.charCodeAt(s);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function os(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function qi(e){var t=e.indexOf(":");return t==-1?{s:$n(e),e:$n(e)}:{s:$n(e.slice(0,t)),e:$n(e.slice(t+1))}}function bn(e,t){return typeof t>"u"||typeof t=="number"?bn(e.s,e.e):(typeof e!="string"&&(e=os(e)),typeof t!="string"&&(t=os(t)),e==t?e:e+":"+t)}function Cs(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,a=0,i=e.length;for(r=0;s<i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.s.c=--r,r=0;s<i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;if(t.s.r=--r,s===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,r=0;s!=i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.e.c=--r,r=0;s!=i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;return t.e.r=--r,t}function v6(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Mu(e.z,r?yi(t):t)}catch{}try{return e.w=Mu((e.XF||{}).numFmtId||(r?14:0),r?yi(t):t)}catch{return""+t}}function ed(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Oy[e.v]||e.v:t==null?v6(e,e.v):v6(e,t))}function Sh(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",s={};return s[r]=e,{SheetNames:[r],Sheets:s}}function cz(e,t,r){var s=r||{},a=e?Array.isArray(e):s.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var u=typeof s.origin=="string"?$n(s.origin):s.origin;o=u.r,l=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Cs(i["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(f.e.r=o=h.e.r+1)}for(var x=0;x!=t.length;++x)if(t[x]){if(!Array.isArray(t[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[x].length;++p)if(!(typeof t[x][p]>"u")){var y={v:t[x][p]},N=o+x,b=l+p;if(f.s.r>N&&(f.s.r=N),f.s.c>b&&(f.s.c=b),f.e.r<N&&(f.e.r=N),f.e.c<b&&(f.e.c=b),t[x][p]&&typeof t[x][p]=="object"&&!Array.isArray(t[x][p])&&!(t[x][p]instanceof Date))y=t[x][p];else if(Array.isArray(y.v)&&(y.f=t[x][p][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(s.nullError)y.t="e",y.v=0;else if(s.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=s.dateNF||Qs[14],s.cellDates?(y.t="d",y.w=Mu(y.z,yi(y.v))):(y.t="n",y.v=yi(y.v),y.w=Mu(y.z,y.v))):y.t="s";if(a)i[N]||(i[N]=[]),i[N][b]&&i[N][b].z&&(y.z=i[N][b].z),i[N][b]=y;else{var w=os({c:b,r:N});i[w]&&i[w].z&&(y.z=i[w].z),i[w]=y}}}return f.s.c<1e7&&(i["!ref"]=bn(f)),i}function op(e,t){return cz(null,e,t)}function DCe(e){return e.read_shift(4,"i")}function tl(e,t){return t||(t=Ze(4)),t.write_shift(4,e),t}function ka(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Un(e,t){var r=!1;return t==null&&(r=!0,t=Ze(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function OCe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function RCe(e,t){return t||(t=Ze(4)),t.write_shift(2,0),t.write_shift(2,0),t}function o4(e,t){var r=e.l,s=e.read_shift(1),a=ka(e),i=[],o={t:a,h:a};if((s&1)!==0){for(var l=e.read_shift(4),u=0;u!=l;++u)i.push(OCe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function PCe(e,t){var r=!1;return t==null&&(r=!0,t=Ze(15+4*e.t.length)),t.write_shift(1,0),Un(e.t,t),r?t.slice(0,t.l):t}var MCe=o4;function ICe(e,t){var r=!1;return t==null&&(r=!0,t=Ze(23+4*e.t.length)),t.write_shift(1,1),Un(e.t,t),t.write_shift(4,1),RCe({},t),r?t.slice(0,t.l):t}function Ao(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Eh(e,t){return t==null&&(t=Ze(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Ah(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Th(e,t){return t==null&&(t=Ze(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var FCe=ka,dz=Un;function l4(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Ub(e,t){var r=!1;return t==null&&(r=!0,t=Ze(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var LCe=ka,uT=l4,c4=Ub;function uz(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,s=t[0]&2;e.l+=4;var a=s===0?$b([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):wf(t,0)>>2;return r?a/100:a}function fz(e,t){t==null&&(t=Ze(4));var r=0,s=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?s=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(s=1,r=1),s)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function hz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function BCe(e,t){return t||(t=Ze(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Ch=hz,lp=BCe;function cp(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function ah(e,t){return(t||Ze(8)).write_shift(8,e,"f")}function $Ce(e){var t={},r=e.read_shift(1),s=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=a;var f=KCe[a];f&&(t.rgb=k6(f));break;case 2:t.rgb=k6([o,l,u]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Vb(e,t){if(t||(t=Ze(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}return t}function UCe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function VCe(e,t){t||(t=Ze(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var mz=2,ki=3,y1=11,qb=19,v1=64,qCe=65,zCe=71,HCe=4108,WCe=4126,Qn=80,b6={1:{n:"CodePage",t:mz},2:{n:"Category",t:Qn},3:{n:"PresentationFormat",t:Qn},4:{n:"ByteCount",t:ki},5:{n:"LineCount",t:ki},6:{n:"ParagraphCount",t:ki},7:{n:"SlideCount",t:ki},8:{n:"NoteCount",t:ki},9:{n:"HiddenCount",t:ki},10:{n:"MultimediaClipCount",t:ki},11:{n:"ScaleCrop",t:y1},12:{n:"HeadingPairs",t:HCe},13:{n:"TitlesOfParts",t:WCe},14:{n:"Manager",t:Qn},15:{n:"Company",t:Qn},16:{n:"LinksUpToDate",t:y1},17:{n:"CharacterCount",t:ki},19:{n:"SharedDoc",t:y1},22:{n:"HyperlinksChanged",t:y1},23:{n:"AppVersion",t:ki,p:"version"},24:{n:"DigSig",t:qCe},26:{n:"ContentType",t:Qn},27:{n:"ContentStatus",t:Qn},28:{n:"Language",t:Qn},29:{n:"Version",t:Qn},255:{},2147483648:{n:"Locale",t:qb},2147483651:{n:"Behavior",t:qb},1919054434:{}},w6={1:{n:"CodePage",t:mz},2:{n:"Title",t:Qn},3:{n:"Subject",t:Qn},4:{n:"Author",t:Qn},5:{n:"Keywords",t:Qn},6:{n:"Comments",t:Qn},7:{n:"Template",t:Qn},8:{n:"LastAuthor",t:Qn},9:{n:"RevNumber",t:Qn},10:{n:"EditTime",t:v1},11:{n:"LastPrinted",t:v1},12:{n:"CreatedDate",t:v1},13:{n:"ModifiedDate",t:v1},14:{n:"PageCount",t:ki},15:{n:"WordCount",t:ki},16:{n:"CharCount",t:ki},17:{n:"Thumbnail",t:zCe},18:{n:"Application",t:Qn},19:{n:"DocSecurity",t:ki},255:{},2147483648:{n:"Locale",t:qb},2147483651:{n:"Behavior",t:qb},1919054434:{}};function GCe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var YCe=GCe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),KCe=vi(YCe),Oy={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},XCe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},b1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function pz(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function xz(e,t){var r=iCe(XCe),s=[],a;s[s.length]=wn,s[s.length]=bt("Types",null,{xmlns:Bn.CT,"xmlns:xsd":Bn.xsd,"xmlns:xsi":Bn.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return bt("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(a=e[u][0],s[s.length]=bt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:b1[u][t.bookType]||b1[u].xlsx}))},o=function(u){(e[u]||[]).forEach(function(f){s[s.length]=bt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:b1[u][t.bookType]||b1[u].xlsx})})},l=function(u){(e[u]||[]).forEach(function(f){s[s.length]=bt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[u][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var Wr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function gz(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Zm(e){var t=[wn,bt("Relationships",null,{xmlns:Bn.RELS})];return na(e["!id"]).forEach(function(r){t[t.length]=bt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function as(e,t,r,s,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=s,a.Target=r,[Wr.HLINK,Wr.XPATH,Wr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function QCe(e){var t=[wn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function N6(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function ZCe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function JCe(e){var t=[wn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(N6(e[r][0],e[r][1])),t.push(ZCe("",e[r][0]));return t.push(N6("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function yz(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Mb.version+"</meta:generator></office:meta></office:document-meta>"}var Lf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function JS(e,t,r,s,a){a[e]!=null||t==null||t===""||(a[e]=t,t=is(t),s[s.length]=r?bt(e,t,r):ta(e,t))}function vz(e,t){var r=t||{},s=[wn,bt("cp:coreProperties",null,{"xmlns:cp":Bn.CORE_PROPS,"xmlns:dc":Bn.dc,"xmlns:dcterms":Bn.dcterms,"xmlns:dcmitype":Bn.dcmitype,"xmlns:xsi":Bn.xsi})],a={};if(!e&&!r.Props)return s.join("");e&&(e.CreatedDate!=null&&JS("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:dT(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a),e.ModifiedDate!=null&&JS("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:dT(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a));for(var i=0;i!=Lf.length;++i){var o=Lf[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&JS(o[0],l,null,s,a)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var Jm=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],bz=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function wz(e){var t=[],r=bt;return e||(e={}),e.Application="SheetJS",t[t.length]=wn,t[t.length]=bt("Properties",null,{xmlns:Bn.EXT_PROPS,"xmlns:vt":Bn.vt}),Jm.forEach(function(s){if(e[s[1]]!==void 0){var a;switch(s[2]){case"string":a=is(String(e[s[1]]));break;case"bool":a=e[s[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(s[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+is(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Nz(e){var t=[wn,bt("Properties",null,{xmlns:Bn.CUST_PROPS,"xmlns:vt":Bn.vt})];if(!e)return t.join("");var r=1;return na(e).forEach(function(a){++r,t[t.length]=bt("property",gCe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:is(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var j6={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function e_e(e,t){var r=[];return na(j6).map(function(s){for(var a=0;a<Lf.length;++a)if(Lf[a][1]==s)return Lf[a];for(a=0;a<Jm.length;++a)if(Jm[a][1]==s)return Jm[a];throw s}).forEach(function(s){if(e[s[1]]!=null){var a=t&&t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e[s[1]];switch(s[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ta(j6[s[1]]||s[1],a))}}),bt("DocumentProperties",r.join(""),{xmlns:Pi.o})}function t_e(e,t){var r=["Worksheets","SheetNames"],s="CustomDocumentProperties",a=[];return e&&na(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Lf.length;++o)if(i==Lf[o][1])return;for(o=0;o<Jm.length;++o)if(i==Jm[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l=String(l),a.push(bt(d6(i),l,{"dt:dt":u}))}}),t&&na(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(bt(d6(i),o,{"dt:dt":l}))}}),"<"+s+' xmlns="'+Pi.o+'">'+a.join("")+"</"+s+">"}function r_e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,s=r%Math.pow(2,32),a=(r-s)/Math.pow(2,32);s*=1e7,a*=1e7;var i=s/Math.pow(2,32)|0;i>0&&(s=s%Math.pow(2,32),a+=i);var o=Ze(8);return o.write_shift(4,s),o.write_shift(4,a),o}function S6(e,t){var r=Ze(4),s=Ze(4);switch(r.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,t);break;case 5:s=Ze(8),s.write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=r_e(t);break;case 31:case 80:for(s=Ze(4+2*(t.length+1)+(t.length%2?0:2)),s.write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ea([r,s])}var jz=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function s_e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function E6(e,t,r){var s=Ze(8),a=[],i=[],o=8,l=0,u=Ze(8),f=Ze(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),i.push(u),a.push(f),o+=8+u.length,!t){f=Ze(8),f.write_shift(4,0),a.unshift(f);var h=[Ze(4)];for(h[0].write_shift(4,e.length),l=0;l<e.length;++l){var x=e[l][0];for(u=Ze(8+2*(x.length+1)+(x.length%2?0:2)),u.write_shift(4,l+2),u.write_shift(4,x.length+1),u.write_shift(0,x,"dbcs");u.l!=u.length;)u.write_shift(1,0);h.push(u)}u=ea(h),i.unshift(u),o+=8+u.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(jz.indexOf(e[l][0])>-1||bz.indexOf(e[l][0])>-1)&&e[l][1]!=null){var p=e[l][1],y=0;if(t){y=+t[e[l][0]];var N=r[y];if(N.p=="version"&&typeof p=="string"){var b=p.split(".");p=(+b[0]<<16)+(+b[1]||0)}u=S6(N.t,p)}else{var w=s_e(p);w==-1&&(w=31,p=String(p)),u=S6(w,p)}i.push(u),f=Ze(8),f.write_shift(4,t?y:2+l),a.push(f),o+=8+u.length}var j=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,j),j+=i[l].length;return s.write_shift(4,o),s.write_shift(4,i.length),ea([s].concat(a).concat(i))}function A6(e,t,r,s,a,i){var o=Ze(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,fs.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var u=E6(e,r,s);if(l.push(u),a){var f=E6(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+u.length),l.push(f)}return ea(l)}function n_e(e,t){t||(t=Ze(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function a_e(e,t){return e.read_shift(t)===1}function Ua(e,t){return t||(t=Ze(2)),t.write_shift(2,+!!e),t}function Sz(e){return e.read_shift(2,"u")}function co(e,t){return t||(t=Ze(2)),t.write_shift(2,e),t}function Ez(e,t,r){return r||(r=Ze(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Az(e,t,r){var s=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=s?e.read_shift(s,a):"";return o}function i_e(e){var t=e.t||"",r=Ze(3);r.write_shift(2,t.length),r.write_shift(1,1);var s=Ze(2*t.length);s.write_shift(2*t.length,t,"utf16le");var a=[r,s];return ea(a)}function o_e(e,t,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function l_e(e,t,r){var s=e.read_shift(r&&r.biff==2?1:2);return s===0?(e.l++,""):o_e(e,s,r)}function c_e(e,t,r){if(r.biff>5)return l_e(e,t,r);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Tz(e,t,r){return r||(r=Ze(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function T6(e,t){t||(t=Ze(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function d_e(e){var t=Ze(512),r=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var a=s.indexOf("#"),i=a>-1?31:23;switch(s.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)s=s.slice(1),T6(s,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?s.slice(0,a):s;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&T6(a>-1?s.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var u=0;s.slice(u*3,u*3+3)=="../"||s.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,s.length-3*u+1),r=0;r<s.length-3*u;++r)t.write_shift(1,s.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function ih(e,t,r,s){return s||(s=Ze(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,r||0),s}function u_e(e,t,r){var s=r.biff>8?4:2,a=e.read_shift(s),i=e.read_shift(s,"i"),o=e.read_shift(s,"i");return[a,i,o]}function f_e(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return{s:{c:s,r:t},e:{c:a,r}}}function Cz(e,t){return t||(t=Ze(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function d4(e,t,r){var s=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":s=1280,a=8;break;case"biff4":s=4,a=6;break;case"biff3":s=3,a=6;break;case"biff2":s=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ze(a);return i.write_shift(2,s),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function h_e(e,t){var r=!t||t.biff==8,s=Ze(r?112:54);for(s.write_shift(t.biff==8?2:1,7),r&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(r?0:536870912));s.l<s.length;)s.write_shift(1,r?0:32);return s}function m_e(e,t){var r=!t||t.biff>=8?2:1,s=Ze(8+r*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=s.slice(0,s.l);return a.l=s.l,a}function p_e(e,t){var r=Ze(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var s=[],a=0;a<e.length;++a)s[a]=i_e(e[a]);var i=ea([r].concat(s));return i.parts=[r.length].concat(s.map(function(o){return o.length})),i}function x_e(){var e=Ze(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function g_e(e){var t=Ze(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function y_e(e,t){var r=e.name||"Arial",s=t&&t.biff==5,a=s?15+r.length:16+2*r.length,i=Ze(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),s||i.write_shift(1,1),i.write_shift((s?1:2)*r.length,r,s?"sbcs":"utf16le"),i}function v_e(e,t,r,s){var a=Ze(10);return ih(e,t,s,a),a.write_shift(4,r),a}function b_e(e,t,r,s,a){var i=!a||a.biff==8,o=Ze(8+ +i+(1+i)*r.length);return ih(e,t,s,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function w_e(e,t,r,s){var a=r&&r.biff==5;s||(s=Ze(a?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(a?1:2,t.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=s.length>s.l?s.slice(0,s.l):s;return i.l==null&&(i.l=i.length),i}function N_e(e,t){var r=t.biff==8||!t.biff?4:2,s=Ze(2*r+6);return s.write_shift(r,e.s.r),s.write_shift(r,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function C6(e,t,r,s){var a=r&&r.biff==5;s||(s=Ze(a?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),s.write_shift(4,i),s.write_shift(4,0),a||s.write_shift(4,0),s.write_shift(2,0),s}function j_e(e){var t=Ze(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function S_e(e,t,r,s,a,i){var o=Ze(8);return ih(e,t,s,o),Ez(r,i,o),o}function E_e(e,t,r,s){var a=Ze(14);return ih(e,t,s,a),ah(r,a),a}function A_e(e,t,r){if(r.biff<8)return T_e(e,t,r);for(var s=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)s.push(u_e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return s}function T_e(e,t,r){e[e.l+1]==3&&e[e.l]++;var s=Az(e,t,r);return s.charCodeAt(0)==3?s.slice(1):s}function C_e(e){var t=Ze(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Cz(e[r],t);return t}function __e(e){var t=Ze(24),r=$n(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(s[a],16));return ea([t,d_e(e[1])])}function k_e(e){var t=e[1].Tooltip,r=Ze(10+2*(t.length+1));r.write_shift(2,2048);var s=$n(e[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function D_e(e){return e||(e=Ze(4)),e.write_shift(2,1),e.write_shift(2,1),e}function O_e(e,t,r){if(!r.cellStyles)return Jl(e,t);var s=r&&r.biff>=12?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(s),u=e.read_shift(2);s==2&&(e.l+=2);var f={s:a,e:i,w:o,ixfe:l,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function R_e(e,t){var r=Ze(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var s=0;return e.hidden&&(s|=1),r.write_shift(1,s),s=e.level||0,r.write_shift(1,s),r.write_shift(2,0),r}function P_e(e){for(var t=Ze(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function M_e(e,t,r){var s=Ze(15);return Py(s,e,t),s.write_shift(8,r,"f"),s}function I_e(e,t,r){var s=Ze(9);return Py(s,e,t),s.write_shift(2,r),s}var F_e=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=J_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,u){var f=[],h=nh(1);switch(u.type){case"base64":h=Ko(Jc(l));break;case"binary":h=Ko(l);break;case"buffer":case"array":h=l;break}Oi(h,0);var x=h.read_shift(1),p=!!(x&136),y=!1,N=!1;switch(x){case 2:break;case 3:break;case 48:y=!0,p=!0;break;case 49:y=!0,p=!0;break;case 131:break;case 139:break;case 140:N=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var b=0,w=521;x==2&&(b=h.read_shift(2)),h.l+=3,x!=2&&(b=h.read_shift(4)),b>1048576&&(b=1e6),x!=2&&(w=h.read_shift(2));var j=h.read_shift(2),S=u.codepage||1252;x!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(S=e[h[h.l]]),h.l+=1,h.l+=2),N&&(h.l+=36);for(var A=[],C={},T=Math.min(h.length,x==2?521:w-10-(y?264:0)),D=N?32:11;h.l<T&&h[h.l]!=13;)switch(C={},C.name=ZM.utils.decode(S,h.slice(h.l,h.l+D)).replace(/[\u0000\r\n].*$/g,""),h.l+=D,C.type=String.fromCharCode(h.read_shift(1)),x!=2&&!N&&(C.offset=h.read_shift(4)),C.len=h.read_shift(1),x==2&&(C.offset=h.read_shift(2)),C.dec=h.read_shift(1),C.name.length&&A.push(C),x!=2&&(h.l+=N?13:14),C.type){case"B":(!y||C.len!=8)&&u.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var _=0,O=0;for(f[0]=[],O=0;O!=A.length;++O)f[0][O]=A[O].name;for(;b-- >0;){if(h[h.l]===42){h.l+=j;continue}for(++h.l,f[++_]=[],O=0,O=0;O!=A.length;++O){var P=h.slice(h.l,h.l+A[O].len);h.l+=A[O].len,Oi(P,0);var B=ZM.utils.decode(S,P);switch(A[O].type){case"C":B.trim().length&&(f[_][O]=B.replace(/\s+$/,""));break;case"D":B.length===8?f[_][O]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):f[_][O]=B;break;case"F":f[_][O]=parseFloat(B.trim());break;case"+":case"I":f[_][O]=N?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":f[_][O]=!0;break;case"N":case"F":f[_][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));f[_][O]="##MEMO##"+(N?parseInt(B.trim(),10):P.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(f[_][O]=+B||0);break;case"@":f[_][O]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":f[_][O]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":f[_][O]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[_][O]=-P.read_shift(-8,"f");break;case"B":if(y&&A[O].len==8){f[_][O]=P.read_shift(8,"f");break}case"G":case"P":P.l+=A[O].len;break;case"0":if(A[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[O].type)}}}if(x!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=A,f}function s(l,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var h=op(r(l,f),f);return h["!cols"]=f.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete f.DBF,h}function a(l,u){try{return Sh(s(l,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,u){var f=u||{};if(+f.codepage>=0&&Mg(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=pi(),x=Yb(l,{header:1,raw:!0,cellDates:!0}),p=x[0],y=x.slice(1),N=l["!cols"]||[],b=0,w=0,j=0,S=1;for(b=0;b<p.length;++b){if(((N[b]||{}).DBF||{}).name){p[b]=N[b].DBF.name,++j;continue}if(p[b]!=null){if(++j,typeof p[b]=="number"&&(p[b]=p[b].toString(10)),typeof p[b]!="string")throw new Error("DBF Invalid column name "+p[b]+" |"+typeof p[b]+"|");if(p.indexOf(p[b])!==b){for(w=0;w<1024;++w)if(p.indexOf(p[b]+"_"+w)==-1){p[b]+="_"+w;break}}}}var A=Cs(l["!ref"]),C=[],T=[],D=[];for(b=0;b<=A.e.c-A.s.c;++b){var _="",O="",P=0,B=[];for(w=0;w<y.length;++w)y[w][b]!=null&&B.push(y[w][b]);if(B.length==0||p[b]==null){C[b]="?";continue}for(w=0;w<B.length;++w){switch(typeof B[w]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=B[w]instanceof Date?"D":"C";break;default:O="C"}P=Math.max(P,String(B[w]).length),_=_&&_!=O?"C":O}P>250&&(P=250),O=((N[b]||{}).DBF||{}).type,O=="C"&&N[b].DBF.len>P&&(P=N[b].DBF.len),_=="B"&&O=="N"&&(_="N",D[b]=N[b].DBF.dec,P=N[b].DBF.len),T[b]=_=="C"||O=="N"?P:i[_]||0,S+=T[b],C[b]=_}var I=h.next(32);for(I.write_shift(4,318902576),I.write_shift(4,y.length),I.write_shift(2,296+32*j),I.write_shift(2,S),b=0;b<4;++b)I.write_shift(4,0);for(I.write_shift(4,0|(+t[kq]||3)<<8),b=0,w=0;b<p.length;++b)if(p[b]!=null){var G=h.next(32),z=(p[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,z,"sbcs"),G.write_shift(1,C[b]=="?"?"C":C[b],"sbcs"),G.write_shift(4,w),G.write_shift(1,T[b]||i[C[b]]||0),G.write_shift(1,D[b]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),w+=T[b]||i[C[b]]||0}var ae=h.next(264);for(ae.write_shift(4,13),b=0;b<65;++b)ae.write_shift(4,0);for(b=0;b<y.length;++b){var J=h.next(S);for(J.write_shift(1,0),w=0;w<p.length;++w)if(p[w]!=null)switch(C[w]){case"L":J.write_shift(1,y[b][w]==null?63:y[b][w]?84:70);break;case"B":J.write_shift(8,y[b][w]||0,"f");break;case"N":var L="0";for(typeof y[b][w]=="number"&&(L=y[b][w].toFixed(D[w]||0)),j=0;j<T[w]-L.length;++j)J.write_shift(1,32);J.write_shift(1,L,"sbcs");break;case"D":y[b][w]?(J.write_shift(4,("0000"+y[b][w].getFullYear()).slice(-4),"sbcs"),J.write_shift(2,("00"+(y[b][w].getMonth()+1)).slice(-2),"sbcs"),J.write_shift(2,("00"+y[b][w].getDate()).slice(-2),"sbcs")):J.write_shift(8,"00000000","sbcs");break;case"C":var U=String(y[b][w]!=null?y[b][w]:"").slice(0,T[w]);for(J.write_shift(1,U,"sbcs"),j=0;j<T[w]-U.length;++j)J.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}}(),L_e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+na(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,y){var N=e[y];return typeof N=="number"?QM(N):N},s=function(p,y,N){var b=y.charCodeAt(0)-32<<4|N.charCodeAt(0)-48;return b==59?p:QM(b)};e["|"]=254;function a(p,y){switch(y.type){case"base64":return i(Jc(p),y);case"binary":return i(p,y);case"buffer":return i(Qr&&Buffer.isBuffer(p)?p.toString("binary"):_y(p),y);case"array":return i(uN(p),y)}throw new Error("Unrecognized type "+y.type)}function i(p,y){var N=p.split(/[\n\r]+/),b=-1,w=-1,j=0,S=0,A=[],C=[],T=null,D={},_=[],O=[],P=[],B=0,I;for(+y.codepage>=0&&Mg(+y.codepage);j!==N.length;++j){B=0;var G=N[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,r),z=G.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),ae=z[0],J;if(G.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&C.push(G.slice(3).replace(/;;/g,";"));break;case"C":var L=!1,U=!1,F=!1,X=!1,q=-1,te=-1;for(S=1;S<z.length;++S)switch(z[S].charAt(0)){case"A":break;case"X":w=parseInt(z[S].slice(1))-1,U=!0;break;case"Y":for(b=parseInt(z[S].slice(1))-1,U||(w=0),I=A.length;I<=b;++I)A[I]=[];break;case"K":J=z[S].slice(1),J.charAt(0)==='"'?J=J.slice(1,J.length-1):J==="TRUE"?J=!0:J==="FALSE"?J=!1:isNaN(Bc(J))?isNaN(Fg(J).getDate())||(J=Wa(J)):(J=Bc(J),T!==null&&Vq(T)&&(J=Wq(J))),L=!0;break;case"E":X=!0;var M=I4e(z[S].slice(1),{r:b,c:w});A[b][w]=[A[b][w],M];break;case"S":F=!0,A[b][w]=[A[b][w],"S5S"];break;case"G":break;case"R":q=parseInt(z[S].slice(1))-1;break;case"C":te=parseInt(z[S].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+G)}if(L&&(A[b][w]&&A[b][w].length==2?A[b][w][0]=J:A[b][w]=J,T=null),F){if(X)throw new Error("SYLK shared formula cannot have own formula");var W=q>-1&&A[q][te];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");A[b][w][1]=F4e(W[1],{r:b-q,c:w-te})}break;case"F":var K=0;for(S=1;S<z.length;++S)switch(z[S].charAt(0)){case"X":w=parseInt(z[S].slice(1))-1,++K;break;case"Y":for(b=parseInt(z[S].slice(1))-1,I=A.length;I<=b;++I)A[I]=[];break;case"M":B=parseInt(z[S].slice(1))/20;break;case"F":break;case"G":break;case"P":T=C[parseInt(z[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=z[S].slice(1).split(" "),I=parseInt(P[0],10);I<=parseInt(P[1],10);++I)B=parseInt(P[2],10),O[I-1]=B===0?{hidden:!0}:{wch:B},u4(O[I-1]);break;case"C":w=parseInt(z[S].slice(1))-1,O[w]||(O[w]={});break;case"R":b=parseInt(z[S].slice(1))-1,_[b]||(_[b]={}),B>0?(_[b].hpt=B,_[b].hpx=Rz(B)):B===0&&(_[b].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+G)}K<1&&(T=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+G)}}return _.length>0&&(D["!rows"]=_),O.length>0&&(D["!cols"]=O),y&&y.sheetRows&&(A=A.slice(0,y.sheetRows)),[A,D]}function o(p,y){var N=a(p,y),b=N[0],w=N[1],j=op(b,y);return na(w).forEach(function(S){j[S]=w[S]}),j}function l(p,y){return Sh(o(p,y),y)}function u(p,y,N,b){var w="C;Y"+(N+1)+";X"+(b+1)+";K";switch(p.t){case"n":w+=p.v||0,p.f&&!p.F&&(w+=";E"+h4(p.f,{r:N,c:b}));break;case"b":w+=p.v?"TRUE":"FALSE";break;case"e":w+=p.w||p.v;break;case"d":w+='"'+(p.w||p.v)+'"';break;case"s":w+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function f(p,y){y.forEach(function(N,b){var w="F;W"+(b+1)+" "+(b+1)+" ";N.hidden?w+="0":(typeof N.width=="number"&&!N.wpx&&(N.wpx=zb(N.width)),typeof N.wpx=="number"&&!N.wch&&(N.wch=Hb(N.wpx)),typeof N.wch=="number"&&(w+=Math.round(N.wch))),w.charAt(w.length-1)!=" "&&p.push(w)})}function h(p,y){y.forEach(function(N,b){var w="F;";N.hidden?w+="M0;":N.hpt?w+="M"+20*N.hpt+";":N.hpx&&(w+="M"+20*Wb(N.hpx)+";"),w.length>2&&p.push(w+"R"+(b+1))})}function x(p,y){var N=["ID;PWXL;N;E"],b=[],w=Cs(p["!ref"]),j,S=Array.isArray(p),A=`\r
`;N.push("P;PGeneral"),N.push("F;P0;DG0G8;M255"),p["!cols"]&&f(N,p["!cols"]),p["!rows"]&&h(N,p["!rows"]),N.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var C=w.s.r;C<=w.e.r;++C)for(var T=w.s.c;T<=w.e.c;++T){var D=os({r:C,c:T});j=S?(p[C]||[])[T]:p[D],!(!j||j.v==null&&(!j.f||j.F))&&b.push(u(j,p,C,T))}return N.join(A)+A+b.join(A)+A+"E"+A}return{to_workbook:l,to_sheet:o,from_sheet:x}}(),B_e=function(){function e(i,o){switch(o.type){case"base64":return t(Jc(i),o);case"binary":return t(i,o);case"buffer":return t(Qr&&Buffer.isBuffer(i)?i.toString("binary"):_y(i),o);case"array":return t(uN(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),u=-1,f=-1,h=0,x=[];h!==l.length;++h){if(l[h].trim()==="BOT"){x[++u]=[],f=0;continue}if(!(u<0)){var p=l[h].trim().split(","),y=p[0],N=p[1];++h;for(var b=l[h]||"";(b.match(/["]/g)||[]).length&1&&h<l.length-1;)b+=`
`+l[++h];switch(b=b.trim(),+y){case-1:if(b==="BOT"){x[++u]=[],f=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?x[u][f]=!0:b==="FALSE"?x[u][f]=!1:isNaN(Bc(N))?isNaN(Fg(N).getDate())?x[u][f]=N:x[u][f]=Wa(N):x[u][f]=Bc(N),++f;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),x[u][f++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(x=x.slice(0,o.sheetRows)),x}function r(i,o){return op(e(i,o),o)}function s(i,o){return Sh(r(i,o),o)}var a=function(){var i=function(u,f,h,x,p){u.push(f),u.push(h+","+x),u.push('"'+p.replace(/"/g,'""')+'"')},o=function(u,f,h,x){u.push(f+","+h),u.push(f==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(u){var f=[],h=Cs(u["!ref"]),x,p=Array.isArray(u);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,h.e.r-h.s.r+1,""),i(f,"TUPLES",0,h.e.c-h.s.c+1,""),i(f,"DATA",0,0,"");for(var y=h.s.r;y<=h.e.r;++y){o(f,-1,0,"BOT");for(var N=h.s.c;N<=h.e.c;++N){var b=os({r:y,c:N});if(x=p?(u[y]||[])[N]:u[b],!x){o(f,1,0,"");continue}switch(x.t){case"n":var w=x.w;!w&&x.v!=null&&(w=x.v),w==null?x.f&&!x.F?o(f,1,0,"="+x.f):o(f,1,0,""):o(f,0,w,"V");break;case"b":o(f,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":o(f,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=Mu(x.z||Qs[14],yi(Wa(x.v)))),o(f,0,x.w,"V");break;default:o(f,1,0,"")}}}o(f,-1,0,"EOD");var j=`\r
`,S=f.join(j);return S}}();return{to_workbook:s,to_sheet:r,from_sheet:a}}(),_z=function(){function e(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(x,p){for(var y=x.split(`
`),N=-1,b=-1,w=0,j=[];w!==y.length;++w){var S=y[w].trim().split(":");if(S[0]==="cell"){var A=$n(S[1]);if(j.length<=A.r)for(N=j.length;N<=A.r;++N)j[N]||(j[N]=[]);switch(N=A.r,b=A.c,S[2]){case"t":j[N][b]=e(S[3]);break;case"v":j[N][b]=+S[3];break;case"vtf":var C=S[S.length-1];case"vtc":switch(S[3]){case"nl":j[N][b]=!!+S[4];break;default:j[N][b]=+S[4];break}S[2]=="vtf"&&(j[N][b]=[j[N][b],C])}}}return p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),j}function s(x,p){return op(r(x,p),p)}function a(x,p){return Sh(s(x,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(x){if(!x||!x["!ref"])return"";for(var p=[],y=[],N,b="",w=qi(x["!ref"]),j=Array.isArray(x),S=w.s.r;S<=w.e.r;++S)for(var A=w.s.c;A<=w.e.c;++A)if(b=os({r:S,c:A}),N=j?(x[S]||[])[A]:x[b],!(!N||N.v==null||N.t==="z")){switch(y=["cell",b,"t"],N.t){case"s":case"str":y.push(t(N.v));break;case"n":N.f?(y[2]="vtf",y[3]="n",y[4]=N.v,y[5]=t(N.f)):(y[2]="v",y[3]=N.v);break;case"b":y[2]="vt"+(N.f?"f":"c"),y[3]="nl",y[4]=N.v?"1":"0",y[5]=t(N.f||(N.v?"TRUE":"FALSE"));break;case"d":var C=yi(Wa(N.v));y[2]="vtc",y[3]="nd",y[4]=""+C,y[5]=N.w||Mu(N.z||Qs[14],C);break;case"e":continue}p.push(y.join(":"))}return p.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function h(x){return[i,o,l,o,f(x),u].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:h}}(),$_e=function(){function e(h,x,p,y,N){N.raw?x[p][y]=h:h===""||(h==="TRUE"?x[p][y]=!0:h==="FALSE"?x[p][y]=!1:isNaN(Bc(h))?isNaN(Fg(h).getDate())?x[p][y]=h:x[p][y]=Wa(h):x[p][y]=Bc(h))}function t(h,x){var p=x||{},y=[];if(!h||h.length===0)return y;for(var N=h.split(/[\r\n]/),b=N.length-1;b>=0&&N[b].length===0;)--b;for(var w=10,j=0,S=0;S<=b;++S)j=N[S].indexOf(" "),j==-1?j=N[S].length:j++,w=Math.max(w,j);for(S=0;S<=b;++S){y[S]=[];var A=0;for(e(N[S].slice(0,w).trim(),y,S,A,p),A=1;A<=(N[S].length-w)/10+1;++A)e(N[S].slice(w+(A-1)*10,w+A*10).trim(),y,S,A,p)}return p.sheetRows&&(y=y.slice(0,p.sheetRows)),y}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(h){for(var x={},p=!1,y=0,N=0;y<h.length;++y)(N=h.charCodeAt(y))==34?p=!p:!p&&N in r&&(x[N]=(x[N]||0)+1);N=[];for(y in x)Object.prototype.hasOwnProperty.call(x,y)&&N.push([x[y],y]);if(!N.length){x=s;for(y in x)Object.prototype.hasOwnProperty.call(x,y)&&N.push([x[y],y])}return N.sort(function(b,w){return b[0]-w[0]||s[b[1]]-s[w[1]]}),r[N.pop()[1]]||44}function i(h,x){var p=x||{},y="",N=p.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(y=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(y=h.charAt(4),h=h.slice(6)):y=a(h.slice(0,1024)):p&&p.FS?y=p.FS:y=a(h.slice(0,1024));var w=0,j=0,S=0,A=0,C=0,T=y.charCodeAt(0),D=!1,_=0,O=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var P=p.dateNF!=null?rCe(p.dateNF):null;function B(){var I=h.slice(A,C),G={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)G.t="z";else if(p.raw)G.t="s",G.v=I;else if(I.trim().length===0)G.t="s",G.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(G.t="s",G.v=I.slice(2,-1).replace(/""/g,'"')):L4e(I)?(G.t="n",G.f=I.slice(1)):(G.t="s",G.v=I);else if(I=="TRUE")G.t="b",G.v=!0;else if(I=="FALSE")G.t="b",G.v=!1;else if(!isNaN(S=Bc(I)))G.t="n",p.cellText!==!1&&(G.w=I),G.v=S;else if(!isNaN(Fg(I).getDate())||P&&I.match(P)){G.z=p.dateNF||Qs[14];var z=0;P&&I.match(P)&&(I=sCe(I,p.dateNF,I.match(P)||[]),z=1),p.cellDates?(G.t="d",G.v=Wa(I,z)):(G.t="n",G.v=yi(Wa(I,z))),p.cellText!==!1&&(G.w=Mu(G.z,G.v instanceof Date?yi(G.v):G.v)),p.cellNF||delete G.z}else G.t="s",G.v=I;if(G.t=="z"||(p.dense?(N[w]||(N[w]=[]),N[w][j]=G):N[os({c:j,r:w})]=G),A=C+1,O=h.charCodeAt(A),b.e.c<j&&(b.e.c=j),b.e.r<w&&(b.e.r=w),_==T)++j;else if(j=0,++w,p.sheetRows&&p.sheetRows<=w)return!0}e:for(;C<h.length;++C)switch(_=h.charCodeAt(C)){case 34:O===34&&(D=!D);break;case T:case 10:case 13:if(!D&&B())break e;break}return C-A>0&&B(),N["!ref"]=bn(b),N}function o(h,x){return!(x&&x.PRN)||x.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,x):op(t(h,x),x)}function l(h,x){var p="",y=x.type=="string"?[0,0,0,0]:ZOe(h,x);switch(x.type){case"base64":p=Jc(h);break;case"binary":p=h;break;case"buffer":x.codepage==65001?p=h.toString("utf8"):(x.codepage,p=Qr&&Buffer.isBuffer(h)?h.toString("binary"):_y(h));break;case"array":p=uN(h);break;case"string":p=h;break;default:throw new Error("Unrecognized type "+x.type)}return y[0]==239&&y[1]==187&&y[2]==191?p=Bx(p.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?p=Bx(p):x.type=="binary",p.slice(0,19)=="socialcalc:version:"?_z.to_sheet(x.type=="string"?p:Bx(p),x):o(p,x)}function u(h,x){return Sh(l(h,x),x)}function f(h){for(var x=[],p=Cs(h["!ref"]),y,N=Array.isArray(h),b=p.s.r;b<=p.e.r;++b){for(var w=[],j=p.s.c;j<=p.e.c;++j){var S=os({r:b,c:j});if(y=N?(h[b]||[])[j]:h[S],!y||y.v==null){w.push("          ");continue}for(var A=(y.w||(ed(y),y.w)||"").slice(0,10);A.length<10;)A+=" ";w.push(A+(j===0?" ":""))}x.push(w.join(""))}return x.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:f}}(),_6=function(){function e(M,W,K){if(M){Oi(M,M.l||0);for(var V=K.Enum||q;M.l<M.length;){var Q=M.read_shift(2),ie=V[Q]||V[65535],xe=M.read_shift(2),ue=M.l+xe,de=ie.f&&ie.f(M,xe,K);if(M.l=ue,W(de,ie,Q))return}}}function t(M,W){switch(W.type){case"base64":return r(Ko(Jc(M)),W);case"binary":return r(Ko(M),W);case"buffer":case"array":return r(M,W)}throw"Unsupported type "+W.type}function r(M,W){if(!M)return M;var K=W||{},V=K.dense?[]:{},Q="Sheet1",ie="",xe=0,ue={},de=[],De=[],Ne={s:{r:0,c:0},e:{r:0,c:0}},ot=K.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)K.Enum=q,e(M,function(be,ge,Me){switch(Me){case 0:K.vers=be,be>=4096&&(K.qpro=!0);break;case 6:Ne=be;break;case 204:be&&(ie=be);break;case 222:ie=be;break;case 15:case 51:K.qpro||(be[1].v=be[1].v.slice(1));case 13:case 14:case 16:Me==14&&(be[2]&112)==112&&(be[2]&15)>1&&(be[2]&15)<15&&(be[1].z=K.dateNF||Qs[14],K.cellDates&&(be[1].t="d",be[1].v=Wq(be[1].v))),K.qpro&&be[3]>xe&&(V["!ref"]=bn(Ne),ue[Q]=V,de.push(Q),V=K.dense?[]:{},Ne={s:{r:0,c:0},e:{r:0,c:0}},xe=be[3],Q=ie||"Sheet"+(xe+1),ie="");var xt=K.dense?(V[be[0].r]||[])[be[0].c]:V[os(be[0])];if(xt){xt.t=be[1].t,xt.v=be[1].v,be[1].z!=null&&(xt.z=be[1].z),be[1].f!=null&&(xt.f=be[1].f);break}K.dense?(V[be[0].r]||(V[be[0].r]=[]),V[be[0].r][be[0].c]=be[1]):V[os(be[0])]=be[1];break}},K);else if(M[2]==26||M[2]==14)K.Enum=te,M[2]==14&&(K.qpro=!0,M.l=0),e(M,function(be,ge,Me){switch(Me){case 204:Q=be;break;case 22:be[1].v=be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(be[3]>xe&&(V["!ref"]=bn(Ne),ue[Q]=V,de.push(Q),V=K.dense?[]:{},Ne={s:{r:0,c:0},e:{r:0,c:0}},xe=be[3],Q="Sheet"+(xe+1)),ot>0&&be[0].r>=ot)break;K.dense?(V[be[0].r]||(V[be[0].r]=[]),V[be[0].r][be[0].c]=be[1]):V[os(be[0])]=be[1],Ne.e.c<be[0].c&&(Ne.e.c=be[0].c),Ne.e.r<be[0].r&&(Ne.e.r=be[0].r);break;case 27:be[14e3]&&(De[be[14e3][0]]=be[14e3][1]);break;case 1537:De[be[0]]=be[1],be[0]==xe&&(Q=be[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(V["!ref"]=bn(Ne),ue[ie||Q]=V,de.push(ie||Q),!De.length)return{SheetNames:de,Sheets:ue};for(var Ee={},Ae=[],Ye=0;Ye<De.length;++Ye)ue[de[Ye]]?(Ae.push(De[Ye]||de[Ye]),Ee[De[Ye]]=ue[De[Ye]]||ue[de[Ye]]):(Ae.push(De[Ye]),Ee[De[Ye]]={"!ref":"A1"});return{SheetNames:Ae,Sheets:Ee}}function s(M,W){var K=W||{};if(+K.codepage>=0&&Mg(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var V=pi(),Q=Cs(M["!ref"]),ie=Array.isArray(M),xe=[];wt(V,0,i(1030)),wt(V,6,u(Q));for(var ue=Math.min(Q.e.r,8191),de=Q.s.r;de<=ue;++de)for(var De=sa(de),Ne=Q.s.c;Ne<=Q.e.c;++Ne){de===Q.s.r&&(xe[Ne]=_a(Ne));var ot=xe[Ne]+De,Ee=ie?(M[de]||[])[Ne]:M[ot];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")(Ee.v|0)==Ee.v&&Ee.v>=-32768&&Ee.v<=32767?wt(V,13,y(de,Ne,Ee.v)):wt(V,14,b(de,Ne,Ee.v));else{var Ae=ed(Ee);wt(V,15,x(de,Ne,Ae.slice(0,239)))}}return wt(V,1),V.end()}function a(M,W){var K=W||{};if(+K.codepage>=0&&Mg(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var V=pi();wt(V,0,o(M));for(var Q=0,ie=0;Q<M.SheetNames.length;++Q)(M.Sheets[M.SheetNames[Q]]||{})["!ref"]&&wt(V,27,X(M.SheetNames[Q],ie++));var xe=0;for(Q=0;Q<M.SheetNames.length;++Q){var ue=M.Sheets[M.SheetNames[Q]];if(!(!ue||!ue["!ref"])){for(var de=Cs(ue["!ref"]),De=Array.isArray(ue),Ne=[],ot=Math.min(de.e.r,8191),Ee=de.s.r;Ee<=ot;++Ee)for(var Ae=sa(Ee),Ye=de.s.c;Ye<=de.e.c;++Ye){Ee===de.s.r&&(Ne[Ye]=_a(Ye));var be=Ne[Ye]+Ae,ge=De?(ue[Ee]||[])[Ye]:ue[be];if(!(!ge||ge.t=="z"))if(ge.t=="n")wt(V,23,B(Ee,Ye,xe,ge.v));else{var Me=ed(ge);wt(V,22,_(Ee,Ye,xe,Me.slice(0,239)))}}++xe}}return wt(V,1),V.end()}function i(M){var W=Ze(2);return W.write_shift(2,M),W}function o(M){var W=Ze(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var K=0,V=0,Q=0,ie=0;ie<M.SheetNames.length;++ie){var xe=M.SheetNames[ie],ue=M.Sheets[xe];if(!(!ue||!ue["!ref"])){++Q;var de=qi(ue["!ref"]);K<de.e.r&&(K=de.e.r),V<de.e.c&&(V=de.e.c)}}return K>8191&&(K=8191),W.write_shift(2,K),W.write_shift(1,Q),W.write_shift(1,V),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function l(M,W,K){var V={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&K.qpro?(V.s.c=M.read_shift(1),M.l++,V.s.r=M.read_shift(2),V.e.c=M.read_shift(1),M.l++,V.e.r=M.read_shift(2),V):(V.s.c=M.read_shift(2),V.s.r=M.read_shift(2),W==12&&K.qpro&&(M.l+=2),V.e.c=M.read_shift(2),V.e.r=M.read_shift(2),W==12&&K.qpro&&(M.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function u(M){var W=Ze(8);return W.write_shift(2,M.s.c),W.write_shift(2,M.s.r),W.write_shift(2,M.e.c),W.write_shift(2,M.e.r),W}function f(M,W,K){var V=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(V[0].c=M.read_shift(1),V[3]=M.read_shift(1),V[0].r=M.read_shift(2),M.l+=2):(V[2]=M.read_shift(1),V[0].c=M.read_shift(2),V[0].r=M.read_shift(2)),V}function h(M,W,K){var V=M.l+W,Q=f(M,W,K);if(Q[1].t="s",K.vers==20768){M.l++;var ie=M.read_shift(1);return Q[1].v=M.read_shift(ie,"utf8"),Q}return K.qpro&&M.l++,Q[1].v=M.read_shift(V-M.l,"cstr"),Q}function x(M,W,K){var V=Ze(7+K.length);V.write_shift(1,255),V.write_shift(2,W),V.write_shift(2,M),V.write_shift(1,39);for(var Q=0;Q<V.length;++Q){var ie=K.charCodeAt(Q);V.write_shift(1,ie>=128?95:ie)}return V.write_shift(1,0),V}function p(M,W,K){var V=f(M,W,K);return V[1].v=M.read_shift(2,"i"),V}function y(M,W,K){var V=Ze(7);return V.write_shift(1,255),V.write_shift(2,W),V.write_shift(2,M),V.write_shift(2,K,"i"),V}function N(M,W,K){var V=f(M,W,K);return V[1].v=M.read_shift(8,"f"),V}function b(M,W,K){var V=Ze(13);return V.write_shift(1,255),V.write_shift(2,W),V.write_shift(2,M),V.write_shift(8,K,"f"),V}function w(M,W,K){var V=M.l+W,Q=f(M,W,K);if(Q[1].v=M.read_shift(8,"f"),K.qpro)M.l=V;else{var ie=M.read_shift(2);C(M.slice(M.l,M.l+ie),Q),M.l+=ie}return Q}function j(M,W,K){var V=W&32768;return W&=-32769,W=(V?M:0)+(W>=8192?W-16384:W),(V?"":"$")+(K?_a(W):sa(W))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(M,W){Oi(M,0);for(var K=[],V=0,Q="",ie="",xe="",ue="";M.l<M.length;){var de=M[M.l++];switch(de){case 0:K.push(M.read_shift(8,"f"));break;case 1:ie=j(W[0].c,M.read_shift(2),!0),Q=j(W[0].r,M.read_shift(2),!1),K.push(ie+Q);break;case 2:{var De=j(W[0].c,M.read_shift(2),!0),Ne=j(W[0].r,M.read_shift(2),!1);ie=j(W[0].c,M.read_shift(2),!0),Q=j(W[0].r,M.read_shift(2),!1),K.push(De+Ne+":"+ie+Q)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(M.read_shift(2));break;case 6:{for(var ot="";de=M[M.l++];)ot+=String.fromCharCode(de);K.push('"'+ot.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:ue=K.pop(),xe=K.pop(),K.push(["AND","OR"][de-20]+"("+xe+","+ue+")");break;default:if(de<32&&A[de])ue=K.pop(),xe=K.pop(),K.push(xe+A[de]+ue);else if(S[de]){if(V=S[de][1],V==69&&(V=M[M.l++]),V>K.length){console.error("WK1 bad formula parse 0x"+de.toString(16)+":|"+K.join("|")+"|");return}var Ee=K.slice(-V);K.length-=V,K.push(S[de][0]+"("+Ee.join(",")+")")}else return de<=7?console.error("WK1 invalid opcode "+de.toString(16)):de<=24?console.error("WK1 unsupported op "+de.toString(16)):de<=30?console.error("WK1 invalid opcode "+de.toString(16)):de<=115?console.error("WK1 unsupported function opcode "+de.toString(16)):console.error("WK1 unrecognized opcode "+de.toString(16))}}K.length==1?W[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function T(M){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=M.read_shift(2),W[3]=M[M.l++],W[0].c=M[M.l++],W}function D(M,W){var K=T(M);return K[1].t="s",K[1].v=M.read_shift(W-4,"cstr"),K}function _(M,W,K,V){var Q=Ze(6+V.length);Q.write_shift(2,M),Q.write_shift(1,K),Q.write_shift(1,W),Q.write_shift(1,39);for(var ie=0;ie<V.length;++ie){var xe=V.charCodeAt(ie);Q.write_shift(1,xe>=128?95:xe)}return Q.write_shift(1,0),Q}function O(M,W){var K=T(M);K[1].v=M.read_shift(2);var V=K[1].v>>1;if(K[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return K[1].v=V,K}function P(M,W){var K=T(M),V=M.read_shift(4),Q=M.read_shift(4),ie=M.read_shift(2);if(ie==65535)return V===0&&Q===3221225472?(K[1].t="e",K[1].v=15):V===0&&Q===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var xe=ie&32768;return ie=(ie&32767)-16446,K[1].v=(1-xe*2)*(Q*Math.pow(2,ie+32)+V*Math.pow(2,ie)),K}function B(M,W,K,V){var Q=Ze(14);if(Q.write_shift(2,M),Q.write_shift(1,K),Q.write_shift(1,W),V==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var ie=0,xe=0,ue=0,de=0;return V<0&&(ie=1,V=-V),xe=Math.log2(V)|0,V/=Math.pow(2,xe-31),de=V>>>0,(de&2147483648)==0&&(V/=2,++xe,de=V>>>0),V-=de,de|=2147483648,de>>>=0,V*=Math.pow(2,32),ue=V>>>0,Q.write_shift(4,ue),Q.write_shift(4,de),xe+=16383+(ie?32768:0),Q.write_shift(2,xe),Q}function I(M,W){var K=P(M);return M.l+=W-14,K}function G(M,W){var K=T(M),V=M.read_shift(4);return K[1].v=V>>6,K}function z(M,W){var K=T(M),V=M.read_shift(8,"f");return K[1].v=V,K}function ae(M,W){var K=z(M);return M.l+=W-10,K}function J(M,W){return M[M.l+W-1]==0?M.read_shift(W,"cstr"):""}function L(M,W){var K=M[M.l++];K>W-1&&(K=W-1);for(var V="";V.length<K;)V+=String.fromCharCode(M[M.l++]);return V}function U(M,W,K){if(!(!K.qpro||W<21)){var V=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var Q=M.read_shift(W-21,"cstr");return[V,Q]}}function F(M,W){for(var K={},V=M.l+W;M.l<V;){var Q=M.read_shift(2);if(Q==14e3){for(K[Q]=[0,""],K[Q][0]=M.read_shift(2);M[M.l];)K[Q][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return K}function X(M,W){var K=Ze(5+M.length);K.write_shift(2,14e3),K.write_shift(2,W);for(var V=0;V<M.length;++V){var Q=M.charCodeAt(V);K[K.l++]=Q>127?95:Q}return K[K.l++]=0,K}var q={0:{n:"BOF",f:Sz},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:N},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:J},222:{n:"SHEETNAMELP",f:L},65535:{n:""}},te={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:F},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:J},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:U},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:t}}(),U_e=/^\s|\s$|[\t\n\r]/;function kz(e,t){if(!t.bookSST)return"";var r=[wn];r[r.length]=bt("sst",null,{xmlns:ip[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var a=e[s],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(U_e)&&(i+=' xml:space="preserve"'),i+=">"+is(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function V_e(e){return[e.read_shift(4),e.read_shift(4)]}function q_e(e,t){return t||(t=Ze(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var z_e=PCe;function H_e(e){var t=pi();it(t,159,q_e(e));for(var r=0;r<e.length;++r)it(t,19,z_e(e[r]));return it(t,160),t.end()}function W_e(e){for(var t=[],r=e.split(""),s=0;s<r.length;++s)t[s]=r[s].charCodeAt(0);return t}function Dz(e){var t=0,r,s=W_e(e),a=s.length+1,i,o,l,u,f;for(r=nh(a),r[0]=s.length,i=1;i!=a;++i)r[i]=s[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,u=t<<1&32767,f=l|u,t=f^o;return t^52811}var G_e=function(){function e(a,i){switch(i.type){case"base64":return t(Jc(a),i);case"binary":return t(a,i);case"buffer":return t(Qr&&Buffer.isBuffer(a)?a.toString("binary"):_y(a),i);case"array":return t(uN(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,x){Array.isArray(l)&&(l[x]=[]);for(var p=/\\\w+\b/g,y=0,N,b=-1;N=p.exec(h);){switch(N[0]){case"\\cell":var w=h.slice(y,p.lastIndex-N[0].length);if(w[0]==" "&&(w=w.slice(1)),++b,w.length){var j={v:w,t:"s"};Array.isArray(l)?l[x][b]=j:l[os({r:x,c:b})]=j}break}y=p.lastIndex}b>f.e.c&&(f.e.c=b)}),l["!ref"]=bn(f),l}function r(a,i){return Sh(e(a,i),i)}function s(a){for(var i=["{\\rtf1\\ansi"],o=Cs(a["!ref"]),l,u=Array.isArray(a),f=o.s.r;f<=o.e.r;++f){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var x=os({r:f,c:h});l=u?(a[f]||[])[h]:a[x],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(ed(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:s}}();function k6(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Y_e=6,$c=Y_e;function zb(e){return Math.floor((e+Math.round(128/$c)/256)*$c)}function Hb(e){return Math.floor((e-5)/$c*100+.5)/100}function fT(e){return Math.round((e*$c+5)/$c*256)/256}function u4(e){e.width?(e.wpx=zb(e.width),e.wch=Hb(e.wpx),e.MDW=$c):e.wpx?(e.wch=Hb(e.wpx),e.width=fT(e.wch),e.MDW=$c):typeof e.wch=="number"&&(e.width=fT(e.wch),e.wpx=zb(e.width),e.MDW=$c),e.customWidth&&delete e.customWidth}var K_e=96,Oz=K_e;function Wb(e){return e*96/Oz}function Rz(e){return e*Oz/96}function X_e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&(t[t.length]=bt("numFmt",null,{numFmtId:s,formatCode:is(e[s])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=bt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Q_e(e){var t=[];return t[t.length]=bt("cellXfs",null),e.forEach(function(r){t[t.length]=bt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=bt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Pz(e,t){var r=[wn,bt("styleSheet",null,{xmlns:ip[0],"xmlns:vt":Bn.vt})],s;return e.SSF&&(s=X_e(e.SSF))!=null&&(r[r.length]=s),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=Q_e(t.cellXfs))&&(r[r.length]=s),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Z_e(e,t){var r=e.read_shift(2),s=ka(e);return[r,s]}function J_e(e,t,r){r||(r=Ze(6+4*t.length)),r.write_shift(2,e),Un(t,r);var s=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),s}function e4e(e,t,r){var s={};s.sz=e.read_shift(2)/20;var a=UCe(e);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var i=e.read_shift(2);switch(i===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(s.underline=o);var l=e.read_shift(1);l>0&&(s.family=l);var u=e.read_shift(1);switch(u>0&&(s.charset=u),e.l++,s.color=$Ce(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=ka(e),s}function t4e(e,t){t||(t=Ze(25+4*32)),t.write_shift(2,e.sz*20),VCe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Vb(e.color,t);var s=0;return s=2,t.write_shift(1,s),Un(e.name,t),t.length>t.l?t.slice(0,t.l):t}var r4e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],eE,s4e=Jl;function D6(e,t){t||(t=Ze(4*3+8*7+16*1)),eE||(eE=J_(r4e));var r=eE[e.patternType];r==null&&(r=40),t.write_shift(4,r);var s=0;if(r!=40)for(Vb({auto:1},t),Vb({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function n4e(e,t){var r=e.l+t,s=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:s,numFmtId:a}}function Mz(e,t,r){r||(r=Ze(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var s=0;return r.write_shift(1,s),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function xx(e,t){return t||(t=Ze(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var a4e=Jl;function i4e(e,t){return t||(t=Ze(51)),t.write_shift(1,0),xx(null,t),xx(null,t),xx(null,t),xx(null,t),xx(null,t),t.length>t.l?t.slice(0,t.l):t}function o4e(e,t){return t||(t=Ze(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Ub(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function l4e(e,t,r){var s=Ze(2052);return s.write_shift(4,e),Ub(t,s),Ub(r,s),s.length>s.l?s.slice(0,s.l):s}function c4e(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&++r}),r!=0&&(it(e,615,tl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&it(e,44,J_e(a,t[a]))}),it(e,616))}}function d4e(e){var t=1;it(e,611,tl(t)),it(e,43,t4e({sz:12,color:{theme:1},name:"Calibri",family:2})),it(e,612)}function u4e(e){var t=2;it(e,603,tl(t)),it(e,45,D6({patternType:"none"})),it(e,45,D6({patternType:"gray125"})),it(e,604)}function f4e(e){var t=1;it(e,613,tl(t)),it(e,46,i4e()),it(e,614)}function h4e(e){var t=1;it(e,626,tl(t)),it(e,47,Mz({numFmtId:0},65535)),it(e,627)}function m4e(e,t){it(e,617,tl(t.length)),t.forEach(function(r){it(e,47,Mz(r,0))}),it(e,618)}function p4e(e){var t=1;it(e,619,tl(t)),it(e,48,o4e({xfId:0,name:"Normal"})),it(e,620)}function x4e(e){var t=0;it(e,505,tl(t)),it(e,506)}function g4e(e){var t=0;it(e,508,l4e(t,"TableStyleMedium9","PivotStyleMedium4")),it(e,509)}function y4e(e,t){var r=pi();return it(r,278),c4e(r,e.SSF),d4e(r),u4e(r),f4e(r),h4e(r),m4e(r,t.cellXfs),p4e(r),x4e(r),g4e(r),it(r,279),r.end()}function Iz(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[wn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function v4e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ka(e)}}function b4e(e){var t=Ze(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Un(e.name,t),t.slice(0,t.l)}function w4e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function N4e(e){var t=Ze(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function j4e(e,t){var r=Ze(8+2*t.length);return r.write_shift(4,e),Un(t,r),r.slice(0,r.l)}function S4e(e){return e.l+=4,e.read_shift(4)!=0}function E4e(e,t){var r=Ze(8);return r.write_shift(4,e),r.write_shift(4,1),r}function A4e(){var e=pi();return it(e,332),it(e,334,tl(1)),it(e,335,b4e({name:"XLDAPR",version:12e4,flags:3496657072})),it(e,336),it(e,339,j4e(1,"XLDAPR")),it(e,52),it(e,35,tl(514)),it(e,4096,tl(0)),it(e,4097,co(1)),it(e,36),it(e,53),it(e,340),it(e,337,E4e(1)),it(e,51,N4e([[1,0]])),it(e,338),it(e,333),e.end()}function Fz(){var e=[wn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function T4e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=os(r);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}var Fm=1024;function Lz(e,t){for(var r=[21600,21600],s=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[bt("xml",null,{"xmlns:v":Pi.v,"xmlns:o":Pi.o,"xmlns:x":Pi.x,"xmlns:mv":Pi.mv}).replace(/\/>/,">"),bt("o:shapelayout",bt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),bt("v:shapetype",[bt("v:stroke",null,{joinstyle:"miter"}),bt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:s})];Fm<e*1e3;)Fm+=1e3;return t.forEach(function(i){var o=$n(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var u=l.type=="gradient"?bt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=bt("v:fill",u,l),h={on:"t",obscured:"t"};++Fm,a=a.concat(["<v:shape"+Bg({id:"_x0000_s"+Fm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,bt("v:shadow",null,h),bt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ta("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ta("x:AutoFill","False"),ta("x:Row",String(o.r)),ta("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Bz(e){var t=[wn,bt("comments",null,{xmlns:ip[0]})],r=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(a){var i=is(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var a=0,i=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?a=r.indexOf("tc="+s[1][0].ID):s[1].forEach(function(u){u.a&&(a=r.indexOf(is(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ta("t",is(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(ta("t",is(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function C4e(e,t,r){var s=[wn,bt("ThreadedComments",null,{xmlns:Bn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var u={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=u.id:u.parentId=i,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),s.push(bt("threadedComment",ta("text",o.t||""),u))})}),s.push("</ThreadedComments>"),s.join("")}function _4e(e){var t=[wn,bt("personList",null,{xmlns:Bn.TCMNT,"xmlns:x":ip[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,s){t.push(bt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function k4e(e){var t={};t.iauthor=e.read_shift(4);var r=Ch(e);return t.rfx=r.s,t.ref=os(r.s),e.l+=16,t}function D4e(e,t){return t==null&&(t=Ze(36)),t.write_shift(4,e[1].iauthor),lp(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var O4e=ka;function R4e(e){return Un(e.slice(0,54))}function P4e(e){var t=pi(),r=[];return it(t,628),it(t,630),e.forEach(function(s){s[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),it(t,632,R4e(a.a)))})}),it(t,631),it(t,633),e.forEach(function(s){s[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:$n(s[0]),e:$n(s[0])};it(t,635,D4e([i,a])),a.t&&a.t.length>0&&it(t,637,ICe(a)),it(t,636),delete a.iauthor})}),it(t,634),it(t,629),t.end()}function M4e(e,t){t.FullPaths.forEach(function(r,s){if(s!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&fs.utils.cfb_add(e,a,t.FileIndex[s].content)}})}var $z=["xlsb","xlsm","xlam","biff8","xla"],I4e=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(s,a,i,o){var l=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return l?h+=t.c:--h,u?f+=t.r:--f,a+(l?"":"$")+_a(h)+(u?"":"$")+sa(f)}return function(a,i){return t=i,a.replace(e,r)}}(),f4=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,h4=function(){return function(t,r){return t.replace(f4,function(s,a,i,o,l,u){var f=i4(o)-(i?0:r.c),h=a4(u)-(l?0:r.r),x=h==0?"":l?h+1:"["+h+"]",p=f==0?"":i?f+1:"["+f+"]";return a+"R"+x+"C"+p})}}();function F4e(e,t){return e.replace(f4,function(r,s,a,i,o,l){return s+(a=="$"?a+i:_a(i4(i)+t.c))+(o=="$"?o+l:sa(a4(l)+t.r))})}function L4e(e){return e.length!=1}function gn(e){e.l+=1}function Iu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Uz(e,t,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return Vz(e);r.biff==12&&(s=4)}var a=e.read_shift(s),i=e.read_shift(s),o=Iu(e),l=Iu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function Vz(e){var t=Iu(e),r=Iu(e),s=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function B4e(e,t,r){if(r.biff<8)return Vz(e);var s=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Iu(e),o=Iu(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function qz(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return $4e(e);var s=e.read_shift(r&&r.biff==12?4:2),a=Iu(e);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function $4e(e){var t=Iu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function U4e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function V4e(e,t,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return q4e(e);var a=e.read_shift(s>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function q4e(e){var t=e.read_shift(2),r=e.read_shift(1),s=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:s}}function z4e(e,t,r){var s=(e[e.l++]&96)>>5,a=Uz(e,r.biff>=2&&r.biff<=5?6:8,r);return[s,a]}function H4e(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Uz(e,i,r);return[s,a,o]}function W4e(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function G4e(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[s,a]}function Y4e(e,t,r){var s=(e[e.l++]&96)>>5,a=B4e(e,t-1,r);return[s,a]}function K4e(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[s]}function O6(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function X4e(e,t,r){e.l+=2;for(var s=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=s;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Q4e(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function Z4e(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function J4e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function eke(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[s]}function zz(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function tke(e){return e.read_shift(2),zz(e)}function rke(e){return e.read_shift(2),zz(e)}function ske(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=qz(e,0,r);return[s,a]}function nke(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=V4e(e,0,r);return[s,a]}function ake(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=qz(e,0,r);return[s,a,i]}function ike(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[i3e[a],Gz[a],s]}function oke(e,t,r){var s=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[s==88?-1:0,e.read_shift(1)]:lke(e);return[a,(i[0]===0?Gz:a3e)[i[1]]]}function lke(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function cke(e,t,r){e.l+=r&&r.biff==2?3:4}function dke(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function uke(e){return e.l++,Oy[e.read_shift(1)]}function fke(e){return e.l++,e.read_shift(2)}function hke(e){return e.l++,e.read_shift(1)!==0}function mke(e){return e.l++,cp(e)}function pke(e,t,r){return e.l++,Az(e,t-1,r)}function xke(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=a_e(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Oy[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=cp(e);break;case 2:r[1]=c_e(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function gke(e,t,r){for(var s=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=s;++i)a.push((r.biff==12?Ch:f_e)(e));return a}function yke(e,t,r){var s=0,a=0;r.biff==12?(s=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),s=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--a==0&&(a=256));for(var i=0,o=[];i!=s&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=xke(e,r.biff);return o}function vke(e,t,r){var s=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,i]}function bke(e,t,r){if(r.biff==5)return wke(e);var s=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[s,a,i]}function wke(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,r,s]}function Nke(e,t,r){var s=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function jke(e,t,r){var s=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function Ske(e,t,r){var s=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[s]}function Eke(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[s,a]}var Ake=Jl,Tke=Jl,Cke=Jl;function Ry(e,t,r){return e.l+=2,[U4e(e)]}function m4(e){return e.l+=6,[]}var _ke=Ry,kke=m4,Dke=m4,Oke=Ry;function Hz(e){return e.l+=2,[Sz(e),e.read_shift(2)&1]}var Rke=Ry,Pke=Hz,Mke=m4,Ike=Ry,Fke=Ry,Lke=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Bke(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=Lke[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:s,c:a,C:i}}function $ke(e){return e.l+=2,[e.read_shift(4)]}function Uke(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Vke(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function qke(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function zke(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Hke(e){return e.l+=4,[0,0]}var R6={1:{n:"PtgExp",f:dke},2:{n:"PtgTbl",f:Cke},3:{n:"PtgAdd",f:gn},4:{n:"PtgSub",f:gn},5:{n:"PtgMul",f:gn},6:{n:"PtgDiv",f:gn},7:{n:"PtgPower",f:gn},8:{n:"PtgConcat",f:gn},9:{n:"PtgLt",f:gn},10:{n:"PtgLe",f:gn},11:{n:"PtgEq",f:gn},12:{n:"PtgGe",f:gn},13:{n:"PtgGt",f:gn},14:{n:"PtgNe",f:gn},15:{n:"PtgIsect",f:gn},16:{n:"PtgUnion",f:gn},17:{n:"PtgRange",f:gn},18:{n:"PtgUplus",f:gn},19:{n:"PtgUminus",f:gn},20:{n:"PtgPercent",f:gn},21:{n:"PtgParen",f:gn},22:{n:"PtgMissArg",f:gn},23:{n:"PtgStr",f:pke},26:{n:"PtgSheet",f:Uke},27:{n:"PtgEndSheet",f:Vke},28:{n:"PtgErr",f:uke},29:{n:"PtgBool",f:hke},30:{n:"PtgInt",f:fke},31:{n:"PtgNum",f:mke},32:{n:"PtgArray",f:K4e},33:{n:"PtgFunc",f:ike},34:{n:"PtgFuncVar",f:oke},35:{n:"PtgName",f:vke},36:{n:"PtgRef",f:ske},37:{n:"PtgArea",f:z4e},38:{n:"PtgMemArea",f:Nke},39:{n:"PtgMemErr",f:Ake},40:{n:"PtgMemNoMem",f:Tke},41:{n:"PtgMemFunc",f:jke},42:{n:"PtgRefErr",f:Ske},43:{n:"PtgAreaErr",f:W4e},44:{n:"PtgRefN",f:nke},45:{n:"PtgAreaN",f:Y4e},46:{n:"PtgMemAreaN",f:qke},47:{n:"PtgMemNoMemN",f:zke},57:{n:"PtgNameX",f:bke},58:{n:"PtgRef3d",f:ake},59:{n:"PtgArea3d",f:H4e},60:{n:"PtgRefErr3d",f:Eke},61:{n:"PtgAreaErr3d",f:G4e},255:{}},Wke={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Gke={1:{n:"PtgElfLel",f:Hz},2:{n:"PtgElfRw",f:Ike},3:{n:"PtgElfCol",f:_ke},6:{n:"PtgElfRwV",f:Fke},7:{n:"PtgElfColV",f:Oke},10:{n:"PtgElfRadical",f:Rke},11:{n:"PtgElfRadicalS",f:Mke},13:{n:"PtgElfColS",f:kke},15:{n:"PtgElfColSV",f:Dke},16:{n:"PtgElfRadicalLel",f:Pke},25:{n:"PtgList",f:Bke},29:{n:"PtgSxName",f:$ke},255:{}},Yke={0:{n:"PtgAttrNoop",f:Hke},1:{n:"PtgAttrSemi",f:eke},2:{n:"PtgAttrIf",f:Z4e},4:{n:"PtgAttrChoose",f:X4e},8:{n:"PtgAttrGoto",f:Q4e},16:{n:"PtgAttrSum",f:cke},32:{n:"PtgAttrBaxcel",f:O6},33:{n:"PtgAttrBaxcel",f:O6},64:{n:"PtgAttrSpace",f:tke},65:{n:"PtgAttrSpaceSemi",f:rke},128:{n:"PtgAttrIfError",f:J4e},255:{}};function Kke(e,t,r,s){if(s.biff<8)return Jl(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=yke(e,0,s),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=gke(e,r[o][1],s),i.push(r[o][2]);break;case"PtgExp":s&&s.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Jl(e,t)),i}function Xke(e,t,r){for(var s=e.l+t,a,i,o=[];s!=e.l;)t=s-e.l,i=e[e.l],a=R6[i]||R6[Wke[i]],(i===24||i===25)&&(a=(i===24?Gke:Yke)[e[e.l+1]]),!a||!a.f?Jl(e,t):o.push([a.n,a.f(e,t,r)]);return o}function Qke(e){for(var t=[],r=0;r<e.length;++r){for(var s=e[r],a=[],i=0;i<s.length;++i){var o=s[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Zke={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Jke(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Wz(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[s[0]][0]){case 357:return a=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[s[0]][0][3]?(a=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function P6(e,t,r){var s=Wz(e,t,r);return s=="#REF"?s:Jke(s,r)}function k0(e,t,r,s,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],u,f,h,x=0,p=0,y,N="";if(!e[0]||!e[0][0])return"";for(var b=-1,w="",j=0,S=e[0].length;j<S;++j){var A=e[0][j];switch(A[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),f=l.pop(),b>=0){switch(e[0][b][1][0]){case 0:w=Xs(" ",e[0][b][1][1]);break;case 1:w=Xs("\r",e[0][b][1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}f=f+w,b=-1}l.push(f+Zke[A[0]]+u);break;case"PtgIsect":u=l.pop(),f=l.pop(),l.push(f+" "+u);break;case"PtgUnion":u=l.pop(),f=l.pop(),l.push(f+","+u);break;case"PtgRange":u=l.pop(),f=l.pop(),l.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Ux(A[1][1],o,a),l.push(Vx(h,i));break;case"PtgRefN":h=r?Ux(A[1][1],r,a):A[1][1],l.push(Vx(h,i));break;case"PtgRef3d":x=A[1][1],h=Ux(A[1][2],o,a),N=P6(s,x,a),l.push(N+"!"+Vx(h,i));break;case"PtgFunc":case"PtgFuncVar":var C=A[1][0],T=A[1][1];C||(C=0),C&=127;var D=C==0?[]:l.slice(-C);l.length-=C,T==="User"&&(T=D.shift()),l.push(T+"("+D.join(",")+")");break;case"PtgBool":l.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(A[1]);break;case"PtgNum":l.push(String(A[1]));break;case"PtgStr":l.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(A[1]);break;case"PtgAreaN":y=y6(A[1][1],r?{s:r}:o,a),l.push(ZS(y,a));break;case"PtgArea":y=y6(A[1][1],o,a),l.push(ZS(y,a));break;case"PtgArea3d":x=A[1][1],y=A[1][2],N=P6(s,x,a),l.push(N+"!"+ZS(y,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=A[1][2];var _=(s.names||[])[p-1]||(s[0]||[])[p],O=_?_.Name:"SH33TJSNAME"+String(p);O&&O.slice(0,6)=="_xlfn."&&!a.xlfn&&(O=O.slice(6)),l.push(O);break;case"PtgNameX":var P=A[1][1];p=A[1][2];var B;if(a.biff<=5)P<0&&(P=-P),s[P]&&(B=s[P][p]);else{var I="";if(((s[P]||[])[0]||[])[0]==14849||(((s[P]||[])[0]||[])[0]==1025?s[P][p]&&s[P][p].itab>0&&(I=s.SheetNames[s[P][p].itab-1]+"!"):I=s.SheetNames[p-1]+"!"),s[P]&&s[P][p])I+=s[P][p].Name;else if(s[0]&&s[0][p])I+=s[0][p].Name;else{var G=(Wz(s,P,a)||"").split(";;");G[p-1]?I=G[p-1]:I+="SH33TJSERRX"}l.push(I);break}B||(B={Name:"SH33TJSERRY"}),l.push(B.Name);break;case"PtgParen":var z="(",ae=")";if(b>=0){switch(w="",e[0][b][1][0]){case 2:z=Xs(" ",e[0][b][1][1])+z;break;case 3:z=Xs("\r",e[0][b][1][1])+z;break;case 4:ae=Xs(" ",e[0][b][1][1])+ae;break;case 5:ae=Xs("\r",e[0][b][1][1])+ae;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}l.push(z+l.pop()+ae);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":h={c:A[1][1],r:A[1][0]};var J={c:r.c,r:r.r};if(s.sharedf[os(h)]){var L=s.sharedf[os(h)];l.push(k0(L,o,J,s,a))}else{var U=!1;for(u=0;u!=s.arrayf.length;++u)if(f=s.arrayf[u],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){l.push(k0(f[1],o,J,s,a)),U=!0;break}U||l.push(A[1])}break;case"PtgArray":l.push("{"+Qke(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var F=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&b>=0&&F.indexOf(e[0][j][0])==-1){A=e[0][b];var X=!0;switch(A[1][0]){case 4:X=!1;case 0:w=Xs(" ",A[1][1]);break;case 5:X=!1;case 1:w=Xs("\r",A[1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}l.push((X?w:"")+l.pop()+(X?"":w)),b=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function e3e(e){if(e==null){var t=Ze(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return ah(e);return ah(0)}function t3e(e,t,r,s,a){var i=ih(t,r,a),o=e3e(e.v),l=Ze(6),u=33;l.write_shift(2,u),l.write_shift(4,0);for(var f=Ze(e.bf.length),h=0;h<e.bf.length;++h)f[h]=e.bf[h];var x=ea([i,o,l,f]);return x}function fN(e,t,r){var s=e.read_shift(4),a=Xke(e,s,r),i=e.read_shift(4),o=i>0?Kke(e,i,a,r):null;return[a,o]}var r3e=fN,hN=fN,s3e=fN,n3e=fN,a3e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Gz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},i3e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function o3e(e){var t="of:="+e.replace(f4,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function l3e(e){return e.replace(/\./,"!")}var qx=typeof Map<"u";function p4(e,t,r){var s=0,a=e.length;if(r){if(qx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=qx?r.get(t):r[t];s<i.length;++s)if(e[i[s]].t===t)return e.Count++,i[s]}}else for(;s<a;++s)if(e[s].t===t)return e.Count++,s;return e[a]={t},e.Count++,e.Unique++,r&&(qx?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function mN(e,t){var r={min:e+1,max:e+1},s=-1;return t.MDW&&($c=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?s=Hb(t.wpx):t.wch!=null&&(s=t.wch),s>-1?(r.width=fT(s),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Yz(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Wu(e,t,r){var s=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(s==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){qq(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=s=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===s)return a;return e[i]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function c3e(e,t,r){if(e&&e["!ref"]){var s=Cs(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function d3e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+bn(e[r])+'"/>';return t+"</mergeCells>"}function u3e(e,t,r,s,a){var i=!1,o={},l=null;if(s.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,o.codeName=Lg(is(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),l=(l||"")+bt("outlinePr",null,f)}!i&&!l||(a[a.length]=bt("sheetPr",l,o))}var f3e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],h3e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function m3e(e){var t={sheet:1};return f3e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),h3e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Dz(e.password).toString(16).toUpperCase()),bt("sheetProtection",null,t)}function p3e(e){return Yz(e),bt("pageMargins",null,e)}function x3e(e,t){for(var r=["<cols>"],s,a=0;a!=t.length;++a)(s=t[a])&&(r[r.length]=bt("col",null,mN(a,s)));return r[r.length]="</cols>",r.join("")}function g3e(e,t,r,s){var a=typeof e.ref=="string"?e.ref:bn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=qi(a);o.s.r==o.e.r&&(o.e.r=qi(t["!ref"]).e.r,a=bn(o));for(var l=0;l<i.length;++l){var u=i[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==s){u.Ref="'"+r.SheetNames[s]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+a}),bt("autoFilter",null,{ref:a})}function y3e(e,t,r,s){var a={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),bt("sheetViews",bt("sheetView",null,a),{})}function v3e(e,t,r,s){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Oy[e.v];break;case"d":s&&s.cellDates?a=Wa(e.v,-1).toISOString():(e=vi(e),e.t="n",a=""+(e.v=yi(Wa(e.v)))),typeof e.z>"u"&&(e.z=Qs[14]);break;default:a=e.v;break}var l=ta("v",is(a)),u={r:t},f=Wu(s.cellXfs,e,s);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){l=ta("v",""+p4(s.Strings,e.v,s.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=bt("f",is(e.f),h)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),bt("c",l,u)}function b3e(e,t,r,s){var a=[],i=[],o=Cs(e["!ref"]),l="",u,f="",h=[],x=0,p=0,y=e["!rows"],N=Array.isArray(e),b={r:f},w,j=-1;for(p=o.s.c;p<=o.e.c;++p)h[p]=_a(p);for(x=o.s.r;x<=o.e.r;++x){for(i=[],f=sa(x),p=o.s.c;p<=o.e.c;++p){u=h[p]+f;var S=N?(e[x]||[])[p]:e[u];S!==void 0&&(l=v3e(S,u,e,t))!=null&&i.push(l)}(i.length>0||y&&y[x])&&(b={r:f},y&&y[x]&&(w=y[x],w.hidden&&(b.hidden=1),j=-1,w.hpx?j=Wb(w.hpx):w.hpt&&(j=w.hpt),j>-1&&(b.ht=j,b.customHeight=1),w.level&&(b.outlineLevel=w.level)),a[a.length]=bt("row",i.join(""),b))}if(y)for(;x<y.length;++x)y&&y[x]&&(b={r:x+1},w=y[x],w.hidden&&(b.hidden=1),j=-1,w.hpx?j=Wb(w.hpx):w.hpt&&(j=w.hpt),j>-1&&(b.ht=j,b.customHeight=1),w.level&&(b.outlineLevel=w.level),a[a.length]=bt("row","",b));return a.join("")}function Kz(e,t,r,s){var a=[wn,bt("worksheet",null,{xmlns:ip[0],"xmlns:r":Bn.r})],i=r.SheetNames[e],o=0,l="",u=r.Sheets[i];u==null&&(u={});var f=u["!ref"]||"A1",h=Cs(f);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=bn(h)}s||(s={}),u["!comments"]=[];var x=[];u3e(u,r,e,t,a),a[a.length]=bt("dimension",null,{ref:f}),a[a.length]=y3e(u,t,e,r),t.sheetFormat&&(a[a.length]=bt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(a[a.length]=x3e(u,u["!cols"])),a[o=a.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(l=b3e(u,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),u["!protect"]&&(a[a.length]=m3e(u["!protect"])),u["!autofilter"]!=null&&(a[a.length]=g3e(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(a[a.length]=d3e(u["!merges"]));var p=-1,y,N=-1;return u["!links"].length>0&&(a[a.length]="<hyperlinks>",u["!links"].forEach(function(b){b[1].Target&&(y={ref:b[0]},b[1].Target.charAt(0)!="#"&&(N=as(s,-1,is(b[1].Target).replace(/#.*$/,""),Wr.HLINK),y["r:id"]="rId"+N),(p=b[1].Target.indexOf("#"))>-1&&(y.location=is(b[1].Target.slice(p+1))),b[1].Tooltip&&(y.tooltip=is(b[1].Tooltip)),a[a.length]=bt("hyperlink",null,y))}),a[a.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(a[a.length]=p3e(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ta("ignoredErrors",bt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),x.length>0&&(N=as(s,-1,"../drawings/drawing"+(e+1)+".xml",Wr.DRAW),a[a.length]=bt("drawing",null,{"r:id":"rId"+N}),u["!drawing"]=x),u["!comments"].length>0&&(N=as(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Wr.VML),a[a.length]=bt("legacyDrawing",null,{"r:id":"rId"+N}),u["!legacy"]=N),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function w3e(e,t){var r={},s=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=s,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function N3e(e,t,r){var s=Ze(145),a=(r["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var i=320;a.hpx?i=Wb(a.hpx)*20:a.hpt&&(i=a.hpt*20),s.write_shift(2,i),s.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var l=0,u=s.l;s.l+=4;for(var f={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var x=-1,p=-1,y=h<<10;y<h+1<<10;++y){f.c=y;var N=Array.isArray(r)?(r[f.r]||[])[f.c]:r[os(f)];N&&(x<0&&(x=y),p=y)}x<0||(++l,s.write_shift(4,x),s.write_shift(4,p))}var b=s.l;return s.l=u,s.write_shift(4,l),s.l=b,s.length>s.l?s.slice(0,s.l):s}function j3e(e,t,r,s){var a=N3e(s,r,t);(a.length>17||(t["!rows"]||[])[s])&&it(e,0,a)}var S3e=Ch,E3e=lp;function A3e(){}function T3e(e,t){var r={},s=e[e.l];return++e.l,r.above=!(s&64),r.left=!(s&128),e.l+=18,r.name=FCe(e),r}function C3e(e,t,r){r==null&&(r=Ze(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),r.write_shift(1,s);for(var a=1;a<3;++a)r.write_shift(1,0);return Vb({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),dz(e,r),r.slice(0,r.l)}function _3e(e){var t=Ao(e);return[t]}function k3e(e,t,r){return r==null&&(r=Ze(8)),Eh(t,r)}function D3e(e){var t=Ah(e);return[t]}function O3e(e,t,r){return r==null&&(r=Ze(4)),Th(t,r)}function R3e(e){var t=Ao(e),r=e.read_shift(1);return[t,r,"b"]}function P3e(e,t,r){return r==null&&(r=Ze(9)),Eh(t,r),r.write_shift(1,e.v?1:0),r}function M3e(e){var t=Ah(e),r=e.read_shift(1);return[t,r,"b"]}function I3e(e,t,r){return r==null&&(r=Ze(5)),Th(t,r),r.write_shift(1,e.v?1:0),r}function F3e(e){var t=Ao(e),r=e.read_shift(1);return[t,r,"e"]}function L3e(e,t,r){return r==null&&(r=Ze(9)),Eh(t,r),r.write_shift(1,e.v),r}function B3e(e){var t=Ah(e),r=e.read_shift(1);return[t,r,"e"]}function $3e(e,t,r){return r==null&&(r=Ze(8)),Th(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function U3e(e){var t=Ao(e),r=e.read_shift(4);return[t,r,"s"]}function V3e(e,t,r){return r==null&&(r=Ze(12)),Eh(t,r),r.write_shift(4,t.v),r}function q3e(e){var t=Ah(e),r=e.read_shift(4);return[t,r,"s"]}function z3e(e,t,r){return r==null&&(r=Ze(8)),Th(t,r),r.write_shift(4,t.v),r}function H3e(e){var t=Ao(e),r=cp(e);return[t,r,"n"]}function W3e(e,t,r){return r==null&&(r=Ze(16)),Eh(t,r),ah(e.v,r),r}function G3e(e){var t=Ah(e),r=cp(e);return[t,r,"n"]}function Y3e(e,t,r){return r==null&&(r=Ze(12)),Th(t,r),ah(e.v,r),r}function K3e(e){var t=Ao(e),r=uz(e);return[t,r,"n"]}function X3e(e,t,r){return r==null&&(r=Ze(12)),Eh(t,r),fz(e.v,r),r}function Q3e(e){var t=Ah(e),r=uz(e);return[t,r,"n"]}function Z3e(e,t,r){return r==null&&(r=Ze(8)),Th(t,r),fz(e.v,r),r}function J3e(e){var t=Ao(e),r=o4(e);return[t,r,"is"]}function eDe(e){var t=Ao(e),r=ka(e);return[t,r,"str"]}function tDe(e,t,r){return r==null&&(r=Ze(12+4*e.v.length)),Eh(t,r),Un(e.v,r),r.length>r.l?r.slice(0,r.l):r}function rDe(e){var t=Ah(e),r=ka(e);return[t,r,"str"]}function sDe(e,t,r){return r==null&&(r=Ze(8+4*e.v.length)),Th(t,r),Un(e.v,r),r.length>r.l?r.slice(0,r.l):r}function nDe(e,t,r){var s=e.l+t,a=Ao(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=hN(e,s-e.l,r);o[3]=k0(l,null,a,r.supbooks,r)}else e.l=s;return o}function aDe(e,t,r){var s=e.l+t,a=Ao(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=hN(e,s-e.l,r);o[3]=k0(l,null,a,r.supbooks,r)}else e.l=s;return o}function iDe(e,t,r){var s=e.l+t,a=Ao(e);a.r=r["!row"];var i=cp(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=hN(e,s-e.l,r);o[3]=k0(l,null,a,r.supbooks,r)}else e.l=s;return o}function oDe(e,t,r){var s=e.l+t,a=Ao(e);a.r=r["!row"];var i=ka(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=hN(e,s-e.l,r);o[3]=k0(l,null,a,r.supbooks,r)}else e.l=s;return o}var lDe=Ch,cDe=lp;function dDe(e,t){return t==null&&(t=Ze(4)),t.write_shift(4,e),t}function uDe(e,t){var r=e.l+t,s=Ch(e),a=l4(e),i=ka(e),o=ka(e),l=ka(e);e.l=r;var u={rfx:s,relId:a,loc:i,display:l};return o&&(u.Tooltip=o),u}function fDe(e,t){var r=Ze(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));lp({s:$n(e[0]),e:$n(e[0])},r),c4("rId"+t,r);var s=e[1].Target.indexOf("#"),a=s==-1?"":e[1].Target.slice(s+1);return Un(a||"",r),Un(e[1].Tooltip||"",r),Un("",r),r.slice(0,r.l)}function hDe(){}function mDe(e,t,r){var s=e.l+t,a=hz(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=r3e(e,s-e.l,r);o[1]=l}else e.l=s;return o}function pDe(e,t,r){var s=e.l+t,a=Ch(e),i=[a];if(r.cellFormula){var o=n3e(e,s-e.l,r);i[1]=o,e.l=s}else e.l=s;return i}function xDe(e,t,r){r==null&&(r=Ze(18));var s=mN(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(s.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof s.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Xz=["left","right","top","bottom","header","footer"];function gDe(e){var t={};return Xz.forEach(function(r){t[r]=cp(e)}),t}function yDe(e,t){return t==null&&(t=Ze(6*8)),Yz(e),Xz.forEach(function(r){ah(e[r],t)}),t}function vDe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function bDe(e,t,r){r==null&&(r=Ze(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function wDe(e){var t=Ze(24);return t.write_shift(4,4),t.write_shift(4,1),lp(e,t),t}function NDe(e,t){return t==null&&(t=Ze(16*4+2)),t.write_shift(2,e.password?Dz(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function jDe(){}function SDe(){}function EDe(e,t,r,s,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=vi(t),t.z=t.z||Qs[14],t.v=yi(Wa(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var u={r,c:s};switch(u.s=Wu(a.cellXfs,t,a),t.l&&i["!links"].push([os(u),t.l]),t.c&&i["!comments"].push([os(u),t.c]),t.t){case"s":case"str":return a.bookSST?(l=p4(a.Strings,t.v,a.revStrings),u.t="s",u.v=l,o?it(e,18,z3e(t,u)):it(e,7,V3e(t,u))):(u.t="str",o?it(e,17,sDe(t,u)):it(e,6,tDe(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?it(e,13,Z3e(t,u)):it(e,2,X3e(t,u)):o?it(e,16,Y3e(t,u)):it(e,5,W3e(t,u)),!0;case"b":return u.t="b",o?it(e,15,I3e(t,u)):it(e,4,P3e(t,u)),!0;case"e":return u.t="e",o?it(e,14,$3e(t,u)):it(e,3,L3e(t,u)),!0}return o?it(e,12,O3e(t,u)):it(e,1,k3e(t,u)),!0}function ADe(e,t,r,s){var a=Cs(t["!ref"]||"A1"),i,o="",l=[];it(e,145);var u=Array.isArray(t),f=a.e.r;t["!rows"]&&(f=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=f;++h){o=sa(h),j3e(e,t,a,h);var x=!1;if(h<=a.e.r)for(var p=a.s.c;p<=a.e.c;++p){h===a.s.r&&(l[p]=_a(p)),i=l[p]+o;var y=u?(t[h]||[])[p]:t[i];if(!y){x=!1;continue}x=EDe(e,y,h,p,s,t,x)}}it(e,146)}function TDe(e,t){!t||!t["!merges"]||(it(e,177,dDe(t["!merges"].length)),t["!merges"].forEach(function(r){it(e,176,cDe(r))}),it(e,178))}function CDe(e,t){!t||!t["!cols"]||(it(e,390),t["!cols"].forEach(function(r,s){r&&it(e,60,xDe(s,r))}),it(e,391))}function _De(e,t){!t||!t["!ref"]||(it(e,648),it(e,649,wDe(Cs(t["!ref"]))),it(e,650))}function kDe(e,t,r){t["!links"].forEach(function(s){if(s[1].Target){var a=as(r,-1,s[1].Target.replace(/#.*$/,""),Wr.HLINK);it(e,494,fDe(s,a))}}),delete t["!links"]}function DDe(e,t,r,s){if(t["!comments"].length>0){var a=as(s,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Wr.VML);it(e,551,c4("rId"+a)),t["!legacy"]=a}}function ODe(e,t,r,s){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:bn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=qi(i);l.s.r==l.e.r&&(l.e.r=qi(t["!ref"]).e.r,i=bn(l));for(var u=0;u<o.length;++u){var f=o[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==s){f.Ref="'"+r.SheetNames[s]+"'!"+i;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+i}),it(e,161,lp(Cs(i))),it(e,162)}}function RDe(e,t,r){it(e,133),it(e,137,bDe(t,r)),it(e,138),it(e,134)}function PDe(e,t){t["!protect"]&&it(e,535,NDe(t["!protect"]))}function MDe(e,t,r,s){var a=pi(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var u=Cs(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],it(a,129),(r.vbaraw||o["!outline"])&&it(a,147,C3e(l,o["!outline"])),it(a,148,E3e(u)),RDe(a,o,r.Workbook),CDe(a,o),ADe(a,o,e,t),PDe(a,o),ODe(a,o,r,e),TDe(a,o),kDe(a,o,s),o["!margins"]&&it(a,476,yDe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&_De(a,o),DDe(a,o,e,s),it(a,130),a.end()}function IDe(e,t){e.l+=10;var r=ka(e);return{name:r}}var FDe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function LDe(e){return!e.Workbook||!e.Workbook.WBProps?"false":pCe(e.Workbook.WBProps.date1904)?"true":"false"}var BDe="][*?/\\".split("");function Qz(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return BDe.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function $De(e,t,r){e.forEach(function(s,a){Qz(s);for(var i=0;i<a;++i)if(s==e[i])throw new Error("Duplicate Sheet Name: "+s);if(r){var o=t&&t[a]&&t[a].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function UDe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];$De(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)c3e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function Zz(e){var t=[wn];t[t.length]=bt("workbook",null,{xmlns:ip[0],"xmlns:r":Bn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(FDe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(s[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=bt("workbookPr",null,s);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:is(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=bt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var u={name:l.Name};l.Comment&&(u.comment=l.Comment),l.Sheet!=null&&(u.localSheetId=""+l.Sheet),l.Hidden&&(u.hidden="1"),l.Ref&&(t[t.length]=bt("definedName",is(l.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function VDe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=uT(e),r.name=ka(e),r}function qDe(e,t){return t||(t=Ze(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),c4(e.strRelID,t),Un(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function zDe(e,t){var r={},s=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ka(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function HDe(e,t){t||(t=Ze(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),dz(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function WDe(e,t,r){var s=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=LCe(e),o=s3e(e,0,r),l=l4(e);e.l=s;var u={Name:i,Ptg:o};return a<268435455&&(u.Sheet=a),l&&(u.Comment=l),u}function GDe(e,t){it(e,143);for(var r=0;r!=t.SheetNames.length;++r){var s=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:s,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};it(e,156,qDe(a))}it(e,144)}function YDe(e,t){t||(t=Ze(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Un("SheetJS",t),Un(Mb.version,t),Un(Mb.version,t),Un("7262",t),t.length>t.l?t.slice(0,t.l):t}function KDe(e,t){t||(t=Ze(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function XDe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,s=0,a=-1,i=-1;s<r.length;++s)!r[s]||!r[s].Hidden&&a==-1?a=s:r[s].Hidden==1&&i==-1&&(i=s);i>a||(it(e,135),it(e,158,KDe(a)),it(e,136))}}function QDe(e,t){var r=pi();return it(r,131),it(r,128,YDe()),it(r,153,HDe(e.Workbook&&e.Workbook.WBProps||null)),XDe(r,e),GDe(r,e),it(r,132),r.end()}function ZDe(e,t,r){return(t.slice(-4)===".bin"?QDe:Zz)(e)}function JDe(e,t,r,s,a){return(t.slice(-4)===".bin"?MDe:Kz)(e,r,s,a)}function eOe(e,t,r){return(t.slice(-4)===".bin"?y4e:Pz)(e,r)}function tOe(e,t,r){return(t.slice(-4)===".bin"?H_e:kz)(e,r)}function rOe(e,t,r){return(t.slice(-4)===".bin"?P4e:Bz)(e)}function sOe(e){return(e.slice(-4)===".bin"?A4e:Fz)()}function nOe(e,t){var r=[];return e.Props&&r.push(e_e(e.Props,t)),e.Custprops&&r.push(t_e(e.Props,e.Custprops)),r.join("")}function aOe(){return""}function iOe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,a){var i=[];i.push(bt("NumberFormat",null,{"ss:Format":is(Qs[s.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(bt("Style",i.join(""),o))}),bt("Styles",r.join(""))}function Jz(e){return bt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+h4(e.Ref,{r:0,c:0})})}function oOe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],s=0;s<t.length;++s){var a=t[s];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Jz(a)))}return bt("Names",r.join(""))}function lOe(e,t,r,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var a=s.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(Jz(l)))}return i.join("")}function cOe(e,t,r,s){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(bt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(bt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(bt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r])if(s.Workbook.Sheets[r].Hidden)a.push(bt("Visible",s.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(s.Workbook.Sheets[i]&&!s.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ta("ProtectContents","True")),e["!protect"].objects&&a.push(ta("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ta("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ta("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ta("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":bt("WorksheetOptions",a.join(""),{xmlns:Pi.x})}function dOe(e){return e.map(function(t){var r=mCe(t.t||""),s=bt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return bt("Comment",s,{"ss:Author":t.a})}).join("")}function uOe(e,t,r,s,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+is(h4(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var u=$n(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=is(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=is(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],h=0;h!=f.length;++h)f[h].s.c!=o.c||f[h].s.r!=o.r||(f[h].e.c>f[h].s.c&&(l["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(l["ss:MergeDown"]=f[h].e.r-f[h].s.r));var x="",p="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":x="Number",p=String(e.v);break;case"b":x="Boolean",p=e.v?"1":"0";break;case"e":x="Error",p=Oy[e.v];break;case"d":x="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Qs[14]);break;case"s":x="String",p=hCe(e.v||"");break}var y=Wu(s.cellXfs,e,s);l["ss:StyleID"]="s"+(21+y),l["ss:Index"]=o.c+1;var N=e.v!=null?p:"",b=e.t=="z"?"":'<Data ss:Type="'+x+'">'+N+"</Data>";return(e.c||[]).length>0&&(b+=dOe(e.c)),bt("Cell",b,l)}function fOe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Rz(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function hOe(e,t,r,s){if(!e["!ref"])return"";var a=Cs(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(w,j){u4(w);var S=!!w.width,A=mN(j,w),C={"ss:Index":j+1};S&&(C["ss:Width"]=zb(A.width)),w.hidden&&(C["ss:Hidden"]="1"),l.push(bt("Column",null,C))});for(var u=Array.isArray(e),f=a.s.r;f<=a.e.r;++f){for(var h=[fOe(f,(e["!rows"]||[])[f])],x=a.s.c;x<=a.e.c;++x){var p=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>x)&&!(i[o].s.r>f)&&!(i[o].e.c<x)&&!(i[o].e.r<f)){(i[o].s.c!=x||i[o].s.r!=f)&&(p=!0);break}if(!p){var y={r:f,c:x},N=os(y),b=u?(e[f]||[])[x]:e[N];h.push(uOe(b,N,e,t,r,s,y))}}h.push("</Row>"),h.length>2&&l.push(h.join(""))}return l.join("")}function mOe(e,t,r){var s=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?lOe(i,t,e,r):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=i?hOe(i,t,e,r):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(cOe(i,t,e,r)),s.join("")}function pOe(e,t){t||(t={}),e.SSF||(e.SSF=vi(Qs)),e.SSF&&(cN(),lN(e.SSF),t.revssf=dN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Wu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(nOe(e,t)),r.push(aOe()),r.push(""),r.push("");for(var s=0;s<e.SheetNames.length;++s)r.push(bt("Worksheet",mOe(s,t,e),{"ss:Name":is(e.SheetNames[s])}));return r[2]=iOe(e,t),r[3]=oOe(e),wn+bt("Workbook",r.join(""),{xmlns:Pi.ss,"xmlns:o":Pi.o,"xmlns:x":Pi.x,"xmlns:ss":Pi.ss,"xmlns:dt":Pi.dt,"xmlns:html":Pi.html})}var tE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function xOe(e,t){var r=[],s=[],a=[],i=0,o,l=o6(b6,"n"),u=o6(w6,"n");if(e.Props)for(o=na(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(u,o[i])?s:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=na(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(u,o[i])?s:a).push([o[i],e.Custprops[o[i]]]);var f=[];for(i=0;i<a.length;++i)jz.indexOf(a[i][0])>-1||bz.indexOf(a[i][0])>-1||a[i][1]!=null&&f.push(a[i]);s.length&&fs.utils.cfb_add(t,"/SummaryInformation",A6(s,tE.SI,u,w6)),(r.length||f.length)&&fs.utils.cfb_add(t,"/DocumentSummaryInformation",A6(r,tE.DSI,l,b6,f.length?f:null,tE.UDI))}function gOe(e,t){var r=t||{},s=fs.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return fs.utils.cfb_add(s,a,eH(e,r)),r.biff==8&&(e.Props||e.Custprops)&&xOe(e,s),r.biff==8&&e.vbaraw&&M4e(s,fs.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var yOe={0:{f:w3e},1:{f:_3e},2:{f:K3e},3:{f:F3e},4:{f:R3e},5:{f:H3e},6:{f:eDe},7:{f:U3e},8:{f:oDe},9:{f:iDe},10:{f:nDe},11:{f:aDe},12:{f:D3e},13:{f:Q3e},14:{f:B3e},15:{f:M3e},16:{f:G3e},17:{f:rDe},18:{f:q3e},19:{f:o4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:WDe},40:{},42:{},43:{f:e4e},44:{f:Z_e},45:{f:s4e},46:{f:a4e},47:{f:n4e},48:{},49:{f:DCe},50:{},51:{f:w4e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:O_e},62:{f:J3e},63:{f:T4e},64:{f:jDe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Jl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:vDe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:T3e},148:{f:S3e,p:16},151:{f:hDe},152:{},153:{f:zDe},154:{},155:{},156:{f:VDe},157:{},158:{},159:{T:1,f:V_e},160:{T:-1},161:{T:1,f:Ch},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:lDe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:v4e},336:{T:-1},337:{f:S4e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:uT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:A_e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:mDe},427:{f:pDe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:gDe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:A3e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:uDe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:uT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:O4e},633:{T:1},634:{T:-1},635:{T:1,f:k4e},636:{T:-1},637:{f:MCe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:IDe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:SDe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function wt(e,t,r,s){var a=t;if(!isNaN(a)){var i=s||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&n4(r)&&e.push(r)}}function vOe(e,t,r,s){var a=(r||[]).length||0;if(a<=8224)return wt(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,u=0,f=0;f+(o[l]||8224)<=8224;)f+=o[l]||8224,l++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f;u<a;){for(h=e.next(4),h.write_shift(2,60),f=0;f+(o[l]||8224)<=8224;)f+=o[l]||8224,l++;h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f}}}function Py(e,t,r){return e||(e=Ze(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function bOe(e,t,r,s){var a=Ze(9);return Py(a,e,t),Ez(r,s||"b",a),a}function wOe(e,t,r){var s=Ze(8+2*r.length);return Py(s,e,t),s.write_shift(1,r.length),s.write_shift(r.length,r,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function NOe(e,t,r,s){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?yi(Wa(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?wt(e,2,I_e(r,s,a)):wt(e,3,M_e(r,s,a));return;case"b":case"e":wt(e,5,bOe(r,s,t.v,t.t));return;case"s":case"str":wt(e,4,wOe(r,s,(t.v||"").slice(0,255)));return}wt(e,1,Py(null,r,s))}function jOe(e,t,r,s){var a=Array.isArray(t),i=Cs(t["!ref"]||"A1"),o,l="",u=[];if(i.e.c>255||i.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=bn(i)}for(var f=i.s.r;f<=i.e.r;++f){l=sa(f);for(var h=i.s.c;h<=i.e.c;++h){f===i.s.r&&(u[h]=_a(h)),o=u[h]+l;var x=a?(t[f]||[])[h]:t[o];x&&NOe(e,x,f,h)}}}function SOe(e,t){for(var r=t||{},s=pi(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return wt(s,r.biff==4?1033:r.biff==3?521:9,d4(e,16,r)),jOe(s,e.Sheets[e.SheetNames[a]],a,r),wt(s,10),s.end()}function EOe(e,t,r){wt(e,49,y_e({sz:12,name:"Arial"},r))}function AOe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&wt(e,1054,w_e(a,t[a],r))})}function TOe(e,t){var r=Ze(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),wt(e,2151,r),r=Ze(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Cz(Cs(t["!ref"]||"A1"),r),r.write_shift(4,4),wt(e,2152,r)}function COe(e,t){for(var r=0;r<16;++r)wt(e,224,C6({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){wt(e,224,C6(s,0,t))})}function _Oe(e,t){for(var r=0;r<t["!links"].length;++r){var s=t["!links"][r];wt(e,440,__e(s)),s[1].Tooltip&&wt(e,2048,k_e(s))}delete t["!links"]}function kOe(e,t){if(t){var r=0;t.forEach(function(s,a){++r<=256&&s&&wt(e,125,R_e(mN(a,s),a))})}}function DOe(e,t,r,s,a){var i=16+Wu(a.cellXfs,t,a);if(t.v==null&&!t.bf){wt(e,513,ih(r,s,i));return}if(t.bf)wt(e,6,t3e(t,r,s,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?yi(Wa(t.v)):t.v;wt(e,515,E_e(r,s,o,i));break;case"b":case"e":wt(e,517,S_e(r,s,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=p4(a.Strings,t.v,a.revStrings);wt(e,253,v_e(r,s,l,i))}else wt(e,516,b_e(r,s,(t.v||"").slice(0,255),i,a));break;default:wt(e,513,ih(r,s,i))}}function OOe(e,t,r){var s=pi(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},u=Array.isArray(i),f=t.biff==8,h,x="",p=[],y=Cs(i["!ref"]||"A1"),N=f?65536:16384;if(y.e.c>255||y.e.r>=N){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,N-1)}wt(s,2057,d4(r,16,t)),wt(s,13,co(1)),wt(s,12,co(100)),wt(s,15,Ua(!0)),wt(s,17,Ua(!1)),wt(s,16,ah(.001)),wt(s,95,Ua(!0)),wt(s,42,Ua(!1)),wt(s,43,Ua(!1)),wt(s,130,co(1)),wt(s,128,j_e()),wt(s,131,Ua(!1)),wt(s,132,Ua(!1)),f&&kOe(s,i["!cols"]),wt(s,512,N_e(y,t)),f&&(i["!links"]=[]);for(var b=y.s.r;b<=y.e.r;++b){x=sa(b);for(var w=y.s.c;w<=y.e.c;++w){b===y.s.r&&(p[w]=_a(w)),h=p[w]+x;var j=u?(i[b]||[])[w]:i[h];j&&(DOe(s,j,b,w,t),f&&j.l&&i["!links"].push([h,j.l]))}}var S=l.CodeName||l.name||a;return f&&wt(s,574,g_e((o.Views||[])[0])),f&&(i["!merges"]||[]).length&&wt(s,229,C_e(i["!merges"])),f&&_Oe(s,i),wt(s,442,Tz(S)),f&&TOe(s,i),wt(s,10),s.end()}function ROe(e,t,r){var s=pi(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,u=r.biff==5;if(wt(s,2057,d4(e,5,r)),r.bookType=="xla"&&wt(s,135),wt(s,225,l?co(1200):null),wt(s,193,n_e(2)),u&&wt(s,191),u&&wt(s,192),wt(s,226),wt(s,92,h_e("SheetJS",r)),wt(s,66,co(l?1200:1252)),l&&wt(s,353,co(0)),l&&wt(s,448),wt(s,317,P_e(e.SheetNames.length)),l&&e.vbaraw&&wt(s,211),l&&e.vbaraw){var f=o.CodeName||"ThisWorkbook";wt(s,442,Tz(f))}wt(s,156,co(17)),wt(s,25,Ua(!1)),wt(s,18,Ua(!1)),wt(s,19,co(0)),l&&wt(s,431,Ua(!1)),l&&wt(s,444,co(0)),wt(s,61,x_e()),wt(s,64,Ua(!1)),wt(s,141,co(0)),wt(s,34,Ua(LDe(e)=="true")),wt(s,14,Ua(!0)),l&&wt(s,439,Ua(!1)),wt(s,218,co(0)),EOe(s,e,r),AOe(s,e.SSF,r),COe(s,r),l&&wt(s,352,Ua(!1));var h=s.end(),x=pi();l&&wt(x,140,D_e()),l&&r.Strings&&vOe(x,252,p_e(r.Strings)),wt(x,10);var p=x.end(),y=pi(),N=0,b=0;for(b=0;b<e.SheetNames.length;++b)N+=(l?12:11)+(l?2:1)*e.SheetNames[b].length;var w=h.length+N+p.length;for(b=0;b<e.SheetNames.length;++b){var j=i[b]||{};wt(y,133,m_e({pos:w,hs:j.Hidden||0,dt:0,name:e.SheetNames[b]},r)),w+=t[b].length}var S=y.end();if(N!=S.length)throw new Error("BS8 "+N+" != "+S.length);var A=[];return h.length&&A.push(h),S.length&&A.push(S),p.length&&A.push(p),ea(A)}function POe(e,t){var r=t||{},s=[];e&&!e.SSF&&(e.SSF=vi(Qs)),e&&e.SSF&&(cN(),lN(e.SSF),r.revssf=dN(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,x4(r),r.cellXfs=[],Wu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)s[s.length]=OOe(a,r,e);return s.unshift(ROe(e,s,r)),ea(s)}function eH(e,t){for(var r=0;r<=e.SheetNames.length;++r){var s=e.Sheets[e.SheetNames[r]];if(!(!s||!s["!ref"])){var a=qi(s["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return POe(e,t);case 4:case 3:case 2:return SOe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function MOe(e,t,r,s){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,u=0,f=0;f<a.length;++f)if(!(a[f].s.r>r||a[f].s.c>o)&&!(a[f].e.r<r||a[f].e.c<o)){if(a[f].s.r<r||a[f].s.c<o){l=-1;break}l=a[f].e.r-a[f].s.r+1,u=a[f].e.c-a[f].s.c+1;break}if(!(l<0)){var h=os({r,c:o}),x=s.dense?(e[r]||[])[o]:e[h],p=x&&x.v!=null&&(x.h||fCe(x.w||(ed(x),x.w)||""))||"",y={};l>1&&(y.rowspan=l),u>1&&(y.colspan=u),s.editable?p='<span contenteditable="true">'+p+"</span>":x&&(y["data-t"]=x&&x.t||"z",x.v!=null&&(y["data-v"]=x.v),x.z!=null&&(y["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+x.l.Target+'">'+p+"</a>")),y.id=(s.id||"sjs")+"-"+h,i.push(bt("td",p,y))}}var N="<tr>";return N+i.join("")+"</tr>"}var IOe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',FOe="</body></html>";function LOe(e,t,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function tH(e,t){var r=t||{},s=r.header!=null?r.header:IOe,a=r.footer!=null?r.footer:FOe,i=[s],o=qi(e["!ref"]);r.dense=Array.isArray(e),i.push(LOe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(MOe(e,o,l,r));return i.push("</table>"+a),i.join("")}function rH(e,t,r){var s=r||{},a=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?$n(s.origin):s.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),u=Math.min(s.sheetRows||1e7,l.length),f={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=qi(e["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),a==-1&&(f.e.r=a=h.e.r+1)}var x=[],p=0,y=e["!rows"]||(e["!rows"]=[]),N=0,b=0,w=0,j=0,S=0,A=0;for(e["!cols"]||(e["!cols"]=[]);N<l.length&&b<u;++N){var C=l[N];if(M6(C)){if(s.display)continue;y[b]={hidden:!0}}var T=C.children;for(w=j=0;w<T.length;++w){var D=T[w];if(!(s.display&&M6(D))){var _=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):xCe(D.innerHTML),O=D.getAttribute("data-z")||D.getAttribute("z");for(p=0;p<x.length;++p){var P=x[p];P.s.c==j+i&&P.s.r<b+a&&b+a<=P.e.r&&(j=P.e.c+1-i,p=-1)}A=+D.getAttribute("colspan")||1,((S=+D.getAttribute("rowspan")||1)>1||A>1)&&x.push({s:{r:b+a,c:j+i},e:{r:b+a+(S||1)-1,c:j+i+(A||1)-1}});var B={t:"s",v:_},I=D.getAttribute("data-t")||D.getAttribute("t")||"";_!=null&&(_.length==0?B.t=I||"z":s.raw||_.trim().length==0||I=="s"||(_==="TRUE"?B={t:"b",v:!0}:_==="FALSE"?B={t:"b",v:!1}:isNaN(Bc(_))?isNaN(Fg(_).getDate())||(B={t:"d",v:Wa(_)},s.cellDates||(B={t:"n",v:yi(B.v)}),B.z=s.dateNF||Qs[14]):B={t:"n",v:Bc(_)})),B.z===void 0&&O!=null&&(B.z=O);var G="",z=D.getElementsByTagName("A");if(z&&z.length)for(var ae=0;ae<z.length&&!(z[ae].hasAttribute("href")&&(G=z[ae].getAttribute("href"),G.charAt(0)!="#"));++ae);G&&G.charAt(0)!="#"&&(B.l={Target:G}),s.dense?(e[b+a]||(e[b+a]=[]),e[b+a][j+i]=B):e[os({c:j+i,r:b+a})]=B,f.e.c<j+i&&(f.e.c=j+i),j+=A}}++b}return x.length&&(e["!merges"]=(e["!merges"]||[]).concat(x)),f.e.r=Math.max(f.e.r,b-1+a),e["!ref"]=bn(f),b>=u&&(e["!fullref"]=bn((f.e.r=l.length-N+b-1+a,f))),e}function sH(e,t){var r=t||{},s=r.dense?[]:{};return rH(s,e,t)}function BOe(e,t){return Sh(sH(e,t),t)}function M6(e){var t="",r=$Oe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function $Oe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var UOe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Bg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return wn+t}}(),I6=function(){var e=function(i){return is(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,s=function(i,o,l){var u=[];u.push('      <table:table table:name="'+is(o.SheetNames[l])+`" table:style-name="ta1">
`);var f=0,h=0,x=qi(i["!ref"]||"A1"),p=i["!merges"]||[],y=0,N=Array.isArray(i);if(i["!cols"])for(h=0;h<=x.e.c;++h)u.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var b="",w=i["!rows"]||[];for(f=0;f<x.s.r;++f)b=w[f]?' table:style-name="ro'+w[f].ods+'"':"",u.push("        <table:table-row"+b+`></table:table-row>
`);for(;f<=x.e.r;++f){for(b=w[f]?' table:style-name="ro'+w[f].ods+'"':"",u.push("        <table:table-row"+b+`>
`),h=0;h<x.s.c;++h)u.push(t);for(;h<=x.e.c;++h){var j=!1,S={},A="";for(y=0;y!=p.length;++y)if(!(p[y].s.c>h)&&!(p[y].s.r>f)&&!(p[y].e.c<h)&&!(p[y].e.r<f)){(p[y].s.c!=h||p[y].s.r!=f)&&(j=!0),S["table:number-columns-spanned"]=p[y].e.c-p[y].s.c+1,S["table:number-rows-spanned"]=p[y].e.r-p[y].s.r+1;break}if(j){u.push(r);continue}var C=os({r:f,c:h}),T=N?(i[f]||[])[h]:i[C];if(T&&T.f&&(S["table:formula"]=is(o3e(T.f)),T.F&&T.F.slice(0,C.length)==C)){var D=qi(T.F);S["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,S["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!T){u.push(t);continue}switch(T.t){case"b":A=T.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=T.v?"true":"false";break;case"n":A=T.w||String(T.v||0),S["office:value-type"]="float",S["office:value"]=T.v||0;break;case"s":case"str":A=T.v==null?"":T.v,S["office:value-type"]="string";break;case"d":A=T.w||Wa(T.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=Wa(T.v).toISOString(),S["table:style-name"]="ce1";break;default:u.push(t);continue}var _=e(A);if(T.l&&T.l.Target){var O=T.l.Target;O=O.charAt(0)=="#"?"#"+l3e(O.slice(1)):O,O.charAt(0)!="#"&&!O.match(/^\w+:/)&&(O="../"+O),_=bt("text:a",_,{"xlink:href":O.replace(/&/g,"&amp;")})}u.push("          "+bt("table:table-cell",bt("text:p",_,{}),S)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var x=f["!cols"][h];if(x.width==null&&x.wpx==null&&x.wch==null)continue;u4(x),x.ods=l;var p=f["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++l}}});var u=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=u;var x=f["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var u=[wn],f=Bg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Bg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(u.push("<office:document"+f+h+`>
`),u.push(yz().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),a(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var x=0;x!=o.SheetNames.length;++x)u.push(s(o.Sheets[o.SheetNames[x]],o,x));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),l.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function nH(e,t){if(t.bookType=="fods")return I6(e,t);var r=e4(),s="",a=[],i=[];return s="mimetype",yr(r,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",yr(r,s,I6(e,t)),a.push([s,"text/xml"]),i.push([s,"ContentFile"]),s="styles.xml",yr(r,s,UOe(e,t)),a.push([s,"text/xml"]),i.push([s,"StylesFile"]),s="meta.xml",yr(r,s,wn+yz()),a.push([s,"text/xml"]),i.push([s,"MetadataFile"]),s="manifest.rdf",yr(r,s,JCe(i)),a.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",yr(r,s,QCe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gb(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function VOe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ko(Lg(e))}function qOe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var s=0;s<t.length;++s)if(e[r+s]!=t[s])continue e;return!0}return!1}function Fu(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),s=0;return e.forEach(function(a){r.set(a,s),s+=a.length}),r}function zOe(e,t,r){var s=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(s&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function $g(e,t){var r=t?t[0]:0,s=e[r]&127;e:if(e[r++]>=128&&(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),s}function ss(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function e0(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function _n(e){for(var t=[],r=[0];r[0]<e.length;){var s=r[0],a=$g(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var u=r[0];e[r[0]++]>=128;);l=e.slice(u,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=$g(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var f={data:l,type:i};t[a]==null?t[a]=[f]:t[a].push(f)}return t}function Kn(e){var t=[];return e.forEach(function(r,s){r.forEach(function(a){a.data&&(t.push(ss(s*8+a.type)),a.type==2&&t.push(ss(a.data.length)),t.push(a.data))})}),Fu(t)}function Fo(e){for(var t,r=[],s=[0];s[0]<e.length;){var a=$g(e,s),i=_n(e.slice(s[0],s[0]+a));s[0]+=a;var o={id:e0(i[1][0].data),messages:[]};i[2].forEach(function(l){var u=_n(l.data),f=e0(u[3][0].data);o.messages.push({meta:u,data:e.slice(s[0],s[0]+f)}),s[0]+=f}),(t=i[3])!=null&&t[0]&&(o.merge=e0(i[3][0].data)>>>0>0),r.push(o)}return r}function xm(e){var t=[];return e.forEach(function(r){var s=[];s[1]=[{data:ss(r.id),type:0}],s[2]=[],r.merge!=null&&(s[3]=[{data:ss(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:ss(o.data.length)}],s[2].push({data:Kn(o.meta),type:2})});var i=Kn(s);t.push(ss(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Fu(t)}function HOe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],s=$g(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var u=0,f=0;if(i==1?(f=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,i==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Fu(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(a.push(a[0].slice(-u)),f-=u;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-u,-u+f))}}var h=Fu(a);if(h.length!=s)throw new Error("Unexpected length: ".concat(h.length," != ").concat(s));return h}function Lo(e){for(var t=[],r=0;r<e.length;){var s=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(HOe(s,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Fu(t)}function gm(e){for(var t=[],r=0;r<e.length;){var s=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=ss(s),o=i.length;t.push(i),s<=60?(o++,t.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(r,r+s)),o+=s,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=s}return Fu(t)}function rE(e,t){var r=new Uint8Array(32),s=Gb(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,zOe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,s.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,i,!0),r.slice(0,a)}function sE(e,t){var r=new Uint8Array(32),s=Gb(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,s.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,s.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,i,!0),r.slice(0,a)}function zd(e){var t=_n(e);return $g(t[1][0].data)}function WOe(e,t,r){var s,a,i,o;if(!((s=e[6])!=null&&s[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&e0(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var u=0,f=Gb(e[7][0].data),h=0,x=[],p=Gb(e[4][0].data),y=0,N=[],b=0;b<t.length;++b){if(t[b]==null){f.setUint16(b*2,65535,!0),p.setUint16(b*2,65535);continue}f.setUint16(b*2,h,!0),p.setUint16(b*2,y,!0);var w,j;switch(typeof t[b]){case"string":w=rE({t:"s",v:t[b]},r),j=sE({t:"s",v:t[b]},r);break;case"number":w=rE({t:"n",v:t[b]},r),j=sE({t:"n",v:t[b]},r);break;case"boolean":w=rE({t:"b",v:t[b]},r),j=sE({t:"b",v:t[b]},r);break;default:throw new Error("Unsupported value "+t[b])}x.push(w),h+=w.length,N.push(j),y+=j.length,++u}for(e[2][0].data=ss(u);b<e[7][0].data.length/2;++b)f.setUint16(b*2,65535,!0),p.setUint16(b*2,65535,!0);return e[6][0].data=Fu(x),e[3][0].data=Fu(N),u}function GOe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=qi(r["!ref"]);s.s.r=s.s.c=0;var a=!1;s.e.c>9&&(a=!0,s.e.c=9),s.e.r>49&&(a=!0,s.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(bn(s)));var i=Yb(r,{range:s,header:1}),o=["~Sh33tJ5~"];i.forEach(function(W){return W.forEach(function(K){typeof K=="string"&&o.push(K)})});var l={},u=[],f=fs.read(t.numbers,{type:"base64"});f.FileIndex.map(function(W,K){return[W,f.FullPaths[K]]}).forEach(function(W){var K=W[0],V=W[1];if(K.type==2&&K.name.match(/\.iwa/)){var Q=K.content,ie=Lo(Q),xe=Fo(ie);xe.forEach(function(ue){u.push(ue.id),l[ue.id]={deps:[],location:V,type:e0(ue.messages[0].meta[1][0].data)}})}}),u.sort(function(W,K){return W-K});var h=u.filter(function(W){return W>1}).map(function(W){return[W,ss(W)]});f.FileIndex.map(function(W,K){return[W,f.FullPaths[K]]}).forEach(function(W){var K=W[0];if(W[1],!!K.name.match(/\.iwa/)){var V=Fo(Lo(K.content));V.forEach(function(Q){Q.messages.forEach(function(ie){h.forEach(function(xe){Q.messages.some(function(ue){return e0(ue.meta[1][0].data)!=11006&&qOe(ue.data,xe[1])})&&l[xe[0]].deps.push(Q.id)})})})}});for(var x=fs.find(f,l[1].location),p=Fo(Lo(x.content)),y,N=0;N<p.length;++N){var b=p[N];b.id==1&&(y=b)}var w=zd(_n(y.messages[0].data)[1][0].data);for(x=fs.find(f,l[w].location),p=Fo(Lo(x.content)),N=0;N<p.length;++N)b=p[N],b.id==w&&(y=b);for(w=zd(_n(y.messages[0].data)[2][0].data),x=fs.find(f,l[w].location),p=Fo(Lo(x.content)),N=0;N<p.length;++N)b=p[N],b.id==w&&(y=b);for(w=zd(_n(y.messages[0].data)[2][0].data),x=fs.find(f,l[w].location),p=Fo(Lo(x.content)),N=0;N<p.length;++N)b=p[N],b.id==w&&(y=b);var j=_n(y.messages[0].data);{j[6][0].data=ss(s.e.r+1),j[7][0].data=ss(s.e.c+1);var S=zd(j[46][0].data),A=fs.find(f,l[S].location),C=Fo(Lo(A.content));{for(var T=0;T<C.length&&C[T].id!=S;++T);if(C[T].id!=S)throw"Bad ColumnRowUIDMapArchive";var D=_n(C[T].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var _=0;_<=s.e.c;++_){var O=[];O[1]=O[2]=[{type:0,data:ss(_+420690)}],D[1].push({type:2,data:Kn(O)}),D[2].push({type:0,data:ss(_)}),D[3].push({type:0,data:ss(_)})}D[4]=[],D[5]=[],D[6]=[];for(var P=0;P<=s.e.r;++P)O=[],O[1]=O[2]=[{type:0,data:ss(P+726270)}],D[4].push({type:2,data:Kn(O)}),D[5].push({type:0,data:ss(P)}),D[6].push({type:0,data:ss(P)});C[T].messages[0].data=Kn(D)}A.content=gm(xm(C)),A.size=A.content.length,delete j[46];var B=_n(j[4][0].data);{B[7][0].data=ss(s.e.r+1);var I=_n(B[1][0].data),G=zd(I[2][0].data);A=fs.find(f,l[G].location),C=Fo(Lo(A.content));{if(C[0].id!=G)throw"Bad HeaderStorageBucket";var z=_n(C[0].messages[0].data);for(P=0;P<i.length;++P){var ae=_n(z[2][0].data);ae[1][0].data=ss(P),ae[4][0].data=ss(i[P].length),z[2][P]={type:z[2][0].type,data:Kn(ae)}}C[0].messages[0].data=Kn(z)}A.content=gm(xm(C)),A.size=A.content.length;var J=zd(B[2][0].data);A=fs.find(f,l[J].location),C=Fo(Lo(A.content));{if(C[0].id!=J)throw"Bad HeaderStorageBucket";for(z=_n(C[0].messages[0].data),_=0;_<=s.e.c;++_)ae=_n(z[2][0].data),ae[1][0].data=ss(_),ae[4][0].data=ss(s.e.r+1),z[2][_]={type:z[2][0].type,data:Kn(ae)};C[0].messages[0].data=Kn(z)}A.content=gm(xm(C)),A.size=A.content.length;var L=zd(B[4][0].data);(function(){for(var W=fs.find(f,l[L].location),K=Fo(Lo(W.content)),V,Q=0;Q<K.length;++Q){var ie=K[Q];ie.id==L&&(V=ie)}var xe=_n(V.messages[0].data);{xe[3]=[];var ue=[];o.forEach(function(Ne,ot){ue[1]=[{type:0,data:ss(ot)}],ue[2]=[{type:0,data:ss(1)}],ue[3]=[{type:2,data:VOe(Ne)}],xe[3].push({type:2,data:Kn(ue)})})}V.messages[0].data=Kn(xe);var de=xm(K),De=gm(de);W.content=De,W.size=W.content.length})();var U=_n(B[3][0].data);{var F=U[1][0];delete U[2];var X=_n(F.data);{var q=zd(X[2][0].data);(function(){for(var W=fs.find(f,l[q].location),K=Fo(Lo(W.content)),V,Q=0;Q<K.length;++Q){var ie=K[Q];ie.id==q&&(V=ie)}var xe=_n(V.messages[0].data);{delete xe[6],delete U[7];var ue=new Uint8Array(xe[5][0].data);xe[5]=[];for(var de=0,De=0;De<=s.e.r;++De){var Ne=_n(ue);de+=WOe(Ne,i[De],o),Ne[1][0].data=ss(De),xe[5].push({data:Kn(Ne),type:2})}xe[1]=[{type:0,data:ss(s.e.c+1)}],xe[2]=[{type:0,data:ss(s.e.r+1)}],xe[3]=[{type:0,data:ss(de)}],xe[4]=[{type:0,data:ss(s.e.r+1)}]}V.messages[0].data=Kn(xe);var ot=xm(K),Ee=gm(ot);W.content=Ee,W.size=W.content.length})()}F.data=Kn(X)}B[3][0].data=Kn(U)}j[4][0].data=Kn(B)}y.messages[0].data=Kn(j);var te=xm(p),M=gm(te);return x.content=M,x.size=x.content.length,f}function YOe(e){return function(r){for(var s=0;s!=e.length;++s){var a=e[s];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function x4(e){YOe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function KOe(e,t){return t.bookType=="ods"?nH(e,t):t.bookType=="numbers"?GOe(e,t):t.bookType=="xlsb"?XOe(e,t):QOe(e,t)}function XOe(e,t){Fm=1024,e&&!e.SSF&&(e.SSF=vi(Qs)),e&&e.SSF&&(cN(),lN(e.SSF),t.revssf=dN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,qx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",s=$z.indexOf(t.bookType)>-1,a=pz();x4(t=t||{});var i=e4(),o="",l=0;if(t.cellXfs=[],Wu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",yr(i,o,vz(e.Props,t)),a.coreprops.push(o),as(t.rels,2,o,Wr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,yr(i,o,wz(e.Props)),a.extprops.push(o),as(t.rels,3,o,Wr.EXT_PROPS),e.Custprops!==e.Props&&na(e.Custprops||{}).length>0&&(o="docProps/custom.xml",yr(i,o,Nz(e.Custprops)),a.custprops.push(o),as(t.rels,4,o,Wr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},x=e.Sheets[e.SheetNames[l-1]],p=(x||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,yr(i,o,JDe(l-1,o,t,e,h)),a.sheets.push(o),as(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Wr.WS[0])}if(x){var y=x["!comments"],N=!1,b="";y&&y.length>0&&(b="xl/comments"+l+"."+r,yr(i,b,rOe(y,b)),a.comments.push(b),as(h,-1,"../comments"+l+"."+r,Wr.CMNT),N=!0),x["!legacy"]&&N&&yr(i,"xl/drawings/vmlDrawing"+l+".vml",Lz(l,x["!comments"])),delete x["!comments"],delete x["!legacy"]}h["!id"].rId1&&yr(i,gz(o),Zm(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,yr(i,o,tOe(t.Strings,o,t)),a.strs.push(o),as(t.wbrels,-1,"sharedStrings."+r,Wr.SST)),o="xl/workbook."+r,yr(i,o,ZDe(e,o)),a.workbooks.push(o),as(t.rels,1,o,Wr.WB),o="xl/theme/theme1.xml",yr(i,o,Iz(e.Themes,t)),a.themes.push(o),as(t.wbrels,-1,"theme/theme1.xml",Wr.THEME),o="xl/styles."+r,yr(i,o,eOe(e,o,t)),a.styles.push(o),as(t.wbrels,-1,"styles."+r,Wr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",yr(i,o,e.vbaraw),a.vba.push(o),as(t.wbrels,-1,"vbaProject.bin",Wr.VBA)),o="xl/metadata."+r,yr(i,o,sOe(o)),a.metadata.push(o),as(t.wbrels,-1,"metadata."+r,Wr.XLMETA),yr(i,"[Content_Types].xml",xz(a,t)),yr(i,"_rels/.rels",Zm(t.rels)),yr(i,"xl/_rels/workbook."+r+".rels",Zm(t.wbrels)),delete t.revssf,delete t.ssf,i}function QOe(e,t){Fm=1024,e&&!e.SSF&&(e.SSF=vi(Qs)),e&&e.SSF&&(cN(),lN(e.SSF),t.revssf=dN(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,qx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",s=$z.indexOf(t.bookType)>-1,a=pz();x4(t=t||{});var i=e4(),o="",l=0;if(t.cellXfs=[],Wu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",yr(i,o,vz(e.Props,t)),a.coreprops.push(o),as(t.rels,2,o,Wr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,yr(i,o,wz(e.Props)),a.extprops.push(o),as(t.rels,3,o,Wr.EXT_PROPS),e.Custprops!==e.Props&&na(e.Custprops||{}).length>0&&(o="docProps/custom.xml",yr(i,o,Nz(e.Custprops)),a.custprops.push(o),as(t.rels,4,o,Wr.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var x={"!id":{}},p=e.Sheets[e.SheetNames[l-1]],y=(p||{})["!type"]||"sheet";switch(y){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,yr(i,o,Kz(l-1,t,e,x)),a.sheets.push(o),as(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Wr.WS[0])}if(p){var N=p["!comments"],b=!1,w="";if(N&&N.length>0){var j=!1;N.forEach(function(S){S[1].forEach(function(A){A.T==!0&&(j=!0)})}),j&&(w="xl/threadedComments/threadedComment"+l+"."+r,yr(i,w,C4e(N,h,t)),a.threadedcomments.push(w),as(x,-1,"../threadedComments/threadedComment"+l+"."+r,Wr.TCMNT)),w="xl/comments"+l+"."+r,yr(i,w,Bz(N)),a.comments.push(w),as(x,-1,"../comments"+l+"."+r,Wr.CMNT),b=!0}p["!legacy"]&&b&&yr(i,"xl/drawings/vmlDrawing"+l+".vml",Lz(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}x["!id"].rId1&&yr(i,gz(o),Zm(x))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,yr(i,o,kz(t.Strings,t)),a.strs.push(o),as(t.wbrels,-1,"sharedStrings."+r,Wr.SST)),o="xl/workbook."+r,yr(i,o,Zz(e)),a.workbooks.push(o),as(t.rels,1,o,Wr.WB),o="xl/theme/theme1.xml",yr(i,o,Iz(e.Themes,t)),a.themes.push(o),as(t.wbrels,-1,"theme/theme1.xml",Wr.THEME),o="xl/styles."+r,yr(i,o,Pz(e,t)),a.styles.push(o),as(t.wbrels,-1,"styles."+r,Wr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",yr(i,o,e.vbaraw),a.vba.push(o),as(t.wbrels,-1,"vbaProject.bin",Wr.VBA)),o="xl/metadata."+r,yr(i,o,Fz()),a.metadata.push(o),as(t.wbrels,-1,"metadata."+r,Wr.XLMETA),h.length>1&&(o="xl/persons/person.xml",yr(i,o,_4e(h)),a.people.push(o),as(t.wbrels,-1,"persons/person.xml",Wr.PEOPLE)),yr(i,"[Content_Types].xml",xz(a,t)),yr(i,"_rels/.rels",Zm(t.rels)),yr(i,"xl/_rels/workbook."+r+".rels",Zm(t.wbrels)),delete t.revssf,delete t.ssf,i}function ZOe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Jc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function aH(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return ky(t.file,fs.write(e,{type:Qr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return fs.write(e,t)}function JOe(e,t){var r=vi(t||{}),s=KOe(e,r);return e5e(s,r)}function e5e(e,t){var r={},s=Qr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=s;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?fs.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(oN(a))}return t.password&&typeof encrypt_agile<"u"?aH(encrypt_agile(a,t.password),t):t.type==="file"?ky(t.file,a):t.type=="string"?Bx(a):a}function t5e(e,t){var r=t||{},s=gOe(e,r);return aH(s,r)}function Ol(e,t,r){r||(r="");var s=r+e;switch(t.type){case"base64":return Ig(Lg(s));case"binary":return Lg(s);case"string":return e;case"file":return ky(t.file,s,"utf8");case"buffer":return Qr?cd(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):Ol(s,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function r5e(e,t){switch(t.type){case"base64":return Ig(e);case"binary":return e;case"string":return e;case"file":return ky(t.file,e,"binary");case"buffer":return Qr?cd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function w1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",s=0;s<e.length;++s)r+=String.fromCharCode(e[s]);return t.type=="base64"?Ig(r):t.type=="string"?Bx(r):r;case"file":return ky(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function iH(e,t){kTe(),UDe(e);var r=vi(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var s=iH(e,r);return r.type="array",oN(s)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ol(pOe(e,r),r);case"slk":case"sylk":return Ol(L_e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ol(tH(e.Sheets[e.SheetNames[a]],r),r);case"txt":return r5e(oH(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ol(g4(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ol(B_e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return w1(F_e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ol($_e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ol(G_e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ol(_z.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ol(nH(e,r),r);case"wk1":return w1(_6.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return w1(_6.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),w1(eH(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),t5e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return JOe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function s5e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function n5e(e,t,r){var s={};return s.type="file",s.file=t,s5e(s),iH(e,s)}function a5e(e,t,r,s,a,i,o,l){var u=sa(r),f=l.defval,h=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),x=!0,p=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!o||e[r])for(var y=t.s.c;y<=t.e.c;++y){var N=o?e[r][y]:e[s[y]+u];if(N===void 0||N.t===void 0){if(f===void 0)continue;i[y]!=null&&(p[i[y]]=f);continue}var b=N.v;switch(N.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+N.t)}if(i[y]!=null){if(b==null)if(N.t=="e"&&b===null)p[i[y]]=null;else if(f!==void 0)p[i[y]]=f;else if(h&&b===null)p[i[y]]=null;else continue;else p[i[y]]=h&&(N.t!=="n"||N.t==="n"&&l.rawNumbers!==!1)?b:ed(N,b,l);b!=null&&(x=!1)}}return{row:p,isempty:x}}function Yb(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},s=0,a=1,i=[],o=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},h=f.range!=null?f.range:e["!ref"];switch(f.header===1?s=1:f.header==="A"?s=2:Array.isArray(f.header)?s=3:f.header==null&&(s=0),typeof h){case"string":u=Cs(h);break;case"number":u=Cs(e["!ref"]),u.s.r=h;break;default:u=h}s>0&&(a=0);var x=sa(u.s.r),p=[],y=[],N=0,b=0,w=Array.isArray(e),j=u.s.r,S=0,A={};w&&!e[j]&&(e[j]=[]);var C=f.skipHidden&&e["!cols"]||[],T=f.skipHidden&&e["!rows"]||[];for(S=u.s.c;S<=u.e.c;++S)if(!(C[S]||{}).hidden)switch(p[S]=_a(S),r=w?e[j][S]:e[p[S]+x],s){case 1:i[S]=S-u.s.c;break;case 2:i[S]=p[S];break;case 3:i[S]=f.header[S-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=ed(r,null,f),b=A[o]||0,!b)A[o]=1;else{do l=o+"_"+b++;while(A[l]);A[o]=b,A[l]=1}i[S]=l}for(j=u.s.r+a;j<=u.e.r;++j)if(!(T[j]||{}).hidden){var D=a5e(e,u,j,p,s,i,w,f);(D.isempty===!1||(s===1?f.blankrows!==!1:f.blankrows))&&(y[N++]=D.row)}return y.length=N,y}var F6=/"/g;function i5e(e,t,r,s,a,i,o,l){for(var u=!0,f=[],h="",x=sa(r),p=t.s.c;p<=t.e.c;++p)if(s[p]){var y=l.dense?(e[r]||[])[p]:e[s[p]+x];if(y==null)h="";else if(y.v!=null){u=!1,h=""+(l.rawNumbers&&y.t=="n"?y.v:ed(y,null,l));for(var N=0,b=0;N!==h.length;++N)if((b=h.charCodeAt(N))===a||b===i||b===34||l.forceQuotes){h='"'+h.replace(F6,'""')+'"';break}h=="ID"&&(h='"ID"')}else y.f!=null&&!y.F?(u=!1,h="="+y.f,h.indexOf(",")>=0&&(h='"'+h.replace(F6,'""')+'"')):h="";f.push(h)}return l.blankrows===!1&&u?null:f.join(o)}function g4(e,t){var r=[],s=t??{};if(e==null||e["!ref"]==null)return"";var a=Cs(e["!ref"]),i=s.FS!==void 0?s.FS:",",o=i.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,u=l.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),h="",x=[];s.dense=Array.isArray(e);for(var p=s.skipHidden&&e["!cols"]||[],y=s.skipHidden&&e["!rows"]||[],N=a.s.c;N<=a.e.c;++N)(p[N]||{}).hidden||(x[N]=_a(N));for(var b=0,w=a.s.r;w<=a.e.r;++w)(y[w]||{}).hidden||(h=i5e(e,a,w,x,o,u,i,s),h!=null&&(s.strip&&(h=h.replace(f,"")),(h||s.blankrows!==!1)&&r.push((b++?l:"")+h)));return delete s.dense,r.join("")}function oH(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=g4(e,t);return r}function o5e(e){var t="",r,s="";if(e==null||e["!ref"]==null)return[];var a=Cs(e["!ref"]),i="",o=[],l,u=[],f=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=_a(l);for(var h=a.s.r;h<=a.e.r;++h)for(i=sa(h),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=f?(e[h]||[])[l]:e[t],s="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;s=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}u[u.length]=t+"="+s}return u}function lH(e,t,r){var s=r||{},a=+!s.skipHeader,i=e||{},o=0,l=0;if(i&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var u=typeof s.origin=="string"?$n(s.origin):s.origin;o=u.r,l=u.c}var f,h={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var x=Cs(i["!ref"]);h.e.c=Math.max(h.e.c,x.e.c),h.e.r=Math.max(h.e.r,x.e.r),o==-1&&(o=x.e.r+1,h.e.r=o+t.length-1+a)}else o==-1&&(o=0,h.e.r=t.length-1+a);var p=s.header||[],y=0;t.forEach(function(b,w){na(b).forEach(function(j){(y=p.indexOf(j))==-1&&(p[y=p.length]=j);var S=b[j],A="z",C="",T=os({c:l+y,r:o+w+a});f=Ug(i,T),S&&typeof S=="object"&&!(S instanceof Date)?i[T]=S:(typeof S=="number"?A="n":typeof S=="boolean"?A="b":typeof S=="string"?A="s":S instanceof Date?(A="d",s.cellDates||(A="n",S=yi(S)),C=s.dateNF||Qs[14]):S===null&&s.nullError&&(A="e",S=0),f?(f.t=A,f.v=S,delete f.w,delete f.R,C&&(f.z=C)):i[T]=f={t:A,v:S},C&&(f.z=C))})}),h.e.c=Math.max(h.e.c,l+p.length-1);var N=sa(o);if(a)for(y=0;y<p.length;++y)i[_a(y+l)+N]={t:"s",v:p[y]};return i["!ref"]=bn(h),i}function l5e(e,t){return lH(null,e,t)}function Ug(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var s=$n(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Ug(e,os(t)):Ug(e,os({r:t,c:r||0}))}function c5e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function d5e(){return{SheetNames:[],Sheets:{}}}function u5e(e,t,r,s){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Qz(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function f5e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=c5e(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[s].Hidden=r}function h5e(e,t){return e.z=t,e}function cH(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function m5e(e,t,r){return cH(e,"#"+t,r)}function p5e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function x5e(e,t,r,s){for(var a=typeof t!="string"?t:Cs(t),i=typeof t=="string"?t:bn(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var u=Ug(e,o,l);u.t="n",u.F=i,delete u.v,o==a.s.r&&l==a.s.c&&(u.f=r,s&&(u.D=!0))}return e}var nE={encode_col:_a,encode_row:sa,encode_cell:os,encode_range:bn,decode_col:i4,decode_row:a4,split_cell:kCe,decode_cell:$n,decode_range:qi,format_cell:ed,sheet_add_aoa:cz,sheet_add_json:lH,sheet_add_dom:rH,aoa_to_sheet:op,json_to_sheet:l5e,table_to_sheet:sH,table_to_book:BOe,sheet_to_csv:g4,sheet_to_txt:oH,sheet_to_json:Yb,sheet_to_html:tH,sheet_to_formulae:o5e,sheet_to_row_object_array:Yb,sheet_get_cell:Ug,book_new:d5e,book_append_sheet:u5e,book_set_sheet_visibility:f5e,cell_set_number_format:h5e,cell_set_hyperlink:cH,cell_set_internal_link:m5e,cell_add_comment:p5e,sheet_set_array_formula:x5e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const g5e=()=>{console.log("[StorageDebug] Attempting to get user details...");const e=localStorage.getItem("user"),t=localStorage.getItem("agencyId");console.log("[StorageDebug] Raw localStorage.getItem('user'):",e),console.log("[StorageDebug] Raw localStorage.getItem('agencyId'):",t);let r=t,s=null,a=null,i=null;if(e)try{const o=JSON.parse(e);console.log("[StorageDebug] Parsed userObject:",o),s=o.role||null,a=o.id?String(o.id):null,i=o.name||null;const l=o.agencyId?String(o.agencyId):null;console.log("[StorageDebug] agencyId found in userObject:",l),!r&&l&&(console.log("[StorageDebug] Using agencyId from userObject as primary source was empty."),r=l)}catch(o){console.error("[StorageDebug] Failed to parse user details from localStorage:",o)}return console.log("[StorageDebug] Final determined values for return: role=",s,"userId=",a,"name=",i,"agencyId=",r),{role:s,userId:a,agencyId:r,name:i}},N1=({size:e="md",color:t="blue",className:r=""})=>{const s={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"},a={white:"border-white",blue:"border-blue-500",gray:"border-gray-500"};return n.jsx("div",{className:eu("animate-spin rounded-full border-t-2 border-b-2",s[e],a[t],r),style:{borderTopColor:"transparent"}})},y5e=()=>{const[e,t]=g.useState(null),[r,s]=g.useState([]),[a,i]=g.useState(null),[o,l]=g.useState(!1),[u,f]=g.useState([]),[h,x]=g.useState(new Date().toISOString().split("T")[0]),[p,y]=g.useState(!1),[N,b]=g.useState(null),[w,j]=g.useState({}),S=g.useCallback(async(D,_)=>{if(console.log(`[fetchDeliveries] Called. Date: ${D}, AdminAgencyID: ${_}, UserRole: ${e==null?void 0:e.role}`),!e){console.warn("[fetchDeliveries] currentUser is null. Aborting."),b("User information is not available."),f([]);return}let O="";if(e.role==="ADMIN"){if(!_){console.warn("[fetchDeliveries] Admin role but no agencyIdForAdmin provided. Clearing deliveries."),f([]);return}O=`/delivery-schedules/agency/by-date?date=${D}&agencyId=${_}&paymentStatus=PAID`}else if(e.role==="AGENCY")console.log("[fetchDeliveries] AGENCY role. Backend will infer agencyId."),O=`/delivery-schedules/agency/by-date?date=${D}&paymentStatus=PAID`;else{console.warn("[fetchDeliveries] User role is not ADMIN or AGENCY. Role:",e.role),b("You do not have permission to view this page."),f([]);return}console.log("[fetchDeliveries] Attempting to fetch from URL:",O),y(!0),b(null);try{const P=await mt(O);console.log("[fetchDeliveries] Raw data received:",P),f(P||[])}catch(P){console.error("[fetchDeliveries] Error fetching deliveries:",P),b(P.message||"Failed to fetch deliveries."),f([])}finally{y(!1)}},[e,f,b,y]);g.useEffect(()=>{const D=g5e();console.log(D),t(D),D.role==="ADMIN"&&(async()=>{l(!0);try{const O=await mt("/agencies");console.log("Raw /agencies response:",O);let P=[];Array.isArray(O)?P=O:O&&Array.isArray(O.data)?P=O.data:O&&Array.isArray(O.agencies)?P=O.agencies:O&&typeof O=="object"&&O!==null&&console.warn("/agencies endpoint did not return an array or a known wrapped array structure."),s(P.map(B=>{var I;return{id:B.id,name:((I=B.user)==null?void 0:I.name)||B.name||`Agency ${B.id}`}}))}catch(O){b(O.message||"Failed to fetch agencies.")}l(!1)})()},[]),g.useEffect(()=>{(e==null?void 0:e.role)==="ADMIN"&&(console.log("[ADMIN Effect for FetchDeliveries] Triggered. Date:",h,"SelectedAdminAgencyID:",a),a?S(h,a):f([]))},[h,a,e,S]),g.useEffect(()=>{(e==null?void 0:e.role)==="AGENCY"&&h?(console.log("[AGENCY Effect for FetchDeliveries] Triggered. Date:",h,"Role:",e.role),S(h)):(e==null?void 0:e.role)==="AGENCY"&&!h&&(console.log("[AGENCY Effect for FetchDeliveries] AGENCY role, but no date selected. Clearing deliveries."),f([]))},[h,e,S]);const A=()=>{if(!u.length){alert("No delivery data available to download for the selected date.");return}const D=u.map(B=>({"Customer Name":B.member.name,"Product Name":B.product.name,Quantity:B.quantity,"Delivery Address":`${B.deliveryAddress.plotBuilding||""}${B.deliveryAddress.plotBuilding&&B.deliveryAddress.streetArea?", ":""}${B.deliveryAddress.streetArea||""}, ${B.deliveryAddress.city}, ${B.deliveryAddress.pincode}${B.member.phoneNumber?` (Phone: ${B.member.phoneNumber})`:""}`,Status:B.status,Phone:B.deliveryAddress.mobile||"N/A"})),_=nE.json_to_sheet(D),O=nE.book_new();nE.book_append_sheet(O,_,"Deliveries");const P=[{wch:20},{wch:25},{wch:10},{wch:40},{wch:15},{wch:15},{wch:30}];_["!cols"]=P,n5e(O,`delivery_schedule_${h}.xlsx`)},C=D=>{switch(D){case kl.PENDING:return"bg-yellow-100 text-yellow-800";case kl.DELIVERED:return"bg-green-100 text-green-800";case kl.NOT_DELIVERED:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},T=g.useCallback(async(D,_)=>{var O,P;if(console.log(`[UpdateStatus] Attempting to update delivery ${D} to ${_}`),(e==null?void 0:e.role)==="ADMIN"){b("Admins cannot update delivery status."),console.warn("[UpdateStatus] Admin role detected, update forbidden by frontend logic.");return}j(B=>({...B,[D]:!0})),b(null);try{await un(`/delivery-schedules/${D}/status`,{status:_}),console.log(`[UpdateStatus] Successfully updated status for ${D} to ${_}`),f(B=>B.map(I=>I.id===D?{...I,status:_}:I))}catch(B){console.error(`[UpdateStatus] Error updating status for ${D}:`,B),b(((P=(O=B.response)==null?void 0:O.data)==null?void 0:P.error)||B.message||"Failed to update delivery status.")}j(B=>({...B,[D]:!1}))},[e,f,b,j]);return n.jsxs("div",{className:"p-4 md:p-6 lg:p-8 bg-gray-100 min-h-screen font-sans",children:[n.jsxs("header",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:(e==null?void 0:e.role)==="ADMIN"?"Admin Delivery Management":"Agency Delivery Schedule"}),(e==null?void 0:e.role)==="ADMIN"&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Viewing as Admin: ",e.name||"Admin User"]}),(e==null?void 0:e.role)==="AGENCY"&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Agency: ",e.name||`Agency ${e.agencyId}`]})]}),n.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{htmlFor:"deliveryDate",className:"font-semibold text-gray-700 whitespace-nowrap",children:"Select Date:"}),n.jsx("input",{id:"deliveryDate",type:"date",value:h,onChange:D=>{console.log("[DateChange] New date:",D.target.value),x(D.target.value)},className:"border border-gray-300 rounded-md p-2 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(e==null?void 0:e.role)==="ADMIN"&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{htmlFor:"agencySelect",className:"font-semibold text-gray-700 whitespace-nowrap",children:"Select Agency:"}),n.jsxs(er,{value:a||"",onValueChange:D=>{const _=D==="NONE"?null:D;console.log("[AgencyChange] New agency ID:",_),i(_)},disabled:o||r.length===0,children:[n.jsx(rr,{id:"agencySelect",className:"min-w-[200px]",children:n.jsx(tr,{placeholder:o?"Loading agencies...":"Select an agency"})}),n.jsxs(sr,{children:[r.length===0&&!o&&n.jsx(yt,{value:"NONE",disabled:!0,children:"No agencies found"}),r.map(D=>n.jsx(yt,{value:D.id,children:D.name},D.id))]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-3 sm:mt-0",children:[n.jsxs("button",{onClick:()=>S(h,a??void 0),disabled:p||Object.values(w).some(D=>D===!0),className:eu("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",p||Object.values(w).some(D=>D===!0)?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 focus-visible:outline-indigo-600"),children:[p&&!Object.values(w).some(D=>D===!0)&&!N?n.jsx(N1,{size:"sm",color:"white",className:"mr-2"}):null,"Refresh Deliveries"]}),n.jsxs("button",{onClick:A,disabled:u.length===0||p,className:eu("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",u.length===0||p?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-primary focus-visible:outline-green-600"),children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 mr-2",children:[n.jsx("path",{d:"M10.75 2.75a.75.75 0 0 0-1.5 0v8.614L6.295 8.235a.75.75 0 1 0-1.09 1.03l4.25 4.5a.75.75 0 0 0 1.09 0l4.25-4.5a.75.75 0 0 0-1.09-1.03l-2.955 3.129V2.75Z"}),n.jsx("path",{d:"M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z"})]}),"Download Excel"]})]})]}),p&&u.length===0&&!N&&n.jsx("div",{className:"flex justify-center items-center p-10",children:n.jsx(N1,{size:"lg"})}),N&&n.jsxs("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg border border-red-300",role:"alert",children:[n.jsx("span",{className:"font-medium",children:"Error:"})," ",N]}),!p&&u.length===0&&!N&&n.jsx("div",{className:"p-4 text-sm text-gray-700 bg-blue-100 rounded-lg border border-blue-300",role:"alert",children:"No deliveries scheduled for this date."}),u.length>0&&n.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(e==null?void 0:e.role)==="AGENCY"&&n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(D=>{var _,O,P;return n.jsxs("tr",{className:w[D.id]?"opacity-50":"",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.member.name}),n.jsx("div",{className:"text-xs text-gray-500",children:((_=D.deliveryAddress)==null?void 0:_.mobile)||"N/A"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:D.product.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900",children:D.quantity})}),n.jsxs("td",{className:"px-6 py-4 whitespace-normal max-w-xs",children:[" ",n.jsx("div",{className:"text-sm text-gray-900",children:(O=D.deliveryAddress)==null?void 0:O.recipientName}),n.jsx("div",{className:"text-sm text-gray-900",children:D.deliveryAddress&&`${D.deliveryAddress.plotBuilding||""}${D.deliveryAddress.plotBuilding&&D.deliveryAddress.streetArea?", ":""}${D.deliveryAddress.streetArea||""}`}),n.jsx("div",{className:"text-sm text-gray-500",children:D.deliveryAddress?`${D.deliveryAddress.city}, ${D.deliveryAddress.pincode}`:"Offline Depot Delivery"}),D.member.phoneNumber&&n.jsxs("div",{className:"text-sm text-blue-600 mt-1",children:["Phone: ",D.member.phoneNumber]}),((P=D.deliveryAddress)==null?void 0:P.deliveryNotes)&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1 italic",children:["Notes: ",D.deliveryAddress.deliveryNotes]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:eu("px-2 inline-flex text-xs leading-5 font-semibold rounded-full",C(D.status)),children:D.status.replace("_"," ")})}),(e==null?void 0:e.role)==="AGENCY"&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-1 text-center",children:[n.jsxs("button",{onClick:()=>T(D.id,kl.DELIVERED),disabled:D.status!==kl.PENDING||w[D.id],className:eu("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",D.status!==kl.PENDING||w[D.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary focus:ring-green-400"),title:"Mark as Delivered",children:[w[D.id]?n.jsx(N1,{size:"sm",color:"white",className:"mr-1 inline-block align-middle"}):null,"Delivered"]}),n.jsxs("button",{onClick:()=>T(D.id,kl.NOT_DELIVERED),disabled:D.status!==kl.PENDING||w[D.id],className:eu("text-xs font-medium py-1 px-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1",D.status!==kl.PENDING||w[D.id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600 focus:ring-red-400"),title:"Mark as Not Delivered",children:[w[D.id]?n.jsx(N1,{size:"sm",color:"white",className:"mr-1 inline-block align-middle"}):null,"Not Delivered"]})]})]},D.id)})})]})})]})},aE=e=>{const t=new Map;return e.forEach(r=>{t.has(r.id)||t.set(r.id,r)}),Array.from(t.values())},v5e=()=>{var Ee,Ae,Ye,be;const[e,t]=g.useState(""),[r,s]=g.useState(""),[a,i]=g.useState(""),[o,l]=g.useState(""),[u,f]=g.useState([]),[h,x]=g.useState(null),[p,y]=g.useState(null),[N,b]=g.useState(!1),[w,j]=g.useState(!1),[S,A]=g.useState(!1),[C,T]=g.useState(null),[D,_]=g.useState(!1),[O,P]=g.useState(null),[B,I]=g.useState(!1),[G,z]=g.useState(null),[ae,J]=g.useState(""),[L,U]=g.useState(""),[F,X]=g.useState(""),[q,te]=g.useState(!1),[M,W]=g.useState({}),[K]=yK(),V=g.useRef(null),[Q,ie]=g.useState({});g.useEffect(()=>{(async()=>{b(!0),T(null);try{const Me=await mt("/admin/wallets");f(Me==null?void 0:Me.data)}catch(Me){T(Me.message||"Failed to load members."),f([])}b(!1)})()},[]);const xe=g.useCallback(async ge=>{var Me,xt;if(x(ge),y(null),T(null),ge){j(!0);try{const jt=await mt(`/admin/wallets/${ge}`);(xt=(Me=jt==null?void 0:jt.data)==null?void 0:Me.wallet)!=null&&xt.transactions&&(jt.data.wallet.transactions=aE(jt.data.wallet.transactions)),y(jt==null?void 0:jt.data)}catch(jt){T(jt.message||`Failed to load wallet for member ${ge}.`),y(null)}j(!1)}else y(null)},[x,y,T,j]);g.useEffect(()=>{const ge=K.get("memberId");ge&&u.length>0?ge!==V.current&&(u.some(xt=>String(xt.memberId)===ge)&&xe(ge),V.current=ge):!ge&&V.current&&(V.current=null)},[K,u,xe]);const ue=ge=>{if(!h||!p){T("Please select a customer first to modify their balance.");return}t(""),s(""),i(""),l(""),ie({}),P(ge),_(!0)},de=ge=>{z(ge),ge.paymentMethod==="PENDING"&&(J(""),U(""),X(""),W({})),I(!0)},De=async()=>{var Me,xt,jt,fe;if(!G||!h)return;const ge={};if(ae||(ge.paymentMethod="Payment method is required for approval."),ae&&ae!=="CASH"&&!L.trim()&&(ge.referenceNumber="Reference number is required for this payment method."),Object.keys(ge).length>0){W(ge);return}W({}),te(!0);try{const Se={paymentMethod:ae,referenceNumber:L.trim(),notes:F.trim()};if(await $r(`/admin/wallets/transactions/${G.id}/approve`,Se),h){const Re=await mt(`/admin/wallets/${h}`);(xt=(Me=Re==null?void 0:Re.data)==null?void 0:Me.wallet)!=null&&xt.transactions&&(Re.data.wallet.transactions=aE(Re.data.wallet.transactions)),y(Re.data)}I(!1),me.success("Transaction approved successfully!",{icon:n.jsx(kx,{className:"h-4 w-4"}),duration:5e3})}catch(Se){console.error("Failed to approve transaction:",Se);const Re=((fe=(jt=Se.response)==null?void 0:jt.data)==null?void 0:fe.message)||Se.message||"Failed to approve transaction. Please try again.";W({notes:Re}),me.error(`Error approving transaction: ${Re}`,{icon:n.jsx(xu,{className:"h-4 w-4"}),duration:5e3})}finally{te(!1)}},Ne=async()=>{var jt,fe;if(!h||!O){T("No member selected or transaction type missing.");return}const ge=parseFloat(e);let Me={};if((isNaN(ge)||ge<=0)&&(Me.amount="Amount must be a positive number."),r.trim()||(Me.paymentMethod="Payment method is required."),Object.keys(Me).length>0){ie(Me);return}ie({}),A(!0),T(null);const xt={amount:ge,paymentMethod:r.trim(),referenceNumber:a.trim()||void 0,notes:o.trim()||void 0};try{if(O==="CREDIT"?await $r(`/admin/wallets/${h}/add-funds`,xt):await $r(`/admin/wallets/${h}/remove-funds`,xt),h){const Se=await mt(`/admin/wallets/${h}`);(fe=(jt=Se==null?void 0:Se.data)==null?void 0:jt.wallet)!=null&&fe.transactions&&(Se.data.wallet.transactions=aE(Se.data.wallet.transactions)),y(Se.data)}_(!1),t(""),s(""),i(""),l("")}catch(Se){T(Se.message||"Failed to process transaction.")}A(!1)},ot=()=>{const ge={},Me=Number.parseFloat(e);return e.trim()?(isNaN(Me)||Me<=0)&&(ge.amount="Please enter a valid positive amount."):ge.amount="Amount is required.",r.trim()||(ge.paymentMethod="Payment method is required."),r!=="CASH"&&r!=="PENDING"&&!a.trim()&&(ge.referenceNumber="Reference number is required."),ie(ge),Object.keys(ge).length===0};return g.useEffect(()=>{ot()},[e,r,a]),n.jsxs("div",{className:"container mx-auto p-4 max-w-7xl space-y-4",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Wallet Management"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage customer wallet balances and view transaction history"})]}),p&&!w&&n.jsx(At,{className:"p-6 rounded-xl shadow-sm border bg-card transition-all hover:shadow-md",children:n.jsxs("div",{className:"flex items-start gap-5",children:[n.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:n.jsx(sw,{className:"h-8 w-8 text-primary flex-shrink-0"})}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-foreground tracking-tight",children:p.memberName}),p.memberEmail&&n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(CT,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${p.memberEmail}`,className:"text-muted-foreground hover:text-primary hover:underline transition-colors",children:p.memberEmail})]})]})})]})}),w&&n.jsx(At,{className:"p-4 text-center mt-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Zr,{className:"h-4 w-4 animate-spin"}),"Loading wallet details..."]})}),p&&!w&&n.jsxs(n.Fragment,{children:[n.jsx(At,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Pc,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current Balance (",p==null?void 0:p.memberName,")"]}),n.jsx("p",{className:"text-2xl font-bold text-green-700",children:p?bs(((Ee=p==null?void 0:p.wallet)==null?void 0:Ee.balance)??0):"N/A"})]})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(he,{onClick:()=>ue("CREDIT"),size:"sm",className:"bg-green-600 hover:bg-primary text-white",children:[n.jsx(CE,{className:"mr-1 h-4 w-4"}),"Deposit"]}),n.jsxs(he,{onClick:()=>ue("DEBIT"),variant:"destructive",size:"sm",children:[n.jsx(Jx,{className:"mr-1 h-4 w-4"}),"Withdrawn"]})]})]})})," ",n.jsxs(At,{className:"mt-4",children:[n.jsx(Mt,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Zt,{className:"text-lg",children:"Transaction History"})}),((Ae=p==null?void 0:p.wallet)==null?void 0:Ae.transactions)&&n.jsxs(Pr,{variant:"secondary",className:"text-xs",children:[p.wallet.transactions.length," transaction(s)"]})]})}),n.jsx(Dt,{className:"pt-0",children:(Ye=p==null?void 0:p.wallet)!=null&&Ye.transactions&&p.wallet.transactions.length>0?n.jsx("div",{className:"rounded-md border",children:n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsxs(Xt,{className:"text-xs uppercase bg-muted/50",children:[n.jsx(Ke,{className:"px-3 py-2",children:"Date"}),n.jsx(Ke,{className:"text-right",children:"Credited"}),n.jsx(Ke,{className:"text-right",children:"Debited"}),n.jsx(Ke,{className:"px-3 py-2",children:"Payment Method"}),n.jsx(Ke,{className:"px-3 py-2",children:"Reference"}),n.jsx(Ke,{className:"px-3 py-2",children:"Admin"}),n.jsx(Ke,{className:"px-3 py-2",children:"Status"}),n.jsx(Ke,{className:"text-right px-3 py-2",children:"Actions"})]})}),n.jsx(Is,{children:p.wallet.transactions.map(ge=>n.jsxs(Xt,{className:"text-sm hover:bg-muted/50",children:[n.jsx(ze,{className:"text-xs px-3 py-2 text-muted-foreground whitespace-nowrap",children:typeof ge.timestamp=="string"&&ge.timestamp?Gt(ge.timestamp,"dd/MM/yyyy"):n.jsx("span",{className:"text-muted-foreground",children:"Date N/A"})}),n.jsx(ze,{className:`text-right ${ge.type==="CREDIT"?"text-green-500":"text-muted-foreground"}`,children:ge.type==="CREDIT"?bs(ge.amount):n.jsx("span",{className:"text-muted-foreground",children:"0"})}),n.jsx(ze,{className:`text-right ${ge.type==="DEBIT"?"text-red-500":"text-muted-foreground"}`,children:ge.type==="DEBIT"?bs(ge.amount):n.jsx("span",{className:"text-muted-foreground",children:"0"})}),n.jsx(ze,{className:"text-xs px-3 py-2",children:ge.paymentMethod||n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(ze,{className:"text-xs px-3 py-2 font-mono",children:ge.referenceNumber||n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(ze,{className:"text-xs px-3 py-2 text-muted-foreground",children:ge.adminName||n.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),n.jsx(ze,{className:"text-xs px-3 py-2",children:ge.status||n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(ze,{className:"text-right px-3 py-2",children:n.jsx(he,{variant:"outline",size:"sm",onClick:()=>de(ge),disabled:ge.status!=="PENDING",children:"View Details"})})]},String(ge.id)))})]})}):n.jsx("div",{className:"text-center py-10 text-sm text-muted-foreground",children:"No transactions found for this customer."})})]})]}),n.jsx(hs,{open:D,onOpenChange:ge=>{_(ge),ge||(t(""),s(""),i(""),l(""),ie({}),P(null),T(null))},children:n.jsxs(ms,{className:"sm:max-w-md",children:[n.jsxs(ps,{children:[n.jsxs(xs,{className:"flex items-center",children:[O==="CREDIT"?n.jsx(CE,{className:"mr-2 h-5 w-5 text-green-600"}):n.jsx(Jx,{className:"mr-2 h-5 w-5 text-red-600"}),O==="CREDIT"?"Add Funds to Wallet":"Remove Funds from Wallet"]}),p&&n.jsxs(Ya,{children:["For ",p==null?void 0:p.memberName,". Current balance: ",bs(((be=p==null?void 0:p.wallet)==null?void 0:be.balance)??0)]})]}),n.jsxs("div",{className:"space-y-4 py-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Te,{htmlFor:"amount",children:O==="CREDIT"?"Amount to Credit":"Amount to Debit"}),n.jsx(tt,{id:"amount",type:"number",placeholder:"e.g., 50.00",value:e,onChange:ge=>t(ge.target.value),className:Q.amount?"border-destructive focus-visible:ring-destructive":""}),Q.amount&&n.jsx("p",{className:"text-xs text-destructive pt-1",children:Q.amount})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Te,{htmlFor:"paymentMethod",className:Q.paymentMethod?"text-destructive":"",children:"Payment Method"}),n.jsxs(er,{value:r,onValueChange:s,children:[n.jsx(rr,{className:Q.paymentMethod?"border-destructive focus-visible:ring-destructive":"",children:n.jsx(tr,{placeholder:"Select a payment method"})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"CASH",children:"Cash"}),n.jsx(yt,{value:"UPI",children:"UPI"}),n.jsx(yt,{value:"Bank",children:"Bank Transfer"})]})]}),Q.paymentMethod&&n.jsx("p",{className:"text-xs text-destructive pt-1",children:Q.paymentMethod})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Te,{htmlFor:"referenceNumber",children:["Reference Number ",n.jsx("span",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),n.jsx(tt,{id:"referenceNumber",placeholder:"e.g., INV-12345, Txn ID",value:a,disabled:r==="CASH",onChange:ge=>i(ge.target.value)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Te,{htmlFor:"notes",children:["Notes ",n.jsx("span",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),n.jsx(Zf,{id:"notes",placeholder:"e.g., Monthly deposit, Refund for order #XYZ",value:o,onChange:ge=>l(ge.target.value),rows:3})]})]}),C&&!Q.amount&&!Q.paymentMethod&&n.jsxs("div",{className:"bg-destructive/15 text-destructive px-3 py-2 rounded-md text-sm",children:["Error: ",C]}),n.jsx(gi,{className:"sm:justify-start pt-2",children:n.jsx(he,{type:"button",onClick:Ne,disabled:S||Object.keys(Q).length>0,className:`w-full ${O==="CREDIT"?"bg-green-600 hover:bg-primary text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:S?n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):O==="CREDIT"?"Credit Wallet":"Debit Wallet"})})]})}),B&&G&&n.jsx(hs,{open:B,onOpenChange:ge=>{!ge&&q||I(ge)},children:n.jsxs(ms,{className:"sm:max-w-lg",children:[n.jsxs(ps,{children:[n.jsx(xs,{children:G.status==="PENDING"?"Approve Transaction":"Transaction Details"}),n.jsx(Ya,{children:G.status==="PENDING"?"Complete the details below to approve this pending transaction.":"Review the details of this transaction."})]}),n.jsxs("div",{className:"space-y-4 py-2",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[n.jsx("div",{children:n.jsx("span",{className:"font-medium text-muted-foreground",children:"Transaction ID:"})}),n.jsx("div",{children:G.id}),n.jsx("div",{children:n.jsx("span",{className:"font-medium text-muted-foreground",children:"Date:"})}),n.jsx("div",{children:Gt(new Date(G.timestamp),"dd/MM/yyyy")}),n.jsx("div",{children:n.jsx("span",{className:"font-medium text-muted-foreground",children:"Type:"})}),n.jsx("div",{children:n.jsx(Pr,{variant:G.type==="CREDIT"?"default":"destructive",className:`${G.type==="CREDIT"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:G.type})}),n.jsx("div",{children:n.jsx("span",{className:"font-medium text-muted-foreground",children:"Amount:"})}),n.jsx("div",{className:`font-semibold ${G.type==="CREDIT"?"text-green-600":"text-red-600"}`,children:bs(G.amount)})]}),G.status!=="PENDING"&&n.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm pt-2 border-t",children:[n.jsx("div",{children:n.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"})}),n.jsx("div",{children:n.jsx(Pr,{variant:G.status==="COMPLETED"?"default":G.status==="FAILED"?"destructive":"outline",className:`capitalize ${G.status==="COMPLETED"?"bg-green-100 text-green-700":G.status==="FAILED"?"bg-red-100 text-red-700":"border-gray-300 text-gray-500"}`,children:G.status?G.status.toLowerCase():"N/A"})}),G.status&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:n.jsx("span",{className:"font-medium text-muted-foreground",children:"Payment Method:"})}),n.jsx("div",{children:G.paymentMethod})]}),G.referenceNumber&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:n.jsx("span",{className:"font-medium text-muted-foreground",children:"Reference No:"})}),n.jsx("div",{children:G.referenceNumber})]})]}),G.notes&&G.paymentMethod!=="PENDING"&&n.jsxs("div",{className:"text-sm pt-2 border-t",children:[n.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Notes:"}),n.jsx("p",{className:"p-2 bg-muted/50 rounded-md whitespace-pre-wrap",children:G.notes})]})]}),G.status==="PENDING"&&n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx("h3",{className:"text-md font-semibold text-foreground",children:"Approval Details"}),n.jsxs("div",{children:[n.jsxs(Te,{htmlFor:"approvalPaymentMethod",children:["Payment Method ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(er,{value:ae,onValueChange:J,disabled:q,children:[n.jsx(rr,{id:"approvalPaymentMethod",children:n.jsx(tr,{placeholder:"Select actual payment method"})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"CASH",children:"Cash"}),n.jsx(yt,{value:"UPI",children:"UPI"}),n.jsx(yt,{value:"Bank Transfer",children:"Bank Transfer"})]})]}),M.paymentMethod&&n.jsx("p",{className:"text-xs text-destructive mt-1",children:M.paymentMethod})]}),n.jsxs("div",{children:[n.jsxs(Te,{htmlFor:"approvalReferenceNumber",children:["Reference Number ",ae!=="CASH"&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(tt,{id:"approvalReferenceNumber",value:L,onChange:ge=>U(ge.target.value),placeholder:"Enter reference number",disabled:q||!ae||ae==="CASH"}),M.referenceNumber&&n.jsx("p",{className:"text-xs text-destructive mt-1",children:M.referenceNumber})]}),n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"approvalNotes",children:"Notes"}),n.jsx(Zf,{id:"approvalNotes",value:F,onChange:ge=>X(ge.target.value),placeholder:"Add any notes for this approval (optional)",disabled:q}),M.notes&&n.jsx("p",{className:"text-xs text-destructive mt-1",children:M.notes})]})]}),n.jsx(gi,{className:"mt-2",children:G.status==="PENDING"?n.jsxs(n.Fragment,{children:[n.jsx(he,{variant:"outline",onClick:()=>I(!1),disabled:q,children:"Cancel"}),n.jsx(he,{onClick:De,disabled:q||!ae,children:q?n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"})," Approving..."]}):"Approve Payment"})]}):n.jsx(he,{variant:"outline",onClick:()=>I(!1),children:"Close"})})]})})]})};function b5e(e,t){const[r,s]=g.useState(e);return g.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}const w5e=()=>{const[e,t]=g.useState([]),[r,s]=g.useState(!0),[a,i]=g.useState(null),[o,l]=g.useState(1),[u,f]=g.useState(0),[h,x]=g.useState(10),[p,y]=g.useState(""),[N,b]=g.useState("name"),[w,j]=g.useState("asc"),S=b5e(p,500),A=async(B,I)=>{var G,z;try{await zi(`/admin/members/${B}/status`,{active:!I}),t(ae=>ae.map(J=>J._id===B?{...J,active:!I}:J))}catch(ae){i(((z=(G=ae.response)==null?void 0:G.data)==null?void 0:z.message)||ae.message||"Failed to update member status"),console.error("Failed to update member status:",ae)}},C=async(B=o,I=h,G=S,z=N,ae=w)=>{var J,L;s(!0),i(null);try{const U=new URLSearchParams;U.append("page",B.toString()),U.append("limit",I.toString()),G&&U.append("search",G),U.append("sortBy",z),U.append("sortOrder",ae);const F=await mt(`/admin/members?${U.toString()}`);t(F.members),l(F.page),f(F.totalPages)}catch(U){i(((L=(J=U.response)==null?void 0:J.data)==null?void 0:L.message)||U.message||"Failed to fetch members"),console.error("Failed to fetch members:",U),t([]),f(0)}s(!1)};g.useEffect(()=>{C(o,h,S,N,w)},[o,h,S,N,w]);const T=B=>{y(B.target.value),l(1)},D=()=>{l(B=>Math.max(B-1,1))},_=()=>{l(B=>Math.min(B+1,u))},O=B=>{N===B?j(w==="asc"?"desc":"asc"):(b(B),j("asc")),l(1)},P=B=>{x(Number(B)),l(1)};return r?n.jsxs("div",{className:"flex items-center justify-center h-40",children:[n.jsx(Zr,{className:"h-8 w-8 animate-spin text-primary"}),n.jsx("p",{className:"ml-2",children:"Loading members..."})]}):a?n.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-red-600",children:[n.jsx(xu,{className:"h-8 w-8 mb-2"}),n.jsxs("p",{children:["Error: ",a]})]}):n.jsx("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8",children:n.jsxs(At,{children:[n.jsx(Mt,{}),n.jsxs(Dt,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin - Customer Wallets"}),n.jsxs("div",{className:"flex  justify-end items-center gap-4 mb-4",children:[n.jsx(tt,{type:"text",placeholder:"Search customer by name or email...",value:p,onChange:T,className:"max-w-sm flex-grow"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show:"}),n.jsxs(er,{value:h.toString(),onValueChange:P,children:[n.jsx(rr,{className:"w-[80px]",children:n.jsx(tr,{placeholder:h.toString()})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"10",children:"10"}),n.jsx(yt,{value:"25",children:"25"}),n.jsx(yt,{value:"50",children:"50"}),n.jsx(yt,{value:"100",children:"100"})]})]})]})]})]}),e.length===0&&!r?n.jsx("p",{className:"text-center text-gray-500 py-4",children:"No Customer found."}):n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsxs(Xt,{children:[n.jsxs(Ke,{onClick:()=>O("name"),className:"cursor-pointer",children:["Name ",N==="name"&&(w==="asc"?"▲":"▼")]}),n.jsxs(Ke,{onClick:()=>O("email"),className:"cursor-pointer",children:["Email ",N==="email"&&(w==="asc"?"▲":"▼")]}),n.jsxs(Ke,{onClick:()=>O("walletBalance"),className:"cursor-pointer",children:["Wallet Balance ",N==="walletBalance"&&(w==="asc"?"▲":"▼")]}),n.jsxs(Ke,{onClick:()=>O("active"),className:"cursor-pointer",children:["Status ",N==="active"&&(w==="asc"?"▲":"▼")]}),n.jsx(Ke,{className:"text-center",children:"Actions"})]})}),n.jsx(Is,{children:e.map(B=>n.jsxs(Xt,{children:[n.jsx(ze,{children:B.name}),n.jsx(ze,{children:B.email}),n.jsxs(ze,{children:["₹",B.walletBalance.toFixed(2)]}),n.jsx(ze,{children:B.active===void 0?n.jsx("span",{className:"text-gray-500",children:"Unknown"}):B.active?n.jsx("span",{className:"text-green-600 font-semibold",children:"Active"}):n.jsx("span",{className:"text-red-600 font-semibold",children:"Inactive"})}),n.jsxs(ze,{className:"text-center space-x-1",children:[n.jsx(he,{asChild:!0,variant:"outline",size:"sm",children:n.jsx(Rr,{to:`/admin/wallet?memberId=${B._id}`,children:n.jsx(Pc,{className:"h-4 w-4"})})}),n.jsx(he,{asChild:!0,variant:"outline",size:"sm",className:"ml-2",title:"Edit Customer Details",children:n.jsxs(Rr,{to:`/admin/members/${B._id}/edit`,children:[" ",n.jsx(bi,{className:"h-4 w-4"})]})}),B.active!==void 0&&n.jsx(he,{variant:"outline",size:"sm",className:"ml-2",onClick:()=>A(B._id,B.active),title:B.active?"Deactivate Customer":"Activate Customer",children:B.active?n.jsx(Zo,{className:"h-4 w-4 text-red-500"}):n.jsx(kx,{className:"h-4 w-4 text-green-500"})})]})]},B._id))})]}),u>0&&n.jsxs("div",{className:"flex items-center justify-between mt-6",children:[n.jsx(he,{onClick:D,disabled:o<=1||r,variant:"outline",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",o," of ",u]}),n.jsx(he,{onClick:_,disabled:o>=u||r,variant:"outline",children:"Next"})]})]})]})})},N5e=({initialData:e,onClose:t,onSuccess:r})=>{const[s,a]=g.useState({name:"",pincodes:"",depotId:"",deliveryType:Im.HandDelivery,isDairyProduct:!1}),[i,o]=g.useState(!1),[l,u]=g.useState([]),[f,h]=g.useState({}),[x,p]=g.useState([]);g.useEffect(()=>{e&&l.length>0?a({name:e.name,pincodes:e.pincodes,depotId:e.depotId?String(e.depotId):"",deliveryType:e.deliveryType||Im.HandDelivery,isDairyProduct:e.isDairyProduct||!1}):e||a({name:"",pincodes:"",depotId:"",deliveryType:Im.HandDelivery,isDairyProduct:!1})},[e,l]),g.useEffect(()=>{(async()=>{try{const T=await wB();u(T)}catch(T){console.error("Failed to fetch depots",T),me.error("Failed to load depots for selection.")}})()},[]),g.useEffect(()=>{const C=s.pincodes||(e==null?void 0:e.pincodes)||"";N(C)},[s.pincodes,e==null?void 0:e.pincodes]);const y=C=>C.trim()?/^\d{6}(\s*,\s*\d{6})*$/.test(C.trim())?null:C.trim().endsWith(",")?"Remove trailing comma from pincodes.":C.split(",").map(D=>D.trim()).some(D=>!/^\d{6}$/.test(D)&&D!=="")?"Each pincode must be exactly 6 digits.":"Enter valid 6-digit pincodes, comma-separated (e.g., 123456, 789012).":"Pincodes are required",N=C=>{const T=C.split(",").map(D=>D.trim()).filter(D=>/^\d{6}$/.test(D));p(Array.from(new Set(T)))},b=()=>{const C={};s.name.trim()||(C.name="Name is required");const T=y(s.pincodes);return T&&(C.pincodes=T),s.deliveryType||(C.deliveryType="Delivery type is required"),s.depotId||(C.depotId="Depot is required"),h(C),Object.keys(C).length===0},w=C=>{const{name:T,value:D}=C.target,_={...s,[T]:D};if(a(_),T==="pincodes"){const O=y(D);h(P=>({...P,pincodes:O||""})),N(D)}},j=(C,T)=>{a(D=>({...D,[C]:C==="depotId"?T:String(T)})),C==="deliveryType"&&!T?h(D=>({...D,deliveryType:"Delivery type is required"})):C==="deliveryType"&&h(D=>({...D,deliveryType:""}))},S=(C,T)=>{a(D=>({...D,[C]:T}))},A=async C=>{var T,D;if(C.preventDefault(),!b()){me.error("Please correct the form errors.");return}o(!0);try{const _={...s,depotId:s.depotId};e&&e.id?(await Mbe(e.id,_),me.success("Area master updated successfully!")):(await Rbe(_),me.success("Area master created successfully!")),r()}catch(_){const O=((T=_.data)==null?void 0:T.message)||_.message||(e?"Failed to update area master":"Failed to create area master");if(me.error(O),(D=_.data)!=null&&D.errors){const P={};for(const B of _.data.errors)B.path&&B.message&&(P[B.path[0]]=B.message);h(B=>({...B,...P}))}}o(!1)};return n.jsxs("form",{onSubmit:A,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Te,{htmlFor:"name",children:["Area Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(tt,{type:"text",name:"name",id:"name",value:s.name,onChange:w,className:`${f.name?"border-red-500":""}`}),f.name&&n.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Te,{htmlFor:"pincodes",children:["Pincodes (comma-separated) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(tt,{type:"text",name:"pincodes",id:"pincodes",value:s.pincodes,onChange:w,placeholder:"e.g., 110001, 110002",className:`${f.pincodes?"border-red-500":""}`}),f.pincodes&&n.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.pincodes}),x.length>0&&!f.pincodes&&n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[x.slice(0,5).map(C=>n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:C},C)),x.length>5&&n.jsxs("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 text-xs font-medium rounded-full cursor-help",title:`All pincodes: ${x.join(", ")}`,children:["+",x.length-5," more"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Te,{htmlFor:"depotId",children:["Depot ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(er,{name:"depotId",value:s.depotId,onValueChange:C=>j("depotId",C),children:[n.jsx(rr,{id:"depotId",className:`${f.depotId?"border-red-500":""}`,children:n.jsx(tr,{placeholder:"Select a depot"})}),n.jsx(sr,{children:l.map(C=>n.jsx(yt,{value:String(C.id),children:C.name},C.id))})]}),f.depotId&&n.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.depotId})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Te,{htmlFor:"deliveryType",children:["Delivery Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(er,{name:"deliveryType",value:s.deliveryType,onValueChange:C=>j("deliveryType",C),children:[n.jsx(rr,{id:"deliveryType",className:`${f.deliveryType?"border-red-500":""}`,children:n.jsx(tr,{placeholder:"Select delivery type"})}),n.jsx(sr,{children:Object.values(Im).map(C=>n.jsxs(yt,{value:C,children:[C.replace(/([A-Z])/g," $1").trim()," "]},C))})]}),f.deliveryType&&n.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.deliveryType})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Du,{id:"isDairyProduct",checked:s.isDairyProduct,onCheckedChange:C=>S("isDairyProduct",!!C)}),n.jsx(Te,{htmlFor:"isDairyProduct",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Supports Dairy Products"})]}),n.jsx("p",{className:"text-xs text-gray-600",children:"Check this if this delivery area can handle dairy products that require special handling/temperature control."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(he,{type:"button",variant:"outline",onClick:t,disabled:i,children:"Cancel"}),n.jsx(he,{type:"submit",disabled:i,children:i?e?"Updating...":"Creating...":e?"Update Area Master":"Create Area Master"})]})]})},gf="...",j1=(e,t)=>{let r=t-e+1;return Array.from({length:r},(s,a)=>a+e)},pN=({currentPage:e,totalPages:t,onPageChange:r,totalRecords:s,limit:a,onLimitChange:i,siblingCount:o=1})=>{const l=Le.useMemo(()=>{if(o+5>=t)return j1(1,t);const y=Math.max(e-o,1),N=Math.min(e+o,t),b=y>2,w=N<t-2,j=1,S=t;if(!b&&w){let A=3+2*o;return[...j1(1,A),gf,t]}if(b&&!w){let A=3+2*o,C=j1(t-A+1,t);return[j,gf,...C]}if(b&&w){let A=j1(y,N);return[j,gf,...A,gf,S]}return[]},[t,o,e]);if(t===0||t===1)return null;const u=()=>{r(e+1)},f=()=>{r(e-1)},h=(e-1)*a+1,x=Math.min(e*a,s);return n.jsxs("div",{className:"flex items-center justify-between py-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",h," - ",x," of ",s," records"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[i&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),n.jsxs(er,{value:`${a}`,onValueChange:p=>{i(Number(p))},children:[n.jsx(rr,{className:"h-8 w-[70px]",children:n.jsx(tr,{placeholder:`${a}`})}),n.jsx(sr,{side:"top",children:[10,20,30,40,50].map(p=>n.jsx(yt,{value:`${p}`,children:p},p))})]})]}),n.jsx(he,{variant:"outline",size:"icon",onClick:()=>r(1),disabled:e===1,className:"h-8 w-8",children:n.jsx(oX,{className:"h-4 w-4"})}),n.jsx(he,{variant:"outline",size:"icon",onClick:f,disabled:e===1,className:"h-8 w-8",children:n.jsx(M0,{className:"h-4 w-4"})}),l.map((p,y)=>p===gf?n.jsx("span",{className:"px-2 py-1",children:gf},`${gf}-${y}`):n.jsx(he,{variant:e===p?"default":"outline",size:"icon",onClick:()=>r(p),className:"h-8 w-8",children:p},p)),n.jsx(he,{variant:"outline",size:"icon",onClick:u,disabled:e===t,className:"h-8 w-8",children:n.jsx(wu,{className:"h-4 w-4"})}),n.jsx(he,{variant:"outline",size:"icon",onClick:()=>r(t),disabled:e===t,className:"h-8 w-8",children:n.jsx(cX,{className:"h-4 w-4"})})]})]})},j5e=()=>{const[e,t]=g.useState([]),[r,s]=g.useState(!1),[a,i]=g.useState(null),[o,l]=g.useState(1),[u,f]=g.useState(1),[h,x]=g.useState(0),p=10,[y,N]=g.useState(""),[b,w]=g.useState("name"),[j,S]=g.useState("asc"),[A,C]=g.useState(!1),[T,D]=g.useState(null),[_,O]=g.useState(!1),[P,B]=g.useState([]),[I,G]=g.useState({top:0,left:0}),[z,ae]=g.useState(null),J=g.useRef(null),[L,U]=g.useState(!1),[F,X]=g.useState(null),q=g.useCallback(async()=>{s(!0),i(null);try{const Ne=await Pbe({page:o,limit:p,search:y,sortBy:b,sortOrder:j});t(Ne.areaMasters||[]),f(Ne.totalPages||1),x(Ne.totalRecords||0),Ne.message&&Ne.areaMasters.length}catch(Ne){const ot=Ne.message||"Failed to fetch area masters";i(ot),me.error(ot),t([])}finally{s(!1)}},[o,p,y,b,j]);g.useEffect(()=>{q()},[q]);const te=Ne=>{N(Ne.target.value),l(1)},M=Ne=>{const ot=Ne==="Depot"?"depot.name":Ne.toLowerCase().replace(/\s+/g,"");b===ot?S(j==="asc"?"desc":"asc"):(w(ot),S("asc")),l(1)},W=({column:Ne})=>{const ot=Ne==="Depot"?"depot.name":Ne.toLowerCase().replace(/\s+/g,"");return b!==ot?n.jsx(Yg,{className:"ml-2 h-4 w-4 opacity-50"}):j==="asc"?n.jsx(tw,{className:"ml-2 h-4 w-4 text-blue-600"}):n.jsx(ew,{className:"ml-2 h-4 w-4 text-blue-600"})},K=()=>{D(null)},V=Ne=>{D(Ne),C(!0)},Q=Ne=>{X(Ne),U(!0)},ie=async()=>{if(F!==null)try{const Ne=await Ibe(F);me.success(Ne.message||"Area Master deleted successfully!"),q(),U(!1),X(null)}catch(Ne){const ot=Ne.message||"Failed to delete area master";me.error(ot),U(!1)}},xe=()=>{C(!1),D(null)},ue=(Ne,ot=3)=>{const Ee=Ne.split(",").map(Me=>Me.trim()).filter(Me=>Me.length===6);if(Ee.length===0)return n.jsx("span",{className:"text-gray-400",children:"N/A"});const Ae=Ee.slice(0,ot),Ye=Ee.length-ot,be=(Me,xt)=>{G({top:Me.pageY+10,left:Me.pageX-310}),B(xt),O(!0)},ge=()=>{z&&clearTimeout(z);const Me=setTimeout(()=>{O(!1)},300);ae(Me)};return n.jsxs("div",{className:"flex flex-wrap items-center gap-1 py-1",children:[Ae.map(Me=>n.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:Me},Me)),Ye>0&&n.jsxs("span",{ref:J,className:"px-2 py-0.5 bg-gray-200 text-gray-700 text-xs font-medium rounded-full cursor-help",onMouseEnter:Me=>be(Me,Ee),onMouseLeave:ge,children:["+",Ye," more"]})]})},de=()=>{xe(),l(1),q()},De=()=>!_||P.length===0?null:n.jsx("div",{style:{position:"absolute",top:`${I.top}px`,left:`${I.left}px`,zIndex:1e3},className:"p-2 bg-white border border-gray-300 rounded-md shadow-lg max-w-xs max-h-48 overflow-y-auto",onMouseEnter:()=>{z&&clearTimeout(z)},onMouseLeave:()=>{O(!1)},children:n.jsx("div",{className:"flex flex-wrap gap-1",children:P.map(Ne=>n.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:Ne},`tooltip-${Ne}`))})});return n.jsxs("div",{className:"p-4 md:p-6",children:[n.jsxs(hs,{open:A,onOpenChange:Ne=>{C(Ne),Ne||D(null)},children:[n.jsxs(At,{className:"shadow-xl",children:[n.jsx(Mt,{className:"px-4 sm:px-6 py-4 sm:py-5 border-b",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[n.jsx(Zt,{className:"text-xl sm:text-2xl font-semibold text-slate-800 dark:text-slate-100",children:"Area Master Management"}),n.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[n.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[n.jsx(tt,{type:"text",placeholder:"Search areas...",value:y,onChange:te,className:"pl-10 pr-4 py-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200"}),n.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400 dark:text-slate-500"})]}),n.jsx(V0,{asChild:!0,children:n.jsxs(he,{onClick:K,className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap",children:[n.jsx(Zs,{className:"mr-2 h-5 w-5"})," Add New Area"]})})]})]})}),n.jsxs(Dt,{className:"p-0",children:[a&&n.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error: ",a,". Please try refreshing the page."]}),!a&&r&&n.jsx("div",{className:"p-4 sm:p-6",children:n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((Ne,ot)=>n.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[n.jsx(Tt,{className:"h-8 w-2/6"}),n.jsx(Tt,{className:"h-8 w-2/6"}),n.jsx(Tt,{className:"h-8 w-1/6"}),n.jsx(Tt,{className:"h-8 w-1/6"}),n.jsx(Tt,{className:"h-8 w-10"})]},ot))})}),!a&&!r&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ps,{className:"min-w-full",children:[n.jsx(Ms,{className:"bg-slate-50 dark:bg-slate-800/50",children:n.jsxs(Xt,{children:[n.jsx(Ke,{onClick:()=>M("name"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:n.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Name ",n.jsx(W,{column:"name"})]})}),n.jsx(Ke,{className:"px-4 py-3 whitespace-nowrap font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Pincodes"}),n.jsx(Ke,{onClick:()=>M("depot.name"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:n.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Depot ",n.jsx(W,{column:"depot.name"})]})}),n.jsx(Ke,{onClick:()=>M("deliveryType"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:n.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Delivery Type ",n.jsx(W,{column:"deliveryType"})]})}),n.jsx(Ke,{onClick:()=>M("isDairyProduct"),className:"px-4 py-3 whitespace-nowrap cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:n.jsxs("div",{className:"flex items-center font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:["Dairy Support ",n.jsx(W,{column:"isDairyProduct"})]})}),n.jsx(Ke,{className:"text-right px-4 py-3 whitespace-nowrap font-semibold text-xs uppercase tracking-wider text-slate-600 dark:text-slate-300",children:"Actions"})]})}),n.jsx(Is,{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.length===0?n.jsx(Xt,{children:n.jsxs(ze,{colSpan:6,className:"text-center py-10 text-slate-500 dark:text-slate-400",children:["No area masters found. ",y?"Try adjusting your search.":"Click 'Add New Area' to create one."]})}):e.map(Ne=>{var ot;return n.jsxs(Xt,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 border-b last:border-b-0",children:[n.jsx(ze,{className:"font-medium px-4 py-3 whitespace-nowrap text-sm text-slate-700 dark:text-slate-200",children:Ne.name}),n.jsx(ze,{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 max-w-xs",children:ue(Ne.pincodes)}),n.jsx(ze,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:((ot=Ne.depot)==null?void 0:ot.name)??n.jsx("span",{className:"text-slate-400",children:"N/A"})}),n.jsx(ze,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ne.deliveryType===Im.HandDelivery?"bg-green-100 text-green-700 dark:bg-primary/20 dark:text-green-400":"bg-purple-100 text-purple-700 dark:bg-purple-700/20 dark:text-purple-400"}`,children:Ne.deliveryType.replace(/([A-Z])/g," $1").trim()})}),n.jsx(ze,{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ne.isDairyProduct?"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/20 dark:text-yellow-400":"bg-gray-100 text-gray-700 dark:bg-gray-700/20 dark:text-gray-400"}`,children:Ne.isDairyProduct?"Dairy Available":"No Dairy"})}),n.jsxs(ze,{className:"flex justify-end space-x-2 px-4 py-3 whitespace-nowrap",children:[n.jsx(he,{variant:"outline",size:"icon",onClick:()=>V(Ne),className:"hover:bg-slate-100 dark:hover:bg-slate-700",title:"Edit Area",children:n.jsx(bi,{className:"h-4 w-4"})}),n.jsx(he,{variant:"outline",size:"icon",onClick:()=>Q(Ne.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 dark:text-red-500 dark:hover:text-red-400",title:"Delete Area",children:n.jsx(fn,{className:"h-4 w-4"})})]})]},Ne.id)})})]})}),u>1&&n.jsx("div",{className:"p-4 sm:p-6 border-t dark:border-slate-700",children:n.jsx(pN,{currentPage:o,totalPages:u,onPageChange:l,totalRecords:h,limit:p})})]})]})]}),n.jsxs(ms,{className:"sm:max-w-[525px] max-h-[90vh] overflow-y-auto dark:bg-slate-800",children:[n.jsxs(ps,{children:[n.jsx(xs,{className:"dark:text-slate-100",children:T?"Edit Area Master":"Add New Area Master"}),n.jsx(Ya,{className:"dark:text-slate-400",children:T?"Update the details of the area master.":"Fill in the details to create a new area master."})]}),n.jsx(N5e,{initialData:T,onClose:()=>C(!1),onSuccess:de})]})]}),n.jsx(aa,{open:L,onOpenChange:U,children:n.jsxs(ia,{className:"dark:bg-slate-800",children:[n.jsxs(oa,{children:[n.jsx(ca,{className:"dark:text-slate-100",children:"Are you absolutely sure?"}),n.jsx(da,{className:"dark:text-slate-400",children:"This action cannot be undone. This will permanently delete the area master and remove its data from our servers."})]}),n.jsxs(la,{children:[n.jsx(fa,{className:"dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700",children:"Cancel"}),n.jsx(ua,{onClick:ie,className:"bg-red-600 hover:bg-red-700 text-white dark:bg-red-700 dark:hover:bg-red-800",children:"Delete"})]})]})}),De()]})},xN="/admin/categories",S5e=async(e={})=>{try{return await mt(xN,e)}catch(t){throw console.error("Failed to fetch categories:",t),t}},E5e=async e=>{try{return await $r(xN,e)}catch(t){throw console.error("Failed to create category:",t),t}},A5e=async(e,t)=>{try{return await un(`${xN}/${e}`,t)}catch(r){throw console.error(`Failed to update category ${e}:`,r),r}},T5e=async e=>{try{await Hn(`${xN}/${e}`)}catch(t){throw console.error(`Failed to delete category ${e}:`,t),t}},C5e=5*1024*1024,_5e=["image/jpeg","image/jpg","image/png","image/webp"],k5e=ws({name:ct().min(1,"Category name is required").max(100,"Name must be 100 characters or less"),isDairy:nl().default(!1),attachment:DT().optional().nullable().transform(e=>e&&e.length>0?e[0]:null).refine(e=>!e||e instanceof File,{message:"Attachment must be a valid file."}).refine(e=>!e||e.size<=C5e,{message:"Max file size is 5MB."}).refine(e=>!e||_5e.includes(e.type),{message:"Only .jpeg, .jpg, .png, and .webp formats are supported."}),imageUrl:ct().optional().nullable()}),D5e=({initialData:e,onClose:t,onSuccess:r})=>{const[s,a]=g.useState((e==null?void 0:e.imageUrl)||null),{register:i,handleSubmit:o,reset:l,setValue:u,watch:f,formState:{errors:h,isSubmitting:x}}=Js({resolver:en(k5e),defaultValues:{name:(e==null?void 0:e.name)||"",isDairy:(e==null?void 0:e.isDairy)||!1,attachment:null,imageUrl:(e==null?void 0:e.imageUrl)||null}}),p=f("attachment"),y=f("imageUrl");g.useEffect(()=>{e?(l({name:e.name,isDairy:e.isDairy||!1,attachment:null,imageUrl:e.imageUrl||null}),a(e.imageUrl?`https://www.indraai.in//${e.imageUrl}`:null)):(l({name:"",isDairy:!1,attachment:null,imageUrl:null}),a(null))},[e,l]),g.useEffect(()=>{if(p&&p instanceof File){const w=new FileReader;w.onloadend=()=>{a(w.result)},w.readAsDataURL(p)}else y?a(y.startsWith("data:")?y:`https://www.indraai.in//${y}`):p||a(null)},[p,y,"https://www.indraai.in//"]);const N=()=>{u("attachment",null,{shouldValidate:!0}),u("imageUrl",null),a(null)},b=async w=>{var S,A;const j=new FormData;j.append("name",w.name),j.append("isDairy",String(w.isDairy)),w.attachment&&j.append("attachment",w.attachment),e!=null&&e.id&&w.imageUrl===null&&e.imageUrl&&j.append("removeImage","true");try{let C;e&&e.id?(C=await A5e(e.id,j),me.success("Category updated successfully!")):(C=await E5e(j),me.success("Category created successfully!")),r(C)}catch(C){const T=((A=(S=C.response)==null?void 0:S.data)==null?void 0:A.message)||C.message||(e?"Failed to update category":"Failed to create category");me.error(T)}};return n.jsxs("form",{onSubmit:o(b),className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsxs(Te,{htmlFor:"name",children:["Category Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(tt,{id:"name",...i("name"),autoFocus:!0}),h.name&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.name.message})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bb,{id:"isDairy",checked:f("isDairy"),onCheckedChange:w=>u("isDairy",w)}),n.jsx(Te,{htmlFor:"isDairy",children:"Is Dairy?"}),h.isDairy&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.isDairy.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"attachment",children:"Category Image"}),n.jsx(tt,{id:"attachment",type:"file",accept:"image/*",...i("attachment")}),h.attachment&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.attachment.message})]}),s&&n.jsxs("div",{className:"mt-4 relative w-32 h-32 border rounded-md overflow-hidden group",children:[n.jsx("img",{src:s.startsWith("data:")||s.startsWith("http")?s:`https://www.indraai.in//${s}`,alt:"Preview",className:"w-full h-full object-cover"}),n.jsx(he,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity p-1 h-6 w-6",onClick:N,children:n.jsx(Zo,{className:"h-4 w-4"})})]}),!s&&n.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"No image selected."}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(he,{type:"button",variant:"outline",onClick:t,disabled:x,children:"Cancel"}),n.jsxs(he,{type:"submit",disabled:x,className:"gap-2",children:[x?n.jsx(Zr,{className:"h-4 w-4 animate-spin"}):e!=null&&e.id?n.jsx(I0,{className:"h-4 w-4"}):n.jsx(Zs,{className:"h-4 w-4"}),x?e!=null&&e.id?"Updating...":"Creating...":e!=null&&e.id?"Update Category":"Create Category"]})]})]})},O5e=()=>{const[e,t]=g.useState([]),[r,s]=g.useState(!1),[a,i]=g.useState(null),[o,l]=g.useState(1),[u,f]=g.useState(1),[h,x]=g.useState(0),[p,y]=g.useState(""),[N,b]=g.useState("name"),[w,j]=g.useState("asc"),[S,A]=g.useState(!1),[C,T]=g.useState(null),[D,_]=g.useState(!1),[O,P]=g.useState(null),B=10,I=g.useCallback(async()=>{s(!0),i(null);try{const te=await S5e({page:o,limit:B,search:p,sortBy:N,sortOrder:w});t(te.categories),f(te.totalPages),x(te.totalRecords)}catch(te){const M=te.message||"Failed to fetch categories";i(M),me.error(M)}s(!1)},[o,p,N,w]);g.useEffect(()=>{I()},[I]);const G=te=>{y(te.target.value),l(1)},z=te=>{N===te?j(w==="asc"?"desc":"asc"):(b(te),j("asc")),l(1)},ae=()=>{T(null),A(!0)},J=te=>{T(te),A(!0)},L=te=>{P(te),_(!0)},U=async()=>{if(O!==null){try{await T5e(O),me.success("Category deleted successfully"),e.length===1&&o>1?l(o-1):I()}catch(te){const M=te.message||"Failed to delete category";me.error(M)}_(!1),P(null)}},F=()=>{A(!1),I()},X=()=>{if(u<=1)return null;const te=[];for(let M=1;M<=u;M++)te.push(M);return n.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>l(M=>Math.max(M-1,1)),disabled:o===1,children:[n.jsx(M0,{size:16,className:"mr-1"})," Previous"]}),te.map(M=>n.jsx(he,{variant:o===M?"default":"outline",size:"sm",onClick:()=>l(M),children:M},M)),n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>l(M=>Math.min(M+1,u)),disabled:o===u,children:["Next ",n.jsx(wu,{size:16,className:"ml-1"})]})]})},q=["Image","Category Name","Actions"];return n.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[n.jsxs(hs,{open:S,onOpenChange:te=>{A(te),te||T(null)},children:[n.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Category Master"}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[n.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[n.jsx(tt,{type:"text",placeholder:"Search by category name...",value:p,onChange:G,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),n.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),n.jsx(V0,{asChild:!0,children:n.jsxs(he,{variant:"default",size:"lg",onClick:ae,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[n.jsx(Zs,{size:20,className:""})," Add New Category"]})})]})]}),r&&n.jsx("p",{className:"text-center py-6 text-gray-600",children:"Loading categories..."}),a&&n.jsxs("p",{className:"text-center py-6 text-red-600 font-medium",children:["Error: ",a]}),!r&&!a&&e.length===0&&n.jsxs("p",{className:"text-center py-10 text-gray-500",children:["No categories found. ",p?"Try adjusting your search.":'Click "Add New Category" to create one.']}),!r&&!a&&e.length>0&&n.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 bg-white",children:n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsx(Xt,{className:"bg-gray-100 hover:bg-gray-100",children:q.map(te=>n.jsxs(Ke,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>te!=="Actions"&&te!=="Image"&&z(te==="Category Name"?"name":te.toLowerCase()),children:[te,te!=="Image"&&N===(te==="Category Name"?"name":te.toLowerCase())&&n.jsx("span",{className:"ml-1",children:w==="asc"?"▲":"▼"})]},te))})}),n.jsx(Is,{className:"divide-y divide-gray-200",children:e.map(te=>n.jsxs(Xt,{className:"hover:bg-gray-50 transition-colors",children:[n.jsx(ze,{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:te.imageUrl?n.jsx("img",{src:`${Qb}${te.imageUrl}`,alt:te.name,className:"h-10 w-10 rounded-md object-cover"}):n.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center text-xs text-gray-400",children:"No Image"})}),n.jsx(ze,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800",children:te.name}),n.jsxs(ze,{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-3",children:[n.jsx("button",{onClick:()=>J(te),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Edit",children:n.jsx(bi,{size:18})}),n.jsx("button",{onClick:()=>L(te.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Delete",children:n.jsx(fn,{size:18})})]})]},te.id))})]})}),h>0&&X()]}),n.jsxs(ms,{className:"sm:max-w-[425px]",children:[n.jsxs(ps,{children:[n.jsx(xs,{children:C?"Edit Category":"Add New Category"}),n.jsx(Ya,{children:C?"Update the details of the category.":"Fill in the details to add a new category."})]}),n.jsx(D5e,{initialData:C,onClose:()=>A(!1),onSuccess:F})]})]}),n.jsx(aa,{open:D,onOpenChange:_,children:n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Are you absolutely sure?"}),n.jsx(da,{children:"This action cannot be undone. This will permanently delete the category."})]}),n.jsxs(la,{children:[n.jsx(fa,{onClick:()=>P(null),children:"Cancel"}),n.jsx(ua,{onClick:U,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},My="/api/admin/cities",R5e=async(e={})=>{try{return await mt(My,e)}catch(t){throw console.error("Failed to fetch cities:",t),t}},P5e=async()=>{try{const e=await mt(My,{limit:1e3});return console.log("Response returned ",e),e.cities}catch(e){throw console.error("Failed to fetch cities list:",e),e}},M5e=async e=>{try{return await $r(My,e)}catch(t){throw console.error("Failed to create city:",t),t}},I5e=async(e,t)=>{try{return await un(`${My}/${e}`,t)}catch(r){throw console.error(`Failed to update city ${e}:`,r),r}},F5e=async e=>{try{await Hn(`${My}/${e}`)}catch(t){throw console.error(`Failed to delete city ${e}:`,t),t}},L5e=ws({name:ct().min(1,"City name is required").max(100,"Name must be 100 characters or less")}),B5e=({initialData:e,onClose:t,onSuccess:r})=>{const{register:s,handleSubmit:a,reset:i,formState:{errors:o,isSubmitting:l}}=Js({resolver:en(L5e),defaultValues:{name:(e==null?void 0:e.name)||""}});g.useEffect(()=>{i(e?{name:e.name}:{name:""})},[e,i]);const u=async f=>{var h,x;try{let p;e&&e.id?(p=await I5e(e.id,f),me.success("City updated successfully!")):(p=await M5e(f),me.success("City created successfully!")),r(p)}catch(p){const y=((x=(h=p.response)==null?void 0:h.data)==null?void 0:x.message)||p.message||(e?"Failed to update city":"Failed to create city");me.error(y)}};return n.jsxs("form",{onSubmit:a(u),className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsxs(Te,{htmlFor:"name",children:["City Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(tt,{id:"name",...s("name"),autoFocus:!0}),o.name&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.name.message})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(he,{type:"button",variant:"outline",onClick:t,disabled:l,children:"Cancel"}),n.jsxs(he,{type:"submit",disabled:l,className:"gap-2",children:[l?n.jsx(Zr,{className:"h-4 w-4 animate-spin"}):n.jsx(I0,{className:"h-4 w-4"}),l?"Saving...":"Save"]})]})]})},$5e=()=>{const[e,t]=g.useState([]),[r,s]=g.useState(!1),[a,i]=g.useState(null),[o,l]=g.useState(1),[u,f]=g.useState(""),[h,x]=g.useState(!1),[p,y]=g.useState(null),[N,b]=g.useState(!1),[w,j]=g.useState(null),S=10,A=g.useCallback(async()=>{s(!0),i(null);try{const B=await R5e({page:o,limit:S,search:u});t(B.cities)}catch(B){const I=B.message||"Failed to fetch cities";i(I),me.error(I)}s(!1)},[o,u]);g.useEffect(()=>{A()},[A]);const C=B=>{f(B.target.value),l(1)},T=()=>{y(null),x(!0)},D=B=>{y(B),x(!0)},_=B=>{j(B),b(!0)},O=async()=>{if(w!==null){try{await F5e(w),me.success("City deleted successfully"),e.length===1&&o>1?l(o-1):A()}catch(B){const I=B.message||"Failed to delete city";me.error(I)}b(!1),j(null)}},P=()=>{x(!1),A()};return n.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[n.jsxs(hs,{open:h,onOpenChange:B=>{x(B),B||y(null)},children:[n.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"City Master"}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[n.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[n.jsx(tt,{type:"text",placeholder:"Search by city name...",value:u,onChange:C,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),n.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),n.jsx(V0,{asChild:!0,children:n.jsxs(he,{variant:"default",size:"lg",onClick:T,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[n.jsx(Zs,{size:20,className:"mr-2"})," Add New City"]})})]})]}),r&&n.jsx("p",{children:"Loading..."}),a&&n.jsx("p",{className:"text-red-500",children:a}),n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsxs(Xt,{children:[n.jsx(Ke,{children:"City Name"}),n.jsx(Ke,{children:"Actions"})]})}),n.jsx(Is,{children:e.map(B=>n.jsxs(Xt,{children:[n.jsx(ze,{children:B.name}),n.jsxs(ze,{children:[n.jsx(he,{variant:"ghost",size:"icon",onClick:()=>D(B),children:n.jsx(bi,{size:16})}),n.jsx(he,{variant:"ghost",size:"icon",onClick:()=>_(B.id),children:n.jsx(fn,{size:16})})]})]},B.id))})]})]}),n.jsxs(ms,{children:[n.jsx(ps,{children:n.jsx(xs,{children:p?"Edit City":"Create City"})}),n.jsx(B5e,{initialData:p,onClose:()=>x(!1),onSuccess:P})]})]}),n.jsx(aa,{open:N,onOpenChange:b,children:n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Are you sure?"}),n.jsx(da,{children:"This action cannot be undone. This will permanently delete the city."})]}),n.jsxs(la,{children:[n.jsx(fa,{children:"Cancel"}),n.jsx(ua,{onClick:O,children:"Delete"})]})]})})]})},gN="/api/admin/locations",U5e=async(e={})=>{try{return await mt(gN,e)}catch(t){throw console.error("Failed to fetch locations:",t),t}},V5e=async e=>{try{return await $r(gN,e)}catch(t){throw console.error("Failed to create location:",t),t}},q5e=async(e,t)=>{try{return await un(`${gN}/${e}`,t)}catch(r){throw console.error(`Failed to update location ${e}:`,r),r}},z5e=async e=>{try{await Hn(`${gN}/${e}`)}catch(t){throw console.error(`Failed to delete location ${e}:`,t),t}},H5e=async()=>{const e=await mt("/agencies",{params:{limit:1e3}});return e.data.data||e.data},W5e=ws({name:ct().min(1,"Name is required"),cityId:xi({required_error:"City is required"}).min(1,"City is required"),agencyId:xi().nullable().optional()}),G5e=({initialData:e,onClose:t,onSuccess:r})=>{var w;const[s,a]=g.useState([]),[i,o]=g.useState([]),l=Js({resolver:en(W5e),defaultValues:{name:(e==null?void 0:e.name)||"",cityId:e==null?void 0:e.cityId,agencyId:(e==null?void 0:e.agencyId)||null}}),{register:u,handleSubmit:f,reset:h,setValue:x,watch:p,formState:{errors:y,isSubmitting:N}}=l;g.useEffect(()=>{(async()=>{try{const[S,A]=await Promise.all([P5e(),H5e()]);a(S),o(A)}catch{me.error("Failed to fetch cities or agencies")}})()},[]),g.useEffect(()=>{h(e?{name:e.name,cityId:e.cityId,agencyId:e.agencyId||null}:{name:"",cityId:void 0,agencyId:null})},[e,h]);const b=async j=>{var S,A;try{const C=await(e!=null&&e.id?q5e(e.id,j):V5e(j));me.success(`Location ${e!=null&&e.id?"updated":"created"} successfully!`),r(C)}catch(C){const T=((A=(S=C.response)==null?void 0:S.data)==null?void 0:A.message)||C.message||"An unexpected error occurred";me.error(T)}};return n.jsxs("form",{onSubmit:f(b),className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsxs(Te,{htmlFor:"name",children:["Location Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(tt,{id:"name",...u("name"),autoFocus:!0}),y.name&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.name.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsxs(Te,{htmlFor:"cityId",children:["City ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(er,{onValueChange:j=>x("cityId",parseInt(j,10)),value:((w=p("cityId"))==null?void 0:w.toString())||"",children:[n.jsx(rr,{children:n.jsx(tr,{placeholder:"Select a city"})}),n.jsx(sr,{children:s.map(j=>n.jsx(yt,{value:j.id.toString(),children:j.name},j.id))})]}),y.cityId&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.cityId.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{children:"Agency"}),n.jsxs(er,{onValueChange:j=>x("agencyId",j==="null"?null:parseInt(j,10)),value:p("agencyId")!=null?String(p("agencyId")):"null",children:[n.jsx(rr,{children:n.jsx(tr,{placeholder:"Select an agency"})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"null",children:"None"}),i.map(j=>n.jsx(yt,{value:j.id.toString(),children:j.name},j.id))]})]}),y.agencyId&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.agencyId.message})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(he,{type:"button",variant:"outline",onClick:t,disabled:N,children:"Cancel"}),n.jsxs(he,{type:"submit",disabled:N,className:"gap-2",children:[N?n.jsx(Zr,{className:"h-4 w-4 animate-spin"}):n.jsx(I0,{className:"h-4 w-4"}),N?"Saving...":"Save"]})]})]})},Y5e=()=>{const[e,t]=g.useState([]),[r,s]=g.useState(!1),[a,i]=g.useState(null),[o,l]=g.useState(1),[u,f]=g.useState(""),[h,x]=g.useState(!1),[p,y]=g.useState(null),[N,b]=g.useState(!1),[w,j]=g.useState(null),S=10,A=g.useCallback(async()=>{s(!0),i(null);try{const B=await U5e({page:o,limit:S,search:u});t(B.locations)}catch(B){const I=B.message||"Failed to fetch locations";i(I),me.error(I)}s(!1)},[o,u]);g.useEffect(()=>{A()},[A]);const C=B=>{f(B.target.value),l(1)},T=()=>{y(null),x(!0)},D=B=>{y(B),x(!0)},_=B=>{j(B),b(!0)},O=async()=>{if(w!==null){try{await z5e(w),me.success("Location deleted successfully"),e.length===1&&o>1?l(o-1):A()}catch(B){const I=B.message||"Failed to delete location";me.error(I)}b(!1),j(null)}},P=()=>{x(!1),A()};return n.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[n.jsxs(hs,{open:h,onOpenChange:B=>{x(B),B||y(null)},children:[n.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"Location Master"}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-end items-center mb-6 gap-2",children:[n.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[n.jsx(tt,{type:"text",placeholder:"Search by location name...",value:u,onChange:C,className:"pl-10 min-h-10  border border-gray-300 rounded-lg  min-w-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"}),n.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),n.jsx(V0,{asChild:!0,children:n.jsxs(he,{variant:"default",size:"lg",onClick:T,className:"shadow-md hover:shadow-lg transition-all duration-150",children:[n.jsx(Zs,{size:20,className:"mr-2"})," Add New Location"]})})]})]}),r&&n.jsx("p",{children:"Loading..."}),a&&n.jsx("p",{className:"text-red-500",children:a}),n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsxs(Xt,{children:[n.jsx(Ke,{children:"Location Name"}),n.jsx(Ke,{children:"City"}),n.jsx(Ke,{children:"Actions"})]})}),n.jsx(Is,{children:e.map(B=>n.jsxs(Xt,{children:[n.jsx(ze,{children:B.name}),n.jsx(ze,{children:B.city.name}),n.jsxs(ze,{children:[n.jsx(he,{variant:"ghost",size:"icon",onClick:()=>D(B),children:n.jsx(bi,{size:16})}),n.jsx(he,{variant:"ghost",size:"icon",onClick:()=>_(B.id),children:n.jsx(fn,{size:16})})]})]},B.id))})]})]}),n.jsxs(ms,{children:[n.jsx(ps,{children:n.jsx(xs,{children:p?"Edit Location":"Create Location"})}),n.jsx(G5e,{initialData:p,onClose:()=>x(!1),onSuccess:P})]})]}),n.jsx(aa,{open:N,onOpenChange:b,children:n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Are you sure?"}),n.jsx(da,{children:"This action cannot be undone. This will permanently delete the location."})]}),n.jsxs(la,{children:[n.jsx(fa,{children:"Cancel"}),n.jsx(ua,{onClick:O,children:"Delete"})]})]})})]})},K5e=ws({name:ct().min(1,"Depot name is required").max(100,"Name must be 100 characters or less"),address:ct().min(1,"Address is required").max(255,"Address must be 255 characters or less"),contactPerson:ct().max(100,"Contact person must be 100 characters or less").optional().or(Um("")),contactNumber:ct().max(20,"Contact number must be 20 characters or less").optional().or(Um("")),userFullName:ct().optional(),userLoginEmail:ct().email("Invalid email address").optional().or(Um("")),userPassword:ct().optional(),isOnline:nl().optional(),agencyId:PT(e=>e?Number(e):null,xi().optional().nullable())}),X5e=({isOpen:e,onClose:t,onSubmitSuccess:r,initialData:s})=>{const a=!!(s!=null&&s.id),i=K5e.superRefine((b,w)=>{a||((!b.userFullName||b.userFullName.length<2)&&w.addIssue({code:ht.custom,message:"Admin full name is required",path:["userFullName"]}),(!b.userPassword||b.userPassword.length<6)&&w.addIssue({code:ht.custom,message:"Password must be at least 6 characters",path:["userPassword"]}))}),[o,l]=g.useState([]),{register:u,handleSubmit:f,reset:h,control:x,formState:{errors:p,isSubmitting:y}}=Js({context:{isEditMode:a},resolver:en(i)});g.useEffect(()=>{e&&(async()=>{try{const w=await mt("/agencies");l(w.data||[])}catch(w){console.error("Failed to fetch agencies:",w),me.error("Failed to load agencies for selection.")}})()},[e]),g.useEffect(()=>{if(e){const b={name:"",address:"",contactPerson:"",contactNumber:"",userFullName:"",userLoginEmail:"",userPassword:"",isOnline:!1,agencyId:null};h(s?{...b,...s}:b)}},[o,s,e,h]);const N=async b=>{console.log("Submitting data:",b);try{if(s!=null&&s.id){const{userFullName:w,userLoginEmail:j,userPassword:S,...A}=b;console.log("Payload for PUT request:",A),await un(`/admin/depots/${s.id}`,A),me.success("Depot updated successfully.")}else await $r("/admin/depots",b),me.success("Depot created successfully.");r(),t()}catch(w){console.error("Failed to save depot:",w),me.error(w.message||"An unknown error occurred while saving the depot.")}};return e?n.jsx(hs,{open:e,onOpenChange:b=>!b&&t(),children:n.jsxs(ms,{className:"sm:max-w-lg h-[550px] overflow-y-auto",children:[n.jsxs(ps,{children:[n.jsx(xs,{children:s!=null&&s.id?"Edit Depot":"Add New Depot"}),n.jsx(Ya,{children:s!=null&&s.id?"Update the details of this depot.":"Fill in the form below to create a new depot."})]}),n.jsxs("form",{onSubmit:f(N),className:"grid gap-6 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsxs(Te,{htmlFor:"name",children:["Depot Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(tt,{id:"name",...u("name"),placeholder:"e.g. Central Warehouse"}),p.name&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.name.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsxs(Te,{htmlFor:"address",children:["Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(tt,{id:"address",...u("address"),placeholder:"e.g. 123 Main St, Anytown"}),p.address&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.address.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"contactPerson",children:"Contact Person"}),n.jsx(tt,{id:"contactPerson",...u("contactPerson"),placeholder:"e.g. John Doe"}),p.contactPerson&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.contactPerson.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"contactNumber",children:"Contact Number"}),n.jsx(tt,{id:"contactNumber",...u("contactNumber"),placeholder:"e.g. +1-555-123-4567"}),p.contactNumber&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.contactNumber.message})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ur,{name:"isOnline",control:x,render:({field:b})=>n.jsx(Du,{id:"isOnline",checked:b.value,onCheckedChange:b.onChange})}),n.jsx(Te,{htmlFor:"isOnline",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Depot is Online"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"agencyId",children:"Assign Agency"}),n.jsx(Ur,{name:"agencyId",control:x,render:({field:b})=>n.jsxs(er,{onValueChange:w=>b.onChange(w==="null"?null:w),value:b.value?String(b.value):"null",children:[n.jsx(rr,{children:n.jsx(tr,{placeholder:"Select an agency"})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"null",children:"None"}),o.map(w=>n.jsx(yt,{value:String(w.id),children:w.name},w.id))]})]})}),p.agencyId&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.agencyId.message})]}),!(s!=null&&s.id)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsxs(Te,{htmlFor:"userFullName",children:["Admin Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(tt,{id:"userFullName",...u("userFullName"),placeholder:"e.g. Jane Admin"}),p.userFullName&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.userFullName.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"userLoginEmail",children:"Admin Email"}),n.jsx(tt,{id:"userLoginEmail",...u("userLoginEmail"),placeholder:"e.g. depot@company.com"}),p.userLoginEmail&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.userLoginEmail.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsxs(Te,{htmlFor:"userPassword",children:["Admin Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(tt,{id:"userPassword",type:"password",...u("userPassword"),placeholder:"Min 6 characters"}),p.userPassword&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.userPassword.message})]})]}),n.jsxs(gi,{className:"mt-2",children:[n.jsx(Mc,{asChild:!0,children:n.jsx(he,{type:"button",variant:"outline",onClick:t,disabled:y,children:"Cancel"})}),n.jsxs(he,{type:"submit",disabled:y,className:"gap-2",children:[y?n.jsx(Zr,{className:"h-4 w-4 animate-spin"}):s!=null&&s.id?n.jsx(I0,{className:"h-4 w-4"}):n.jsx(Zs,{className:"h-4 w-4"}),y?s!=null&&s.id?"Saving...":"Creating...":s!=null&&s.id?"Save Changes":"Create Depot"]})]})]})]})}):null},L6="/admin/depots",Q5e=()=>{const[e,t]=g.useState([]),[r,s]=g.useState(!1),[a,i]=g.useState(void 0),[o,l]=g.useState(!1),[u,f]=g.useState(null),[h,x]=g.useState(!0),[p,y]=g.useState(""),[N,b]=g.useState(1),[w,j]=g.useState(1),[S,A]=g.useState(0),[C,T]=g.useState("name"),[D,_]=g.useState("asc"),O=10,P=g.useRef(null),B=g.useCallback(async()=>{x(!0);try{const F=await mt(L6,{page:N,limit:O,search:p,sortBy:C,sortOrder:D});t(F.depots||[]),j(F.totalPages||1),A(F.totalRecords||0)}catch(F){console.error("Failed to fetch depots:",F),me.error(F.message||"Failed to fetch depots."),t([])}finally{x(!1)}},[N,p,C,D]);g.useEffect(()=>(P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{B()},300),()=>{P.current&&clearTimeout(P.current)}),[B,p]);const I=()=>{i(void 0),s(!0)},G=F=>{var q;const X={...F,agencyId:(q=F.agency)==null?void 0:q.id};i(X),s(!0)},z=F=>{f(F),l(!0)},ae=async()=>{if(u)try{await Hn(`${L6}/${u.id}`),me.success("Depot deleted successfully."),B(),l(!1),f(null)}catch(F){console.error("Failed to delete depot:",F),me.error(F.message||"Failed to delete depot."),l(!1)}},J=()=>{B()},L=F=>{C===F?_(D==="asc"?"desc":"asc"):(T(F),_("asc")),b(1)},U=({column:F})=>C!==F?n.jsx(Yg,{className:"ml-2 h-4 w-4 opacity-50"}):D==="asc"?n.jsx(tw,{className:"ml-2 h-4 w-4"}):n.jsx(ew,{className:"ml-2 h-4 w-4"});return n.jsx("div",{className:"container mx-auto p-4 max-w-7xl",children:n.jsxs(At,{className:"border-0 shadow-sm",children:[n.jsx(Mt,{className:"px-6 py-4 border-b",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsx(Zt,{className:"text-2xl font-semibold",children:"Depot Management"}),n.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[n.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[n.jsx(Os,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(tt,{placeholder:"Search depots...",value:p,onChange:F=>{y(F.target.value),b(1)},className:"pl-10 w-full sm:w-64 md:w-80"})]}),n.jsxs(he,{onClick:I,className:"gap-2 whitespace-nowrap",children:[n.jsx(Zs,{className:"h-4 w-4"})," Add Depot"]})]})]})}),n.jsxs(Dt,{className:"p-0 sm:p-6",children:[h?n.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((F,X)=>n.jsx(Tt,{className:"h-12 w-full rounded-md"},X))}):e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:n.jsx(Os,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:p?"No Matching Depots Found":"No Depots Yet"}),n.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:p?"Try adjusting your search criteria or add a new depot.":"Get started by adding your first depot. It’s quick and easy!"}),!p&&n.jsxs(he,{onClick:I,className:"gap-2",children:[n.jsx(Zs,{className:"h-4 w-4"})," Add New Depot"]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ps,{className:"min-w-full",children:[n.jsx(Ms,{className:"bg-slate-50 dark:bg-slate-800",children:n.jsxs(Xt,{children:[n.jsx(Ke,{onClick:()=>L("name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Name ",n.jsx(U,{column:"name"})]})}),n.jsx(Ke,{onClick:()=>L("address"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Address ",n.jsx(U,{column:"address"})]})}),n.jsx(Ke,{className:"px-4 py-3 whitespace-nowrap",children:"Contact Person"}),n.jsx(Ke,{className:"px-4 py-3 whitespace-nowrap",children:"Contact Number"}),n.jsx(Ke,{onClick:()=>L("createdAt"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Created At ",n.jsx(U,{column:"createdAt"})]})}),n.jsx(Ke,{className:"text-right px-4 py-3 whitespace-nowrap",children:"Actions"})]})}),n.jsx(Is,{children:e.map(F=>n.jsxs(Xt,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 border-b last:border-b-0",children:[n.jsx(ze,{className:"font-medium px-4 py-3 whitespace-nowrap",children:F.name}),n.jsx(ze,{className:"px-4 py-3 whitespace-nowrap",children:F.address}),n.jsx(ze,{className:"px-4 py-3 whitespace-nowrap",children:F.contactPerson||"-"}),n.jsx(ze,{className:"px-4 py-3 whitespace-nowrap",children:F.contactNumber||"-"}),n.jsx(ze,{className:"px-4 py-3 whitespace-nowrap",children:new Date(F.createdAt).toLocaleDateString()}),n.jsxs(ze,{className:"flex justify-end space-x-2 px-4 py-3 whitespace-nowrap",children:[n.jsx(he,{variant:"outline",size:"icon",onClick:()=>G(F),className:"hover:bg-slate-100 dark:hover:bg-slate-700",title:"Edit Depot",children:n.jsx(bi,{className:"h-4 w-4"})}),n.jsx(he,{variant:"outline",size:"icon",onClick:()=>z(F),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 dark:text-red-500 dark:hover:text-red-400",title:"Delete Depot",children:n.jsx(fn,{className:"h-4 w-4"})})]})]},F.id))})]})}),w>1&&n.jsx("div",{className:"p-4 sm:p-6 border-t",children:n.jsx(pN,{currentPage:N,totalPages:w,onPageChange:b,totalRecords:S,limit:O})})]}),n.jsx(X5e,{isOpen:r,onClose:()=>s(!1),onSubmitSuccess:J,initialData:a}),n.jsx(aa,{open:o,onOpenChange:l,children:n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Confirm Deletion"}),n.jsx(da,{children:"Are you sure you want to delete this depot? This action cannot be undone and the depot data will be permanently lost."})]}),n.jsxs(la,{children:[n.jsx(fa,{onClick:()=>f(null),children:"Cancel"}),n.jsx(ua,{onClick:ae,className:"bg-red-600 hover:bg-red-700 text-white dark:bg-red-700 dark:hover:bg-red-800",children:"Delete Depot"})]})]})})]})]})})},yN="/admin/depot-product-variants",Z5e=async(e={})=>await mt(yN,e),J5e=async e=>await $r(yN,e),eRe=async(e,t)=>await un(`${yN}/${e}`,t),tRe=async e=>{await Hn(`${yN}/${e}`)},rRe=async()=>{const e=await mt("/products",{select:"id,name",limit:1e3});return e.data??e},sRe=ws({productId:Ln.number().int().positive({message:"Product ID is required"}),name:ct().min(1,"Variant name is required"),hsnCode:ct().optional(),mrp:Ln.number({invalid_type_error:"MRP must be a number"}).nonnegative(),minimumQty:Ln.number().int().nonnegative(),price3Day:Ln.number({invalid_type_error:"3-day price must be a number"}).nonnegative().optional(),price7Day:Ln.number({invalid_type_error:"7-day price must be a number"}).nonnegative().optional(),price15Day:Ln.number({invalid_type_error:"15-day price must be a number"}).nonnegative().optional(),price1Month:Ln.number({invalid_type_error:"1-month price must be a number"}).nonnegative().optional(),notInStock:nl().default(!1),isHidden:nl().default(!1),buyOncePrice:Ln.number().nonnegative().optional()}),nRe=({initialData:e,onClose:t,onSuccess:r})=>{const[s,a]=g.useState([]),{register:i,handleSubmit:o,reset:l,setValue:u,watch:f,formState:{errors:h,isSubmitting:x}}=Js({resolver:en(sRe),defaultValues:{productId:(e==null?void 0:e.productId)||0,name:(e==null?void 0:e.name)||"",hsnCode:(e==null?void 0:e.hsnCode)||"",mrp:(e==null?void 0:e.mrp)||0,minimumQty:(e==null?void 0:e.minimumQty)||0,notInStock:(e==null?void 0:e.notInStock)||!1,price3Day:(e==null?void 0:e.price3Day)??0,price7Day:(e==null?void 0:e.price7Day)??0,price15Day:(e==null?void 0:e.price15Day)??0,price1Month:(e==null?void 0:e.price1Month)??0,isHidden:(e==null?void 0:e.isHidden)||!1,buyOncePrice:(e==null?void 0:e.buyOncePrice)??0}});g.useEffect(()=>{(async()=>{try{const y=await rRe();a(y)}catch(y){console.error("Failed to load products",y)}})()},[]),g.useEffect(()=>{e&&l({productId:e.productId,name:e.name,hsnCode:e.hsnCode??"",mrp:e.mrp,minimumQty:e.minimumQty,notInStock:e.notInStock,isHidden:e.isHidden,price3Day:e.price3Day??0,price7Day:e.price7Day??0,price15Day:e.price15Day??0,price1Month:e.price1Month??0,buyOncePrice:e.buyOncePrice??0})},[e,l]);const p=async y=>{try{e?(await eRe(e.id,y),me.success("Variant updated")):(await J5e(y),me.success("Variant created")),r()}catch(N){me.error(N.message||"Error saving variant")}};return n.jsxs("form",{onSubmit:o(p),className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"productId",children:"Product *"}),n.jsxs(er,{value:f("productId")?String(f("productId")):void 0,onValueChange:y=>u("productId",Number(y),{shouldValidate:!0}),children:[n.jsx(rr,{className:"w-full",children:n.jsx(tr,{placeholder:"Select product"})}),n.jsx(sr,{children:s.map(y=>n.jsx(yt,{value:String(y.id),children:y.name},y.id))})]}),h.productId&&n.jsx("p",{className:"text-sm text-red-600",children:h.productId.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"name",children:"Variant Name *"}),n.jsx(tt,{id:"name",...i("name")}),h.name&&n.jsx("p",{className:"text-sm text-red-600",children:h.name.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"hsnCode",children:"HSN Code"}),n.jsx(tt,{id:"hsnCode",...i("hsnCode")})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"mrp",children:"MRP *"}),n.jsx(tt,{type:"number",step:"0.01",id:"mrp",...i("mrp")}),h.mrp&&n.jsx("p",{className:"text-sm text-red-600",children:h.mrp.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"minimumQty",children:"Minimum Qty *"}),n.jsx(tt,{type:"number",id:"minimumQty",...i("minimumQty")}),h.minimumQty&&n.jsx("p",{className:"text-sm text-red-600",children:h.minimumQty.message})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"price3Day",children:"Price – 3 Day"}),n.jsx(tt,{type:"number",step:"0.01",id:"price3Day",...i("price3Day")})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"price7Day",children:"Price – 7 Day"}),n.jsx(tt,{type:"number",step:"0.01",id:"price7Day",...i("price7Day")})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"price15Day",children:"Price – 15 Day"}),n.jsx(tt,{type:"number",step:"0.01",id:"price15Day",...i("price15Day")})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"price1Month",children:"Price – 1 Month"}),n.jsx(tt,{type:"number",step:"0.01",id:"price1Month",...i("price1Month")})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Te,{htmlFor:"buyOncePrice",children:"Buy Once Price"}),n.jsx(tt,{id:"buyOncePrice",type:"number",...i("buyOncePrice")}),h.buyOncePrice&&n.jsx("p",{className:"text-sm text-red-500",children:h.buyOncePrice.message})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bb,{id:"notInStock",checked:f("notInStock"),onCheckedChange:y=>u("notInStock",y)}),n.jsx(Te,{htmlFor:"notInStock",children:"Not In Stock"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bb,{id:"isHidden",checked:f("isHidden"),onCheckedChange:y=>u("isHidden",y)}),n.jsx(Te,{htmlFor:"isHidden",children:"Hidden?"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(he,{type:"button",variant:"outline",onClick:t,disabled:x,children:"Cancel"}),n.jsxs(he,{type:"submit",disabled:x,className:"gap-2",children:[x?n.jsx(Zr,{className:"h-4 w-4 animate-spin"}):e?n.jsx(I0,{className:"h-4 w-4"}):n.jsx(Zs,{className:"h-4 w-4"}),x?e?"Updating…":"Creating…":e?"Update":"Create"]})]})]})},aRe=()=>{const[e,t]=g.useState([]),[r,s]=g.useState(1),[a,i]=g.useState(1),[o,l]=g.useState(""),u=10,[f,h]=g.useState(!1),[x,p]=g.useState(null),[y,N]=g.useState(!1),[b,w]=g.useState(null),j=g.useCallback(async()=>{try{const _=await Z5e({page:r,limit:u});t(_.data),i(_.totalPages)}catch(_){me.error(_.message||"Failed to fetch variants")}},[r]);g.useEffect(()=>{j()},[j]);const S=()=>{p(null),h(!0)},A=_=>{p(_),h(!0)},C=_=>{w(_),N(!0)},T=async()=>{if(b!=null){try{await tRe(b),me.success("Variant deleted"),j()}catch(_){me.error(_.message||"Failed to delete variant")}N(!1),w(null)}},D=()=>{if(a<=1)return null;const _=Array.from({length:a},(O,P)=>P+1);return n.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>s(O=>Math.max(O-1,1)),disabled:r===1,children:[n.jsx(M0,{size:16,className:"mr-1"})," Previous"]}),_.map(O=>n.jsx(he,{variant:r===O?"default":"outline",size:"sm",onClick:()=>s(O),children:O},O)),n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>s(O=>Math.min(O+1,a)),disabled:r===a,children:["Next ",n.jsx(wu,{size:16,className:"ml-1"})]})]})};return n.jsxs("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[n.jsxs(hs,{open:f,onOpenChange:_=>{h(_),_||p(null)},children:[n.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"Depot Product Variants"}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2 items-center",children:[n.jsxs("div",{className:"relative w-full max-md:w-2/5",children:[n.jsx(tt,{placeholder:"Search...",value:o,onChange:_=>l(_.target.value),className:"pl-10 min-h-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),n.jsx(Os,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]}),n.jsx(V0,{asChild:!0,children:n.jsxs(he,{variant:"default",size:"lg",onClick:S,className:"gap-2 shadow-md",children:[n.jsx(Zs,{size:20})," Add New Variant"]})})]})]}),n.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 bg-white",children:n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsx(Xt,{className:"bg-gray-100",children:["Depot","Product","Name","Selling","Purchase","Closing Qty","Actions"].map(_=>n.jsx(Ke,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:_},_))})}),n.jsx(Is,{className:"divide-y divide-gray-200",children:e.map(_=>{var O,P;return n.jsxs(Xt,{className:"hover:bg-gray-50",children:[n.jsx(ze,{className:"px-6 py-4 text-sm",children:((O=_==null?void 0:_.depot)==null?void 0:O.name)??_.depotId}),n.jsx(ze,{className:"px-6 py-4 text-sm",children:(P=_==null?void 0:_.product)==null?void 0:P.name}),n.jsx(ze,{className:"px-6 py-4 text-sm font-medium",children:_.name}),n.jsx(ze,{className:"px-6 py-4 text-sm",children:bs(_.sellingPrice)}),n.jsx(ze,{className:"px-6 py-4 text-sm",children:bs(_.purchasePrice)}),n.jsx(ze,{className:"px-6 py-4 text-sm",children:_.closingQty}),n.jsxs(ze,{className:"px-6 py-4 text-sm space-x-3",children:[n.jsx("button",{onClick:()=>A(_),className:"text-blue-600 hover:text-blue-800",children:n.jsx(bi,{size:18})}),n.jsx("button",{onClick:()=>C(_.id),className:"text-red-600 hover:text-red-800",children:n.jsx(fn,{size:18})})]})]},_.id)})})]})}),D()]}),n.jsxs(ms,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(ps,{children:[n.jsx(xs,{children:x?"Edit Variant":"Add New Variant"}),n.jsx(Ya,{children:x?"Update variant details":"Fill details to create variant"})]}),n.jsx(nRe,{initialData:x,onClose:()=>h(!1),onSuccess:()=>{h(!1),j()}})]})]}),n.jsx(aa,{open:y,onOpenChange:N,children:n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Are you sure?"}),n.jsx(da,{children:"This action will delete the variant."})]}),n.jsxs(la,{children:[n.jsx(fa,{children:"Cancel"}),n.jsx(ua,{className:"bg-red-600 hover:bg-red-700",onClick:T,children:"Delete"})]})]})})]})},iRe=({searchTerm:e,onEditUser:t,refreshKey:r})=>{const[s,a]=g.useState([]),[i,o]=g.useState(!1),[l,u]=g.useState(null),[f,h]=g.useState(!0),[x,p]=g.useState(1),[y,N]=g.useState(1),[b,w]=g.useState(0),[j,S]=g.useState("name"),[A,C]=g.useState("asc"),T=10,D=g.useRef(null),_=g.useCallback(async()=>{h(!0);try{const z=await mt("/teams/users",{page:x,limit:T,search:e,sortBy:j,sortOrder:A});a(z.users||[]),N(z.totalPages||1),w(z.totalRecords||0)}catch(z){console.error("Failed to fetch users:",z),me.error(z.message||"Failed to fetch users."),a([])}finally{h(!1)}},[x,e,j,A,r]);g.useEffect(()=>(D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{_()},300),()=>{D.current&&clearTimeout(D.current)}),[_,e]);const O=z=>{u(z),o(!0)},P=async()=>{if(l)try{await Hn(`/teams/users/${l.id}`),me.success("User deleted successfully."),_(),o(!1),u(null)}catch(z){console.error("Failed to delete user:",z),me.error(z.message||"Failed to delete user."),o(!1)}},B=async z=>{try{await zi(`/teams/users/${z.id}/status`,{}),me.success(`User ${z.active?"deactivated":"activated"} successfully.`),_()}catch(ae){console.error("Failed to change user status:",ae),me.error(ae.message||"Failed to change user status.")}},I=z=>{j===z?C(A==="asc"?"desc":"asc"):(S(z),C("asc")),p(1)},G=({column:z})=>j!==z?n.jsx(Yg,{className:"ml-2 h-4 w-4 opacity-50"}):A==="asc"?n.jsx(tw,{className:"ml-2 h-4 w-4"}):n.jsx(ew,{className:"ml-2 h-4 w-4"});return n.jsxs(n.Fragment,{children:[f?n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((z,ae)=>n.jsx(Tt,{className:"h-12 w-full rounded-md"},ae))}):s.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:n.jsx(Os,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:e?"No Matching Users Found":"No Users Yet"}),n.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:e?"Try adjusting your search criteria or add a new user.":"Get started by adding your first user."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ps,{className:"min-w-full",children:[n.jsx(Ms,{className:"bg-slate-50 dark:bg-slate-800",children:n.jsxs(Xt,{children:[n.jsx(Ke,{onClick:()=>I("name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Name ",n.jsx(G,{column:"name"})]})}),n.jsx(Ke,{onClick:()=>I("email"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Email ",n.jsx(G,{column:"email"})]})}),n.jsx(Ke,{onClick:()=>I("mobile"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Phone ",n.jsx(G,{column:"mobile"})]})}),n.jsx(Ke,{onClick:()=>I("role"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Role ",n.jsx(G,{column:"role"})]})}),n.jsx(Ke,{onClick:()=>I("depot.name"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Depot ",n.jsx(G,{column:"depot.name"})]})}),n.jsx(Ke,{onClick:()=>I("joiningDate"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Joining Date ",n.jsx(G,{column:"joiningDate"})]})}),n.jsx(Ke,{onClick:()=>I("active"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Status ",n.jsx(G,{column:"active"})]})}),n.jsx(Ke,{className:"px-4 py-3",children:"Actions"})]})}),n.jsx(Is,{children:s.map(z=>{var ae;return n.jsxs(Xt,{className:"border-b hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[n.jsx(ze,{className:"px-4 py-3 font-medium",children:z.name}),n.jsx(ze,{className:"px-4 py-3",children:z.email}),n.jsx(ze,{className:"px-4 py-3",children:z.mobile||"N/A"}),n.jsx(ze,{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${z.role==="ADMIN"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:z.role})}),n.jsx(ze,{className:"px-4 py-3",children:((ae=z.depot)==null?void 0:ae.name)||"N/A"}),n.jsx(ze,{className:"px-4 py-3",children:new Date(z.joiningDate).toLocaleDateString()}),n.jsx(ze,{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${z.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:z.active?"Active":"Inactive"})}),n.jsx(ze,{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t(z),children:n.jsx(bi,{className:"h-4 w-4"})}),n.jsx(he,{variant:"ghost",size:"icon",onClick:()=>B(z),title:z.active?"Deactivate":"Activate",children:z.active?n.jsx(Zo,{className:"h-4 w-4 text-red-500"}):n.jsx(rl,{className:"h-4 w-4 text-green-500"})}),n.jsx(he,{variant:"ghost",size:"icon",onClick:()=>O(z),children:n.jsx(fn,{className:"h-4 w-4 text-red-500"})})]})})]},z.id)})})]})}),n.jsx(pN,{currentPage:x,totalPages:y,totalRecords:b,limit:T,onPageChange:p})]}),n.jsx(aa,{open:i,onOpenChange:o,children:n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Are you sure?"}),n.jsx(da,{children:"This action cannot be undone. This will permanently delete the user."})]}),n.jsxs(la,{children:[n.jsx(fa,{onClick:()=>o(!1),children:"Cancel"}),n.jsx(ua,{onClick:P,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},oRe=({isOpen:e,onOpenChange:t,onFormSubmitSuccess:r,userToEdit:s})=>{var b;const[a,i]=g.useState([]),o=!!s,l=g.useMemo(()=>Tr.object({name:Tr.string().min(1,"Name is required"),email:Tr.string().email("Invalid email address"),password:o?Tr.string().min(8,"Password must be at least 8 characters").optional().or(Tr.literal("")):Tr.string().min(8,"Password is required and must be at least 8 characters"),mobile:Tr.string().optional().or(Tr.literal("")).refine(w=>!w||/^\d{10}$/.test(w),{message:"Phone number must be 10 digits"}),depotId:Tr.string().optional(),joiningDate:Tr.string().optional()}),[o]),{register:u,handleSubmit:f,reset:h,setValue:x,formState:{errors:p,isSubmitting:y}}=Js({resolver:en(l),mode:"onChange"});g.useEffect(()=>{(async()=>{try{const j=await mt("/admin/depots/all-list");i(j||[])}catch(j){console.error("Failed to fetch depots",j),me.error(j.message||"Failed to fetch depots")}})()},[]),g.useEffect(()=>{var w;h(s?{name:s.name,email:s.email,mobile:s.mobile||"",password:"",depotId:((w=s.depot)==null?void 0:w.id)||void 0,joiningDate:s.joiningDate?Gt(new Date(s.joiningDate),"yyyy-MM-dd"):""}:{name:"",email:"",mobile:"",password:"",depotId:void 0,joiningDate:Gt(new Date,"yyyy-MM-dd")})},[s,h,e]);const N=async w=>{try{const j={...w};o&&!j.password&&delete j.password,o?(await zi(`/teams/users/${s==null?void 0:s.id}`,j),me.success("User updated successfully!")):(await $r("/teams/users",j),me.success("User created successfully!")),r()}catch(j){console.error(j);const S=j.message||`Failed to ${o?"update":"create"} user.`;me.error(S)}};return n.jsx(hs,{open:e,onOpenChange:t,children:n.jsxs(ms,{className:"sm:max-w-[425px]",children:[n.jsxs(ps,{children:[n.jsx(xs,{children:o?"Edit User":"Create New User"}),n.jsx(Ya,{children:o?"Update the user's details below.":"Fill in the form to add a new team member."})]}),n.jsxs("form",{onSubmit:f(N),className:"space-y-4 py-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"name",children:"Name"}),n.jsx(tt,{id:"name",...u("name")}),p.name&&n.jsx("p",{className:"text-sm text-red-500",children:p.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"email",children:"Email"}),n.jsx(tt,{id:"email",type:"email",...u("email")}),p.email&&n.jsx("p",{className:"text-sm text-red-500",children:p.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"mobile",children:"Phone (10-digits)"}),n.jsx(tt,{id:"mobile",...u("mobile")}),p.mobile&&n.jsx("p",{className:"text-sm text-red-500",children:p.mobile.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"password",children:"Password"}),n.jsx(tt,{id:"password",type:"password",...u("password"),placeholder:o?"Leave blank to keep unchanged":""}),p.password&&n.jsx("p",{className:"text-sm text-red-500",children:p.password.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"depotId",children:"Depot (Optional)"}),n.jsxs(er,{onValueChange:w=>x("depotId",w==="admin-role"?void 0:w),defaultValue:(b=s==null?void 0:s.depot)==null?void 0:b.id,children:[n.jsx(rr,{id:"depotId",children:n.jsx(tr,{placeholder:"Assign as Admin"})}),n.jsxs(sr,{children:[n.jsx(yt,{value:"admin-role",children:"Assign as Admin"}),a.map(w=>n.jsx(yt,{value:w.id,children:w.name},w.id))]})]}),p.depotId&&n.jsx("p",{className:"text-sm text-red-500",children:p.depotId.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"joiningDate",children:"Joining Date"}),n.jsx(tt,{id:"joiningDate",type:"date",...u("joiningDate")}),p.joiningDate&&n.jsx("p",{className:"text-sm text-red-500",children:p.joiningDate.message})]}),n.jsxs(gi,{className:"pt-4",children:[n.jsx(he,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(he,{type:"submit",disabled:y,children:y?o?"Updating...":"Creating...":o?"Update User":"Create User"})]})]})]})})},lRe=()=>{const[e,t]=g.useState(!1),[r,s]=g.useState(null),[a,i]=g.useState(""),[o,l]=g.useState(0),u=(p=null)=>{s(p),t(!0)},f=()=>{t(!1),s(null)},h=()=>{f(),l(p=>p+1)},x=p=>u(p);return n.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[n.jsxs(At,{className:"border-0 shadow-sm",children:[n.jsx(Mt,{className:"px-6 py-4 border-b",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsx(Zt,{className:"text-2xl font-semibold",children:"Team Management"}),n.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[n.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[n.jsx(Os,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(tt,{placeholder:"Search users...",value:a,onChange:p=>i(p.target.value),className:"pl-10 w-full sm:w-64 md:w-80"})]}),n.jsxs(he,{onClick:()=>u(),className:"gap-2 whitespace-nowrap",children:[n.jsx(Zs,{className:"h-4 w-4"})," Add User"]})]})]})}),n.jsx(Dt,{className:"p-0",children:n.jsx(iRe,{searchTerm:a,onEditUser:x,refreshKey:o},o)})]}),e&&n.jsx(oRe,{isOpen:e,onOpenChange:t,onFormSubmitSuccess:h,userToEdit:r})]})},B6="/api/admin/banners",cRe="https://www.indraai.in//",dH=["image/jpeg","image/jpg","image/png","image/webp"],dRe=ws({caption:ct().optional().default(""),description:ct().optional().default(""),bannerImageFile:OT(FileList).optional().refine(e=>{var t;return!e||e.length===0||((t=e==null?void 0:e[0])==null?void 0:t.size)<=5e6},"Max image size is 5MB.").refine(e=>{var t;return!e||e.length===0||dH.includes((t=e==null?void 0:e[0])==null?void 0:t.type)},"Only .jpg, .jpeg, .png and .webp formats are supported."),listOrder:PT(e=>typeof e=="string"?parseInt(e,10):e,xi().int("List order must be an integer.").min(0,"List order must be a positive number."))}),uRe=({isOpen:e,onClose:t,onSubmitSuccess:r,initialData:s})=>{const a=qn(),i=s?"edit":"create",{register:o,handleSubmit:l,formState:{errors:u,isSubmitting:f},reset:h}=Js({resolver:en(dRe),defaultValues:s?{caption:s.caption||"",description:s.description||"",listOrder:s.listOrder,bannerImageFile:void 0}:{caption:"",description:"",listOrder:void 0,bannerImageFile:void 0}});g.useEffect(()=>{e&&h(s?{caption:s.caption||"",description:s.description||"",listOrder:s.listOrder,bannerImageFile:void 0}:{caption:"",description:"",listOrder:void 0,bannerImageFile:void 0})},[e,s,h]);const x=Gr({mutationFn:async y=>i==="edit"&&(s!=null&&s.id)?bse(`${B6}/${s.id}`,y):vse(B6,y),onSuccess:()=>{me.success(`Banner ${i==="create"?"created":"updated"} successfully.`),a.invalidateQueries({queryKey:["banners"]}),r(),t()},onError:y=>{var w,j,S,A,C,T;const N=`Failed to ${i} banner.`,b=((j=(w=y==null?void 0:y.response)==null?void 0:w.data)==null?void 0:j.message)||((A=(S=y==null?void 0:y.response)==null?void 0:S.data)==null?void 0:A.error);if((T=(C=y==null?void 0:y.response)==null?void 0:C.data)!=null&&T.errors){let _=y.response.data.errors.map(O=>O.message).join(", ");me.error(_||N)}else me.error(b||y.message||N);console.error(`Failed to ${i} banner:`,y)}}),p=async y=>{if(i==="create"&&(!y.bannerImageFile||y.bannerImageFile.length===0)){me.error("Banner image is required to create a new banner.");return}const N=new FormData;N.append("caption",y.caption||""),N.append("description",y.description||""),N.append("listOrder",y.listOrder.toString()),y.bannerImageFile&&y.bannerImageFile.length>0&&N.append("bannerImage",y.bannerImageFile[0]),x.mutate(N)};return n.jsx(hs,{open:e,onOpenChange:y=>!y&&t(),children:n.jsxs(ms,{className:"sm:max-w-[525px]",children:[n.jsxs(ps,{children:[n.jsx(xs,{children:i==="create"?"Add New Banner":"Edit Banner"}),n.jsx(Ya,{children:i==="create"?"Fill in the details for the new banner.":"Update the details for this banner."})]}),n.jsxs("form",{onSubmit:l(p),className:"space-y-4 py-4",children:[n.jsxs("div",{children:[n.jsx(Te,{htmlFor:"listOrder",className:"mb-2",children:"List Order"}),n.jsx(tt,{id:"listOrder",type:"number",...o("listOrder")}),u.listOrder&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.listOrder.message})]}),n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2",htmlFor:"caption",children:"Caption (Optional)"}),n.jsx(tt,{id:"caption",...o("caption")}),u.caption&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.caption.message})]}),n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2",htmlFor:"description",children:"Description (Optional)"}),n.jsx(Zf,{id:"description",...o("description")}),u.description&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.description.message})]}),n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2",htmlFor:"bannerImageFile",children:"Banner Image"}),n.jsx(tt,{id:"bannerImageFile",type:"file",accept:dH.join(","),...o("bannerImageFile")}),u.bannerImageFile&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.bannerImageFile.message}),i==="edit"&&(s==null?void 0:s.imagePath)&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Current image:"}),s.imagePath.startsWith("http")||s.imagePath.startsWith("/")?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:s.imagePath.startsWith("http")?s.imagePath:`${cRe}${s.imagePath}`,alt:s.caption||"Current banner image",className:"mt-1 h-20 w-auto object-contain border rounded shadow-sm",onError:y=>{const N=y.target;N.style.display="none";const b=N.nextElementSibling;b&&b.classList.remove("hidden")}}),n.jsx("p",{className:"text-xs text-red-500 hidden",children:"Unable to load image preview."})]}):n.jsx("p",{className:"text-xs font-medium",children:s.imagePath})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i==="create"?"Select an image file.":"Select a new image file to change the existing one."})]}),n.jsxs(gi,{children:[n.jsx(Mc,{asChild:!0,children:n.jsx(he,{type:"button",variant:"outline",onClick:t,disabled:f,children:"Cancel"})}),n.jsxs(he,{type:"submit",disabled:f,children:[f&&n.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"}),i==="create"?"Create Banner":"Save Changes"]})]})]})]})})},$6="/api/admin/banners",fRe="",hRe=()=>{const[e,t]=g.useState([]),[r,s]=g.useState(!1),[a,i]=g.useState(void 0),[o,l]=g.useState(!1),[u,f]=g.useState(null),[h,x]=g.useState(!0),[p,y]=g.useState(""),[N,b]=g.useState(1),[w,j]=g.useState(1),[S,A]=g.useState(0),[C,T]=g.useState("listOrder"),[D,_]=g.useState("asc"),O=10,P=g.useRef(null),B=g.useCallback(async()=>{x(!0);try{const X=await mt($6,{page:N,limit:O,search:p,sortBy:C,sortOrder:D});console.log("API Response Data in fetchBanners:",X),t(X.banners||[]),j(X.totalPages||1),A(X.totalRecords||0)}catch(F){console.error("Failed to fetch banners. Full error object:",F);let X="Failed to fetch banners.";F&&F.message&&(X=F.message),F&&F.response&&F.response.data&&F.response.data.message&&(X=F.response.data.message),me.error(X),t([]),j(1),A(0)}finally{x(!1)}},[N,p,C,D]);g.useEffect(()=>(P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{B()},300),()=>{P.current&&clearTimeout(P.current)}),[B,p]);const I=()=>{i(void 0),s(!0)},G=F=>{i(F),s(!0)},z=F=>{f(F),l(!0)},ae=async()=>{if(u)try{await Hn(`${$6}/${u.id}`),me.success("Banner deleted successfully."),B(),l(!1),f(null)}catch(F){console.error("Failed to delete banner:",F),me.error("Failed to delete banner."),l(!1)}},J=()=>{B()},L=F=>{C===F?_(D==="asc"?"desc":"asc"):(T(F),_("asc")),b(1)},U=({column:F})=>C!==F?n.jsx(Yg,{className:"ml-2 h-4 w-4 opacity-50"}):D==="asc"?n.jsx(tw,{className:"ml-2 h-4 w-4"}):n.jsx(ew,{className:"ml-2 h-4 w-4"});return n.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[n.jsxs(At,{className:"border-0 shadow-sm",children:[n.jsx(Mt,{className:"px-6 py-4 border-b",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsx(Zt,{className:"text-2xl font-semibold",children:"Banner Management"}),n.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[n.jsxs("div",{className:"relative flex-grow sm:flex-grow-0",children:[n.jsx(Os,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(tt,{placeholder:"Search banners...",value:p,onChange:F=>{y(F.target.value),b(1)},className:"pl-10 w-full sm:w-64 md:w-80"})]}),n.jsxs(he,{onClick:I,className:"gap-2 whitespace-nowrap",children:[n.jsx(Zs,{className:"h-4 w-4"})," Add Banner"]})]})]})}),n.jsx(Dt,{className:"p-0 sm:p-6",children:h?n.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((F,X)=>n.jsx(Tt,{className:"h-12 w-full rounded-md"},X))}):e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-full p-5 mb-6",children:n.jsx(UX,{className:"h-10 w-10 text-slate-500 dark:text-slate-400"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:p?"No Matching Banners Found":"No Banners Yet"}),n.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:p?"Try adjusting your search criteria or add a new banner.":"Get started by adding your first banner. It’s quick and easy!"}),!p&&n.jsxs(he,{onClick:I,className:"gap-2",children:[n.jsx(Zs,{className:"h-4 w-4"})," Add New Banner"]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ps,{className:"min-w-full",children:[n.jsx(Ms,{className:"bg-slate-50 dark:bg-slate-800",children:n.jsxs(Xt,{children:[n.jsx(Ke,{onClick:()=>L("listOrder"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Order ",n.jsx(U,{column:"listOrder"})]})}),n.jsx(Ke,{className:"px-4 py-3 whitespace-nowrap",children:"Image"}),n.jsx(Ke,{onClick:()=>L("caption"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Caption ",n.jsx(U,{column:"caption"})]})}),n.jsx(Ke,{className:"px-4 py-3 whitespace-nowrap",children:"Description"}),n.jsx(Ke,{onClick:()=>L("createdAt"),className:"cursor-pointer px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:["Created At ",n.jsx(U,{column:"createdAt"})]})}),n.jsx(Ke,{className:"text-right px-4 py-3 whitespace-nowrap",children:"Actions"})]})}),n.jsx(Is,{children:e.map(F=>n.jsxs(Xt,{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50",children:[n.jsx(ze,{className:"px-4 py-3 font-medium",children:F.listOrder}),n.jsx(ze,{className:"px-4 py-3",children:F.imagePath?n.jsx("img",{src:`${fRe}${F.imagePath}`,alt:F.caption||"Banner image",className:"h-10 w-16 object-cover rounded"}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No image"})}),n.jsx(ze,{className:"px-4 py-3",children:F.caption||"-"}),n.jsx(ze,{className:"px-4 py-3 truncate max-w-xs",children:F.description||"-"}),n.jsx(ze,{className:"px-4 py-3",children:new Date(F.createdAt).toLocaleDateString()}),n.jsxs(ze,{className:"text-right px-4 py-3",children:[n.jsx(he,{variant:"ghost",size:"icon",onClick:()=>G(F),className:"hover:text-blue-600",children:n.jsx(bi,{className:"h-4 w-4"})}),n.jsx(he,{variant:"ghost",size:"icon",onClick:()=>z(F),className:"hover:text-red-600",children:n.jsx(fn,{className:"h-4 w-4"})})]})]},F.id))})]})}),w>1&&n.jsx(pN,{currentPage:N,totalPages:w,onPageChange:b,totalRecords:S,limit:O})]})})]}),r&&n.jsx(uRe,{isOpen:r,onClose:()=>s(!1),onSubmitSuccess:J,initialData:a}),o&&u&&n.jsx(aa,{open:o,onOpenChange:l,children:n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Are you sure?"}),n.jsxs(da,{children:['This action cannot be undone. This will permanently delete the banner "',n.jsx("strong",{children:u.caption||"this banner"}),'".']})]}),n.jsxs(la,{children:[n.jsx(fa,{onClick:()=>f(null),children:"Cancel"}),n.jsx(ua,{onClick:ae,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},mRe=e=>{const t=new Map;return e.forEach(r=>{t.has(r.id)||t.set(r.id,r)}),Array.from(t.values())},pRe=15e3;function xRe(){const[e,t]=g.useState(0),[r,s]=g.useState([]),[a,i]=g.useState(""),[o,l]=g.useState(!1),[u,f]=g.useState(""),[h,x]=g.useState(!0),[p,y]=g.useState(null),N=g.useRef(null),b=g.useRef(!1),w=T=>{if(!T.trim())return"Amount is required";const D=Number.parseFloat(T);return isNaN(D)?"Please enter a valid number":D<=0?"Amount must be greater than 0":D>1e4?"Maximum amount is ₹10,000":null},j=async T=>{if(T.preventDefault(),b.current)return;f("");const D=w(a);if(D){f(D);return}b.current=!0,l(!0);try{const _=Number.parseFloat(a);await $r("/wallet/transactions",{amount:_}),i(""),C(),me.success(`Top-up request for ${bs(_)} submitted. It will reflect in your balance after approval.`,{duration:7e3,icon:n.jsx(kx,{className:"h-4 w-4"})})}catch(_){const O=_ instanceof Error?_.message:"An unexpected error occurred";f(O),me.error(`Transaction Failed: ${O}`,{duration:5e3,icon:n.jsx(xu,{className:"h-4 w-4"})})}finally{b.current=!1,l(!1)}},S=T=>{const D=T.target.value;i(D),u&&f("")},A=[25,50,100,250],C=async()=>{x(!0),y(null);try{const T=await mt("/wallet");if(T!=null&&T.data){const D=T.data;typeof D.balance=="number"&&t(D.balance),Array.isArray(D.transactions)?s(mRe(D.transactions)):s([])}}catch(T){y(T.message||"Failed to load wallet details."),s([])}finally{x(!1)}};return g.useEffect(()=>{C()},[]),g.useEffect(()=>(C(),N.current=setInterval(()=>{C()},pRe),()=>{N.current&&clearInterval(N.current)}),[]),n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-6",children:n.jsxs("div",{className:"mx-auto  space-y-6",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[n.jsx(Pc,{className:"h-8 w-8 text-primary"}),n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Wallet"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your wallet balance and add funds securely"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(At,{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-cyan-50"}),n.jsxs(Mt,{className:"relative z-10",children:[n.jsxs(Zt,{className:"flex items-center gap-2",children:[n.jsx(Qx,{className:"h-5 w-5 text-green-600"}),"Current Balance"]}),n.jsx(mi,{children:"Available funds in your wallet"})]}),console.log(e),n.jsxs(Dt,{className:"relative",children:[n.jsx("div",{className:"text-4xl font-bold text-green-600 mb-4",children:h?n.jsx("span",{className:"text-2xl",children:"Loading..."}):p?n.jsx("span",{className:"text-2xl text-destructive",children:"Error"}):bs(e)}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(CE,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{children:"Available for transactions"})]})]})]}),n.jsxs(At,{children:[n.jsxs(Mt,{children:[n.jsxs(Zt,{className:"flex items-center gap-2",children:[n.jsx(vn,{className:"h-5 w-5"}),"Add Balance"]}),n.jsx(mi,{children:"Add funds to your wallet instantly"})]}),n.jsx(Dt,{children:n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{htmlFor:"amount",children:"Amount to Add"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qx,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),n.jsx(tt,{id:"amount",type:"text",placeholder:"0.00",value:a,onChange:S,className:`pl-10 ${u?"border-destructive focus-visible:ring-destructive":""}`,disabled:o,"aria-describedby":u?"amount-error":void 0})]}),u&&n.jsxs(Va,{variant:"destructive",id:"amount-error",children:[n.jsx(xu,{className:"h-4 w-4"}),n.jsx(qa,{children:u})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Te,{className:"text-sm text-muted-foreground",children:"Quick Add"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:A.map(T=>n.jsxs(he,{type:"button",variant:"outline",size:"sm",onClick:()=>{i(T.toString()),f("")},disabled:o,className:"text-sm",children:["₹",T]},T))})]}),n.jsx(k8,{}),n.jsx(he,{type:"submit",className:"w-full",disabled:o||!a.trim(),size:"lg",children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(OI,{className:"mr-2 h-4 w-4"}),"Add Balance"]})})]})})]})]}),n.jsxs(At,{children:[n.jsxs(Mt,{children:[n.jsx(Zt,{children:"Recent Activity"}),n.jsx(mi,{children:"Your latest wallet transactions"})]}),n.jsx(Dt,{children:h?n.jsx("p",{children:"Loading transactions..."}):p?n.jsxs(Va,{variant:"destructive",children:[n.jsx(xu,{className:"h-4 w-4"}),n.jsx(qa,{children:p})]}):r.length===0?n.jsx("p",{className:"text-muted-foreground text-center",children:"No recent activity to display."}):n.jsx("div",{className:"space-y-3",children:r.map(T=>{var z;const D=T.type==="CREDIT",_=((z=T.status)==null?void 0:z.toUpperCase())||"UNKNOWN";let O=n.jsx(kx,{className:"h-5 w-5 text-gray-500"}),P="bg-gray-100",B=D?"text-green-600":"text-red-600",I=T.description||(D?"Funds Added":"Funds Withdrawn");const G=_.charAt(0)+_.slice(1).toLowerCase();return _==="COMPLETED"||_==="PAID"?(O=n.jsx(kx,{className:`h-5 w-5 ${D?"text-green-600":"text-red-500"}`}),P=D?"bg-green-100":"bg-red-100"):_==="PENDING"?(O=n.jsx(Xx,{className:"h-5 w-5 text-yellow-600"}),P="bg-yellow-100",B="text-yellow-700"):_==="FAILED"&&(O=n.jsx(Zo,{className:"h-5 w-5 text-red-600"}),P="bg-red-100",B="text-red-700"),n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${P}`,children:O}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:I}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(T.timestamp).toLocaleDateString()," ",new Date(T.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`font-semibold ${B}`,children:[D?"+":"-",bs(T.amount)]}),n.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:G})]})]},T.id)})})})]})]})})}const gRe=()=>{const e=typeof window<"u"?localStorage.getItem("user"):null,t=e?JSON.parse(e):null,r=(t==null?void 0:t.role)==="DepotAdmin",[s,a]=g.useState(1),i=10,[o,l]=g.useState(""),[u,f]=g.useState(""),[h,x]=g.useState(),p=g.useRef(null),[y,N]=g.useState(null),b=g.useCallback(P=>{l(P.target.value)},[]);g.useEffect(()=>(p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>f(o),400),()=>{p.current&&window.clearTimeout(p.current)}),[o]);const{data:w,isLoading:j,isError:S,refetch:A}=Br({queryKey:["purchases",s,u,h],queryFn:async()=>{let P=`/purchases?page=${s}&limit=${i}`;return r&&(t!=null&&t.depotId)&&(P+=`&depotId=${t.depotId}`),u&&(P+=`&search=${u}`),h&&(P+=`&date=${Gt(h,"yyyy-MM-dd")}`),mt(P)}}),C=(w==null?void 0:w.data)||[],T=(w==null?void 0:w.totalPages)||1,D=()=>{l(""),f(""),x(void 0),a(1)},_=P=>P.reduce((B,I)=>B+(I.purchaseRate||0)*(I.quantity||0),0),O=async()=>{if(y)try{await Hn(`/purchases/${y}`),me.success("Purchase deleted"),A(),N(null)}catch(P){me.error(P.message||"Failed to delete purchase")}};return j?n.jsx("div",{className:"p-10 text-center",children:"Loading purchases..."}):S?n.jsx("div",{className:"p-10 text-center",children:"Error loading purchases"}):n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(At,{className:"mb-6",children:[n.jsxs(Mt,{className:"flex flex-row items-center justify-between pb-4",children:[n.jsx(Zt,{className:"text-2xl",children:"Purchase Management"}),n.jsx(Rr,{to:"/admin/purchases/create",children:n.jsxs(he,{children:[n.jsx(vn,{className:"mr-2 size-4"})," New Purchase"]})})]}),n.jsxs(Dt,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx(tt,{placeholder:"Search by purchase no / vendor",value:o,onChange:b}),n.jsxs(sd,{children:[n.jsx(nd,{asChild:!0,children:n.jsxs(he,{variant:"outline",className:Je("w-full justify-start",!h&&"text-muted-foreground"),children:[n.jsx(Ta,{className:"mr-2 h-4 w-4"}),h?Gt(h,"dd/MM/yyyy"):"Pick a date"]})}),n.jsx(ad,{className:"w-auto p-0",align:"start",children:n.jsx(id,{mode:"single",selected:h,onSelect:x})})]}),n.jsx(he,{variant:"outline",onClick:D,children:"Clear Filters"})]}),C.length===0?n.jsx("div",{className:"py-10 text-center",children:"No purchases found."}):n.jsxs(Ps,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[n.jsx(Ms,{className:"bg-gray-100",children:n.jsxs(Xt,{children:[n.jsx(Ke,{className:"px-6 py-3",children:"Purchase No"}),n.jsx(Ke,{className:"px-6 py-3",children:"Vendor"}),n.jsx(Ke,{className:"px-6 py-3",children:"Purchase Date"}),n.jsx(Ke,{className:"px-6 py-3",children:"Invoice No"}),n.jsx(Ke,{className:"px-6 py-3",children:"Invoice Date"}),n.jsx(Ke,{className:"px-6 py-3 text-right",children:"Total Amount"}),n.jsx(Ke,{className:"px-6 py-3 text-right",children:"Paid Amount"}),n.jsx(Ke,{className:"px-6 py-3",children:"Actions"})]})}),n.jsx(Is,{className:"divide-y",children:C.map(P=>{var B;return n.jsxs(Xt,{className:"hover:bg-gray-50",children:[n.jsx(ze,{className:"px-6 py-4 font-medium",children:P.purchaseNo}),n.jsx(ze,{className:"px-6 py-4",children:(B=P.vendor)==null?void 0:B.name}),n.jsx(ze,{className:"px-6 py-4",children:Gt(new Date(P.purchaseDate),"dd/MM/yyyy")}),n.jsx(ze,{className:"px-6 py-4",children:P.invoiceNo}),n.jsx(ze,{className:"px-6 py-4",children:Gt(new Date(P.invoiceDate),"dd/MM/yyyy")}),n.jsx(ze,{className:"px-6 py-4 text-right",children:bs(_(P.purchaseDetails))}),n.jsx(ze,{className:"px-6 py-4 text-right",children:bs(P.paidAmt||0)}),n.jsxs(ze,{className:"px-6 py-4 space-x-2",children:[n.jsx(Rr,{to:`/admin/purchases/edit/${P.id}`,children:n.jsx(he,{size:"icon",variant:"ghost",children:n.jsx(_T,{className:"size-4"})})}),n.jsxs(aa,{children:[n.jsx(ph,{asChild:!0,children:n.jsx(he,{size:"icon",variant:"ghost",onClick:()=>N(P.id),children:n.jsx(fn,{className:"size-4"})})}),n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Are you sure?"}),n.jsx(da,{children:"This action cannot be undone. This will permanently delete the purchase and remove its data from our servers."})]}),n.jsxs(la,{children:[n.jsx(fa,{onClick:()=>N(null),children:"Cancel"}),n.jsx(ua,{onClick:O,children:"Continue"})]})]})]})]})]},P.id)})})]}),T>1&&n.jsx(Q0,{className:"mt-6",children:n.jsxs(Z0,{children:[n.jsx(J0,{onClick:()=>a(P=>Math.max(1,P-1))}),n.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",s," of ",T]}),n.jsx(ep,{onClick:()=>a(P=>Math.min(T,P+1))})]})})]})]})})},yRe=ws({purchaseNo:ct().optional(),purchaseDate:zc(),invoiceNo:ct().min(1,"Invoice number is required"),invoiceDate:zc(),vendorId:ct().min(1,"Vendor is required"),depotId:ct().min(1,"Depot is required"),notes:ct().optional(),purchaseDetails:lh(ws({productId:ct().min(1,"Product is required"),variantId:ct().min(1,"Variant is required"),quantity:xi().min(1,"Quantity must be at least 1"),purchaseRate:xi().min(0,"Rate must not be negative")})).min(1,"Add at least one line item")});function iE(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function U6(e){return!!e&&!isNaN(e.getTime())}function V6({value:e,onChange:t,label:r,id:s,fromDate:a}){const[i,o]=g.useState(!1),[l,u]=g.useState(e),[f,h]=g.useState(iE(e)),[x,p]=g.useState();return g.useEffect(()=>{h(iE(e)),U6(e)&&u(e)},[e]),g.useEffect(()=>{(async()=>{const N=await mt("/vendors");p(N.data)})()},[]),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx(Te,{htmlFor:s,children:r}),n.jsxs("div",{className:"relative flex gap-2",children:[n.jsx(tt,{id:s,value:f,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:y=>{const N=y.target.value;h(N);const b=new Date(N);U6(b)?(t(b),u(b)):t(void 0)}}),n.jsxs(sd,{open:i,onOpenChange:o,children:[n.jsx(nd,{asChild:!0,children:n.jsx(he,{variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 size-6",type:"button",children:n.jsx(Ta,{className:"size-3.5"})})}),n.jsx(ad,{className:"p-0",children:n.jsx(id,{mode:"single",selected:e,month:l,captionLayout:"dropdown",onMonthChange:u,fromDate:a,onSelect:y=>{t(y),h(iE(y)),o(!1)}})})]})]})]})}const uH=({mode:e,purchaseId:t,initialData:r,onSuccess:s})=>{var U;const a=jr(),i=qn(),o=typeof window<"u"?localStorage.getItem("user"):null,l=o?JSON.parse(o):null;console.log("PurchaseForm initial data",r);const{register:u,control:f,handleSubmit:h,setValue:x,watch:p,formState:{errors:y}}=Js({resolver:en(yRe),defaultValues:{purchaseNo:e==="edit"?r==null?void 0:r.purchaseNo:"",purchaseDate:e==="edit"&&(r!=null&&r.purchaseDate)?new Date(r.purchaseDate):new Date,invoiceNo:(r==null?void 0:r.invoiceNo)||"",invoiceDate:e==="edit"&&(r!=null&&r.invoiceDate)?new Date(r.invoiceDate):new Date,vendorId:r!=null&&r.vendorId?String(r.vendorId):"",depotId:e==="edit"&&(r!=null&&r.depotId)?String(r.depotId):l!=null&&l.depotId?String(l.depotId):"",notes:(r==null?void 0:r.notes)||"",purchaseDetails:e==="edit"&&((U=r==null?void 0:r.purchaseDetails)!=null&&U.length)?r.purchaseDetails.map(F=>({productId:String(F.productId),variantId:String(F.variantId),quantity:F.quantity,purchaseRate:F.purchaseRate})):[{productId:"",variantId:"",quantity:1,purchaseRate:0}]}}),[N,b]=g.useState([]),[w,j]=g.useState([]),[S,A]=g.useState([]),[C,T]=g.useState([]);g.useEffect(()=>{p("depotId")||(l!=null&&l.depotId?x("depotId",String(l.depotId)):C.length&&x("depotId",String(C[0].id)))},[C,l==null?void 0:l.depotId]);const[D,_]=g.useState(null);g.useEffect(()=>{(async()=>{try{const F=await mt("/products");b((F==null?void 0:F.data)||F||[]);const X=await mt("/vendors?limit=1000");A((X==null?void 0:X.data)||X||[]);const q=await mt("/depots");T((q==null?void 0:q.data)||q||[])}catch{me.error("Failed to fetch reference data")}})()},[]);const O=p("depotId"),P=(l==null?void 0:l.depotId)??O;g.useEffect(()=>{if(!P){j([]);return}(async()=>{try{const F=await mt(`/depot-product-variants?depotId=${P}&limit=1000`);j((F==null?void 0:F.data)||F||[])}catch{me.error("Failed to fetch depot variants")}})()},[P,l==null?void 0:l.depotId]);const{fields:B,append:I,remove:G}=yy({control:f,name:"purchaseDetails"}),z=p("purchaseDetails"),ae=z.reduce((F,X)=>F+(X.purchaseRate||0)*(X.quantity||0),0),J=Gr({mutationFn:async F=>e==="edit"&&t?un(`/purchases/${t}`,F):$r("/purchases",F),onSuccess:()=>{me.success("Purchase saved"),i.invalidateQueries({queryKey:["purchases"]}),a("/admin/purchases"),s==null||s()},onError:F=>me.error(F.message||"Error saving purchase")}),L=F=>{(l==null?void 0:l.role)==="DepotAdmin"&&(F.depotId=String(l==null?void 0:l.depotId)),J.mutate(F)};return n.jsxs("form",{onSubmit:h(L),className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(At,{children:[n.jsx(Mt,{children:n.jsx(Zt,{children:"Purchase Details"})}),n.jsxs(Dt,{className:"space-y-4",children:[e==="edit"&&n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2",children:"Purchase No"}),n.jsx(tt,{disabled:!0,...u("purchaseNo")})]}),n.jsx(Ur,{control:f,name:"purchaseDate",render:({field:F})=>n.jsx(V6,{id:"purchaseDate",label:"Purchase Date",value:F.value,onChange:F.onChange})}),n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2",children:"Invoice No"}),n.jsx(tt,{...u("invoiceNo")}),y.invoiceNo&&n.jsx("p",{className:"text-xs text-red-600",children:y.invoiceNo.message})]}),n.jsx(Ur,{control:f,name:"invoiceDate",render:({field:F})=>n.jsx(V6,{id:"invoiceDate",label:"Invoice Date",value:F.value,onChange:F.onChange})}),n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2",children:"Notes"}),n.jsx(Zf,{rows:3,...u("notes")})]})]})]}),n.jsxs(At,{children:[n.jsx(Mt,{children:n.jsx(Zt,{children:"Vendor & Depot"})}),n.jsxs(Dt,{className:"space-y-4",children:[n.jsx(Ur,{control:f,name:"vendorId",render:({field:F})=>n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2",children:"Vendor"}),n.jsxs(er,{value:F.value,onValueChange:F.onChange,children:[n.jsx(rr,{className:"w-full",children:n.jsx(tr,{placeholder:"Select vendor"})}),n.jsx(sr,{children:S.map(X=>n.jsx(yt,{value:String(X.id),children:X.name},X.id))})]}),y.vendorId&&n.jsx("p",{className:"text-xs text-red-600",children:y.vendorId.message})]})}),n.jsx(Ur,{control:f,name:"depotId",render:({field:F})=>n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2 block w-full",htmlFor:"depotId",children:"Depot"}),n.jsxs(er,{value:F.value,onValueChange:F.onChange,disabled:(l==null?void 0:l.role)==="DepotAdmin",children:[n.jsx(rr,{className:"w-full",children:n.jsx(tr,{placeholder:"Select depot"})}),n.jsx(sr,{children:C.map(X=>n.jsx(yt,{value:String(X.id),children:X.name},X.id))})]}),y.depotId&&n.jsx("p",{className:"text-xs text-red-600",children:y.depotId.message})]})})]})]})]}),n.jsxs(At,{children:[n.jsxs(Mt,{className:"flex-row items-center justify-between",children:[n.jsx(Zt,{children:"Items"}),n.jsxs(he,{type:"button",size:"sm",onClick:()=>I({productId:"",variantId:"",quantity:1,purchaseRate:0}),children:[n.jsx(vn,{className:"mr-2 size-4"})," Add Item"]})]}),n.jsxs(Dt,{children:[n.jsx("div",{className:"space-y-4",children:B.map((F,X)=>{var W,K,V;const q=(W=z[X])==null?void 0:W.productId,te=w.filter(Q=>String(Q.productId)===q),M=(((K=z[X])==null?void 0:K.purchaseRate)||0)*(((V=z[X])==null?void 0:V.quantity)||0);return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 border rounded-md items-end",children:[n.jsxs("div",{className:"md:col-span-3",children:[n.jsx(Te,{className:"mb-2",children:"Product"}),n.jsx(Ur,{control:f,name:`purchaseDetails.${X}.productId`,render:({field:Q})=>n.jsxs(er,{value:Q.value,onValueChange:Q.onChange,children:[n.jsx(rr,{className:"w-full",children:n.jsx(tr,{placeholder:"Select Product"})}),n.jsx(sr,{children:N.map(ie=>n.jsx(yt,{value:String(ie.id),children:ie.name},ie.id))})]})})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx(Te,{className:"mb-2",children:"Variant"}),n.jsx(Ur,{control:f,name:`purchaseDetails.${X}.variantId`,render:({field:Q})=>n.jsxs(er,{value:Q.value,onValueChange:ie=>{Q.onChange(ie);const xe=te.find(ue=>String(ue.id)===ie);xe&&xe.purchasePrice!=null&&x(`purchaseDetails.${X}.purchaseRate`,Number(xe.purchasePrice))},children:[n.jsx(rr,{className:"w-full",children:n.jsx(tr,{placeholder:"Select Variant"})}),n.jsx(sr,{children:te.map(ie=>n.jsx(yt,{value:String(ie.id),children:ie.name},ie.id))})]})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Te,{className:"mb-2",children:"Quantity"}),n.jsx(tt,{type:"number",...u(`purchaseDetails.${X}.quantity`,{valueAsNumber:!0})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Te,{className:"mb-2",children:"Rate"}),n.jsx(tt,{type:"number",step:"0.01",...u(`purchaseDetails.${X}.purchaseRate`,{valueAsNumber:!0})})]}),n.jsxs("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx(Te,{className:"mb-2",children:"Total"}),n.jsx("p",{className:"font-medium h-10 flex items-center",children:bs(M)})]}),n.jsxs(aa,{children:[n.jsx(ph,{asChild:!0,children:n.jsx(he,{type:"button",size:"icon",variant:"ghost",children:n.jsx(fn,{className:"size-4 text-red-500"})})}),n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Remove item?"}),n.jsx(da,{children:"This will remove the selected line item from the purchase."})]}),n.jsxs(la,{children:[n.jsx(fa,{children:"Cancel"}),n.jsx(ua,{onClick:()=>G(X),children:"Continue"})]})]})]})]})]},F.id)})}),y.purchaseDetails&&n.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in y.purchaseDetails?y.purchaseDetails.message:null}),n.jsxs("div",{className:"text-right font-semibold mt-4",children:["Grand Total: ",bs(ae)]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx(he,{type:"submit",disabled:J.isPending,children:"Save Purchase"})})]})};function vRe(){return n.jsx("div",{className:"container mx-auto space-y-6",children:n.jsxs(At,{children:[n.jsx(Mt,{}),n.jsx(Dt,{children:n.jsx(uH,{mode:"create"})})]})})}function bRe(){const{id:e}=Ra(),{data:t,isLoading:r,isError:s}=Br({queryKey:["purchase",e],queryFn:()=>mt(`/purchases/${e}`),enabled:!!e});return r?n.jsx("div",{className:"flex items-center justify-center h-40",children:n.jsx(Zr,{className:"animate-spin"})}):s||!t?(me.error("Failed to load purchase"),null):n.jsx("div",{className:"container mx-auto space-y-6",children:n.jsxs(At,{children:[n.jsx(Mt,{}),n.jsx(Dt,{children:n.jsx(uH,{mode:"edit",purchaseId:e,initialData:t})})]})})}const wRe=e=>$r("/api/admin/purchase-payments",e).then(t=>t.data),NRe=e=>mt("/api/admin/purchase-payments",{params:e}).then(t=>t),jRe=e=>mt(`/api/admin/purchase-payments/${e}`).then(t=>t),SRe=e=>Hn(`/api/admin/purchase-payments/${e}`).then(t=>t.data),fH=(e,t={})=>mt(`/api/admin/vendors/${e}/purchases`,{params:t}).then(r=>r),ERe=()=>{const[e,t]=g.useState(1),r=10,[s,a]=g.useState(""),[i,o]=g.useState(""),l=g.useRef(null),[u,f]=g.useState(null),h=g.useCallback(S=>{o(S.target.value)},[]);l.current&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>a(i),400);const{data:x,isLoading:p,isError:y,refetch:N}=Br({queryKey:["purchase-payments",e,s],queryFn:()=>NRe({page:e,limit:r,search:s}),placeholderData:{payments:[],totalPages:1}}),b=x.payments||[];console.log("Payment is here",b);const w=(x==null?void 0:x.totalPages)||1,j=async()=>{if(u)try{await SRe(u),me.success("Payment deleted"),N(),f(null)}catch(S){me.error(S.message||"Failed to delete payment")}};return n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(At,{className:"mb-6",children:[n.jsxs(Mt,{className:"flex flex-row items-center justify-between pb-4",children:[n.jsx(Zt,{className:"text-2xl",children:"Purchase Payments"}),n.jsx(Rr,{to:"/admin/purchase-payments/create",children:n.jsxs(he,{children:[n.jsx(vn,{className:"mr-2 size-4"})," New Payment"]})})]}),n.jsxs(Dt,{children:[n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsx(tt,{value:i,onChange:h,placeholder:"Search by vendor/mode...",className:"max-w-sm"})}),p&&n.jsx("div",{className:"p-10 text-center",children:"Loading..."}),y&&n.jsx("div",{className:"p-10 text-center",children:"Error loading payments"}),!p&&!y&&n.jsxs(Ps,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[n.jsx(Ms,{className:"bg-gray-100",children:n.jsxs(Xt,{children:[n.jsx(Ke,{className:"px-6 py-3",children:"Payment No"}),n.jsx(Ke,{className:"px-6 py-3",children:"Date"}),n.jsx(Ke,{className:"px-6 py-3",children:"Vendor"}),n.jsx(Ke,{className:"px-6 py-3",children:"Mode"}),n.jsx(Ke,{className:"px-6 py-3 text-right",children:"Total"}),n.jsx(Ke,{className:"px-6 py-3",children:"Actions"})]})}),n.jsx(Is,{className:"divide-y",children:b&&(b==null?void 0:b.map(S=>{var A;return n.jsxs(Xt,{className:"hover:bg-gray-50",children:[n.jsx(ze,{className:"px-6 py-4",children:S.paymentno}),n.jsx(ze,{className:"px-6 py-4",children:Gt(new Date(S.paymentDate),"dd/MM/yyyy")}),n.jsx(ze,{className:"px-6 py-4",children:(A=S.vendor)==null?void 0:A.name}),n.jsx(ze,{className:"px-6 py-4",children:S.mode}),n.jsx(ze,{className:"px-6 py-4 text-right",children:bs(S.totalAmount)}),n.jsxs(ze,{className:"px-6 py-4",children:[n.jsx(Rr,{to:`/admin/purchase-payments/${S.id}`,children:n.jsx(he,{variant:"ghost",size:"icon",children:n.jsx(gu,{className:"h-4 w-4"})})}),n.jsxs(aa,{children:[n.jsx(ph,{asChild:!0,children:n.jsx(he,{size:"icon",variant:"ghost",onClick:()=>f(S.id),children:n.jsx(fn,{className:"size-4"})})}),n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Delete Payment?"}),n.jsx(da,{children:"This will permanently delete the payment."})]}),n.jsxs(la,{children:[n.jsx(fa,{onClick:()=>f(null),children:"Cancel"}),n.jsx(ua,{onClick:j,children:"Delete"})]})]})]})]})]},S.id)}))})]}),w>1&&n.jsx(Q0,{className:"mt-6",children:n.jsxs(Z0,{children:[n.jsx(J0,{onClick:()=>t(S=>Math.max(1,S-1))}),n.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",w]}),n.jsx(ep,{onClick:()=>t(S=>Math.min(w,S+1))})]})})]})]})})},ARe=ws({paymentDate:zc({required_error:"Payment date required"}),vendorId:ct().min(1,"Vendor is required"),mode:ct().min(1,"Payment mode is required"),referenceNo:ct().min(1,"Reference no is required"),notes:ct().optional(),details:lh(ws({purchaseId:xi(),amount:xi().nonnegative()})).nonempty("Enter at least one purchase payment")}),TRe=["CASH","NEFT","CHEQUE","UPI"],CRe=({onSuccess:e})=>{const t=jr(),{register:r,handleSubmit:s,setValue:a,watch:i,control:o,formState:{errors:l,isSubmitting:u}}=Js({resolver:en(ARe),defaultValues:{paymentDate:new Date,vendorId:"",mode:"",referenceNo:"",notes:"",details:[]}}),[f,h]=g.useState([]),[x,p]=g.useState([]),y=i("vendorId");g.useEffect(()=>{(async()=>{try{const C=await mt("/vendors"),T=Array.isArray(C==null?void 0:C.data)?C.data:Array.isArray(C)?C:[];console.log("list",T,C),h(T)}catch(C){me.error(C.message||"Failed to load vendors")}})()},[]);const N=i("paymentDate");g.useEffect(()=>{if(!y)return;(async()=>{try{const C=Gt(N,"yyyy-MM-dd"),D=await fH(parseInt(y),{startDate:C,endDate:C})||[];p(D),console.log("purchases",D),a("details",D.map(_=>({purchaseId:_.id,amount:_.outstanding??0})))}catch(C){me.error(C.message||"Failed to load purchases")}})()},[y,N,a]);const b=i("details"),w=g.useMemo(()=>b==null?void 0:b.reduce((A,C)=>A+(C.amount||0),0),[b]),j=async A=>{if(w<=0){me.error("Enter at least one payment amount");return}for(const C of A.details){const T=x.find(D=>D.id===C.purchaseId);if(T&&C.amount>(T.outstanding??0)){me.error(`Amount for purchase ${T.purchaseNo} exceeds outstanding balance`);return}}try{const C={paymentDate:Gt(A.paymentDate,"yyyy-MM-dd"),vendorId:parseInt(A.vendorId),mode:A.mode,referenceNo:A.referenceNo||void 0,notes:A.notes||void 0,totalAmount:w,details:A.details.filter(T=>T.amount>0)};await wRe(C),me.success("Payment recorded"),e==null||e(),t("/admin/purchase-payments")}catch(C){me.error(C.message||"Failed to create payment")}},S=(A,C)=>{var O;const T=((O=x[A])==null?void 0:O.outstanding)??0;let D=C;C>T&&(me.warning("Amount exceeds outstanding balance"),D=T);const _=[...b];_[A].amount=isNaN(D)?0:D,a("details",_)};return n.jsxs("form",{onSubmit:s(j),className:"space-y-6 max-w-7xl m-auto mt-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6 max-w-7xl",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Details"}),n.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[n.jsx(Ur,{control:o,name:"paymentDate",render:({field:A})=>n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Payment Date"}),n.jsxs(sd,{children:[n.jsx(nd,{asChild:!0,children:n.jsxs(he,{type:"button",variant:"outline",className:"w-full justify-start",children:[n.jsx(Ta,{className:"mr-2 h-4 w-4"}),Gt(A.value??new Date,"dd/MM/yyyy")]})}),n.jsx(ad,{className:"p-0",align:"start",children:n.jsx(id,{mode:"single",selected:A.value,onSelect:C=>A.onChange(C),initialFocus:!0})})]}),l.paymentDate&&n.jsx("p",{className:"text-xs text-red-500",children:l.paymentDate.message})]})}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Vendor"}),n.jsxs(er,{value:y,onValueChange:A=>a("vendorId",A),children:[n.jsx(rr,{children:n.jsx(tr,{placeholder:"Select vendor"})}),n.jsx(sr,{children:f.map(A=>n.jsx(yt,{value:A.id.toString(),children:A.name},A.id))})]}),l.vendorId&&n.jsx("p",{className:"text-xs text-red-500",children:l.vendorId.message})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Purchases"}),x.length>0?n.jsx("div",{className:"overflow-x-auto border rounded-lg",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Purchase No"}),n.jsx("th",{className:"px-4 py-2 text-left",children:"Invoice No"}),n.jsx("th",{className:"px-4 py-2 text-center",children:"Purchase Date"}),n.jsx("th",{className:"px-4 py-2 text-center",children:"Invoice Date"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Amount"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Pay Amount"})]})}),n.jsx("tbody",{children:x.map((A,C)=>{var T;return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"px-4 py-2",children:A.purchaseNo}),n.jsx("td",{className:"px-4 py-2",children:A.invoiceNo}),n.jsx("td",{className:"px-4 py-2 text-center",children:Gt(new Date(A.purchaseDate),"dd/MM/yyyy")}),n.jsx("td",{className:"px-4 py-2 text-center",children:Gt(new Date(A.invoiceDate),"dd/MM/yyyy")}),n.jsx("td",{className:"px-4 py-2 text-right",children:(A.totalAmount??0).toFixed(2)}),n.jsx("td",{className:"px-4 py-2",children:n.jsx("div",{className:"flex justify-end",children:n.jsx(tt,{type:"number",step:"0.01",value:((T=b[C])==null?void 0:T.amount)||0,onChange:D=>S(C,parseFloat(D.target.value)),className:"w-32 text-right px-2 py-1 border rounded"})})})]},A.id)})})]})}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No purchases found"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Summary"}),n.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Mode"}),n.jsxs(er,{value:i("mode"),onValueChange:A=>a("mode",A),children:[n.jsx(rr,{className:"w-full",children:n.jsx(tr,{placeholder:"Select mode"})}),n.jsx(sr,{children:TRe.map(A=>n.jsx(yt,{value:A,children:A},A))})]}),l.mode&&n.jsx("p",{className:"text-xs text-red-500",children:l.mode.message})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Reference No"}),n.jsx(tt,{...r("referenceNo")})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Notes"}),n.jsx(tt,{...r("notes")})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(he,{type:"button",variant:"outline",onClick:()=>t(-1),disabled:u,children:"Cancel"}),n.jsxs(he,{type:"submit",disabled:u,className:"gap-2",children:[u?n.jsx(Zr,{className:"h-4 w-4 animate-spin"}):n.jsx(Zs,{className:"h-4 w-4"}),u?"Saving...":"Save Payment"]})]})]})},_Re=()=>{var x;const{id:e}=Ra(),{data:t,isLoading:r,isError:s}=Br({queryKey:["purchase-payment",e],queryFn:()=>jRe(Number(e)),enabled:!!e}),a=t==null?void 0:t.vendor.id,{data:i=[],isLoading:o}=Br({queryKey:["vendor-payments",a],enabled:!!a,queryFn:async()=>{const p=await mt("/api/admin/purchase-payments",{vendorId:a,limit:1e3});return Array.isArray(p)?p:(p==null?void 0:p.payments)||[]}}),{data:l=[],isLoading:u}=Br({queryKey:["vendor-purchases",a],enabled:!!a,queryFn:()=>fH(a)});(()=>{if(!a||o||u)return null;const p=i.reduce((b,w)=>b+parseFloat(w.totalAmount||"0"),0),y=i.reduce((b,w)=>{const j=new Date(w.paymentDate);return!b||j>b?j:b},null),N=l.reduce((b,w)=>{let j=0;w.totalAmt?j=parseFloat(w.totalAmt):Array.isArray(w.details)&&(j=w.details.reduce((A,C)=>A+parseFloat(C.purchaseRate||C.rate||"0")*(C.quantity||1),0));const S=parseFloat(w.paidAmt||"0");return b+Math.max(j-S,0)},0);return{totalPaid:p,lastPaymentDate:y,outstanding:N}})();const f=p=>p?p.totalAmt?parseFloat(p.totalAmt):Array.isArray(p.details)?p.details.reduce((y,N)=>y+parseFloat(N.purchaseRate||N.rate||"0")*(N.quantity||1),0):0:0;if(r)return n.jsx(kRe,{});if(s||!t)return n.jsx("div",{className:"container mx-auto p-6 text-destructive",children:"Error fetching payment details or payment not found."});const h=(()=>{if(Array.isArray(t.details)&&t.details.length>0){const p=t.details.reduce((y,N)=>{const b=N.purchase;return b&&b.paidAmt!==void 0&&b.paidAmt!==null?y+Number(b.paidAmt):y},0);if(p>0)return p}return parseFloat(t.totalAmount??"0")})();return n.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Payment Details"})}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.jsxs(At,{className:"lg:col-span-2",children:[n.jsx(Mt,{className:"bg-muted/50",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs(Zt,{className:"flex items-center gap-2",children:[n.jsx(Pc,{className:"h-6 w-6 text-primary"}),t.paymentno]}),n.jsx(mi,{className:"mt-2",children:"Payment Information"})]}),n.jsx(Pr,{className:"text-sm px-3 py-1",children:t.mode})]})}),n.jsxs(Dt,{className:"pt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(sw,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),n.jsx("p",{className:"font-medium",children:t.vendor.name})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(SE,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment Date"}),n.jsx("p",{className:"font-medium",children:Gt(new Date(t.paymentDate),"dd/MM/yyyy")})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(XX,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsx("p",{className:"font-medium text-xl",children:bs(h)})]})]}),t.referenceNo&&n.jsxs("div",{className:"flex items-start",children:[n.jsx(OI,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reference No"}),n.jsx("p",{className:"font-medium",children:t.referenceNo})]})]})]})]}),t.notes&&n.jsx("div",{className:"mt-6 pt-6 border-t",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(zX,{className:"h-5 w-5 mt-0.5 text-muted-foreground mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Notes"}),n.jsx("p",{className:"text-sm bg-muted/30 rounded-lg p-4",children:t.notes})]})]})})]})]})}),n.jsxs(At,{className:"mt-6",children:[n.jsxs(Mt,{children:[n.jsxs(Zt,{className:"flex items-center gap-2",children:[n.jsx(ln,{className:"h-5 w-5"}),"Invoices"]}),n.jsx(mi,{children:"Applied to purchase invoices"})]}),n.jsx(Dt,{children:n.jsxs(Ps,{children:[n.jsx(Ms,{className:"bg-muted/50",children:n.jsxs(Xt,{children:[n.jsx(Ke,{children:"Invoice No"}),n.jsx(Ke,{children:"Invoice Date"}),n.jsx(Ke,{children:"Purchase No"}),n.jsx(Ke,{className:"text-right",children:"Invoice Amount"}),n.jsx(Ke,{className:"text-right",children:"Amount Paid"})]})}),n.jsx(Is,{children:(x=t==null?void 0:t.details)==null?void 0:x.map(p=>{const y=l.find(w=>w.id===p.purchase.id),N=f(y||p.purchase),b=parseFloat(p.amount??"0");return n.jsxs(Xt,{className:"hover:bg-muted/30",children:[n.jsx(ze,{className:"font-medium",children:p.purchase.invoiceNo||p.purchase.purchaseNo}),n.jsx(ze,{children:Gt(new Date(p.purchase.invoiceDate||p.purchase.purchaseDate),"dd/MM/yyyy")}),n.jsx(ze,{children:p.purchase.purchaseNo}),n.jsx(ze,{className:"text-right",children:bs(N)}),n.jsx(ze,{className:"text-right font-medium",children:bs(b)})]},p.id)})}),n.jsx(Bde,{className:"bg-muted/30",children:n.jsxs(Xt,{className:"w-full justify-center",children:[n.jsx(ze,{colSpan:3,className:"text-center font-medium",children:"Total"}),n.jsx(ze,{className:"text-center font-bold",children:bs(parseFloat(t.totalAmount??"0"))}),n.jsx(ze,{})]})})]})})]})]})},kRe=()=>n.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx(Tt,{className:"h-8 w-64"}),n.jsx(Tt,{className:"h-6 w-32"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(At,{className:"lg:col-span-2",children:[n.jsxs(Mt,{className:"bg-muted/50",children:[n.jsx(Tt,{className:"h-6 w-3/4"}),n.jsx(Tt,{className:"h-4 w-1/2 mt-2"})]}),n.jsx(Dt,{className:"pt-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(Tt,{className:"h-4 w-1/3"}),n.jsx(Tt,{className:"h-6 w-full"})]},t))})})]}),n.jsxs(At,{children:[n.jsx(Mt,{children:n.jsx(Tt,{className:"h-6 w-2/3"})}),n.jsx(Dt,{children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsx(Tt,{className:"h-4 w-1/2"}),n.jsx(Tt,{className:"h-5 w-3/4"})]},t))})]})]}),n.jsxs(At,{className:"mt-6",children:[n.jsxs(Mt,{children:[n.jsx(Tt,{className:"h-6 w-1/4"}),n.jsx(Tt,{className:"h-4 w-1/3 mt-2"})]}),n.jsx(Dt,{children:n.jsx(Tt,{className:"h-64 w-full"})})]})]}),DRe=()=>{const[e,t]=g.useState(1),r=10,[s,a]=g.useState(""),[i,o]=g.useState(""),l=g.useRef(null),[u,f]=g.useState(null),h=g.useCallback(C=>{a(C.target.value)},[]);g.useEffect(()=>(l.current&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>o(s),400),()=>{l.current&&window.clearTimeout(l.current)}),[s]);const{data:x,isLoading:p,isError:y,refetch:N}=Br({queryKey:["transfers",e,i],queryFn:async()=>{let C=`/transfers?page=${e}&pageSize=${r}`;return i&&(C+=`&searchTerm=${i}`),mt(C)}}),b=(x==null?void 0:x.data)||[],w=(x==null?void 0:x.totalPages)||1,j=()=>{a(""),o(""),t(1)},S=C=>C.reduce((T,D)=>T+(D.quantity||0),0),A=async()=>{if(u)try{await Hn(`/transfers/${u}`),me.success("Transfer deleted successfully"),N(),f(null)}catch(C){me.error(C.message||"Failed to delete transfer")}};return p?n.jsx("div",{className:"p-10 text-center",children:"Loading transfers..."}):y?n.jsx("div",{className:"p-10 text-center",children:"Error loading transfers"}):n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs(At,{className:"mb-6",children:[n.jsxs(Mt,{className:"flex flex-row items-center justify-between pb-4",children:[n.jsx(Zt,{className:"text-2xl",children:"Transfer Management"}),n.jsx(Rr,{to:"/admin/transfers/create",children:n.jsxs(he,{children:[n.jsx(vn,{className:"mr-2 size-4"})," New Transfer"]})})]}),n.jsxs(Dt,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsx(tt,{placeholder:"Search by TFR no, from/to depot...",value:s,onChange:h}),n.jsx(he,{onClick:j,variant:"outline",children:"Clear Filters"})]}),b.length===0?n.jsx("div",{className:"py-10 text-center",children:"No transfers found."}):n.jsxs(Ps,{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[n.jsx(Ms,{className:"bg-gray-100",children:n.jsxs(Xt,{children:[n.jsx(Ke,{className:"px-6 py-3",children:"Transfer No"}),n.jsx(Ke,{className:"px-6 py-3",children:"Date"}),n.jsx(Ke,{className:"px-6 py-3",children:"From Depot"}),n.jsx(Ke,{className:"px-6 py-3",children:"To Depot"}),n.jsx(Ke,{className:"px-6 py-3 text-right",children:"Total Qty"}),n.jsx(Ke,{className:"px-6 py-3",children:"Actions"})]})}),n.jsx(Is,{className:"divide-y",children:b.map(C=>n.jsxs(Xt,{className:"hover:bg-gray-50",children:[n.jsx(ze,{className:"px-6 py-4 font-medium",children:C.transferNo}),n.jsx(ze,{className:"px-6 py-4",children:Gt(new Date(C.transferDate),"dd/MM/yyyy")}),n.jsx(ze,{className:"px-6 py-4",children:C.fromDepot.name}),n.jsx(ze,{className:"px-6 py-4",children:C.toDepot.name}),n.jsx(ze,{className:"px-6 py-4 text-right",children:S(C.details)}),n.jsxs(ze,{className:"px-6 py-4 space-x-2",children:[n.jsx(Rr,{to:`/admin/transfers/edit/${C.id}`,children:n.jsx(he,{size:"icon",variant:"ghost",children:n.jsx(_T,{className:"size-4"})})}),n.jsxs(aa,{children:[n.jsx(ph,{asChild:!0,children:n.jsx(he,{size:"icon",variant:"ghost",onClick:()=>f(C.id),children:n.jsx(fn,{className:"size-4"})})}),n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Are you sure?"}),n.jsx(da,{children:"This action cannot be undone. This will permanently delete the transfer and remove its data from our servers."})]}),n.jsxs(la,{children:[n.jsx(fa,{onClick:()=>f(null),children:"Cancel"}),n.jsx(ua,{onClick:A,children:"Continue"})]})]})]})]})]},C.id))})]}),w>1&&n.jsx(Q0,{className:"mt-6",children:n.jsxs(Z0,{children:[n.jsx(J0,{onClick:()=>t(C=>Math.max(1,C-1))}),n.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",e," of ",w]}),n.jsx(ep,{onClick:()=>t(C=>Math.min(w,C+1))})]})})]})]})})},hH=e=>ws({transferDate:zc(),fromDepotId:e?ct().optional():ct().min(1,"Origin depot is required"),toDepotId:ct().min(1,"Destination depot is required"),notes:ct().optional(),details:lh(ws({fromDepotVariantId:ct().min(1,"Source variant is required"),toDepotVariantId:ct().min(1,"Destination variant is required"),quantity:xi().min(1,"Quantity must be at least 1")})).min(1,"Add at least one line item")}).refine(t=>t.fromDepotId!==t.toDepotId,{message:"Origin and destination depots cannot be the same",path:["toDepotId"]});hH(!0);function q6(e){return e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function z6(e){return!!e&&!isNaN(e.getTime())}function ORe({value:e,onChange:t,label:r,id:s,fromDate:a}){const[i,o]=g.useState(!1),[l,u]=g.useState(e),[f,h]=g.useState(q6(e));return g.useEffect(()=>{h(q6(e)),z6(e)&&u(e)},[e]),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx(Te,{htmlFor:s,children:r}),n.jsxs("div",{className:"relative flex gap-2",children:[n.jsx(tt,{id:s,value:f,placeholder:"dd/mm/yyyy",className:"pr-10",onChange:x=>{const p=x.target.value;h(p);const y=new Date(p);z6(y)?(t(y),u(y)):t(void 0)}}),n.jsxs(sd,{open:i,onOpenChange:o,children:[n.jsx(nd,{asChild:!0,children:n.jsx(he,{variant:"ghost",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8",children:n.jsx(Ta,{className:"size-4"})})}),n.jsx(ad,{className:"w-auto p-0",children:n.jsx(id,{mode:"single",selected:e,onSelect:x=>{t(x),o(!1)},initialFocus:!0,month:l,onMonthChange:u,fromDate:a})})]})]})]})}const mH=({mode:e,transferId:t,initialData:r,onSuccess:s})=>{var F;const a=qn(),i=jr(),o=localStorage.getItem("user"),l=o?JSON.parse(o):null,u=((F=l==null?void 0:l.role)==null?void 0:F.toLowerCase().includes("depot"))??!1,f=l!=null&&l.depotId?String(l.depotId):"",[h,x]=g.useState([]),[p,y]=g.useState([]),[N,b]=g.useState([]),{control:w,handleSubmit:j,register:S,watch:A,setValue:C,formState:{errors:T}}=Js({resolver:en(hH(u)),defaultValues:{transferDate:new Date,details:[{fromDepotVariantId:"",toDepotVariantId:"",quantity:1}],...r,fromDepotId:u?f:(r==null?void 0:r.fromDepotId)||""}}),{fields:D,append:_,remove:O}=yy({control:w,name:"details"}),P=A("fromDepotId"),B=A("toDepotId"),I=h.filter(X=>String(X.id)!==P);g.useEffect(()=>{P&&P===B&&C("toDepotId","")},[P,B,C]),g.useEffect(()=>{(async()=>{try{const q=await mt("/depots");x(q.data||[])}catch(q){console.error("Failed to fetch depots",q),me.error("Failed to load depots.")}})()},[]),g.useEffect(()=>{if(!P){y([]),D.forEach((q,te)=>{C(`details.${te}.fromDepotVariantId`,""),C(`details.${te}.toDepotVariantId`,"")});return}(async()=>{try{const te=((await mt(`/depot-product-variants?depotId=${P}&include=product,stock`)).data||[]).map(M=>({id:M.id,name:M.name,productId:M.productId,productName:M.product?M.product.name:"N/A",closingStock:M.closingQty??0}));y(te)}catch(q){console.error("Failed to fetch source variants",q),me.error("Failed to load variants for the source depot."),y([])}})()},[P]),g.useEffect(()=>{if(!B){b([]),D.forEach((q,te)=>{C(`details.${te}.toDepotVariantId`,"")});return}(async()=>{var q;try{const te=await mt(`/depot-product-variants?depotId=${B}&include=product,stock`),M=Array.isArray(te.data)?te.data:((q=te.data)==null?void 0:q.data)||[],W=M==null?void 0:M.map(K=>({id:K.id,name:K.name,productId:K.productId,productName:K.product?K.product.name:"N/A",closingStock:K.closingQty??0}));b(W)}catch(te){console.error("Failed to fetch destination variants",te),me.error("Failed to load variants for the destination depot."),b([])}})()},[B]);const G=X=>X?`${X.getFullYear()}-${String(X.getMonth()+1).padStart(2,"0")}-${String(X.getDate()).padStart(2,"0")}`:void 0,L=Gr({mutationFn:X=>{const q=e==="edit"?`/transfers/${t}`:"/transfers";return(e==="edit"?un:$r)(q,{...X,fromDepotId:u?f:X.fromDepotId,transferDate:G(X.transferDate),details:X.details.map(M=>({...M,fromDepotVariantId:Number(M.fromDepotVariantId),toDepotVariantId:Number(M.toDepotVariantId),quantity:Number(M.quantity)}))})},onSuccess:()=>{a.invalidateQueries({queryKey:["transfers"]}),me.success(`Transfer ${e==="edit"?"updated":"created"} successfully.`),s&&s(),i("/admin/transfers")},onError:X=>{var q,te;me.error(((te=(q=X.response)==null?void 0:q.data)==null?void 0:te.message)||"An error occurred.")}}),U=X=>{for(const q of X.details){const te=p.find(M=>String(M.id)===q.fromDepotVariantId);if(te&&q.quantity>te.closingStock){me.error(`Quantity for ${te.productName} - ${te.name} exceeds available stock.`);return}}L.mutate(X)};return n.jsxs("form",{onSubmit:j(U),className:"space-y-6",children:[n.jsxs(At,{children:[n.jsx(Mt,{children:n.jsx(Zt,{children:"General Information"})}),n.jsxs(Dt,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ur,{control:w,name:"transferDate",render:({field:X})=>n.jsx(ORe,{value:X.value,onChange:X.onChange,label:"Transfer Date",id:"transferDate"})}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx(Te,{children:"From Depot"}),n.jsx(Ur,{control:w,name:"fromDepotId",render:({field:X})=>n.jsxs(er,{value:X.value,onValueChange:X.onChange,disabled:u,children:[n.jsx(rr,{children:n.jsx(tr,{placeholder:"Select Origin Depot"})}),n.jsx(sr,{children:h.map(q=>n.jsx(yt,{value:String(q.id),children:q.name},q.id))})]})}),T.fromDepotId&&n.jsx("p",{className:"text-sm text-red-600",children:T.fromDepotId.message})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx(Te,{children:"To Depot"}),n.jsx(Ur,{control:w,name:"toDepotId",render:({field:X})=>n.jsxs(er,{value:X.value,onValueChange:X.onChange,children:[n.jsx(rr,{children:n.jsx(tr,{placeholder:"Select Destination Depot"})}),n.jsx(sr,{children:I.map(q=>n.jsx(yt,{value:String(q.id),children:q.name},q.id))})]})}),T.toDepotId&&n.jsx("p",{className:"text-sm text-red-600",children:T.toDepotId.message})]}),n.jsxs("div",{className:"flex flex-col gap-3 md:col-span-2",children:[n.jsx(Te,{htmlFor:"notes",children:"Notes"}),n.jsx(Zf,{id:"notes",...S("notes")})]})]})]}),n.jsxs(At,{children:[n.jsxs(Mt,{className:"flex-row items-center justify-between",children:[n.jsx(Zt,{children:"Items"}),n.jsxs(he,{type:"button",variant:"outline",size:"sm",onClick:()=>_({fromDepotVariantId:"",toDepotVariantId:"",quantity:1}),children:[n.jsx(vn,{className:"size-4 mr-2"})," Add Item"]})]}),n.jsxs(Dt,{children:[n.jsx("div",{className:"space-y-4",children:D.map((X,q)=>{const te=A(`details.${q}.fromDepotVariantId`),M=p.find(K=>String(K.id)===te),W=M?N.filter(K=>K.productId===M.productId):[];return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 border p-4 rounded-md",children:[n.jsxs("div",{className:"md:col-span-5",children:[n.jsx(Te,{className:"mb-2",children:"Source Variant"}),n.jsx(Ur,{control:w,name:`details.${q}.fromDepotVariantId`,render:({field:K})=>n.jsxs(er,{value:K.value,onValueChange:K.onChange,children:[n.jsx(rr,{className:"w-full",children:n.jsx(tr,{placeholder:"Select Source Variant"})}),n.jsx(sr,{children:p.map(V=>n.jsx(yt,{value:String(V.id),children:`${V.productName} - ${V.name} (Stock: ${V.closingStock})`},V.id))})]})})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx(Te,{className:"mb-2",children:"Destination Variant"}),n.jsx(Ur,{control:w,name:`details.${q}.toDepotVariantId`,render:({field:K})=>n.jsxs(er,{value:K.value,onValueChange:K.onChange,disabled:!M,children:[n.jsx(rr,{className:"w-full",children:n.jsx(tr,{placeholder:"Select Destination Variant"})}),n.jsx(sr,{children:W.map(V=>n.jsx(yt,{value:String(V.id),children:`${V.productName} - ${V.name} (Stock: ${V.closingStock})`},V.id))})]})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Te,{className:"mb-2",children:"Quantity"}),n.jsx(tt,{type:"number",...S(`details.${q}.quantity`,{valueAsNumber:!0})})]}),n.jsx("div",{className:"md:col-span-2 flex items-end justify-between gap-2",children:n.jsxs(aa,{children:[n.jsx(ph,{asChild:!0,children:n.jsx(he,{type:"button",size:"icon",variant:"ghost",children:n.jsx(fn,{className:"size-4 text-red-500"})})}),n.jsxs(ia,{children:[n.jsxs(oa,{children:[n.jsx(ca,{children:"Remove item?"}),n.jsx(da,{children:"This will remove the selected line item from the transfer."})]}),n.jsxs(la,{children:[n.jsx(fa,{children:"Cancel"}),n.jsx(ua,{onClick:()=>O(q),children:"Continue"})]})]})]})})]},X.id)})}),T.details&&n.jsx("p",{className:"text-sm text-red-600 mt-2",children:"message"in T.details?T.details.message:null})]})]}),n.jsx("div",{className:"text-right",children:n.jsx(he,{type:"submit",disabled:L.isPending,children:"Save Transfer"})})]})};function RRe(){return n.jsx("div",{className:"container mx-auto space-y-6",children:n.jsxs(At,{children:[n.jsx(Mt,{}),n.jsx(Dt,{children:n.jsx(mH,{mode:"create"})})]})})}function PRe(e){return e?{transferNo:e.transferNo,transferDate:e.transferDate?new Date(e.transferDate):void 0,fromDepotId:String(e.fromDepotId),toDepotId:String(e.toDepotId),notes:e.notes||"",details:(e.details||[]).map(t=>({fromDepotVariantId:String(t.fromDepotVariantId),toDepotVariantId:String(t.toDepotVariantId),quantity:t.quantity}))}:{}}function MRe(){const{id:e}=Ra(),{data:t,isLoading:r,isError:s}=Br({queryKey:["transfer",e],queryFn:()=>mt(`/transfers/${e}`),enabled:!!e});return r?n.jsx("div",{className:"flex items-center justify-center h-40",children:n.jsx(Zr,{className:"animate-spin"})}):s||!t?(me.error("Failed to load transfer"),null):n.jsx("div",{className:"container mx-auto space-y-6",children:n.jsxs(At,{children:[n.jsx(Mt,{}),n.jsx(Dt,{children:e&&n.jsx(mH,{mode:"edit",transferId:e,initialData:PRe(t.data)})})]})})}const IRe=()=>{const[e,t]=g.useState(new Date),{data:r,isLoading:s,error:a}=Br({queryKey:["depotOrderDetails",e],queryFn:async()=>{if(!e)return[];const o=Gt(e,"yyyy-MM-dd");return(await Rs.get(`/api/vendor-orders/details?date=${o}`)).data},enabled:!!e}),i=(r==null?void 0:r.reduce((o,l)=>{const{depotName:u}=l;return o[u]||(o[u]=[]),o[u].push(l),o},{}))??{};return n.jsx("div",{className:"container mx-auto p-4",children:n.jsxs(At,{children:[n.jsx(Mt,{children:n.jsx(Zt,{children:"Depot Order Details by Date"})}),n.jsxs(Dt,{children:[n.jsx("div",{className:"mb-4",children:n.jsxs(sd,{children:[n.jsx(nd,{asChild:!0,children:n.jsxs(he,{variant:"outline",className:"w-[280px] justify-start text-left font-normal",children:[n.jsx(Ta,{className:"mr-2 h-4 w-4"}),e?Gt(e,"PPP"):n.jsx("span",{children:"Pick a date"})]})}),n.jsx(ad,{className:"w-auto p-0",children:n.jsx(id,{mode:"single",selected:e,onSelect:t,initialFocus:!0})})]})}),s&&n.jsx("p",{children:"Loading..."}),a&&n.jsxs("p",{children:["Error fetching data: ",a.message]}),Object.entries(i).map(([o,l])=>n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-2",children:o}),n.jsxs(Ps,{children:[n.jsx(Ms,{children:n.jsxs(Xt,{children:[n.jsx(Ke,{children:"Product"}),n.jsx(Ke,{children:"Variant"}),n.jsx(Ke,{children:"Effective Price"}),n.jsx(Ke,{children:"Total Quantity"})]})}),n.jsx(Is,{children:l.map(u=>n.jsxs(Xt,{children:[n.jsx(ze,{children:u.productName}),n.jsx(ze,{children:u.variantName}),n.jsx(ze,{children:u.effectivePrice!==null?u.effectivePrice:"N/A"}),n.jsx(ze,{children:u.totalQuantity})]},u.depotVariantId))})]})]},o))]})]})})},FRe=()=>(g.useEffect(()=>{document.title=Gx},[]),n.jsxs(MK,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:[n.jsx(FK,{}),n.jsx(yse,{richColors:!0,position:"top-center"}),n.jsx(mK,{children:n.jsxs(qY,{children:[n.jsx(St,{path:"/",element:n.jsx(HP,{}),children:n.jsx(St,{path:"products/:id",element:n.jsx(ZAe,{})})}),n.jsxs(St,{element:n.jsx(LK,{}),children:[n.jsx(St,{path:"/admin",element:n.jsx(lR,{})}),n.jsx(St,{path:"/admin/register",element:n.jsx(cR,{})})," ",n.jsx(St,{path:"/forgot-password",element:n.jsx(Pme,{})}),n.jsx(St,{path:"/reset-password/:token",element:n.jsx(Ime,{})})]}),n.jsxs(St,{element:n.jsx(rA,{}),children:[n.jsx(St,{path:"/",element:n.jsx(HP,{})}),n.jsx(St,{path:"/login",element:n.jsx(lR,{})}),n.jsx(St,{path:"/about",element:n.jsx(Ybe,{})}),n.jsx(St,{path:"/bharwadcow",element:n.jsx(Xbe,{})}),n.jsx(St,{path:"/contact",element:n.jsx(Qbe,{})}),n.jsx(St,{path:"/gratitude",element:n.jsx(Zbe,{})}),n.jsx(St,{path:"/privacy-policy",element:n.jsx(Jbe,{})}),n.jsx(St,{path:"/refund-policy",element:n.jsx(ewe,{})}),n.jsx(St,{path:"/shipping-policy",element:n.jsx(twe,{})}),n.jsx(St,{path:"/terms-and-conditions",element:n.jsx(rwe,{})}),n.jsx(St,{path:"/register",element:n.jsx(cR,{})})]}),n.jsxs(St,{element:n.jsx(ale,{children:n.jsx(w5,{})}),children:[n.jsx(St,{path:"/admin/dashboard",element:n.jsxs("div",{className:"space-y-4 ml-4",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),n.jsx("p",{children:"Welcome to your dashboard. Here you can manage orders."})]})}),n.jsx(St,{path:"/admin/users",element:n.jsx(Ppe,{})}),n.jsx(St,{path:"/admin/variantstock",element:n.jsx(Dme,{})}),n.jsx(St,{path:"/admin/users/create",element:n.jsx(wb,{mode:"create"})}),n.jsx(St,{path:"/admin/users/edit/:id",element:n.jsx(wb,{mode:"edit"})}),n.jsx(St,{path:"/admin/vendors",element:n.jsx($pe,{})}),n.jsx(St,{path:"/admin/wastages",element:n.jsx(Jfe,{})}),n.jsx(St,{path:"/admin/wastages/create",element:n.jsx(Tme,{})}),n.jsx(St,{path:"/admin/wastages/edit/:id",element:n.jsx(Cme,{})}),n.jsx(St,{path:"/admin/transfers",element:n.jsx(DRe,{})}),n.jsx(St,{path:"/admin/transfers/create",element:n.jsx(RRe,{})}),n.jsx(St,{path:"/admin/transfers/edit/:id",element:n.jsx(MRe,{})}),n.jsx(St,{path:"/admin/vendors/create",element:n.jsx(exe,{})}),n.jsx(St,{path:"/admin/vendors/edit/:id",element:n.jsx(rxe,{})}),n.jsx(St,{path:"/admin/agencies",element:n.jsx(zpe,{})}),n.jsx(St,{path:"/admin/agencies/create",element:n.jsx(ixe,{})}),n.jsx(St,{path:"/admin/agencies/edit/:id",element:n.jsx(oxe,{})}),n.jsx(St,{path:"/admin/orders",element:n.jsx(SR,{})}),n.jsx(St,{path:"/admin/orders/create",element:n.jsx(dxe,{})}),n.jsx(St,{path:"/admin/orders/:id",element:n.jsx(NS,{})}),n.jsx(St,{path:"/admin/orders/:id/edit",element:n.jsx(uxe,{})}),n.jsx(St,{path:"/admin/orders/:id/record-receipt",element:n.jsx(bxe,{})})," ",n.jsx(St,{path:"/admin/purchases",element:n.jsx(gRe,{})}),n.jsx(St,{path:"/admin/purchases/create",element:n.jsx(vRe,{})}),n.jsx(St,{path:"/admin/purchases/edit/:id",element:n.jsx(bRe,{})}),n.jsx(St,{path:"/admin/purchase-payments",element:n.jsx(ERe,{})}),n.jsx(St,{path:"/admin/purchase-payments/create",element:n.jsx(CRe,{})}),n.jsx(St,{path:"/admin/purchase-payments/:id",element:n.jsx(_Re,{})}),n.jsx(St,{path:"/admin/products",element:n.jsx(Nxe,{})}),n.jsx(St,{path:"/admin/wallet",element:n.jsx(v5e,{})}),n.jsx(St,{path:"/admin/members",element:n.jsx(w5e,{})})," ",n.jsx(St,{path:"/admin/members/:memberId/edit",element:n.jsx(Ipe,{})})," ",n.jsx(St,{path:"/admin/products/create",element:n.jsx(XAe,{})}),n.jsx(St,{path:"/admin/products/edit/:id",element:n.jsx(QAe,{})}),n.jsx(St,{path:"/admin/products/:id",element:n.jsx(Tg,{})})," ",n.jsx(St,{path:"/admin/subscriptions",element:n.jsx(TTe,{})}),n.jsx(St,{path:"/depot-order-details",element:n.jsx(IRe,{})})," ",n.jsx(St,{path:"/admin/delivery",element:n.jsx(y5e,{})})," ",n.jsx(St,{path:"/admin/categories",element:n.jsx(O5e,{})})," ",n.jsx(St,{path:"/admin/cities",element:n.jsx($5e,{})}),n.jsx(St,{path:"/admin/locations",element:n.jsx(Y5e,{})}),n.jsx(St,{path:"/admin/areamasters",element:n.jsx(j5e,{})})," ",n.jsx(St,{path:"/admin/depots",element:n.jsx(Q5e,{})})," ",n.jsx(St,{path:"/admin/teams",element:n.jsx(lRe,{})})," ",n.jsx(St,{path:"/admin/banners",element:n.jsx(hRe,{})})," ",n.jsx(St,{path:"/admin/depot-variants",element:n.jsx(aRe,{})})," "]}),n.jsxs(St,{element:n.jsx(w5,{}),children:[n.jsx(St,{path:"/vendor/orders/:id",element:n.jsx(NS,{})}),n.jsx(St,{path:"/vendor/orders/:id/record-delivery",element:n.jsx(fxe,{})})]}),n.jsxs(St,{element:n.jsx(rA,{}),children:[n.jsx(St,{path:"/member/orders",element:n.jsx(SR,{})}),n.jsx(St,{path:"/member/orders/:id",element:n.jsx(NS,{})}),n.jsx(St,{path:"/member/products",element:n.jsx(tTe,{})})," ",n.jsx(St,{path:"/member/products/:id",element:n.jsx(Tg,{})})," ",n.jsx(St,{path:"/member/profile",element:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Profile Management"}),n.jsx("p",{children:"Manage your personal information and preferences here."})]})}),n.jsx(St,{path:"/member/addresses",element:n.jsx(sTe,{})}),n.jsx(St,{path:"/member/wallet",element:n.jsx(xRe,{})}),n.jsx(St,{path:"/member/addresses/create",element:n.jsx(aTe,{})}),n.jsx(St,{path:"/member/addresses/edit/:id",element:n.jsx(iTe,{})}),n.jsx(St,{path:"/member/subscriptions",element:n.jsx(pxe,{})}),n.jsx(St,{path:"/manage-subscription/:id",element:n.jsx(vxe,{})})]})]})})]})),LRe=new uI;yG.createRoot(document.getElementById("root")).render(n.jsx(g.StrictMode,{children:n.jsx(LG,{client:LRe,children:n.jsx(FRe,{})})}))});export default BRe();
